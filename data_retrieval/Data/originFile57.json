{"items":[{"tags":["java","tomcat","session-replication"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1650521970,"post_id":71949479,"comment_id":127138190,"body_markdown":"ANd what isn&#39;t working? You get errors, no replication or what?","body":"ANd what isn&#39;t working? You get errors, no replication or what?"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1650522748,"post_id":71949479,"comment_id":127138393,"body_markdown":"@M.Deinum I have edited my question. Can you please check it.","body":"@M.Deinum I have edited my question. Can you please check it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650523176,"post_id":71949479,"comment_id":127138491,"body_markdown":"Did you configure nginx properly, which is that it goes randomly to server 1 or 2 and not has session affinity or something alike configured.","body":"Did you configure nginx properly, which is that it goes randomly to server 1 or 2 and not has session affinity or something alike configured."},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1650784002,"post_id":71949479,"comment_id":127200275,"body_markdown":"@M.Deinum I have added Nginx configuration. And with this same configuration, another project is working fine. But mine one is not working.","body":"@M.Deinum I have added Nginx configuration. And with this same configuration, another project is working fine. But mine one is not working."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1650865447,"post_id":71949479,"comment_id":127214994,"body_markdown":"I&#39;m not that good at Nginx so I cannot comment on that. But the fact that a config works for X doesn&#39;t mean it works for Y. If there are version differences, network differences etc. things can (and will) act differently.","body":"I&#39;m not that good at Nginx so I cannot comment on that. But the fact that a config works for X doesn&#39;t mean it works for Y. If there are version differences, network differences etc. things can (and will) act differently."}],"answers":[{"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":2,"creation_date":1655764201,"post_id":72686170,"comment_id":128404609,"body_markdown":"This should be a comment, not an answer. I do understand that you cannot make comments yet due your reputation score, but please refrain from asking question in an answer if you&#39;re not providing a possible solution (You can rephrase your questions as examples, so it is better suited as an answer). I recommend you bookmark this and try to get enough reputation to ask for clarification properly, as a comment.","body":"This should be a comment, not an answer. I do understand that you cannot make comments yet due your reputation score, but please refrain from asking question in an answer if you&#39;re not providing a possible solution (You can rephrase your questions as examples, so it is better suited as an answer). I recommend you bookmark this and try to get enough reputation to ask for clarification properly, as a comment."},{"owner":{"account_id":23718320,"reputation":1,"user_id":17739172,"display_name":"Jack Wong"},"score":0,"creation_date":1655783743,"post_id":72686170,"comment_id":128407170,"body_markdown":"@JettoMart&#237;nez I have edit my answer to provide possible solutions","body":"@JettoMart&#237;nez I have edit my answer to provide possible solutions"}],"tags":[],"owner":{"account_id":23718320,"reputation":1,"user_id":17739172,"display_name":"Jack Wong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655783685,"creation_date":1655723284,"answer_id":72686170,"question_id":71949479,"body_markdown":"There are a few possible solutions:\r\n1. Set jvmRoute in Engine tag\r\n2. Change backup manager to delta manager\r\n3. Change Multicast to Static membership\r\n\r\nI am not familiar with Nginx, but seems that Nginx is not redirecting requests according to jessionid.","title":"Tomcat clustering mechanism and session replication is not working on tomcat 8.5.78","body":"<p>There are a few possible solutions:</p>\n<ol>\n<li>Set jvmRoute in Engine tag</li>\n<li>Change backup manager to delta manager</li>\n<li>Change Multicast to Static membership</li>\n</ol>\n<p>I am not familiar with Nginx, but seems that Nginx is not redirecting requests according to jessionid.</p>\n"},{"tags":[],"owner":{"account_id":29677225,"reputation":1,"user_id":22744839,"display_name":"Chiranjib Texasai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700161662,"creation_date":1700161662,"answer_id":77497449,"question_id":71949479,"body_markdown":"You can also use memcache session manager to solve your issue. Please refer the link for description \r\n[memcache session manager][1]\r\n\r\nAnd set up information can be found on this link\r\n[Setup and configuration][2]\r\n\r\n\r\n  [1]: https://github.com/magro/memcached-session-manager/wiki\r\n  [2]: https://github.com/magro/memcached-session-manager/wiki/SetupAndConfiguration#overview-over-available-system-properties-all-optional","title":"Tomcat clustering mechanism and session replication is not working on tomcat 8.5.78","body":"<p>You can also use memcache session manager to solve your issue. Please refer the link for description\n<a href=\"https://github.com/magro/memcached-session-manager/wiki\" rel=\"nofollow noreferrer\">memcache session manager</a></p>\n<p>And set up information can be found on this link\n<a href=\"https://github.com/magro/memcached-session-manager/wiki/SetupAndConfiguration#overview-over-available-system-properties-all-optional\" rel=\"nofollow noreferrer\">Setup and configuration</a></p>\n"}],"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700161662,"creation_date":1650519999,"question_id":71949479,"body_markdown":"I am working on a project where I need to replicate sessions on two different tomcats. I configured Nginx as a load balancer. Configured two tomcats to make two different nodes. \r\n\r\n\r\n**My requirement**: Suppose two nodes are running and the session of node one is replicated in node two. And end-user is getting response from node one. If node one is down then the user will not get session out and continue with node two with the same session.\r\n\r\n**Whats happening now**: Two nodes are running and session is replicated to both nodes. User getting response from node one. Node one down and user gets a session-out message. \r\n\r\n\r\n\r\nI configured the tomcat clustering mechanism like tomcat documentation from this [site][1]\r\n I configured tomcat 1&#39;s `server.xml` file like \r\n\r\n    &lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;\r\n                     channelSendOptions=&quot;6&quot;&gt;\r\n    \r\n              &lt;Manager className=&quot;org.apache.catalina.ha.session.BackupManager&quot;\r\n                       expireSessionsOnShutdown=&quot;false&quot;\r\n                       notifyListenersOnReplication=&quot;true&quot;\r\n                       mapSendOptions=&quot;6&quot;/&gt;\r\n              &lt;!--\r\n              &lt;Manager className=&quot;org.apache.catalina.ha.session.DeltaManager&quot;\r\n                       expireSessionsOnShutdown=&quot;false&quot;\r\n                       notifyListenersOnReplication=&quot;true&quot;/&gt;\r\n              --&gt;\r\n              &lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;\r\n                &lt;Membership className=&quot;org.apache.catalina.tribes.membership.McastService&quot;\r\n                            address=&quot;228.0.0.4&quot;\r\n                            port=&quot;45564&quot;\r\n                            frequency=&quot;500&quot;\r\n                            dropTime=&quot;3000&quot;/&gt;\r\n                &lt;Receiver className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;\r\n                          address=&quot;auto&quot;\r\n                          port=&quot;5000&quot;\r\n                          selectorTimeout=&quot;100&quot;\r\n                          maxThreads=&quot;6&quot;/&gt;\r\n    \r\n                &lt;Sender className=&quot;org.apache.catalina.tribes.transport.ReplicationTransmitter&quot;&gt;\r\n                  &lt;Transport className=&quot;org.apache.catalina.tribes.transport.nio.PooledParallelSender&quot;/&gt;\r\n                &lt;/Sender&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.TcpFailureDetector&quot;/&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor&quot;/&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor&quot;/&gt;\r\n              &lt;/Channel&gt;\r\n    \r\n              &lt;Valve className=&quot;org.apache.catalina.ha.tcp.ReplicationValve&quot;\r\n                     filter=&quot;.*\\.gif|.*\\.js|.*\\.jpeg|.*\\.jpg|.*\\.png|.*\\.htm|.*\\.html|.*\\.css|.*\\.txt&quot;/&gt;\r\n    \r\n              &lt;Deployer className=&quot;org.apache.catalina.ha.deploy.FarmWarDeployer&quot;\r\n                        tempDir=&quot;/tmp/war-temp/&quot;\r\n                        deployDir=&quot;/tmp/war-deploy/&quot;\r\n                        watchDir=&quot;/tmp/war-listen/&quot;\r\n                        watchEnabled=&quot;false&quot;/&gt;\r\n    \r\n              &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;\r\n            &lt;/Cluster&gt;\r\n\r\n\r\nAnd tomcat 2&#39;s `server.xml` file like\r\n\r\n \r\n\r\n    &lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;\r\n                     channelSendOptions=&quot;6&quot;&gt;\r\n    \r\n              &lt;Manager className=&quot;org.apache.catalina.ha.session.BackupManager&quot;\r\n                       expireSessionsOnShutdown=&quot;false&quot;\r\n                       notifyListenersOnReplication=&quot;true&quot;\r\n                       mapSendOptions=&quot;6&quot;/&gt;\r\n              &lt;!--\r\n              &lt;Manager className=&quot;org.apache.catalina.ha.session.DeltaManager&quot;\r\n                       expireSessionsOnShutdown=&quot;false&quot;\r\n                       notifyListenersOnReplication=&quot;true&quot;/&gt;\r\n              --&gt;\r\n              &lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;\r\n                &lt;Membership className=&quot;org.apache.catalina.tribes.membership.McastService&quot;\r\n                            address=&quot;228.0.0.4&quot;\r\n                            port=&quot;45564&quot;\r\n                            frequency=&quot;500&quot;\r\n                            dropTime=&quot;3000&quot;/&gt;\r\n                &lt;Receiver className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;\r\n                          address=&quot;auto&quot;\r\n                          port=&quot;5001&quot;\r\n                          selectorTimeout=&quot;100&quot;\r\n                          maxThreads=&quot;6&quot;/&gt;\r\n    \r\n                &lt;Sender className=&quot;org.apache.catalina.tribes.transport.ReplicationTransmitter&quot;&gt;\r\n                  &lt;Transport className=&quot;org.apache.catalina.tribes.transport.nio.PooledParallelSender&quot;/&gt;\r\n                &lt;/Sender&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.TcpFailureDetector&quot;/&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor&quot;/&gt;\r\n                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor&quot;/&gt;\r\n              &lt;/Channel&gt;\r\n    \r\n              &lt;Valve className=&quot;org.apache.catalina.ha.tcp.ReplicationValve&quot;\r\n                     filter=&quot;.*\\.gif|.*\\.js|.*\\.jpeg|.*\\.jpg|.*\\.png|.*\\.htm|.*\\.html|.*\\.css|.*\\.txt&quot;/&gt;\r\n    \r\n              &lt;Deployer className=&quot;org.apache.catalina.ha.deploy.FarmWarDeployer&quot;\r\n                        tempDir=&quot;/tmp/war-temp/&quot;\r\n                        deployDir=&quot;/tmp/war-deploy/&quot;\r\n                        watchDir=&quot;/tmp/war-listen/&quot;\r\n                        watchEnabled=&quot;false&quot;/&gt;\r\n    \r\n              &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;\r\n            &lt;/Cluster&gt;\r\n\r\nMy `web.xml` file of my spring project is \r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    \t      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    \r\n      &lt;display-name&gt;Enterprise Web App&lt;/display-name&gt;\r\n    \r\n    \r\n\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name &gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;\r\n                org.springframework.web.context.request.RequestContextListener\r\n            &lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        &lt;!--start real ip filter for ngnix--&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;RealIPFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;com.brainstation.corporate.ib.webapp.provider.ip.RealIPFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;RealIPFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n        &lt;!--end real ip filter for ngnix--&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;web-app&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;\r\n                org.springframework.web.servlet.DispatcherServlet\r\n            &lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;web-app&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n            &lt;param-value&gt;dev&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;0&lt;/session-timeout&gt;\r\n            &lt;cookie-config&gt;\r\n                &lt;name&gt;EB_JSESSIONID&lt;/name&gt;\r\n                &lt;http-only&gt;true&lt;/http-only&gt;\r\n            &lt;/cookie-config&gt;\r\n            &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n        &lt;/session-config&gt;\r\n    \r\n        &lt;distributable/&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nAnd my nginx configuration on `/etc/nginx/sites-available/default` file\r\n\r\n\r\n        upstream backend {\r\n                ip_hash;\r\n                server localhost:7070 max_fails=3 fail_timeout=10s;\r\n                server localhost:7080 max_fails=3 fail_timeout=10s;\r\n                #server localhost:7090 max_fails=3 fail_timeout=10s;\r\n        }\r\n        \r\n        server {\r\n        \tlisten 80 default_server;\r\n        \tlisten [::]:80 default_server;\r\n        \r\n        \r\n        \r\n        \t#server_name hellobs23.com\r\n        \t# SSL configuration\r\n        \t#\r\n         \t# listen 443 ssl default_server;\r\n        \t# listen [::]:443 ssl default_server;\r\n        \t#\r\n        \t# Note: You should disable gzip for SSL traffic.\r\n        \t# See: https://bugs.debian.org/773332\r\n        \t#\r\n        \t# Read up on ssl_ciphers to ensure a secure configuration.\r\n        \t# See: https://bugs.debian.org/765782\r\n        \t#\r\n        \t# Self signed certs generated by the ssl-cert package\r\n        \t# Don&#39;t use them in a production server!\r\n        \t#\r\n        \t# include snippets/snakeoil.conf;\r\n        \r\n        \r\n        \r\n        \t        root /var/www/html;\r\n    \r\n            # Add index.php to the list if you are using PHP\r\n            index index.html index.htm index.nginx-debian.html;\r\n    \r\n    \r\n            location / {\r\n                    proxy_pass http://backend;\r\n                    error_page 500 502 503 504 /50x.html;\r\n          }\r\n    \r\n    \r\n            # pass PHP scripts to FastCGI server\r\n            #\r\n            #location ~ \\.php$ {\r\n            #       include snippets/fastcgi-php.conf;\r\n            #\r\n            #       # With php-fpm (or other unix sockets):\r\n            #       fastcgi_pass unix:/run/php/php7.4-fpm.sock;\r\n            #       # With php-cgi (or other tcp sockets):\r\n            #       fastcgi_pass 127.0.0.1:9000;\r\n            #}\r\n    \r\n            # deny access to .htaccess files, if Apache&#39;s document root\r\n            # concurs with nginx&#39;s one\r\n            #\r\n            #location ~ /\\.ht {\r\n            #       deny all;\r\n            #}\r\n    }\r\n\r\n\r\n\r\nAnd one interesting thing is the same configuration working on another project but not working on my project. I have been desperately looking for a solution for 4 days. Could not find anything that could give me relief. \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/cluster-howto.html","title":"Tomcat clustering mechanism and session replication is not working on tomcat 8.5.78","body":"<p>I am working on a project where I need to replicate sessions on two different tomcats. I configured Nginx as a load balancer. Configured two tomcats to make two different nodes.</p>\n<p><strong>My requirement</strong>: Suppose two nodes are running and the session of node one is replicated in node two. And end-user is getting response from node one. If node one is down then the user will not get session out and continue with node two with the same session.</p>\n<p><strong>Whats happening now</strong>: Two nodes are running and session is replicated to both nodes. User getting response from node one. Node one down and user gets a session-out message.</p>\n<p>I configured the tomcat clustering mechanism like tomcat documentation from this <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/cluster-howto.html\" rel=\"nofollow noreferrer\">site</a>\nI configured tomcat 1's <code>server.xml</code> file like</p>\n<pre><code>&lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;\n                 channelSendOptions=&quot;6&quot;&gt;\n\n          &lt;Manager className=&quot;org.apache.catalina.ha.session.BackupManager&quot;\n                   expireSessionsOnShutdown=&quot;false&quot;\n                   notifyListenersOnReplication=&quot;true&quot;\n                   mapSendOptions=&quot;6&quot;/&gt;\n          &lt;!--\n          &lt;Manager className=&quot;org.apache.catalina.ha.session.DeltaManager&quot;\n                   expireSessionsOnShutdown=&quot;false&quot;\n                   notifyListenersOnReplication=&quot;true&quot;/&gt;\n          --&gt;\n          &lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;\n            &lt;Membership className=&quot;org.apache.catalina.tribes.membership.McastService&quot;\n                        address=&quot;228.0.0.4&quot;\n                        port=&quot;45564&quot;\n                        frequency=&quot;500&quot;\n                        dropTime=&quot;3000&quot;/&gt;\n            &lt;Receiver className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;\n                      address=&quot;auto&quot;\n                      port=&quot;5000&quot;\n                      selectorTimeout=&quot;100&quot;\n                      maxThreads=&quot;6&quot;/&gt;\n\n            &lt;Sender className=&quot;org.apache.catalina.tribes.transport.ReplicationTransmitter&quot;&gt;\n              &lt;Transport className=&quot;org.apache.catalina.tribes.transport.nio.PooledParallelSender&quot;/&gt;\n            &lt;/Sender&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.TcpFailureDetector&quot;/&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor&quot;/&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor&quot;/&gt;\n          &lt;/Channel&gt;\n\n          &lt;Valve className=&quot;org.apache.catalina.ha.tcp.ReplicationValve&quot;\n                 filter=&quot;.*\\.gif|.*\\.js|.*\\.jpeg|.*\\.jpg|.*\\.png|.*\\.htm|.*\\.html|.*\\.css|.*\\.txt&quot;/&gt;\n\n          &lt;Deployer className=&quot;org.apache.catalina.ha.deploy.FarmWarDeployer&quot;\n                    tempDir=&quot;/tmp/war-temp/&quot;\n                    deployDir=&quot;/tmp/war-deploy/&quot;\n                    watchDir=&quot;/tmp/war-listen/&quot;\n                    watchEnabled=&quot;false&quot;/&gt;\n\n          &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;\n        &lt;/Cluster&gt;\n</code></pre>\n<p>And tomcat 2's <code>server.xml</code> file like</p>\n<pre><code>&lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;\n                 channelSendOptions=&quot;6&quot;&gt;\n\n          &lt;Manager className=&quot;org.apache.catalina.ha.session.BackupManager&quot;\n                   expireSessionsOnShutdown=&quot;false&quot;\n                   notifyListenersOnReplication=&quot;true&quot;\n                   mapSendOptions=&quot;6&quot;/&gt;\n          &lt;!--\n          &lt;Manager className=&quot;org.apache.catalina.ha.session.DeltaManager&quot;\n                   expireSessionsOnShutdown=&quot;false&quot;\n                   notifyListenersOnReplication=&quot;true&quot;/&gt;\n          --&gt;\n          &lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;\n            &lt;Membership className=&quot;org.apache.catalina.tribes.membership.McastService&quot;\n                        address=&quot;228.0.0.4&quot;\n                        port=&quot;45564&quot;\n                        frequency=&quot;500&quot;\n                        dropTime=&quot;3000&quot;/&gt;\n            &lt;Receiver className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;\n                      address=&quot;auto&quot;\n                      port=&quot;5001&quot;\n                      selectorTimeout=&quot;100&quot;\n                      maxThreads=&quot;6&quot;/&gt;\n\n            &lt;Sender className=&quot;org.apache.catalina.tribes.transport.ReplicationTransmitter&quot;&gt;\n              &lt;Transport className=&quot;org.apache.catalina.tribes.transport.nio.PooledParallelSender&quot;/&gt;\n            &lt;/Sender&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.TcpFailureDetector&quot;/&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor&quot;/&gt;\n            &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.ThroughputInterceptor&quot;/&gt;\n          &lt;/Channel&gt;\n\n          &lt;Valve className=&quot;org.apache.catalina.ha.tcp.ReplicationValve&quot;\n                 filter=&quot;.*\\.gif|.*\\.js|.*\\.jpeg|.*\\.jpg|.*\\.png|.*\\.htm|.*\\.html|.*\\.css|.*\\.txt&quot;/&gt;\n\n          &lt;Deployer className=&quot;org.apache.catalina.ha.deploy.FarmWarDeployer&quot;\n                    tempDir=&quot;/tmp/war-temp/&quot;\n                    deployDir=&quot;/tmp/war-deploy/&quot;\n                    watchDir=&quot;/tmp/war-listen/&quot;\n                    watchEnabled=&quot;false&quot;/&gt;\n\n          &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;\n        &lt;/Cluster&gt;\n</code></pre>\n<p>My <code>web.xml</code> file of my spring project is</p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n  &lt;display-name&gt;Enterprise Web App&lt;/display-name&gt;\n\n\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name &gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            org.springframework.web.context.request.RequestContextListener\n        &lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;!--start real ip filter for ngnix--&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;RealIPFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.brainstation.corporate.ib.webapp.provider.ip.RealIPFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;RealIPFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;!--end real ip filter for ngnix--&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;web-app&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;web-app&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;0&lt;/session-timeout&gt;\n        &lt;cookie-config&gt;\n            &lt;name&gt;EB_JSESSIONID&lt;/name&gt;\n            &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;/cookie-config&gt;\n        &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n    &lt;/session-config&gt;\n\n    &lt;distributable/&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>And my nginx configuration on <code>/etc/nginx/sites-available/default</code> file</p>\n<pre><code>    upstream backend {\n            ip_hash;\n            server localhost:7070 max_fails=3 fail_timeout=10s;\n            server localhost:7080 max_fails=3 fail_timeout=10s;\n            #server localhost:7090 max_fails=3 fail_timeout=10s;\n    }\n    \n    server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n    \n    \n    \n        #server_name hellobs23.com\n        # SSL configuration\n        #\n        # listen 443 ssl default_server;\n        # listen [::]:443 ssl default_server;\n        #\n        # Note: You should disable gzip for SSL traffic.\n        # See: https://bugs.debian.org/773332\n        #\n        # Read up on ssl_ciphers to ensure a secure configuration.\n        # See: https://bugs.debian.org/765782\n        #\n        # Self signed certs generated by the ssl-cert package\n        # Don't use them in a production server!\n        #\n        # include snippets/snakeoil.conf;\n    \n    \n    \n                root /var/www/html;\n\n        # Add index.php to the list if you are using PHP\n        index index.html index.htm index.nginx-debian.html;\n\n\n        location / {\n                proxy_pass http://backend;\n                error_page 500 502 503 504 /50x.html;\n      }\n\n\n        # pass PHP scripts to FastCGI server\n        #\n        #location ~ \\.php$ {\n        #       include snippets/fastcgi-php.conf;\n        #\n        #       # With php-fpm (or other unix sockets):\n        #       fastcgi_pass unix:/run/php/php7.4-fpm.sock;\n        #       # With php-cgi (or other tcp sockets):\n        #       fastcgi_pass 127.0.0.1:9000;\n        #}\n\n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #       deny all;\n        #}\n}\n</code></pre>\n<p>And one interesting thing is the same configuration working on another project but not working on my project. I have been desperately looking for a solution for 4 days. Could not find anything that could give me relief.</p>\n"},{"tags":["java","hibernate","visual-paradigm"],"comments":[{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1430359786,"post_id":29953522,"comment_id":48036317,"body_markdown":"I never used visual paradigm, but I used http://ermaster.sourceforge.net/, it&#39;s an eclipse plugin and it generates diagram out of entity. It i simple and handy.","body":"I never used visual paradigm, but I used <a href=\"http://ermaster.sourceforge.net/\" rel=\"nofollow noreferrer\">ermaster.sourceforge.net</a>, it&#39;s an eclipse plugin and it generates diagram out of entity. It i simple and handy."},{"owner":{"account_id":4806992,"reputation":393,"user_id":3881702,"accept_rate":35,"display_name":"rahul"},"score":0,"creation_date":1430361673,"post_id":29953522,"comment_id":48036859,"body_markdown":"@Bala can i draw an er diagram from hibernate mapping using this tool?","body":"@Bala can i draw an er diagram from hibernate mapping using this tool?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1430382654,"post_id":29953522,"comment_id":48045710,"body_markdown":"Do you have *.hbm.xml files or JPA annotations? With JPA annotations you could use this NetBeans plugin http://plugins.netbeans.org/plugin/53057/jpa-modeler or this Eclipse plugin http://eclipse.org/webtools/dali/","body":"Do you have *.hbm.xml files or JPA annotations? With JPA annotations you could use this NetBeans plugin <a href=\"http://plugins.netbeans.org/plugin/53057/jpa-modeler\" rel=\"nofollow noreferrer\">plugins.netbeans.org/plugin/53057/jpa-modeler</a> or this Eclipse plugin <a href=\"http://eclipse.org/webtools/dali/\" rel=\"nofollow noreferrer\">eclipse.org/webtools/dali</a>"},{"owner":{"account_id":6704105,"reputation":199,"user_id":5169697,"accept_rate":75,"display_name":"Vincent"},"score":0,"creation_date":1499345827,"post_id":29953522,"comment_id":76874126,"body_markdown":"I use Visual Paradigm for several years now and I am very satisfied. Although the feature you expect is provided I only use it the other way, drawing diagrams and convert them to hibernate classes and ddls. If something goes wrong, the support team is very helpful and cooperative too.","body":"I use Visual Paradigm for several years now and I am very satisfied. Although the feature you expect is provided I only use it the other way, drawing diagrams and convert them to hibernate classes and ddls. If something goes wrong, the support team is very helpful and cooperative too."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1512543060,"post_id":29953522,"comment_id":82295551,"body_markdown":"I knew two, must enver be supported?","body":"I knew two, must enver be supported?"}],"answers":[{"tags":[],"owner":{"account_id":6993360,"reputation":1037,"user_id":5361779,"accept_rate":56,"display_name":"B378"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512542036,"creation_date":1512536664,"answer_id":47667129,"question_id":29953522,"body_markdown":"If you are using IntelliJ Idea (Ultimate) you can use Persistence Tool Window. In order to use this feature, you have to add Java EE Persistence Framework Support to your project or module. ( Note: To do that, go to Project Tool Window: right-click a module folder and select Add Framework Support.)\r\n\r\nFor the tool window to be available, there must be a JPA- or Hibernate-enabled module in your project, i.e. a module with a JPA or Hibernate facet.\r\n\r\n\r\nTo open the tool window, do one of the following:\r\n\r\n - Select View &gt; Tool Windows &gt; Persistence\r\n - If the tool window bars are\r\n   currently shown, click the Persistence button (normally located at the lower-left part of the workspace). \r\n\r\nAfter that, you can generate persistence mapping. Then Right-click on the generated persistence unit and select “ER Diagram”.\r\n\r\nReferences:\r\n\r\n - https://www.jetbrains.com/help/idea/persistence-tool-window.html\r\n - https://nixmash.com/post/using-intellij-persistence-view-and-er-diagram-mapping-tools\r\n\r\n","title":"Generate er diagram from Hibernate entity","body":"<p>If you are using IntelliJ Idea (Ultimate) you can use Persistence Tool Window. In order to use this feature, you have to add Java EE Persistence Framework Support to your project or module. ( Note: To do that, go to Project Tool Window: right-click a module folder and select Add Framework Support.)</p>\n\n<p>For the tool window to be available, there must be a JPA- or Hibernate-enabled module in your project, i.e. a module with a JPA or Hibernate facet.</p>\n\n<p>To open the tool window, do one of the following:</p>\n\n<ul>\n<li>Select View > Tool Windows > Persistence</li>\n<li>If the tool window bars are\ncurrently shown, click the Persistence button (normally located at the lower-left part of the workspace). </li>\n</ul>\n\n<p>After that, you can generate persistence mapping. Then Right-click on the generated persistence unit and select “ER Diagram”.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/persistence-tool-window.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/persistence-tool-window.html</a></li>\n<li><a href=\"https://nixmash.com/post/using-intellij-persistence-view-and-er-diagram-mapping-tools\" rel=\"nofollow noreferrer\">https://nixmash.com/post/using-intellij-persistence-view-and-er-diagram-mapping-tools</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4451500,"reputation":772,"user_id":3623232,"display_name":"Guillermo"},"score":0,"creation_date":1644828497,"post_id":47668738,"comment_id":125700034,"body_markdown":"What is wrong with a code first approach? Then the single version of truth is the code and you always generate database migrations from the code. You can do this for example with entity framework from Microsoft or with liquibase (`liquibase:diff`) command. We have been using this for years and it works very well.","body":"What is wrong with a code first approach? Then the single version of truth is the code and you always generate database migrations from the code. You can do this for example with entity framework from Microsoft or with liquibase (<code>liquibase:diff</code>) command. We have been using this for years and it works very well."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1644848767,"post_id":47668738,"comment_id":125707328,"body_markdown":"@Guillermo I dont know the &quot;Microsoft Entity Framework&quot;. Liquibase violates &quot;failfast&quot; because it fail after deployment, all dbschema-historic-informations are checked-out in one git/svn-revision, the :diff uses performance of the db, liquibase have an negative impact to appstart performance, liquibase has no gui, liquibase codebloat the app, liquibase&#39;s tables codebloat the db.","body":"@Guillermo I dont know the &quot;Microsoft Entity Framework&quot;. Liquibase violates &quot;failfast&quot; because it fail after deployment, all dbschema-historic-informations are checked-out in one git/svn-revision, the :diff uses performance of the db, liquibase have an negative impact to appstart performance, liquibase has no gui, liquibase codebloat the app, liquibase&#39;s tables codebloat the db."},{"owner":{"account_id":4451500,"reputation":772,"user_id":3623232,"display_name":"Guillermo"},"score":0,"creation_date":1644928414,"post_id":47668738,"comment_id":125730063,"body_markdown":"You can get fail fast as well here. What we do is we have integration tests where we start a postgres docker container and run the database migrations. So you immediately know whether your migrations still work with real data / the exact version of your database. The argument of performance of db you can neglect imho because you only do it during development a few times. And startup performance is also not an issue. Liquibase takes just a few seconds to check what migrations have to be executed if any (Usually you don&#39;t have new migrations).","body":"You can get fail fast as well here. What we do is we have integration tests where we start a postgres docker container and run the database migrations. So you immediately know whether your migrations still work with real data / the exact version of your database. The argument of performance of db you can neglect imho because you only do it during development a few times. And startup performance is also not an issue. Liquibase takes just a few seconds to check what migrations have to be executed if any (Usually you don&#39;t have new migrations)."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1644948526,"post_id":47668738,"comment_id":125738900,"body_markdown":"@Guillermo You are integration testing having a copy of live database? Well I guess this works for small databases or high-performance docker environments. My pipeline live-deploys every successfull commit. After all - if you are happy this way I can accept this very well, friend.","body":"@Guillermo You are integration testing having a copy of live database? Well I guess this works for small databases or high-performance docker environments. My pipeline live-deploys every successfull commit. After all - if you are happy this way I can accept this very well, friend."}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1513186710,"creation_date":1512544160,"answer_id":47668738,"question_id":29953522,"body_markdown":"Single version of truth\r\n-\r\nPlease do not use the entitys to modify the structure of the database: \r\n\r\n1. if you add a non-null non-default column to a entity the database can not be changed if there are rows in that table because the initial value of that column can not be calculated. \r\n2. If you add a fk to a table some values might have illegal references.\r\nYou do not like to have this problems in deployment.\r\n\r\nUse the tools of db managers instead please and calculate the entitys from the db.","title":"Generate er diagram from Hibernate entity","body":"<h2>Single version of truth</h2>\n\n<p>Please do not use the entitys to modify the structure of the database: </p>\n\n<ol>\n<li>if you add a non-null non-default column to a entity the database can not be changed if there are rows in that table because the initial value of that column can not be calculated. </li>\n<li>If you add a fk to a table some values might have illegal references.\nYou do not like to have this problems in deployment.</li>\n</ol>\n\n<p>Use the tools of db managers instead please and calculate the entitys from the db.</p>\n"}],"owner":{"account_id":4806992,"reputation":393,"user_id":3881702,"accept_rate":35,"display_name":"rahul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8847,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1700161250,"creation_date":1430338093,"question_id":29953522,"body_markdown":"I would like to generate ER diagram from Hibernate entities or Hibernate mapping. I have selected visual paradigm tool which provides this feature. I would like to know your feedback about visual paradigm or some other tools if you know which supports the above feature.","title":"Generate er diagram from Hibernate entity","body":"<p>I would like to generate ER diagram from Hibernate entities or Hibernate mapping. I have selected visual paradigm tool which provides this feature. I would like to know your feedback about visual paradigm or some other tools if you know which supports the above feature.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1700162548,"post_id":77497407,"comment_id":136623992,"body_markdown":"What is exactly at that line and column? Signal it in your question. Don&#39;t expect us to count characters here. Are there any other details to the error?","body":"What is exactly at that line and column? Signal it in your question. Don&#39;t expect us to count characters here. Are there any other details to the error?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1700162868,"post_id":77497407,"comment_id":136624047,"body_markdown":"Can you try replacing `&lt;h:outputLabel value=&quot;Nome&quot;: /&gt;` with `&lt;h:outputLabel value=&quot;Nome:&quot; /&gt;` (move the `:` inside the `&quot;&quot;`)?","body":"Can you try replacing <code>&lt;h:outputLabel value=&quot;Nome&quot;: &#47;&gt;</code> with <code>&lt;h:outputLabel value=&quot;Nome:&quot; &#47;&gt;</code> (move the <code>:</code> inside the <code>&quot;&quot;</code>)?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1700169045,"post_id":77497407,"comment_id":136624947,"body_markdown":"`formularioMB.nome` isn&#39;t `static`. Can you refer to it like this?","body":"<code>formularioMB.nome</code> isn&#39;t <code>static</code>. Can you refer to it like this?"},{"owner":{"account_id":29071420,"reputation":1,"user_id":22900419,"display_name":"Meire jorg"},"score":0,"creation_date":1700175735,"post_id":77497407,"comment_id":136625710,"body_markdown":"there is no column.","body":"there is no column."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1700207651,"post_id":77497407,"comment_id":136628342,"body_markdown":"`value=&quot;Nome&quot;:` is not valid - you can&#39;t have a `:` outside of the quotes like that. It should be `value=&quot;Nome:&quot;`","body":"<code>value=&quot;Nome&quot;:</code> is not valid - you can&#39;t have a <code>:</code> outside of the quotes like that. It should be <code>value=&quot;Nome:&quot;</code>"}],"owner":{"account_id":29071420,"reputation":1,"user_id":22900419,"display_name":"Meire jorg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700161143,"creation_date":1700161143,"question_id":77497407,"body_markdown":"This page contains the following errors:\r\nerror on line 12 at column 30: attributes construct error\r\nBelow is a rendering of the page up to the first error.\r\n\r\n\r\n\r\nCan someone help me?\r\n\r\n```\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n      xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n      xmlns:h=&quot;http://java.sun.com/jsf/html&quot;&gt; \r\n\r\n&lt;h:head&gt;&lt;/h:head&gt;\r\n\r\n&lt;body&gt; \r\n\r\n\t&lt;h1&gt;Java Enterprise Edition&lt;/h1&gt;\r\n\t&lt;h:form&gt;\r\n\t\t&lt;h:outputLabel value=&quot;Nome&quot;: /&gt;\r\n\t\t&lt;h:inputText value=&quot;#{formularioMB.nome}&quot; /&gt;\r\n\t\t&lt;h:commandButton value=&quot;Executar&quot; action=&quot;#{formularioMB.executar}&quot; /&gt;\r\n\t\r\n\t&lt;/h:form&gt;\r\n\r\n&lt;/body&gt; \r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n```\r\npackage projeto;\r\n\r\nimport java.io.Serializable;\r\nimport javax.enterprise.context.RequestScoped;\r\nimport javax.inject.Named;\r\n\r\n@Named\r\n@RequestScoped\r\npublic class formularioMB implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String nome;\r\n\t\r\n\tpublic formularioMB()\r\n\t{\r\n\t\tSystem.out.println(&quot;Criando uma instancia de exemploMB&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setNome(String nome)\r\n\t{\r\n\t\tSystem.out.println(&quot;SetNome&quot;+nome);\r\n\t\tthis.nome = nome;\r\n\t}\r\n\tpublic String getNome()\r\n\t{\r\n\t\tSystem.out.println(&quot;GetNome&quot; + nome);\r\n\t\treturn nome;\r\n\t}\r\n\t\r\n\tpublic void executar()\r\n\t{\r\n\t\tSystem.out.println(&quot;Invocando metodo executar()...&quot;);\r\n\t\tSystem.out.println(&quot;Nome digitado: &quot;+nome);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI copied the same code from the college book, but it still gives me this error\r\n\r\n\r\nThis page contains the following errors:\r\nerror on line 12 at column 30: attributes construct error\r\nBelow is a rendering of the page up to the first error.\r\n\r\n\r\nI&#39;m doing it in JAVA in eclipse","title":"how to fix attribute error in eclipse in java?","body":"<p>This page contains the following errors:\nerror on line 12 at column 30: attributes construct error\nBelow is a rendering of the page up to the first error.</p>\n<p>Can someone help me?</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n      xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n      xmlns:h=&quot;http://java.sun.com/jsf/html&quot;&gt; \n\n&lt;h:head&gt;&lt;/h:head&gt;\n\n&lt;body&gt; \n\n    &lt;h1&gt;Java Enterprise Edition&lt;/h1&gt;\n    &lt;h:form&gt;\n        &lt;h:outputLabel value=&quot;Nome&quot;: /&gt;\n        &lt;h:inputText value=&quot;#{formularioMB.nome}&quot; /&gt;\n        &lt;h:commandButton value=&quot;Executar&quot; action=&quot;#{formularioMB.executar}&quot; /&gt;\n    \n    &lt;/h:form&gt;\n\n&lt;/body&gt; \n&lt;/html&gt;\n\n</code></pre>\n<pre><code>package projeto;\n\nimport java.io.Serializable;\nimport javax.enterprise.context.RequestScoped;\nimport javax.inject.Named;\n\n@Named\n@RequestScoped\npublic class formularioMB implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n    \n    private String nome;\n    \n    public formularioMB()\n    {\n        System.out.println(&quot;Criando uma instancia de exemploMB&quot;);\n        \n    }\n    \n    public void setNome(String nome)\n    {\n        System.out.println(&quot;SetNome&quot;+nome);\n        this.nome = nome;\n    }\n    public String getNome()\n    {\n        System.out.println(&quot;GetNome&quot; + nome);\n        return nome;\n    }\n    \n    public void executar()\n    {\n        System.out.println(&quot;Invocando metodo executar()...&quot;);\n        System.out.println(&quot;Nome digitado: &quot;+nome);\n    }\n\n}\n\n</code></pre>\n<p>I copied the same code from the college book, but it still gives me this error</p>\n<p>This page contains the following errors:\nerror on line 12 at column 30: attributes construct error\nBelow is a rendering of the page up to the first error.</p>\n<p>I'm doing it in JAVA in eclipse</p>\n"},{"tags":["java","expression","predicate","aerospike"],"comments":[{"owner":{"account_id":1446450,"reputation":2728,"user_id":1364745,"accept_rate":89,"display_name":"kporter"},"score":0,"creation_date":1700158149,"post_id":77493865,"comment_id":136623188,"body_markdown":"[`Exp.intOr`](https://docs.aerospike.com/server/guide/expressions/arithmetic#int_or) is a bitwise or operation.","body":"<a href=\"https://docs.aerospike.com/server/guide/expressions/arithmetic#int_or\" rel=\"nofollow noreferrer\"><code>Exp.intOr</code></a> is a bitwise or operation."}],"answers":[{"comments":[{"owner":{"account_id":20336063,"reputation":1,"user_id":14916732,"display_name":"Avanish Ghosh"},"score":0,"creation_date":1700560784,"post_id":77497359,"comment_id":136666865,"body_markdown":"Hi, should it be ListReturnType.EXISTS or ListReturnType.VALUE ? Also what would the changes required to query a string value on a list of strings?","body":"Hi, should it be ListReturnType.EXISTS or ListReturnType.VALUE ? Also what would the changes required to query a string value on a list of strings?"},{"owner":{"account_id":1446450,"reputation":2728,"user_id":1364745,"accept_rate":89,"display_name":"kporter"},"score":0,"creation_date":1701109068,"post_id":77497359,"comment_id":136731814,"body_markdown":"EXISTS will stop at the first match and return a boolean, which is probably what you want. I don&#39;t think any changes are required for string other than `fieldValue` would need to be a string.","body":"EXISTS will stop at the first match and return a boolean, which is probably what you want. I don&#39;t think any changes are required for string other than <code>fieldValue</code> would need to be a string."}],"tags":[],"owner":{"account_id":1446450,"reputation":2728,"user_id":1364745,"accept_rate":89,"display_name":"kporter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700160687,"creation_date":1700160687,"answer_id":77497359,"question_id":77493865,"body_markdown":"Your predexp is checking if any value in a list matches a particular value:\r\n\r\n```java\r\npredExps = Arrays.asList(\r\n         PredExp.integerVar(&quot;v&quot;),\r\n         PredExp.integerValue((Long) fieldValue),\r\n         PredExp.integerEqual(),\r\n         PredExp.listBin(fieldName),\r\n         PredExp.listIterateOr(&quot;v&quot;)\r\n);\r\n```\r\n\r\nThe equivalent in expression is to use the [`list_get_by_value()`](https://docs.aerospike.com/server/guide/expressions/bin-ops-list#list_get_by_value) expression. Should be similar to the following in Java - I&#39;m currently unable to test:\r\n\r\n```java\r\nExp.build(\r\n    ListExp.getByValue(\r\n        ListReturnType.EXISTS, Exp.val(fieldValue), Exp.listBin(fieldName)))\r\n```","title":"PredExp vs Expression - Aerospike Client (list of integers)","body":"<p>Your predexp is checking if any value in a list matches a particular value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>predExps = Arrays.asList(\n         PredExp.integerVar(&quot;v&quot;),\n         PredExp.integerValue((Long) fieldValue),\n         PredExp.integerEqual(),\n         PredExp.listBin(fieldName),\n         PredExp.listIterateOr(&quot;v&quot;)\n);\n</code></pre>\n<p>The equivalent in expression is to use the <a href=\"https://docs.aerospike.com/server/guide/expressions/bin-ops-list#list_get_by_value\" rel=\"nofollow noreferrer\"><code>list_get_by_value()</code></a> expression. Should be similar to the following in Java - I'm currently unable to test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exp.build(\n    ListExp.getByValue(\n        ListReturnType.EXISTS, Exp.val(fieldValue), Exp.listBin(fieldName)))\n</code></pre>\n"}],"owner":{"account_id":20336063,"reputation":1,"user_id":14916732,"display_name":"Avanish Ghosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700160687,"creation_date":1700129005,"question_id":77493865,"body_markdown":"What would be the Expression substitute for the below code which uses PredExp for aerospike client\r\n\r\n```\r\npredExps = Arrays.asList(PredExp.integerVar(&quot;v&quot;), PredExp.integerValue((Long) fieldValue),       PredExp.integerEqual(), PredExp.listBin(fieldName), PredExp.listIterateOr(&quot;v&quot;));\r\n```\r\n\r\nNot able to figure out how to replicate the list behaviour here.\r\n\r\n\r\nTried to replicate the same behaviour using Exp.intOr but that is not working","title":"PredExp vs Expression - Aerospike Client (list of integers)","body":"<p>What would be the Expression substitute for the below code which uses PredExp for aerospike client</p>\n<pre><code>predExps = Arrays.asList(PredExp.integerVar(&quot;v&quot;), PredExp.integerValue((Long) fieldValue),       PredExp.integerEqual(), PredExp.listBin(fieldName), PredExp.listIterateOr(&quot;v&quot;));\n</code></pre>\n<p>Not able to figure out how to replicate the list behaviour here.</p>\n<p>Tried to replicate the same behaviour using Exp.intOr but that is not working</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1700160667,"post_id":77497296,"comment_id":136623657,"body_markdown":"You are trying to use the JAR with an older version of Java than the one you built it with (more specifically: older than the one you compiled with).  The easiest way to go would be to compile (and test!) with the oldest version of Java you want to support.  Then expect that users will need that version of Java or newer to use the result.","body":"You are trying to use the JAR with an older version of Java than the one you built it with (more specifically: older than the one you compiled with).  The easiest way to go would be to compile (and test!) with the oldest version of Java you want to support.  Then expect that users will need that version of Java or newer to use the result."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1700161021,"post_id":77497296,"comment_id":136623733,"body_markdown":"Note also that although you may be able to shortcut by specifying a suitable the `-target` option when you compile with your current compiler, as the answers to the dupe target suggest, that&#39;s not a sure thing.  The compiler has a limited range of backwards compatibility, and you need to worry not only about classfile version, but also about the features of the associated Java standard library.  It is possible to build your classes to an older classfile version, but still not be able to run them on the associated JVM version.","body":"Note also that although you may be able to shortcut by specifying a suitable the <code>-target</code> option when you compile with your current compiler, as the answers to the dupe target suggest, that&#39;s not a sure thing.  The compiler has a limited range of backwards compatibility, and you need to worry not only about classfile version, but also about the features of the associated Java standard library.  It is possible to build your classes to an older classfile version, but still not be able to run them on the associated JVM version."},{"owner":{"account_id":29920185,"reputation":1,"user_id":22929519,"display_name":"Nillecs"},"score":0,"creation_date":1700162506,"post_id":77497296,"comment_id":136623984,"body_markdown":"Hi @JohnBollinger  Please excuse my unknowledge in this matter. I installed Java with &quot;sudo apt install default-jre default-jdk&quot; and compiled it as described above. I actually hope that I am using the latest versions of Java and Javac. Unfortunately, I still can&#39;t figure out how to solve the problem.","body":"Hi @JohnBollinger  Please excuse my unknowledge in this matter. I installed Java with &quot;sudo apt install default-jre default-jdk&quot; and compiled it as described above. I actually hope that I am using the latest versions of Java and Javac. Unfortunately, I still can&#39;t figure out how to solve the problem."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1700162609,"post_id":77497296,"comment_id":136624002,"body_markdown":"You are running the program on a different Java installation than you compiled it on.  I am pretty sure of this, because the prompt style shows that the compiler is a Linux version installed (I guess) in WSL, whereas the JVM is a Windows version.  Run `java -version` on the Windows side to see what version you have there.  Different Java installations is not inherently a problem (it happens everywhere), but it does open you up to the kind of Java version issue you are experiencing.","body":"You are running the program on a different Java installation than you compiled it on.  I am pretty sure of this, because the prompt style shows that the compiler is a Linux version installed (I guess) in WSL, whereas the JVM is a Windows version.  Run <code>java -version</code> on the Windows side to see what version you have there.  Different Java installations is not inherently a problem (it happens everywhere), but it does open you up to the kind of Java version issue you are experiencing."},{"owner":{"account_id":29920185,"reputation":1,"user_id":22929519,"display_name":"Nillecs"},"score":0,"creation_date":1700165799,"post_id":77497296,"comment_id":136624454,"body_markdown":"It&#39;s not even about using the Linux version on Windows. It would be enough for me to use the Linux version on Linux.\n\n    Windows: \n    java --version\n    java 20.0.1 2023-04-18\n    Java(TM) SE Runtime Environment (build 20.0.1+9-29)\n    \n    javac --version\n    javac 20.0.1\n\n    Debian: \n\n    &gt; java --version\n    openjdk 17.0.9 2023-10-17\n    OpenJDK Runtime Environment (build 17.0.9+9-Debian-1deb12u1)\n  \n    &gt; javac --version\n    javac 17.0.9","body":"It&#39;s not even about using the Linux version on Windows. It would be enough for me to use the Linux version on Linux.      Windows:      java --version     java 20.0.1 2023-04-18     Java(TM) SE Runtime Environment (build 20.0.1+9-29)          javac --version     javac 20.0.1      Debian:       &gt; java --version     openjdk 17.0.9 2023-10-17     OpenJDK Runtime Environment (build 17.0.9+9-Debian-1deb12u1)        &gt; javac --version     javac 17.0.9"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1700166756,"post_id":77497296,"comment_id":136624602,"body_markdown":"So on Linux, you are using a Java 20 compiler and a Java 17 JVM.  This produces the version mismatch I already described.  This issue is already well covered at the dupe target.  The Windows-side issue appears simpler: the class file for `javacrypt.RunGenKeys` evidently is not in the jar.  That should be easy to confirm, and it probably results from not compiling the corresponding source in the first place.","body":"So on Linux, you are using a Java 20 compiler and a Java 17 JVM.  This produces the version mismatch I already described.  This issue is already well covered at the dupe target.  The Windows-side issue appears simpler: the class file for <code>javacrypt.RunGenKeys</code> evidently is not in the jar.  That should be easy to confirm, and it probably results from not compiling the corresponding source in the first place."}],"owner":{"account_id":29920185,"reputation":1,"user_id":22929519,"display_name":"Nillecs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700160748,"answer_count":0,"score":0,"last_activity_date":1700160537,"creation_date":1700160075,"question_id":77497296,"body_markdown":"```\r\n&gt; java -version\r\nopenjdk version &quot;17.0.9&quot; 2023-10-17\r\nOpenJDK Runtime Environment (build 17.0.9+9-Debian-1deb12u1)\r\nOpenJDK 64-Bit Server VM (build 17.0.9+9-Debian-1deb12u1, mixed mode, sharing)\r\n\r\n&gt; javac -version\r\njavac 17.0.9\r\n```\r\n\r\nHi Community,\r\nI have a problem with creating a jar file and need your help. I am working in a Git and have the following folder structure.\r\n\r\n```bash\r\n/mnt/c/git_black/JavaCrypt [git::main *] [Yoga] [18:49]\r\n&gt; tree\r\n.\r\n├── javacrypt\r\n│&#160;&#160; ├── manifest.txt\r\n│&#160;&#160; ├── MyCryptMain.java\r\n│&#160;&#160; ├── RunCopy.java\r\n│&#160;&#160; ├── RunDecrypt.java\r\n│&#160;&#160; ├── RunEncrypt.java\r\n│&#160;&#160; ├── RunGenKeys.java\r\n│&#160;&#160; ├── RunnableBase.java\r\n│&#160;&#160; ├── RunnableFactory.java\r\n│&#160;&#160; ├── RunnableInterface.java\r\n│&#160;&#160; └── RunnableKeyValueFactory.java\r\n├── java.sh\r\n├── LICENSE\r\n├── makefile.cmd\r\n├── makefile.sh\r\n└── META-INF\r\n    └── MANIFEST.MF\r\n\r\n4 directories, 18 files\r\n```\r\n\r\n\r\nThe corresponding ``manifest.txt`` file in the ``javacrypt`` subfolder looks like this. The ``JavaCrypt`` folder itself is the root folder of the Git project.\r\n\r\n\r\n```bash\r\n/mnt/c/git_black/JavaCrypt [git::main *] [Yoga] [18:51]\r\n&gt; cat javacrypt/manifest.txt\r\nManifest-Version: 1.0\r\nMain-Class: javacrypt.MyCryptMain\r\n```\r\n\r\n```java\r\n// MyCryptMain.java\r\npackage javacrypt;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class MyCryptMain {\r\n\r\n    private static final String PROG_NAME = &quot;JavaCrypt&quot;;\r\n\r\n    private static final List&lt;String[]&gt; MY_ARRAY = Arrays.asList(\r\n        new String[]{&quot;-genkeys&quot;, &quot;javacrypt.RunGenKeys&quot;},\r\n        new String[]{&quot;-encrypt&quot;, &quot;javacrypt.RunEncrypt&quot;},\r\n        new String[]{&quot;-decrypt&quot;, &quot;javacrypt.RunDecrypt&quot;},\r\n        new String[]{&quot;-copy&quot;, &quot;javacrypt.RunCopy&quot;}\r\n    );\r\n\r\n    private static void usage() {\r\n        String[] msg = {\r\n            &quot;Program &#39;&quot; + PROG_NAME + &quot;&#39;&quot;,\r\n            &quot;Usage:&quot;,\r\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(0)[0] + &quot; [priv_keyfile] [pub_keyfile]&quot;,\r\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(1)[0] + &quot; [pub_keyfile] [ifile] [ofile] &quot;,\r\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(2)[0] + &quot; [privkeyfile] [ifile] [ofile] &quot;,\r\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(3)[0] + &quot; [dummyword] [ifile]  [ofile] &quot;,\r\n            &quot;&quot;\r\n        };\r\n\r\n        Arrays.stream(msg).forEach(System.err::println);\r\n        System.exit(0);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        RunnableKeyValueFactory runnableKeyValueFactory = new RunnableKeyValueFactory(MY_ARRAY.toArray(new String[0][]));\r\n        int argSize = args.length;\r\n\r\n        if (argSize == 0) {\r\n            usage();\r\n        }\r\n\r\n        String cmdKey = args[0];\r\n\r\n        if (!runnableKeyValueFactory.containsKey(cmdKey)) {\r\n            usage();\r\n        }\r\n\r\n        List&lt;String&gt; optArgList = Arrays.asList(args).subList(1, args.length);\r\n        RunnableInterface myRun = runnableKeyValueFactory.getInstanceFromKey(cmdKey);\r\n        myRun.run(optArgList);\r\n\r\n        System.out.println(&quot;End of the program.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow I want to convert the Java files into a jar. To do this, I first create the ``*.class`` files.   Then I try to create the jar file.   \r\n```bash\r\ncd /mnt/c/git_black\r\njavac -Xlint:unchecked ./javacrypt/MyCryptMain.java\r\njar cfm JavaCrypt.jar ./javacrypt/makefile.txt javacrypt/*.class\r\nchmod +x JavaCrypt.jar\r\n```\r\n\r\nI have a JAR file. But it does not work. Let me show you what I mean.\r\n\r\n\r\nUnder Linux I get the following error message:\r\n```bash\r\n/mnt/c/git_black/JavaCrypt [git::main *] [liffecs@Yoga] [19:33]\r\n&gt; java -jar JavaCrypt.jar\r\nError: LinkageError occurred while loading main class javacrypt.MyCryptMain\r\n        java.lang.UnsupportedClassVersionError: javacrypt/MyCryptMain has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 61.0\r\n```\r\n\r\nUnder Windows I get the following error message:\r\n```PowerShell\r\nPS C:\\git_black\\JavaCrypt&gt; java -jar .\\JavaCrypt.jar\r\nProgram &#39;MyCryptMain&#39;\r\nUsage:\r\n        MyCryptMain -genkeys [priv_keyfile] [pub_keyfile]\r\n        MyCryptMain -encrypt [pub_keyfile] [ifile] [ofile]\r\n        MyCryptMain -decrypt [privkeyfile] [ifile] [ofile]\r\n        MyCryptMain -copy [dummyword] [ifile]  [ofile]\r\n\r\nPS C:\\git_black\\JavaCrypt&gt; java -jar .\\JavaCrypt.jar -genkeys\r\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: javacrypt.RunGenKeys\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:391)\r\n        at java.base/java.lang.Class.forName(Class.java:382)\r\n        at javacrypt.RunnableFactory.getInstance(RunnableFactory.java:46)\r\n        at javacrypt.RunnableKeyValueFactory.getInstanceFromKey(RunnableKeyValueFactory.java:87)\r\n        at javacrypt.MyCryptMain.main(MyCryptMain.java:89)\r\nPS C:\\git_black\\JavaCrypt&gt;\r\n```\r\n\r\n\r\nI hope you can help me. Thank you in advance. :)","title":"Problems creating a JAR file with external classes","body":"<pre><code>&gt; java -version\nopenjdk version &quot;17.0.9&quot; 2023-10-17\nOpenJDK Runtime Environment (build 17.0.9+9-Debian-1deb12u1)\nOpenJDK 64-Bit Server VM (build 17.0.9+9-Debian-1deb12u1, mixed mode, sharing)\n\n&gt; javac -version\njavac 17.0.9\n</code></pre>\n<p>Hi Community,\nI have a problem with creating a jar file and need your help. I am working in a Git and have the following folder structure.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/mnt/c/git_black/JavaCrypt [git::main *] [Yoga] [18:49]\n&gt; tree\n.\n├── javacrypt\n│   ├── manifest.txt\n│   ├── MyCryptMain.java\n│   ├── RunCopy.java\n│   ├── RunDecrypt.java\n│   ├── RunEncrypt.java\n│   ├── RunGenKeys.java\n│   ├── RunnableBase.java\n│   ├── RunnableFactory.java\n│   ├── RunnableInterface.java\n│   └── RunnableKeyValueFactory.java\n├── java.sh\n├── LICENSE\n├── makefile.cmd\n├── makefile.sh\n└── META-INF\n    └── MANIFEST.MF\n\n4 directories, 18 files\n</code></pre>\n<p>The corresponding <code>manifest.txt</code> file in the <code>javacrypt</code> subfolder looks like this. The <code>JavaCrypt</code> folder itself is the root folder of the Git project.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/mnt/c/git_black/JavaCrypt [git::main *] [Yoga] [18:51]\n&gt; cat javacrypt/manifest.txt\nManifest-Version: 1.0\nMain-Class: javacrypt.MyCryptMain\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MyCryptMain.java\npackage javacrypt;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MyCryptMain {\n\n    private static final String PROG_NAME = &quot;JavaCrypt&quot;;\n\n    private static final List&lt;String[]&gt; MY_ARRAY = Arrays.asList(\n        new String[]{&quot;-genkeys&quot;, &quot;javacrypt.RunGenKeys&quot;},\n        new String[]{&quot;-encrypt&quot;, &quot;javacrypt.RunEncrypt&quot;},\n        new String[]{&quot;-decrypt&quot;, &quot;javacrypt.RunDecrypt&quot;},\n        new String[]{&quot;-copy&quot;, &quot;javacrypt.RunCopy&quot;}\n    );\n\n    private static void usage() {\n        String[] msg = {\n            &quot;Program '&quot; + PROG_NAME + &quot;'&quot;,\n            &quot;Usage:&quot;,\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(0)[0] + &quot; [priv_keyfile] [pub_keyfile]&quot;,\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(1)[0] + &quot; [pub_keyfile] [ifile] [ofile] &quot;,\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(2)[0] + &quot; [privkeyfile] [ifile] [ofile] &quot;,\n            &quot;\\t&quot; + PROG_NAME + &quot; &quot; + MY_ARRAY.get(3)[0] + &quot; [dummyword] [ifile]  [ofile] &quot;,\n            &quot;&quot;\n        };\n\n        Arrays.stream(msg).forEach(System.err::println);\n        System.exit(0);\n    }\n\n    public static void main(String[] args) throws Exception {\n        RunnableKeyValueFactory runnableKeyValueFactory = new RunnableKeyValueFactory(MY_ARRAY.toArray(new String[0][]));\n        int argSize = args.length;\n\n        if (argSize == 0) {\n            usage();\n        }\n\n        String cmdKey = args[0];\n\n        if (!runnableKeyValueFactory.containsKey(cmdKey)) {\n            usage();\n        }\n\n        List&lt;String&gt; optArgList = Arrays.asList(args).subList(1, args.length);\n        RunnableInterface myRun = runnableKeyValueFactory.getInstanceFromKey(cmdKey);\n        myRun.run(optArgList);\n\n        System.out.println(&quot;End of the program.&quot;);\n    }\n}\n</code></pre>\n<p>Now I want to convert the Java files into a jar. To do this, I first create the <code>*.class</code> files.   Then I try to create the jar file.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cd /mnt/c/git_black\njavac -Xlint:unchecked ./javacrypt/MyCryptMain.java\njar cfm JavaCrypt.jar ./javacrypt/makefile.txt javacrypt/*.class\nchmod +x JavaCrypt.jar\n</code></pre>\n<p>I have a JAR file. But it does not work. Let me show you what I mean.</p>\n<p>Under Linux I get the following error message:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/mnt/c/git_black/JavaCrypt [git::main *] [liffecs@Yoga] [19:33]\n&gt; java -jar JavaCrypt.jar\nError: LinkageError occurred while loading main class javacrypt.MyCryptMain\n        java.lang.UnsupportedClassVersionError: javacrypt/MyCryptMain has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 61.0\n</code></pre>\n<p>Under Windows I get the following error message:</p>\n<pre><code>PS C:\\git_black\\JavaCrypt&gt; java -jar .\\JavaCrypt.jar\nProgram 'MyCryptMain'\nUsage:\n        MyCryptMain -genkeys [priv_keyfile] [pub_keyfile]\n        MyCryptMain -encrypt [pub_keyfile] [ifile] [ofile]\n        MyCryptMain -decrypt [privkeyfile] [ifile] [ofile]\n        MyCryptMain -copy [dummyword] [ifile]  [ofile]\n\nPS C:\\git_black\\JavaCrypt&gt; java -jar .\\JavaCrypt.jar -genkeys\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: javacrypt.RunGenKeys\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:391)\n        at java.base/java.lang.Class.forName(Class.java:382)\n        at javacrypt.RunnableFactory.getInstance(RunnableFactory.java:46)\n        at javacrypt.RunnableKeyValueFactory.getInstanceFromKey(RunnableKeyValueFactory.java:87)\n        at javacrypt.MyCryptMain.main(MyCryptMain.java:89)\nPS C:\\git_black\\JavaCrypt&gt;\n</code></pre>\n<p>I hope you can help me. Thank you in advance. :)</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1700200920,"post_id":77496348,"comment_id":136627636,"body_markdown":"Why are looping through all results if you only need one node? Can you please explain what is the exact node you want to get?","body":"Why are looping through all results if you only need one node? Can you please explain what is the exact node you want to get?"},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700237141,"post_id":77496348,"comment_id":136633473,"body_markdown":"I appreciate the comment. For example, there are 5 reservations name; Baptism, Wedding, Communions, Confirmation &amp; Requiem. In the Recycler list there are 2 Baptism &amp; 1 Wedding.","body":"I appreciate the comment. For example, there are 5 reservations name; Baptism, Wedding, Communions, Confirmation &amp; Requiem. In the Recycler list there are 2 Baptism &amp; 1 Wedding."},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700237194,"post_id":77496348,"comment_id":136633483,"body_markdown":"If ever I wanted to change something with the A Baptism, it will also affect the other B Baptism, instead of just updating the A Baptism.","body":"If ever I wanted to change something with the A Baptism, it will also affect the other B Baptism, instead of just updating the A Baptism."},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700237315,"post_id":77496348,"comment_id":136633505,"body_markdown":"Only updating other Reservation like the Wedding doesn&#39;t affect other Reservation like Baptism, Confirmation.","body":"Only updating other Reservation like the Wedding doesn&#39;t affect other Reservation like Baptism, Confirmation."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1700309481,"post_id":77496348,"comment_id":136640216,"body_markdown":"Then why not create a reference that points only to `A Baptism` and make the change?","body":"Then why not create a reference that points only to <code>A Baptism</code> and make the change?"},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700311440,"post_id":77496348,"comment_id":136640402,"body_markdown":"That&#39;s actually my problem. I cannot retrieve the key of that A Baptism, instead, it will retrieve all of the Baptism (keys).","body":"That&#39;s actually my problem. I cannot retrieve the key of that A Baptism, instead, it will retrieve all of the Baptism (keys)."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1700311686,"post_id":77496348,"comment_id":136640425,"body_markdown":"Why do you say you cannot retrieve the key, there is a method that does that. Have you tried using [DataSnapshot#getKey()](https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getKey())?","body":"Why do you say you cannot retrieve the key, there is a method that does that. Have you tried using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getKey()\" rel=\"nofollow noreferrer\">DataSnapshot#getKey()</a>?"},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700327046,"post_id":77496348,"comment_id":136642044,"body_markdown":"I can but it will retrieve all the keys instead of just the key of the item that I choose in the list. Users&gt;uid&gt;Baptism/Wedding/Communion&gt;key","body":"I can but it will retrieve all the keys instead of just the key of the item that I choose in the list. Users&gt;uid&gt;Baptism/Wedding/Communion&gt;key"}],"answers":[{"comments":[{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700237452,"post_id":77497075,"comment_id":136633534,"body_markdown":"Thanks for the comment. I&#39;ll try this one later and will update you. I can also give you the structure of the nodes in my code.","body":"Thanks for the comment. I&#39;ll try this one later and will update you. I can also give you the structure of the nodes in my code."},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":1,"creation_date":1700333951,"post_id":77497075,"comment_id":136642802,"body_markdown":"Have you tried it? It works? @KatufoPrem","body":"Have you tried it? It works? @KatufoPrem"},{"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"score":0,"creation_date":1700670876,"post_id":77497075,"comment_id":136683937,"body_markdown":"A bit of yes, but you help me remove the unnecessary line like the &quot;for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {&quot; which retrieve all the keys in all reservations. Just like your code, I manage to work it by adding &#39;dataSnapshot.child(reservation.getKey());&#39;\n\nThanks. Appreciated it!","body":"A bit of yes, but you help me remove the unnecessary line like the &quot;for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {&quot; which retrieve all the keys in all reservations. Just like your code, I manage to work it by adding &#39;dataSnapshot.child(reservation.getKey());&#39;  Thanks. Appreciated it!"}],"tags":[],"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700157622,"creation_date":1700157622,"answer_id":77497075,"question_id":77496348,"body_markdown":"You are fetching all children of the reservation with name &quot;Baptims&quot; and changing each status, you should get the exact child only by name or id change only the status of that child. Something like this\r\n    \r\n        private void cancelReservation(Reservation reservation) {\r\n            DatabaseReference reservationRef = reservationsRef.child(reservation.getName());\r\n    \r\n            reservationRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()) {\r\n                       DataSnapshot childSnapshot = dataSnapshot.getChild(reserveation.id) // somehow get the exact child, can&#39;t write exact code as do not know how your object are constructed\r\n         \r\n        String key = childSnapshot.getKey();\r\n                            if (childSnapshot.hasChild(&quot;status&quot;)) {\r\n                                String status = childSnapshot.child(&quot;status&quot;).getValue(String.class);\r\n    \r\n                                if (status != null) {\r\n                                    //set status to &quot;Cancelled&quot;\r\n                                    //alert dialog\r\n                                    AlertDialog.Builder builder = new AlertDialog.Builder(ListofReserve.this);\r\n                                    builder.setTitle(&quot;Cancel Reservation&quot;);\r\n                                    builder.setMessage(&quot;Are you sure you want to cancel this reservation?&quot;);\r\n                                    builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n                                     if (status.equals(&quot;Cancelled&quot;)) {\r\n                                         Toast.makeText(ListofReserve.this, &quot;Reservation already cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                     } else {\r\n                                         DatabaseReference specificReservationRef = reservationsRef\r\n                                                 .child(reservation.getName())\r\n                                                 .child(key);\r\n    \r\n                                         specificReservationRef.child(&quot;status&quot;).setValue(&quot;Cancelled&quot;)\r\n                                                 .addOnCompleteListener(task -&gt; {\r\n                                                     if (task.isSuccessful()) {\r\n                                                         Toast.makeText(ListofReserve.this, &quot;Reservation Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                                     } else {\r\n                                                         Toast.makeText(ListofReserve.this, &quot;Failed to cancel reservation&quot;, Toast.LENGTH_SHORT).show();\r\n                                                     }\r\n                                                 });\r\n                                     }\r\n                                    });\r\n                                    builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n                                        Toast.makeText(ListofReserve.this, &quot; &quot; + key, Toast.LENGTH_SHORT).show();\r\n                                    });\r\n                                    builder.create().show();\r\n                                } else {\r\n                                    Toast.makeText(ListofReserve.this, &quot;Status not available&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            } else {\r\n                            }\r\n                    } else {\r\n                        Toast.makeText(ListofReserve.this, &quot;Reservation not found&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Toast.makeText(ListofReserve.this, &quot;Error fetching data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }","title":"childSnapshot.getKey(); is retrieving all the key instead of just one (the one that I choose)","body":"<p>You are fetching all children of the reservation with name &quot;Baptims&quot; and changing each status, you should get the exact child only by name or id change only the status of that child. Something like this</p>\n<pre><code>    private void cancelReservation(Reservation reservation) {\n        DatabaseReference reservationRef = reservationsRef.child(reservation.getName());\n\n        reservationRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()) {\n                   DataSnapshot childSnapshot = dataSnapshot.getChild(reserveation.id) // somehow get the exact child, can't write exact code as do not know how your object are constructed\n     \n    String key = childSnapshot.getKey();\n                        if (childSnapshot.hasChild(&quot;status&quot;)) {\n                            String status = childSnapshot.child(&quot;status&quot;).getValue(String.class);\n\n                            if (status != null) {\n                                //set status to &quot;Cancelled&quot;\n                                //alert dialog\n                                AlertDialog.Builder builder = new AlertDialog.Builder(ListofReserve.this);\n                                builder.setTitle(&quot;Cancel Reservation&quot;);\n                                builder.setMessage(&quot;Are you sure you want to cancel this reservation?&quot;);\n                                builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n                                 if (status.equals(&quot;Cancelled&quot;)) {\n                                     Toast.makeText(ListofReserve.this, &quot;Reservation already cancelled&quot;, Toast.LENGTH_SHORT).show();\n                                 } else {\n                                     DatabaseReference specificReservationRef = reservationsRef\n                                             .child(reservation.getName())\n                                             .child(key);\n\n                                     specificReservationRef.child(&quot;status&quot;).setValue(&quot;Cancelled&quot;)\n                                             .addOnCompleteListener(task -&gt; {\n                                                 if (task.isSuccessful()) {\n                                                     Toast.makeText(ListofReserve.this, &quot;Reservation Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                                                 } else {\n                                                     Toast.makeText(ListofReserve.this, &quot;Failed to cancel reservation&quot;, Toast.LENGTH_SHORT).show();\n                                                 }\n                                             });\n                                 }\n                                });\n                                builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n                                    Toast.makeText(ListofReserve.this, &quot; &quot; + key, Toast.LENGTH_SHORT).show();\n                                });\n                                builder.create().show();\n                            } else {\n                                Toast.makeText(ListofReserve.this, &quot;Status not available&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        } else {\n                        }\n                } else {\n                    Toast.makeText(ListofReserve.this, &quot;Reservation not found&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Toast.makeText(ListofReserve.this, &quot;Error fetching data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":27588826,"reputation":95,"user_id":21056438,"display_name":"Katufo Prem"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700160503,"creation_date":1700150820,"question_id":77496348,"body_markdown":"I am struggling to extract only the key of the selected item from the RecyclerView and then update the value or node associated with that key. The current implementation functions properly when the reservationName is different, such as in the case of &quot;Wedding.&quot; However, it encounters issues when there are multiple keys or reservations in that reservationName. Specifically, if I attempt to set or cancel a reservation (Baptism), the operation affects the status of all reservations (Baptism) or keys, rather than just the one I have chosen from the list item.\r\n\r\nRecyclerView List Example. I have a date picker for reschedule, even tho I choose the first one, it will show a two date picker. First, the first date picker will update the second one, and then the second date picker will update the first one. It&#39;s the same to all function like cancel, pay, reschedule or setting status:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my firebase structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAn example code that I use to work in the reservations. I used a toast to retrieve keys and then it shows all the key:\r\n\r\n    private void cancelReservation(Reservation reservation) {\r\n        DatabaseReference reservationRef = reservationsRef.child(reservation.getName());\r\n\r\n        reservationRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                if (dataSnapshot.exists()) {\r\n                    for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n                        String key = childSnapshot.getKey();\r\n                        if (childSnapshot.hasChild(&quot;status&quot;)) {\r\n                            String status = childSnapshot.child(&quot;status&quot;).getValue(String.class);\r\n\r\n                            if (status != null) {\r\n                                //set status to &quot;Cancelled&quot;\r\n                                //alert dialog\r\n                                AlertDialog.Builder builder = new AlertDialog.Builder(ListofReserve.this);\r\n                                builder.setTitle(&quot;Cancel Reservation&quot;);\r\n                                builder.setMessage(&quot;Are you sure you want to cancel this reservation?&quot;);\r\n                                builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n                                 if (status.equals(&quot;Cancelled&quot;)) {\r\n                                     Toast.makeText(ListofReserve.this, &quot;Reservation already cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                 } else {\r\n                                     DatabaseReference specificReservationRef = reservationsRef\r\n                                             .child(reservation.getName())\r\n                                             .child(key);\r\n\r\n                                     specificReservationRef.child(&quot;status&quot;).setValue(&quot;Cancelled&quot;)\r\n                                             .addOnCompleteListener(task -&gt; {\r\n                                                 if (task.isSuccessful()) {\r\n                                                     Toast.makeText(ListofReserve.this, &quot;Reservation Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                                 } else {\r\n                                                     Toast.makeText(ListofReserve.this, &quot;Failed to cancel reservation&quot;, Toast.LENGTH_SHORT).show();\r\n                                                 }\r\n                                             });\r\n                                 }\r\n                                });\r\n                                builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n                                    Toast.makeText(ListofReserve.this, &quot; &quot; + key, Toast.LENGTH_SHORT).show();\r\n                                });\r\n                                builder.create().show();\r\n                            } else {\r\n                                Toast.makeText(ListofReserve.this, &quot;Status not available&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        } else {\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(ListofReserve.this, &quot;Reservation not found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Toast.makeText(ListofReserve.this, &quot;Error fetching data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\nYou might need the implementation of the RecyclerView:\r\n\r\n    private class ReservationAdapter extends RecyclerView.Adapter&lt;ReservationAdapter.ReservationViewHolder&gt; {\r\n\r\n        private List&lt;Reservation&gt; reservations;\r\n        private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n\r\n        public ReservationAdapter(List&lt;Reservation&gt; reservations, ActivityResultLauncher&lt;Intent&gt; activityResultLauncher) {\r\n            this.reservations = reservations;\r\n            this.activityResultLauncher = activityResultLauncher;\r\n        }\r\n\r\n\r\n        @NonNull\r\n        @Override\r\n        public ReservationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.reservation_item, parent, false);\r\n            return new ReservationViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ReservationViewHolder holder, int position) {\r\n            Reservation reservation = reservations.get(position);\r\n            holder.reservationName.setText(reservation.getName());\r\n            holder.reservationStatus.setText(&quot;Status: &quot; + reservation.getStatus());\r\n            holder.reservationDate.setText(&quot;Date of Reservation: &quot; + reservation.getDate());\r\n\r\n            holder.itemView.setOnClickListener(v -&gt; {\r\n                //show a dialog with options to cancel or reschedule\r\n                showReservationOptionsDialog(reservation);\r\n            });\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EO3XT.png\r\n  [2]: https://i.stack.imgur.com/Thwpg.png\r\n","title":"childSnapshot.getKey(); is retrieving all the key instead of just one (the one that I choose)","body":"<p>I am struggling to extract only the key of the selected item from the RecyclerView and then update the value or node associated with that key. The current implementation functions properly when the reservationName is different, such as in the case of &quot;Wedding.&quot; However, it encounters issues when there are multiple keys or reservations in that reservationName. Specifically, if I attempt to set or cancel a reservation (Baptism), the operation affects the status of all reservations (Baptism) or keys, rather than just the one I have chosen from the list item.</p>\n<p>RecyclerView List Example. I have a date picker for reschedule, even tho I choose the first one, it will show a two date picker. First, the first date picker will update the second one, and then the second date picker will update the first one. It's the same to all function like cancel, pay, reschedule or setting status:</p>\n<p><a href=\"https://i.stack.imgur.com/EO3XT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EO3XT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my firebase structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Thwpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Thwpg.png\" alt=\"enter image description here\" /></a></p>\n<p>An example code that I use to work in the reservations. I used a toast to retrieve keys and then it shows all the key:</p>\n<pre><code>private void cancelReservation(Reservation reservation) {\n    DatabaseReference reservationRef = reservationsRef.child(reservation.getName());\n\n    reservationRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()) {\n                for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n                    String key = childSnapshot.getKey();\n                    if (childSnapshot.hasChild(&quot;status&quot;)) {\n                        String status = childSnapshot.child(&quot;status&quot;).getValue(String.class);\n\n                        if (status != null) {\n                            //set status to &quot;Cancelled&quot;\n                            //alert dialog\n                            AlertDialog.Builder builder = new AlertDialog.Builder(ListofReserve.this);\n                            builder.setTitle(&quot;Cancel Reservation&quot;);\n                            builder.setMessage(&quot;Are you sure you want to cancel this reservation?&quot;);\n                            builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n                             if (status.equals(&quot;Cancelled&quot;)) {\n                                 Toast.makeText(ListofReserve.this, &quot;Reservation already cancelled&quot;, Toast.LENGTH_SHORT).show();\n                             } else {\n                                 DatabaseReference specificReservationRef = reservationsRef\n                                         .child(reservation.getName())\n                                         .child(key);\n\n                                 specificReservationRef.child(&quot;status&quot;).setValue(&quot;Cancelled&quot;)\n                                         .addOnCompleteListener(task -&gt; {\n                                             if (task.isSuccessful()) {\n                                                 Toast.makeText(ListofReserve.this, &quot;Reservation Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                                             } else {\n                                                 Toast.makeText(ListofReserve.this, &quot;Failed to cancel reservation&quot;, Toast.LENGTH_SHORT).show();\n                                             }\n                                         });\n                             }\n                            });\n                            builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n                                Toast.makeText(ListofReserve.this, &quot; &quot; + key, Toast.LENGTH_SHORT).show();\n                            });\n                            builder.create().show();\n                        } else {\n                            Toast.makeText(ListofReserve.this, &quot;Status not available&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    } else {\n                    }\n                }\n            } else {\n                Toast.makeText(ListofReserve.this, &quot;Reservation not found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Toast.makeText(ListofReserve.this, &quot;Error fetching data: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>You might need the implementation of the RecyclerView:</p>\n<pre><code>private class ReservationAdapter extends RecyclerView.Adapter&lt;ReservationAdapter.ReservationViewHolder&gt; {\n\n    private List&lt;Reservation&gt; reservations;\n    private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n\n    public ReservationAdapter(List&lt;Reservation&gt; reservations, ActivityResultLauncher&lt;Intent&gt; activityResultLauncher) {\n        this.reservations = reservations;\n        this.activityResultLauncher = activityResultLauncher;\n    }\n\n\n    @NonNull\n    @Override\n    public ReservationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.reservation_item, parent, false);\n        return new ReservationViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ReservationViewHolder holder, int position) {\n        Reservation reservation = reservations.get(position);\n        holder.reservationName.setText(reservation.getName());\n        holder.reservationStatus.setText(&quot;Status: &quot; + reservation.getStatus());\n        holder.reservationDate.setText(&quot;Date of Reservation: &quot; + reservation.getDate());\n\n        holder.itemView.setOnClickListener(v -&gt; {\n            //show a dialog with options to cancel or reschedule\n            showReservationOptionsDialog(reservation);\n        });\n    }\n</code></pre>\n"},{"tags":["java","user-interface","plugins","swt","apache-hop"],"owner":{"account_id":29920736,"reputation":1,"user_id":22929954,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700160217,"creation_date":1700160217,"question_id":77497312,"body_markdown":"I tried to modify the HopVfsFileDialog to show my folders and files in my s3 bucket instead of showing the folder and files in my local disk. But I&#39;m not able to find where I can put the list folder to show? Can anyone help me please, thank you!\r\n[Click on this button](https://i.stack.imgur.com/GMz2z.png)\r\n[Current list - which retrieved from local disk](https://i.stack.imgur.com/TPp1W.png)\r\n[Apache Hop](https://github.com/apache/hop/blob/master/core/src/main/java/org/apache/hop)\r\n\r\nI tried to find the place to insert my code but I have no experience with SWT, then not able to understand the naming convention of this framework. Now I expect to find where can I put all of the objects from S3 to replace these others in local disk. ","title":"Custom HopVfsFileDialog Apache Hop","body":"<p>I tried to modify the HopVfsFileDialog to show my folders and files in my s3 bucket instead of showing the folder and files in my local disk. But I'm not able to find where I can put the list folder to show? Can anyone help me please, thank you!\n<a href=\"https://i.stack.imgur.com/GMz2z.png\" rel=\"nofollow noreferrer\">Click on this button</a>\n<a href=\"https://i.stack.imgur.com/TPp1W.png\" rel=\"nofollow noreferrer\">Current list - which retrieved from local disk</a>\n<a href=\"https://github.com/apache/hop/blob/master/core/src/main/java/org/apache/hop\" rel=\"nofollow noreferrer\">Apache Hop</a></p>\n<p>I tried to find the place to insert my code but I have no experience with SWT, then not able to understand the naming convention of this framework. Now I expect to find where can I put all of the objects from S3 to replace these others in local disk.</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":3334798,"reputation":601,"user_id":2802695,"display_name":"Roland"},"score":0,"creation_date":1700165915,"post_id":77497303,"comment_id":136624470,"body_markdown":"It worked. Thanks. Is there a way of using this (FirestoreOptions) and  FirestoreReactiveRepository from &quot;spring-cloud-gcp-starter-data-firestore&quot; at the same time? I mean customize FirestoreReactiveRepository to use the firestore I connected with FirestoreOptions.","body":"It worked. Thanks. Is there a way of using this (FirestoreOptions) and  FirestoreReactiveRepository from &quot;spring-cloud-gcp-starter-data-firestore&quot; at the same time? I mean customize FirestoreReactiveRepository to use the firestore I connected with FirestoreOptions."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1700182847,"post_id":77497303,"comment_id":136626371,"body_markdown":"Sorry, I&#39;ve never used `FirestoreReactiveRepository` and don&#39;t quickly see examples of how to use it, so I can&#39;t comment on that.","body":"Sorry, I&#39;ve never used <code>FirestoreReactiveRepository</code> and don&#39;t quickly see examples of how to use it, so I can&#39;t comment on that."},{"owner":{"account_id":3334798,"reputation":601,"user_id":2802695,"display_name":"Roland"},"score":0,"creation_date":1700223636,"post_id":77497303,"comment_id":136630969,"body_markdown":"No problem Frank. Thank you very much for you help.","body":"No problem Frank. Thank you very much for you help."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700160118,"creation_date":1700160118,"answer_id":77497303,"question_id":77497152,"body_markdown":"You&#39;ll use a code snippet similar to what&#39;s shown in the Firestore documentation on [initializing the client](https://cloud.google.com/firestore/docs/create-database-server-client-library#initialize), but then in the builder make sure to [call `setDatabaseId`](https://cloud.google.com/java/docs/reference/google-cloud-firestore/3.15.0/com.google.cloud.firestore.FirestoreOptions.Builder?hl=en#com_google_cloud_firestore_FirestoreOptions_Builder_setDatabaseId_java_lang_String_) passing in the database ID of the instance you want to access.","title":"Choose which Firestore database to connect","body":"<p>You'll use a code snippet similar to what's shown in the Firestore documentation on <a href=\"https://cloud.google.com/firestore/docs/create-database-server-client-library#initialize\" rel=\"nofollow noreferrer\">initializing the client</a>, but then in the builder make sure to <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-firestore/3.15.0/com.google.cloud.firestore.FirestoreOptions.Builder?hl=en#com_google_cloud_firestore_FirestoreOptions_Builder_setDatabaseId_java_lang_String_\" rel=\"nofollow noreferrer\">call <code>setDatabaseId</code></a> passing in the database ID of the instance you want to access.</p>\n"}],"owner":{"account_id":3334798,"reputation":601,"user_id":2802695,"display_name":"Roland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77497303,"answer_count":1,"score":0,"last_activity_date":1700160118,"creation_date":1700158449,"question_id":77497152,"body_markdown":"I have two Firestore databases in my google cloud &quot;default&quot; and &quot;mydb&quot;. When I set up my spring boot app to connect to the database it always connect to the &quot;default&quot; one. How to connect to the &quot;mydb&quot; database in my spring boot app?","title":"Choose which Firestore database to connect","body":"<p>I have two Firestore databases in my google cloud &quot;default&quot; and &quot;mydb&quot;. When I set up my spring boot app to connect to the database it always connect to the &quot;default&quot; one. How to connect to the &quot;mydb&quot; database in my spring boot app?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1700154142,"post_id":77496719,"comment_id":136622546,"body_markdown":"Do you know how to call a method? Do you know how to `return` a value from a method?","body":"Do you know how to call a method? Do you know how to <code>return</code> a value from a method?"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":6,"creation_date":1700154143,"post_id":77496719,"comment_id":136622547,"body_markdown":"None of these methods contain valid Java code, and it&#39;s not clear how these methods are in any way related to one another.  Is one of them calling another one?  Are they called by a common parent method?  Something else?  Can you provide a real example which demonstrates what you&#39;re trying and what isn&#39;t working as expected?","body":"None of these methods contain valid Java code, and it&#39;s not clear how these methods are in any way related to one another.  Is one of them calling another one?  Are they called by a common parent method?  Something else?  Can you provide a real example which demonstrates what you&#39;re trying and what isn&#39;t working as expected?"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":1,"creation_date":1700154214,"post_id":77496719,"comment_id":136622562,"body_markdown":"You need to change the return type of the methods from void to int then use *return* to return the values. I suggest doing a tutorial, because this is a very basic level at which to be asking questions on SO.","body":"You need to change the return type of the methods from void to int then use <i>return</i> to return the values. I suggest doing a tutorial, because this is a very basic level at which to be asking questions on SO."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700159972,"creation_date":1700159972,"answer_id":77497282,"question_id":77496719,"body_markdown":"&gt; _&quot;... I want to confirm on how to pass the values from methods to another methods/class. ...&quot;_\r\n\r\nThere is more than one way to accomplish this.\r\n\r\nI recommend utilizing _parameters_, and _return_ values.\\\r\n_[Defining Methods (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.\r\n\r\n```java\r\nclass A {\r\n    static int f(int a) {\r\n        return a + a;\r\n    }\r\n}\r\n\r\nclass B {\r\n    static int f(int b) {\r\n        return b + b;\r\n    }\r\n}\r\n\r\nclass C {\r\n    static int f(int c) {\r\n        return c + c;\r\n    }\r\n}\r\n\r\nclass D {\r\n    static int f() {\r\n        return A.f(1) + B.f(2) + C.f(3);\r\n    }\r\n}\r\n```","title":"How to pass value in java from methods to methods","body":"<blockquote>\n<p><em>&quot;... I want to confirm on how to pass the values from methods to another methods/class. ...&quot;</em></p>\n</blockquote>\n<p>There is more than one way to accomplish this.</p>\n<p>I recommend utilizing <em>parameters</em>, and <em>return</em> values.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Defining Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    static int f(int a) {\n        return a + a;\n    }\n}\n\nclass B {\n    static int f(int b) {\n        return b + b;\n    }\n}\n\nclass C {\n    static int f(int c) {\n        return c + c;\n    }\n}\n\nclass D {\n    static int f() {\n        return A.f(1) + B.f(2) + C.f(3);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1700170225,"answer_count":1,"score":-3,"last_activity_date":1700159972,"creation_date":1700153969,"question_id":77496719,"body_markdown":"I am new to java, I want to confirm on how to pass the values from methods to another methods/class.   \r\neg.   \r\nin `package1`\r\n```\r\npublic class class1\r\npublic void method1() {\r\na + a = e\r\n}\r\n```\r\nin `package1` but in different `class file`\r\n```\r\npublic class class2\r\npublic void method2() {\r\nb + b = f\r\n}\r\n```\r\nin `package2` \r\n```\r\npublic void method3() {\r\nc + c = g\r\n}\r\n```\r\nin `package3`\r\n```\r\npublic void method4() {\r\n// how can I get or use the value produce from method 1 , 2 and 3? \r\n(e) + (f) + (g) = d\r\n\r\n}\r\n```\r\nnote: I am using Eclipse as IDE.","title":"How to pass value in java from methods to methods","body":"<p>I am new to java, I want to confirm on how to pass the values from methods to another methods/class.<br />\neg.<br />\nin <code>package1</code></p>\n<pre><code>public class class1\npublic void method1() {\na + a = e\n}\n</code></pre>\n<p>in <code>package1</code> but in different <code>class file</code></p>\n<pre><code>public class class2\npublic void method2() {\nb + b = f\n}\n</code></pre>\n<p>in <code>package2</code></p>\n<pre><code>public void method3() {\nc + c = g\n}\n</code></pre>\n<p>in <code>package3</code></p>\n<pre><code>public void method4() {\n// how can I get or use the value produce from method 1 , 2 and 3? \n(e) + (f) + (g) = d\n\n}\n</code></pre>\n<p>note: I am using Eclipse as IDE.</p>\n"},{"tags":["java","regex","java.util.scanner"],"comments":[{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1700040591,"post_id":77486284,"comment_id":136604952,"body_markdown":"How about matching `*\\&quot;[^\\&quot;]+\\&quot; *|[^\\r\\n\\&quot;]+`? [Demo](https://regex101.com/r/jVuXR8/1) (First character of the expression is a space.)","body":"How about matching <code>*\\&quot;[^\\&quot;]+\\&quot; *|[^\\r\\n\\&quot;]+</code>? <a href=\"https://regex101.com/r/jVuXR8/1\" rel=\"nofollow noreferrer\">Demo</a> (First character of the expression is a space.)"},{"owner":{"account_id":5184501,"reputation":31,"user_id":4149250,"display_name":"Siva Ram"},"score":0,"creation_date":1700041027,"post_id":77486284,"comment_id":136605035,"body_markdown":"After 2nd line then eah values getting split on &quot; also that would be wrong is&#39;n it, New conenet &quot; \\r\\n Conetent 3&quot; supposed to be in a single match","body":"After 2nd line then eah values getting split on &quot; also that would be wrong is&#39;n it, New conenet &quot; \\r\\n Conetent 3&quot; supposed to be in a single match"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700060410,"post_id":77486284,"comment_id":136608659,"body_markdown":"It may be possible to manage this, but honestly, this is too complex a task for Scanner.  I’d be reading characters one by one and doing the parsing myself.","body":"It may be possible to manage this, but honestly, this is too complex a task for Scanner.  I’d be reading characters one by one and doing the parsing myself."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1700070493,"post_id":77486284,"comment_id":136610676,"body_markdown":"I now see the regex I suggested splits the string in a way that differs from your expected result, but I&#39;ve concluded that I don&#39;t understand the question, specifically the first line. Could you edit to make that line more precise?","body":"I now see the regex I suggested splits the string in a way that differs from your expected result, but I&#39;ve concluded that I don&#39;t understand the question, specifically the first line. Could you edit to make that line more precise?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700090366,"post_id":77486284,"comment_id":136613551,"body_markdown":"There is a pattern for this, and I forget the name.  It&#39;s similar to an _[Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)_.","body":"There is a pattern for this, and I forget the name.  It&#39;s similar to an <i><a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">Abstract Syntax Tree</a></i>."},{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":1,"creation_date":1700156680,"post_id":77486284,"comment_id":136622970,"body_markdown":"This is the same problem as handing commas within fields in CSV files. There are several questions about this topic. Try searching on this site for `[regex] csv comma is:q`.","body":"This is the same problem as handing commas within fields in CSV files. There are several questions about this topic. Try searching on this site for <code>[regex] csv comma is:q</code>."}],"answers":[{"comments":[{"owner":{"account_id":5184501,"reputation":31,"user_id":4149250,"display_name":"Siva Ram"},"score":0,"creation_date":1700054393,"post_id":77487297,"comment_id":136607379,"body_markdown":"this is also not working, as the expections is with regex only need to be able to split direvtly, instead of wring a code on top of that","body":"this is also not working, as the expections is with regex only need to be able to split direvtly, instead of wring a code on top of that"},{"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"score":0,"creation_date":1700059897,"post_id":77487297,"comment_id":136608561,"body_markdown":"@SivaRam I don&#39;t think you will manage to do that with a regex to just split into lines with `\\n\\r` not inside a string. Usually, people would tell you tu use a proper parser, such as CSV. In this case, without the traditional `;` or `,` delimiters. I also don&#39;t think that using regex lookarounds will solve the problem either, because as *Java* told you, the lookbehind should have a fixed length. And this will not solve the case of a double quote character inside a double-quoted string. Need a bullet-proof solution? then go for a few lines of code with a callback and a bit of logic.","body":"@SivaRam I don&#39;t think you will manage to do that with a regex to just split into lines with <code>\\n\\r</code> not inside a string. Usually, people would tell you tu use a proper parser, such as CSV. In this case, without the traditional <code>;</code> or <code>,</code> delimiters. I also don&#39;t think that using regex lookarounds will solve the problem either, because as <i>Java</i> told you, the lookbehind should have a fixed length. And this will not solve the case of a double quote character inside a double-quoted string. Need a bullet-proof solution? then go for a few lines of code with a callback and a bit of logic."}],"tags":[],"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700156315,"creation_date":1700047315,"answer_id":77487297,"question_id":77486284,"body_markdown":"What you can do is use a regular expression that matches\r\ndouble-quoted strings or your `\\r\\n`, in two different named\r\ncapturing groups. This can be done with the use of `(?: | )` to do\r\nan &quot;**or**&quot; condition (without capturing it) and then with\r\n`(?&lt;group_name&gt; )` to create the named capturing groups.\r\n\r\nTo match a double-quoted string, it can be something like this: \r\n`&quot;(?:\\\\.|[^&quot;])*&quot;`\r\n\r\nExplained:\r\n\r\n- `&quot;` matches the opening double-quote.\r\n- `\\\\.` matches a backslash followed by any char. This is\r\n  because **double-quotes are allowed in a string** and are usually\r\n  escaped with a backslash. This way, we don&#39;t stop on a double\r\n  quote. It will also handle this case properly:\r\n\r\n  ```\r\n  Input : &quot;Backslash = \\\\&quot; or &quot;Tab = \\t&quot; \r\n  ```\r\n\r\n  If we just have `\\\\&quot;` as pattern, then we would not match\r\n  correctly the `&quot;Backslash = \\\\&quot;` string and continue until\r\n  the next opening double-quote.\r\n\r\n  This is where we see that using a regex with lookarounds\r\n  isn&#39;t really a solution. We need to &quot;consume&quot; content like\r\n  a parser would do. By the way, your content looks like some\r\n  CSV content without the usual `,` or `;` delimiter. A CSV\r\n  parser will handle strings properly. We have to try and do\r\n  the same with our regex pattern ;-)\r\n\r\n  **You have to check how double-quotes are escaped in\r\n  your input**. For example, CSV syntax just doubles the\r\n  quotes like this:\r\n\r\n  ```\r\n  1997,Ford,E350,&quot;Super &quot;&quot;luxurious&quot;&quot; truck&quot;\r\n  ```\r\n\r\n- `[^&quot;]` will match any char which is not a double-quote.\r\n- `(?: | )` is a non-capturing group with two possibilities.\r\n  Adding the `*` behind means that it can be repeated 0 or N times.\r\n\r\nThe full regex, with the _**x**_ flag for the _e**x**tended syntax_\r\nwill let you add comments and spaces in your regex, for better\r\nreading.\r\n\r\nThe PCRE syntax (PHP), with the _**g**_ flag for\r\n_**g**lobal/multiple_:\r\n\r\n```\r\n/\r\n(?:\r\n  # String with possible escaped char inside.\r\n  (?&lt;string&gt;&quot;(?:\\\\.|[^&quot;])*&quot;)\r\n| # or\r\n  # \\r\\n, but outside a string (as it&#39;s tested after the string).\r\n  (?&lt;newline&gt;\\\\r\\\\n)\r\n)\r\n/gx\r\n```\r\n\r\n**Test it on regex101 for _Java_**: https://regex101.com/r/c0LZD2/3\r\n\r\nYou&#39;ll have to loop over the matches and test if the group named\r\n*newline* (or the group of index 2) is filled or not. If it&#39;s filled\r\nthen replace it by your real newline.\r\n\r\nI&#39;m not a *Java* developer. I use *PHP* or *JavaScript* and do that\r\nwith a replacement callback, like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Same regular expression, but here without named capturing groups.\r\n    //\r\n    //                   g1 = string     g2 = newline &amp; spaces\r\n    //                /&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;\\ /&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;&#175;\\\r\n    const regex = /(?:(&quot;(?:\\\\.|[^&quot;])*&quot;)|(\\s*\\\\r\\\\n\\s*))/g;\r\n\r\n    const input = `Input : &quot;Content1 \\\\r\\\\n block&quot; \\\\r\\\\n Contentn2 \\\\r\\\\n New conenet &quot; \\\\r\\\\n Conetent 3&quot;\r\nInput : &quot;A string can contain \\\\&quot;quotes\\\\&quot;&quot; \\\\r\\\\n Something else &quot;\\\\&quot; \\\\r\\\\n&quot;\r\nInput : &quot;Tab = \\\\t | bell = \\\\a (\\\\&quot;alert\\\\&quot;) | backslash = \\\\\\\\&quot; \\\\r\\\\n &quot;String 2&quot; UnquotedString`;\r\n\r\n    console.log(&quot;input:&quot;);\r\n    console.log(input);\r\n    console.log(&quot;output:&quot;);\r\n    console.log(\r\n      // Replace input:    callback   match      group 1     group 2\r\n      //                       |        |           |           |\r\n      input.replace(regex, function(fullMatch, quotedString, newLine) {\r\n        // If the newLine group isn&#39;t empty, then replace it\r\n        // by a real new line.\r\n        if (newLine) {\r\n          return &quot;\\n&quot;;\r\n        // If not, don&#39;t change anything, so return the full match.\r\n        } else {\r\n          return fullMatch;\r\n        }\r\n      })\r\n    );\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n## Edit\r\n\r\nSince the question was edited to be a bit clearer, **my answer isn&#39;t\r\nvalid any more**. The original question wasn&#39;t saying that `\\r\\n` was\r\nalready in *Java* strings, so I was literally looking for this\r\nsequence of 4 characters and not the real carriage return and new\r\nline characters.\r\n\r\nIt wasn&#39;t also clear that we had to stick using the `Scanner` class\r\nand use a &quot;split&quot; kind of pattern.\r\n\r\nNever mind... But in any case, don&#39;t forget to handle quotes in\r\nstrings as they aren&#39;t any details or assumptions about this point.","title":"Scanner delimter to only take new line outside of double quotes in java","body":"<p>What you can do is use a regular expression that matches\ndouble-quoted strings or your <code>\\r\\n</code>, in two different named\ncapturing groups. This can be done with the use of <code>(?: | )</code> to do\nan &quot;<strong>or</strong>&quot; condition (without capturing it) and then with\n<code>(?&lt;group_name&gt; )</code> to create the named capturing groups.</p>\n<p>To match a double-quoted string, it can be something like this:\n<code>&quot;(?:\\\\.|[^&quot;])*&quot;</code></p>\n<p>Explained:</p>\n<ul>\n<li><p><code>&quot;</code> matches the opening double-quote.</p>\n</li>\n<li><p><code>\\\\.</code> matches a backslash followed by any char. This is\nbecause <strong>double-quotes are allowed in a string</strong> and are usually\nescaped with a backslash. This way, we don't stop on a double\nquote. It will also handle this case properly:</p>\n<pre><code>Input : &quot;Backslash = \\\\&quot; or &quot;Tab = \\t&quot; \n</code></pre>\n<p>If we just have <code>\\\\&quot;</code> as pattern, then we would not match\ncorrectly the <code>&quot;Backslash = \\\\&quot;</code> string and continue until\nthe next opening double-quote.</p>\n<p>This is where we see that using a regex with lookarounds\nisn't really a solution. We need to &quot;consume&quot; content like\na parser would do. By the way, your content looks like some\nCSV content without the usual <code>,</code> or <code>;</code> delimiter. A CSV\nparser will handle strings properly. We have to try and do\nthe same with our regex pattern ;-)</p>\n<p><strong>You have to check how double-quotes are escaped in\nyour input</strong>. For example, CSV syntax just doubles the\nquotes like this:</p>\n<pre><code>1997,Ford,E350,&quot;Super &quot;&quot;luxurious&quot;&quot; truck&quot;\n</code></pre>\n</li>\n<li><p><code>[^&quot;]</code> will match any char which is not a double-quote.</p>\n</li>\n<li><p><code>(?: | )</code> is a non-capturing group with two possibilities.\nAdding the <code>*</code> behind means that it can be repeated 0 or N times.</p>\n</li>\n</ul>\n<p>The full regex, with the <em><strong>x</strong></em> flag for the <em>e<strong>x</strong>tended syntax</em>\nwill let you add comments and spaces in your regex, for better\nreading.</p>\n<p>The PCRE syntax (PHP), with the <em><strong>g</strong></em> flag for\n<em><strong>g</strong>lobal/multiple</em>:</p>\n<pre><code>/\n(?:\n  # String with possible escaped char inside.\n  (?&lt;string&gt;&quot;(?:\\\\.|[^&quot;])*&quot;)\n| # or\n  # \\r\\n, but outside a string (as it's tested after the string).\n  (?&lt;newline&gt;\\\\r\\\\n)\n)\n/gx\n</code></pre>\n<p><strong>Test it on regex101 for <em>Java</em></strong>: <a href=\"https://regex101.com/r/c0LZD2/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/c0LZD2/3</a></p>\n<p>You'll have to loop over the matches and test if the group named\n<em>newline</em> (or the group of index 2) is filled or not. If it's filled\nthen replace it by your real newline.</p>\n<p>I'm not a <em>Java</em> developer. I use <em>PHP</em> or <em>JavaScript</em> and do that\nwith a replacement callback, like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Same regular expression, but here without named capturing groups.\n//\n//                   g1 = string     g2 = newline &amp; spaces\n//                /¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯\\ /¯¯¯¯¯¯¯¯¯¯¯¯\\\nconst regex = /(?:(\"(?:\\\\.|[^\"])*\")|(\\s*\\\\r\\\\n\\s*))/g;\n\nconst input = `Input : \"Content1 \\\\r\\\\n block\" \\\\r\\\\n Contentn2 \\\\r\\\\n New conenet \" \\\\r\\\\n Conetent 3\"\nInput : \"A string can contain \\\\\"quotes\\\\\"\" \\\\r\\\\n Something else \"\\\\\" \\\\r\\\\n\"\nInput : \"Tab = \\\\t | bell = \\\\a (\\\\\"alert\\\\\") | backslash = \\\\\\\\\" \\\\r\\\\n \"String 2\" UnquotedString`;\n\nconsole.log(\"input:\");\nconsole.log(input);\nconsole.log(\"output:\");\nconsole.log(\n  // Replace input:    callback   match      group 1     group 2\n  //                       |        |           |           |\n  input.replace(regex, function(fullMatch, quotedString, newLine) {\n    // If the newLine group isn't empty, then replace it\n    // by a real new line.\n    if (newLine) {\n      return \"\\n\";\n    // If not, don't change anything, so return the full match.\n    } else {\n      return fullMatch;\n    }\n  })\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Edit</h2>\n<p>Since the question was edited to be a bit clearer, <strong>my answer isn't\nvalid any more</strong>. The original question wasn't saying that <code>\\r\\n</code> was\nalready in <em>Java</em> strings, so I was literally looking for this\nsequence of 4 characters and not the real carriage return and new\nline characters.</p>\n<p>It wasn't also clear that we had to stick using the <code>Scanner</code> class\nand use a &quot;split&quot; kind of pattern.</p>\n<p>Never mind... But in any case, don't forget to handle quotes in\nstrings as they aren't any details or assumptions about this point.</p>\n"},{"comments":[{"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"score":1,"creation_date":1700121763,"post_id":77491815,"comment_id":136616315,"body_markdown":"This will not work if the string itself contains some quotes: `&quot;Something can be \\&quot;quoted\\&quot; in the string&quot;` (escaped by a backslash). I also think that the author of the question was obliged to use the `Scanner` class, and this is why my answer isn&#39;t solving his expectations either.","body":"This will not work if the string itself contains some quotes: <code>&quot;Something can be \\&quot;quoted\\&quot; in the string&quot;</code> (escaped by a backslash). I also think that the author of the question was obliged to use the <code>Scanner</code> class, and this is why my answer isn&#39;t solving his expectations either."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700158210,"post_id":77491815,"comment_id":136623195,"body_markdown":"@PatrickJanser, a valid argument; I&#39;ll add it in.","body":"@PatrickJanser, a valid argument; I&#39;ll add it in."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700158996,"creation_date":1700098636,"answer_id":77491815,"question_id":77486284,"body_markdown":"Traverse _s_, appending a _substring_ for any _line-feed_, when _b_ is _false_.\r\n\r\n```java\r\nString s = &quot;\\&quot;Content1 \\r\\n block\\&quot; \\r\\n Contentn2 \\r\\n  New Content \\&quot; \\r\\n Conetent3\\&quot;&quot;;\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\r\nchar[] a = s.toCharArray();\r\nboolean b = false;\r\nint t = 0;\r\nfor (int i = 0, n = a.length; i &lt; n; i++)\r\n    switch (a[i]) {\r\n        case &#39;&quot;&#39; -&gt; b = !b;\r\n        case &#39;\\n&#39; -&gt; {\r\n            if (!b) l.add(s.substring(t, (t = i) + 1).trim());\r\n        }\r\n    }\r\nl.add(s.substring(t).trim());\r\n```\r\n\r\nHere is the output, with `\\r` and `\\n` replaced with literals, for readability.\r\n\r\n```none\r\n&quot;Content1 \\r\\n block&quot;\r\nContentn2\r\nNew Content &quot; \\r\\n Conetent3&quot;\r\n```\r\n\r\n----------\r\nEdit\r\n\r\nIf you expect _escaped_ _quotation-marks_, `\\&quot;`, provide a  check, before flipping _b_.\r\n\r\n```java\r\ncase &#39;&quot;&#39; -&gt; {\r\n    if (i == 0 || a[i - 1] != &#39;\\\\&#39;) b = !b;\r\n}\r\n```","title":"Scanner delimter to only take new line outside of double quotes in java","body":"<p>Traverse <em>s</em>, appending a <em>substring</em> for any <em>line-feed</em>, when <em>b</em> is <em>false</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;\\&quot;Content1 \\r\\n block\\&quot; \\r\\n Contentn2 \\r\\n  New Content \\&quot; \\r\\n Conetent3\\&quot;&quot;;\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\nchar[] a = s.toCharArray();\nboolean b = false;\nint t = 0;\nfor (int i = 0, n = a.length; i &lt; n; i++)\n    switch (a[i]) {\n        case '&quot;' -&gt; b = !b;\n        case '\\n' -&gt; {\n            if (!b) l.add(s.substring(t, (t = i) + 1).trim());\n        }\n    }\nl.add(s.substring(t).trim());\n</code></pre>\n<p>Here is the output, with <code>\\r</code> and <code>\\n</code> replaced with literals, for readability.</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;Content1 \\r\\n block&quot;\nContentn2\nNew Content &quot; \\r\\n Conetent3&quot;\n</code></pre>\n<hr />\n<p>Edit</p>\n<p>If you expect <em>escaped</em> <em>quotation-marks</em>, <code>\\&quot;</code>, provide a  check, before flipping <em>b</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>case '&quot;' -&gt; {\n    if (i == 0 || a[i - 1] != '\\\\') b = !b;\n}\n</code></pre>\n"}],"owner":{"account_id":5184501,"reputation":31,"user_id":4149250,"display_name":"Siva Ram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700158996,"creation_date":1700038151,"question_id":77486284,"body_markdown":"I have requirement to read from the scanner based on new line only if its out side the double quotes.\r\n\r\nInput : \r\n``&quot;Content1 \\r\\n block&quot; \\r\\n Contentn2 \\r\\n  New Content &quot; \\r\\n Conetent3&quot;``\r\n\r\nExpected Output :\r\n\r\n&gt; &quot;Content1 \\r\\n block&quot;\r\n\r\n&gt;Content2\r\n\r\n&gt;New Content &quot; \\r\\n Conetent3&quot; \r\n\r\n\r\n\r\n\r\nI have tried with \r\n```\r\nString content = &quot;\\&quot;Content1 \\r\\n block\\&quot; \\r\\n Contentn2 \\r\\n New conenet \\&quot; \\r\\n Conetent 3\\&quot;&quot;;\r\nScanner fileScanner = new Scanner(content);\r\nString regex = &quot;[^\\&quot;\\r\\n]+(?:\\&quot;[^\\&quot;]*\\&quot;[^\\&quot;\\r\\n]+)*&quot;;\r\nwhile(fileScanner.hasNext())\r\n{\r\nString rec = fileScanner.findWithinHorizon(regex,0);\r\nSysyetem.out.println(rec);\r\n}\r\n```\r\n\r\nbut it not working as expected above, checked other also but none of them working for this\r\n\r\n`` /(?&lt;=^[^&quot;]*(?:&quot;[^&quot;]*&quot;[^&quot;]*)*)\\r?\\n/ `` this worked in Javascript to get only outside \\r\\n, but not working in java throwing error when tried to use as fileScanner.useDelimter()\r\n`` Look-behind group does not have obvuios maximum length``\r\n\r\nPlease suggest\r\n","title":"Scanner delimter to only take new line outside of double quotes in java","body":"<p>I have requirement to read from the scanner based on new line only if its out side the double quotes.</p>\n<p>Input :\n<code>&quot;Content1 \\r\\n block&quot; \\r\\n Contentn2 \\r\\n  New Content &quot; \\r\\n Conetent3&quot;</code></p>\n<p>Expected Output :</p>\n<blockquote>\n<p>&quot;Content1 \\r\\n block&quot;</p>\n</blockquote>\n<blockquote>\n<p>Content2</p>\n</blockquote>\n<blockquote>\n<p>New Content &quot; \\r\\n Conetent3&quot;</p>\n</blockquote>\n<p>I have tried with</p>\n<pre><code>String content = &quot;\\&quot;Content1 \\r\\n block\\&quot; \\r\\n Contentn2 \\r\\n New conenet \\&quot; \\r\\n Conetent 3\\&quot;&quot;;\nScanner fileScanner = new Scanner(content);\nString regex = &quot;[^\\&quot;\\r\\n]+(?:\\&quot;[^\\&quot;]*\\&quot;[^\\&quot;\\r\\n]+)*&quot;;\nwhile(fileScanner.hasNext())\n{\nString rec = fileScanner.findWithinHorizon(regex,0);\nSysyetem.out.println(rec);\n}\n</code></pre>\n<p>but it not working as expected above, checked other also but none of them working for this</p>\n<p><code>/(?&lt;=^[^&quot;]*(?:&quot;[^&quot;]*&quot;[^&quot;]*)*)\\r?\\n/</code> this worked in Javascript to get only outside \\r\\n, but not working in java throwing error when tried to use as fileScanner.useDelimter()\n<code> Look-behind group does not have obvuios maximum length</code></p>\n<p>Please suggest</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1700093188,"post_id":77491445,"comment_id":136613788,"body_markdown":"Can you post your full build.gradle?","body":"Can you post your full build.gradle?"},{"owner":{"account_id":29912864,"reputation":1,"user_id":22923800,"display_name":"giraffephant"},"score":0,"creation_date":1700139181,"post_id":77491445,"comment_id":136619425,"body_markdown":"@Marsroverr `// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id(&quot;com.android.application&quot;) version &quot;3.3.0&quot; apply false\n}`is the complete file where the error points too... but Android Studio creates a 2nd build.graddle file... want to see that one too?","body":"@Marsroverr <code>&#47;&#47; Top-level build file where you can add configuration options common to all sub-projects&#47;modules. plugins {     id(&quot;com.android.application&quot;) version &quot;3.3.0&quot; apply false }</code>is the complete file where the error points too... but Android Studio creates a 2nd build.graddle file... want to see that one too?"},{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1700157192,"post_id":77491445,"comment_id":136623051,"body_markdown":"Yea, send the app build.gradle too","body":"Yea, send the app build.gradle too"},{"owner":{"account_id":29912864,"reputation":1,"user_id":22923800,"display_name":"giraffephant"},"score":0,"creation_date":1700158882,"post_id":77491445,"comment_id":136623294,"body_markdown":"@Marsroverr put it into the post :)","body":"@Marsroverr put it into the post :)"}],"answers":[{"comments":[{"owner":{"account_id":29912864,"reputation":1,"user_id":22923800,"display_name":"giraffephant"},"score":0,"creation_date":1700091493,"post_id":77491489,"comment_id":136613645,"body_markdown":"I dont have that setting under Projekt, but isntead it tells me &quot;JDK location was moved to Graddle Settings&quot;. and thats where I changed the JDK to the wanted JDK. Now there are the above mentioned errors occuring. :/","body":"I dont have that setting under Projekt, but isntead it tells me &quot;JDK location was moved to Graddle Settings&quot;. and thats where I changed the JDK to the wanted JDK. Now there are the above mentioned errors occuring. :/"},{"owner":{"account_id":25333768,"reputation":1,"user_id":19153209,"display_name":"Furkan Yılmaz"},"score":0,"creation_date":1700092100,"post_id":77491489,"comment_id":136613701,"body_markdown":"Update the Android Gradle plugin you can specify the plugin version in either the File &gt; Project Structure &gt; Project menu in Android Studio, or the top-level build.gradle.kts file. The plugin version applies to all modules built in that Android Studio project. The following example sets the plugin to version 8.1.0 from the build.gradle.kts file: plugins {\n    id &#39;com.android.application&#39; version &#39;8.1.0&#39; apply false\n    id &#39;com.android.library&#39; version &#39;8.1.0&#39; apply false\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.5.31&#39; apply false\n}","body":"Update the Android Gradle plugin you can specify the plugin version in either the File &gt; Project Structure &gt; Project menu in Android Studio, or the top-level build.gradle.kts file. The plugin version applies to all modules built in that Android Studio project. The following example sets the plugin to version 8.1.0 from the build.gradle.kts file: plugins {     id &#39;com.android.application&#39; version &#39;8.1.0&#39; apply false     id &#39;com.android.library&#39; version &#39;8.1.0&#39; apply false     id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.5.31&#39; apply false }"},{"owner":{"account_id":29912864,"reputation":1,"user_id":22923800,"display_name":"giraffephant"},"score":0,"creation_date":1700140020,"post_id":77491489,"comment_id":136619605,"body_markdown":"I cant set it in the Project structures, because there is no menu... running ur code I also get some kotlin errors I cant comprehend and also my goal is to set it down to 3.3.0 ... and if I try it with changig the version to 3.3.0 it says it cant find the version...","body":"I cant set it in the Project structures, because there is no menu... running ur code I also get some kotlin errors I cant comprehend and also my goal is to set it down to 3.3.0 ... and if I try it with changig the version to 3.3.0 it says it cant find the version..."}],"tags":[],"owner":{"account_id":25333768,"reputation":1,"user_id":19153209,"display_name":"Furkan Yılmaz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700091114,"creation_date":1700091114,"answer_id":77491489,"question_id":77491445,"body_markdown":"Java Version:\r\nMake sure you are using Java SE 11, as you mentioned. In Android Studio, you can set the JDK version by going to File -&gt; Project Structure -&gt; Project -&gt; Project SDK","title":"android studio use old java jdk","body":"<p>Java Version:\nMake sure you are using Java SE 11, as you mentioned. In Android Studio, you can set the JDK version by going to File -&gt; Project Structure -&gt; Project -&gt; Project SDK</p>\n"}],"owner":{"account_id":29912864,"reputation":1,"user_id":22923800,"display_name":"giraffephant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700158770,"creation_date":1700090225,"question_id":77491445,"body_markdown":"For university we have to create an app based on JAVA SE 11 and run on android so we planned to use android studio. \r\nTrying to do so I selected the jdk under Settings -&gt; Build,Execution,Deployement -&gt; Build Tools -&gt; Gradle -&gt; Gradle JDK, which I think is what ure supposed to do to use Java 11.\r\n\r\nDoing this I had to downgrade the Gradle Version of the Project to 5.0 as far as Im informed, which I did in the project settings, and here Im getting to the next problem which runs an error about \r\n&gt; Unresolved referenece: dependencyResolutionManagement\r\n\r\nNot really knowing what to do I just deleted that block of code. which kinda works except that now there is the error of the AGP(Android Gradle Plugin) Version for which the gradle version is too low, but since we have to use that one, I have to downgrade the AGP version.\r\n\r\nTrying to do so I changed the version of it in build.gradle.kts in \r\n`id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false`\r\nto 3.3.0 which only requires gradle 4.10.1 or higher. \r\nProblem here: it cant find the Plugin anywhere.\r\n&gt; Plugin [id: &#39;com.android.application&#39;, version: &#39;3.3.0&#39;, apply: false] was not found in any of the following sources:\r\nor`- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin marker &#39;com.android.application:com.android.application.gradle.plugin:3.3.0&#39;)`\r\n\r\nalso Im using Android studio Giraffe, even saying requiring AGP 3.2.0 - is this an IDE thing?\r\n\r\n\r\nmy build.gradle (app) file:\r\n```\r\nplugins {\r\n    id(&quot;com.android.application&quot;)\r\n}\r\n\r\nandroid {\r\n    namespace = &quot;com.example.myapplication3&quot;\r\n    compileSdk = 33\r\n\r\n    defaultConfig {\r\n        applicationId = &quot;com.example.myapplication3&quot;\r\n        minSdk = 26\r\n        targetSdk = 33\r\n        versionCode = 1\r\n        versionName = &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(\r\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\r\n                &quot;proguard-rules.pro&quot;\r\n            )\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding = true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;androidx.navigation:navigation-fragment:2.7.5&quot;)\r\n    implementation(&quot;androidx.navigation:navigation-ui:2.7.5&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n}\r\n```\r\n","title":"android studio use old java jdk","body":"<p>For university we have to create an app based on JAVA SE 11 and run on android so we planned to use android studio.\nTrying to do so I selected the jdk under Settings -&gt; Build,Execution,Deployement -&gt; Build Tools -&gt; Gradle -&gt; Gradle JDK, which I think is what ure supposed to do to use Java 11.</p>\n<p>Doing this I had to downgrade the Gradle Version of the Project to 5.0 as far as Im informed, which I did in the project settings, and here Im getting to the next problem which runs an error about</p>\n<blockquote>\n<p>Unresolved referenece: dependencyResolutionManagement</p>\n</blockquote>\n<p>Not really knowing what to do I just deleted that block of code. which kinda works except that now there is the error of the AGP(Android Gradle Plugin) Version for which the gradle version is too low, but since we have to use that one, I have to downgrade the AGP version.</p>\n<p>Trying to do so I changed the version of it in build.gradle.kts in\n<code>id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false</code>\nto 3.3.0 which only requires gradle 4.10.1 or higher.\nProblem here: it cant find the Plugin anywhere.</p>\n<blockquote>\n<p>Plugin [id: 'com.android.application', version: '3.3.0', apply: false] was not found in any of the following sources:\nor`- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)</p>\n</blockquote>\n<ul>\n<li>Plugin Repositories (could not resolve plugin marker 'com.android.application:com.android.application.gradle.plugin:3.3.0')`</li>\n</ul>\n<p>also Im using Android studio Giraffe, even saying requiring AGP 3.2.0 - is this an IDE thing?</p>\n<p>my build.gradle (app) file:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n}\n\nandroid {\n    namespace = &quot;com.example.myapplication3&quot;\n    compileSdk = 33\n\n    defaultConfig {\n        applicationId = &quot;com.example.myapplication3&quot;\n        minSdk = 26\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\n                &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding = true\n    }\n}\n\ndependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;androidx.navigation:navigation-fragment:2.7.5&quot;)\n    implementation(&quot;androidx.navigation:navigation-ui:2.7.5&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1561456508,"post_id":56748510,"comment_id":100060346,"body_markdown":"When the properties have `int` values as indicated in the question, using `Integer.parseInt` is preferable to `Integer.valueOf`, to avoid unnecessary boxing into `Integer` objects, just to unbox them. Besides that, I’d add a `static` factory method to the `Person` class like `Person.parse(String)` doing the conversions.","body":"When the properties have <code>int</code> values as indicated in the question, using <code>Integer.parseInt</code> is preferable to <code>Integer.valueOf</code>, to avoid unnecessary boxing into <code>Integer</code> objects, just to unbox them. Besides that, I’d add a <code>static</code> factory method to the <code>Person</code> class like <code>Person.parse(String)</code> doing the conversions."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1561446210,"creation_date":1561446210,"answer_id":56748510,"question_id":56748468,"body_markdown":"You should use `map` in order to map each array to a corresponding `Person` instance:\r\n\r\n    al = br.lines().map(s -&gt; s.split(&quot;,&quot;))\r\n                   .map (a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3])))\r\n                   .collect(Collectors.toList());\r\n\r\nBTW, `Collectors.toList()` returns a `List`, not an `ArrayList` (even if the default implementation does return `ArrayList`, you can&#39;t count on that).","title":"Java Stream API collect method","body":"<p>You should use <code>map</code> in order to map each array to a corresponding <code>Person</code> instance:</p>\n\n<pre><code>al = br.lines().map(s -&gt; s.split(\",\"))\n               .map (a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3])))\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>BTW, <code>Collectors.toList()</code> returns a <code>List</code>, not an <code>ArrayList</code> (even if the default implementation does return <code>ArrayList</code>, you can't count on that).</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561446235,"creation_date":1561446235,"answer_id":56748515,"question_id":56748468,"body_markdown":"You need to `map` it to the `Person` object before trying to `collect` it:\r\n\r\n    .map(s -&gt; s.split(&quot;,&quot;))\r\n    .map(a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3])) //here\r\n    .collect(Collectors.toList())","title":"Java Stream API collect method","body":"<p>You need to <code>map</code> it to the <code>Person</code> object before trying to <code>collect</code> it:</p>\n\n<pre><code>.map(s -&gt; s.split(\",\"))\n.map(a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3])) //here\n.collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794893,"reputation":837,"user_id":2404284,"accept_rate":62,"display_name":"chaitanya89"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561467012,"creation_date":1561467012,"answer_id":56754497,"question_id":56748468,"body_markdown":"Why to map twice? You can directly do this,\r\n\r\n    .map(s -&gt; {\r\n    \t\t\tString[] parts = s.split(&quot;,&quot;);\r\n    \t\t\treturn new Person(parts[0],parts[1],Integer.valueOf(parts[2]),Integer.valueOf(parts[3]));\r\n    \t\t}).collect(Collectors.toList());","title":"Java Stream API collect method","body":"<p>Why to map twice? You can directly do this,</p>\n\n<pre><code>.map(s -&gt; {\n            String[] parts = s.split(\",\");\n            return new Person(parts[0],parts[1],Integer.valueOf(parts[2]),Integer.valueOf(parts[3]));\n        }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6377383,"reputation":177,"user_id":4947891,"display_name":"vatsal gosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561467847,"creation_date":1561467847,"answer_id":56754766,"question_id":56748468,"body_markdown":"What you did is on correct lines, only thing missing is that you create the Person object in collect, instead you could create it inside the map method itself and return that and use the collect method with Collectors.toList() method. Below code snippet will give a good idea of what I am trying to convey:\r\n\r\n    al= br.lines()\r\n          .map(s -&gt; {\r\n                        String[] subStrings = s.split(&quot;,&quot;);\r\n                        return new Person(subStrings[0], subStrings[1], Integer.valueOf(subStrings[2]), Integer.valueOf(subStrings[3]));\r\n                    })\r\n          .collect(Collectors.toList());\r\n\r\nThis way you use the map method only once, and return the object that is needed which the collect method consolidates into a List. If you want it to be an ArrayList you can use Collections framework to cast List to ArrayList, but I think List should be fine for your operations.","title":"Java Stream API collect method","body":"<p>What you did is on correct lines, only thing missing is that you create the Person object in collect, instead you could create it inside the map method itself and return that and use the collect method with Collectors.toList() method. Below code snippet will give a good idea of what I am trying to convey:</p>\n\n<pre><code>al= br.lines()\n      .map(s -&gt; {\n                    String[] subStrings = s.split(\",\");\n                    return new Person(subStrings[0], subStrings[1], Integer.valueOf(subStrings[2]), Integer.valueOf(subStrings[3]));\n                })\n      .collect(Collectors.toList());\n</code></pre>\n\n<p>This way you use the map method only once, and return the object that is needed which the collect method consolidates into a List. If you want it to be an ArrayList you can use Collections framework to cast List to ArrayList, but I think List should be fine for your operations.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561476169,"creation_date":1561476169,"answer_id":56757357,"question_id":56748468,"body_markdown":"I would recommend adding a `static method (or according constructor) to your person class which parses the CSV string:\r\n\r\n    public static Person fromCSV(String csv) {\r\n        String[] parts = csv.split(&quot;,&quot;);\r\n        if (parts.length != 4) {\r\n            throw new IllegalArgumentException(&quot;csv has not 4 parts&quot;);\r\n        }\r\n        return new Person(parts[0], parts[1], Integer.parseInt(parts[2]), Integer.parseInt(parts[3]));\r\n    }\r\n\r\nTo read the lines you can alternatively use [`Files.lines()`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-). Using all that you can use this to create you `List&lt;Person&gt;`:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;./person.txt&quot;))) {\r\n        List&lt;Person&gt; persons = lines\r\n                .map(Person::fromCSV)\r\n                .collect(Collectors.toList());\r\n    }\r\n","title":"Java Stream API collect method","body":"<p>I would recommend adding a `static method (or according constructor) to your person class which parses the CSV string:</p>\n\n<pre><code>public static Person fromCSV(String csv) {\n    String[] parts = csv.split(\",\");\n    if (parts.length != 4) {\n        throw new IllegalArgumentException(\"csv has not 4 parts\");\n    }\n    return new Person(parts[0], parts[1], Integer.parseInt(parts[2]), Integer.parseInt(parts[3]));\n}\n</code></pre>\n\n<p>To read the lines you can alternatively use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.lines()</code></a>. Using all that you can use this to create you <code>List&lt;Person&gt;</code>:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(Paths.get(\"./person.txt\"))) {\n    List&lt;Person&gt; persons = lines\n            .map(Person::fromCSV)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":15311083,"reputation":1516,"user_id":11046379,"display_name":"harp1814"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56748510,"answer_count":5,"score":4,"last_activity_date":1700158703,"creation_date":1561446068,"question_id":56748468,"body_markdown":"There is class Person:\r\n\r\n    class Person {\r\n        private String id;\r\n        private String name;\r\n        private int age;\r\n        private int amount;\r\n    }\r\n\r\nand I have created `HashMap` of `Person` using external file contains lines:\r\n  \r\n\r\n    001,aaa,23,1200\r\n    002,bbb,24,1300\r\n    003,ccc,25,1400\r\n    004,ddd,26,1500\r\n\r\n***Mainclass.java***\r\n\r\n    public class Mainclass {\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;Person&gt; al = new ArrayList&lt;&gt;();\r\n        Map&lt;String,Person&gt; hm = new HashMap&lt;&gt;();\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;./person.txt&quot;))) {\r\n            hm = br.lines().map(s -&gt; s.split(&quot;,&quot;))\r\n                    .collect(Collectors.toMap(a -&gt; a[0], a-&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3]))));\r\n        }\r\n    }\r\n}\r\n\r\nIt works fine for `HashMap`. \r\n\r\nHow to do the same for `ArrayList`?\r\n\r\nI tried:\r\n\r\n        al = br.lines().map(s -&gt; s.split(&quot;,&quot;))\r\n                        .collect(Collectors.toList(a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3]))));\r\n    \r\n(IntelijIdea is underlined in red &quot;a[0]&quot; and says &quot;Array type expected,found : lambda parameter&quot;)\r\n\r\n","title":"Java Stream API collect method","body":"<p>There is class Person:</p>\n<pre><code>class Person {\n    private String id;\n    private String name;\n    private int age;\n    private int amount;\n}\n</code></pre>\n<p>and I have created <code>HashMap</code> of <code>Person</code> using external file contains lines:</p>\n<pre><code>001,aaa,23,1200\n002,bbb,24,1300\n003,ccc,25,1400\n004,ddd,26,1500\n</code></pre>\n<p><em><strong>Mainclass.java</strong></em></p>\n<pre><code>public class Mainclass {\npublic static void main(String[] args) throws IOException {\n    List&lt;Person&gt; al = new ArrayList&lt;&gt;();\n    Map&lt;String,Person&gt; hm = new HashMap&lt;&gt;();\n    try (BufferedReader br = new BufferedReader(new FileReader(&quot;./person.txt&quot;))) {\n        hm = br.lines().map(s -&gt; s.split(&quot;,&quot;))\n                .collect(Collectors.toMap(a -&gt; a[0], a-&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3]))));\n    }\n}\n</code></pre>\n<p>}</p>\n<p>It works fine for <code>HashMap</code>.</p>\n<p>How to do the same for <code>ArrayList</code>?</p>\n<p>I tried:</p>\n<pre><code>    al = br.lines().map(s -&gt; s.split(&quot;,&quot;))\n                    .collect(Collectors.toList(a -&gt; new Person(a[0],a[1],Integer.valueOf(a[2]),Integer.valueOf(a[3]))));\n</code></pre>\n<p>(IntelijIdea is underlined in red &quot;a[0]&quot; and says &quot;Array type expected,found : lambda parameter&quot;)</p>\n"},{"tags":["java","spring","spring-boot","security"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":2,"creation_date":1700089321,"post_id":77491344,"comment_id":136613445,"body_markdown":"Without knowing the specific vulnerability, the only answer here is &quot;no, update to a patched version&quot;. In some specific cases there may be a workaround you can do to mitigate the vulnerability, but it is unlikely and impossible to say without knowing the exact vulnerability","body":"Without knowing the specific vulnerability, the only answer here is &quot;no, update to a patched version&quot;. In some specific cases there may be a workaround you can do to mitigate the vulnerability, but it is unlikely and impossible to say without knowing the exact vulnerability"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700118943,"post_id":77491344,"comment_id":136615937,"body_markdown":"For starters update to Spring Boot 2.7.17, and do some investigation if you are really impacted by the vulnerabilities (as I highly doubt it). vulnerability scans are pretty dumb, they don&#39;t see context or the usage (or non-usage) of code, they only see a dependency and get triggered. If the described situation in the CVE doesn&#39;t apply you aren&#39;t vulnerable (for the CVE).","body":"For starters update to Spring Boot 2.7.17, and do some investigation if you are really impacted by the vulnerabilities (as I highly doubt it). vulnerability scans are pretty dumb, they don&#39;t see context or the usage (or non-usage) of code, they only see a dependency and get triggered. If the described situation in the CVE doesn&#39;t apply you aren&#39;t vulnerable (for the CVE)."},{"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"score":0,"creation_date":1700158669,"post_id":77491344,"comment_id":136623266,"body_markdown":"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027\nhere&#39;s the vulnerability.","body":"<a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027\" rel=\"nofollow noreferrer\">cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027</a> here&#39;s the vulnerability."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700159569,"post_id":77491344,"comment_id":136623444,"body_markdown":"As stated upgrade to Spring Boot 2.7.17 which has Spring 5.3.30 (I think) in which ist should be fixed. Next to that you probably aren&#39;t even vulnerable unless you are using the `HttpInvoker` or its friends, which I highly doubt you do.","body":"As stated upgrade to Spring Boot 2.7.17 which has Spring 5.3.30 (I think) in which ist should be fixed. Next to that you probably aren&#39;t even vulnerable unless you are using the <code>HttpInvoker</code> or its friends, which I highly doubt you do."}],"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700158645,"creation_date":1700088746,"question_id":77491344,"body_markdown":"I need to fix some vulnerabilities for our project. We use Java 11 and Spring boot 2.7.3. One of the vulnerabilities is in Spring-web 5.3.x and I realized we need at least spring-web 6 to get rid of the vulnerability. However, spring-web 6 requires at least java 17, and we don&#39;t really want to change the java version right now. \r\nHere&#39;s a link to the vulnerability: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027\r\n\r\nQuestion: is there a way to fix this vulnerability without changing Java version? Thank you! ","title":"Spring-web 5.3.x vulnerabilities","body":"<p>I need to fix some vulnerabilities for our project. We use Java 11 and Spring boot 2.7.3. One of the vulnerabilities is in Spring-web 5.3.x and I realized we need at least spring-web 6 to get rid of the vulnerability. However, spring-web 6 requires at least java 17, and we don't really want to change the java version right now.\nHere's a link to the vulnerability: <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027\" rel=\"nofollow noreferrer\">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-1000027</a></p>\n<p>Question: is there a way to fix this vulnerability without changing Java version? Thank you!</p>\n"},{"tags":["java","scala","quartz"],"owner":{"account_id":10913047,"reputation":1,"user_id":8021775,"display_name":"ScalaR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700158309,"creation_date":1700157269,"question_id":77497033,"body_markdown":"```\r\npackage fit.naiz.community.sheduler\r\n\r\nimport fit.naiz.community.dao.ChallengeParticipantDAO\r\n\r\nimport org.quartz.{Job, JobBuilder, JobDataMap, JobExecutionContext, SimpleScheduleBuilder, TriggerBuilder}\r\n\r\nclass MyJob(challengeParticipantDAO: ChallengeParticipantDAO) extends Job {\r\n  override def execute(context: JobExecutionContext): Unit = {\r\n    val result = challengeParticipantDAO.getExpiredParticipants()\r\n    println(result)\r\n\r\n    println(&quot;QUARTZ JOB&quot;)\r\n  }\r\n\r\n  def scheduleMyJob(): Unit = {\r\n\r\n    val jobDetail = JobBuilder\r\n      .newJob(classOf[MyJob])\r\n      .withIdentity(&quot;myJob&quot;, &quot;Challenge Participants group&quot;)\r\n      .build()\r\n\r\n    val trigger = TriggerBuilder\r\n      .newTrigger()\r\n      .withIdentity(&quot;myJobTrigger&quot;, &quot;Challenge Participants group&quot;) // Set a unique identifier for your trigger\r\n      .startNow() // Start the job immediately\r\n      .withSchedule(SimpleScheduleBuilder.repeatMinutelyForever)\r\n      .build()\r\n\r\n    JobScheduler.scheduleJob(jobDetail, trigger)\r\n  }\r\n}\r\n\r\n```\r\n\r\nMy logs:\r\n```\r\n{&quot;timeStamp&quot;:&quot;2023-11-16T18:11:01.284162Z&quot;,&quot;message&quot;:&quot;An error occured instantiating job to be executed. job= &#39;Challenge Participants group.myJob&#39;&quot;,&quot;logger&quot;:&quot;org.quartz.core.ErrorLogger&quot;,&quot;thread&quot;:&quot;DefaultQuartzScheduler_QuartzSchedulerThread&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;stackTrace&quot;:&quot;org.quartz.SchedulerException: Problem instantiating class &#39;fit.naiz.community.sheduler.MyJob&#39;\\n\\tat org.quartz.simpl.SimpleJobFactory.newJob(SimpleJobFactory.java:58)\\n\\tat org.quartz.simpl.PropertySettingJobFactory.newJob(PropertySettingJobFactory.java:69)\\n\\tat org.quartz.core.JobRunShell.initialize(JobRunShell.java:127)\\n\\tat org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:375)\\nCaused by: java.lang.InstantiationException: fit.naiz.community.sheduler.MyJob\\n\\tat java.base/java.lang.Class.newInstance(Class.java:639)\\n\\tat org.quartz.simpl.SimpleJobFactory.newJob(SimpleJobFactory.java:56)\\n\\t... 3 common frames omitted\\nCaused by: java.lang.NoSuchMethodException: fit.naiz.community.sheduler.MyJob.&lt;init&gt;()\\n\\tat java.base/java.lang.Class.getConstructor0(Class.java:3585)\\n\\tat java.base/java.lang.Class.newInstance(Class.java:626)\\n\\t... 4 common frames omitted\\n&quot;}\r\n{&quot;timeStamp&quot;:&quot;2023-11-16T18:11:01.285892Z&quot;,&quot;message&quot;:&quot;All triggers of Job Challenge Participants group.myJob set to ERROR state.&quot;,&quot;logger&quot;:&quot;org.quartz.simpl.RAMJobStore&quot;,&quot;thread&quot;:&quot;DefaultQuartzScheduler_QuartzSchedulerThread&quot;,&quot;level&quot;:&quot;INFO&quot;}\r\n```\r\n\r\n\r\nAs a result, I can&#39;t start MyJob and get some results from daoLogic, the reason for this behavior is to add a class to the constructor, because without it everything works and runs normally.\r\n\r\nCan someone guide me or advise me on how I can use some logic from different classes?","title":"Build quartz job with logic from different class","body":"<pre><code>package fit.naiz.community.sheduler\n\nimport fit.naiz.community.dao.ChallengeParticipantDAO\n\nimport org.quartz.{Job, JobBuilder, JobDataMap, JobExecutionContext, SimpleScheduleBuilder, TriggerBuilder}\n\nclass MyJob(challengeParticipantDAO: ChallengeParticipantDAO) extends Job {\n  override def execute(context: JobExecutionContext): Unit = {\n    val result = challengeParticipantDAO.getExpiredParticipants()\n    println(result)\n\n    println(&quot;QUARTZ JOB&quot;)\n  }\n\n  def scheduleMyJob(): Unit = {\n\n    val jobDetail = JobBuilder\n      .newJob(classOf[MyJob])\n      .withIdentity(&quot;myJob&quot;, &quot;Challenge Participants group&quot;)\n      .build()\n\n    val trigger = TriggerBuilder\n      .newTrigger()\n      .withIdentity(&quot;myJobTrigger&quot;, &quot;Challenge Participants group&quot;) // Set a unique identifier for your trigger\n      .startNow() // Start the job immediately\n      .withSchedule(SimpleScheduleBuilder.repeatMinutelyForever)\n      .build()\n\n    JobScheduler.scheduleJob(jobDetail, trigger)\n  }\n}\n\n</code></pre>\n<p>My logs:</p>\n<pre><code>{&quot;timeStamp&quot;:&quot;2023-11-16T18:11:01.284162Z&quot;,&quot;message&quot;:&quot;An error occured instantiating job to be executed. job= 'Challenge Participants group.myJob'&quot;,&quot;logger&quot;:&quot;org.quartz.core.ErrorLogger&quot;,&quot;thread&quot;:&quot;DefaultQuartzScheduler_QuartzSchedulerThread&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;stackTrace&quot;:&quot;org.quartz.SchedulerException: Problem instantiating class 'fit.naiz.community.sheduler.MyJob'\\n\\tat org.quartz.simpl.SimpleJobFactory.newJob(SimpleJobFactory.java:58)\\n\\tat org.quartz.simpl.PropertySettingJobFactory.newJob(PropertySettingJobFactory.java:69)\\n\\tat org.quartz.core.JobRunShell.initialize(JobRunShell.java:127)\\n\\tat org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:375)\\nCaused by: java.lang.InstantiationException: fit.naiz.community.sheduler.MyJob\\n\\tat java.base/java.lang.Class.newInstance(Class.java:639)\\n\\tat org.quartz.simpl.SimpleJobFactory.newJob(SimpleJobFactory.java:56)\\n\\t... 3 common frames omitted\\nCaused by: java.lang.NoSuchMethodException: fit.naiz.community.sheduler.MyJob.&lt;init&gt;()\\n\\tat java.base/java.lang.Class.getConstructor0(Class.java:3585)\\n\\tat java.base/java.lang.Class.newInstance(Class.java:626)\\n\\t... 4 common frames omitted\\n&quot;}\n{&quot;timeStamp&quot;:&quot;2023-11-16T18:11:01.285892Z&quot;,&quot;message&quot;:&quot;All triggers of Job Challenge Participants group.myJob set to ERROR state.&quot;,&quot;logger&quot;:&quot;org.quartz.simpl.RAMJobStore&quot;,&quot;thread&quot;:&quot;DefaultQuartzScheduler_QuartzSchedulerThread&quot;,&quot;level&quot;:&quot;INFO&quot;}\n</code></pre>\n<p>As a result, I can't start MyJob and get some results from daoLogic, the reason for this behavior is to add a class to the constructor, because without it everything works and runs normally.</p>\n<p>Can someone guide me or advise me on how I can use some logic from different classes?</p>\n"},{"tags":["java","eclipse","jpa","mysql-connector","entities"],"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700157861,"creation_date":1687786994,"question_id":76557267,"body_markdown":"I have downloaded the &#39;**mysql-connector**&#39; from the https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar\r\n\r\nAnd added to the Java build path\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n--------------------------------------------------------\r\nBut when I try to generate entities from table, its empty. \r\n\r\n**How can I add MySQL connection here.**\r\n-----------------------------------------------------------\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\n------------------------------------------------------\r\neclipse version is **Version: 2023-06 (4.28.0)**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N38Jk.png\r\n  [2]: https://i.stack.imgur.com/71TB5.png\r\n  [3]: https://i.stack.imgur.com/C4aXL.png\r\n  [4]: https://i.stack.imgur.com/PpXz9.png\r\n  [5]: https://i.stack.imgur.com/jUhyG.png\r\n  [6]: https://i.stack.imgur.com/YkPlS.png","title":"Generate entities from MySQL table in Eclipse","body":"<p>I have downloaded the '<strong>mysql-connector</strong>' from the <a href=\"https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar</a></p>\n<p>And added to the Java build path</p>\n<p><a href=\"https://i.stack.imgur.com/N38Jk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N38Jk.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But when I try to generate entities from table, its empty.</p>\n<h2><strong>How can I add MySQL connection here.</strong></h2>\n<p><a href=\"https://i.stack.imgur.com/71TB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71TB5.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/C4aXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4aXL.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/PpXz9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PpXz9.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/jUhyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUhyG.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/YkPlS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YkPlS.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>eclipse version is <strong>Version: 2023-06 (4.28.0)</strong></p>\n"},{"tags":["java","regex","string","emoji"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":95,"creation_date":1522145226,"post_id":49510006,"comment_id":86024098,"body_markdown":"what you want to keep?","body":"what you want to keep?"},{"owner":{"account_id":8414754,"reputation":1326,"user_id":6315553,"display_name":"Markus Fischer"},"score":31,"creation_date":1522145287,"post_id":49510006,"comment_id":86024143,"body_markdown":"Two problems: What is EmojiParser? Doesn&#39;t seem to be part of a standard library, so this mention is not very helpful.\n\nAnd what characters exactly do you want to filter? You say &quot;many more of this kind&quot;, but there are many character groups and families. We need to know more about your criteria.","body":"Two problems: What is EmojiParser? Doesn&#39;t seem to be part of a standard library, so this mention is not very helpful.  And what characters exactly do you want to filter? You say &quot;many more of this kind&quot;, but there are many character groups and families. We need to know more about your criteria."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1522145432,"post_id":49510006,"comment_id":86024256,"body_markdown":"You&#39;ll need to identify the character ranges you want to keep (or the ones you want to remove), perhaps with the help of the various utilities here: http://unicode.org/cldr/utility/ You&#39;ll need to handle the fact that Java strings aren&#39;t strings of code points, they&#39;re strings of UTF-16 code units and so a single character (code point) may be encoded as two Java `char`s (called a &quot;surrogate pair&quot;). There are similar questions here on site about doing that which deal with those issues.","body":"You&#39;ll need to identify the character ranges you want to keep (or the ones you want to remove), perhaps with the help of the various utilities here: <a href=\"http://unicode.org/cldr/utility/\" rel=\"nofollow noreferrer\">unicode.org/cldr/utility</a> You&#39;ll need to handle the fact that Java strings aren&#39;t strings of code points, they&#39;re strings of UTF-16 code units and so a single character (code point) may be encoded as two Java <code>char</code>s (called a &quot;surrogate pair&quot;). There are similar questions here on site about doing that which deal with those issues."},{"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"score":1,"creation_date":1522153357,"post_id":49510006,"comment_id":86030011,"body_markdown":"@DavidFoerster - here are some of the icons that EmojiParser is not removing: ✪  ❉  ★ ✰  ❈ ❧ ✂  ❋ ⓡ  ✿ ♛ &#128293;. \nIt did remove the following: ♦. The only one I found till now that it removed.","body":"@DavidFoerster - here are some of the icons that EmojiParser is not removing: ✪  ❉  ★ ✰  ❈ ❧ ✂  ❋ ⓡ  ✿ ♛ 🔥.  It did remove the following: ♦. The only one I found till now that it removed."},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":7,"creation_date":1522157002,"post_id":49510006,"comment_id":86032854,"body_markdown":"Note that all of your symbols above are not emojis in the [official list](http://unicode.org/Public/emoji/11.0/emoji-sequences.txt) except ✂ black scissors 0x2702: [✪ circled white star 0x272A, ❉ balloon-spoked asterisk 0x2749, ★ black star 0x2605, ✰ shadowed white star 0x2730, ❈ heavy sparkle 0x2748, ❧ rotated floral heart bullet 0x2767, ❋ heavy eight teardrop-spoked propeller asterisk 0x274B, ⓡ circled latin small letter r 0x24E1, ✿ black florette 0x273F, ♛ black chess queen 0x265B](https://en.wikipedia.org/wiki/Emoji#Unicode_blocks)","body":"Note that all of your symbols above are not emojis in the <a href=\"http://unicode.org/Public/emoji/11.0/emoji-sequences.txt\" rel=\"nofollow noreferrer\">official list</a> except ✂ black scissors 0x2702: <a href=\"https://en.wikipedia.org/wiki/Emoji#Unicode_blocks\" rel=\"nofollow noreferrer\">✪ circled white star 0x272A, ❉ balloon-spoked asterisk 0x2749, ★ black star 0x2605, ✰ shadowed white star 0x2730, ❈ heavy sparkle 0x2748, ❧ rotated floral heart bullet 0x2767, ❋ heavy eight teardrop-spoked propeller asterisk 0x274B, ⓡ circled latin small letter r 0x24E1, ✿ black florette 0x273F, ♛ black chess queen 0x265B</a>"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":6,"creation_date":1522159103,"post_id":49510006,"comment_id":86034611,"body_markdown":"@LưuVĩnhPh&#250;c: Of the 7 in the q, four are classed as emojis by Unicode.org (see &quot;Emoji: Yes&quot;): [&#128293; U+1F525](http://unicode.org/cldr/utility/character.jsp?a=1F525), [⚛ U+269B](http://unicode.org/cldr/utility/character.jsp?a=269B), [✅ U+2705](http://unicode.org/cldr/utility/character.jsp?a=2705), and [⭐ U+2B50](http://unicode.org/cldr/utility/character.jsp?a=2B50). Three are not: [→ U+2192](http://unicode.org/cldr/utility/character.jsp?a=2192), [♛ U+265B](http://unicode.org/cldr/utility/character.jsp?a=265B), and [★ U+2605](http://unicode.org/cldr/utility/character.jsp?a=2605).","body":"@LưuVĩnhPh&#250;c: Of the 7 in the q, four are classed as emojis by Unicode.org (see &quot;Emoji: Yes&quot;): <a href=\"http://unicode.org/cldr/utility/character.jsp?a=1F525\" rel=\"nofollow noreferrer\">🔥 U+1F525</a>, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=269B\" rel=\"nofollow noreferrer\">⚛ U+269B</a>, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2705\" rel=\"nofollow noreferrer\">✅ U+2705</a>, and <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2B50\" rel=\"nofollow noreferrer\">⭐ U+2B50</a>. Three are not: <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2192\" rel=\"nofollow noreferrer\">→ U+2192</a>, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=265B\" rel=\"nofollow noreferrer\">♛ U+265B</a>, and <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2605\" rel=\"nofollow noreferrer\">★ U+2605</a>."},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":1,"creation_date":1522161827,"post_id":49510006,"comment_id":86036889,"body_markdown":"@T.J.Crowder yes most of the ones in the question are emojis but I&#39;m specifically talking about the OP&#39;s comment","body":"@T.J.Crowder yes most of the ones in the question are emojis but I&#39;m specifically talking about the OP&#39;s comment"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1522165446,"post_id":49510006,"comment_id":86039746,"body_markdown":"@LưuVĩnhPh&#250;c: Ah! Indeed, only two of them (not none) he said weren&#39;t removed in [the comment](https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string?noredirect=1#comment86030011_49510006) are emojis: [&#128293; U+1F525](http://unicode.org/cldr/utility/character.jsp?a=1F525) and [✂ U+2702](http://unicode.org/cldr/utility/character.jsp?a=2702).","body":"@LưuVĩnhPh&#250;c: Ah! Indeed, only two of them (not none) he said weren&#39;t removed in <a href=\"https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string?noredirect=1#comment86030011_49510006\">the comment</a> are emojis: <a href=\"http://unicode.org/cldr/utility/character.jsp?a=1F525\" rel=\"nofollow noreferrer\">🔥 U+1F525</a> and <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2702\" rel=\"nofollow noreferrer\">✂ U+2702</a>."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":4,"creation_date":1522173636,"post_id":49510006,"comment_id":86044586,"body_markdown":"What about [Combining characters](https://en.wikipedia.org/wiki/Combining_character) and [control characters](https://en.wikipedia.org/wiki/Unicode_control_characters) what should happen with them?","body":"What about <a href=\"https://en.wikipedia.org/wiki/Combining_character\" rel=\"nofollow noreferrer\">Combining characters</a> and <a href=\"https://en.wikipedia.org/wiki/Unicode_control_characters\" rel=\"nofollow noreferrer\">control characters</a> what should happen with them?"},{"owner":{"account_id":523757,"reputation":60391,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"score":129,"creation_date":1522174450,"post_id":49510006,"comment_id":86045086,"body_markdown":"IDK what your motivations behind this are, but if it&#39;s too filter text input: don&#39;t. I&#39;m tired of being forced to use a-zA-Z. Let me write in my native language, or emojis, or whatever I want. Do I really want me calendar appointment to be called &quot;&#129318;&#127995;‍♂️&quot;? Yes, yes I do. Now get out of my way.","body":"IDK what your motivations behind this are, but if it&#39;s too filter text input: don&#39;t. I&#39;m tired of being forced to use a-zA-Z. Let me write in my native language, or emojis, or whatever I want. Do I really want me calendar appointment to be called &quot;🤦🏻‍♂️&quot;? Yes, yes I do. Now get out of my way."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":19,"creation_date":1522174607,"post_id":49510006,"comment_id":86045182,"body_markdown":"Please clarify what exactly you want to keep and remove. On the surface the question appears to be clear but because of the complexity of Unicode it is not and because of that it&#39;s impossible to provide a good answer.","body":"Please clarify what exactly you want to keep and remove. On the surface the question appears to be clear but because of the complexity of Unicode it is not and because of that it&#39;s impossible to provide a good answer."},{"owner":{"account_id":9630,"reputation":47630,"user_id":17875,"display_name":"Eevee"},"score":12,"creation_date":1522190960,"post_id":49510006,"comment_id":86053091,"body_markdown":"this seems like a strange thing to want to do when it destroys the meaning of at least one of your examples?","body":"this seems like a strange thing to want to do when it destroys the meaning of at least one of your examples?"},{"owner":{"account_id":5855287,"reputation":723,"user_id":4612755,"accept_rate":75,"display_name":"Ezequiel Adrian"},"score":0,"creation_date":1663448445,"post_id":49510006,"comment_id":130243737,"body_markdown":"Please understand we get some nasty users that don&#39;t stop using lots of cucumber and water droplet emojis. So we should remove some specific combinations to make sure our community doesn&#39;t turn into a very unpleasant place.","body":"Please understand we get some nasty users that don&#39;t stop using lots of cucumber and water droplet emojis. So we should remove some specific combinations to make sure our community doesn&#39;t turn into a very unpleasant place."}],"answers":[{"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":29,"creation_date":1522146005,"post_id":49510122,"comment_id":86024680,"body_markdown":"Very useful list. Interesting that something called EmojiParser with a method called removeAllEmojis fails to handle these... :-)","body":"Very useful list. Interesting that something called EmojiParser with a method called removeAllEmojis fails to handle these... :-)"},{"owner":{"account_id":1042959,"reputation":638693,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":4,"creation_date":1522150148,"post_id":49510122,"comment_id":86027547,"body_markdown":"`codePointAt` presumably is taking linear time, so the whole loop would have quadratic complexity?","body":"<code>codePointAt</code> presumably is taking linear time, so the whole loop would have quadratic complexity?"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1522150341,"post_id":49510122,"comment_id":86027685,"body_markdown":"@Bergi you can stream codepoints using `String.chars()`, that&#39;s basically the same. `int[] codepoints = input.chars().filter(this::isAcceptableCodepoint).toArray();return new String(codepoints, 0 , codepoints.length);`","body":"@Bergi you can stream codepoints using <code>String.chars()</code>, that&#39;s basically the same. <code>int[] codepoints = input.chars().filter(this::isAcceptableCodepoint).toArray();&zwnj;&#8203;return new String(codepoints, 0 , codepoints.length);</code>"},{"owner":{"account_id":2867658,"reputation":1461,"user_id":2461638,"display_name":"David Foerster"},"score":7,"creation_date":1522150565,"post_id":49510122,"comment_id":86027849,"body_markdown":"@Bergi: No, since `input.codePointAt` only looks at up to 2 characters at most which is a constant upper bound. Also (the newly added) `i += Character.charCount(cp)` skips over all characters that `input.codePointAt` inspected (minus 1 in some corner cases).","body":"@Bergi: No, since <code>input.codePointAt</code> only looks at up to 2 characters at most which is a constant upper bound. Also (the newly added) <code>i += Character.charCount(cp)</code> skips over all characters that <code>input.codePointAt</code> inspected (minus 1 in some corner cases)."},{"owner":{"account_id":1042959,"reputation":638693,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1522150626,"post_id":49510122,"comment_id":86027898,"body_markdown":"@DavidFoerster Ah, I see, it&#39;s `codePointAtCharIndex` not `nthCodePoint` :-)","body":"@DavidFoerster Ah, I see, it&#39;s <code>codePointAtCharIndex</code> not <code>nthCodePoint</code> :-)"},{"owner":{"account_id":2867658,"reputation":1461,"user_id":2461638,"display_name":"David Foerster"},"score":6,"creation_date":1522150641,"post_id":49510122,"comment_id":86027910,"body_markdown":"@OlivierGr&#233;goire: `String.chars()` streams over characters not codepoints. There&#39;s a separate method [`String.codePoints()`](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#codePoints()) for that.","body":"@OlivierGr&#233;goire: <code>String.chars()</code> streams over characters not codepoints. There&#39;s a separate method <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#codePoints()\" rel=\"nofollow noreferrer\"><code>String.codePoints()</code></a> for that."},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1522150658,"post_id":49510122,"comment_id":86027922,"body_markdown":"@Berji (not to pile on but) The key point is that codePointAt takes the UTF-16 code unit offset so that&#39;s direct access into the char sequence, which thankfully is an array.","body":"@Berji (not to pile on but) The key point is that codePointAt takes the UTF-16 code unit offset so that&#39;s direct access into the char sequence, which thankfully is an array."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1522150674,"post_id":49510122,"comment_id":86027937,"body_markdown":"@DavidFoerster My bad, but the idea stays the same with your correction in mind.","body":"@DavidFoerster My bad, but the idea stays the same with your correction in mind."},{"owner":{"account_id":303914,"reputation":110084,"user_id":613130,"accept_rate":80,"display_name":"xanatos"},"score":5,"creation_date":1522151016,"post_id":49510122,"comment_id":86028195,"body_markdown":"There are at least two problems here: you are using a &quot;closed&quot; list of emojis, so each year you have to extend it (but this probably isn&#39;t easily solvabile), and this code won&#39;t probably work correctly with codepoints sequences (see for example https://unicode.org/Public/emoji/11.0/emoji-zwj-sequences.txt)","body":"There are at least two problems here: you are using a &quot;closed&quot; list of emojis, so each year you have to extend it (but this probably isn&#39;t easily solvabile), and this code won&#39;t probably work correctly with codepoints sequences (see for example <a href=\"https://unicode.org/Public/emoji/11.0/emoji-zwj-sequences.txt\" rel=\"nofollow noreferrer\">unicode.org/Public/emoji/11.0/emoji-zwj-sequences.txt</a>)"},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":49,"creation_date":1522152290,"post_id":49510122,"comment_id":86029144,"body_markdown":"This is basically the same approach as used by EmojiParser and it will soon fail for the same reason. New emojis are relatively frequently added to the Unicode character database and if you are now implementing a solution using the currently defined 1644 emojis for a negative rule set, the implementation will fail as soon as new emojis become available.","body":"This is basically the same approach as used by EmojiParser and it will soon fail for the same reason. New emojis are relatively frequently added to the Unicode character database and if you are now implementing a solution using the currently defined 1644 emojis for a negative rule set, the implementation will fail as soon as new emojis become available."},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":3,"creation_date":1522157100,"post_id":49510122,"comment_id":86032943,"body_markdown":"@T.J.Crowder because [they&#39;re not emojis (according to Unicode standard)](https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string#comment86032854_49510006)","body":"@T.J.Crowder because <a href=\"https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string#comment86032854_49510006\">they&#39;re not emojis (according to Unicode standard)</a>"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1522159132,"post_id":49510122,"comment_id":86034643,"body_markdown":"@LưuVĩnhPh&#250;c: [Some aren&#39;t, more than half of them are](https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string#comment86034611_49510006). But if the OP only tested with ones that weren&#39;t, fair enough the lib didn&#39;t pick them up...","body":"@LưuVĩnhPh&#250;c: <a href=\"https://stackoverflow.com/questions/49510006/remove-and-other-such-signs-from-java-string#comment86034611_49510006\">Some aren&#39;t, more than half of them are</a>. But if the OP only tested with ones that weren&#39;t, fair enough the lib didn&#39;t pick them up..."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":2,"creation_date":1522177620,"post_id":49510122,"comment_id":86046993,"body_markdown":"This answer seems fairly far from a working solution at the moment. It&#39;s not trivial to gather all the emojis into an appropriate format.","body":"This answer seems fairly far from a working solution at the moment. It&#39;s not trivial to gather all the emojis into an appropriate format."},{"owner":{"account_id":203806,"reputation":26030,"user_id":451672,"display_name":"Randy the Dev"},"score":5,"creation_date":1522211027,"post_id":49510122,"comment_id":86057829,"body_markdown":"This will litter your strings with orphaned zero-width joiners.","body":"This will litter your strings with orphaned zero-width joiners."}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":14,"down_vote_count":4,"up_vote_count":53,"is_accepted":false,"score":49,"last_activity_date":1522150312,"creation_date":1522145446,"answer_id":49510122,"question_id":49510006,"body_markdown":"Based on [Full Emoji List, v11.0][1] you have 1644 different Unicode code points to remove. For example `✅` is on this list as [`U+2705`][2]. \r\n\r\nHaving the full list of emojis you need to filter them out using [code points][3]. Iterating over single `char` or `byte` won&#39;t work as single code point can span multiple bytes. Because Java uses UTF-16 emojis will usually take two `char`s.\r\n\r\n    String input = &quot;ab✅cd&quot;;\r\n    for (int i = 0; i &lt; input.length();) {\r\n      int cp = input.codePointAt(i);\r\n      // filter out if matches\r\n      i += Character.charCount(cp); \r\n    }\r\n     \r\nMapping from Unicode code point `U+2705` to Java `int` is straightforward:\r\n\r\n    int viSign = 0x2705;\r\n\r\nor since Java supports Unicode Strings:\r\n\r\n    int viSign = &quot;✅&quot;.codePointAt(0);\r\n\r\n\r\n  [1]: https://unicode.org/emoji/charts/full-emoji-list.html\r\n  [2]: https://unicode.org/emoji/charts/full-emoji-list.html#2705\r\n  [3]: https://docs.oracle.com/javase/tutorial/i18n/text/characterClass.html","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>Based on <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html\" rel=\"noreferrer\">Full Emoji List, v11.0</a> you have 1644 different Unicode code points to remove. For example <code>✅</code> is on this list as <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html#2705\" rel=\"noreferrer\"><code>U+2705</code></a>. </p>\n\n<p>Having the full list of emojis you need to filter them out using <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/characterClass.html\" rel=\"noreferrer\">code points</a>. Iterating over single <code>char</code> or <code>byte</code> won't work as single code point can span multiple bytes. Because Java uses UTF-16 emojis will usually take two <code>char</code>s.</p>\n\n<pre><code>String input = \"ab✅cd\";\nfor (int i = 0; i &lt; input.length();) {\n  int cp = input.codePointAt(i);\n  // filter out if matches\n  i += Character.charCount(cp); \n}\n</code></pre>\n\n<p>Mapping from Unicode code point <code>U+2705</code> to Java <code>int</code> is straightforward:</p>\n\n<pre><code>int viSign = 0x2705;\n</code></pre>\n\n<p>or since Java supports Unicode Strings:</p>\n\n<pre><code>int viSign = \"✅\".codePointAt(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2618090,"reputation":331,"user_id":2583476,"accept_rate":100,"display_name":"Chris H"},"score":4,"creation_date":1522166146,"post_id":49516025,"comment_id":86040207,"body_markdown":"The obvious gap between ASCII alphanumeric characters and emoji is accentated and non-latin letters.  Without the OP&#39;s input on these we don&#39;t know whether this is a good answer (not my DV though)","body":"The obvious gap between ASCII alphanumeric characters and emoji is accentated and non-latin letters.  Without the OP&#39;s input on these we don&#39;t know whether this is a good answer (not my DV though)"},{"owner":{"account_id":7769771,"reputation":2274,"user_id":5879778,"display_name":"Chris"},"score":4,"creation_date":1522166720,"post_id":49516025,"comment_id":86040597,"body_markdown":"Yeah I&#39;m curious as to why this would possibly get downvoted. The second I saw this question, a regular expression was the absolute first thing that came to mind (P.S. since he&#39;s looking for standard characters and punctuation, I&#39;d use something like `[^\\w\\^\\-\\[\\]\\.!@#$%&amp;*\\(\\)/+&#39;&quot;:;~?,]` but that&#39;s just me being robust and trying collect all typical characters that aren&#39;t symbols). Upvoted because this is definitely a potential solution. If he wants to add some other language characters, he can add them to the expression as necessary.","body":"Yeah I&#39;m curious as to why this would possibly get downvoted. The second I saw this question, a regular expression was the absolute first thing that came to mind (P.S. since he&#39;s looking for standard characters and punctuation, I&#39;d use something like <code>[^\\w\\^\\-\\[\\]\\.!@#$%&amp;*\\(\\)&#47;+&#39;&quot;:;~?,]</code> but that&#39;s just me being robust and trying collect all typical characters that aren&#39;t symbols). Upvoted because this is definitely a potential solution. If he wants to add some other language characters, he can add them to the expression as necessary."},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":15,"creation_date":1522166955,"post_id":49516025,"comment_id":86040750,"body_markdown":"@Chris great punctuation regex example, looks extensive enough to me for some cases. Also maybe people aren&#39;t reading the whole answer then - **as stated at the bottom of the answer, `p{L}` handles non-English alphabetical characters**. I hope it&#39;s understood that I can&#39;t list extensively through every non-English alphabet in my answer as that would be impractically verbose.","body":"@Chris great punctuation regex example, looks extensive enough to me for some cases. Also maybe people aren&#39;t reading the whole answer then - <b>as stated at the bottom of the answer, <code>p{L}</code> handles non-English alphabetical characters</b>. I hope it&#39;s understood that I can&#39;t list extensively through every non-English alphabet in my answer as that would be impractically verbose."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1522170095,"post_id":49516025,"comment_id":86042723,"body_markdown":"To keep all letters, numbers, punctuation, and spaces, you probably want something like `&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}]&quot;`.  Or, the converse, `&quot;[\\\\p{S}\\\\p{C}]&quot;`.","body":"To keep all letters, numbers, punctuation, and spaces, you probably want something like <code>&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}]&quot;</code>.  Or, the converse, <code>&quot;[\\\\p{S}\\\\p{C}]&quot;</code>."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1522181285,"post_id":49516025,"comment_id":86048977,"body_markdown":"What about punctuation? Also a small typo, missing &quot;]&quot; in the regex.","body":"What about punctuation? Also a small typo, missing &quot;]&quot; in the regex."},{"owner":{"account_id":1486150,"reputation":28763,"user_id":1394393,"accept_rate":83,"display_name":"jpmc26"},"score":13,"creation_date":1522184221,"post_id":49516025,"comment_id":86050430,"body_markdown":"This. Please and thank you. Don&#39;t try to *forbid* characters that cause you problems; decide what characters you *allow* and encode that. Then your code has a clearly defined set of test cases.","body":"This. Please and thank you. Don&#39;t try to <i>forbid</i> characters that cause you problems; decide what characters you <i>allow</i> and encode that. Then your code has a clearly defined set of test cases."},{"owner":{"account_id":7769771,"reputation":2274,"user_id":5879778,"display_name":"Chris"},"score":0,"creation_date":1522188445,"post_id":49516025,"comment_id":86052241,"body_markdown":"@Acccumulation Good catch, I was at work typing that up really quick and forgot to add `\\s` after `\\w`. You can can capture newlines as well by adding `\\r\\n`.","body":"@Acccumulation Good catch, I was at work typing that up really quick and forgot to add <code>\\s</code> after <code>\\w</code>. You can can capture newlines as well by adding <code>\\r\\n</code>."},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":0,"creation_date":1522190711,"post_id":49516025,"comment_id":86053005,"body_markdown":"@Chris the character class `\\p{Punct}` can also be used for punctuation. Sorry guys, answering the question from my phone so I&#39;m potentially a little less vigilant than earlier with edits","body":"@Chris the character class <code>\\p{Punct}</code> can also be used for punctuation. Sorry guys, answering the question from my phone so I&#39;m potentially a little less vigilant than earlier with edits"},{"owner":{"account_id":7769771,"reputation":2274,"user_id":5879778,"display_name":"Chris"},"score":0,"creation_date":1522190804,"post_id":49516025,"comment_id":86053036,"body_markdown":"@NickBull Is this java based alongside the p{L} class you mentioned before? I haven’t worked with Java too much (.NET and C++ Developer mainly and I’m _almost_ positive I haven’t seen those yet but that may just be me overlooking them).","body":"@NickBull Is this java based alongside the p{L} class you mentioned before? I haven’t worked with Java too much (.NET and C++ Developer mainly and I’m <i>almost</i> positive I haven’t seen those yet but that may just be me overlooking them)."},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":1,"creation_date":1522194239,"post_id":49516025,"comment_id":86053920,"body_markdown":"@Chris it is, I think C# has \\p{P} for a punctuation match. I know for POSIX there&#39;s the equivalent [:punct:] as well for shell scripts","body":"@Chris it is, I think C# has \\p{P} for a punctuation match. I know for POSIX there&#39;s the equivalent [:punct:] as well for shell scripts"},{"owner":{"account_id":1224532,"reputation":79109,"user_id":1190388,"accept_rate":88,"display_name":"hjpotter92"},"score":1,"creation_date":1522211477,"post_id":49516025,"comment_id":86057941,"body_markdown":"The `^` inside character set negates the whole set in any regex flavour. I think you meant _The `^` in **character-set** negates the match._ (instead of Java)","body":"The <code>^</code> inside character set negates the whole set in any regex flavour. I think you meant <i>The <code>^</code> in <b>character-set</b> negates the match.</i> (instead of Java)"},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1522221832,"post_id":49516025,"comment_id":86062425,"body_markdown":"This turns `皆さん、こんにちは！　私はジョンと申します。` into `皆さんこんにちは私はジョンと申します`. @VGR&#39;s works correctly for Japanese, but I don&#39;t know if it works correctly for removing emoticons.","body":"This turns <code>皆さん、こんにちは！　私はジョンと申します。</code> into <code>皆さんこんにちは私はジョンと申します</code>. @VGR&#39;s works correctly for Japanese, but I don&#39;t know if it works correctly for removing emoticons."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1522237273,"post_id":49516025,"comment_id":86073288,"body_markdown":"Actually, as zwol points out in a comment on another answer, `\\\\p{Cf}` should also be preserved, as format characters are part of valid text.","body":"Actually, as zwol points out in a comment on another answer, <code>\\\\p{Cf}</code> should also be preserved, as format characters are part of valid text."},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":1,"creation_date":1522241671,"post_id":49516025,"comment_id":86076620,"body_markdown":"@VGR I&#39;ve updated with a better set of Regex character categories that work for that example. Please feel free to edit w improvements","body":"@VGR I&#39;ve updated with a better set of Regex character categories that work for that example. Please feel free to edit w improvements"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1522248932,"post_id":49516025,"comment_id":86082471,"body_markdown":"Without `\\p{M}`, combining marks will be removed from the text and may leave the text hard to read or outright non-sense in languages which use accent.","body":"Without <code>\\p{M}</code>, combining marks will be removed from the text and may leave the text hard to read or outright non-sense in languages which use accent."},{"owner":{"account_id":3124252,"reputation":3403,"user_id":2643425,"display_name":"Sean Van Gorder"},"score":2,"creation_date":1522257354,"post_id":49516025,"comment_id":86088287,"body_markdown":"I suggest `&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\s]&quot;`. This allows the general categories Letter, Mark, Number, Punctuation, Separator, and &quot;Other, Format&quot;, as well as whitespace characters such as tab and newline.","body":"I suggest <code>&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\s]&quot;</code>. This allows the general categories Letter, Mark, Number, Punctuation, Separator, and &quot;Other, Format&quot;, as well as whitespace characters such as tab and newline."},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":0,"creation_date":1522257896,"post_id":49516025,"comment_id":86088578,"body_markdown":"@SeanVanGorder I&#39;ve accepted your proposal, minus the `\\\\s` as `\\\\p{Z}` represents all whitespace and separator characters already.","body":"@SeanVanGorder I&#39;ve accepted your proposal, minus the <code>\\\\s</code> as <code>\\\\p{Z}</code> represents all whitespace and separator characters already."},{"owner":{"account_id":3124252,"reputation":3403,"user_id":2643425,"display_name":"Sean Van Gorder"},"score":0,"creation_date":1522258199,"post_id":49516025,"comment_id":86088778,"body_markdown":"@NickBull No, control characters like tab and newline are in the category &quot;Cc - Other, Control&quot;. There&#39;s no single category for whitespace.","body":"@NickBull No, control characters like tab and newline are in the category &quot;Cc - Other, Control&quot;. There&#39;s no single category for whitespace."},{"owner":{"account_id":3124252,"reputation":3403,"user_id":2643425,"display_name":"Sean Van Gorder"},"score":1,"creation_date":1522259035,"post_id":49516025,"comment_id":86089223,"body_markdown":"@NickBull One more addition, `\\\\p{Cs}` &quot;Other, Surrogate&quot; seems to be necessary for code points above `U+FFFF`. That would make it `&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;`.","body":"@NickBull One more addition, <code>\\\\p{Cs}</code> &quot;Other, Surrogate&quot; seems to be necessary for code points above <code>U+FFFF</code>. That would make it <code>&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;</code>."},{"owner":{"account_id":9045,"reputation":33861,"user_id":16534,"accept_rate":95,"display_name":"Mike Sickler"},"score":2,"creation_date":1548904153,"post_id":49516025,"comment_id":95713780,"body_markdown":"To preserve all the punctuation and currency symbols, too, I use:       `&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\p{Sc}\\\\p{Punct}\\\\s]&quot;`","body":"To preserve all the punctuation and currency symbols, too, I use:       <code>&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\p{Sc}\\\\p{Pu&zwnj;&#8203;nct}\\\\s]&quot;</code>"},{"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"score":0,"creation_date":1548925073,"post_id":49516025,"comment_id":95721523,"body_markdown":"@MikeSickler Is there a difference between `p{P}` and `p{Punct}`? I couldn&#39;t find any good explanations on Google (but I didn&#39;t try very hard either :p)","body":"@MikeSickler Is there a difference between <code>p{P}</code> and <code>p{Punct}</code>? I couldn&#39;t find any good explanations on Google (but I didn&#39;t try very hard either :p)"},{"owner":{"account_id":1988011,"reputation":451,"user_id":1782741,"display_name":"GFonte"},"score":0,"creation_date":1636469534,"post_id":49516025,"comment_id":123561896,"body_markdown":"Adding ```\\\\p{M}``` to the whitelist still left unwanted wandering marks in my strings. Using ```Normalizer.normalize(aString, Form.NFC)``` before the whitelist solved it for me. It&#39;s hard to be 100% sure, but at least for diacritics found in Romance languages (such as &quot;&#227;&#233;&#237;&#243;&#250;&#227;&#226;&#228;&#224;&#231;&#241;&quot;) it seems to work.","body":"Adding <code>\\\\p{M}</code> to the whitelist still left unwanted wandering marks in my strings. Using <code>Normalizer.normalize(aString, Form.NFC)</code> before the whitelist solved it for me. It&#39;s hard to be 100% sure, but at least for diacritics found in Romance languages (such as &quot;&#227;&#233;&#237;&#243;&#250;&#227;&#226;&#228;&#224;&#231;&#241;&quot;) it seems to work."},{"owner":{"account_id":1522872,"reputation":6419,"user_id":1422070,"accept_rate":71,"display_name":"edwardmp"},"score":0,"creation_date":1681499242,"post_id":49516025,"comment_id":134072027,"body_markdown":"@NickBull @SeanVanGorder `\\\\p{Cs}` needs to be removed from above regex, otherwise emoji like &#128420;✨ that consist of a surrogate pair will not be fully removed. Proof: https://regex101.com/r/Ap0VrZ/1","body":"@NickBull @SeanVanGorder <code>\\\\p{Cs}</code> needs to be removed from above regex, otherwise emoji like 🖤✨ that consist of a surrogate pair will not be fully removed. Proof: <a href=\"https://regex101.com/r/Ap0VrZ/1\" rel=\"nofollow noreferrer\">regex101.com/r/Ap0VrZ/1</a>"}],"tags":[],"owner":{"account_id":2895368,"reputation":9616,"user_id":2483271,"accept_rate":88,"display_name":"Nick Bull"},"comment_count":23,"down_vote_count":6,"up_vote_count":329,"is_accepted":true,"score":323,"last_activity_date":1522497714,"creation_date":1522162005,"answer_id":49516025,"question_id":49510006,"body_markdown":"Instead of blacklisting some elements, how about creating a whitelist of the characters you do wish to keep? This way you don&#39;t need to worry about every new emoji being added.\r\n\r\n    String characterFilter = &quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;;\r\n    String emotionless = aString.replaceAll(characterFilter,&quot;&quot;);\r\n\r\nSo:\r\n\r\n - `[\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]` is a range representing all numeric (`\\\\p{N}`), letter (`\\\\p{L}`), mark (`\\\\p{M}`), punctuation (`\\\\p{P}`), whitespace/separator (`\\\\p{Z}`), other formatting (`\\\\p{Cf}`) and other characters above `U+FFFF` in Unicode (`\\\\p{Cs}`), and newline (`\\\\s`) characters. **`\\\\p{L}` specifically** includes the characters from other alphabets such as Cyrillic, Latin, Kanji, etc. \r\n - The `^` in the regex character set negates the match.\r\n\r\nExample:\r\n\r\n    String str = &quot;hello world _# 皆さん、こんにちは！　私はジョンと申します。&#128293;&quot;;\r\n    System.out.print(str.replaceAll(&quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;,&quot;&quot;));\r\n    // Output:\r\n    //   &quot;hello world _# 皆さん、こんにちは！　私はジョンと申します。&quot;\r\n\r\nIf you need more information, check out the Java [documentation][2] for regexes.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/unicode.html#prop\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#unicode","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>Instead of blacklisting some elements, how about creating a whitelist of the characters you do wish to keep? This way you don't need to worry about every new emoji being added.</p>\n\n<pre><code>String characterFilter = \"[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]\";\nString emotionless = aString.replaceAll(characterFilter,\"\");\n</code></pre>\n\n<p>So:</p>\n\n<ul>\n<li><code>[\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]</code> is a range representing all numeric (<code>\\\\p{N}</code>), letter (<code>\\\\p{L}</code>), mark (<code>\\\\p{M}</code>), punctuation (<code>\\\\p{P}</code>), whitespace/separator (<code>\\\\p{Z}</code>), other formatting (<code>\\\\p{Cf}</code>) and other characters above <code>U+FFFF</code> in Unicode (<code>\\\\p{Cs}</code>), and newline (<code>\\\\s</code>) characters. <strong><code>\\\\p{L}</code> specifically</strong> includes the characters from other alphabets such as Cyrillic, Latin, Kanji, etc. </li>\n<li>The <code>^</code> in the regex character set negates the match.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>String str = \"hello world _# 皆さん、こんにちは！　私はジョンと申します。🔥\";\nSystem.out.print(str.replaceAll(\"[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]\",\"\"));\n// Output:\n//   \"hello world _# 皆さん、こんにちは！　私はジョンと申します。\"\n</code></pre>\n\n<p>If you need more information, check out the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#unicode\" rel=\"noreferrer\">documentation</a> for regexes.</p>\n"},{"comments":[{"owner":{"account_id":165234,"reputation":136763,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"score":1,"creation_date":1522175978,"post_id":49519512,"comment_id":86045975,"body_markdown":"FORMAT (Cf) should be preserved also; this includes the clustering and directional overrides, without which it is impossible to write certain (unusual, admittedly) words in some languages.","body":"FORMAT (Cf) should be preserved also; this includes the clustering and directional overrides, without which it is impossible to write certain (unusual, admittedly) words in some languages."},{"owner":{"account_id":416300,"reputation":147279,"user_id":791604,"accept_rate":95,"display_name":"Daniel Wagner"},"score":0,"creation_date":1522176072,"post_id":49519512,"comment_id":86046030,"body_markdown":"@zwol Thanks for the details! I&#39;ll add it to the list.","body":"@zwol Thanks for the details! I&#39;ll add it to the list."},{"owner":{"account_id":3678339,"reputation":15327,"user_id":3063884,"accept_rate":92,"display_name":"CJBS"},"score":30,"creation_date":1522182760,"post_id":49519512,"comment_id":86049739,"body_markdown":"This is the future-proof answer. Regardless of future updates to the Unicode standard, including/excluding characters based on their categories means that individual parsing of characters and the maintenance of a list is unnecessary. Of course, cursory testing of text in different languages (e.g. Chinese, Arabic etc.) should be done to ensure that the filtered categories match the text required to be allowed in the target environment.","body":"This is the future-proof answer. Regardless of future updates to the Unicode standard, including/excluding characters based on their categories means that individual parsing of characters and the maintenance of a list is unnecessary. Of course, cursory testing of text in different languages (e.g. Chinese, Arabic etc.) should be done to ensure that the filtered categories match the text required to be allowed in the target environment."},{"owner":{"account_id":165234,"reputation":136763,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"score":3,"creation_date":1522247388,"post_id":49519512,"comment_id":86081237,"body_markdown":"Oh, another gotcha I should have thought of yesterday: TAB, CR, and LF are all general category Cc (Java&#39;s CONTROL). Those need to be specially whitelisted, since you almost certainly _don&#39;t_ want to allow most of the legacy control characters.","body":"Oh, another gotcha I should have thought of yesterday: TAB, CR, and LF are all general category Cc (Java&#39;s CONTROL). Those need to be specially whitelisted, since you almost certainly <i>don&#39;t</i> want to allow most of the legacy control characters."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1577169372,"post_id":49519512,"comment_id":105109685,"body_markdown":"@CJBS The problem with this approach is that it has only been partially implemented in Java. For example, `Character.getType()` won&#39;t tell you whether your `char` (or `int` code point since the method is overloaded) is, say, an emoticon, or a musical symbol, or an emoji character, etc. If you have a simple use case it might be fine to go down this path - it&#39;s certainly an elegant approach that is easy to comprehend - but be aware that it might break if requirements change.","body":"@CJBS The problem with this approach is that it has only been partially implemented in Java. For example, <code>Character.getType()</code> won&#39;t tell you whether your <code>char</code> (or <code>int</code> code point since the method is overloaded) is, say, an emoticon, or a musical symbol, or an emoji character, etc. If you have a simple use case it might be fine to go down this path - it&#39;s certainly an elegant approach that is easy to comprehend - but be aware that it might break if requirements change."}],"tags":[],"owner":{"account_id":416300,"reputation":147279,"user_id":791604,"accept_rate":95,"display_name":"Daniel Wagner"},"comment_count":5,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1522176085,"creation_date":1522173419,"answer_id":49519512,"question_id":49510006,"body_markdown":"I&#39;m not super into Java, so I won&#39;t try to write example code inline, but the way I would do this is to check what Unicode calls &quot;the general category&quot; of each character. There are a couple letter and punctuation categories.\r\n\r\nYou can use [Character.getType](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getType(char)) to find the general category of a given character. You should probably retain those characters that fall in these general categories:\r\n\r\n    COMBINING_SPACING_MARK\r\n    CONNECTOR_PUNCTUATION\r\n    CURRENCY_SYMBOL\r\n    DASH_PUNCTUATION\r\n    DECIMAL_DIGIT_NUMBER\r\n    ENCLOSING_MARK\r\n    END_PUNCTUATION\r\n    FINAL_QUOTE_PUNCTUATION\r\n    FORMAT\r\n    INITIAL_QUOTE_PUNCTUATION\r\n    LETTER_NUMBER\r\n    LINE_SEPARATOR\r\n    LOWERCASE_LETTER\r\n    MATH_SYMBOL\r\n    MODIFIER_LETTER\r\n    MODIFIER_SYMBOL\r\n    NON_SPACING_MARK\r\n    OTHER_LETTER\r\n    OTHER_NUMBER\r\n    OTHER_PUNCTUATION\r\n    PARAGRAPH_SEPARATOR\r\n    SPACE_SEPARATOR\r\n    START_PUNCTUATION\r\n    TITLECASE_LETTER\r\n    UPPERCASE_LETTER\r\n\r\n(All of the characters you listed as specifically wanting to remove have general category `OTHER_SYMBOL`, which I did not include in the above category whitelist.)","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>I'm not super into Java, so I won't try to write example code inline, but the way I would do this is to check what Unicode calls \"the general category\" of each character. There are a couple letter and punctuation categories.</p>\n\n<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getType(char)\" rel=\"noreferrer\">Character.getType</a> to find the general category of a given character. You should probably retain those characters that fall in these general categories:</p>\n\n<pre><code>COMBINING_SPACING_MARK\nCONNECTOR_PUNCTUATION\nCURRENCY_SYMBOL\nDASH_PUNCTUATION\nDECIMAL_DIGIT_NUMBER\nENCLOSING_MARK\nEND_PUNCTUATION\nFINAL_QUOTE_PUNCTUATION\nFORMAT\nINITIAL_QUOTE_PUNCTUATION\nLETTER_NUMBER\nLINE_SEPARATOR\nLOWERCASE_LETTER\nMATH_SYMBOL\nMODIFIER_LETTER\nMODIFIER_SYMBOL\nNON_SPACING_MARK\nOTHER_LETTER\nOTHER_NUMBER\nOTHER_PUNCTUATION\nPARAGRAPH_SEPARATOR\nSPACE_SEPARATOR\nSTART_PUNCTUATION\nTITLECASE_LETTER\nUPPERCASE_LETTER\n</code></pre>\n\n<p>(All of the characters you listed as specifically wanting to remove have general category <code>OTHER_SYMBOL</code>, which I did not include in the above category whitelist.)</p>\n"},{"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1522178446,"post_id":49520445,"comment_id":86047480,"body_markdown":"`import java.lang.Character.UnicodeBlock;`, then `Character.UnicodeBlock` -&gt; `UnicodeBlock`.","body":"<code>import java.lang.Character.UnicodeBlock;</code>, then <code>Character.UnicodeBlock</code> -&gt; <code>UnicodeBlock</code>."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":0,"creation_date":1522180398,"post_id":49520445,"comment_id":86048535,"body_markdown":"All your ways failed the tests.","body":"All your ways failed the tests."},{"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"score":0,"creation_date":1522180894,"post_id":49520445,"comment_id":86048789,"body_markdown":"@Oleg no, look again, the `white list` example.","body":"@Oleg no, look again, the <code>white list</code> example."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":0,"creation_date":1522181065,"post_id":49520445,"comment_id":86048879,"body_markdown":"Something must be wrong with my eyes or my monitor, I can&#39;t see is 早上好 and Καλημέρα","body":"Something must be wrong with my eyes or my monitor, I can&#39;t see is 早上好 and Καλημέρα"},{"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"score":0,"creation_date":1522186249,"post_id":49520445,"comment_id":86051361,"body_markdown":"@Oleg Maybe there is a simple way, can you give a try at it?","body":"@Oleg Maybe there is a simple way, can you give a try at it?"},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":0,"creation_date":1522191794,"post_id":49520445,"comment_id":86053323,"body_markdown":"Using character type is fine, it&#39;s either that or regex. The problem is OP never clarified his question, your current answer works with the examples he gave so I guess it&#39;s good enough.","body":"Using character type is fine, it&#39;s either that or regex. The problem is OP never clarified his question, your current answer works with the examples he gave so I guess it&#39;s good enough."},{"owner":{"account_id":303914,"reputation":110084,"user_id":613130,"accept_rate":80,"display_name":"xanatos"},"score":4,"creation_date":1522237607,"post_id":49520445,"comment_id":86073514,"body_markdown":"Note that the Java language is a little slow supporting newer Unicode versions... For example Java 10 supports only Unicode 8 (so its character classes describe only Unicode 8 characters)... So many emojis aren&#39;t presente (see https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html, *Character information is based on the Unicode Standard, version 8.0.0.*)","body":"Note that the Java language is a little slow supporting newer Unicode versions... For example Java 10 supports only Unicode 8 (so its character classes describe only Unicode 8 characters)... So many emojis aren&#39;t presente (see <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/lang/Character.html</a>, <i>Character information is based on the Unicode Standard, version 8.0.0.</i>)"}],"tags":[],"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1522232937,"creation_date":1522176774,"answer_id":49520445,"question_id":49510006,"body_markdown":"I gave some examples below, and thought that Latin is enough, but...\r\n\r\n&gt; Is there a way to remove all these signs from the input string and\r\n&gt; keeping only the letters &amp; punctuation in the different languages?\r\n\r\nAfter editing, developed a new solution, using the `Character.getType` method, and that appears to be the best shot at this.\r\n\r\n    package zmarcos.emoji;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class TestEmoji {\r\n       \r\n        public static void main(String[] args) {\r\n            String[] arr = {&quot;Remove ✅, &#128293;, ✈ , ♛ and other such signs from Java string&quot;,\r\n                &quot;→ Cats and dogs&quot;,\r\n                &quot;I&#39;m on &#128293;&quot;,\r\n                &quot;Apples ⚛ &quot;,\r\n                &quot;✅ Vi sign&quot;,\r\n                &quot;♛ I&#39;m the king ♛ &quot;,\r\n                &quot;Star me ★&quot;,\r\n                &quot;Star ⭐ once more&quot;,\r\n                &quot;早上好 ♛&quot;,\r\n                &quot;Καλημέρα ✂&quot;};\r\n            System.out.println(&quot;---only letters and spaces alike---\\n&quot;);\r\n            for (String input : arr) {\r\n                int[] filtered = input.codePoints().filter((cp) -&gt; Character.isLetter(cp) || Character.isWhitespace(cp)).toArray();\r\n                String result = new String(filtered, 0, filtered.length);\r\n                System.out.println(input);\r\n                System.out.println(result);\r\n            }\r\n\r\n            System.out.println(&quot;\\n---unicode blocks white---\\n&quot;);\r\n            Set&lt;Character.UnicodeBlock&gt; whiteList = new HashSet&lt;&gt;();\r\n            whiteList.add(Character.UnicodeBlock.BASIC_LATIN);\r\n            for (String input : arr) {\r\n                int[] filtered = input.codePoints().filter((cp) -&gt; whiteList.contains(Character.UnicodeBlock.of(cp))).toArray();\r\n                String result = new String(filtered, 0, filtered.length);\r\n                System.out.println(input);\r\n                System.out.println(result);\r\n            }\r\n            \r\n            System.out.println(&quot;\\n---unicode blocks black---\\n&quot;);\r\n            Set&lt;Character.UnicodeBlock&gt; blackList = new HashSet&lt;&gt;();        \r\n            blackList.add(Character.UnicodeBlock.EMOTICONS);\r\n            blackList.add(Character.UnicodeBlock.MISCELLANEOUS_TECHNICAL);\r\n            blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS);\r\n            blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_ARROWS);\r\n            blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS);\r\n            blackList.add(Character.UnicodeBlock.ALCHEMICAL_SYMBOLS);\r\n            blackList.add(Character.UnicodeBlock.TRANSPORT_AND_MAP_SYMBOLS);\r\n            blackList.add(Character.UnicodeBlock.GEOMETRIC_SHAPES);\r\n            blackList.add(Character.UnicodeBlock.DINGBATS);\r\n            for (String input : arr) {\r\n                int[] filtered = input.codePoints().filter((cp) -&gt; !blackList.contains(Character.UnicodeBlock.of(cp))).toArray();\r\n                String result = new String(filtered, 0, filtered.length);\r\n                System.out.println(input);\r\n                System.out.println(result);\r\n            }\r\n            System.out.println(&quot;\\n---category---\\n&quot;);\r\n            int[] category = {Character.COMBINING_SPACING_MARK, Character.COMBINING_SPACING_MARK, Character.CONNECTOR_PUNCTUATION, /*Character.CONTROL,*/ Character.CURRENCY_SYMBOL,\r\n                Character.DASH_PUNCTUATION, Character.DECIMAL_DIGIT_NUMBER, Character.ENCLOSING_MARK, Character.END_PUNCTUATION, Character.FINAL_QUOTE_PUNCTUATION,\r\n                /*Character.FORMAT,*/ Character.INITIAL_QUOTE_PUNCTUATION, Character.LETTER_NUMBER, Character.LINE_SEPARATOR, Character.LOWERCASE_LETTER,\r\n                /*Character.MATH_SYMBOL,*/ Character.MODIFIER_LETTER, /*Character.MODIFIER_SYMBOL,*/ Character.NON_SPACING_MARK, Character.OTHER_LETTER, Character.OTHER_NUMBER,\r\n                Character.OTHER_PUNCTUATION, /*Character.OTHER_SYMBOL,*/ Character.PARAGRAPH_SEPARATOR, /*Character.PRIVATE_USE,*/\r\n                Character.SPACE_SEPARATOR, Character.START_PUNCTUATION, /*Character.SURROGATE,*/ Character.TITLECASE_LETTER, /*Character.UNASSIGNED,*/ Character.UPPERCASE_LETTER};\r\n            Arrays.sort(category);\r\n            for (String input : arr) {\r\n                int[] filtered = input.codePoints().filter((cp) -&gt; Arrays.binarySearch(category, Character.getType(cp)) &gt;= 0).toArray();\r\n                String result = new String(filtered, 0, filtered.length);\r\n                System.out.println(input);\r\n                System.out.println(result);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    ---only letters and spaces alike---\r\n    \r\n    Remove ✅, &#128293;, ✈ , ♛ and other such signs from Java string\r\n    Remove      and other such signs from Java string\r\n    → Cats and dogs\r\n     Cats and dogs\r\n    I&#39;m on &#128293;\r\n    Im on \r\n    Apples ⚛ \r\n    Apples  \r\n    ✅ Vi sign\r\n     Vi sign\r\n    ♛ I&#39;m the king ♛ \r\n     Im the king  \r\n    Star me ★\r\n    Star me \r\n    Star ⭐ once more\r\n    Star  once more\r\n    早上好 ♛\r\n    早上好 \r\n    Καλημέρα ✂\r\n    Καλημέρα \r\n    \r\n    ---unicode blocks white---\r\n    \r\n    Remove ✅, &#128293;, ✈ , ♛ and other such signs from Java string\r\n    Remove , ,  ,  and other such signs from Java string\r\n    → Cats and dogs\r\n     Cats and dogs\r\n    I&#39;m on &#128293;\r\n    I&#39;m on \r\n    Apples ⚛ \r\n    Apples  \r\n    ✅ Vi sign\r\n     Vi sign\r\n    ♛ I&#39;m the king ♛ \r\n     I&#39;m the king  \r\n    Star me ★\r\n    Star me \r\n    Star ⭐ once more\r\n    Star  once more\r\n    早上好 ♛\r\n     \r\n    Καλημέρα ✂\r\n     \r\n    \r\n    ---unicode blocks black---\r\n    \r\n    Remove ✅, &#128293;, ✈ , ♛ and other such signs from Java string\r\n    Remove , ,  ,  and other such signs from Java string\r\n    → Cats and dogs\r\n    → Cats and dogs\r\n    I&#39;m on &#128293;\r\n    I&#39;m on \r\n    Apples ⚛ \r\n    Apples  \r\n    ✅ Vi sign\r\n     Vi sign\r\n    ♛ I&#39;m the king ♛ \r\n     I&#39;m the king  \r\n    Star me ★\r\n    Star me \r\n    Star ⭐ once more\r\n    Star  once more\r\n    早上好 ♛\r\n    早上好 \r\n    Καλημέρα ✂\r\n    Καλημέρα \r\n\r\n    ---category---\r\n    \r\n    Remove ✅, &#128293;, ✈ , ♛ and other such signs from Java string\r\n    Remove , ,  ,  and other such signs from Java string\r\n    → Cats and dogs\r\n     Cats and dogs\r\n    I&#39;m on &#128293;\r\n    I&#39;m on \r\n    Apples ⚛ \r\n    Apples  \r\n    ✅ Vi sign\r\n     Vi sign\r\n    ♛ I&#39;m the king ♛ \r\n     I&#39;m the king  \r\n    Star me ★\r\n    Star me \r\n    Star ⭐ once more\r\n    Star  once more\r\n    早上好 ♛\r\n    早上好 \r\n    Καλημέρα ✂\r\n    Καλημέρα \r\n\r\nThe code works by streaming the String to code-points. Then using lambdas to filter characters into a `int` array, then we convert the array to String.\r\n\r\nThe **letters and spaces** are using using the Character methods to filter, not good with punctuation. **Failed attempt**.\r\n\r\nThe **unicode blocks white** filter using the unicode blocks the programmer specifies as allowed. **Failed attempt**. \r\n\r\nThe **unicode blocks black** filter using the unicode blocks the programmer specifies as not allowed. **Failed attempt**.\r\n\r\nThe **category** filter using the static method `Character.getType`. The programmer can define in the `category` array what types are allowed. **WORKS**&#128552;&#128561;&#128560;&#128562;&#128512;.","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>I gave some examples below, and thought that Latin is enough, but...</p>\n\n<blockquote>\n  <p>Is there a way to remove all these signs from the input string and\n  keeping only the letters &amp; punctuation in the different languages?</p>\n</blockquote>\n\n<p>After editing, developed a new solution, using the <code>Character.getType</code> method, and that appears to be the best shot at this.</p>\n\n<pre><code>package zmarcos.emoji;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class TestEmoji {\n\n    public static void main(String[] args) {\n        String[] arr = {\"Remove ✅, 🔥, ✈ , ♛ and other such signs from Java string\",\n            \"→ Cats and dogs\",\n            \"I'm on 🔥\",\n            \"Apples ⚛ \",\n            \"✅ Vi sign\",\n            \"♛ I'm the king ♛ \",\n            \"Star me ★\",\n            \"Star ⭐ once more\",\n            \"早上好 ♛\",\n            \"Καλημέρα ✂\"};\n        System.out.println(\"---only letters and spaces alike---\\n\");\n        for (String input : arr) {\n            int[] filtered = input.codePoints().filter((cp) -&gt; Character.isLetter(cp) || Character.isWhitespace(cp)).toArray();\n            String result = new String(filtered, 0, filtered.length);\n            System.out.println(input);\n            System.out.println(result);\n        }\n\n        System.out.println(\"\\n---unicode blocks white---\\n\");\n        Set&lt;Character.UnicodeBlock&gt; whiteList = new HashSet&lt;&gt;();\n        whiteList.add(Character.UnicodeBlock.BASIC_LATIN);\n        for (String input : arr) {\n            int[] filtered = input.codePoints().filter((cp) -&gt; whiteList.contains(Character.UnicodeBlock.of(cp))).toArray();\n            String result = new String(filtered, 0, filtered.length);\n            System.out.println(input);\n            System.out.println(result);\n        }\n\n        System.out.println(\"\\n---unicode blocks black---\\n\");\n        Set&lt;Character.UnicodeBlock&gt; blackList = new HashSet&lt;&gt;();        \n        blackList.add(Character.UnicodeBlock.EMOTICONS);\n        blackList.add(Character.UnicodeBlock.MISCELLANEOUS_TECHNICAL);\n        blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS);\n        blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_ARROWS);\n        blackList.add(Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS);\n        blackList.add(Character.UnicodeBlock.ALCHEMICAL_SYMBOLS);\n        blackList.add(Character.UnicodeBlock.TRANSPORT_AND_MAP_SYMBOLS);\n        blackList.add(Character.UnicodeBlock.GEOMETRIC_SHAPES);\n        blackList.add(Character.UnicodeBlock.DINGBATS);\n        for (String input : arr) {\n            int[] filtered = input.codePoints().filter((cp) -&gt; !blackList.contains(Character.UnicodeBlock.of(cp))).toArray();\n            String result = new String(filtered, 0, filtered.length);\n            System.out.println(input);\n            System.out.println(result);\n        }\n        System.out.println(\"\\n---category---\\n\");\n        int[] category = {Character.COMBINING_SPACING_MARK, Character.COMBINING_SPACING_MARK, Character.CONNECTOR_PUNCTUATION, /*Character.CONTROL,*/ Character.CURRENCY_SYMBOL,\n            Character.DASH_PUNCTUATION, Character.DECIMAL_DIGIT_NUMBER, Character.ENCLOSING_MARK, Character.END_PUNCTUATION, Character.FINAL_QUOTE_PUNCTUATION,\n            /*Character.FORMAT,*/ Character.INITIAL_QUOTE_PUNCTUATION, Character.LETTER_NUMBER, Character.LINE_SEPARATOR, Character.LOWERCASE_LETTER,\n            /*Character.MATH_SYMBOL,*/ Character.MODIFIER_LETTER, /*Character.MODIFIER_SYMBOL,*/ Character.NON_SPACING_MARK, Character.OTHER_LETTER, Character.OTHER_NUMBER,\n            Character.OTHER_PUNCTUATION, /*Character.OTHER_SYMBOL,*/ Character.PARAGRAPH_SEPARATOR, /*Character.PRIVATE_USE,*/\n            Character.SPACE_SEPARATOR, Character.START_PUNCTUATION, /*Character.SURROGATE,*/ Character.TITLECASE_LETTER, /*Character.UNASSIGNED,*/ Character.UPPERCASE_LETTER};\n        Arrays.sort(category);\n        for (String input : arr) {\n            int[] filtered = input.codePoints().filter((cp) -&gt; Arrays.binarySearch(category, Character.getType(cp)) &gt;= 0).toArray();\n            String result = new String(filtered, 0, filtered.length);\n            System.out.println(input);\n            System.out.println(result);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>---only letters and spaces alike---\n\nRemove ✅, 🔥, ✈ , ♛ and other such signs from Java string\nRemove      and other such signs from Java string\n→ Cats and dogs\n Cats and dogs\nI'm on 🔥\nIm on \nApples ⚛ \nApples  \n✅ Vi sign\n Vi sign\n♛ I'm the king ♛ \n Im the king  \nStar me ★\nStar me \nStar ⭐ once more\nStar  once more\n早上好 ♛\n早上好 \nΚαλημέρα ✂\nΚαλημέρα \n\n---unicode blocks white---\n\nRemove ✅, 🔥, ✈ , ♛ and other such signs from Java string\nRemove , ,  ,  and other such signs from Java string\n→ Cats and dogs\n Cats and dogs\nI'm on 🔥\nI'm on \nApples ⚛ \nApples  \n✅ Vi sign\n Vi sign\n♛ I'm the king ♛ \n I'm the king  \nStar me ★\nStar me \nStar ⭐ once more\nStar  once more\n早上好 ♛\n\nΚαλημέρα ✂\n\n\n---unicode blocks black---\n\nRemove ✅, 🔥, ✈ , ♛ and other such signs from Java string\nRemove , ,  ,  and other such signs from Java string\n→ Cats and dogs\n→ Cats and dogs\nI'm on 🔥\nI'm on \nApples ⚛ \nApples  \n✅ Vi sign\n Vi sign\n♛ I'm the king ♛ \n I'm the king  \nStar me ★\nStar me \nStar ⭐ once more\nStar  once more\n早上好 ♛\n早上好 \nΚαλημέρα ✂\nΚαλημέρα \n\n---category---\n\nRemove ✅, 🔥, ✈ , ♛ and other such signs from Java string\nRemove , ,  ,  and other such signs from Java string\n→ Cats and dogs\n Cats and dogs\nI'm on 🔥\nI'm on \nApples ⚛ \nApples  \n✅ Vi sign\n Vi sign\n♛ I'm the king ♛ \n I'm the king  \nStar me ★\nStar me \nStar ⭐ once more\nStar  once more\n早上好 ♛\n早上好 \nΚαλημέρα ✂\nΚαλημέρα \n</code></pre>\n\n<p>The code works by streaming the String to code-points. Then using lambdas to filter characters into a <code>int</code> array, then we convert the array to String.</p>\n\n<p>The <strong>letters and spaces</strong> are using using the Character methods to filter, not good with punctuation. <strong>Failed attempt</strong>.</p>\n\n<p>The <strong>unicode blocks white</strong> filter using the unicode blocks the programmer specifies as allowed. <strong>Failed attempt</strong>. </p>\n\n<p>The <strong>unicode blocks black</strong> filter using the unicode blocks the programmer specifies as not allowed. <strong>Failed attempt</strong>.</p>\n\n<p>The <strong>category</strong> filter using the static method <code>Character.getType</code>. The programmer can define in the <code>category</code> array what types are allowed. <strong>WORKS</strong>😨😱😰😲😀.</p>\n"},{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1522251689,"post_id":49532772,"comment_id":86084612,"body_markdown":"Until Java is updated to include Emoji binary property, I guess this would be a good solution. The library needs to be updated often for the newly added codepoints, though.","body":"Until Java is updated to include Emoji binary property, I guess this would be a good solution. The library needs to be updated often for the newly added codepoints, though."}],"tags":[],"owner":{"account_id":8718999,"reputation":519,"user_id":6522707,"display_name":"Daniel F"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1522234803,"creation_date":1522234803,"answer_id":49532772,"question_id":49510006,"body_markdown":"ICU4J is your friend.\r\n\r\n    UCharacter.hasBinaryProperty(UProperty.EMOJI);\r\n\r\nRemember to keep your version of icu4j up to date and note this will only filter out official Unicode emoji, not symbol characters. Combine with filtering out other character types as desired.\r\n\r\nMore information:\r\nhttp://icu-project.org/apiref/icu4j/com/ibm/icu/lang/UProperty.html#EMOJI","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>ICU4J is your friend.</p>\n\n<pre><code>UCharacter.hasBinaryProperty(UProperty.EMOJI);\n</code></pre>\n\n<p>Remember to keep your version of icu4j up to date and note this will only filter out official Unicode emoji, not symbol characters. Combine with filtering out other character types as desired.</p>\n\n<p>More information:\n<a href=\"http://icu-project.org/apiref/icu4j/com/ibm/icu/lang/UProperty.html#EMOJI\" rel=\"noreferrer\">http://icu-project.org/apiref/icu4j/com/ibm/icu/lang/UProperty.html#EMOJI</a></p>\n"},{"comments":[{"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"score":10,"creation_date":1523702030,"post_id":49807143,"comment_id":86676065,"body_markdown":"The question was in Java, hence a jQuery plugin is not relevant here.","body":"The question was in Java, hence a jQuery plugin is not relevant here."}],"tags":[],"owner":{"account_id":13354840,"reputation":17,"user_id":9638790,"display_name":"Atwood Mandelbrot-Spolsky"},"comment_count":1,"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1523579421,"creation_date":1523574819,"answer_id":49807143,"question_id":49510006,"body_markdown":"Use a jQuery plugin called RM-Emoji. Here&#39;s how it works:\r\n\r\n    $(&#39;#text&#39;).remove(&#39;emoji&#39;).fast()\r\n\r\nThis is the fast mode that may miss some emojis as it uses heuristic algorithms for finding emojis in text. Use the `.full()` method to scan entire string and remove all emojis guaranteed.\r\n","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>Use a jQuery plugin called RM-Emoji. Here's how it works:</p>\n\n<pre><code>$('#text').remove('emoji').fast()\n</code></pre>\n\n<p>This is the fast mode that may miss some emojis as it uses heuristic algorithms for finding emojis in text. Use the <code>.full()</code> method to scan entire string and remove all emojis guaranteed.</p>\n"},{"comments":[{"owner":{"account_id":13848224,"reputation":93,"user_id":9996834,"display_name":"Juan Camilo Camacho Beltr&#225;n"},"score":0,"creation_date":1646085515,"post_id":53113307,"comment_id":126033254,"body_markdown":"It doesn&#39;t work for me on: &quot;&#129297; &#128152;&quot;, the result is &quot;&#129297;&quot;","body":"It doesn&#39;t work for me on: &quot;🤑 💘&quot;, the result is &quot;🤑&quot;"}],"tags":[],"owner":{"account_id":550516,"reputation":321,"user_id":915082,"display_name":"coder4"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1541138059,"creation_date":1541138059,"answer_id":53113307,"question_id":49510006,"body_markdown":"Try this project [simple-emoji-4j][1]\r\n\r\nCompatible with Emoji 12.0 (2018.10.15)\r\n\r\nSimple with:\r\n\r\n\r\n    EmojiUtils.removeEmoji(str)\r\n\r\n\r\n[1]: https://github.com/liheyuan/simple-emoji-4j","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>Try this project <a href=\"https://github.com/liheyuan/simple-emoji-4j\" rel=\"nofollow noreferrer\">simple-emoji-4j</a></p>\n\n<p>Compatible with Emoji 12.0 (2018.10.15)</p>\n\n<p>Simple with:</p>\n\n<pre><code>EmojiUtils.removeEmoji(str)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700157594,"creation_date":1700157594,"answer_id":77497072,"question_id":49510006,"body_markdown":"Java 21 has a new `IsEmoji` character class:\r\n\r\n```java\r\nvar regex = &quot;\\\\p{IsEmoji}&quot;;\r\n```\r\n\r\n#### Remove all emojis:\r\n\r\n```java\r\nvar myString = &quot;This is a ⭐ emoji and a \\uD83C\\uDF0D emoji&quot;;\r\nvar emojiRegex = &quot;\\\\p{IsEmoji}&quot;;\r\nvar myStringWithoutEmojis = myString.replaceAll(emojiRegex, &quot;&quot;);\r\n```\r\n\r\n#### Extract all emojis:\r\n\r\n```java\r\nvar myString = &quot;This is a ⭐ emoji and a \\uD83C\\uDF0D emoji&quot;;\r\nvar emojiRegex = &quot;\\\\p{IsEmoji}&quot;;\r\nvar pattern = Pattern.compile(emojiRegex);\r\nvar matcher = pattern.matcher(myString);\r\nvar emojis = matcher.results().map(MatchResult::group).toList();\r\nvar emojisString = String.join(&quot; &quot;, emojis);\r\n```\r\n","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>Java 21 has a new <code>IsEmoji</code> character class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var regex = &quot;\\\\p{IsEmoji}&quot;;\n</code></pre>\n<h4>Remove all emojis:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>var myString = &quot;This is a ⭐ emoji and a \\uD83C\\uDF0D emoji&quot;;\nvar emojiRegex = &quot;\\\\p{IsEmoji}&quot;;\nvar myStringWithoutEmojis = myString.replaceAll(emojiRegex, &quot;&quot;);\n</code></pre>\n<h4>Extract all emojis:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>var myString = &quot;This is a ⭐ emoji and a \\uD83C\\uDF0D emoji&quot;;\nvar emojiRegex = &quot;\\\\p{IsEmoji}&quot;;\nvar pattern = Pattern.compile(emojiRegex);\nvar matcher = pattern.matcher(myString);\nvar emojis = matcher.results().map(MatchResult::group).toList();\nvar emojisString = String.join(&quot; &quot;, emojis);\n</code></pre>\n"}],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50018,"favorite_count":0,"down_vote_count":13,"up_vote_count":228,"accepted_answer_id":49516025,"answer_count":8,"score":215,"last_activity_date":1700157783,"creation_date":1522145145,"question_id":49510006,"body_markdown":"I have some strings with all kinds of different emojis/images/signs in them.\r\n\r\nNot all the strings are in English -- some of them are in other non-Latin languages, for example:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ▓ railway??\r\n\t→ Cats and dogs\r\n\tI&#39;m on &#128293;\r\n\tApples ⚛ \r\n\t✅ Vi sign\r\n\t♛ I&#39;m the king ♛ \r\n    Cor&#233;e ♦ du Nord ☁  (French)\r\n     gj&#248;r at b&#229;de ◄╗ (Norwegian)\r\n\tStar me ★\r\n\tStar ⭐ once more\r\n    早上好 ♛ (Chinese)\r\n    Καλημέρα ✂ (Greek)\r\n    another ✓ sign ✓\r\n    добрай раніцы ✪ (Belarus)\r\n    ◄ शुभ प्रभात ◄ (Hindi)\r\n    ✪ ✰ ❈ ❧ Let&#39;s get together ★. We shall meet at 12/10/2018 10:00 AM at Tony&#39;s.❉\r\n\r\n...and many more of these.\r\n\r\nI would like to get rid of all these signs/images and to keep only the letters (and punctuation) in the different languages. \r\n\r\nI tried to clean the signs using the [EmojiParser library][1]:\r\n\r\n    String withoutEmojis = EmojiParser.removeAllEmojis(input);\r\n\r\nThe problem is that EmojiParser is not able to remove the majority of the signs. The ♦ sign is the only one I found till now that it removed.\r\nOther signs such as  ✪ ❉ ★ ✰ ❈ ❧ ✂ ❋ ⓡ ✿ ♛ &#128293; are not removed.\r\n\r\nIs there a way to remove all these signs from the input strings and keeping only the letters and punctuation in the **different languages**?\r\n\r\n\r\n  [1]: https://github.com/vdurmont/emoji-java","title":"Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings","body":"<p>I have some strings with all kinds of different emojis/images/signs in them.</p>\n\n<p>Not all the strings are in English -- some of them are in other non-Latin languages, for example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>▓ railway??\n→ Cats and dogs\nI'm on 🔥\nApples ⚛ \n✅ Vi sign\n♛ I'm the king ♛ \nCorée ♦ du Nord ☁  (French)\n gjør at både ◄╗ (Norwegian)\nStar me ★\nStar ⭐ once more\n早上好 ♛ (Chinese)\nΚαλημέρα ✂ (Greek)\nanother ✓ sign ✓\nдобрай раніцы ✪ (Belarus)\n◄ शुभ प्रभात ◄ (Hindi)\n✪ ✰ ❈ ❧ Let's get together ★. We shall meet at 12/10/2018 10:00 AM at Tony's.❉\n</code></pre>\n\n<p>...and many more of these.</p>\n\n<p>I would like to get rid of all these signs/images and to keep only the letters (and punctuation) in the different languages. </p>\n\n<p>I tried to clean the signs using the <a href=\"https://github.com/vdurmont/emoji-java\" rel=\"noreferrer\">EmojiParser library</a>:</p>\n\n<pre><code>String withoutEmojis = EmojiParser.removeAllEmojis(input);\n</code></pre>\n\n<p>The problem is that EmojiParser is not able to remove the majority of the signs. The ♦ sign is the only one I found till now that it removed.\nOther signs such as  ✪ ❉ ★ ✰ ❈ ❧ ✂ ❋ ⓡ ✿ ♛ 🔥 are not removed.</p>\n\n<p>Is there a way to remove all these signs from the input strings and keeping only the letters and punctuation in the <strong>different languages</strong>?</p>\n"},{"tags":["java","spring","design-patterns"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":2,"creation_date":1700151281,"post_id":77495252,"comment_id":136621962,"body_markdown":"I don&#39;t see any advantage to using Commands here; plus the fact the outputs require type casting would be absolutely a nonstarter for me.","body":"I don&#39;t see any advantage to using Commands here; plus the fact the outputs require type casting would be absolutely a nonstarter for me."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":1,"creation_date":1700243551,"post_id":77495252,"comment_id":136634698,"body_markdown":"OK, thank you. I&#39;ve decided to implement commands for learning purposes mainly, but I think that they might come in handy when the application grows more. And you&#39;re right about type casting, this actually is a big code smell and I should work on it.","body":"OK, thank you. I&#39;ve decided to implement commands for learning purposes mainly, but I think that they might come in handy when the application grows more. And you&#39;re right about type casting, this actually is a big code smell and I should work on it."}],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1700243795,"post_id":77496993,"comment_id":136634736,"body_markdown":"Thank you. It might be more suited to the code review now that I think about it. Anyways, I&#39;ve implemented this pattern for learning purposes and haven&#39;t really considered the memory complexity that it brings. Thank you for reminding me of that, althoguh - as I mentioned - the project is rather academic. I also use microservices in the project probably making the command pattern even less usable, but to be honest, I quite like this approach. Also, thanks a lot for the generic type parameters solution.","body":"Thank you. It might be more suited to the code review now that I think about it. Anyways, I&#39;ve implemented this pattern for learning purposes and haven&#39;t really considered the memory complexity that it brings. Thank you for reminding me of that, althoguh - as I mentioned - the project is rather academic. I also use microservices in the project probably making the command pattern even less usable, but to be honest, I quite like this approach. Also, thanks a lot for the generic type parameters solution."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700156791,"creation_date":1700156791,"answer_id":77496993,"question_id":77495252,"body_markdown":"You can eliminate the casts if you capture the return type via generic type parameters. E.g.:\r\n\r\n    interface Command&lt;T&gt; {\r\n        class Id&lt;T&gt; {}\r\n\r\n        T execute();\r\n    }\r\n\r\n    public static final Command.Id&lt;Person&gt; GET_PERSON_BY_ID = new Command.Id&lt;&gt;();\r\n    public static final Command.Id&lt;Child&gt; GET_CHILD_BY_ID = new Command.Id&lt;&gt;();\r\n    public static final Command.Id&lt;Person&gt; ADD_CHILD_TO_PERSON = new Command.Id&lt;&gt;();\r\n\r\n    public static class CommandFactory {\r\n        private &lt;T&gt; Command&lt;T&gt; get(Command.Id&lt;T&gt; commandId, Object... args) {\r\n            // Implement...\r\n        }\r\n    }\r\n    \r\n    private static final CommandFactory commandFactory = new CommandFactory();\r\n    \r\n    public static class AddChildToPersonCommand implements Command&lt;Person&gt; {\r\n        // ...\r\n    }\r\n\r\n    public Person addChildToPerson(Long personId, Long childId) {\r\n        // acquire a person object from the database given an id\r\n        Person person = commandFactory.get(GET_PERSON_BY_ID, personId).execute();\r\n        // do the same with child\r\n        Child child = commandFactory.get(GET_CHILD_BY_ID, childId).execute();\r\n        return commandFactory.get(ADD_CHILD_TO_PERSON, person, child).execute();\r\n    }\r\n\r\nTBH it&#39;s not clear what benefit you&#39;re deriving from the command approach, and it seems to add unnecessary complexity as well as being cumbersome and somewhat expensive in terms of object creation. For example, it would be cleaner if AddChildToPersonCommand only stored the ChildRepository as a field, and the Person and Child were passed as arguments to the execute method.\r\n\r\nEithr way, I think this question would be more suited to https://codereview.stackexchange.com/","title":"Command pattern design in Spring","body":"<p>You can eliminate the casts if you capture the return type via generic type parameters. E.g.:</p>\n<pre><code>interface Command&lt;T&gt; {\n    class Id&lt;T&gt; {}\n\n    T execute();\n}\n\npublic static final Command.Id&lt;Person&gt; GET_PERSON_BY_ID = new Command.Id&lt;&gt;();\npublic static final Command.Id&lt;Child&gt; GET_CHILD_BY_ID = new Command.Id&lt;&gt;();\npublic static final Command.Id&lt;Person&gt; ADD_CHILD_TO_PERSON = new Command.Id&lt;&gt;();\n\npublic static class CommandFactory {\n    private &lt;T&gt; Command&lt;T&gt; get(Command.Id&lt;T&gt; commandId, Object... args) {\n        // Implement...\n    }\n}\n\nprivate static final CommandFactory commandFactory = new CommandFactory();\n\npublic static class AddChildToPersonCommand implements Command&lt;Person&gt; {\n    // ...\n}\n\npublic Person addChildToPerson(Long personId, Long childId) {\n    // acquire a person object from the database given an id\n    Person person = commandFactory.get(GET_PERSON_BY_ID, personId).execute();\n    // do the same with child\n    Child child = commandFactory.get(GET_CHILD_BY_ID, childId).execute();\n    return commandFactory.get(ADD_CHILD_TO_PERSON, person, child).execute();\n}\n</code></pre>\n<p>TBH it's not clear what benefit you're deriving from the command approach, and it seems to add unnecessary complexity as well as being cumbersome and somewhat expensive in terms of object creation. For example, it would be cleaner if AddChildToPersonCommand only stored the ChildRepository as a field, and the Person and Child were passed as arguments to the execute method.</p>\n<p>Eithr way, I think this question would be more suited to <a href=\"https://codereview.stackexchange.com/\">https://codereview.stackexchange.com/</a></p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700156938,"answer_count":1,"score":0,"last_activity_date":1700156791,"creation_date":1700141509,"question_id":77495252,"body_markdown":"I have more or less implemented the command pattern in my Spring Boot application. I still have some doubts and would like to get second opinion on them.\r\n\r\nI have a `CommandFactory` which - when given a command code - returns an instance of command object that implements `Command` functional interface and has a single method called `execute`.\r\n\r\nHere&#39;s an example of use:\r\n* **PersonService:**\r\n```\r\npublic Person addChildToPerson(Long personId, Long childId) {\r\n    // acquire a person object from the database given an id\r\n    Person person = (Person) commandFactory.create(GET_PERSON_BY_ID, personId).execute();\r\n    // do the same with child\r\n    Child child = (Child) commandFactory.create(GET_CHILD_BY_ID, childId).execute();\r\n    return (Person) commandFactory.create(ADD_CHILD_TO_PERSON, person, child).execute();\r\n}\r\n```\r\n\r\nNow here&#39;s the code of a `AddChildToPersonCommand` class that is responsible for attaching the child to the person and persisting it in the database.\r\n\r\n* **AddChildToPersonCommand:**\r\n```\r\n@RequiredArgsConstructor\r\npublic class AddChildToPersonCommand implements Command {\r\n\r\n     // declare needed components for performing the command\r\n     private final ChildRepository childRepository;\r\n     private final Person person;\r\n     private final Child child;\r\n\r\n     @Override\r\n     public Person execute() {\r\n         // some logic\r\n     }\r\n}\r\n```\r\nNow, my doubts are mainly concerned with the &quot;declared components&quot; for the execution of a command. I&#39;m unsure whether it&#39;s a better practice to operate on the actual objects that have been already retrieved using other commands (in the example: `GetPersonByIdCommand` &amp; `GetChildByIdCommand`) or to just give the `AddChildToPersonCommand` the IDs and let it take care of the rest.\r\n\r\nOn the one hand, it seems a better approach to operate on the objects as it decreases the responsibilites of `AddChildToPersonCommand`.\r\n\r\nOn the other hand, though, the **PersonService**&#39;s methods may end up really big when the logic to-be-performed is not as trivial as in this example.\r\n\r\nWhat do you think?","title":"Command pattern design in Spring","body":"<p>I have more or less implemented the command pattern in my Spring Boot application. I still have some doubts and would like to get second opinion on them.</p>\n<p>I have a <code>CommandFactory</code> which - when given a command code - returns an instance of command object that implements <code>Command</code> functional interface and has a single method called <code>execute</code>.</p>\n<p>Here's an example of use:</p>\n<ul>\n<li><strong>PersonService:</strong></li>\n</ul>\n<pre><code>public Person addChildToPerson(Long personId, Long childId) {\n    // acquire a person object from the database given an id\n    Person person = (Person) commandFactory.create(GET_PERSON_BY_ID, personId).execute();\n    // do the same with child\n    Child child = (Child) commandFactory.create(GET_CHILD_BY_ID, childId).execute();\n    return (Person) commandFactory.create(ADD_CHILD_TO_PERSON, person, child).execute();\n}\n</code></pre>\n<p>Now here's the code of a <code>AddChildToPersonCommand</code> class that is responsible for attaching the child to the person and persisting it in the database.</p>\n<ul>\n<li><strong>AddChildToPersonCommand:</strong></li>\n</ul>\n<pre><code>@RequiredArgsConstructor\npublic class AddChildToPersonCommand implements Command {\n\n     // declare needed components for performing the command\n     private final ChildRepository childRepository;\n     private final Person person;\n     private final Child child;\n\n     @Override\n     public Person execute() {\n         // some logic\n     }\n}\n</code></pre>\n<p>Now, my doubts are mainly concerned with the &quot;declared components&quot; for the execution of a command. I'm unsure whether it's a better practice to operate on the actual objects that have been already retrieved using other commands (in the example: <code>GetPersonByIdCommand</code> &amp; <code>GetChildByIdCommand</code>) or to just give the <code>AddChildToPersonCommand</code> the IDs and let it take care of the rest.</p>\n<p>On the one hand, it seems a better approach to operate on the objects as it decreases the responsibilites of <code>AddChildToPersonCommand</code>.</p>\n<p>On the other hand, though, the <strong>PersonService</strong>'s methods may end up really big when the logic to-be-performed is not as trivial as in this example.</p>\n<p>What do you think?</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1700155997,"post_id":77496888,"comment_id":136622860,"body_markdown":"Please [edit] your question to include the entire error message, including the stack trace.","body":"Please <a href=\"https://stackoverflow.com/posts/77496888/edit\">edit</a> your question to include the entire error message, including the stack trace."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1700156307,"post_id":77496888,"comment_id":136622907,"body_markdown":"What to do about a `NullPointerException` is a common Java question on Stack Overflow. You might be interested in answers to https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it .","body":"What to do about a <code>NullPointerException</code> is a common Java question on Stack Overflow. You might be interested in answers to <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a> ."}],"owner":{"account_id":29796855,"reputation":1,"user_id":22835672,"display_name":"Julia Anda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700156614,"answer_count":0,"score":-1,"last_activity_date":1700156060,"creation_date":1700155731,"question_id":77496888,"body_markdown":"I have the following code snippet:\r\n\r\nI am facing a problem when trying to iterate over a list in Java and I receive a `NullPointerException` exception. I would like to understand what is causing this error and how I can fix it.\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/pessoa&quot;)\r\npublic class PessoaController {\r\n\r\n    @Autowired\r\n    private PessoaRepository pessoaRepository;\r\n\r\n    @GetMapping\r\n    public List&lt;Pessoa&gt; all() {\r\n        return pessoaRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Pessoa getById(@PathVariable Long id) {\r\n        return pessoaRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @PostMapping\r\n    public Pessoa create(@RequestBody Pessoa nova) {\r\n        return pessoaRepository.save(nova);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id&quot; +\r\n            &quot;}&quot;)\r\n    public Pessoa update(@PathVariable Long id, @RequestBody Pessoa pessoaAtualizada) {\r\n        return pessoaRepository.findById(id)\r\n                .map(pessoa -&gt; {\r\n                    pessoa.setNome(pessoaAtualizada.getNome());\r\n                    pessoa.setDocumento(pessoaAtualizada.getDocumento());\r\n                    return pessoaRepository.save(pessoa);\r\n                })\r\n                .orElse(null);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void delete(@PathVariable Long id) {\r\n        pessoaRepository.deleteById(id);\r\n    }\r\n```\r\n\r\nThanks in advance for any guidance or clarification on this issue. If you need more information, I am at your disposal.","title":"Problem creating Controller in Java Spring - Unexpected Error","body":"<p>I have the following code snippet:</p>\n<p>I am facing a problem when trying to iterate over a list in Java and I receive a <code>NullPointerException</code> exception. I would like to understand what is causing this error and how I can fix it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/pessoa&quot;)\npublic class PessoaController {\n\n    @Autowired\n    private PessoaRepository pessoaRepository;\n\n    @GetMapping\n    public List&lt;Pessoa&gt; all() {\n        return pessoaRepository.findAll();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Pessoa getById(@PathVariable Long id) {\n        return pessoaRepository.findById(id).orElse(null);\n    }\n\n    @PostMapping\n    public Pessoa create(@RequestBody Pessoa nova) {\n        return pessoaRepository.save(nova);\n    }\n\n    @PutMapping(&quot;/{id&quot; +\n            &quot;}&quot;)\n    public Pessoa update(@PathVariable Long id, @RequestBody Pessoa pessoaAtualizada) {\n        return pessoaRepository.findById(id)\n                .map(pessoa -&gt; {\n                    pessoa.setNome(pessoaAtualizada.getNome());\n                    pessoa.setDocumento(pessoaAtualizada.getDocumento());\n                    return pessoaRepository.save(pessoa);\n                })\n                .orElse(null);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void delete(@PathVariable Long id) {\n        pessoaRepository.deleteById(id);\n    }\n</code></pre>\n<p>Thanks in advance for any guidance or clarification on this issue. If you need more information, I am at your disposal.</p>\n"},{"tags":["java","spring","crud"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1700133893,"post_id":77494386,"comment_id":136618503,"body_markdown":"Stop using entities in your api. Learn about 3tier architecture.","body":"Stop using entities in your api. Learn about 3tier architecture."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1700133930,"post_id":77494386,"comment_id":136618512,"body_markdown":"How do you call your api?","body":"How do you call your api?"}],"owner":{"account_id":29911807,"reputation":1,"user_id":22923027,"display_name":"Prova Henrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700155936,"creation_date":1700133628,"question_id":77494386,"body_markdown":"I&#39;m having a path recognition issue on my crud spring mvc endpoint my postam returns: error 404 path not found.\\\\\r\n\r\nMy controller:\r\n\r\n```\r\npackage com.example.crud.controllers;\r\n\r\nimport com.example.crud.domain.product.Product;\r\nimport com.example.crud.domain.product.ProductRepository;\r\nimport com.example.crud.domain.product.RequestProduct;\r\nimport jakarta.persistence.EntityNotFoundException;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    @Autowired\r\n    private ProductRepository repository;\r\n    @GetMapping\r\n    public ResponseEntity getAllProducts(){\r\n        var allProducts = repository.findAllByActiveTrue();\r\n        return ResponseEntity.ok(allProducts);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity registerProduct(@RequestBody @Valid RequestProduct data){\r\n        Product newProduct = new Product(data);\r\n        repository.save(newProduct);\r\n        return ResponseEntity.ok().build();\r\n    }\r\n\r\n    @PutMapping\r\n    @Transactional\r\n    public ResponseEntity updateProduct(@RequestBody @Valid RequestProduct data){\r\n        Optional&lt;Product&gt; optionalProduct = repository.findById(data.id());\r\n        if (optionalProduct.isPresent()) {\r\n            Product product = optionalProduct.get();\r\n            product.setName(data.name());\r\n            product.setPrice_in_cents(data.price_in_cents());\r\n            return ResponseEntity.ok(product);\r\n        } else {\r\n            throw new EntityNotFoundException();\r\n        }\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @Transactional\r\n    public ResponseEntity deleteProduct(@PathVariable String id){\r\n        Optional&lt;Product&gt; optionalProduct = repository.findById(id);\r\n        if (optionalProduct.isPresent()) {\r\n            Product product = optionalProduct.get();\r\n            product.setActive(false);\r\n            return ResponseEntity.noContent().build();\r\n        } else {\r\n            throw new EntityNotFoundException();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy entity:\r\n\r\n```\r\npackage com.example.crud.domain.product;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Table(name=&quot;product&quot;)\r\n@Entity(name=&quot;product&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(of = &quot;id&quot;)\r\npublic class Product {\r\n    @Id @GeneratedValue(strategy = GenerationType.UUID)\r\n    private String id;\r\n\r\n    private String name;\r\n\r\n    private Integer price_in_cents;\r\n\r\n    private Boolean active;\r\n\r\n    public Product(RequestProduct requestProduct){\r\n        this.name = requestProduct.name();\r\n        this.price_in_cents = requestProduct.price_in_cents();\r\n        this.active = true;\r\n    }\r\n}\r\n```\r\n\r\nMy Repository:\r\n\r\n```\r\npackage com.example.crud.domain.product;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt; {\r\n    List&lt;Product&gt; findAllByActiveTrue();\r\n}\r\n```\r\n\r\nMy request:\r\n\r\n```\r\npackage com.example.crud.domain.product;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport java.util.UUID;\r\n\r\npublic record RequestProduct(\r\n        String id,\r\n\r\n        @NotBlank\r\n        String name,\r\n        @NotNull\r\n        Integer price_in_cents\r\n) {\r\n}\r\n```\r\n\r\nspecifically in the getById endpoint the path of my variable is not being recognized apparently, I have already tried to redo the imports and still nothing, I would like to fix this problem in the path variable.\r\n\r\natt: my put endpoint is actualy like this:\r\n\r\n    @PutMapping{&quot;/{id}&quot;}\r\n\r\n    public ResponseEntity update(@PathVariable Long id, @RequestBody ProductRequest novosDados){\r\n    \r\n    Product produtoAlterar= repository.findById(id).orElse(new Product);\r\n    \r\n    produtoAlterar.setNome(novosDados.getNome);\r\n    \r\n    produtoAlterar.setPrice_in_cents(novosDados.getPrice_in_cents);\r\n    \r\n    repository.save(produtoAlterar);\r\n    \r\n    return ResponseEntity.ok(produtoAlterar);\r\n    \r\n    }","title":"Unrecognized path problem on java crud mvc endpoint","body":"<p>I'm having a path recognition issue on my crud spring mvc endpoint my postam returns: error 404 path not found.\\</p>\n<p>My controller:</p>\n<pre><code>package com.example.crud.controllers;\n\nimport com.example.crud.domain.product.Product;\nimport com.example.crud.domain.product.ProductRepository;\nimport com.example.crud.domain.product.RequestProduct;\nimport jakarta.persistence.EntityNotFoundException;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    @Autowired\n    private ProductRepository repository;\n    @GetMapping\n    public ResponseEntity getAllProducts(){\n        var allProducts = repository.findAllByActiveTrue();\n        return ResponseEntity.ok(allProducts);\n    }\n\n    @PostMapping\n    public ResponseEntity registerProduct(@RequestBody @Valid RequestProduct data){\n        Product newProduct = new Product(data);\n        repository.save(newProduct);\n        return ResponseEntity.ok().build();\n    }\n\n    @PutMapping\n    @Transactional\n    public ResponseEntity updateProduct(@RequestBody @Valid RequestProduct data){\n        Optional&lt;Product&gt; optionalProduct = repository.findById(data.id());\n        if (optionalProduct.isPresent()) {\n            Product product = optionalProduct.get();\n            product.setName(data.name());\n            product.setPrice_in_cents(data.price_in_cents());\n            return ResponseEntity.ok(product);\n        } else {\n            throw new EntityNotFoundException();\n        }\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    @Transactional\n    public ResponseEntity deleteProduct(@PathVariable String id){\n        Optional&lt;Product&gt; optionalProduct = repository.findById(id);\n        if (optionalProduct.isPresent()) {\n            Product product = optionalProduct.get();\n            product.setActive(false);\n            return ResponseEntity.noContent().build();\n        } else {\n            throw new EntityNotFoundException();\n        }\n    }\n\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>package com.example.crud.domain.product;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.util.UUID;\n\n@Table(name=&quot;product&quot;)\n@Entity(name=&quot;product&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode(of = &quot;id&quot;)\npublic class Product {\n    @Id @GeneratedValue(strategy = GenerationType.UUID)\n    private String id;\n\n    private String name;\n\n    private Integer price_in_cents;\n\n    private Boolean active;\n\n    public Product(RequestProduct requestProduct){\n        this.name = requestProduct.name();\n        this.price_in_cents = requestProduct.price_in_cents();\n        this.active = true;\n    }\n}\n</code></pre>\n<p>My Repository:</p>\n<pre><code>package com.example.crud.domain.product;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\nimport java.util.UUID;\n\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt; {\n    List&lt;Product&gt; findAllByActiveTrue();\n}\n</code></pre>\n<p>My request:</p>\n<pre><code>package com.example.crud.domain.product;\n\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\n\nimport java.util.UUID;\n\npublic record RequestProduct(\n        String id,\n\n        @NotBlank\n        String name,\n        @NotNull\n        Integer price_in_cents\n) {\n}\n</code></pre>\n<p>specifically in the getById endpoint the path of my variable is not being recognized apparently, I have already tried to redo the imports and still nothing, I would like to fix this problem in the path variable.</p>\n<p>att: my put endpoint is actualy like this:</p>\n<pre><code>@PutMapping{&quot;/{id}&quot;}\n\npublic ResponseEntity update(@PathVariable Long id, @RequestBody ProductRequest novosDados){\n\nProduct produtoAlterar= repository.findById(id).orElse(new Product);\n\nprodutoAlterar.setNome(novosDados.getNome);\n\nprodutoAlterar.setPrice_in_cents(novosDados.getPrice_in_cents);\n\nrepository.save(produtoAlterar);\n\nreturn ResponseEntity.ok(produtoAlterar);\n\n}\n</code></pre>\n"},{"tags":["java","opencv","homebrew"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700161782,"post_id":77496783,"comment_id":136623865,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28987601,"reputation":1,"user_id":22204127,"display_name":"Dugommier_B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700155585,"creation_date":1700154643,"question_id":77496783,"body_markdown":"I recently downloaded OpenCV using Homebrew, and I&#39;m facing an issue when trying to add the library to my editor. I can&#39;t find the .jar file as instructed in the tutorials I&#39;ve followed online. I&#39;ve gone through multiple tutorials, but unfortunately, I haven&#39;t made any progress.\r\n\r\nI have already tried `brew edit opencv` and set `DBUILD_java` to `ON`, but it doesn&#39;t make any difference","title":"Why there is no .jar file in my OpenCV Folder?","body":"<p>I recently downloaded OpenCV using Homebrew, and I'm facing an issue when trying to add the library to my editor. I can't find the .jar file as instructed in the tutorials I've followed online. I've gone through multiple tutorials, but unfortunately, I haven't made any progress.</p>\n<p>I have already tried <code>brew edit opencv</code> and set <code>DBUILD_java</code> to <code>ON</code>, but it doesn't make any difference</p>\n"},{"tags":["java","stack-trace"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":7,"creation_date":1700040605,"post_id":77486525,"comment_id":136604958,"body_markdown":"Does the method really has length? It returns an array - `StackTraceElement[]`, arrays have `length` property. The [tutorial from oracle](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) should help to get you started understanding method return types.","body":"Does the method really has length? It returns an array - <code>StackTraceElement[]</code>, arrays have <code>length</code> property. The <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">tutorial from oracle</a> should help to get you started understanding method return types."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":4,"creation_date":1700040755,"post_id":77486525,"comment_id":136604983,"body_markdown":"In `method().length`, it&#39;s not the *method* that has a `length` property, it&#39;s what the method *returns* -- in this case, an array. Arrays have a built-in `length` property.","body":"In <code>method().length</code>, it&#39;s not the <i>method</i> that has a <code>length</code> property, it&#39;s what the method <i>returns</i> -- in this case, an array. Arrays have a built-in <code>length</code> property."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1700041094,"post_id":77486525,"comment_id":136605047,"body_markdown":"(Separately: That code won&#39;t compile, because of the call to `main()` later in the code, which is missing a necessary argument. Also, if that call to `main` from `main` worked, it would recurse infinitely -- well, until the stack ran out.)","body":"(Separately: That code won&#39;t compile, because of the call to <code>main()</code> later in the code, which is missing a necessary argument. Also, if that call to <code>main</code> from <code>main</code> worked, it would recurse infinitely -- well, until the stack ran out.)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700041235,"post_id":77486525,"comment_id":136605071,"body_markdown":"@T.J.Crowder It also wouldn&#39;t compile because main has `void` as a return type, and thus has no `length` property.","body":"@T.J.Crowder It also wouldn&#39;t compile because main has <code>void</code> as a return type, and thus has no <code>length</code> property."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1700041275,"post_id":77486525,"comment_id":136605077,"body_markdown":"@MarkRotteveel - True. :-)","body":"@MarkRotteveel - True. :-)"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700041698,"creation_date":1700041394,"answer_id":77486625,"question_id":77486525,"body_markdown":"The method doesn&#39;t have a length property. The method you&#39;re calling returns `StackTraceElement[]`, which is an array, and arrays have a `length` property. In other words, you call the method `method1()`, it returns an array, and then `length` is called on that array.\r\n\r\nIt is the same as if your code was:\r\n\r\n```java\r\nStackTraceElement[] elements = method1();\r\nint stackTraceLength = elements.length;\r\n```\r\n\r\nBut just without the intermediate `elements` variable (also known as _chaining_).\r\n\r\nThe fact you can&#39;t call `main().length` has two reasons.\r\n\r\n1. Your code doesn&#39;t have a `main()` method, it has a `main(String[])` method, so there is no method to be called\r\n2. Assuming you meant something like `main(new String[0]).length`, that won&#39;t work because `main(String[])` has the return type `void`, which means nothing is returned, so there is no return value to call `length` on.","title":"Why Java method has length like method().length?","body":"<p>The method doesn't have a length property. The method you're calling returns <code>StackTraceElement[]</code>, which is an array, and arrays have a <code>length</code> property. In other words, you call the method <code>method1()</code>, it returns an array, and then <code>length</code> is called on that array.</p>\n<p>It is the same as if your code was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StackTraceElement[] elements = method1();\nint stackTraceLength = elements.length;\n</code></pre>\n<p>But just without the intermediate <code>elements</code> variable (also known as <em>chaining</em>).</p>\n<p>The fact you can't call <code>main().length</code> has two reasons.</p>\n<ol>\n<li>Your code doesn't have a <code>main()</code> method, it has a <code>main(String[])</code> method, so there is no method to be called</li>\n<li>Assuming you meant something like <code>main(new String[0]).length</code>, that won't work because <code>main(String[])</code> has the return type <code>void</code>, which means nothing is returned, so there is no return value to call <code>length</code> on.</li>\n</ol>\n"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77486625,"answer_count":1,"score":-3,"last_activity_date":1700154388,"creation_date":1700040478,"question_id":77486525,"body_markdown":"I don&#39;t understand how the method can have length? method1().lenght. Following the same logic we can write main().length\r\n\r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            int stackTraceLength = method1().length;\r\n            System.out.print(stackTraceLength);\r\n            System.out.print(main().length);\r\n        }\r\n    \r\n        public static StackTraceElement[] method1() {\r\n            return Thread.currentThread().getStackTrace();\r\n        }\r\n    }","title":"Why Java method has length like method().length?","body":"<p>I don't understand how the method can have length? method1().lenght. Following the same logic we can write main().length</p>\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        int stackTraceLength = method1().length;\n        System.out.print(stackTraceLength);\n        System.out.print(main().length);\n    }\n\n    public static StackTraceElement[] method1() {\n        return Thread.currentThread().getStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp","tomcat","url-routing","friendly-url"],"comments":[{"owner":{"account_id":22429,"reputation":9517,"user_id":55283,"accept_rate":100,"display_name":"Tiago"},"score":0,"creation_date":1233977781,"post_id":523051,"comment_id":336539,"body_markdown":"I read that you don&#39;t want to set up a virtual server in the test server, but in the long term this you probably makes things easier. And the trouble to set it up is minimal.","body":"I read that you don&#39;t want to set up a virtual server in the test server, but in the long term this you probably makes things easier. And the trouble to set it up is minimal."},{"owner":{"account_id":11944,"reputation":7660,"user_id":23271,"display_name":"Skip Head"},"score":0,"creation_date":1304368949,"post_id":523051,"comment_id":6737857,"body_markdown":"Thanks everyone for your input. I ended up writing a filter that processes the page responses, changing the URLs on the fly. It works great.","body":"Thanks everyone for your input. I ended up writing a filter that processes the page responses, changing the URLs on the fly. It works great."}],"answers":[{"tags":[],"owner":{"account_id":24765,"reputation":3353,"user_id":63189,"display_name":"paulmurray"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700153867,"creation_date":1233979400,"answer_id":523103,"question_id":523051,"body_markdown":"I have a system like this at work.\r\n\r\nWe use a package called [urlrewrite][1], which basically is the apache tomcat rewriter done up as a j2ee filter. It&#39;s cool, but I ran into this same problem.\r\n\r\nTo fix it, I wrote another filter which is inserted into the filter chain *before* the rewriter. Its job is to grab the pathinfo before the rewriter mangles it, and to stick that info into a request attribute. It resolves the pathinfo of the request against the pathinfo of the web application root, to work out how many &quot;../&quot; you need to get to the root of the web app (from the client&#39;s point of view).\r\n\r\nThe other components of the system then use the content of that attribute to build their relative urls. Works great.\r\n\r\n[The system is here.][2]\r\n\r\nLook for any taxon (MACROPODIDAE is a fine choice). All the rest-y looking links get turned into reqest parameters by the url remapper.\r\n\r\n \r\n\r\n\r\n  [1]: http://tuckey.org/urlrewrite/\r\n  [2]: http://www.environment.gov.au/biodiversity/abrs/online-resources/fauna/afd/home &quot;Australian Faunal Directory&quot;","title":"URL routing and relative links in Tomcat 5.5","body":"<p>I have a system like this at work.</p>\n<p>We use a package called <a href=\"http://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">urlrewrite</a>, which basically is the apache tomcat rewriter done up as a j2ee filter. It's cool, but I ran into this same problem.</p>\n<p>To fix it, I wrote another filter which is inserted into the filter chain <em>before</em> the rewriter. Its job is to grab the pathinfo before the rewriter mangles it, and to stick that info into a request attribute. It resolves the pathinfo of the request against the pathinfo of the web application root, to work out how many &quot;../&quot; you need to get to the root of the web app (from the client's point of view).</p>\n<p>The other components of the system then use the content of that attribute to build their relative urls. Works great.</p>\n<p><a href=\"http://www.environment.gov.au/biodiversity/abrs/online-resources/fauna/afd/home\" rel=\"nofollow noreferrer\" title=\"Australian Faunal Directory\">The system is here.</a></p>\n<p>Look for any taxon (MACROPODIDAE is a fine choice). All the rest-y looking links get turned into reqest parameters by the url remapper.</p>\n"},{"tags":[],"owner":{"account_id":13005,"reputation":7595,"user_id":1385388,"display_name":"Cameron Pope"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233979755,"creation_date":1233979755,"answer_id":523112,"question_id":523051,"body_markdown":"There are a few approaches you can use that might make your life easier:\r\n\r\n 1. Put a [base][1] element in the head of your document. If you add a `&lt;base href=&quot;http://myserver/example/main&quot;/&gt;` tag, then `&lt;a href=&quot;test/info&quot;&gt;Hi!&lt;/a&gt;` will link to `http://myserver/example/main/test/info`.\r\n 2. Create a jsp tag (or a function) that will generate absolute urls for you, so something like: `&lt;myserver:a href=&quot;test/info&quot;&gt;This is a link&lt;/myserver:a&gt;` And then you can have logic in that tag to create an absolute url. Most app frameworks like struts and spring already have such tags defined.\r\n\r\n  [1]: http://www.w3schools.com/TAGS/tag_base.asp","title":"URL routing and relative links in Tomcat 5.5","body":"<p>There are a few approaches you can use that might make your life easier:</p>\n\n<ol>\n<li>Put a <a href=\"http://www.w3schools.com/TAGS/tag_base.asp\" rel=\"nofollow noreferrer\">base</a> element in the head of your document. If you add a <code>&lt;base href=\"http://myserver/example/main\"/&gt;</code> tag, then <code>&lt;a href=\"test/info\"&gt;Hi!&lt;/a&gt;</code> will link to <code>http://myserver/example/main/test/info</code>.</li>\n<li>Create a jsp tag (or a function) that will generate absolute urls for you, so something like: <code>&lt;myserver:a href=\"test/info\"&gt;This is a link&lt;/myserver:a&gt;</code> And then you can have logic in that tag to create an absolute url. Most app frameworks like struts and spring already have such tags defined.</li>\n</ol>\n"}],"owner":{"account_id":11944,"reputation":7660,"user_id":23271,"display_name":"Skip Head"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9826,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":523103,"answer_count":2,"score":2,"last_activity_date":1700153867,"creation_date":1233976364,"question_id":523051,"body_markdown":"I&#39;m trying to add URL routing to a web application running in Tomcat 5.5.\r\n\r\nI want to make the dynamic page URLs more friendly, changing `main.jsp?type=test&amp;group=info` to `main/test/info` as is all the rage.\r\n\r\nI have set up the following in the web.xml\r\n\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;main&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/main.jsp&lt;/jsp-file&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;main&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/main/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n\r\nand in main.jsp I use `request.getPathInfo()` to get the data that I need to do the routing.  All this seems to work fine, and when I browse to `http://mytestserver/example/main/test/info` I get the html that I expect.\r\n\r\nThe problem is that any relative links on that page, images, style-sheets, javascript, etc., are now all broken, as they are being interpreted as relative to the full URL. \r\n\r\nI can&#39;t think of an easy way to use static links because the URLs on the test server and production server are at different levels: `http://mytestserver/example/` maps to `http://example.com/` in production, and I really do not want to have to write code to wrap every internal link on the site or set up a virtual server for each site on the test server.\r\n\r\nIs there anything else I can do?\r\n","title":"URL routing and relative links in Tomcat 5.5","body":"<p>I'm trying to add URL routing to a web application running in Tomcat 5.5.</p>\n\n<p>I want to make the dynamic page URLs more friendly, changing <code>main.jsp?type=test&amp;group=info</code> to <code>main/test/info</code> as is all the rage.</p>\n\n<p>I have set up the following in the web.xml</p>\n\n<pre><code>  &lt;servlet&gt;\n    &lt;servlet-name&gt;main&lt;/servlet-name&gt;\n    &lt;jsp-file&gt;/main.jsp&lt;/jsp-file&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;main&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/main/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>and in main.jsp I use <code>request.getPathInfo()</code> to get the data that I need to do the routing.  All this seems to work fine, and when I browse to <code>http://mytestserver/example/main/test/info</code> I get the html that I expect.</p>\n\n<p>The problem is that any relative links on that page, images, style-sheets, javascript, etc., are now all broken, as they are being interpreted as relative to the full URL. </p>\n\n<p>I can't think of an easy way to use static links because the URLs on the test server and production server are at different levels: <code>http://mytestserver/example/</code> maps to <code>http://example.com/</code> in production, and I really do not want to have to write code to wrap every internal link on the site or set up a virtual server for each site on the test server.</p>\n\n<p>Is there anything else I can do?</p>\n"},{"tags":["java","spring","hibernate","orm"],"comments":[{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1694008191,"post_id":75823682,"comment_id":135834803,"body_markdown":"Struggling as well at this point. Do you have any solution to share ?","body":"Struggling as well at this point. Do you have any solution to share ?"}],"answers":[{"tags":[],"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700153764,"creation_date":1700153764,"answer_id":77496692,"question_id":75823682,"body_markdown":"Very frustrating that there doesn&#39;t appear to be any documentation describing that `SessionFactoryBuilderFactory` no longer works.  Well, if there is, I wasn&#39;t able to find it.  What I did find was [TypeContributor](https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#basic-type-contributor).  \r\n\r\nBased my change, I think the following would work for you.\r\n\r\n    public class CustomTypeContributor implements TypeContributor {\r\n\r\n      @Override\r\n      public void contribute(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\r\n        typeContributions.contributeJavaType(new MonetaryAmountType());\r\n      }\r\n    }\r\n\r\nJust as with `CustomTypeRegistration`, you will need to register `CustomTypeContributor` using service locator.","title":"How do I register a CompositeUserType in Hibernate 6?","body":"<p>Very frustrating that there doesn't appear to be any documentation describing that <code>SessionFactoryBuilderFactory</code> no longer works.  Well, if there is, I wasn't able to find it.  What I did find was <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#basic-type-contributor\" rel=\"nofollow noreferrer\">TypeContributor</a>.</p>\n<p>Based my change, I think the following would work for you.</p>\n<pre><code>public class CustomTypeContributor implements TypeContributor {\n\n  @Override\n  public void contribute(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\n    typeContributions.contributeJavaType(new MonetaryAmountType());\n  }\n}\n</code></pre>\n<p>Just as with <code>CustomTypeRegistration</code>, you will need to register <code>CustomTypeContributor</code> using service locator.</p>\n"}],"owner":{"account_id":28104262,"reputation":31,"user_id":21473097,"display_name":"bnh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700153764,"creation_date":1679578342,"question_id":75823682,"body_markdown":"In Hibernate 5, I was able to register a `CompositeUserType` by implementing the `SessionFactoryBuilderFactory` using the `registerTypeOverride` method of the `TypeResolver` class. https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/type/TypeResolver.html#TypeResolver--\r\n\r\nAnd using the Java ServiceLoader mechanism.\r\n\r\nExample how I register the `CompositeUserType`:\r\n```\r\npublic class CustomTypeRegistration implements SessionFactoryBuilderFactory {\r\n\r\n\t@Override\r\n\tpublic SessionFactoryBuilder getSessionFactoryBuilder(MetadataImplementor metadataImplementor, SessionFactoryBuilderImplementor sessionFactoryBuilderImplementor) {\r\n\t\tmetadataImplementor.getTypeResolver().registerTypeOverride(new MonetaryAmountType(), new String[] { &quot;javax.money.MonetaryAmount&quot; });\r\n\t\treturn sessionFactoryBuilderImplementor;\r\n\t}\r\n}\r\n```\r\nAdd a file named `org.hibernate.boot.spi.SessionFactoryBuilderFactory` to the project resource directory `META-INF/services`.\r\n\r\nHow do I register in Hibernate 6? Is there any other way?\r\nI don&#39;t want to specify usage with `@CompositeType` or `@CompositeTypeRegistration` annotation at class level or with `package-info.java` at the package level.\r\n\r\nI didn&#39;t find another solution.","title":"How do I register a CompositeUserType in Hibernate 6?","body":"<p>In Hibernate 5, I was able to register a <code>CompositeUserType</code> by implementing the <code>SessionFactoryBuilderFactory</code> using the <code>registerTypeOverride</code> method of the <code>TypeResolver</code> class. <a href=\"https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/type/TypeResolver.html#TypeResolver--\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/type/TypeResolver.html#TypeResolver--</a></p>\n<p>And using the Java ServiceLoader mechanism.</p>\n<p>Example how I register the <code>CompositeUserType</code>:</p>\n<pre><code>public class CustomTypeRegistration implements SessionFactoryBuilderFactory {\n\n    @Override\n    public SessionFactoryBuilder getSessionFactoryBuilder(MetadataImplementor metadataImplementor, SessionFactoryBuilderImplementor sessionFactoryBuilderImplementor) {\n        metadataImplementor.getTypeResolver().registerTypeOverride(new MonetaryAmountType(), new String[] { &quot;javax.money.MonetaryAmount&quot; });\n        return sessionFactoryBuilderImplementor;\n    }\n}\n</code></pre>\n<p>Add a file named <code>org.hibernate.boot.spi.SessionFactoryBuilderFactory</code> to the project resource directory <code>META-INF/services</code>.</p>\n<p>How do I register in Hibernate 6? Is there any other way?\nI don't want to specify usage with <code>@CompositeType</code> or <code>@CompositeTypeRegistration</code> annotation at class level or with <code>package-info.java</code> at the package level.</p>\n<p>I didn't find another solution.</p>\n"},{"tags":["java","android","cellular-network"],"comments":[{"owner":{"account_id":2262713,"reputation":2217,"user_id":1992342,"accept_rate":75,"display_name":"mike47"},"score":0,"creation_date":1383346438,"post_id":19401539,"comment_id":29325143,"body_markdown":"TelephonyManager is the more appropriate location to get the network type.  In any case, DC-HSPA is still not included in Android 4.4 ([HERE](https://github.com/android/platform_frameworks_base/blob/kitkat-release/telephony/java/android/telephony/TelephonyManager.java#L583) is a link to the current list).  \n\nA request to add DC-HSPA to the Android framework has been filed on the Android project bug tracker; &quot;star&quot; it [HERE](https://code.google.com/p/android/issues/detail?id=61697) to help attract Google&#39;s attention.","body":"TelephonyManager is the more appropriate location to get the network type.  In any case, DC-HSPA is still not included in Android 4.4 (<a href=\"https://github.com/android/platform_frameworks_base/blob/kitkat-release/telephony/java/android/telephony/TelephonyManager.java#L583\" rel=\"nofollow noreferrer\">HERE</a> is a link to the current list).    A request to add DC-HSPA to the Android framework has been filed on the Android project bug tracker; &quot;star&quot; it <a href=\"https://code.google.com/p/android/issues/detail?id=61697\" rel=\"nofollow noreferrer\">HERE</a> to help attract Google&#39;s attention."},{"owner":{"account_id":3210240,"reputation":49,"user_id":2710388,"display_name":"bhaskar"},"score":0,"creation_date":1388471180,"post_id":19401539,"comment_id":31281506,"body_markdown":"Is there any way it can be built independent of Google?","body":"Is there any way it can be built independent of Google?"},{"owner":{"account_id":2262713,"reputation":2217,"user_id":1992342,"accept_rate":75,"display_name":"mike47"},"score":0,"creation_date":1389402403,"post_id":19401539,"comment_id":31663069,"body_markdown":"If you can come up with your own method to capture the network type directly from the radio, it could be possible. But it is difficult to learn how to access the radio directly, not to mention the security mechanisms you may encounter. And each device would be different.","body":"If you can come up with your own method to capture the network type directly from the radio, it could be possible. But it is difficult to learn how to access the radio directly, not to mention the security mechanisms you may encounter. And each device would be different."}],"owner":{"account_id":3210240,"reputation":49,"user_id":2710388,"display_name":"bhaskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700153706,"creation_date":1381920795,"question_id":19401539,"body_markdown":"Android Still not differentiates DC-HSPA and HSPA+ networks in the as no refrence can be found in [ServiceState class][1] if you observe it from line no 72 to 107\r\n\r\nis there any other way to differentiate it out?\r\n\r\n\r\n  [1]: https://github.com/android/platform_frameworks_base/blob/jb-release/telephony/java/android/telephony/ServiceState.java#L72","title":"Android had yet not differentiated DC-HSPA networks. is there any way round?","body":"<p>Android Still not differentiates DC-HSPA and HSPA+ networks in the as no refrence can be found in <a href=\"https://github.com/android/platform_frameworks_base/blob/jb-release/telephony/java/android/telephony/ServiceState.java#L72\" rel=\"nofollow\">ServiceState class</a> if you observe it from line no 72 to 107</p>\n\n<p>is there any other way to differentiate it out?</p>\n"},{"tags":["java","nullpointerexception","java-8"],"comments":[{"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"score":0,"creation_date":1435637565,"post_id":31129312,"comment_id":50270526,"body_markdown":"The code as written, `solvers` is never initialized so it is always `null`. And I have no idea what `workDone` is.","body":"The code as written, <code>solvers</code> is never initialized so it is always <code>null</code>. And I have no idea what <code>workDone</code> is."},{"owner":{"account_id":1508483,"reputation":2029,"user_id":1411247,"accept_rate":61,"display_name":"newmanne"},"score":0,"creation_date":1435637957,"post_id":31129312,"comment_id":50270631,"body_markdown":"Thanks, corrected - issues in copying and pasting the code. workDone is a semaphore that is used to make sure that the main thread blocks until either everyone times out or else one algorithm finds an answer.","body":"Thanks, corrected - issues in copying and pasting the code. workDone is a semaphore that is used to make sure that the main thread blocks until either everyone times out or else one algorithm finds an answer."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1435676312,"post_id":31129312,"comment_id":50294147,"body_markdown":"Can you post the full stack trace? One question is whether the NPE originates at the marked line or somewhere within the `AtomicReference` code.","body":"Can you post the full stack trace? One question is whether the NPE originates at the marked line or somewhere within the <code>AtomicReference</code> code."}],"answers":[{"tags":[],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700153402,"creation_date":1435645537,"answer_id":31131073,"question_id":31129312,"body_markdown":"Here is almost what you want using akka:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import scala.concurrent.Await;\r\n    import scala.concurrent.Future;\r\n    import akka.actor.ActorRef;\r\n    import akka.actor.ActorSystem;\r\n    import akka.actor.Props;\r\n    import akka.actor.UntypedActor;\r\n    import akka.pattern.Patterns;\r\n    import akka.util.Timeout;\r\n    \r\n    \r\n    public class AlgorithmTester extends UntypedActor\r\n    {\r\n    \tpublic AlgorithmTester(){}\r\n    \t\r\n    \tpublic static class RegisterResultListener\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static class Result\r\n    \t{\r\n    \t\tfinal double result;\r\n    \t\tpublic Result(double result)\r\n    \t\t{\r\n    \t\t\tthis.result = result;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static interface Algorithmable\r\n    \t{\r\n    \t\tpublic Result solve();\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tpublic static class AlgorithmsToTest extends ArrayList&lt;Algorithmable&gt; {\r\n    \t}\r\n    \t\r\n    \tpublic static class AlgorithmRunner extends UntypedActor\r\n    \t{\r\n    \t\t\r\n    \t\tpublic AlgorithmRunner(){}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onReceive(Object msg) throws Exception\r\n    \t\t{\r\n    \t\t\tif (msg instanceof Algorithmable)\r\n    \t\t\t{\r\n    \t\t\t\tAlgorithmable alg = (Algorithmable) msg;\r\n    \t\t\t\tgetSender().tell(alg.solve(), getSelf());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tList&lt;ActorRef&gt; runners = new ArrayList&lt;ActorRef&gt;();\r\n    \tList&lt;ActorRef&gt; resultListeners = new ArrayList&lt;ActorRef&gt;();\r\n    \t\r\n    \t@Override\r\n    \tpublic void onReceive(Object msg) throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\tif (msg instanceof RegisterResultListener)\r\n    \t\t{\r\n    \t\t\tresultListeners.add(getSender());\r\n    \t\t}\r\n    \t\telse if (msg instanceof AlgorithmsToTest)\r\n    \t\t{\r\n    \t\t\tAlgorithmsToTest algorithms = (AlgorithmsToTest) msg;\r\n    \t\t\tfor (Algorithmable algorithm : algorithms)\r\n    \t\t\t{\r\n    \t\t\t\tActorRef runner = getContext().actorOf(Props.create(AlgorithmRunner.class));\r\n    \t\t\t\trunners.add(runner);\r\n    \t\t\t\trunner.tell(algorithm, getSelf());\r\n    \t\t\t}\r\n    \t\t\tgetSelf().tell(new RegisterResultListener(), getSender());\r\n    \t\t}\r\n    \t\telse if (msg instanceof Result)\r\n    \t\t{\r\n    \t\t\tfor (ActorRef runner : runners)\r\n    \t\t\t{\r\n    \t\t\t\tgetContext().stop(runner);\r\n    \t\t\t}\r\n    \t\t\trunners.clear();\r\n    \t\t\t\r\n    \t\t\tfor (ActorRef l : resultListeners)\r\n    \t\t\t{\r\n    \t\t\t\tl.tell(msg, getSelf());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t    ActorSystem system = ActorSystem.create(&quot;AlogrithmTest&quot;);\r\n    \t    ActorRef tester = system.actorOf(Props.create(AlgorithmTester.class), &quot;algorithmTest&quot;);\r\n    \t    \r\n    \t    Algorithmable a1 = new Algorithmable()\r\n    \t   {\r\n    \r\n    \t\t\tpublic Result solve() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(7000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn new Result(1100.0);\r\n    \t\t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t    Algorithmable a2 = new Algorithmable()\r\n    \t   {\r\n    \r\n    \t\t\tpublic Result solve() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(6000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn new Result(330.0);\r\n    \t\t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t   Algorithmable a3 = new Algorithmable()\r\n    \t   {\r\n    \r\n    \t\t\tpublic Result solve() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn new Result(1000);\r\n    \t\t\t\t}\r\n    \t\t};\r\n    \t    \r\n    \t\tAlgorithmsToTest algorithmsToTest = new AlgorithmsToTest();\r\n    \t\talgorithmsToTest.add(a1);\r\n    \t\talgorithmsToTest.add(a2);\r\n    \t\talgorithmsToTest.add(a3);\r\n    \t\t\r\n    \t\tTimeout t = new Timeout(5, TimeUnit.SECONDS);\r\n    \t\t\r\n    \t\tFuture&lt;Object&gt; future = Patterns.ask(tester, algorithmsToTest, 100000);\r\n    \t\ttry {\r\n    \t\t\tResult response = (Result)Await.result(future, t.duration());\r\n    \t\t\tSystem.out.println(response.result);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Continuing on&quot;);\r\n    \t\tsystem.terminate();\r\n    \t\tSystem.out.println(&quot;Terminated&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nHowever there is no way in akka to kill actors whilst they are processing messages, you&#39;ll note that this program continues executing whilst the actors are processing the other algorithms, even though the first answer was already found.\r\nKilling threads is never nice so there is no nice solution to your question. You could tag on a System.exit(0) at the end of the main method I guess, or have a horrible atomic variables somewhere in your algorithms were they are iterating and throw exceptions, or have them as threads and kill them, all not very nice ):\r\nMe personally I&#39;d use the System.exit(0) if you can get away with it.\r\n\r\nLook this is alternative code to what you want to do, without having atomic variables, atomic variables and locks and all that other stuff is very dangerous and error prone, this is a much cleaner answer. All that is needed to change this code to match what you want is merely the Result, or Algorithmable interface, and provide all the implementations you want this does exactly what you asked. If this downvote infers that you think atomic variables are preferred to an actor based model then I suggest you do some reading.\r\nAsker does not even give the stacktrace for the null pointer exception so it is not possible to directly address this issue.\r\n","title":"Null pointer exception from final variable within runnable","body":"<p>Here is almost what you want using akka:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\nimport scala.concurrent.Await;\nimport scala.concurrent.Future;\nimport akka.actor.ActorRef;\nimport akka.actor.ActorSystem;\nimport akka.actor.Props;\nimport akka.actor.UntypedActor;\nimport akka.pattern.Patterns;\nimport akka.util.Timeout;\n\n\npublic class AlgorithmTester extends UntypedActor\n{\n    public AlgorithmTester(){}\n    \n    public static class RegisterResultListener\n    {\n        \n    }\n    \n    public static class Result\n    {\n        final double result;\n        public Result(double result)\n        {\n            this.result = result;\n        }\n    }\n    \n    public static interface Algorithmable\n    {\n        public Result solve();\n    }\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    public static class AlgorithmsToTest extends ArrayList&lt;Algorithmable&gt; {\n    }\n    \n    public static class AlgorithmRunner extends UntypedActor\n    {\n        \n        public AlgorithmRunner(){}\n\n        @Override\n        public void onReceive(Object msg) throws Exception\n        {\n            if (msg instanceof Algorithmable)\n            {\n                Algorithmable alg = (Algorithmable) msg;\n                getSender().tell(alg.solve(), getSelf());\n            }\n        }\n    }\n    \n    List&lt;ActorRef&gt; runners = new ArrayList&lt;ActorRef&gt;();\n    List&lt;ActorRef&gt; resultListeners = new ArrayList&lt;ActorRef&gt;();\n    \n    @Override\n    public void onReceive(Object msg) throws Exception\n    {\n        \n        if (msg instanceof RegisterResultListener)\n        {\n            resultListeners.add(getSender());\n        }\n        else if (msg instanceof AlgorithmsToTest)\n        {\n            AlgorithmsToTest algorithms = (AlgorithmsToTest) msg;\n            for (Algorithmable algorithm : algorithms)\n            {\n                ActorRef runner = getContext().actorOf(Props.create(AlgorithmRunner.class));\n                runners.add(runner);\n                runner.tell(algorithm, getSelf());\n            }\n            getSelf().tell(new RegisterResultListener(), getSender());\n        }\n        else if (msg instanceof Result)\n        {\n            for (ActorRef runner : runners)\n            {\n                getContext().stop(runner);\n            }\n            runners.clear();\n            \n            for (ActorRef l : resultListeners)\n            {\n                l.tell(msg, getSelf());\n            }\n        }\n    }\n    \n    \n    public static void main(String[] args)\n    {\n        ActorSystem system = ActorSystem.create(&quot;AlogrithmTest&quot;);\n        ActorRef tester = system.actorOf(Props.create(AlgorithmTester.class), &quot;algorithmTest&quot;);\n        \n        Algorithmable a1 = new Algorithmable()\n       {\n\n            public Result solve() {\n                try {\n                    Thread.sleep(7000);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                return new Result(1100.0);\n                }\n        };\n        \n        Algorithmable a2 = new Algorithmable()\n       {\n\n            public Result solve() {\n                try {\n                    Thread.sleep(6000);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                return new Result(330.0);\n                }\n        };\n        \n       Algorithmable a3 = new Algorithmable()\n       {\n\n            public Result solve() {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                return new Result(1000);\n                }\n        };\n        \n        AlgorithmsToTest algorithmsToTest = new AlgorithmsToTest();\n        algorithmsToTest.add(a1);\n        algorithmsToTest.add(a2);\n        algorithmsToTest.add(a3);\n        \n        Timeout t = new Timeout(5, TimeUnit.SECONDS);\n        \n        Future&lt;Object&gt; future = Patterns.ask(tester, algorithmsToTest, 100000);\n        try {\n            Result response = (Result)Await.result(future, t.duration());\n            System.out.println(response.result);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Continuing on&quot;);\n        system.terminate();\n        System.out.println(&quot;Terminated&quot;);\n    }\n}\n</code></pre>\n<p>However there is no way in akka to kill actors whilst they are processing messages, you'll note that this program continues executing whilst the actors are processing the other algorithms, even though the first answer was already found.\nKilling threads is never nice so there is no nice solution to your question. You could tag on a System.exit(0) at the end of the main method I guess, or have a horrible atomic variables somewhere in your algorithms were they are iterating and throw exceptions, or have them as threads and kill them, all not very nice ):\nMe personally I'd use the System.exit(0) if you can get away with it.</p>\n<p>Look this is alternative code to what you want to do, without having atomic variables, atomic variables and locks and all that other stuff is very dangerous and error prone, this is a much cleaner answer. All that is needed to change this code to match what you want is merely the Result, or Algorithmable interface, and provide all the implementations you want this does exactly what you asked. If this downvote infers that you think atomic variables are preferred to an actor based model then I suggest you do some reading.\nAsker does not even give the stacktrace for the null pointer exception so it is not possible to directly address this issue.</p>\n"}],"owner":{"account_id":1508483,"reputation":2029,"user_id":1411247,"accept_rate":61,"display_name":"newmanne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1433,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1700153402,"creation_date":1435636945,"question_id":31129312,"body_markdown":"I have code that runs a portfolio of algorithms on a given problem, and then as soon as one algorithm finds the answer to a problem, the program continues. The other algorithms in the portfolio get voluntary signals to terminate, and the main thread of execution goes on. \r\n\r\nOne user of this code is sending me a stacktrace with a NullPointerException on the line \r\n&quot;resultReference.set(solverResult);&quot;\r\nAs you can see from the code below, resultReference is a final variable and is initialized immediately. I don&#39;t see how it could possibly ever become null. I&#39;ve spent a long time trying to reproduce the problem on my end to no avail. The line numbers on the user&#39;s stacktrace match up with the line numbers on my code. The user reports having seen the error on 3 different occasions, but infrequently (this does not happen every time a problem is solved), so maybe its some sort of race condition. This is with jdk 1.8_25.\r\n\r\nAm I right in assuming that this error should be impossible because the variable is final? I&#39;m not sure what to make of this stack trace and wanted some reassuring that it should be impossible. \r\n \r\n\r\n    public class ParallelSolver {\r\n\r\n    private final ListeningExecutorService executorService;\r\n    private final AtomicReference&lt;Throwable&gt; error;\r\n    private final List&lt;Solver&gt; solvers;\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(ParallelSolver.class);\r\n\r\n    public ParallelSolver(int threadPoolSize, List&lt;Solvers&gt; solvers) {\r\n        executorService = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(threadPoolSize));\r\n        error = new AtomicReference&lt;&gt;();\r\n        this.solvers = solvers;\r\n    }\r\n\r\n    public SolverResult solve(Problem p) {\r\n        final AtomicReference&lt;SolverResult&gt; resultReference = new AtomicReference&lt;&gt;();\r\n        final List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n        final Semaphore workDone = new Semaphore(0);\r\n        try {\r\n            // Submit one job per each solver in the portfolio\r\n            solvers.forEach(solver -&gt; {\r\n                final ListenableFuture&lt;Void&gt; future = executorService.submit(() -&gt; {\r\n                    SolverResult solverResult = solver.solve(p);\r\n                    if (solverResult.isConclusive()) {\r\n                        log.debug(&quot;Signalling the blocked thread to wake up!&quot;);\r\n                         // NPE HERE ON THIS LINE\r\n                        resultReference.set(solverResult);\r\n                        workDone.release(solvers.size());\r\n                    }\r\n                    log.debug(&quot;Releasing a single permit as the work for this thread is done.&quot;);\r\n                    workDone.release(1);\r\n                    log.debug(&quot;Job ending...&quot;);\r\n                    return null;\r\n                });\r\n                futures.add(future);\r\n                Futures.addCallback(future, new FutureCallback&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void result) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Throwable t) {\r\n                        if (t instanceof CancellationException) {\r\n                            return;\r\n                        }\r\n                        error.compareAndSet(null, t);\r\n                        // Wake up the main thread (if it&#39;s still sleeping)\r\n                        workDone.release(solvers.size());\r\n                    }\r\n                });\r\n            });\r\n            // Wait for a thread to complete solving and signal you, or all threads to timeout\r\n            log.debug(&quot;Main thread going to sleep&quot;);\r\n            workDone.acquire(solvers.size());\r\n            log.debug(&quot;Main thread waking up, checking for errors then cancelling futures&quot;);\r\n            checkForErrors();\r\n            // cancel any still to be launched futures\r\n            futures.forEach(future -&gt; future.cancel(false));\r\n            log.debug(&quot;Returning now&quot;);\r\n            return resultReference.get() == null ? SolverResult.createTimeoutResult() : resultReference.get();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(&quot;Interrupted while running parallel job&quot;, e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * We want a fail-fast policy, but java executors aren&#39;t going to throw the exception on the main thread.\r\n     * We can&#39;t call Future.get() and check for errors, because that might block.\r\n     * So we set a variable when an error occurs, and check it here.\r\n     */\r\n    private void checkForErrors() {\r\n        if (error.get() != null) {\r\n            log.error(&quot;Error occured while executing a task&quot;, error.get());\r\n            throw new RuntimeException(&quot;Error occurred while executing a task&quot;, error.get());\r\n        }\r\n    }\r\n\r\n","title":"Null pointer exception from final variable within runnable","body":"<p>I have code that runs a portfolio of algorithms on a given problem, and then as soon as one algorithm finds the answer to a problem, the program continues. The other algorithms in the portfolio get voluntary signals to terminate, and the main thread of execution goes on. </p>\n\n<p>One user of this code is sending me a stacktrace with a NullPointerException on the line \n\"resultReference.set(solverResult);\"\nAs you can see from the code below, resultReference is a final variable and is initialized immediately. I don't see how it could possibly ever become null. I've spent a long time trying to reproduce the problem on my end to no avail. The line numbers on the user's stacktrace match up with the line numbers on my code. The user reports having seen the error on 3 different occasions, but infrequently (this does not happen every time a problem is solved), so maybe its some sort of race condition. This is with jdk 1.8_25.</p>\n\n<p>Am I right in assuming that this error should be impossible because the variable is final? I'm not sure what to make of this stack trace and wanted some reassuring that it should be impossible. </p>\n\n<pre><code>public class ParallelSolver {\n\nprivate final ListeningExecutorService executorService;\nprivate final AtomicReference&lt;Throwable&gt; error;\nprivate final List&lt;Solver&gt; solvers;\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(ParallelSolver.class);\n\npublic ParallelSolver(int threadPoolSize, List&lt;Solvers&gt; solvers) {\n    executorService = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(threadPoolSize));\n    error = new AtomicReference&lt;&gt;();\n    this.solvers = solvers;\n}\n\npublic SolverResult solve(Problem p) {\n    final AtomicReference&lt;SolverResult&gt; resultReference = new AtomicReference&lt;&gt;();\n    final List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n    final Semaphore workDone = new Semaphore(0);\n    try {\n        // Submit one job per each solver in the portfolio\n        solvers.forEach(solver -&gt; {\n            final ListenableFuture&lt;Void&gt; future = executorService.submit(() -&gt; {\n                SolverResult solverResult = solver.solve(p);\n                if (solverResult.isConclusive()) {\n                    log.debug(\"Signalling the blocked thread to wake up!\");\n                     // NPE HERE ON THIS LINE\n                    resultReference.set(solverResult);\n                    workDone.release(solvers.size());\n                }\n                log.debug(\"Releasing a single permit as the work for this thread is done.\");\n                workDone.release(1);\n                log.debug(\"Job ending...\");\n                return null;\n            });\n            futures.add(future);\n            Futures.addCallback(future, new FutureCallback&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void result) {\n\n                }\n\n                @Override\n                public void onFailure(Throwable t) {\n                    if (t instanceof CancellationException) {\n                        return;\n                    }\n                    error.compareAndSet(null, t);\n                    // Wake up the main thread (if it's still sleeping)\n                    workDone.release(solvers.size());\n                }\n            });\n        });\n        // Wait for a thread to complete solving and signal you, or all threads to timeout\n        log.debug(\"Main thread going to sleep\");\n        workDone.acquire(solvers.size());\n        log.debug(\"Main thread waking up, checking for errors then cancelling futures\");\n        checkForErrors();\n        // cancel any still to be launched futures\n        futures.forEach(future -&gt; future.cancel(false));\n        log.debug(\"Returning now\");\n        return resultReference.get() == null ? SolverResult.createTimeoutResult() : resultReference.get();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(\"Interrupted while running parallel job\", e);\n    }\n}\n\n/**\n * We want a fail-fast policy, but java executors aren't going to throw the exception on the main thread.\n * We can't call Future.get() and check for errors, because that might block.\n * So we set a variable when an error occurs, and check it here.\n */\nprivate void checkForErrors() {\n    if (error.get() != null) {\n        log.error(\"Error occured while executing a task\", error.get());\n        throw new RuntimeException(\"Error occurred while executing a task\", error.get());\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"owner":{"account_id":23855851,"reputation":1,"user_id":17859343,"display_name":"Ahmed Yusuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700153288,"creation_date":1700134970,"question_id":77494510,"body_markdown":"Below is jpql query from a repository in my springboot project:  \r\n\r\n    public interface TaskRepository extends JpaRepository&lt;TaskEntity, UUID&gt; {  \r\n    \r\n    @Query(&quot;SELECT DISTINCT t FROM TaskEntity t JOIN t.processes p JOIN p.agents a WHERE a.id = :agentId ORDER BY p.iat DESC&quot;)\r\n    Set&lt;TaskEntity&gt; findTasksByAgentId(UUID agentId); \r\n    \r\n    }\r\n\r\n The desired output is list of tasks containing processes which have given agent id. I am getting this output however I also want processes to be sorted by iat (created time).\r\nHowever processes are not getting sorted by this query. Note that processes is an inner entity of task, so `ORDER BY p.iat DESC` part of the query is not working.\r\n\r\n I tried another query as well:\r\n\r\n    @Query(&quot;SELECT DISTINCT t FROM TaskEntity t JOIN t.processes p JOIN p.agents a WHERE a.id = :agentId GROUP BY t.id ORDER BY MAX(p.iat) DESC&quot;)\r\n    Set&lt;TaskEntity&gt; findTasksByAgentId(UUID agentId);   \r\n\r\nbut output is not sorted.\r\n\r\nBelow is my Task Entity for reference :       \r\n\r\n    public class TaskEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;hibernate-uuid&quot;)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID id;\r\n    \r\n        private String name;\r\n    \r\n        private String description;\r\n    \r\n        @Enumerated\r\n        private StatusEnum status;\r\n    \r\n    \r\n        @ManyToMany(mappedBy = &quot;task&quot;, fetch = FetchType.EAGER)\r\n        private Set&lt;ProcessEntity&gt; processes;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;task_customer&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;task_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;customer_id&quot;)\r\n        )\r\n        private Set&lt;CustomerEntity&gt; customers;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;task_agent&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;task_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;agent_id&quot;)\r\n        )\r\n        private Set&lt;AgentEntity&gt; agents;\r\n    \r\n        private Date iat;\r\n        private Date uat;\r\n    \r\n        @PrePersist\r\n        protected void onCreate() {\r\n            iat = new Date();\r\n        }\r\n    \r\n        @PreUpdate\r\n        protected void onUpdate() {\r\n            uat = new Date();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Unable to sort inner entities through jpql query in java springboot","body":"<p>Below is jpql query from a repository in my springboot project:</p>\n<pre><code>public interface TaskRepository extends JpaRepository&lt;TaskEntity, UUID&gt; {  \n\n@Query(&quot;SELECT DISTINCT t FROM TaskEntity t JOIN t.processes p JOIN p.agents a WHERE a.id = :agentId ORDER BY p.iat DESC&quot;)\nSet&lt;TaskEntity&gt; findTasksByAgentId(UUID agentId); \n\n}\n</code></pre>\n<p>The desired output is list of tasks containing processes which have given agent id. I am getting this output however I also want processes to be sorted by iat (created time).\nHowever processes are not getting sorted by this query. Note that processes is an inner entity of task, so <code>ORDER BY p.iat DESC</code> part of the query is not working.</p>\n<p>I tried another query as well:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT t FROM TaskEntity t JOIN t.processes p JOIN p.agents a WHERE a.id = :agentId GROUP BY t.id ORDER BY MAX(p.iat) DESC&quot;)\nSet&lt;TaskEntity&gt; findTasksByAgentId(UUID agentId);   \n</code></pre>\n<p>but output is not sorted.</p>\n<p>Below is my Task Entity for reference :</p>\n<pre><code>public class TaskEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;hibernate-uuid&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID id;\n\n    private String name;\n\n    private String description;\n\n    @Enumerated\n    private StatusEnum status;\n\n\n    @ManyToMany(mappedBy = &quot;task&quot;, fetch = FetchType.EAGER)\n    private Set&lt;ProcessEntity&gt; processes;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;task_customer&quot;,\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;customer_id&quot;)\n    )\n    private Set&lt;CustomerEntity&gt; customers;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;task_agent&quot;,\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;agent_id&quot;)\n    )\n    private Set&lt;AgentEntity&gt; agents;\n\n    private Date iat;\n    private Date uat;\n\n    @PrePersist\n    protected void onCreate() {\n        iat = new Date();\n    }\n\n    @PreUpdate\n    protected void onUpdate() {\n        uat = new Date();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","exception","quarkus"],"answers":[{"tags":[],"owner":{"account_id":17385796,"reputation":219,"user_id":12597147,"display_name":"CodingSamples"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700153170,"creation_date":1700153170,"answer_id":77496621,"question_id":77481506,"body_markdown":"I think it&#39;s more useful to throw a checked exception.\r\n\r\n```java\r\npublic class IdentityResponseException extends Exception {\r\n\r\n    @Getter\r\n    private final ProblemDetail problemDetail;\r\n\r\n    @Getter\r\n    private final Response response;\r\n\r\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\r\n        super(problemDetail.getDetail());\r\n        this.problemDetail = problemDetail;\r\n        this.response = response;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RegisterProvider(IdentityResponseExceptionMapper.class)\r\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\r\npublic interface IdentityTenantsClient {\r\n    @POST\r\n    @Path(&quot;/internal/tenants&quot;)\r\n    TenantResponseDTO createTenant(TenantRequestDTO body) throws IdentityResponseException;\r\n```\r\n\r\nFrom the microprofile rest client spec (https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper) you&#39;re right. Your exception should be thrown directly. Maybe there is a bug in the resteasy implementation when the thrown exception is instance of WebApplicationException. I am not sure, your solution looks fine for me, but you could try out the checked exception solution. Maybe it&#39;ll fit better for you.","title":"ClientWebApplicationException is thrown even if custom exception mapper returned another exception","body":"<p>I think it's more useful to throw a checked exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IdentityResponseException extends Exception {\n\n    @Getter\n    private final ProblemDetail problemDetail;\n\n    @Getter\n    private final Response response;\n\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\n        super(problemDetail.getDetail());\n        this.problemDetail = problemDetail;\n        this.response = response;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RegisterProvider(IdentityResponseExceptionMapper.class)\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\npublic interface IdentityTenantsClient {\n    @POST\n    @Path(&quot;/internal/tenants&quot;)\n    TenantResponseDTO createTenant(TenantRequestDTO body) throws IdentityResponseException;\n</code></pre>\n<p>From the microprofile rest client spec (<a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper</a>) you're right. Your exception should be thrown directly. Maybe there is a bug in the resteasy implementation when the thrown exception is instance of WebApplicationException. I am not sure, your solution looks fine for me, but you could try out the checked exception solution. Maybe it'll fit better for you.</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700153170,"creation_date":1699972932,"question_id":77481506,"body_markdown":"Even if the exception mapper is executed and returns a custom exception when I catch this exception it is always ClienWebApplicationException.\r\n\r\nSo if I do a call with my rest client, and the client returns not successful response this response is mapped to my custom exception by calling my ResponseExceptionMapper.\r\n\r\nAfter exception mapper returns my custom exception I try to catch it in the code, but instead of having instance of my exception I am getting ClienWebApplicationException and the cause of ClienWebApplicationException is my custom exception.\r\n\r\nIn Quarkus I have rest client\r\n\r\n\r\n    @RegisterProvider(IdentityResponseExceptionMapper.class)\r\n    @RegisterRestClient(configKey = &quot;identity-api&quot;)\r\n    public interface IdentityTenantsClient {\r\n        @POST\r\n        @Path(&quot;/internal/tenants&quot;)\r\n        TenantResponseDTO createTenant(TenantRequestDTO body);\r\n\r\nand \r\n\r\nresponse exception mapper\r\n\r\n    public class IdentityResponseExceptionMapper implements ResponseExceptionMapper&lt;IdentityResponseException&gt; {\r\n        @Override\r\n        public IdentityResponseException toThrowable(Response response) {\r\n            ProblemDetail problemDetail = response.readEntity(ProblemDetail.class);\r\n            return new IdentityResponseException(problemDetail, response);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @RegisterForReflection\r\n    public class IdentityResponseException extends WebApplicationException {\r\n        @Getter\r\n        private final transient ProblemDetail problemDetail;\r\n    \r\n        public IdentityResponseException(ProblemDetail problemDetail, Response response) {\r\n            super(problemDetail.getDetail(), response);\r\n            this.problemDetail = problemDetail;\r\n        }\r\n\r\nFor some reason regardless that exception handler maps response to IdentityResponseException, the catch inside the method catches ClientWebApplicationException instead of ClientWebApplicationException ","title":"ClientWebApplicationException is thrown even if custom exception mapper returned another exception","body":"<p>Even if the exception mapper is executed and returns a custom exception when I catch this exception it is always ClienWebApplicationException.</p>\n<p>So if I do a call with my rest client, and the client returns not successful response this response is mapped to my custom exception by calling my ResponseExceptionMapper.</p>\n<p>After exception mapper returns my custom exception I try to catch it in the code, but instead of having instance of my exception I am getting ClienWebApplicationException and the cause of ClienWebApplicationException is my custom exception.</p>\n<p>In Quarkus I have rest client</p>\n<pre><code>@RegisterProvider(IdentityResponseExceptionMapper.class)\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\npublic interface IdentityTenantsClient {\n    @POST\n    @Path(&quot;/internal/tenants&quot;)\n    TenantResponseDTO createTenant(TenantRequestDTO body);\n</code></pre>\n<p>and</p>\n<p>response exception mapper</p>\n<pre><code>public class IdentityResponseExceptionMapper implements ResponseExceptionMapper&lt;IdentityResponseException&gt; {\n    @Override\n    public IdentityResponseException toThrowable(Response response) {\n        ProblemDetail problemDetail = response.readEntity(ProblemDetail.class);\n        return new IdentityResponseException(problemDetail, response);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@RegisterForReflection\npublic class IdentityResponseException extends WebApplicationException {\n    @Getter\n    private final transient ProblemDetail problemDetail;\n\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\n        super(problemDetail.getDetail(), response);\n        this.problemDetail = problemDetail;\n    }\n</code></pre>\n<p>For some reason regardless that exception handler maps response to IdentityResponseException, the catch inside the method catches ClientWebApplicationException instead of ClientWebApplicationException</p>\n"},{"tags":["java","guacamole"],"answers":[{"comments":[{"owner":{"account_id":15338689,"reputation":1,"user_id":11243209,"display_name":"root"},"score":0,"creation_date":1554104043,"post_id":55424917,"comment_id":97614322,"body_markdown":"Hello mnikolic and thanks for your answer. This is not for authentification to guacamole but authentification to server from guacamole (so already auth). Did you understand that ? And is it possible ? Thanks.","body":"Hello mnikolic and thanks for your answer. This is not for authentification to guacamole but authentification to server from guacamole (so already auth). Did you understand that ? And is it possible ? Thanks."}],"tags":[],"owner":{"account_id":3656861,"reputation":582,"user_id":3047626,"display_name":"mnikolic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553890571,"creation_date":1553890571,"answer_id":55424917,"question_id":55301418,"body_markdown":"You can create an authentication extension for Guacamole, this is a regular way to provide more authentication mechanism to the Guacamole. The extension is essentially a .jar that can be registered to the Guacamole as an authenticator.\r\n\r\nIn your case, it would be probably sufficient to extend some of the JDBC authentication plugins and add your specific auth method. \r\n\r\nYou can find some documentation about this on the Guacamole site: http://guacamole.apache.org/doc/gug/custom-auth.html. There are also examples in the examples directory of the guacamole-client.\r\n","title":"Guacamole get password from external api","body":"<p>You can create an authentication extension for Guacamole, this is a regular way to provide more authentication mechanism to the Guacamole. The extension is essentially a .jar that can be registered to the Guacamole as an authenticator.</p>\n\n<p>In your case, it would be probably sufficient to extend some of the JDBC authentication plugins and add your specific auth method. </p>\n\n<p>You can find some documentation about this on the Guacamole site: <a href=\"http://guacamole.apache.org/doc/gug/custom-auth.html\" rel=\"nofollow noreferrer\">http://guacamole.apache.org/doc/gug/custom-auth.html</a>. There are also examples in the examples directory of the guacamole-client.</p>\n"}],"owner":{"account_id":15338689,"reputation":1,"user_id":11243209,"display_name":"root"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151766,"creation_date":1553263697,"question_id":55301418,"body_markdown":"I&#39;m trying to setup a guacamole instance to manage my servers accounts. It&#39;s working well when I&#39;m using my MySQL database to manage connection user ID and user password.\r\n\r\nBut I would like to get my password from my keepass like container through REST API, the idea is to store my password in one and secure location !\r\n\r\nI have several ideas to do it, but to be honnest this is not very &quot;beautiful&quot;\r\n\r\n 1. Hack the JDBC extension to replace my password when guacamole try to access it. So I store in my password field something like &quot;MY_KEEPASS:password_id&quot; and I will do a request to my API, get the value and replace MY_KEEPASS:password_id by the password\r\n 2. Use the token extension to execute my api call when password will find the token ${PASS}. But I&#39;m not sure this is possible without hack the token extension...\r\n\r\nDo someone have a better idea to do that ? \r\n\r\nThanks","title":"Guacamole get password from external api","body":"<p>I'm trying to setup a guacamole instance to manage my servers accounts. It's working well when I'm using my MySQL database to manage connection user ID and user password.</p>\n\n<p>But I would like to get my password from my keepass like container through REST API, the idea is to store my password in one and secure location !</p>\n\n<p>I have several ideas to do it, but to be honnest this is not very \"beautiful\"</p>\n\n<ol>\n<li>Hack the JDBC extension to replace my password when guacamole try to access it. So I store in my password field something like \"MY_KEEPASS:password_id\" and I will do a request to my API, get the value and replace MY_KEEPASS:password_id by the password</li>\n<li>Use the token extension to execute my api call when password will find the token ${PASS}. But I'm not sure this is possible without hack the token extension...</li>\n</ol>\n\n<p>Do someone have a better idea to do that ? </p>\n\n<p>Thanks</p>\n"},{"tags":["java","io","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":5972791,"reputation":651,"user_id":4694665,"display_name":"Chewy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464182555,"creation_date":1464182247,"answer_id":37438427,"question_id":37438092,"body_markdown":"Just change this section of code - once you convert to a char, you cannot compare it to an integer successfully, so your while exit condition is never met.\r\n\r\n    int c;\r\n    while ((c = inputFile.read()) != -1) {\r\n        System.out.println((char) c);\r\n        outputFile.write(c);\r\n    }\r\n\r\nAlso using the java 8 java.nio and java.io packages is much simpler\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;s:/inputFile.txt&quot;));\r\n        Files.write(Paths.get(&quot;s:/outputFile.txt&quot;), lines);\r\n    }","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>Just change this section of code - once you convert to a char, you cannot compare it to an integer successfully, so your while exit condition is never met.</p>\n\n<pre><code>int c;\nwhile ((c = inputFile.read()) != -1) {\n    System.out.println((char) c);\n    outputFile.write(c);\n}\n</code></pre>\n\n<p>Also using the java 8 java.nio and java.io packages is much simpler</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(\"s:/inputFile.txt\"));\n    Files.write(Paths.get(\"s:/outputFile.txt\"), lines);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464183521,"post_id":37438598,"comment_id":62380330,"body_markdown":"*&quot;Typecasting a the result of in.read() to char is bad style.&quot;* - Not just bad style.  Depending on the actual file encoding, it can simply be incorrect.","body":"<i>&quot;Typecasting a the result of in.read() to char is bad style.&quot;</i> - Not just bad style.  Depending on the actual file encoding, it can simply be incorrect."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464183806,"post_id":37438598,"comment_id":62380542,"body_markdown":"Also, hard-writing UTF-8 is probably a bad idea.  A safer assumption would be to use the platform default charset for reading and writing.","body":"Also, hard-writing UTF-8 is probably a bad idea.  A safer assumption would be to use the platform default charset for reading and writing."}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464182687,"creation_date":1464182687,"answer_id":37438598,"question_id":37438092,"body_markdown":"Typecasting a the result of `in.read()` to char is bad style. Characters should only read from a [Reader][1] - in your case you could use an InputStreamReader:\r\n\r\n\r\n    \tinputFile = new FileInputStream(&quot;s:/inputFile.txt&quot;);\r\n        outputFile = new FileOutputStream(&quot;s:/outputFile.txt&quot;);\r\n        Reader inputReader = InputStreamReader(inputFile, StandardCharsets.UTF_8);\r\n        Writer outputWriter = OutputStreamWriter(outputFile, StandardCharsets.UTF_8);\r\n        char[] cbuf = new char[4096];\r\n        int read;\r\n        while( (read = inputReader.read(cbuf)) &gt;= 0)\r\n        {\r\n            System.out.println(new String(cbuf, 0, read));\r\n            outputWriter.write(cbuf, 0, read);\r\n        }\r\n\r\nThis example furthermore does not copy byte-by-byte (massive speed improvement) and it applies UTF-8 as charset.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>Typecasting a the result of <code>in.read()</code> to char is bad style. Characters should only read from a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\" rel=\"nofollow\">Reader</a> - in your case you could use an InputStreamReader:</p>\n\n<pre><code>    inputFile = new FileInputStream(\"s:/inputFile.txt\");\n    outputFile = new FileOutputStream(\"s:/outputFile.txt\");\n    Reader inputReader = InputStreamReader(inputFile, StandardCharsets.UTF_8);\n    Writer outputWriter = OutputStreamWriter(outputFile, StandardCharsets.UTF_8);\n    char[] cbuf = new char[4096];\n    int read;\n    while( (read = inputReader.read(cbuf)) &gt;= 0)\n    {\n        System.out.println(new String(cbuf, 0, read));\n        outputWriter.write(cbuf, 0, read);\n    }\n</code></pre>\n\n<p>This example furthermore does not copy byte-by-byte (massive speed improvement) and it applies UTF-8 as charset.</p>\n"},{"comments":[{"owner":{"account_id":323554,"reputation":1357,"user_id":643634,"accept_rate":58,"display_name":"Navin Israni"},"score":0,"creation_date":1464243033,"post_id":37438676,"comment_id":62406417,"body_markdown":"This logic works when the FIS reads &quot;-1&quot; EOF. But I&#39;m getting all characters output to -1 (and hence the ?), even the valid characters of the file... why is it reading EOF for the valid characters of file.. or is it am I missing something here?","body":"This logic works when the FIS reads &quot;-1&quot; EOF. But I&#39;m getting all characters output to -1 (and hence the ?), even the valid characters of the file... why is it reading EOF for the valid characters of file.. or is it am I missing something here?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464248483,"post_id":37438676,"comment_id":62409335,"body_markdown":"I think you are misinterpreting things.  1) It is impossible for a `char` to be `-1` because `char` is an &gt;&gt;unsigned&lt;&lt; type. 2) When a `char` is converted to `?` on output, that means that the character value (whatever it is) has no valid encoding in the character encoding scheme being used.  You can&#39;t infer what its actual value was.","body":"I think you are misinterpreting things.  1) It is impossible for a <code>char</code> to be <code>-1</code> because <code>char</code> is an &gt;&gt;unsigned&lt;&lt; type. 2) When a <code>char</code> is converted to <code>?</code> on output, that means that the character value (whatever it is) has no valid encoding in the character encoding scheme being used.  You can&#39;t infer what its actual value was."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700151692,"creation_date":1464182850,"answer_id":37438676,"question_id":37438092,"body_markdown":"&gt; Why is this happening? \r\n\r\nThe problem is in this line:\r\n\r\n     while(( c = (char) inputFile.read()) != -1)\r\n\r\nYou are doing the following:\r\n\r\n 1.  Reading a byte from the file.  This gives you an `int` which is either a byte in the range 0 to 255, or -1.\r\n\r\n 2.  You are casting that value to a `char`.  For the byte, that gives a `char` value in the range 0 to 255.  For `-1` the cast will give you `&#39;\\uffff&#39;`.\r\n\r\n 3.  You assign that value to `c`.\r\n\r\n 4.  You then test the value against `-1`.  This is where it goes wrong.  In the case where `read` returned `-1`, you will now be evaluating this `&#39;\\uffff&#39; == -1`.  The LHS is converted to an `int` value ... `0x0000ffff` ... and that is compared to `0xffffffff`.  They are different.\r\n\r\nThen you print `&#39;uffff&#39;` ... which is being converted to a `&#39;?&#39;` when output as a character in your default charset.\r\n\r\n----------------\r\n\r\nThere are two major mistakes in the code.  First, the conversion `int` -&gt; `char` -&gt; `int` is not going to work; see above.\r\n\r\nSecond, and more important:\r\n\r\n  - you should not be trying to use an `InputStream` (which is byte oriented) to read data as characters, and\r\n\r\n  - you should not be trying to write character data to an `OutputStream`.\r\n\r\nDepending on what you actually trying to achieve here, you should either:\r\n\r\n  - read and write bytes ... without a spurious &quot;conversion&quot; to `char` in the middle, OR\r\n\r\n  - use a `FileReader` and `FileWriter` to do the conversions *properly* for the platform default characterset.\r\n\r\n(There are some other points that could be made about buffering, choosing an alternate charset, etc, but this Answer is already getting too long.)","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<blockquote>\n<p>Why is this happening?</p>\n</blockquote>\n<p>The problem is in this line:</p>\n<pre><code> while(( c = (char) inputFile.read()) != -1)\n</code></pre>\n<p>You are doing the following:</p>\n<ol>\n<li><p>Reading a byte from the file.  This gives you an <code>int</code> which is either a byte in the range 0 to 255, or -1.</p>\n</li>\n<li><p>You are casting that value to a <code>char</code>.  For the byte, that gives a <code>char</code> value in the range 0 to 255.  For <code>-1</code> the cast will give you <code>'\\uffff'</code>.</p>\n</li>\n<li><p>You assign that value to <code>c</code>.</p>\n</li>\n<li><p>You then test the value against <code>-1</code>.  This is where it goes wrong.  In the case where <code>read</code> returned <code>-1</code>, you will now be evaluating this <code>'\\uffff' == -1</code>.  The LHS is converted to an <code>int</code> value ... <code>0x0000ffff</code> ... and that is compared to <code>0xffffffff</code>.  They are different.</p>\n</li>\n</ol>\n<p>Then you print <code>'uffff'</code> ... which is being converted to a <code>'?'</code> when output as a character in your default charset.</p>\n<hr />\n<p>There are two major mistakes in the code.  First, the conversion <code>int</code> -&gt; <code>char</code> -&gt; <code>int</code> is not going to work; see above.</p>\n<p>Second, and more important:</p>\n<ul>\n<li><p>you should not be trying to use an <code>InputStream</code> (which is byte oriented) to read data as characters, and</p>\n</li>\n<li><p>you should not be trying to write character data to an <code>OutputStream</code>.</p>\n</li>\n</ul>\n<p>Depending on what you actually trying to achieve here, you should either:</p>\n<ul>\n<li><p>read and write bytes ... without a spurious &quot;conversion&quot; to <code>char</code> in the middle, OR</p>\n</li>\n<li><p>use a <code>FileReader</code> and <code>FileWriter</code> to do the conversions <em>properly</em> for the platform default characterset.</p>\n</li>\n</ul>\n<p>(There are some other points that could be made about buffering, choosing an alternate charset, etc, but this Answer is already getting too long.)</p>\n"}],"owner":{"account_id":323554,"reputation":1357,"user_id":643634,"accept_rate":58,"display_name":"Navin Israni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700151692,"creation_date":1464181519,"question_id":37438092,"body_markdown":"There are some similar questions on the site but all have been used in different scenario. So, I&#39;m asking it here:\r\n\r\n    package Assign6B;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class FileOpsDemo {\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n    \t\t\r\n    \t\tFileInputStream inputFile = null;\r\n    \t\tFileOutputStream outputFile = null;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tinputFile = new FileInputStream(&quot;s:/inputFile.txt&quot;);\r\n    \t\t\toutputFile = new FileOutputStream(&quot;s:/outputFile.txt&quot;);\r\n    \t\t\tchar c;\r\n    \t\t\twhile(( c = (char) inputFile.read()) != -1)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println((char)c);\r\n    \t\t\t\toutputFile.write(c);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;File transfer complete!&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tif (inputFile != null)\r\n    \t\t\t\tinputFile.close();\r\n    \t\t\t\r\n    \t\t\tif (outputFile != null)\r\n    \t\t\t\toutputFile.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThis is my code. In the while loop condition, first I had set it to typecast the int output by read() into a char. The result was that it went into an infinite loop with all characters being converted to &#39;?&#39; (ascii: 63). Then I realized my mistake of char conversion and changed it.\r\n\r\nBut when I changed my while condition to &quot;=-2&quot; (without the char conversion) (this condition will never occur and hence put it into infinite loop). Here too, even if there is no char conversion the first (say, 10) valid characters of the file are still being converted into &#39;?&#39;. (After it reaches EOF, all invalid chars become &#39;?&#39; - I&#39;m assuming this is given).\r\n\r\nWhy is this happening? At least the valid characters of the file should be read properly until it encounters the EOF and starts feeding on invalid chars!\r\n","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>There are some similar questions on the site but all have been used in different scenario. So, I'm asking it here:</p>\n\n<pre><code>package Assign6B;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileOpsDemo {\n    public static void main(String[] args) throws IOException \n    {\n\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n\n        try\n        {\n            inputFile = new FileInputStream(\"s:/inputFile.txt\");\n            outputFile = new FileOutputStream(\"s:/outputFile.txt\");\n            char c;\n            while(( c = (char) inputFile.read()) != -1)\n            {\n                System.out.println((char)c);\n                outputFile.write(c);\n            }\n\n            System.out.println(\"File transfer complete!\");\n        }\n\n        finally\n        {\n            if (inputFile != null)\n                inputFile.close();\n\n            if (outputFile != null)\n                outputFile.close();\n        }\n    }\n}\n</code></pre>\n\n<p>This is my code. In the while loop condition, first I had set it to typecast the int output by read() into a char. The result was that it went into an infinite loop with all characters being converted to '?' (ascii: 63). Then I realized my mistake of char conversion and changed it.</p>\n\n<p>But when I changed my while condition to \"=-2\" (without the char conversion) (this condition will never occur and hence put it into infinite loop). Here too, even if there is no char conversion the first (say, 10) valid characters of the file are still being converted into '?'. (After it reaches EOF, all invalid chars become '?' - I'm assuming this is given).</p>\n\n<p>Why is this happening? At least the valid characters of the file should be read properly until it encounters the EOF and starts feeding on invalid chars!</p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":3220603,"reputation":2158,"user_id":2718163,"display_name":"alex"},"score":0,"creation_date":1700096515,"post_id":77491702,"comment_id":136614130,"body_markdown":"Please share your code. Likely you are creating a PaymentIntent that includes the parameter [setup_for_future_usage](https://stripe.com/docs/api/payment_intents/create#create_payment_intent-setup_future_usage). If you remove that parameter, then that checkbox option won&#39;t show","body":"Please share your code. Likely you are creating a PaymentIntent that includes the parameter <a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent-setup_future_usage\" rel=\"nofollow noreferrer\">setup_for_future_usage</a>. If you remove that parameter, then that checkbox option won&#39;t show"},{"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"score":0,"creation_date":1700151722,"post_id":77491702,"comment_id":136622065,"body_markdown":"That parameter was not in either my Android or Flask code. But I added it to the Flask payment intent as &quot;off_session&quot; and it is gone. Thanks for pointing me in the right direction.","body":"That parameter was not in either my Android or Flask code. But I added it to the Flask payment intent as &quot;off_session&quot; and it is gone. Thanks for pointing me in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151565,"creation_date":1700151565,"answer_id":77496440,"question_id":77491702,"body_markdown":"In the Flask app set setup_future_usage to &#39;off_session&#39;\r\n\r\n    paymentIntent = stripe.PaymentIntent.create(\r\n        amount=credits,\r\n        currency=&#39;usd&#39;,\r\n        customer=customer[&#39;id&#39;],\r\n        setup_future_usage=&#39;off_session&#39;,\r\n        automatic_payment_methods={\r\n          &#39;enabled&#39;: True,\r\n        },\r\n      )\r\n\r\n","title":"How to disable saved cards/future payment sheets of Stripe? (Android/Flask)","body":"<p>In the Flask app set setup_future_usage to 'off_session'</p>\n<pre><code>paymentIntent = stripe.PaymentIntent.create(\n    amount=credits,\n    currency='usd',\n    customer=customer['id'],\n    setup_future_usage='off_session',\n    automatic_payment_methods={\n      'enabled': True,\n    },\n  )\n</code></pre>\n"}],"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151565,"creation_date":1700095832,"question_id":77491702,"body_markdown":"I have an Android app that uses Stripe&#39;s SDK for purchases and a Gunicorn/Flask backend running. Testing has been well.\r\n\r\nHowever, I do not want to store anything payment information. Yet, there is a checkbox option on the payment sheet to &quot;*Save for future [app] purchases?*&quot;\r\n\r\nI&#39;ve checked the client and server side documentation. But still can&#39;t figure out how to disable that option from the payment sheet. Does anyone know how? I&#39;m writing in Java. ","title":"How to disable saved cards/future payment sheets of Stripe? (Android/Flask)","body":"<p>I have an Android app that uses Stripe's SDK for purchases and a Gunicorn/Flask backend running. Testing has been well.</p>\n<p>However, I do not want to store anything payment information. Yet, there is a checkbox option on the payment sheet to &quot;<em>Save for future [app] purchases?</em>&quot;</p>\n<p>I've checked the client and server side documentation. But still can't figure out how to disable that option from the payment sheet. Does anyone know how? I'm writing in Java.</p>\n"},{"tags":["java","spring","spring-boot","swagger","execution-time"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1613925546,"post_id":66303565,"comment_id":117220616,"body_markdown":"Isn&#39;t [spring mv metrics](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-spring-mvc) something what you are searching for?","body":"Isn&#39;t <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-spring-mvc\" rel=\"nofollow noreferrer\">spring mv metrics</a> something what you are searching for?"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1613961928,"post_id":66303565,"comment_id":117229068,"body_markdown":"`When I tried annotating at the class level per below, the app failed to compile..` - Did the application startup failed with an exception about , cannot subclass a final class ?","body":"<code>When I tried annotating at the class level per below, the app failed to compile..</code> - Did the application startup failed with an exception about , cannot subclass a final class ?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1613971563,"post_id":66303565,"comment_id":117230910,"body_markdown":"@bilak I&#39;ll checkout spring metrics, I thought Spring AOP was the solution","body":"@bilak I&#39;ll checkout spring metrics, I thought Spring AOP was the solution"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1613971639,"post_id":66303565,"comment_id":117230929,"body_markdown":"@R.G I update my post. The spring boot app compiles fine and boots up on localhost:8080. The problem is when I try to hit the endpoint that I annotated, nothing happens , I get a 404 NOT FOUND from postman. It&#39;s like adding the annotation breaks the API because we are using Swagger code gen","body":"@R.G I update my post. The spring boot app compiles fine and boots up on localhost:8080. The problem is when I try to hit the endpoint that I annotated, nothing happens , I get a 404 NOT FOUND from postman. It&#39;s like adding the annotation breaks the API because we are using Swagger code gen"}],"answers":[{"tags":[],"owner":{"account_id":2514821,"reputation":403,"user_id":2186495,"accept_rate":29,"display_name":"Pat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661256075,"creation_date":1661256075,"answer_id":73458369,"question_id":66303565,"body_markdown":"To use this annotation over class you have to change target of the annotation to ElementType.TYPE instead of ElementType.METHOD.","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>To use this annotation over class you have to change target of the annotation to ElementType.TYPE instead of ElementType.METHOD.</p>\n"},{"tags":[],"owner":{"account_id":29919626,"reputation":1,"user_id":22929081,"display_name":"syedsher saraan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151480,"creation_date":1700151480,"answer_id":77496430,"question_id":66303565,"body_markdown":"You can use spring aop and aspectj to get the execution time but if the class has not interface then remember to add @EnableAspectJAutoProxy (proxyTargetClass = true) annotation it&#39;s a CGLIB. But if you are sure that your service is not having class without interface then go ahead no need to add that annotation.\r\nIf you have final class then the proxy is not going to be created you will get error (Common causes of this problem include using a final class.) or if you have private constructor only. And if the flow is going to final method, then it will not get intercept and you will get NullPointerException and the aplication will break.","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>You can use spring aop and aspectj to get the execution time but if the class has not interface then remember to add @EnableAspectJAutoProxy (proxyTargetClass = true) annotation it's a CGLIB. But if you are sure that your service is not having class without interface then go ahead no need to add that annotation.\nIf you have final class then the proxy is not going to be created you will get error (Common causes of this problem include using a final class.) or if you have private constructor only. And if the flow is going to final method, then it will not get intercept and you will get NullPointerException and the aplication will break.</p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1999,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700151480,"creation_date":1613919263,"question_id":66303565,"body_markdown":"I have a Java Spring Boot API (Swagger) that I is having thousands of calls on it daily. I wanted to log the execution times of these methods for analysis. I used Spring AOP (Aspect Orientated Programming) to make a simple interface and concrete class that allows me to annotate my methods with @TrackExecutionTime to see the runtime. I have listed the code for that below. My problem is, that in the logs, I am tracking the method call times, but I have thousands of requests, so I need a way of &quot;tagging&quot; each api call and logging it, so I can follow the flow of each api call. I was thinking of generating a random # or maybe someone here had a better suggestion. So the logging currently looks like this:\r\n`\r\n&quot;com.mypackage.myclassname.mymethodname. Time taken for Execution is : 100ms&quot;\r\n` \r\n\r\nAlso, My first RestController uses Swagger, so I tried to annotate the method with my @TrackTimeExecution, but we are using the **swagger-codegen-maven** plugin, so it reads the swagger definition yaml file and generates the &quot;CustomerApi&quot; and other classes/interfaces when it compiles. When I tried annotating at the class level per below, the Spring Boot app compiles, but when I run the app locally on port 8080 and try to hit the endpoint I annotated with Postman, nothing happens at all. It&#39;s like annotating breaks the swagger codegen or something, so I had to settle with sticking the annotation on the customersService.getCustomers() method. Is this acceptable? I figured I would need to clock the execution from when the Controller first gets hit, but as I said,  I coudln&#39;t do it this way unless I&#39;m making some dumb mistake, so I had to put it on the *next* method the controller calls. Does this make my timing of the api call inaccurate since I would need to time in when the app first gets the request by the controller? Would love any input here...\r\n\r\nDumbed dumb implementation of one of my endpoints, basically the same: \r\n```\r\n@RestController\r\n@TrackExecutionTime // this fails to compile\r\npublic class CustomerApiController implements CustomerApi {\r\n    @Autowired\r\n    public CustomerApiController(ObjectMapper objectMapper, HttpServletRequest request) {\r\n        this.objectMapper = objectMapper;\r\n        this.request = request;\r\n}\r\n\r\npublic ResponseEntity&lt;List&lt;Customer&gt;&gt; searchCustomer() {\r\n    return new ResponseEntity&lt;List&lt;Customer&gt;&gt;(this.customerService.getCustomers(), HttpStatus.OK);\r\n```\r\n\r\nClass that logs the execution time of any method annotated with &quot;@TrackExecutionTime&quot;\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\r\npublic class ExecutionTimeAdvice {\r\n\r\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\r\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object object = point.proceed();\r\n        long endtime = System.currentTimeMillis();\r\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\r\n        return object;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface TrackExecutionTime {\r\n}\r\n```","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>I have a Java Spring Boot API (Swagger) that I is having thousands of calls on it daily. I wanted to log the execution times of these methods for analysis. I used Spring AOP (Aspect Orientated Programming) to make a simple interface and concrete class that allows me to annotate my methods with @TrackExecutionTime to see the runtime. I have listed the code for that below. My problem is, that in the logs, I am tracking the method call times, but I have thousands of requests, so I need a way of &quot;tagging&quot; each api call and logging it, so I can follow the flow of each api call. I was thinking of generating a random # or maybe someone here had a better suggestion. So the logging currently looks like this:\n<code>&quot;com.mypackage.myclassname.mymethodname. Time taken for Execution is : 100ms&quot;</code></p>\n<p>Also, My first RestController uses Swagger, so I tried to annotate the method with my @TrackTimeExecution, but we are using the <strong>swagger-codegen-maven</strong> plugin, so it reads the swagger definition yaml file and generates the &quot;CustomerApi&quot; and other classes/interfaces when it compiles. When I tried annotating at the class level per below, the Spring Boot app compiles, but when I run the app locally on port 8080 and try to hit the endpoint I annotated with Postman, nothing happens at all. It's like annotating breaks the swagger codegen or something, so I had to settle with sticking the annotation on the customersService.getCustomers() method. Is this acceptable? I figured I would need to clock the execution from when the Controller first gets hit, but as I said,  I coudln't do it this way unless I'm making some dumb mistake, so I had to put it on the <em>next</em> method the controller calls. Does this make my timing of the api call inaccurate since I would need to time in when the app first gets the request by the controller? Would love any input here...</p>\n<p>Dumbed dumb implementation of one of my endpoints, basically the same:</p>\n<pre><code>@RestController\n@TrackExecutionTime // this fails to compile\npublic class CustomerApiController implements CustomerApi {\n    @Autowired\n    public CustomerApiController(ObjectMapper objectMapper, HttpServletRequest request) {\n        this.objectMapper = objectMapper;\n        this.request = request;\n}\n\npublic ResponseEntity&lt;List&lt;Customer&gt;&gt; searchCustomer() {\n    return new ResponseEntity&lt;List&lt;Customer&gt;&gt;(this.customerService.getCustomers(), HttpStatus.OK);\n</code></pre>\n<p>Class that logs the execution time of any method annotated with &quot;@TrackExecutionTime&quot;</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\npublic class ExecutionTimeAdvice {\n\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object object = point.proceed();\n        long endtime = System.currentTimeMillis();\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\n        return object;\n    }\n}\n</code></pre>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TrackExecutionTime {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1700114276,"post_id":77492485,"comment_id":136615493,"body_markdown":"Can you share your table creation query to check if there is some typo error while creating this entity and also your database connection, properties or yml file it&#39;ll be helpful","body":"Can you share your table creation query to check if there is some typo error while creating this entity and also your database connection, properties or yml file it&#39;ll be helpful"},{"owner":{"account_id":29914558,"reputation":1,"user_id":22925070,"display_name":"Federico Wedemeyer"},"score":0,"creation_date":1700150551,"post_id":77492485,"comment_id":136621790,"body_markdown":"@Daksharajkamal\n\nThe database was given to me by the teacher, so i don&#39;t have the table creation query.\nProperties:\n\n```spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\nspring.jpa.hibernate.ddl-auto=none\n\nspring.datasource.url=jdbc:sqlite:bicicletas.db\nspring.datasource.driver-class-name=org.sqlite.JDBC\n\n\nspring.datasource.username=admin\nspring.datasource.password=admin\n```","body":"@Daksharajkamal  The database was given to me by the teacher, so i don&#39;t have the table creation query. Properties:  <code>spring.jpa.database-platform=org.hibernate.community.dialect&zwnj;&#8203;.SQLiteDialect spring.jpa.hibernate.ddl-auto=none  spring.datasource.url=jdbc:sqlite:bicicletas.db spring.datasource.driver-class-name=org.sqlite.JDBC   spring.datasource.username=admin spring.datasource.password=admin </code>"}],"answers":[{"comments":[{"owner":{"account_id":29914558,"reputation":1,"user_id":22925070,"display_name":"Federico Wedemeyer"},"score":0,"creation_date":1700150696,"post_id":77492784,"comment_id":136621831,"body_markdown":"[It looks like I have all dependencies up to date.](https://prnt.sc/FjApR9oDOMCT)   I&#39;ll try the conversion","body":"<a href=\"https://prnt.sc/FjApR9oDOMCT\" rel=\"nofollow noreferrer\">It looks like I have all dependencies up to date.</a>   I&#39;ll try the conversion"}],"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700117617,"creation_date":1700117617,"answer_id":77492784,"question_id":77492485,"body_markdown":"JPA 2.1 was released before Java 8 and therefore doesn’t support the new Date and Time API.\r\nSo check the  columns like horaDevolucion and horaRetiro data type and check SQLite support that data type.\r\n\r\n&lt;b&gt;Two options&lt;/b&gt;\r\n1. Update to JPA 2.2 and hibernate 5 support date and time API\r\n2. Convert LocalDateTime to Timestamp using @Converter. [Refer this link for the sample](https://thorben-janssen.com/persist-localdate-localdatetime-jpa/)","title":"JpaRepository.save(entity) not working. SQLError 0, SQLState: null","body":"<p>JPA 2.1 was released before Java 8 and therefore doesn’t support the new Date and Time API.\nSo check the  columns like horaDevolucion and horaRetiro data type and check SQLite support that data type.</p>\n<p><b>Two options</b></p>\n<ol>\n<li>Update to JPA 2.2 and hibernate 5 support date and time API</li>\n<li>Convert LocalDateTime to Timestamp using @Converter. <a href=\"https://thorben-janssen.com/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">Refer this link for the sample</a></li>\n</ol>\n"}],"owner":{"account_id":29914558,"reputation":1,"user_id":22925070,"display_name":"Federico Wedemeyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151226,"creation_date":1700112386,"question_id":77492485,"body_markdown":"I&#39;m trying to make a POST endpoint on Java Spring with JPA, Lombok and Hibernate.\r\n\r\nI&#39;ll show you the code i have on the controller, the entity, the service and a screenshot of the error I have to see if you can help me.\r\n\r\nSorry for the spanish on the code, it&#39;s for college.\r\n\r\nThe controller with the POST request:\r\n\r\n```java\r\n @PostMapping\r\n    public ResponseEntity&lt;Object&gt; iniciarAlquiler(@RequestBody AlquilerRequest aRequest) {\r\n        try {\r\n            val alquiler = alquilerService.iniciarAlquiler(aRequest.getClienteId(), aRequest.getEstacionId());\r\n            System.out.println(alquiler);\r\n            return ResponseHandler.success(AlquilerResponse.from(alquiler));\r\n\r\n        } catch (IllegalArgumentException e) {\r\n            return ResponseHandler.badRequest(e.getMessage());\r\n        } catch (Exception e) {\r\n            return ResponseHandler.internalError();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;ALQUILERES&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Alquiler {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;ESTACION_DEVOLUCION&quot;)\r\n    private int estacionDevolucion;\r\n\r\n    @Column(name = &quot;ESTACION_RETIRO&quot;)\r\n    private int estacionRetiro;\r\n\r\n    @Column(name = &quot;ESTADO&quot;)\r\n    private int estado;\r\n\r\n    @Column(name = &quot;FECHA_HORA_DEVOLUCION&quot;)\r\n    private LocalDateTime horaDevolucion;\r\n\r\n    @Column(name = &quot;FECHA_HORA_RETIRO&quot;)\r\n    private LocalDateTime horaRetiro;\r\n\r\n    @Column(name = &quot;ID_CLIENTE&quot;)\r\n    private long idCliente;\r\n\r\n    @Column(name = &quot;MONTO&quot;)\r\n    private double monto;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ID_TARIFA&quot;)\r\n    private Tarifa tarifa;\r\n```\r\n\r\nThe service (note: definirTarifa works ok. It finds another entity):\r\n\r\n\r\n```java\r\n@Override\r\n    public Alquiler iniciarAlquiler(int idCliente, int estacionRetiroId) {\r\n\r\n        val estado = 1;\r\n\r\n        LocalDateTime fechaHoraRetiro = LocalDateTime.now();\r\n        val tarifa = definirTarifa(fechaHoraRetiro);\r\n\r\n        val newAlquiler = new Alquiler();\r\n        newAlquiler.setEstado(estado);\r\n        newAlquiler.setEstacionRetiro(estacionRetiroId);\r\n        //newAlquiler.setHoraRetiro(fechaHoraRetiro);\r\n        newAlquiler.setIdCliente(idCliente);\r\n        newAlquiler.setTarifa(tarifa);\r\n\r\n        return alquileresRepository.save(newAlquiler);\r\n    }\r\n```\r\n\r\n\r\n[The error](https://i.stack.imgur.com/gLt7B.png)\r\n[Database Structure](https://i.stack.imgur.com/iLkff.png)\r\n\r\n\r\nI&#39;m new to programming in general, in fact this is my first StackOverflow question. The class in which im learning this is not good, and I had to learn everything on my own basically. I barely know what i&#39;m doing. If you could also redirect me to some good resources for learning this or solving issues on my own i would really appreciate it.\r\n","title":"JpaRepository.save(entity) not working. SQLError 0, SQLState: null","body":"<p>I'm trying to make a POST endpoint on Java Spring with JPA, Lombok and Hibernate.</p>\n<p>I'll show you the code i have on the controller, the entity, the service and a screenshot of the error I have to see if you can help me.</p>\n<p>Sorry for the spanish on the code, it's for college.</p>\n<p>The controller with the POST request:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping\n    public ResponseEntity&lt;Object&gt; iniciarAlquiler(@RequestBody AlquilerRequest aRequest) {\n        try {\n            val alquiler = alquilerService.iniciarAlquiler(aRequest.getClienteId(), aRequest.getEstacionId());\n            System.out.println(alquiler);\n            return ResponseHandler.success(AlquilerResponse.from(alquiler));\n\n        } catch (IllegalArgumentException e) {\n            return ResponseHandler.badRequest(e.getMessage());\n        } catch (Exception e) {\n            return ResponseHandler.internalError();\n        }\n    }\n</code></pre>\n<p>The entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;ALQUILERES&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Alquiler {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private long id;\n\n    @Column(name = &quot;ESTACION_DEVOLUCION&quot;)\n    private int estacionDevolucion;\n\n    @Column(name = &quot;ESTACION_RETIRO&quot;)\n    private int estacionRetiro;\n\n    @Column(name = &quot;ESTADO&quot;)\n    private int estado;\n\n    @Column(name = &quot;FECHA_HORA_DEVOLUCION&quot;)\n    private LocalDateTime horaDevolucion;\n\n    @Column(name = &quot;FECHA_HORA_RETIRO&quot;)\n    private LocalDateTime horaRetiro;\n\n    @Column(name = &quot;ID_CLIENTE&quot;)\n    private long idCliente;\n\n    @Column(name = &quot;MONTO&quot;)\n    private double monto;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;ID_TARIFA&quot;)\n    private Tarifa tarifa;\n</code></pre>\n<p>The service (note: definirTarifa works ok. It finds another entity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Alquiler iniciarAlquiler(int idCliente, int estacionRetiroId) {\n\n        val estado = 1;\n\n        LocalDateTime fechaHoraRetiro = LocalDateTime.now();\n        val tarifa = definirTarifa(fechaHoraRetiro);\n\n        val newAlquiler = new Alquiler();\n        newAlquiler.setEstado(estado);\n        newAlquiler.setEstacionRetiro(estacionRetiroId);\n        //newAlquiler.setHoraRetiro(fechaHoraRetiro);\n        newAlquiler.setIdCliente(idCliente);\n        newAlquiler.setTarifa(tarifa);\n\n        return alquileresRepository.save(newAlquiler);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gLt7B.png\" rel=\"nofollow noreferrer\">The error</a>\n<a href=\"https://i.stack.imgur.com/iLkff.png\" rel=\"nofollow noreferrer\">Database Structure</a></p>\n<p>I'm new to programming in general, in fact this is my first StackOverflow question. The class in which im learning this is not good, and I had to learn everything on my own basically. I barely know what i'm doing. If you could also redirect me to some good resources for learning this or solving issues on my own i would really appreciate it.</p>\n"},{"tags":["java","intellij-idea","classloader","java-11"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":6,"creation_date":1547586320,"post_id":54205486,"comment_id":95240217,"body_markdown":"You are trying to use -Xbootclasspath/a and CDS (or AppCDS) at the same time. Can you run with -Xshare:off to disable CDS?","body":"You are trying to use -Xbootclasspath/a and CDS (or AppCDS) at the same time. Can you run with -Xshare:off to disable CDS?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1547611910,"post_id":54205486,"comment_id":95246675,"body_markdown":"Just a guess(since I saw something similar), you&#39;re using an IDE that&#39;s doing what Alan pointed out without you even being aware of it? Is that IntelliJ?","body":"Just a guess(since I saw something similar), you&#39;re using an IDE that&#39;s doing what Alan pointed out without you even being aware of it? Is that IntelliJ?"},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":2,"creation_date":1547643027,"post_id":54205486,"comment_id":95260459,"body_markdown":"Yes, this is IntelliJ","body":"Yes, this is IntelliJ"},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":21,"creation_date":1555886768,"post_id":54205486,"comment_id":98245186,"body_markdown":"Same problem in IntelliJ IDEA with Java 12.","body":"Same problem in IntelliJ IDEA with Java 12."},{"owner":{"account_id":16017211,"reputation":55,"user_id":11559590,"display_name":"zarez"},"score":6,"creation_date":1558917551,"post_id":54205486,"comment_id":99245730,"body_markdown":"This happened to me right after I switched to java 12, I did run with -Xshare:off and it worked fine too but What exactly this does, Could it be preventing something that I will need in future or anything bad might happen?","body":"This happened to me right after I switched to java 12, I did run with -Xshare:off and it worked fine too but What exactly this does, Could it be preventing something that I will need in future or anything bad might happen?"},{"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"score":2,"creation_date":1563533688,"post_id":54205486,"comment_id":100740979,"body_markdown":"can someone elaborate on this? Why it is happening and what is -Xbootclasspath/a and/or CDS (or AppCDS)?","body":"can someone elaborate on this? Why it is happening and what is -Xbootclasspath/a and/or CDS (or AppCDS)?"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1578154950,"post_id":54205486,"comment_id":105350280,"body_markdown":"Using JDK 13, @zarez&#39; solution works for me whereas disabling instrumenting agent doesn&#39;t","body":"Using JDK 13, @zarez&#39; solution works for me whereas disabling instrumenting agent doesn&#39;t"},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1685693696,"post_id":54205486,"comment_id":134699644,"body_markdown":"I have the same issue when running unit tests in IntelliJ IDEA, not only when debugging.","body":"I have the same issue when running unit tests in IntelliJ IDEA, not only when debugging."}],"answers":[{"comments":[{"owner":{"account_id":3543388,"reputation":1068,"user_id":2959943,"display_name":"Chris M"},"score":0,"creation_date":1668619109,"post_id":56365591,"comment_id":131451391,"body_markdown":"I know this is years later, but if you download a newer version of the dd-java-agent jar this error goes away","body":"I know this is years later, but if you download a newer version of the dd-java-agent jar this error goes away"},{"owner":{"account_id":3108406,"reputation":1530,"user_id":2630728,"accept_rate":56,"display_name":"Viks"},"score":1,"creation_date":1669676362,"post_id":56365591,"comment_id":131692501,"body_markdown":"I&#39;m still having issues with Bitrise. How can I fix it?","body":"I&#39;m still having issues with Bitrise. How can I fix it?"}],"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1559150059,"creation_date":1559150059,"answer_id":56365591,"question_id":54205486,"body_markdown":"For me, the issue occurred only when I ran in Docker, and when I used a java command line agent like the DataDog APM agent (`-javaagent:/dd-java-agent.jar`).\r\nWhen I ran in my JDK11 runtime environment (without the agent) I did not get the warnings.","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>For me, the issue occurred only when I ran in Docker, and when I used a java command line agent like the DataDog APM agent (<code>-javaagent:/dd-java-agent.jar</code>).\nWhen I ran in my JDK11 runtime environment (without the agent) I did not get the warnings.</p>\n"},{"tags":[],"owner":{"account_id":11664800,"reputation":171,"user_id":9796356,"display_name":"Zachary Daniel Ruffner"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1562034229,"creation_date":1562034229,"answer_id":56844527,"question_id":54205486,"body_markdown":"I had this issue after installing Java12 when trying to use the debugger with Intellij Idea. The solution that I found was to go into Setting and searching for async and unchecking the Instrumenting agent box. ","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>I had this issue after installing Java12 when trying to use the debugger with Intellij Idea. The solution that I found was to go into Setting and searching for async and unchecking the Instrumenting agent box. </p>\n"},{"comments":[{"owner":{"account_id":447020,"reputation":2430,"user_id":840405,"accept_rate":72,"display_name":"Samuel"},"score":26,"creation_date":1567588012,"post_id":56889868,"comment_id":102003621,"body_markdown":"Before you turn this off, read about the Async Stack Traces feature to see if it might not be useful for you: https://www.jetbrains.com/help/idea/async-stacktraces.html","body":"Before you turn this off, read about the Async Stack Traces feature to see if it might not be useful for you: <a href=\"https://www.jetbrains.com/help/idea/async-stacktraces.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/async-stacktraces.html</a>"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":6,"creation_date":1588080166,"post_id":56889868,"comment_id":108757440,"body_markdown":"In a nutshell: When a parent thread starts a child thread or process (certain &#39;capture points&#39;), a thread dump is made. When you break in the child thread, part of it&#39;s stack trace will be from the parent thread.","body":"In a nutshell: When a parent thread starts a child thread or process (certain &#39;capture points&#39;), a thread dump is made. When you break in the child thread, part of it&#39;s stack trace will be from the parent thread."},{"owner":{"account_id":2080269,"reputation":890,"user_id":1852397,"display_name":"cosic"},"score":2,"creation_date":1631270766,"post_id":56889868,"comment_id":122182991,"body_markdown":"How to disable the same settings on CI without GUI interface?","body":"How to disable the same settings on CI without GUI interface?"},{"owner":{"account_id":2080269,"reputation":890,"user_id":1852397,"display_name":"cosic"},"score":6,"creation_date":1631271102,"post_id":56889868,"comment_id":122183126,"body_markdown":"Without GUI you can disable it by option `-Xshare:off` for VM.","body":"Without GUI you can disable it by option <code>-Xshare:off</code> for VM."},{"owner":{"account_id":3108406,"reputation":1530,"user_id":2630728,"accept_rate":56,"display_name":"Viks"},"score":0,"creation_date":1669675280,"post_id":56889868,"comment_id":131692261,"body_markdown":"How can I fix this issue on Bitrise?","body":"How can I fix this issue on Bitrise?"}],"tags":[],"owner":{"account_id":8130851,"reputation":2004,"user_id":6124193,"display_name":"Dave"},"comment_count":5,"down_vote_count":2,"up_vote_count":185,"is_accepted":true,"score":183,"last_activity_date":1574344121,"creation_date":1562249861,"answer_id":56889868,"question_id":54205486,"body_markdown":"I had this issue too after installing `jdk-12.0.1_windows-x64_bin.zip` when trying to use the debugger with IntelliJ IDEA. I was getting an error of (**Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended**). I found, too, going into Setting and search for async and unchecking the Instrumenting agent box. Worked for me!\r\n[![ASYNC settings][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/0ZO6l.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>I had this issue too after installing <code>jdk-12.0.1_windows-x64_bin.zip</code> when trying to use the debugger with IntelliJ IDEA. I was getting an error of (<strong>Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended</strong>). I found, too, going into Setting and search for async and unchecking the Instrumenting agent box. Worked for me!\n<a href=\"https://i.stack.imgur.com/0ZO6l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0ZO6l.png\" alt=\"ASYNC settings\"></a></p>\n"},{"comments":[{"owner":{"account_id":26485,"reputation":58926,"user_id":68939,"display_name":"ax."},"score":2,"creation_date":1618956969,"post_id":57957031,"comment_id":118758975,"body_markdown":"I get this warning when [instrumenting my code with Azure Monitor Application Insights](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#quickstart), ie. when adding `-javaagent:path/to/applicationinsights-agent-3.0.3.jar` to my application&#39;s JVM args. Adding `-Xshare:off` gets rid of the warning (changing IntelliJ settings does NOT). Thanks!","body":"I get this warning when <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#quickstart\" rel=\"nofollow noreferrer\">instrumenting my code with Azure Monitor Application Insights</a>, ie. when adding <code>-javaagent:path&#47;to&#47;applicationinsights-agent-3.0.3.jar</code> to my application&#39;s JVM args. Adding <code>-Xshare:off</code> gets rid of the warning (changing IntelliJ settings does NOT). Thanks!"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":3,"creation_date":1666276855,"post_id":57957031,"comment_id":130902830,"body_markdown":"Using Gradle, the CLI still produced them. Adding `org.gradle.jvmargs=-Xshare:off` to `gradle.properties` resolved most of them.  However, I also had to modify the test tasks by adding `test { jvmArgs &quot;-Xshare:off&quot;; /* ... */ }` to the tests (Junit 5) in order to remove them entirely from the command line.","body":"Using Gradle, the CLI still produced them. Adding <code>org.gradle.jvmargs=-Xshare:off</code> to <code>gradle.properties</code> resolved most of them.  However, I also had to modify the test tasks by adding <code>test { jvmArgs &quot;-Xshare:off&quot;; &#47;* ... *&#47; }</code> to the tests (Junit 5) in order to remove them entirely from the command line."}],"tags":[],"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"comment_count":2,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1619015353,"creation_date":1568637344,"answer_id":57957031,"question_id":54205486,"body_markdown":"You can ignore this warning. It just means that class data sharing is disabled for classes not loaded by the bootstrap class loader.\r\n\r\nFrom [Improve Launch Times \\[…\\] With Application Class-Data Sharing][1]:\r\n\r\n&gt; The JVM loads some of the JDK classes with the bootstrap class loader\r\n&gt; and the rest with the system class loader, but includes all of them in\r\n&gt; its default archive. When IntelliJ executes your project, it tells the\r\n&gt; JVM to load some code with the bootstrap class loader by appending to\r\n&gt; that class path (second part of the message). Now, that means that the\r\n&gt; portion of the archive that contains classes loaded by the system\r\n&gt; class loader is potentially invalidated and so the JVM partially\r\n&gt; deactivates sharing (first part of the message).\r\n\r\nYou could disable class data sharing completely with `-Xshare:off`, but you would lose some performance.\r\n\r\n  [1]: https://nipafx.dev/java-application-class-data-sharing/","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>You can ignore this warning. It just means that class data sharing is disabled for classes not loaded by the bootstrap class loader.</p>\n<p>From <a href=\"https://nipafx.dev/java-application-class-data-sharing/\" rel=\"noreferrer\">Improve Launch Times […] With Application Class-Data Sharing</a>:</p>\n<blockquote>\n<p>The JVM loads some of the JDK classes with the bootstrap class loader\nand the rest with the system class loader, but includes all of them in\nits default archive. When IntelliJ executes your project, it tells the\nJVM to load some code with the bootstrap class loader by appending to\nthat class path (second part of the message). Now, that means that the\nportion of the archive that contains classes loaded by the system\nclass loader is potentially invalidated and so the JVM partially\ndeactivates sharing (first part of the message).</p>\n</blockquote>\n<p>You could disable class data sharing completely with <code>-Xshare:off</code>, but you would lose some performance.</p>\n"},{"tags":[],"owner":{"account_id":16967312,"reputation":1,"user_id":12272837,"display_name":"IL&#39;NAZ"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1571992752,"creation_date":1571992657,"answer_id":58555009,"question_id":54205486,"body_markdown":"Java version must be 9 or higher.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2AP4D.png\r\n\r\n","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Java version must be 9 or higher.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2AP4D.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":12867945,"reputation":75,"user_id":9403390,"display_name":"Sharm"},"score":1,"creation_date":1624910010,"post_id":59042172,"comment_id":120481481,"body_markdown":"Duplicate answer","body":"Duplicate answer"}],"tags":[],"owner":{"account_id":15691426,"reputation":87,"user_id":11322387,"display_name":"Mustafa"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1574729574,"creation_date":1574729574,"answer_id":59042172,"question_id":54205486,"body_markdown":"For Intellij IDE -&gt; Settings/Preferences dialog ( Ctrl+Alt+S ), go to Build | Execution | Deployment | Debugger | Async -&gt; uncheck instrumenting agent","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>For Intellij IDE -> Settings/Preferences dialog ( Ctrl+Alt+S ), go to Build | Execution | Deployment | Debugger | Async -> uncheck instrumenting agent</p>\n"},{"tags":[],"owner":{"account_id":18604767,"reputation":27,"user_id":13558663,"display_name":"Arthur Rees"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1599909087,"creation_date":1599909087,"answer_id":63859714,"question_id":54205486,"body_markdown":"Today I found the same question as you.\r\nSituation: debug while set no breakpoint\r\nSolution: set at least one breakpoint before you click debug button!","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Today I found the same question as you.\nSituation: debug while set no breakpoint\nSolution: set at least one breakpoint before you click debug button!</p>\n"},{"comments":[{"owner":{"account_id":16046805,"reputation":334,"user_id":11581725,"display_name":"leiflundberg"},"score":0,"creation_date":1632906530,"post_id":65632066,"comment_id":122617004,"body_markdown":"For my case I am using Java 11 but was accidentally on jdk14, so this helped! To change: File -&gt; Project Structure -&gt; Project SDK","body":"For my case I am using Java 11 but was accidentally on jdk14, so this helped! To change: File -&gt; Project Structure -&gt; Project SDK"}],"tags":[],"owner":{"account_id":16774134,"reputation":17,"user_id":12125909,"display_name":"Ascar"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1610256720,"creation_date":1610120442,"answer_id":65632066,"question_id":54205486,"body_markdown":"If it is not critical you can change your jdk version. I&#39;ve changed from jdk14 to jdk 11. Hope it will work for you.","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>If it is not critical you can change your jdk version. I've changed from jdk14 to jdk 11. Hope it will work for you.</p>\n"},{"tags":[],"owner":{"account_id":8888700,"reputation":543,"user_id":6636122,"display_name":"BertKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639211078,"creation_date":1610507424,"answer_id":65695140,"question_id":54205486,"body_markdown":"![Operation guide][1]\r\n\r\n1.Open the **Preferences** option;\r\n\r\n2.Find the **Build,Execution,Deployment** option; \r\n\r\n3.Enter the **Debugger --&gt; Async Stack Traces** ;\r\n\r\n4.Uncheck the **Instrumenting agent(requires debugger restart)** ;\r\n\r\n---\r\n\r\nPlease see this [for detailed information](https://www.jetbrains.com/help/idea/async-stacktraces.html).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o74bX.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p><img src=\"https://i.stack.imgur.com/o74bX.png\" alt=\"Operation guide\" /></p>\n<p>1.Open the <strong>Preferences</strong> option;</p>\n<p>2.Find the <strong>Build,Execution,Deployment</strong> option;</p>\n<p>3.Enter the <strong>Debugger --&gt; Async Stack Traces</strong> ;</p>\n<p>4.Uncheck the <strong>Instrumenting agent(requires debugger restart)</strong> ;</p>\n<hr />\n<p>Please see this <a href=\"https://www.jetbrains.com/help/idea/async-stacktraces.html\" rel=\"nofollow noreferrer\">for detailed information</a>.</p>\n"},{"tags":[],"owner":{"account_id":21319305,"reputation":1,"user_id":15692724,"display_name":"listenuptome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626353126,"creation_date":1626353126,"answer_id":68394104,"question_id":54205486,"body_markdown":"Got same problem, and tried to solve it as was written above. \r\n\r\nBut then i got another solution of problem without changing settings.\r\n\r\nPress mouse right button on your file where you put break point and want to debug. Then choose &quot;Debug *ur file name.method()*&quot;.\r\n\r\nDon&#39;t use debug button from tools window. Seems the problem is that Idea can&#39;t understand which file u want to debug.\r\n\r\nThat worked for me without changing async settings.\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zfi0A.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Got same problem, and tried to solve it as was written above.</p>\n<p>But then i got another solution of problem without changing settings.</p>\n<p>Press mouse right button on your file where you put break point and want to debug. Then choose &quot;Debug <em>ur file name.method()</em>&quot;.</p>\n<p>Don't use debug button from tools window. Seems the problem is that Idea can't understand which file u want to debug.</p>\n<p>That worked for me without changing async settings.</p>\n<p><a href=\"https://i.stack.imgur.com/Zfi0A.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661420942,"creation_date":1661420942,"answer_id":73485414,"question_id":54205486,"body_markdown":"Given this warning in IntelliJ is harmless (see https://stackoverflow.com/a/57957031/779173) you could just hide the line from your Console view by right-clicking on the line and selecting &quot;Fold Lines Like This&quot;\r\n\r\nHaving done this, you&#39;ll just see:\r\n\r\n```none\r\n&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; ... &lt;1 internal line&gt;\r\n```","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Given this warning in IntelliJ is harmless (see <a href=\"https://stackoverflow.com/a/57957031/779173\">https://stackoverflow.com/a/57957031/779173</a>) you could just hide the line from your Console view by right-clicking on the line and selecting &quot;Fold Lines Like This&quot;</p>\n<p>Having done this, you'll just see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; ... &lt;1 internal line&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151210,"creation_date":1700151210,"answer_id":77496400,"question_id":54205486,"body_markdown":"Using gradle, you can turn sharing off:\r\n\r\n    tasks.test {\r\n        //kotlin\r\n        jvmArgs = listOf(&quot;-Xshare:off&quot;)\r\n        //groovy\r\n        jvmArgs &quot;-Xshare:off&#39;&quot;;\r\n    }","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Using gradle, you can turn sharing off:</p>\n<pre><code>tasks.test {\n    //kotlin\n    jvmArgs = listOf(&quot;-Xshare:off&quot;)\n    //groovy\n    jvmArgs &quot;-Xshare:off'&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211657,"favorite_count":0,"down_vote_count":0,"up_vote_count":191,"accepted_answer_id":56889868,"answer_count":12,"score":191,"last_activity_date":1700151210,"creation_date":1547579905,"question_id":54205486,"body_markdown":"Recently I switched to the Java 11 and start to debug my app and saw this message:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot\r\n&gt; loader classes because bootstrap classpath has been appended\r\n\r\nFound only [this commit][1] and [ticket][2], but it doesn&#39;t tell me much. \r\n\r\nDo I need to worry about it?\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk/jdk/rev/18fba780c1d1\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8203031","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Recently I switched to the Java 11 and start to debug my app and saw this message:</p>\n\n<blockquote>\n  <p>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot\n  loader classes because bootstrap classpath has been appended</p>\n</blockquote>\n\n<p>Found only <a href=\"http://hg.openjdk.java.net/jdk/jdk/rev/18fba780c1d1\" rel=\"noreferrer\">this commit</a> and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8203031\" rel=\"noreferrer\">ticket</a>, but it doesn't tell me much. </p>\n\n<p>Do I need to worry about it?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":5742767,"reputation":9245,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1700151662,"post_id":77496394,"comment_id":136622047,"body_markdown":"This is a documented behaviour from elasticsearch : https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#terms-agg-doc-count-error","body":"This is a documented behaviour from elasticsearch : <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#terms-agg-doc-count-error\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1700153291,"post_id":77496394,"comment_id":136622364,"body_markdown":"Do you mind sharing the raw result of the aggregation query with two different counts?","body":"Do you mind sharing the raw result of the aggregation query with two different counts?"}],"owner":{"account_id":17302009,"reputation":115,"user_id":12531578,"display_name":"DanTe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700151179,"creation_date":1700151179,"question_id":77496394,"body_markdown":"I&#39;m encountering an issue with Elasticsearch version &quot;8.4.1&quot; in a dashboard that displays current active users, new users, and the total number of messages. \r\nThe data is tracked for the past two months, from May to August.\r\n\r\nThe problem lies in the inconsistency of the new users count. For instance, in July, the count was `1902`, but upon retesting yesterday, it&#39;s showing `1903`. The same inconsistency is observed in August, where the count was `3894`, but now it&#39;s `3899`.\r\n\r\nThe other counts are consistent(total messages, active users).  \r\nI&#39;m using the same logic to retrieve active users count, with the only difference being the field used for the date range. I use `created_date` for new users and `dateTime` for active users. Both fields are of the same type:\r\n\r\n    &quot;created_date&quot;: {\r\n    &quot;type&quot;: &quot;date_nanos&quot;,\r\n    &quot;store&quot;: true,\r\n    &quot;format&quot;: &quot;date_optional_time&quot; }\r\n\r\nBelow is the Java code snippet I&#39;m using to fetch the new users count:\r\n\r\n    private Terms getNewUsersTerms(Integer botId, String from, String to) {\r\n    try {\r\n        RestHighLevelClient client = getElasticClient(botId);\r\n\r\n        AggregationBuilder aggregationBuilder = AggregationBuilders.terms(&quot;uniqueIds&quot;).field(&quot;currentState.user.id&quot;).size(Integer.MAX_VALUE);\r\n\r\n        QueryBuilder queryBuilder = QueryBuilders.boolQuery()\r\n            .must(QueryBuilders.matchAllQuery())\r\n            .filter(QueryBuilders.rangeQuery(&quot;currentState.created_date&quot;).gte(&quot;2023-08-01&quot;).lte(&quot;2023-08-31&quot;));\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n            .aggregation(aggregationBuilder)\r\n            .query(queryBuilder).size(0);\r\n\r\n        SearchRequest searchRequest = new SearchRequest(botId + INDEX_POSTFIX)\r\n            .source(searchSourceBuilder);\r\n\r\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n        return searchResponse.getAggregations().get(&quot;uniqueIds&quot;);\r\n    } catch (Exception e) {\r\n        logger.warn(e.getMessage(), e);\r\n        return null;\r\n    }}\r\n\r\nI&#39;m seeking guidance on what might be missing in my approach and what steps I can take to identify and resolve this inconsistency issue. Any help would be greatly appreciated!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Inconsistent Results for New Users Count in Elasticsearch Dashboard","body":"<p>I'm encountering an issue with Elasticsearch version &quot;8.4.1&quot; in a dashboard that displays current active users, new users, and the total number of messages.\nThe data is tracked for the past two months, from May to August.</p>\n<p>The problem lies in the inconsistency of the new users count. For instance, in July, the count was <code>1902</code>, but upon retesting yesterday, it's showing <code>1903</code>. The same inconsistency is observed in August, where the count was <code>3894</code>, but now it's <code>3899</code>.</p>\n<p>The other counts are consistent(total messages, active users).<br />\nI'm using the same logic to retrieve active users count, with the only difference being the field used for the date range. I use <code>created_date</code> for new users and <code>dateTime</code> for active users. Both fields are of the same type:</p>\n<pre><code>&quot;created_date&quot;: {\n&quot;type&quot;: &quot;date_nanos&quot;,\n&quot;store&quot;: true,\n&quot;format&quot;: &quot;date_optional_time&quot; }\n</code></pre>\n<p>Below is the Java code snippet I'm using to fetch the new users count:</p>\n<pre><code>private Terms getNewUsersTerms(Integer botId, String from, String to) {\ntry {\n    RestHighLevelClient client = getElasticClient(botId);\n\n    AggregationBuilder aggregationBuilder = AggregationBuilders.terms(&quot;uniqueIds&quot;).field(&quot;currentState.user.id&quot;).size(Integer.MAX_VALUE);\n\n    QueryBuilder queryBuilder = QueryBuilders.boolQuery()\n        .must(QueryBuilders.matchAllQuery())\n        .filter(QueryBuilders.rangeQuery(&quot;currentState.created_date&quot;).gte(&quot;2023-08-01&quot;).lte(&quot;2023-08-31&quot;));\n\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n        .aggregation(aggregationBuilder)\n        .query(queryBuilder).size(0);\n\n    SearchRequest searchRequest = new SearchRequest(botId + INDEX_POSTFIX)\n        .source(searchSourceBuilder);\n\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n    return searchResponse.getAggregations().get(&quot;uniqueIds&quot;);\n} catch (Exception e) {\n    logger.warn(e.getMessage(), e);\n    return null;\n}}\n</code></pre>\n<p>I'm seeking guidance on what might be missing in my approach and what steps I can take to identify and resolve this inconsistency issue. Any help would be greatly appreciated!</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":1844797,"reputation":57363,"user_id":1673391,"accept_rate":88,"display_name":"Grijesh Chauhan"},"score":1,"creation_date":1371308952,"post_id":17124992,"comment_id":24780329,"body_markdown":"`x` is a char and Unicode value of `&#39;B&#39;` = Unicode value of `&#39;A&#39;` + 1","body":"<code>x</code> is a char and Unicode value of <code>&#39;B&#39;</code> = Unicode value of <code>&#39;A&#39;</code> + 1"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1371308958,"post_id":17124992,"comment_id":24780331,"body_markdown":"You are adding the int to the ASCII code of the char, not to the char itself.","body":"You are adding the int to the ASCII code of the char, not to the char itself."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":7,"creation_date":1371309180,"post_id":17124992,"comment_id":24780387,"body_markdown":"I wish we can get rid of the term _ASCII_ in the context of Java.  Java has been around since 1995 and has been using Unicode the whole time. #Grumpymorning.","body":"I wish we can get rid of the term <i>ASCII</i> in the context of Java.  Java has been around since 1995 and has been using Unicode the whole time. #Grumpymorning."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1371310982,"post_id":17124992,"comment_id":24780811,"body_markdown":"Try this one `x *= 1.1;` which compiles too. ;)","body":"Try this one <code>x *= 1.1;</code> which compiles too. ;)"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":2,"creation_date":1371369492,"post_id":17124992,"comment_id":24791315,"body_markdown":"The quoted program does not compile. It has two errors, a missing &quot;;&quot;, and the need to cast the result of the increment back to char.","body":"The quoted program does not compile. It has two errors, a missing &quot;;&quot;, and the need to cast the result of the increment back to char."},{"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"score":1,"creation_date":1411844407,"post_id":17124992,"comment_id":40860582,"body_markdown":"This code will give error about `possible loss of precision`.","body":"This code will give error about <code>possible loss of precision</code>."}],"answers":[{"comments":[{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":3,"creation_date":1371309097,"post_id":17125001,"comment_id":24780365,"body_markdown":"What?!? Not _one_ byte.  Please check the Java definition.","body":"What?!? Not <i>one</i> byte.  Please check the Java definition."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1371309370,"post_id":17125001,"comment_id":24780438,"body_markdown":"It does _not_ work like a 16bit int. `char` is unsigned, `short` is not.","body":"It does <i>not</i> work like a 16bit int. <code>char</code> is unsigned, <code>short</code> is not."},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":0,"creation_date":1371309596,"post_id":17125001,"comment_id":24780492,"body_markdown":"Thank you for your input to improving the answer.","body":"Thank you for your input to improving the answer."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1371309685,"post_id":17125001,"comment_id":24780510,"body_markdown":"@fge +1.  To anyone interested: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.1","body":"@fge +1.  To anyone interested: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2&zwnj;&#8203;.1</a>"}],"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371309314,"creation_date":1371308934,"answer_id":17125001,"question_id":17124992,"body_markdown":"Because type char effectively works like a 16-bit unsigned int. \r\n\r\nSo setting `char x=&#39;A&#39;` is almost equivalent to `int x=65`  When you add one; you get 66; or ASCII &#39;B&#39;.","title":"Incrementing Char Type In Java","body":"<p>Because type char effectively works like a 16-bit unsigned int. </p>\n\n<p>So setting <code>char x='A'</code> is almost equivalent to <code>int x=65</code>  When you add one; you get 66; or ASCII 'B'.</p>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371309323,"creation_date":1371308938,"answer_id":17125002,"question_id":17124992,"body_markdown":"`char` _is_ a numeric type (2 bytes long), and is also the only unsigned numeric primitive type in Java.\r\n\r\nYou can also do:\r\n\r\n    int foo = &#39;A&#39;;\r\n\r\nWhat is special here is that you initialize the `char` with a _character constant_ instead of a number. What is also special about it is its string representation, as you could witness. You can use `Character.digit(c, 10)` to get its numeric value (as an `int`, since 2 ^ 16 - 1 is not representable by a `short`!).","title":"Incrementing Char Type In Java","body":"<p><code>char</code> <em>is</em> a numeric type (2 bytes long), and is also the only unsigned numeric primitive type in Java.</p>\n\n<p>You can also do:</p>\n\n<pre><code>int foo = 'A';\n</code></pre>\n\n<p>What is special here is that you initialize the <code>char</code> with a <em>character constant</em> instead of a number. What is also special about it is its string representation, as you could witness. You can use <code>Character.digit(c, 10)</code> to get its numeric value (as an <code>int</code>, since 2 ^ 16 - 1 is not representable by a <code>short</code>!).</p>\n"},{"comments":[{"owner":{"account_id":11051354,"reputation":556,"user_id":8149906,"display_name":"Ankit Garg"},"score":0,"creation_date":1621636420,"post_id":17125003,"comment_id":119564977,"body_markdown":"Thanks for mentioning about implicit narrowing conversion.","body":"Thanks for mentioning about implicit narrowing conversion."}],"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":1,"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1488826761,"creation_date":1371308941,"answer_id":17125003,"question_id":17124992,"body_markdown":"In Java, `char` is a numeric type. When you add `1` to a `char`, you get to the next [*unicode code point*][1]. In case of `&#39;A&#39;`, the next code point is `&#39;B&#39;`:\r\n\r\n    char x=&#39;A&#39;;\r\n    x+=1;\r\n    System.out.println(x);\r\n\r\nNote that you cannot use `x=x+1` because it causes an implicit narrowing conversion. You need to use either `x++` or `x+=1` instead.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Code_point","title":"Incrementing Char Type In Java","body":"<p>In Java, <code>char</code> is a numeric type. When you add <code>1</code> to a <code>char</code>, you get to the next <a href=\"http://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\"><em>unicode code point</em></a>. In case of <code>'A'</code>, the next code point is <code>'B'</code>:</p>\n\n<pre><code>char x='A';\nx+=1;\nSystem.out.println(x);\n</code></pre>\n\n<p>Note that you cannot use <code>x=x+1</code> because it causes an implicit narrowing conversion. You need to use either <code>x++</code> or <code>x+=1</code> instead.</p>\n"},{"tags":[],"owner":{"display_name":"user1300630"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460222861,"creation_date":1371308945,"answer_id":17125004,"question_id":17124992,"body_markdown":"Each `char` has a character code. The computer sees a character as an unsigned number, so you can increment it.","title":"Incrementing Char Type In Java","body":"<p>Each <code>char</code> has a character code. The computer sees a character as an unsigned number, so you can increment it.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371308970,"creation_date":1371308970,"answer_id":17125010,"question_id":17124992,"body_markdown":"A `char` in Java is just an integer number, so it&#39;s ok to increment/decrement it. Each char number has a corresponding value, an _interpretation_ of it as a character, by virtue of a conversion table: be it the ASCII encoding, or the UTF-8 encoding, etc.\r\n\r\nCome to think of it, every data in a computer - images, music, programs, etc. are just numbers. A simple character is no exception, it&#39;s _encoded_ or _codified_ as a number, too.","title":"Incrementing Char Type In Java","body":"<p>A <code>char</code> in Java is just an integer number, so it's ok to increment/decrement it. Each char number has a corresponding value, an <em>interpretation</em> of it as a character, by virtue of a conversion table: be it the ASCII encoding, or the UTF-8 encoding, etc.</p>\n\n<p>Come to think of it, every data in a computer - images, music, programs, etc. are just numbers. A simple character is no exception, it's <em>encoded</em> or <em>codified</em> as a number, too.</p>\n"},{"tags":[],"owner":{"account_id":2644552,"reputation":4952,"user_id":2287538,"accept_rate":62,"display_name":"Rahul Bobhate"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371309240,"creation_date":1371309240,"answer_id":17125050,"question_id":17124992,"body_markdown":"`char` are stored as 2 byte unicode values in Java. So if `char x = &#39;A&#39;`, it means that `A` is stored in the unicode format. And in unicode format, every character is represented as an integer. So when you say `x= x+1`, it actually increments the unicode value of the `A`, which prints `B`.","title":"Incrementing Char Type In Java","body":"<p><code>char</code> are stored as 2 byte unicode values in Java. So if <code>char x = 'A'</code>, it means that <code>A</code> is stored in the unicode format. And in unicode format, every character is represented as an integer. So when you say <code>x= x+1</code>, it actually increments the unicode value of the <code>A</code>, which prints <code>B</code>.</p>\n"},{"tags":[],"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371309659,"creation_date":1371309246,"answer_id":17125052,"question_id":17124992,"body_markdown":"\r\n\r\n\r\n\r\nThis is the equivalent program of your program:\r\n\r\n    public class Tester {\r\n        public static void main(String args[]){\r\n    \t\t     char start=&#39;\\u0041&#39;;\r\n    \t\t     char next=&#39;\\u0041&#39;+1;\r\n    \t\t     System.out.println(next);\r\n    \t}\r\n    }\r\n\r\nBut as you see, `next=start+1`, will not work. That&#39;s the way java handles. \r\n\r\nThe reason could be that we may accidentally use `start`, with integer `1` thinking that `start` is an `int` variables and use that expression. Since, java is so strict about minimizing logical errors. They designed it that way I think.\r\n\r\nBut, when you do, `char next=&#39;\\u0041&#39;+1;` it&#39;s clear that `&#39;\\u0041&#39;` is a character and `1` will be implicitly converted into a 2 byte. This no mistake could be done by a programmer. May be that&#39;s the reason they have allowed it.\r\n\r\n`char` is 2 bytes in java. `char` supports `unicode` characters. When you add or subtract a char var with an offset integer, the equivalent `unicode` character in the unicode table will result. Since, `B` is next to `A`, you got `B`.\r\n       \r\n","title":"Incrementing Char Type In Java","body":"<p>This is the equivalent program of your program:</p>\n\n<pre><code>public class Tester {\n    public static void main(String args[]){\n             char start='\\u0041';\n             char next='\\u0041'+1;\n             System.out.println(next);\n    }\n}\n</code></pre>\n\n<p>But as you see, <code>next=start+1</code>, will not work. That's the way java handles. </p>\n\n<p>The reason could be that we may accidentally use <code>start</code>, with integer <code>1</code> thinking that <code>start</code> is an <code>int</code> variables and use that expression. Since, java is so strict about minimizing logical errors. They designed it that way I think.</p>\n\n<p>But, when you do, <code>char next='\\u0041'+1;</code> it's clear that <code>'\\u0041'</code> is a character and <code>1</code> will be implicitly converted into a 2 byte. This no mistake could be done by a programmer. May be that's the reason they have allowed it.</p>\n\n<p><code>char</code> is 2 bytes in java. <code>char</code> supports <code>unicode</code> characters. When you add or subtract a char var with an offset integer, the equivalent <code>unicode</code> character in the unicode table will result. Since, <code>B</code> is next to <code>A</code>, you got <code>B</code>.</p>\n"},{"comments":[{"owner":{"account_id":2870572,"reputation":487,"user_id":2464018,"accept_rate":100,"display_name":"Mahesh Nadar"},"score":0,"creation_date":1371311203,"post_id":17125079,"comment_id":24780867,"body_markdown":"thanks for the link now i understood that java sees char as a number","body":"thanks for the link now i understood that java sees char as a number"}],"tags":[],"owner":{"account_id":2775794,"reputation":869,"user_id":2389405,"accept_rate":100,"display_name":"RvanHeest"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371309443,"creation_date":1371309443,"answer_id":17125079,"question_id":17124992,"body_markdown":"A `char` is in fact mapped to an `int`, look at the [Ascii Table][1].\r\n\r\nFor example: a capital A corresponds to the decimal number 65. When you are adding 1 to that `char`, you basicly increment the decimal number by 1. So the number becomes 66, which corresponds to the capital B.\r\n\r\n\r\n  [1]: http://www.asciitable.com/","title":"Incrementing Char Type In Java","body":"<p>A <code>char</code> is in fact mapped to an <code>int</code>, look at the <a href=\"http://www.asciitable.com/\" rel=\"noreferrer\">Ascii Table</a>.</p>\n\n<p>For example: a capital A corresponds to the decimal number 65. When you are adding 1 to that <code>char</code>, you basicly increment the decimal number by 1. So the number becomes 66, which corresponds to the capital B.</p>\n"},{"tags":[],"owner":{"account_id":6334513,"reputation":51,"user_id":4918360,"display_name":"Omar Aldawud"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457125289,"creation_date":1457125289,"answer_id":35805945,"question_id":17124992,"body_markdown":"you have to type cast the result after adding using parenthesis like this:\r\n\r\n    x=&#39;A&#39;;\r\n    x = (char) (x+1);\r\n\r\nelse you will get loose of data error.\r\n","title":"Incrementing Char Type In Java","body":"<p>you have to type cast the result after adding using parenthesis like this:</p>\n\n<pre><code>x='A';\nx = (char) (x+1);\n</code></pre>\n\n<p>else you will get loose of data error.</p>\n"},{"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582688598,"creation_date":1582688598,"answer_id":60406423,"question_id":17124992,"body_markdown":"in case you want it to be just a-z.\r\n\r\n    private char getNextChar(char c) {\r\n        return (char)((c + 1 - &#39;a&#39;) % (&#39;z&#39; - &#39;a&#39; + 1) + &#39;a&#39;);\r\n    }\r\nthis avoids it overflows.","title":"Incrementing Char Type In Java","body":"<p>in case you want it to be just a-z.</p>\n\n<pre><code>private char getNextChar(char c) {\n    return (char)((c + 1 - 'a') % ('z' - 'a' + 1) + 'a');\n}\n</code></pre>\n\n<p>this avoids it overflows.</p>\n"},{"tags":[],"owner":{"account_id":26678706,"reputation":1,"user_id":20288971,"display_name":"Darkrai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700150825,"creation_date":1693056919,"answer_id":76983212,"question_id":17124992,"body_markdown":"In some languages such as Java, the characters are converted into integers based on their ASCII values. Therefore such operations can be performed.\r\n \r\n```java\r\nchar inp =&#39;A&#39;;\r\ninp +=1;\r\nSystem.out.println(inp);     //Output = B\r\n```\r\n","title":"Incrementing Char Type In Java","body":"<p>In some languages such as Java, the characters are converted into integers based on their ASCII values. Therefore such operations can be performed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char inp ='A';\ninp +=1;\nSystem.out.println(inp);     //Output = B\n</code></pre>\n"}],"owner":{"account_id":2870572,"reputation":487,"user_id":2464018,"accept_rate":100,"display_name":"Mahesh Nadar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124166,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":17125003,"answer_count":11,"score":36,"last_activity_date":1700150825,"creation_date":1371308808,"question_id":17124992,"body_markdown":"While practicing Java I randomly came up with this:\r\n\r\n    class test\r\n    {\r\n        public static void main(String arg[])\r\n        {\r\n            char x=&#39;A&#39;;\r\n            x=x+1;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nI thought it will throw an error because we can&#39;t add the numeric value `1` to the letter `A` in mathematics, but the following program runs correctly and prints \r\n\r\n    B \r\n\r\nHow is that possible?","title":"Incrementing Char Type In Java","body":"<p>While practicing Java I randomly came up with this:</p>\n\n<pre><code>class test\n{\n    public static void main(String arg[])\n    {\n        char x='A';\n        x=x+1;\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>I thought it will throw an error because we can't add the numeric value <code>1</code> to the letter <code>A</code> in mathematics, but the following program runs correctly and prints </p>\n\n<pre><code>B \n</code></pre>\n\n<p>How is that possible?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700170151,"post_id":77496314,"comment_id":136625084,"body_markdown":"It seems that your function getImageWithMeasures(boolean, boolean) is taking a long time to be executed and return a bitmap - try to run it in worker thread and send result to main thread, and while it will be executed you can show some progress bar - so the user can understand that there is some action is being processed\nYou can do that with RxJava - Coroutines (in Kotlin) \\","body":"It seems that your function getImageWithMeasures(boolean, boolean) is taking a long time to be executed and return a bitmap - try to run it in worker thread and send result to main thread, and while it will be executed you can show some progress bar - so the user can understand that there is some action is being processed You can do that with RxJava - Coroutines (in Kotlin) \\"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700150481,"creation_date":1700150481,"question_id":77496314,"body_markdown":"I have an ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on the following line of code :\r\n\r\n     paint.getTextBounds(text, 0, text.length(), bounds);\r\n\r\nThis line of code is executed in the method getImageWithMeasures launched like this:\r\n\r\n     HelloArActivity.this.runOnUiThread(new Runnable() {\r\n    \r\n                    public void run() {\r\n    \r\n    \r\n                        Bitmap bm = getImageWithMeasures(true, true);\r\n\r\n\r\nI think that this ANR makes my app crashing.\r\n\r\nAny idea how to solve this issue?\r\n\r\nThanks !","title":"Android: ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on paint.getTextBounds","body":"<p>I have an ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on the following line of code :</p>\n<pre><code> paint.getTextBounds(text, 0, text.length(), bounds);\n</code></pre>\n<p>This line of code is executed in the method getImageWithMeasures launched like this:</p>\n<pre><code> HelloArActivity.this.runOnUiThread(new Runnable() {\n\n                public void run() {\n\n\n                    Bitmap bm = getImageWithMeasures(true, true);\n</code></pre>\n<p>I think that this ANR makes my app crashing.</p>\n<p>Any idea how to solve this issue?</p>\n<p>Thanks !</p>\n"},{"tags":["java","gradle","build","fortify","jstack"],"comments":[{"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"score":0,"creation_date":1579026280,"post_id":59739523,"comment_id":105627921,"body_markdown":"Another tidbit I discovered is the gradle build integrated with Fortify runs successfully on a windows machine but not on a linux machine.","body":"Another tidbit I discovered is the gradle build integrated with Fortify runs successfully on a windows machine but not on a linux machine."},{"owner":{"account_id":1259154,"reputation":2738,"user_id":1236128,"accept_rate":86,"display_name":"Jonathan Komar"},"score":0,"creation_date":1593423873,"post_id":59739523,"comment_id":110766215,"body_markdown":"Same issue using the `nebula.rpm` plugin.","body":"Same issue using the <code>nebula.rpm</code> plugin."},{"owner":{"account_id":215206,"reputation":1447,"user_id":469679,"accept_rate":67,"display_name":"Federico Nafria"},"score":1,"creation_date":1604436542,"post_id":59739523,"comment_id":114346697,"body_markdown":"Do you by any chance have `GRADLE_HOME` directory on nfs?","body":"Do you by any chance have <code>GRADLE_HOME</code> directory on nfs?"},{"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"score":0,"creation_date":1605012707,"post_id":59739523,"comment_id":114517841,"body_markdown":"Didn&#39;t get what you meant by nfs. But I did add the GRADLE_HOME to the path variable in Win 10 and my linux box.","body":"Didn&#39;t get what you meant by nfs. But I did add the GRADLE_HOME to the path variable in Win 10 and my linux box."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665243890,"post_id":59739523,"comment_id":130656505,"body_markdown":"any chance you have lower memory and cpu configuration at your linux machine than your windows one?\nyou can check cpu usage and memory usage on linux machine if there is any contention.","body":"any chance you have lower memory and cpu configuration at your linux machine than your windows one? you can check cpu usage and memory usage on linux machine if there is any contention."},{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1700154885,"post_id":59739523,"comment_id":136622672,"body_markdown":"Simplify your run by disabling gradle daemon as well as caching. Does --no-daemon and --no-build-cache options make any difference?","body":"Simplify your run by disabling gradle daemon as well as caching. Does --no-daemon and --no-build-cache options make any difference?"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700150404,"creation_date":1700150404,"answer_id":77496304,"question_id":59739523,"body_markdown":"So the thread dump is really a tool for the developer(s) to look at.  Users (even other software developers like you and me) wouldn&#39;t be able to really debug the issue from it without knowing the code base. It&#39;s good that you included it so if a more knowledgeable person comes along they could give us some insight. \r\n\r\nThat being said if you&#39;ve used the thread dump before in your own projects you can begin to see what might be happening.  Again I&#39;m not a gradle dev so take this with a grain of salt.  But essentially we&#39;re really only interested in threads with a state of `WAITING (on object monitor)`.  And there are only 4 of those.  `Finalizer`, `Common Cleaner`, `Daemon #20` and an Execution Worker.  `Finalizer` and `Common Cleaner` aren&#39;t doing any work so they can be ignored.  The `Daemon #20` seems to be a gradle daemon thread that kicked off the gradle script so it&#39;s just waiting for the script to finish which is expected.  So that leaves the Execution Worker which looks like this:\r\n\r\n```\r\n&quot;Execution worker for &#39;:&#39;&quot; #42 prio=5 os_prio=0 cpu=2818.31ms elapsed=196.05s tid=0x00007f9358702800 nid=0x16cfe in Object.wait()  [0x00007f93428f1000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(java.base@11.0.5/Native Method)\r\n\t- waiting on &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\r\n\tat java.lang.Object.wait(java.base@11.0.5/Object.java:328)\r\n\tat java.lang.ProcessImpl.waitFor(java.base@11.0.5/ProcessImpl.java:495)\r\n\t- waiting to re-lock in wait() &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@11.0.5/Native Method)\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@11.0.5/NativeMethodAccessorImpl.java:62)\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.5/DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(java.base@11.0.5/Method.java:566)\r\n```\r\n\r\nThe interesting part is `java.lang.ProcessImpl.waitFor` so it appears that gradle is just waiting for an external process to finish.  This doesn&#39;t appear to be a deadlock situation or any exotic locking issue which is good news.  Basically the HP tool is just running and not finishing.  And suddenly `halting problem` becomes all too real.  Is it going to finish or is it hung?  We can&#39;t know.\r\n\r\nBut what I&#39;d do is look at the `top` output on Linux, and find the process that gradle kicked off (ie the HP process).  Is the CPU usage bouncing around for that process?  Then maybe it&#39;s just doing stuff that takes a while, be patient, let it run, and see if it finishes.  If it&#39;s not running then you got a bigger problem.  I bet that on Linux the HPI software is trying to scan something that it shouldn&#39;t, and maybe this a config issue or difference between Linux vs Windows.  Total speculation, but just my gut feel on this.\r\n\r\nWhat my next move might be would be to see if I can manually run the tool on Linux outside of gradle.  What we found from the dump is that gradle doesn&#39;t seem to be contributing to the issue so let&#39;s isolate the HP tool and see if we can get more error messages or something from it.  Some things to consider:\r\n\r\n - Is gradle giving it enough memory to run?  If the executable you run manually is different than Gradle&#39;s it could be a difference in configuration in Linux vs Windows possibly.\r\n - Is there a gradle plugin for the HP tool involved and is there some config option you need to configure on Linux?\r\n - Is there enough available memory for the HP tool AND gradle to run on the Linux box?  Maybe your linux boxes upper memory limit is different than your Windows box.  If you can spin up a bigger box maybe that&#39;ll fix Linux.\r\n\r\nI don&#39;t have a complete answer today for you so just a strategy for you to figure this one out.  Good luck.","title":"Gradle build stuck at &quot;Waiting to acquire shared lock on daemon addresses registry.&quot;","body":"<p>So the thread dump is really a tool for the developer(s) to look at.  Users (even other software developers like you and me) wouldn't be able to really debug the issue from it without knowing the code base. It's good that you included it so if a more knowledgeable person comes along they could give us some insight.</p>\n<p>That being said if you've used the thread dump before in your own projects you can begin to see what might be happening.  Again I'm not a gradle dev so take this with a grain of salt.  But essentially we're really only interested in threads with a state of <code>WAITING (on object monitor)</code>.  And there are only 4 of those.  <code>Finalizer</code>, <code>Common Cleaner</code>, <code>Daemon #20</code> and an Execution Worker.  <code>Finalizer</code> and <code>Common Cleaner</code> aren't doing any work so they can be ignored.  The <code>Daemon #20</code> seems to be a gradle daemon thread that kicked off the gradle script so it's just waiting for the script to finish which is expected.  So that leaves the Execution Worker which looks like this:</p>\n<pre><code>&quot;Execution worker for ':'&quot; #42 prio=5 os_prio=0 cpu=2818.31ms elapsed=196.05s tid=0x00007f9358702800 nid=0x16cfe in Object.wait()  [0x00007f93428f1000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(java.base@11.0.5/Native Method)\n    - waiting on &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\n    at java.lang.Object.wait(java.base@11.0.5/Object.java:328)\n    at java.lang.ProcessImpl.waitFor(java.base@11.0.5/ProcessImpl.java:495)\n    - waiting to re-lock in wait() &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@11.0.5/Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@11.0.5/NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.5/DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(java.base@11.0.5/Method.java:566)\n</code></pre>\n<p>The interesting part is <code>java.lang.ProcessImpl.waitFor</code> so it appears that gradle is just waiting for an external process to finish.  This doesn't appear to be a deadlock situation or any exotic locking issue which is good news.  Basically the HP tool is just running and not finishing.  And suddenly <code>halting problem</code> becomes all too real.  Is it going to finish or is it hung?  We can't know.</p>\n<p>But what I'd do is look at the <code>top</code> output on Linux, and find the process that gradle kicked off (ie the HP process).  Is the CPU usage bouncing around for that process?  Then maybe it's just doing stuff that takes a while, be patient, let it run, and see if it finishes.  If it's not running then you got a bigger problem.  I bet that on Linux the HPI software is trying to scan something that it shouldn't, and maybe this a config issue or difference between Linux vs Windows.  Total speculation, but just my gut feel on this.</p>\n<p>What my next move might be would be to see if I can manually run the tool on Linux outside of gradle.  What we found from the dump is that gradle doesn't seem to be contributing to the issue so let's isolate the HP tool and see if we can get more error messages or something from it.  Some things to consider:</p>\n<ul>\n<li>Is gradle giving it enough memory to run?  If the executable you run manually is different than Gradle's it could be a difference in configuration in Linux vs Windows possibly.</li>\n<li>Is there a gradle plugin for the HP tool involved and is there some config option you need to configure on Linux?</li>\n<li>Is there enough available memory for the HP tool AND gradle to run on the Linux box?  Maybe your linux boxes upper memory limit is different than your Windows box.  If you can spin up a bigger box maybe that'll fix Linux.</li>\n</ul>\n<p>I don't have a complete answer today for you so just a strategy for you to figure this one out.  Good luck.</p>\n"}],"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6061,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":1,"score":29,"last_activity_date":1700150404,"creation_date":1579025507,"question_id":59739523,"body_markdown":"I&#39;m currently using HP Fortify tool to scan for security vulnerabilities in a project. At the time of scanning Fortify&#39;s CLI allows build tools to integrate into its CLI commands so as to build and simultaneously scan the files present in the project. I&#39;m using the below command:\r\n\r\n```sourceanalyzer -b mcapbookvalue -gradle -verbose ./gradlew -x test --console=verbose -debug --continue assemble```\r\n\r\nBut the build is getting stuck at:\r\n\r\n```\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\u001B[0K\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n```\r\n\r\nThe build is successful if I&#39;m building the project without using Fortify&#39;s command integrated, only with:\r\n\r\n```./gradlew -x test --console=verbose -debug --continue assemble```\r\n\r\nI&#39;m not able to figure out why the gradle build is getting stuck. And reading and understanding what is happening in the thread dump log is beyond me.\r\n\r\nThread dump(jstack log): &lt;https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing&gt;\r\n\r\nIt would be great if any help is received.\r\n\r\nThanks in advance.","title":"Gradle build stuck at &quot;Waiting to acquire shared lock on daemon addresses registry.&quot;","body":"<p>I'm currently using HP Fortify tool to scan for security vulnerabilities in a project. At the time of scanning Fortify's CLI allows build tools to integrate into its CLI commands so as to build and simultaneously scan the files present in the project. I'm using the below command:</p>\n\n<p><code>sourceanalyzer -b mcapbookvalue -gradle -verbose ./gradlew -x test --console=verbose -debug --continue assemble</code></p>\n\n<p>But the build is getting stuck at:</p>\n\n<pre><code>2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.[0K\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n</code></pre>\n\n<p>The build is successful if I'm building the project without using Fortify's command integrated, only with:</p>\n\n<p><code>./gradlew -x test --console=verbose -debug --continue assemble</code></p>\n\n<p>I'm not able to figure out why the gradle build is getting stuck. And reading and understanding what is happening in the thread dump log is beyond me.</p>\n\n<p>Thread dump(jstack log): <a href=\"https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing\" rel=\"noreferrer\">https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing</a></p>\n\n<p>It would be great if any help is received.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700150071,"creation_date":1700150071,"answer_id":77496255,"question_id":77488284,"body_markdown":"In the depth of spring I found out that the parameter name of the method which was retrieved by reflection was &#39;arg0&#39;, so it couldn&#39;t be mapped to the &#39;#request&#39; literal in the spEL expression. I compiled with the compiler arg -parameter which preserves the parameter names and now everything works fine.\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java-version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java-version}&lt;/target&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n               \t \t\t&lt;arg&gt;-parameters&lt;/arg&gt; &lt;---- this did the magic\r\n               \t \t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"@PreAuthorize with spEL not working in Graal native image","body":"<p>In the depth of spring I found out that the parameter name of the method which was retrieved by reflection was 'arg0', so it couldn't be mapped to the '#request' literal in the spEL expression. I compiled with the compiler arg -parameter which preserves the parameter names and now everything works fine.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java-version}&lt;/source&gt;\n                &lt;target&gt;${java-version}&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt; &lt;---- this did the magic\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77496255,"answer_count":1,"score":0,"last_activity_date":1700150071,"creation_date":1700056337,"question_id":77488284,"body_markdown":"I have this RestController where I use @PreAuthorize to check if the request contains the same &#39;persnr&#39; as the user.\r\n\r\n    @PreAuthorize(&quot;@authorization.hasPermission(principal, #request)&quot;)\r\n\t@PostMapping(&quot;/items&quot;)\r\n\tpublic ResponseEntity&lt;CalendarResponse&gt; getCalendarItems(@Valid @NotNull @RequestBody CalendarRequest request)\r\n\t{\r\n       ...\r\n    }\r\n\r\nThis is the @Bean with the actual &#39;hasPermission&#39; method the spEL in @PreAutorize refers to\r\n\r\n    @Component\r\n    public class Authorization\r\n    {\r\n\t    public boolean hasPermission(User user, /* null in native image */ CalendarRequest request) \r\n\t    {\r\n            return user.getPersnr().equals(request.getPersnr());\r\n        }\r\n    }\r\n\r\nThis is the body of the request\r\n\r\n    \r\n    public class CalendarRequest\r\n    {\r\n\t    @NotBlank(message = &quot;\\&quot;persnr darf nicht leer sein&quot;)\r\n\t    private String persnr; \r\n\t\r\n\t    public String getPersnr()\r\n\t    {\r\n\t\t    return persnr;\r\n\t    }\r\n        // ...\r\n    }\r\n\r\nIn a JVM this works perfectly fine but as a native image the &#39;#request&#39; in the spEL is null and i get a NullPointerException in &#39;hasPermission&#39;.\r\n\r\nAs a workaround I tried to register a WebExpressionAuthorizationManager with the same spEL but it&#39;s not working either\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n\t{\r\n\t\thttp.authorizeHttpRequests(auth -&gt; \r\n\t\t\t\tauth\r\n                    //...\r\n\t\t\t\t    .dispatcherTypeMatchers(DispatcherType.ERROR).permitAll()\t\t\t\t\t\t\t\t\r\n\t\t\t\t    .requestMatchers(&quot;/calendar/items&quot;).access(new WebExpressionAuthorizationManager(&quot;@authorization.hasPermission(principal, #request)&quot;))\r\n\t\t\t\t\t.anyRequest().authenticated());\r\n\t\t\r\n        //...\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nI also tried using a custom AuthorizationManager but i don&#39;t see any possibility to access the json body\r\n\r\nIs there another way to implement method level authorization? \r\n\r\nEdit:\r\nI set&#39;prePostEnabled&#39; to false and implemented a custom AuthorizationManager with the same behavior like @PreAuthorize but the &#39;#request&#39; parameter is still null: \r\n\r\n    @Configuration\r\n    @EnableMethodSecurity(prePostEnabled = false, securedEnabled = false, jsr250Enabled = false)\r\n    public class AuthorizationConfig\r\n    {\r\n\t    @Bean\r\n\t    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n\t    Advisor preAuthorize(CustomAuthorizationManager manager) \r\n\t    {\r\n\t\t    Pointcut pointcut = new AnnotationMatchingPointcut(null, PreAuthorize.class, true);\r\n\t\t    AuthorizationManagerBeforeMethodInterceptor interceptor = new AuthorizationManagerBeforeMethodInterceptor(pointcut, manager);\r\n            interceptor.setOrder(AuthorizationInterceptorsOrder.PRE_AUTHORIZE.getOrder());\r\n\t        return interceptor;\r\n\t    }\r\n    }\r\n\r\n    @Component\r\n    public class CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt;\r\n    {\r\n\t    @Autowired\r\n\t    ApplicationContext context;\r\n\t\r\n\t    @Override\r\n\t    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi)\r\n\t    {\r\n\t\t    PreAuthorize annotation = mi.getMethod().getAnnotation(PreAuthorize.class);\r\n\t\t\r\n\t\t    DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n\t\t    expressionHandler.setApplicationContext(context);\r\n\t\t    Expression expression = expressionHandler.getExpressionParser().parseExpression(annotation.value());\r\n\t\t\r\n\t\t    EvaluationContext ctx = expressionHandler.createEvaluationContext(authentication, mi);\r\n\t\t    boolean granted = ExpressionUtils.evaluateAsBoolean(expression, ctx);\r\n\t\t    return new ExpressionAuthorizationDecision(granted, expression);\r\n\t    }\r\n    }\r\n\r\n","title":"@PreAuthorize with spEL not working in Graal native image","body":"<p>I have this RestController where I use @PreAuthorize to check if the request contains the same 'persnr' as the user.</p>\n<pre><code>@PreAuthorize(&quot;@authorization.hasPermission(principal, #request)&quot;)\n@PostMapping(&quot;/items&quot;)\npublic ResponseEntity&lt;CalendarResponse&gt; getCalendarItems(@Valid @NotNull @RequestBody CalendarRequest request)\n{\n   ...\n}\n</code></pre>\n<p>This is the @Bean with the actual 'hasPermission' method the spEL in @PreAutorize refers to</p>\n<pre><code>@Component\npublic class Authorization\n{\n    public boolean hasPermission(User user, /* null in native image */ CalendarRequest request) \n    {\n        return user.getPersnr().equals(request.getPersnr());\n    }\n}\n</code></pre>\n<p>This is the body of the request</p>\n<pre><code>public class CalendarRequest\n{\n    @NotBlank(message = &quot;\\&quot;persnr darf nicht leer sein&quot;)\n    private String persnr; \n\n    public String getPersnr()\n    {\n        return persnr;\n    }\n    // ...\n}\n</code></pre>\n<p>In a JVM this works perfectly fine but as a native image the '#request' in the spEL is null and i get a NullPointerException in 'hasPermission'.</p>\n<p>As a workaround I tried to register a WebExpressionAuthorizationManager with the same spEL but it's not working either</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n{\n    http.authorizeHttpRequests(auth -&gt; \n            auth\n                //...\n                .dispatcherTypeMatchers(DispatcherType.ERROR).permitAll()                               \n                .requestMatchers(&quot;/calendar/items&quot;).access(new WebExpressionAuthorizationManager(&quot;@authorization.hasPermission(principal, #request)&quot;))\n                .anyRequest().authenticated());\n    \n    //...\n\n    return http.build();\n}\n</code></pre>\n<p>I also tried using a custom AuthorizationManager but i don't see any possibility to access the json body</p>\n<p>Is there another way to implement method level authorization?</p>\n<p>Edit:\nI set'prePostEnabled' to false and implemented a custom AuthorizationManager with the same behavior like @PreAuthorize but the '#request' parameter is still null:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(prePostEnabled = false, securedEnabled = false, jsr250Enabled = false)\npublic class AuthorizationConfig\n{\n    @Bean\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    Advisor preAuthorize(CustomAuthorizationManager manager) \n    {\n        Pointcut pointcut = new AnnotationMatchingPointcut(null, PreAuthorize.class, true);\n        AuthorizationManagerBeforeMethodInterceptor interceptor = new AuthorizationManagerBeforeMethodInterceptor(pointcut, manager);\n        interceptor.setOrder(AuthorizationInterceptorsOrder.PRE_AUTHORIZE.getOrder());\n        return interceptor;\n    }\n}\n\n@Component\npublic class CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt;\n{\n    @Autowired\n    ApplicationContext context;\n\n    @Override\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi)\n    {\n        PreAuthorize annotation = mi.getMethod().getAnnotation(PreAuthorize.class);\n    \n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setApplicationContext(context);\n        Expression expression = expressionHandler.getExpressionParser().parseExpression(annotation.value());\n    \n        EvaluationContext ctx = expressionHandler.createEvaluationContext(authentication, mi);\n        boolean granted = ExpressionUtils.evaluateAsBoolean(expression, ctx);\n        return new ExpressionAuthorizationDecision(granted, expression);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1455722950,"post_id":35460884,"comment_id":58617950,"body_markdown":"Of course. Casting `10.01` to `long` will truncate the value to `10`, making your check pass.","body":"Of course. Casting <code>10.01</code> to <code>long</code> will truncate the value to <code>10</code>, making your check pass."},{"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"score":0,"creation_date":1455723042,"post_id":35460884,"comment_id":58618015,"body_markdown":"how can I validate the value only smaller than or equal 10?","body":"how can I validate the value only smaller than or equal 10?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1455723127,"post_id":35460884,"comment_id":58618085,"body_markdown":"Not with `@Range`, that&#39;s for sure.","body":"Not with <code>@Range</code>, that&#39;s for sure."},{"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"score":0,"creation_date":1455723792,"post_id":35460884,"comment_id":58618618,"body_markdown":"sorry, I don&#39;t clear with your suggestion. If can&#39;t use @Range what should I use?","body":"sorry, I don&#39;t clear with your suggestion. If can&#39;t use @Range what should I use?"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1455724126,"post_id":35460884,"comment_id":58618917,"body_markdown":"I think you are using `org.hibernate.validator.constraints.Range`, but I&#39;m not sure. If you are, I see in the [docs of the `Max` one level up](http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/constraints/Max.html?is-external=true) the following: `&quot;Note that double and float are not supported due to rounding errors (some providers might provide some approximative support).&quot;`. The only one with decimals that is supported is `BigDecimal`, so perhaps use `@Range(min = new BigDecimal(0.0), max = new BigDecimal(10.0)) private BigDecimal score;`? For double I dunno..","body":"I think you are using <code>org.hibernate.validator.constraints.Range</code>, but I&#39;m not sure. If you are, I see in the <a href=\"http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/constraints/Max.html?is-external=true\" rel=\"nofollow noreferrer\">docs of the <code>Max</code> one level up</a> the following: <code>&quot;Note that double and float are not supported due to rounding errors (some providers might provide some approximative support).&quot;</code>. The only one with decimals that is supported is <code>BigDecimal</code>, so perhaps use <code>@Range(min = new BigDecimal(0.0), max = new BigDecimal(10.0)) private BigDecimal score;</code>? For double I dunno.."}],"answers":[{"tags":[],"owner":{"account_id":931709,"reputation":4835,"user_id":961480,"display_name":"hyness"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455727374,"creation_date":1455727374,"answer_id":35462655,"question_id":35460884,"body_markdown":"There are two problems.  First problem is you are trying to specify a data type in the attribute of the annotation.  You don&#39;t need to specify the data type or fraction either, this annotation only takes whole numbers.\r\n\r\nAlso, as specified by many others, doubles and floats are not allowed to rounding errors, so you need to use a BigDecimal instead of a double.  BigDecimal has a doubleValue() method to get the value as a double.\r\n\r\n    @Range(min = 0, max = 10)\r\n    private BigDecimal score;\r\n","title":"validation with double value in Spring","body":"<p>There are two problems.  First problem is you are trying to specify a data type in the attribute of the annotation.  You don't need to specify the data type or fraction either, this annotation only takes whole numbers.</p>\n\n<p>Also, as specified by many others, doubles and floats are not allowed to rounding errors, so you need to use a BigDecimal instead of a double.  BigDecimal has a doubleValue() method to get the value as a double.</p>\n\n<pre><code>@Range(min = 0, max = 10)\nprivate BigDecimal score;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5158277,"reputation":4738,"user_id":4130867,"accept_rate":100,"display_name":"6324"},"score":10,"creation_date":1505017543,"post_id":35462754,"comment_id":79236756,"body_markdown":"The source code of `@DecimalMax` and `@DecimalMin` also says `Note that {@code double} and {@code float} are not supported due to rounding errors`...","body":"The source code of <code>@DecimalMax</code> and <code>@DecimalMin</code> also says <code>Note that {@code double} and {@code float} are not supported due to rounding errors</code>..."},{"owner":{"account_id":3866215,"reputation":724,"user_id":5265621,"display_name":"Akshay Anurag"},"score":2,"creation_date":1566473105,"post_id":35462754,"comment_id":101671892,"body_markdown":"It won&#39;t work. See https://docs.oracle.com/javaee/7/api/javax/validation/constraints/DecimalMin.html","body":"It won&#39;t work. See <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/DecimalMin.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/validation/constraints/&hellip;</a>"}],"tags":[],"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"comment_count":2,"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1455727666,"creation_date":1455727666,"answer_id":35462754,"question_id":35460884,"body_markdown":"I resolve my proplem with:\r\n\r\n   \r\n\r\n     @DecimalMax(&quot;10.0&quot;) @DecimalMin(&quot;0.0&quot;) \r\n     private double score;\r\nThank you lots @ Kayaman ,@hyness","title":"validation with double value in Spring","body":"<p>I resolve my proplem with:</p>\n\n<pre><code> @DecimalMax(\"10.0\") @DecimalMin(\"0.0\") \n private double score;\n</code></pre>\n\n<p>Thank you lots @ Kayaman ,@hyness</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391913,"creation_date":1655391913,"answer_id":72647985,"question_id":35460884,"body_markdown":"For those of who just want to put constraint with a message\r\n       \r\n    @DecimalMin(value = &quot;1.0&quot;, message = &quot;Please Enter a valid Deposit Amount&quot;)","title":"validation with double value in Spring","body":"<p>For those of who just want to put constraint with a message</p>\n<pre><code>@DecimalMin(value = &quot;1.0&quot;, message = &quot;Please Enter a valid Deposit Amount&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7727204,"reputation":171,"user_id":5851464,"display_name":"Phanindra Gopishetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700149962,"creation_date":1700149962,"answer_id":77496242,"question_id":35460884,"body_markdown":"    import javax.validation.Constraint;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target({ElementType.FIELD, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = DoublePrecisionValidator.class)\r\n    public @interface DoublePrecision {\r\n        String message() default &quot;Invalid double precision&quot;;\r\n    \r\n        int precision() default 2;\r\n    \r\n        int maxDigits() default 10;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class DoublePrecisionValidator implements ConstraintValidator&lt;DoublePrecision, Double&gt; {\r\n        private int precision;\r\n        private int maxDigits;\r\n    \r\n        @Override\r\n        public void initialize(DoublePrecision doublePrecision) {\r\n            this.precision = doublePrecision.precision();\r\n            this.maxDigits = doublePrecision.maxDigits();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Double value, ConstraintValidatorContext context) {\r\n            if (value == null) {\r\n                return true; // Null values are considered valid, add additional checks if needed\r\n            }\r\n    \r\n            // Check precision\r\n            double scaledValue = value * Math.pow(10, precision);\r\n            long truncatedValue = (long) scaledValue;\r\n            double restoredValue = truncatedValue / Math.pow(10, precision);\r\n    \r\n            // Check maxDigits\r\n            String stringValue = Double.toString(value);\r\n            int totalDigits = stringValue.length() - (stringValue.contains(&quot;.&quot;) ? 1 : 0);\r\n    \r\n            return value.equals(restoredValue) &amp;&amp; totalDigits &lt;= maxDigits;\r\n        }\r\n    }","title":"validation with double value in Spring","body":"<pre><code>import javax.validation.Constraint;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.FIELD, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = DoublePrecisionValidator.class)\npublic @interface DoublePrecision {\n    String message() default &quot;Invalid double precision&quot;;\n\n    int precision() default 2;\n\n    int maxDigits() default 10;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class DoublePrecisionValidator implements ConstraintValidator&lt;DoublePrecision, Double&gt; {\n    private int precision;\n    private int maxDigits;\n\n    @Override\n    public void initialize(DoublePrecision doublePrecision) {\n        this.precision = doublePrecision.precision();\n        this.maxDigits = doublePrecision.maxDigits();\n    }\n\n    @Override\n    public boolean isValid(Double value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return true; // Null values are considered valid, add additional checks if needed\n        }\n\n        // Check precision\n        double scaledValue = value * Math.pow(10, precision);\n        long truncatedValue = (long) scaledValue;\n        double restoredValue = truncatedValue / Math.pow(10, precision);\n\n        // Check maxDigits\n        String stringValue = Double.toString(value);\n        int totalDigits = stringValue.length() - (stringValue.contains(&quot;.&quot;) ? 1 : 0);\n\n        return value.equals(restoredValue) &amp;&amp; totalDigits &lt;= maxDigits;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26346,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":35462754,"answer_count":4,"score":10,"last_activity_date":1700149962,"creation_date":1455722830,"question_id":35460884,"body_markdown":"I want to check score which have value: 0.00 &lt;= value&lt;= 10.00&lt;br/&gt;\r\nI used:&lt;br/&gt;\r\n -Model(Score):\r\n   \r\n\r\n     @Range(min = (long) 0.0, max = (long) 10.0)\r\n     private double score;\r\n\r\n -messages.properties:\r\n\r\n    Range.score.score=Please input 0&lt;= score &lt;=10\r\n -servlet-context.xml:\r\n\r\n       &lt;beans:bean id=&quot;messageSource&quot;\r\n    \t\tclass=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;basename&quot; value=&quot;messages&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\nBut the value = 10.01 has passed the check.&lt;br/&gt;\r\nPlease help me.","title":"validation with double value in Spring","body":"<p>I want to check score which have value: 0.00 &lt;= value&lt;= 10.00<br/>\nI used:<br/>\n -Model(Score):</p>\n\n<pre><code> @Range(min = (long) 0.0, max = (long) 10.0)\n private double score;\n</code></pre>\n\n<p>-messages.properties:</p>\n\n<pre><code>Range.score.score=Please input 0&lt;= score &lt;=10\n</code></pre>\n\n<p>-servlet-context.xml:</p>\n\n<pre><code>   &lt;beans:bean id=\"messageSource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n        &lt;beans:property name=\"basename\" value=\"messages\" /&gt;\n    &lt;/beans:bean&gt;\n</code></pre>\n\n<p>But the value = 10.01 has passed the check.<br/>\nPlease help me.</p>\n"},{"tags":["java","mongodb","pojo"],"owner":{"account_id":307872,"reputation":963,"user_id":619418,"display_name":"tzik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700149954,"creation_date":1700149954,"question_id":77496240,"body_markdown":"I have an issue registering POJO classes from 3rd party libraries in my project with MongoDB so that I can use the POJOS. \r\n\r\nI&#39;m registering the classes first as follows: \r\n```\r\n  PojoCodecProvider pojoCodecProvider = PojoCodecProvider.builder()\r\n.register(&quot;com.myproject.classpackage&quot;)\r\n.register(&quot;com.thirdpartyproject.classpackage3&quot;)\r\n.register(&quot;com.myproject.classpackage2&quot;)\r\n```\r\n\r\nClasses from my project whose registrations come before and after the third party project classes are working just fine. However, registering the third-party package does not work and I always get an error: &quot;no code found for class X under package *com.thirdpartyproject.classpackage3*&quot;\r\n\r\nIf it makes any difference I&#39;m using gradle and the third-party package is added to the project like this: \r\n```\r\n    implementation files(&#39;files/thirdpartylibrary.jar&#39;)\r\n```\r\n\r\nOther than the issue with the MongoDB POJO driver, I can use the third-party library just fine. \r\nI was thinking of storing them as a JSON object using GSON and some custom wrappers. \r\n\r\nThe third-party library POJOs may change over time and I&#39;d rather not implement my own classes just to store the data in MongoDB. \r\nAny help would be much appreciated. ","title":"MongoDB PojoCodecDriver Error Registering 3rd party Package Class","body":"<p>I have an issue registering POJO classes from 3rd party libraries in my project with MongoDB so that I can use the POJOS.</p>\n<p>I'm registering the classes first as follows:</p>\n<pre><code>  PojoCodecProvider pojoCodecProvider = PojoCodecProvider.builder()\n.register(&quot;com.myproject.classpackage&quot;)\n.register(&quot;com.thirdpartyproject.classpackage3&quot;)\n.register(&quot;com.myproject.classpackage2&quot;)\n</code></pre>\n<p>Classes from my project whose registrations come before and after the third party project classes are working just fine. However, registering the third-party package does not work and I always get an error: &quot;no code found for class X under package <em>com.thirdpartyproject.classpackage3</em>&quot;</p>\n<p>If it makes any difference I'm using gradle and the third-party package is added to the project like this:</p>\n<pre><code>    implementation files('files/thirdpartylibrary.jar')\n</code></pre>\n<p>Other than the issue with the MongoDB POJO driver, I can use the third-party library just fine.\nI was thinking of storing them as a JSON object using GSON and some custom wrappers.</p>\n<p>The third-party library POJOs may change over time and I'd rather not implement my own classes just to store the data in MongoDB.\nAny help would be much appreciated.</p>\n"},{"tags":["java","gradle","package","reusability"],"answers":[{"tags":[],"owner":{"account_id":1887647,"reputation":5271,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514641641,"creation_date":1514641641,"answer_id":48034521,"question_id":44097725,"body_markdown":"In your `build.gradle` use a custom build to collect only the package that you want\r\n\r\n    task customBuild(type: Jar) {\r\n        from (&quot;src/main/java/abstract/&quot;){\r\n            into &quot;abstract&quot;\r\n        }\r\n    \r\n        version = &quot;&quot;\r\n        baseName = &quot;myClasses&quot;\r\n    }\r\n\r\nit will build you a `jar` file inside `build/libs/YouJarName`\r\n&lt;br&gt;\r\nNow you can copy the jar to anywhere you want, and include it in another project in that way :\r\n\r\n    dependencies {\r\n        compile fileTree (dir : &quot;your/jar/location&quot;, includes: [&quot;myJar.jar&quot;])\r\n    }\r\n\r\n","title":"Outsource java packages for reuse in other projects with gradle","body":"<p>In your <code>build.gradle</code> use a custom build to collect only the package that you want</p>\n\n<pre><code>task customBuild(type: Jar) {\n    from (\"src/main/java/abstract/\"){\n        into \"abstract\"\n    }\n\n    version = \"\"\n    baseName = \"myClasses\"\n}\n</code></pre>\n\n<p>it will build you a <code>jar</code> file inside <code>build/libs/YouJarName</code>\n<br>\nNow you can copy the jar to anywhere you want, and include it in another project in that way :</p>\n\n<pre><code>dependencies {\n    compile fileTree (dir : \"your/jar/location\", includes: [\"myJar.jar\"])\n}\n</code></pre>\n"}],"owner":{"account_id":2724258,"reputation":1743,"user_id":2349787,"accept_rate":61,"display_name":"EchtFettigerKeks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700149942,"creation_date":1495374911,"question_id":44097725,"body_markdown":"I&#39;ve got a project and within it, I developed a bunch of classes which are kept very abstract so I could use them in other projects. How should I outsource the package in a way so I can include it via gradle or by the IDE in the end?\r\n\r\nAlso the reusable packag-content is still in development so I want do work on it in parallel.\r\n\r\nCan anybody tell me how to solve this?","title":"Outsource java packages for reuse in other projects with gradle","body":"<p>I've got a project and within it, I developed a bunch of classes which are kept very abstract so I could use them in other projects. How should I outsource the package in a way so I can include it via gradle or by the IDE in the end?</p>\n<p>Also the reusable packag-content is still in development so I want do work on it in parallel.</p>\n<p>Can anybody tell me how to solve this?</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700162183,"post_id":77496153,"comment_id":136623930,"body_markdown":"Sajid jan, try to look at the link I have provided, the exception is being thrown is the same as you got\n\nI mean it&#39;s problem of rules although I understand that you didn&#39;t change the rules, it may be other person that have access to the project or may be some bug at the side of firestore - but it&#39;s permission(rules) problem","body":"Sajid jan, try to look at the link I have provided, the exception is being thrown is the same as you got  I mean it&#39;s problem of rules although I understand that you didn&#39;t change the rules, it may be other person that have access to the project or may be some bug at the side of firestore - but it&#39;s permission(rules) problem"},{"owner":{"account_id":6435751,"reputation":56,"user_id":9342781,"display_name":"Sajid"},"score":0,"creation_date":1700162894,"post_id":77496153,"comment_id":136624052,"body_markdown":"Well, it&#39;s obvious that it&#39;s a rules problem. But this particular incident that occurred in my multiple apps wasn&#39;t a human error(No one else has got any access to my firebase accounts). It&#39;s a bug or something else on Google&#39;s end and that&#39;s what I am trying to find out.\nThat question you mentioned, and the underlying answers address the Rules issue on developer&#39;s end. While this particular incident happened under different circumstances and should be addressed differently.","body":"Well, it&#39;s obvious that it&#39;s a rules problem. But this particular incident that occurred in my multiple apps wasn&#39;t a human error(No one else has got any access to my firebase accounts). It&#39;s a bug or something else on Google&#39;s end and that&#39;s what I am trying to find out. That question you mentioned, and the underlying answers address the Rules issue on developer&#39;s end. While this particular incident happened under different circumstances and should be addressed differently."},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700163398,"post_id":77496153,"comment_id":136624120,"body_markdown":"ok deleting first comment","body":"ok deleting first comment"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700200751,"post_id":77496153,"comment_id":136627626,"body_markdown":"Most likely happened because of [this](https://stackoverflow.com/questions/77491268/firestore-permission-denied-even-with-rules-set-to-allow-all/77491341#77491341).","body":"Most likely happened because of <a href=\"https://stackoverflow.com/questions/77491268/firestore-permission-denied-even-with-rules-set-to-allow-all/77491341#77491341\">this</a>."}],"owner":{"account_id":6435751,"reputation":56,"user_id":9342781,"display_name":"Sajid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700149289,"creation_date":1700149289,"question_id":77496153,"body_markdown":"# PERMISSION_DENIED: Missing or insufficient permissions.\r\n**com.google.firebase.firestore.FirebaseFirestoreException**\r\n\r\nI have several android apps on google playstore that use **Firestore** as the backend. All the apps have large number of DAU. They have been working perfectly fine for a long time, but last night, I noticed a spike in crash reports in Firebase Crashlytics dashboard. All of them had the same exception:\r\n\r\n\r\n`Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException\r\ncom.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.`\r\n\r\nThe strange thing is that this exception occurred in multiple apps at the same time, **between 01:00 AM and 07:00 AM (UTC+5)**, and then stopped. I have **not changed anything in the code or the Firestore rules** recently. I have **tried to reproduce the issue** on my devices, but **everything works as expected**. I have also checked the Firestore usage and quota, and they are well below the limits.\r\n\r\nHere are some screenshots from the **Firebase Crashlytics dashboard** showing the crash reports:\r\n\r\n**App with original class names:**\r\n[![enter image description here](https://i.stack.imgur.com/RsJ5M.png)](https://i.stack.imgur.com/RsJ5M.png)\r\n\r\n**App with obfuscated class names**\r\n[![enter image description here](https://i.stack.imgur.com/yJIW3.png)](https://i.stack.imgur.com/yJIW3.png)\r\n\r\n\r\nHere&#39;s the Stack Trace:\r\n\r\n```\r\nCaused by com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.\r\n       at com.google.firebase.firestore.util.Util.exceptionFromStatus(Util.java:112)\r\n       at com.google.firebase.firestore.core.EventManager.onError(EventManager.java:166)\r\n       at com.google.firebase.firestore.core.SyncEngine.removeAndCleanupTarget(SyncEngine.java:596)\r\n       at com.google.firebase.firestore.core.SyncEngine.handleRejectedListen(SyncEngine.java:432)\r\n       at com.google.firebase.firestore.core.MemoryComponentProvider$RemoteStoreCallback.handleRejectedListen(MemoryComponentProvider.java:104)\r\n       at com.google.firebase.firestore.remote.RemoteStore.processTargetError(RemoteStore.java:581)\r\n       at com.google.firebase.firestore.remote.RemoteStore.handleWatchChange(RemoteStore.java:465)\r\n       at com.google.firebase.firestore.remote.RemoteStore.access$100(RemoteStore.java:57)\r\n       at com.google.firebase.firestore.remote.RemoteStore$1.onWatchChange(RemoteStore.java:180)\r\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:109)\r\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:38)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.lambda$onNext$1$com-google-firebase-firestore-remote-AbstractStream$StreamObserver(AbstractStream.java:119)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver$$ExternalSyntheticLambda2.run(:4)\r\n       at com.google.firebase.firestore.remote.AbstractStream$CloseGuardedRunner.run(AbstractStream.java:67)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.onNext(AbstractStream.java:110)\r\n       at com.google.firebase.firestore.remote.FirestoreChannel$1.onMessage(FirestoreChannel.java:140)\r\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)\r\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)\r\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n       at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\r\n       at java.lang.Thread.run(Thread.java:919)\r\n```\r\nI am wondering what could have caused this **Permission Denied Exception** in multiple apps at the same time, and how to prevent it from happening again. Is it possible that there was some temporary issue with the Firebase servers or the network connectivity? \r\nHas anyone else experienced this issue?\r\n\r\nI have tried to reproduce the issue but I haven&#39;t been able to do so. ","title":"Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException: com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED","body":"<h1>PERMISSION_DENIED: Missing or insufficient permissions.</h1>\n<p><strong>com.google.firebase.firestore.FirebaseFirestoreException</strong></p>\n<p>I have several android apps on google playstore that use <strong>Firestore</strong> as the backend. All the apps have large number of DAU. They have been working perfectly fine for a long time, but last night, I noticed a spike in crash reports in Firebase Crashlytics dashboard. All of them had the same exception:</p>\n<p><code>Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.</code></p>\n<p>The strange thing is that this exception occurred in multiple apps at the same time, <strong>between 01:00 AM and 07:00 AM (UTC+5)</strong>, and then stopped. I have <strong>not changed anything in the code or the Firestore rules</strong> recently. I have <strong>tried to reproduce the issue</strong> on my devices, but <strong>everything works as expected</strong>. I have also checked the Firestore usage and quota, and they are well below the limits.</p>\n<p>Here are some screenshots from the <strong>Firebase Crashlytics dashboard</strong> showing the crash reports:</p>\n<p><strong>App with original class names:</strong>\n<a href=\"https://i.stack.imgur.com/RsJ5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RsJ5M.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>App with obfuscated class names</strong>\n<a href=\"https://i.stack.imgur.com/yJIW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJIW3.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the Stack Trace:</p>\n<pre><code>Caused by com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.\n       at com.google.firebase.firestore.util.Util.exceptionFromStatus(Util.java:112)\n       at com.google.firebase.firestore.core.EventManager.onError(EventManager.java:166)\n       at com.google.firebase.firestore.core.SyncEngine.removeAndCleanupTarget(SyncEngine.java:596)\n       at com.google.firebase.firestore.core.SyncEngine.handleRejectedListen(SyncEngine.java:432)\n       at com.google.firebase.firestore.core.MemoryComponentProvider$RemoteStoreCallback.handleRejectedListen(MemoryComponentProvider.java:104)\n       at com.google.firebase.firestore.remote.RemoteStore.processTargetError(RemoteStore.java:581)\n       at com.google.firebase.firestore.remote.RemoteStore.handleWatchChange(RemoteStore.java:465)\n       at com.google.firebase.firestore.remote.RemoteStore.access$100(RemoteStore.java:57)\n       at com.google.firebase.firestore.remote.RemoteStore$1.onWatchChange(RemoteStore.java:180)\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:109)\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:38)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.lambda$onNext$1$com-google-firebase-firestore-remote-AbstractStream$StreamObserver(AbstractStream.java:119)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver$$ExternalSyntheticLambda2.run(:4)\n       at com.google.firebase.firestore.remote.AbstractStream$CloseGuardedRunner.run(AbstractStream.java:67)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.onNext(AbstractStream.java:110)\n       at com.google.firebase.firestore.remote.FirestoreChannel$1.onMessage(FirestoreChannel.java:140)\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n       at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\n       at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>I am wondering what could have caused this <strong>Permission Denied Exception</strong> in multiple apps at the same time, and how to prevent it from happening again. Is it possible that there was some temporary issue with the Firebase servers or the network connectivity?\nHas anyone else experienced this issue?</p>\n<p>I have tried to reproduce the issue but I haven't been able to do so.</p>\n"},{"tags":["java","azul-zulu"],"answers":[{"comments":[{"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"score":2,"creation_date":1587466118,"post_id":61337953,"comment_id":108516349,"body_markdown":"Oracle do not publish either JSRs or JEPs. Java Specification Requests are published by the Java Community Process (JCP). JDK Enhancement Proposals are published on the OpenJDK project. Anyone who has committer status on OpenJDK can submit a JEP.","body":"Oracle do not publish either JSRs or JEPs. Java Specification Requests are published by the Java Community Process (JCP). JDK Enhancement Proposals are published on the OpenJDK project. Anyone who has committer status on OpenJDK can submit a JEP."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1587479939,"post_id":61337953,"comment_id":108524491,"body_markdown":"@Speakjava At the bottom of every JSR page and every JEP page you will find a copyright claim by Oracle Corporation.","body":"@Speakjava At the bottom of every JSR page and every JEP page you will find a copyright claim by Oracle Corporation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1587497952,"post_id":61337953,"comment_id":108534475,"body_markdown":"@skomisa I added much more discussion to address that. Thanks for the criticism.","body":"@skomisa I added much more discussion to address that. Thanks for the criticism."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1587500975,"post_id":61337953,"comment_id":108535989,"body_markdown":"My poor wording since it was intended as feedback rather than criticism. (I&#39;m astounded at the level of detail in your answer.)","body":"My poor wording since it was intended as feedback rather than criticism. (I&#39;m astounded at the level of detail in your answer.)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":173,"is_accepted":false,"score":173,"last_activity_date":1700149211,"creation_date":1587453558,"answer_id":61337953,"question_id":61335109,"body_markdown":"# Update 2021-09\r\n\r\n - For versions 8 through 16, Oracle required a fee if their own *Oracle JDK* product was used in production, but not for dev, test, and training usages. \r\n - For Java 17, the [Oracle JDK](https://www.oracle.com/javadownload) product is available under  a new\r\n   [*No-Fee Terms and Conditions*](https://www.oracle.com/downloads/licenses/no-fee-license.html) license, [discussed on the Oracle\r\n   company blog](https://blogs.oracle.com/cloud-infrastructure/post/introducing-free-java-license).\r\n\r\nOn my first reading, it appears this new license makes production use free-of-cost (along with dev, test, and training usages), **except for products sold for a fee while bundling the Oracle JDK** product. But I am not an attorney, so read the terms yourself and consult legal advice as needed.\r\n\r\nKeep in mind that many other vendors continue to provide implementations of the Java specs, as shown in the flowchart below. Some of these vendors sell support plans, either optionally or as a requirement for use of their product. Never assume, always read the detailed requirements for any distribution you obtain.\r\n\r\nAnother 2021 update: Add Microsoft to the list of vendors seen below.\r\n\r\n----------\r\n\r\n# Java specification versus implementation \r\n\r\nJava is defined by a [set of specifications][1], [JSRs][2], and [JEPs][3], all published by Oracle.\r\n\r\nThose specifications are implemented in the source code found at the [*OpenJDK*][4] project. \r\n\r\nSeveral vendors provide builds of that source code. Some charge money for those builds and some do not. \r\n\r\n[Azul Systems][5] is one such vendor, a company  providing multiple implementations. [*Zulu Community*][6] is one, provided free of charge. [*Zulu Enterprise*][7] is another of their products, a commercial offering. [*Zing*][8] is yet another product of theirs, a JVM/JDK for special needs.\r\n\r\nOther JDK product vendors include SAP, Amazon, Microsoft, Oracle, BellSoft, Adoptium, Red Hat, IBM, Linux “apt get”, FreeBSD “Ports and Packages”, and more. \r\n\r\nYou asked:\r\n\r\n&gt;Is there any practical difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?\r\n\r\nYes and no. \r\n\r\nFirstly, **OpenJDK provides only [source code][9]**. So you cannot use OpenJDK to run Java apps. You must first build the OpenJDK source code yourself to get [executables][10] for your particular host platform, or you must rely on a vendor make a build for you. As seen in the flow chart below, there are several such vendors making builds of the OpenJDK source code.\r\n\r\nAs for products from Azul Systems, there is no such thing as *Azul OpenJDK* nor *Zulu OpenJDK* that I know of. Azul offers multiple products, as discussed above, but none of them by that name. \r\n\r\nThe `Zulu` name is used for 3 products, the *Community* and *Enterprise* editions above, plus [*Zulu Embedded*](https://www.azul.com/products/zulu-embedded/) for running on constrained hardware resources. As explained on their web site, all three of these are builds of the source code from OpenJDK. \r\n\r\nSo, no, basically no practical differences, as they all are builds of OpenJDK, and behave similar to most any other build of OpenJDK source code. Any desktop, server, or console application written to comply with the Java specifications will run on *Zulu Community* and *Zulu Enterprise*. \r\n\r\nBut, yes, there are some differences in that Azul adds some features such as having back-ported Flight Recorder and Mission Control to their Java 8 version of Zulu products. And Azul, like any such JDK provider, reserves the right to add a patch when urgently needed to fix a critical bug or security vulnerability without waiting for a release in the OpenJDK codebase.\r\n\r\nAnd, yes, there are major differences with the *Zing* product by Azul as that is intended for special needs such as supporting very large amounts of memory. While I presume this product uses parts of OpenJDK, Zing performs quite differently to meet those special needs while still conforming with the Java specifications to be able to run any application written in Java. \r\n\r\nAnother practical difference is that you can obtain support services from Azul Systems for their builds. Several of the vendors provide support services for their builds. OpenJDK provides only source code, no support. \r\n\r\nLastly, I should mention that Azul Systems is [one of the sponsors][11] of [*Adoptium*][12] (formerly known as *AdoptOpenJDK*), a project at the [Eclipse Foundation][13]. Adoptium provides (a) builds of OpenJDK, and (b) [test suites for quality assurance][14]. \r\n\r\nIf you have specific product questions, you should study the Azul.com web site, and contact the sales department at Azul Systems. I speak only for myself here, unaffiliated with that company. I have on occasion used their *Zulu Community* product, but not the others.\r\n\r\n➥ Read [*Java is Still Free*](https://medium.com/@javachampions/java-is-still-free-2-0-0-6b9aa8d6d244) to understand the ecosystem of Oracle, OpenJDK, and the various vendors of Java implementations.\r\n\r\n\r\n----------\r\n\r\nHere is a flow chart I made to help guide you in choosing a vendor for an implementation of Java 11.\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][15]][15]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/\r\n  [2]: https://jcp.org/en/jsr/overview\r\n  [3]: https://openjdk.java.net/jeps/0\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/Azul_Systems\r\n  [6]: https://www.azul.com/products/zulu-community/\r\n  [7]: https://www.azul.com/products/zulu-enterprise/\r\n  [8]: https://en.wikipedia.org/wiki/Azul_Systems#Zing_JVM\r\n  [9]: https://en.wikipedia.org/wiki/Source_code\r\n  [10]: https://en.wikipedia.org/wiki/Executable\r\n  [11]: https://www.eclipse.org/membership/exploreMembership.php\r\n  [12]: https://adoptium.net/\r\n  [13]: https://en.m.wikipedia.org/wiki/Eclipse_Foundation\r\n  [14]: https://medium.com/adoptopenjdk/the-first-drop-introducing-adoptopenjdk-quality-assurance-aqa-v1-0-fe09f10ced80\r\n  [15]: https://i.stack.imgur.com/P4Gmt.png","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<h1>Update 2021-09</h1>\n<ul>\n<li>For versions 8 through 16, Oracle required a fee if their own <em>Oracle JDK</em> product was used in production, but not for dev, test, and training usages.</li>\n<li>For Java 17, the <a href=\"https://www.oracle.com/javadownload\" rel=\"nofollow noreferrer\">Oracle JDK</a> product is available under  a new\n<a href=\"https://www.oracle.com/downloads/licenses/no-fee-license.html\" rel=\"nofollow noreferrer\"><em>No-Fee Terms and Conditions</em></a> license, <a href=\"https://blogs.oracle.com/cloud-infrastructure/post/introducing-free-java-license\" rel=\"nofollow noreferrer\">discussed on the Oracle\ncompany blog</a>.</li>\n</ul>\n<p>On my first reading, it appears this new license makes production use free-of-cost (along with dev, test, and training usages), <strong>except for products sold for a fee while bundling the Oracle JDK</strong> product. But I am not an attorney, so read the terms yourself and consult legal advice as needed.</p>\n<p>Keep in mind that many other vendors continue to provide implementations of the Java specs, as shown in the flowchart below. Some of these vendors sell support plans, either optionally or as a requirement for use of their product. Never assume, always read the detailed requirements for any distribution you obtain.</p>\n<p>Another 2021 update: Add Microsoft to the list of vendors seen below.</p>\n<hr />\n<h1>Java specification versus implementation</h1>\n<p>Java is defined by a <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">set of specifications</a>, <a href=\"https://jcp.org/en/jsr/overview\" rel=\"nofollow noreferrer\">JSRs</a>, and <a href=\"https://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">JEPs</a>, all published by Oracle.</p>\n<p>Those specifications are implemented in the source code found at the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project.</p>\n<p>Several vendors provide builds of that source code. Some charge money for those builds and some do not.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Azul Systems</a> is one such vendor, a company  providing multiple implementations. <a href=\"https://www.azul.com/products/zulu-community/\" rel=\"nofollow noreferrer\"><em>Zulu Community</em></a> is one, provided free of charge. <a href=\"https://www.azul.com/products/zulu-enterprise/\" rel=\"nofollow noreferrer\"><em>Zulu Enterprise</em></a> is another of their products, a commercial offering. <a href=\"https://en.wikipedia.org/wiki/Azul_Systems#Zing_JVM\" rel=\"nofollow noreferrer\"><em>Zing</em></a> is yet another product of theirs, a JVM/JDK for special needs.</p>\n<p>Other JDK product vendors include SAP, Amazon, Microsoft, Oracle, BellSoft, Adoptium, Red Hat, IBM, Linux “apt get”, FreeBSD “Ports and Packages”, and more.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Is there any practical difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?</p>\n</blockquote>\n<p>Yes and no.</p>\n<p>Firstly, <strong>OpenJDK provides only <a href=\"https://en.wikipedia.org/wiki/Source_code\" rel=\"nofollow noreferrer\">source code</a></strong>. So you cannot use OpenJDK to run Java apps. You must first build the OpenJDK source code yourself to get <a href=\"https://en.wikipedia.org/wiki/Executable\" rel=\"nofollow noreferrer\">executables</a> for your particular host platform, or you must rely on a vendor make a build for you. As seen in the flow chart below, there are several such vendors making builds of the OpenJDK source code.</p>\n<p>As for products from Azul Systems, there is no such thing as <em>Azul OpenJDK</em> nor <em>Zulu OpenJDK</em> that I know of. Azul offers multiple products, as discussed above, but none of them by that name.</p>\n<p>The <code>Zulu</code> name is used for 3 products, the <em>Community</em> and <em>Enterprise</em> editions above, plus <a href=\"https://www.azul.com/products/zulu-embedded/\" rel=\"nofollow noreferrer\"><em>Zulu Embedded</em></a> for running on constrained hardware resources. As explained on their web site, all three of these are builds of the source code from OpenJDK.</p>\n<p>So, no, basically no practical differences, as they all are builds of OpenJDK, and behave similar to most any other build of OpenJDK source code. Any desktop, server, or console application written to comply with the Java specifications will run on <em>Zulu Community</em> and <em>Zulu Enterprise</em>.</p>\n<p>But, yes, there are some differences in that Azul adds some features such as having back-ported Flight Recorder and Mission Control to their Java 8 version of Zulu products. And Azul, like any such JDK provider, reserves the right to add a patch when urgently needed to fix a critical bug or security vulnerability without waiting for a release in the OpenJDK codebase.</p>\n<p>And, yes, there are major differences with the <em>Zing</em> product by Azul as that is intended for special needs such as supporting very large amounts of memory. While I presume this product uses parts of OpenJDK, Zing performs quite differently to meet those special needs while still conforming with the Java specifications to be able to run any application written in Java.</p>\n<p>Another practical difference is that you can obtain support services from Azul Systems for their builds. Several of the vendors provide support services for their builds. OpenJDK provides only source code, no support.</p>\n<p>Lastly, I should mention that Azul Systems is <a href=\"https://www.eclipse.org/membership/exploreMembership.php\" rel=\"nofollow noreferrer\">one of the sponsors</a> of <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\"><em>Adoptium</em></a> (formerly known as <em>AdoptOpenJDK</em>), a project at the <a href=\"https://en.m.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>. Adoptium provides (a) builds of OpenJDK, and (b) <a href=\"https://medium.com/adoptopenjdk/the-first-drop-introducing-adoptopenjdk-quality-assurance-aqa-v1-0-fe09f10ced80\" rel=\"nofollow noreferrer\">test suites for quality assurance</a>.</p>\n<p>If you have specific product questions, you should study the Azul.com web site, and contact the sales department at Azul Systems. I speak only for myself here, unaffiliated with that company. I have on occasion used their <em>Zulu Community</em> product, but not the others.</p>\n<p>➥ Read <a href=\"https://medium.com/@javachampions/java-is-still-free-2-0-0-6b9aa8d6d244\" rel=\"nofollow noreferrer\"><em>Java is Still Free</em></a> to understand the ecosystem of Oracle, OpenJDK, and the various vendors of Java implementations.</p>\n<hr />\n<p>Here is a flow chart I made to help guide you in choosing a vendor for an implementation of Java 11.</p>\n<p><a href=\"https://i.stack.imgur.com/P4Gmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4Gmt.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6506480,"reputation":81,"user_id":5035197,"display_name":"Kunkun Liu"},"score":0,"creation_date":1652618915,"post_id":61341942,"comment_id":127644661,"body_markdown":"Zulu Embedded can you for Android System?","body":"Zulu Embedded can you for Android System?"},{"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"score":0,"creation_date":1652709840,"post_id":61341942,"comment_id":127664854,"body_markdown":"Unfortunately, there is no Zulu Embedded for Android.","body":"Unfortunately, there is no Zulu Embedded for Android."},{"owner":{"account_id":5180087,"reputation":71,"user_id":4146053,"display_name":"Volker Simonis"},"score":0,"creation_date":1684172805,"post_id":61341942,"comment_id":134475351,"body_markdown":"@Speakjava: so what is [Azul Zulu Prime builds of OpenJDK](https://www.azul.com/products/components/azul-zulu-prime-builds-of-openjdk/) then? According to its feature set it seems to be the same like [Azul Platform Prime](https://www.azul.com/products/prime/) (formerly known as Azul Zing) although according to its name it pretends to be a &quot;*binary distribution built from OpenJDK*&quot; as you call it in your comment?","body":"@Speakjava: so what is <a href=\"https://www.azul.com/products/components/azul-zulu-prime-builds-of-openjdk/\" rel=\"nofollow noreferrer\">Azul Zulu Prime builds of OpenJDK</a> then? According to its feature set it seems to be the same like <a href=\"https://www.azul.com/products/prime/\" rel=\"nofollow noreferrer\">Azul Platform Prime</a> (formerly known as Azul Zing) although according to its name it pretends to be a &quot;<i>binary distribution built from OpenJDK</i>&quot; as you call it in your comment?"},{"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"score":0,"creation_date":1684421178,"post_id":61341942,"comment_id":134517709,"body_markdown":"@VolkerSimonis, the simplest explanation is that Zulu is the name of our JDK distribution that is based on OpenJDK. Zulu Community/Core are our builds of OpenJDK (without functional modification). Zulu Prime (which used to be Zing) is a JDK built from OpenJDK but with functional changes (GC and JIT compiler). All our builds from JDK 8 onwards pass the TCK so fully conform to the relevant Java SE standard. The short answer that this was a branding change.","body":"@VolkerSimonis, the simplest explanation is that Zulu is the name of our JDK distribution that is based on OpenJDK. Zulu Community/Core are our builds of OpenJDK (without functional modification). Zulu Prime (which used to be Zing) is a JDK built from OpenJDK but with functional changes (GC and JIT compiler). All our builds from JDK 8 onwards pass the TCK so fully conform to the relevant Java SE standard. The short answer that this was a branding change."},{"owner":{"account_id":5180087,"reputation":71,"user_id":4146053,"display_name":"Volker Simonis"},"score":0,"creation_date":1684741754,"post_id":61341942,"comment_id":134555585,"body_markdown":"@Speakjava, thanks for your answer. So am I right that if &quot;Zulu Prime&quot; is  &quot;_based on_&quot; and &quot;_built from OpenJDK_&quot; which is licensed under GPLv2 plus CPE then &quot;Zulu Prime&quot; and all of its functional changes like GC and JIT compiler must be made available under the very same license (i.e. GPLv2 plus CPE)?","body":"@Speakjava, thanks for your answer. So am I right that if &quot;Zulu Prime&quot; is  &quot;<i>based on</i>&quot; and &quot;<i>built from OpenJDK</i>&quot; which is licensed under GPLv2 plus CPE then &quot;Zulu Prime&quot; and all of its functional changes like GC and JIT compiler must be made available under the very same license (i.e. GPLv2 plus CPE)?"}],"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"comment_count":5,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1587466812,"creation_date":1587466812,"answer_id":61341942,"question_id":61335109,"body_markdown":"Let&#39;s start with full disclosure, I work for Azul (which I think makes me qualified to answer the question).\r\n\r\nOpenJDK is a &quot;...place to collaborate on an open-source implementation of the Java Platform, Standard Edition, and related projects&quot;.  Primarily, it hosts the source code repositories for the versions of Java since JDK 6.  Sun open-sourced their implementation of JDK 7 in 2007, which was how OpenJDK originated.  Subsequently, a project was created for JDK 6 (which oddly, is based on JDK 7).  Each version since then has been developed through the OpenJDK.\r\n\r\nAzul is a company that specialises in Java and JVM products.\r\n\r\nZulu is the name chosen for the binary distribution of the OpenJDK provided by Azul.  This comes in three versions:\r\n\r\n 1. Zulu Community: The free distribution provided under the GPLv2 with classpath exception (CPE) license.\r\n 2. Zulu Enterprise: A commercially supported binary distribution with SLAs for how quickly updates will be made available after Oracle provide theirs, two versions of each update (CPU and PSU) and phone/e-mail bug reporting/resolution.\r\n 3. Zulu Embedded: Porting and support for specific chipsets and hardware configurations for embedded applications. Also, a commercial product, although free ARM 32 builds are available for Zulu Community.\r\n\r\nTo summarise, OpenJDK is the source code, Azul is the company and Zulu is the binary distribution built from OpenJDK.","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<p>Let's start with full disclosure, I work for Azul (which I think makes me qualified to answer the question).</p>\n\n<p>OpenJDK is a \"...place to collaborate on an open-source implementation of the Java Platform, Standard Edition, and related projects\".  Primarily, it hosts the source code repositories for the versions of Java since JDK 6.  Sun open-sourced their implementation of JDK 7 in 2007, which was how OpenJDK originated.  Subsequently, a project was created for JDK 6 (which oddly, is based on JDK 7).  Each version since then has been developed through the OpenJDK.</p>\n\n<p>Azul is a company that specialises in Java and JVM products.</p>\n\n<p>Zulu is the name chosen for the binary distribution of the OpenJDK provided by Azul.  This comes in three versions:</p>\n\n<ol>\n<li>Zulu Community: The free distribution provided under the GPLv2 with classpath exception (CPE) license.</li>\n<li>Zulu Enterprise: A commercially supported binary distribution with SLAs for how quickly updates will be made available after Oracle provide theirs, two versions of each update (CPU and PSU) and phone/e-mail bug reporting/resolution.</li>\n<li>Zulu Embedded: Porting and support for specific chipsets and hardware configurations for embedded applications. Also, a commercial product, although free ARM 32 builds are available for Zulu Community.</li>\n</ol>\n\n<p>To summarise, OpenJDK is the source code, Azul is the company and Zulu is the binary distribution built from OpenJDK.</p>\n"}],"owner":{"account_id":18353105,"reputation":1233,"user_id":13366838,"display_name":"Krishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130523,"favorite_count":0,"down_vote_count":3,"up_vote_count":113,"answer_count":2,"score":110,"last_activity_date":1700149211,"creation_date":1587436775,"question_id":61335109,"body_markdown":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<p>What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?</p>\n"},{"tags":["java","geotools","jts"],"answers":[{"comments":[{"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"score":0,"creation_date":1700188903,"post_id":77496142,"comment_id":136626854,"body_markdown":"thank you sir.  `gt-geojson-store` is more convenient and faster than `gt-geojson`.","body":"thank you sir.  <code>gt-geojson-store</code> is more convenient and faster than <code>gt-geojson</code>."},{"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"score":0,"creation_date":1700202142,"post_id":77496142,"comment_id":136627742,"body_markdown":"It seems that `GeoJSONWriter` cannot write the coordinate reference  system into the GeoJSON file. If indeed it&#39;s not possible, I will submit an issue on GeoTools.","body":"It seems that <code>GeoJSONWriter</code> cannot write the coordinate reference  system into the GeoJSON file. If indeed it&#39;s not possible, I will submit an issue on GeoTools."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1700210186,"post_id":77496142,"comment_id":136628672,"body_markdown":"GeoJSON is always in WGS84 Lon/Lat so there is no need to write a coordinate system to the file.","body":"GeoJSON is always in WGS84 Lon/Lat so there is no need to write a coordinate system to the file."}],"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700149205,"creation_date":1700149205,"answer_id":77496142,"question_id":77493502,"body_markdown":"I suspect the answer is to do with mutable and immutable objects with in the library, a `FeatureType` (schema) is immutable and the schema of an `Feature` includes information about the CRS of the `Geometry` objects so if you change the schema you must change the feature.\r\n\r\nI suspect your life would be easier if you use the `gt-geojson-store` to get a &quot;proper&quot; GeoJSON datastore rather than using `gt-geojson` which is (also) unsupported but even less well supported. However, that won&#39;t let you modify the default geometry to update the collection either (I think). You probably want to [checkout this tutorial][1].\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/userguide/tutorial/feature/csv2shp.html","title":"Why does the ForceCoordinateSystemIterator class next() method retype the SimpleFeature object?","body":"<p>I suspect the answer is to do with mutable and immutable objects with in the library, a <code>FeatureType</code> (schema) is immutable and the schema of an <code>Feature</code> includes information about the CRS of the <code>Geometry</code> objects so if you change the schema you must change the feature.</p>\n<p>I suspect your life would be easier if you use the <code>gt-geojson-store</code> to get a &quot;proper&quot; GeoJSON datastore rather than using <code>gt-geojson</code> which is (also) unsupported but even less well supported. However, that won't let you modify the default geometry to update the collection either (I think). You probably want to <a href=\"https://docs.geotools.org/stable/userguide/tutorial/feature/csv2shp.html\" rel=\"nofollow noreferrer\">checkout this tutorial</a>.</p>\n"}],"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77496142,"answer_count":1,"score":0,"last_activity_date":1700149205,"creation_date":1700125755,"question_id":77493502,"body_markdown":"English is not my native language; please excuse typing errors.\r\n\r\nI have two questions\r\n\r\nQ1: ForceCoordinateSystemIterator.class next() method why not return the original SimpleFeature but retype the SimpleFeature?\r\n\r\n\r\n\r\nQ2: when use ForceCoordinateSystemIterator I cannot retrieve the original object to update this default geometry. what would be the best way to do that?\r\n\r\n\r\n```java\r\nFeatureJSON featureJSON = new FeatureJSON(new GeometryJSON(15));\r\nInputStream is = Files.newInputStream(Paths.get(&quot;/arjen_data/rust/2.geojson&quot;));\r\nSimpleFeatureIterator simpleFeatureCollection2 = (SimpleFeatureCollection) featureJSON.readFeatureCollection(is);\r\ntry (SimpleFeatureIterator fit = simpleFeatureCollection2.features()) {\r\n            while (fit.hasNext()) {\r\n                // fit is ForceCoordinateSystemIterator.class\r\n                SimpleFeature next = fit.next(); // is retype object\r\n                Geometry defaultGeometry = (Geometry) next.getDefaultGeometry();\r\n                Geometry intersection = defaultGeometry.difference(union);\r\n                // update default Geometry\r\n                next.setDefaultGeometry(intersection);\r\n            }\r\n}\r\n```\r\n\r\ni read ForceCoordinateSystemIterator.class next() method source code. I have the two questions mentioned above now.\r\n\r\n\r\n```java\r\n    @Override\r\n    public SimpleFeature next() throws NoSuchElementException {\r\n        if (reader == null) {\r\n            throw new IllegalStateException(&quot;Reader has already been closed&quot;);\r\n        }\r\n\r\n        SimpleFeature next = reader.next();\r\n        if (builder == null) return next;\r\n\r\n        try {\r\n            // why retype? original object is bad?\r\n            return SimpleFeatureBuilder.retype(next, builder);\r\n        } catch (IllegalAttributeException eep) {\r\n            throw (IllegalStateException)\r\n                    new IllegalStateException(eep.getMessage()).initCause(eep);\r\n        }\r\n    }\r\n```","title":"Why does the ForceCoordinateSystemIterator class next() method retype the SimpleFeature object?","body":"<p>English is not my native language; please excuse typing errors.</p>\n<p>I have two questions</p>\n<p>Q1: ForceCoordinateSystemIterator.class next() method why not return the original SimpleFeature but retype the SimpleFeature?</p>\n<p>Q2: when use ForceCoordinateSystemIterator I cannot retrieve the original object to update this default geometry. what would be the best way to do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>FeatureJSON featureJSON = new FeatureJSON(new GeometryJSON(15));\nInputStream is = Files.newInputStream(Paths.get(&quot;/arjen_data/rust/2.geojson&quot;));\nSimpleFeatureIterator simpleFeatureCollection2 = (SimpleFeatureCollection) featureJSON.readFeatureCollection(is);\ntry (SimpleFeatureIterator fit = simpleFeatureCollection2.features()) {\n            while (fit.hasNext()) {\n                // fit is ForceCoordinateSystemIterator.class\n                SimpleFeature next = fit.next(); // is retype object\n                Geometry defaultGeometry = (Geometry) next.getDefaultGeometry();\n                Geometry intersection = defaultGeometry.difference(union);\n                // update default Geometry\n                next.setDefaultGeometry(intersection);\n            }\n}\n</code></pre>\n<p>i read ForceCoordinateSystemIterator.class next() method source code. I have the two questions mentioned above now.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public SimpleFeature next() throws NoSuchElementException {\n        if (reader == null) {\n            throw new IllegalStateException(&quot;Reader has already been closed&quot;);\n        }\n\n        SimpleFeature next = reader.next();\n        if (builder == null) return next;\n\n        try {\n            // why retype? original object is bad?\n            return SimpleFeatureBuilder.retype(next, builder);\n        } catch (IllegalAttributeException eep) {\n            throw (IllegalStateException)\n                    new IllegalStateException(eep.getMessage()).initCause(eep);\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","maven","build"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":2,"creation_date":1700046597,"post_id":77487136,"comment_id":136606003,"body_markdown":"why on earth Java 1.7, if i may ask?","body":"why on earth Java 1.7, if i may ask?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1700046671,"post_id":77487136,"comment_id":136606017,"body_markdown":"Some of the code is compiled using Java 8 (class version 52) you must use at least Java 8 at run it. Java 7 has been end of life for years, you should be using something more up to date.","body":"Some of the code is compiled using Java 8 (class version 52) you must use at least Java 8 at run it. Java 7 has been end of life for years, you should be using something more up to date."}],"answers":[{"comments":[{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1700053665,"post_id":77487392,"comment_id":136607221,"body_markdown":"how can be possible? i do not have any version of java 1.8 istalled, in my pom there is (nothing in properties section):\n\n\t&lt;build&gt;\n\t\t&lt;finalName&gt;JavaServerFaces&lt;/finalName&gt;\n\n\t\t&lt;plugins&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t&lt;/plugins&gt;\n\t&lt;/build&gt;","body":"how can be possible? i do not have any version of java 1.8 istalled, in my pom there is (nothing in properties section):  \t&lt;build&gt; \t\t&lt;finalName&gt;JavaServerFaces&lt;/finalName&gt;  \t\t&lt;plugins&gt; \t\t\t&lt;plugin&gt; \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt; \t\t\t\t&lt;configuration&gt; \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt; \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt; \t\t\t\t&lt;/configuration&gt; \t\t\t&lt;/plugin&gt; \t\t&lt;/plugins&gt; \t&lt;/build&gt;"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1700061587,"post_id":77487392,"comment_id":136608874,"body_markdown":"@fraaanz It is the maven code itself that is compiled with Java 8 - you can&#39;t run this maven with Java 7.","body":"@fraaanz It is the maven code itself that is compiled with Java 8 - you can&#39;t run this maven with Java 7."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1700064063,"post_id":77487392,"comment_id":136609397,"body_markdown":"@greg-449. thanks but indeed if I use mvn clean compile package it works where mvn -version give me the output at the beginning of the post, How can be possible?","body":"@greg-449. thanks but indeed if I use mvn clean compile package it works where mvn -version give me the output at the beginning of the post, How can be possible?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1700067147,"post_id":77487392,"comment_id":136609974,"body_markdown":"@fraaanz Maven is made up of lots of components some may be compiled with Java 7 and others with 8. The part you are trying to run requires Java 8.","body":"@fraaanz Maven is made up of lots of components some may be compiled with Java 7 and others with 8. The part you are trying to run requires Java 8."}],"tags":[],"owner":{"account_id":6970618,"reputation":25,"user_id":5347120,"display_name":"Alfred Benigno"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700048269,"creation_date":1700048269,"answer_id":77487392,"question_id":77487136,"body_markdown":"java.lang.UnsupportedClassVersionError means compile version is higher than the actual runtime. When you compile from eclipse, it uses the java compliance level you configured from your IDE. When you compile using maven, it uses the java version from your pom.xml file. Class version 52 you encountered is Java 8, not 7.\r\nMake sure your java (jdk not jre) version in your pom.xml file, under properties, is installed in your system. Once you set it, do `mvn dependency:sources dependency:resolve` then do a project update via the eclipse menu, then finally do `mvn clean install`\r\n\r\nSomething like \r\n\r\n\r\n\r\nTake a look at this post [unsupportedclassversion][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","title":"cannot compile with eclipse","body":"<p>java.lang.UnsupportedClassVersionError means compile version is higher than the actual runtime. When you compile from eclipse, it uses the java compliance level you configured from your IDE. When you compile using maven, it uses the java version from your pom.xml file. Class version 52 you encountered is Java 8, not 7.\nMake sure your java (jdk not jre) version in your pom.xml file, under properties, is installed in your system. Once you set it, do <code>mvn dependency:sources dependency:resolve</code> then do a project update via the eclipse menu, then finally do <code>mvn clean install</code></p>\n<p>Something like</p>\n<p>Take a look at this post <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">unsupportedclassversion</a></p>\n"},{"tags":[],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700148727,"creation_date":1700148727,"answer_id":77496098,"question_id":77487136,"body_markdown":"Changing froom eclipse 2023_09 to 2019_09 it works well, because the maven embedded is an early version; So eclipse is not full compatibile with very old (very old :) ) version;\r\nHope some one can find it useful ","title":"cannot compile with eclipse","body":"<p>Changing froom eclipse 2023_09 to 2019_09 it works well, because the maven embedded is an early version; So eclipse is not full compatibile with very old (very old :) ) version;\nHope some one can find it useful</p>\n"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700148727,"creation_date":1700045747,"question_id":77487136,"body_markdown":"I&#39;m trying to compile the project download from \r\n&gt; https://mkyong.com/tutorials/jsf-2-0-tutorials/\r\n using eclipe, when I run from command line\r\n`mvn clean compile pakage` \r\neverything goes well:\r\n\r\n`C:\\esempi\\JSF2.0-hello-world-example-2.1.7\\JavaServerFaces&gt;mvn -version\r\nApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\nMaven home: C:\\Users\\a00569321\\sw\\apache-maven-3.8.8-bin\\apache-maven-3.8.8\r\nJava version: 1.7.0_13, vendor: Oracle Corporation, runtime: C:\\Users\\a00569321\\sw\\jdk1.7.0_13\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;`\r\n\r\n\r\n\r\n\r\nbut when I try to compile using eclipse, I get:\r\n[![enter image description here](https://i.stack.imgur.com/0MjxV.png)](https://i.stack.imgur.com/0MjxV.png)\r\n\r\n\r\n\r\nand My eclipse configuration is:build path\r\n[![enter image description here](https://i.stack.imgur.com/iQMwh.png)](https://i.stack.imgur.com/iQMwh.png)\r\n\r\nCompile\r\n[![enter image description here](https://i.stack.imgur.com/crhw3.png)](https://i.stack.imgur.com/crhw3.png)\r\n\r\n\r\nand configuration\r\n[![enter image description here](https://i.stack.imgur.com/kRcp7.png)](https://i.stack.imgur.com/kRcp7.png)\r\n\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EDaMj.png)](https://i.stack.imgur.com/EDaMj.png)\r\n\r\n\r\n \r\n\r\nI&#39;ve tried to change almost everything (java istallation, binary of maven, change compiler used by ecplipse);\r\nI&#39;m expecting to compile as i did using maven;","title":"cannot compile with eclipse","body":"<p>I'm trying to compile the project download from</p>\n<blockquote>\n<p><a href=\"https://mkyong.com/tutorials/jsf-2-0-tutorials/\" rel=\"nofollow noreferrer\">https://mkyong.com/tutorials/jsf-2-0-tutorials/</a>\nusing eclipe, when I run from command line\n<code>mvn clean compile pakage</code>\neverything goes well:</p>\n</blockquote>\n<p><code>C:\\esempi\\JSF2.0-hello-world-example-2.1.7\\JavaServerFaces&gt;mvn -version Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39) Maven home: C:\\Users\\a00569321\\sw\\apache-maven-3.8.8-bin\\apache-maven-3.8.8 Java version: 1.7.0_13, vendor: Oracle Corporation, runtime: C:\\Users\\a00569321\\sw\\jdk1.7.0_13\\jre Default locale: en_US, platform encoding: Cp1252 OS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;</code></p>\n<p>but when I try to compile using eclipse, I get:\n<a href=\"https://i.stack.imgur.com/0MjxV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MjxV.png\" alt=\"enter image description here\" /></a></p>\n<p>and My eclipse configuration is:build path\n<a href=\"https://i.stack.imgur.com/iQMwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iQMwh.png\" alt=\"enter image description here\" /></a></p>\n<p>Compile\n<a href=\"https://i.stack.imgur.com/crhw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crhw3.png\" alt=\"enter image description here\" /></a></p>\n<p>and configuration\n<a href=\"https://i.stack.imgur.com/kRcp7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRcp7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EDaMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDaMj.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to change almost everything (java istallation, binary of maven, change compiler used by ecplipse);\nI'm expecting to compile as i did using maven;</p>\n"},{"tags":["java","hibernate","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700148774,"post_id":77496086,"comment_id":136621353,"body_markdown":"The recommended approach, don&#39;t. When an exception occurs the state of the session is invalid / uncertain. If you want to commit in between use multiple transactions or use savepoints.","body":"The recommended approach, don&#39;t. When an exception occurs the state of the session is invalid / uncertain. If you want to commit in between use multiple transactions or use savepoints."},{"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"score":0,"creation_date":1700152835,"post_id":77496086,"comment_id":136622280,"body_markdown":"Could you give an example please?","body":"Could you give an example please?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700159045,"post_id":77496086,"comment_id":136623323,"body_markdown":"Your code also looks flawed, as you are re-using a `transaction` field which is probably at the class level, which feels wrong, especially if that is in a singleton object. Start a transaction, and each x elements do a flush, clear and commit and start a new transaction. That way you will only loose the last x records (maximal) that you processed. Or, if your database supports it, you can use savepoints and do intermediate commits on a single transaction (but that depends on your database).","body":"Your code also looks flawed, as you are re-using a <code>transaction</code> field which is probably at the class level, which feels wrong, especially if that is in a singleton object. Start a transaction, and each x elements do a flush, clear and commit and start a new transaction. That way you will only loose the last x records (maximal) that you processed. Or, if your database supports it, you can use savepoints and do intermediate commits on a single transaction (but that depends on your database)."}],"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148637,"creation_date":1700148637,"question_id":77496086,"body_markdown":"I&#39;m facing an issue when trying to commit with Hibernate after an exception occurs during the persistence of a list of objects. My code utilizes Hibernate to persist objects in a database, and I would like to ensure that the objects that were successfully processed up to the point of the error are saved in the database, even after an exception.\r\n\r\nCurrently, my method looks like this:\r\n\r\n    private void persist(List&lt;T&gt; entities, Boolean commitInError, boolean isSaveOrUpdate) {\r\n            try {\r\n                transaction = session.beginTransaction();\r\n                \r\n                for (T entity : entities) {\r\n                \tif (isSaveOrUpdate) {\r\n                \t\tsession.merge(entity);\r\n                \t} else {\r\n                \t\tsession.remove(entity);\r\n                \t}\r\n    \t\t\t}\r\n                \r\n                transaction.commit();\r\n            } catch (Exception e) {\r\n                if (transaction != null) {\r\n                    if (commitInError) {\r\n                        try {\r\n                            transaction.commit();\r\n                        } catch (Exception e2) {\r\n                            throw e2;\r\n                        }\r\n                    } else {\r\n                        transaction.rollback();\r\n                    }\r\n                }\r\n                throw e;\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n\r\nI&#39;d like to know if anyone has encountered a similar issue when trying to commit with Hibernate after an exception during the persistence of a list of objects. Is there any recommended solution or approach to handle this situation?\r\n\r\nThank you in advance for your assistance!\r\n\r\nI use hibernate 6.3.1.Final","title":"Issue with Hibernate commit after exception while persisting a list of objects","body":"<p>I'm facing an issue when trying to commit with Hibernate after an exception occurs during the persistence of a list of objects. My code utilizes Hibernate to persist objects in a database, and I would like to ensure that the objects that were successfully processed up to the point of the error are saved in the database, even after an exception.</p>\n<p>Currently, my method looks like this:</p>\n<pre><code>private void persist(List&lt;T&gt; entities, Boolean commitInError, boolean isSaveOrUpdate) {\n        try {\n            transaction = session.beginTransaction();\n            \n            for (T entity : entities) {\n                if (isSaveOrUpdate) {\n                    session.merge(entity);\n                } else {\n                    session.remove(entity);\n                }\n            }\n            \n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                if (commitInError) {\n                    try {\n                        transaction.commit();\n                    } catch (Exception e2) {\n                        throw e2;\n                    }\n                } else {\n                    transaction.rollback();\n                }\n            }\n            throw e;\n        } finally {\n            close();\n        }\n    }\n</code></pre>\n<p>I'd like to know if anyone has encountered a similar issue when trying to commit with Hibernate after an exception during the persistence of a list of objects. Is there any recommended solution or approach to handle this situation?</p>\n<p>Thank you in advance for your assistance!</p>\n<p>I use hibernate 6.3.1.Final</p>\n"},{"tags":["java","kubernetes","memory-management","jvm"],"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":1,"creation_date":1700152973,"post_id":77496062,"comment_id":136622304,"body_markdown":"Isn&#39;t MaxRam just the maximum ram of the POD?  It&#39;s set to your 2gb limit.  I suspect max means max memory of the machine, and not the JVM&#39;s max memory.  With a -XX:MaxRAMPercentage =50 would mean the JVM heap gets 1GB which is reflected in Grafana with the Max JVM heap size, and your program is taking up ~200mb of that heap.  I don&#39;t think there is any wild non-heap usage.","body":"Isn&#39;t MaxRam just the maximum ram of the POD?  It&#39;s set to your 2gb limit.  I suspect max means max memory of the machine, and not the JVM&#39;s max memory.  With a -XX:MaxRAMPercentage =50 would mean the JVM heap gets 1GB which is reflected in Grafana with the Max JVM heap size, and your program is taking up ~200mb of that heap.  I don&#39;t think there is any wild non-heap usage."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700154097,"post_id":77496062,"comment_id":136622538,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1700525928,"post_id":77496062,"comment_id":136663159,"body_markdown":"See https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438","body":"See <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\" title=\"java using much more memory than heap size or size correctly docker memory limi\">stackoverflow.com/questions/53451103/&hellip;</a>"}],"owner":{"account_id":29602990,"reputation":1,"user_id":22687991,"display_name":"Eugen Gerb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148528,"creation_date":1700148453,"question_id":77496062,"body_markdown":"I have a Kubernetes Pod running a Java 17 application in a container. The Pod is configured with 2GB requested and limited memory.\r\n\r\nFor the Java 17 app, I&#39;ve set the flag -XX:MaxRAMPercentage=50, and the -XX:+UseContainerSupport flag is enabled by default.\r\n\r\nI&#39;ve collected JVM memory metrics (used, max, and committed) using Prometheus, and I&#39;ve noticed that the non-heap memory seems to have an unusually high max value.\r\n\r\nHere&#39;s a screenshot from a JVM Memory Grafana chart of the selected Pod:\r\n\r\n[JVM Memory Grafana Chart](https://i.stack.imgur.com/sTFdH.png)\r\n\r\n[MaxRAM][1]\r\n\r\n[MaxHeapSize][2]\r\n\r\nI understand that besides the Java Heap, the Non-Heap (e.g., Metaspace) also plays a role and appears to be the culprit. However, I&#39;m puzzled as to why the Non-Heap max memory is so high.\r\n\r\nMy specific questions are:\r\n\r\n- How does Prometheus calculate jvm_memory_max_bytes?\r\n\r\n- How can I determine why and where this additional max JVM memory for Non-Heap is coming from?\r\n\r\nThank you for any insights or guidance!\r\n\r\nI have tried to use the different values for the -XX:MaxRAMPercentage flag.\r\n\r\nI have not been able to use tools like jmap or jcmd because the image is a JRE.\r\n\r\nIs the JProfiler suitable to help me with this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pG9Z.png\r\n  [2]: https://i.stack.imgur.com/7biEk.png","title":"Excessive Max Memory in Non-Heap for Java 17 App on Kubernetes Pod","body":"<p>I have a Kubernetes Pod running a Java 17 application in a container. The Pod is configured with 2GB requested and limited memory.</p>\n<p>For the Java 17 app, I've set the flag -XX:MaxRAMPercentage=50, and the -XX:+UseContainerSupport flag is enabled by default.</p>\n<p>I've collected JVM memory metrics (used, max, and committed) using Prometheus, and I've noticed that the non-heap memory seems to have an unusually high max value.</p>\n<p>Here's a screenshot from a JVM Memory Grafana chart of the selected Pod:</p>\n<p><a href=\"https://i.stack.imgur.com/sTFdH.png\" rel=\"nofollow noreferrer\">JVM Memory Grafana Chart</a></p>\n<p><a href=\"https://i.stack.imgur.com/3pG9Z.png\" rel=\"nofollow noreferrer\">MaxRAM</a></p>\n<p><a href=\"https://i.stack.imgur.com/7biEk.png\" rel=\"nofollow noreferrer\">MaxHeapSize</a></p>\n<p>I understand that besides the Java Heap, the Non-Heap (e.g., Metaspace) also plays a role and appears to be the culprit. However, I'm puzzled as to why the Non-Heap max memory is so high.</p>\n<p>My specific questions are:</p>\n<ul>\n<li><p>How does Prometheus calculate jvm_memory_max_bytes?</p>\n</li>\n<li><p>How can I determine why and where this additional max JVM memory for Non-Heap is coming from?</p>\n</li>\n</ul>\n<p>Thank you for any insights or guidance!</p>\n<p>I have tried to use the different values for the -XX:MaxRAMPercentage flag.</p>\n<p>I have not been able to use tools like jmap or jcmd because the image is a JRE.</p>\n<p>Is the JProfiler suitable to help me with this problem?</p>\n"},{"tags":["java","jsp","struts2","ognl"],"answers":[{"comments":[{"owner":{"account_id":1992570,"reputation":1,"user_id":1786269,"display_name":"amit_dhnbd"},"score":1,"creation_date":1430478576,"post_id":29964566,"comment_id":48090759,"body_markdown":"Thanks for reply\ncan you give me any link on this","body":"Thanks for reply can you give me any link on this"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1433972000,"post_id":29964566,"comment_id":49587567,"body_markdown":"I think you have a lot of related links on the right side, [this](http://stackoverflow.com/a/25181452/573032) is another one.","body":"I think you have a lot of related links on the right side, <a href=\"http://stackoverflow.com/a/25181452/573032\">this</a> is another one."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466199843,"creation_date":1430387782,"answer_id":29964566,"question_id":29948692,"body_markdown":"In Struts 2 you don&#39;t have to use `jsp:useBean` tag to get access to some bean properties/methods. \r\n\r\nYou also don&#39;t have to call JSP directly, everything is done through the action. The action class that you configure in the Struts configuration, i.e. `struts.xml` could be used instead of `jsp:useBean`. \r\n\r\nYou can also configure a method of this class used to map the action. When action is called Struts instantiates an action bean defined in the configuration and populates its properties. This instance is available in JSP that the action returns as a result. To use these properties or methods you should use OGNL, or JSTL EL.  ","title":"How to call Java methods from JSP page in Struts 2","body":"<p>In Struts 2 you don't have to use <code>jsp:useBean</code> tag to get access to some bean properties/methods. </p>\n\n<p>You also don't have to call JSP directly, everything is done through the action. The action class that you configure in the Struts configuration, i.e. <code>struts.xml</code> could be used instead of <code>jsp:useBean</code>. </p>\n\n<p>You can also configure a method of this class used to map the action. When action is called Struts instantiates an action bean defined in the configuration and populates its properties. This instance is available in JSP that the action returns as a result. To use these properties or methods you should use OGNL, or JSTL EL.  </p>\n"}],"owner":{"account_id":1992570,"reputation":1,"user_id":1786269,"display_name":"amit_dhnbd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700148511,"creation_date":1430322586,"question_id":29948692,"body_markdown":"I am new to Struts 2, (switched from jsp to Struts2)\r\n\r\nI have 3 java class files and 4 jsp pages in a Struts2 application\r\nI have to call 2 different methods of one java class file (let class_01) \r\nfrom a jsp page (let `methodCallerJsp.jsp`)\r\n\r\nIn jsp I use Java bean as:\r\n\r\n    &lt;jsp:useBean id=&quot;class_01-obj&quot; class=&quot;package.class_01&quot;/&gt; \r\nAnd then fetch method by:\r\n\r\n    class_01-obj.method_AA();\r\n\r\nHow can I do the same thing in Struts2?","title":"How to call Java methods from JSP page in Struts 2","body":"<p>I am new to Struts 2, (switched from jsp to Struts2)</p>\n\n<p>I have 3 java class files and 4 jsp pages in a Struts2 application\nI have to call 2 different methods of one java class file (let class_01) \nfrom a jsp page (let <code>methodCallerJsp.jsp</code>)</p>\n\n<p>In jsp I use Java bean as:</p>\n\n<pre><code>&lt;jsp:useBean id=\"class_01-obj\" class=\"package.class_01\"/&gt; \n</code></pre>\n\n<p>And then fetch method by:</p>\n\n<pre><code>class_01-obj.method_AA();\n</code></pre>\n\n<p>How can I do the same thing in Struts2?</p>\n"},{"tags":["java","maven","jsp","tomcat","web-applications"],"comments":[{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700148602,"post_id":77496038,"comment_id":136621324,"body_markdown":"By &#39;class&#39;, I&#39;m assuming you mean a Java source file, not the compiled class; You&#39;ve included a &#39;maven&#39; tag, so I&#39;m assuming you&#39;re using Maven to build a war file; Are these assumptions correct?","body":"By &#39;class&#39;, I&#39;m assuming you mean a Java source file, not the compiled class; You&#39;ve included a &#39;maven&#39; tag, so I&#39;m assuming you&#39;re using Maven to build a war file; Are these assumptions correct?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700148699,"post_id":77496038,"comment_id":136621342,"body_markdown":"No, i use a `.class` file and yes I use maven to build a war","body":"No, i use a <code>.class</code> file and yes I use maven to build a war"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700148814,"post_id":77496038,"comment_id":136621360,"body_markdown":"OK, is the `DbUtilities` class in a package?","body":"OK, is the <code>DbUtilities</code> class in a package?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700148872,"post_id":77496038,"comment_id":136621377,"body_markdown":"No, is directly in `classes`","body":"No, is directly in <code>classes</code>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149032,"post_id":77496038,"comment_id":136621422,"body_markdown":"That&#39;s not what dictates whether or not the class is in a package; is there a `package` declaration in the source for `DbUtilities`?","body":"That&#39;s not what dictates whether or not the class is in a package; is there a <code>package</code> declaration in the source for <code>DbUtilities</code>?"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1700149151,"post_id":77496038,"comment_id":136621446,"body_markdown":"Maybe check this https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package","body":"Maybe check this <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\" title=\"how to access java classes in the default package\">stackoverflow.com/questions/283816/&hellip;</a>"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149223,"post_id":77496038,"comment_id":136621464,"body_markdown":"Not package declaration in the source file, only import of classes","body":"Not package declaration in the source file, only import of classes"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149522,"post_id":77496038,"comment_id":136621539,"body_markdown":"Have you checked the class file is in the war file?  I think the Maven war plugin might treat the `classes` directory as special, as in it expects to create it.  If you put `DbUtilities.class` in `src/main/resources`, the Maven war plugin will put it in the `WEB-INF/classes` directory in the war file when you run the build.","body":"Have you checked the class file is in the war file?  I think the Maven war plugin might treat the <code>classes</code> directory as special, as in it expects to create it.  If you put <code>DbUtilities.class</code> in <code>src&#47;main&#47;resources</code>, the Maven war plugin will put it in the <code>WEB-INF&#47;classes</code> directory in the war file when you run the build."},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149684,"post_id":77496038,"comment_id":136621586,"body_markdown":"In the `target` directory is effectively under `WEB-INF/classes`","body":"In the <code>target</code> directory is effectively under <code>WEB-INF&#47;classes</code>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149828,"post_id":77496038,"comment_id":136621637,"body_markdown":"In the war or on your file system?","body":"In the war or on your file system?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149928,"post_id":77496038,"comment_id":136621657,"body_markdown":"in both, also in the war","body":"in both, also in the war"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700153618,"post_id":77496038,"comment_id":136622435,"body_markdown":"Right, sorry I&#39;m being daft - Java does not support imports from the default package; see this answer - https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java.  In short, you need to put `DbUtilities` in a package.","body":"Right, sorry I&#39;m being daft - Java does not support imports from the default package; see this answer - <a href=\"https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java\" title=\"whats the syntax to import a class in a default package in java\">stackoverflow.com/questions/2030148/&hellip;</a>.  In short, you need to put <code>DbUtilities</code> in a package."}],"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700155310,"answer_count":0,"score":0,"last_activity_date":1700148254,"creation_date":1700148254,"question_id":77496038,"body_markdown":"A class that is in `src/main/webapp/WEB-INF/classes` and the `.jsp` file doesn&#39;t read that class.\r\n\r\nI have a class called `DbUtilities` in `src/main/webapp/WEB-INF/classes` directory. The `index.jsp` file doesn&#39;t read that class.\r\nRunning the application, I have this error:\r\n\r\n```\r\nAn error occurred at line: [14] in the generated java file: [/usr/local/tomcat/work/Catalina/localhost/UsersLoginTomcat/org/apache/jsp/index_jsp.java]\r\nThe import DbUtilities cannot be resolved\r\n```\r\n```\r\nAn error occurred at line: [33] in the jsp file: [/index.jsp]\r\nDbUtilities cannot be resolved\r\n```","title":"Import class in file jsp","body":"<p>A class that is in <code>src/main/webapp/WEB-INF/classes</code> and the <code>.jsp</code> file doesn't read that class.</p>\n<p>I have a class called <code>DbUtilities</code> in <code>src/main/webapp/WEB-INF/classes</code> directory. The <code>index.jsp</code> file doesn't read that class.\nRunning the application, I have this error:</p>\n<pre><code>An error occurred at line: [14] in the generated java file: [/usr/local/tomcat/work/Catalina/localhost/UsersLoginTomcat/org/apache/jsp/index_jsp.java]\nThe import DbUtilities cannot be resolved\n</code></pre>\n<pre><code>An error occurred at line: [33] in the jsp file: [/index.jsp]\nDbUtilities cannot be resolved\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","openapi","openapi-generator"],"owner":{"account_id":20813557,"reputation":11,"user_id":16476443,"display_name":"Arthur Shtypuliak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148235,"creation_date":1700148235,"question_id":77496034,"body_markdown":"Recently I tried to use OpenAPI tools for generating API from spec (yaml file with endpoints desciption). All configuration is pretty common with added mappings for schema and where it is placed in src directory.\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &quot;2.7.17&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &quot;1.0.15.RELEASE&quot;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot;\r\n}\r\n\r\ngroup = &#39;com.example.file.service&#39;\r\nversion = &#39;undefined&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;\r\n    implementation &quot;org.openapitools:jackson-databind-nullable:0.2.6&quot;\r\n    implementation platform(&quot;software.amazon.awssdk:bom:2.20.45&quot;)\r\n    implementation &quot;software.amazon.awssdk:s3&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\nopenApiValidate {\r\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\r\n}\r\n\r\nopenApiGenerate {\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\r\n    outputDir = &quot;$buildDir/generated&quot;\r\n    apiPackage = &quot;com.example.file.service.controller&quot;\r\n    modelPackage = &quot;com.example.file.service.model&quot;\r\n    configOptions = [\r\n            dateLibrary  : &quot;java8&quot;,\r\n            interfaceOnly: &quot;true&quot;,\r\n            useTags      : &quot;true&quot;\r\n    ]\r\n    importMappings = [\r\n            &quot;FileMetaDTO&quot;: &quot;com.example.file.service.dto.FileMetaDTO&quot;,\r\n            &quot;ErrorDTO&quot;: &quot;com.example.file.service.dto.ErrorDTO&quot;,\r\n    ]\r\n}\r\n\r\ntasks.openApiGenerate.dependsOn tasks.processResources\r\ncompileJava.dependsOn tasks.openApiGenerate\r\nsourceSets.main.java.srcDir &quot;$buildDir/generated/src/main/java&quot;\r\nsourceSets.main.resources.srcDir &quot;$buildDir/generated/src/main/resources&quot;\r\n```\r\n\r\nHere is the example of openAPI yaml file with declared endpoint:\r\n\r\n```\r\nopenapi: 3.0.3\r\ninfo:\r\n  title: Cloud Storage File Service\r\n  version: 1.0.0\r\npaths:\r\n  # UploadFileController\r\n  /cs-api/files/data:\r\n    post:\r\n      tags:\r\n        - upload-file-controller\r\n      summary: Upload file\r\n      operationId: uploadFile\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              type: object\r\n              required: [ &quot;file&quot; ]\r\n              properties:\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n        required: true\r\n        description: File for saving\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: FileMetaDTO\r\n```\r\nCurrently everything works fine, but I find it annoying when during openApiGenerate task in logs I see messages like &#39;#/components/schemas/{pojo object} is not defined&#39; and after that message with donation link.\r\nHere is example of message I get every time I build project:\r\n\r\n```\r\n&gt; Task :processResources\r\n\r\n&gt; Task :openApiGenerate\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n################################################################################\r\n# Thanks for using OpenAPI Generator.                                          #\r\n# Please consider donation to help us maintain this project ?                 #\r\n# https://opencollective.com/openapi_generator/donate                          #\r\n################################################################################\r\nSuccessfully generated code to C:\\Users\\rifleman99\\Develop-projects\\file-service\\build/generated\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :classes\r\n&gt; Task :bootJarMainClassName\r\n```\r\n\r\nViewed different resources bu didn&#39;t find any relevant to my problem.\r\nIs there any possible way to disable this type of messages for this task during build execution.","title":"How to suppress log messages for openApiGenerate task in gradle?","body":"<p>Recently I tried to use OpenAPI tools for generating API from spec (yaml file with endpoints desciption). All configuration is pretty common with added mappings for schema and where it is placed in src directory.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version &quot;2.7.17&quot;\n    id 'io.spring.dependency-management' version &quot;1.0.15.RELEASE&quot;\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot;\n}\n\ngroup = 'com.example.file.service'\nversion = 'undefined'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;\n    implementation &quot;org.openapitools:jackson-databind-nullable:0.2.6&quot;\n    implementation platform(&quot;software.amazon.awssdk:bom:2.20.45&quot;)\n    implementation &quot;software.amazon.awssdk:s3&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nopenApiValidate {\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\n}\n\nopenApiGenerate {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\n    outputDir = &quot;$buildDir/generated&quot;\n    apiPackage = &quot;com.example.file.service.controller&quot;\n    modelPackage = &quot;com.example.file.service.model&quot;\n    configOptions = [\n            dateLibrary  : &quot;java8&quot;,\n            interfaceOnly: &quot;true&quot;,\n            useTags      : &quot;true&quot;\n    ]\n    importMappings = [\n            &quot;FileMetaDTO&quot;: &quot;com.example.file.service.dto.FileMetaDTO&quot;,\n            &quot;ErrorDTO&quot;: &quot;com.example.file.service.dto.ErrorDTO&quot;,\n    ]\n}\n\ntasks.openApiGenerate.dependsOn tasks.processResources\ncompileJava.dependsOn tasks.openApiGenerate\nsourceSets.main.java.srcDir &quot;$buildDir/generated/src/main/java&quot;\nsourceSets.main.resources.srcDir &quot;$buildDir/generated/src/main/resources&quot;\n</code></pre>\n<p>Here is the example of openAPI yaml file with declared endpoint:</p>\n<pre><code>openapi: 3.0.3\ninfo:\n  title: Cloud Storage File Service\n  version: 1.0.0\npaths:\n  # UploadFileController\n  /cs-api/files/data:\n    post:\n      tags:\n        - upload-file-controller\n      summary: Upload file\n      operationId: uploadFile\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              required: [ &quot;file&quot; ]\n              properties:\n                file:\n                  type: string\n                  format: binary\n        required: true\n        description: File for saving\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: FileMetaDTO\n</code></pre>\n<p>Currently everything works fine, but I find it annoying when during openApiGenerate task in logs I see messages like '#/components/schemas/{pojo object} is not defined' and after that message with donation link.\nHere is example of message I get every time I build project:</p>\n<pre><code>&gt; Task :processResources\n\n&gt; Task :openApiGenerate\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n################################################################################\n# Thanks for using OpenAPI Generator.                                          #\n# Please consider donation to help us maintain this project ?                 #\n# https://opencollective.com/openapi_generator/donate                          #\n################################################################################\nSuccessfully generated code to C:\\Users\\rifleman99\\Develop-projects\\file-service\\build/generated\n\n&gt; Task :compileJava\n&gt; Task :classes\n&gt; Task :bootJarMainClassName\n</code></pre>\n<p>Viewed different resources bu didn't find any relevant to my problem.\nIs there any possible way to disable this type of messages for this task during build execution.</p>\n"},{"tags":["java",".net","security","session","authorization"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675094083,"post_id":75286884,"comment_id":132849299,"body_markdown":"How do you define &quot;general practise&quot;, and why do you assume there is one?","body":"How do you define &quot;general practise&quot;, and why do you assume there is one?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675094406,"post_id":75286884,"comment_id":132849412,"body_markdown":"&quot;*Can a session be shared amongst the 2 services written in different technology?*&quot; Yes because a session is not a language construct, at least in any language I know about.","body":"&quot;<i>Can a session be shared amongst the 2 services written in different technology?</i>&quot; Yes because a session is not a language construct, at least in any language I know about."}],"owner":{"account_id":1044026,"reputation":2141,"user_id":1049391,"accept_rate":62,"display_name":"AbhishekB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148174,"creation_date":1675093997,"question_id":75286884,"body_markdown":"What is the general practise for handling Authentication in a polyglot architecture (e.g. Java and .Net Server)\r\n\r\nCan a session be shared amongst the 2 services written in different technology?","title":"Implementing Authorization in Polyglot Architecture","body":"<p>What is the general practise for handling Authentication in a polyglot architecture (e.g. Java and .Net Server)</p>\n<p>Can a session be shared amongst the 2 services written in different technology?</p>\n"},{"tags":["java","spring-boot","intellij-idea","code-coverage","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1700148451,"post_id":77495968,"comment_id":136621300,"body_markdown":"So you found out that Java’s -cp option does not work with wildcards, just as described in the documentation. What is your question?","body":"So you found out that Java’s -cp option does not work with wildcards, just as described in the documentation. What is your question?"}],"owner":{"account_id":20090370,"reputation":1,"user_id":14731005,"display_name":"Hassan Shamseddine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700147573,"creation_date":1700147573,"question_id":77495968,"body_markdown":"So I have been trying to use intelliJ coverage agent &quot;intellij-coverage-agent-1.0.735.jar&quot; to generate a report for test coverage same as intellij&#39;s results. To execute the tests I have to use the junit5 platform console &quot;junit-platform-console-standalone-1.10.1.jar&quot;. But, this method produced the following errors:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes:target/test-classes/\r\n \r\nFailures (1):\r\n  JUnit Jupiter:ExampleTest:evensTest()\r\n    MethodSource [className = &#39;x.y.codecoverage.example.ExampleTest&#39;, methodName = &#39;evensTest&#39;, methodParameterTypes = &#39;&#39;]\r\n    =&gt; java.lang.NoClassDefFoundError: com/google/libs/lib/LibName\r\n```\r\n\r\nThe cause of this issue, is that junit console requires libraries to execute the tests. So I used maven-dependency-plugin to generate the libs to a directory inside the project and I passed the path of that directory with an &quot;*&quot; to the `--classpath`/`-cp` like this:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/*\r\n```\r\n\r\nBut to no avail, the issue persists.\r\n\r\nEventually I tried to specify the name of the lib in the classpath like the following:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/LibName.jar\r\n```\r\n\r\nAnd it worked. But now I have to pass the libs for every project and I am trying to use this inside a CI/CD pipeline for all maven projects and doing it manually or through a script sounds counter intuitive.\r\n\r\nIf you need more info please do let me know.\r\nI appreciate your help.","title":"junit platform console &quot;--classpath DIR/*&quot; doesn&#39;t work","body":"<p>So I have been trying to use intelliJ coverage agent &quot;intellij-coverage-agent-1.0.735.jar&quot; to generate a report for test coverage same as intellij's results. To execute the tests I have to use the junit5 platform console &quot;junit-platform-console-standalone-1.10.1.jar&quot;. But, this method produced the following errors:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes:target/test-classes/\n \nFailures (1):\n  JUnit Jupiter:ExampleTest:evensTest()\n    MethodSource [className = 'x.y.codecoverage.example.ExampleTest', methodName = 'evensTest', methodParameterTypes = '']\n    =&gt; java.lang.NoClassDefFoundError: com/google/libs/lib/LibName\n</code></pre>\n<p>The cause of this issue, is that junit console requires libraries to execute the tests. So I used maven-dependency-plugin to generate the libs to a directory inside the project and I passed the path of that directory with an &quot;*&quot; to the <code>--classpath</code>/<code>-cp</code> like this:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/*\n</code></pre>\n<p>But to no avail, the issue persists.</p>\n<p>Eventually I tried to specify the name of the lib in the classpath like the following:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/LibName.jar\n</code></pre>\n<p>And it worked. But now I have to pass the libs for every project and I am trying to use this inside a CI/CD pipeline for all maven projects and doing it manually or through a script sounds counter intuitive.</p>\n<p>If you need more info please do let me know.\nI appreciate your help.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":0,"creation_date":1343817482,"post_id":11757348,"comment_id":15609061,"body_markdown":"Is there a reason why you need to capture log time in milliseconds? Logs are printed in order of execution anyway.","body":"Is there a reason why you need to capture log time in milliseconds? Logs are printed in order of execution anyway."},{"owner":{"account_id":1658584,"reputation":4191,"user_id":1527394,"accept_rate":85,"display_name":"alicjasalamon"},"score":0,"creation_date":1343817695,"post_id":11757348,"comment_id":15609153,"body_markdown":"@RajeshJAdvani I try to gather logs from distributed system and calculate time difference between them. I need reliable information when the log was generated.","body":"@RajeshJAdvani I try to gather logs from distributed system and calculate time difference between them. I need reliable information when the log was generated."}],"answers":[{"comments":[{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":4,"creation_date":1385753258,"post_id":11757454,"comment_id":30276189,"body_markdown":"Do not use PatternLayout! Fraught with concurrency issues and doesn&#39;t always like exception statements. The answer is EnhancedPatternLayout.","body":"Do not use PatternLayout! Fraught with concurrency issues and doesn&#39;t always like exception statements. The answer is EnhancedPatternLayout."}],"tags":[],"owner":{"account_id":1313412,"reputation":1011,"user_id":1260901,"display_name":"turankonan"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1430149413,"creation_date":1343817520,"answer_id":11757454,"question_id":11757348,"body_markdown":"You can try this one.\r\n\r\n    log4j.appender.appender_name.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.appender_name.layout.ConversionPattern=%d %p [%c] - %m%n\r\n\r\nDate params `%d`. For example : `%d{HH:mm:ss,SSS}`.\r\n\r\nhttp://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"log4j : current time in milliseconds","body":"<p>You can try this one.</p>\n\n<pre><code>log4j.appender.appender_name.layout=org.apache.log4j.PatternLayout\nlog4j.appender.appender_name.layout.ConversionPattern=%d %p [%c] - %m%n\n</code></pre>\n\n<p>Date params <code>%d</code>. For example : <code>%d{HH:mm:ss,SSS}</code>.</p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html</a></p>\n"},{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1343817627,"creation_date":1343817627,"answer_id":11757484,"question_id":11757348,"body_markdown":"Try this,\r\n\r\n       %d{dd MMM yyyy HH:mm:ss,SSS}","title":"log4j : current time in milliseconds","body":"<p>Try this,</p>\n\n<pre><code>   %d{dd MMM yyyy HH:mm:ss,SSS}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":11,"creation_date":1343823291,"post_id":11757536,"comment_id":15611449,"body_markdown":"I don&#39;t agree that this is not possible. The %d symbol actually works as the default is to show milliseconds, while you can configure it to turn it off. Sample time: 01 Aug 2012 17:41:53,357. Symbol used: %d{dd MMM yyyy HH:mm:ss,SSS}","body":"I don&#39;t agree that this is not possible. The %d symbol actually works as the default is to show milliseconds, while you can configure it to turn it off. Sample time: 01 Aug 2012 17:41:53,357. Symbol used: %d{dd MMM yyyy HH:mm:ss,SSS}"},{"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"score":2,"creation_date":1343823995,"post_id":11757536,"comment_id":15611795,"body_markdown":"That&#39;s milliseconds as part of the date, not the date in milliseconds. It&#39;s completely different. From the original question, what the OP was asking for was for a way to print a timestamp *in* milliseconds. Read before downvoting please.","body":"That&#39;s milliseconds as part of the date, not the date in milliseconds. It&#39;s completely different. From the original question, what the OP was asking for was for a way to print a timestamp <i>in</i> milliseconds. Read before downvoting please."},{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":0,"creation_date":1343887478,"post_id":11757536,"comment_id":15633164,"body_markdown":"Ok, agreed. I&#39;d like to remove my downvote, but can&#39;t since too much time has gone by. But if the OP needs to compare the logs from multiple systems, (s)he can still use the time WITH milliseconds and do the calculation on their own - givenDateFormat.parse(dateString).getTime(). It would be simpler than extending log4j and would work on previously generated log files too.","body":"Ok, agreed. I&#39;d like to remove my downvote, but can&#39;t since too much time has gone by. But if the OP needs to compare the logs from multiple systems, (s)he can still use the time WITH milliseconds and do the calculation on their own - givenDateFormat.parse(dateString).getTime(). It would be simpler than extending log4j and would work on previously generated log files too."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1385753117,"post_id":11757536,"comment_id":30276135,"body_markdown":"@Rajesh: Date processing in Log4j uses Java&#39;s horribly slow Date api. Literally, multiple milliseconds or tens of milliseconds can be shaved off the execution time for each log statement by grabbing System.currentTimeMillis(). This is expecially useful for people who log to DBs as they can then farm off the date computations where they might actually be faster!","body":"@Rajesh: Date processing in Log4j uses Java&#39;s horribly slow Date api. Literally, multiple milliseconds or tens of milliseconds can be shaved off the execution time for each log statement by grabbing System.currentTimeMillis(). This is expecially useful for people who log to DBs as they can then farm off the date computations where they might actually be faster!"}],"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"comment_count":4,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1539083558,"creation_date":1343817802,"answer_id":11757536,"question_id":11757348,"body_markdown":"There is no Log4J symbol that does exactly what you want.\r\n\r\n`%d` returns the current date with a given pattern, defined by a `SimpleDateFormat` (the pattern you put between the brackets), but doesn&#39;t give you the time in millis.\r\n\r\n`%r` gives the number of milliseconds **since the start of execution**.\r\n\r\nOne possible way of achieving what you want is to extend the behaviour of Log4j, it&#39;s quite a bit more complex, but if it&#39;s absolutely necessary... here you go:\r\n\r\n[Customize log4j][1] (edit: no longer online?)  \r\n[Customize log4j][2] (edit: 2018 alternative)\r\n\r\n**Edit**:\r\nKeep in mind that, from your comment, if you need to figure out time differences between executions in different machines, you have to make sure the clocks of the machines are synchronized, or it&#39;ll be leading you to wrong conclusions.\r\n\r\n\r\n  [1]: http://www.jajakarta.org/log4j/jakarta-log4j-1.1.3/docs/deepExtension.html\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/extending.html","title":"log4j : current time in milliseconds","body":"<p>There is no Log4J symbol that does exactly what you want.</p>\n\n<p><code>%d</code> returns the current date with a given pattern, defined by a <code>SimpleDateFormat</code> (the pattern you put between the brackets), but doesn't give you the time in millis.</p>\n\n<p><code>%r</code> gives the number of milliseconds <strong>since the start of execution</strong>.</p>\n\n<p>One possible way of achieving what you want is to extend the behaviour of Log4j, it's quite a bit more complex, but if it's absolutely necessary... here you go:</p>\n\n<p><a href=\"http://www.jajakarta.org/log4j/jakarta-log4j-1.1.3/docs/deepExtension.html\" rel=\"nofollow noreferrer\">Customize log4j</a> (edit: no longer online?)<br>\n<a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html\" rel=\"nofollow noreferrer\">Customize log4j</a> (edit: 2018 alternative)</p>\n\n<p><strong>Edit</strong>:\nKeep in mind that, from your comment, if you need to figure out time differences between executions in different machines, you have to make sure the clocks of the machines are synchronized, or it'll be leading you to wrong conclusions.</p>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1498628442,"post_id":43472557,"comment_id":76569338,"body_markdown":"The manual also says %d{ISO8601} to get ISO 8601, but that isn&#39;t the case either, so I&#39;m not sure I can trust it anymore.","body":"The manual also says %d{ISO8601} to get ISO 8601, but that isn&#39;t the case either, so I&#39;m not sure I can trust it anymore."},{"owner":{"account_id":6013991,"reputation":126,"user_id":4723495,"accept_rate":60,"display_name":"Alireza"},"score":0,"creation_date":1556619549,"post_id":43472557,"comment_id":98491523,"body_markdown":"very very perfect solution","body":"very very perfect solution"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1580458358,"post_id":43472557,"comment_id":106111409,"body_markdown":"`Could not instantiate SimpleDateFormat with UNIX` `Could not instantiate SimpleDateFormat with UNIX_MILLIS` `java.lang.IllegalArgumentException: Illegal pattern character &#39;U&#39;` It seems there are three explicit cheks for `ABSOLUTE`, `DATE`, and `ISO8601`, and if its neither of those, the string is passed to `SimpleDateFormat` verbatim.","body":"<code>Could not instantiate SimpleDateFormat with UNIX</code> <code>Could not instantiate SimpleDateFormat with UNIX_MILLIS</code> <code>java.lang.IllegalArgumentException: Illegal pattern character &#39;U&#39;</code> It seems there are three explicit cheks for <code>ABSOLUTE</code>, <code>DATE</code>, and <code>ISO8601</code>, and if its neither of those, the string is passed to <code>SimpleDateFormat</code> verbatim."},{"owner":{"account_id":18192006,"reputation":174,"user_id":13498437,"display_name":"Rick Dou"},"score":0,"creation_date":1647404616,"post_id":43472557,"comment_id":126360102,"body_markdown":"Great! Thanks so much. But note that it must be version 2.x (the one that exposed security vulnerabilities some time ago)","body":"Great! Thanks so much. But note that it must be version 2.x (the one that exposed security vulnerabilities some time ago)"}],"tags":[],"owner":{"account_id":1241819,"reputation":1392,"user_id":1204246,"accept_rate":75,"display_name":"thegeko"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492519471,"creation_date":1492519471,"answer_id":43472557,"question_id":11757348,"body_markdown":"You should be able to use `%d{UNIX_MILLIS}` From the [manual][1]:\r\n\r\n&gt; `%d{UNIX}` outputs the UNIX time in seconds. `%d{UNIX_MILLIS}` outputs the UNIX time in milliseconds. The UNIX time is the difference, in seconds for UNIX and in milliseconds for UNIX_MILLIS, between the current time and midnight, January 1, 1970 UTC. While the time unit is milliseconds, the granularity depends on the operating system (Windows). This is an efficient way to output the event time because only a conversion from long to String takes place, there is no Date formatting involved.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html","title":"log4j : current time in milliseconds","body":"<p>You should be able to use <code>%d{UNIX_MILLIS}</code> From the <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"noreferrer\">manual</a>:</p>\n\n<blockquote>\n  <p><code>%d{UNIX}</code> outputs the UNIX time in seconds. <code>%d{UNIX_MILLIS}</code> outputs the UNIX time in milliseconds. The UNIX time is the difference, in seconds for UNIX and in milliseconds for UNIX_MILLIS, between the current time and midnight, January 1, 1970 UTC. While the time unit is milliseconds, the granularity depends on the operating system (Windows). This is an efficient way to output the event time because only a conversion from long to String takes place, there is no Date formatting involved.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10500003,"reputation":1,"user_id":7738995,"display_name":"Sriman Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700147111,"creation_date":1700147111,"answer_id":77495928,"question_id":11757348,"body_markdown":"Please refer to this page: https://logback.qos.ch/manual/layouts.html\r\nPattern should be: %date{HH:mm:ss.SSS}","title":"log4j : current time in milliseconds","body":"<p>Please refer to this page: <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html</a>\nPattern should be: %date{HH:mm:ss.SSS}</p>\n"}],"owner":{"account_id":1658584,"reputation":4191,"user_id":1527394,"accept_rate":85,"display_name":"alicjasalamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35900,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11757536,"answer_count":5,"score":18,"last_activity_date":1700147111,"creation_date":1343817074,"question_id":11757348,"body_markdown":"In `log4j.properties` I can set `PatternLayout` e.g. `(&quot;[%p] %c - %m - %d %n&quot;)`\r\n\r\nIs there any symbol (%something) which returns current time in milliseconds?","title":"log4j : current time in milliseconds","body":"<p>In <code>log4j.properties</code> I can set <code>PatternLayout</code> e.g. <code>(\"[%p] %c - %m - %d %n\")</code></p>\n\n<p>Is there any symbol (%something) which returns current time in milliseconds?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":9664593,"reputation":391,"user_id":7171454,"accept_rate":61,"display_name":"codehacker"},"score":0,"creation_date":1498560999,"post_id":44441328,"comment_id":76537532,"body_markdown":"From java consumer it is possible .","body":"From java consumer it is possible ."}],"answers":[{"comments":[{"owner":{"account_id":2939068,"reputation":2834,"user_id":2517384,"accept_rate":81,"display_name":"MeetJoeBlack"},"score":0,"creation_date":1522265077,"post_id":44454853,"comment_id":86092660,"body_markdown":"in Kafka sources, I guess","body":"in Kafka sources, I guess"}],"tags":[],"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497002442,"creation_date":1497002442,"answer_id":44454853,"question_id":44441328,"body_markdown":"For kafka 9 there is nothing out-of-the-box that can print you that info.\r\n\r\nAccording to the code, message formatter gets key and value only.\r\n\r\n    try {\r\n        formatter.writeTo(msg.key, msg.value, System.out)\r\n    }\r\n\r\n`--property print.key=true` allows to print message key. \r\n\r\nIn kafka 10 there is one more useful param `print.timestamp`\r\n","title":"Kafka console consumer get partition","body":"<p>For kafka 9 there is nothing out-of-the-box that can print you that info.</p>\n\n<p>According to the code, message formatter gets key and value only.</p>\n\n<pre><code>try {\n    formatter.writeTo(msg.key, msg.value, System.out)\n}\n</code></pre>\n\n<p><code>--property print.key=true</code> allows to print message key. </p>\n\n<p>In kafka 10 there is one more useful param <code>print.timestamp</code></p>\n"},{"tags":[],"owner":{"account_id":6381118,"reputation":8062,"user_id":4950528,"display_name":"Hans Jespersen"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1700146979,"creation_date":1497072372,"answer_id":44469886,"question_id":44441328,"body_markdown":"Consider using a more powerful Kafka command line consumer like kafkacat https://github.com/edenhill/kafkacat/blob/master/README.md\r\n\r\nFor example, the following command will print the topic, partition, offset and message payload/value for each message consumed:\r\n\r\n`kcat -b &lt;broker&gt; -C -t &lt;topic&gt; -f &#39;%t %p @ %o: %s\\n&#39;`\r\n","title":"Kafka console consumer get partition","body":"<p>Consider using a more powerful Kafka command line consumer like kafkacat <a href=\"https://github.com/edenhill/kafkacat/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/edenhill/kafkacat/blob/master/README.md</a></p>\n<p>For example, the following command will print the topic, partition, offset and message payload/value for each message consumed:</p>\n<p><code>kcat -b &lt;broker&gt; -C -t &lt;topic&gt; -f '%t %p @ %o: %s\\n'</code></p>\n"},{"comments":[{"owner":{"account_id":6927146,"reputation":686,"user_id":5317869,"display_name":"PMah"},"score":0,"creation_date":1673602177,"post_id":70373807,"comment_id":132540648,"body_markdown":"According to https://cwiki.apache.org/confluence/display/KAFKA/KIP-431%3A+Support+of+printing+additional+ConsumerRecord+fields+in+DefaultMessageFormatter, the option was officially added in 2.7, but existed undocumented before that.","body":"According to <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-431%3A+Support+of+printing+additional+ConsumerRecord+fields+in+DefaultMessageFormatter\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/KAFKA/&hellip;</a>, the option was officially added in 2.7, but existed undocumented before that."},{"owner":{"account_id":11372212,"reputation":797,"user_id":8337498,"accept_rate":60,"display_name":"taraf"},"score":0,"creation_date":1677003523,"post_id":70373807,"comment_id":133249899,"body_markdown":"This doesn&#39;t print the partition for me even though I use the 2.12 version","body":"This doesn&#39;t print the partition for me even though I use the 2.12 version"}],"tags":[],"owner":{"account_id":3876064,"reputation":126,"user_id":3210078,"display_name":"MattyIceDev"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700147090,"creation_date":1639628561,"answer_id":70373807,"question_id":44441328,"body_markdown":"I found I was successfully able to subscribe to a topic and output the key and partition using this --properties flag like so: \r\n\r\n```\r\nkafka-console-consumer \\\r\n  --topic &lt;some-topic&gt; \\\r\n  --bootstrap-server :9092 \\\r\n  --from-beginning \\\r\n  --property print.key=true \\\r\n  --property print.partition=true\t\r\n```\r\n\r\nIt gave me an output like this: \r\n\r\n```\r\nPartition:0\t&quot;3&quot;\t{&quot;id&quot;: 2}\r\n```","title":"Kafka console consumer get partition","body":"<p>I found I was successfully able to subscribe to a topic and output the key and partition using this --properties flag like so:</p>\n<pre><code>kafka-console-consumer \\\n  --topic &lt;some-topic&gt; \\\n  --bootstrap-server :9092 \\\n  --from-beginning \\\n  --property print.key=true \\\n  --property print.partition=true   \n</code></pre>\n<p>It gave me an output like this:</p>\n<pre><code>Partition:0 &quot;3&quot; {&quot;id&quot;: 2}\n</code></pre>\n"}],"owner":{"account_id":2939068,"reputation":2834,"user_id":2517384,"accept_rate":81,"display_name":"MeetJoeBlack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12953,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44469886,"answer_count":3,"score":9,"last_activity_date":1700147090,"creation_date":1496940043,"question_id":44441328,"body_markdown":"I&#39;m using Kafka console consumer to consume messages from the topic with several partitions:\r\n\r\n    kafka-console-consumer.bat --bootstrap-server localhost:9092 --from-beginning --topic events\r\nBut it prints only message body. Is there any way to print record metadata or partition number as well? Cause I want to know where the message сonsumed from.\r\n\r\nI&#39;ve explored console consumer doc http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf but didn&#39;t find any related properties.\r\n\r\n**UPDATED:**\r\n\r\nSo, as I see the only solution is to override *DefaultMessageFormatter.class* (we can set it by running kafka console consumer with *--formatter* property) and add custom logic that prints record metadata in the #writeTo(..) method. ","title":"Kafka console consumer get partition","body":"<p>I'm using Kafka console consumer to consume messages from the topic with several partitions:</p>\n\n<pre><code>kafka-console-consumer.bat --bootstrap-server localhost:9092 --from-beginning --topic events\n</code></pre>\n\n<p>But it prints only message body. Is there any way to print record metadata or partition number as well? Cause I want to know where the message сonsumed from.</p>\n\n<p>I've explored console consumer doc <a href=\"http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf\" rel=\"noreferrer\">http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf</a> but didn't find any related properties.</p>\n\n<p><strong>UPDATED:</strong></p>\n\n<p>So, as I see the only solution is to override <em>DefaultMessageFormatter.class</em> (we can set it by running kafka console consumer with <em>--formatter</em> property) and add custom logic that prints record metadata in the #writeTo(..) method. </p>\n"},{"tags":["java","jooq","java-17"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700146919,"post_id":77495747,"comment_id":136620954,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700147099,"post_id":77495747,"comment_id":136620999,"body_markdown":"Possible duplicate: [Java type list is ambiguous?](https://stackoverflow.com/questions/6048946/java-type-list-is-ambiguous) (different class, but essentially the same problem), and [reference to IndexOutOfBoundsException is ambiguous](https://stackoverflow.com/questions/2834253/reference-to-indexoutofboundsexception-is-ambiguous).","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/6048946/java-type-list-is-ambiguous\">Java type list is ambiguous?</a> (different class, but essentially the same problem), and <a href=\"https://stackoverflow.com/questions/2834253/reference-to-indexoutofboundsexception-is-ambiguous\">reference to IndexOutOfBoundsException is ambiguous</a>."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1700145874,"post_id":77495748,"comment_id":136620724,"body_markdown":"Where does the question mention asterisks?","body":"Where does the question mention asterisks?"},{"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"score":0,"creation_date":1700146311,"post_id":77495748,"comment_id":136620819,"body_markdown":"Does it need to be mentioned?","body":"Does it need to be mentioned?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700146907,"post_id":77495748,"comment_id":136620949,"body_markdown":"Yes, your question should have a [mre] which shows the problem.","body":"Yes, your question should have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which shows the problem."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":2,"creation_date":1700150534,"post_id":77495748,"comment_id":136621786,"body_markdown":"Folks, don&#39;t be so harsh. The question was valid. The same code compiled before and stopped compiling with this error, all the information needed to answer the question has been given.","body":"Folks, don&#39;t be so harsh. The question was valid. The same code compiled before and stopped compiling with this error, all the information needed to answer the question has been given."}],"tags":[],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700146394,"creation_date":1700145678,"answer_id":77495748,"question_id":77495747,"body_markdown":"The problem is that jOOQ has a class name with the same name that the JDK does, so when you use the * (asterisk) to import the classes from jOOQ, the compiler doesn&#39;t know which class you are trying to use, for such cases you will need to import the `org.jooq.Record` explicitly.","title":"Reference to Record is ambiguous","body":"<p>The problem is that jOOQ has a class name with the same name that the JDK does, so when you use the * (asterisk) to import the classes from jOOQ, the compiler doesn't know which class you are trying to use, for such cases you will need to import the <code>org.jooq.Record</code> explicitly.</p>\n"}],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1700150434,"answer_count":1,"score":1,"last_activity_date":1700146885,"creation_date":1700145678,"question_id":77495747,"body_markdown":"I&#39;ve updated the Java runtime that will be used to build my application (from 11 to 17), and the source and target configurations continue to be 11.\r\n\r\nAfter trying to build using the Java 17, I got the following error message:\r\n\r\n&gt; reference to Record is ambiguous... both interface org.jooq.Record in\r\n&gt; org.jooq and class java.lang.Record in java.lang match\r\n\r\nDoes anyone know what&#39;s the problem and how to solve it?","title":"Reference to Record is ambiguous","body":"<p>I've updated the Java runtime that will be used to build my application (from 11 to 17), and the source and target configurations continue to be 11.</p>\n<p>After trying to build using the Java 17, I got the following error message:</p>\n<blockquote>\n<p>reference to Record is ambiguous... both interface org.jooq.Record in\norg.jooq and class java.lang.Record in java.lang match</p>\n</blockquote>\n<p>Does anyone know what's the problem and how to solve it?</p>\n"},{"tags":["java","connect","dcom","opc-da"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700161646,"post_id":77495842,"comment_id":136623843,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29918769,"reputation":1,"user_id":22928413,"display_name":"fork4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700146288,"creation_date":1700146288,"question_id":77495842,"body_markdown":"I&#39;ve been solving the problem of connecting to the OPC-server for several days now.\r\nI use this instruction - https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard\r\nI keep getting the error Access is denied, please check whether the [domain-username-password] are correct.\r\nAll rights to DCOM are configured. Third party clients connect to the server, but the code I wrote does not do this.\r\nCan&#39;t use OPC. JEasyOPC due to the fact that this library works with JRE 32-bit, but I need it to work with 64-bit.\r\nI looked through similar threads here, but none of the advice helped.\r\nPlease help me with the problem.\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy code:\r\n```java\r\npackage opcweb;\r\n\r\nimport java.net.UnknownHostException;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport org.jinterop.dcom.common.JIException;\r\nimport org.jinterop.dcom.core.JIVariant;\r\nimport org.openscada.opc.lib.common.AlreadyConnectedException;\r\nimport org.openscada.opc.lib.common.ConnectionInformation;\r\nimport org.openscada.opc.lib.common.NotConnectedException;\r\nimport org.openscada.opc.lib.da.AccessBase;\r\nimport org.openscada.opc.lib.da.AddFailedException;\r\nimport org.openscada.opc.lib.da.DataCallback;\r\nimport org.openscada.opc.lib.da.DuplicateGroupException;\r\nimport org.openscada.opc.lib.da.Group;\r\nimport org.openscada.opc.lib.da.Item;\r\nimport org.openscada.opc.lib.da.ItemState;\r\nimport org.openscada.opc.lib.da.Server;\r\nimport org.openscada.opc.lib.da.SyncAccess;\r\n\r\npublic class App2 {\r\n\r\n\tpublic static void main(String[] args) throws IllegalArgumentException, UnknownHostException, AlreadyConnectedException, NotConnectedException, DuplicateGroupException, AddFailedException, InterruptedException {\r\n\t\tfinal ConnectionInformation ci = new ConnectionInformation();\r\n\t\t \r\n        ci.setHost(&quot;192.168.1.187&quot;);\r\n        ci.setDomain(&quot;&quot;);\r\n        ci.setUser(&quot;commercial&quot;);\r\n        ci.setPassword(&quot;&quot;);\r\n//        ci.setProgId(&quot;SWToolbox.TOPServer.V5&quot;);\r\n         ci.setClsid(&quot;E7272CA7-0148-4E14-A241-FE17BF9526A2&quot;); // if ProgId is not working, try it using the Clsid instead\r\n        final String itemId = &quot;Каскад_Энергосистема.Энергосистема.Регион_001.ПС_001.Выключатель_099.Измерения.Измерение_13.Значение_текущее.Value&quot;;\r\n        // create a new server\r\n        final Server server = new Server(ci, Executors.newSingleThreadScheduledExecutor());\r\n        try {\r\n            // connect to server\r\n            server.connect();\r\n            // add sync access, poll every 500 ms\r\n            final AccessBase access = new SyncAccess(server, 500);\r\n            access.addItem(itemId, new DataCallback() {\r\n                @Override\r\n                public void changed(Item item, ItemState state) {\r\n                    // also dump value\r\n                    try {\r\n                        if (state.getValue().getType() == JIVariant.VT_UI4) {\r\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObjectAsUnsigned().getValue());\r\n                        } else {\r\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObject());\r\n                        }\r\n                    } catch (JIException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n \r\n            // Add a new group\r\n            final Group group = server.addGroup(&quot;test&quot;);\r\n            // Add a new item to the group\r\n            final Item item = group.addItem(itemId);\r\n \r\n            // start reading\r\n            access.bind();\r\n \r\n            // add a thread for writing a value every 3 seconds\r\n            ScheduledExecutorService writeThread = Executors.newSingleThreadScheduledExecutor();\r\n            final AtomicInteger i = new AtomicInteger(0);\r\n            writeThread.scheduleWithFixedDelay(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final JIVariant value = new JIVariant(i.incrementAndGet());\r\n                    try {\r\n                        System.out.println(&quot;&gt;&gt;&gt; &quot; + &quot;writing value &quot; + i.get());\r\n                        item.write(value);\r\n                    } catch (JIException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, 5, 3, TimeUnit.SECONDS);\r\n \r\n            // wait a little bit\r\n            Thread.sleep(20 * 1000);\r\n            writeThread.shutdownNow();\r\n            // stop reading\r\n            access.unbind();\r\n        } catch (final JIException e) {\r\n            System.out.println(String.format(&quot;%08X: %s&quot;, e.getErrorCode(), server.getErrorMessage(e.getErrorCode())));\r\n        }\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nError stack:\r\n\r\n```\r\n[main] INFO org.openscada.opc.lib.da.Server - Socket timeout: 0 \r\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\r\nINFO: j-Interop Version = null\r\n\r\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\r\nINFO: java.specification.version = 20\r\nsun.cpu.isalist = amd64\r\nsun.jnu.encoding = Cp1251\r\njava.class.path = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\\target\\classes;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.dcom\\1.5.0\\org.openscada.opc.dcom-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.lib\\1.5.0\\org.openscada.opc.lib-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.2\\slf4j-api-1.7.2.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.core\\2.1.8\\org.openscada.jinterop.core-2.1.8.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\external\\org.openscada.external.jcifs\\1.2.25\\org.openscada.external.jcifs-1.2.25.jar;C:\\Users\\commercial\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.deps\\1.5.0\\org.openscada.jinterop.deps-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.66\\bcprov-jdk15on-1.66.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar\r\njava.vm.vendor = Oracle Corporation\r\nsun.arch.data.model = 64\r\nuser.variant = \r\njava.vendor.url = https://java.oracle.com/\r\nuser.timezone = Asia/Almaty\r\njava.vm.specification.version = 20\r\nos.name = Windows 10\r\nsun.java.launcher = SUN_STANDARD\r\nuser.country = RU\r\nsun.boot.library.path = C:\\Program Files\\Java\\jdk-20\\bin\r\nsun.java.command = opcweb.App2\r\njdk.debug = release\r\nsun.cpu.endian = little\r\nuser.home = C:\\Users\\commercial\r\nuser.language = ru\r\njava.specification.vendor = Oracle Corporation\r\njava.version.date = 2023-07-18\r\njava.home = C:\\Program Files\\Java\\jdk-20\r\nfile.separator = \\\r\njava.vm.compressedOopsMode = 32-bit\r\nline.separator = \r\n\r\njava.vm.specification.vendor = Oracle Corporation\r\njava.specification.name = Java Platform API Specification\r\nuser.script = \r\nsun.management.compiler = HotSpot 64-Bit Tiered Compilers\r\njava.runtime.version = 20.0.2+9-78\r\nuser.name = commercial\r\nstdout.encoding = UTF-8\r\npath.separator = ;\r\nos.version = 10.0\r\njava.runtime.name = Java(TM) SE Runtime Environment\r\nfile.encoding = UTF-8\r\njava.vm.name = Java HotSpot(TM) 64-Bit Server VM\r\njava.vendor.url.bug = https://bugreport.java.com/bugreport/\r\njava.io.tmpdir = C:\\Users\\COMMER~1\\AppData\\Local\\Temp\\\r\njava.version = 20.0.2\r\nuser.dir = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\r\nos.arch = amd64\r\njava.vm.specification.name = Java Virtual Machine Specification\r\nsun.os.patch.level = \r\nnative.encoding = Cp1251\r\njava.library.path = C:\\Program Files\\Java\\jdk-20\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\Java\\jre-1.8\\lib\\ext;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\hsqldb-2.5.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\ucanaccess-5.0.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-lang3-3.8.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-logging-1.2.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\jaccess.jar;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\Users\\commercial\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.3\\bin;C:\\Users\\commercial\\Documents\\MyFiles\\maven\\bin;C:\\Program Files\\Docker Toolbox;.\r\njava.vm.info = mixed mode, sharing\r\nstderr.encoding = UTF-8\r\njava.vendor = Oracle Corporation\r\njava.vm.version = 20.0.2+9-78\r\nsun.io.unicode.encoding = UnicodeLittle\r\njava.class.version = 64.0\r\n\r\n[Timer-2] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ServerPingTimerTask !\r\n[Timer-1] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ClientPingTimerTask !\r\n[main] INFO org.jinterop.dcom.core.JISession - Created Session: -1743690126\r\nнояб. 16, 2023 8:31:54 PM org.jinterop.dcom.common.JISystem internal_dumpMap\r\nINFO: mapOfHostnamesVsIPs: {}\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending BIND\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved BIND_ACK\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending AUTH3\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending ALTER_CTX\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved ALTER_CTX_RESP\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending REQUEST\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved FAULT\r\n[main] INFO org.openscada.opc.lib.da.Server - Failed to connect to server\r\norg.jinterop.dcom.common.JIException: Access is denied, please check whether the [domain-username-password] are correct. Also, if not already done please check the GETTING STARTED and FAQ sections in readme.htm. They provide information on how to correctly configure the Windows machine for DCOM access, so as to avoid such exceptions.  [0x00000005]\r\n\tat org.jinterop.dcom.core.JIComServer.init(JIComServer.java:654)\r\n\tat org.jinterop.dcom.core.JIComServer.initialise(JIComServer.java:561)\r\n\tat org.jinterop.dcom.core.JIComServer.&lt;init&gt;(JIComServer.java:524)\r\n\tat org.openscada.opc.lib.da.Server.connect(Server.java:108)\r\n\tat opcweb.App2.main(App2.java:39)\r\nCaused by: rpc.FaultException: Received fault. (unknown)\r\n\tat rpc.ConnectionOrientedEndpoint.call(ConnectionOrientedEndpoint.java:147)\r\n\tat rpc.Stub.call(Stub.java:134)\r\n\tat org.jinterop.dcom.core.JIComServer.init(JIComServer.java:649)\r\n\t... 4 more\r\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session...\r\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session... forked\r\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JISession - About to destroy 0 sessesion which are linked to this session: -1743690126\r\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JIComOxidRuntime - destroySessionOIDs for session: -1743690126\r\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Destructed DCOM session\r\n00000005: Unknown error (00000005)\r\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Session destruction took 0 ms\r\n\r\n```\r\n","title":"Utgard - Access is denied, please check whether the [domain-username-password] are correct","body":"<p>I've been solving the problem of connecting to the OPC-server for several days now.\nI use this instruction - <a href=\"https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard\" rel=\"nofollow noreferrer\">https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard</a>\nI keep getting the error Access is denied, please check whether the [domain-username-password] are correct.\nAll rights to DCOM are configured. Third party clients connect to the server, but the code I wrote does not do this.\nCan't use OPC. JEasyOPC due to the fact that this library works with JRE 32-bit, but I need it to work with 64-bit.\nI looked through similar threads here, but none of the advice helped.\nPlease help me with the problem.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package opcweb;\n\nimport java.net.UnknownHostException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport org.jinterop.dcom.common.JIException;\nimport org.jinterop.dcom.core.JIVariant;\nimport org.openscada.opc.lib.common.AlreadyConnectedException;\nimport org.openscada.opc.lib.common.ConnectionInformation;\nimport org.openscada.opc.lib.common.NotConnectedException;\nimport org.openscada.opc.lib.da.AccessBase;\nimport org.openscada.opc.lib.da.AddFailedException;\nimport org.openscada.opc.lib.da.DataCallback;\nimport org.openscada.opc.lib.da.DuplicateGroupException;\nimport org.openscada.opc.lib.da.Group;\nimport org.openscada.opc.lib.da.Item;\nimport org.openscada.opc.lib.da.ItemState;\nimport org.openscada.opc.lib.da.Server;\nimport org.openscada.opc.lib.da.SyncAccess;\n\npublic class App2 {\n\n    public static void main(String[] args) throws IllegalArgumentException, UnknownHostException, AlreadyConnectedException, NotConnectedException, DuplicateGroupException, AddFailedException, InterruptedException {\n        final ConnectionInformation ci = new ConnectionInformation();\n         \n        ci.setHost(&quot;192.168.1.187&quot;);\n        ci.setDomain(&quot;&quot;);\n        ci.setUser(&quot;commercial&quot;);\n        ci.setPassword(&quot;&quot;);\n//        ci.setProgId(&quot;SWToolbox.TOPServer.V5&quot;);\n         ci.setClsid(&quot;E7272CA7-0148-4E14-A241-FE17BF9526A2&quot;); // if ProgId is not working, try it using the Clsid instead\n        final String itemId = &quot;Каскад_Энергосистема.Энергосистема.Регион_001.ПС_001.Выключатель_099.Измерения.Измерение_13.Значение_текущее.Value&quot;;\n        // create a new server\n        final Server server = new Server(ci, Executors.newSingleThreadScheduledExecutor());\n        try {\n            // connect to server\n            server.connect();\n            // add sync access, poll every 500 ms\n            final AccessBase access = new SyncAccess(server, 500);\n            access.addItem(itemId, new DataCallback() {\n                @Override\n                public void changed(Item item, ItemState state) {\n                    // also dump value\n                    try {\n                        if (state.getValue().getType() == JIVariant.VT_UI4) {\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObjectAsUnsigned().getValue());\n                        } else {\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObject());\n                        }\n                    } catch (JIException e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n \n            // Add a new group\n            final Group group = server.addGroup(&quot;test&quot;);\n            // Add a new item to the group\n            final Item item = group.addItem(itemId);\n \n            // start reading\n            access.bind();\n \n            // add a thread for writing a value every 3 seconds\n            ScheduledExecutorService writeThread = Executors.newSingleThreadScheduledExecutor();\n            final AtomicInteger i = new AtomicInteger(0);\n            writeThread.scheduleWithFixedDelay(new Runnable() {\n                @Override\n                public void run() {\n                    final JIVariant value = new JIVariant(i.incrementAndGet());\n                    try {\n                        System.out.println(&quot;&gt;&gt;&gt; &quot; + &quot;writing value &quot; + i.get());\n                        item.write(value);\n                    } catch (JIException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, 5, 3, TimeUnit.SECONDS);\n \n            // wait a little bit\n            Thread.sleep(20 * 1000);\n            writeThread.shutdownNow();\n            // stop reading\n            access.unbind();\n        } catch (final JIException e) {\n            System.out.println(String.format(&quot;%08X: %s&quot;, e.getErrorCode(), server.getErrorMessage(e.getErrorCode())));\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>Error stack:</p>\n<pre><code>[main] INFO org.openscada.opc.lib.da.Server - Socket timeout: 0 \nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\nINFO: j-Interop Version = null\n\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\nINFO: java.specification.version = 20\nsun.cpu.isalist = amd64\nsun.jnu.encoding = Cp1251\njava.class.path = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\\target\\classes;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.dcom\\1.5.0\\org.openscada.opc.dcom-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.lib\\1.5.0\\org.openscada.opc.lib-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.2\\slf4j-api-1.7.2.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.core\\2.1.8\\org.openscada.jinterop.core-2.1.8.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\external\\org.openscada.external.jcifs\\1.2.25\\org.openscada.external.jcifs-1.2.25.jar;C:\\Users\\commercial\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.deps\\1.5.0\\org.openscada.jinterop.deps-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.66\\bcprov-jdk15on-1.66.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar\njava.vm.vendor = Oracle Corporation\nsun.arch.data.model = 64\nuser.variant = \njava.vendor.url = https://java.oracle.com/\nuser.timezone = Asia/Almaty\njava.vm.specification.version = 20\nos.name = Windows 10\nsun.java.launcher = SUN_STANDARD\nuser.country = RU\nsun.boot.library.path = C:\\Program Files\\Java\\jdk-20\\bin\nsun.java.command = opcweb.App2\njdk.debug = release\nsun.cpu.endian = little\nuser.home = C:\\Users\\commercial\nuser.language = ru\njava.specification.vendor = Oracle Corporation\njava.version.date = 2023-07-18\njava.home = C:\\Program Files\\Java\\jdk-20\nfile.separator = \\\njava.vm.compressedOopsMode = 32-bit\nline.separator = \n\njava.vm.specification.vendor = Oracle Corporation\njava.specification.name = Java Platform API Specification\nuser.script = \nsun.management.compiler = HotSpot 64-Bit Tiered Compilers\njava.runtime.version = 20.0.2+9-78\nuser.name = commercial\nstdout.encoding = UTF-8\npath.separator = ;\nos.version = 10.0\njava.runtime.name = Java(TM) SE Runtime Environment\nfile.encoding = UTF-8\njava.vm.name = Java HotSpot(TM) 64-Bit Server VM\njava.vendor.url.bug = https://bugreport.java.com/bugreport/\njava.io.tmpdir = C:\\Users\\COMMER~1\\AppData\\Local\\Temp\\\njava.version = 20.0.2\nuser.dir = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\nos.arch = amd64\njava.vm.specification.name = Java Virtual Machine Specification\nsun.os.patch.level = \nnative.encoding = Cp1251\njava.library.path = C:\\Program Files\\Java\\jdk-20\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\Java\\jre-1.8\\lib\\ext;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\hsqldb-2.5.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\ucanaccess-5.0.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-lang3-3.8.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-logging-1.2.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\jaccess.jar;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\Users\\commercial\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.3\\bin;C:\\Users\\commercial\\Documents\\MyFiles\\maven\\bin;C:\\Program Files\\Docker Toolbox;.\njava.vm.info = mixed mode, sharing\nstderr.encoding = UTF-8\njava.vendor = Oracle Corporation\njava.vm.version = 20.0.2+9-78\nsun.io.unicode.encoding = UnicodeLittle\njava.class.version = 64.0\n\n[Timer-2] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ServerPingTimerTask !\n[Timer-1] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ClientPingTimerTask !\n[main] INFO org.jinterop.dcom.core.JISession - Created Session: -1743690126\nнояб. 16, 2023 8:31:54 PM org.jinterop.dcom.common.JISystem internal_dumpMap\nINFO: mapOfHostnamesVsIPs: {}\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending BIND\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved BIND_ACK\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending AUTH3\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending ALTER_CTX\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved ALTER_CTX_RESP\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending REQUEST\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved FAULT\n[main] INFO org.openscada.opc.lib.da.Server - Failed to connect to server\norg.jinterop.dcom.common.JIException: Access is denied, please check whether the [domain-username-password] are correct. Also, if not already done please check the GETTING STARTED and FAQ sections in readme.htm. They provide information on how to correctly configure the Windows machine for DCOM access, so as to avoid such exceptions.  [0x00000005]\n    at org.jinterop.dcom.core.JIComServer.init(JIComServer.java:654)\n    at org.jinterop.dcom.core.JIComServer.initialise(JIComServer.java:561)\n    at org.jinterop.dcom.core.JIComServer.&lt;init&gt;(JIComServer.java:524)\n    at org.openscada.opc.lib.da.Server.connect(Server.java:108)\n    at opcweb.App2.main(App2.java:39)\nCaused by: rpc.FaultException: Received fault. (unknown)\n    at rpc.ConnectionOrientedEndpoint.call(ConnectionOrientedEndpoint.java:147)\n    at rpc.Stub.call(Stub.java:134)\n    at org.jinterop.dcom.core.JIComServer.init(JIComServer.java:649)\n    ... 4 more\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session...\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session... forked\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JISession - About to destroy 0 sessesion which are linked to this session: -1743690126\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JIComOxidRuntime - destroySessionOIDs for session: -1743690126\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Destructed DCOM session\n00000005: Unknown error (00000005)\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Session destruction took 0 ms\n\n</code></pre>\n"},{"tags":["java","maven","versioning","git-submodules"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700150566,"post_id":77495778,"comment_id":136621795,"body_markdown":"did you read the docs? _All &quot;participating&quot; jar files can contribute their own version by supplying their own implementation of the ArtifactVersionService._ So you probably have to do more than just read other modules versions?","body":"did you read the docs? <i>All &quot;participating&quot; jar files can contribute their own version by supplying their own implementation of the ArtifactVersionService.</i> So you probably have to do more than just read other modules versions?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700201323,"post_id":77495778,"comment_id":136627669,"body_markdown":"First do you have really your source files `File3.java` in `src` directory and not in `src/main/java/&lt;package&gt;`?","body":"First do you have really your source files <code>File3.java</code> in <code>src</code> directory and not in <code>src&#47;main&#47;java&#47;&lt;package&gt;</code>?"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700145823,"creation_date":1700145823,"question_id":77495778,"body_markdown":"I have an application with submodules in java configured in IntellIJ (java ones are unnamed).\r\n\r\nEach submodule has its own pom in his base folder (compile works fine).\r\n\r\nMy goal is to have this function working for each submodule\r\n\r\n```\r\nimport de.westemeyer.version.service.ArtifactVersionCollector;\r\n\r\nclass Main {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;Main&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n\r\npublic static void main(String[] argv){\r\n\r\n\tfor(var v : artifactVersionCollector.collectArtifacts().toArray()){\r\n\t\t\tsLogger.error( &quot;{}&quot;, v );\r\n\t\t}\r\n}\r\n}\r\n\r\nclass Prj2 {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;prj2&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n}\r\n\r\n\r\nclass Prj3 {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;prj3&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n}\r\n\r\n```\r\n\r\nRight now I can get the version if I run the application from IJ (As a Java app) but if I run it from the jar (also from IJ) I got only the version of a single component\r\n\r\nNote: to make the jar I use `mvn clean package` and I run it with the same work-directory as the IJ run configuration.\r\n\r\n\r\n```\r\nbase  \r\n|  \r\n - prj1  \r\n --src  \r\n --- Main.java  \r\n --pom.xml  (Main:V1)  \r\n - prj2   \r\n --src  \r\n --- File2.java\r\n --pom.xml  (prj2:V2)  \r\n - prj3  \r\n --src  \r\n --- File3.java\r\n --pom.xml  (prj3:V3)  \r\n- pom.xml (base:va) &lt;== this one contains the modules section  \r\n```\r\n\r\nRight now If I run the call above in Main.java I get the version of Prj3 (prj3:v3)","title":"Java- gathering versions from pom with ArtifactVersionCollector","body":"<p>I have an application with submodules in java configured in IntellIJ (java ones are unnamed).</p>\n<p>Each submodule has its own pom in his base folder (compile works fine).</p>\n<p>My goal is to have this function working for each submodule</p>\n<pre><code>import de.westemeyer.version.service.ArtifactVersionCollector;\n\nclass Main {\nstatic String getVersion(){\n\nString modname = &quot;Main&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n\npublic static void main(String[] argv){\n\n    for(var v : artifactVersionCollector.collectArtifacts().toArray()){\n            sLogger.error( &quot;{}&quot;, v );\n        }\n}\n}\n\nclass Prj2 {\nstatic String getVersion(){\n\nString modname = &quot;prj2&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n}\n\n\nclass Prj3 {\nstatic String getVersion(){\n\nString modname = &quot;prj3&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n}\n\n</code></pre>\n<p>Right now I can get the version if I run the application from IJ (As a Java app) but if I run it from the jar (also from IJ) I got only the version of a single component</p>\n<p>Note: to make the jar I use <code>mvn clean package</code> and I run it with the same work-directory as the IJ run configuration.</p>\n<pre><code>base  \n|  \n - prj1  \n --src  \n --- Main.java  \n --pom.xml  (Main:V1)  \n - prj2   \n --src  \n --- File2.java\n --pom.xml  (prj2:V2)  \n - prj3  \n --src  \n --- File3.java\n --pom.xml  (prj3:V3)  \n- pom.xml (base:va) &lt;== this one contains the modules section  \n</code></pre>\n<p>Right now If I run the call above in Main.java I get the version of Prj3 (prj3:v3)</p>\n"},{"tags":["java","jackson","spring-vault"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1700055181,"post_id":77487732,"comment_id":136607537,"body_markdown":"Is the LocalDateTime value a member field of a class that you control?","body":"Is the LocalDateTime value a member field of a class that you control?"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1700080876,"post_id":77487732,"comment_id":136612239,"body_markdown":"@jonhanson yes.","body":"@jonhanson yes."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1700085390,"post_id":77487732,"comment_id":136612916,"body_markdown":"Have you considered using annotations to override how your class is serialised?","body":"Have you considered using annotations to override how your class is serialised?"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1700086247,"post_id":77487732,"comment_id":136613031,"body_markdown":"I hadn’t until now. Thanks for the tip. Will try this although it’s not ideal.","body":"I hadn’t until now. Thanks for the tip. Will try this although it’s not ideal."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700145544,"creation_date":1700145544,"answer_id":77495727,"question_id":77487732,"body_markdown":"As hinted by one of the commentators, I was able to resolve this by using a Jackson annotation. It&#39;s not ideal but gets the job done without having to change anything in Spring Vault.\r\n\r\n```java\r\n@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\nprivate OffsetDateTime createdAt\r\n```","title":"Customise ObjectMapper to serialise LocalDateTime properly","body":"<p>As hinted by one of the commentators, I was able to resolve this by using a Jackson annotation. It's not ideal but gets the job done without having to change anything in Spring Vault.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\nprivate OffsetDateTime createdAt\n</code></pre>\n"}],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77495727,"answer_count":1,"score":-1,"last_activity_date":1700145544,"creation_date":1700051505,"question_id":77487732,"body_markdown":"I am using Spring Vault in my project and trying to store a serialised representation of `LocalDateTime` (ISO date time format) as a secret data in Vault. However, the `ObjectMapper` used inside Spring Vault doesn&#39;t seem to be customisable. So I am unable to register the `JavaTimeModule` that comes from `com.fasterxml.jackson.datatype:jackson-datatype-jsr310`.\r\n\r\nIs there a way out of this?","title":"Customise ObjectMapper to serialise LocalDateTime properly","body":"<p>I am using Spring Vault in my project and trying to store a serialised representation of <code>LocalDateTime</code> (ISO date time format) as a secret data in Vault. However, the <code>ObjectMapper</code> used inside Spring Vault doesn't seem to be customisable. So I am unable to register the <code>JavaTimeModule</code> that comes from <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code>.</p>\n<p>Is there a way out of this?</p>\n"},{"tags":["java","gradle","certificate","ros2","px4"],"answers":[{"comments":[{"owner":{"account_id":3128557,"reputation":151,"user_id":3892802,"accept_rate":67,"display_name":"ebernardes"},"score":0,"creation_date":1641239812,"post_id":70569106,"comment_id":124750288,"body_markdown":"I&#39;m actually on a university, and on Linux! What would the equivalent be for Linux?","body":"I&#39;m actually on a university, and on Linux! What would the equivalent be for Linux?"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1641249290,"post_id":70569106,"comment_id":124752859,"body_markdown":"On a quick Google search, nothing immediately popped up, but I did find this that I think might be helpful: https://marschall.github.io/2018/11/23/java-native-truststore-types.html. With that you can list the available providers, and perhaps in that list will be one for Linux.","body":"On a quick Google search, nothing immediately popped up, but I did find this that I think might be helpful: <a href=\"https://marschall.github.io/2018/11/23/java-native-truststore-types.html\" rel=\"nofollow noreferrer\">marschall.github.io/2018/11/23/&hellip;</a>. With that you can list the available providers, and perhaps in that list will be one for Linux."},{"owner":{"account_id":45366,"reputation":2041,"user_id":133700,"accept_rate":75,"display_name":"polyglot"},"score":1,"creation_date":1659088034,"post_id":70569106,"comment_id":129217261,"body_markdown":"You are a lifesaver.  Whatever this is fixed my problems.  Added my certs to all cacerts files and tried to set it everywhere, but nothing would get my gradle build to work.","body":"You are a lifesaver.  Whatever this is fixed my problems.  Added my certs to all cacerts files and tried to set it everywhere, but nothing would get my gradle build to work."}],"tags":[],"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641231980,"creation_date":1641229317,"answer_id":70569106,"question_id":70568781,"body_markdown":"As far as I am aware, it is not possible to disable JVM cert validation by configuration. As you are getting a cert validation failure for `https://repo.maven.apache.org`, which should not happen on most systems, I am going to guess that you are behind a corporate firewall.\r\n\r\nIf you are on Windows, try setting the environment variable `JAVA_TOOL_OPTIONS` to (exactly):\r\n```\r\n-Djavax.net.ssl.trustStoreType=Windows-ROOT -Djavax.net.ssl.trustStore=NUL\r\n```\r\nIf you are on Mac, try setting it to:\r\n```\r\n-Djavax.net.ssl.trustStoreType=KeychainStore -Djavax.net.ssl.trustStore=/dev/null\r\n```\r\n\r\nIf none of those work, you can copy the existing keystore of your JVM, and add your corporate certs to it using `keytool`, which is easy enough to look up with Google. In this case you would use these settings in the env var:\r\n```\r\n-Djavax.net.ssl.trustStore=/my/trust_store -Djavax.net.ssl.trustStorePassword=my_password\r\n```","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>As far as I am aware, it is not possible to disable JVM cert validation by configuration. As you are getting a cert validation failure for <code>https://repo.maven.apache.org</code>, which should not happen on most systems, I am going to guess that you are behind a corporate firewall.</p>\n<p>If you are on Windows, try setting the environment variable <code>JAVA_TOOL_OPTIONS</code> to (exactly):</p>\n<pre><code>-Djavax.net.ssl.trustStoreType=Windows-ROOT -Djavax.net.ssl.trustStore=NUL\n</code></pre>\n<p>If you are on Mac, try setting it to:</p>\n<pre><code>-Djavax.net.ssl.trustStoreType=KeychainStore -Djavax.net.ssl.trustStore=/dev/null\n</code></pre>\n<p>If none of those work, you can copy the existing keystore of your JVM, and add your corporate certs to it using <code>keytool</code>, which is easy enough to look up with Google. In this case you would use these settings in the env var:</p>\n<pre><code>-Djavax.net.ssl.trustStore=/my/trust_store -Djavax.net.ssl.trustStorePassword=my_password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128557,"reputation":151,"user_id":3892802,"accept_rate":67,"display_name":"ebernardes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641287106,"creation_date":1641287106,"answer_id":70576353,"question_id":70568781,"body_markdown":"Managed to solve it by compiling with sudo:\r\n\r\n    sudo env &quot;PATH=$PATH&quot; gradle assemble\r\n\r\nTook me the whole day since I know nothing about gradle, and it ended up just being a stupid simple solution. I proposed to add this as a note on the PX4 install guide.","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>Managed to solve it by compiling with sudo:</p>\n<pre><code>sudo env &quot;PATH=$PATH&quot; gradle assemble\n</code></pre>\n<p>Took me the whole day since I know nothing about gradle, and it ended up just being a stupid simple solution. I proposed to add this as a note on the PX4 install guide.</p>\n"}],"owner":{"account_id":3128557,"reputation":151,"user_id":3892802,"accept_rate":67,"display_name":"ebernardes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70576353,"answer_count":2,"score":1,"last_activity_date":1700144589,"creation_date":1641227680,"question_id":70568781,"body_markdown":"I&#39;ve been desperately trying to use ROS2 and PX4, but I can&#39;t compile all of the necessary packages: Fast-RTPS-Gen\r\n\r\nFor people to know PX4:\r\n- I am using Gradle version 6.3 installed with sdk, as explained on the PX4 website.\r\n- I have download the version 1.0.4 from the Fast-RTPS-Gen repository\r\n\r\nWhen I try to compile it with Gradle, I have a certificate (see end of question).\r\n\r\nMy question is: how can I bypass this? Since I&#39;m not gonna develop anything on Java, I just really need this one thing to compile, I&#39;m really interested in the quickest, dirtiest way I can bypass this certificate check. \r\nI have tried adding a certificate from the Maven repo with keystool but I just can&#39;t get it to work.\r\n\r\n    \r\n    &gt; Task :buildIDLParser FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/evandro/Fast-RTPS-Gen/thirdparty/idl-parser/idl.gradle&#39; line: 89\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:idl-parser:jar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:idl-parser:compile&#39;.\r\n       &gt; Could not resolve org.antlr:antlr4:4.5.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:antlr4:4.5.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n       &gt; Could not resolve org.antlr:antlr4:4.5.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:antlr4:4.5.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n       &gt; Could not resolve org.antlr:stringtemplate:3.2.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:stringtemplate:3.2.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 653ms\r\n    4 actionable tasks: 2 executed, 2 up-to-date\r\n","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>I've been desperately trying to use ROS2 and PX4, but I can't compile all of the necessary packages: Fast-RTPS-Gen</p>\n<p>For people to know PX4:</p>\n<ul>\n<li>I am using Gradle version 6.3 installed with sdk, as explained on the PX4 website.</li>\n<li>I have download the version 1.0.4 from the Fast-RTPS-Gen repository</li>\n</ul>\n<p>When I try to compile it with Gradle, I have a certificate (see end of question).</p>\n<p>My question is: how can I bypass this? Since I'm not gonna develop anything on Java, I just really need this one thing to compile, I'm really interested in the quickest, dirtiest way I can bypass this certificate check.\nI have tried adding a certificate from the Maven repo with keystool but I just can't get it to work.</p>\n<pre><code>&gt; Task :buildIDLParser FAILED\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/evandro/Fast-RTPS-Gen/thirdparty/idl-parser/idl.gradle' line: 89\n\n* What went wrong:\nCould not determine the dependencies of task ':idl-parser:jar'.\n&gt; Could not resolve all files for configuration ':idl-parser:compile'.\n   &gt; Could not resolve org.antlr:antlr4:4.5.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:antlr4:4.5.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n   &gt; Could not resolve org.antlr:antlr4:4.5.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:antlr4:4.5.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n   &gt; Could not resolve org.antlr:stringtemplate:3.2.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:stringtemplate:3.2.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 653ms\n4 actionable tasks: 2 executed, 2 up-to-date\n</code></pre>\n"},{"tags":["javascript","python","java","django","email"],"owner":{"account_id":29068465,"reputation":69,"user_id":22267432,"display_name":"zahra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700144528,"creation_date":1700144528,"question_id":77495610,"body_markdown":"This project should be able to simulate email.\r\nThe program runs successfully and I can write the email, but the email is not sent and it gives this error.\r\nwhat is the problem؟\r\n\r\nin terminal:  [16/Nov/2023 17:35:46] &quot;GET /emails/inbox HTTP/1.1&quot; 200 2\r\n\r\nin console:   MLFormElement.&lt;anonymous&gt; (inbox.js:10:7)\r\n\r\n\r\ncode:\r\n\r\n    document.addEventListener(\r\n       &quot;DOMContentLoaded&quot;,function () {\r\n        const form = document.querySelector(&quot;#compose-form&quot;);\r\n        const msg = document.querySelector(&quot;#message&quot;);\r\n        form.addEventListener(&quot;submit&quot;, (event) =&gt; {\r\n          event.preventDefault();\r\n          to = document.querySelector(&quot;#compose-recipients&quot;);\r\n          subject = document.querySelector(&quot;#compose-subject&quot;);\r\n          body = document.querySelector(&quot;#compose-body&quot;);\r\n          if (from.length == 0 &amp;&amp; to.length == 1000) return;\r\n\r\n          fetch(&quot;/emails&quot;, {\r\n            method: &quot;POST&quot;,\r\n            body: JSON.stringify({\r\n              recipients: to.value,\r\n              subject: subject.value,\r\n              body: body.value,\r\n            }),\r\n          })\r\n          .then((response) =&gt; response.json())\r\n          .then((result) =&gt; {\r\n              console.log(result.status);\r\n              if (result.status == 201) {\r\n                  load_mailbox(&quot;sent&quot;);\r\n             } else {\r\n                  msg.innerHTML = `&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;\r\n                  ${result.error}\r\n            &lt;/div&gt;`;\r\n            }\r\n          });\r\n        });\r\n       },\r\n      false\r\n      );\r\n\r\n","title":"Email simulation with Django","body":"<p>This project should be able to simulate email.\nThe program runs successfully and I can write the email, but the email is not sent and it gives this error.\nwhat is the problem؟</p>\n<p>in terminal:  [16/Nov/2023 17:35:46] &quot;GET /emails/inbox HTTP/1.1&quot; 200 2</p>\n<p>in console:   MLFormElement. (inbox.js:10:7)</p>\n<p>code:</p>\n<pre><code>document.addEventListener(\n   &quot;DOMContentLoaded&quot;,function () {\n    const form = document.querySelector(&quot;#compose-form&quot;);\n    const msg = document.querySelector(&quot;#message&quot;);\n    form.addEventListener(&quot;submit&quot;, (event) =&gt; {\n      event.preventDefault();\n      to = document.querySelector(&quot;#compose-recipients&quot;);\n      subject = document.querySelector(&quot;#compose-subject&quot;);\n      body = document.querySelector(&quot;#compose-body&quot;);\n      if (from.length == 0 &amp;&amp; to.length == 1000) return;\n\n      fetch(&quot;/emails&quot;, {\n        method: &quot;POST&quot;,\n        body: JSON.stringify({\n          recipients: to.value,\n          subject: subject.value,\n          body: body.value,\n        }),\n      })\n      .then((response) =&gt; response.json())\n      .then((result) =&gt; {\n          console.log(result.status);\n          if (result.status == 201) {\n              load_mailbox(&quot;sent&quot;);\n         } else {\n              msg.innerHTML = `&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;\n              ${result.error}\n        &lt;/div&gt;`;\n        }\n      });\n    });\n   },\n  false\n  );\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"owner":{"account_id":67291,"reputation":4770,"user_id":196963,"accept_rate":83,"display_name":"onigunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700144107,"creation_date":1700144107,"question_id":77495559,"body_markdown":"I want to implement a soft-delete mechanism on my quarkus prototype. Given this entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;categories&quot;)\r\n@SQLDelete(sql = &quot;UPDATE categories SET deleted_at = now() WHERE id = ?&quot;, check = ResultCheckStyle.COUNT)\r\n@Where(clause = &quot;deleted_at IS NULL&quot;)\r\npublic class Category extends PanacheEntity {\r\n    public String title;\r\n    @ManyToOne\r\n    public Category parent;\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    public Date updatedAt;\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    public Date createdAt;\r\n    @Column(name = &quot;deleted_at&quot;)\r\n    public Date deletedAt;\r\n}\r\n```\r\nHibernate picks up the `@Where` and `@SQLDelete` annotation correctly, as it is shown in the logs.\r\n\r\nIn connection with `PanacheEntityResource` \r\n```\r\n@ResourceProperties(path = &quot;r-categories&quot;)\r\npublic interface CategoryREST extends PanacheEntityResource&lt;Category, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nall methods `GET,POST,PUT` work fine besides `DELETE` which throws a `jakarta.persistence.OptimisticLockException` see detailed stacktrace below\r\n\r\n```\r\n2023-11-16 15:02:56,857 WARN  [io.qua.hib.orm.res.dat.pan.run.RestDataPanacheExceptionMapper] (executor-thread-1) Mapping an unhandled RestDataPanacheException: io.quarkus.rest.data.panache.RestDataPanacheException: Failed to delete an entity\r\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85.delete(Unknown Source)\r\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85$quarkusrestinvoker$delete_51d77e39c8d2bf28511a9aae7f6a80b42eb0edb7.invoke(Unknown Source)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n        at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: io.quarkus.arc.ArcUndeclaredThrowableException: Error invoking subclass method\r\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_Subclass.delete(Unknown Source)\r\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_ClientProxy.delete(Unknown Source)\r\n        ... 12 more\r\nCaused by: jakarta.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1283)\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:104)\r\n        at io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:171)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\r\n        ... 14 more\r\nCaused by: jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.domain.entity.Category#2]\r\n        at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:204)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\r\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\r\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:485)\r\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2301)\r\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1966)\r\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:336)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)\r\n        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:52)\r\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:351)\r\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:69)\r\n        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:138)\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1271)\r\n        ... 26 more\r\n\r\n\r\n```\r\n\r\nGiven hibernate is working this could be a bug related to panache?\r\n","title":"Soft-Delete with PanacheEntityResource results in OptimisticLockException","body":"<p>I want to implement a soft-delete mechanism on my quarkus prototype. Given this entity</p>\n<pre><code>@Entity\n@Table(name = &quot;categories&quot;)\n@SQLDelete(sql = &quot;UPDATE categories SET deleted_at = now() WHERE id = ?&quot;, check = ResultCheckStyle.COUNT)\n@Where(clause = &quot;deleted_at IS NULL&quot;)\npublic class Category extends PanacheEntity {\n    public String title;\n    @ManyToOne\n    public Category parent;\n    @UpdateTimestamp\n    @Column(name = &quot;updated_at&quot;)\n    public Date updatedAt;\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;, updatable = false)\n    public Date createdAt;\n    @Column(name = &quot;deleted_at&quot;)\n    public Date deletedAt;\n}\n</code></pre>\n<p>Hibernate picks up the <code>@Where</code> and <code>@SQLDelete</code> annotation correctly, as it is shown in the logs.</p>\n<p>In connection with <code>PanacheEntityResource</code></p>\n<pre><code>@ResourceProperties(path = &quot;r-categories&quot;)\npublic interface CategoryREST extends PanacheEntityResource&lt;Category, Long&gt; {\n\n}\n</code></pre>\n<p>all methods <code>GET,POST,PUT</code> work fine besides <code>DELETE</code> which throws a <code>jakarta.persistence.OptimisticLockException</code> see detailed stacktrace below</p>\n<pre><code>2023-11-16 15:02:56,857 WARN  [io.qua.hib.orm.res.dat.pan.run.RestDataPanacheExceptionMapper] (executor-thread-1) Mapping an unhandled RestDataPanacheException: io.quarkus.rest.data.panache.RestDataPanacheException: Failed to delete an entity\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85.delete(Unknown Source)\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85$quarkusrestinvoker$delete_51d77e39c8d2bf28511a9aae7f6a80b42eb0edb7.invoke(Unknown Source)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n        at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: io.quarkus.arc.ArcUndeclaredThrowableException: Error invoking subclass method\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_Subclass.delete(Unknown Source)\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_ClientProxy.delete(Unknown Source)\n        ... 12 more\nCaused by: jakarta.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1283)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:104)\n        at io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:171)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\n        ... 14 more\nCaused by: jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.domain.entity.Category#2]\n        at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:204)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:485)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2301)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1966)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\n        at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:336)\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)\n        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:52)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:351)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:69)\n        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:138)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1271)\n        ... 26 more\n\n\n</code></pre>\n<p>Given hibernate is working this could be a bug related to panache?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-3.0"],"answers":[{"comments":[{"owner":{"account_id":29034892,"reputation":11,"user_id":22241030,"display_name":"MrCoder"},"score":0,"creation_date":1700217536,"post_id":77495456,"comment_id":136629971,"body_markdown":"Thank you for a response. Actually good point, but it is not my choice to pass it like this. What I find - when you are passing RequestHeader as a custom object, map inside of this object is visible and I can pass object to swagger, but just map I can&#39;t. It is possible to be able to pass a map of strings?","body":"Thank you for a response. Actually good point, but it is not my choice to pass it like this. What I find - when you are passing RequestHeader as a custom object, map inside of this object is visible and I can pass object to swagger, but just map I can&#39;t. It is possible to be able to pass a map of strings?"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1700219958,"post_id":77495456,"comment_id":136630369,"body_markdown":"You could pass as a request parameter but note that this would need to be URL encoded. So `{&quot;foo&quot;:&quot;bar&quot;}` would become `%7B%22foo%22%3A%22bar%22%7D`. Eg /myapp/someurl?map=%7B%22foo%22%3A%22bar%22%7D. It&#39;s possible that the swagger UI would do the URL encoding for you","body":"You could pass as a request parameter but note that this would need to be URL encoded. So <code>{&quot;foo&quot;:&quot;bar&quot;}</code> would become <code>%7B%22foo%22%3A%22bar%22%7D</code>. Eg /myapp/someurl?map=%7B%22foo%22%3A%22bar%22%7D. It&#39;s possible that the swagger UI would do the URL encoding for you"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700144079,"creation_date":1700143104,"answer_id":77495456,"question_id":77495348,"body_markdown":"You shouldn&#39;t be passing data via request headers like this. Request headers are used to pass information about the client to the server (eg does the client accept gzipped responses)\r\n\r\nTo pass data to the server you should either use:\r\n\r\n - Request parameters (@RequestParam)\r\n - Path Variables (@PathVariable)\r\n - The body of a POST (@RequestBody)\r\n\r\n**Note that GET requests do not support a @RequestBody** (standard HTTP protocol, nothing to do with spring / swagger)\r\n\r\nHere&#39;s an example POST with @PathVariable, @RequestParam and @RequestBody \r\n\r\n```java\r\npublic class MyBodyBean {\r\n   private String value1;\r\n   private String value2;\r\n   private String value3;\r\n\r\n   // getters / setters\r\n}\r\n```\r\n\r\n```java\r\npublic class FooController {\r\n   @PostMapping(&quot;/foo/{test1}/do-something/&quot;)\r\n   public ResponseEntity doSomething(\r\n      @PathVariable(&quot;test1&quot;) test1,\r\n      @RequestParam(&quot;test2&quot;) test2,\r\n      @RequestBody MyBodyBean body\r\n   ) {\r\n      doStuff(test1, test2, body);\r\n      return ResponseEntity.ok(HttpStatus.OK);\r\n   }\r\n}\r\n```\r\n\r\nTo invoke this you would POST a JSON body to `/foo/xxx/do-something?test2=yyy`\r\n\r\nThe JSON body would look something like\r\n```json\r\n{ \r\n  &quot;value1&quot;:&quot;A&quot;, \r\n  &quot;value2&quot;:&quot;B&quot;, \r\n  &quot;value3&quot;:&quot;C&quot; \r\n}\r\n```","title":"@RequestHeader Map&lt;String, String&gt; is not working in swagger UI","body":"<p>You shouldn't be passing data via request headers like this. Request headers are used to pass information about the client to the server (eg does the client accept gzipped responses)</p>\n<p>To pass data to the server you should either use:</p>\n<ul>\n<li>Request parameters (@RequestParam)</li>\n<li>Path Variables (@PathVariable)</li>\n<li>The body of a POST (@RequestBody)</li>\n</ul>\n<p><strong>Note that GET requests do not support a @RequestBody</strong> (standard HTTP protocol, nothing to do with spring / swagger)</p>\n<p>Here's an example POST with @PathVariable, @RequestParam and @RequestBody</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBodyBean {\n   private String value1;\n   private String value2;\n   private String value3;\n\n   // getters / setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooController {\n   @PostMapping(&quot;/foo/{test1}/do-something/&quot;)\n   public ResponseEntity doSomething(\n      @PathVariable(&quot;test1&quot;) test1,\n      @RequestParam(&quot;test2&quot;) test2,\n      @RequestBody MyBodyBean body\n   ) {\n      doStuff(test1, test2, body);\n      return ResponseEntity.ok(HttpStatus.OK);\n   }\n}\n</code></pre>\n<p>To invoke this you would POST a JSON body to <code>/foo/xxx/do-something?test2=yyy</code></p>\n<p>The JSON body would look something like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;value1&quot;:&quot;A&quot;, \n  &quot;value2&quot;:&quot;B&quot;, \n  &quot;value3&quot;:&quot;C&quot; \n}\n</code></pre>\n"}],"owner":{"account_id":29034892,"reputation":11,"user_id":22241030,"display_name":"MrCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700144079,"creation_date":1700142351,"question_id":77495348,"body_markdown":"I have a controller with method @GET. I would like to pass headers as a Map&lt;String, String&gt;, but a field to pass headers is not visible on swagger UI side.\r\n\r\nFor example: When I tried to pass header as a @RequestHeader String something - field is visible on swagger UI part, just above place to pass body, but after annotation there is a Map, there is no place to put this headers at all.\r\n\r\n```\r\npublic ResponseEntity&lt;MyObject&gt; getObject(\r\n            @RequestHeader String test,\r\n            @RequestHeader Map&lt;String, String&gt; headers) {\r\n\r\n//logic here\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/KyBQW.png)\r\n\r\nI would like to be able to pass for example three headers via some textbox (like @RequestBody is working). Not to create countless amount of labels with concrete headers, I would like to pass headers through map via swagger UI. Is it possible?\r\n\r\nThanks","title":"@RequestHeader Map&lt;String, String&gt; is not working in swagger UI","body":"<p>I have a controller with method @GET. I would like to pass headers as a Map&lt;String, String&gt;, but a field to pass headers is not visible on swagger UI side.</p>\n<p>For example: When I tried to pass header as a @RequestHeader String something - field is visible on swagger UI part, just above place to pass body, but after annotation there is a Map, there is no place to put this headers at all.</p>\n<pre><code>public ResponseEntity&lt;MyObject&gt; getObject(\n            @RequestHeader String test,\n            @RequestHeader Map&lt;String, String&gt; headers) {\n\n//logic here\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KyBQW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would like to be able to pass for example three headers via some textbox (like @RequestBody is working). Not to create countless amount of labels with concrete headers, I would like to pass headers through map via swagger UI. Is it possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700143593,"post_id":77495491,"comment_id":136620281,"body_markdown":"`&quot;&#39;)&#39;&quot;` → `&quot;&#39;)&quot;` at the end","body":"<code>&quot;&#39;)&#39;&quot;</code> → <code>&quot;&#39;)&quot;</code> at the end"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1700143858,"post_id":77495491,"comment_id":136620331,"body_markdown":"*&quot;You have an error in your SQL syntax&quot;* - Your very first first debugging step should be to observe the actual runtime value of your `sql` variable so you can see the resulting syntax that you&#39;ve created.  Test that SQL code independently of this Java code which creates it.  Observe any problems in that code.  If you can&#39;t find the problem in that code, reduce it to simpler and simpler versions (fewer columns, etc.) to a minimal version of only the SQL code which produces the problem.  In **that** code, observe and identify the problem.  Debugging is a critical process to resolving errors.","body":"<i>&quot;You have an error in your SQL syntax&quot;</i> - Your very first first debugging step should be to observe the actual runtime value of your <code>sql</code> variable so you can see the resulting syntax that you&#39;ve created.  Test that SQL code independently of this Java code which creates it.  Observe any problems in that code.  If you can&#39;t find the problem in that code, reduce it to simpler and simpler versions (fewer columns, etc.) to a minimal version of only the SQL code which produces the problem.  In <b>that</b> code, observe and identify the problem.  Debugging is a critical process to resolving errors."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1700145076,"post_id":77495491,"comment_id":136620568,"body_markdown":"Also, send [Little Bobby Tables](https://bobby-tables.com/) my regards.","body":"Also, send <a href=\"https://bobby-tables.com/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a> my regards."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700149403,"post_id":77495491,"comment_id":136621507,"body_markdown":"Your misuse of PreparedStatement is **one of the most dangerous software vulnerabilities in existence.**  You should have written `String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;;` and then called `pst.setString(1, orderNameTxt.getText());`, `pst.setString(2, areacb.getSelectedItem());`, etc.  Even if this just an assignment and not a commercial application, it is a very good idea to get used to writing safe, secure, unhackable code.","body":"Your misuse of PreparedStatement is <b>one of the most dangerous software vulnerabilities in existence.</b>  You should have written <code>String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;;</code> and then called <code>pst.setString(1, orderNameTxt.getText());</code>, <code>pst.setString(2, areacb.getSelectedItem());</code>, etc.  Even if this just an assignment and not a commercial application, it is a very good idea to get used to writing safe, secure, unhackable code."}],"owner":{"account_id":29918509,"reputation":1,"user_id":22928210,"display_name":"Rispa Nurhalipah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700144136,"answer_count":0,"score":-1,"last_activity_date":1700143859,"creation_date":1700143402,"question_id":77495491,"body_markdown":"```\r\naplikasi.penjualan.rumah.PaymentForm btsaveActionPerformed\r\nSEVERE: null\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;&#39; at line 1\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\r\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379)\r\n\tat aplikasi.penjualan.rumah.PaymentForm.btsaveActionPerformed(PaymentForm.java:572)\r\n\tat aplikasi.penjualan.rumah.PaymentForm.access$900(PaymentForm.java:19)\r\n\tat aplikasi.penjualan.rumah.PaymentForm$10.actionPerformed(PaymentForm.java:187)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```\r\n```\r\nif(agreementCbx.isSelected() == false){\r\n            JOptionPane.showMessageDialog(null, \r\n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\r\n            JOptionPane.ERROR_MESSAGE);\r\n        }else {\r\n            String typeHouse;\r\n            if (t36RadioButton.isSelected()) {\r\n                typeHouse = &quot;TIPE 36&quot;;\r\n            }else if (t45RadioButton.isSelected()){\r\n                typeHouse = &quot;TIPE 45&quot;;\r\n            }else {\r\n                typeHouse = &quot;TIPE 54&quot;;\r\n            }\r\n            \r\n            try{\r\n                String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (&#39;&quot;\r\n                        + orderNameTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + areacb.getSelectedItem() + &quot;&#39;,&#39;&quot;\r\n                        + typeHouse + &quot;&#39;,&#39;&quot;\r\n                        + largeLandTxt.getText()+&quot;&#39;,&#39;&quot;\r\n                        + totalPriceTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentAmountTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentMonthTxt.getText() + &quot;&#39;)&#39;&quot;;\r\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\r\n                PreparedStatement pst = conn.prepareStatement(sql);\r\n                pst.execute();\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \r\n            }\r\n            \r\n            OptionMenu optionMenu = new OptionMenu();\r\n            optionMenu.setVisible(true);\r\n            this.getDesktopPane().add(optionMenu);\r\n            this.dispose();\r\n            \r\n            \r\n        }\r\n    }\r\n```             ","title":"Full Message Erorr","body":"<pre><code>aplikasi.penjualan.rumah.PaymentForm btsaveActionPerformed\nSEVERE: null\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''' at line 1\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\n    at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379)\n    at aplikasi.penjualan.rumah.PaymentForm.btsaveActionPerformed(PaymentForm.java:572)\n    at aplikasi.penjualan.rumah.PaymentForm.access$900(PaymentForm.java:19)\n    at aplikasi.penjualan.rumah.PaymentForm$10.actionPerformed(PaymentForm.java:187)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<pre><code>if(agreementCbx.isSelected() == false){\n            JOptionPane.showMessageDialog(null, \n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\n            JOptionPane.ERROR_MESSAGE);\n        }else {\n            String typeHouse;\n            if (t36RadioButton.isSelected()) {\n                typeHouse = &quot;TIPE 36&quot;;\n            }else if (t45RadioButton.isSelected()){\n                typeHouse = &quot;TIPE 45&quot;;\n            }else {\n                typeHouse = &quot;TIPE 54&quot;;\n            }\n            \n            try{\n                String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES ('&quot;\n                        + orderNameTxt.getText() + &quot;','&quot;\n                        + areacb.getSelectedItem() + &quot;','&quot;\n                        + typeHouse + &quot;','&quot;\n                        + largeLandTxt.getText()+&quot;','&quot;\n                        + totalPriceTxt.getText() + &quot;','&quot;\n                        + instalmentAmountTxt.getText() + &quot;','&quot;\n                        + instalmentMonthTxt.getText() + &quot;')'&quot;;\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\n                PreparedStatement pst = conn.prepareStatement(sql);\n                pst.execute();\n            } catch (SQLException ex) {\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \n            }\n            \n            OptionMenu optionMenu = new OptionMenu();\n            optionMenu.setVisible(true);\n            this.getDesktopPane().add(optionMenu);\n            this.dispose();\n            \n            \n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":29724554,"reputation":56,"user_id":22780906,"display_name":"Nicktrovert"},"score":0,"creation_date":1700142801,"post_id":77495372,"comment_id":136620145,"body_markdown":"Try taking a look at Hashmaps","body":"Try taking a look at Hashmaps"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1700142807,"post_id":77495372,"comment_id":136620146,"body_markdown":"If the keys are unique, you can use Map, other ways you can create your own List with a custom Object with two params key and value","body":"If the keys are unique, you can use Map, other ways you can create your own List with a custom Object with two params key and value"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700144606,"post_id":77495372,"comment_id":136620480,"body_markdown":"Some languages refer to this as a _dictionary_, or a _map_.  Technically, though, it&#39;s not a _&quot;dictionary&quot;_.","body":"Some languages refer to this as a <i>dictionary</i>, or a <i>map</i>.  Technically, though, it&#39;s not a <i>&quot;dictionary&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700143175,"creation_date":1700143175,"answer_id":77495463,"question_id":77495372,"body_markdown":"## Map - If unique keys\r\n\r\nFor example:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;23&quot;, 3632464346L);\r\n    map.put(&quot;14&quot;, &quot;abcdefgh&quot;);\r\n    map.put(&quot;22&quot;, &quot;2352sdfs23&quot;);\r\n\r\n## Custom Object - If not unique keys\r\n\r\nFor example:\r\n\r\n    class CustomObject {\r\n    \r\n       private String key;\r\n       private Object value;\r\n    \r\n      // Constructor, Getters, and Setters\r\n    }\r\n\r\nand then:\r\n\r\n    List&lt;CustomObject&gt; list = new ArrayList();\r\n    list.add(new CustomObject(&quot;23&quot;, 3632464346L));\r\n    list.add(new CustomObject(&quot;14&quot;, &quot;abcdefgh&quot;));\r\n    list.add(new CustomObject(&quot;22&quot;, &quot;2352sdfs23&quot;));\r\n\r\n","title":"What is the java equivalent of string array with custom keys?","body":"<h2>Map - If unique keys</h2>\n<p>For example:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;23&quot;, 3632464346L);\nmap.put(&quot;14&quot;, &quot;abcdefgh&quot;);\nmap.put(&quot;22&quot;, &quot;2352sdfs23&quot;);\n</code></pre>\n<h2>Custom Object - If not unique keys</h2>\n<p>For example:</p>\n<pre><code>class CustomObject {\n\n   private String key;\n   private Object value;\n\n  // Constructor, Getters, and Setters\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>List&lt;CustomObject&gt; list = new ArrayList();\nlist.add(new CustomObject(&quot;23&quot;, 3632464346L));\nlist.add(new CustomObject(&quot;14&quot;, &quot;abcdefgh&quot;));\nlist.add(new CustomObject(&quot;22&quot;, &quot;2352sdfs23&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1474020,"reputation":3366,"user_id":1384889,"accept_rate":87,"display_name":"Onimusha"},"score":0,"creation_date":1700143652,"post_id":77495476,"comment_id":136620296,"body_markdown":"Excellent information. As you can see from my question I had no idea about maps and lists. Thanks","body":"Excellent information. As you can see from my question I had no idea about maps and lists. Thanks"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700162339,"post_id":77495476,"comment_id":136623960,"body_markdown":"Great, +1.  To comment:&#160; you _could_ use a _[type-parameter](https://docs.oracle.com/javase/tutorial/java/generics/types.html)_ of _Object_, it is completely valid.  Although, _Java_ is intended to be a _statically-typed_ language, hence not doing so would lead to poor code, bugs, errors, etc.  This is simply a coding principle, and is used to strengthen design.  More-over, _[scripting languages](https://en.wikipedia.org/wiki/Scripting_language)_ will provide the interoperability, and flexibility, of _types_ you&#39;re looking for; _Python_, _JavaScript_, etc.","body":"Great, +1.  To comment:  you <i>could</i> use a <i><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">type-parameter</a></i> of <i>Object</i>, it is completely valid.  Although, <i>Java</i> is intended to be a <i>statically-typed</i> language, hence not doing so would lead to poor code, bugs, errors, etc.  This is simply a coding principle, and is used to strengthen design.  More-over, <i><a href=\"https://en.wikipedia.org/wiki/Scripting_language\" rel=\"nofollow noreferrer\">scripting languages</a></i> will provide the interoperability, and flexibility, of <i>types</i> you&#39;re looking for; <i>Python</i>, <i>JavaScript</i>, etc."}],"tags":[],"owner":{"account_id":15068489,"reputation":604,"user_id":10874806,"display_name":"Hamza Khattabi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700143797,"creation_date":1700143290,"answer_id":77495476,"question_id":77495372,"body_markdown":"I think you are confusing Arrays, Maps and List.\r\n\r\nArray has a fixed size meaning that you can put an element to a defined position only if this position is not out of its boundaries.\r\n\r\nList are dynamic collection that looks like an array but with no **real** fixed size. In this case the elements are followed each other with no ways to put them in a specific position (they are some methods to bypass this constraint but it is an anti-pattern, better to use array for this case).\r\n\r\nMaps are collection that can be seen as a JSON object. It contains a set of key value where values can be accessed from the key provided.\r\n\r\nThe only cons with Java is that collections can not have mixed type of object like we can see in Python for example. It means that if you initialize a collection of numbers, you can only put numbers value in it, same for the String object for example. It is possible to do it by setting the value type of &quot;**Object**&quot;, because a String is an **Object**, an Integer also etc. But it need a strong verification process to not refer the wrong type to a value.\r\n\r\nFrom what I understood on your question, you want to put value linked to a specific number, a HashMap is more suitable. Even if you have two differents type on your collection (Numbers and text) You can provide them as a String and convert it using the parse() method for the wanted type (e.g Integer.parseInt(String) returns an Integer)\r\n\r\n    Map&lt;Integer, String&gt; map = new Hashmap&lt;&gt;();\r\n    \r\n    map.put(23, &quot;3632464346&quot;)\r\n    map.put(14, &quot;abcdefgh&quot;)\r\n    map.put(23, &quot;2352sdfs23&quot;) // **This will override the first value.**\r\n\r\n","title":"What is the java equivalent of string array with custom keys?","body":"<p>I think you are confusing Arrays, Maps and List.</p>\n<p>Array has a fixed size meaning that you can put an element to a defined position only if this position is not out of its boundaries.</p>\n<p>List are dynamic collection that looks like an array but with no <strong>real</strong> fixed size. In this case the elements are followed each other with no ways to put them in a specific position (they are some methods to bypass this constraint but it is an anti-pattern, better to use array for this case).</p>\n<p>Maps are collection that can be seen as a JSON object. It contains a set of key value where values can be accessed from the key provided.</p>\n<p>The only cons with Java is that collections can not have mixed type of object like we can see in Python for example. It means that if you initialize a collection of numbers, you can only put numbers value in it, same for the String object for example. It is possible to do it by setting the value type of &quot;<strong>Object</strong>&quot;, because a String is an <strong>Object</strong>, an Integer also etc. But it need a strong verification process to not refer the wrong type to a value.</p>\n<p>From what I understood on your question, you want to put value linked to a specific number, a HashMap is more suitable. Even if you have two differents type on your collection (Numbers and text) You can provide them as a String and convert it using the parse() method for the wanted type (e.g Integer.parseInt(String) returns an Integer)</p>\n<pre><code>Map&lt;Integer, String&gt; map = new Hashmap&lt;&gt;();\n\nmap.put(23, &quot;3632464346&quot;)\nmap.put(14, &quot;abcdefgh&quot;)\nmap.put(23, &quot;2352sdfs23&quot;) // **This will override the first value.**\n</code></pre>\n"}],"owner":{"account_id":1474020,"reputation":3366,"user_id":1384889,"accept_rate":87,"display_name":"Onimusha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77495476,"answer_count":2,"score":0,"last_activity_date":1700143797,"creation_date":1700142555,"question_id":77495372,"body_markdown":"I&#39;m new to Java and Android. Arrays do not make any sense to me with so many methods.\r\n\r\nHow do I create a dynamic array that I can populate at runtime for example:\r\n\r\n    customArray[23] = 3632464346\r\n    customArray[14] = abcdefgh\r\n    customArray[22] = 2352sdfs23\r\n\r\nWould it be best to create a JSONObject such as:\r\n\r\n    JSONObject customArray = newJSONObject();\r\n    \r\n    //.....in code\r\n    customArray.put(&quot;23&quot;, 3632464346);\r\n    customArray.put(&quot;14&quot;, &quot;abcdefgh&quot;);\r\n    customArray.put(&quot;23&quot;, &quot;2352sdfs23&quot;);\r\n\r\nOr is there a better way?","title":"What is the java equivalent of string array with custom keys?","body":"<p>I'm new to Java and Android. Arrays do not make any sense to me with so many methods.</p>\n<p>How do I create a dynamic array that I can populate at runtime for example:</p>\n<pre><code>customArray[23] = 3632464346\ncustomArray[14] = abcdefgh\ncustomArray[22] = 2352sdfs23\n</code></pre>\n<p>Would it be best to create a JSONObject such as:</p>\n<pre><code>JSONObject customArray = newJSONObject();\n\n//.....in code\ncustomArray.put(&quot;23&quot;, 3632464346);\ncustomArray.put(&quot;14&quot;, &quot;abcdefgh&quot;);\ncustomArray.put(&quot;23&quot;, &quot;2352sdfs23&quot;);\n</code></pre>\n<p>Or is there a better way?</p>\n"},{"tags":["java","rabbitmq","quarkus","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700143430,"creation_date":1700008659,"answer_id":77484595,"question_id":77475040,"body_markdown":"## TLS Connections Without Peer Verification\r\n\r\nYou _**DO NOT**_ need the server&#39;s private key! That would defeat the purpose of the server keeping it a secret.\r\n\r\nIf your RabbitMQ server or a TLS-terminating proxy uses a self-signed certificate, add the following configuration to your RabbitMQ client:\r\n\r\n```java\r\nPemTrustOptions trust = new PemTrustOptions().addCertPath(&quot;./tlc/ca.crt&quot;);\r\nRabbitMQOptions options = new RabbitMQOptions()\r\n    .setSsl(true)\r\n    .setPemTrustOptions(trust)\r\n    // ... other configuration options\r\n```\r\nEnsure that `./tlc/ca.crt` contains the public key (certificate) of the CA that signed the server certificate.\r\n\r\nTry to make this work first before proceeding to client certificate authentication and peer verification.\r\n\r\n## Enabling Peer Verification\r\n\r\nTo enable peer verification, provide the RabbitMQ client with the client&#39;s private and public key:\r\n\r\n```java\r\nPemKeyCertOptions keycert = new PemKeyCertOptions()\r\n    .addCertPath(&quot;./tls/tls.crt&quot;)\r\n    .addKeyPath(&quot;./tls/tls.key&quot;);\r\nRabbitMQOptions options = new RabbitMQOptions()\r\n    .setSsl(true)\r\n    .setPemKeyCertOptions(keycert)\r\n    // ... other configuration options\r\n```\r\nHere, `./tls/tls.crt` is the public key, and `./tls/tls.key` is the private key of your client certificate.\r\n\r\nEnsure RabbitMQ is configured for [peer verification][1]. If your RabbitMQ server doesn&#39;t handle TLS traffic directly, consider configuring it at a higher layer (e.g., if behind HaProxy or Nginx).\r\n\r\nFor self-signed client certificates, inform the server (RabbitMQ or TLS terminating proxy) about their trustworthiness. Detailed steps for establishing this trust are beyond this post&#39;s scope.\r\n\r\n[1]: https://www.rabbitmq.com/ssl.html#peer-verification-configuration","title":"Quarkus reactive messaging rabbitmq Connector with client certificate authentication","body":"<h2>TLS Connections Without Peer Verification</h2>\n<p>You <em><strong>DO NOT</strong></em> need the server's private key! That would defeat the purpose of the server keeping it a secret.</p>\n<p>If your RabbitMQ server or a TLS-terminating proxy uses a self-signed certificate, add the following configuration to your RabbitMQ client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PemTrustOptions trust = new PemTrustOptions().addCertPath(&quot;./tlc/ca.crt&quot;);\nRabbitMQOptions options = new RabbitMQOptions()\n    .setSsl(true)\n    .setPemTrustOptions(trust)\n    // ... other configuration options\n</code></pre>\n<p>Ensure that <code>./tlc/ca.crt</code> contains the public key (certificate) of the CA that signed the server certificate.</p>\n<p>Try to make this work first before proceeding to client certificate authentication and peer verification.</p>\n<h2>Enabling Peer Verification</h2>\n<p>To enable peer verification, provide the RabbitMQ client with the client's private and public key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PemKeyCertOptions keycert = new PemKeyCertOptions()\n    .addCertPath(&quot;./tls/tls.crt&quot;)\n    .addKeyPath(&quot;./tls/tls.key&quot;);\nRabbitMQOptions options = new RabbitMQOptions()\n    .setSsl(true)\n    .setPemKeyCertOptions(keycert)\n    // ... other configuration options\n</code></pre>\n<p>Here, <code>./tls/tls.crt</code> is the public key, and <code>./tls/tls.key</code> is the private key of your client certificate.</p>\n<p>Ensure RabbitMQ is configured for <a href=\"https://www.rabbitmq.com/ssl.html#peer-verification-configuration\" rel=\"nofollow noreferrer\">peer verification</a>. If your RabbitMQ server doesn't handle TLS traffic directly, consider configuring it at a higher layer (e.g., if behind HaProxy or Nginx).</p>\n<p>For self-signed client certificates, inform the server (RabbitMQ or TLS terminating proxy) about their trustworthiness. Detailed steps for establishing this trust are beyond this post's scope.</p>\n"}],"owner":{"account_id":29892597,"reputation":1,"user_id":22908386,"display_name":"bc_qq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700143430,"creation_date":1699889565,"question_id":77475040,"body_markdown":"I would like to use the [Quarkus RabbitMQ Connector](https://quarkus.io/guides/rabbitmq-reference) to connect to a RabbitMQ Broker (Queues). The customer requires peer verification and client certificate authentication (instead of username/password). Unfortunately, I could not find an example of how to configure the client certificate.\r\n\r\nIn the Quarkus description, I found that he Vert.x RabbitMQ client can be customized (https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client). I have the server certificate (where the RabbitMQ broker is running) as .crt and the keyfile as .key file. I also have the client certificate as a .pem file with the cert chain und the encrypted private key included.\r\n\r\n```none\r\n------BEGIN CERTIFICATE-----  \r\nCERT  \r\n-----END CERTIFICATE-----  \r\n-----BEGIN CERTIFICATE-----  \r\nCERT   \r\n-----END CERTIFICATE-----  \r\n-----BEGIN CERTIFICATE-----  \r\nCERT  \r\n-----END CERTIFICATE-----  \r\n-----BEGIN ENCRYPTED PRIVATE KEY-----  \r\n-----END ENCRYPTED PRIVATE KEY-----  \r\n```\r\n\r\nDoes anyone have experience with client certificate authentication and RabbitMQ?\r\n\r\nI am currently not sure if the client certificate authentication works with Quarkus and the RabbitMQ connector. For the underlying vert.x client, I can only configure a truststore (https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option). I set there the server certificate file and the password. Or should I create a own keystore with the server certificate and the client certificate included? Is this possible?","title":"Quarkus reactive messaging rabbitmq Connector with client certificate authentication","body":"<p>I would like to use the <a href=\"https://quarkus.io/guides/rabbitmq-reference\" rel=\"nofollow noreferrer\">Quarkus RabbitMQ Connector</a> to connect to a RabbitMQ Broker (Queues). The customer requires peer verification and client certificate authentication (instead of username/password). Unfortunately, I could not find an example of how to configure the client certificate.</p>\n<p>In the Quarkus description, I found that he Vert.x RabbitMQ client can be customized (<a href=\"https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client</a>). I have the server certificate (where the RabbitMQ broker is running) as .crt and the keyfile as .key file. I also have the client certificate as a .pem file with the cert chain und the encrypted private key included.</p>\n<pre class=\"lang-none prettyprint-override\"><code>------BEGIN CERTIFICATE-----  \nCERT  \n-----END CERTIFICATE-----  \n-----BEGIN CERTIFICATE-----  \nCERT   \n-----END CERTIFICATE-----  \n-----BEGIN CERTIFICATE-----  \nCERT  \n-----END CERTIFICATE-----  \n-----BEGIN ENCRYPTED PRIVATE KEY-----  \n-----END ENCRYPTED PRIVATE KEY-----  \n</code></pre>\n<p>Does anyone have experience with client certificate authentication and RabbitMQ?</p>\n<p>I am currently not sure if the client certificate authentication works with Quarkus and the RabbitMQ connector. For the underlying vert.x client, I can only configure a truststore (<a href=\"https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option</a>). I set there the server certificate file and the password. Or should I create a own keystore with the server certificate and the client certificate included? Is this possible?</p>\n"},{"tags":["java","spring","spring-boot","multithreading","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700057894,"post_id":77488407,"comment_id":136608105,"body_markdown":"The warning is about the `JobLauncher` **not** your `Job`. Those are different things. It is used for your step not for the launcher those are totally different things.","body":"The warning is about the <code>JobLauncher</code> <b>not</b> your <code>Job</code>. Those are different things. It is used for your step not for the launcher those are totally different things."}],"answers":[{"tags":[],"owner":{"account_id":26559684,"reputation":103,"user_id":20187719,"display_name":"Harvey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700143308,"creation_date":1700143308,"answer_id":77495478,"question_id":77488407,"body_markdown":"I think it is related to the WriterExecutor, try debugging the API using the context  processor, has worked for me","title":"Spring batch not picking task executor","body":"<p>I think it is related to the WriterExecutor, try debugging the API using the context  processor, has worked for me</p>\n"}],"owner":{"account_id":18958775,"reputation":1,"user_id":13834785,"display_name":"Shivam Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700143308,"creation_date":1700057378,"question_id":77488407,"body_markdown":"This is my spring batch config:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n@Configuration\r\n@Slf4j\r\n@EnableBatchProcessing\r\npublic class SpringBatchConfig {\r\n\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n    @Autowired\r\n    @Lazy\r\n    private CRMTService crmtService;\r\n\r\n    @Bean\r\n    public TaskExecutor myTaskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(10);\r\n        executor.setMaxPoolSize(15);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;Batch-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n    \r\n    @Bean\r\n    public Step step() {\r\n        return stepBuilderFactory.get(&quot;step&quot;)\r\n                .&lt;String, String&gt;chunk(10)\r\n                .reader(itemReader())\r\n                .processor(itemProcessor())\r\n                .writer(itemWriter())\r\n                .taskExecutor(myTaskExecutor())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job job() {\r\n        return jobBuilderFactory.get(&quot;job&quot;)\r\n                .start(step())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemReader&lt;String&gt; itemReader() {\r\n        List&lt;String&gt; list = crmtService.getVertrags();\r\n        return new IteratorItemReader&lt;&gt;(list != null ? list.iterator() : Collections.emptyIterator());\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemProcessor&lt;String, String&gt; itemProcessor() {\r\n        return item -&gt; {\r\n               //Logic -&gt; This calls a method in service class. In that method I am calling an API for each string and saving the response to mongodb.\r\n\t\treturn item;\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemWriter&lt;String&gt; itemWriter() {\r\n        return items -&gt; {\r\n            //If we plan to log do anything in future\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nJdk version 11\r\n\r\nSpring boot version 2.6.3\r\n\r\nI am triggering this spring batch in my service class.\r\n\r\nWhen I am not using task executor, I am able to get all the products (214) in my mongodb \\[With single thread I am able to get all products but obviously it takes time\\]. When I am using with task executor I miss 1 or 2 products (212/213).\r\n\r\nAlso, some 2 interesting observations:\r\n\r\nWhen the spring batch is triggered, These are the logs I get in console:\r\n```\r\nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository \r\nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager \r\nINFO [] 9758 --- [onPool-worker-1] o.s.b.c.l.support.SimpleJobLauncher      : **No TaskExecutor has been set, defaulting to synchronous executor**.\r\n```\r\nEven though I have set task executor in step bean. I am getting this message.\r\n\r\nWhen the spring batch actually starts, the threads which are running are from myTaskExecutor&quot; because in the console I can see the thread&#39;s name is starting with &quot;Batch&quot; and this is the prefix I added in spring batch config class.\r\n\r\n```\r\n[        Batch-1] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 123 \r\n[        Batch-3] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 456\r\n[        Batch-2] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 789\r\n```\r\n\r\nQuestion 1: Why am I getting no task executor found even when I have defined it explicitly? \r\n\r\nQuestion 2: If it is not picked then why are threads in spring batch are starting with &quot;Batch-&quot;\r\n\r\nEven if I use this instead of task executor:\r\n\r\n```java\r\n@Bean\r\npublic Step step() {\r\n    return stepBuilderFactory.get(&quot;step&quot;)\r\n            .&lt;VertragsListe, VertragsListe&gt;chunk(10)\r\n            .reader(itemReader())\r\n            .processor(itemProcessor())\r\n            .writer(itemWriter())\r\n            .taskExecutor(new SimpleAsyncTaskExecutor())\r\n            .build();\r\n}\r\n\r\n```\r\n\r\nI still get &quot;No task executor found&quot;.","title":"Spring batch not picking task executor","body":"<p>This is my spring batch config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Configuration\n@Slf4j\n@EnableBatchProcessing\npublic class SpringBatchConfig {\n\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n    @Autowired\n    @Lazy\n    private CRMTService crmtService;\n\n    @Bean\n    public TaskExecutor myTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(15);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;Batch-&quot;);\n        executor.initialize();\n        return executor;\n    }\n    \n    @Bean\n    public Step step() {\n        return stepBuilderFactory.get(&quot;step&quot;)\n                .&lt;String, String&gt;chunk(10)\n                .reader(itemReader())\n                .processor(itemProcessor())\n                .writer(itemWriter())\n                .taskExecutor(myTaskExecutor())\n                .build();\n    }\n\n    @Bean\n    public Job job() {\n        return jobBuilderFactory.get(&quot;job&quot;)\n                .start(step())\n                .build();\n    }\n\n    @Bean\n    @StepScope\n    public ItemReader&lt;String&gt; itemReader() {\n        List&lt;String&gt; list = crmtService.getVertrags();\n        return new IteratorItemReader&lt;&gt;(list != null ? list.iterator() : Collections.emptyIterator());\n    }\n\n    @Bean\n    @StepScope\n    public ItemProcessor&lt;String, String&gt; itemProcessor() {\n        return item -&gt; {\n               //Logic -&gt; This calls a method in service class. In that method I am calling an API for each string and saving the response to mongodb.\n        return item;\n        };\n    }\n\n    @Bean\n    @StepScope\n    public ItemWriter&lt;String&gt; itemWriter() {\n        return items -&gt; {\n            //If we plan to log do anything in future\n        };\n    }\n\n}\n</code></pre>\n<p>Jdk version 11</p>\n<p>Spring boot version 2.6.3</p>\n<p>I am triggering this spring batch in my service class.</p>\n<p>When I am not using task executor, I am able to get all the products (214) in my mongodb [With single thread I am able to get all products but obviously it takes time]. When I am using with task executor I miss 1 or 2 products (212/213).</p>\n<p>Also, some 2 interesting observations:</p>\n<p>When the spring batch is triggered, These are the logs I get in console:</p>\n<pre><code>WARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository \nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager \nINFO [] 9758 --- [onPool-worker-1] o.s.b.c.l.support.SimpleJobLauncher      : **No TaskExecutor has been set, defaulting to synchronous executor**.\n</code></pre>\n<p>Even though I have set task executor in step bean. I am getting this message.</p>\n<p>When the spring batch actually starts, the threads which are running are from myTaskExecutor&quot; because in the console I can see the thread's name is starting with &quot;Batch&quot; and this is the prefix I added in spring batch config class.</p>\n<pre><code>[        Batch-1] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 123 \n[        Batch-3] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 456\n[        Batch-2] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 789\n</code></pre>\n<p>Question 1: Why am I getting no task executor found even when I have defined it explicitly?</p>\n<p>Question 2: If it is not picked then why are threads in spring batch are starting with &quot;Batch-&quot;</p>\n<p>Even if I use this instead of task executor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Step step() {\n    return stepBuilderFactory.get(&quot;step&quot;)\n            .&lt;VertragsListe, VertragsListe&gt;chunk(10)\n            .reader(itemReader())\n            .processor(itemProcessor())\n            .writer(itemWriter())\n            .taskExecutor(new SimpleAsyncTaskExecutor())\n            .build();\n}\n\n</code></pre>\n<p>I still get &quot;No task executor found&quot;.</p>\n"},{"tags":["java","android","navigation","bottomnavigationview"],"owner":{"account_id":21226912,"reputation":9,"user_id":15612424,"display_name":"simonetassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700143008,"creation_date":1700143008,"question_id":77495441,"body_markdown":"I&#39;m trying to use .setOnItemSelectedListener() method to hide the badge associated to one of the menu items in my BottomNavigationView but it&#39;s not working and I can&#39;t figure out what&#39;s the problem\r\n\r\nThis is my code:\r\n\r\n```\r\n@Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ...\r\n\r\n        // NAVBAR CONTROL\r\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\r\n        NavController navController = navHostFragment.getNavController();\r\n        bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.getOrCreateBadge(R.id.discoverFragment);\r\n        bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\r\n\r\n        // TODO not working at the moment\r\n        bottomNavigationView.setOnItemSelectedListener( item -&gt; {\r\n            if (item.getItemId() == R.id.discoverFragment){\r\n                Log.d(TAG, &quot;discover fragment&quot;);\r\n                bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\r\n                return true;\r\n            } else {\r\n                Log.d(TAG, &quot;ERROR: Fragment unrecognized&quot;);\r\n                return false;\r\n            }\r\n        });\r\n\r\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n...\r\n\r\n```\r\n\r\nTo show the badge i use             `bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(true);`, which works perfectly fine.\r\n\r\n","title":"BottomNavigationView.setOnItemSelectedListener() badge update not working","body":"<p>I'm trying to use .setOnItemSelectedListener() method to hide the badge associated to one of the menu items in my BottomNavigationView but it's not working and I can't figure out what's the problem</p>\n<p>This is my code:</p>\n<pre><code>@Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ...\n\n        // NAVBAR CONTROL\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        NavController navController = navHostFragment.getNavController();\n        bottomNavigationView = findViewById(R.id.bottomNavigation);\n        bottomNavigationView.getOrCreateBadge(R.id.discoverFragment);\n        bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\n\n        // TODO not working at the moment\n        bottomNavigationView.setOnItemSelectedListener( item -&gt; {\n            if (item.getItemId() == R.id.discoverFragment){\n                Log.d(TAG, &quot;discover fragment&quot;);\n                bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\n                return true;\n            } else {\n                Log.d(TAG, &quot;ERROR: Fragment unrecognized&quot;);\n                return false;\n            }\n        });\n\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\n...\n\n</code></pre>\n<p>To show the badge i use             <code>bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(true);</code>, which works perfectly fine.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683373576,"post_id":76188050,"comment_id":134358960,"body_markdown":"Did you try one of additional gradle arguments suggested in the error message to get more details about the error?","body":"Did you try one of additional gradle arguments suggested in the error message to get more details about the error?"},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683375475,"post_id":76188050,"comment_id":134359132,"body_markdown":"@aled I did, nothing useful. Too big to put here.","body":"@aled I did, nothing useful. Too big to put here."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683376692,"post_id":76188050,"comment_id":134359267,"body_markdown":"It may be useful to answer to have more details. Try extracting details of the error only, not the full thing. If you don&#39;t provide more information it is very unlikely anyone can help you.","body":"It may be useful to answer to have more details. Try extracting details of the error only, not the full thing. If you don&#39;t provide more information it is very unlikely anyone can help you."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1683378782,"post_id":76188050,"comment_id":134359522,"body_markdown":"Looks like a failure due to a `NoSuchMethodError`. What version of Gradle are you using? Also, `--stacktrace` should identify the code that&#39;s calling the method that doesn&#39;t exist.","body":"Looks like a failure due to a <code>NoSuchMethodError</code>. What version of Gradle are you using? Also, <code>--stacktrace</code> should identify the code that&#39;s calling the method that doesn&#39;t exist."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683379319,"post_id":76188050,"comment_id":134359577,"body_markdown":"@aled Added link to full debug log.","body":"@aled Added link to full debug log."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683379454,"post_id":76188050,"comment_id":134359598,"body_markdown":"@AndyWilkinson Added link to full debug log. I didn&#39;t find NoSuchMethodError here. Using Gradle 8.1.1","body":"@AndyWilkinson Added link to full debug log. I didn&#39;t find NoSuchMethodError here. Using Gradle 8.1.1"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1683383036,"post_id":76188050,"comment_id":134360047,"body_markdown":"@Ram You may want to delete that debug log as it can contain sensitive information","body":"@Ram You may want to delete that debug log as it can contain sensitive information"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1683382895,"creation_date":1683382895,"answer_id":76189396,"question_id":76188050,"body_markdown":"You are using Spring Boot 2.6 [which does not support Gradle 8.x](https://docs.spring.io/spring-boot/docs/2.6.x/gradle-plugin/reference/htmlsingle/#introduction):\r\n\r\n&gt; Spring Boot’s Gradle plugin requires Gradle 6.8, 6.9, or 7.x and can be used with Gradle’s configuration cache.\r\n\r\nSupport for Gradle 8 was added in Spring Boot 2.7 so you can either upgrade to Spring Boot 2.7 or downgrade to Gradle 7.x.","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>You are using Spring Boot 2.6 <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/gradle-plugin/reference/htmlsingle/#introduction\" rel=\"noreferrer\">which does not support Gradle 8.x</a>:</p>\n<blockquote>\n<p>Spring Boot’s Gradle plugin requires Gradle 6.8, 6.9, or 7.x and can be used with Gradle’s configuration cache.</p>\n</blockquote>\n<p>Support for Gradle 8 was added in Spring Boot 2.7 so you can either upgrade to Spring Boot 2.7 or downgrade to Gradle 7.x.</p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700142966,"creation_date":1700142966,"answer_id":77495434,"question_id":76188050,"body_markdown":"If you are seeing this from intelliJ and returning fine otherwise or vice-versa, you may need to verify you are using local gradle installation in your build tool setting. This will give consistent result.","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>If you are seeing this from intelliJ and returning fine otherwise or vice-versa, you may need to verify you are using local gradle installation in your build tool setting. This will give consistent result.</p>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10703,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":76189396,"answer_count":2,"score":12,"last_activity_date":1700142966,"creation_date":1683363819,"question_id":76188050,"body_markdown":"I am getting following exception when I try to build the spring boot project using Gradle build command. The code comiples and runs fine in IntelliJ Idea.\r\n\r\n    PS C:\\SVN\\Dactyl\\IIOTWizards\\SCADA\\Trunk\\source\\Services\\universal-service&gt; gradle build                                                                                                \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    &#39;void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider)&#39;\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 657ms\r\n\r\nThis is my build.gradle file.\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.iiot.wizards&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    //sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation files(&#39;lib/connection-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/dlms-lib-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emdb-entities-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emdb-model-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emflex-ansi-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emflex-dlms-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-common-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-communication-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-dnp3-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-dnp3-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-data-provider-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-data-writers-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-licensing-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-local-data-cache-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-log-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-messaging-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-mio-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-modbus-gprs-read-meter-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-modbus-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-scheduler-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/modbus-master-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/TinyLog-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/Utils-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/jniwrap-3.12.jar&#39;)\r\n        implementation files(&#39;lib/GoogleProtocolBuffer_2.6.1.jar&#39;)\r\n        implementation files(&#39;lib/comm.jar&#39;)\r\n        implementation files(&#39;lib/RXTXcomm.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-entities-2.0.0.1.jar&#39;)\r\n    \r\n        // https://mvnrepository.com/artifact/commons-io/commons-io\r\n        implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.11.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.eclipse.paho/org.eclipse.paho.client.mqttv3\r\n        implementation group: &#39;org.eclipse.paho&#39;, name: &#39;org.eclipse.paho.client.mqttv3&#39;, version: &#39;1.2.5&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\r\n        implementation group: &#39;com.rabbitmq&#39;, name: &#39;amqp-client&#39;, version: &#39;5.13.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-compress\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-compress&#39;, version: &#39;1.21&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n        implementation group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-cli/commons-cli\r\n        implementation group: &#39;commons-cli&#39;, name: &#39;commons-cli&#39;, version: &#39;1.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-collections4\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-logging/commons-logging\r\n        implementation group: &#39;commons-logging&#39;, name: &#39;commons-logging&#39;, version: &#39;1.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-math3&#39;, version: &#39;3.6.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-text\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-text&#39;, version: &#39;1.9&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/gnu.io/rxtx\r\n    //    implementation group: &#39;gnu.io&#39;, name: &#39;rxtx&#39;, version: &#39;2.1.7&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n        implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.5.7.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apiguardian/apiguardian-api\r\n        implementation group: &#39;org.apiguardian&#39;, name: &#39;apiguardian-api&#39;, version: &#39;1.1.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.dom4j/dom4j\r\n        implementation group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.sun.xml.fastinfoset/FastInfoset\r\n        implementation group: &#39;com.sun.xml.fastinfoset&#39;, name: &#39;FastInfoset&#39;, version: &#39;2.0.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core\r\n        testImplementation group: &#39;org.hamcrest&#39;, name: &#39;hamcrest-core&#39;, version: &#39;2.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api\r\n        implementation group: &#39;org.hibernate.javax.persistence&#39;, name: &#39;hibernate-jpa-2.1-api&#39;, version: &#39;1.0.2.Final&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.hibernate.ogm/hibernate-ogm-mongodb\r\n    //    implementation group: &#39;org.hibernate.ogm&#39;, name: &#39;hibernate-ogm-mongodb&#39;, version: &#39;5.4.1.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.sun.istack/istack-commons-runtime\r\n        implementation group: &#39;com.sun.istack&#39;, name: &#39;istack-commons-runtime&#39;, version: &#39;4.1.0-M1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.javassist/javassist\r\n        implementation &#39;org.javassist:javassist:3.28.0-GA&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\r\n        implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/io.dropwizard.metrics/metrics-core\r\n        implementation &#39;io.dropwizard.metrics:metrics-core:4.2.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.jboss.narayana.jta/narayana-jta\r\n        testImplementation &#39;org.jboss.narayana.jta:narayana-jta:5.12.1.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/io.netty/netty-all\r\n        implementation &#39;io.netty:netty-all:4.1.67.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\r\n        implementation &#39;com.rabbitmq:amqp-client:5.13.1&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\r\n    //    implementation &#39;org.apache.logging.log4j:log4j-core:2.14.1&#39;\r\n    //\r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\r\n    //    testImplementation &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.14.1&#39;\r\n    //\r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\r\n    //    implementation &#39;org.apache.logging.log4j:log4j-api:2.14.1&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api\r\n    //    implementation &#39;org.slf4j:slf4j-api:1.7.32&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\r\n    //    testImplementation &#39;org.slf4j:slf4j-log4j12:1.7.32&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n    //    testImplementation &#39;org.slf4j:slf4j-simple:1.7.32&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\r\n        implementation &#39;org.xerial:sqlite-jdbc:3.36.0.3&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.jvnet.staxex/stax-ex\r\n        implementation &#39;org.jvnet.staxex:stax-ex:2.1.0-M1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.glassfish.jaxb/txw2\r\n        implementation &#39;org.glassfish.jaxb:txw2:3.0.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\r\n        implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    \r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb:2.5.4&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-jdbc:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.5.6&#39;\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        runtimeOnly &#39;com.h2database:h2:1.4.200&#39;\r\n        runtimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n        runtimeOnly &#39;com.oracle.database.jdbc:ojdbc8:21.1.0.0&#39;\r\n        runtimeOnly &#39;mysql:mysql-connector-java:8.0.28&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql:42.3.8&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.6&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test:5.5.1&#39;\r\n    \r\n    }\r\n    \r\n    //jar {\r\n    //    manifest {\r\n    //        attributes(\r\n    //                &#39;Class-Path&#39;: &#39;comm.jar jdom.jar optra.jar jxl-2.6.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar sqljdbc42.jar guava-16.0.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar portmapper-2.0.0.jar javax.servlet.jsp.jar javax.transaction.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar poi-3.10.1-20140818.jar javax.servlet.jsp.jstl.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar poi-ooxml-schemas-3.10.1-20140818.jar hibernate-jpa-2.1-api-1.0.2.Final.jar apiguardian-api-1.0.0.jar opentest4j-1.1.1.jar byte-buddy-1.10.7.jar hibernate-core-5.4.11.Final.jar classmate-1.5.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar hibernate-commons-annotations-5.1.0.Final.jar FastInfoset-1.2.15.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar jaxb-api-2.3.1.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar commons-compress-1.19.jar javax.jms.jar javax.annotation.jar javax.ejb.jar javax.transaction.jar javax.resource.jar javax.servlet.jar javax.servlet.jsp.jar javax.servlet.jsp.jstl.jar comm.jar jdom.jar optra.jar lombok.jar ojdbc7.jar jxl-2.6.jar comm-2.0.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar seroUtils.jar sqljdbc42.jar guava-16.0.jar h2-1.4.200.jar junit-4.10.jar txw2-2.3.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar stax-ex-1.8.jar jniwrap-3.12.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar jaxb-api-2.3.1.jar classmate-1.5.1.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar opentest4j-1.1.1.jar portmapper-2.0.0.jar slf4j-api-1.7.30.jar byte-buddy-1.10.2.jar byte-buddy-1.10.7.jar javax.servlet.jsp.jar javax.transaction.jar json-simple-1.1.1.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar commons-lang3-3.11.jar FastInfoset-1.2.15.jar jandex-2.1.1.Final.jar jaxb-runtime-2.3.1.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar jackson-core-2.11.1.jar javassist-3.24.0-GA.jar junit-jupiter-5.4.2.jar poi-3.10.1-20140818.jar sqlite-jdbc-3.27.2.1.jar apiguardian-api-1.0.0.jar commons-compress-1.19.jar javax.servlet.jsp.jstl.jar jackson-databind-2.11.1.jar junit-jupiter-api-5.4.2.jar javax.persistence-api-2.2.jar jboss-logging-3.3.2.Final.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar jackson-annotations-2.11.1.jar javax.activation-api-1.2.0.jar junit-jupiter-engine-5.4.2.jar junit-jupiter-params-5.4.2.jar hibernate-core-5.4.11.Final.jar junit-platform-engine-1.4.2.jar mysql-connector-java-8.0.15.jar istack-commons-runtime-3.0.7.jar junit-platform-commons-1.4.2.jar hibernate-jpa-2.1-api-1.0.2.Final.jar poi-ooxml-schemas-3.10.1-20140818.jar org.eclipse.paho.client.mqttv3-1.2.1.jar hibernate-commons-annotations-5.1.0.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar&#39;\r\n    //        )\r\n    //    }\r\n    //}\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>I am getting following exception when I try to build the spring boot project using Gradle build command. The code comiples and runs fine in IntelliJ Idea.</p>\n<pre><code>PS C:\\SVN\\Dactyl\\IIOTWizards\\SCADA\\Trunk\\source\\Services\\universal-service&gt; gradle build                                                                                                \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\n'void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider)'\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 657ms\n</code></pre>\n<p>This is my build.gradle file.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.iiot.wizards'\nversion = '0.0.1-SNAPSHOT'\n//sourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation files('lib/connection-manager-2.0.0.1.jar')\n    implementation files('lib/dlms-lib-2.0.0.1.jar')\n    implementation files('lib/emdb-entities-2.0.0.1.jar')\n    implementation files('lib/emdb-model-2.0.0.1.jar')\n    implementation files('lib/emflex-ansi-meter-reader-2.0.0.1.jar')\n    implementation files('lib/emflex-dlms-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-common-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-communication-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-dnp3-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-dnp3-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-history-data-provider-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-history-data-writers-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-licensing-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-local-data-cache-manager-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-log-manager-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-messaging-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-mio-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-modbus-gprs-read-meter-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-modbus-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-scheduler-2.0.0.1.jar')\n    implementation files('lib/modbus-master-2.0.0.1.jar')\n    implementation files('lib/TinyLog-2.0.0.1.jar')\n    implementation files('lib/Utils-2.0.0.1.jar')\n    implementation files('lib/jniwrap-3.12.jar')\n    implementation files('lib/GoogleProtocolBuffer_2.6.1.jar')\n    implementation files('lib/comm.jar')\n    implementation files('lib/RXTXcomm.jar')\n    implementation files('lib/iiot-wizards-history-entities-2.0.0.1.jar')\n\n    // https://mvnrepository.com/artifact/commons-io/commons-io\n    implementation group: 'commons-io', name: 'commons-io', version: '2.11.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n\n    // https://mvnrepository.com/artifact/org.eclipse.paho/org.eclipse.paho.client.mqttv3\n    implementation group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version: '1.2.5'\n\n    // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\n    implementation group: 'com.rabbitmq', name: 'amqp-client', version: '5.13.1'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-compress\n    implementation group: 'org.apache.commons', name: 'commons-compress', version: '1.21'\n\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n\n    // https://mvnrepository.com/artifact/commons-cli/commons-cli\n    implementation group: 'commons-cli', name: 'commons-cli', version: '1.4'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-collections4\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: '4.4'\n\n    // https://mvnrepository.com/artifact/commons-logging/commons-logging\n    implementation group: 'commons-logging', name: 'commons-logging', version: '1.2'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\n    implementation group: 'org.apache.commons', name: 'commons-math3', version: '3.6.1'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-text\n    implementation group: 'org.apache.commons', name: 'commons-text', version: '1.9'\n\n//    // https://mvnrepository.com/artifact/gnu.io/rxtx\n//    implementation group: 'gnu.io', name: 'rxtx', version: '2.1.7'\n\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.5.7.Final'\n\n    // https://mvnrepository.com/artifact/org.apiguardian/apiguardian-api\n    implementation group: 'org.apiguardian', name: 'apiguardian-api', version: '1.1.2'\n\n    // https://mvnrepository.com/artifact/org.dom4j/dom4j\n    implementation group: 'org.dom4j', name: 'dom4j', version: '2.1.3'\n\n    // https://mvnrepository.com/artifact/com.sun.xml.fastinfoset/FastInfoset\n    implementation group: 'com.sun.xml.fastinfoset', name: 'FastInfoset', version: '2.0.0'\n\n    // https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core\n    testImplementation group: 'org.hamcrest', name: 'hamcrest-core', version: '2.2'\n\n    // https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api\n    implementation group: 'org.hibernate.javax.persistence', name: 'hibernate-jpa-2.1-api', version: '1.0.2.Final'\n\n//    // https://mvnrepository.com/artifact/org.hibernate.ogm/hibernate-ogm-mongodb\n//    implementation group: 'org.hibernate.ogm', name: 'hibernate-ogm-mongodb', version: '5.4.1.Final'\n\n    // https://mvnrepository.com/artifact/com.sun.istack/istack-commons-runtime\n    implementation group: 'com.sun.istack', name: 'istack-commons-runtime', version: '4.1.0-M1'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.0'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.0'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n\n    // https://mvnrepository.com/artifact/org.javassist/javassist\n    implementation 'org.javassist:javassist:3.28.0-GA'\n\n    // https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n\n    // https://mvnrepository.com/artifact/io.dropwizard.metrics/metrics-core\n    implementation 'io.dropwizard.metrics:metrics-core:4.2.4'\n\n    // https://mvnrepository.com/artifact/org.jboss.narayana.jta/narayana-jta\n    testImplementation 'org.jboss.narayana.jta:narayana-jta:5.12.1.Final'\n\n    // https://mvnrepository.com/artifact/io.netty/netty-all\n    implementation 'io.netty:netty-all:4.1.67.Final'\n\n    // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\n    implementation 'com.rabbitmq:amqp-client:5.13.1'\n\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\n//    implementation 'org.apache.logging.log4j:log4j-core:2.14.1'\n//\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\n//    testImplementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.14.1'\n//\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\n//    implementation 'org.apache.logging.log4j:log4j-api:2.14.1'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api\n//    implementation 'org.slf4j:slf4j-api:1.7.32'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\n//    testImplementation 'org.slf4j:slf4j-log4j12:1.7.32'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\n//    testImplementation 'org.slf4j:slf4j-simple:1.7.32'\n\n    // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\n    implementation 'org.xerial:sqlite-jdbc:3.36.0.3'\n\n    // https://mvnrepository.com/artifact/org.jvnet.staxex/stax-ex\n    implementation 'org.jvnet.staxex:stax-ex:2.1.0-M1'\n\n    // https://mvnrepository.com/artifact/org.glassfish.jaxb/txw2\n    implementation 'org.glassfish.jaxb:txw2:3.0.2'\n\n    // https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.6'\n//    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb:2.5.4'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.5.6'\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    runtimeOnly 'com.h2database:h2:1.4.200'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    runtimeOnly 'com.oracle.database.jdbc:ojdbc8:21.1.0.0'\n    runtimeOnly 'mysql:mysql-connector-java:8.0.28'\n    runtimeOnly 'org.postgresql:postgresql:42.3.8'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.6'\n    testImplementation 'org.springframework.security:spring-security-test:5.5.1'\n\n}\n\n//jar {\n//    manifest {\n//        attributes(\n//                'Class-Path': 'comm.jar jdom.jar optra.jar jxl-2.6.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar sqljdbc42.jar guava-16.0.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar portmapper-2.0.0.jar javax.servlet.jsp.jar javax.transaction.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar poi-3.10.1-20140818.jar javax.servlet.jsp.jstl.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar poi-ooxml-schemas-3.10.1-20140818.jar hibernate-jpa-2.1-api-1.0.2.Final.jar apiguardian-api-1.0.0.jar opentest4j-1.1.1.jar byte-buddy-1.10.7.jar hibernate-core-5.4.11.Final.jar classmate-1.5.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar hibernate-commons-annotations-5.1.0.Final.jar FastInfoset-1.2.15.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar jaxb-api-2.3.1.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar commons-compress-1.19.jar javax.jms.jar javax.annotation.jar javax.ejb.jar javax.transaction.jar javax.resource.jar javax.servlet.jar javax.servlet.jsp.jar javax.servlet.jsp.jstl.jar comm.jar jdom.jar optra.jar lombok.jar ojdbc7.jar jxl-2.6.jar comm-2.0.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar seroUtils.jar sqljdbc42.jar guava-16.0.jar h2-1.4.200.jar junit-4.10.jar txw2-2.3.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar stax-ex-1.8.jar jniwrap-3.12.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar jaxb-api-2.3.1.jar classmate-1.5.1.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar opentest4j-1.1.1.jar portmapper-2.0.0.jar slf4j-api-1.7.30.jar byte-buddy-1.10.2.jar byte-buddy-1.10.7.jar javax.servlet.jsp.jar javax.transaction.jar json-simple-1.1.1.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar commons-lang3-3.11.jar FastInfoset-1.2.15.jar jandex-2.1.1.Final.jar jaxb-runtime-2.3.1.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar jackson-core-2.11.1.jar javassist-3.24.0-GA.jar junit-jupiter-5.4.2.jar poi-3.10.1-20140818.jar sqlite-jdbc-3.27.2.1.jar apiguardian-api-1.0.0.jar commons-compress-1.19.jar javax.servlet.jsp.jstl.jar jackson-databind-2.11.1.jar junit-jupiter-api-5.4.2.jar javax.persistence-api-2.2.jar jboss-logging-3.3.2.Final.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar jackson-annotations-2.11.1.jar javax.activation-api-1.2.0.jar junit-jupiter-engine-5.4.2.jar junit-jupiter-params-5.4.2.jar hibernate-core-5.4.11.Final.jar junit-platform-engine-1.4.2.jar mysql-connector-java-8.0.15.jar istack-commons-runtime-3.0.7.jar junit-platform-commons-1.4.2.jar hibernate-jpa-2.1-api-1.0.2.Final.jar poi-ooxml-schemas-3.10.1-20140818.jar org.eclipse.paho.client.mqttv3-1.2.1.jar hibernate-commons-annotations-5.1.0.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar'\n//        )\n//    }\n//}\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","c++","converters","jna"],"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1535027076,"post_id":51983889,"comment_id":90920804,"body_markdown":"Could you add a link to the other question you are refering to for context?","body":"Could you add a link to the other question you are refering to for context?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535027351,"post_id":51983889,"comment_id":90920969,"body_markdown":"I have added the link","body":"I have added the link"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535056411,"post_id":51983889,"comment_id":90937409,"body_markdown":"Has anyone a solution?","body":"Has anyone a solution?"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535058758,"post_id":51983889,"comment_id":90938389,"body_markdown":"Can you be more clear on what &quot;does not work properly&quot; means?","body":"Can you be more clear on what &quot;does not work properly&quot; means?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535060453,"post_id":51983889,"comment_id":90938989,"body_markdown":"If you look at this Image https://i.stack.imgur.com/rHR4V.png . It is ugly","body":"If you look at this Image <a href=\"https://i.stack.imgur.com/rHR4V.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/rHR4V.png</a> . It is ugly"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535063964,"post_id":51983889,"comment_id":90939897,"body_markdown":"Check your order of operations. `0xFF - lpBitsMask.getByte(i) &amp; 0xFF` is probably not doing what you think it is.  `0xFF - (lpBitsMask.getByte(i) &amp; 0xFF)` might work better...","body":"Check your order of operations. <code>0xFF - lpBitsMask.getByte(i) &amp; 0xFF</code> is probably not doing what you think it is.  <code>0xFF - (lpBitsMask.getByte(i) &amp; 0xFF)</code> might work better..."},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535064654,"post_id":51983889,"comment_id":90940074,"body_markdown":"Thanks for your try. But it hasn&#180;t changed anything ;(","body":"Thanks for your try. But it hasn&#180;t changed anything ;("},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535064973,"post_id":51983889,"comment_id":90940156,"body_markdown":"Why are you subtracting the bitmask from 0xFF?   Looking at the image, it does seem something&#39;s wonky with your alpha calculation because the rest of it looks normal.  Is there sample code or docs you are following?","body":"Why are you subtracting the bitmask from 0xFF?   Looking at the image, it does seem something&#39;s wonky with your alpha calculation because the rest of it looks normal.  Is there sample code or docs you are following?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535065503,"post_id":51983889,"comment_id":90940283,"body_markdown":"Yes here is the sample code: https://www.programcreek.com/java-api-examples/index.php?api=com.sun.jna.platform.win32.WinDef.HICON","body":"Yes here is the sample code: <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=com.sun.jna.platform.win32.WinDef.HICON\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535066906,"post_id":51983889,"comment_id":90940557,"body_markdown":"Just guessing here comparing to reference image. Looks like you&#39;re getting &quot;pure white&quot; on an edge case for alpha.  Try a special case if `lpBitsMask.getByte(i)` equals zero, returning 0 for `a` instead of `0xFF`.","body":"Just guessing here comparing to reference image. Looks like you&#39;re getting &quot;pure white&quot; on an edge case for alpha.  Try a special case if <code>lpBitsMask.getByte(i)</code> equals zero, returning 0 for <code>a</code> instead of <code>0xFF</code>."},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535067093,"post_id":51983889,"comment_id":90940594,"body_markdown":"Is this right ?                                                                             if(lpBitsMask.getByte(i)==0) {\n                a=0;\n            }else{\n                a = 0xFF;\n            }","body":"Is this right ?                                                                             if(lpBitsMask.getByte(i)==0) {                 a=0;             }else{                 a = 0xFF;             }"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535067806,"post_id":51983889,"comment_id":90940741,"body_markdown":"I have found another Method which works much better (EDIT) as you can see here https://i.stack.imgur.com/HoRyG.png. But not perfect. What should I change?","body":"I have found another Method which works much better (EDIT) as you can see here <a href=\"https://i.stack.imgur.com/HoRyG.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/HoRyG.png</a>. But not perfect. What should I change?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535068907,"post_id":51983889,"comment_id":90940959,"body_markdown":"I fixed it finally!","body":"I fixed it finally!"}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700142664,"creation_date":1700142664,"answer_id":77495389,"question_id":51983889,"body_markdown":"I tweaked code from [MrMarnic][1]&#39;s GitHub which works with any HICON (rather than file paths):\r\n\r\n\tpublic static BufferedImage toImage(WinDef.HICON hicon) {\r\n\t\tWinDef.HBITMAP bitmapHandle = null;\r\n\t\tUser32 user32 = User32.INSTANCE;\r\n\t\tGDI32 gdi32 = GDI32.INSTANCE;\r\n\r\n\t\ttry {\r\n\t\t\tWinGDI.ICONINFO info = new WinGDI.ICONINFO();\r\n\t\t\tif (!user32.GetIconInfo(hicon, info))\r\n\t\t\t\treturn null;\r\n\r\n\t\t\tinfo.read();\r\n\t\t\tbitmapHandle = Optional.ofNullable(info.hbmColor).orElse(info.hbmMask);\r\n\r\n\t\t\tWinGDI.BITMAP bitmap = new WinGDI.BITMAP();\r\n\t\t\tif (gdi32.GetObject(bitmapHandle, bitmap.size(), bitmap.getPointer()) &gt; 0) {\r\n\t\t\t\tbitmap.read();\r\n\r\n\t\t\t\tint width = bitmap.bmWidth.intValue();\r\n\t\t\t\tint height = bitmap.bmHeight.intValue();\r\n\r\n\t\t\t\tfinal WinDef.HDC deviceContext = user32.GetDC(null);\r\n\t\t\t\tWinGDI.BITMAPINFO bitmapInfo = new WinGDI.BITMAPINFO();\r\n\r\n\t\t\t\tbitmapInfo.bmiHeader.biSize = bitmapInfo.bmiHeader.size();\r\n\t\t\t\tif (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, 0, Pointer.NULL, bitmapInfo,\r\n\t\t\t\t\t\tWinGDI.DIB_RGB_COLORS) == 0)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\r\n\r\n\t\t\t\tbitmapInfo.read();\r\n\r\n\t\t\t\tMemory pixels = new Memory(bitmapInfo.bmiHeader.biSizeImage);\r\n\t\t\t\tbitmapInfo.bmiHeader.biCompression = WinGDI.BI_RGB;\r\n\t\t\t\tbitmapInfo.bmiHeader.biHeight = -height;\r\n\r\n\t\t\t\tif (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, bitmapInfo.bmiHeader.biHeight, pixels, bitmapInfo,\r\n\t\t\t\t\t\tWinGDI.DIB_RGB_COLORS) == 0)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\r\n\r\n\t\t\t\tint[] colorArray = pixels.getIntArray(0, width * height);\r\n\t\t\t\tBufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\t\t\t\timage.setRGB(0, 0, width, height, colorArray, 0, width);\r\n\r\n\t\t\t\treturn image;\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tgdi32.DeleteObject(hicon);\r\n\t\t\tOptional.ofNullable(bitmapHandle).ifPresent(gdi32::DeleteObject);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/10260109/mrmarnic","title":"JNA Convert HICON to Java Image","body":"<p>I tweaked code from <a href=\"https://stackoverflow.com/users/10260109/mrmarnic\">MrMarnic</a>'s GitHub which works with any HICON (rather than file paths):</p>\n<pre><code>public static BufferedImage toImage(WinDef.HICON hicon) {\n    WinDef.HBITMAP bitmapHandle = null;\n    User32 user32 = User32.INSTANCE;\n    GDI32 gdi32 = GDI32.INSTANCE;\n\n    try {\n        WinGDI.ICONINFO info = new WinGDI.ICONINFO();\n        if (!user32.GetIconInfo(hicon, info))\n            return null;\n\n        info.read();\n        bitmapHandle = Optional.ofNullable(info.hbmColor).orElse(info.hbmMask);\n\n        WinGDI.BITMAP bitmap = new WinGDI.BITMAP();\n        if (gdi32.GetObject(bitmapHandle, bitmap.size(), bitmap.getPointer()) &gt; 0) {\n            bitmap.read();\n\n            int width = bitmap.bmWidth.intValue();\n            int height = bitmap.bmHeight.intValue();\n\n            final WinDef.HDC deviceContext = user32.GetDC(null);\n            WinGDI.BITMAPINFO bitmapInfo = new WinGDI.BITMAPINFO();\n\n            bitmapInfo.bmiHeader.biSize = bitmapInfo.bmiHeader.size();\n            if (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, 0, Pointer.NULL, bitmapInfo,\n                    WinGDI.DIB_RGB_COLORS) == 0)\n                throw new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\n\n            bitmapInfo.read();\n\n            Memory pixels = new Memory(bitmapInfo.bmiHeader.biSizeImage);\n            bitmapInfo.bmiHeader.biCompression = WinGDI.BI_RGB;\n            bitmapInfo.bmiHeader.biHeight = -height;\n\n            if (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, bitmapInfo.bmiHeader.biHeight, pixels, bitmapInfo,\n                    WinGDI.DIB_RGB_COLORS) == 0)\n                throw new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\n\n            int[] colorArray = pixels.getIntArray(0, width * height);\n            BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n            image.setRGB(0, 0, width, height, colorArray, 0, width);\n\n            return image;\n        }\n    } finally {\n        gdi32.DeleteObject(hicon);\n        Optional.ofNullable(bitmapHandle).ifPresent(gdi32::DeleteObject);\n    }\n\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700142664,"creation_date":1535020772,"question_id":51983889,"body_markdown":"I knwo there is already an [question like this][1]. But its solution was not suitable for me because with the Sehellfolder Methode you can only get 16x16 and 32x32 sized icons.\r\nI have extracted a HICO with size of 256x256 and want to convert it into and Java Image like BufferedImage. I found and method for it to. But it does not work properly:\r\n \r\n\r\n    public static BufferedImage getIcon(final WinDef.HICON hIcon,int ICON_SIZE,short ICON_DEPTH,int ICON_BYTE_SIZE) {\r\n        final int width = ICON_SIZE;\r\n        final int height = ICON_SIZE;\r\n        final short depth = ICON_DEPTH;\r\n        final BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n        final Memory lpBitsColor = new Memory(width * height * depth / ICON_BYTE_SIZE);\r\n        final Memory lpBitsMask = new Memory(width * height * depth / ICON_BYTE_SIZE);\r\n        final WinGDI.BITMAPINFO info = new WinGDI.BITMAPINFO();\r\n        final WinGDI.BITMAPINFOHEADER hdr = new WinGDI.BITMAPINFOHEADER();\r\n        info.bmiHeader = hdr;\r\n        hdr.biWidth = width;\r\n        hdr.biHeight = height;\r\n        hdr.biPlanes = 1;\r\n        hdr.biBitCount = depth;\r\n        hdr.biCompression = WinGDI.BI_RGB;\r\n\r\n        final WinDef.HDC hDC = User32.INSTANCE.GetDC(null);\r\n        final WinGDI.ICONINFO piconinfo = new WinGDI.ICONINFO();\r\n        User32.INSTANCE.GetIconInfo(hIcon, piconinfo);\r\n\r\n        GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmColor, 0, height, lpBitsColor, info, WinGDI.DIB_RGB_COLORS);\r\n        GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmMask, 0, height, lpBitsMask, info, WinGDI.DIB_RGB_COLORS);\r\n\r\n        int r, g, b, a, argb;\r\n        int x = 0, y = height - 1;\r\n        for (int i = 0; i &lt; lpBitsColor.size(); i = i + 3) {\r\n            b = lpBitsColor.getByte(i) &amp; 0xFF;\r\n            g = lpBitsColor.getByte(i + 1) &amp; 0xFF;\r\n            r = lpBitsColor.getByte(i + 2) &amp; 0xFF;\r\n            a = 0xFF - lpBitsMask.getByte(i) &amp; 0xFF;\r\n\r\n            argb = a &lt;&lt; 24 | r &lt;&lt; 16 | g &lt;&lt; 8 | b;\r\n            image.setRGB(x, y, argb);\r\n            x = (x + 1) % width;\r\n            if (x == 0) {\r\n                y--;\r\n            }\r\n        }\r\n\r\n        User32.INSTANCE.ReleaseDC(null, hDC);\r\n        GDI32.INSTANCE.DeleteObject(piconinfo.hbmColor);\r\n        GDI32.INSTANCE.DeleteObject(piconinfo.hbmMask);\r\n\r\n        return image;\r\n    }\r\n\r\n[Resulting Image][2]\r\n\r\n\r\nDo you know andy method that works better?\r\n\r\nEDIT:\r\n\r\n    public static BufferedImage getImageByHICON(final int width, final int height, final WinNT.HANDLE hicon, final WinGDI.BITMAPINFOHEADER info) {\r\n        final WinGDI.ICONINFO iconinfo = new WinGDI.ICONINFO();\r\n\r\n        try {\r\n            // GDI32 g32 = GDI32.INSTANCE;\r\n\r\n            // get icon information\r\n\r\n            if (!User32.INSTANCE.GetIconInfo(new WinDef.HICON(hicon.getPointer()), iconinfo)) { return null; }\r\n            final WinDef.HWND hwdn = new WinDef.HWND();\r\n            final WinDef.HDC dc = User32.INSTANCE.GetDC(hwdn);\r\n\r\n            if (dc == null) {\r\n\r\n                return null; }\r\n            try {\r\n                final int nBits = width * height * 4;\r\n                // final BitmapInfo bmi = new BitmapInfo(1);\r\n\r\n                final Memory colorBitsMem = new Memory(nBits);\r\n                // // Extract the color bitmap\r\n                final WinGDI.BITMAPINFO bmi = new WinGDI.BITMAPINFO();\r\n\r\n                bmi.bmiHeader.biWidth = width;\r\n                bmi.bmiHeader.biHeight = -height;\r\n                bmi.bmiHeader.biPlanes = 1;\r\n                bmi.bmiHeader.biBitCount = 32;\r\n                bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\r\n                GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmColor, 0, height, colorBitsMem, bmi, WinGDI.DIB_RGB_COLORS);\r\n                // g32.GetDIBits(dc, iconinfo.hbmColor, 0, size, colorBitsMem,\r\n                // bmi,\r\n                // GDI32.DIB_RGB_COLORS);\r\n                final int[] colorBits = colorBitsMem.getIntArray(0, width * height);\r\n                if (info.biBitCount &lt; 32) {\r\n                    final Memory maskBitsMem = new Memory(nBits);\r\n                    // // Extract the mask bitmap\r\n                    GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmMask, 0, height, maskBitsMem, bmi, WinGDI.DIB_PAL_COLORS);\r\n                    // g32.GetDIBits(dc, iconinfo.hbmMask, 0, size,\r\n                    // maskBitsMem,\r\n                    // bmi,\r\n                    // // GDI32.DIB_RGB_COLORS);\r\n                    final int[] maskBits = maskBitsMem.getIntArray(0, width * height);\r\n                    // // // Copy the mask alphas into the color bits\r\n                    for (int i = 0; i &lt; colorBits.length; i++) {\r\n                        colorBits[i] = colorBits[i] | (maskBits[i] != 0 ? 0 : 0xFF000000);\r\n                    }\r\n                }\r\n                final BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n                bi.setRGB(0, 0, width, height, colorBits, 0, height);\r\n                return bi;\r\n            } finally {\r\n                com.sun.jna.platform.win32.User32.INSTANCE.ReleaseDC(hwdn, dc);\r\n            }\r\n        } finally {\r\n            User32.INSTANCE.DestroyIcon(new WinDef.HICON(hicon.getPointer()));\r\n            GDI32.INSTANCE.DeleteObject(iconinfo.hbmColor);\r\n            GDI32.INSTANCE.DeleteObject(iconinfo.hbmMask);\r\n        }\r\n    }\r\n\r\n[Better Image][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19279134/java-windows-taskbar-using-jna-how-do-i-convert-window-icons-hicon-to-java?rq=1\r\n  [2]: https://i.stack.imgur.com/rHR4V.png\r\n  [3]: https://i.stack.imgur.com/HoRyG.png","title":"JNA Convert HICON to Java Image","body":"<p>I knwo there is already an <a href=\"https://stackoverflow.com/questions/19279134/java-windows-taskbar-using-jna-how-do-i-convert-window-icons-hicon-to-java?rq=1\">question like this</a>. But its solution was not suitable for me because with the Sehellfolder Methode you can only get 16x16 and 32x32 sized icons.\nI have extracted a HICO with size of 256x256 and want to convert it into and Java Image like BufferedImage. I found and method for it to. But it does not work properly:</p>\n\n<pre><code>public static BufferedImage getIcon(final WinDef.HICON hIcon,int ICON_SIZE,short ICON_DEPTH,int ICON_BYTE_SIZE) {\n    final int width = ICON_SIZE;\n    final int height = ICON_SIZE;\n    final short depth = ICON_DEPTH;\n    final BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    final Memory lpBitsColor = new Memory(width * height * depth / ICON_BYTE_SIZE);\n    final Memory lpBitsMask = new Memory(width * height * depth / ICON_BYTE_SIZE);\n    final WinGDI.BITMAPINFO info = new WinGDI.BITMAPINFO();\n    final WinGDI.BITMAPINFOHEADER hdr = new WinGDI.BITMAPINFOHEADER();\n    info.bmiHeader = hdr;\n    hdr.biWidth = width;\n    hdr.biHeight = height;\n    hdr.biPlanes = 1;\n    hdr.biBitCount = depth;\n    hdr.biCompression = WinGDI.BI_RGB;\n\n    final WinDef.HDC hDC = User32.INSTANCE.GetDC(null);\n    final WinGDI.ICONINFO piconinfo = new WinGDI.ICONINFO();\n    User32.INSTANCE.GetIconInfo(hIcon, piconinfo);\n\n    GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmColor, 0, height, lpBitsColor, info, WinGDI.DIB_RGB_COLORS);\n    GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmMask, 0, height, lpBitsMask, info, WinGDI.DIB_RGB_COLORS);\n\n    int r, g, b, a, argb;\n    int x = 0, y = height - 1;\n    for (int i = 0; i &lt; lpBitsColor.size(); i = i + 3) {\n        b = lpBitsColor.getByte(i) &amp; 0xFF;\n        g = lpBitsColor.getByte(i + 1) &amp; 0xFF;\n        r = lpBitsColor.getByte(i + 2) &amp; 0xFF;\n        a = 0xFF - lpBitsMask.getByte(i) &amp; 0xFF;\n\n        argb = a &lt;&lt; 24 | r &lt;&lt; 16 | g &lt;&lt; 8 | b;\n        image.setRGB(x, y, argb);\n        x = (x + 1) % width;\n        if (x == 0) {\n            y--;\n        }\n    }\n\n    User32.INSTANCE.ReleaseDC(null, hDC);\n    GDI32.INSTANCE.DeleteObject(piconinfo.hbmColor);\n    GDI32.INSTANCE.DeleteObject(piconinfo.hbmMask);\n\n    return image;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rHR4V.png\" rel=\"nofollow noreferrer\">Resulting Image</a></p>\n\n<p>Do you know andy method that works better?</p>\n\n<p>EDIT:</p>\n\n<pre><code>public static BufferedImage getImageByHICON(final int width, final int height, final WinNT.HANDLE hicon, final WinGDI.BITMAPINFOHEADER info) {\n    final WinGDI.ICONINFO iconinfo = new WinGDI.ICONINFO();\n\n    try {\n        // GDI32 g32 = GDI32.INSTANCE;\n\n        // get icon information\n\n        if (!User32.INSTANCE.GetIconInfo(new WinDef.HICON(hicon.getPointer()), iconinfo)) { return null; }\n        final WinDef.HWND hwdn = new WinDef.HWND();\n        final WinDef.HDC dc = User32.INSTANCE.GetDC(hwdn);\n\n        if (dc == null) {\n\n            return null; }\n        try {\n            final int nBits = width * height * 4;\n            // final BitmapInfo bmi = new BitmapInfo(1);\n\n            final Memory colorBitsMem = new Memory(nBits);\n            // // Extract the color bitmap\n            final WinGDI.BITMAPINFO bmi = new WinGDI.BITMAPINFO();\n\n            bmi.bmiHeader.biWidth = width;\n            bmi.bmiHeader.biHeight = -height;\n            bmi.bmiHeader.biPlanes = 1;\n            bmi.bmiHeader.biBitCount = 32;\n            bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\n            GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmColor, 0, height, colorBitsMem, bmi, WinGDI.DIB_RGB_COLORS);\n            // g32.GetDIBits(dc, iconinfo.hbmColor, 0, size, colorBitsMem,\n            // bmi,\n            // GDI32.DIB_RGB_COLORS);\n            final int[] colorBits = colorBitsMem.getIntArray(0, width * height);\n            if (info.biBitCount &lt; 32) {\n                final Memory maskBitsMem = new Memory(nBits);\n                // // Extract the mask bitmap\n                GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmMask, 0, height, maskBitsMem, bmi, WinGDI.DIB_PAL_COLORS);\n                // g32.GetDIBits(dc, iconinfo.hbmMask, 0, size,\n                // maskBitsMem,\n                // bmi,\n                // // GDI32.DIB_RGB_COLORS);\n                final int[] maskBits = maskBitsMem.getIntArray(0, width * height);\n                // // // Copy the mask alphas into the color bits\n                for (int i = 0; i &lt; colorBits.length; i++) {\n                    colorBits[i] = colorBits[i] | (maskBits[i] != 0 ? 0 : 0xFF000000);\n                }\n            }\n            final BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n            bi.setRGB(0, 0, width, height, colorBits, 0, height);\n            return bi;\n        } finally {\n            com.sun.jna.platform.win32.User32.INSTANCE.ReleaseDC(hwdn, dc);\n        }\n    } finally {\n        User32.INSTANCE.DestroyIcon(new WinDef.HICON(hicon.getPointer()));\n        GDI32.INSTANCE.DeleteObject(iconinfo.hbmColor);\n        GDI32.INSTANCE.DeleteObject(iconinfo.hbmMask);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HoRyG.png\" rel=\"nofollow noreferrer\">Better Image</a></p>\n"},{"tags":["java","spring","datasource","hikaricp","dbcp"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1513525620,"post_id":47758091,"comment_id":82677695,"body_markdown":"Please add hikari version and other settings of hikari to your question","body":"Please add hikari version and other settings of hikari to your question"},{"owner":{"account_id":10900090,"reputation":753,"user_id":8012596,"accept_rate":91,"display_name":"user8012596"},"score":1,"creation_date":1513537476,"post_id":47758091,"comment_id":82681367,"body_markdown":"My hikari version is HikariCP-2.6.1.jar. I dont have any other settings other that stated above in the question. Thank you.","body":"My hikari version is HikariCP-2.6.1.jar. I dont have any other settings other that stated above in the question. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1639161622,"post_id":57647811,"comment_id":124286612,"body_markdown":"Assuming all our endpoints run in less than 2 seconds, what else might be the cause of a timeout when trying to acquire a connection? Our application runs fine as 1 instance, but once it scales horizontally, we get those errors in all of the newly created applications.","body":"Assuming all our endpoints run in less than 2 seconds, what else might be the cause of a timeout when trying to acquire a connection? Our application runs fine as 1 instance, but once it scales horizontally, we get those errors in all of the newly created applications."},{"owner":{"account_id":473863,"reputation":1170,"user_id":883214,"display_name":"nelsonda"},"score":1,"creation_date":1651618731,"post_id":57647811,"comment_id":127405531,"body_markdown":"@payne I&#39;m a little late to this comment, but if you&#39;re running into this as you scale horizontally, I&#39;d hazard a guess that you&#39;re exhausting the connection limits on the database server.","body":"@payne I&#39;m a little late to this comment, but if you&#39;re running into this as you scale horizontally, I&#39;d hazard a guess that you&#39;re exhausting the connection limits on the database server."},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":41,"creation_date":1657136306,"post_id":57647811,"comment_id":128741265,"body_markdown":"Just an important caveat for people reading the most upvoted answer: increasing the timeout may solve the symptom but almost certainly does not address the root problem.","body":"Just an important caveat for people reading the most upvoted answer: increasing the timeout may solve the symptom but almost certainly does not address the root problem."},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1675262453,"post_id":57647811,"comment_id":132890829,"body_markdown":"Seems like the problem here would more likely be fixed by increasing the number of connections allowed on the DB server / in the pool, rather than increasing the timeout. If you have to wait 30sec to get a connection from the pool, that&#39;s really not acceptable.","body":"Seems like the problem here would more likely be fixed by increasing the number of connections allowed on the DB server / in the pool, rather than increasing the timeout. If you have to wait 30sec to get a connection from the pool, that&#39;s really not acceptable."},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1695138314,"post_id":57647811,"comment_id":135982571,"body_markdown":"is it connection to database, or waiting for one in the pool to be available?","body":"is it connection to database, or waiting for one in the pool to be available?"}],"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"comment_count":5,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1567107154,"creation_date":1566750804,"answer_id":57647811,"question_id":47758091,"body_markdown":"Your database is not obtaining connection within (30000 milliseconds that is default connectionTimeout property) because of  network latency or some of the queries which are taking too long to execute(more than 30000 milliseconds).\r\n\r\nPlease try to increase value of property `connectionTimeout`.\r\n\r\nYML configuration example:\r\n\r\n    spring:\r\n      datasource:\r\n        hikari:\r\n          minimumIdle: 2\r\n          maximumPoolSize: 10\r\n          idleTimeout: 120000\r\n          connectionTimeout: 300000\r\n          leakDetectionThreshold: 300000\r\n\r\nJava Config example:\r\n\r\n    HikariConfig config = new HikariConfig();\r\n    \t\tconfig.setMaximumPoolSize(20);\r\n    \t\tconfig.setConnectionTimeout(300000);\r\n    \t\tconfig.setConnectionTimeout(120000);\r\n    \t\tconfig.setLeakDetectionThreshold(300000);","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Your database is not obtaining connection within (30000 milliseconds that is default connectionTimeout property) because of  network latency or some of the queries which are taking too long to execute(more than 30000 milliseconds).</p>\n\n<p>Please try to increase value of property <code>connectionTimeout</code>.</p>\n\n<p>YML configuration example:</p>\n\n<pre><code>spring:\n  datasource:\n    hikari:\n      minimumIdle: 2\n      maximumPoolSize: 10\n      idleTimeout: 120000\n      connectionTimeout: 300000\n      leakDetectionThreshold: 300000\n</code></pre>\n\n<p>Java Config example:</p>\n\n<pre><code>HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(20);\n        config.setConnectionTimeout(300000);\n        config.setConnectionTimeout(120000);\n        config.setLeakDetectionThreshold(300000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12718802,"reputation":127,"user_id":9239937,"display_name":"MedMahmoud"},"score":2,"creation_date":1614184765,"post_id":63315370,"comment_id":117310218,"body_markdown":"how did you initialize &quot;dataSource&quot; parameter that you are passing to DataSourceUtils.getConnection(dataSource)?","body":"how did you initialize &quot;dataSource&quot; parameter that you are passing to DataSourceUtils.getConnection(dataSource)?"},{"owner":{"account_id":11627789,"reputation":379,"user_id":8517040,"display_name":"Andres Rincon"},"score":1,"creation_date":1614629161,"post_id":63315370,"comment_id":117438144,"body_markdown":"Look, like this:\n\n@Autowired\nprivate DataSource dataSource;","body":"Look, like this:  @Autowired private DataSource dataSource;"},{"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"score":1,"creation_date":1629869403,"post_id":63315370,"comment_id":121797153,"body_markdown":"This SO question has more info on why: https://stackoverflow.com/questions/9642643/datasourceutils-getconnection-vs-datasource-getconnection","body":"This SO question has more info on why: <a href=\"https://stackoverflow.com/questions/9642643/datasourceutils-getconnection-vs-datasource-getconnection\" title=\"datasourceutils getconnection vs datasource getconnection\">stackoverflow.com/questions/9642643/&hellip;</a>"},{"owner":{"account_id":4605590,"reputation":251,"user_id":3735177,"display_name":"Ev.Rei."},"score":0,"creation_date":1676062731,"post_id":63315370,"comment_id":133069193,"body_markdown":"I had exactly same problem and I used solution above and it worked just well! I am curios what DatSourceUtils does differently when getting connection","body":"I had exactly same problem and I used solution above and it worked just well! I am curios what DatSourceUtils does differently when getting connection"}],"tags":[],"owner":{"account_id":11627789,"reputation":379,"user_id":8517040,"display_name":"Andres Rincon"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1596895135,"creation_date":1596889682,"answer_id":63315370,"question_id":47758091,"body_markdown":"I am using spring boot and I was facing the same problem, and my solution was to get the connection like this &quot;`DataSourceUtils.getConnection(dataSource)`&quot;. So I change from `dataSource.getConnection()` to `DataSourceUtils.getConnection(dataSource)`.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I am using spring boot and I was facing the same problem, and my solution was to get the connection like this &quot;<code>DataSourceUtils.getConnection(dataSource)</code>&quot;. So I change from <code>dataSource.getConnection()</code> to <code>DataSourceUtils.getConnection(dataSource)</code>.</p>\n"},{"comments":[{"owner":{"account_id":10900090,"reputation":753,"user_id":8012596,"accept_rate":91,"display_name":"user8012596"},"score":1,"creation_date":1624642562,"post_id":68109716,"comment_id":120423495,"body_markdown":"How I dont get you ? which java are you using ?","body":"How I dont get you ? which java are you using ?"},{"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"score":1,"creation_date":1624646539,"post_id":68109716,"comment_id":120424630,"body_markdown":"Try with resources is since Java 7.","body":"Try with resources is since Java 7."},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1643575245,"post_id":68109716,"comment_id":125371076,"body_markdown":"I did the same thing with Entity Managers, same thing different color..","body":"I did the same thing with Entity Managers, same thing different color.."}],"tags":[],"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624668589,"creation_date":1624509535,"answer_id":68109716,"question_id":47758091,"body_markdown":"In my case the code wasn&#39;t closing the connections.\r\n\r\nTry-with-resources fixed it:\r\n\r\n```\r\ntry (\r\n    Connection connection = dataSource.getConnection();\r\n    Statement statement = …\r\n) {\r\n…\r\n}\r\n\r\n```","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case the code wasn't closing the connections.</p>\n<p>Try-with-resources fixed it:</p>\n<pre><code>try (\n    Connection connection = dataSource.getConnection();\n    Statement statement = …\n) {\n…\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14028248,"reputation":51,"user_id":10132784,"display_name":"mafyak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627997445,"creation_date":1627997445,"answer_id":68636981,"question_id":47758091,"body_markdown":"Took forever to figure it out... In my case I used solution similar to [@Andres Rincon][1]:\r\n\r\n    try (Connection connection = DataSourceUtils.getConnection(jdbcTemplate.getDataSource())) {\r\n        // some code here\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8517040/andres-rincon","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Took forever to figure it out... In my case I used solution similar to <a href=\"https://stackoverflow.com/users/8517040/andres-rincon\">@Andres Rincon</a>:</p>\n<pre><code>try (Connection connection = DataSourceUtils.getConnection(jdbcTemplate.getDataSource())) {\n    // some code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20348780,"reputation":31,"user_id":14925910,"display_name":"HGreg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632318875,"creation_date":1632318875,"answer_id":69285697,"question_id":47758091,"body_markdown":"request timeout is not something that you can fix by increasing the timeout. Perhaps you&#39;d need to evaluate all the queries from your service and implement indexing if it&#39;s needed ","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>request timeout is not something that you can fix by increasing the timeout. Perhaps you'd need to evaluate all the queries from your service and implement indexing if it's needed</p>\n"},{"comments":[{"owner":{"account_id":6770704,"reputation":307,"user_id":5214137,"accept_rate":100,"display_name":"Akshansh Jain"},"score":0,"creation_date":1671981652,"post_id":71228568,"comment_id":132203794,"body_markdown":"Is there any way to check what were the number of open connection on DB for a specific time period?","body":"Is there any way to check what were the number of open connection on DB for a specific time period?"},{"owner":{"account_id":12214514,"reputation":459,"user_id":8915367,"display_name":"ebeb"},"score":0,"creation_date":1672072489,"post_id":71228568,"comment_id":132216713,"body_markdown":"Yes each database like MySQL, PostgreSQL have commands to list number of open connections you can run periodically. Do a google search.","body":"Yes each database like MySQL, PostgreSQL have commands to list number of open connections you can run periodically. Do a google search."}],"tags":[],"owner":{"account_id":12214514,"reputation":459,"user_id":8915367,"display_name":"ebeb"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645565567,"creation_date":1645565567,"answer_id":71228568,"question_id":47758091,"body_markdown":"This can also happen if the client app is requesting lot of open connections and the database server setting has a max limit on number of pool connections. So the client app is unable to get any more connections from the database server. Check the database server connections pool to see if the max is exceeded during the time period of the errors.   ","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>This can also happen if the client app is requesting lot of open connections and the database server setting has a max limit on number of pool connections. So the client app is unable to get any more connections from the database server. Check the database server connections pool to see if the max is exceeded during the time period of the errors.</p>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":3,"creation_date":1671487723,"post_id":73581375,"comment_id":132106284,"body_markdown":"What if the entity manager is autowired? Do we need to also close it?","body":"What if the entity manager is autowired? Do we need to also close it?"},{"owner":{"account_id":5390030,"reputation":554,"user_id":4292841,"display_name":"Nanotron"},"score":1,"creation_date":1687099132,"post_id":73581375,"comment_id":134886606,"body_markdown":"No, the container should manage that within the transaction boundaries","body":"No, the container should manage that within the transaction boundaries"}],"tags":[],"owner":{"account_id":12544513,"reputation":341,"user_id":9128333,"display_name":"Yeshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1662115337,"creation_date":1662115337,"answer_id":73581375,"question_id":47758091,"body_markdown":"In my case I was using JPA and hence using EntityManagerFactory for persistence and query for my springBoot project and got the same error.\r\n\r\nThe reason was in any CRUD operation I was not closing EntityManager once the operation is done hence exhausting the resources.\r\n\r\nHope this helps!!\r\n\r\n\r\n\r\n```\r\nEntityManager em = emf.createEntityManager();\r\n       Customer c  = em.find(Customer.class , id);\r\n        em.close();\r\n```\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I was using JPA and hence using EntityManagerFactory for persistence and query for my springBoot project and got the same error.</p>\n<p>The reason was in any CRUD operation I was not closing EntityManager once the operation is done hence exhausting the resources.</p>\n<p>Hope this helps!!</p>\n<pre><code>EntityManager em = emf.createEntityManager();\n       Customer c  = em.find(Customer.class , id);\n        em.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26547349,"reputation":1,"user_id":20177219,"display_name":"rafaelnadal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665680186,"creation_date":1665676754,"answer_id":74058697,"question_id":47758091,"body_markdown":"What fixed the issue in my case was to **add proper indexing** in the proper db tables. Take a look at the queries / transactions you&#39;re making to the db.\r\n\r\nIn my case the statement that was causing the latency was an UPDATE statement, e.g.\r\n\r\n    UPDATE table_name WHERE column1 = value1, column2 = value2;\r\n\r\nWhat fixed the issue for me in this case was to add an index in that table for those two columns like:\r\n\r\n    CREATE INDEX index_name ON table_name (column1, column2);\r\n    \r\nAnother good reason could be that **you&#39;re not closing out your connections**. You can close the connections with a try-with-resource statement like:\r\n\r\n    try( Connection connection = datasource.getConnection() ){\r\n        //your code\r\n    }\r\n\r\n\r\nIn my opinion, increasing the timeout as **Girdhar Singh Rathore** suggested is not ideal. It could temporarily fix the issue, but at some point you&#39;ll need to take care of proper indexing and closing connections management.\r\n\r\nHope this helps.\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>What fixed the issue in my case was to <strong>add proper indexing</strong> in the proper db tables. Take a look at the queries / transactions you're making to the db.</p>\n<p>In my case the statement that was causing the latency was an UPDATE statement, e.g.</p>\n<pre><code>UPDATE table_name WHERE column1 = value1, column2 = value2;\n</code></pre>\n<p>What fixed the issue for me in this case was to add an index in that table for those two columns like:</p>\n<pre><code>CREATE INDEX index_name ON table_name (column1, column2);\n</code></pre>\n<p>Another good reason could be that <strong>you're not closing out your connections</strong>. You can close the connections with a try-with-resource statement like:</p>\n<pre><code>try( Connection connection = datasource.getConnection() ){\n    //your code\n}\n</code></pre>\n<p>In my opinion, increasing the timeout as <strong>Girdhar Singh Rathore</strong> suggested is not ideal. It could temporarily fix the issue, but at some point you'll need to take care of proper indexing and closing connections management.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11906277,"reputation":93,"user_id":8712753,"display_name":"ebey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667946834,"creation_date":1667946834,"answer_id":74367900,"question_id":47758091,"body_markdown":"Generally opened and unclosed connections cause this problem.There is a limit of application servers to connect database and if you over this limit it will be crash your environment.\r\n\r\nConnection must be stand on singleton pattern but if you really need to open a datasource or connect external datasource like reports you must close your connection in your finally block where you open connection block \r\n\r\n    connection.getConnection().rollback();\r\n    connection.getConnection().close();\r\n\r\nYou must also close if you are using PersistenceJpa without singleton\r\n\r\n    persistenceJPAConfig.dataSource().getConnection().rollback();\r\n    persistenceJPAConfig.dataSource().getConnection().close();\r\n\r\nIf you are using some stress test tools via creating threads to test your methods you probably get this error on your queries which take long time.It will be lead the way optimizing your queries or service instance size.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Generally opened and unclosed connections cause this problem.There is a limit of application servers to connect database and if you over this limit it will be crash your environment.</p>\n<p>Connection must be stand on singleton pattern but if you really need to open a datasource or connect external datasource like reports you must close your connection in your finally block where you open connection block</p>\n<pre><code>connection.getConnection().rollback();\nconnection.getConnection().close();\n</code></pre>\n<p>You must also close if you are using PersistenceJpa without singleton</p>\n<pre><code>persistenceJPAConfig.dataSource().getConnection().rollback();\npersistenceJPAConfig.dataSource().getConnection().close();\n</code></pre>\n<p>If you are using some stress test tools via creating threads to test your methods you probably get this error on your queries which take long time.It will be lead the way optimizing your queries or service instance size.</p>\n"},{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668440638,"creation_date":1668422183,"answer_id":74430288,"question_id":47758091,"body_markdown":"In my case a:\r\n\r\n```shell\r\no.h.engine.jdbc.spi.SqlExceptionHelper: HikariPool-1 - Connection is not available, request timed out after 30019ms.\r\ni.s.commons.web.error.ExceptionLogger: Internal Server Error\r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n```\r\n\r\nWas caused by a too low `spring.hikari.maximumPoolSize` in the application properties, increasing from `5` to `20` solved the issue.\r\nThe log message is kind of miss-leading.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case a:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>o.h.engine.jdbc.spi.SqlExceptionHelper: HikariPool-1 - Connection is not available, request timed out after 30019ms.\ni.s.commons.web.error.ExceptionLogger: Internal Server Error\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n</code></pre>\n<p>Was caused by a too low <code>spring.hikari.maximumPoolSize</code> in the application properties, increasing from <code>5</code> to <code>20</code> solved the issue.\nThe log message is kind of miss-leading.</p>\n"},{"tags":[],"owner":{"account_id":25350784,"reputation":1,"user_id":19167681,"display_name":"Madhukar Tatiraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845384,"creation_date":1668683638,"answer_id":74474506,"question_id":47758091,"body_markdown":"In my case I used solution similar to @Andres Rincon:\r\n\r\n    try (Connection conn = connectionManager.getDataConnection()) {\r\n        Statement stmt = conn.createStatement();\r\n    \t...\r\n        conn.close();\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I used solution similar to @Andres Rincon:</p>\n<pre><code>try (Connection conn = connectionManager.getDataConnection()) {\n    Statement stmt = conn.createStatement();\n    ...\n    conn.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686124520,"creation_date":1673022097,"answer_id":75033473,"question_id":47758091,"body_markdown":"I&#39;ve fixed my issue using:\r\n\r\nincrease the minIdle and maxPool\r\n\r\n    spring.datasource.hikari.minimumIdle=20\r\n    spring.datasource.hikari.maximumPoolSize=30\r\n    spring.datasource.hikari.connectionTimeout=50000\r\n\r\nTo debug the issue/check if the values are ok, enable the logging for Hikari:\r\n\r\n    logging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\n    logging.level.com.zaxxer.hikari=TRACE\r\n\r\nThe logs will look like:\r\n\r\n    DEBUG 2023-01-06T16:12:31.932018849Z  HikariPool-1 - Before cleanup stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:31.932665522Z  HikariPool-1 - After cleanup stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:31.932733949Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:32.495269726Z  HikariPool-1 - After adding stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:38.309953158Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:39.200246897Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:44.812065268Z  HikariPool-1 - Before cleanup stats (total=18, active=0, idle=18, waiting=0)\r\n    DEBUG 2023-01-06T16:12:44.812822113Z  HikariPool-1 - After cleanup stats (total=18, active=0, idle=18, waiting=0)\r\n\r\nGood Luck ! :)\r\n\r\nWarning:\r\nPlease be careful, a big maximumPoolSize can be a code smell and can hide a performance issue e.g: long transactions. Also DB Vendors recommend to use a smaller maximumPoolSize, e.g: maximumPoolSize=10. The DB performance will be affected by big values for maximumPoolSize.\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I've fixed my issue using:</p>\n<p>increase the minIdle and maxPool</p>\n<pre><code>spring.datasource.hikari.minimumIdle=20\nspring.datasource.hikari.maximumPoolSize=30\nspring.datasource.hikari.connectionTimeout=50000\n</code></pre>\n<p>To debug the issue/check if the values are ok, enable the logging for Hikari:</p>\n<pre><code>logging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n</code></pre>\n<p>The logs will look like:</p>\n<pre><code>DEBUG 2023-01-06T16:12:31.932018849Z  HikariPool-1 - Before cleanup stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:31.932665522Z  HikariPool-1 - After cleanup stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:31.932733949Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:32.495269726Z  HikariPool-1 - After adding stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:38.309953158Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:39.200246897Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:44.812065268Z  HikariPool-1 - Before cleanup stats (total=18, active=0, idle=18, waiting=0)\nDEBUG 2023-01-06T16:12:44.812822113Z  HikariPool-1 - After cleanup stats (total=18, active=0, idle=18, waiting=0)\n</code></pre>\n<p>Good Luck ! :)</p>\n<p>Warning:\nPlease be careful, a big maximumPoolSize can be a code smell and can hide a performance issue e.g: long transactions. Also DB Vendors recommend to use a smaller maximumPoolSize, e.g: maximumPoolSize=10. The DB performance will be affected by big values for maximumPoolSize.</p>\n"},{"tags":[],"owner":{"account_id":24121148,"reputation":1,"user_id":18090305,"display_name":"Kavita Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693627047,"creation_date":1693502371,"answer_id":77018041,"question_id":47758091,"body_markdown":"In my case I have increased the size of `hikaripoolConnection` to 10 and this got resolved.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I have increased the size of <code>hikaripoolConnection</code> to 10 and this got resolved.</p>\n"},{"tags":[],"owner":{"account_id":5485332,"reputation":665,"user_id":4360308,"display_name":"giroxiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700142643,"creation_date":1700142643,"answer_id":77495383,"question_id":47758091,"body_markdown":"Make sure you close the connections once used. \r\n\r\nAn easy way to accomplish this in Kotlin is:\r\n\r\n    dataSource.connection.use { connection -&gt;\r\n        // Your code here\r\n    }\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Make sure you close the connections once used.</p>\n<p>An easy way to accomplish this in Kotlin is:</p>\n<pre><code>dataSource.connection.use { connection -&gt;\n    // Your code here\n}\n</code></pre>\n"}],"owner":{"account_id":10900090,"reputation":753,"user_id":8012596,"accept_rate":91,"display_name":"user8012596"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167808,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":57647811,"answer_count":14,"score":52,"last_activity_date":1700142643,"creation_date":1513012872,"question_id":47758091,"body_markdown":"I have a small Java application for testing purposes. I have moved to hikari recently. What I notice is that I keep getting this error.\r\n\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:602)\r\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:195)\r\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:145)\r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:85)\r\n\r\nBelow is my settings for the hikari initially.\r\n\r\n     HikariConfig config = new HikariConfig();\r\n    \t\t\tconfig.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/****&quot;); \r\n    \t\t\tconfig.setUsername(&quot;***&quot;); \r\n    \t\t\tconfig.setPassword(&quot;*****&quot;);      \r\n    \t\t\tconfig.setMaximumPoolSize(20);  \r\n\r\nHardly its being used my two devices and I ensure towards the end I do close it. So I don&#39;t know why it keep getting the error? What could be the issue or is there some settings which I need to change?\r\n\r\nMy hikari version is HikariCP-2.6.1.jar.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I have a small Java application for testing purposes. I have moved to hikari recently. What I notice is that I keep getting this error.</p>\n\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\nat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:602)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:195)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:145)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:85)\n</code></pre>\n\n<p>Below is my settings for the hikari initially.</p>\n\n<pre><code> HikariConfig config = new HikariConfig();\n            config.setJdbcUrl(\"jdbc:mysql://localhost:3306/****\"); \n            config.setUsername(\"***\"); \n            config.setPassword(\"*****\");      \n            config.setMaximumPoolSize(20);  \n</code></pre>\n\n<p>Hardly its being used my two devices and I ensure towards the end I do close it. So I don't know why it keep getting the error? What could be the issue or is there some settings which I need to change?</p>\n\n<p>My hikari version is HikariCP-2.6.1.jar.</p>\n"},{"tags":["java","postgresql","jdbc","stata"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1700084500,"post_id":77490880,"comment_id":136612770,"body_markdown":"Not familiar with stata, though since it is only on two users a few things I would check: is the error purely related to the connection, did they configure pre/post-steps connection (if at all possible), have you tried fresh install of it on those two? Do they have different JRE installed? Do they have different versions of JDBC libs installed? The log part I would check the stata tool itself if possible to configure logging rather than the connector. These are suggestions to take a look.","body":"Not familiar with stata, though since it is only on two users a few things I would check: is the error purely related to the connection, did they configure pre/post-steps connection (if at all possible), have you tried fresh install of it on those two? Do they have different JRE installed? Do they have different versions of JDBC libs installed? The log part I would check the stata tool itself if possible to configure logging rather than the connector. These are suggestions to take a look."},{"owner":{"account_id":9277052,"reputation":3007,"user_id":6889416,"display_name":"TheIceBear"},"score":1,"creation_date":1700127272,"post_id":77490880,"comment_id":136617292,"body_markdown":"Familiar with Stata, but less with Java. You can ask each user to run `java query` in the Stata command line to get detailed info if Java if initialized and versions. Perhaps this gives a clue.","body":"Familiar with Stata, but less with Java. You can ask each user to run <code>java query</code> in the Stata command line to get detailed info if Java if initialized and versions. Perhaps this gives a clue."}],"owner":{"account_id":9286012,"reputation":43,"user_id":19927489,"display_name":"snowpeak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700142310,"creation_date":1700081822,"question_id":77490880,"body_markdown":"I&#39;ve launched a cloud PostgreSQL database at my organization and have had a few users test it. I thought it best to have my users use JDBC rather than ODBC in Stata to connect to the DB, as it saves them a trip to IT to install the driver. My users are all using the latest version of the PostgreSQL driver and the latest release of Stata 17, and all on Windows.\r\n\r\nStrangely, I am able to access the database from Stata 17 and Stata 18 without issue. Two of my users, however, get the following error when they run ```jdbc connect```:\r\n\r\n```\r\ninvalid connection property key value pair\r\n     Index 1 out of bounds for length 1\r\nr(198);\r\n```\r\n\r\nIt seems to me that this error is coming from the underlying Java Runtime, not Stata itself, as the error message is exactly the text of an ArrayIndexOutOfBoundsException in Java. In fact, these same users are able to access the DB using R, Python, and - get this - Java code compiled and run from the command line with Stata&#39;s own built-in Java Runtime environment! I have even tried modifying Stata-Java&#39;s logging.properties file (as per these instructions https://jdbc.postgresql.org/documentation/logging/) to create logs for the PostgreSQL driver in my affected users&#39; home directories, but even that doesn&#39;t work. \r\n\r\nDoes anyone have an idea of what could be going on here? Many many thanks in advance!\r\n","title":"Stata JDBC PostgreSQL mystery bug","body":"<p>I've launched a cloud PostgreSQL database at my organization and have had a few users test it. I thought it best to have my users use JDBC rather than ODBC in Stata to connect to the DB, as it saves them a trip to IT to install the driver. My users are all using the latest version of the PostgreSQL driver and the latest release of Stata 17, and all on Windows.</p>\n<p>Strangely, I am able to access the database from Stata 17 and Stata 18 without issue. Two of my users, however, get the following error when they run <code>jdbc connect</code>:</p>\n<pre><code>invalid connection property key value pair\n     Index 1 out of bounds for length 1\nr(198);\n</code></pre>\n<p>It seems to me that this error is coming from the underlying Java Runtime, not Stata itself, as the error message is exactly the text of an ArrayIndexOutOfBoundsException in Java. In fact, these same users are able to access the DB using R, Python, and - get this - Java code compiled and run from the command line with Stata's own built-in Java Runtime environment! I have even tried modifying Stata-Java's logging.properties file (as per these instructions <a href=\"https://jdbc.postgresql.org/documentation/logging/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/logging/</a>) to create logs for the PostgreSQL driver in my affected users' home directories, but even that doesn't work.</p>\n<p>Does anyone have an idea of what could be going on here? Many many thanks in advance!</p>\n"},{"tags":["java","junit5","jgiven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1700087391,"post_id":77489404,"comment_id":136613176,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29910525,"reputation":1,"user_id":22922073,"display_name":"Angelique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700142216,"creation_date":1700065665,"question_id":77489404,"body_markdown":"I&#39;m using JGiven and JUnit5 for automated Software tests. \r\nThe Then-Stage I&#39;m currently using, asserts a stream like so:\r\n assertAll(executableList.stream());\r\n\r\nwhich works great, but in the JGiven Testreport this looks like only one Assertion, which is not ideal.\r\n\r\nDoes anyone know if there is a way to have every single assertion listed in the JGiven HTML-Report?\r\n\r\n\r\n\r\n","title":"Resolve JUnit5 MultipleAssertions / assertAll( ) in JGiven-Testreport","body":"<p>I'm using JGiven and JUnit5 for automated Software tests.\nThe Then-Stage I'm currently using, asserts a stream like so:\nassertAll(executableList.stream());</p>\n<p>which works great, but in the JGiven Testreport this looks like only one Assertion, which is not ideal.</p>\n<p>Does anyone know if there is a way to have every single assertion listed in the JGiven HTML-Report?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570003254,"post_id":58197251,"comment_id":102773129,"body_markdown":"did u check this https://stackoverflow.com/questions/42162395/serialize-mongodb-objectid-to-string?rq=1, https://www.tutorialspoint.com/how-to-convert-objectid-to-string-in-mongodb","body":"did u check this <a href=\"https://stackoverflow.com/questions/42162395/serialize-mongodb-objectid-to-string?rq=1\" title=\"serialize mongodb objectid to string\">stackoverflow.com/questions/42162395/&hellip;</a>, <a href=\"https://www.tutorialspoint.com/how-to-convert-objectid-to-string-in-mongodb\" rel=\"nofollow noreferrer\">tutorialspoint.com/how-to-convert-objectid-to-string-in-mong&zwnj;&#8203;odb</a>"},{"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"score":0,"creation_date":1570009242,"post_id":58197251,"comment_id":102776028,"body_markdown":"I&#39;ve checked this, tryed something from it and I didn&#39;t find solution for my case.","body":"I&#39;ve checked this, tryed something from it and I didn&#39;t find solution for my case."}],"answers":[{"tags":[],"owner":{"account_id":10320769,"reputation":841,"user_id":7613743,"display_name":"Kevin Montalvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1584851270,"creation_date":1584851270,"answer_id":60795933,"question_id":58197251,"body_markdown":"I have a solution very simple:\r\n\r\n    @JsonSerialize(using= ToStringSerializer.class)\r\n    private ObjectId id;\r\n    ...\r\n\r\nput that on the attribute that is Object Id, and the ObjectId gets and inserts like string\r\n\r\nhere my [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60795916/7613743","title":"Spring. How to return ObjectId field as String in response of Rest controller?","body":"<p>I have a solution very simple:</p>\n\n<pre><code>@JsonSerialize(using= ToStringSerializer.class)\nprivate ObjectId id;\n...\n</code></pre>\n\n<p>put that on the attribute that is Object Id, and the ObjectId gets and inserts like string</p>\n\n<p>here my <a href=\"https://stackoverflow.com/a/60795916/7613743\">answer</a></p>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60795933,"answer_count":1,"score":0,"last_activity_date":1700141908,"creation_date":1570002486,"question_id":58197251,"body_markdown":"I have Rest controller on Spring.\r\n\r\nController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class Controller {\r\n\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    public Controller(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;User&gt; fethAllUsers() {\r\n        return userService.fetchAllUsers();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public User getUser(@PathVariable ObjectId id) {\r\n        return userService.fetchUser(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public User createUser(@RequestParam String name, @RequestParam String address) {\r\n        return userService.createUser(name, address);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable ObjectId id) {\r\n        userService.deleteUser(id);\r\n    }\r\n}\r\n```\r\nService: \r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public List&lt;User&gt; fetchAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User fetchUser(ObjectId id) {\r\n        Optional&lt;User&gt; optionalUser = userRepository.findById(id);\r\n        return optionalUser.orElseGet(optionalUser::get);\r\n    }\r\n\r\n    public User createUser(String name, String address) {\r\n        User user = new User();\r\n        user.setId(ObjectId.get());\r\n        user.setName(name);\r\n        user.setAddress(address);\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public void deleteUser(ObjectId id) {\r\n        userRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\nRepository:\r\n```\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User, ObjectId&gt; {\r\n}\r\n```\r\nEntity:\r\n```\r\nimport lombok.Data;\r\nimport org.bson.types.ObjectId;\r\n\r\n@Data\r\npublic class User {\r\n    private ObjectId id;\r\n    private String name;\r\n    private String address;\r\n}\r\n```\r\nCurrently when I use method @GetMapping in Postman (or browser) in response JSON object in get: \r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;timestamp&quot;: 1569940881,\r\n            &quot;machineIdentifier&quot;: 9478066,\r\n            &quot;processIdentifier&quot;: 10308,\r\n            &quot;counter&quot;: 14051396,\r\n            &quot;time&quot;: 1569940881000,\r\n            &quot;date&quot;: &quot;2019-10-01T14:41:21.000+0000&quot;,\r\n            &quot;timeSecond&quot;: 1569940881\r\n        },\r\n        &quot;name&quot;: &quot;testName&quot;,\r\n        &quot;address&quot;: &quot;testAddress&quot;\r\n    }\r\n]\r\n```\r\nAnd in response I need field &quot;id&quot; in String format and looks like:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;5d936591909fb22844d66844&quot;,\r\n        &quot;name&quot;: &quot;testName&quot;,\r\n        &quot;address&quot;: &quot;testAddress&quot;\r\n    }\r\n]\r\n```\r\n\r\nHow can I return in response JSON object fielt &quot;id&quot; as ObjectId in String format?","title":"Spring. How to return ObjectId field as String in response of Rest controller?","body":"<p>I have Rest controller on Spring.</p>\n\n<p>Controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/users\")\npublic class Controller {\n\n    private UserService userService;\n\n    @Autowired\n    public Controller(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(\"/all\")\n    public List&lt;User&gt; fethAllUsers() {\n        return userService.fetchAllUsers();\n    }\n\n    @GetMapping(\"/{id}\")\n    public User getUser(@PathVariable ObjectId id) {\n        return userService.fetchUser(id);\n    }\n\n    @PostMapping(\"/\")\n    public User createUser(@RequestParam String name, @RequestParam String address) {\n        return userService.createUser(name, address);\n    }\n\n    @DeleteMapping(\"/{id}\")\n    public void deleteUser(@PathVariable ObjectId id) {\n        userService.deleteUser(id);\n    }\n}\n</code></pre>\n\n<p>Service: </p>\n\n<pre><code>@Service\npublic class UserService {\n\n    private UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public List&lt;User&gt; fetchAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public User fetchUser(ObjectId id) {\n        Optional&lt;User&gt; optionalUser = userRepository.findById(id);\n        return optionalUser.orElseGet(optionalUser::get);\n    }\n\n    public User createUser(String name, String address) {\n        User user = new User();\n        user.setId(ObjectId.get());\n        user.setName(name);\n        user.setAddress(address);\n        return userRepository.save(user);\n    }\n\n    public void deleteUser(ObjectId id) {\n        userRepository.deleteById(id);\n    }\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;User, ObjectId&gt; {\n}\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>import lombok.Data;\nimport org.bson.types.ObjectId;\n\n@Data\npublic class User {\n    private ObjectId id;\n    private String name;\n    private String address;\n}\n</code></pre>\n\n<p>Currently when I use method @GetMapping in Postman (or browser) in response JSON object in get: </p>\n\n<pre><code>[\n    {\n        \"id\": {\n            \"timestamp\": 1569940881,\n            \"machineIdentifier\": 9478066,\n            \"processIdentifier\": 10308,\n            \"counter\": 14051396,\n            \"time\": 1569940881000,\n            \"date\": \"2019-10-01T14:41:21.000+0000\",\n            \"timeSecond\": 1569940881\n        },\n        \"name\": \"testName\",\n        \"address\": \"testAddress\"\n    }\n]\n</code></pre>\n\n<p>And in response I need field \"id\" in String format and looks like:</p>\n\n<pre><code>[\n    {\n        \"id\": \"5d936591909fb22844d66844\",\n        \"name\": \"testName\",\n        \"address\": \"testAddress\"\n    }\n]\n</code></pre>\n\n<p>How can I return in response JSON object fielt \"id\" as ObjectId in String format?</p>\n"},{"tags":["java","jms","wildfly","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1700066375,"post_id":77489367,"comment_id":136609823,"body_markdown":"I think part of the problem might be that you&#39;re using `@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)`. This means that the MDB will *not* start a transaction when consuming a message. Therefore, the `enable-graceful-txn-shutdown` may not actually apply. Does the behavior change if you remove that annotation?","body":"I think part of the problem might be that you&#39;re using <code>@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED&zwnj;&#8203;)</code>. This means that the MDB will <i>not</i> start a transaction when consuming a message. Therefore, the <code>enable-graceful-txn-shutdown</code> may not actually apply. Does the behavior change if you remove that annotation?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1700066423,"post_id":77489367,"comment_id":136609837,"body_markdown":"Have you tried this on the latest version of WildFly? Perhaps there&#39;s a bug that&#39;s been fixed in the 4 years since 16.0.0.Final was released.","body":"Have you tried this on the latest version of WildFly? Perhaps there&#39;s a bug that&#39;s been fixed in the 4 years since 16.0.0.Final was released."},{"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"score":0,"creation_date":1700141664,"post_id":77489367,"comment_id":136619921,"body_markdown":"@JustinBertram Will do some research on \n`@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)`. We are working on upgrading, but this is a bigger system/application, so upgrading will take quite some time.","body":"@JustinBertram Will do some research on  <code>@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED&zwnj;&#8203;)</code>. We are working on upgrading, but this is a bigger system/application, so upgrading will take quite some time."}],"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700141868,"creation_date":1700065312,"question_id":77489367,"body_markdown":"When I gracefully shutdown WildFly my MDBs continue to consume messages from our ActiveMQ queue. Then the thread will die to an exception thrown by WildFly. Our current workaround solution is to manually pause the MDBs some minutes before triggering the shutdown of WildFly.\r\n\r\nI have the following MDB consuming messages from an ActiveMQ queue:\r\n```java\r\n@ResourceAdapter(&quot;activemq&quot;)\r\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;my_queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\r\n})\r\n@TransactionManagement(TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n@Pool(value = &quot;my-pool&quot;)\r\npublic class MyMDB implements MessageListener {\r\n    @Override\r\n    public void onMessage(final Message message) {\r\n        ...\r\n    }\r\n    \r\n    @PreDestroy\r\n    public void shutdown() {\r\n        LOG.info(&quot;Shutting down MyMDB&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have 1000 messages on ActiveMQ queue and trigger WildFly shutdown with graceful command with the jboss-cli.\r\n```\r\ncommand=:shutdown(timeout=120)\r\n```\r\n*Note: `Enable Graceful Txn Shutdown` in the WildFly EJB submodule is enabled*\r\n\r\nWildFly will then start spewing out the following exception until the ActiveMQ queue is empty or the timeout of 120 seconds are reached.\r\n```\r\nAMQ154004: Failed to deliver message: org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0421: Invocation cannot proceed as component is shutting down\r\n```\r\nI can also see in my log that my log message `Shutting down MyMDB` is logged before exceptions are thrown, as in WildFly knows it should shutdown.\r\n\r\nI suspect that ActiveMQ is redelivering the messages when an exception is thrown from WildFly, because we get this error more than 1000 times. But in the end all messages will be moved to ActiveMQ&#39;s DLQ *(Dead Letter Queue)*.\r\n\r\nWhen I read the documentation of graceful shutdown in WildFly, my understanding is that all MDBs should stop consuming, but that does seem to happen. \r\n\r\n**Should graceful shutdown of WildFly stop MDBs from consuming from ActiveMQ? If it should, any thought on why it does not in my case?**\r\n\r\n- WildFly Version: 16.0.0.Final\r\n- ActiveMQ Artemis Version: 2.6.4\r\n- Java Version: 8\r\n","title":"WildFly MDB continues to consume messages after graceful shutdown has initiated","body":"<p>When I gracefully shutdown WildFly my MDBs continue to consume messages from our ActiveMQ queue. Then the thread will die to an exception thrown by WildFly. Our current workaround solution is to manually pause the MDBs some minutes before triggering the shutdown of WildFly.</p>\n<p>I have the following MDB consuming messages from an ActiveMQ queue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceAdapter(&quot;activemq&quot;)\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;my_queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\n})\n@TransactionManagement(TransactionManagementType.CONTAINER)\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\n@Pool(value = &quot;my-pool&quot;)\npublic class MyMDB implements MessageListener {\n    @Override\n    public void onMessage(final Message message) {\n        ...\n    }\n    \n    @PreDestroy\n    public void shutdown() {\n        LOG.info(&quot;Shutting down MyMDB&quot;);\n    }\n}\n</code></pre>\n<p>I have 1000 messages on ActiveMQ queue and trigger WildFly shutdown with graceful command with the jboss-cli.</p>\n<pre><code>command=:shutdown(timeout=120)\n</code></pre>\n<p><em>Note: <code>Enable Graceful Txn Shutdown</code> in the WildFly EJB submodule is enabled</em></p>\n<p>WildFly will then start spewing out the following exception until the ActiveMQ queue is empty or the timeout of 120 seconds are reached.</p>\n<pre><code>AMQ154004: Failed to deliver message: org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0421: Invocation cannot proceed as component is shutting down\n</code></pre>\n<p>I can also see in my log that my log message <code>Shutting down MyMDB</code> is logged before exceptions are thrown, as in WildFly knows it should shutdown.</p>\n<p>I suspect that ActiveMQ is redelivering the messages when an exception is thrown from WildFly, because we get this error more than 1000 times. But in the end all messages will be moved to ActiveMQ's DLQ <em>(Dead Letter Queue)</em>.</p>\n<p>When I read the documentation of graceful shutdown in WildFly, my understanding is that all MDBs should stop consuming, but that does seem to happen.</p>\n<p><strong>Should graceful shutdown of WildFly stop MDBs from consuming from ActiveMQ? If it should, any thought on why it does not in my case?</strong></p>\n<ul>\n<li>WildFly Version: 16.0.0.Final</li>\n<li>ActiveMQ Artemis Version: 2.6.4</li>\n<li>Java Version: 8</li>\n</ul>\n"},{"tags":["java","http","ssl","junit","wiremock"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700129276,"post_id":77493839,"comment_id":136617672,"body_markdown":"Please post the entire exception stacktrace.","body":"Please post the entire exception stacktrace."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1700129432,"post_id":77493839,"comment_id":136617698,"body_markdown":"Well, you obviously misconfigured SSL somewhere. Either, your application is expecting SSL, but you didn&#39;t configure it in Wiremock or you did enable SSL in Wiremock but did not specify a working SSL certificate.","body":"Well, you obviously misconfigured SSL somewhere. Either, your application is expecting SSL, but you didn&#39;t configure it in Wiremock or you did enable SSL in Wiremock but did not specify a working SSL certificate."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700129960,"post_id":77493839,"comment_id":136617833,"body_markdown":"@MarkRotteveel, i attached the screenshot for stacktrace. Is it helpful?","body":"@MarkRotteveel, i attached the screenshot for stacktrace. Is it helpful?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700130558,"post_id":77493839,"comment_id":136617931,"body_markdown":"No, post the exception stacktrace as code-formatted **text** (use `exception.printStackTrace()`). That said, have you **read** the exception message, it identifies the problem for you, your connection is not actual SSL encrypted, but just plain text.","body":"No, post the exception stacktrace as code-formatted <b>text</b> (use <code>exception.printStackTrace()</code>). That said, have you <b>read</b> the exception message, it identifies the problem for you, your connection is not actual SSL encrypted, but just plain text."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700130866,"post_id":77493839,"comment_id":136617995,"body_markdown":"@MarkRotteveel how to fix this? connection should be plain text instead of SSL encrypted or it is otherwise?","body":"@MarkRotteveel how to fix this? connection should be plain text instead of SSL encrypted or it is otherwise?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700130938,"post_id":77493839,"comment_id":136618013,"body_markdown":"Somewhere you&#39;re saying a connection is HTTPS, while it is actually is HTTP.","body":"Somewhere you&#39;re saying a connection is HTTPS, while it is actually is HTTP."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700139963,"post_id":77493839,"comment_id":136619595,"body_markdown":"@MarkRotteveel , you are right my tokenURI in test.yaml file was https so was expecting certs, replaced with http. It worked. Thank you so much","body":"@MarkRotteveel , you are right my tokenURI in test.yaml file was https so was expecting certs, replaced with http. It worked. Thank you so much"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1700146162,"post_id":77493839,"comment_id":136620784,"body_markdown":"Please read [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/238704)","body":"Please read <a href=\"https://meta.stackoverflow.com/q/285551/238704\">Why should I not upload images of code/data/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700141599,"creation_date":1700140125,"answer_id":77495069,"question_id":77493839,"body_markdown":"In my test.yaml file tokenURI was with https, so it was expecting certs which I was not providing through WireMock. I replaced it with http, and it passed. Another way to solve this is to setup WireMock with certs to accept SSL.","title":"Method threw &#39;javax.net.ssl.SSLException&#39; exception","body":"<p>In my test.yaml file tokenURI was with https, so it was expecting certs which I was not providing through WireMock. I replaced it with http, and it passed. Another way to solve this is to setup WireMock with certs to accept SSL.</p>\n"}],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77495069,"answer_count":1,"score":-2,"last_activity_date":1700141599,"creation_date":1700128785,"question_id":77493839,"body_markdown":"I have written a JUnit to test one of the method which calls below getAuthToken \r\n\r\n```java\r\npublic String getAuthToken() throws URISyntaxException, IOException, InterruptedException {\r\n    String formBody = String.format(&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s&amp;scope=%s&quot;,\r\n            URLEncoder.encode(clientId, StandardCharsets.UTF_8),\r\n            URLEncoder.encode(clientSecret, StandardCharsets.UTF_8),\r\n            URLEncoder.encode(scope, StandardCharsets.UTF_8));\r\n\r\n    HttpRequest authRequest = HttpRequest.newBuilder()\r\n            .uri(new URI(epimTokenUri))\r\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .POST(HttpRequest.BodyPublishers.ofString(formBody))\r\n            .build();\r\n\r\n    HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JsonNode jsonNode = objectMapper.readTree(authResponse.body());\r\n\r\n    return jsonNode.get(&quot;access_token&quot;).asText();\r\n}\r\n```\r\n\r\nFor this I am using WireMock. Following is mapping for WireMock for getting token \r\n\r\n```json\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;url&quot;: &quot;/.default/token&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;access_token&quot;: &quot;testToken&quot;,\r\n      &quot;expires_in&quot;: 3600,\r\n      &quot;refresh_expires_in&quot;: 0,\r\n      &quot;token_type&quot;: &quot;Bearer&quot;,\r\n      &quot;not-before-policy&quot;: 0,\r\n      &quot;scope&quot;: &quot;https://localhost:9082/.default&quot;\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis gives error as method threw &#39;javax.net.ssl.SSLException&#39; exception. at the line `HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());`\r\n\r\nCan anyone please help me on this? What is going wrong here or any other way to mock this method to use in my JUnit? Following is the complete stackTrace [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ccqt7.png","title":"Method threw &#39;javax.net.ssl.SSLException&#39; exception","body":"<p>I have written a JUnit to test one of the method which calls below getAuthToken</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getAuthToken() throws URISyntaxException, IOException, InterruptedException {\n    String formBody = String.format(&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s&amp;scope=%s&quot;,\n            URLEncoder.encode(clientId, StandardCharsets.UTF_8),\n            URLEncoder.encode(clientSecret, StandardCharsets.UTF_8),\n            URLEncoder.encode(scope, StandardCharsets.UTF_8));\n\n    HttpRequest authRequest = HttpRequest.newBuilder()\n            .uri(new URI(epimTokenUri))\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .POST(HttpRequest.BodyPublishers.ofString(formBody))\n            .build();\n\n    HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonNode jsonNode = objectMapper.readTree(authResponse.body());\n\n    return jsonNode.get(&quot;access_token&quot;).asText();\n}\n</code></pre>\n<p>For this I am using WireMock. Following is mapping for WireMock for getting token</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;url&quot;: &quot;/.default/token&quot;\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200,\n    &quot;jsonBody&quot;: {\n      &quot;access_token&quot;: &quot;testToken&quot;,\n      &quot;expires_in&quot;: 3600,\n      &quot;refresh_expires_in&quot;: 0,\n      &quot;token_type&quot;: &quot;Bearer&quot;,\n      &quot;not-before-policy&quot;: 0,\n      &quot;scope&quot;: &quot;https://localhost:9082/.default&quot;\n    },\n    &quot;headers&quot;: {\n      &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\n    }\n  }\n}\n</code></pre>\n<p>This gives error as method threw 'javax.net.ssl.SSLException' exception. at the line <code>HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());</code></p>\n<p>Can anyone please help me on this? What is going wrong here or any other way to mock this method to use in my JUnit? Following is the complete stackTrace <a href=\"https://i.stack.imgur.com/ccqt7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccqt7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15753984,"reputation":483,"user_id":11367672,"display_name":"Andreas1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700141594,"creation_date":1700141594,"answer_id":77495260,"question_id":77494781,"body_markdown":"I have found the reason, and the answer as well. \r\n\r\nSo one of the LiveData updated the ui as I mentioned, so I created some kind of SingleEvent&lt;&gt; class, and wrap up this liveData. So if I return to Fragment A although the liveData fires, but it wont do anything, because this value was previously handled. ","title":"How to handle the screen &quot;flickering&quot; after back navigation?","body":"<p>I have found the reason, and the answer as well.</p>\n<p>So one of the LiveData updated the ui as I mentioned, so I created some kind of SingleEvent&lt;&gt; class, and wrap up this liveData. So if I return to Fragment A although the liveData fires, but it wont do anything, because this value was previously handled.</p>\n"}],"owner":{"account_id":15753984,"reputation":483,"user_id":11367672,"display_name":"Andreas1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700141594,"creation_date":1700137563,"question_id":77494781,"body_markdown":"So we have a legacy project, where we don&#39;t use the Navigation component, databinding etc...\r\n\r\nWhen I navigate from Fragment A to fragment B, I use this code: \r\n```\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setCustomAnimations(enter, exit, popEnter, popExit)\r\n                    .replace(getFragmentContainerId(), fragment, fragmentTag)\r\n                    .addToBackStack(backStackTag)\r\n                    .commitAllowingStateLoss();\r\n ```\r\nThe problem is, when I press the back button, and the popBackStack method called, the previous fragment (Fragment A) flashing/flickering. This is because all of the lifecycle method runs (onResume, onCreateView, onViewCreated), and in onViewCreated I have a bunch of observers which update the ui. \r\n\r\nI tried to use the addFragment, instead of replace, and it solved the flickering, but it caused an another problem, because in this case, the onResume method wont get called, and it contains some important logic.\r\n\r\nSo my question is, how could I resolve this thing? \r\nI have 1 possible solution in my mind, that I create a callback function, and in Fragment B onPause method I call it, and I put all of the functions from onResume into this callback fun. In this case I have to use addFragment instead of replace. \r\n\r\nIt is working, but I believe it isn&#39;t the best solution, because Fragment B onPause method can be invoked not just then, when I press the back button.  ","title":"How to handle the screen &quot;flickering&quot; after back navigation?","body":"<p>So we have a legacy project, where we don't use the Navigation component, databinding etc...</p>\n<p>When I navigate from Fragment A to fragment B, I use this code:</p>\n<pre><code>            getSupportFragmentManager().beginTransaction()\n                    .setCustomAnimations(enter, exit, popEnter, popExit)\n                    .replace(getFragmentContainerId(), fragment, fragmentTag)\n                    .addToBackStack(backStackTag)\n                    .commitAllowingStateLoss();\n</code></pre>\n<p>The problem is, when I press the back button, and the popBackStack method called, the previous fragment (Fragment A) flashing/flickering. This is because all of the lifecycle method runs (onResume, onCreateView, onViewCreated), and in onViewCreated I have a bunch of observers which update the ui.</p>\n<p>I tried to use the addFragment, instead of replace, and it solved the flickering, but it caused an another problem, because in this case, the onResume method wont get called, and it contains some important logic.</p>\n<p>So my question is, how could I resolve this thing?\nI have 1 possible solution in my mind, that I create a callback function, and in Fragment B onPause method I call it, and I put all of the functions from onResume into this callback fun. In this case I have to use addFragment instead of replace.</p>\n<p>It is working, but I believe it isn't the best solution, because Fragment B onPause method can be invoked not just then, when I press the back button.</p>\n"},{"tags":["java","android","android-studio","pdf","whatsapp"],"comments":[{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1700140828,"post_id":77495117,"comment_id":136619756,"body_markdown":"what&#39;s the content of ```filePath```?","body":"what&#39;s the content of <code>filePath</code>?"},{"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"score":0,"creation_date":1700141078,"post_id":77495117,"comment_id":136619805,"body_markdown":"Hi @MalikBilal, I forgot that. added it into the post","body":"Hi @MalikBilal, I forgot that. added it into the post"},{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1700141310,"post_id":77495117,"comment_id":136619844,"body_markdown":"Please add a log or print the content of filePath. Also add your code related for content provider.","body":"Please add a log or print the content of filePath. Also add your code related for content provider."},{"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"score":0,"creation_date":1700142529,"post_id":77495117,"comment_id":136620086,"body_markdown":"System.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf I don&#39;t have implemented any content provider. it&#39;s ok? @MalikBilal","body":"System.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/f&zwnj;&#8203;iles/orders/file.pdf I don&#39;t have implemented any content provider. it&#39;s ok? @MalikBilal"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700154029,"post_id":77495117,"comment_id":136622527,"body_markdown":"Uri.fromFile() is not usable since several Android versions. Use FileProvider.getUriForFile() instead to get a nice uri for your file.","body":"Uri.fromFile() is not usable since several Android versions. Use FileProvider.getUriForFile() instead to get a nice uri for your file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700154205,"post_id":77495117,"comment_id":136622560,"body_markdown":"That is not a Whatsapp share button but a Yourapp share button. The user can choose any app to share with.","body":"That is not a Whatsapp share button but a Yourapp share button. The user can choose any app to share with."}],"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700141508,"creation_date":1700140505,"question_id":77495117,"body_markdown":"I took an android app project that someone built and my main task was to update the SDK because the users couldn&#39;t share my pdf files in theirs devices.\r\nThen, I uploaded it to:\r\n\r\n    compileSdkVersion 33\r\n    minSdkVersion 23\r\n    targetSdkVersion 33\r\n\r\nAnd I uploaded the Manifest file as well:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nThis is my piece of code of Sharing button:\r\n\r\n    String directory_path = ctx.getExternalFilesDir(&quot;&quot;) + &quot;/orders/&quot;; \r\n    File file = new File(directory_path); \r\n    String targetPdf = directory_path + &quot;file.pdf&quot;; \r\n    File filePath = new File(targetPdf);\r\n    Intent share = new Intent(Intent.ACTION_SEND);\r\n    share.setType(&quot;application/pdf&quot;);\r\n    \r\n    Uri uri = Uri.fromFile(filePath);\r\n    share.setAction(Intent.ACTION_SEND);\r\n    share.putExtra(Intent.EXTRA_STREAM, uri);\r\n    ctx.startActivity(Intent.createChooser(share, &quot;Compartiendo archivo&quot;));\r\n\r\nFilepath content:\r\nSystem.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf\r\n\r\n\r\nI&#39;ve got any error reported, but when I touch on Share button and select the correct chat, Whatsapp says:\r\n\r\n**&quot;The file format is not supported&quot;**.\r\n\r\nWhere am I wrong? Because this Sharing button&#39;s worked before.\r\n","title":"Whatsapp&#39;s share button of Pdf files stopped working after SDK 33 uploading","body":"<p>I took an android app project that someone built and my main task was to update the SDK because the users couldn't share my pdf files in theirs devices.\nThen, I uploaded it to:</p>\n<pre><code>compileSdkVersion 33\nminSdkVersion 23\ntargetSdkVersion 33\n</code></pre>\n<p>And I uploaded the Manifest file as well:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>This is my piece of code of Sharing button:</p>\n<pre><code>String directory_path = ctx.getExternalFilesDir(&quot;&quot;) + &quot;/orders/&quot;; \nFile file = new File(directory_path); \nString targetPdf = directory_path + &quot;file.pdf&quot;; \nFile filePath = new File(targetPdf);\nIntent share = new Intent(Intent.ACTION_SEND);\nshare.setType(&quot;application/pdf&quot;);\n\nUri uri = Uri.fromFile(filePath);\nshare.setAction(Intent.ACTION_SEND);\nshare.putExtra(Intent.EXTRA_STREAM, uri);\nctx.startActivity(Intent.createChooser(share, &quot;Compartiendo archivo&quot;));\n</code></pre>\n<p>Filepath content:\nSystem.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf</p>\n<p>I've got any error reported, but when I touch on Share button and select the correct chat, Whatsapp says:</p>\n<p><strong>&quot;The file format is not supported&quot;</strong>.</p>\n<p>Where am I wrong? Because this Sharing button's worked before.</p>\n"},{"tags":["java","spring","junit"],"owner":{"account_id":10818317,"reputation":73,"user_id":7956552,"display_name":"Mateusz Korga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700141186,"creation_date":1700141186,"question_id":77495201,"body_markdown":"\r\n&#39;&#39;&#39;&#39;    \r\n\r\n    import org.junit.rules.TestRule;\r\n    import org.junit.runner.Description;\r\n    import org.junit.runners.model.Statement;\r\n    \r\n    public class RetryRule implements TestRule {\r\n        private int retryCount;\r\n    \r\n        public RetryRule(int retryCount) {\r\n            this.retryCount = retryCount;\r\n        }\r\n    \r\n        public Statement apply(Statement base, Description description) {\r\n            return statement(base, description);\r\n        }\r\n    \r\n        private Statement statement(final Statement base, final Description description) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n    \r\n                    // implement retry logic here\r\n                    for (int i = 0; i &lt; retryCount; i++) {\r\n                        try {\r\n                            base.evaluate();\r\n                            return;\r\n                        } catch (Throwable t) {\r\n                            //  System.out.println(&quot;: run &quot; + (i+1) + &quot; failed&quot;);\r\n                            System.err.println(description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed.&quot;);\r\n                        }\r\n                    }\r\n                    System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures.&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class SomeTestClass {\r\n    \r\n    @Rule\r\n    private RetryRule rule = new RetryRule(3);\r\n    \r\n    @Test\r\n    public void test() {...}\r\n}\r\n\r\nI have lot of integration tests written in Junit4 which may sometimes fail due to Awaitibility.await(...) mechanism. I found that i can use this TestRule interface to restart them couple times and try to make them pass. But the tring is i need to restart the context also like @DirtiesContext, but ONLY when the test failed - entered catch block inside RetryRule.\r\nAny ideas?","title":"Dirties context upon TestRule","body":"<p>''''</p>\n<pre><code>import org.junit.rules.TestRule;\nimport org.junit.runner.Description;\nimport org.junit.runners.model.Statement;\n\npublic class RetryRule implements TestRule {\n    private int retryCount;\n\n    public RetryRule(int retryCount) {\n        this.retryCount = retryCount;\n    }\n\n    public Statement apply(Statement base, Description description) {\n        return statement(base, description);\n    }\n\n    private Statement statement(final Statement base, final Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n\n                // implement retry logic here\n                for (int i = 0; i &lt; retryCount; i++) {\n                    try {\n                        base.evaluate();\n                        return;\n                    } catch (Throwable t) {\n                        //  System.out.println(&quot;: run &quot; + (i+1) + &quot; failed&quot;);\n                        System.err.println(description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed.&quot;);\n                    }\n                }\n                System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures.&quot;);\n            }\n        };\n    }\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class SomeTestClass {\n\n@Rule\nprivate RetryRule rule = new RetryRule(3);\n\n@Test\npublic void test() {...}\n</code></pre>\n<p>}</p>\n<p>I have lot of integration tests written in Junit4 which may sometimes fail due to Awaitibility.await(...) mechanism. I found that i can use this TestRule interface to restart them couple times and try to make them pass. But the tring is i need to restart the context also like @DirtiesContext, but ONLY when the test failed - entered catch block inside RetryRule.\nAny ideas?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700139676,"post_id":77494987,"comment_id":136619519,"body_markdown":"That&#39;s not a standard feature as far as I know. You&#39;ll probably need to do an update using values from your audit table. Perhaps looking at the code that creates the audit entry will help?","body":"That&#39;s not a standard feature as far as I know. You&#39;ll probably need to do an update using values from your audit table. Perhaps looking at the code that creates the audit entry will help?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1700140979,"post_id":77494987,"comment_id":136621135,"body_markdown":"Oh, that is well implemented in Hibernate-Envers-Audit. Check [this](https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer) out.","body":"Oh, that is well implemented in Hibernate-Envers-Audit. Check <a href=\"https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer\" rel=\"nofollow noreferrer\">this</a> out."}],"owner":{"account_id":26719206,"reputation":37,"user_id":20323350,"display_name":"Logolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1700140979,"creation_date":1700139426,"question_id":77494987,"body_markdown":"Imagine we run a server with Java Spring using Hibernate (database is connected) and would like to restore a previous state of the database by supplying a timestamp when the change was committed. The latter is stored in revinfo table.\r\n\r\nI have figured out that the mechanism should be:\r\n1) Copy the row of the audit table.\r\n2) Update the row of the original table with the audit row.\r\n\r\nHow do we implement this in code? Is there a way to automate this procedure or is it usually done manually? The questions could sound simple but I haven&#39;t found a clear answer on this matter in any documentation.","title":"Restore previous state of the database in Java Spring","body":"<p>Imagine we run a server with Java Spring using Hibernate (database is connected) and would like to restore a previous state of the database by supplying a timestamp when the change was committed. The latter is stored in revinfo table.</p>\n<p>I have figured out that the mechanism should be:</p>\n<ol>\n<li>Copy the row of the audit table.</li>\n<li>Update the row of the original table with the audit row.</li>\n</ol>\n<p>How do we implement this in code? Is there a way to automate this procedure or is it usually done manually? The questions could sound simple but I haven't found a clear answer on this matter in any documentation.</p>\n"},{"tags":["java","android","permissions","storage","android-13"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700138555,"post_id":77494715,"comment_id":136619300,"body_markdown":"Can you share your AndroidManifes.xml file?","body":"Can you share your AndroidManifes.xml file?"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1700139021,"post_id":77494715,"comment_id":136619388,"body_markdown":"How you obtain `fileUri`? what is the format of this uri? Why didn&#39;t you follow terror message and use &quot;ACTION_OPEN_DOCUMENT&quot; for getting the uri?","body":"How you obtain <code>fileUri</code>? what is the format of this uri? Why didn&#39;t you follow terror message and use &quot;ACTION_OPEN_DOCUMENT&quot; for getting the uri?"},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700139950,"post_id":77494715,"comment_id":136619587,"body_markdown":"@tomerpacific I added the permissions I have in my Android Manifest to the post above.","body":"@tomerpacific I added the permissions I have in my Android Manifest to the post above."},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700139954,"post_id":77494715,"comment_id":136619589,"body_markdown":"@Selvin I got it from the FileProvider and my uri looks like this: content://com.android.externalstorage.documents/document/primary%3ADocuments%2F123456789.pdf","body":"@Selvin I got it from the FileProvider and my uri looks like this: content://com.android.externalstorage.documents/document/pri&zwnj;&#8203;mary%3ADocuments%2F1&zwnj;&#8203;23456789.pdf"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700140101,"post_id":77494715,"comment_id":136619624,"body_markdown":"@LaurensV - Have you read [this](https://developer.android.com/training/data-storage/shared/documents-files)?","body":"@LaurensV - Have you read <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">this</a>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700145245,"post_id":77494715,"comment_id":136620591,"body_markdown":"`got it from the FileProvider` No uries from FileProvider look quite different. Its more from ACTION_OPEN_DOCUMENT. And for ACTION_OPEN_DOCUMENT you do not need any permission.","body":"<code>got it from the FileProvider</code> No uries from FileProvider look quite different. Its more from ACTION_OPEN_DOCUMENT. And for ACTION_OPEN_DOCUMENT you do not need any permission."},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700737681,"post_id":77494715,"comment_id":136692564,"body_markdown":"@blackapps Yes, but I don&#39;t want to open a file. I want to get the file, convert it to the base64 and send it to my API so I can get a url back and save the online url.","body":"@blackapps Yes, but I don&#39;t want to open a file. I want to get the file, convert it to the base64 and send it to my API so I can get a url back and save the online url."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700739128,"post_id":77494715,"comment_id":136692800,"body_markdown":"Ok. Getting the file or open it is the same for me. So i do not understand your problem. You first have to open the file to get it;s content.","body":"Ok. Getting the file or open it is the same for me. So i do not understand your problem. You first have to open the file to get it;s content."}],"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700139738,"creation_date":1700136936,"question_id":77494715,"body_markdown":"I am trying to retrieve a file using my uri. Only when I want to retrieve it through my openInputStream I get this following error:\r\n\r\n&gt; Permission Denial: opening provider\r\n&gt; com.android.externalstorage.ExternalStorageProvider from\r\n&gt; ProcessRecord{b3d0dd0 18767:com.workbon/u0a163} (pid=18767, uid=10163)\r\n&gt; requires that you obtain access using ACTION_OPEN_DOCUMENT or related\r\n&gt; APIs\r\n\r\nMy code, yes it is still Java is as follows:\r\n\r\n    InputStream inputStream = context.getContentResolver().openInputStream(fileUri);\r\n                byte[] bytes = readBytes(inputStream);\r\n                return Base64.encodeToString(bytes, Base64.DEFAULT);\r\n\r\n    private static byte[] readBytes(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\r\n            int bufferSize = 1024;\r\n            byte[] buffer = new byte[bufferSize];\r\n    \r\n            int len;\r\n            while ((len = inputStream.read(buffer)) != -1) {\r\n                byteBuffer.write(buffer, 0, len);\r\n            }\r\n            return byteBuffer.toByteArray();\r\n        }\r\n\r\n\r\nMy goal is to eventually convert the file to **base64** data so I can pass that along to an API.\r\n\r\nAmong other things, I have these permissions in my Android Manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n            android:maxSdkVersion=&quot;32&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_MEDIA_STORAGE&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\nHopefully someone can help me with this problem. It is a specific Android 13+ problem.","title":"Get file from uri in Android 13 (sdk 33) permission denial","body":"<p>I am trying to retrieve a file using my uri. Only when I want to retrieve it through my openInputStream I get this following error:</p>\n<blockquote>\n<p>Permission Denial: opening provider\ncom.android.externalstorage.ExternalStorageProvider from\nProcessRecord{b3d0dd0 18767:com.workbon/u0a163} (pid=18767, uid=10163)\nrequires that you obtain access using ACTION_OPEN_DOCUMENT or related\nAPIs</p>\n</blockquote>\n<p>My code, yes it is still Java is as follows:</p>\n<pre><code>InputStream inputStream = context.getContentResolver().openInputStream(fileUri);\n            byte[] bytes = readBytes(inputStream);\n            return Base64.encodeToString(bytes, Base64.DEFAULT);\n\nprivate static byte[] readBytes(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\n        int bufferSize = 1024;\n        byte[] buffer = new byte[bufferSize];\n\n        int len;\n        while ((len = inputStream.read(buffer)) != -1) {\n            byteBuffer.write(buffer, 0, len);\n        }\n        return byteBuffer.toByteArray();\n    }\n</code></pre>\n<p>My goal is to eventually convert the file to <strong>base64</strong> data so I can pass that along to an API.</p>\n<p>Among other things, I have these permissions in my Android Manifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;32&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_MEDIA_STORAGE&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n</code></pre>\n<p>Hopefully someone can help me with this problem. It is a specific Android 13+ problem.</p>\n"},{"tags":["java","maven","jpa"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":1,"creation_date":1700138798,"post_id":77494876,"comment_id":136619342,"body_markdown":"Hey! Please add the error message as text and not as images :)","body":"Hey! Please add the error message as text and not as images :)"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700139272,"post_id":77494876,"comment_id":136619447,"body_markdown":"Why are you using `org.apache.derby:derby:10.15.2.0` if you&#39;ve configured `persistence.xml` for connections to a MySQL DB server? I think you should include the dependency to [ConnectorJ](https://mvnrepository.com/artifact/com.mysql/mysql-connector-j) instead.","body":"Why are you using <code>org.apache.derby:derby:10.15.2.0</code> if you&#39;ve configured <code>persistence.xml</code> for connections to a MySQL DB server? I think you should include the dependency to <a href=\"https://mvnrepository.com/artifact/com.mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">ConnectorJ</a> instead."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700139391,"post_id":77494876,"comment_id":136619472,"body_markdown":"In your `persistence.xml`, why are you configuring `org.eclipse.persistence.jpa.PersistenceProvider` as your provider if you plan to use Hibernate? I&#39;m pretty sure you want that to be `org.hibernate.jpa.HibernatePersistenceProvider`.","body":"In your <code>persistence.xml</code>, why are you configuring <code>org.eclipse.persistence.jpa.PersistenceProvider</code> as your provider if you plan to use Hibernate? I&#39;m pretty sure you want that to be <code>org.hibernate.jpa.HibernatePersistenceProvider</code>."}],"answers":[{"comments":[{"owner":{"account_id":20078161,"reputation":1,"user_id":22927645,"display_name":"jhonny"},"score":0,"creation_date":1700139582,"post_id":77494957,"comment_id":136619499,"body_markdown":"What do I do if I want to use the eclipseLink as my jpa provider? I don&#39;t need Hibernate","body":"What do I do if I want to use the eclipseLink as my jpa provider? I don&#39;t need Hibernate"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1700139884,"post_id":77494957,"comment_id":136619567,"body_markdown":"Then in your pom replace org.hibernate:hibernate-core with org.eclipse.persistence:eclipselink. See artifact at https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink/4.0.2","body":"Then in your pom replace org.hibernate:hibernate-core with org.eclipse.persistence:eclipselink. See artifact at <a href=\"https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink/4.0.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.eclipse.persistence/eclipseli&zwnj;&#8203;nk/&hellip;</a>"},{"owner":{"account_id":20078161,"reputation":1,"user_id":22927645,"display_name":"jhonny"},"score":0,"creation_date":1700140387,"post_id":77494957,"comment_id":136619675,"body_markdown":"It still does the same error, I can send you the files if you want to check it out","body":"It still does the same error, I can send you the files if you want to check it out"}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700139112,"creation_date":1700139112,"answer_id":77494957,"question_id":77494876,"body_markdown":"Implementations of JPA specification include:\r\n- Hibernate\r\n- EclipseLink\r\n\r\nYou imported Hibernate JAR but specified EclipseLink as JPA provider:\r\n```lang-xml\r\n&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n```\r\n\r\nUse Hibernate provider instead:\r\n```lang-xml\r\n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n```","title":"JPA no persistence found","body":"<p>Implementations of JPA specification include:</p>\n<ul>\n<li>Hibernate</li>\n<li>EclipseLink</li>\n</ul>\n<p>You imported Hibernate JAR but specified EclipseLink as JPA provider:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n</code></pre>\n<p>Use Hibernate provider instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n"}],"owner":{"account_id":20078161,"reputation":1,"user_id":22927645,"display_name":"jhonny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700140224,"answer_count":1,"score":0,"last_activity_date":1700139112,"creation_date":1700138330,"question_id":77494876,"body_markdown":"first and foremost I don&#39;t think this is a duplicate because I checked the folders names and also the persistence name file\r\n\r\n\r\n\r\nI updated the pom to work with maven as well.\r\n\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n\t  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- JPA --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Hibernate (JPA Implementation) --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Derby --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n        &lt;version&gt;10.15.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nI still get the persistence not found\r\n\r\n[please check image for more context](https://i.stack.imgur.com/4CIwB.png)\r\n\r\n\r\n    &lt;persistence-unit name=&quot;Memories&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\r\n\r\nHere&#39;s the datamaper\r\n\r\n\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    import com.fcul.memoriesdb.domain.Photograph;\r\n    \r\n    import java.util.List;\r\n     \r\n    public class PhotographDataMapper {\r\n     \r\n        private EntityManagerFactory entityManagerFactory;\r\n     \r\n        public PhotographDataMapper() {\r\n            // Create the EntityManagerFactory\r\n            entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Memories&quot;);\r\n","title":"JPA no persistence found","body":"<p>first and foremost I don't think this is a duplicate because I checked the folders names and also the persistence name file</p>\n<p>I updated the pom to work with maven as well.</p>\n<pre><code>  &lt;dependencies&gt;\n      \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- JPA --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate (JPA Implementation) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Derby --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\n        &lt;version&gt;10.15.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n</code></pre>\n<p>I still get the persistence not found</p>\n<p><a href=\"https://i.stack.imgur.com/4CIwB.png\" rel=\"nofollow noreferrer\">please check image for more context</a></p>\n<pre><code>&lt;persistence-unit name=&quot;Memories&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n</code></pre>\n<p>Here's the datamaper</p>\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\nimport com.fcul.memoriesdb.domain.Photograph;\n\nimport java.util.List;\n \npublic class PhotographDataMapper {\n \n    private EntityManagerFactory entityManagerFactory;\n \n    public PhotographDataMapper() {\n        // Create the EntityManagerFactory\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Memories&quot;);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":29774244,"reputation":7,"user_id":22818685,"display_name":"Oleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700138420,"creation_date":1700138280,"answer_id":77494870,"question_id":77477544,"body_markdown":"Most likely, the problem is that you have created a `NotificationChannel` with `default_notification_channel_id`, while in `NotificationCompat.Builder` you use `channel_id`.\r\n\r\nSo try replacing with:\r\n```\r\nNotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;default_notification_channel_id&quot;)\r\n```","title":"Firebase FCM notifications not displaying","body":"<p>Most likely, the problem is that you have created a <code>NotificationChannel</code> with <code>default_notification_channel_id</code>, while in <code>NotificationCompat.Builder</code> you use <code>channel_id</code>.</p>\n<p>So try replacing with:</p>\n<pre><code>NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;default_notification_channel_id&quot;)\n</code></pre>\n"}],"owner":{"account_id":29895982,"reputation":1,"user_id":22910863,"display_name":"Helpingdotydk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700138420,"creation_date":1699921307,"question_id":77477544,"body_markdown":"I created an android app in android studio and I connected it with Firebase. I know it is connected because when the app is open onMessageRecieved is being called and I can see it in the log.\r\n\r\nThere are similar posts on here, and ive tried everything I could find including:\r\n\r\nadding this to the manifest:\r\n\r\n```\r\n&lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\r\n     See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\r\n             notification message. See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/white&quot; /&gt;\r\n```\r\n\r\nUsing this createNotificationChannel() method in the MainActivity OnCreate() and in my class that extends FirebaseMessagingService:\r\n\r\n```\r\nprivate void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;default_notification_channel_id&quot;,\r\n                    &quot;Channel name&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            channel.setDescription(&quot;Channel description&quot;);\r\n\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            if (notificationManager != null) {\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBelow Ill add my AndroidManifest and the class extending FirebaseMessagingService, honestly I feel like theres one obvious thing I keep missing but I have been trying to fix this for days with no luck. Let me know if I need to add anything else.\r\n\r\nAndroidManifest:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot; &gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\r\n     See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\r\n             notification message. See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/white&quot; /&gt;\r\n\r\n        &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n        &lt;activity\r\n            android:name=&quot;.RealSettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;@string/title_activity_real_settings&quot;\r\n            android:theme=&quot;@style/Theme.TestApp.NoActionBar&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.WebviewActivity&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;@string/title_activity_settings&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nMyFirebaseMessagingService:\r\n\r\n```\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n    public static final String TAG = &quot;Push-Event&quot;;\r\n    public static final String CHANNEL_ID = String.valueOf(R.string.default_notification_channel_id);\r\n    public static final String CHANNEL_NAME = &quot;com.example.androidappfortesting&quot;;\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\r\n        \r\n    }\r\n    \r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n        }\r\n\r\n        // Check if message contains a Notification payload.\r\n        if (remoteMessage.getNotification() != null) {\r\n            String title = remoteMessage.getNotification().getTitle();\r\n            String description = remoteMessage.getNotification().getBody();\r\n            Log.d(TAG, &quot;Message Notification Title: &quot; + title);\r\n            Log.d(TAG, &quot;Message Notification Description: &quot; + description);\r\n            \r\n            createNotificationChannel();\r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\r\n                    .setContentTitle(remoteMessage.getNotification().getTitle())\r\n                    .setContentText(remoteMessage.getNotification().getBody())\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                    .setStyle(new NotificationCompat.BigTextStyle())\r\n                    .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\r\n                    .setSmallIcon(R.mipmap.ic_launcher)\r\n                    .setAutoCancel(true);\r\n\r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n            notificationManager.notify(0, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;default_notification_channel_id&quot;,\r\n                    &quot;Channel name&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            channel.setDescription(&quot;Channel description&quot;);\r\n\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            if (notificationManager != null) {\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n```","title":"Firebase FCM notifications not displaying","body":"<p>I created an android app in android studio and I connected it with Firebase. I know it is connected because when the app is open onMessageRecieved is being called and I can see it in the log.</p>\n<p>There are similar posts on here, and ive tried everything I could find including:</p>\n<p>adding this to the manifest:</p>\n<pre><code>&lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\n     See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\n             notification message. See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/white&quot; /&gt;\n</code></pre>\n<p>Using this createNotificationChannel() method in the MainActivity OnCreate() and in my class that extends FirebaseMessagingService:</p>\n<pre><code>private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;default_notification_channel_id&quot;,\n                    &quot;Channel name&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            channel.setDescription(&quot;Channel description&quot;);\n\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            if (notificationManager != null) {\n                notificationManager.createNotificationChannel(channel);\n            }\n        }\n    }\n</code></pre>\n<p>Below Ill add my AndroidManifest and the class extending FirebaseMessagingService, honestly I feel like theres one obvious thing I keep missing but I have been trying to fix this for days with no luck. Let me know if I need to add anything else.</p>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot; &gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\n     See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\n             notification message. See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/white&quot; /&gt;\n\n        &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n\n        &lt;activity\n            android:name=&quot;.RealSettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_real_settings&quot;\n            android:theme=&quot;@style/Theme.TestApp.NoActionBar&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.WebviewActivity&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.SettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_settings&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MyFirebaseMessagingService:</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n    public static final String TAG = &quot;Push-Event&quot;;\n    public static final String CHANNEL_ID = String.valueOf(R.string.default_notification_channel_id);\n    public static final String CHANNEL_NAME = &quot;com.example.androidappfortesting&quot;;\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\n        \n    }\n    \n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n        }\n\n        // Check if message contains a Notification payload.\n        if (remoteMessage.getNotification() != null) {\n            String title = remoteMessage.getNotification().getTitle();\n            String description = remoteMessage.getNotification().getBody();\n            Log.d(TAG, &quot;Message Notification Title: &quot; + title);\n            Log.d(TAG, &quot;Message Notification Description: &quot; + description);\n            \n            createNotificationChannel();\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\n                    .setContentTitle(remoteMessage.getNotification().getTitle())\n                    .setContentText(remoteMessage.getNotification().getBody())\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                    .setStyle(new NotificationCompat.BigTextStyle())\n                    .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setAutoCancel(true);\n\n            NotificationManager notificationManager =\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n            notificationManager.notify(0, notificationBuilder.build());\n        }\n    }\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;default_notification_channel_id&quot;,\n                    &quot;Channel name&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            channel.setDescription(&quot;Channel description&quot;);\n\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            if (notificationManager != null) {\n                notificationManager.createNotificationChannel(channel);\n            }\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":6,"creation_date":1342400857,"post_id":11497020,"comment_id":15188070,"body_markdown":"Perhaps that&#39;s because there&#39;s no difference?","body":"Perhaps that&#39;s because there&#39;s no difference?"},{"owner":{"account_id":1095607,"reputation":1616,"user_id":1089258,"accept_rate":50,"display_name":"swapy"},"score":0,"creation_date":1342425444,"post_id":11497020,"comment_id":15192794,"body_markdown":"http://stackoverflow.com/questions/6008241/java-generics-e-and-t-what-is-the-difference","body":"<a href=\"http://stackoverflow.com/questions/6008241/java-generics-e-and-t-what-is-the-difference\" title=\"java generics e and t what is the difference\">stackoverflow.com/questions/6008241/&hellip;</a>"},{"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"score":3,"creation_date":1436417143,"post_id":11497020,"comment_id":50605496,"body_markdown":"why we cant define class Name&lt;? extends Number&gt; but class Name&lt;T extends Number&gt; is fine ?","body":"why we cant define class Name&lt;? extends Number&gt; but class Name&lt;T extends Number&gt; is fine ?"},{"owner":{"display_name":"user10990333"},"score":0,"creation_date":1590847252,"post_id":11497020,"comment_id":109838618,"body_markdown":"@PrateekJoshi Yes, I was thinking the same. Did you get the answer?","body":"@PrateekJoshi Yes, I was thinking the same. Did you get the answer?"}],"answers":[{"comments":[{"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"score":0,"creation_date":1342401083,"post_id":11497034,"comment_id":15188100,"body_markdown":"Agreed! So is there a case where only &#39;?&#39; will do the job for me but not &#39;T&#39;. Or whatever that can be done by wildcard can be done using &#39;T&#39;?","body":"Agreed! So is there a case where only &#39;?&#39; will do the job for me but not &#39;T&#39;. Or whatever that can be done by wildcard can be done using &#39;T&#39;?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":15,"creation_date":1342401217,"post_id":11497034,"comment_id":15188113,"body_markdown":"If there is only one `?`, then it is equivalent. If there is more than one `?`, then you have to use either `T` or `?`, depending on if you need the two types to be the same, or want to allow for them to be different. If you have a method `x(&lt;? extends Number&gt; a, &lt;? extends Number&gt; b)`, you can call it with an Integer and a Long. If you have `T a, T b`, they both need to be of the same type.","body":"If there is only one <code>?</code>, then it is equivalent. If there is more than one <code>?</code>, then you have to use either <code>T</code> or <code>?</code>, depending on if you need the two types to be the same, or want to allow for them to be different. If you have a method <code>x(&lt;? extends Number&gt; a, &lt;? extends Number&gt; b)</code>, you can call it with an Integer and a Long. If you have <code>T a, T b</code>, they both need to be of the same type."},{"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"score":1,"creation_date":1342401862,"post_id":11497034,"comment_id":15188195,"body_markdown":"But I can still do &lt;T extends Number, U extends Number&gt; x(T a, U b). So which is the preferred way? Is it preferred to not use Wildcards (whenever possible)?","body":"But I can still do &lt;T extends Number, U extends Number&gt; x(T a, U b). So which is the preferred way? Is it preferred to not use Wildcards (whenever possible)?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1342401987,"post_id":11497034,"comment_id":15188215,"body_markdown":"It is just a matter of style. I&#39;d prefer wildcards, to make it clear that the type is not bound to another type.","body":"It is just a matter of style. I&#39;d prefer wildcards, to make it clear that the type is not bound to another type."}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":4,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1342400914,"creation_date":1342400914,"answer_id":11497034,"question_id":11497020,"body_markdown":"There is no difference in this case, because `T` is never used again. \r\n\r\nThe reason for declaring a `T` is so that you can refer to it again, thus binding two parameter types, or a return type together.","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>There is no difference in this case, because <code>T</code> is never used again. </p>\n\n<p>The reason for declaring a <code>T</code> is so that you can refer to it again, thus binding two parameter types, or a return type together.</p>\n"},{"comments":[{"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"score":0,"creation_date":1342401905,"post_id":11497064,"comment_id":15188203,"body_markdown":"So when is wildcard really needed?","body":"So when is wildcard really needed?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1342402059,"post_id":11497064,"comment_id":15188225,"body_markdown":"The wildcard is not really &quot;needed&quot;, but provides for less typing when indeed it is an unbound type (no need to give it a name). The resulting code is equivalent. This is similar to the difference between `int a = 1; return a` versus `return 1`. Or writing `&lt;T extends Object&gt;` instead of `&lt;T&gt;`","body":"The wildcard is not really &quot;needed&quot;, but provides for less typing when indeed it is an unbound type (no need to give it a name). The resulting code is equivalent. This is similar to the difference between <code>int a = 1; return a</code> versus <code>return 1</code>. Or writing <code>&lt;T extends Object&gt;</code> instead of <code>&lt;T&gt;</code>"},{"owner":{"account_id":19918132,"reputation":53,"user_id":14594612,"display_name":"Dr. Java"},"score":0,"creation_date":1605647965,"post_id":11497064,"comment_id":114714575,"body_markdown":"@Bohemian Wait a second, how is that code correct? Isn&#39;t there type erasure that occurs at runtime, leading that code to fail out at runtime?","body":"@Bohemian Wait a second, how is that code correct? Isn&#39;t there type erasure that occurs at runtime, leading that code to fail out at runtime?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1605694172,"post_id":11497064,"comment_id":114727451,"body_markdown":"@Dr.Java Yes and no. Yes there’s runtime type erasure, but there’s no error at runtime because at compile time the type was *inferred* and type safety was assured. See [Type Inference](https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html)","body":"@Dr.Java Yes and no. Yes there’s runtime type erasure, but there’s no error at runtime because at compile time the type was <i>inferred</i> and type safety was assured. See <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">Type Inference</a>"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1342404422,"creation_date":1342401343,"answer_id":11497064,"question_id":11497020,"body_markdown":"The difference is you can&#39;t refer to `T` when using a wildcard. \r\n\r\nYou aren&#39;t right now, so there is &quot;no difference&quot;, but here&#39;s how you could use `T` to make a difference:\r\n\r\n    static &lt;T extends Number&gt; T getElement(List&lt;T&gt; l) {\r\n        for (T t : l) {\r\n            if (some condition)\r\n                return t;\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis will return *the same type* as whatever is passed in. eg these will both compile:\r\n\r\n    Integer x = getElement(integerList);\r\n    Float y = getElement(floatList);\r\n","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>The difference is you can't refer to <code>T</code> when using a wildcard. </p>\n\n<p>You aren't right now, so there is \"no difference\", but here's how you could use <code>T</code> to make a difference:</p>\n\n<pre><code>static &lt;T extends Number&gt; T getElement(List&lt;T&gt; l) {\n    for (T t : l) {\n        if (some condition)\n            return t;\n    }\n    return null;\n}\n</code></pre>\n\n<p>This will return <em>the same type</em> as whatever is passed in. eg these will both compile:</p>\n\n<pre><code>Integer x = getElement(integerList);\nFloat y = getElement(floatList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4754770,"reputation":263,"user_id":3843786,"display_name":"ns89"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1458814993,"creation_date":1408251966,"answer_id":25346455,"question_id":11497020,"body_markdown":"`T` is a bounded type, i.e. whatever type you use, you have to stick to that particular type which extends `Number`, e.g. if you pass a `Double` type to a list, you cannot pass it a `Short` type as `T` is of type `Double` and the list is already bounded by that type. In contrast, if you use `?` (`wildcard`), you can use &quot;any&quot; type that extends `Number` (add both `Short` and `Double` to that list).","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p><code>T</code> is a bounded type, i.e. whatever type you use, you have to stick to that particular type which extends <code>Number</code>, e.g. if you pass a <code>Double</code> type to a list, you cannot pass it a <code>Short</code> type as <code>T</code> is of type <code>Double</code> and the list is already bounded by that type. In contrast, if you use <code>?</code> (<code>wildcard</code>), you can use \"any\" type that extends <code>Number</code> (add both <code>Short</code> and <code>Double</code> to that list).</p>\n"},{"tags":[],"owner":{"account_id":1919533,"reputation":956,"user_id":1731383,"accept_rate":14,"display_name":"Kanagaraj M"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461322867,"creation_date":1461244057,"answer_id":36770591,"question_id":11497020,"body_markdown":"When you use T you can perform all type of actions on List. But when you use &lt;?&gt; you can not perform add.\r\n\r\nT -  as same as object reference with full access &lt;br/&gt;\r\n? -  give partial access \r\n   \r\n    static void gPrint(List&lt;? extends Number&gt; l) {\r\n     l.add(1); //Will give error\r\n    for (Number n : l) {\r\n        System.out.println(n);\r\n    }\r\n\r\n    static &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\r\n    l.add((T)1); //We can add\r\n    for (Number n : l) {\r\n        System.out.println(n);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>When you use T you can perform all type of actions on List. But when you use  you can not perform add.</p>\n\n<p>T -  as same as object reference with full access <br/>\n? -  give partial access </p>\n\n<pre><code>static void gPrint(List&lt;? extends Number&gt; l) {\n l.add(1); //Will give error\nfor (Number n : l) {\n    System.out.println(n);\n}\n\nstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\nl.add((T)1); //We can add\nfor (Number n : l) {\n    System.out.println(n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001011,"reputation":11,"user_id":2564343,"display_name":"Pablo Ernesto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700138222,"creation_date":1700137806,"answer_id":77494805,"question_id":11497020,"body_markdown":"Why we use the upper bound wildcard is very well described in the [Upper Bounded Wildcards][1] section of Java Generics Tutorial.\r\n\r\nAs you already know; Integer, Long, Double and as well as a few other classes extend from the Number class. In other words all of them are subtypes of Number. Therefore, you can say &quot;Integer is a Number&quot;, &quot;Double is a Number&quot; and so on.\r\nHowever, the same relationship does NOT exist for List\\&lt;Number&gt; against List\\&lt;Integer&gt;, List\\&lt;Double&gt; and so on. In other words, List\\&lt;Number&gt; is not a base type of List\\&lt;Integer&gt;, List\\&lt;Double&gt; etc.\r\n\r\nSo, let&#39;s say, you want to write methods that must be able to work with all List of those types. In other words, your method should have a list argument, that could be a List\\&lt;Integer&gt;, List\\&lt;Double&gt;, List\\&lt;Number&gt; etc. In this case, you have to **use the upper bounded wildcard**.\r\n\r\nIn conclusion, List\\&lt;? extends Number&gt; is the base type of List\\&lt;Integer&gt;, List\\&lt;Double&gt;, List\\&lt;Number&gt; and etc.\r\n\r\nConsider the following example:\r\n\r\n    import java.util.*;\r\n    \r\n    public class WildCardDemo {\r\n\r\n      public static double sum1 (List&lt;Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n    /*\r\n      public static &lt;T&gt; double sum2 (List&lt;T extends Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n    */\r\n    \r\n      public static double sum3 (List&lt;? extends Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n\r\n        List&lt;Double&gt; numList = Arrays.asList(1.0, 2.0, 3.0);\r\n\r\n        //System.out.println(sum1(numList));  // Compiler Error !!! incompatible types: List&lt;Double&gt; cannot be converted to List&lt;Number&gt;\r\n\r\n        //System.out.println(sum2(numList)); // Compiler error !!!  sytax error\r\n\r\n        System.out.println(sum3(numList)); // This works\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>Why we use the upper bound wildcard is very well described in the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html\" rel=\"nofollow noreferrer\">Upper Bounded Wildcards</a> section of Java Generics Tutorial.</p>\n<p>As you already know; Integer, Long, Double and as well as a few other classes extend from the Number class. In other words all of them are subtypes of Number. Therefore, you can say &quot;Integer is a Number&quot;, &quot;Double is a Number&quot; and so on.\nHowever, the same relationship does NOT exist for List&lt;Number&gt; against List&lt;Integer&gt;, List&lt;Double&gt; and so on. In other words, List&lt;Number&gt; is not a base type of List&lt;Integer&gt;, List&lt;Double&gt; etc.</p>\n<p>So, let's say, you want to write methods that must be able to work with all List of those types. In other words, your method should have a list argument, that could be a List&lt;Integer&gt;, List&lt;Double&gt;, List&lt;Number&gt; etc. In this case, you have to <strong>use the upper bounded wildcard</strong>.</p>\n<p>In conclusion, List&lt;? extends Number&gt; is the base type of List&lt;Integer&gt;, List&lt;Double&gt;, List&lt;Number&gt; and etc.</p>\n<p>Consider the following example:</p>\n<pre><code>import java.util.*;\n\npublic class WildCardDemo {\n\n  public static double sum1 (List&lt;Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n/*\n  public static &lt;T&gt; double sum2 (List&lt;T extends Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n*/\n\n  public static double sum3 (List&lt;? extends Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n\n  public static void main(String[] args) {\n\n    List&lt;Double&gt; numList = Arrays.asList(1.0, 2.0, 3.0);\n\n    //System.out.println(sum1(numList));  // Compiler Error !!! incompatible types: List&lt;Double&gt; cannot be converted to List&lt;Number&gt;\n\n    //System.out.println(sum2(numList)); // Compiler error !!!  sytax error\n\n    System.out.println(sum3(numList)); // This works\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22200,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":11497034,"answer_count":5,"score":92,"last_activity_date":1700138222,"creation_date":1342400714,"question_id":11497020,"body_markdown":"What is the difference between these 2 functions?\r\n \r\n    static void gPrint(List&lt;? extends Number&gt; l) {\r\n\t    for (Number n : l) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\r\n\t\tfor (Number n : l) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}\r\n\r\nI see the same output.","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>What is the difference between these 2 functions?</p>\n\n<pre><code>static void gPrint(List&lt;? extends Number&gt; l) {\n    for (Number n : l) {\n        System.out.println(n);\n    }\n}\n\nstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\n    for (Number n : l) {\n        System.out.println(n);\n    }\n}\n</code></pre>\n\n<p>I see the same output.</p>\n"},{"tags":["java","spring","spring-boot","multithreading"],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700137321,"creation_date":1700137321,"question_id":77494757,"body_markdown":"What is the difference between using ApplicationEventMultycaster and using @Async annotation on @EventListener method.  I&#39;m looking for ways to use events asynchronously.  What&#39;s the best way to do this?  Maybe there is something else that I don&#39;t know?","title":"Difference between ApplicationEventMultycaster and @Async","body":"<p>What is the difference between using ApplicationEventMultycaster and using @Async annotation on @EventListener method.  I'm looking for ways to use events asynchronously.  What's the best way to do this?  Maybe there is something else that I don't know?</p>\n"},{"tags":["java","arrays","null","initialization","zero"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1425764164,"post_id":28920245,"comment_id":46097959,"body_markdown":"all 1s. This is basic Java in any 101 book or tutorial. Have you seen the ones on Oracle? http://goo.gl/QiHpsb","body":"all 1s. This is basic Java in any 101 book or tutorial. Have you seen the ones on Oracle? <a href=\"http://goo.gl/QiHpsb\" rel=\"nofollow noreferrer\">goo.gl/QiHpsb</a>"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":4,"creation_date":1425764237,"post_id":28920245,"comment_id":46097985,"body_markdown":"I&#39;m voting to close this question as off-topic because it can be trivially found in the documentation. http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"I&#39;m voting to close this question as off-topic because it can be trivially found in the documentation. <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":0,"creation_date":1425764971,"post_id":28920245,"comment_id":46098189,"body_markdown":"@JeroenVannevel are general purpose questions not allowed on SnackOverflow; if so, how would we flag them?","body":"@JeroenVannevel are general purpose questions not allowed on SnackOverflow; if so, how would we flag them?"},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1425770687,"post_id":28920245,"comment_id":46099795,"body_markdown":"possible duplicate of [What is the default initialization of an array in Java?](http://stackoverflow.com/questions/3426843/what-is-the-default-initialization-of-an-array-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3426843/what-is-the-default-initialization-of-an-array-in-java\">What is the default initialization of an array in Java?</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683805266,"post_id":28920245,"comment_id":134424453,"body_markdown":"The array is not &#39;empty&#39;, it is full with 9 instances of zero.","body":"The array is not &#39;empty&#39;, it is full with 9 instances of zero."}],"answers":[{"tags":[],"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764073,"creation_date":1425764073,"answer_id":28920266,"question_id":28920245,"body_markdown":"All elements are initialized to 0.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>All elements are initialized to 0.</p>\n"},{"comments":[{"owner":{"account_id":3619786,"reputation":429,"user_id":3018829,"accept_rate":93,"display_name":"Melika Barzegaran"},"score":0,"creation_date":1425764214,"post_id":28920278,"comment_id":46097978,"body_markdown":"and if the primitive is `boolean`, it&#39;ll be initialized with `false` value.","body":"and if the primitive is <code>boolean</code>, it&#39;ll be initialized with <code>false</code> value."},{"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"score":0,"creation_date":1425764312,"post_id":28920278,"comment_id":46098006,"body_markdown":"@MelikaBarzegaranHosseini I&#39;ve edited my post accordingly.","body":"@MelikaBarzegaranHosseini I&#39;ve edited my post accordingly."}],"tags":[],"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425764128,"creation_date":1425764128,"answer_id":28920278,"question_id":28920245,"body_markdown":"If it is an Array of objects it will be initialized with `null`, if it&#39;s an array of primitive values (like `int`) it will be initialized with `0`. For the non-number primitive `boolean` it is `false` and for &#39;char&#39; it is ` \t&#39;\\u0000&#39;`. For more information, check the table Default Values on the following page: \r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>If it is an Array of objects it will be initialized with <code>null</code>, if it's an array of primitive values (like <code>int</code>) it will be initialized with <code>0</code>. For the non-number primitive <code>boolean</code> it is <code>false</code> and for 'char' it is <code>'\\u0000'</code>. For more information, check the table Default Values on the following page: </p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"tags":[],"owner":{"account_id":1684734,"reputation":3195,"user_id":4235960,"accept_rate":84,"display_name":"adrCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683804736,"creation_date":1425764236,"answer_id":28920291,"question_id":28920245,"body_markdown":"A copy from [Oracle Java Documentation][1].\r\n\r\n[Primitive Data Types][1] - Default Values:\r\n\r\n    Data Type\tDefault Value (for fields)\r\n    byte\t\t0\r\n    short\t\t0\r\n    int\t\t\t0\r\n    long\t\t0L\r\n    float\t\t0.0f\r\n    double\t\t0.0d\r\n    char\t\t&#39;\\u0000&#39;\r\n    String \t\tnull\r\n    Object\t\tnull\r\n    boolean\t\tfalse\r\n\r\nSo, for int, it is zero (0).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>A copy from <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation</a>.</p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types</a> - Default Values:</p>\n<pre><code>Data Type   Default Value (for fields)\nbyte        0\nshort       0\nint         0\nlong        0L\nfloat       0.0f\ndouble      0.0d\nchar        '\\u0000'\nString      null\nObject      null\nboolean     false\n</code></pre>\n<p>So, for int, it is zero (0).</p>\n"},{"tags":[],"owner":{"account_id":5901870,"reputation":1361,"user_id":4645110,"display_name":"Arnaud Bertrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764715,"creation_date":1425764243,"answer_id":28920294,"question_id":28920245,"body_markdown":"Integer class can be null however &quot;int&quot; type cannot be null.\r\n\r\nYou can try int x = null; you&#39;ll have an error.\r\n\r\nTherefore it is created by default to 0 until you change it.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Integer class can be null however \"int\" type cannot be null.</p>\n\n<p>You can try int x = null; you'll have an error.</p>\n\n<p>Therefore it is created by default to 0 until you change it.</p>\n"},{"tags":[],"owner":{"account_id":4476563,"reputation":5607,"user_id":3641545,"accept_rate":79,"display_name":"Zarwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764271,"creation_date":1425764271,"answer_id":28920298,"question_id":28920245,"body_markdown":"Every value in an int array is initialized to 0 by default. This is something that you can easily try on your own:\r\n\r\n        int [] nums = new int [9];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; nums.length; i++) {\r\n\t\t\tSystem.out.println(nums[i]);\r\n\t\t}\r\n\r\nResult:\r\n\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Every value in an int array is initialized to 0 by default. This is something that you can easily try on your own:</p>\n\n<pre><code>    int [] nums = new int [9];\n\n    for (int i = 0; i &lt; nums.length; i++) {\n        System.out.println(nums[i]);\n    }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>0\n0\n0\n0\n0\n0\n0\n0\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764293,"creation_date":1425764293,"answer_id":28920302,"question_id":28920245,"body_markdown":"Here are the default values for the different types in Java:\r\n\r\nbyte\t0\r\n\r\nshort\t0\r\n\r\nint\t    0\r\n\r\nlong\t0L\r\n\r\nfloat\t0.0f\r\n\r\ndouble\t0.0d\r\n\r\nchar\t‘u0000′\r\n\r\nString (or any Object)\tnull\r\n\r\nboolean\tfalse\r\n\r\nAs you can see, int defaults to 0.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Here are the default values for the different types in Java:</p>\n\n<p>byte    0</p>\n\n<p>short   0</p>\n\n<p>int     0</p>\n\n<p>long    0L</p>\n\n<p>float   0.0f</p>\n\n<p>double  0.0d</p>\n\n<p>char    ‘u0000′</p>\n\n<p>String (or any Object)  null</p>\n\n<p>boolean false</p>\n\n<p>As you can see, int defaults to 0.</p>\n"}],"owner":{"account_id":2602914,"reputation":811,"user_id":2274782,"accept_rate":83,"display_name":"cvbattum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"closed_date":1425772737,"accepted_answer_id":28920278,"answer_count":6,"score":-3,"last_activity_date":1700137061,"creation_date":1425763983,"question_id":28920245,"body_markdown":"I made the following array:\r\n\r\n    int[] array = new int[9];\r\n\r\nThis array is initialized, but empty. \r\n\r\nIn that case, what is the value of any index of this array?  \r\n\r\nWhen I print it out, it gives me 0.  \r\nDoes that mean there is a zero stored in here (like if you had called `int x = 0`)?  \r\nOr is it `null`?\r\n\r\nAlso, is this the same for any `Object` array?  \r\nIs it an empty instance of this object, or is it `null`?","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>I made the following array:</p>\n<pre><code>int[] array = new int[9];\n</code></pre>\n<p>This array is initialized, but empty.</p>\n<p>In that case, what is the value of any index of this array?</p>\n<p>When I print it out, it gives me 0.<br />\nDoes that mean there is a zero stored in here (like if you had called <code>int x = 0</code>)?<br />\nOr is it <code>null</code>?</p>\n<p>Also, is this the same for any <code>Object</code> array?<br />\nIs it an empty instance of this object, or is it <code>null</code>?</p>\n"},{"tags":["java","android","events","insert","calendar"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700160739,"post_id":77494648,"comment_id":136623670,"body_markdown":"If there is an obvious crash case, it&#39;s always preferred to add a crash log","body":"If there is an obvious crash case, it&#39;s always preferred to add a crash log"}],"owner":{"account_id":6220888,"reputation":1,"user_id":4840553,"display_name":"Maitreyee Tewari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700136358,"creation_date":1700136358,"question_id":77494648,"body_markdown":"I am using the library by Alam Kanak accessible at this github link https://github.com/alamkanak/Android-Week-View/tree/master\r\nFor the function &quot;onEmptyViewLongPress&quot; I would like the user to be able to create, delete, and edit the event by long pressing an empty time slot in the calendar.\r\n\r\n\r\nI intended that &quot;onEmptyViewLongPress&quot; a new intent is created and the user can enter title, begin time, and end time of the event. Following is the code I have written for enabling the user to long press and insert an event in the calendar but when I long press the app crashes. Any help would be much appreciated!   \r\n```\r\n@Override\r\n    public void onEmptyViewLongPress(Calendar time) {\r\n      Intent intent = new Intent(Intent.ACTION_INSERT)\r\n              .setData(CalendarContract.Events.CONTENT_URI)\r\n              .putExtra(CalendarContract.Events.TITLE, &quot;Event title&quot;)\r\n              .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, &quot;begin time&quot;)\r\n              .putExtra(CalendarContract.EXTRA_EVENT_END_TIME,&quot;end time&quot;);\r\n      startActivity(intent);\r\n  }\r\n```","title":"How to add an event on long press empty view","body":"<p>I am using the library by Alam Kanak accessible at this github link <a href=\"https://github.com/alamkanak/Android-Week-View/tree/master\" rel=\"nofollow noreferrer\">https://github.com/alamkanak/Android-Week-View/tree/master</a>\nFor the function &quot;onEmptyViewLongPress&quot; I would like the user to be able to create, delete, and edit the event by long pressing an empty time slot in the calendar.</p>\n<p>I intended that &quot;onEmptyViewLongPress&quot; a new intent is created and the user can enter title, begin time, and end time of the event. Following is the code I have written for enabling the user to long press and insert an event in the calendar but when I long press the app crashes. Any help would be much appreciated!</p>\n<pre><code>@Override\n    public void onEmptyViewLongPress(Calendar time) {\n      Intent intent = new Intent(Intent.ACTION_INSERT)\n              .setData(CalendarContract.Events.CONTENT_URI)\n              .putExtra(CalendarContract.Events.TITLE, &quot;Event title&quot;)\n              .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, &quot;begin time&quot;)\n              .putExtra(CalendarContract.EXTRA_EVENT_END_TIME,&quot;end time&quot;);\n      startActivity(intent);\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700125943,"creation_date":1700122092,"answer_id":77493127,"question_id":77493058,"body_markdown":"Would the following be acceptable? \r\n\r\n1. create a generic controller object\r\n\r\n       public class GenericController &lt;T extends Identifiable&gt;{\r\n            private Map&lt;Integer, T&gt; genericMap;\r\n        \r\n            public GenericController() {\r\n                genericMap = new HashMap&lt;&gt;();\r\n            }\r\n        \r\n            public T create(T t) {\r\n                genericMap.put(t.getid(), t);\r\n                return t;\r\n            }\r\n        }\r\n\r\nThis gives you a base for creating controllers and methods. \r\n\r\n 2. create interfaces to ensure that the generic methods work properly. In the above example, creating an object needs an id. So, I create an interface called Identifiable and have T in the genericController extend it.\r\n\r\n        public interface Identifiable {\r\n            public Integer getid();\r\n        }\r\n\r\n 3. create your controllers, autowiring the genericMap as needed (dont forget to setup the generic maps as beans in a @Configuration class somewhere!)\r\n\r\n\r\n        @RestController\r\n        public class UserController {\r\n            @Autowired\r\n            GenericController&lt;User&gt; userController;\r\n        \r\n            @PostMapping(&quot;/user&quot;)\r\n            private User createUser(@RequestBody User user) {\r\n                return userController.create(user);\r\n            }\r\n        }\r\n\r\nAs a side note, I think there is only up to a certain point that you will be able to refactor/generalize your code. If I am thinking what you want, you want something like a generic/abstract controller then you just need to extend it while specifying the type, and its done. However, you will still need to specify the RequestMapping&#39;s endpoints, as you will not be able to dynamically configure it if I am not mistaken. So even then, the classes should look something like:\r\n\r\n    \r\n    public abstract class GenericController &lt;T extends Identifiable&gt;{\r\n        private Map&lt;Integer, T&gt; genericMap;\r\n    \r\n        public GenericController() {\r\n            genericMap = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public T create(T t) {\r\n            genericMap.put(t.getId(), t);\r\n            return t;\r\n        }\r\n    }\r\n    @RestController\r\n    public class UserController extends GenericController&lt;User&gt; {\r\n    //  GenericController&lt;User&gt; userController;\r\n    \r\n    //    @PostMapping(&quot;/user&quot;)\r\n    //    private User createUser(@RequestBody User user) {\r\n    //        return userController.create(user);\r\n    //    }\r\n    \r\n        @PostMapping(&quot;/user&quot;)\r\n        public User create(User user ) {\r\n            return super.create(user);\r\n        }\r\n    }","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>Would the following be acceptable?</p>\n<ol>\n<li><p>create a generic controller object</p>\n<pre><code>public class GenericController &lt;T extends Identifiable&gt;{\n     private Map&lt;Integer, T&gt; genericMap;\n\n     public GenericController() {\n         genericMap = new HashMap&lt;&gt;();\n     }\n\n     public T create(T t) {\n         genericMap.put(t.getid(), t);\n         return t;\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>This gives you a base for creating controllers and methods.</p>\n<ol start=\"2\">\n<li><p>create interfaces to ensure that the generic methods work properly. In the above example, creating an object needs an id. So, I create an interface called Identifiable and have T in the genericController extend it.</p>\n<pre><code>public interface Identifiable {\n    public Integer getid();\n}\n</code></pre>\n</li>\n<li><p>create your controllers, autowiring the genericMap as needed (dont forget to setup the generic maps as beans in a @Configuration class somewhere!)</p>\n<pre><code>@RestController\npublic class UserController {\n    @Autowired\n    GenericController&lt;User&gt; userController;\n\n    @PostMapping(&quot;/user&quot;)\n    private User createUser(@RequestBody User user) {\n        return userController.create(user);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>As a side note, I think there is only up to a certain point that you will be able to refactor/generalize your code. If I am thinking what you want, you want something like a generic/abstract controller then you just need to extend it while specifying the type, and its done. However, you will still need to specify the RequestMapping's endpoints, as you will not be able to dynamically configure it if I am not mistaken. So even then, the classes should look something like:</p>\n<pre><code>public abstract class GenericController &lt;T extends Identifiable&gt;{\n    private Map&lt;Integer, T&gt; genericMap;\n\n    public GenericController() {\n        genericMap = new HashMap&lt;&gt;();\n    }\n\n    public T create(T t) {\n        genericMap.put(t.getId(), t);\n        return t;\n    }\n}\n@RestController\npublic class UserController extends GenericController&lt;User&gt; {\n//  GenericController&lt;User&gt; userController;\n\n//    @PostMapping(&quot;/user&quot;)\n//    private User createUser(@RequestBody User user) {\n//        return userController.create(user);\n//    }\n\n    @PostMapping(&quot;/user&quot;)\n    public User create(User user ) {\n        return super.create(user);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700122309,"creation_date":1700122309,"answer_id":77493147,"question_id":77493058,"body_markdown":"It would seem a generic CRUD controller is what you&#39;re after. \r\n\r\nIn which case, I would suggest that you have a look at `spring-data-rest`. \r\n\r\nGetting all the CRUD functionality is as easy as annotating your Spring Data repository with `@RepositoryRestResource`. \r\n\r\nThat is of course, if you are planning to use Spring Data as the persistence layer for your entities. ","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>It would seem a generic CRUD controller is what you're after.</p>\n<p>In which case, I would suggest that you have a look at <code>spring-data-rest</code>.</p>\n<p>Getting all the CRUD functionality is as easy as annotating your Spring Data repository with <code>@RepositoryRestResource</code>.</p>\n<p>That is of course, if you are planning to use Spring Data as the persistence layer for your entities.</p>\n"},{"tags":[],"owner":{"account_id":29915961,"reputation":1,"user_id":22926170,"display_name":"Roei Harush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700135936,"creation_date":1700126451,"answer_id":77493577,"question_id":77493058,"body_markdown":"You absolutely can! Try this way:\r\n\r\n```java\r\npublic abstract class BaseController&lt;T&gt; {\r\n\r\n    private Map&lt;Integer, T&gt; entities = new HashMap&lt;&gt;();\r\n\r\n    @PostMapping\r\n    public T addEntity(@RequestBody T entity) {\r\n        entities.put(getEntityId(entity), entity);\r\n        return entity;\r\n    }\r\n\r\n    @PutMapping\r\n    public T updateEntity(@RequestBody T entity) {\r\n        entities.put(getEntityId(entity), entity);\r\n        return entity;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;T&gt; getAllEntities() {\r\n        return new ArrayList&lt;&gt;(entities.values());\r\n    }\r\n\r\n    protected abstract Integer getEntityId(T entity);\r\n}\r\n``` \r\n\r\nBut i would recommend you to use `ResponseEntity&lt;&gt;` instead for handling http exceptions.  ","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>You absolutely can! Try this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseController&lt;T&gt; {\n\n    private Map&lt;Integer, T&gt; entities = new HashMap&lt;&gt;();\n\n    @PostMapping\n    public T addEntity(@RequestBody T entity) {\n        entities.put(getEntityId(entity), entity);\n        return entity;\n    }\n\n    @PutMapping\n    public T updateEntity(@RequestBody T entity) {\n        entities.put(getEntityId(entity), entity);\n        return entity;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public List&lt;T&gt; getAllEntities() {\n        return new ArrayList&lt;&gt;(entities.values());\n    }\n\n    protected abstract Integer getEntityId(T entity);\n}\n</code></pre>\n<p>But i would recommend you to use <code>ResponseEntity&lt;&gt;</code> instead for handling http exceptions.</p>\n"}],"owner":{"account_id":29915226,"reputation":9,"user_id":22925587,"display_name":"ANVISERO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1700135936,"creation_date":1700121304,"question_id":77493058,"body_markdown":"I am developing an application on Spring Boot and I have two controllers that handle films and users. Both controllers have similar endpoints, and I would like to create an abstract class to simplify and scale my code. \r\nHere are the examples of controllers that I use:\r\n```\r\n@RestController\r\npublic class FilmController {\r\n  private static Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\r\n\r\n  @PostMapping(&quot;/film&quot;)\r\n  public Film addFilm(@RequestBody Film film) {\r\n      films.put(film.getId(), film);\r\n      return film;\r\n  }\r\n\r\n  @PutMapping(&quot;/film&quot;)\r\n  private Film updateFilm(@RequestBody Film film) {\r\n      films.put(film.getId(), film);\r\n      return film;\r\n  }\r\n\r\n  @GetMapping(&quot;/films&quot;)\r\n  private List&lt;Film&gt; getAllFilms() {\r\n      return new ArrayList&lt;&gt;(films.values());\r\n  }\r\n}\r\n````\r\n```@RestController\r\npublic class UserController {\r\n  private static Map&lt;Integer, User&gt; users = new HashMap&lt;&gt;();\r\n\r\n  @PostMapping(&quot;/user&quot;)\r\n  private User createUser(@RequestBody User user) {\r\n      users.put(user.getId(), user);\r\n      return user;\r\n  }\r\n\r\n  @PutMapping(&quot;/user&quot;)\r\n  private User updateUser(@RequestBody User user) {\r\n      users.put(user.getId(), user);\r\n      return user;\r\n  }\r\n\r\n  @GetMapping(&quot;/users&quot;)\r\n  private List&lt;User&gt; getAllUsers() {\r\n      return new ArrayList&lt;&gt;(users.values());\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nCan I use an abstract class with generics for this? If so, how can I do it?\r\nI would like to create an abstract class that will handle the common logic for these two controllers. \r\nCould you please explain to me, and what is better to use and why?","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>I am developing an application on Spring Boot and I have two controllers that handle films and users. Both controllers have similar endpoints, and I would like to create an abstract class to simplify and scale my code.\nHere are the examples of controllers that I use:</p>\n<pre><code>@RestController\npublic class FilmController {\n  private static Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\n\n  @PostMapping(&quot;/film&quot;)\n  public Film addFilm(@RequestBody Film film) {\n      films.put(film.getId(), film);\n      return film;\n  }\n\n  @PutMapping(&quot;/film&quot;)\n  private Film updateFilm(@RequestBody Film film) {\n      films.put(film.getId(), film);\n      return film;\n  }\n\n  @GetMapping(&quot;/films&quot;)\n  private List&lt;Film&gt; getAllFilms() {\n      return new ArrayList&lt;&gt;(films.values());\n  }\n}\n</code></pre>\n<pre><code>public class UserController {\n  private static Map&lt;Integer, User&gt; users = new HashMap&lt;&gt;();\n\n  @PostMapping(&quot;/user&quot;)\n  private User createUser(@RequestBody User user) {\n      users.put(user.getId(), user);\n      return user;\n  }\n\n  @PutMapping(&quot;/user&quot;)\n  private User updateUser(@RequestBody User user) {\n      users.put(user.getId(), user);\n      return user;\n  }\n\n  @GetMapping(&quot;/users&quot;)\n  private List&lt;User&gt; getAllUsers() {\n      return new ArrayList&lt;&gt;(users.values());\n  }\n}\n\n</code></pre>\n<p>Can I use an abstract class with generics for this? If so, how can I do it?\nI would like to create an abstract class that will handle the common logic for these two controllers.\nCould you please explain to me, and what is better to use and why?</p>\n"},{"tags":["java","apache-spark","amazon-s3","avro","parquet"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1691484560,"post_id":47355038,"comment_id":135494445,"body_markdown":"The repository https://github.com/macalbert/WriteParquetJavaDemo contains a minimal example.","body":"The repository <a href=\"https://github.com/macalbert/WriteParquetJavaDemo\" rel=\"nofollow noreferrer\">github.com/macalbert/WriteParquetJavaDemo</a> contains a minimal example."}],"answers":[{"comments":[{"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"score":0,"creation_date":1562693020,"post_id":47355092,"comment_id":100453665,"body_markdown":"I was made aware that the decimal conversion code above does not work for negative values. Please keep that in mind!","body":"I was made aware that the decimal conversion code above does not work for negative values. Please keep that in mind!"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":2,"creation_date":1580221071,"post_id":47355092,"comment_id":106021216,"body_markdown":"Is there a way to avoid the rather heavy (and riddled with outdated dependencies) Hadoop?","body":"Is there a way to avoid the rather heavy (and riddled with outdated dependencies) Hadoop?"},{"owner":{"account_id":2070753,"reputation":1248,"user_id":1845302,"accept_rate":62,"display_name":"Dima Fomin"},"score":2,"creation_date":1580308931,"post_id":47355092,"comment_id":106055690,"body_markdown":"@Raphael I am looking for same - way without Hadoop. Just found this example - http://www.hydrogen18.com/blog/writing-parquet-records.html For me it works without Hadoop","body":"@Raphael I am looking for same - way without Hadoop. Just found this example - <a href=\"http://www.hydrogen18.com/blog/writing-parquet-records.html\" rel=\"nofollow noreferrer\">hydrogen18.com/blog/writing-parquet-records.html</a> For me it works without Hadoop"},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1584643300,"post_id":47355092,"comment_id":107506743,"body_markdown":"What about the hadoop dependencies in Linux?  Are they needed there?  What files would be needed?","body":"What about the hadoop dependencies in Linux?  Are they needed there?  What files would be needed?"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1630916282,"post_id":47355092,"comment_id":122075677,"body_markdown":"@DimaFomin could you explain how the example works without Hadoop? It imports Hadoop types (e.g. `org.apache.hadoop.fs.Path`) thus I was wondering which trick you did to run without Hadoop?","body":"@DimaFomin could you explain how the example works without Hadoop? It imports Hadoop types (e.g. <code>org.apache.hadoop.fs.Path</code>) thus I was wondering which trick you did to run without Hadoop?"},{"owner":{"account_id":2387621,"reputation":61,"user_id":2088250,"display_name":"user2088250"},"score":0,"creation_date":1690249387,"post_id":47355092,"comment_id":135323720,"body_markdown":"dependence of parquet on avro is the result of poor design","body":"dependence of parquet on avro is the result of poor design"},{"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"score":0,"creation_date":1690299649,"post_id":47355092,"comment_id":135332580,"body_markdown":"hence the disclaimer at the top","body":"hence the disclaimer at the top"}],"tags":[],"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"comment_count":7,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1539350734,"creation_date":1510935868,"answer_id":47355092,"question_id":47355038,"body_markdown":"*Disclaimer: The code samples below in no way represent best practices and are only presented as a rough how-to.*\r\n\r\n**Dependencies:**\r\n\r\n - parquet-avro (1.9.0) : https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0 (We use 1.9.0 because this version uses Avro 1.8+ which supports Decimals and Dates)\r\n - hadoop-aws (2.8.2) [If you don&#39;t plan on writing to S3 you won&#39;t need this but you will need to add several other dependencies that normally get added thanks to this. I will not cover that scenario. So even if you&#39;re going to generate Parquet files only on your local disk, you can still add this to your project as a dependency]: https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2 (We use this because it was the latest version at the time)\r\n - Hadoop 2.8.1: https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1 (We use 2.8.X because it needs to match the hadoop libraries used in the parquet-avro and hadoop-aws dependencies) \r\n\r\nI&#39;ll be using **NetBeans** as my IDE.\r\n\r\nSome info regarding parquet in Java (For noobs such as me):\r\n\r\n - In order to serialize your data into parquet, you must choose one of the popular Java data serialization frameworks: Avro, Protocol Buffers or Thrift (I&#39;ll be using Avro (1.8.0), as can be seen from our parquet-avro dependency)\r\n - You will need to use an IDE that supports Maven. This is because the dependencies above have a lot of dependencies of their own. Maven will automatically download those for you (like NuGet for VisualStudio)\r\n\r\n**Pre-requisite:**\r\n\r\nYou must have hadoop on the windows machine that will be running the Java code. The good news is you don&#39;t need to install the entire hadoop software, rather you need only two files:\r\n\r\n - hadoop.dll\r\n - winutils.exe \r\n\r\nThese can be downloaded [here][1]. You will need version 2.8.1 for this example (due to parquet-avro 1.9.0). \r\n\r\n 1. Copy these files to **C:\\hadoop-2.8.1\\bin** on the target machine.\r\n 2. Add a new System Variable (not user variable) called: **HADOOP_HOME** with the value **C:\\hadoop-2.8.1**\r\n\r\n    [![systemvariable][2]][2]\r\n\r\n 3. Modify the System **Path** variable (not user variable) and add the following to the end: **%HADOOP_HOME%\\bin**\r\n 4. Restart the machine for changes to take affect.\r\n\r\nIf this config was not done properly you will get the following error at run-time: `java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z`\r\n\r\n**Getting Started with Coding:**\r\n\r\n - First create a new empty Maven Project and add parquet-avro 1.9.0 and hadoop-aws 2.8.2 as dependencies:[![dependency][3]][3]\r\n - Create your main class where you can write some code\r\n - First thing is you need to generate a **Schema**. Now as far as I can tell there is no way you can generate a schema programmatically at run-time. the **Schema.Parser** class&#39; *parse()* method only takes a file or a string literal as a parameter and doesn&#39;t let you modify the schema once it is created.\r\nTo circumvent this I am generating my Schema JSON at run time and parsing that. Below is an example Schema:\r\n\r\n    &lt;pre&gt;&lt;code&gt;String schema = &quot;{\\&quot;namespace\\&quot;: \\&quot;org.myorganization.mynamespace\\&quot;,&quot; //Not used in Parquet, can put anything\r\n\t\t+ &quot;\\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot; //Must be set as record\r\n\t\t+ &quot;\\&quot;name\\&quot;: \\&quot;myrecordname\\&quot;,&quot; //Not used in Parquet, can put anything\r\n\t\t+ &quot;\\&quot;fields\\&quot;: [&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myInteger\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot;},&quot; //Required field\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myString\\&quot;,  \\&quot;type\\&quot;: [\\&quot;string\\&quot;, \\&quot;null\\&quot;]},&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myDecimal\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;logicalType\\&quot;: \\&quot;decimal\\&quot;, \\&quot;name\\&quot;: \\&quot;mydecimaltype1\\&quot;, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4}, \\&quot;null\\&quot;]},&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myDate\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;int\\&quot;, \\&quot;logicalType\\&quot; : \\&quot;date\\&quot;}, \\&quot;null\\&quot;]}&quot;\r\n\t\t+ &quot; ]}&quot;;\r\n    Parser parser = new Schema.Parser().setValidate(true);\r\n    Schema avroSchema = parser.parse(schema);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n    Details on Avro schema can be found here: https://avro.apache.org/docs/1.8.0/spec.html\r\n\r\n - Next we can start generating records (Avro primitive types are simple):\r\n\r\n    &lt;pre&gt;&lt;code&gt;GenericData.Record record = new GenericData.Record(avroSchema);\r\n    record.put(&quot;myInteger&quot;, 1);\r\n    record.put(&quot;myString&quot;, &quot;string value 1&quot;);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n- In order to generate a decimal logical type a **fixed** or **bytes** primitive type must be used as the actual data type for storage. The current Parquet format only supports Fixed length byte arrays (aka: `fixed_len_byte_array`). So we have to use **fixed** in our case as well (as can be seen in the schema). In Java we must use `BigDecimal` in order to truly handle decimals. And I&#39;ve identified that a `Decimal(32,4)` will not take more than 16 bytes no matter the value. So we will use a standard byte array size of 16 in our serialization below (and in the schema above):\r\n\r\n    &lt;pre&gt;&lt;code&gt;BigDecimal myDecimalValue = new BigDecimal(&quot;99.9999&quot;);\r\n    \r\n    //First we need to make sure the BigDecimal matches our schema scale:\r\n    myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\r\n    \r\n    //Next we get the decimal value as one BigInteger (like there was no decimal point)\r\n    BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\r\n    \r\n    //Finally we serialize the integer\r\n    byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\r\n    \r\n    //We need to create an Avro &#39;Fixed&#39; type and pass the decimal schema once more here:\r\n    GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(&quot;{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4, \\&quot;name\\&quot;:\\&quot;mydecimaltype1\\&quot;}&quot;));\r\n    \r\n    byte[] myDecimalBuffer = new byte[16];\r\n    if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \r\n\t\t//Because we set our fixed byte array size as 16 bytes, we need to\r\n\t\t//pad-left our original value&#39;s bytes with zeros\r\n\t\tint myDecimalBufferIndex = myDecimalBuffer.length - 1;\r\n\t\tfor(int i = decimalBytes.length - 1; i &gt;= 0; i--){\r\n\t\t\tmyDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\r\n\t\t\tmyDecimalBufferIndex--;\r\n\t\t}\r\n\t\t//Save result\r\n\t\tfixed.bytes(myDecimalBuffer);\r\n\t} else {\r\n\t\tthrow new IllegalArgumentException(String.format(&quot;Decimal size: %d was greater than the allowed max: %d&quot;, decimalBytes.length, myDecimalBuffer.length));\r\n\t}\r\n    \r\n    //We can finally write our decimal to our record\r\n    record.put(&quot;myDecimal&quot;, fixed);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n - For Date values, Avro specifies that we need to save the number of days since EPOCH as an integer. (If you need the time component as well, such as an actual DateTime type, you need to use the **Timestamp** Avro type, which I will not cover). \r\nThe easiest way I found to get the number of days since epoch is using the [joda-time][4] library. If you added the **hadoop-aws** dependency to your project you should already have this library. If not you will need to add it yourself:\r\n\r\n    &lt;pre&gt;&lt;code&gt;//Get epoch value\r\n    MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\r\n    \r\n    DateTime currentDate = new DateTime(); //Can take Java Date in constructor\r\n    Days days = Days.daysBetween(epoch, currentDate);\r\n    \r\n    //We can write number of days since epoch into the record\r\n    record.put(&quot;myDate&quot;, days.getDays());\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n - We finally can start writing our parquet file as such\r\n\r\n    &lt;pre&gt;&lt;code&gt;try {\r\n       Configuration conf = new Configuration();\r\n       conf.set(&quot;fs.s3a.access.key&quot;, &quot;ACCESSKEY&quot;);\r\n       conf.set(&quot;fs.s3a.secret.key&quot;, &quot;SECRETKEY&quot;);\r\n       //Below are some other helpful settings\r\n       //conf.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;);\r\n       //conf.set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider&quot;);\r\n       //conf.set(&quot;fs.hdfs.impl&quot;, org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\r\n       //conf.set(&quot;fs.file.impl&quot;, org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get &quot;No FileSystem for scheme: file&quot; errors\r\n    \r\n       Path path = new Path(&quot;s3a://your-bucket-name/examplefolder/data.parquet&quot;);\r\n    \r\n       //Use path below to save to local file system instead\r\n       //Path path = new Path(&quot;data.parquet&quot;);\r\n    \r\n       try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\r\n    \t\t   .withSchema(avroSchema)\r\n    \t\t   .withCompressionCodec(CompressionCodecName.GZIP)\r\n    \t\t   .withConf(conf)\r\n    \t\t   .withPageSize(4 * 1024 * 1024) //For compression\r\n    \t\t   .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\r\n    \t\t   .build()) {\r\n    \t   //We only have one record to write in our example\r\n    \t   writer.write(record);\r\n       }\r\n    } catch (Exception ex) { ex.printStackTrace(System.out); }&lt;/code&gt;&lt;/pre&gt;\r\n\r\n - Here is the data loaded into Apache Spark (2.2.0):\r\n [![spark][5]][5]\r\n\r\nAnd for your convenience, the entire source code:\r\n\r\n    \r\n    package com.mycompany.stackoverflow;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.math.RoundingMode;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericData;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.parquet.avro.AvroParquetWriter;\r\n    import org.apache.parquet.hadoop.ParquetWriter;\r\n    import org.apache.parquet.hadoop.metadata.CompressionCodecName;\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n    import org.joda.time.Days;\r\n    import org.joda.time.MutableDateTime;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Start&quot;);\r\n            \r\n            String schema = &quot;{\\&quot;namespace\\&quot;: \\&quot;org.myorganization.mynamespace\\&quot;,&quot; //Not used in Parquet, can put anything\r\n                    + &quot;\\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot; //Must be set as record\r\n                    + &quot;\\&quot;name\\&quot;: \\&quot;myrecordname\\&quot;,&quot; //Not used in Parquet, can put anything\r\n                    + &quot;\\&quot;fields\\&quot;: [&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myInteger\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot;},&quot; //Required field\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myString\\&quot;,  \\&quot;type\\&quot;: [\\&quot;string\\&quot;, \\&quot;null\\&quot;]},&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myDecimal\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;logicalType\\&quot;: \\&quot;decimal\\&quot;, \\&quot;name\\&quot;: \\&quot;mydecimaltype1\\&quot;, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4}, \\&quot;null\\&quot;]},&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myDate\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;int\\&quot;, \\&quot;logicalType\\&quot; : \\&quot;date\\&quot;}, \\&quot;null\\&quot;]}&quot;\r\n                    + &quot; ]}&quot;;\r\n            \r\n            Schema.Parser parser = new Schema.Parser().setValidate(true);\r\n            Schema avroSchema = parser.parse(schema);\r\n                    \r\n            GenericData.Record record = new GenericData.Record(avroSchema);\r\n            record.put(&quot;myInteger&quot;, 1);\r\n            record.put(&quot;myString&quot;, &quot;string value 1&quot;);\r\n            \r\n            BigDecimal myDecimalValue = new BigDecimal(&quot;99.9999&quot;);\r\n            \r\n            //First we need to make sure the huge decimal matches our schema scale:\r\n            myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\r\n            \r\n            //Next we get the decimal value as one BigInteger (like there was no decimal point)\r\n            BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\r\n            \r\n            //Finally we serialize the integer\r\n            byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\r\n            \r\n            //We need to create an Avro &#39;Fixed&#39; type and pass the decimal schema once more here:\r\n            GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(&quot;{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4, \\&quot;name\\&quot;:\\&quot;mydecimaltype1\\&quot;}&quot;));\r\n            \r\n            byte[] myDecimalBuffer = new byte[16];\r\n            if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \r\n                //Because we set our fixed byte array size as 16 bytes, we need to\r\n                //pad-left our original value&#39;s bytes with zeros\r\n                int myDecimalBufferIndex = myDecimalBuffer.length - 1;\r\n                for(int i = decimalBytes.length - 1; i &gt;= 0; i--){\r\n                    myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\r\n                    myDecimalBufferIndex--;\r\n                }\r\n                \r\n                //Save result\r\n                fixed.bytes(myDecimalBuffer);\r\n            } else {\r\n                throw new IllegalArgumentException(String.format(&quot;Decimal size: %d was greater than the allowed max: %d&quot;, decimalBytes.length, myDecimalBuffer.length));\r\n            }\r\n            \r\n            //We can finally write our decimal to our record\r\n            record.put(&quot;myDecimal&quot;, fixed);\r\n            \r\n            //Get epoch value\r\n            MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\r\n            \r\n            DateTime currentDate = new DateTime(); //Can take Java Date in constructor\r\n            Days days = Days.daysBetween(epoch, currentDate);\r\n            \r\n            //We can write number of days since epoch into the record\r\n            record.put(&quot;myDate&quot;, days.getDays());\r\n            \r\n            try {\r\n               Configuration conf = new Configuration();\r\n               conf.set(&quot;fs.s3a.access.key&quot;, &quot;ACCESSKEY&quot;);\r\n               conf.set(&quot;fs.s3a.secret.key&quot;, &quot;SECRETKEY&quot;);\r\n               //Below are some other helpful settings\r\n               //conf.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;);\r\n               //conf.set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider&quot;);\r\n               //conf.set(&quot;fs.hdfs.impl&quot;, org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\r\n               //conf.set(&quot;fs.file.impl&quot;, org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get &quot;No FileSystem for scheme: file&quot; errors.\r\n    \r\n               Path path = new Path(&quot;s3a://your-bucket-name/examplefolder/data.parquet&quot;);\r\n    \r\n               //Use path below to save to local file system instead\r\n               //Path path = new Path(&quot;data.parquet&quot;);\r\n    \r\n               try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\r\n                       .withSchema(avroSchema)\r\n                       .withCompressionCodec(CompressionCodecName.GZIP)\r\n                       .withConf(conf)\r\n                       .withPageSize(4 * 1024 * 1024) //For compression\r\n                       .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\r\n                       .build()) {\r\n    \r\n                   //We only have one record to write in our example\r\n                   writer.write(record);\r\n               }\r\n            } catch (Exception ex) { \r\n                ex.printStackTrace(System.out);\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\r\n  [2]: https://i.stack.imgur.com/Ci3Dc.png\r\n  [3]: https://i.stack.imgur.com/KXHFu.png\r\n  [4]: https://mvnrepository.com/artifact/joda-time/joda-time/2.9.4\r\n  [5]: https://i.stack.imgur.com/f8Xlv.png\r\n","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p><em>Disclaimer: The code samples below in no way represent best practices and are only presented as a rough how-to.</em></p>\n\n<p><strong>Dependencies:</strong></p>\n\n<ul>\n<li>parquet-avro (1.9.0) : <a href=\"https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0</a> (We use 1.9.0 because this version uses Avro 1.8+ which supports Decimals and Dates)</li>\n<li>hadoop-aws (2.8.2) [If you don't plan on writing to S3 you won't need this but you will need to add several other dependencies that normally get added thanks to this. I will not cover that scenario. So even if you're going to generate Parquet files only on your local disk, you can still add this to your project as a dependency]: <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2</a> (We use this because it was the latest version at the time)</li>\n<li>Hadoop 2.8.1: <a href=\"https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\" rel=\"noreferrer\">https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1</a> (We use 2.8.X because it needs to match the hadoop libraries used in the parquet-avro and hadoop-aws dependencies) </li>\n</ul>\n\n<p>I'll be using <strong>NetBeans</strong> as my IDE.</p>\n\n<p>Some info regarding parquet in Java (For noobs such as me):</p>\n\n<ul>\n<li>In order to serialize your data into parquet, you must choose one of the popular Java data serialization frameworks: Avro, Protocol Buffers or Thrift (I'll be using Avro (1.8.0), as can be seen from our parquet-avro dependency)</li>\n<li>You will need to use an IDE that supports Maven. This is because the dependencies above have a lot of dependencies of their own. Maven will automatically download those for you (like NuGet for VisualStudio)</li>\n</ul>\n\n<p><strong>Pre-requisite:</strong></p>\n\n<p>You must have hadoop on the windows machine that will be running the Java code. The good news is you don't need to install the entire hadoop software, rather you need only two files:</p>\n\n<ul>\n<li>hadoop.dll</li>\n<li>winutils.exe </li>\n</ul>\n\n<p>These can be downloaded <a href=\"https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\" rel=\"noreferrer\">here</a>. You will need version 2.8.1 for this example (due to parquet-avro 1.9.0). </p>\n\n<ol>\n<li>Copy these files to <strong>C:\\hadoop-2.8.1\\bin</strong> on the target machine.</li>\n<li><p>Add a new System Variable (not user variable) called: <strong>HADOOP_HOME</strong> with the value <strong>C:\\hadoop-2.8.1</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ci3Dc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ci3Dc.png\" alt=\"systemvariable\"></a></p></li>\n<li><p>Modify the System <strong>Path</strong> variable (not user variable) and add the following to the end: <strong>%HADOOP_HOME%\\bin</strong></p></li>\n<li>Restart the machine for changes to take affect.</li>\n</ol>\n\n<p>If this config was not done properly you will get the following error at run-time: <code>java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z</code></p>\n\n<p><strong>Getting Started with Coding:</strong></p>\n\n<ul>\n<li>First create a new empty Maven Project and add parquet-avro 1.9.0 and hadoop-aws 2.8.2 as dependencies:<a href=\"https://i.stack.imgur.com/KXHFu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KXHFu.png\" alt=\"dependency\"></a></li>\n<li>Create your main class where you can write some code</li>\n<li><p>First thing is you need to generate a <strong>Schema</strong>. Now as far as I can tell there is no way you can generate a schema programmatically at run-time. the <strong>Schema.Parser</strong> class' <em>parse()</em> method only takes a file or a string literal as a parameter and doesn't let you modify the schema once it is created.\nTo circumvent this I am generating my Schema JSON at run time and parsing that. Below is an example Schema:</p>\n\n<pre><code>String schema = \"{\\\"namespace\\\": \\\"org.myorganization.mynamespace\\\",\" //Not used in Parquet, can put anything\n    + \"\\\"type\\\": \\\"record\\\",\" //Must be set as record\n    + \"\\\"name\\\": \\\"myrecordname\\\",\" //Not used in Parquet, can put anything\n    + \"\\\"fields\\\": [\"\n    + \" {\\\"name\\\": \\\"myInteger\\\", \\\"type\\\": \\\"int\\\"},\" //Required field\n    + \" {\\\"name\\\": \\\"myString\\\",  \\\"type\\\": [\\\"string\\\", \\\"null\\\"]},\"\n    + \" {\\\"name\\\": \\\"myDecimal\\\", \\\"type\\\": [{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"logicalType\\\": \\\"decimal\\\", \\\"name\\\": \\\"mydecimaltype1\\\", \\\"precision\\\": 32, \\\"scale\\\": 4}, \\\"null\\\"]},\"\n    + \" {\\\"name\\\": \\\"myDate\\\", \\\"type\\\": [{\\\"type\\\": \\\"int\\\", \\\"logicalType\\\" : \\\"date\\\"}, \\\"null\\\"]}\"\n    + \" ]}\";\nParser parser = new Schema.Parser().setValidate(true);\nSchema avroSchema = parser.parse(schema);\n</code></pre>\n\n<p>Details on Avro schema can be found here: <a href=\"https://avro.apache.org/docs/1.8.0/spec.html\" rel=\"noreferrer\">https://avro.apache.org/docs/1.8.0/spec.html</a></p></li>\n<li><p>Next we can start generating records (Avro primitive types are simple):</p>\n\n<pre><code>GenericData.Record record = new GenericData.Record(avroSchema);\nrecord.put(\"myInteger\", 1);\nrecord.put(\"myString\", \"string value 1\");\n</code></pre>\n\n<ul>\n<li>In order to generate a decimal logical type a <strong>fixed</strong> or <strong>bytes</strong> primitive type must be used as the actual data type for storage. The current Parquet format only supports Fixed length byte arrays (aka: <code>fixed_len_byte_array</code>). So we have to use <strong>fixed</strong> in our case as well (as can be seen in the schema). In Java we must use <code>BigDecimal</code> in order to truly handle decimals. And I've identified that a <code>Decimal(32,4)</code> will not take more than 16 bytes no matter the value. So we will use a standard byte array size of 16 in our serialization below (and in the schema above):</li>\n</ul>\n\n<pre><code>BigDecimal myDecimalValue = new BigDecimal(\"99.9999\");\n\n//First we need to make sure the BigDecimal matches our schema scale:\nmyDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\n\n//Next we get the decimal value as one BigInteger (like there was no decimal point)\nBigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\n\n//Finally we serialize the integer\nbyte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\n\n//We need to create an Avro 'Fixed' type and pass the decimal schema once more here:\nGenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(\"{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"precision\\\": 32, \\\"scale\\\": 4, \\\"name\\\":\\\"mydecimaltype1\\\"}\"));\n\nbyte[] myDecimalBuffer = new byte[16];\nif (myDecimalBuffer.length >= decimalBytes.length) {            \n    //Because we set our fixed byte array size as 16 bytes, we need to\n    //pad-left our original value's bytes with zeros\n    int myDecimalBufferIndex = myDecimalBuffer.length - 1;\n    for(int i = decimalBytes.length - 1; i >= 0; i--){\n        myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\n        myDecimalBufferIndex--;\n    }\n    //Save result\n    fixed.bytes(myDecimalBuffer);\n} else {\n    throw new IllegalArgumentException(String.format(\"Decimal size: %d was greater than the allowed max: %d\", decimalBytes.length, myDecimalBuffer.length));\n}\n\n//We can finally write our decimal to our record\nrecord.put(\"myDecimal\", fixed);\n</code></pre></li>\n<li><p>For Date values, Avro specifies that we need to save the number of days since EPOCH as an integer. (If you need the time component as well, such as an actual DateTime type, you need to use the <strong>Timestamp</strong> Avro type, which I will not cover). \nThe easiest way I found to get the number of days since epoch is using the <a href=\"https://mvnrepository.com/artifact/joda-time/joda-time/2.9.4\" rel=\"noreferrer\">joda-time</a> library. If you added the <strong>hadoop-aws</strong> dependency to your project you should already have this library. If not you will need to add it yourself:</p>\n\n<pre><code>//Get epoch value\nMutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\n\nDateTime currentDate = new DateTime(); //Can take Java Date in constructor\nDays days = Days.daysBetween(epoch, currentDate);\n\n//We can write number of days since epoch into the record\nrecord.put(\"myDate\", days.getDays());\n</code></pre></li>\n<li><p>We finally can start writing our parquet file as such</p>\n\n<pre><code>try {\n   Configuration conf = new Configuration();\n   conf.set(\"fs.s3a.access.key\", \"ACCESSKEY\");\n   conf.set(\"fs.s3a.secret.key\", \"SECRETKEY\");\n   //Below are some other helpful settings\n   //conf.set(\"fs.s3a.endpoint\", \"s3.amazonaws.com\");\n   //conf.set(\"fs.s3a.aws.credentials.provider\", \"org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\");\n   //conf.set(\"fs.hdfs.impl\", org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\n   //conf.set(\"fs.file.impl\", org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get \"No FileSystem for scheme: file\" errors\n\n   Path path = new Path(\"s3a://your-bucket-name/examplefolder/data.parquet\");\n\n   //Use path below to save to local file system instead\n   //Path path = new Path(\"data.parquet\");\n\n   try (ParquetWriter writer = AvroParquetWriter.builder(path)\n           .withSchema(avroSchema)\n           .withCompressionCodec(CompressionCodecName.GZIP)\n           .withConf(conf)\n           .withPageSize(4 * 1024 * 1024) //For compression\n           .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\n           .build()) {\n       //We only have one record to write in our example\n       writer.write(record);\n   }\n} catch (Exception ex) { ex.printStackTrace(System.out); }</code></pre></li>\n<li><p>Here is the data loaded into Apache Spark (2.2.0):\n<a href=\"https://i.stack.imgur.com/f8Xlv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f8Xlv.png\" alt=\"spark\"></a></p></li>\n</ul>\n\n<p>And for your convenience, the entire source code:</p>\n\n<pre><code>package com.mycompany.stackoverflow;\n\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.math.RoundingMode;\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.avro.AvroParquetWriter;\nimport org.apache.parquet.hadoop.ParquetWriter;\nimport org.apache.parquet.hadoop.metadata.CompressionCodecName;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.Days;\nimport org.joda.time.MutableDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Start\");\n\n        String schema = \"{\\\"namespace\\\": \\\"org.myorganization.mynamespace\\\",\" //Not used in Parquet, can put anything\n                + \"\\\"type\\\": \\\"record\\\",\" //Must be set as record\n                + \"\\\"name\\\": \\\"myrecordname\\\",\" //Not used in Parquet, can put anything\n                + \"\\\"fields\\\": [\"\n                + \" {\\\"name\\\": \\\"myInteger\\\", \\\"type\\\": \\\"int\\\"},\" //Required field\n                + \" {\\\"name\\\": \\\"myString\\\",  \\\"type\\\": [\\\"string\\\", \\\"null\\\"]},\"\n                + \" {\\\"name\\\": \\\"myDecimal\\\", \\\"type\\\": [{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"logicalType\\\": \\\"decimal\\\", \\\"name\\\": \\\"mydecimaltype1\\\", \\\"precision\\\": 32, \\\"scale\\\": 4}, \\\"null\\\"]},\"\n                + \" {\\\"name\\\": \\\"myDate\\\", \\\"type\\\": [{\\\"type\\\": \\\"int\\\", \\\"logicalType\\\" : \\\"date\\\"}, \\\"null\\\"]}\"\n                + \" ]}\";\n\n        Schema.Parser parser = new Schema.Parser().setValidate(true);\n        Schema avroSchema = parser.parse(schema);\n\n        GenericData.Record record = new GenericData.Record(avroSchema);\n        record.put(\"myInteger\", 1);\n        record.put(\"myString\", \"string value 1\");\n\n        BigDecimal myDecimalValue = new BigDecimal(\"99.9999\");\n\n        //First we need to make sure the huge decimal matches our schema scale:\n        myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\n\n        //Next we get the decimal value as one BigInteger (like there was no decimal point)\n        BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\n\n        //Finally we serialize the integer\n        byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\n\n        //We need to create an Avro 'Fixed' type and pass the decimal schema once more here:\n        GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(\"{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"precision\\\": 32, \\\"scale\\\": 4, \\\"name\\\":\\\"mydecimaltype1\\\"}\"));\n\n        byte[] myDecimalBuffer = new byte[16];\n        if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \n            //Because we set our fixed byte array size as 16 bytes, we need to\n            //pad-left our original value's bytes with zeros\n            int myDecimalBufferIndex = myDecimalBuffer.length - 1;\n            for(int i = decimalBytes.length - 1; i &gt;= 0; i--){\n                myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\n                myDecimalBufferIndex--;\n            }\n\n            //Save result\n            fixed.bytes(myDecimalBuffer);\n        } else {\n            throw new IllegalArgumentException(String.format(\"Decimal size: %d was greater than the allowed max: %d\", decimalBytes.length, myDecimalBuffer.length));\n        }\n\n        //We can finally write our decimal to our record\n        record.put(\"myDecimal\", fixed);\n\n        //Get epoch value\n        MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\n\n        DateTime currentDate = new DateTime(); //Can take Java Date in constructor\n        Days days = Days.daysBetween(epoch, currentDate);\n\n        //We can write number of days since epoch into the record\n        record.put(\"myDate\", days.getDays());\n\n        try {\n           Configuration conf = new Configuration();\n           conf.set(\"fs.s3a.access.key\", \"ACCESSKEY\");\n           conf.set(\"fs.s3a.secret.key\", \"SECRETKEY\");\n           //Below are some other helpful settings\n           //conf.set(\"fs.s3a.endpoint\", \"s3.amazonaws.com\");\n           //conf.set(\"fs.s3a.aws.credentials.provider\", \"org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\");\n           //conf.set(\"fs.hdfs.impl\", org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\n           //conf.set(\"fs.file.impl\", org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get \"No FileSystem for scheme: file\" errors.\n\n           Path path = new Path(\"s3a://your-bucket-name/examplefolder/data.parquet\");\n\n           //Use path below to save to local file system instead\n           //Path path = new Path(\"data.parquet\");\n\n           try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\n                   .withSchema(avroSchema)\n                   .withCompressionCodec(CompressionCodecName.GZIP)\n                   .withConf(conf)\n                   .withPageSize(4 * 1024 * 1024) //For compression\n                   .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\n                   .build()) {\n\n               //We only have one record to write in our example\n               writer.write(record);\n           }\n        } catch (Exception ex) { \n            ex.printStackTrace(System.out);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700135317,"creation_date":1700135317,"answer_id":77494542,"question_id":47355038,"body_markdown":"I&#39;ve spent some time with this approach and I have found an alternative approach using [DuckDB][1]. It is creating an in-memory table and exports it to a parquet file.\r\n\r\nDependencies (that&#39;s it!)\r\n```groovy\r\nimplementation &#39;org.duckdb:duckdb_jdbc:0.9.2&#39;\r\n```\r\n\r\nCode example (simplest possible):\r\n```java\r\n        Connection conn = DriverManager.getConnection(&quot;jdbc:duckdb:&quot;);\r\n        try(Statement stmt = conn.createStatement()) {\r\n            stmt.execute(&quot;CREATE TABLE items (item VARCHAR, value DECIMAL(10, 2), count INTEGER)&quot;);\r\n            stmt.execute(&quot;INSERT INTO items VALUES (&#39;jeans&#39;, 20.0, 1), (&#39;hammer&#39;, 42.2, 2)&quot;);\r\n            stmt.execute(&quot;COPY items TO &#39;output2.parquet&#39; (FORMAT PARQUET);&quot;);\r\n        }\r\n```\r\n\r\nUploading a file to s3 should be easy, but there is a [built-in support in DuckDB as well][2].\r\n\r\n\r\n  [1]: https://duckdb.org/\r\n  [2]: https://duckdb.org/docs/archive/0.9.2/guides/import/s3_export","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p>I've spent some time with this approach and I have found an alternative approach using <a href=\"https://duckdb.org/\" rel=\"nofollow noreferrer\">DuckDB</a>. It is creating an in-memory table and exports it to a parquet file.</p>\n<p>Dependencies (that's it!)</p>\n<pre><code>implementation 'org.duckdb:duckdb_jdbc:0.9.2'\n</code></pre>\n<p>Code example (simplest possible):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Connection conn = DriverManager.getConnection(&quot;jdbc:duckdb:&quot;);\n        try(Statement stmt = conn.createStatement()) {\n            stmt.execute(&quot;CREATE TABLE items (item VARCHAR, value DECIMAL(10, 2), count INTEGER)&quot;);\n            stmt.execute(&quot;INSERT INTO items VALUES ('jeans', 20.0, 1), ('hammer', 42.2, 2)&quot;);\n            stmt.execute(&quot;COPY items TO 'output2.parquet' (FORMAT PARQUET);&quot;);\n        }\n</code></pre>\n<p>Uploading a file to s3 should be easy, but there is a <a href=\"https://duckdb.org/docs/archive/0.9.2/guides/import/s3_export\" rel=\"nofollow noreferrer\">built-in support in DuckDB as well</a>.</p>\n"}],"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23853,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47355092,"answer_count":2,"score":10,"last_activity_date":1700135317,"creation_date":1510935677,"question_id":47355038,"body_markdown":"I recently had a requirement where I needed to generate Parquet files that could be read by Apache Spark using only Java (Using no additional software installations such as: Apache Drill, Hive, Spark, etc.). The files needed to be saved to S3 so I will be sharing details on how to do both.\r\n\r\nThere were no simple to follow guides on how to do this. I&#39;m also not a Java programmer so the concepts of using Maven, Hadoop, etc. were all foreign to me. So it took me nearly two weeks to get this working. I&#39;d like to share my personal guide below on how I achieved this\r\n","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p>I recently had a requirement where I needed to generate Parquet files that could be read by Apache Spark using only Java (Using no additional software installations such as: Apache Drill, Hive, Spark, etc.). The files needed to be saved to S3 so I will be sharing details on how to do both.</p>\n\n<p>There were no simple to follow guides on how to do this. I'm also not a Java programmer so the concepts of using Maven, Hadoop, etc. were all foreign to me. So it took me nearly two weeks to get this working. I'd like to share my personal guide below on how I achieved this</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700139055,"post_id":77494391,"comment_id":136619394,"body_markdown":"Calling `setAccessible(true)` on a `Field` only affects that `Field` object and attempts to access the underlying field through that object. It does not magically make the field generally accessible.","body":"Calling <code>setAccessible(true)</code> on a <code>Field</code> only affects that <code>Field</code> object and attempts to access the underlying field through that object. It does not magically make the field generally accessible."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700168173,"post_id":77494483,"comment_id":136624812,"body_markdown":"In fact, I’m pretty sure such reflection will not work on modules in any version of Java that supports modules (9 and up).","body":"In fact, I’m pretty sure such reflection will not work on modules in any version of Java that supports modules (9 and up)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700134653,"creation_date":1700134653,"answer_id":77494483,"question_id":77494391,"body_markdown":"Yes, that means your code will not work on any modularized (as in, `module-info.java`, that specific kind of modularized) system running on JVM21 and up.\r\n\r\nIf module A does not expose some element to module B (usually because it doesn&#39;t export that at all, possibly because A only exports it to an explicitly enumerated list of modules), then `.setAccessible` doesn&#39;t work, and nothing will short of `--add-opens` switches when starting `java`.\r\n\r\nMore generally &#39;print all fields of an object&#39; is breaking encapsulation rules that you shouldn&#39;t be breaking - java is not that kind of language. If you want to &#39;print an object&#39;, then the class definition (the `.java` source file containing the `public class Foo` definition representing that class) needs to have a method that does that. If it does not have that method you will have to edit that source file to add it, and if you can&#39;t do that, then you will have to live with it.\r\n\r\nIf the purpose is specifically debugging, you might be better off using the debugger infrastructure (JVMTI - you can search the web for that, or load as an agent, &#39;java agent&#39; is also searchable for tutorials). You&#39;d need completely different code for that, you don&#39;t, generally, use reflection in agents.\r\n","title":"Any issue in setting the accessiblilty of java.lang.reflect Field to true?","body":"<p>Yes, that means your code will not work on any modularized (as in, <code>module-info.java</code>, that specific kind of modularized) system running on JVM21 and up.</p>\n<p>If module A does not expose some element to module B (usually because it doesn't export that at all, possibly because A only exports it to an explicitly enumerated list of modules), then <code>.setAccessible</code> doesn't work, and nothing will short of <code>--add-opens</code> switches when starting <code>java</code>.</p>\n<p>More generally 'print all fields of an object' is breaking encapsulation rules that you shouldn't be breaking - java is not that kind of language. If you want to 'print an object', then the class definition (the <code>.java</code> source file containing the <code>public class Foo</code> definition representing that class) needs to have a method that does that. If it does not have that method you will have to edit that source file to add it, and if you can't do that, then you will have to live with it.</p>\n<p>If the purpose is specifically debugging, you might be better off using the debugger infrastructure (JVMTI - you can search the web for that, or load as an agent, 'java agent' is also searchable for tutorials). You'd need completely different code for that, you don't, generally, use reflection in agents.</p>\n"}],"owner":{"account_id":29198739,"reputation":25,"user_id":22369313,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77494483,"answer_count":1,"score":0,"last_activity_date":1700134653,"creation_date":1700133700,"question_id":77494391,"body_markdown":"I&#39;m trying to write a generic function to print the individual fields of any object. I&#39;m using java.lang.reflect.Field to get the individual fields in the onject. However the code only works if I set the **accessible** property of that field to true, as highlighted in the code below. My only concern is, would this lead to any issue anywhere else where I&#39;m using the object?\r\n```\r\nField[] fields = MyClass.class.getDeclaredFields();\r\nfor(Field field : fields) {\r\n    try {\r\n        field.setAccessible(true); // Would this lead to any issue anywhere else?\r\n        Object obj = field.get(m); // m is a sample object of MyClass\r\n        System.out.println(&quot;Object: &quot; + obj);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Illegal Access Exception : &quot; + e);\r\n    }\r\n}\r\n```","title":"Any issue in setting the accessiblilty of java.lang.reflect Field to true?","body":"<p>I'm trying to write a generic function to print the individual fields of any object. I'm using java.lang.reflect.Field to get the individual fields in the onject. However the code only works if I set the <strong>accessible</strong> property of that field to true, as highlighted in the code below. My only concern is, would this lead to any issue anywhere else where I'm using the object?</p>\n<pre><code>Field[] fields = MyClass.class.getDeclaredFields();\nfor(Field field : fields) {\n    try {\n        field.setAccessible(true); // Would this lead to any issue anywhere else?\n        Object obj = field.get(m); // m is a sample object of MyClass\n        System.out.println(&quot;Object: &quot; + obj);\n    } catch (Exception e) {\n        System.out.println(&quot;Illegal Access Exception : &quot; + e);\n    }\n}\n</code></pre>\n"},{"tags":["java","html","tinymce","wicket"],"owner":{"account_id":22093497,"reputation":1,"user_id":16351203,"display_name":"chadouhoney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700133334,"creation_date":1700133334,"question_id":77494353,"body_markdown":"I have a class, let&#39;s say MyRichTextEditor that becomes enriched via TinyMCESettings.\r\n\r\nIside a form, there are 2 fields that use MyRichEditor components. When submitting the form, I want to repaint these components using the addOrReplace() method.  However, after the ajax request, no rich text is on the page. Instead, the initial textArea fields are shown.\r\n\r\n\r\nMyRichEditorClass.java\r\n```\r\npublic class MyRichTextEditor extends TextArea&lt;String&gt; {\r\n\r\n\tprotected TinyMCESettings settings;\r\n\tprivate boolean showToolbar;\r\n\tprivate boolean readOnly;\r\n\r\n\tpublic MyRichTextEditor(String id, boolean showToolbar, boolean readOnly) {\r\n\r\n\t\tsuper(id);\r\n\t\tthis.showToolbar = showToolbar;\r\n\t\tthis.readOnly = readOnly;\r\n\t\tsettings = new TinyMCESettings(TinyMCESettings.Theme.modern);\r\n\t\tsettings.addCustomSetting(&quot;content_style: \\&quot;body { font-family: Verdana,sans-serif; font-size: 15px; }\\&quot;&quot;);\r\n\t\taddSettings();\r\n\t\tadd(new TinyMceBehavior(settings));\r\n\r\n\t}\r\n\r\n\tpublic MyRichTextEditor(String id) {\r\n\r\n\t\tthis(id, true, false);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onInitialize() {\r\n\r\n\t\tsuper.onInitialize();\r\n\t\tadd(AttributeAppender.append(&quot;class&quot;, &quot;my-rich-text-editor&quot;));\r\n\t\tif (getModelObject() == null) {\r\n\t\t\tsetModelObject(&quot;Insert your text here&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected void addSettings() {\r\n\r\n\t\tsettings.setMenuBar(false);\r\n\t\tsettings.addCustomSetting(&quot;force_p_newlines : true&quot;);\r\n\t\tsettings.addCustomSetting(&quot;force_br_newlines : true&quot;);\r\n\t\tsettings.addCustomSetting(&quot;convert_newlines_to_brs : false&quot;);\r\n\t\tsettings.addCustomSetting(&quot;remove_linebreaks : true&quot;);\r\n\r\n\t\tif (showToolbar) {\r\n\t\t\t//@formatter:off\r\n\t\t\t\tString plugins = &quot;advlist autolink autosave link image lists charmap print preview hr anchor pagebreak &quot;\r\n\t\t\t\t\t\t+ &quot;searchreplace  visualblocks visualchars code fullscreen insertdatetime &quot;\r\n\t\t\t\t\t\t+ &quot;table contextmenu directionality emoticons template textcolor paste fullpage colorpicker&quot;;\r\n\r\n\t\t\t\t// @formatter:on  \r\n\t\t\tString[] pluginNames = plugins.split(&quot; &quot;);\r\n\r\n\t\t\tfor (String name : pluginNames) {\r\n\t\t\t\tsettings.addPlugins(name);\r\n\t\t\t}\r\n\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar1&quot;,\r\n\t\t\t\t\t&quot;newdocument | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect&quot;));\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar2&quot;,\r\n\t\t\t\t\t&quot;cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor code | inserttime preview | forecolor backcolor&quot;));\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar3&quot;,\r\n\t\t\t\t\t&quot;table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | nonbreaking  restoredraft&quot;));\r\n\r\n\t\t\tsettings.addCustomSetting(&quot;readonly : &quot; + (readOnly ? &quot;1&quot; : &quot;0&quot;));\r\n\r\n\t\t} else {\r\n\t\t\tsettings.addCustomSetting(&quot;readonly:1&quot;);\r\n\t\t\tsettings.addCustomSetting(&quot;toolbar:false&quot;);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMyPanel.html\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\r\n&lt;body&gt;\r\n&lt;wicket:panel&gt;\r\n    &lt;wicket:extend&gt;\r\n        &lt;form wicket:id=&quot;form&quot;&gt;\r\n\r\n            .\r\n            .\r\n            .\r\n\r\n            \r\n            &lt;wicket:label for=&quot;description&quot;&gt;Request Description&lt;/wicket:label&gt;\r\n            &lt;textarea wicket:id=&quot;description&quot;&gt;&lt;/textarea&gt;\r\n           \r\n\r\n                \r\n            &lt;wicket:label for=&quot;response&quot;&gt;Response&lt;/wicket:label&gt;\r\n            &lt;textarea wicket:id=&quot;response&quot;&gt;&lt;/textarea&gt;\r\n                \r\n\r\n\r\n            .\r\n            .\r\n            .\r\n\r\n        &lt;/form&gt;\r\n\r\n\r\n    &lt;/wicket:extend&gt;\r\n&lt;/wicket:panel&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMyPanel.java\r\n\r\n```\r\nclass EpikAitimaKentrikisDiacheirisisPanel extends ...{\r\n\r\n\t...\r\n\r\n\tTextArea&lt;String&gt; description, response;\r\n\r\n\r\n\tAjaxSubmitLink btnSave;\r\n\r\n\t\r\n\t@Override\r\n\tprotected void onInitialize() {\r\n\r\n\t\tsuper.onInitialize();\r\n\r\n\t\tform = new CompoundPropertyModelForm&lt;&gt;(&quot;form&quot;, modelObject);\r\n\t\tadd(form);\r\n\r\n                ...\r\n\r\n\t\tpaintDescriptionAndResponseComponents();\r\n\r\n\t\t\r\n\r\n\t\tbtnSave = new AjaxSubmitLink(&quot;btnSave&quot;){\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void οnSubmit(AjaxRequestTarget target) {\r\n\r\n\t\t\t\tbtnSaveOnSubmit(target);\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tbtnSave.add(new TinyMceAjaxSubmitModifier());\r\n\t\tform.add(btnSave);\r\n\r\n\t}\r\n\r\n\tprivate void btnSaveOnSubmit(AjaxRequestTarget target) {\r\n\r\n\t\tform.getModelObject().setDescription(org.springframework.web.util.HtmlUtils.htmlUnescape(description.getModelObject()));\r\n\r\n\t\t//save form.getModelObject\r\n                //reload saved object\r\n\r\n\t\tpaintDescriptionAndResponseComponents();\r\n\r\n\t\ttarget.add(form);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tprivate void paintDescriptionAndResponseComponents() {\r\n\r\n\t\tdescription= new MyRichTextEditor(&quot;description&quot;, showDescriptionToolbar(), descriptionReadOnly());\r\n\t\tdescription.add(Validators.required());\r\n\t\tdescription.setOutputMarkupPlaceholderTag(true);\r\n\t\tform.addOrReplace(description);\r\n\r\n\t\tresponse= new MyRichTextEditor(&quot;response&quot;, showResponseToolbar(), responseReadOnly());\r\n\t\tresponse.setOutputMarkupPlaceholderTag(true);\r\n\t\tresponse.add(Validators.required());\r\n\t\tform.addOrReplace(response);\r\n\r\n\t}\r\n\r\n\tprivate boolean reponseReadOnly() {\r\n\r\n\t\t...\r\n\t}\r\n\r\n\tprivate boolean showResponseToolbar() {\r\n\r\n\t\t...\r\n\t}\r\n\r\n\tprivate boolean descriptionReadOnly() {\r\n\r\n\t\t...\r\n\r\n\t}\r\n\r\n\tprivate boolean showDescriptionToolbar() {\r\n\r\n\t\t...\r\n\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Problem with TinyMCE on Wicket when using addOrReplace","body":"<p>I have a class, let's say MyRichTextEditor that becomes enriched via TinyMCESettings.</p>\n<p>Iside a form, there are 2 fields that use MyRichEditor components. When submitting the form, I want to repaint these components using the addOrReplace() method.  However, after the ajax request, no rich text is on the page. Instead, the initial textArea fields are shown.</p>\n<p>MyRichEditorClass.java</p>\n<pre><code>public class MyRichTextEditor extends TextArea&lt;String&gt; {\n\n    protected TinyMCESettings settings;\n    private boolean showToolbar;\n    private boolean readOnly;\n\n    public MyRichTextEditor(String id, boolean showToolbar, boolean readOnly) {\n\n        super(id);\n        this.showToolbar = showToolbar;\n        this.readOnly = readOnly;\n        settings = new TinyMCESettings(TinyMCESettings.Theme.modern);\n        settings.addCustomSetting(&quot;content_style: \\&quot;body { font-family: Verdana,sans-serif; font-size: 15px; }\\&quot;&quot;);\n        addSettings();\n        add(new TinyMceBehavior(settings));\n\n    }\n\n    public MyRichTextEditor(String id) {\n\n        this(id, true, false);\n\n    }\n\n    @Override\n    protected void onInitialize() {\n\n        super.onInitialize();\n        add(AttributeAppender.append(&quot;class&quot;, &quot;my-rich-text-editor&quot;));\n        if (getModelObject() == null) {\n            setModelObject(&quot;Insert your text here&quot;);\n        }\n\n    }\n\n    protected void addSettings() {\n\n        settings.setMenuBar(false);\n        settings.addCustomSetting(&quot;force_p_newlines : true&quot;);\n        settings.addCustomSetting(&quot;force_br_newlines : true&quot;);\n        settings.addCustomSetting(&quot;convert_newlines_to_brs : false&quot;);\n        settings.addCustomSetting(&quot;remove_linebreaks : true&quot;);\n\n        if (showToolbar) {\n            //@formatter:off\n                String plugins = &quot;advlist autolink autosave link image lists charmap print preview hr anchor pagebreak &quot;\n                        + &quot;searchreplace  visualblocks visualchars code fullscreen insertdatetime &quot;\n                        + &quot;table contextmenu directionality emoticons template textcolor paste fullpage colorpicker&quot;;\n\n                // @formatter:on  \n            String[] pluginNames = plugins.split(&quot; &quot;);\n\n            for (String name : pluginNames) {\n                settings.addPlugins(name);\n            }\n\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar1&quot;,\n                    &quot;newdocument | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect&quot;));\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar2&quot;,\n                    &quot;cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor code | inserttime preview | forecolor backcolor&quot;));\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar3&quot;,\n                    &quot;table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | nonbreaking  restoredraft&quot;));\n\n            settings.addCustomSetting(&quot;readonly : &quot; + (readOnly ? &quot;1&quot; : &quot;0&quot;));\n\n        } else {\n            settings.addCustomSetting(&quot;readonly:1&quot;);\n            settings.addCustomSetting(&quot;toolbar:false&quot;);\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>MyPanel.html</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\n&lt;body&gt;\n&lt;wicket:panel&gt;\n    &lt;wicket:extend&gt;\n        &lt;form wicket:id=&quot;form&quot;&gt;\n\n            .\n            .\n            .\n\n            \n            &lt;wicket:label for=&quot;description&quot;&gt;Request Description&lt;/wicket:label&gt;\n            &lt;textarea wicket:id=&quot;description&quot;&gt;&lt;/textarea&gt;\n           \n\n                \n            &lt;wicket:label for=&quot;response&quot;&gt;Response&lt;/wicket:label&gt;\n            &lt;textarea wicket:id=&quot;response&quot;&gt;&lt;/textarea&gt;\n                \n\n\n            .\n            .\n            .\n\n        &lt;/form&gt;\n\n\n    &lt;/wicket:extend&gt;\n&lt;/wicket:panel&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>MyPanel.java</p>\n<pre><code>class EpikAitimaKentrikisDiacheirisisPanel extends ...{\n\n    ...\n\n    TextArea&lt;String&gt; description, response;\n\n\n    AjaxSubmitLink btnSave;\n\n    \n    @Override\n    protected void onInitialize() {\n\n        super.onInitialize();\n\n        form = new CompoundPropertyModelForm&lt;&gt;(&quot;form&quot;, modelObject);\n        add(form);\n\n                ...\n\n        paintDescriptionAndResponseComponents();\n\n        \n\n        btnSave = new AjaxSubmitLink(&quot;btnSave&quot;){\n\n            @Override\n            protected void οnSubmit(AjaxRequestTarget target) {\n\n                btnSaveOnSubmit(target);\n\n            }\n\n        };\n        btnSave.add(new TinyMceAjaxSubmitModifier());\n        form.add(btnSave);\n\n    }\n\n    private void btnSaveOnSubmit(AjaxRequestTarget target) {\n\n        form.getModelObject().setDescription(org.springframework.web.util.HtmlUtils.htmlUnescape(description.getModelObject()));\n\n        //save form.getModelObject\n                //reload saved object\n\n        paintDescriptionAndResponseComponents();\n\n        target.add(form);\n\n    }\n\n    \n\n    private void paintDescriptionAndResponseComponents() {\n\n        description= new MyRichTextEditor(&quot;description&quot;, showDescriptionToolbar(), descriptionReadOnly());\n        description.add(Validators.required());\n        description.setOutputMarkupPlaceholderTag(true);\n        form.addOrReplace(description);\n\n        response= new MyRichTextEditor(&quot;response&quot;, showResponseToolbar(), responseReadOnly());\n        response.setOutputMarkupPlaceholderTag(true);\n        response.add(Validators.required());\n        form.addOrReplace(response);\n\n    }\n\n    private boolean reponseReadOnly() {\n\n        ...\n    }\n\n    private boolean showResponseToolbar() {\n\n        ...\n    }\n\n    private boolean descriptionReadOnly() {\n\n        ...\n\n    }\n\n    private boolean showDescriptionToolbar() {\n\n        ...\n\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","android","charts","anychart"],"owner":{"account_id":29917113,"reputation":1,"user_id":22927088,"display_name":"Carlos Bessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700133154,"creation_date":1700133154,"question_id":77494327,"body_markdown":"I have a chart made with AnyChart library in Android and iOS. The problem is, the only scroller available is a bar that is shown under the chart. That is not very user friendly. Is there a way to scroll the chart (x-axis), with the touch in the screen? I really need to make this work as fast as possible.\r\n\r\nThis are the settings I inserted to zoom my chart, to not appear all the info on top of each other, and to not be shown the zoom under the chart in the x axis.\r\n\r\n```\r\ncartesian.xScroller().allowRangeChange(false);\r\ncartesian.xScroller().thumbs().enabled(false);\r\ncartesian.xZoom(true);\r\ncartesian.xZoom(2);\r\n```","title":"AnyChart Bar Graph with scroll in Mobile (Android or iOS)?","body":"<p>I have a chart made with AnyChart library in Android and iOS. The problem is, the only scroller available is a bar that is shown under the chart. That is not very user friendly. Is there a way to scroll the chart (x-axis), with the touch in the screen? I really need to make this work as fast as possible.</p>\n<p>This are the settings I inserted to zoom my chart, to not appear all the info on top of each other, and to not be shown the zoom under the chart in the x axis.</p>\n<pre><code>cartesian.xScroller().allowRangeChange(false);\ncartesian.xScroller().thumbs().enabled(false);\ncartesian.xZoom(true);\ncartesian.xZoom(2);\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","environment-variables","bitbucket-pipelines"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700133165,"post_id":77494299,"comment_id":136618397,"body_markdown":"If it is an environment variable it will be automatically bound to `admin.password` youi don&#39;t need to do anything for that. However if you are running your app elsewere then on bitbucket this variable will not be present.","body":"If it is an environment variable it will be automatically bound to <code>admin.password</code> youi don&#39;t need to do anything for that. However if you are running your app elsewere then on bitbucket this variable will not be present."},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1700133318,"post_id":77494299,"comment_id":136618424,"body_markdown":"It is running only on Bitbucket, but it still does not work\nMaybe i need to pass it somehow from repository to environment ?","body":"It is running only on Bitbucket, but it still does not work Maybe i need to pass it somehow from repository to environment ?"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700132792,"creation_date":1700132792,"question_id":77494299,"body_markdown":"I have a repository variable called ADMIN_PASSWORD in bitbucket and I want to use it inside my Spring Boot application\r\n\r\nBut if I refer to it in application.yaml \r\n```\r\nadmin:\r\n  login: root\r\n  password: ${ADMIN_PASSWORD}\r\n```\r\nOr just inside my service like this \r\n```\r\n    @Value(&quot;${admin.password}&quot;)\r\n    private String adminPassword;\r\n```\r\nI will have this error\r\n\r\n```\r\nError creating bean with name &#39;adminUtil&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;ADMIN_PASSWORD&#39; in value &quot;${ADMIN_PASSWORD}&quot;\r\n```\r\nI also tried to add script to step in bitbucket-pipelines.yaml and then executing file\r\n```\r\n- echo &#39;export ADMIN_PASSWORD=$ADMIN_PASSWORD&#39; &gt; build.env\r\n- &#39;[ -e ./build.env ] &amp;&amp; . ./build.env&#39;\r\n```\r\nBut nothing of these worked\r\n\r\n","title":"Bitbucket repository variable in Spring Boot","body":"<p>I have a repository variable called ADMIN_PASSWORD in bitbucket and I want to use it inside my Spring Boot application</p>\n<p>But if I refer to it in application.yaml</p>\n<pre><code>admin:\n  login: root\n  password: ${ADMIN_PASSWORD}\n</code></pre>\n<p>Or just inside my service like this</p>\n<pre><code>    @Value(&quot;${admin.password}&quot;)\n    private String adminPassword;\n</code></pre>\n<p>I will have this error</p>\n<pre><code>Error creating bean with name 'adminUtil': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'ADMIN_PASSWORD' in value &quot;${ADMIN_PASSWORD}&quot;\n</code></pre>\n<p>I also tried to add script to step in bitbucket-pipelines.yaml and then executing file</p>\n<pre><code>- echo 'export ADMIN_PASSWORD=$ADMIN_PASSWORD' &gt; build.env\n- '[ -e ./build.env ] &amp;&amp; . ./build.env'\n</code></pre>\n<p>But nothing of these worked</p>\n"},{"tags":["java","thrift"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699809694,"post_id":77469550,"comment_id":136575041,"body_markdown":"In Java, I do not know thrift, you are not supposed to extend `Enum` (assuming Java&#39;s standard class), but you declare an enumeration class: `public enum B  { A, B }` or even `public enum B implements TEnum { A(1), B(5); ... }` - see the corresponding official tutorial [Enum Types](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) or Java Language Specification [8.9. Enum Classes](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.9)","body":"In Java, I do not know thrift, you are not supposed to extend <code>Enum</code> (assuming Java&#39;s standard class), but you declare an enumeration class: <code>public enum B  { A, B }</code> or even <code>public enum B implements TEnum { A(1), B(5); ... }</code> - see the corresponding official tutorial <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Enum Types</a> or Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">8.9. Enum Classes</a>"},{"owner":{"account_id":29885478,"reputation":1,"user_id":22903115,"display_name":"y0an11"},"score":0,"creation_date":1699839704,"post_id":77469550,"comment_id":136577766,"body_markdown":"In thrift framework, enum definition is an integer value, but I need to define multiple integer values of an enum type. For example in the java structure\n```java\n#java\npublic enum A implement TEnum {\n   a(1,1),\n   b(2,3);\n   int ord;\n   int val;\n   public A(int ord, int val) {\n     this.ord=ord;\n     this.val=val;\n   }\n}\n````\nSorry, my English is not good","body":"In thrift framework, enum definition is an integer value, but I need to define multiple integer values of an enum type. For example in the java structure ```java #java public enum A implement TEnum {    a(1,1),    b(2,3);    int ord;    int val;    public A(int ord, int val) {      this.ord=ord;      this.val=val;    } } ```` Sorry, my English is not good"}],"answers":[{"tags":[],"owner":{"account_id":670047,"reputation":13263,"user_id":499466,"display_name":"JensG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700132718,"creation_date":1700132718,"answer_id":77494296,"question_id":77469550,"body_markdown":"In Thrift an enum is simply an integer. It&#39;s not possible to have more complex structures on top of it. \r\n\r\n\r\n     enum Foo {\r\n          Bar = 0\r\n          Baz = 1\r\n          AnswerToEverythingEtc = 42     \r\n     }\r\n\r\n\r\nRemember that Thrift is compatible to 20+ target languages and dialects and most environments do not have the capability to do such stuff like having two values on an enum. To model that with Thrift consider using a struct\r\n\r\n\r\n     struct TwoValues {\r\n          1: i32 ord\r\n          2: i32 val\r\n     }","title":"How should multiple value thrift of Java enumeration class be defined?","body":"<p>In Thrift an enum is simply an integer. It's not possible to have more complex structures on top of it.</p>\n<pre><code> enum Foo {\n      Bar = 0\n      Baz = 1\n      AnswerToEverythingEtc = 42     \n }\n</code></pre>\n<p>Remember that Thrift is compatible to 20+ target languages and dialects and most environments do not have the capability to do such stuff like having two values on an enum. To model that with Thrift consider using a struct</p>\n<pre><code> struct TwoValues {\n      1: i32 ord\n      2: i32 val\n }\n</code></pre>\n"}],"owner":{"account_id":29885478,"reputation":1,"user_id":22903115,"display_name":"y0an11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700132718,"creation_date":1699803193,"question_id":77469550,"body_markdown":"``` Java\r\n# java\r\npublic class B extends Enum implements TEnum {\r\n    B a = new B(&quot;a&quot;, 1, 1);\r\n    B b = new B(&quot;b&quot;, 2, 5);\r\n\r\n    int val;\r\n\r\n    public B(String s, int i, int val) {\r\n        super(s, i);\r\n        this.val = val;\r\n    }\r\n}\r\n```\r\n\r\nHow should I define the above structure in thrift?","title":"How should multiple value thrift of Java enumeration class be defined?","body":"<pre><code># java\npublic class B extends Enum implements TEnum {\n    B a = new B(&quot;a&quot;, 1, 1);\n    B b = new B(&quot;b&quot;, 2, 5);\n\n    int val;\n\n    public B(String s, int i, int val) {\n        super(s, i);\n        this.val = val;\n    }\n}\n</code></pre>\n<p>How should I define the above structure in thrift?</p>\n"},{"tags":["java","spring-boot","rest","validation"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1700040828,"post_id":77482470,"comment_id":136604999,"body_markdown":"Add `@Validated` into your controller class level to enable AOP validation. Refer to this [post](https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring)","body":"Add <code>@Validated</code> into your controller class level to enable AOP validation. Refer to this <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\">post</a>"}],"answers":[{"tags":[],"owner":{"account_id":477757,"reputation":1070,"user_id":889438,"accept_rate":81,"display_name":"coconut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700132647,"creation_date":1700059512,"answer_id":77488687,"question_id":77482470,"body_markdown":"This worked. I ended up removing the @Valid and leaving the @ValidStudents. My intellij wasn&#39;t picking up the changes so I thought it wasn&#39;t working. \r\n\r\nAnd also as @phuongnq1995 said, make sure you have the @Validated at class level in your controller. ","title":"Custom Validation of lists in SpringBoot","body":"<p>This worked. I ended up removing the @Valid and leaving the @ValidStudents. My intellij wasn't picking up the changes so I thought it wasn't working.</p>\n<p>And also as @phuongnq1995 said, make sure you have the @Validated at class level in your controller.</p>\n"}],"owner":{"account_id":477757,"reputation":1070,"user_id":889438,"accept_rate":81,"display_name":"coconut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700132647,"creation_date":1699980977,"question_id":77482470,"body_markdown":"I have a simple object: \r\n\r\n    public class Student {\r\n        private int id;\r\n\r\n        @Max(18)\r\n        @Min(3)\r\n        private int age;\r\n    }\r\n\r\nMy rest controller receives a list of students. How can I validate the min and max age and that the IDs in the list are not duplicated? \r\n\r\nI tried writing my own validator but it&#39;s not working. \r\n\r\n    public class StudentsValidator implements ConstraintValidator&lt;ValidStudents, List&lt;Student&gt;&gt; {\r\n\r\n        @Override\r\n        public void initialize(ValidStudents constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(List&lt;Student&gt; students, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (students == null || students.isEmpty())\r\n                return true;\r\n        \r\n            if (students.stream().anyMatch(students -&gt; students.getAge() &lt; 3 || students.getAge() &gt; 18))\r\n                return false;\r\n        \r\n            return students.stream().map(Student::getID).distinct().count() == students.size();\r\n        }\r\n    }\r\n\r\n\r\n\r\nMy annotation: \r\n\r\n    @Target({ElementType.FIELD, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = StudentsValidator.class)\r\n    public @interface ValidStudents {\r\n        String message() default &quot;Invalid list of students&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nAnd then in my controller I use it like this: \r\n\r\n    public void putStudents(@RequestBody @ValidStudents List&lt;@Valid Student&gt; students)\r\n\r\nI&#39;m assuming I wouldn&#39;t need to run a @Valid before Student if my @ValidStudents was working but I&#39;m trying both and neither works. What am I missing? \r\n\r\nAlso, is there anyway I can throw a bad request after the validation fails besides writing my custom exception handler? \r\n\r\nThanks in advance! ","title":"Custom Validation of lists in SpringBoot","body":"<p>I have a simple object:</p>\n<pre><code>public class Student {\n    private int id;\n\n    @Max(18)\n    @Min(3)\n    private int age;\n}\n</code></pre>\n<p>My rest controller receives a list of students. How can I validate the min and max age and that the IDs in the list are not duplicated?</p>\n<p>I tried writing my own validator but it's not working.</p>\n<pre><code>public class StudentsValidator implements ConstraintValidator&lt;ValidStudents, List&lt;Student&gt;&gt; {\n\n    @Override\n    public void initialize(ValidStudents constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(List&lt;Student&gt; students, ConstraintValidatorContext constraintValidatorContext) {\n        if (students == null || students.isEmpty())\n            return true;\n    \n        if (students.stream().anyMatch(students -&gt; students.getAge() &lt; 3 || students.getAge() &gt; 18))\n            return false;\n    \n        return students.stream().map(Student::getID).distinct().count() == students.size();\n    }\n}\n</code></pre>\n<p>My annotation:</p>\n<pre><code>@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = StudentsValidator.class)\npublic @interface ValidStudents {\n    String message() default &quot;Invalid list of students&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>And then in my controller I use it like this:</p>\n<pre><code>public void putStudents(@RequestBody @ValidStudents List&lt;@Valid Student&gt; students)\n</code></pre>\n<p>I'm assuming I wouldn't need to run a @Valid before Student if my @ValidStudents was working but I'm trying both and neither works. What am I missing?</p>\n<p>Also, is there anyway I can throw a bad request after the validation fails besides writing my custom exception handler?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","jakarta-migration"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700132558,"creation_date":1685448971,"answer_id":76364735,"question_id":76364511,"body_markdown":"&gt; not able to find the libraries for javax.net and javax.sql in jakarta ee\r\n\r\nThese are **not** part of [Jakarta EE][1] and have never been part of [legacy Java EE][2] either. \r\n\r\nThese have always been part of [Java SE][3]. Open the [package list][4] and Ctrl+F on `javax`. You&#39;ll find the following `javax.*` packages being part of Java SE:\r\n\r\n- `javax.accessibility`\r\n- `javax.annotation.processing`\r\n- `javax.crypto`\r\n- `javax.imageio`\r\n- `javax.lang`\r\n- `javax.management`\r\n- `javax.naming`\r\n- `javax.net`\r\n- `javax.print`\r\n- `javax.rmi`\r\n- `javax.script`\r\n- `javax.security.auth`\r\n- `javax.security.cert`\r\n- `javax.security.sasl`\r\n- `javax.smartcardio`\r\n- `javax.sound`\r\n- `javax.sql`\r\n- `javax.swing`\r\n- `javax.tools`\r\n- `javax.transaction.xa`\r\n- `javax.xml`\r\n\r\nYou can keep them as-is. Just listen to the compiler.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/10/apidocs/\r\n  [2]: https://docs.oracle.com/javaee/7/api/\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/allpackages-index.html","title":"How to handle javax.net and javax.sql imports while upgrading to SpringBoot 3?","body":"<blockquote>\n<p>not able to find the libraries for javax.net and javax.sql in jakarta ee</p>\n</blockquote>\n<p>These are <strong>not</strong> part of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/\" rel=\"nofollow noreferrer\">Jakarta EE</a> and have never been part of <a href=\"https://docs.oracle.com/javaee/7/api/\" rel=\"nofollow noreferrer\">legacy Java EE</a> either.</p>\n<p>These have always been part of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/\" rel=\"nofollow noreferrer\">Java SE</a>. Open the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/allpackages-index.html\" rel=\"nofollow noreferrer\">package list</a> and Ctrl+F on <code>javax</code>. You'll find the following <code>javax.*</code> packages being part of Java SE:</p>\n<ul>\n<li><code>javax.accessibility</code></li>\n<li><code>javax.annotation.processing</code></li>\n<li><code>javax.crypto</code></li>\n<li><code>javax.imageio</code></li>\n<li><code>javax.lang</code></li>\n<li><code>javax.management</code></li>\n<li><code>javax.naming</code></li>\n<li><code>javax.net</code></li>\n<li><code>javax.print</code></li>\n<li><code>javax.rmi</code></li>\n<li><code>javax.script</code></li>\n<li><code>javax.security.auth</code></li>\n<li><code>javax.security.cert</code></li>\n<li><code>javax.security.sasl</code></li>\n<li><code>javax.smartcardio</code></li>\n<li><code>javax.sound</code></li>\n<li><code>javax.sql</code></li>\n<li><code>javax.swing</code></li>\n<li><code>javax.tools</code></li>\n<li><code>javax.transaction.xa</code></li>\n<li><code>javax.xml</code></li>\n</ul>\n<p>You can keep them as-is. Just listen to the compiler.</p>\n"}],"owner":{"account_id":8306741,"reputation":11,"user_id":6243451,"display_name":"Java_guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700132558,"creation_date":1685447490,"question_id":76364511,"body_markdown":"I am upgrading my application from springboot 2.** to springboot 3.07. I am aware that we have to jakarta package instead of javax but not sure what to do about javax.net.* and javax.sql.datasource imports.\r\nwhat is the replacement for these with respect to jakarta ee\r\n\r\nnot able to find the libraries for javax.net and javax.sql in jakarta ee","title":"How to handle javax.net and javax.sql imports while upgrading to SpringBoot 3?","body":"<p>I am upgrading my application from springboot 2.** to springboot 3.07. I am aware that we have to jakarta package instead of javax but not sure what to do about javax.net.* and javax.sql.datasource imports.\nwhat is the replacement for these with respect to jakarta ee</p>\n<p>not able to find the libraries for javax.net and javax.sql in jakarta ee</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700132429,"creation_date":1700132429,"answer_id":77494262,"question_id":77494222,"body_markdown":"you don&#39;t need `@Qualifier` in this case just replace them with `@Profile(&quot;nameOfYourProfile&quot;)`:\r\n\r\n```java\r\n@Service\r\n@Profile(&quot;dev&quot;)\r\npublic class MyService1Impl implements MyService {\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Service\r\n@Profile(&quot;!dev&quot;)\r\npublic class MyService2Impl implements MyService {\r\n```\r\n\r\n","title":"Springboot use different implementation class depending on environment","body":"<p>you don't need <code>@Qualifier</code> in this case just replace them with <code>@Profile(&quot;nameOfYourProfile&quot;)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Profile(&quot;dev&quot;)\npublic class MyService1Impl implements MyService {\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Profile(&quot;!dev&quot;)\npublic class MyService2Impl implements MyService {\n</code></pre>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77494262,"answer_count":1,"score":0,"last_activity_date":1700132429,"creation_date":1700132083,"question_id":77494222,"body_markdown":"I am using Springboot 3 with Java20.\r\n\r\nI am looking for the simplest way to use a different implementation depending on the environment.\r\n\r\nI have the following interface:\r\n\r\n**MyService**\r\n\r\n    public interface MyService {\r\n        boolean send(String fileName, final String userName);\r\n    }\r\n\r\nWith two implementations:\r\n\r\n**MyService1Impl**\r\n\r\n    @Service\r\n    @Qualifier(&quot;myService1Impl&quot;)\r\n    public class MyService1Impl implements MyService {\r\n\r\n**MyService2Impl**\r\n\r\n    @Service\r\n    @Qualifier(&quot;myService2Impl&quot;)\r\n    public class MyService2Impl implements MyService {\r\n\r\nThen I want to use the following:\r\n\r\n    @Autowired\r\n    private @Qualifier(&quot;myService1Impl&quot;) MyService myService1Impl;\r\n    @Autowired\r\n    private @Qualifier(&quot;myService2Impl&quot;) MyService myService2Impl;\r\n\r\n    // if @Profile(&quot;dev&quot;) use myService1Impl\r\n    // if @Profile(&quot;*&quot;) use myService2Impl\r\n\r\nI would like to keep this as simple as possible (not to have to use `@Cofiguration` if possible).\r\n","title":"Springboot use different implementation class depending on environment","body":"<p>I am using Springboot 3 with Java20.</p>\n<p>I am looking for the simplest way to use a different implementation depending on the environment.</p>\n<p>I have the following interface:</p>\n<p><strong>MyService</strong></p>\n<pre><code>public interface MyService {\n    boolean send(String fileName, final String userName);\n}\n</code></pre>\n<p>With two implementations:</p>\n<p><strong>MyService1Impl</strong></p>\n<pre><code>@Service\n@Qualifier(&quot;myService1Impl&quot;)\npublic class MyService1Impl implements MyService {\n</code></pre>\n<p><strong>MyService2Impl</strong></p>\n<pre><code>@Service\n@Qualifier(&quot;myService2Impl&quot;)\npublic class MyService2Impl implements MyService {\n</code></pre>\n<p>Then I want to use the following:</p>\n<pre><code>@Autowired\nprivate @Qualifier(&quot;myService1Impl&quot;) MyService myService1Impl;\n@Autowired\nprivate @Qualifier(&quot;myService2Impl&quot;) MyService myService2Impl;\n\n// if @Profile(&quot;dev&quot;) use myService1Impl\n// if @Profile(&quot;*&quot;) use myService2Impl\n</code></pre>\n<p>I would like to keep this as simple as possible (not to have to use <code>@Cofiguration</code> if possible).</p>\n"},{"tags":["java","jakarta-migration"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1700132162,"post_id":77494202,"comment_id":136618259,"body_markdown":"That class isn&#39;t part of Jakarta EE. It&#39;s part of [Java SE](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/javax/security/auth/x500/X500Principal.html). Why exactly did you think you need to migrate it? Did it give compilation errors? Related/duplicate: https://stackoverflow.com/a/76364735. The `jakarta.security` package is basically for the Jakarta EE equivalent of &quot;Spring Security&quot;, as seen here: https://jakarta.ee/specifications/security/3.0/jakarta-security-spec-3.0","body":"That class isn&#39;t part of Jakarta EE. It&#39;s part of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/javax/security/auth/x500/X500Principal.html\" rel=\"nofollow noreferrer\">Java SE</a>. Why exactly did you think you need to migrate it? Did it give compilation errors? Related/duplicate: <a href=\"https://stackoverflow.com/a/76364735\">stackoverflow.com/a/76364735</a>. The <code>jakarta.security</code> package is basically for the Jakarta EE equivalent of &quot;Spring Security&quot;, as seen here: <a href=\"https://jakarta.ee/specifications/security/3.0/jakarta-security-spec-3.0\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/security/3.0/&hellip;</a>"},{"owner":{"account_id":135268,"reputation":3319,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":0,"creation_date":1700132889,"post_id":77494202,"comment_id":136618367,"body_markdown":"@BalusC No compilation errors. During the migration, I noticed `javax.annotation.PreDestroy` also had a Jakarta equivalent even though it is part of Java SE. So I wanted to know if it&#39;s the case for X500 as well and eliminate all javax.* packages if possible.","body":"@BalusC No compilation errors. During the migration, I noticed <code>javax.annotation.PreDestroy</code> also had a Jakarta equivalent even though it is part of Java SE. So I wanted to know if it&#39;s the case for X500 as well and eliminate all javax.* packages if possible."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1700132945,"post_id":77494202,"comment_id":136618370,"body_markdown":"`@PreDestroy` is **not** part of Java SE. [Look over there in Java SE documentation, it&#39;s nowhere](https://docs.oracle.com/en/java/javase/20/docs/api/allpackages-index.html). So if `javax.annotation.PreDestroy` compiles fine then you have a dependency problem.","body":"<code>@PreDestroy</code> is <b>not</b> part of Java SE. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/allpackages-index.html\" rel=\"nofollow noreferrer\">Look over there in Java SE documentation, it&#39;s nowhere</a>. So if <code>javax.annotation.PreDestroy</code> compiles fine then you have a dependency problem."},{"owner":{"account_id":135268,"reputation":3319,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":0,"creation_date":1700133130,"post_id":77494202,"comment_id":136618391,"body_markdown":"@BalusC Yes it compiled fine. Thanks for pointing out. I am also ok to make this question duplicate with your suggestion.","body":"@BalusC Yes it compiled fine. Thanks for pointing out. I am also ok to make this question duplicate with your suggestion."}],"owner":{"account_id":135268,"reputation":3319,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700133052,"answer_count":0,"score":0,"last_activity_date":1700132142,"creation_date":1700131946,"question_id":77494202,"body_markdown":"We are moving away from javax to Jakarta EE, and we migrated almost all of our packages except one:\r\n\r\n```\r\njavax.security.auth.x500.X500Principal\r\n```\r\nThere is a `jakarta.security.auth` package already, but the content is slightly different. No matter how much I searched, I couldn&#39;t find the equivalent of this package in Jakarta. Am I missing something here?\r\n\r\nI am no security expert, so I don&#39;t have much preliminary knowledge about the subject.","title":"Can&#39;t migrate javax.security.auth.x500 to Jakarta EE","body":"<p>We are moving away from javax to Jakarta EE, and we migrated almost all of our packages except one:</p>\n<pre><code>javax.security.auth.x500.X500Principal\n</code></pre>\n<p>There is a <code>jakarta.security.auth</code> package already, but the content is slightly different. No matter how much I searched, I couldn't find the equivalent of this package in Jakarta. Am I missing something here?</p>\n<p>I am no security expert, so I don't have much preliminary knowledge about the subject.</p>\n"},{"tags":["java","spring","redis"],"owner":{"account_id":15105798,"reputation":1,"user_id":10901519,"display_name":"Michele Letizia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700131884,"creation_date":1700131621,"question_id":77494170,"body_markdown":"i&#39;m trying to write a redis object on an instance of REDIS using spring-boot-starter-data-redis.\r\nOn Redis istance is deactivated the hmset and i must save object with hset.\r\n\r\nBut i only run this:\r\n\r\n    repository.save(myObject);\r\n\r\nwhere repository:\r\n\r\n    @Repository\r\n    public interface repository extends CrudRepository&lt;myObject, String&gt; {}\r\n\r\nand myObject:\r\n\r\n    @RedisHash\r\n    public class myObject{\r\n  \r\n    @Id\r\n    private String sessionId;\r\n    ...\r\n\r\n    }\r\n\r\n\r\nHow can i force spring lib to use hset instead of hmset?\r\n\r\nThank you,\r\nMik","title":"NOPERM this user has no permissions to run the &#39;hmset&#39; command","body":"<p>i'm trying to write a redis object on an instance of REDIS using spring-boot-starter-data-redis.\nOn Redis istance is deactivated the hmset and i must save object with hset.</p>\n<p>But i only run this:</p>\n<pre><code>repository.save(myObject);\n</code></pre>\n<p>where repository:</p>\n<pre><code>@Repository\npublic interface repository extends CrudRepository&lt;myObject, String&gt; {}\n</code></pre>\n<p>and myObject:</p>\n<pre><code>@RedisHash\npublic class myObject{\n\n@Id\nprivate String sessionId;\n...\n\n}\n</code></pre>\n<p>How can i force spring lib to use hset instead of hmset?</p>\n<p>Thank you,\nMik</p>\n"},{"tags":["java","maven","maven-dependency-plugin"],"comments":[{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1462475601,"post_id":37057487,"comment_id":61663877,"body_markdown":"is menu.xml directly in the root of the dependant jar? Do you have that jar in the dependencies list? Have you tried something like **/menu.xml as mentioned in the docs https://maven.apache.org/plugins/maven-dependency-plugin/unpack-dependencies-mojo.html#includes - and if you load the file from the classpath anyway, way unpack it at all?","body":"is menu.xml directly in the root of the dependant jar? Do you have that jar in the dependencies list? Have you tried something like **/menu.xml as mentioned in the docs <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/unpack-dependencies-mojo.html#includes\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> - and if you load the file from the classpath anyway, way unpack it at all?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1462477509,"post_id":37057487,"comment_id":61664998,"body_markdown":"Why do you need to do that? You don&#39;t need to do that. If the resource is at the root of a JAR in the classpath, it is in the root of your classpath so what you &quot;want&quot; serves absolutely no purpose. Hence: what do you _really_ want to do? What&#39;s the real problem you want to solve?","body":"Why do you need to do that? You don&#39;t need to do that. If the resource is at the root of a JAR in the classpath, it is in the root of your classpath so what you &quot;want&quot; serves absolutely no purpose. Hence: what do you <i>really</i> want to do? What&#39;s the real problem you want to solve?"},{"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1462481971,"post_id":37057487,"comment_id":61667340,"body_markdown":"Yes, the file is in the root of the dependent jar. I now figured out the issue. The jar is not in the dependencies list. The confusion started because I first tried the **unpack** goal of the plugin, which downloads the jar from the repository, which worked well. However in this case I can&#39;t use the file for tests because it happens in a later life cycle phase. I guess I&#39;ll have to fall back to the previous solution, which was copying the file from the other project&#39;s source folder using the maven-resources-plugin.","body":"Yes, the file is in the root of the dependent jar. I now figured out the issue. The jar is not in the dependencies list. The confusion started because I first tried the <b>unpack</b> goal of the plugin, which downloads the jar from the repository, which worked well. However in this case I can&#39;t use the file for tests because it happens in a later life cycle phase. I guess I&#39;ll have to fall back to the previous solution, which was copying the file from the other project&#39;s source folder using the maven-resources-plugin."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1462488113,"post_id":37060435,"comment_id":61669846,"body_markdown":"Take a deep look into maven-remote-resources-plugin which exactly handles such situations...","body":"Take a deep look into maven-remote-resources-plugin which exactly handles such situations..."}],"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1700131730,"creation_date":1462483159,"answer_id":37060435,"question_id":37057487,"body_markdown":"After some help from the comments, I could figure out the issue. **The jar holding the menu.xml file is not in the dependencies list of my project**.\r\n\r\n\r\nHere is a better explanation of what I was trying to achieve for better understanding:\r\n\r\nMy project is inside a maven multi module, and I need the information of this menu.xml which is maintained on another project of the same multi module. Apart from this file there&#39;s no other dependency to this other project, therefore, there&#39;s also no maven dependency to the jar.\r\n\r\nIn order to avoid duplication of the file in my project, I helped myself so far with the maven-resources-plugin, which copies the file from the source directory of the other project. I never really liked this solution though, because it&#39;s dependent on having the source of this other project on the file system.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;          \r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;${project.basedir}/../other-jar/src/main/resources&lt;/directory&gt;\r\n                  &lt;includes&gt;\r\n                    &lt;include&gt;menu.xml&lt;/include&gt;\r\n                  &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;              \r\n            &lt;/configuration&gt;            \r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThen [I discovered the maven-depency-plugin][1] and the **unpack** goal which can extract the file out of the downloaded jar from the repository. This looked like a much cleaner solution. I tried it out and it worked actually well. The problem with this solution though was that the unpack plugin acts only in a later maven phase after testing and I do have some tests using the file as well.\r\n\r\nAfter some more research, I found the resource-dependencies plugin with the **unpack-dependencies** goal which looked like the perfect solution but at this stage I had completely forgotten that I actually don&#39;t have a dependency to the jar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18566372/maven-add-resource-from-jar-to-web-inf-during-build","title":"maven: copy resource from dependent jar to target folder","body":"<p>After some help from the comments, I could figure out the issue. <strong>The jar holding the menu.xml file is not in the dependencies list of my project</strong>.</p>\n<p>Here is a better explanation of what I was trying to achieve for better understanding:</p>\n<p>My project is inside a maven multi module, and I need the information of this menu.xml which is maintained on another project of the same multi module. Apart from this file there's no other dependency to this other project, therefore, there's also no maven dependency to the jar.</p>\n<p>In order to avoid duplication of the file in my project, I helped myself so far with the maven-resources-plugin, which copies the file from the source directory of the other project. I never really liked this solution though, because it's dependent on having the source of this other project on the file system.</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;copy-resources&lt;/id&gt;\n        &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;copy-resources&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${project.basedir}/src/main/resources&lt;/outputDirectory&gt;\n          &lt;resources&gt;          \n            &lt;resource&gt;\n              &lt;directory&gt;${project.basedir}/../other-jar/src/main/resources&lt;/directory&gt;\n              &lt;includes&gt;\n                &lt;include&gt;menu.xml&lt;/include&gt;\n              &lt;/includes&gt;\n            &lt;/resource&gt;\n          &lt;/resources&gt;              \n        &lt;/configuration&gt;            \n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Then <a href=\"https://stackoverflow.com/questions/18566372/maven-add-resource-from-jar-to-web-inf-during-build\">I discovered the maven-depency-plugin</a> and the <strong>unpack</strong> goal which can extract the file out of the downloaded jar from the repository. This looked like a much cleaner solution. I tried it out and it worked actually well. The problem with this solution though was that the unpack plugin acts only in a later maven phase after testing and I do have some tests using the file as well.</p>\n<p>After some more research, I found the resource-dependencies plugin with the <strong>unpack-dependencies</strong> goal which looked like the perfect solution but at this stage I had completely forgotten that I actually don't have a dependency to the jar.</p>\n"},{"tags":[],"owner":{"account_id":13489230,"reputation":11,"user_id":9732037,"display_name":"Simon"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525288418,"creation_date":1525288418,"answer_id":50141934,"question_id":37057487,"body_markdown":"In order to use the maven-depency-plugin to unpack a jar before testing, the workaround is to use failsafe instead of surefire to have tests run after the unpacking.\r\n\r\nSimon","title":"maven: copy resource from dependent jar to target folder","body":"<p>In order to use the maven-depency-plugin to unpack a jar before testing, the workaround is to use failsafe instead of surefire to have tests run after the unpacking.</p>\n\n<p>Simon</p>\n"},{"comments":[{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1631008245,"post_id":61246960,"comment_id":122101683,"body_markdown":"And if you just have a &quot;thing&quot; that you don&#39;t want unzipped (e.g. an exe you&#39;ve uploaded to maven) you can use the copy goal from that same plugin","body":"And if you just have a &quot;thing&quot; that you don&#39;t want unzipped (e.g. an exe you&#39;ve uploaded to maven) you can use the copy goal from that same plugin"},{"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1700131497,"post_id":61246960,"comment_id":136618120,"body_markdown":"I happened to have this exact same problem again now and tried your solution. Works like a charm! Thanks!","body":"I happened to have this exact same problem again now and tried your solution. Works like a charm! Thanks!"}],"tags":[],"owner":{"account_id":6864330,"reputation":148,"user_id":5277332,"display_name":"raneesh choudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1587029369,"creation_date":1587029369,"answer_id":61246960,"question_id":37057487,"body_markdown":"A nice way to copy files from your dependency is to use Goal unpack :\r\n\r\nyou can mention your files /directories in &lt;includes&gt; \r\ndir/** --&gt; include everything from a directory\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;resource-dependencies&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;artifactItems&gt;\r\n    \t\t\t\t&lt;artifactItem&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;group_id&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;artifact_id&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/artifactItem&gt;\r\n    \t\t\t\t&lt;/artifactItems&gt;\r\n    \t\t\t\t&lt;includes&gt;directory_to_include/**&lt;/includes&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nI attached goal unpack to the phase compile. Customise as per your need.","title":"maven: copy resource from dependent jar to target folder","body":"<p>A nice way to copy files from your dependency is to use Goal unpack :</p>\n\n<p>you can mention your files /directories in  \ndir/** --> include everything from a directory</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;resource-dependencies&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                    &lt;groupId&gt;group_id&lt;/groupId&gt;\n                    &lt;artifactId&gt;artifact_id&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;type&gt;jar&lt;/type&gt;\n                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                &lt;/artifactItem&gt;\n                &lt;/artifactItems&gt;\n                &lt;includes&gt;directory_to_include/**&lt;/includes&gt;\n                &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I attached goal unpack to the phase compile. Customise as per your need.</p>\n"}],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32598,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":61246960,"answer_count":3,"score":10,"last_activity_date":1700131730,"creation_date":1462472055,"question_id":37057487,"body_markdown":"I need to copy a resource file (menu.xml) from the root of a dependent jar file to the root of the output directory of my current project, before the tests are executed during the build. The file must be available for the tests but also later for the main program using `...getClassLoader().getResourceAsStream(&quot;menu.xml&quot;)`.\r\n\r\nI&#39;m trying the solution suggested in [this question](https://stackoverflow.com/questions/10532274/maven-extract-dependency-resources-before-test) but it&#39;s not working.\r\n\r\nThis is how the pom file looks like:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;resource-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;type&gt;jar&lt;/type&gt;\r\n              &lt;includeArtifactIds&gt;other-jar&lt;/includeArtifactIds&gt;\r\n              &lt;includes&gt;menu.xml&lt;/includes&gt;\r\n              &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nWhen I execute `mvn clean process-test-resources` I see the following output:\r\n\r\n    [INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ something ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 3 resources\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:unpack-dependencies (resource-dependencies) @ something ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 8.709 s\r\n    [INFO] Finished at: 2016-05-05T15:01:06-03:00\r\n    [INFO] Final Memory: 30M/458M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nThe file menu.xml is not copied to the target folder. How can I see what could be possibly wrong? I tried to run maven on debug log level and could see that the configuration was parsed correctly, but the plugin doesn&#39;t log any additional information of what is happening.\r\n\r\n    ...\r\n    [DEBUG]   (f) includeArtifactIds = other-jar\r\n    [DEBUG]   (s) includes = menu.xml\r\n    ...\r\n    [DEBUG]   (f) outputAbsoluteArtifactFilename = false\r\n    [DEBUG]   (s) outputDirectory = c:\\Dev\\workspaces\\config\\something\\target\\classes\r\n    ...\r\n    [DEBUG]   (f) project = MavenProject: com.something:something:3-SNAPSHOT @ c:\\Dev\\workspaces\\config\\something\\\r\n    pom.xml\r\n    [DEBUG] -- end configuration --\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 10.014 s\r\n    [INFO] Finished at: 2016-05-05T15:09:29-03:00\r\n    [INFO] Final Memory: 27M/328M\r\n    [INFO] ------------------------------------------------------------------------","title":"maven: copy resource from dependent jar to target folder","body":"<p>I need to copy a resource file (menu.xml) from the root of a dependent jar file to the root of the output directory of my current project, before the tests are executed during the build. The file must be available for the tests but also later for the main program using <code>...getClassLoader().getResourceAsStream(&quot;menu.xml&quot;)</code>.</p>\n<p>I'm trying the solution suggested in <a href=\"https://stackoverflow.com/questions/10532274/maven-extract-dependency-resources-before-test\">this question</a> but it's not working.</p>\n<p>This is how the pom file looks like:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;resource-dependencies&lt;/id&gt;\n        &lt;phase&gt;process-test-resources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;type&gt;jar&lt;/type&gt;\n          &lt;includeArtifactIds&gt;other-jar&lt;/includeArtifactIds&gt;\n          &lt;includes&gt;menu.xml&lt;/includes&gt;\n          &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>When I execute <code>mvn clean process-test-resources</code> I see the following output:</p>\n<pre><code>[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ something ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 3 resources\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:unpack-dependencies (resource-dependencies) @ something ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 8.709 s\n[INFO] Finished at: 2016-05-05T15:01:06-03:00\n[INFO] Final Memory: 30M/458M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>The file menu.xml is not copied to the target folder. How can I see what could be possibly wrong? I tried to run maven on debug log level and could see that the configuration was parsed correctly, but the plugin doesn't log any additional information of what is happening.</p>\n<pre><code>...\n[DEBUG]   (f) includeArtifactIds = other-jar\n[DEBUG]   (s) includes = menu.xml\n...\n[DEBUG]   (f) outputAbsoluteArtifactFilename = false\n[DEBUG]   (s) outputDirectory = c:\\Dev\\workspaces\\config\\something\\target\\classes\n...\n[DEBUG]   (f) project = MavenProject: com.something:something:3-SNAPSHOT @ c:\\Dev\\workspaces\\config\\something\\\npom.xml\n[DEBUG] -- end configuration --\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 10.014 s\n[INFO] Finished at: 2016-05-05T15:09:29-03:00\n[INFO] Final Memory: 27M/328M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699618843,"post_id":77459941,"comment_id":136557854,"body_markdown":"IIRC, IntelliJ sets the current working directory to the root of your IntelliJ project, so Java resolves would resolve files relative to that location. I can&#39;t recall what Eclipse does.","body":"IIRC, IntelliJ sets the current working directory to the root of your IntelliJ project, so Java resolves would resolve files relative to that location. I can&#39;t recall what Eclipse does."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1699619060,"post_id":77459941,"comment_id":136557889,"body_markdown":"A good starting point would to get the current working directory: [How to get the current working directory in Java?](https://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java)","body":"A good starting point would to get the current working directory: <a href=\"https://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java\">How to get the current working directory in Java?</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699620020,"post_id":77459941,"comment_id":136558064,"body_markdown":"FYI, the major host OSes (macOS, Windows, Linux) each have a certain folder in which to place files that support an application.","body":"FYI, the major host OSes (macOS, Windows, Linux) each have a certain folder in which to place files that support an application."},{"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"score":0,"creation_date":1699622140,"post_id":77459941,"comment_id":136558446,"body_markdown":"Thank you @MarkRotteveel, System.getProperty(&quot;user.dir&quot;) works alright. A very simple solution I didn&#39;t think of.","body":"Thank you @MarkRotteveel, System.getProperty(&quot;user.dir&quot;) works alright. A very simple solution I didn&#39;t think of."}],"answers":[{"tags":[],"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700131400,"creation_date":1700127668,"answer_id":77493721,"question_id":77459941,"body_markdown":"Thanks to the kind comment from Mark Rotteveel, I found a solution, which works as I wanted it to:\r\n\r\n```java\r\nimport java.sql.Connection;\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+System.getProperty(&quot;user.dir&quot;)+&quot;/database/data.db&quot;);\r\n```\r\n\r\nThat statement is can be anywhere in the file hierarchy as shown in the question.","title":"How do establish an JDBC database connection (SQLite) with a relative path independent from any IDE or superior folder structure","body":"<p>Thanks to the kind comment from Mark Rotteveel, I found a solution, which works as I wanted it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;\nConnection connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+System.getProperty(&quot;user.dir&quot;)+&quot;/database/data.db&quot;);\n</code></pre>\n<p>That statement is can be anywhere in the file hierarchy as shown in the question.</p>\n"}],"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77493721,"answer_count":1,"score":0,"last_activity_date":1700131400,"creation_date":1699618368,"question_id":77459941,"body_markdown":"I work on a Mac with IntelliJ in a Maven project with SQLite and I&#39;ve successfully established a connection to the database with a absolute path:\r\n\r\n```java\r\nimport java.sql.*;\r\nConnection connection = null;\r\nString url = &quot;jdbc:sqlite:/Users/user/any/dir/java_project/database/data.db&quot;;\r\nconnection DriverManager.getConnection(url);\r\n```\r\n\r\nWhich works fine on my PC, but I want the database connection independent of any IDE or superordinate Folder structure, because I work in a team where everybody has a different folder structure (of course) and not uses the same IDE.\r\n\r\nThe intern folder structure is like that: (IntelliJ generated)\r\n\r\n```\r\njava_project\r\n│  \r\n│\r\n├───src\r\n│   │\r\n│   └───main\r\n│       └───java\r\n│            └─Main.java\r\n│  \r\n│  \r\n└───database\r\n    └─data.db\r\n```\r\n\r\nI&#39;ve been trying to connect the SQLite file in the Main with a relative path String like:\r\n\r\n```\r\nurl = &quot;jdbc:sqlite:../../../database/data.db&quot;\r\n```\r\n\r\nbut only the absolute path works.\r\nI found that thread: https://stackoverflow.com/questions/31611785/sqlite-jdbc-eclipse-database-relative-path\r\n\r\nBut this person searched for an Eclipse specific solution. Nevertheless,\r\n\r\n```\r\nString url=&quot;jdbc:sqlite:&quot;+dbfile.getAbsolutePath()+&quot;\\\\Demo.db&quot;;\r\n```\r\n\r\nlooks good, but I don&#39;t know, how I import the data.db file to refer to it with the method.\r\n\r\nSomething else I found was:\r\n\r\n```\r\nconnection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+$PROJECT_DIR$+&quot;/database/data.db&quot;);\r\n```\r\n\r\nBut IntelliJ couldn&#39;t resolve the symbol, I didn&#39;t put much effort in making this work because I believe it is IntelliJ specific and I want something which is not depending on an IDE.\r\n\r\nThe code should run on a server in the future so it would be nice if we had an option to establish a connection with a relative path so it does not matter in which superordinate folder the project is.\r\n","title":"How do establish an JDBC database connection (SQLite) with a relative path independent from any IDE or superior folder structure","body":"<p>I work on a Mac with IntelliJ in a Maven project with SQLite and I've successfully established a connection to the database with a absolute path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nConnection connection = null;\nString url = &quot;jdbc:sqlite:/Users/user/any/dir/java_project/database/data.db&quot;;\nconnection DriverManager.getConnection(url);\n</code></pre>\n<p>Which works fine on my PC, but I want the database connection independent of any IDE or superordinate Folder structure, because I work in a team where everybody has a different folder structure (of course) and not uses the same IDE.</p>\n<p>The intern folder structure is like that: (IntelliJ generated)</p>\n<pre><code>java_project\n│  \n│\n├───src\n│   │\n│   └───main\n│       └───java\n│            └─Main.java\n│  \n│  \n└───database\n    └─data.db\n</code></pre>\n<p>I've been trying to connect the SQLite file in the Main with a relative path String like:</p>\n<pre><code>url = &quot;jdbc:sqlite:../../../database/data.db&quot;\n</code></pre>\n<p>but only the absolute path works.\nI found that thread: <a href=\"https://stackoverflow.com/questions/31611785/sqlite-jdbc-eclipse-database-relative-path\">sqlite jdbc Eclipse database relative path</a></p>\n<p>But this person searched for an Eclipse specific solution. Nevertheless,</p>\n<pre><code>String url=&quot;jdbc:sqlite:&quot;+dbfile.getAbsolutePath()+&quot;\\\\Demo.db&quot;;\n</code></pre>\n<p>looks good, but I don't know, how I import the data.db file to refer to it with the method.</p>\n<p>Something else I found was:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+$PROJECT_DIR$+&quot;/database/data.db&quot;);\n</code></pre>\n<p>But IntelliJ couldn't resolve the symbol, I didn't put much effort in making this work because I believe it is IntelliJ specific and I want something which is not depending on an IDE.</p>\n<p>The code should run on a server in the future so it would be nice if we had an option to establish a connection with a relative path so it does not matter in which superordinate folder the project is.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9860,"page":57,"page_size":100}
