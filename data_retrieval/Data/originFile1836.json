{"items":[{"tags":["java","h2","in-memory-database"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1637789701,"post_id":70026963,"comment_id":123923091,"body_markdown":"looks like you can have user with read only access https://stackoverflow.com/a/21192942/175554","body":"looks like you can have user with read only access <a href=\"https://stackoverflow.com/a/21192942/175554\">stackoverflow.com/a/21192942/175554</a>"}],"owner":{"account_id":23385992,"reputation":39,"user_id":17451339,"display_name":"learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637292082,"creation_date":1637270951,"question_id":70026963,"body_markdown":"Currently I&#39;m accessing H2 Database in server mode and I use JDBC URL like jdbc:h2:tcp://localhost:8082/nio:~/source/database/database/ from my java application. By default, the user who accesses has the Read/Write access and I want to restrict it to read-only access.\r\n\r\nI&#39;ve come across the option ACCESS_MODE_DATA=r in the JDBC URL, which would make the H2 DB access read-only but the user who accesses H2 DB could bypass it, if he doesn&#39;t pass the option ACCESS_MODE_DATA=r .\r\n\r\nAre there any alternate options to restrict the TCP connection to H2 Database as readonly ?","title":"Read only access to H2 Database in Server mode","body":"<p>Currently I'm accessing H2 Database in server mode and I use JDBC URL like jdbc:h2:tcp://localhost:8082/nio:~/source/database/database/ from my java application. By default, the user who accesses has the Read/Write access and I want to restrict it to read-only access.</p>\n<p>I've come across the option ACCESS_MODE_DATA=r in the JDBC URL, which would make the H2 DB access read-only but the user who accesses H2 DB could bypass it, if he doesn't pass the option ACCESS_MODE_DATA=r .</p>\n<p>Are there any alternate options to restrict the TCP connection to H2 Database as readonly ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"score":2,"creation_date":1380240851,"post_id":19040706,"comment_id":28138431,"body_markdown":"Come on, did you even bother to look up how a switch statement works?","body":"Come on, did you even bother to look up how a switch statement works?"},{"owner":{"account_id":470330,"reputation":10940,"user_id":877472,"accept_rate":77,"display_name":"Paul Richter"},"score":1,"creation_date":1380241088,"post_id":19040706,"comment_id":28138488,"body_markdown":"Yeah I&#39;m going to echo Hatori. This was an easy question (which is probably why there were so many quick answers), but typically on StackOverflow you need to show a first attempt, and post when you run in to a specific problem.","body":"Yeah I&#39;m going to echo Hatori. This was an easy question (which is probably why there were so many quick answers), but typically on StackOverflow you need to show a first attempt, and post when you run in to a specific problem."},{"owner":{"account_id":3330463,"reputation":255,"user_id":2799529,"accept_rate":75,"display_name":"zaynv"},"score":0,"creation_date":1380243064,"post_id":19040706,"comment_id":28138947,"body_markdown":"Yeah I&#39;m really sorry about my effortless questioning. It&#39;s just that this assigment was due in an hour and I had to go somewhere so I was worried I wouldnt have time to read up on it and write a program. One more time, sorry it wont happen again.","body":"Yeah I&#39;m really sorry about my effortless questioning. It&#39;s just that this assigment was due in an hour and I had to go somewhere so I was worried I wouldnt have time to read up on it and write a program. One more time, sorry it wont happen again."}],"answers":[{"tags":[],"owner":{"account_id":418043,"reputation":12482,"user_id":794380,"accept_rate":80,"display_name":"Idan Arye"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380240687,"creation_date":1380240687,"answer_id":19040716,"question_id":19040706,"body_markdown":"    switch(choice)\r\n    {\r\n        case 1:\r\n            System.out.println(&quot;You selected 1.&quot;);\r\n            break;\r\n        case 2:\r\n        case 3:\r\n            System.out.println(&quot;You selected 2 or 3.&quot;);\r\n            break;\r\n        case 4:\r\n            System.out.println(&quot;You selected 4.&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Please enter a choice between 1-4.&quot;);\r\n    }\r\n\r\n","title":"Converting an if-else-if statement into a switch statement in java","body":"<pre><code>switch(choice)\n{\n    case 1:\n        System.out.println(\"You selected 1.\");\n        break;\n    case 2:\n    case 3:\n        System.out.println(\"You selected 2 or 3.\");\n        break;\n    case 4:\n        System.out.println(\"You selected 4.\");\n        break;\n    default:\n        System.out.println(\"Please enter a choice between 1-4.\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380240689,"creation_date":1380240689,"answer_id":19040718,"question_id":19040706,"body_markdown":"You probably want something like:\r\n\r\n    switch (choice) {\r\n        case 1:\r\n            System.out.println(&quot;You selected 1.&quot;);\r\n            break;\r\n        case 2:\r\n        case 3:  // fall through\r\n            System.out.println(&quot;You selected 2 or 3.&quot;);\r\n            break;\r\n        case 4:\r\n            System.out.println(&quot;You selected 4.&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Please enter a choice between 1-4.&quot;);\r\n    }\r\n\r\nI urge you to read the [switch statement tutorial][1], which should explain how/why this works as it does.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Converting an if-else-if statement into a switch statement in java","body":"<p>You probably want something like:</p>\n\n<pre><code>switch (choice) {\n    case 1:\n        System.out.println(\"You selected 1.\");\n        break;\n    case 2:\n    case 3:  // fall through\n        System.out.println(\"You selected 2 or 3.\");\n        break;\n    case 4:\n        System.out.println(\"You selected 4.\");\n        break;\n    default:\n        System.out.println(\"Please enter a choice between 1-4.\");\n}\n</code></pre>\n\n<p>I urge you to read the <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">switch statement tutorial</a>, which should explain how/why this works as it does.</p>\n"},{"tags":[],"owner":{"account_id":318399,"reputation":7256,"user_id":635610,"accept_rate":95,"display_name":"MeIr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380241119,"creation_date":1380241119,"answer_id":19040783,"question_id":19040706,"body_markdown":"    import java.util.Scanner;\r\n     \r\n    public class ifToSwitchConversion {\r\n     \r\n    public static void main(String [] args) {\r\n    \r\n        // Declare a Scanner and a choice variable\r\n        Scanner stdin = new Scanner(System.in);\r\n        int choice = 0;\r\n    \r\n        System.out.println(&quot;Please enter your choice (1-4): &quot;);\r\n        choice = stdin.nextInt();\r\n    \r\n    \r\n        switch(choice) {\r\n            case 1:\r\n                System.out.println(&quot;You selected 1.&quot;);\r\n                break;\r\n            case 2:\r\n            case 3:\r\n                System.out.println(&quot;You selected 2 or 3.&quot;);\r\n                break;\r\n            case 4:\r\n                System.out.println(&quot;You selected 4.&quot;);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Please enter a choice between 1-4.&quot;);\r\n        }\r\n    \r\n      }\r\n\r\n    }","title":"Converting an if-else-if statement into a switch statement in java","body":"<pre><code>import java.util.Scanner;\n\npublic class ifToSwitchConversion {\n\npublic static void main(String [] args) {\n\n    // Declare a Scanner and a choice variable\n    Scanner stdin = new Scanner(System.in);\n    int choice = 0;\n\n    System.out.println(\"Please enter your choice (1-4): \");\n    choice = stdin.nextInt();\n\n\n    switch(choice) {\n        case 1:\n            System.out.println(\"You selected 1.\");\n            break;\n        case 2:\n        case 3:\n            System.out.println(\"You selected 2 or 3.\");\n            break;\n        case 4:\n            System.out.println(\"You selected 4.\");\n            break;\n        default:\n            System.out.println(\"Please enter a choice between 1-4.\");\n    }\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14362778,"reputation":1,"user_id":10374677,"display_name":"santhosh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1537186737,"creation_date":1537181969,"answer_id":52366224,"question_id":19040706,"body_markdown":"\r\n    /* Just change choice to 1\r\n     * if you want 2 or 3 or 4\r\n     * just change the switch(2 or 3 or 4) \r\n     */\r\n\r\n    switch(1)\r\n    {\r\n        case 1:\r\n            System.out.println(&quot;You selected 1.&quot;);\r\n            break;\r\n        case 2:\r\n        case 3:\r\n            System.out.println(&quot;You selected 2 or 3.&quot;);\r\n            break;\r\n        case 4:\r\n            System.out.println(&quot;You selected 4.&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Please enter a choice between 1-4.&quot;);\r\n    }\r\n\r\nAnswer : You selected 1.","title":"Converting an if-else-if statement into a switch statement in java","body":"<pre><code>/* Just change choice to 1\n * if you want 2 or 3 or 4\n * just change the switch(2 or 3 or 4) \n */\n\nswitch(1)\n{\n    case 1:\n        System.out.println(\"You selected 1.\");\n        break;\n    case 2:\n    case 3:\n        System.out.println(\"You selected 2 or 3.\");\n        break;\n    case 4:\n        System.out.println(\"You selected 4.\");\n        break;\n    default:\n        System.out.println(\"Please enter a choice between 1-4.\");\n}\n</code></pre>\n\n<p>Answer : You selected 1.</p>\n"}],"owner":{"account_id":3330463,"reputation":255,"user_id":2799529,"accept_rate":75,"display_name":"zaynv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39407,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":19040783,"answer_count":4,"score":1,"last_activity_date":1637291579,"creation_date":1380240557,"question_id":19040706,"body_markdown":"I&#39;m having trouble turning this program from an if-else-if statement into a switch statement. Any help would be appreciated.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ifToSwitchConversion {\r\n    \r\n    \r\n        public static void main(String [] args) {\r\n        \t\r\n        \t// Declare a Scanner and a choice variable\r\n        \tScanner stdin = new Scanner(System.in);\r\n        \tint choice = 0;\r\n        \t\r\n        \tSystem.out.println(&quot;Please enter your choice (1-4): &quot;);\r\n        \tchoice = stdin.nextInt();\r\n        \t\r\n        \tif(choice == 1)\r\n        \t{\r\n        \t\tSystem.out.println(&quot;You selected 1.&quot;);\r\n        \t}\r\n        \telse if(choice == 2 || choice == 3)\r\n        \t{\r\n        \t\tSystem.out.println(&quot;You selected 2 or 3.&quot;);\r\n        \t}\r\n        \telse if(choice == 4)\r\n        \t{\r\n        \t\tSystem.out.println(&quot;You selected 4.&quot;);\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tSystem.out.println(&quot;Please enter a choice between 1-4.&quot;);\r\n        \t}\r\n        \t\r\n        }\r\n        \r\n        \r\n    }","title":"Converting an if-else-if statement into a switch statement in java","body":"<p>I'm having trouble turning this program from an if-else-if statement into a switch statement. Any help would be appreciated.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ifToSwitchConversion {\n\n\n    public static void main(String [] args) {\n\n        // Declare a Scanner and a choice variable\n        Scanner stdin = new Scanner(System.in);\n        int choice = 0;\n\n        System.out.println(\"Please enter your choice (1-4): \");\n        choice = stdin.nextInt();\n\n        if(choice == 1)\n        {\n            System.out.println(\"You selected 1.\");\n        }\n        else if(choice == 2 || choice == 3)\n        {\n            System.out.println(\"You selected 2 or 3.\");\n        }\n        else if(choice == 4)\n        {\n            System.out.println(\"You selected 4.\");\n        }\n        else\n        {\n            System.out.println(\"Please enter a choice between 1-4.\");\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2101290,"reputation":6172,"user_id":1868841,"display_name":"Waqar UlHaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582921891,"creation_date":1582921891,"answer_id":60458855,"question_id":60458106,"body_markdown":"As per your crash logs:\r\n```\r\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) Caused by: \r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void \r\nandroid.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference at \r\ncom.studenthelper.bscit.MainActivity.onCreate(MainActivity.java:20) \r\n```\r\n\r\nIt means your **textView** \r\n\r\n    TextView textView=findViewById(R.id.logotext);\r\nIs not found from the layout ***R.layout.activity_main*** due to which when you try to `textView.setText(Text);` it&#39;s actually **null** and exception occurs.\r\n\r\nSo, I&#39;ll suggest to\r\n\r\n 1. Verify **textVIew** Id is same in the layout? and\r\n 2. Set the `    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n` \r\nbefore the `setContentView(R.layout.activity_main);`\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState); \r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    setContentView(R.layout.activity_main);\r\n    TextView textView=findViewById(R.id.logotext);\r\n    int unicode=0x1F4A1;\r\n    String emoji=getEmoji(unicode);\r\n    String Text=&quot;Bsc&quot;+emoji+&quot;T&quot;;\r\n    textView.setText(Text);\r\n\r\n}\r\n```","title":"App crashes while changing the orientation from landscape to portrait","body":"<p>As per your crash logs:</p>\n\n<pre><code>com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) Caused by: \njava.lang.NullPointerException: Attempt to invoke virtual method 'void \nandroid.widget.TextView.setText(java.lang.CharSequence)' on a null object reference at \ncom.studenthelper.bscit.MainActivity.onCreate(MainActivity.java:20) \n</code></pre>\n\n<p>It means your <strong>textView</strong> </p>\n\n<pre><code>TextView textView=findViewById(R.id.logotext);\n</code></pre>\n\n<p>Is not found from the layout <strong><em>R.layout.activity_main</em></strong> due to which when you try to <code>textView.setText(Text);</code> it's actually <strong>null</strong> and exception occurs.</p>\n\n<p>So, I'll suggest to</p>\n\n<ol>\n<li>Verify <strong>textVIew</strong> Id is same in the layout? and</li>\n<li>Set the <code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code> \nbefore the <code>setContentView(R.layout.activity_main);</code></li>\n</ol>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState); \n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.activity_main);\n    TextView textView=findViewById(R.id.logotext);\n    int unicode=0x1F4A1;\n    String emoji=getEmoji(unicode);\n    String Text=\"Bsc\"+emoji+\"T\";\n    textView.setText(Text);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8802508,"reputation":98,"user_id":6578176,"display_name":"Ryan W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637291241,"creation_date":1637291241,"answer_id":70029386,"question_id":60458106,"body_markdown":"To summarise the problem: You have defined two layouts, which one of them does not have a `TextView`. From your code obviously the crash is caused by calling `.setText()` on a null object.\r\n\r\nThe best way is always to add back the missing `TextView` back to your another layout, so all your layouts contains the same set of IDs. This can avoid bugs caused by `findViewById()`. In the layout which you do not need the `TextView`, you can simply set its `android:visibility=&quot;gone&quot;` to hide it.\r\n\r\nAlternatively back to your code, if you know the `TextView` is not always there, you can simply check if your `textView` variable is `null` or not, before calling `.setText()`. This can also avoid the `NullPointerException`.\r\n","title":"App crashes while changing the orientation from landscape to portrait","body":"<p>To summarise the problem: You have defined two layouts, which one of them does not have a <code>TextView</code>. From your code obviously the crash is caused by calling <code>.setText()</code> on a null object.</p>\n<p>The best way is always to add back the missing <code>TextView</code> back to your another layout, so all your layouts contains the same set of IDs. This can avoid bugs caused by <code>findViewById()</code>. In the layout which you do not need the <code>TextView</code>, you can simply set its <code>android:visibility=&quot;gone&quot;</code> to hide it.</p>\n<p>Alternatively back to your code, if you know the <code>TextView</code> is not always there, you can simply check if your <code>textView</code> variable is <code>null</code> or not, before calling <code>.setText()</code>. This can also avoid the <code>NullPointerException</code>.</p>\n"}],"owner":{"account_id":17869438,"reputation":115,"user_id":12981063,"display_name":"abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637291241,"creation_date":1582918065,"question_id":60458106,"body_markdown":"ERROR \r\n**2020-03-01 17:36:58.959 6589-6589/com.studenthelper.bscit E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.studenthelper.bscit, PID: 6589\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.studenthelper.bscit/com.studenthelper.bscit.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2914)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)\r\n        at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:4785)\r\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4694)\r\n        at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:69)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6692)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.studenthelper.bscit.MainActivity.onCreate(MainActivity.java:21)\r\n        at android.app.Activity.performCreate(Activity.java:7140)\r\n        at android.app.Activity.performCreate(Activity.java:7131)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)&#160;\r\n        at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:4785)&#160;\r\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4694)&#160;\r\n        at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:69)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:193)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6692)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)&#160;&#160;**\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        TextView textView=findViewById(R.id.logotext);\r\n        int unicode=0x1F4A1;\r\n        String emoji=getEmoji(unicode);\r\n        String Text=&quot;Bsc&quot;+emoji+&quot;T&quot;;\r\n        textView.setText(Text);\r\n\r\n    }\r\n    public String getEmoji(int uni)\r\n    {\r\n        return new String(Character.toChars(uni));\r\n    }","title":"App crashes while changing the orientation from landscape to portrait","body":"<p>ERROR \n**2020-03-01 17:36:58.959 6589-6589/com.studenthelper.bscit E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.studenthelper.bscit, PID: 6589\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.studenthelper.bscit/com.studenthelper.bscit.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2914)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)\n        at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:4785)\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4694)\n        at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:69)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6692)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.studenthelper.bscit.MainActivity.onCreate(MainActivity.java:21)\n        at android.app.Activity.performCreate(Activity.java:7140)\n        at android.app.Activity.performCreate(Activity.java:7131)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049) \n        at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:4785) \n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4694) \n        at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:69) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:193) \n        at android.app.ActivityThread.main(ActivityThread.java:6692) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)  **</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    TextView textView=findViewById(R.id.logotext);\n    int unicode=0x1F4A1;\n    String emoji=getEmoji(unicode);\n    String Text=\"Bsc\"+emoji+\"T\";\n    textView.setText(Text);\n\n}\npublic String getEmoji(int uni)\n{\n    return new String(Character.toChars(uni));\n}\n</code></pre>\n"},{"tags":["java","mysql","servlets"],"comments":[{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":1,"creation_date":1541088885,"post_id":53105137,"comment_id":93105583,"body_markdown":"Which MySQL version. Which java version? Which jdbc driver version?","body":"Which MySQL version. Which java version? Which jdbc driver version?"},{"owner":{"account_id":13966335,"reputation":11,"user_id":10086026,"display_name":"GoatMarine"},"score":0,"creation_date":1541089223,"post_id":53105137,"comment_id":93105774,"body_markdown":"MySQL 8.0.13, \nJava 8,  \nMySQL Connector 5.1.47","body":"MySQL 8.0.13,  Java 8,   MySQL Connector 5.1.47"},{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":0,"creation_date":1541096314,"post_id":53105137,"comment_id":93109510,"body_markdown":"have you included the driver in your project? if you&#39;re on maven you would have a mysql dependency in your pom.xml file","body":"have you included the driver in your project? if you&#39;re on maven you would have a mysql dependency in your pom.xml file"},{"owner":{"account_id":13966335,"reputation":11,"user_id":10086026,"display_name":"GoatMarine"},"score":0,"creation_date":1541107748,"post_id":53105137,"comment_id":93114501,"body_markdown":"I&#39;ve added my pom.xml","body":"I&#39;ve added my pom.xml"},{"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"score":0,"creation_date":1541107976,"post_id":53105137,"comment_id":93114584,"body_markdown":"https://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql","body":"<a href=\"https://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql\" title=\"solving a communications link failure with jdbc and mysql\">stackoverflow.com/questions/6865538/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7641399,"reputation":301,"user_id":5793366,"display_name":"Lushang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637290881,"creation_date":1637290881,"answer_id":70029342,"question_id":53105137,"body_markdown":"As you mentioned that you got the problem after you **changed** your work computer, which is similar to my situation. My problem is caused by the version of JDK, mysql and their connector. Thanks to @Kristianmitk, you may need to add the `enabledTLSProtocols=TLSv1.2` configuration property in the connection string to resolve your issue. Like this:\r\n\r\n```\r\njdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\r\n```\r\n\r\nyou may also refer to [this question][1] for more information about version conflict.\r\n\r\n[1]:https://stackoverflow.com/questions/67332909/why-can-java-not-connect-to-mysql-5-7-after-the-latest-jdk-update-and-how-should","title":"MySQL Bad Handshake on Java Servlet","body":"<p>As you mentioned that you got the problem after you <strong>changed</strong> your work computer, which is similar to my situation. My problem is caused by the version of JDK, mysql and their connector. Thanks to @Kristianmitk, you may need to add the <code>enabledTLSProtocols=TLSv1.2</code> configuration property in the connection string to resolve your issue. Like this:</p>\n<pre><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>you may also refer to <a href=\"https://stackoverflow.com/questions/67332909/why-can-java-not-connect-to-mysql-5-7-after-the-latest-jdk-update-and-how-should\">this question</a> for more information about version conflict.</p>\n"}],"owner":{"account_id":13966335,"reputation":11,"user_id":10086026,"display_name":"GoatMarine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637290881,"creation_date":1541088729,"question_id":53105137,"body_markdown":"I recently changed my work computer where I was testing my Web Application running on Maven. Currently I&#39;m having issues connecting my Servlet to my MySQL Database\r\n\r\nThis is the code I&#39;m using to connect to it\r\n\r\n    //Database \r\n\t\tString DB_URL=&quot;jdbc:mysql://localhost:3306/adminhub&quot;;\r\n\t\t//Credentials\r\n\t\tString USR = &quot;root&quot;;\r\n\t\tString PASS = &quot;password&quot;;\r\n\t\ttry {\r\n\t\t\t// Register JDBC driver\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\t\r\n\t\t\t//Establish Database Connection\r\n\t\t\tConnection conn = DriverManager.getConnection(DB_URL, USR, PASS);\r\n\t\t\t//SQL Statement Execution\r\n\t\t\tStatement stm = conn.createStatement();\r\n\t\t\t\r\n\t\t\tif (comboSrch.equals(&quot;Tag&quot;)) {\r\n\t\t\t\tsqlm = &quot;Select * from knowledge where Tag1 like &#39;%&quot; + boxSrch + &quot;%&#39; or Tag2 like &#39;%&quot; + boxSrch +&quot;%&#39;;&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tsqlm = &quot;Select * from knowledge where &quot; + comboSrch + &quot; like &#39;%&quot; + boxSrch + &quot;%&#39;;&quot;;\r\n\t\t\t}\r\n\t\t\tResultSet mid = stm.executeQuery(sqlm);\r\n\t\t\twhile (mid.next()) {\r\n\t\t\t\tName = mid.getString(&quot;KName&quot;);\r\n\t\t\t\tPath = mid.getString(&quot;KPath&quot;);\r\n\t\t\t\tout.println(&quot;&lt;a href=\\&quot;&quot; + Path + &quot;\\&quot;&gt;&quot; + Name + &quot;&lt;/a&gt;&lt;br&gt;&quot;);\r\n\t\t\t}\r\n\t\t\t\t    \r\n\t\t\tmid.close();\r\n\t\t\tstm.close();\r\n\t\t\tconn.close();\r\n\t\t\t\t    \r\n\t\t} catch (SQLException se){\r\n\t\t\tse.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;Servlet failed to Load the desired resource&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nAnd this is the result (Which I didn&#39;t get previously)\r\n\r\n    \r\n    java.sql.SQLException: Communication link failure: Bad handshake\r\n    Servlet failed to Load the desired resource\r\n    \tat com.mysql.jdbc.MysqlIO.init(Unknown Source)\r\n    \tat com.mysql.jdbc.Connection.connectionInit(Unknown Source)\r\n    \tat com.mysql.jdbc.jdbc2.Connection.connectionInit(Unknown Source)\r\n    \tat com.mysql.jdbc.Driver.connect(Unknown Source)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n    \tat com.company.adm.Knowledge.doPost(Knowledge.java:78)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n\r\nI tried restarting my MySQL Service, restarting my computer, upgrading my Installation. Nothing seems to be working\r\n\r\nPlease assist, thanks in advance!\r\n\r\nEDIT: I&#39;m sure the Servlet manages to find the Database but fails afterwards\r\n\r\nEDIT2: This is my POM File \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n      &lt;artifactId&gt;adm&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5 - Enif&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;adm&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n      \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n      &lt;/dependencies&gt;\r\n      \r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;webXml&gt;WebContent\\WEB-INF\\web.xml&lt;/webXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"MySQL Bad Handshake on Java Servlet","body":"<p>I recently changed my work computer where I was testing my Web Application running on Maven. Currently I'm having issues connecting my Servlet to my MySQL Database</p>\n\n<p>This is the code I'm using to connect to it</p>\n\n<pre><code>//Database \n    String DB_URL=\"jdbc:mysql://localhost:3306/adminhub\";\n    //Credentials\n    String USR = \"root\";\n    String PASS = \"password\";\n    try {\n        // Register JDBC driver\n        Class.forName(\"com.mysql.jdbc.Driver\");\n\n        //Establish Database Connection\n        Connection conn = DriverManager.getConnection(DB_URL, USR, PASS);\n        //SQL Statement Execution\n        Statement stm = conn.createStatement();\n\n        if (comboSrch.equals(\"Tag\")) {\n            sqlm = \"Select * from knowledge where Tag1 like '%\" + boxSrch + \"%' or Tag2 like '%\" + boxSrch +\"%';\";\n        } else {\n            sqlm = \"Select * from knowledge where \" + comboSrch + \" like '%\" + boxSrch + \"%';\";\n        }\n        ResultSet mid = stm.executeQuery(sqlm);\n        while (mid.next()) {\n            Name = mid.getString(\"KName\");\n            Path = mid.getString(\"KPath\");\n            out.println(\"&lt;a href=\\\"\" + Path + \"\\\"&gt;\" + Name + \"&lt;/a&gt;&lt;br&gt;\");\n        }\n\n        mid.close();\n        stm.close();\n        conn.close();\n\n    } catch (SQLException se){\n        se.printStackTrace();\n        System.out.println(\"Servlet failed to Load the desired resource\");\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>And this is the result (Which I didn't get previously)</p>\n\n<pre><code>java.sql.SQLException: Communication link failure: Bad handshake\nServlet failed to Load the desired resource\n    at com.mysql.jdbc.MysqlIO.init(Unknown Source)\n    at com.mysql.jdbc.Connection.connectionInit(Unknown Source)\n    at com.mysql.jdbc.jdbc2.Connection.connectionInit(Unknown Source)\n    at com.mysql.jdbc.Driver.connect(Unknown Source)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at com.company.adm.Knowledge.doPost(Knowledge.java:78)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n\n<p>I tried restarting my MySQL Service, restarting my computer, upgrading my Installation. Nothing seems to be working</p>\n\n<p>Please assist, thanks in advance!</p>\n\n<p>EDIT: I'm sure the Servlet manages to find the Database but fails afterwards</p>\n\n<p>EDIT2: This is my POM File </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.company&lt;/groupId&gt;\n  &lt;artifactId&gt;adm&lt;/artifactId&gt;\n  &lt;version&gt;0.5 - Enif&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;adm&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n      &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;2.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;webXml&gt;WebContent\\WEB-INF\\web.xml&lt;/webXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1637293199,"post_id":70029051,"comment_id":123793418,"body_markdown":"From the _javadoc_ of class `java.util.InputMismatchException`: _Thrown by a Scanner to indicate that the token retrieved does not match the pattern for the expected type, or that the token is out of range for the expected type._ You are not entering a valid integer when this line of your code executes: `empleados = leer.nextInt();` Are you entering a very big number that is larger than `Integer.MAX_VALUE`?","body":"From the <i>javadoc</i> of class <code>java.util.InputMismatchException</code>: <i>Thrown by a Scanner to indicate that the token retrieved does not match the pattern for the expected type, or that the token is out of range for the expected type.</i> You are not entering a valid integer when this line of your code executes: <code>empleados = leer.nextInt();</code> Are you entering a very big number that is larger than <code>Integer.MAX_VALUE</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22439665,"reputation":58,"user_id":16644404,"display_name":"acaiberii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637290178,"creation_date":1637290178,"answer_id":70029258,"question_id":70029051,"body_markdown":"From what I can tell, it seems like you might be inputting characters instead of numbers.\r\n\r\nSpecifically at this stacktrace:\r\n\r\n```\r\n-----------------------------------------------------------\r\n     means that it doesn&#39;t match a specified pattern\r\n         possibly int&gt;String doesn&#39;t work?\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n-----------------------------------------------------------\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        ----------------------------------------------------------\r\n                           Exception in nextInt\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        ----------------------------------------------------------\r\n        at App.main(App.java:12)\r\n```\r\n\r\nsources  \r\nInputMismatchException -- https://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html\r\n\r\n\r\nIf you mean by the locale, if you&#39;re inputting 1.2 or such, try changing the locale by using ```.useLocale(Locale.ENGLISH)```, as it could be interpreting something that&#39;s not like ```1,2``` as a string.\r\n\r\nsources  \r\nlocale -- https://stackoverflow.com/questions/14027537/why-am-i-getting-inputmismatchexception","title":"i get an exception in &quot;main&quot; thread in VS code","body":"<p>From what I can tell, it seems like you might be inputting characters instead of numbers.</p>\n<p>Specifically at this stacktrace:</p>\n<pre><code>-----------------------------------------------------------\n     means that it doesn't match a specified pattern\n         possibly int&gt;String doesn't work?\nException in thread &quot;main&quot; java.util.InputMismatchException\n-----------------------------------------------------------\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        ----------------------------------------------------------\n                           Exception in nextInt\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        ----------------------------------------------------------\n        at App.main(App.java:12)\n</code></pre>\n<p>sources<br />\nInputMismatchException -- <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html</a></p>\n<p>If you mean by the locale, if you're inputting 1.2 or such, try changing the locale by using <code>.useLocale(Locale.ENGLISH)</code>, as it could be interpreting something that's not like <code>1,2</code> as a string.</p>\n<p>sources<br />\nlocale -- <a href=\"https://stackoverflow.com/questions/14027537/why-am-i-getting-inputmismatchexception\">Why am I getting InputMismatchException?</a></p>\n"}],"owner":{"account_id":23095992,"reputation":9,"user_id":17206104,"display_name":"Vicente T Lopez G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1637290178,"creation_date":1637288264,"question_id":70029051,"body_markdown":"I get an exception in my code, so it doesnt show more than the first print request, te problem seems to start at line 12\r\ni dont know if i need something else, or is a problem with the int variable type\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at App.main(App.java:12)```\r\n```\r\n\r\n```\r\n// En un supermercado se trabajan 5 d&#237;as a la semana. EupJava. Que lea la cantidad de empleados que trabajan por d&#237;a y las horas que trabajo cada empleado por d&#237;a. Imprimir:\r\n//- Cuantos empleados trabajaron el d&#237;a 1\r\n//- Numero de empleado que trabajo m&#225;s horas, cuantas horas fueron y en que d&#237;a fue\r\n//- Total de horas trabajadas el d&#237;a 5\r\nimport java.util.*;\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner leer = new Scanner (System.in);\r\n        int i, empleados, h, e1=0, mhora=0, hrs, nempleado=0, dia = 0, dia5 = 0;\r\n        for(i = 1; 1 &lt;= 5; i++) {\r\n    System.out.println(&quot;Pon el numero de empleados por dia&quot; + i);\r\n    empleados = leer.nextInt();\r\n    if(i == 1) {\r\n        e1 = empleados;\r\n    }\r\n\r\n    for(h = 1; h &lt; empleados; h++) {\r\n        System.out.println(&quot;Pon el numero de horas&quot;);\r\n        hrs = leer.nextInt();\r\n        if (hrs &gt; mhora) {\r\n            mhora = hrs;\r\n            dia = i;\r\n            dia = i;\r\n        }\r\n        if (i == 5){\r\n            dia5 = dia5 + hrs;\r\n        }\r\n    }\r\n    System.out.println(&quot;La cantidad de empleados que trabajo el d&#237;a 1 es de&quot;+e1);\r\n    System.out.println(&quot;El empleado que trabajo m&#225;s horas fue el&quot;+nempleado+&quot;trabajo&quot;+mhora+&quot;y fue en el d&#237;a&quot;+dia);\r\n    System.out.println(&quot;El total de horas rabajadas en el d&#237;a 5 fue de&quot;+ dia5);\r\n        }       \r\n\r\n    }\r\n}\r\n```","title":"i get an exception in &quot;main&quot; thread in VS code","body":"<p>I get an exception in my code, so it doesnt show more than the first print request, te problem seems to start at line 12\ni dont know if i need something else, or is a problem with the int variable type</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at App.main(App.java:12)```\n</code></pre>\n<pre><code>// En un supermercado se trabajan 5 días a la semana. EupJava. Que lea la cantidad de empleados que trabajan por día y las horas que trabajo cada empleado por día. Imprimir:\n//- Cuantos empleados trabajaron el día 1\n//- Numero de empleado que trabajo más horas, cuantas horas fueron y en que día fue\n//- Total de horas trabajadas el día 5\nimport java.util.*;\npublic class App {\n    public static void main(String[] args) throws Exception {\n        Scanner leer = new Scanner (System.in);\n        int i, empleados, h, e1=0, mhora=0, hrs, nempleado=0, dia = 0, dia5 = 0;\n        for(i = 1; 1 &lt;= 5; i++) {\n    System.out.println(&quot;Pon el numero de empleados por dia&quot; + i);\n    empleados = leer.nextInt();\n    if(i == 1) {\n        e1 = empleados;\n    }\n\n    for(h = 1; h &lt; empleados; h++) {\n        System.out.println(&quot;Pon el numero de horas&quot;);\n        hrs = leer.nextInt();\n        if (hrs &gt; mhora) {\n            mhora = hrs;\n            dia = i;\n            dia = i;\n        }\n        if (i == 5){\n            dia5 = dia5 + hrs;\n        }\n    }\n    System.out.println(&quot;La cantidad de empleados que trabajo el día 1 es de&quot;+e1);\n    System.out.println(&quot;El empleado que trabajo más horas fue el&quot;+nempleado+&quot;trabajo&quot;+mhora+&quot;y fue en el día&quot;+dia);\n    System.out.println(&quot;El total de horas rabajadas en el día 5 fue de&quot;+ dia5);\n        }       \n\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1637286818,"post_id":70028868,"comment_id":123792258,"body_markdown":"Sort the stream before collecting","body":"Sort the stream before collecting"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637312968,"post_id":70028868,"comment_id":123798064,"body_markdown":"or just use a `TreeMap` when you want to sort by key. But when you want to sort by value, there is no way around sorting afterwards, as the values are not known before having calculated all groups.","body":"or just use a <code>TreeMap</code> when you want to sort by key. But when you want to sort by value, there is no way around sorting afterwards, as the values are not known before having calculated all groups."}],"answers":[{"tags":[],"owner":{"account_id":23157653,"reputation":126,"user_id":17258696,"display_name":"Ethan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637290175,"creation_date":1637290175,"answer_id":70029257,"question_id":70028868,"body_markdown":"add `sorted()` operator:\r\n``` java\r\nLinkedHashMap&lt;String, Long&gt; result = Arrays.stream(array)\r\n                .sorted()\r\n                .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\r\n```","title":"How to make Collectors.groupingBy() return a sorted LinkedHashMap?","body":"<p>add <code>sorted()</code> operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedHashMap&lt;String, Long&gt; result = Arrays.stream(array)\n                .sorted()\n                .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":16275079,"reputation":1090,"user_id":11752443,"display_name":"powerseed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70029257,"answer_count":1,"score":1,"last_activity_date":1637290175,"creation_date":1637286427,"question_id":70028868,"body_markdown":"For example, I have a List:\r\n```\r\n{Cat, Cat, Cat, Dog, Dog, Rat}\r\n```\r\n\r\nI want to return a sorted Map, in ascending or descending at my choice, where the keys are the animal names, and the values are their appearance times.\r\n\r\nFor example\r\n```\r\n{\r\n    Rat: 1\r\n    Dog: 2\r\n    Cat: 3\r\n}\r\n```\r\nBy using \r\n```\r\nLinkedHashMap&lt;String, Long&gt; map = \r\n    list\r\n    .stream()\t\t\t                   \r\n    .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\r\n```\r\nI can have a `LinkedHashMap`, but it is not sorted.\r\n\r\nI know that I can sort the Map afterward, but is there a way to do it in one stream?\r\n\r\nThanks!","title":"How to make Collectors.groupingBy() return a sorted LinkedHashMap?","body":"<p>For example, I have a List:</p>\n<pre><code>{Cat, Cat, Cat, Dog, Dog, Rat}\n</code></pre>\n<p>I want to return a sorted Map, in ascending or descending at my choice, where the keys are the animal names, and the values are their appearance times.</p>\n<p>For example</p>\n<pre><code>{\n    Rat: 1\n    Dog: 2\n    Cat: 3\n}\n</code></pre>\n<p>By using</p>\n<pre><code>LinkedHashMap&lt;String, Long&gt; map = \n    list\n    .stream()                              \n    .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\n</code></pre>\n<p>I can have a <code>LinkedHashMap</code>, but it is not sorted.</p>\n<p>I know that I can sort the Map afterward, but is there a way to do it in one stream?</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","object","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637289874,"creation_date":1637289874,"answer_id":70029223,"question_id":70029183,"body_markdown":"The code you showed makes a ```StringBuilder``` with contents of &#39;test&#39;.  It isn&#39;t a string.  You can get the String value from it by calling ```toString()```\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;initial value.&quot;);\r\n    sb.append(&quot;test&quot;);\r\n    sb.append(&quot;[sub test]&quot;);\r\n    String val = sb.toString();\r\n    System.out.println(val);\r\n\r\nTry the code, experiment with it. See what prints.","title":"editing and adding values for a string object using string builder","body":"<p>The code you showed makes a <code>StringBuilder</code> with contents of 'test'.  It isn't a string.  You can get the String value from it by calling <code>toString()</code></p>\n<pre><code>StringBuilder sb = new StringBuilder(&quot;initial value.&quot;);\nsb.append(&quot;test&quot;);\nsb.append(&quot;[sub test]&quot;);\nString val = sb.toString();\nSystem.out.println(val);\n</code></pre>\n<p>Try the code, experiment with it. See what prints.</p>\n"}],"owner":{"account_id":23387742,"reputation":3,"user_id":17452802,"display_name":"unio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70029223,"answer_count":1,"score":0,"last_activity_date":1637289874,"creation_date":1637289525,"question_id":70029183,"body_markdown":"Im very new to programming and im taking a course. It wants me to create a string object using string buider. I think i figured it out `StringBuilder str = new StringBuilder(test);`. It makes a string object(i think) with the name test. I wanted to be able to add &#39;values&#39; inside of it. Like the string object &quot;test&quot; also has like a sub category for like &quot;sub test&quot;. I also dont know how I would access and call on those specific values. as  i said before im new so I am probably missing a method or something basic that I can use. Thanks. \r\n\r\n\r\n\r\nThe only other thing I could think of that would add two values together is a 2 dim array but the class wants me to use string objects and string builder. \r\n","title":"editing and adding values for a string object using string builder","body":"<p>Im very new to programming and im taking a course. It wants me to create a string object using string buider. I think i figured it out <code>StringBuilder str = new StringBuilder(test);</code>. It makes a string object(i think) with the name test. I wanted to be able to add 'values' inside of it. Like the string object &quot;test&quot; also has like a sub category for like &quot;sub test&quot;. I also dont know how I would access and call on those specific values. as  i said before im new so I am probably missing a method or something basic that I can use. Thanks.</p>\n<p>The only other thing I could think of that would add two values together is a 2 dim array but the class wants me to use string objects and string builder.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1637289631,"post_id":70028964,"comment_id":123792734,"body_markdown":"Show the stack trace of the exception.  Try stepping through your code with a debugger and looking at the value of ```callback```","body":"Show the stack trace of the exception.  Try stepping through your code with a debugger and looking at the value of <code>callback</code>"}],"answers":[{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637289715,"creation_date":1637289715,"answer_id":70029201,"question_id":70028964,"body_markdown":"There error appears to occur on the line `callback.insert(year,...`.  The variable `callback` is not assigned when the `insert` method is called on it.  The variable `callback` is assigned in the `onAttachFragment()` method but it&#39;s not clear from the code you have shown if that method gets called.","title":"NullPointerException: Attempt to invoke interface method: OnDatabaseCallback.insert(java.lang.String)&#39; on a null object reference","body":"<p>There error appears to occur on the line <code>callback.insert(year,...</code>.  The variable <code>callback</code> is not assigned when the <code>insert</code> method is called on it.  The variable <code>callback</code> is assigned in the <code>onAttachFragment()</code> method but it's not clear from the code you have shown if that method gets called.</p>\n"}],"owner":{"account_id":23387396,"reputation":1,"user_id":17452506,"display_name":"Interman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637289715,"creation_date":1637287398,"question_id":70028964,"body_markdown":"Why does this error come up even though there is definitely a mention of callback?\r\nI keep getting errors about the callback.\r\n\r\nIs the onAttach Fragment the problem?\r\n\r\n\r\n\r\npublic class NotiFragment extends Fragment {\r\n\r\n  ...\r\n\r\n    OnDatabaseCallback callback;\r\n    @Override\r\n    public void onAttachFragment(@NonNull Fragment childFragment) {\r\n        super.onAttachFragment(childFragment);\r\n        callback = (OnDatabaseCallback) getParentFragment();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.notifragment, container, false);\r\n\r\n        spinner = rootView.findViewById(R.id.spinner);\r\n        textView7 = rootView.findViewById(R.id.textView7);\r\n        editText_year = rootView.findViewById(R.id.editText_year);\r\n        editText_month = rootView.findViewById(R.id.editText_month);\r\n        editText_age = rootView.findViewById(R.id.editText_age);\r\n        editText_grade = rootView.findViewById(R.id.editText_grade);\r\n        editText_score = rootView.findViewById(R.id.editText_score);\r\n        savebutton = rootView.findViewById(R.id.savebutton);\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt; (\r\n                getActivity(), android.R.layout.simple_spinner_item, spinnersub);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                switch (position) {\r\n                    case 0 :\r\n                        savebutton.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                String year = editText_year.getText().toString();\r\n                                String month = editText_age.getText().toString();\r\n                                String age = editText_grade.getText().toString();\r\n                                String grade = editText_grade.getText().toString();\r\n                                String score = editText_score.getText().toString();\r\n                                callback.insert(year, month, age, grade, score);\r\n                            }\r\n                        });\r\n                        break;\r\n                }\r\n            }\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n        return rootView;\r\n    }\r\n}\r\n\r\nThe interface for OnDatabaseCallback is below.\r\n---------------------------------------------\r\n\r\npublic interface OnDatabaseCallback {\r\n    public void insert(String year, String month, String age, String grade, String score );\r\n    public ArrayList&lt;TestInfo&gt; selectAll();\r\n}\r\n","title":"NullPointerException: Attempt to invoke interface method: OnDatabaseCallback.insert(java.lang.String)&#39; on a null object reference","body":"<p>Why does this error come up even though there is definitely a mention of callback?\nI keep getting errors about the callback.</p>\n<p>Is the onAttach Fragment the problem?</p>\n<p>public class NotiFragment extends Fragment {</p>\n<p>...</p>\n<pre><code>OnDatabaseCallback callback;\n@Override\npublic void onAttachFragment(@NonNull Fragment childFragment) {\n    super.onAttachFragment(childFragment);\n    callback = (OnDatabaseCallback) getParentFragment();\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.notifragment, container, false);\n\n    spinner = rootView.findViewById(R.id.spinner);\n    textView7 = rootView.findViewById(R.id.textView7);\n    editText_year = rootView.findViewById(R.id.editText_year);\n    editText_month = rootView.findViewById(R.id.editText_month);\n    editText_age = rootView.findViewById(R.id.editText_age);\n    editText_grade = rootView.findViewById(R.id.editText_grade);\n    editText_score = rootView.findViewById(R.id.editText_score);\n    savebutton = rootView.findViewById(R.id.savebutton);\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt; (\n            getActivity(), android.R.layout.simple_spinner_item, spinnersub);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            switch (position) {\n                case 0 :\n                    savebutton.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            String year = editText_year.getText().toString();\n                            String month = editText_age.getText().toString();\n                            String age = editText_grade.getText().toString();\n                            String grade = editText_grade.getText().toString();\n                            String score = editText_score.getText().toString();\n                            callback.insert(year, month, age, grade, score);\n                        }\n                    });\n                    break;\n            }\n        }\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n        }\n    });\n    return rootView;\n}\n</code></pre>\n<p>}</p>\n<h2>The interface for OnDatabaseCallback is below.</h2>\n<p>public interface OnDatabaseCallback {\npublic void insert(String year, String month, String age, String grade, String score );\npublic ArrayList selectAll();\n}</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429638291,"creation_date":1344244059,"answer_id":11825332,"question_id":11825281,"body_markdown":"**1.** In Java GUI applications, `main()` method is not long lived, **after scheduling the construction of GUI in the** `Event Dispatcher Thread`, the `main()` **method quits...and Now its EDT&#39;s responsibility to handle the GUI.**\r\n\r\n**2.** So we don&#39;t need to start our app on the EDT, **its automatically done.**\r\n\r\n**3** Always keep the UI work on the UI thread, and Non-UI work on the Non-UI thread.\r\n\r\nSo Always keep your EDT thread, which is the GUI thread only for GUI work.\r\n\r\nEg:\r\n\r\n    public static void main(String[] args){\r\n        EventQueue.invokeLater(new Runnable(){\r\n              public void run(){    \r\n                myframe.setVisible(true);\r\n             }\r\n         }\r\n    }\r\n\r\n**4.** Create a separate Non-UI thread to handle that long time taking method.\r\n\r\n**5.** You can simply use a `Thread` or use `SwingWorker` which is specially introduced into Java to sync the UI and Non-UI thread.\r\n\r\n**6.** SwingWorker doesnt ensure that done() method is run on EDT, but sync the output of it to EDT thread, which is the GUI thread.","title":"Java Swing - running on EDT","body":"<p><strong>1.</strong> In Java GUI applications, <code>main()</code> method is not long lived, <strong>after scheduling the construction of GUI in the</strong> <code>Event Dispatcher Thread</code>, the <code>main()</code> <strong>method quits...and Now its EDT's responsibility to handle the GUI.</strong></p>\n\n<p><strong>2.</strong> So we don't need to start our app on the EDT, <strong>its automatically done.</strong></p>\n\n<p><strong>3</strong> Always keep the UI work on the UI thread, and Non-UI work on the Non-UI thread.</p>\n\n<p>So Always keep your EDT thread, which is the GUI thread only for GUI work.</p>\n\n<p>Eg:</p>\n\n<pre><code>public static void main(String[] args){\n    EventQueue.invokeLater(new Runnable(){\n          public void run(){    \n            myframe.setVisible(true);\n         }\n     }\n}\n</code></pre>\n\n<p><strong>4.</strong> Create a separate Non-UI thread to handle that long time taking method.</p>\n\n<p><strong>5.</strong> You can simply use a <code>Thread</code> or use <code>SwingWorker</code> which is specially introduced into Java to sync the UI and Non-UI thread.</p>\n\n<p><strong>6.</strong> SwingWorker doesnt ensure that done() method is run on EDT, but sync the output of it to EDT thread, which is the GUI thread.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1344244356,"creation_date":1344244356,"answer_id":11825390,"question_id":11825281,"body_markdown":"1. Basically, every time you use a Swing component or a model of a Swing component, it must be done in the EDT. If you don&#39;t, no exception will be raised. It could work, but it could also not work, have erratic behavior, corrupted data, etc.\r\n2. Every Swing event listener is called in the EDT. Basically, except the main method, every line of code of a Swing application is executed in the EDT by default, unless you explicitely start a thread, use a SwingWorker, or something like that.\r\n3. yes.\r\n4. Tasks submitted to SwingUtilities.invokeLater() are executed in the same order as the order they were submitted.\r\n5. Internally, it uses SwingUtilities.invokeLater() or a similar method. The FutureTask doesn&#39;t have anything to do with Swing. It&#39;s the SwingWorker that ensures that its done method is executed in the EDT. The `doneEDT()` method has the following comment: *Invokes done on the EDT*.","title":"Java Swing - running on EDT","body":"<ol>\n<li>Basically, every time you use a Swing component or a model of a Swing component, it must be done in the EDT. If you don't, no exception will be raised. It could work, but it could also not work, have erratic behavior, corrupted data, etc.</li>\n<li>Every Swing event listener is called in the EDT. Basically, except the main method, every line of code of a Swing application is executed in the EDT by default, unless you explicitely start a thread, use a SwingWorker, or something like that.</li>\n<li>yes.</li>\n<li>Tasks submitted to SwingUtilities.invokeLater() are executed in the same order as the order they were submitted.</li>\n<li>Internally, it uses SwingUtilities.invokeLater() or a similar method. The FutureTask doesn't have anything to do with Swing. It's the SwingWorker that ensures that its done method is executed in the EDT. The <code>doneEDT()</code> method has the following comment: <em>Invokes done on the EDT</em>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1637289710,"creation_date":1344244461,"answer_id":11825416,"question_id":11825281,"body_markdown":"1. A good rule is that all operations (access/updates/...) should happen on the EDT. There are a few exceptions mentioned in the javadoc (certain methods of certain classes), but they are so hard to remember that it is easier to stick to the &#39;do everything on the EDT&#39; approach. Exceptions will not be raised (luckily, JavaFX fixed this shortcoming). You can use a custom `RepaintManager` to detect most of these violations: see [this article][1].\r\n2. Everything triggered by the user is handled on the EDT. For example if the user clicks on a button, the `actionPerformed` of the corresponding `Action` or `ActionListener` will be called on the EDT.\r\n3. Correct\r\n4. The thing you schedule first will be executed first. The `invokeLater` call simply adds the `Runnable` at the end of the queue. Using `invokeLater` a second time a bit later will add this new `Runnable` after the previously scheduled `Runnable`.\r\n5. Take a look at the code for `doneEDT`\r\n\r\n        private void doneEDT() {\r\n            Runnable doDone = \r\n                new Runnable() {\r\n                    public void run() {\r\n                        done();\r\n                    }\r\n                };\r\n            if (SwingUtilities.isEventDispatchThread()) {\r\n                doDone.run();\r\n            } else {\r\n                doSubmit.add(doDone);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20090318083739/http://weblogs.java.net:80/blog/alexfromsun/archive/2006/02/debugging_swing.html","title":"Java Swing - running on EDT","body":"<ol>\n<li><p>A good rule is that all operations (access/updates/...) should happen on the EDT. There are a few exceptions mentioned in the javadoc (certain methods of certain classes), but they are so hard to remember that it is easier to stick to the 'do everything on the EDT' approach. Exceptions will not be raised (luckily, JavaFX fixed this shortcoming). You can use a custom <code>RepaintManager</code> to detect most of these violations: see <a href=\"https://web.archive.org/web/20090318083739/http://weblogs.java.net:80/blog/alexfromsun/archive/2006/02/debugging_swing.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n</li>\n<li><p>Everything triggered by the user is handled on the EDT. For example if the user clicks on a button, the <code>actionPerformed</code> of the corresponding <code>Action</code> or <code>ActionListener</code> will be called on the EDT.</p>\n</li>\n<li><p>Correct</p>\n</li>\n<li><p>The thing you schedule first will be executed first. The <code>invokeLater</code> call simply adds the <code>Runnable</code> at the end of the queue. Using <code>invokeLater</code> a second time a bit later will add this new <code>Runnable</code> after the previously scheduled <code>Runnable</code>.</p>\n</li>\n<li><p>Take a look at the code for <code>doneEDT</code></p>\n<pre><code> private void doneEDT() {\n     Runnable doDone = \n         new Runnable() {\n             public void run() {\n                 done();\n             }\n         };\n     if (SwingUtilities.isEventDispatchThread()) {\n         doDone.run();\n     } else {\n         doSubmit.add(doDone);\n     }\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7679318,"reputation":1,"user_id":5819024,"display_name":"Junior "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453344463,"creation_date":1453344463,"answer_id":34914527,"question_id":11825281,"body_markdown":"SwingWorker ensure that done() method is run on EDT via below code: \r\n\r\n        Runnable doDone =\r\n            new Runnable() {\r\n                public void run() {\r\n                    done();\r\n                }\r\n            };\r\n        if (SwingUtilities.isEventDispatchThread()) {\r\n            doDone.run();\r\n        } else {\r\n            doSubmit.add(doDone);\r\n        }\r\n\r\nActually it add the doDone variable into AccumulativeRunnable doSubmit,\r\n\r\nSee the source code of AccumulativeRunnable.java you will find there has a below code\r\n\r\nprotected void submit() {\r\n\r\nSwingUtilities.invokeLater(this);\r\n\r\n}\r\n\r\nThat&#39;s why swingworker ensure the method done() running on EDT \r\n","title":"Java Swing - running on EDT","body":"<p>SwingWorker ensure that done() method is run on EDT via below code: </p>\n\n<pre><code>    Runnable doDone =\n        new Runnable() {\n            public void run() {\n                done();\n            }\n        };\n    if (SwingUtilities.isEventDispatchThread()) {\n        doDone.run();\n    } else {\n        doSubmit.add(doDone);\n    }\n</code></pre>\n\n<p>Actually it add the doDone variable into AccumulativeRunnable doSubmit,</p>\n\n<p>See the source code of AccumulativeRunnable.java you will find there has a below code</p>\n\n<p>protected void submit() {</p>\n\n<p>SwingUtilities.invokeLater(this);</p>\n\n<p>}</p>\n\n<p>That's why swingworker ensure the method done() running on EDT </p>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8615,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11825416,"answer_count":4,"score":14,"last_activity_date":1637289710,"creation_date":1344243829,"question_id":11825281,"body_markdown":"I have a couple of questions with regards to Swing and using EDT for GUI updates. I just started reading on this stuff so I am a full beginner in this area:\r\n\r\n1. Which operations are required to run on the EDT? If they don&#39;t, is simply an Exception raised?\r\n2. Are there any specific times when we actually are on  the EDT automatically?\r\n3. If we schedule a task using `SwingUtilities.invokeLater` we enqueue it to the current queue of GUI update tasks (the EDT) right? \r\n4. Accesses to the above queue I guess are synchronized, or some concurrent collection is used, but if I schedule two GUI update tasks, from two background threads, it is impossible to say which one will be added first? For instance, if Thread 1 FIRST submits a task of setting the text of a JLable to either &quot;yes&quot;, and then, short time later, second thread comes along and submits task of setting that value to &quot;no&quot;, are we guaranteed that the result will be &quot;yes&quot;, or is it simply a matter of how these things are scheduled by the OS?\r\n5. How exactly does the SwingWorker ensure that `done()` method is run on EDT? It sets the following code:\r\n\r\n          future = new FutureTask&lt;T&gt;(callable) {\r\n                       @Override\r\n                       protected void done() {\r\n                           doneEDT();\r\n                           setState(StateValue.DONE);\r\n                       }\r\n                   };\r\n\r\nso I was wondering whether FutureTask somehow makes sure that `invokeLater` is called?\r\n\r\nThanks for all your answers.","title":"Java Swing - running on EDT","body":"<p>I have a couple of questions with regards to Swing and using EDT for GUI updates. I just started reading on this stuff so I am a full beginner in this area:</p>\n\n<ol>\n<li>Which operations are required to run on the EDT? If they don't, is simply an Exception raised?</li>\n<li>Are there any specific times when we actually are on  the EDT automatically?</li>\n<li>If we schedule a task using <code>SwingUtilities.invokeLater</code> we enqueue it to the current queue of GUI update tasks (the EDT) right? </li>\n<li>Accesses to the above queue I guess are synchronized, or some concurrent collection is used, but if I schedule two GUI update tasks, from two background threads, it is impossible to say which one will be added first? For instance, if Thread 1 FIRST submits a task of setting the text of a JLable to either \"yes\", and then, short time later, second thread comes along and submits task of setting that value to \"no\", are we guaranteed that the result will be \"yes\", or is it simply a matter of how these things are scheduled by the OS?</li>\n<li><p>How exactly does the SwingWorker ensure that <code>done()</code> method is run on EDT? It sets the following code:</p>\n\n<pre><code>  future = new FutureTask&lt;T&gt;(callable) {\n               @Override\n               protected void done() {\n                   doneEDT();\n                   setState(StateValue.DONE);\n               }\n           };\n</code></pre></li>\n</ol>\n\n<p>so I was wondering whether FutureTask somehow makes sure that <code>invokeLater</code> is called?</p>\n\n<p>Thanks for all your answers.</p>\n"},{"tags":["java","session","primefaces","servlet-filters","okta"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637112853,"post_id":69997949,"comment_id":123737453,"body_markdown":"[Please add a minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)","body":"<a href=\"https://stackoverflow.com/help/mcve\">Please add a minimal, complete, and verifiable example</a>"},{"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"score":0,"creation_date":1637120532,"post_id":69997949,"comment_id":123738697,"body_markdown":"Updated question with sample code","body":"Updated question with sample code"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637122505,"post_id":69997949,"comment_id":123739009,"body_markdown":"why use use `httpServletRequest.getSession(true); `","body":"why use use <code>httpServletRequest.getSession(true); </code>"},{"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"score":0,"creation_date":1637124208,"post_id":69997949,"comment_id":123739297,"body_markdown":"getSession(true) creates new session right as session is null. Shouldnt there be a session from okta when authenticated by okta? I want to kill the session from okta and in app as well during signout.","body":"getSession(true) creates new session right as session is null. Shouldnt there be a session from okta when authenticated by okta? I want to kill the session from okta and in app as well during signout."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637124442,"post_id":69997949,"comment_id":123739336,"body_markdown":"https://stackoverflow.com/questions/60521346/is-session-created-automatically-after-the-first-request","body":"<a href=\"https://stackoverflow.com/questions/60521346/is-session-created-automatically-after-the-first-request\" title=\"is session created automatically after the first request\">stackoverflow.com/questions/60521346/&hellip;</a>"},{"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"score":0,"creation_date":1637172560,"post_id":69997949,"comment_id":123757409,"body_markdown":"hmm.. let me create the session and see how it goes.. will update the outcome here. Thank you.","body":"hmm.. let me create the session and see how it goes.. will update the outcome here. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1637289708,"creation_date":1637289708,"answer_id":70029200,"question_id":69997949,"body_markdown":"As Scary Wombat mentioned in the comment, it works with the new session that created. Thank you.","title":"How to get session when okta authenticates the application","body":"<p>As Scary Wombat mentioned in the comment, it works with the new session that created. Thank you.</p>\n"}],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70029200,"answer_count":1,"score":0,"last_activity_date":1637289708,"creation_date":1637112607,"question_id":69997949,"body_markdown":"I did follow the below and got my application working.\r\nhttps://developer.okta.com/docs/guides/implement-grant-type/authcode/main/#grant-type-flow\r\n\r\nBut I couldnt get the session once the user is authenticated.\r\nI am using ServletFilter to navigate to okta login page(via /authorize endpoint), but i am not getting session in doFilter method.\r\n\r\nI am using Primefaces for my UI.\r\n\r\n\r\nHere is my sample code.\r\nIn ServletFilter class... it comes here, but return session always empty.\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n    HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n    HttpServletResponse httpServletResponse = (HttpServletResponse) servletResponse;\r\n    HttpSession httpSession = httpServletRequest.getSession(false); // return null here\r\n\r\nThis is the code in doFilter where I navigate to okta login page.\r\n\r\n    httpServletResponse.sendRedirect(&quot;https://XXX.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa1w21hrnFPT01d7&amp;response_type=code&amp;response_mode=query&amp;scope=openid%20email%20profile%20groups&amp;state=xyz&amp;redirect_uri=http://&lt;host&gt;:&lt;port&gt;/app&quot;);\r\n\r\n","title":"How to get session when okta authenticates the application","body":"<p>I did follow the below and got my application working.\n<a href=\"https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/#grant-type-flow\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/#grant-type-flow</a></p>\n<p>But I couldnt get the session once the user is authenticated.\nI am using ServletFilter to navigate to okta login page(via /authorize endpoint), but i am not getting session in doFilter method.</p>\n<p>I am using Primefaces for my UI.</p>\n<p>Here is my sample code.\nIn ServletFilter class... it comes here, but return session always empty.</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\nHttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\nHttpServletResponse httpServletResponse = (HttpServletResponse) servletResponse;\nHttpSession httpSession = httpServletRequest.getSession(false); // return null here\n</code></pre>\n<p>This is the code in doFilter where I navigate to okta login page.</p>\n<pre><code>httpServletResponse.sendRedirect(&quot;https://XXX.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa1w21hrnFPT01d7&amp;response_type=code&amp;response_mode=query&amp;scope=openid%20email%20profile%20groups&amp;state=xyz&amp;redirect_uri=http://&lt;host&gt;:&lt;port&gt;/app&quot;);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1637305296,"post_id":70025542,"comment_id":123795703,"body_markdown":"If the app crashes then it was you that cause it to crash. If you check the Logcat message properly, you would see what caused it.","body":"If the app crashes then it was you that cause it to crash. If you check the Logcat message properly, you would see what caused it."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1637305435,"post_id":70025542,"comment_id":123795735,"body_markdown":"And I think *Android Room* adds compile-time lint checks for you than you dealing with runtime errors.","body":"And I think <i>Android Room</i> adds compile-time lint checks for you than you dealing with runtime errors."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637520378,"post_id":70025542,"comment_id":123842338,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23203465,"reputation":19,"user_id":17298006,"display_name":"yyyy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637288746,"creation_date":1637288746,"answer_id":70029100,"question_id":70025542,"body_markdown":"`Caused by: android.database.sqlite.SQLiteException: near &quot;table&quot;: syntax error (code 1 SQLITE_ERROR[1]): , while compiling: SELECT _id, data FROM table`See this?Something wrong in your sql.\r\n\r\nAnd look at here:\r\n\r\n       at com.example.db1.MyDbAdapter.getData(MyDbAdapter.java:27)\r\n        at com.example.db1.MainActivity.show(MainActivity.java:34)\r\ncheck these two lines,something wrong here","title":"am developping an app on android handling sqlitedatabase every time I click on a button my app stops this is the logcat msg and the code","body":"<p><code>Caused by: android.database.sqlite.SQLiteException: near &quot;table&quot;: syntax error (code 1 SQLITE_ERROR[1]): , while compiling: SELECT _id, data FROM table</code>See this?Something wrong in your sql.</p>\n<p>And look at here:</p>\n<pre><code>   at com.example.db1.MyDbAdapter.getData(MyDbAdapter.java:27)\n    at com.example.db1.MainActivity.show(MainActivity.java:34)\n</code></pre>\n<p>check these two lines,something wrong here</p>\n"}],"owner":{"account_id":23385127,"reputation":1,"user_id":17450614,"display_name":"SalsaL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637288746,"creation_date":1637263191,"question_id":70025542,"body_markdown":"    2021-11-18 20:16:12.067 21990-21990/com.example.db1 D/AndroidRuntime: Shutting down VM\r\n    2021-11-18 20:16:12.069 21990-21990/com.example.db1 E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.db1, PID: 21990\r\n        java.lang.IllegalStateException: Could not execute method for android:onClick\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:414)\r\n            at android.view.View.performClick(View.java:7352)\r\n            at android.widget.TextView.performClick(TextView.java:14230)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View.performClickInternal(View.java:7318)\r\n            at android.view.View.access$3200(View.java:846)\r\n            at android.view.View$PerformClick.run(View.java:27800)\r\n            at android.os.Handler.handleCallback(Handler.java:873)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7050)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409)\r\n            at android.view.View.performClick(View.java:7352)&#160;\r\n            at android.widget.TextView.performClick(TextView.java:14230)&#160;\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n            at android.view.View.performClickInternal(View.java:7318)&#160;\r\n            at android.view.View.access$3200(View.java:846)&#160;\r\n            at android.view.View$PerformClick.run(View.java:27800)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:873)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n            at android.os.Looper.loop(Looper.java:214)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7050)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)&#160;\r\n         Caused by: android.database.sqlite.SQLiteException: near &quot;table&quot;: syntax error (code 1 SQLITE_ERROR[1]): , while compiling: SELECT _id, data FROM table\r\n            at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1229)\r\n            at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:703)\r\n            at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n            at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:59)\r\n            at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n            at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n            at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1865)\r\n            at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1712)\r\n            at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1583)\r\n            at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1751)\r\n            at com.example.db1.MyDbAdapter.getData(MyDbAdapter.java:27)\r\n            at com.example.db1.MainActivity.show(MainActivity.java:34)\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409)&#160;\r\n            at android.view.View.performClick(View.java:7352)&#160;\r\n            at android.widget.TextView.performClick(TextView.java:14230)&#160;\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n            at android.view.View.performClickInternal(View.java:7318)&#160;\r\n            at android.view.View.access$3200(View.java:846)&#160;\r\n            at android.view.View$PerformClick.run(View.java:27800)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:873)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n            at android.os.Looper.loop(Looper.java:214)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7050)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)&#160;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"am developping an app on android handling sqlitedatabase every time I click on a button my app stops this is the logcat msg and the code","body":"<pre><code>2021-11-18 20:16:12.067 21990-21990/com.example.db1 D/AndroidRuntime: Shutting down VM\n2021-11-18 20:16:12.069 21990-21990/com.example.db1 E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.db1, PID: 21990\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:414)\n        at android.view.View.performClick(View.java:7352)\n        at android.widget.TextView.performClick(TextView.java:14230)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:7318)\n        at android.view.View.access$3200(View.java:846)\n        at android.view.View$PerformClick.run(View.java:27800)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7050)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409)\n        at android.view.View.performClick(View.java:7352) \n        at android.widget.TextView.performClick(TextView.java:14230) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n        at android.view.View.performClickInternal(View.java:7318) \n        at android.view.View.access$3200(View.java:846) \n        at android.view.View$PerformClick.run(View.java:27800) \n        at android.os.Handler.handleCallback(Handler.java:873) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7050) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965) \n     Caused by: android.database.sqlite.SQLiteException: near &quot;table&quot;: syntax error (code 1 SQLITE_ERROR[1]): , while compiling: SELECT _id, data FROM table\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1229)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:703)\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:59)\n        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\n        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1865)\n        at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1712)\n        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1583)\n        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1751)\n        at com.example.db1.MyDbAdapter.getData(MyDbAdapter.java:27)\n        at com.example.db1.MainActivity.show(MainActivity.java:34)\n        at java.lang.reflect.Method.invoke(Native Method) \n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:409) \n        at android.view.View.performClick(View.java:7352) \n        at android.widget.TextView.performClick(TextView.java:14230) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n        at android.view.View.performClickInternal(View.java:7318) \n        at android.view.View.access$3200(View.java:846) \n        at android.view.View$PerformClick.run(View.java:27800) \n        at android.os.Handler.handleCallback(Handler.java:873) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7050) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965) \n</code></pre>\n"},{"tags":["java","spring","webflux"],"answers":[{"tags":[],"owner":{"account_id":19300780,"reputation":159,"user_id":14108729,"display_name":"Mike Jarsoon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1637288569,"creation_date":1637288569,"answer_id":70029078,"question_id":70027051,"body_markdown":"By default spring web flux uses reactor-netty as underlying Http Client library which itself is a reactive implementation of famous Netty client Event Loop Implementation. To learn more on how this works, you can refer to details here https://livebook.manning.com/book/netty-in-action/chapter-7/.\r\n\r\nYou can think like all requests are handled by limited threads usually 2 or 4 times the actual processor threads and each http client request is wrapped in a object and each event loop thread can pick up the object from Java heap and do some work and add the object back to memory.\r\n\r\nOnce response is received on port, event loop again picks up object from memory(Connection pool) and deserializes the response data from ByteBuffers to Object using Jackson.\r\n\r\nEvent loop is implemented in every os accordingly like epoll for linux, kqueue for macOS and Java NIO as default implementation to be OS agnostic.","title":"I can&#39;t understand how event loop works in spring webflux","body":"<p>By default spring web flux uses reactor-netty as underlying Http Client library which itself is a reactive implementation of famous Netty client Event Loop Implementation. To learn more on how this works, you can refer to details here <a href=\"https://livebook.manning.com/book/netty-in-action/chapter-7/\" rel=\"noreferrer\">https://livebook.manning.com/book/netty-in-action/chapter-7/</a>.</p>\n<p>You can think like all requests are handled by limited threads usually 2 or 4 times the actual processor threads and each http client request is wrapped in a object and each event loop thread can pick up the object from Java heap and do some work and add the object back to memory.</p>\n<p>Once response is received on port, event loop again picks up object from memory(Connection pool) and deserializes the response data from ByteBuffers to Object using Jackson.</p>\n<p>Event loop is implemented in every os accordingly like epoll for linux, kqueue for macOS and Java NIO as default implementation to be OS agnostic.</p>\n"}],"owner":{"account_id":18582159,"reputation":169,"user_id":13541453,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5236,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70029078,"answer_count":1,"score":9,"last_activity_date":1637288569,"creation_date":1637271413,"question_id":70027051,"body_markdown":"I&#39;m trying to understand reactive programming and how the event loop works. As long as I can understand when a new HTTP request is sent to the app, this request splits into events. And every event is handled by this event loop and for every event a callback is registered. On complete of this event, the result is returned to the request. But how many threads handles this request and how many threads are in this event loop. ","title":"I can&#39;t understand how event loop works in spring webflux","body":"<p>I'm trying to understand reactive programming and how the event loop works. As long as I can understand when a new HTTP request is sent to the app, this request splits into events. And every event is handled by this event loop and for every event a callback is registered. On complete of this event, the result is returned to the request. But how many threads handles this request and how many threads are in this event loop.</p>\n"},{"tags":["java","android","eclipse","android-drawable"],"answers":[{"tags":[],"owner":{"display_name":"user4423334"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1637288280,"creation_date":1420539083,"answer_id":27796378,"question_id":27796246,"body_markdown":"\r\n    Drawable greenProgressbar = context.getResources().getDrawable(R.drawable.custom_progressbargreen);\r\n","title":"Android: Alternative for context.getDrawable()","body":"<pre><code>Drawable greenProgressbar = context.getResources().getDrawable(R.drawable.custom_progressbargreen);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5259648,"reputation":894,"user_id":4201505,"display_name":"glm9637"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1637288483,"creation_date":1420539114,"answer_id":27796385,"question_id":27796246,"body_markdown":"Add a `getResources()` after the context:\r\n   \r\n    Drawable greenProgressbar = context.getResources().getDrawable(R.drawable.custom_progressbargreen);","title":"Android: Alternative for context.getDrawable()","body":"<p>Add a <code>getResources()</code> after the context:</p>\n<pre><code>Drawable greenProgressbar = context.getResources().getDrawable(R.drawable.custom_progressbargreen);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2811288,"reputation":2184,"user_id":2417480,"display_name":"user2417480"},"down_vote_count":0,"up_vote_count":207,"is_accepted":true,"score":207,"last_activity_date":1451378510,"creation_date":1439897844,"answer_id":32071349,"question_id":27796246,"body_markdown":"The previously accepted method has been deprecated, according to the SDK 22 documentation: \r\n\r\n&gt; Prior to android.os.Build.VERSION_CODES#JELLY_BEAN, this function would not correctly retrieve the final configuration density when the resource ID passed here is an alias to another Drawable resource. This means that if the density configuration of the alias resource is different than the actual resource, the density of the returned Drawable would be incorrect, resulting in bad scaling.\r\n\r\nAs pointed out in [this answer][1] better solution would be to use [ContextCompat][2]:\r\n`ContextCompat.getDrawable(context, R.drawable.***)`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29041466/2417480\r\n  [2]: http://developer.android.com/reference/android/support/v4/content/ContextCompat.html","title":"Android: Alternative for context.getDrawable()","body":"<p>The previously accepted method has been deprecated, according to the SDK 22 documentation: </p>\n\n<blockquote>\n  <p>Prior to android.os.Build.VERSION_CODES#JELLY_BEAN, this function would not correctly retrieve the final configuration density when the resource ID passed here is an alias to another Drawable resource. This means that if the density configuration of the alias resource is different than the actual resource, the density of the returned Drawable would be incorrect, resulting in bad scaling.</p>\n</blockquote>\n\n<p>As pointed out in <a href=\"https://stackoverflow.com/a/29041466/2417480\">this answer</a> better solution would be to use <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html\" rel=\"noreferrer\">ContextCompat</a>:\n<code>ContextCompat.getDrawable(context, R.drawable.***)</code></p>\n"},{"tags":[],"owner":{"account_id":99435,"reputation":4777,"user_id":268598,"accept_rate":0,"display_name":"Umanda"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1637288215,"creation_date":1477903105,"answer_id":40338826,"question_id":27796246,"body_markdown":"I had a same situation which I wanted to reference `getDrawable()` method which is now deprecated.\r\n\r\nWhat I used:\r\n\r\n    myButton.setImageDrawable(ContextCompat.getDrawable(getActivity(), R.drawable.ic_btn_off));","title":"Android: Alternative for context.getDrawable()","body":"<p>I had a same situation which I wanted to reference <code>getDrawable()</code> method which is now deprecated.</p>\n<p>What I used:</p>\n<pre><code>myButton.setImageDrawable(ContextCompat.getDrawable(getActivity(), R.drawable.ic_btn_off));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11797784,"reputation":21,"user_id":8632146,"display_name":"Nando"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637288244,"creation_date":1505811165,"answer_id":46295984,"question_id":27796246,"body_markdown":"\r\n    AppCompatResources.getDrawable(context, R.drawable.*)","title":"Android: Alternative for context.getDrawable()","body":"<pre><code>AppCompatResources.getDrawable(context, R.drawable.*)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6710593,"reputation":213,"user_id":5928670,"display_name":"Maulik Baraiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550298852,"creation_date":1550298852,"answer_id":54720524,"question_id":27796246,"body_markdown":"You should use &quot; getDrawable(id, this.getTheme()) &quot;. This method is not deprecated till now.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n        view.setBackground(getResources().getDrawable(R.drawable.radioline,this.getTheme()));\r\n    } else {\r\n       view.setBackground(getResources().getDrawable(R.drawable.radioline));\r\n    }\r\n","title":"Android: Alternative for context.getDrawable()","body":"<p>You should use \" getDrawable(id, this.getTheme()) \". This method is not deprecated till now.</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    view.setBackground(getResources().getDrawable(R.drawable.radioline,this.getTheme()));\n} else {\n   view.setBackground(getResources().getDrawable(R.drawable.radioline));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15127210,"reputation":41,"user_id":10926179,"display_name":"Kaylen Travis Pillay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562308630,"creation_date":1562308630,"answer_id":56897735,"question_id":27796246,"body_markdown":"I agree using ContextCompact.getDrawable(Context context, int resID). It worked for me and my app targets API 19.","title":"Android: Alternative for context.getDrawable()","body":"<p>I agree using ContextCompact.getDrawable(Context context, int resID). It worked for me and my app targets API 19.</p>\n"},{"tags":[],"owner":{"account_id":12312619,"reputation":290,"user_id":8983671,"display_name":"Lukas Mohs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588351311,"creation_date":1588351311,"answer_id":61546758,"question_id":27796246,"body_markdown":"You can also set the resource directly without working with the drawable (Kotlin):\r\n\r\n    btn.setImageResource(R.drawable.ic_XXX)","title":"Android: Alternative for context.getDrawable()","body":"<p>You can also set the resource directly without working with the drawable (Kotlin):</p>\n\n<pre><code>btn.setImageResource(R.drawable.ic_XXX)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5026161,"reputation":930,"user_id":4038066,"display_name":"Jens van de M&#246;tter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591434678,"creation_date":1591434678,"answer_id":62229631,"question_id":27796246,"body_markdown":"Solution for Kotlin programmers looks like:\r\n\r\n    val greenProgressbar = context!!.getDrawable(R.drawable.custom_progressbargreen)\r\n\r\nor (from API 22)\r\n            \r\n    val greenProgressbar = ContextCompat.getDrawable(R.drawable.custom_progressbargreen)\r\n\r\n","title":"Android: Alternative for context.getDrawable()","body":"<p>Solution for Kotlin programmers looks like:</p>\n\n<pre><code>val greenProgressbar = context!!.getDrawable(R.drawable.custom_progressbargreen)\n</code></pre>\n\n<p>or (from API 22)</p>\n\n<pre><code>val greenProgressbar = ContextCompat.getDrawable(R.drawable.custom_progressbargreen)\n</code></pre>\n"}],"owner":{"account_id":3507492,"reputation":2515,"user_id":2932698,"accept_rate":100,"display_name":"Bram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74102,"favorite_count":0,"down_vote_count":3,"up_vote_count":93,"accepted_answer_id":32071349,"answer_count":9,"score":90,"last_activity_date":1637288483,"creation_date":1420538624,"question_id":27796246,"body_markdown":"I have used `context.getDrawable()` like this in my project:\r\n\r\n    Drawable greenProgressbar = context.getDrawable(R.drawable.custom_progressbargreen);\r\n\r\nBut Eclipse is giving me an error that it needs a `Minimum API level of 21`. This would mean after a quick google search my APP will only be usable on `Android 5.0`. Since not all devices are using this version of android I would like to have an alternative for `context.getDrawable()`.","title":"Android: Alternative for context.getDrawable()","body":"<p>I have used <code>context.getDrawable()</code> like this in my project:</p>\n\n<pre><code>Drawable greenProgressbar = context.getDrawable(R.drawable.custom_progressbargreen);\n</code></pre>\n\n<p>But Eclipse is giving me an error that it needs a <code>Minimum API level of 21</code>. This would mean after a quick google search my APP will only be usable on <code>Android 5.0</code>. Since not all devices are using this version of android I would like to have an alternative for <code>context.getDrawable()</code>.</p>\n"},{"tags":["java","amazon-web-services","amazon-sns","aws-batch"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529884575,"creation_date":1529884575,"answer_id":51014862,"question_id":51006795,"body_markdown":"The `Publish()` command:\r\n\r\n&gt;Sends a message to an Amazon SNS topic or sends a text message (SMS message) directly to a phone number.\r\n\r\nIt only sends a single message.","title":"Can we send multiple messages to a single SNS topic using a single AsyncPublish sns call?","body":"<p>The <code>Publish()</code> command:</p>\n\n<blockquote>\n  <p>Sends a message to an Amazon SNS topic or sends a text message (SMS message) directly to a phone number.</p>\n</blockquote>\n\n<p>It only sends a single message.</p>\n"}],"owner":{"account_id":13831040,"reputation":1,"user_id":9983918,"display_name":"Siddhartha Singh Dikhit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":990,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1637288339,"creation_date":1529812028,"question_id":51006795,"body_markdown":"I have a use case where i need to send one or more messages to a single sns topic in one asyncPublish sns call. Is there a possible way by which i can do that ?\r\n","title":"Can we send multiple messages to a single SNS topic using a single AsyncPublish sns call?","body":"<p>I have a use case where i need to send one or more messages to a single sns topic in one asyncPublish sns call. Is there a possible way by which i can do that ?</p>\n"},{"tags":["java","spring","spring-rest","spring-context"],"answers":[{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637288251,"creation_date":1637281149,"answer_id":70028360,"question_id":70027548,"body_markdown":"Is it necessary to use a custom date format? In general it is better to have an agnostic date format, e.g. use something like ISO date format with timezone added which is international or less preferred use the milliseconds from UTC. That way you do not have to worry about these details. If absolutely necessary things to use would be: \r\n\r\n1. The [`pattern`]((https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html#pattern--)\r\n) attribute to set a fixed pattern, here for the region en_us \r\n\r\n2. A Spring filter (not verified, pseudo code):\r\n\r\n~~~java\r\n@Component\r\npublic class MyDateFilter implements Filter {\r\n\r\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n    HttpServletRequest incoming = (HttpServletRequest) request;\r\n    HttpServletRequestWrapper wrapper = new HttpServletRequestWrapper(incoming) {\r\n\r\n      public String getHeader(String name) {\r\n        if (&lt;HTTP header locale&gt;.equals(name)) {\r\n          return TODO;\r\n        }\r\n        return super.getHeader(name);\r\n      }\r\n    };\r\n    chain.doFilter(wrapper, response);\r\n  }\r\n\r\n}","title":"Can I force a locale with Spring&#39;s @DateTimeFormat?","body":"<p>Is it necessary to use a custom date format? In general it is better to have an agnostic date format, e.g. use something like ISO date format with timezone added which is international or less preferred use the milliseconds from UTC. That way you do not have to worry about these details. If absolutely necessary things to use would be:</p>\n<ol>\n<li><p>The <code>pattern</code> attribute to set a fixed pattern, here for the region en_us</p>\n</li>\n<li><p>A Spring filter (not verified, pseudo code):</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyDateFilter implements Filter {\n\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n    HttpServletRequest incoming = (HttpServletRequest) request;\n    HttpServletRequestWrapper wrapper = new HttpServletRequestWrapper(incoming) {\n\n      public String getHeader(String name) {\n        if (&lt;HTTP header locale&gt;.equals(name)) {\n          return TODO;\n        }\n        return super.getHeader(name);\n      }\n    };\n    chain.doFilter(wrapper, response);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5010771,"reputation":319,"user_id":4087306,"accept_rate":29,"display_name":"binarylegit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637288251,"creation_date":1637274485,"question_id":70027548,"body_markdown":"I&#39;m using Spring&#39;s @DateTimeFormat annotation, with a custom pattern, on the field of an object which is passed in via an HTTP POST endpoint.  The particular field is set on the front end UI with a javascript widget which always uses the &#39;en_us&#39; locale.  However, if the browser is set to a locale other than &#39;en_us&#39; then the parsing of the date/time may fail on the backend because the @DateTimeFormat uses the browser (or HTTP header) locale instead of &#39;en_us&#39;.  \r\n\r\nIs there anyway to force the DateTimeFormat annotation to use the &#39;en_us&#39; locale?\r\n\r\nI realize the DateTimeFormat is doing what makes sense by using the HTTP header locale. However, since I control the front end, and for the time being don&#39;t want to change the front end javascript widget, I&#39;m wondering if there is a way to set the locale of DateTimeFormat.","title":"Can I force a locale with Spring&#39;s @DateTimeFormat?","body":"<p>I'm using Spring's @DateTimeFormat annotation, with a custom pattern, on the field of an object which is passed in via an HTTP POST endpoint.  The particular field is set on the front end UI with a javascript widget which always uses the 'en_us' locale.  However, if the browser is set to a locale other than 'en_us' then the parsing of the date/time may fail on the backend because the @DateTimeFormat uses the browser (or HTTP header) locale instead of 'en_us'.</p>\n<p>Is there anyway to force the DateTimeFormat annotation to use the 'en_us' locale?</p>\n<p>I realize the DateTimeFormat is doing what makes sense by using the HTTP header locale. However, since I control the front end, and for the time being don't want to change the front end javascript widget, I'm wondering if there is a way to set the locale of DateTimeFormat.</p>\n"},{"tags":["java","jboss","drools","mvel","jboss-rules"],"comments":[{"owner":{"account_id":3386508,"reputation":10095,"user_id":2842375,"display_name":"shauryachats"},"score":0,"creation_date":1422345717,"post_id":28165494,"comment_id":44701768,"body_markdown":"Please format your code.","body":"Please format your code."},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1422350453,"post_id":28165494,"comment_id":44703953,"body_markdown":"Creating application logic based on the name of the rule is extremely fragile. You should really be building such logic into your rules. That&#39;s what they&#39;re for! Therefore, I suspect that any answer to this specific question is highly unlikely to be a good solution to the actual problem.","body":"Creating application logic based on the name of the rule is extremely fragile. You should really be building such logic into your rules. That&#39;s what they&#39;re for! Therefore, I suspect that any answer to this specific question is highly unlikely to be a good solution to the actual problem."},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1422350596,"post_id":28165494,"comment_id":44704026,"body_markdown":"Note for the folks who seem to be voting to close this question as &quot;Unclear what you&#39;re asking&quot;. For anyone familiar with Drools, it&#39;s completely clear what the OP is asking.","body":"Note for the folks who seem to be voting to close this question as &quot;Unclear what you&#39;re asking&quot;. For anyone familiar with Drools, it&#39;s completely clear what the OP is asking."},{"owner":{"account_id":5689152,"reputation":11,"user_id":4497697,"display_name":"Hardik Amlani"},"score":0,"creation_date":1422354389,"post_id":28165494,"comment_id":44706148,"body_markdown":"Can I pass drools.getName().getRule() as a parameter to the java method handling enabled attribute as seen in code above . If yes , please help on it . Dats where i am stuck.","body":"Can I pass drools.getName().getRule() as a parameter to the java method handling enabled attribute as seen in code above . If yes , please help on it . Dats where i am stuck."}],"answers":[{"tags":[],"owner":{"account_id":1176154,"reputation":676,"user_id":1152149,"display_name":"Ethenyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422345928,"creation_date":1422345928,"answer_id":28165758,"question_id":28165494,"body_markdown":"Why aren&#39;t you using the **AgendaFilter** ?\r\n\r\nQuite easy to use, can be done in the **Java** part like this :\r\n\r\n    AgendaFilter myFilter = new RuleNameStartsWithAgendaFilter(&quot;DUBAI&quot;);\r\n    mySession.fireAllRules(filter);\r\n\r\n    myFilter = new RuleNameStartsWithAgendaFilter(&quot;SINGAPORE&quot;);\r\n    mySession.fireAllRules(filter);\r\n\r\nThere are multiple variants of the **AgendaFilter** :\r\n\r\n - StartsWith\r\n - EndsWith\r\n - Contains\r\n - Matches\r\n\r\nMy not be exactly what you need but it might be a hint ;-)\r\n","title":"drools.getRule().getName() in attributes -rule drool file","body":"<p>Why aren't you using the <strong>AgendaFilter</strong> ?</p>\n\n<p>Quite easy to use, can be done in the <strong>Java</strong> part like this :</p>\n\n<pre><code>AgendaFilter myFilter = new RuleNameStartsWithAgendaFilter(\"DUBAI\");\nmySession.fireAllRules(filter);\n\nmyFilter = new RuleNameStartsWithAgendaFilter(\"SINGAPORE\");\nmySession.fireAllRules(filter);\n</code></pre>\n\n<p>There are multiple variants of the <strong>AgendaFilter</strong> :</p>\n\n<ul>\n<li>StartsWith</li>\n<li>EndsWith</li>\n<li>Contains</li>\n<li>Matches</li>\n</ul>\n\n<p>My not be exactly what you need but it might be a hint ;-)</p>\n"},{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422355518,"creation_date":1422355518,"answer_id":28168563,"question_id":28165494,"body_markdown":"It looks like a good case for the &quot;declarative agenda&quot; feature. This is based on rules being used to block rules. Here is a simple example:\r\n\r\n    import org.kie.api.runtime.rule.Match;\r\n    rule &quot;Apply 50% discount&quot;\r\n      @Eager                     // required for each rule to be blocked\r\n      @Category(&quot;Singapore&quot;)\r\n    when\r\n      $s : Sale( article matches &quot;.*PX&quot; ) // anything\r\n    then\r\n      System.out.println(&quot;VIP: &quot; + drools.getRule().getName());\r\n    end\r\n\r\n    rule &quot;CheckBlock&quot;\r\n      @Direct @Eager // required for each rule that blocks\r\n    when\r\n      Location( $country: country )\r\n      // $m: Match( Category == &quot;Singapore&quot; )\r\n      $m: Match( rule.name == &quot;Apply 50% discount&quot; )\r\n    then\r\n      kcontext.blockMatch( $m );\r\n    end\r\n\r\nLocation is a simple bean. As shown, the blocking rule may access the &quot;Match&quot; object which (magically) lets you match against metadata or the rule name. Of course, evaluation may access some method in Location for more sophisticated checks of the rule name.\r\n\r\nNote that you need to set an option:\r\n\r\n     KieBaseConfiguration config = ks.newKieBaseConfiguration();\r\n     config.setOption( DeclarativeAgendaOption.ENABLED );\r\n\r\nor use the kmodule XML (see the documentation).\r\n\r\n\r\n","title":"drools.getRule().getName() in attributes -rule drool file","body":"<p>It looks like a good case for the \"declarative agenda\" feature. This is based on rules being used to block rules. Here is a simple example:</p>\n\n<pre><code>import org.kie.api.runtime.rule.Match;\nrule \"Apply 50% discount\"\n  @Eager                     // required for each rule to be blocked\n  @Category(\"Singapore\")\nwhen\n  $s : Sale( article matches \".*PX\" ) // anything\nthen\n  System.out.println(\"VIP: \" + drools.getRule().getName());\nend\n\nrule \"CheckBlock\"\n  @Direct @Eager // required for each rule that blocks\nwhen\n  Location( $country: country )\n  // $m: Match( Category == \"Singapore\" )\n  $m: Match( rule.name == \"Apply 50% discount\" )\nthen\n  kcontext.blockMatch( $m );\nend\n</code></pre>\n\n<p>Location is a simple bean. As shown, the blocking rule may access the \"Match\" object which (magically) lets you match against metadata or the rule name. Of course, evaluation may access some method in Location for more sophisticated checks of the rule name.</p>\n\n<p>Note that you need to set an option:</p>\n\n<pre><code> KieBaseConfiguration config = ks.newKieBaseConfiguration();\n config.setOption( DeclarativeAgendaOption.ENABLED );\n</code></pre>\n\n<p>or use the kmodule XML (see the documentation).</p>\n"}],"owner":{"account_id":5689152,"reputation":11,"user_id":4497697,"display_name":"Hardik Amlani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637288238,"creation_date":1422344629,"question_id":28165494,"body_markdown":"I need to enable / disable certain rules from drl file based on data from the backend .\r\ni.e enable Rule 1,2,3 for Dubai , Enable 1,3 for Singapore\r\nSo , I pass drools.getRule().getName() as below.\r\n\r\n    rule &quot;Apply 50% discount to VIP customers&quot;\r\n        enabled (checkenabled(drools.getRule().getName()))\r\n    when\r\n        $s : Sale( customer.type == CustomerType.VIP )  \r\n    then\r\n    $s.setDiscount(0.50);\r\n        System.out.println(&quot;VIP discount applied1&quot; + drools.getRule().getName());\r\n    end\r\n\r\nI am getting below error on this .\r\n\r\n    Exception in thread &quot;main&quot; [Error: null pointer: drools.rule.name]\r\n    [Near : {... checkenabled(drools.rule.name) ....}]\r\n                              ^\r\n    [Line: 1, Column: 14]\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:427)\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.optimizeAccessor(ReflectiveAccessorOptimizer.java:140)\r\n    \tat org.mvel2.ast.ASTNode.optimize(ASTNode.java:159)\r\n    \tat org.mvel2.ast.ASTNode.getReducedValueAccelerated(ASTNode.java:115)\r\n    \tat org.mvel2.compiler.ExecutableAccessor.getValue(ExecutableAccessor.java:38)\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.getMethod(ReflectiveAccessorOptimizer.java:948)\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:373)\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.optimizeAccessor(ReflectiveAccessorOptimizer.java:140)\r\n    \tat org.mvel2.ast.ASTNode.optimize(ASTNode.java:159)\r\n    \tat org.mvel2.ast.ASTNode.getReducedValueAccelerated(ASTNode.java:115)\r\n    \tat org.mvel2.MVELRuntime.execute(MVELRuntime.java:86)\r\n    \tat org.mvel2.compiler.CompiledExpression.getDirectValue(CompiledExpression.java:123)\r\n    \tat org.mvel2.compiler.CompiledExpression.getValue(CompiledExpression.java:119)\r\n    \tat org.mvel2.compiler.CompiledExpression.getValue(CompiledExpression.java:113)\r\n    \tat org.mvel2.MVEL.executeExpression(MVEL.java:930)\r\n    \tat org.drools.core.base.mvel.MVELEnabledExpression.getValue(MVELEnabledExpression.java:92)\r\n    \tat org.drools.core.definitions.rule.impl.RuleImpl.isEffective(RuleImpl.java:384)\r\n    \tat org.drools.core.phreak.RuleExecutor.cancelAndContinue(RuleExecutor.java:326)\r\n    \tat org.drools.core.phreak.RuleExecutor.fire(RuleExecutor.java:142)\r\n    \tat org.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:94)\r\n    \tat org.drools.core.common.DefaultAgenda.fireNextItem(DefaultAgenda.java:964)\r\n    \tat org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:1234)\r\n    \tat org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1239)\r\n    \tat org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1212)\r\n    \tat com.emirates.App.testGoodCustomer(App.java:95)\r\n    \tat com.emirates.App.main(App.java:74)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:393)\r\n    \t... 25 more\r\n\r\n\r\n","title":"drools.getRule().getName() in attributes -rule drool file","body":"<p>I need to enable / disable certain rules from drl file based on data from the backend .\ni.e enable Rule 1,2,3 for Dubai , Enable 1,3 for Singapore\nSo , I pass drools.getRule().getName() as below.</p>\n\n<pre><code>rule \"Apply 50% discount to VIP customers\"\n    enabled (checkenabled(drools.getRule().getName()))\nwhen\n    $s : Sale( customer.type == CustomerType.VIP )  \nthen\n$s.setDiscount(0.50);\n    System.out.println(\"VIP discount applied1\" + drools.getRule().getName());\nend\n</code></pre>\n\n<p>I am getting below error on this .</p>\n\n<pre><code>Exception in thread \"main\" [Error: null pointer: drools.rule.name]\n[Near : {... checkenabled(drools.rule.name) ....}]\n                          ^\n[Line: 1, Column: 14]\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:427)\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.optimizeAccessor(ReflectiveAccessorOptimizer.java:140)\n    at org.mvel2.ast.ASTNode.optimize(ASTNode.java:159)\n    at org.mvel2.ast.ASTNode.getReducedValueAccelerated(ASTNode.java:115)\n    at org.mvel2.compiler.ExecutableAccessor.getValue(ExecutableAccessor.java:38)\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.getMethod(ReflectiveAccessorOptimizer.java:948)\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:373)\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.optimizeAccessor(ReflectiveAccessorOptimizer.java:140)\n    at org.mvel2.ast.ASTNode.optimize(ASTNode.java:159)\n    at org.mvel2.ast.ASTNode.getReducedValueAccelerated(ASTNode.java:115)\n    at org.mvel2.MVELRuntime.execute(MVELRuntime.java:86)\n    at org.mvel2.compiler.CompiledExpression.getDirectValue(CompiledExpression.java:123)\n    at org.mvel2.compiler.CompiledExpression.getValue(CompiledExpression.java:119)\n    at org.mvel2.compiler.CompiledExpression.getValue(CompiledExpression.java:113)\n    at org.mvel2.MVEL.executeExpression(MVEL.java:930)\n    at org.drools.core.base.mvel.MVELEnabledExpression.getValue(MVELEnabledExpression.java:92)\n    at org.drools.core.definitions.rule.impl.RuleImpl.isEffective(RuleImpl.java:384)\n    at org.drools.core.phreak.RuleExecutor.cancelAndContinue(RuleExecutor.java:326)\n    at org.drools.core.phreak.RuleExecutor.fire(RuleExecutor.java:142)\n    at org.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:94)\n    at org.drools.core.common.DefaultAgenda.fireNextItem(DefaultAgenda.java:964)\n    at org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:1234)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1239)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1212)\n    at com.emirates.App.testGoodCustomer(App.java:95)\n    at com.emirates.App.main(App.java:74)\nCaused by: java.lang.NullPointerException\n    at org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer.compileGetChain(ReflectiveAccessorOptimizer.java:393)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","visual-studio-code","formatting","customization"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637288056,"creation_date":1637288056,"answer_id":70029026,"question_id":70013417,"body_markdown":"Open **Command Palette** and choose **Java: Open Java Formatter Settings with Preview**, then there&#39;ll be an notification popping up, click `Generate a default profile`, then `java-formatter.xml` will be displayed in the folder `.vscode`. \r\n\r\nOpen `java-formatter.xml` and set :\r\n\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.blank_lines_before_method&quot; value=&quot;2&quot;/&gt;\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W1aLc.gif","title":"How to make automatic formatting of a java file seperate methods with 2 lines on VSC","body":"<p>Open <strong>Command Palette</strong> and choose <strong>Java: Open Java Formatter Settings with Preview</strong>, then there'll be an notification popping up, click <code>Generate a default profile</code>, then <code>java-formatter.xml</code> will be displayed in the folder <code>.vscode</code>.</p>\n<p>Open <code>java-formatter.xml</code> and set :</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.blank_lines_before_method&quot; value=&quot;2&quot;/&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/W1aLc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W1aLc.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20011087,"reputation":837,"user_id":14769402,"display_name":"RONOLULU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70029026,"answer_count":1,"score":-1,"last_activity_date":1637288056,"creation_date":1637197788,"question_id":70013417,"body_markdown":"I want to make VSC add 2 lines automatically between methods as part of the &#39;Format Document&#39; keyboard shortcut (`Shift` + `alt` + `f`).\r\n\r\nI shifted from Eclipse to VSC a couple of weeks ago and in Eclipse I had the option to freely customize pretty much any part of the document&#39;s auto-formatting. I&#39;ve been searching for a way to do this on VSC but I couldn&#39;t find what I&#39;m looking for. Not sure if it matters but I&#39;m writing my code in java. \r\n\r\nBasically what I want to happen is:\r\n\r\n```\r\npublic class Testing {\r\n\r\n   public void func1() {\r\n      //Some code\r\n   }\r\n\r\n   public void func2(){\r\n      //Some code\r\n   }\r\n\r\n   public void func3(){\r\n      //Some code\r\n   }\r\n\r\n```\r\n`Shift` + `alt` + `f` ==&gt;\r\n\r\n```\r\npublic class Testing {\r\n\r\n   public void func1() {\r\n      //Some code\r\n   }\r\n\r\n\r\n   public void func2(){\r\n      //Some code\r\n   }\r\n\r\n\r\n   public void func3(){\r\n      //Some code\r\n   }\r\n\r\n```\r\n\r\n","title":"How to make automatic formatting of a java file seperate methods with 2 lines on VSC","body":"<p>I want to make VSC add 2 lines automatically between methods as part of the 'Format Document' keyboard shortcut (<code>Shift</code> + <code>alt</code> + <code>f</code>).</p>\n<p>I shifted from Eclipse to VSC a couple of weeks ago and in Eclipse I had the option to freely customize pretty much any part of the document's auto-formatting. I've been searching for a way to do this on VSC but I couldn't find what I'm looking for. Not sure if it matters but I'm writing my code in java.</p>\n<p>Basically what I want to happen is:</p>\n<pre><code>public class Testing {\n\n   public void func1() {\n      //Some code\n   }\n\n   public void func2(){\n      //Some code\n   }\n\n   public void func3(){\n      //Some code\n   }\n\n</code></pre>\n<p><code>Shift</code> + <code>alt</code> + <code>f</code> ==&gt;</p>\n<pre><code>public class Testing {\n\n   public void func1() {\n      //Some code\n   }\n\n\n   public void func2(){\n      //Some code\n   }\n\n\n   public void func3(){\n      //Some code\n   }\n\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":14900571,"reputation":159,"user_id":10759522,"display_name":"Eusuf Kanchwala"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637287919,"creation_date":1637287919,"answer_id":70029014,"question_id":70028647,"body_markdown":"Try this:\r\n\r\n```\r\npublic static void writeBackward(String s) {\r\n\tString output = &quot;&quot;; // holds the output\r\n\tif (s.split(&quot; &quot;).length &lt;= 1) // base case - no more characters in string\r\n\t{\r\n\t\toutput += s;\r\n\t\tSystem.out.print(output + &quot; &quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Base Case is executed. Done.&quot;);\r\n\t} else {\r\n\t\toutput = s.substring(s.lastIndexOf(&quot; &quot;) + 1);\r\n\t\ts = s.substring(0, s.lastIndexOf(&quot; &quot;));\r\n\t\toutput.trim();\r\n\t\tSystem.out.print(output + &quot; &quot;);\r\n\t\twriteBackward(s);\r\n\t}\r\n}\r\n\r\n```","title":"Java Recursion is broken: Writing a sentence backwards","body":"<p>Try this:</p>\n<pre><code>public static void writeBackward(String s) {\n    String output = &quot;&quot;; // holds the output\n    if (s.split(&quot; &quot;).length &lt;= 1) // base case - no more characters in string\n    {\n        output += s;\n        System.out.print(output + &quot; &quot;);\n        System.out.println();\n        System.out.println(&quot;Base Case is executed. Done.&quot;);\n    } else {\n        output = s.substring(s.lastIndexOf(&quot; &quot;) + 1);\n        s = s.substring(0, s.lastIndexOf(&quot; &quot;));\n        output.trim();\n        System.out.print(output + &quot; &quot;);\n        writeBackward(s);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16822404,"reputation":19,"user_id":12658170,"display_name":"Muskratis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637346534,"answer_count":1,"score":0,"last_activity_date":1637287919,"creation_date":1637284300,"question_id":70028647,"body_markdown":"I need to extract a sentence from a file, write it backwards, and then output to a file. I have gotten the sentence to be extracted easily with my fromFile method and will have no problem outputting the sentence with my toFile method. \r\n\r\nMy current issue is recursion. Here is an example of what I want:\r\n\r\nOriginal sentence: &quot;This will be written backwards&quot;\r\n\r\nNew Sentence: &quot;backwards written be will This&quot;\r\n\r\nAn easy solution would be to use arrays for this but I cannot do that. I know how the recursion works but I cannot seem to output the sentence word by word so I believe I have a logic issue. I have spent a few hours looking for it and then looking for examples online. I am at a loss as to what to do. Any help is much appreciated! Thank you!\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.StringTokenizer;\r\nimport java.io.*;\r\npublic class Recursion {\r\n    public static void main (String[] args) \r\n    {\r\n\t\tString output; //output to the second file\r\n\r\n        System.out.println(&quot;Starting program...&quot;);\r\n        System.out.println(&quot;\\nFirst Line:&quot;);\r\n\t\tfromFile();\r\n\t\t\r\n    }//end Main\r\n\r\n    public static void writeBackward(String s)\r\n    {\r\n\t\tString output; //holds the output\r\n\t\tString newString; //holds the new string\r\n        if (s.length() &lt; 1) //base case - no more characters in string\r\n         {\r\n            System.out.println();\r\n            System.out.println(&quot;Base Case is executed. Done.&quot;);\r\n         }\r\n\t\t else\r\n\t\t {\r\n\t\t\toutput = s.substring(0, s.indexOf(&quot; &quot;));\r\n\t\t\toutput.trim();\r\n\t\t\tnewString = s.substring(output.length());\r\n\t\t\tSystem.out.print(output + &quot; &quot;);\r\n\t\t\twriteBackward(newString);\r\n\t\t }\r\n    }//end writeBackward\r\n\r\n    public void toFile(String output)\r\n {\r\n\t  try\r\n      {\r\n            String outPutFile = &quot;input.txt&quot;;                //file name\r\n            FileWriter fileWrite = new FileWriter(outPutFile);\r\n            BufferedWriter buffWrite = new BufferedWriter (fileWrite);\r\n            PrintWriter outFile = new PrintWriter (buffWrite);\r\n            String outLine = output;\r\n            outFile.print(outLine);\r\n            outFile.println();\r\n            outLine = &quot;&quot;;\r\n    \t\t//flush and close the output file\r\n            buffWrite.flush ();\r\n            buffWrite.close ();\r\n        }//end try\r\n\r\n\t\tcatch(IOException exception)\r\n\t\t{\r\n\t\t\t  System.out.println(exception.getMessage());\r\n        }//end catch\r\n\r\n}//end toFile\r\n\r\n public static void fromFile()\r\n {\r\n\t    try\r\n\t    {\r\n\t\t\tString temp; //temporary string to be sent to recursion\r\n\t  \t\tString inPutFile = &quot;input.txt&quot;;\t//file name\r\n\t  \t\tString line = &quot;&quot;;\t\t\t\t//line of data read from file\r\n\t  \t\tStringTokenizer inLine;            //tokenized string\r\n\t        //open the input stream\r\n\t        FileReader fRead = new FileReader(inPutFile);\r\n\t        //buffer input stream one line at a time\r\n\t        BufferedReader bRead = new BufferedReader (fRead);\r\n\t        //Get data from file\r\n\r\n\t        //read in the first line of the file\r\n\t        line = bRead.readLine();\r\n\t        while(line != null)\r\n\t        {\r\n\t\t\t    //parse the new line using the comma as the delimiter\r\n\t         \ttemp = line;\r\n\t\t\t\tSystem.out.println(&quot;Debug temp: &quot; + temp + &quot;Debug line: &quot; + line);\r\n\t\t\t\twriteBackward(temp);\r\n\t\t\t\t //get the next line in the external file\r\n\t         \tline = bRead.readLine();\r\n\r\n\t        }//end while line not null\r\n\r\n\t        //close the input file\r\n\t        bRead.close ();\r\n\r\n\t    }//end try\r\n\r\n\t    catch(IOException exception)\r\n\t    {\r\n\t        System.out.println(exception.getMessage());\r\n    \t}//end catch\r\n\r\n\t}//end fromFile\r\n}//end RecursionClass\r\n","title":"Java Recursion is broken: Writing a sentence backwards","body":"<p>I need to extract a sentence from a file, write it backwards, and then output to a file. I have gotten the sentence to be extracted easily with my fromFile method and will have no problem outputting the sentence with my toFile method.</p>\n<p>My current issue is recursion. Here is an example of what I want:</p>\n<p>Original sentence: &quot;This will be written backwards&quot;</p>\n<p>New Sentence: &quot;backwards written be will This&quot;</p>\n<p>An easy solution would be to use arrays for this but I cannot do that. I know how the recursion works but I cannot seem to output the sentence word by word so I believe I have a logic issue. I have spent a few hours looking for it and then looking for examples online. I am at a loss as to what to do. Any help is much appreciated! Thank you!</p>\n<pre><code>import java.util.Scanner;\nimport java.util.StringTokenizer;\nimport java.io.*;\npublic class Recursion {\n    public static void main (String[] args) \n    {\n        String output; //output to the second file\n\n        System.out.println(&quot;Starting program...&quot;);\n        System.out.println(&quot;\\nFirst Line:&quot;);\n        fromFile();\n        \n    }//end Main\n\n    public static void writeBackward(String s)\n    {\n        String output; //holds the output\n        String newString; //holds the new string\n        if (s.length() &lt; 1) //base case - no more characters in string\n         {\n            System.out.println();\n            System.out.println(&quot;Base Case is executed. Done.&quot;);\n         }\n         else\n         {\n            output = s.substring(0, s.indexOf(&quot; &quot;));\n            output.trim();\n            newString = s.substring(output.length());\n            System.out.print(output + &quot; &quot;);\n            writeBackward(newString);\n         }\n    }//end writeBackward\n\n    public void toFile(String output)\n {\n      try\n      {\n            String outPutFile = &quot;input.txt&quot;;                //file name\n            FileWriter fileWrite = new FileWriter(outPutFile);\n            BufferedWriter buffWrite = new BufferedWriter (fileWrite);\n            PrintWriter outFile = new PrintWriter (buffWrite);\n            String outLine = output;\n            outFile.print(outLine);\n            outFile.println();\n            outLine = &quot;&quot;;\n            //flush and close the output file\n            buffWrite.flush ();\n            buffWrite.close ();\n        }//end try\n\n        catch(IOException exception)\n        {\n              System.out.println(exception.getMessage());\n        }//end catch\n\n}//end toFile\n\n public static void fromFile()\n {\n        try\n        {\n            String temp; //temporary string to be sent to recursion\n            String inPutFile = &quot;input.txt&quot;; //file name\n            String line = &quot;&quot;;               //line of data read from file\n            StringTokenizer inLine;            //tokenized string\n            //open the input stream\n            FileReader fRead = new FileReader(inPutFile);\n            //buffer input stream one line at a time\n            BufferedReader bRead = new BufferedReader (fRead);\n            //Get data from file\n\n            //read in the first line of the file\n            line = bRead.readLine();\n            while(line != null)\n            {\n                //parse the new line using the comma as the delimiter\n                temp = line;\n                System.out.println(&quot;Debug temp: &quot; + temp + &quot;Debug line: &quot; + line);\n                writeBackward(temp);\n                 //get the next line in the external file\n                line = bRead.readLine();\n\n            }//end while line not null\n\n            //close the input file\n            bRead.close ();\n\n        }//end try\n\n        catch(IOException exception)\n        {\n            System.out.println(exception.getMessage());\n        }//end catch\n\n    }//end fromFile\n}//end RecursionClass\n</code></pre>\n"},{"tags":["python","java"],"owner":{"account_id":22942822,"reputation":117,"user_id":17075272,"display_name":"Joe Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1105,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1637287867,"answer_count":0,"score":6,"last_activity_date":1637287905,"creation_date":1637287726,"question_id":70029000,"body_markdown":"The process of which Python source code is eventually turned into Machine Code to be eventually ran  by the CPU is,\r\n\r\n 1. Use the Python interpreter to turn it into ByteCode  \r\n 2. Run the ByteCode using a Python Virtual Machine\r\n\r\nWhen it comes to Java, the same sequence of events occurs. The Java source code is turned into ByteCode and then ran by the Java Virtual Machine. So I wonder, why is Python referred to as an interpreted language whereas Java is commonly referred to as a compiled language, however the same sequence of events to get to Machine Code are the same for both languages.\r\n\r\n\r\n","title":"Why is Python (generally) referred to as a interpreted language, but Java is not?","body":"<p>The process of which Python source code is eventually turned into Machine Code to be eventually ran  by the CPU is,</p>\n<ol>\n<li>Use the Python interpreter to turn it into ByteCode</li>\n<li>Run the ByteCode using a Python Virtual Machine</li>\n</ol>\n<p>When it comes to Java, the same sequence of events occurs. The Java source code is turned into ByteCode and then ran by the Java Virtual Machine. So I wonder, why is Python referred to as an interpreted language whereas Java is commonly referred to as a compiled language, however the same sequence of events to get to Machine Code are the same for both languages.</p>\n"},{"tags":["java","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1637293732,"post_id":70028968,"comment_id":123793499,"body_markdown":"What does this bean do that there should be a new copy every time? In general, that sort of thing should be a state object, not a service object.","body":"What does this bean do that there should be a new copy every time? In general, that sort of thing should be a state object, not a service object."},{"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"score":0,"creation_date":1637336357,"post_id":70028968,"comment_id":123806967,"body_markdown":"No not every time, it should act like the session scope except the initiating function call is not a rest endpoint, rather the consumption of a kafka message. @chrylis-cautiouslyoptimistic-","body":"No not every time, it should act like the session scope except the initiating function call is not a rest endpoint, rather the consumption of a kafka message. @chrylis-cautiouslyoptimistic-"}],"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637287437,"creation_date":1637287437,"question_id":70028968,"body_markdown":"I want a bean that only exists so long as the method annotated with `@KafkaListener` has not returned. And I want there to be a new instance of the bean every time the method is called. Is there a way of doing this that is already baked into Spring Beans?\r\n\r\nI want this because with each consumption of a Kafka message I have some global variables that I want all other beans to have access to but not other concurrent calls to the consumer method. I tried making a bean with scope &quot;SimpleThreadScope&quot; but that didn&#39;t seem to work consistently. ","title":"Spring bean session scope for kafka listener","body":"<p>I want a bean that only exists so long as the method annotated with <code>@KafkaListener</code> has not returned. And I want there to be a new instance of the bean every time the method is called. Is there a way of doing this that is already baked into Spring Beans?</p>\n<p>I want this because with each consumption of a Kafka message I have some global variables that I want all other beans to have access to but not other concurrent calls to the consumer method. I tried making a bean with scope &quot;SimpleThreadScope&quot; but that didn't seem to work consistently.</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":6518630,"reputation":1886,"user_id":5286885,"display_name":"sivaBE35"},"score":0,"creation_date":1485349086,"post_id":41852042,"comment_id":70888038,"body_markdown":"http://stackoverflow.com/questions/14784841/tileprovider-using-local-tiles","body":"<a href=\"http://stackoverflow.com/questions/14784841/tileprovider-using-local-tiles\" title=\"tileprovider using local tiles\">stackoverflow.com/questions/14784841/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1485349042,"creation_date":1485349042,"answer_id":41852224,"question_id":41852042,"body_markdown":"You forgot to call `.build()` method.    \r\nIt&#39;s like you want to build a car, and do like `Car car = new CarFactory().type(SEDAN).color(BLACK);` and forgetting to tell the `carFactory` to build the car. It results in that you try to assign a `carFactory` to a `Car` variable.    \r\nYour code should look like this:   \r\n \r\n     mProvider = new HeatmapTileProvider.Builder()\r\n                    .weightedData((Collection&lt;WeightedLatLng&gt;) weightedList)\r\n                    .gradient(gradient)\r\n                    .build(); //missing this line\r\n","title":"Casting issue when trying to create a HeatMap using Google API on android studio","body":"<p>You forgot to call <code>.build()</code> method.<br>\nIt's like you want to build a car, and do like <code>Car car = new CarFactory().type(SEDAN).color(BLACK);</code> and forgetting to tell the <code>carFactory</code> to build the car. It results in that you try to assign a <code>carFactory</code> to a <code>Car</code> variable.<br>\nYour code should look like this:   </p>\n\n<pre><code> mProvider = new HeatmapTileProvider.Builder()\n                .weightedData((Collection&lt;WeightedLatLng&gt;) weightedList)\n                .gradient(gradient)\n                .build(); //missing this line\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10458783,"reputation":367,"user_id":7710234,"display_name":"Nenad Štrbić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637287277,"creation_date":1637277185,"answer_id":70027918,"question_id":41852042,"body_markdown":"If you set up your dependencies right, you should have everything to work correctly. And you should have no need for thinking about casting. because as in documentation, your code should be.\r\n\r\n          mOverlay = mMap.addTileOverlay(new TileOverlayOptions().tileProvider(mProvider));\r\n\r\nMy problem (the difference is a few years, and it is Kotlin, not Java, but still gradle problem and not in code :) was this dependency\r\n\r\n    implementation &#39;com.google.maps.android:maps-v3-ktx:2.2.0&#39; \r\n\r\nand one that works correctly is\r\n\r\n    implementation &#39;com.google.maps.android:maps-ktx:2.3.0&#39;","title":"Casting issue when trying to create a HeatMap using Google API on android studio","body":"<p>If you set up your dependencies right, you should have everything to work correctly. And you should have no need for thinking about casting. because as in documentation, your code should be.</p>\n<pre><code>      mOverlay = mMap.addTileOverlay(new TileOverlayOptions().tileProvider(mProvider));\n</code></pre>\n<p>My problem (the difference is a few years, and it is Kotlin, not Java, but still gradle problem and not in code :) was this dependency</p>\n<pre><code>implementation 'com.google.maps.android:maps-v3-ktx:2.2.0' \n</code></pre>\n<p>and one that works correctly is</p>\n<pre><code>implementation 'com.google.maps.android:maps-ktx:2.3.0'\n</code></pre>\n"}],"owner":{"account_id":9842749,"reputation":29,"user_id":7291291,"accept_rate":17,"display_name":"HorribleCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41852224,"answer_count":2,"score":0,"last_activity_date":1637287372,"creation_date":1485348513,"question_id":41852042,"body_markdown":"I&#39;m attempting to create a heatmap using the google api, but have come across a small problem. \r\n\r\nHere is the sample code:\r\n\r\n    \r\n\r\n     mProvider = new HeatmapTileProvider.Builder()\r\n                        .weightedData((Collection&lt;WeightedLatLng&gt;) weightedList)\r\n                        .gradient(gradient);\r\n             mOverlay = mMap.addTileOverlay(new TileOverlayOptions().tileProvider((TileProvider) mProvider));// this is the line of code that produces the error\r\n        }\r\n\r\nIn particular, the argument &quot;mProvider&quot; in that line is highlighted.\r\n\r\nThe error log is:\r\n                                                          \r\n\r\n    java.lang.ClassCastException: com.google.maps.android.heatmaps.HeatmapTileProvider$Builder cannot be cast to com.google.android.gms.maps.model.TileProvider","title":"Casting issue when trying to create a HeatMap using Google API on android studio","body":"<p>I'm attempting to create a heatmap using the google api, but have come across a small problem.</p>\n<p>Here is the sample code:</p>\n<pre><code> mProvider = new HeatmapTileProvider.Builder()\n                    .weightedData((Collection&lt;WeightedLatLng&gt;) weightedList)\n                    .gradient(gradient);\n         mOverlay = mMap.addTileOverlay(new TileOverlayOptions().tileProvider((TileProvider) mProvider));// this is the line of code that produces the error\n    }\n</code></pre>\n<p>In particular, the argument &quot;mProvider&quot; in that line is highlighted.</p>\n<p>The error log is:</p>\n<pre><code>java.lang.ClassCastException: com.google.maps.android.heatmaps.HeatmapTileProvider$Builder cannot be cast to com.google.android.gms.maps.model.TileProvider\n</code></pre>\n"},{"tags":["java","timer","timertask"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637282108,"post_id":70028425,"comment_id":123791494,"body_markdown":"why do you do `timer.cancel();` ?","body":"why do you do <code>timer.cancel();</code> ?"},{"owner":{"account_id":20281332,"reputation":370,"user_id":14875027,"display_name":"dvr"},"score":0,"creation_date":1637286149,"post_id":70028425,"comment_id":123792153,"body_markdown":"That&#39;s not the issue. I understand that the task is asynchronous. But I need to cancel that timer after the checkout function returns, because they have completed the process of booking a seat.","body":"That&#39;s not the issue. I understand that the task is asynchronous. But I need to cancel that timer after the checkout function returns, because they have completed the process of booking a seat."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637286981,"post_id":70028425,"comment_id":123792282,"body_markdown":"Yes you have a cancel problem, but as for *However, the function never makes it there. * - I do not think this is true.","body":"Yes you have a cancel problem, but as for *However, the function never makes it there. * - I do not think this is true."},{"owner":{"account_id":20281332,"reputation":370,"user_id":14875027,"display_name":"dvr"},"score":0,"creation_date":1637289540,"post_id":70028425,"comment_id":123792720,"body_markdown":"The run() function in the timer class calls expiredCheckout as I want it to. However, it does not get past ```String input = inputObj.nextLine()```. It never prints ```made it here```.","body":"The run() function in the timer class calls expiredCheckout as I want it to. However, it does not get past <code>String input = inputObj.nextLine()</code>. It never prints <code>made it here</code>."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637289700,"post_id":70028425,"comment_id":123792744,"body_markdown":"Hmm, it does on my environment.  Are you sure you haven&#39;t shutdown `inputObj` somewhere?","body":"Hmm, it does on my environment.  Are you sure you haven&#39;t shutdown <code>inputObj</code> somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637286840,"creation_date":1637286840,"answer_id":70028909,"question_id":70028425,"body_markdown":"To cancel the timer, you can do this within the TimerTask itself\r\n\r\n\t\tprivate void expiredCheckout() {\r\n\t\t\tSystem.out.println(&quot;in expired method&quot;);\r\n\t\t\tScanner inputObj = new Scanner(System.in);\r\n\t        while (true) {\r\n\t            System.out.println(&quot;Your session has expired!&quot;);\r\n\t            System.out.println(&quot;If you want to start over, press 1&quot;); \r\n\t            System.out.println(&quot;If you want to cancel, press q&quot;);\r\n\t            String input = inputObj.nextLine();\r\n\t            System.out.println(&quot;made it here&quot;);\r\n\t            if (input.equals(&quot;q&quot;)) {\r\n\t            \tSystem.out.println(&quot;quitting&quot;);\r\n\t                timer.cancel();\r\n\t                timer.purge();\r\n\t                return;\r\n\t            }\r\n\t            else if (input.equals(&quot;1&quot;)) {\r\n\t            \tSystem.out.println(&quot;Entered 1&quot;);\r\n\t                break;\r\n\t            } else {\r\n\t                System.out.println(&quot;Please enter valid choice!&quot;);\r\n\t            }\r\n\t        }\t\t\t\t\t\r\n\t\t}","title":"Use of Timer in Java","body":"<p>To cancel the timer, you can do this within the TimerTask itself</p>\n<pre><code>    private void expiredCheckout() {\n        System.out.println(&quot;in expired method&quot;);\n        Scanner inputObj = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;Your session has expired!&quot;);\n            System.out.println(&quot;If you want to start over, press 1&quot;); \n            System.out.println(&quot;If you want to cancel, press q&quot;);\n            String input = inputObj.nextLine();\n            System.out.println(&quot;made it here&quot;);\n            if (input.equals(&quot;q&quot;)) {\n                System.out.println(&quot;quitting&quot;);\n                timer.cancel();\n                timer.purge();\n                return;\n            }\n            else if (input.equals(&quot;1&quot;)) {\n                System.out.println(&quot;Entered 1&quot;);\n                break;\n            } else {\n                System.out.println(&quot;Please enter valid choice!&quot;);\n            }\n        }                   \n    }\n</code></pre>\n"}],"owner":{"account_id":20281332,"reputation":370,"user_id":14875027,"display_name":"dvr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637286840,"creation_date":1637281907,"question_id":70028425,"body_markdown":"I am writing a ticket booking system for a movie theater. I want to start a timer that gives users 5 minutes to checkout after they&#39;ve selected a seat. I decided to use java&#39;s Timer class. \r\n\r\nHere is the code that starts the timer, and the ```expiredCheckout()``` function that gets called: \r\n```\r\nprivate void expiredCheckout() {\r\n\t\tScanner inputObj = new Scanner(System.in);\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Your session has expired!&quot;);\r\n\t\t\tSystem.out.println(&quot;If you want to start over, press 1&quot;); \r\n\t\t\tSystem.out.println(&quot;If you want to cancel, press q&quot;);\r\n\t\t\tString input = inputObj.next();\r\n\t\t\tSystem.out.println(&quot;made it here&quot;);\r\n\t\t\tif (input.equals(&quot;q&quot;))\r\n\t\t\t\treturn;\r\n\t\t\telse if (input.equals(&quot;1&quot;)) {\r\n\t\t\t\tthis.runTheatreUI();\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Please enter valid choice!&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nprivate void startTimer(ArrayList&lt;Seat&gt; seatsSelected) {\r\n\t\tTimer timer = new Timer();\r\n\t\ttimer.schedule(\r\n\t\t\tnew TimerTask() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\texpiredCheckout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t,5*60*1000);\r\n\t\tArrayList&lt;Object&gt; checkoutInfo = this.checkout();\r\n\t\ttimer.cancel();\r\n\t\tif (checkoutInfo.get(0).equals(true)) {\r\n\t\t\tfor (int i = 0; i &lt; seatsSelected.size(); i++) {\r\n\t\t\t\tseatsSelected.get(i).setStatus(Seat.TAKEN);\r\n\t\t\t\tthis.numSeatsAvailable += 1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// the user quit \r\n\t\t\tfor (int i = 0; i &lt; seatsSelected.size(); i++) {\r\n\t\t\t\tseatsSelected.get(i).setStatus(Seat.OPEN);\r\n\t\t\t\tthis.numSeatsAvailable += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\t\r\n\t}\r\n```\r\n\r\nAs you can see, I added print statements after reading input from the user. However, the function never makes it there. When I enter a character in the terminal, there is no action. I&#39;m confused as to why that happens. \r\n\r\n","title":"Use of Timer in Java","body":"<p>I am writing a ticket booking system for a movie theater. I want to start a timer that gives users 5 minutes to checkout after they've selected a seat. I decided to use java's Timer class.</p>\n<p>Here is the code that starts the timer, and the <code>expiredCheckout()</code> function that gets called:</p>\n<pre><code>private void expiredCheckout() {\n        Scanner inputObj = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;Your session has expired!&quot;);\n            System.out.println(&quot;If you want to start over, press 1&quot;); \n            System.out.println(&quot;If you want to cancel, press q&quot;);\n            String input = inputObj.next();\n            System.out.println(&quot;made it here&quot;);\n            if (input.equals(&quot;q&quot;))\n                return;\n            else if (input.equals(&quot;1&quot;)) {\n                this.runTheatreUI();\n                break;\n            } else {\n                System.out.println(&quot;Please enter valid choice!&quot;);\n            }\n        }\n    }\n\nprivate void startTimer(ArrayList&lt;Seat&gt; seatsSelected) {\n        Timer timer = new Timer();\n        timer.schedule(\n            new TimerTask() {\n                public void run() {\n                    expiredCheckout();\n                    return;\n                }\n            }\n            ,5*60*1000);\n        ArrayList&lt;Object&gt; checkoutInfo = this.checkout();\n        timer.cancel();\n        if (checkoutInfo.get(0).equals(true)) {\n            for (int i = 0; i &lt; seatsSelected.size(); i++) {\n                seatsSelected.get(i).setStatus(Seat.TAKEN);\n                this.numSeatsAvailable += 1;\n            }\n        } else {\n            // the user quit \n            for (int i = 0; i &lt; seatsSelected.size(); i++) {\n                seatsSelected.get(i).setStatus(Seat.OPEN);\n                this.numSeatsAvailable += 1;\n            }\n        }\n        return; \n    }\n</code></pre>\n<p>As you can see, I added print statements after reading input from the user. However, the function never makes it there. When I enter a character in the terminal, there is no action. I'm confused as to why that happens.</p>\n"},{"tags":["java","arrays","int","contains"],"comments":[{"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"score":8,"creation_date":1345308328,"post_id":12020361,"comment_id":16039603,"body_markdown":"Your Arrays.asList(...) call takes a vararg, that is it will wrap the arbitrary number of arguments you might pass into that in a List. In your case, you&#39;re getting a list of arrays with a single element, and this list obviously does not contain the int.","body":"Your Arrays.asList(...) call takes a vararg, that is it will wrap the arbitrary number of arguments you might pass into that in a List. In your case, you&#39;re getting a list of arrays with a single element, and this list obviously does not contain the int."},{"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"score":0,"creation_date":1345308545,"post_id":12020361,"comment_id":16039660,"body_markdown":"Your comment meaning what now?","body":"Your comment meaning what now?"},{"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"score":0,"creation_date":1345310545,"post_id":12020361,"comment_id":16040125,"body_markdown":"check `Hashset` based retrial mechanism answer. It is the fastest way.","body":"check <code>Hashset</code> based retrial mechanism answer. It is the fastest way."},{"owner":{"account_id":231365,"reputation":2941,"user_id":495558,"accept_rate":87,"display_name":"Genzer"},"score":0,"creation_date":1345311495,"post_id":12020361,"comment_id":16040362,"body_markdown":"I don&#39;t see any point at making your original code shorter since your argument is a primitive array and your code is very clear and straightfoward. `ArrayList` implementation is doing the same.","body":"I don&#39;t see any point at making your original code shorter since your argument is a primitive array and your code is very clear and straightfoward. <code>ArrayList</code> implementation is doing the same."},{"owner":{"account_id":206751,"reputation":1117,"user_id":456228,"accept_rate":67,"display_name":"Martin Podval"},"score":0,"creation_date":1420439623,"post_id":12020361,"comment_id":43959712,"body_markdown":"I would not make your code shorter. (1) arraylist does the same thing you did. (2) - more important stuff is that the shorten code using Arrays.asList creates new object, which could be problem within some performance critical code. The first code snippet is best thing you can do.","body":"I would not make your code shorter. (1) arraylist does the same thing you did. (2) - more important stuff is that the shorten code using Arrays.asList creates new object, which could be problem within some performance critical code. The first code snippet is best thing you can do."},{"owner":{"account_id":2103564,"reputation":1330,"user_id":1870517,"accept_rate":17,"display_name":"Nicolas"},"score":0,"creation_date":1450497252,"post_id":12020361,"comment_id":56476379,"body_markdown":"The iterative solution is nice. Of course you can use a Hashtable to optimize the speed of the lookup, but that means to convert the initial array into a hashtable, which is also an iterative process. Anyway, I would add a &quot;break&quot; statement when the item is found, because when it is found, you don&#39;t need to iterate to the end of the array","body":"The iterative solution is nice. Of course you can use a Hashtable to optimize the speed of the lookup, but that means to convert the initial array into a hashtable, which is also an iterative process. Anyway, I would add a &quot;break&quot; statement when the item is found, because when it is found, you don&#39;t need to iterate to the end of the array"},{"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"score":0,"creation_date":1476790084,"post_id":12020361,"comment_id":67485209,"body_markdown":"Hi, even if the JDK8 version is smaller the speed depenends on the list size. For example if your list contain less than 10 elements the simple array loop could be much faster because integer call are fast an there is no calling overhead like in the jdk8 solution. For really large set you sould use an &quot;Set&lt;&gt;&quot; but it is only faster if you reuse it.","body":"Hi, even if the JDK8 version is smaller the speed depenends on the list size. For example if your list contain less than 10 elements the simple array loop could be much faster because integer call are fast an there is no calling overhead like in the jdk8 solution. For really large set you sould use an &quot;Set&lt;&gt;&quot; but it is only faster if you reuse it."},{"owner":{"account_id":127349,"reputation":1892,"user_id":324444,"accept_rate":62,"display_name":"Tim Boland"},"score":0,"creation_date":1497027755,"post_id":12020361,"comment_id":75922980,"body_markdown":"Your Current is the best way if your using Java 7, int, with no 3rd Party libraries.","body":"Your Current is the best way if your using Java 7, int, with no 3rd Party libraries."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1615293009,"creation_date":1345308355,"answer_id":12020391,"question_id":12020361,"body_markdown":"It&#39;s because `Arrays.asList(array)` returns `List&lt;int[]&gt;`. The `array` argument is treated as one value you want to wrap (you get a list of arrays of ints), not as vararg.\r\n\r\nNote that it *does* work with object types (not primitives):\r\n\r\n\tpublic boolean contains(final String[] array, final String key) {\r\n\t\treturn Arrays.asList(array).contains(key);\r\n\t}\r\n\r\nor even:\r\n\r\n\tpublic &lt;T&gt;  boolean contains(final T[] array, final T key) {\r\n\t\treturn Arrays.asList(array).contains(key);\r\n\t}\r\n\r\nBut you cannot have `List&lt;int&gt;` and autoboxing is not working here.","title":"Java, Simplified check if int array contains int","body":"<p>It's because <code>Arrays.asList(array)</code> returns <code>List&lt;int[]&gt;</code>. The <code>array</code> argument is treated as one value you want to wrap (you get a list of arrays of ints), not as vararg.</p>\n<p>Note that it <em>does</em> work with object types (not primitives):</p>\n<pre><code>public boolean contains(final String[] array, final String key) {\n    return Arrays.asList(array).contains(key);\n}\n</code></pre>\n<p>or even:</p>\n<pre><code>public &lt;T&gt;  boolean contains(final T[] array, final T key) {\n    return Arrays.asList(array).contains(key);\n}\n</code></pre>\n<p>But you cannot have <code>List&lt;int&gt;</code> and autoboxing is not working here.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":8,"up_vote_count":29,"is_accepted":false,"score":21,"last_activity_date":1488232674,"creation_date":1345308600,"answer_id":12020425,"question_id":12020361,"body_markdown":"A different way:   \r\n\r\n    public boolean contains(final int[] array, final int key) {  \r\n         Arrays.sort(array);  \r\n         return Arrays.binarySearch(array, key) &gt;= 0;  \r\n    }  \r\n\r\nThis modifies the passed-in array. You would have the option to copy the array and work on the original array i.e. `int[] sorted = array.clone();`   \r\nBut this is just an example of short code. The runtime is `O(NlogN)` while your way is `O(N)`\r\n\r\n","title":"Java, Simplified check if int array contains int","body":"<p>A different way:   </p>\n\n<pre><code>public boolean contains(final int[] array, final int key) {  \n     Arrays.sort(array);  \n     return Arrays.binarySearch(array, key) &gt;= 0;  \n}  \n</code></pre>\n\n<p>This modifies the passed-in array. You would have the option to copy the array and work on the original array i.e. <code>int[] sorted = array.clone();</code><br>\nBut this is just an example of short code. The runtime is <code>O(NlogN)</code> while your way is <code>O(N)</code></p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":3,"up_vote_count":82,"is_accepted":false,"score":79,"last_activity_date":1630608278,"creation_date":1345308657,"answer_id":12020432,"question_id":12020361,"body_markdown":"You could simply use [`ArrayUtils.contains`][1] from Apache Commons Lang library.\r\n\r\n    public boolean contains(final int[] array, final int key) {    \t\r\n    \treturn ArrayUtils.contains(array, key);\r\n    }\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#contains(int[],%20int)","title":"Java, Simplified check if int array contains int","body":"<p>You could simply use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#contains(int%5B%5D,%20int)\" rel=\"noreferrer\"><code>ArrayUtils.contains</code></a> from Apache Commons Lang library.</p>\n<pre><code>public boolean contains(final int[] array, final int key) {     \n    return ArrayUtils.contains(array, key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1345310142,"creation_date":1345310142,"answer_id":12020605,"question_id":12020361,"body_markdown":"Try `Integer.parseInt()` to do this.....\r\n\r\n    public boolean chkInt(final int[] array){\r\n        int key = false;\r\n        \r\n        for (Integer i : array){\r\n        \r\n        \r\n              try{\r\n        \r\n                       Integer.parseInt(i);\r\n                       key = true;\r\n                       return key;\r\n        \r\n                 }catch(NumberFormatException ex){\r\n        \r\n                       key = false;\r\n        \r\n                       return key;\r\n             \r\n                  }\r\n        \r\n        \r\n         }\r\n    }","title":"Java, Simplified check if int array contains int","body":"<p>Try <code>Integer.parseInt()</code> to do this.....</p>\n\n<pre><code>public boolean chkInt(final int[] array){\n    int key = false;\n\n    for (Integer i : array){\n\n\n          try{\n\n                   Integer.parseInt(i);\n                   key = true;\n                   return key;\n\n             }catch(NumberFormatException ex){\n\n                   key = false;\n\n                   return key;\n\n              }\n\n\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1203531,"reputation":119,"user_id":1173720,"display_name":"Kaveh Ghahremani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1345310302,"creation_date":1345310302,"answer_id":12020623,"question_id":12020361,"body_markdown":"Depending on how large your array of int will be, you will get much better performance if you use collections and `.contains` rather than iterating over the array one element at a time:\r\n\r\n    import static org.junit.Assert.assertTrue;\r\n    import java.util.HashSet;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n\r\n    public class IntLookupTest {\r\n\r\n\tint numberOfInts = 500000;\r\n\tint toFind = 200000;\r\n\tint[] array;\r\n\t\r\n\tHashSet&lt;Integer&gt; intSet;\r\n\t\r\n\t@Before\r\n\tpublic void initializeArrayAndSet() {\r\n\t\tarray = new int[numberOfInts];\r\n\t\tintSet = new HashSet&lt;Integer&gt;();\r\n\t\tfor(int i = 0; i &lt; numberOfInts; i++) {\r\n\t\t\tarray[i] = i;\r\n\t\t\tintSet.add(i);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void lookupUsingCollections() {\r\n\t\tassertTrue(intSet.contains(toFind));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void iterateArray() {\r\n\t\tassertTrue(contains(array, toFind));\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boolean contains(final int[] array, final int key) {\r\n        for (final int i : array) {\r\n            if (i == key) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    }","title":"Java, Simplified check if int array contains int","body":"<p>Depending on how large your array of int will be, you will get much better performance if you use collections and <code>.contains</code> rather than iterating over the array one element at a time:</p>\n\n<pre><code>import static org.junit.Assert.assertTrue;\nimport java.util.HashSet;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class IntLookupTest {\n\nint numberOfInts = 500000;\nint toFind = 200000;\nint[] array;\n\nHashSet&lt;Integer&gt; intSet;\n\n@Before\npublic void initializeArrayAndSet() {\n    array = new int[numberOfInts];\n    intSet = new HashSet&lt;Integer&gt;();\n    for(int i = 0; i &lt; numberOfInts; i++) {\n        array[i] = i;\n        intSet.add(i);\n    }\n}\n\n@Test\npublic void lookupUsingCollections() {\n    assertTrue(intSet.contains(toFind));\n}\n\n@Test\npublic void iterateArray() {\n    assertTrue(contains(array, toFind));\n\n}\n\npublic boolean contains(final int[] array, final int key) {\n    for (final int i : array) {\n        if (i == key) {\n            return true;\n        }\n    }\n    return false;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023043,"reputation":319,"user_id":2588268,"display_name":"Evert"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1373992755,"creation_date":1373992755,"answer_id":17682260,"question_id":12020361,"body_markdown":"Guava offers additional methods for primitive types. Among them a contains method which takes the same arguments as yours.\r\n\r\n    public boolean contains(final int[] array, final int key) {\r\n        return Ints.contains(array, key);\r\n    }\r\n\r\n\r\nYou might as well statically import the guava version. \r\n\r\nSee [Guava Primitives Explained][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained &quot;Guava Primitives Explained&quot;","title":"Java, Simplified check if int array contains int","body":"<p>Guava offers additional methods for primitive types. Among them a contains method which takes the same arguments as yours.</p>\n\n<pre><code>public boolean contains(final int[] array, final int key) {\n    return Ints.contains(array, key);\n}\n</code></pre>\n\n<p>You might as well statically import the guava version. </p>\n\n<p>See <a href=\"http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained\" rel=\"noreferrer\" title=\"Guava Primitives Explained\">Guava Primitives Explained</a></p>\n"},{"tags":[],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408697691,"creation_date":1408697691,"answer_id":25443144,"question_id":12020361,"body_markdown":"\r\n1.one-off uses \r\n\r\n    List&lt;T&gt; list=Arrays.asList(...)\r\n    list.contains(...)\r\n\r\n2.use HashSet for performance consideration if you use more than once.\r\n\r\n    Set &lt;T&gt;set =new HashSet&lt;T&gt;(Arrays.asList(...));\r\n    set.contains(...)\r\n\r\n","title":"Java, Simplified check if int array contains int","body":"<p>1.one-off uses </p>\n\n<pre><code>List&lt;T&gt; list=Arrays.asList(...)\nlist.contains(...)\n</code></pre>\n\n<p>2.use HashSet for performance consideration if you use more than once.</p>\n\n<pre><code>Set &lt;T&gt;set =new HashSet&lt;T&gt;(Arrays.asList(...));\nset.contains(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338186,"reputation":445,"user_id":2805103,"display_name":"Mourad El Aomari"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1522939798,"creation_date":1416456884,"answer_id":27031647,"question_id":12020361,"body_markdown":"You can use `java.util.Arrays` class to transform the array `T[?]` in a `List&lt;T&gt;` object with methods like `contains`:\r\n\r\n    Arrays.asList(int[] array).contains(int key);","title":"Java, Simplified check if int array contains int","body":"<p>You can use <code>java.util.Arrays</code> class to transform the array <code>T[?]</code> in a <code>List&lt;T&gt;</code> object with methods like <code>contains</code>:</p>\n\n<pre><code>Arrays.asList(int[] array).contains(int key);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451899,"reputation":459,"user_id":2137961,"accept_rate":33,"display_name":"Willy Wonka"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1418735619,"creation_date":1418735619,"answer_id":27505492,"question_id":12020361,"body_markdown":"I know it&#39;s super late, but try `Integer[]` instead of `int[]`.","title":"Java, Simplified check if int array contains int","body":"<p>I know it's super late, but try <code>Integer[]</code> instead of <code>int[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"down_vote_count":2,"up_vote_count":72,"is_accepted":false,"score":70,"last_activity_date":1451541126,"creation_date":1451541126,"answer_id":34541755,"question_id":12020361,"body_markdown":"Here is Java 8 solution\r\n\r\n    public static boolean contains(final int[] arr, final int key) {\r\n\t\treturn Arrays.stream(arr).anyMatch(i -&gt; i == key);\r\n\t}\r\n ","title":"Java, Simplified check if int array contains int","body":"<p>Here is Java 8 solution</p>\n\n<pre><code>public static boolean contains(final int[] arr, final int key) {\n    return Arrays.stream(arr).anyMatch(i -&gt; i == key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6019085,"reputation":87,"user_id":4726867,"display_name":"Farhad Baghirov"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1494826946,"creation_date":1477770257,"answer_id":40323007,"question_id":12020361,"body_markdown":"**this worked in java 8**\r\n\r\n\r\n    public static boolean contains(final int[] array, final int key)\r\n    {\r\n    return Arrays.stream(array).anyMatch(n-&gt;n==key);\r\n    }\r\n    \r\n\r\n","title":"Java, Simplified check if int array contains int","body":"<p><strong>this worked in java 8</strong></p>\n\n<pre><code>public static boolean contains(final int[] array, final int key)\n{\nreturn Arrays.stream(array).anyMatch(n-&gt;n==key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8138719,"reputation":27,"user_id":6129613,"display_name":"Elavarasan S"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1545143787,"creation_date":1545140002,"answer_id":53834220,"question_id":12020361,"body_markdown":"Try this:\r\n\r\n    public static void arrayContains(){\r\n        int myArray[]={2,2,5,4,8};\r\n        \r\n        int length=myArray.length;\r\n        \r\n        int toFind = 5;\r\n        boolean found = false;\r\n        \r\n        for(int i = 0; i &lt; length; i++) {\r\n            if(myArray[i]==toFind) {\r\n                found=true;\r\n            }\r\n        }\r\n      \r\n        System.out.println(myArray.length);\r\n        System.out.println(found); \r\n    }","title":"Java, Simplified check if int array contains int","body":"<p>Try this:</p>\n\n<pre><code>public static void arrayContains(){\n    int myArray[]={2,2,5,4,8};\n\n    int length=myArray.length;\n\n    int toFind = 5;\n    boolean found = false;\n\n    for(int i = 0; i &lt; length; i++) {\n        if(myArray[i]==toFind) {\n            found=true;\n        }\n    }\n\n    System.out.println(myArray.length);\n    System.out.println(found); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11205809,"reputation":1433,"user_id":8221470,"display_name":"Hetal Rachh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558876534,"creation_date":1558876534,"answer_id":56313828,"question_id":12020361,"body_markdown":"You can convert your primitive int array into an arraylist of Integers using below Java 8 code,\r\n\r\n    List&lt;Integer&gt; arrayElementsList = Arrays.stream(yourArray).boxed().collect(Collectors.toList());\r\n\r\n\r\nAnd then use `contains()` method to check if the list contains a particular element,\r\n\r\n    boolean containsElement = arrayElementsList.contains(key);","title":"Java, Simplified check if int array contains int","body":"<p>You can convert your primitive int array into an arraylist of Integers using below Java 8 code,</p>\n\n<pre><code>List&lt;Integer&gt; arrayElementsList = Arrays.stream(yourArray).boxed().collect(Collectors.toList());\n</code></pre>\n\n<p>And then use <code>contains()</code> method to check if the list contains a particular element,</p>\n\n<pre><code>boolean containsElement = arrayElementsList.contains(key);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16058888,"reputation":51,"user_id":11590404,"display_name":"Kunal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623854888,"creation_date":1623854888,"answer_id":68005042,"question_id":12020361,"body_markdown":"\tprivate static void solutions() {\r\n\t\tint[] A = { 1, 5, 10, 20, 40, 80 };\r\n\t\tint[] B = { 6, 7, 20, 80, 100 };\r\n\t\tint[] C = { 3, 4, 15, 20, 30, 70, 80, 120 };\r\n\r\n\t\tList&lt;Integer&gt; aList = Arrays.stream(A).boxed().collect(Collectors.toList());\r\n\r\n\t\tList&lt;Integer&gt; cList = Arrays.stream(C).boxed().collect(Collectors.toList());\r\n\t\tString s = &quot;&quot;;\r\n\t\tfor (Integer a : C) {\r\n\t\t\tif (aList.contains(a) &amp;&amp; cList.contains(a)) {\r\n\t\t\t\ts = s.concat(String.valueOf(a)).concat(&quot;-&gt;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java, Simplified check if int array contains int","body":"<pre><code>private static void solutions() {\n    int[] A = { 1, 5, 10, 20, 40, 80 };\n    int[] B = { 6, 7, 20, 80, 100 };\n    int[] C = { 3, 4, 15, 20, 30, 70, 80, 120 };\n\n    List&lt;Integer&gt; aList = Arrays.stream(A).boxed().collect(Collectors.toList());\n\n    List&lt;Integer&gt; cList = Arrays.stream(C).boxed().collect(Collectors.toList());\n    String s = &quot;&quot;;\n    for (Integer a : C) {\n        if (aList.contains(a) &amp;&amp; cList.contains(a)) {\n            s = s.concat(String.valueOf(a)).concat(&quot;-&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637286505,"creation_date":1637286505,"answer_id":70028877,"question_id":12020361,"body_markdown":"# Java 9+\r\n\r\n```java\r\npublic boolean contains(final int[] array, final int key) {\r\n    return List.of(array).contains(key);\r\n}\r\n```","title":"Java, Simplified check if int array contains int","body":"<h1>Java 9+</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean contains(final int[] array, final int key) {\n    return List.of(array).contains(key);\n}\n</code></pre>\n"}],"owner":{"account_id":1707148,"reputation":1494,"user_id":1565994,"display_name":"Caleb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333481,"favorite_count":0,"down_vote_count":2,"up_vote_count":118,"accepted_answer_id":12020391,"answer_count":15,"score":116,"last_activity_date":1637286505,"creation_date":1345308109,"question_id":12020361,"body_markdown":"Basically my mate has been saying that I could make my code shorter by using a different way of checking if an int array contains an int, although he won&#39;t tell me what it is :P.\r\n\r\nCurrent: \r\n\r\n    public boolean contains(final int[] array, final int key) {\r\n        for (final int i : array) {\r\n            if (i == key) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nHave also tried this, although it always returns false for some reason.\r\n\r\n    public boolean contains(final int[] array, final int key) {\r\n        return Arrays.asList(array).contains(key);\r\n    }\r\n\r\nCould anyone help me out?\r\n\r\nThank you.","title":"Java, Simplified check if int array contains int","body":"<p>Basically my mate has been saying that I could make my code shorter by using a different way of checking if an int array contains an int, although he won't tell me what it is :P.</p>\n\n<p>Current: </p>\n\n<pre><code>public boolean contains(final int[] array, final int key) {\n    for (final int i : array) {\n        if (i == key) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Have also tried this, although it always returns false for some reason.</p>\n\n<pre><code>public boolean contains(final int[] array, final int key) {\n    return Arrays.asList(array).contains(key);\n}\n</code></pre>\n\n<p>Could anyone help me out?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","java.util.scanner","filenotfoundexception","numberformatexception"],"comments":[{"owner":{"account_id":1199494,"reputation":2990,"user_id":1170451,"display_name":"Patrick"},"score":0,"creation_date":1637286505,"post_id":70028789,"comment_id":123792211,"body_markdown":"As you say, if you put a println within the `while` loop, you&#39;ll get it printed out multiple times - one for each line within the file. At least how I&#39;m reading the instructions, you shouldn&#39;t need to accept anything from the user - all the data you need is within the file. To help you out with the catch statements - A `FileNotFound` exception can happen anywhere you _read_ from a file, and a `NumberFormat` exception can happen anywhere you attempt to change something from a `String` (what they are in the file) into a number. That&#39;s a bit vague on purpose because... homework :)","body":"As you say, if you put a println within the <code>while</code> loop, you&#39;ll get it printed out multiple times - one for each line within the file. At least how I&#39;m reading the instructions, you shouldn&#39;t need to accept anything from the user - all the data you need is within the file. To help you out with the catch statements - A <code>FileNotFound</code> exception can happen anywhere you <i>read</i> from a file, and a <code>NumberFormat</code> exception can happen anywhere you attempt to change something from a <code>String</code> (what they are in the file) into a number. That&#39;s a bit vague on purpose because... homework :)"},{"owner":{"account_id":23387078,"reputation":17,"user_id":17452244,"display_name":"Patrick O&#39;Rourke"},"score":0,"creation_date":1637290512,"post_id":70028789,"comment_id":123792899,"body_markdown":"that makes more sense on the while loop and scanner part.  I tend to overthink all these assignments.  As far as the exceptions go, I added two try-catch statements at the end of my code one for the FileNotFound exception and the other for the NumberFormat exception.  So my output looks like this:                                     Students on Academic Warning:\n\nJones\t1.35\nWalker\t1.9\nStreet\t1.739\nDavis\t1.8\nSummers\t1.6\n\nInvalid, file: g:\\students.dat does not exist\n\nNumber Format Exception error\nIs this what the output of the exceptions are suppose to look like?","body":"that makes more sense on the while loop and scanner part.  I tend to overthink all these assignments.  As far as the exceptions go, I added two try-catch statements at the end of my code one for the FileNotFound exception and the other for the NumberFormat exception.  So my output looks like this:                                     Students on Academic Warning:  Jones\t1.35 Walker\t1.9 Street\t1.739 Davis\t1.8 Summers\t1.6  Invalid, file: g:\\students.dat does not exist  Number Format Exception error Is this what the output of the exceptions are suppose to look like?"},{"owner":{"account_id":1199494,"reputation":2990,"user_id":1170451,"display_name":"Patrick"},"score":0,"creation_date":1637293733,"post_id":70028789,"comment_id":123793500,"body_markdown":"I would assume that you&#39;re supposed to put the exceptions in the proper areas of the code (and not at the end of the code). So where do you open a file in the normal flow of the code? Where do you transform a string into an int in the normal flow of the code? That&#39;s where the try/catch blocks should be.","body":"I would assume that you&#39;re supposed to put the exceptions in the proper areas of the code (and not at the end of the code). So where do you open a file in the normal flow of the code? Where do you transform a string into an int in the normal flow of the code? That&#39;s where the try/catch blocks should be."},{"owner":{"account_id":23387078,"reputation":17,"user_id":17452244,"display_name":"Patrick O&#39;Rourke"},"score":0,"creation_date":1637294274,"post_id":70028789,"comment_id":123793583,"body_markdown":"see that&#39;s why I feel I have done these exceptions wrong.  In the comments, right after I close the file, it says to start our try-catch statements there.  We have another assignment to do and I think I should move onto that one and wait to get her feedback cause all of the instructions and comments in the code were extremely confusing.  Thank you for all your help with this, I really appreciate it.","body":"see that&#39;s why I feel I have done these exceptions wrong.  In the comments, right after I close the file, it says to start our try-catch statements there.  We have another assignment to do and I think I should move onto that one and wait to get her feedback cause all of the instructions and comments in the code were extremely confusing.  Thank you for all your help with this, I really appreciate it."}],"owner":{"account_id":23387078,"reputation":17,"user_id":17452244,"display_name":"Patrick O&#39;Rourke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1637285825,"creation_date":1637285825,"question_id":70028789,"body_markdown":"I am still new to java and my assignment for school this week has me at a loss at the moment.  Here is the assignment: Your assignment is to read the student.dat data file. First, review the attached program called\r\nWarning.java file. The program reads a file of student academic credit data. Each line of the\r\ninput file will contain the student name (a single String with no spaces), the number of\r\nsemester hours earned (an integer), and the total quality points earned (a double).\r\nUsing the Warning.java file as the starter code for this assignment, add the following:\r\n1. Add the code to calculate the gpa.\r\n2. Display the name if the gpa is less than 2.0.\r\n3. Test to ensure the output is accurate.\r\n4. Add code to catch the following exceptions:\r\n• A FileNotFoundException if the input file does not exist.\r\n• A NumberFormatException if it can’t parse an int or double when it tries to – this\r\nindicates an error in the input file format. Display the record number in error. \r\n\r\nSo the warning.java file I was given has comments in it about where our code should go and that is what is confusing me.  Here is the code I have so far:\r\n\r\n \r\n\r\nenter code here:\r\n\r\n     //   Warning.java\t\t\t\t\t\t\t\t\t\t\t\t\tJava Foundations\r\n     // \r\n    //   Reads student data from a text file and writes data to another text file.\r\n     // ****************************************************************************\r\n\r\n     import java.util.Scanner;\r\n     import java.io.*;\r\n     import java.text.DecimalFormat;\r\n\r\n     public class warning\r\n     {\r\n       public static void main (String[] args)throws IOException\r\n        {\r\n           int creditHrs = 0;         // number of semester hours earned\r\n          double qualityPts = 0;     // number of quality points earned\r\n          double gpa = 0;            // grade point (quality point) average\r\n          String name = null;\r\n          grade report = new grade(); //I created a class called but I feel it is unnecessary. \r\n      \r\n      \r\n\t     // Set up scanner to input file\r\n\t\t\tScanner inFile = new Scanner(new \r\n     File(&quot;C:\\\\Users\\\\patti\\\\Desktop\\\\Patricksdcom101class\\\\CSIT 210\\\\students.dat&quot;));\r\n         \r\n\t\t\tSystem.out.println (&quot;\\n   Students on Academic Warning:\\n&quot;);\r\n            \r\n         // Process the input file, one token at a time\r\n\t\r\n         while (inFile.hasNext())\r\n         {\r\n            // Get the credit hours and quality points and\r\n            // determine if the student is on warning. If so,\r\n            // display the student&#39;s name.\r\n        \t    Scanner scan = new Scanner(System.in);\r\n        \t   \r\n\t\t\t\tname = inFile.next();\r\n\t\t\t\tcreditHrs = Integer.parseInt(inFile.next());\r\n\t\t\t\tqualityPts = Double.parseDouble(inFile.next());\r\n\t        \t \r\n\t\t\t//  Insert gpa calculation \r\n\t\t\t//\tand statement to determine if the student name is listed.\r\n\t\t\t\tgpa = qualityPts/creditHrs;\r\n\t\t\t\t\r\n\t\tif (gpa &lt; 2.0) {\r\n\t\t\t\r\n\t\t\tgpa = qualityPts/creditHrs;\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;0.###&quot;);\r\n\t\t\tSystem.out.println(name +&quot;\\t&quot; + df.format(gpa));\r\n\t\t}\r\n         }\r\n\t\t\tinFile.close();\r\n\t\t //insert catch statements\r\n         try {\r\n\t      File file = new File(&quot;g:\\\\students.dat&quot;);\r\n\t      \r\n\t      FileReader fr = new FileReader(file);\r\n         }\r\n\t    catch (FileNotFoundException x) {\r\n\t    \t\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.printf(&quot;Invalid, file does not exist please try again&quot;);\r\n\t    }\r\n\t\tcatch (Exception x) {\r\n\t\t\t\r\n\t\t\tx.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\r\n   \r\n\t\t}\r\n\r\n        }         \r\n\r\n\r\n\r\n\r\nI am trying to get the number format exception to work for me, I have the file not found exception there but I feel like I did it wrong.  The comment section that says: &quot;Get the credit hours and quality points and determine if the student is on warning. If so, display the student&#39;s name.&quot; What I can&#39;t figure out is when I put anything in that while loop like a system.out.println statement, the ouput loops that string along with the information from the file.  The instructions make it sound like I am suppose to take user input for the credit hours and quality points right?  I would be eternally grateful to all of you if you can assist me in making my program come together.\r\n\r\nThank You and Have a Marvelous Day,\r\n\r\nPatrick  ","title":"Exceptions while calculating gpa","body":"<p>I am still new to java and my assignment for school this week has me at a loss at the moment.  Here is the assignment: Your assignment is to read the student.dat data file. First, review the attached program called\nWarning.java file. The program reads a file of student academic credit data. Each line of the\ninput file will contain the student name (a single String with no spaces), the number of\nsemester hours earned (an integer), and the total quality points earned (a double).\nUsing the Warning.java file as the starter code for this assignment, add the following:</p>\n<ol>\n<li>Add the code to calculate the gpa.</li>\n<li>Display the name if the gpa is less than 2.0.</li>\n<li>Test to ensure the output is accurate.</li>\n<li>Add code to catch the following exceptions:\n• A FileNotFoundException if the input file does not exist.\n• A NumberFormatException if it can’t parse an int or double when it tries to – this\nindicates an error in the input file format. Display the record number in error.</li>\n</ol>\n<p>So the warning.java file I was given has comments in it about where our code should go and that is what is confusing me.  Here is the code I have so far:</p>\n<p>enter code here:</p>\n<pre><code> //   Warning.java                                                  Java Foundations\n // \n//   Reads student data from a text file and writes data to another text file.\n // ****************************************************************************\n\n import java.util.Scanner;\n import java.io.*;\n import java.text.DecimalFormat;\n\n public class warning\n {\n   public static void main (String[] args)throws IOException\n    {\n       int creditHrs = 0;         // number of semester hours earned\n      double qualityPts = 0;     // number of quality points earned\n      double gpa = 0;            // grade point (quality point) average\n      String name = null;\n      grade report = new grade(); //I created a class called but I feel it is unnecessary. \n  \n  \n     // Set up scanner to input file\n        Scanner inFile = new Scanner(new \n File(&quot;C:\\\\Users\\\\patti\\\\Desktop\\\\Patricksdcom101class\\\\CSIT 210\\\\students.dat&quot;));\n     \n        System.out.println (&quot;\\n   Students on Academic Warning:\\n&quot;);\n        \n     // Process the input file, one token at a time\n\n     while (inFile.hasNext())\n     {\n        // Get the credit hours and quality points and\n        // determine if the student is on warning. If so,\n        // display the student's name.\n            Scanner scan = new Scanner(System.in);\n           \n            name = inFile.next();\n            creditHrs = Integer.parseInt(inFile.next());\n            qualityPts = Double.parseDouble(inFile.next());\n             \n        //  Insert gpa calculation \n        //  and statement to determine if the student name is listed.\n            gpa = qualityPts/creditHrs;\n            \n    if (gpa &lt; 2.0) {\n        \n        gpa = qualityPts/creditHrs;\n    DecimalFormat df = new DecimalFormat(&quot;0.###&quot;);\n        System.out.println(name +&quot;\\t&quot; + df.format(gpa));\n    }\n     }\n        inFile.close();\n     //insert catch statements\n     try {\n      File file = new File(&quot;g:\\\\students.dat&quot;);\n      \n      FileReader fr = new FileReader(file);\n     }\n    catch (FileNotFoundException x) {\n        \n        System.out.println();\n        System.out.printf(&quot;Invalid, file does not exist please try again&quot;);\n    }\n    catch (Exception x) {\n        \n        x.printStackTrace();\n        \n    }\n\n\n    }\n\n    }         \n</code></pre>\n<p>I am trying to get the number format exception to work for me, I have the file not found exception there but I feel like I did it wrong.  The comment section that says: &quot;Get the credit hours and quality points and determine if the student is on warning. If so, display the student's name.&quot; What I can't figure out is when I put anything in that while loop like a system.out.println statement, the ouput loops that string along with the information from the file.  The instructions make it sound like I am suppose to take user input for the credit hours and quality points right?  I would be eternally grateful to all of you if you can assist me in making my program come together.</p>\n<p>Thank You and Have a Marvelous Day,</p>\n<p>Patrick</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637285397,"creation_date":1637285397,"answer_id":70028750,"question_id":70021572,"body_markdown":"Standard way may be not preventing redirect, but redirecting to right port.\r\n\r\n- Configure the reverse proxy to send [`X-Forwarded-Host`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host) (or `X-Forwarded-Port`) header.\r\n- Configure Spring Boot properties [`server.forward-headers-strategy`](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#howto.webserver.use-behind-a-proxy-server) to `NATIVE`.","title":"How to disable 302 redirect in Spring Boot application","body":"<p>Standard way may be not preventing redirect, but redirecting to right port.</p>\n<ul>\n<li>Configure the reverse proxy to send <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host\" rel=\"nofollow noreferrer\"><code>X-Forwarded-Host</code></a> (or <code>X-Forwarded-Port</code>) header.</li>\n<li>Configure Spring Boot properties <a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#howto.webserver.use-behind-a-proxy-server\" rel=\"nofollow noreferrer\"><code>server.forward-headers-strategy</code></a> to <code>NATIVE</code>.</li>\n</ul>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637285397,"creation_date":1637245619,"question_id":70021572,"body_markdown":"I have a Spring Boot application that I need to run behind a reverse proxy. The reverse proxy runs on the same machine as the Spring Boot application, but it uses a different port.\r\n\r\nThe Spring Boot application, when accessed thrugh the proxy, returns a 302 redirect. Based on what I have learned from Spring documentation, this is standard -- especially when Spring Security is used. The problem is that one reason why I am using a reverse proxy is because I am running several applications on my deployment machine and I want only one open port on that machine. Consequently, my Spring Boot application redirects my browser to a closed port, which in turn causes various failures to occur.\r\n\r\nI need to stop my Spring Boot application from responding with 302 redirects. I am pretty sure it is pssible, but it is unclear from the documentation how to do this.\r\n\r\nCan someone please either tell me how to disable 302 redirects on Spring Boot, or point me to some examples of how to do it?\r\n","title":"How to disable 302 redirect in Spring Boot application","body":"<p>I have a Spring Boot application that I need to run behind a reverse proxy. The reverse proxy runs on the same machine as the Spring Boot application, but it uses a different port.</p>\n<p>The Spring Boot application, when accessed thrugh the proxy, returns a 302 redirect. Based on what I have learned from Spring documentation, this is standard -- especially when Spring Security is used. The problem is that one reason why I am using a reverse proxy is because I am running several applications on my deployment machine and I want only one open port on that machine. Consequently, my Spring Boot application redirects my browser to a closed port, which in turn causes various failures to occur.</p>\n<p>I need to stop my Spring Boot application from responding with 302 redirects. I am pretty sure it is pssible, but it is unclear from the documentation how to do this.</p>\n<p>Can someone please either tell me how to disable 302 redirects on Spring Boot, or point me to some examples of how to do it?</p>\n"},{"tags":["java","android","dns","cloudflare"],"answers":[{"tags":[],"owner":{"account_id":66900,"reputation":1005,"user_id":196033,"accept_rate":45,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637284431,"creation_date":1637284431,"answer_id":70028660,"question_id":70028234,"body_markdown":"I think you may be extrapolating too much that this is an issue with Cloudflare or being blocked. A quick search of your first service results in a notice that they have shut it down (probably due to high usage) -\r\n\r\n&gt;As of November 10, 2021 we are no longer providing this API due to massive abuse.\r\n\r\n\r\nhttps://whatismyipaddress.com/api\r\n\r\nYour other services could be experiencing similar issues with reliability. Server security wouldn&#39;t really cause DNS lookup to fail. Luckily there are many, many, alternatives you can try. For example -\r\n\r\nhttps://www.ipify.org/\r\n\r\nOr Cloudflare even has an (undocumented) endpoint that could be used - \r\n\r\nhttps://www.cloudflare.com/cdn-cgi/trace\r\n\r\nAt the end of the day though, if you want something reliable / guaranteed, you&#39;ll probably have to pay for it. Otherwise be prepared to shift to a new service every so often. Luckily the data returned should be easy to integrate (an IP address).","title":"UnknownHostException on Android native https GET against a Cloudflare Webserver (Non-Cloudflare webservers work)","body":"<p>I think you may be extrapolating too much that this is an issue with Cloudflare or being blocked. A quick search of your first service results in a notice that they have shut it down (probably due to high usage) -</p>\n<blockquote>\n<p>As of November 10, 2021 we are no longer providing this API due to massive abuse.</p>\n</blockquote>\n<p><a href=\"https://whatismyipaddress.com/api\" rel=\"nofollow noreferrer\">https://whatismyipaddress.com/api</a></p>\n<p>Your other services could be experiencing similar issues with reliability. Server security wouldn't really cause DNS lookup to fail. Luckily there are many, many, alternatives you can try. For example -</p>\n<p><a href=\"https://www.ipify.org/\" rel=\"nofollow noreferrer\">https://www.ipify.org/</a></p>\n<p>Or Cloudflare even has an (undocumented) endpoint that could be used -</p>\n<p><a href=\"https://www.cloudflare.com/cdn-cgi/trace\" rel=\"nofollow noreferrer\">https://www.cloudflare.com/cdn-cgi/trace</a></p>\n<p>At the end of the day though, if you want something reliable / guaranteed, you'll probably have to pay for it. Otherwise be prepared to shift to a new service every so often. Luckily the data returned should be easy to integrate (an IP address).</p>\n"}],"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70028660,"answer_count":1,"score":0,"last_activity_date":1637284431,"creation_date":1637279942,"question_id":70028234,"body_markdown":"I get this error when trying to make a HTTP GET on https://bot.whatismyipaddress.com/\r\nMy code:\r\n```\r\npublic void dostuff(){\r\n                    ...\r\n                    targeturl = &quot;https://bot.whatismyipaddress.com/&quot;;\r\n                    response = _makeSimpleHttpRequest(targeturl, &quot;GET&quot;, &quot;&quot;); \r\n                    ...\r\n}\r\n public static String _makeSimpleHttpRequest(String targetUrl, String methodGetPostX, String postBody) throws MalformedURLException, IOException, NotImplementedException{\r\nString responseline = &quot;&quot;;\r\n        String temp = &quot;&quot;;\r\n        HttpURLConnection httpConn = null;\r\n        InputStream inputStream = null;\r\n        InputStreamReader inputStreamReader = null;\r\n        BufferedReader bufferedReader = null;\r\n        OutputStream outputStream = null;\r\n        OutputStreamWriter outputStreamWriter = null;\r\n        BufferedWriter bufferedWriter = null;\r\n\r\n        try {\r\n            java.net.URL url = null;\r\n            url = new java.net.URL(targetUrl); // system default DNS resolver\r\n            httpConn = (HttpURLConnection)url.openConnection(); // HERE THE ERROR OCCURED\r\n            ...\r\n}\r\n```\r\nThe error:\r\n```\r\nW/System.err: java.net.UnknownHostException: Unable to resolve host &quot;bot.whatismyipaddress.com&quot;: No address associated with hostname\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1152)\r\n        at com.android.okhttp.Dns$1.lookup(Dns.java:41)\r\n        at com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:178)\r\n        at com.android.okhttp.internal.http.RouteSelector.nextProxy(RouteSelector.java:144)\r\n        at com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:86)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:176)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n        at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n        at mypackage.utils.CommonUtils._makeSimpleHttpRequest(CommonUtils.java:251)\r\n        at mypackage.utils.CommonUtils._makeSimpleHttpRequest(CommonUtils.java:293)\r\n        at mypackage.utils.CommonUtils.lambda$isNetworkAvailable$0(CommonUtils.java:77)\r\n        at mypackage.utils.-$$Lambda$CommonUtils$I9O8EFeqOM7bNsVQ5uILro0gOxg.call(Unknown Source:4)\r\n        at com.google.android.gms.tasks.zzy.run(com.google.android.gms:play-services-tasks@@17.2.0:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:929)\r\n    Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\n        at libcore.io.Linux.android_getaddrinfo(Native Method)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\n    \t... 24 more\r\n```\r\nI changed DNS resolver to a self implemented DNS resolver. On the android device bot.whatismyipaddress.com can not be resolved. However whatismyipaddress.com is resolved correctly to a ipv4 address. With windows commandline i get the same result:\r\n\r\n```\r\nnslookup whatismyipaddress.com\r\nServer:  fritz.box\r\nAddress:  192.168.178.1\r\n\r\nNicht autorisierende Antwort:\r\nName:    whatismyipaddress.com\r\nAddresses:  2606:4700::6810:9b24\r\n          2606:4700::6810:9a24\r\n          104.16.154.36\r\n          104.16.155.36\r\n&gt;&gt;\r\n&gt;&gt;        \r\nnslookup bot.whatismyipaddress.com\r\nServer:  fritz.box\r\nAddress:  192.168.178.1\r\n\r\nName:    bot.whatismyipaddress.com\r\n(----- no Addresses! ----)\r\n&gt;&gt;\r\n&gt;&gt;\r\n```\r\n\r\nPreviously it worked in the browser (both on phone and on PC). However after a few tries the browser got blocked aswell. The browser went through while the android native and nslookups failed already.\r\n\r\nI changed the URL to another cloudflare server `checkip.dyndns.org` which resulted in the same result. The android native HTTP-GET calls failed during DNS lookup instantly. The browser failed after a while.\r\n\r\nI changed to a non-cloudflare server `ipinfo.io/ip` which went through correctly. \r\n\r\nI guess cloudflare webserver doesn&#39;t like the native android DNS resolver (or nslookup)... Maybe some kind of DDOS protection? Does anyone have an idea how to make a simple HTTP-GET to a cloudflare webserver from android without beeing blocked? I already tried alternating SSL Unsafe and the ip of the topdomain. However i think the problem is already in the DNS-Resolver step before performing any http calls... Thank you for a hint!\r\n\r\n_Device Huawei P30 pro VOG-L29 Android 10.1.0 Build 10.1.0.161(c431e23r2p5), problem exists both on WIFI and on mobile Data_","title":"UnknownHostException on Android native https GET against a Cloudflare Webserver (Non-Cloudflare webservers work)","body":"<p>I get this error when trying to make a HTTP GET on <a href=\"https://bot.whatismyipaddress.com/\" rel=\"nofollow noreferrer\">https://bot.whatismyipaddress.com/</a>\nMy code:</p>\n<pre><code>public void dostuff(){\n                    ...\n                    targeturl = &quot;https://bot.whatismyipaddress.com/&quot;;\n                    response = _makeSimpleHttpRequest(targeturl, &quot;GET&quot;, &quot;&quot;); \n                    ...\n}\n public static String _makeSimpleHttpRequest(String targetUrl, String methodGetPostX, String postBody) throws MalformedURLException, IOException, NotImplementedException{\nString responseline = &quot;&quot;;\n        String temp = &quot;&quot;;\n        HttpURLConnection httpConn = null;\n        InputStream inputStream = null;\n        InputStreamReader inputStreamReader = null;\n        BufferedReader bufferedReader = null;\n        OutputStream outputStream = null;\n        OutputStreamWriter outputStreamWriter = null;\n        BufferedWriter bufferedWriter = null;\n\n        try {\n            java.net.URL url = null;\n            url = new java.net.URL(targetUrl); // system default DNS resolver\n            httpConn = (HttpURLConnection)url.openConnection(); // HERE THE ERROR OCCURED\n            ...\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>W/System.err: java.net.UnknownHostException: Unable to resolve host &quot;bot.whatismyipaddress.com&quot;: No address associated with hostname\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\n        at java.net.InetAddress.getAllByName(InetAddress.java:1152)\n        at com.android.okhttp.Dns$1.lookup(Dns.java:41)\n        at com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:178)\n        at com.android.okhttp.internal.http.RouteSelector.nextProxy(RouteSelector.java:144)\n        at com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:86)\n        at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:176)\n        at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n        at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\n        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\n        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\n        at mypackage.utils.CommonUtils._makeSimpleHttpRequest(CommonUtils.java:251)\n        at mypackage.utils.CommonUtils._makeSimpleHttpRequest(CommonUtils.java:293)\n        at mypackage.utils.CommonUtils.lambda$isNetworkAvailable$0(CommonUtils.java:77)\n        at mypackage.utils.-$$Lambda$CommonUtils$I9O8EFeqOM7bNsVQ5uILro0gOxg.call(Unknown Source:4)\n        at com.google.android.gms.tasks.zzy.run(com.google.android.gms:play-services-tasks@@17.2.0:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:929)\n    Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\n        at libcore.io.Linux.android_getaddrinfo(Native Method)\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\n        at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\n        ... 24 more\n</code></pre>\n<p>I changed DNS resolver to a self implemented DNS resolver. On the android device bot.whatismyipaddress.com can not be resolved. However whatismyipaddress.com is resolved correctly to a ipv4 address. With windows commandline i get the same result:</p>\n<pre><code>nslookup whatismyipaddress.com\nServer:  fritz.box\nAddress:  192.168.178.1\n\nNicht autorisierende Antwort:\nName:    whatismyipaddress.com\nAddresses:  2606:4700::6810:9b24\n          2606:4700::6810:9a24\n          104.16.154.36\n          104.16.155.36\n&gt;&gt;\n&gt;&gt;        \nnslookup bot.whatismyipaddress.com\nServer:  fritz.box\nAddress:  192.168.178.1\n\nName:    bot.whatismyipaddress.com\n(----- no Addresses! ----)\n&gt;&gt;\n&gt;&gt;\n</code></pre>\n<p>Previously it worked in the browser (both on phone and on PC). However after a few tries the browser got blocked aswell. The browser went through while the android native and nslookups failed already.</p>\n<p>I changed the URL to another cloudflare server <code>checkip.dyndns.org</code> which resulted in the same result. The android native HTTP-GET calls failed during DNS lookup instantly. The browser failed after a while.</p>\n<p>I changed to a non-cloudflare server <code>ipinfo.io/ip</code> which went through correctly.</p>\n<p>I guess cloudflare webserver doesn't like the native android DNS resolver (or nslookup)... Maybe some kind of DDOS protection? Does anyone have an idea how to make a simple HTTP-GET to a cloudflare webserver from android without beeing blocked? I already tried alternating SSL Unsafe and the ip of the topdomain. However i think the problem is already in the DNS-Resolver step before performing any http calls... Thank you for a hint!</p>\n<p><em>Device Huawei P30 pro VOG-L29 Android 10.1.0 Build 10.1.0.161(c431e23r2p5), problem exists both on WIFI and on mobile Data</em></p>\n"},{"tags":["java","web-services","rest","basic-authentication"],"comments":[{"owner":{"account_id":4574171,"reputation":79,"user_id":3713070,"accept_rate":67,"display_name":"fredyjimenezrendon"},"score":0,"creation_date":1456404319,"post_id":35627296,"comment_id":58936797,"body_markdown":"You can set up spring security, check [this](http://stackoverflow.com/questions/10826293/restful-authentication-via-spring).","body":"You can set up spring security, check <a href=\"http://stackoverflow.com/questions/10826293/restful-authentication-via-spring\">this</a>."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456406274,"creation_date":1456406274,"answer_id":35628448,"question_id":35627296,"body_markdown":"If you are running you app in a Java EE Container you can use standard web security defined in web.xml\r\nhttps://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm#GKBAA\r\n\r\nOr if you use Spring\r\nhttps://spring.io/guides/gs/securing-web/","title":"JAX-RS REST API Basic Authentication","body":"<p>If you are running you app in a Java EE Container you can use standard web security defined in web.xml\n<a href=\"https://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm#GKBAA\" rel=\"nofollow\">https://docs.oracle.com/javaee/7/tutorial/security-webtier002.htm#GKBAA</a></p>\n\n<p>Or if you use Spring\n<a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow\">https://spring.io/guides/gs/securing-web/</a></p>\n"},{"tags":[],"owner":{"account_id":2083256,"reputation":1816,"user_id":1854795,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456407265,"creation_date":1456406541,"answer_id":35628528,"question_id":35627296,"body_markdown":"Basic authentication is part of the servlet specification. So if you run in a servlet container, which is the case, you can just enable basic authentication in the `web.xml`:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n        version=&quot;3.1&quot;&gt;\r\n\r\n        &lt;security-constraint&gt;\r\n            &lt;web-resource-collection&gt;\r\n                &lt;web-resource-name&gt;all-content&lt;/web-resource-name&gt;\r\n                &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;/web-resource-collection&gt;\r\n            &lt;auth-constraint&gt;\r\n                &lt;role-name&gt;user&lt;/role-name&gt;\r\n            &lt;/auth-constraint&gt;\r\n        &lt;/security-constraint&gt;\r\n\r\n        &lt;login-config&gt;\r\n            &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n            &lt;realm-name&gt;foo-realm&lt;/realm-name&gt;\r\n        &lt;/login-config&gt;\r\n\r\n        &lt;security-role&gt;\r\n            &lt;role-name&gt;user&lt;/role-name&gt;\r\n        &lt;/security-role&gt;\r\n    &lt;/web-app&gt;\r\n\r\nYou must also configure the realm, and the roles, this depend on your servlet container implementation.","title":"JAX-RS REST API Basic Authentication","body":"<p>Basic authentication is part of the servlet specification. So if you run in a servlet container, which is the case, you can just enable basic authentication in the <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n    version=\"3.1\"&gt;\n\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;all-content&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;user&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n\n    &lt;login-config&gt;\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n        &lt;realm-name&gt;foo-realm&lt;/realm-name&gt;\n    &lt;/login-config&gt;\n\n    &lt;security-role&gt;\n        &lt;role-name&gt;user&lt;/role-name&gt;\n    &lt;/security-role&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>You must also configure the realm, and the roles, this depend on your servlet container implementation.</p>\n"},{"tags":[],"owner":{"account_id":890161,"reputation":145,"user_id":928598,"display_name":"kitndirangu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519818622,"creation_date":1519818622,"answer_id":49028899,"question_id":35627296,"body_markdown":"In a sample jax rs api, I implemented basic authentication by getting the HttpServletRequest in my rest resource.\r\n\r\nI created a doAuthorize() method which extract the Authentication header, decode and validate authentication as you have done.\r\n\r\nThen I call doAuthorize() in the resource path methods which need it.","title":"JAX-RS REST API Basic Authentication","body":"<p>In a sample jax rs api, I implemented basic authentication by getting the HttpServletRequest in my rest resource.</p>\n\n<p>I created a doAuthorize() method which extract the Authentication header, decode and validate authentication as you have done.</p>\n\n<p>Then I call doAuthorize() in the resource path methods which need it.</p>\n"}],"owner":{"account_id":7139030,"reputation":49,"user_id":5457474,"accept_rate":20,"display_name":"Sandesh Poudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9864,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1637283710,"creation_date":1456403249,"question_id":35627296,"body_markdown":"i am trying to implement basic authentication to somehow secure my rest api.To test, i tried below code to filter the url parameter that contains users however it is not aborting the request without authorization.  and  the most important is i need to implement it in the way that only update and delete needs to be authorized with the respective username and password. other things i just don&#39;t want to filter. i have an user class having username and password (encrypted) properties. so if the url contains PUT or delete method on users/{userID} i want it to verify with the username and password of that specific users. i have listed code of model , resources and filter class below.. i really need your help. thanks in advance.\r\n\r\nfilter class.\r\n\r\n    package Authentication;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.StringTokenizer;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerRequestFilter;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.Provider;\r\n    import org.glassfish.jersey.internal.util.Base64;\r\n    \r\n    \r\n    @Provider\r\n    public class SecureFilter implements ContainerRequestFilter {\r\n    \r\n        private static final String Auth_Header = &quot;Authorization&quot;;\r\n        private static final String Auth_Header_Prefix = &quot;Basic &quot;;\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext) throws IOException {\r\n            if (requestContext.getUriInfo().getPath().contains(&quot;users&quot;)) {\r\n                List&lt;String&gt; authHeader = requestContext.getHeaders().get(Auth_Header);\r\n                if (authHeader != null &amp;&amp; authHeader.size() &gt; 0) {\r\n                    String authToken = authHeader.get(0);\r\n                    authToken = authToken.replaceFirst(Auth_Header_Prefix, &quot;&quot;);\r\n                    String decodedString = Base64.decodeAsString(authToken);\r\n                    StringTokenizer tokenizer = new StringTokenizer(decodedString, &quot;:&quot;);\r\n                    String userName = tokenizer.nextToken();\r\n                    String password = tokenizer.nextToken();\r\n                    if (&quot;user&quot;.equals(userName) &amp;&amp; &quot;password&quot;.equals(password)) {\r\n                        return;\r\n                    }\r\n                    Response unauthorizedstatus = Response\r\n                            .status(Response.Status.UNAUTHORIZED)\r\n                            .entity(&quot;these resources needs authorization. &quot;)\r\n                            .build();\r\n                    requestContext.abortWith(unauthorizedstatus);\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    } \r\n\r\nresource class:\r\n\r\n    import com.mycompany.samplehospital.model.Alert;\r\n    import com.mycompany.samplehospital.model.Message;\r\n    \r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    \r\n    import com.mycompany.samplehospital.model.User;\r\n    \r\n    import com.mycompany.samplehospital.Services.UserServices;\r\n    import com.mycompany.samplehospital.exception.objectNotFound;\r\n    import com.mycompany.samplehospital.Services.AlertServices;\r\n    import com.mycompany.samplehospital.Services.MessageServices;\r\n    \r\n    import java.util.List;\r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.DELETE;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.PUT;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    /**\r\n     *\r\n     * @author sandesh poudel\r\n     */\r\n    @Produces(MediaType.APPLICATION_XML)\r\n    @Path(&quot;/users&quot;)\r\n    public class userResources {\r\n        \r\n        \r\n     UserServices service ;\r\n     public userResources() throws Exception{\r\n         service = new UserServices();\r\n     }\r\n             \r\n    \r\n     \r\n     \r\n    \r\n        @GET\r\n        @Produces(MediaType.APPLICATION_XML)\r\n        public List&lt;User&gt; getAllUser(){\r\n        return UserServices.getUsers();\r\n    \r\n        \r\n        }\r\n        @Path(&quot;/{userId}&quot;)\r\n    \r\n        @GET\r\n        @Produces(MediaType.APPLICATION_XML)\r\n        public User getUser(@PathParam(&quot;userId&quot;) int ID ) throws Exception{\r\n        \tUser myUserList = service.getUser(ID);\r\n        \tif (myUserList == null){\r\n        \tthrow new objectNotFound(&quot;User not Found&quot;);\t\r\n        \t}else {\r\n        \t\treturn myUserList;\r\n        \t}\r\n             \r\n        }\r\n        \r\n         \r\n        @POST\r\n        @Produces(MediaType.APPLICATION_XML)\r\n          @Consumes(MediaType.APPLICATION_XML)\r\n         \r\n         \r\n        public User addUser(User user ) throws Exception{\r\n    \r\n            return service.AddUser(user);\r\n            \r\n        \r\n             \r\n        }\r\n    }\r\n           \r\n         \r\n        @PUT\r\n            @Path(&quot;/{userId}&quot;)\r\n    \r\n        @Produces(MediaType.APPLICATION_XML)\r\n          @Consumes(MediaType.APPLICATION_XML)\r\n         \r\n         \r\n        public User updtaeUser(User user) throws Exception{\r\n     \r\n        return service.updateUser(user);\r\n             \r\n        }\r\n        @DELETE \r\n          @Path(&quot;/{userId}&quot;)\r\n           @Produces(MediaType.APPLICATION_XML)\r\n    \r\n        public User delUser(@PathParam(&quot;userId&quot;) int ID) throws Exception{\r\n    \r\n        \treturn service.removeUser(ID);\r\n        \t\r\n            \r\n        }\r\n        @Path(&quot;/{userId}/messages&quot;)\r\n        \r\n        @GET\r\n        @Produces(MediaType.APPLICATION_XML)\r\n        \r\n        public  List&lt;Message&gt; getAllMessageByUser(@PathParam(&quot;userId&quot;) int ID) throws Exception{\r\n            MessageServices mservice = new MessageServices();\r\n            \r\n            List&lt;Message&gt; messageUserList = mservice.getAllMessageByUser(ID);\r\n            if (messageUserList == null ){\r\n            \tthrow new objectNotFound(&quot;messages not Found&quot;);\t\r\n    \r\n            } return messageUserList;\r\n                 \r\n            }\r\n        @GET\r\n        @Produces(MediaType.APPLICATION_XML)\r\n        @Path(&quot;/{userId}/alerts&quot;)\r\n    \r\n        \r\n        public List&lt;Alert&gt; AlertsResources(@PathParam(&quot;userId&quot;) int userId){\r\n        \tAlertServices myAlert = new AlertServices();\r\n        \t\r\n            \r\n            List&lt;Alert&gt; newAlertUserList = myAlert.getAllAlertByUser(userId) ;\r\n            if (newAlertUserList == null){\r\n            \tthrow new objectNotFound(&quot;messages not Found&quot;);\t\r\n    \r\n            } return newAlertUserList;\r\n                 \r\n            \r\n        }\r\n Model class User\r\n\r\n    package com.mycompany.samplehospital.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Map;\r\n    \r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlTransient;\r\n    import Authentication.HashPassword;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    /**\r\n     *\r\n     * @author sandeshpoudel\r\n     */\r\n    @XmlRootElement\r\n    \r\n    public  class User implements Serializable {\r\n        /**\r\n    \t * \r\n    \t */\r\n       \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String title;\r\n        private int age;\r\n        private String Sex;\r\n        private String Address;\r\n        private int phoneNo;\r\n        private String fullName;\r\n        private int id;\r\n        private Map&lt;Integer, Message&gt; allMessage;\r\n        private Map&lt;Integer,Alert&gt; allAlerts;\r\n        private String userName;\r\n        private String passWord;\r\n        private HashPassword hs ;\r\n        \t\r\n    \r\n        \r\n    \r\n        \r\n    \tpublic User() {\r\n        }\r\n       \r\n    \r\n        public User(int id,String fullName, String Sex, Integer age, Integer  phoneNumber, String Address, String title,String userName,String password) throws Exception {\r\n            hs = new HashPassword();\r\n            this.id= id;\r\n            this.fullName = fullName;\r\n        \tthis.title = title;\r\n            this.age = age;\r\n            this.Sex = Sex;\r\n            this.Address = Address;\r\n            this.phoneNo = phoneNumber;\r\n             setPassWord(password);\r\n           // setPassWord(passWord) uncomment this and remove next line to execute on encryption mode;\r\n           \r\n        \r\n            this.userName= userName;\r\n            \r\n        }\r\n        public void setId(int id){\r\n        \tthis.id= id;\r\n        }\r\n        public void setFullName(String fullName) {\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public void setSex(String Sex) {\r\n            this.Sex = Sex;\r\n        }\r\n    \r\n        public void setAddress(String Address) {\r\n            this.Address = Address;\r\n        }\r\n    \r\n        public void setPhoneNo(int phoneNo) {\r\n            this.phoneNo = phoneNo;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    \r\n        public void setUserName(String userName) {\r\n            this.userName = userName;\r\n        }\r\n        @XmlElement\r\n        public String getPassWord() {\r\n            return passWord;\r\n        }\r\n    \r\n        public  void setPassWord(String passWord) throws Exception {\r\n              \r\n                    hs = new HashPassword();\r\n                    this.passWord = hs.encrypt(passWord);\r\n              \r\n            \r\n          //  this.passWord = passWord;\r\n        }\r\n    \r\n       \r\n        \r\n        \r\n    @XmlElement\r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n        /*\r\n        \r\n        */\r\n    @XmlElement\r\n      public int getId(){\r\n    \treturn id;\r\n    }\r\n    @XmlElement\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    @XmlElement\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    @XmlElement\r\n    \r\n        public String getSex() {\r\n            return Sex;\r\n        }\r\n    @XmlElement\r\n    \r\n        public String getAddress() {\r\n            return Address;\r\n        }\r\n    @XmlElement\r\n    \r\n        public int getPhoneNo() {\r\n            return phoneNo;\r\n        }\r\n       @XmlTransient\r\n        public Map&lt;Integer, Message&gt; getAllMessage() {\r\n    \treturn allMessage;\r\n    }\r\n        public void setAllMessage(Map&lt;Integer, Message&gt; allMessage) {\r\n    \tthis.allMessage = allMessage;\r\n    }   @XmlTransient\r\n    \r\n        public Map&lt;Integer, Alert&gt; getAllAlerts() {\r\n    \treturn allAlerts;\r\n    }\r\n        public void setAllAlerts(Map&lt;Integer, Alert&gt; allAlerts) {\r\n    \tthis.allAlerts = allAlerts;\r\n        }\r\n       \r\n        \r\n      @Override\r\n        public String toString(){\r\n            return (getSex() +&quot; &quot;+ getAddress()+&quot; &quot;+ getPhoneNo() +&quot; &quot;+ getFullName());\r\n        }\r\n    }\r\n\r\n","title":"JAX-RS REST API Basic Authentication","body":"<p>i am trying to implement basic authentication to somehow secure my rest api.To test, i tried below code to filter the url parameter that contains users however it is not aborting the request without authorization.  and  the most important is i need to implement it in the way that only update and delete needs to be authorized with the respective username and password. other things i just don't want to filter. i have an user class having username and password (encrypted) properties. so if the url contains PUT or delete method on users/{userID} i want it to verify with the username and password of that specific users. i have listed code of model , resources and filter class below.. i really need your help. thanks in advance.</p>\n\n<p>filter class.</p>\n\n<pre><code>package Authentication;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.StringTokenizer;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerRequestFilter;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.Provider;\nimport org.glassfish.jersey.internal.util.Base64;\n\n\n@Provider\npublic class SecureFilter implements ContainerRequestFilter {\n\n    private static final String Auth_Header = \"Authorization\";\n    private static final String Auth_Header_Prefix = \"Basic \";\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n        if (requestContext.getUriInfo().getPath().contains(\"users\")) {\n            List&lt;String&gt; authHeader = requestContext.getHeaders().get(Auth_Header);\n            if (authHeader != null &amp;&amp; authHeader.size() &gt; 0) {\n                String authToken = authHeader.get(0);\n                authToken = authToken.replaceFirst(Auth_Header_Prefix, \"\");\n                String decodedString = Base64.decodeAsString(authToken);\n                StringTokenizer tokenizer = new StringTokenizer(decodedString, \":\");\n                String userName = tokenizer.nextToken();\n                String password = tokenizer.nextToken();\n                if (\"user\".equals(userName) &amp;&amp; \"password\".equals(password)) {\n                    return;\n                }\n                Response unauthorizedstatus = Response\n                        .status(Response.Status.UNAUTHORIZED)\n                        .entity(\"these resources needs authorization. \")\n                        .build();\n                requestContext.abortWith(unauthorizedstatus);\n\n            }\n        }\n\n    }\n\n} \n</code></pre>\n\n<p>resource class:</p>\n\n<pre><code>import com.mycompany.samplehospital.model.Alert;\nimport com.mycompany.samplehospital.model.Message;\n\n/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n\nimport com.mycompany.samplehospital.model.User;\n\nimport com.mycompany.samplehospital.Services.UserServices;\nimport com.mycompany.samplehospital.exception.objectNotFound;\nimport com.mycompany.samplehospital.Services.AlertServices;\nimport com.mycompany.samplehospital.Services.MessageServices;\n\nimport java.util.List;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.DELETE;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.PUT;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n/**\n *\n * @author sandesh poudel\n */\n@Produces(MediaType.APPLICATION_XML)\n@Path(\"/users\")\npublic class userResources {\n\n\n UserServices service ;\n public userResources() throws Exception{\n     service = new UserServices();\n }\n\n\n\n\n\n    @GET\n    @Produces(MediaType.APPLICATION_XML)\n    public List&lt;User&gt; getAllUser(){\n    return UserServices.getUsers();\n\n\n    }\n    @Path(\"/{userId}\")\n\n    @GET\n    @Produces(MediaType.APPLICATION_XML)\n    public User getUser(@PathParam(\"userId\") int ID ) throws Exception{\n        User myUserList = service.getUser(ID);\n        if (myUserList == null){\n        throw new objectNotFound(\"User not Found\"); \n        }else {\n            return myUserList;\n        }\n\n    }\n\n\n    @POST\n    @Produces(MediaType.APPLICATION_XML)\n      @Consumes(MediaType.APPLICATION_XML)\n\n\n    public User addUser(User user ) throws Exception{\n\n        return service.AddUser(user);\n\n\n\n    }\n}\n\n\n    @PUT\n        @Path(\"/{userId}\")\n\n    @Produces(MediaType.APPLICATION_XML)\n      @Consumes(MediaType.APPLICATION_XML)\n\n\n    public User updtaeUser(User user) throws Exception{\n\n    return service.updateUser(user);\n\n    }\n    @DELETE \n      @Path(\"/{userId}\")\n       @Produces(MediaType.APPLICATION_XML)\n\n    public User delUser(@PathParam(\"userId\") int ID) throws Exception{\n\n        return service.removeUser(ID);\n\n\n    }\n    @Path(\"/{userId}/messages\")\n\n    @GET\n    @Produces(MediaType.APPLICATION_XML)\n\n    public  List&lt;Message&gt; getAllMessageByUser(@PathParam(\"userId\") int ID) throws Exception{\n        MessageServices mservice = new MessageServices();\n\n        List&lt;Message&gt; messageUserList = mservice.getAllMessageByUser(ID);\n        if (messageUserList == null ){\n            throw new objectNotFound(\"messages not Found\"); \n\n        } return messageUserList;\n\n        }\n    @GET\n    @Produces(MediaType.APPLICATION_XML)\n    @Path(\"/{userId}/alerts\")\n\n\n    public List&lt;Alert&gt; AlertsResources(@PathParam(\"userId\") int userId){\n        AlertServices myAlert = new AlertServices();\n\n\n        List&lt;Alert&gt; newAlertUserList = myAlert.getAllAlertByUser(userId) ;\n        if (newAlertUserList == null){\n            throw new objectNotFound(\"messages not Found\"); \n\n        } return newAlertUserList;\n\n\n    }\n</code></pre>\n\n<p>Model class User</p>\n\n<pre><code>package com.mycompany.samplehospital.model;\n\nimport java.io.Serializable;\nimport java.util.Map;\n\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlTransient;\nimport Authentication.HashPassword;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author sandeshpoudel\n */\n@XmlRootElement\n\npublic  class User implements Serializable {\n    /**\n     * \n     */\n\n    private static final long serialVersionUID = 1L;\n    private String title;\n    private int age;\n    private String Sex;\n    private String Address;\n    private int phoneNo;\n    private String fullName;\n    private int id;\n    private Map&lt;Integer, Message&gt; allMessage;\n    private Map&lt;Integer,Alert&gt; allAlerts;\n    private String userName;\n    private String passWord;\n    private HashPassword hs ;\n\n\n\n\n\n    public User() {\n    }\n\n\n    public User(int id,String fullName, String Sex, Integer age, Integer  phoneNumber, String Address, String title,String userName,String password) throws Exception {\n        hs = new HashPassword();\n        this.id= id;\n        this.fullName = fullName;\n        this.title = title;\n        this.age = age;\n        this.Sex = Sex;\n        this.Address = Address;\n        this.phoneNo = phoneNumber;\n         setPassWord(password);\n       // setPassWord(passWord) uncomment this and remove next line to execute on encryption mode;\n\n\n        this.userName= userName;\n\n    }\n    public void setId(int id){\n        this.id= id;\n    }\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public void setSex(String Sex) {\n        this.Sex = Sex;\n    }\n\n    public void setAddress(String Address) {\n        this.Address = Address;\n    }\n\n    public void setPhoneNo(int phoneNo) {\n        this.phoneNo = phoneNo;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n    @XmlElement\n    public String getPassWord() {\n        return passWord;\n    }\n\n    public  void setPassWord(String passWord) throws Exception {\n\n                hs = new HashPassword();\n                this.passWord = hs.encrypt(passWord);\n\n\n      //  this.passWord = passWord;\n    }\n\n\n\n\n@XmlElement\n    public String getFullName() {\n        return fullName;\n    }\n    /*\n\n    */\n@XmlElement\n  public int getId(){\n    return id;\n}\n@XmlElement\n\n    public String getTitle() {\n        return title;\n    }\n@XmlElement\n\n    public int getAge() {\n        return age;\n    }\n@XmlElement\n\n    public String getSex() {\n        return Sex;\n    }\n@XmlElement\n\n    public String getAddress() {\n        return Address;\n    }\n@XmlElement\n\n    public int getPhoneNo() {\n        return phoneNo;\n    }\n   @XmlTransient\n    public Map&lt;Integer, Message&gt; getAllMessage() {\n    return allMessage;\n}\n    public void setAllMessage(Map&lt;Integer, Message&gt; allMessage) {\n    this.allMessage = allMessage;\n}   @XmlTransient\n\n    public Map&lt;Integer, Alert&gt; getAllAlerts() {\n    return allAlerts;\n}\n    public void setAllAlerts(Map&lt;Integer, Alert&gt; allAlerts) {\n    this.allAlerts = allAlerts;\n    }\n\n\n  @Override\n    public String toString(){\n        return (getSex() +\" \"+ getAddress()+\" \"+ getPhoneNo() +\" \"+ getFullName());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637280558,"post_id":70028145,"comment_id":123791207,"body_markdown":"https://stackoverflow.com/a/66348372/11002 may help","body":"<a href=\"https://stackoverflow.com/a/66348372/11002\">stackoverflow.com/a/66348372/11002</a> may help"},{"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"score":0,"creation_date":1637283052,"post_id":70028145,"comment_id":123791658,"body_markdown":"Cannot reproduce. It should require only `spring-boot-starter-validation`.","body":"Cannot reproduce. It should require only <code>spring-boot-starter-validation</code>."}],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637282731,"creation_date":1637281756,"answer_id":70028408,"question_id":70028145,"body_markdown":"For a Spring Boot project you would want to add the `spring-boot-starter-validation` starter dependency.\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAll the Spring Boot started projects can be found in the official documentation: [spring.io](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters)\r\n\r\nAfter you add a new dependency to your `pom.xml` file, I recommend running `mwnv clean package` (or `mvn clean package`) to fetch the dependencies and build a clean project.\r\n\r\n\r\nAlso, for bootstrapping/generating Spring Boot projects you may want to use [***Spring Initializr***](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.5.7&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,validation).","title":"javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found","body":"<p>For a Spring Boot project you would want to add the <code>spring-boot-starter-validation</code> starter dependency.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>All the Spring Boot started projects can be found in the official documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters\" rel=\"nofollow noreferrer\">spring.io</a></p>\n<p>After you add a new dependency to your <code>pom.xml</code> file, I recommend running <code>mwnv clean package</code> (or <code>mvn clean package</code>) to fetch the dependencies and build a clean project.</p>\n<p>Also, for bootstrapping/generating Spring Boot projects you may want to use <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.5.7&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,validation\" rel=\"nofollow noreferrer\"><em><strong>Spring Initializr</strong></em></a>.</p>\n"}],"owner":{"account_id":5361744,"reputation":63,"user_id":4272784,"display_name":"Piotr Chabros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637282731,"creation_date":1637279075,"question_id":70028145,"body_markdown":"no Hibernate Bean Validator could be found even though it&#39;s added to the classpath.\r\n\r\nI have a simple web application in Spring Boot. I am trying to test the Hibernate Validator with this simple function:\r\n```java\r\npublic void validateUser(User user) {\r\n   ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n   Validator validator = factory.getValidator();\r\n   Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(user);\r\n}\r\n```\r\nBut it throws an exception:\r\n**javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.**\r\n\r\nI tried using different libraries but they all don&#39;t work.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI am using Java 17.","title":"javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found","body":"<p>no Hibernate Bean Validator could be found even though it's added to the classpath.</p>\n<p>I have a simple web application in Spring Boot. I am trying to test the Hibernate Validator with this simple function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void validateUser(User user) {\n   ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n   Validator validator = factory.getValidator();\n   Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(user);\n}\n</code></pre>\n<p>But it throws an exception:\n<strong>javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.</strong></p>\n<p>I tried using different libraries but they all don't work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;7.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using Java 17.</p>\n"},{"tags":["java","serialization","lambda"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637283355,"post_id":70028494,"comment_id":123791705,"body_markdown":"No.  You will need to serialize the lambda.  You certainly can&#39;t turn it into a _different_ class which will serialize correctly.","body":"No.  You will need to serialize the lambda.  You certainly can&#39;t turn it into a <i>different</i> class which will serialize correctly."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637283973,"post_id":70028494,"comment_id":123791806,"body_markdown":"(You _might_ be able to make a new class that executes the lambda, but you certainly can&#39;t make something that will serialize in a way that can be rebuilt at the other end.)","body":"(You <i>might</i> be able to make a new class that executes the lambda, but you certainly can&#39;t make something that will serialize in a way that can be rebuilt at the other end.)"}],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637282617,"creation_date":1637282617,"question_id":70028494,"body_markdown":"I have a functional interface: \r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface ITransform&lt;I, O&gt; extends Serializable {\r\n\r\n    O process(I input);\r\n\r\n    static &lt;I, O&gt; ITransform&lt;I, O&gt; of(ITransform&lt;I, O&gt; source) {\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nWith an abstract implementation:\r\n\r\n```java\r\npublic abstract class Transform implements ITransform&lt;IOvariable, IOvariable&gt; {\r\n\r\n    protected final Class&lt;?&gt; inputClass;\r\n\r\n    public Transform(Class&lt;?&gt; inputClass) {\r\n        this.inputClass = inputClass;\r\n    }\r\n\r\n    public Class&lt;?&gt; getInputClass() {\r\n        return inputClass;\r\n    }\r\n}\r\n```\r\n\r\nAnd a sample concrete implementation:\r\n\r\n```\r\npublic class ConcreteTransform extends Transform {\r\n\r\n    public ConcreteTransform() {\r\n        super(SampleObject.class);\r\n    }\r\n\r\n    @Override\r\n    public IOvariable process(IOvariable input) {\r\n        Class&lt;?&gt; inputClass = input.getClazz();\r\n        if (inputClass == this.inputClass) {\r\n            return IOvariable.create(((SampleObject) input.getVariable()).getNumber());\r\n        }\r\n        throw new IllegalArgumentException(\r\n            &quot;Input is &quot; + input.getClazz()\r\n                + &quot; but this transform requires &quot; + this.getInputClass());\r\n    }\r\n}\r\n```\r\n\r\nI have also created a `Pipeline` class which essentially strings together `ITransform` objects and executes them\r\n\r\n```\r\n    ITransform&lt;IOvariable, IOvariable&gt; transform = new ConcreteTransform();\r\n    ITransform&lt;String, Integer&gt; parseInt = ITransform.of(Integer::parseInt);\r\n    ITransform&lt;Integer, Integer&gt; timesTwo = ITransform.of(input -&gt; input * 2);\r\n    ITransform&lt;Integer, String&gt; toString = ITransform.of(Object::toString);\r\n    ITransform&lt;String, String&gt; output = ITransform.of(input -&gt; &quot;The output is: &quot; + input);\r\n\r\n    Pipeline pipe = new Pipeline(new SampleObject(&quot;10&quot;))\r\n         .addTransform(transform)\r\n         .addTransform(parseInt)\r\n         .addTransform(timesTwo)\r\n         .addTransform(toString)\r\n         .addTransform(prettyOutput);\r\n\r\n&gt;&gt;&gt; &quot;The output is: 20&quot;\r\n```\r\n\r\nNow, the ultimate goal would be to serialize this pipeline so that it can be restored and reused elsewhere. However, all but the first transform in the above example are instantiated via lambda objects via the functional interface. \r\n\r\nWhile it would be easy enough to serialize the first transform, I have read that it&#39;s in bad form to serialize lambda&#39;s. \r\n\r\nThis leads me to the question: **Is there any funky way to promote a functional interface like `ITransform` to a concrete implementation of `Transform` by making the lambda a fully-fledged method?**\r\n\r\nThat way, I could serialize the result without serializing a lambda expression.","title":"Is it possible to promote a lambda expression to an instance method?","body":"<p>I have a functional interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface ITransform&lt;I, O&gt; extends Serializable {\n\n    O process(I input);\n\n    static &lt;I, O&gt; ITransform&lt;I, O&gt; of(ITransform&lt;I, O&gt; source) {\n        return source;\n    }\n}\n</code></pre>\n<p>With an abstract implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Transform implements ITransform&lt;IOvariable, IOvariable&gt; {\n\n    protected final Class&lt;?&gt; inputClass;\n\n    public Transform(Class&lt;?&gt; inputClass) {\n        this.inputClass = inputClass;\n    }\n\n    public Class&lt;?&gt; getInputClass() {\n        return inputClass;\n    }\n}\n</code></pre>\n<p>And a sample concrete implementation:</p>\n<pre><code>public class ConcreteTransform extends Transform {\n\n    public ConcreteTransform() {\n        super(SampleObject.class);\n    }\n\n    @Override\n    public IOvariable process(IOvariable input) {\n        Class&lt;?&gt; inputClass = input.getClazz();\n        if (inputClass == this.inputClass) {\n            return IOvariable.create(((SampleObject) input.getVariable()).getNumber());\n        }\n        throw new IllegalArgumentException(\n            &quot;Input is &quot; + input.getClazz()\n                + &quot; but this transform requires &quot; + this.getInputClass());\n    }\n}\n</code></pre>\n<p>I have also created a <code>Pipeline</code> class which essentially strings together <code>ITransform</code> objects and executes them</p>\n<pre><code>    ITransform&lt;IOvariable, IOvariable&gt; transform = new ConcreteTransform();\n    ITransform&lt;String, Integer&gt; parseInt = ITransform.of(Integer::parseInt);\n    ITransform&lt;Integer, Integer&gt; timesTwo = ITransform.of(input -&gt; input * 2);\n    ITransform&lt;Integer, String&gt; toString = ITransform.of(Object::toString);\n    ITransform&lt;String, String&gt; output = ITransform.of(input -&gt; &quot;The output is: &quot; + input);\n\n    Pipeline pipe = new Pipeline(new SampleObject(&quot;10&quot;))\n         .addTransform(transform)\n         .addTransform(parseInt)\n         .addTransform(timesTwo)\n         .addTransform(toString)\n         .addTransform(prettyOutput);\n\n&gt;&gt;&gt; &quot;The output is: 20&quot;\n</code></pre>\n<p>Now, the ultimate goal would be to serialize this pipeline so that it can be restored and reused elsewhere. However, all but the first transform in the above example are instantiated via lambda objects via the functional interface.</p>\n<p>While it would be easy enough to serialize the first transform, I have read that it's in bad form to serialize lambda's.</p>\n<p>This leads me to the question: <strong>Is there any funky way to promote a functional interface like <code>ITransform</code> to a concrete implementation of <code>Transform</code> by making the lambda a fully-fledged method?</strong></p>\n<p>That way, I could serialize the result without serializing a lambda expression.</p>\n"},{"tags":["java","selenium","selenium-webdriver","junit","junit4"],"comments":[{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1515159021,"post_id":48114607,"comment_id":83205059,"body_markdown":"you want to maximize the browser?","body":"you want to maximize the browser?"},{"owner":{"account_id":9673969,"reputation":211,"user_id":7178053,"accept_rate":70,"display_name":"thelastchief"},"score":0,"creation_date":1515159044,"post_id":48114607,"comment_id":83205074,"body_markdown":"@MohanRaj You mean like this? : https://stackoverflow.com/questions/35697931/how-to-get-the-current-window-size-using-selenium-webdriver","body":"@MohanRaj You mean like this? : <a href=\"https://stackoverflow.com/questions/35697931/how-to-get-the-current-window-size-using-selenium-webdriver\" title=\"how to get the current window size using selenium webdriver\">stackoverflow.com/questions/35697931/&hellip;</a>"},{"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"score":0,"creation_date":1515159231,"post_id":48114607,"comment_id":83205199,"body_markdown":"@MahmudRiad No, I want to know my current window is already maximized or not.","body":"@MahmudRiad No, I want to know my current window is already maximized or not."},{"owner":{"account_id":9673969,"reputation":211,"user_id":7178053,"accept_rate":70,"display_name":"thelastchief"},"score":0,"creation_date":1515159382,"post_id":48114607,"comment_id":83205291,"body_markdown":"If you start it maxed then you will know: \noptions = ChromeOptions()\noptions.add_argument(&quot;--start-maximized&quot;)\ndriver = ChromeDriver(options)","body":"If you start it maxed then you will know:  options = ChromeOptions() options.add_argument(&quot;--start-maximized&quot;) driver = ChromeDriver(options)"},{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1515159541,"post_id":48114607,"comment_id":83205381,"body_markdown":"@MohanRaj please check my answer and let me know if it is helpful","body":"@MohanRaj please check my answer and let me know if it is helpful"},{"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"score":0,"creation_date":1515159767,"post_id":48114607,"comment_id":83205506,"body_markdown":"@thelastchief yes. But I have one question is the getting size of the browser is able to varied for the different size screens ? is it means how to I identified it&#39;s maximized or minimized to my code? if it silly forgive I am an newbee for here autmation :)","body":"@thelastchief yes. But I have one question is the getting size of the browser is able to varied for the different size screens ? is it means how to I identified it&#39;s maximized or minimized to my code? if it silly forgive I am an newbee for here autmation :)"},{"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"score":0,"creation_date":1515159894,"post_id":48114607,"comment_id":83205594,"body_markdown":"@MahmudRiad I know how to maximize the window but I try to know before I want to check the My window is already maximized or not  :)","body":"@MahmudRiad I know how to maximize the window but I try to know before I want to check the My window is already maximized or not  :)"},{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1515160311,"post_id":48114607,"comment_id":83205854,"body_markdown":"@MohanRaj i have upvoted your question so that others can get it helpful.","body":"@MohanRaj i have upvoted your question so that others can get it helpful."},{"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"score":0,"creation_date":1515162659,"post_id":48114607,"comment_id":83207228,"body_markdown":"@MahmudRiad ok Thank you.","body":"@MahmudRiad ok Thank you."},{"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"score":0,"creation_date":1515165669,"post_id":48114607,"comment_id":83209036,"body_markdown":"@MohanRaj you can upvote the answer","body":"@MohanRaj you can upvote the answer"}],"answers":[{"tags":[],"owner":{"account_id":2100805,"reputation":1169,"user_id":1868478,"display_name":"Mahmud Riad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1515160110,"creation_date":1515159514,"answer_id":48114781,"question_id":48114607,"body_markdown":"You can follow the below logic\r\n\r\n    org.openqa.selenium.Dimension  dm = driver.manage().window().getSize();\r\n\t\t\r\n\tint relativemaxheight = 1280; // put your screen resolution height\r\n\tint relativemaxwidth = 800;   // put your screen resolution width\r\n\t\t\r\n\tif(dm.height &lt; relativemaxheight &amp;&amp; dm.width &lt; relativemaxwidth){\r\n\t\tSystem.out.println(&quot;minimized&quot;);\r\n\t}\r\n\r\n\r\nApart from this you can set default maximize capabilities when creating driver. The code will look like\r\n\r\n    options = ChromeOptions();\r\n    options.add_argument(&quot;--start-maximized&quot;); \r\n    driver = ChromeDriver(options);","title":"How to find the whether the current using window is maximize or minimize in selenium 2 WebDriver?","body":"<p>You can follow the below logic</p>\n\n<pre><code>org.openqa.selenium.Dimension  dm = driver.manage().window().getSize();\n\nint relativemaxheight = 1280; // put your screen resolution height\nint relativemaxwidth = 800;   // put your screen resolution width\n\nif(dm.height &lt; relativemaxheight &amp;&amp; dm.width &lt; relativemaxwidth){\n    System.out.println(\"minimized\");\n}\n</code></pre>\n\n<p>Apart from this you can set default maximize capabilities when creating driver. The code will look like</p>\n\n<pre><code>options = ChromeOptions();\noptions.add_argument(\"--start-maximized\"); \ndriver = ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6949163,"reputation":1,"user_id":5332342,"display_name":"Nguyen Nghia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637282530,"creation_date":1637282530,"answer_id":70028488,"question_id":48114607,"body_markdown":"Using document.hidden will return True/False\r\n\r\nCode:\r\n`var js = (IJavaScriptExecutor)driver;\r\nvar isMin= js.ExecuteScript(&quot;return document.hidden&quot;).ToString();`","title":"How to find the whether the current using window is maximize or minimize in selenium 2 WebDriver?","body":"<p>Using document.hidden will return True/False</p>\n<p>Code:\n<code>var js = (IJavaScriptExecutor)driver; var isMin= js.ExecuteScript(&quot;return document.hidden&quot;).ToString();</code></p>\n"}],"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48114781,"answer_count":2,"score":1,"last_activity_date":1637282530,"creation_date":1515158899,"question_id":48114607,"body_markdown":"Is there any way to find the currently used browser window is whether maximized or minimized in Selenium as I am using JUnit for make test script of automation.\r\n\r\nThanks,\r\n\r\nMohan Raj","title":"How to find the whether the current using window is maximize or minimize in selenium 2 WebDriver?","body":"<p>Is there any way to find the currently used browser window is whether maximized or minimized in Selenium as I am using JUnit for make test script of automation.</p>\n\n<p>Thanks,</p>\n\n<p>Mohan Raj</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637281901,"post_id":70028115,"comment_id":123791461,"body_markdown":"Works fine for me. That would indicate your image is not found. Use `ImageIO` to read your image and your will get an error message if it is not found.","body":"Works fine for me. That would indicate your image is not found. Use <code>ImageIO</code> to read your image and your will get an error message if it is not found."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1637281973,"post_id":70028115,"comment_id":123791475,"body_markdown":"`ImageIcon(String)` assumes that the named resource is located within the &quot;working directory&quot;.  `ImageIcon` will also not notify of when it can&#39;t load a resource.  You should consider &quot;embedding&quot; your resources and using `ImageIO.read` to load them instead","body":"<code>ImageIcon(String)</code> assumes that the named resource is located within the &quot;working directory&quot;.  <code>ImageIcon</code> will also not notify of when it can&#39;t load a resource.  You should consider &quot;embedding&quot; your resources and using <code>ImageIO.read</code> to load them instead"},{"owner":{"account_id":23386798,"reputation":1,"user_id":17452009,"display_name":"Iam Serious"},"score":0,"creation_date":1637334673,"post_id":70028115,"comment_id":123806298,"body_markdown":"When I hover over (&quot;DigiD.png&quot;) it shows me the image so the image is found however it doesn&#39;t show when I run the code. The image is there since any text I&#39;ve put in the GUI gets pushed aside but it doesn&#39;t display.","body":"When I hover over (&quot;DigiD.png&quot;) it shows me the image so the image is found however it doesn&#39;t show when I run the code. The image is there since any text I&#39;ve put in the GUI gets pushed aside but it doesn&#39;t display."}],"answers":[{"tags":[],"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637282166,"creation_date":1637282166,"answer_id":70028455,"question_id":70028115,"body_markdown":"Works fine for me. Make sure the image is inside the correct folder of your project. (directly inside the top folder with the name of the entire project)","title":"I am trying to put an imageicon in my gui but it doesn&#39;t appear when I run the code. Can somebody tell me how to fix it","body":"<p>Works fine for me. Make sure the image is inside the correct folder of your project. (directly inside the top folder with the name of the entire project)</p>\n"}],"owner":{"account_id":23386798,"reputation":1,"user_id":17452009,"display_name":"Iam Serious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637282166,"creation_date":1637278773,"question_id":70028115,"body_markdown":"This is the code that I am using right now. When i run the code the image doesn&#39;t show.\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Interface {\r\n    \r\n        private static JLabel name;\r\n        private static ImageIcon image = new ImageIcon(&quot;DigiD.png&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n            //Panel\r\n            JPanel panel = new JPanel();\r\n            panel.setBackground(new Color(255, 145, 77, 255));\r\n    \r\n            //Titel van de app\r\n            name = new JLabel(&quot;Food 4 U&quot;);\r\n            name.setFont(new Font(&quot;Gill Sans Ultra Bold&quot;, Font.BOLD, 20));\r\n            name.setBounds(135, 1, 1000, 50);\r\n    \r\n            JLabel logo = new JLabel(image);\r\n            panel.add(logo);\r\n    \r\n            //Frame\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setResizable(true);\r\n            frame.setSize(400, 1000);\r\n            frame.getContentPane().setBackground(new Color(255, 145, 77, 255));\r\n            frame.add(panel);\r\n    \r\n            frame.setVisible(true);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"I am trying to put an imageicon in my gui but it doesn&#39;t appear when I run the code. Can somebody tell me how to fix it","body":"<p>This is the code that I am using right now. When i run the code the image doesn't show.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Interface {\n\n    private static JLabel name;\n    private static ImageIcon image = new ImageIcon(&quot;DigiD.png&quot;);\n\n    public static void main(String[] args) {\n        //Panel\n        JPanel panel = new JPanel();\n        panel.setBackground(new Color(255, 145, 77, 255));\n\n        //Titel van de app\n        name = new JLabel(&quot;Food 4 U&quot;);\n        name.setFont(new Font(&quot;Gill Sans Ultra Bold&quot;, Font.BOLD, 20));\n        name.setBounds(135, 1, 1000, 50);\n\n        JLabel logo = new JLabel(image);\n        panel.add(logo);\n\n        //Frame\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(true);\n        frame.setSize(400, 1000);\n        frame.getContentPane().setBackground(new Color(255, 145, 77, 255));\n        frame.add(panel);\n\n        frame.setVisible(true);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","list","user-interface","actionlistener"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637279300,"post_id":70028100,"comment_id":123790997,"body_markdown":"The interface for `ActionListener` only has one method to be implemented `actionPerformed(ActionEvent e)`  - this will be called for both button.  Depending on the `Source` of the `ActionEvent` you should undertake different actions","body":"The interface for <code>ActionListener</code> only has one method to be implemented <code>actionPerformed(ActionEvent e)</code>  - this will be called for both button.  Depending on the <code>Source</code> of the <code>ActionEvent</code> you should undertake different actions"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637280095,"post_id":70028100,"comment_id":123791123,"body_markdown":"`null` layouts suck, take the time to learn how to use the layout managers [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html); You&#39;ve not implemented the requirements for `ActionListener` (`showButtonActionPerformed` suggests that you&#39;re using something like Netbeans form editor). Maybe you should take a look at [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)","body":"<code>null</code> layouts suck, take the time to learn how to use the layout managers <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>; You&#39;ve not implemented the requirements for <code>ActionListener</code> (<code>showButtonActionPerformed</code> suggests that you&#39;re using something like Netbeans form editor). Maybe you should take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637280253,"post_id":70028100,"comment_id":123791151,"body_markdown":"You might also want to look at [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)","body":"You might also want to look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637281824,"creation_date":1637281824,"answer_id":70028416,"question_id":70028100,"body_markdown":"`null` layouts are going to come back to haunt you. There is no such thing as &quot;pixel perfect&quot; layouts, there are just to many variables associated with the differences in the way things get rendered between different hardware and OSs to even consider making this choice.\r\n\r\n\r\nTake the time to learn how to use the layout managers [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nYou&#39;ve not implemented the requirements for `ActionListener` (`showButtonActionPerformed` suggests that you&#39;re using something like Netbeans form editor). \r\n\r\nMaybe you should take a look at [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) and [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n\r\nYou might also want to look at [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)\r\n\r\nTo my mind, you need to take a slightly different tact and focus on separating the areas of responsibility.  Collecting the movie information has nothing with either storing the results or displaying them, so I&#39;d have those separated into it&#39;s own container, so you can more easily manage it.\r\n\r\nThis leads to the question of, &quot;how do you notify interested parties when a user &#39;adds&#39; a movie?&quot;.  Interestingly, you&#39;re somewhat already familiar with the concept.\r\n\r\nEssentially, you use a &quot;listener&quot; or, as it&#39;s more commonly known, an &quot;observer pattern&quot;.  This allows you to notify interested parties that something has happened, in this case, a user has created a new movie.\r\n\r\nFor example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.EventListener;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.TitledBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MovieManagerPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Movie {\r\n\r\n            String name;\r\n            String media;\r\n            int year;\r\n\r\n            public Movie(String n, String m, int y) {\r\n                name = n;\r\n                media = m;\r\n                year = y;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public String getMedia() {\r\n                return media;\r\n            }\r\n\r\n            public int getYear() {\r\n                return year;\r\n            }\r\n\r\n\r\n        }\r\n\r\n        public class MovieManagerPane extends JPanel {\r\n\r\n            private JTextArea moviesTextArea;\r\n            private List&lt;Movie&gt; movies = new ArrayList&lt;&gt;(32);\r\n\r\n            public MovieManagerPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                moviesTextArea = new JTextArea(20, 40);\r\n                String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, &quot;Year&quot;, &quot;Media&quot;, &quot;Title&quot;);\r\n                moviesTextArea.append(str);\r\n\r\n                MoviePane moviePane = new MoviePane();\r\n                moviePane.setBorder(new CompoundBorder(new TitledBorder(&quot;Input Movie&quot;), new EmptyBorder(4, 4, 4, 4)));\r\n                moviePane.addMovieListener(new MoviePane.MovieListener() {\r\n                    @Override\r\n                    public void movieWasAdded(MoviePane source, Movie movie) {\r\n                        movies.add(movie);\r\n                        String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, movie.getYear(), movie.getMedia(), movie.getName());\r\n                        moviesTextArea.append(str);\r\n                    }\r\n                });\r\n\r\n                add(moviePane, BorderLayout.LINE_START);\r\n                add(moviesTextArea);\r\n            }\r\n\r\n        }\r\n\r\n        public class MoviePane extends JPanel {\r\n\r\n            public static interface MovieListener extends EventListener {\r\n\r\n                public void movieWasAdded(MoviePane source, Movie movie);\r\n            }\r\n\r\n            //JLable and JTextField for Movie Name\r\n            private JLabel movieJLabel;\r\n            private JTextField movieJTextField;\r\n\r\n            //JLable and JTextField for Media\r\n            private JLabel mediaJLabel;\r\n            private JTextField mediaJTextField;\r\n\r\n            //JLable and JTextField for Release Year\r\n            private JLabel yearJLabel;\r\n            private JTextField yearJTextField;\r\n\r\n            //JButton to add movie to a list\r\n            private JButton addJButton;\r\n\r\n            public MoviePane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                movieJLabel = new JLabel(&quot;Movie Name:&quot;);\r\n                mediaJLabel = new JLabel(&quot;Media:&quot;);\r\n                yearJLabel = new JLabel(&quot;Release Year:&quot;);\r\n\r\n                movieJTextField = new JTextField(10);\r\n                mediaJTextField = new JTextField(10);\r\n                yearJTextField = new JTextField(10);\r\n\r\n                addJButton = new JButton(&quot;Add Movie&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = gbc.EAST;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                add(movieJLabel, gbc);\r\n                gbc.gridy++;\r\n                add(mediaJLabel, gbc);\r\n                gbc.gridy++;\r\n                add(yearJLabel, gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.anchor = gbc.WEST;\r\n\r\n                add(movieJTextField, gbc);\r\n                gbc.gridy++;\r\n                add(mediaJTextField, gbc);\r\n                gbc.gridy++;\r\n                add(yearJTextField, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = 2;\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                gbc.weighty = 1;\r\n                gbc.anchor = gbc.SOUTH;\r\n\r\n                add(addJButton, gbc);\r\n\r\n                addJButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        try {\r\n                            // Use a JSpinner or JFornattedTextField to avoid this\r\n                            int year = Integer.parseInt(yearJTextField.getText());\r\n                            Movie movie = new Movie(movieJTextField.getText(), mediaJTextField.getText(), year);\r\n                            fireMovieWasAdded(movie);\r\n                        } catch (NumberFormatException exp) {\r\n                            JOptionPane.showMessageDialog(MoviePane.this, &quot;Invalid year&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void addMovieListener(MovieListener listener) {\r\n                listenerList.add(MovieListener.class, listener);\r\n            }\r\n\r\n            public void removeMovieListener(MovieListener listener) {\r\n                listenerList.remove(MovieListener.class, listener);\r\n            }\r\n\r\n            protected void fireMovieWasAdded(Movie movie) {\r\n                MovieListener[] listeners = listenerList.getListeners(MovieListener.class);\r\n                if (listeners.length == 0) {\r\n                    return;\r\n                }\r\n\r\n                for (MovieListener listener : listeners) {\r\n                    listener.movieWasAdded(this, movie);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nYou may also want to take a look at [How to Use Spinners](https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html) and [How to Use Formatted Text Fields](https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html) for dealing with &quot;non-string&quot; input","title":"ActionListener, List Issue","body":"<p><code>null</code> layouts are going to come back to haunt you. There is no such thing as &quot;pixel perfect&quot; layouts, there are just to many variables associated with the differences in the way things get rendered between different hardware and OSs to even consider making this choice.</p>\n<p>Take the time to learn how to use the layout managers <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<p>You've not implemented the requirements for <code>ActionListener</code> (<code>showButtonActionPerformed</code> suggests that you're using something like Netbeans form editor).</p>\n<p>Maybe you should take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></p>\n<p>You might also want to look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a></p>\n<p>To my mind, you need to take a slightly different tact and focus on separating the areas of responsibility.  Collecting the movie information has nothing with either storing the results or displaying them, so I'd have those separated into it's own container, so you can more easily manage it.</p>\n<p>This leads to the question of, &quot;how do you notify interested parties when a user 'adds' a movie?&quot;.  Interestingly, you're somewhat already familiar with the concept.</p>\n<p>Essentially, you use a &quot;listener&quot; or, as it's more commonly known, an &quot;observer pattern&quot;.  This allows you to notify interested parties that something has happened, in this case, a user has created a new movie.</p>\n<p>For example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.EventListener;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.TitledBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MovieManagerPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Movie {\n\n        String name;\n        String media;\n        int year;\n\n        public Movie(String n, String m, int y) {\n            name = n;\n            media = m;\n            year = y;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getMedia() {\n            return media;\n        }\n\n        public int getYear() {\n            return year;\n        }\n\n\n    }\n\n    public class MovieManagerPane extends JPanel {\n\n        private JTextArea moviesTextArea;\n        private List&lt;Movie&gt; movies = new ArrayList&lt;&gt;(32);\n\n        public MovieManagerPane() {\n            setLayout(new BorderLayout());\n\n            moviesTextArea = new JTextArea(20, 40);\n            String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, &quot;Year&quot;, &quot;Media&quot;, &quot;Title&quot;);\n            moviesTextArea.append(str);\n\n            MoviePane moviePane = new MoviePane();\n            moviePane.setBorder(new CompoundBorder(new TitledBorder(&quot;Input Movie&quot;), new EmptyBorder(4, 4, 4, 4)));\n            moviePane.addMovieListener(new MoviePane.MovieListener() {\n                @Override\n                public void movieWasAdded(MoviePane source, Movie movie) {\n                    movies.add(movie);\n                    String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, movie.getYear(), movie.getMedia(), movie.getName());\n                    moviesTextArea.append(str);\n                }\n            });\n\n            add(moviePane, BorderLayout.LINE_START);\n            add(moviesTextArea);\n        }\n\n    }\n\n    public class MoviePane extends JPanel {\n\n        public static interface MovieListener extends EventListener {\n\n            public void movieWasAdded(MoviePane source, Movie movie);\n        }\n\n        //JLable and JTextField for Movie Name\n        private JLabel movieJLabel;\n        private JTextField movieJTextField;\n\n        //JLable and JTextField for Media\n        private JLabel mediaJLabel;\n        private JTextField mediaJTextField;\n\n        //JLable and JTextField for Release Year\n        private JLabel yearJLabel;\n        private JTextField yearJTextField;\n\n        //JButton to add movie to a list\n        private JButton addJButton;\n\n        public MoviePane() {\n            setLayout(new GridBagLayout());\n\n            movieJLabel = new JLabel(&quot;Movie Name:&quot;);\n            mediaJLabel = new JLabel(&quot;Media:&quot;);\n            yearJLabel = new JLabel(&quot;Release Year:&quot;);\n\n            movieJTextField = new JTextField(10);\n            mediaJTextField = new JTextField(10);\n            yearJTextField = new JTextField(10);\n\n            addJButton = new JButton(&quot;Add Movie&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = gbc.EAST;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            add(movieJLabel, gbc);\n            gbc.gridy++;\n            add(mediaJLabel, gbc);\n            gbc.gridy++;\n            add(yearJLabel, gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.anchor = gbc.WEST;\n\n            add(movieJTextField, gbc);\n            gbc.gridy++;\n            add(mediaJTextField, gbc);\n            gbc.gridy++;\n            add(yearJTextField, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = 2;\n            gbc.fill = GridBagConstraints.NONE;\n            gbc.weighty = 1;\n            gbc.anchor = gbc.SOUTH;\n\n            add(addJButton, gbc);\n\n            addJButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    try {\n                        // Use a JSpinner or JFornattedTextField to avoid this\n                        int year = Integer.parseInt(yearJTextField.getText());\n                        Movie movie = new Movie(movieJTextField.getText(), mediaJTextField.getText(), year);\n                        fireMovieWasAdded(movie);\n                    } catch (NumberFormatException exp) {\n                        JOptionPane.showMessageDialog(MoviePane.this, &quot;Invalid year&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n            });\n        }\n\n        public void addMovieListener(MovieListener listener) {\n            listenerList.add(MovieListener.class, listener);\n        }\n\n        public void removeMovieListener(MovieListener listener) {\n            listenerList.remove(MovieListener.class, listener);\n        }\n\n        protected void fireMovieWasAdded(Movie movie) {\n            MovieListener[] listeners = listenerList.getListeners(MovieListener.class);\n            if (listeners.length == 0) {\n                return;\n            }\n\n            for (MovieListener listener : listeners) {\n                listener.movieWasAdded(this, movie);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>You may also want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">How to Use Spinners</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">How to Use Formatted Text Fields</a> for dealing with &quot;non-string&quot; input</p>\n"}],"owner":{"account_id":21535358,"reputation":35,"user_id":15874030,"display_name":"Wolf Of Media"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637281824,"creation_date":1637278680,"question_id":70028100,"body_markdown":"I am running into an issue with my program. The objective is to collect input (movie name, media type and the year) and append it to a list when &quot;add movie&quot; is clicked. Then when the &quot;show movies&quot; button is clicked the list will display in the text area. I&#39;m not sure what I am missing or what I&#39;ve done wrong. \r\n\r\n```\r\nimport java.util.*;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nclass MovieDatabase extends JFrame implements ActionListener{\r\n    \r\n     //create LinkedList of Movie Objects\r\n    LinkedList&lt;Movie&gt; list = new LinkedList&lt;Movie&gt;(); \r\n    \r\n    //JPanel for input movie\r\n    private JPanel inputJPanel;\r\n    \r\n    //JLable and JTextField for Movie Name\r\n    private JLabel movieJLabel;\r\n    private JTextField movieJTextField;\r\n\r\n    //JLable and JTextField for Media\r\n    private JLabel mediaJLabel;\r\n    private JTextField mediaJTextField; \r\n    \r\n    //JLable and JTextField for Release Year\r\n    private JLabel yearJLabel;\r\n    private JTextField yearJTextField;\r\n    \r\n    //JButton to add movie to a list\r\n    private JButton addJButton;\r\n    \r\n    //JButton to show movie in text area\r\n    private JLabel showJLabel;\r\n    private JButton showJButton;\r\n\r\n    //JTextArea to display movies from list\r\n    private JTextArea showJTextArea;\r\n    private JPanel listJPanel;\r\n    \r\n    //no argument constructor\r\n    public MovieDatabase(){\r\n        createUserInterface();\r\n    }\r\n    \r\n    //create GUI window with components\r\n    private void createUserInterface(){\r\n        //get content pane window and set layout to null - no layout manager\r\n        Container contentPane = getContentPane();\r\n        contentPane.setLayout(null);\r\n        \r\n        //set up input panel\r\n        inputJPanel = new JPanel();\r\n        inputJPanel.setLayout(null);\r\n        inputJPanel.setBorder(new TitledBorder(&quot;Input Movie&quot;)); //anonymous object\r\n        inputJPanel.setBounds(20,4,260,178);// (x,y,w,h)\r\n        contentPane.add(inputJPanel);\r\n        \r\n        //set up input panel\r\n        showJLabel = new JLabel();\r\n        showJLabel.setLayout(null);\r\n        showJLabel.setText(&quot;Movies: &quot;); \r\n        showJLabel.setBounds(300,0,260,25);// (x,y,w,h)\r\n        contentPane.add(showJLabel);\r\n        \r\n        //set up payment JTextArea here\r\n        showJTextArea = new JTextArea();\r\n        showJTextArea.setBounds(300,30,300,145);// (x,y,w,h)\r\n        showJTextArea.setEditable(false);\r\n        contentPane.add(showJTextArea);\r\n        \r\n        //show movies JButton\r\n        showJButton = new JButton();\r\n        showJButton.setBounds(480,175,110,30);\r\n        showJButton.setText(&quot;Show Movies&quot;);\r\n        contentPane.add(showJButton);\r\n       \r\n        \r\n        //movie name JLabel\r\n        movieJLabel = new JLabel();\r\n        movieJLabel.setBounds(10,24,100,21);// (x,y,w,h)\r\n        movieJLabel.setText(&quot;Movie Name:&quot;);\r\n        inputJPanel.add(movieJLabel);\r\n        //movie name JTextField\r\n        movieJTextField = new JTextField();\r\n        movieJTextField.setBounds(104,24,120,21);\r\n        movieJTextField.setHorizontalAlignment(JTextField.RIGHT);\r\n        inputJPanel.add(movieJTextField);\r\n        \r\n        //media name JLabel\r\n        mediaJLabel = new JLabel();\r\n        mediaJLabel.setBounds(10,54,100,21);// (x,y,w,h)\r\n        mediaJLabel.setText(&quot;Media:&quot;);\r\n        inputJPanel.add(mediaJLabel);\r\n        //media name JTextField\r\n        mediaJTextField = new JTextField();\r\n        mediaJTextField.setBounds(104,54,120,21);\r\n        mediaJTextField.setHorizontalAlignment(JTextField.RIGHT);\r\n        inputJPanel.add(mediaJTextField);        \r\n        \r\n        //year name JLabel\r\n        yearJLabel = new JLabel();\r\n        yearJLabel.setBounds(10,84,100,21);// (x,y,w,h)\r\n        yearJLabel.setText(&quot;Release Year:&quot;);\r\n        inputJPanel.add(yearJLabel);\r\n        //year name JTextField\r\n        yearJTextField = new JTextField();\r\n        yearJTextField.setBounds(104,84,80,21);\r\n        yearJTextField.setHorizontalAlignment(JTextField.RIGHT);\r\n        inputJPanel.add(yearJTextField);\r\n        \r\n        //add movie JButton\r\n        addJButton = new JButton();\r\n        addJButton.setBounds(92,138,94,24);\r\n        addJButton.setText(&quot;Add Movie&quot;);\r\n        inputJPanel.add(addJButton);\r\n        \r\n        //set window properties\r\n        setTitle(&quot;Movie&quot;); //set title bar\r\n        setSize(625, 250);//window size\r\n        setVisible(true); //display window \r\n        \r\n        addJButton.addActionListener(this);\r\n        showJButton.addActionListener(this);\r\n        \r\n    }\r\n    \r\n     public void addButtonactionPerformed(ActionEvent e){\r\n        String movieName = movieJTextField.getText();\r\n        String media = mediaJTextField.getText();\r\n        int year = Integer.parseInt(yearJTextField.getText());\r\n        //create instance of Movie\r\n        Movie movie = new Movie(movieName, media, year);\r\n        list.add(movie);\r\n        \r\n        movieJTextField.setText(&quot;&quot;);\r\n        mediaJTextField.setText(&quot;&quot;);\r\n        yearJTextField.setText(&quot;&quot;);         \r\n     }\r\n    private void showButtonActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        showJTextArea.setText(&quot;&quot;);\r\n        String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, &quot;Year&quot;, &quot;Media&quot;, &quot;Title&quot;);\r\n        showJTextArea.append(str);\r\n        for (Movie movie : list) {\r\n             str = String.format(&quot;%-20s%-19s%-22s\\n&quot;, Integer.toString(movie.year), movie.media, movie.name);\r\n             showJTextArea.append(str);\r\n        }\r\n    }  \r\n         \r\n}\r\n\r\n class Movie{\r\n String name;\r\n String media;\r\n int year;\r\n\r\n public Movie(String n, String m, int y){\r\n name = n;\r\n media = m;\r\n year = y;\r\n }\r\n\r\n\r\npublic class MovieGUI {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        MovieDatabase application = new MovieDatabase();\r\n        application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n        \r\n  \r\n        \r\n\r\n    }//close and stop application\r\n    \r\n}\r\n }\r\n\r\n```","title":"ActionListener, List Issue","body":"<p>I am running into an issue with my program. The objective is to collect input (movie name, media type and the year) and append it to a list when &quot;add movie&quot; is clicked. Then when the &quot;show movies&quot; button is clicked the list will display in the text area. I'm not sure what I am missing or what I've done wrong.</p>\n<pre><code>import java.util.*;\nimport java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nclass MovieDatabase extends JFrame implements ActionListener{\n    \n     //create LinkedList of Movie Objects\n    LinkedList&lt;Movie&gt; list = new LinkedList&lt;Movie&gt;(); \n    \n    //JPanel for input movie\n    private JPanel inputJPanel;\n    \n    //JLable and JTextField for Movie Name\n    private JLabel movieJLabel;\n    private JTextField movieJTextField;\n\n    //JLable and JTextField for Media\n    private JLabel mediaJLabel;\n    private JTextField mediaJTextField; \n    \n    //JLable and JTextField for Release Year\n    private JLabel yearJLabel;\n    private JTextField yearJTextField;\n    \n    //JButton to add movie to a list\n    private JButton addJButton;\n    \n    //JButton to show movie in text area\n    private JLabel showJLabel;\n    private JButton showJButton;\n\n    //JTextArea to display movies from list\n    private JTextArea showJTextArea;\n    private JPanel listJPanel;\n    \n    //no argument constructor\n    public MovieDatabase(){\n        createUserInterface();\n    }\n    \n    //create GUI window with components\n    private void createUserInterface(){\n        //get content pane window and set layout to null - no layout manager\n        Container contentPane = getContentPane();\n        contentPane.setLayout(null);\n        \n        //set up input panel\n        inputJPanel = new JPanel();\n        inputJPanel.setLayout(null);\n        inputJPanel.setBorder(new TitledBorder(&quot;Input Movie&quot;)); //anonymous object\n        inputJPanel.setBounds(20,4,260,178);// (x,y,w,h)\n        contentPane.add(inputJPanel);\n        \n        //set up input panel\n        showJLabel = new JLabel();\n        showJLabel.setLayout(null);\n        showJLabel.setText(&quot;Movies: &quot;); \n        showJLabel.setBounds(300,0,260,25);// (x,y,w,h)\n        contentPane.add(showJLabel);\n        \n        //set up payment JTextArea here\n        showJTextArea = new JTextArea();\n        showJTextArea.setBounds(300,30,300,145);// (x,y,w,h)\n        showJTextArea.setEditable(false);\n        contentPane.add(showJTextArea);\n        \n        //show movies JButton\n        showJButton = new JButton();\n        showJButton.setBounds(480,175,110,30);\n        showJButton.setText(&quot;Show Movies&quot;);\n        contentPane.add(showJButton);\n       \n        \n        //movie name JLabel\n        movieJLabel = new JLabel();\n        movieJLabel.setBounds(10,24,100,21);// (x,y,w,h)\n        movieJLabel.setText(&quot;Movie Name:&quot;);\n        inputJPanel.add(movieJLabel);\n        //movie name JTextField\n        movieJTextField = new JTextField();\n        movieJTextField.setBounds(104,24,120,21);\n        movieJTextField.setHorizontalAlignment(JTextField.RIGHT);\n        inputJPanel.add(movieJTextField);\n        \n        //media name JLabel\n        mediaJLabel = new JLabel();\n        mediaJLabel.setBounds(10,54,100,21);// (x,y,w,h)\n        mediaJLabel.setText(&quot;Media:&quot;);\n        inputJPanel.add(mediaJLabel);\n        //media name JTextField\n        mediaJTextField = new JTextField();\n        mediaJTextField.setBounds(104,54,120,21);\n        mediaJTextField.setHorizontalAlignment(JTextField.RIGHT);\n        inputJPanel.add(mediaJTextField);        \n        \n        //year name JLabel\n        yearJLabel = new JLabel();\n        yearJLabel.setBounds(10,84,100,21);// (x,y,w,h)\n        yearJLabel.setText(&quot;Release Year:&quot;);\n        inputJPanel.add(yearJLabel);\n        //year name JTextField\n        yearJTextField = new JTextField();\n        yearJTextField.setBounds(104,84,80,21);\n        yearJTextField.setHorizontalAlignment(JTextField.RIGHT);\n        inputJPanel.add(yearJTextField);\n        \n        //add movie JButton\n        addJButton = new JButton();\n        addJButton.setBounds(92,138,94,24);\n        addJButton.setText(&quot;Add Movie&quot;);\n        inputJPanel.add(addJButton);\n        \n        //set window properties\n        setTitle(&quot;Movie&quot;); //set title bar\n        setSize(625, 250);//window size\n        setVisible(true); //display window \n        \n        addJButton.addActionListener(this);\n        showJButton.addActionListener(this);\n        \n    }\n    \n     public void addButtonactionPerformed(ActionEvent e){\n        String movieName = movieJTextField.getText();\n        String media = mediaJTextField.getText();\n        int year = Integer.parseInt(yearJTextField.getText());\n        //create instance of Movie\n        Movie movie = new Movie(movieName, media, year);\n        list.add(movie);\n        \n        movieJTextField.setText(&quot;&quot;);\n        mediaJTextField.setText(&quot;&quot;);\n        yearJTextField.setText(&quot;&quot;);         \n     }\n    private void showButtonActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        showJTextArea.setText(&quot;&quot;);\n        String str = String.format(&quot;%-20s%-20s%-20s\\n&quot;, &quot;Year&quot;, &quot;Media&quot;, &quot;Title&quot;);\n        showJTextArea.append(str);\n        for (Movie movie : list) {\n             str = String.format(&quot;%-20s%-19s%-22s\\n&quot;, Integer.toString(movie.year), movie.media, movie.name);\n             showJTextArea.append(str);\n        }\n    }  \n         \n}\n\n class Movie{\n String name;\n String media;\n int year;\n\n public Movie(String n, String m, int y){\n name = n;\n media = m;\n year = y;\n }\n\n\npublic class MovieGUI {\n\n\n    public static void main(String[] args) {\n        MovieDatabase application = new MovieDatabase();\n        application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        \n  \n        \n\n    }//close and stop application\n    \n}\n }\n\n</code></pre>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":2,"creation_date":1572470394,"post_id":58633763,"comment_id":103574555,"body_markdown":"you don&#39;t need any `mock` for `Optional`","body":"you don&#39;t need any <code>mock</code> for <code>Optional</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1572470790,"post_id":58633763,"comment_id":103574699,"body_markdown":"ok, how I can solve the issue? Can you show me code example, please?","body":"ok, how I can solve the issue? Can you show me code example, please?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1637280278,"creation_date":1572471005,"answer_id":58633902,"question_id":58633763,"body_markdown":"Remove `@Mock` on the `Optional&lt;BinLists&gt;` field.\r\n\r\n`Optional` is a simple class that can be easily created and controlled by you, so you do not need to mock it .Just create an actual instance when you need it which you already do it in `beforeEachTest()` :\r\n\r\n``` java\r\nprivate BinlistsService binlistsService = Mockito.mock(BinlistsService.class);\r\n\r\nOptional&lt;BinLists&gt; binList = null;\r\n\r\n    @BeforeEach\r\n    public void beforeEachTest() throws IOException {\r\n\r\n        BinLists binLists = new BinLists();\r\n        binLists.setId(1);\r\n        ....\r\n\r\n        binList = Optional.of(binLists);\r\n    }\r\n\r\n    @Test\r\n    public void testBinCountryCheckFilterImpl() {\r\n\r\n        when(binlistsService.findByName(anyString())).thenReturn(binList);\r\n\r\n}\r\n\r\n```","title":"Cannot mock/spy class java.util.Optional","body":"<p>Remove <code>@Mock</code> on the <code>Optional&lt;BinLists&gt;</code> field.</p>\n<p><code>Optional</code> is a simple class that can be easily created and controlled by you, so you do not need to mock it .Just create an actual instance when you need it which you already do it in <code>beforeEachTest()</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BinlistsService binlistsService = Mockito.mock(BinlistsService.class);\n\nOptional&lt;BinLists&gt; binList = null;\n\n    @BeforeEach\n    public void beforeEachTest() throws IOException {\n\n        BinLists binLists = new BinLists();\n        binLists.setId(1);\n        ....\n\n        binList = Optional.of(binLists);\n    }\n\n    @Test\n    public void testBinCountryCheckFilterImpl() {\n\n        when(binlistsService.findByName(anyString())).thenReturn(binList);\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14335242,"reputation":74,"user_id":10354937,"display_name":"eamazaj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572471961,"creation_date":1572471961,"answer_id":58634088,"question_id":58633763,"body_markdown":"You do not need mock for `class Optional` (java core class **final**), you need mock  for `class BinLists`\r\n\r\n        @Mock\r\n        BinLists binList = null;\r\n\r\nJUnit can`t mock the final class, but if you need this unusual technique of mocking can use **PowerMock** https://github.com/powermock/powermock\r\n\r\n","title":"Cannot mock/spy class java.util.Optional","body":"<p>You do not need mock for <code>class Optional</code> (java core class <strong>final</strong>), you need mock  for <code>class BinLists</code></p>\n\n<pre><code>    @Mock\n    BinLists binList = null;\n</code></pre>\n\n<p>JUnit can`t mock the final class, but if you need this unusual technique of mocking can use <strong>PowerMock</strong> <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock</a></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13615,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58633902,"answer_count":2,"score":3,"last_activity_date":1637280278,"creation_date":1572470185,"question_id":58633763,"body_markdown":"I&#39;m trying to implement this JUnit code:\r\n\r\n    private BinlistsService binlistsService = Mockito.mock(BinlistsService.class);\r\n\r\n    @Mock\r\n\tOptional&lt;BinLists&gt; binList = null;\r\n    \r\n    @BeforeEach\r\n    \tpublic void beforeEachTest() throws IOException {\r\n    \t\t\t\r\n    \t\tBinLists binLists = new BinLists();\r\n    \t\tbinLists.setId(1);\r\n            ....\r\n    \t\t\r\n    \t\tbinList = Optional.of(binLists);\r\n    \t}\r\n    \t \r\n    \t@Test\r\n    \tpublic void testBinCountryCheckFilterImpl() {\r\n    \r\n    \t\twhen(binlistsService.findByName(anyString())).thenReturn(binList);\r\n    \r\n    }\r\n\r\nBut I get this error stack:\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Cannot mock/spy class java.util.Optional\r\n    Mockito cannot mock/spy because :\r\n     - final class\r\n    \tat org.data\r\n\r\nDo you know how I can fix this issue?","title":"Cannot mock/spy class java.util.Optional","body":"<p>I'm trying to implement this JUnit code:</p>\n\n<pre><code>private BinlistsService binlistsService = Mockito.mock(BinlistsService.class);\n\n@Mock\nOptional&lt;BinLists&gt; binList = null;\n\n@BeforeEach\n    public void beforeEachTest() throws IOException {\n\n        BinLists binLists = new BinLists();\n        binLists.setId(1);\n        ....\n\n        binList = Optional.of(binLists);\n    }\n\n    @Test\n    public void testBinCountryCheckFilterImpl() {\n\n        when(binlistsService.findByName(anyString())).thenReturn(binList);\n\n}\n</code></pre>\n\n<p>But I get this error stack:</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nCannot mock/spy class java.util.Optional\nMockito cannot mock/spy because :\n - final class\n    at org.data\n</code></pre>\n\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","if-statement","integer","switch-statement","range"],"comments":[{"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"score":2,"creation_date":1425626318,"post_id":28892969,"comment_id":46048009,"body_markdown":"There are times for an &#39;if&#39;, and there are times for a &#39;switch&#39;. *This* is a time for an &#39;if&#39;.","body":"There are times for an &#39;if&#39;, and there are times for a &#39;switch&#39;. <i>This</i> is a time for an &#39;if&#39;."}],"answers":[{"tags":[],"owner":{"account_id":1556557,"reputation":1548,"user_id":1447477,"accept_rate":80,"display_name":"Matter Cat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1425620740,"creation_date":1425620740,"answer_id":28893026,"question_id":28892969,"body_markdown":"As far as I know, ranges aren&#39;t possible for switch cases in Java. You can do something like \r\n\r\n    switch (num) {\r\n      case 1: case 2: case 3:\r\n        //stuff\r\n        break;\r\n      case 4: case 5: case 6: \r\n        //more stuff\r\n        break;\r\n      default:\r\n    }\r\n\r\nBut at that point, you might as well stick with the if statement.","title":"java - switch statement with range of int","body":"<p>As far as I know, ranges aren't possible for switch cases in Java. You can do something like </p>\n\n<pre><code>switch (num) {\n  case 1: case 2: case 3:\n    //stuff\n    break;\n  case 4: case 5: case 6: \n    //more stuff\n    break;\n  default:\n}\n</code></pre>\n\n<p>But at that point, you might as well stick with the if statement.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1425621277,"creation_date":1425620961,"answer_id":28893058,"question_id":28892969,"body_markdown":"You can use ternary operator, `? :`\r\n\r\n    int num = (score &gt;= 120) &amp;&amp; (score &lt;=125) ? 1 : -1;\r\n    num = (score &gt;= 1600) &amp;&amp; (score &lt;=1699 ) ? 2 : num;\r\n    switch (num) {\r\n        case 1 :\r\n           break;\r\n        case 2 :\r\n           break;\r\n        default :\r\n          //for -1\r\n    }\r\n","title":"java - switch statement with range of int","body":"<p>You can use ternary operator, <code>? :</code></p>\n\n<pre><code>int num = (score &gt;= 120) &amp;&amp; (score &lt;=125) ? 1 : -1;\nnum = (score &gt;= 1600) &amp;&amp; (score &lt;=1699 ) ? 2 : num;\nswitch (num) {\n    case 1 :\n       break;\n    case 2 :\n       break;\n    default :\n      //for -1\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1425638067,"creation_date":1425627017,"answer_id":28894070,"question_id":28892969,"body_markdown":"**On the JVM level `switch` statement is fundamentally different from if statements.**\r\n\r\nSwitch is about compile time constants that have to be all specified at compile time, so that javac compiler produces efficient bytecode.\r\n\r\n**In Java `switch` statement does not support ranges.** You have to specify all the values (you might take advantage of falling through the cases) and `default` case. Anything else has to be handled by `if` statements.","title":"java - switch statement with range of int","body":"<p><strong>On the JVM level <code>switch</code> statement is fundamentally different from if statements.</strong></p>\n\n<p>Switch is about compile time constants that have to be all specified at compile time, so that javac compiler produces efficient bytecode.</p>\n\n<p><strong>In Java <code>switch</code> statement does not support ranges.</strong> You have to specify all the values (you might take advantage of falling through the cases) and <code>default</code> case. Anything else has to be handled by <code>if</code> statements.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637280043,"creation_date":1501615014,"answer_id":45446005,"question_id":28892969,"body_markdown":"If you *really* want to use switch statements — here is a way to create pseudo-ranges with `enum`s, so you can switch over the enums.\r\n\r\nFirst, we&#39;ll need to create the ranges:\r\n\r\n```java\r\npublic enum Range {\r\n        \r\n    TWO_HUNDRED(200, 299),\r\n    SIXTEEN_HUNDRED(1600, 1699),\r\n    OTHER(0, -1); // This range can never exist, but it is necessary\r\n                  // in order to prevent a NullPointerException from\r\n                  // being thrown while we switch\r\n        \r\n    private final int minValue;\r\n    private final int maxValue;\r\n        \r\n    private Range(int min, int max) {\r\n        this.minValue = min;\r\n        this.maxValue = max;\r\n    }\r\n        \r\n    public static Range from(int score) {\r\n        return Arrays.stream(Range.values())\r\n            .filter(range -&gt; score &gt;= range.minValue &amp;&amp; score &lt;= range.maxValue)\r\n            .findAny()\r\n            .orElse(OTHER);\r\n    }\r\n}\r\n```\r\n\r\nAnd then your switch:\r\n\r\n```java\r\nint num = 1630;\r\nswitch (Range.from(num)) {\r\n\r\n    case TWO_HUNDRED:\r\n        // Do something\r\n        break;\r\n\r\n    case SIXTEEN_HUNDRED:\r\n        // Do another thing\r\n        break;\r\n\r\n    case OTHER:\r\n    default:\r\n        // Do a whole different thing\r\n        break;\r\n}\r\n```\r\n","title":"java - switch statement with range of int","body":"<p>If you <em>really</em> want to use switch statements — here is a way to create pseudo-ranges with <code>enum</code>s, so you can switch over the enums.</p>\n<p>First, we'll need to create the ranges:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Range {\n        \n    TWO_HUNDRED(200, 299),\n    SIXTEEN_HUNDRED(1600, 1699),\n    OTHER(0, -1); // This range can never exist, but it is necessary\n                  // in order to prevent a NullPointerException from\n                  // being thrown while we switch\n        \n    private final int minValue;\n    private final int maxValue;\n        \n    private Range(int min, int max) {\n        this.minValue = min;\n        this.maxValue = max;\n    }\n        \n    public static Range from(int score) {\n        return Arrays.stream(Range.values())\n            .filter(range -&gt; score &gt;= range.minValue &amp;&amp; score &lt;= range.maxValue)\n            .findAny()\n            .orElse(OTHER);\n    }\n}\n</code></pre>\n<p>And then your switch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int num = 1630;\nswitch (Range.from(num)) {\n\n    case TWO_HUNDRED:\n        // Do something\n        break;\n\n    case SIXTEEN_HUNDRED:\n        // Do another thing\n        break;\n\n    case OTHER:\n    default:\n        // Do a whole different thing\n        break;\n}\n</code></pre>\n"}],"owner":{"account_id":2439467,"reputation":481,"user_id":2128405,"accept_rate":74,"display_name":"WXR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35667,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1637280043,"creation_date":1425620431,"question_id":28892969,"body_markdown":"I want to use a switch statement to check a range of numbers I have found a few places saying something like\r\n`case 1...5` or `case (score &gt;= 120) &amp;&amp; (score &lt;=125)` would work but I just somehow keep on getting errors.\r\n\r\nWhat I want is if the number is between 1600-1699 then do something.\r\n\r\nI can do if statements but figured it&#39;s time to start using switch if possible.","title":"java - switch statement with range of int","body":"<p>I want to use a switch statement to check a range of numbers I have found a few places saying something like\n<code>case 1...5</code> or <code>case (score &gt;= 120) &amp;&amp; (score &lt;=125)</code> would work but I just somehow keep on getting errors.</p>\n\n<p>What I want is if the number is between 1600-1699 then do something.</p>\n\n<p>I can do if statements but figured it's time to start using switch if possible.</p>\n"},{"tags":["java","jersey","jax-rs","websphere"],"comments":[{"owner":{"account_id":8798459,"reputation":1273,"user_id":6575578,"display_name":"Andy McCright"},"score":1,"creation_date":1637285550,"post_id":70028237,"comment_id":123792056,"body_markdown":"Is there more to the stack trace - specifically a caused-by clause? If not, then it would seem that the resource method `com.company.vendor.service.vendorSSOService.buildvendorUrl(...)` is throwing the `WebApplicationException`.  Perhaps that code is use the JAX-RS client API to invoke another service that is returning a 500?","body":"Is there more to the stack trace - specifically a caused-by clause? If not, then it would seem that the resource method <code>com.company.vendor.service.vendorSSOService.buildvendorUrl(.&zwnj;&#8203;..)</code> is throwing the <code>WebApplicationException</code>.  Perhaps that code is use the JAX-RS client API to invoke another service that is returning a 500?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1637292805,"post_id":70028237,"comment_id":123793356,"body_markdown":"Add an ExceptionMapper to try to log the actual cause","body":"Add an ExceptionMapper to try to log the actual cause"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1637342317,"post_id":70028237,"comment_id":123809215,"body_markdown":"Thanks. I get another error after adding more logging instead of the generic WebApplicationException. `Cannot find any provider supporting RC2/CBC/PKCS7Padding`.","body":"Thanks. I get another error after adding more logging instead of the generic WebApplicationException. <code>Cannot find any provider supporting RC2&#47;CBC&#47;PKCS7Padding</code>."},{"owner":{"account_id":8798459,"reputation":1273,"user_id":6575578,"display_name":"Andy McCright"},"score":0,"creation_date":1637548646,"post_id":70028237,"comment_id":123847734,"body_markdown":"Possibly this would help?  https://stackoverflow.com/questions/10193567/java-security-nosuchalgorithmexceptioncannot-find-any-provider-supporting-aes-e","body":"Possibly this would help?  <a href=\"https://stackoverflow.com/questions/10193567/java-security-nosuchalgorithmexceptioncannot-find-any-provider-supporting-aes-e\" title=\"java security nosuchalgorithmexceptioncannot find any provider supporting aes e\">stackoverflow.com/questions/10193567/&hellip;</a>"}],"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637279978,"creation_date":1637279978,"question_id":70028237,"body_markdown":"I have a Java application running fine until the latest Websphere Fix patch 8.5.5.20 broke an existing piece of RESTful API. Could it be the jersey dependency conflicts? Any ideas on how this can be resolved. Below is the error stack-  \r\n\r\n    javax.ws.rs.WebApplicationException Mapped exception to response: 500 (Internal Server Error)\r\n                                 javax.ws.rs.WebApplicationException\r\n\tat com.company.vendor.service.vendorSSOService.buildvendorUrl(vendorSSOService.java:153)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1233)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:782)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:481)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:136)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:97)\r\n\tat com.company.system.transaction.servlet.TransactionManagerCleanupFilter.doFilter(TransactionManagerCleanupFilter.java:37)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.company.system.i18n.servlet.I18NLocaleFilter.doFilter(I18NLocaleFilter.java:66)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.company.system.i18n.servlet.I18nContextCleanupFilter.doFilter(I18nContextCleanupFilter.java:49)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.company.exodus.instrument.servlet.diagnosticcontext.DiagnosticContextFilter.doFilter(DiagnosticContextFilter.java:74)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.company.exodus.instrument.servlet.measurement.MeasurementFilter.doFilter(MeasurementFilter.java:149)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:967)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1107)\r\n\tat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:87)\r\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:952)\r\n\tat com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1817)\r\n\tat com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:213)\r\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:463)\r\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:530)\r\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:316)\r\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:287)\r\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)\r\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)\r\n\tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n\tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n\tat com.ibm.io.async.AsyncChannelFuture$1.run(AsyncChannelFuture.java:205)\r\n\tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)  \r\nHere is the dependency I have for JAX-rs and jersey \r\n\r\n         &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\r\n\r\n","title":"javax.ws.rs.WebApplicationException error in Websphere 8.5","body":"<p>I have a Java application running fine until the latest Websphere Fix patch 8.5.5.20 broke an existing piece of RESTful API. Could it be the jersey dependency conflicts? Any ideas on how this can be resolved. Below is the error stack-</p>\n<pre><code>javax.ws.rs.WebApplicationException Mapped exception to response: 500 (Internal Server Error)\n                             javax.ws.rs.WebApplicationException\nat com.company.vendor.service.vendorSSOService.buildvendorUrl(vendorSSOService.java:153)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\nat java.lang.reflect.Method.invoke(Method.java:508)\nat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\nat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\nat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\nat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\nat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\nat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\nat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1233)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:782)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:481)\nat com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:136)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:97)\nat com.company.system.transaction.servlet.TransactionManagerCleanupFilter.doFilter(TransactionManagerCleanupFilter.java:37)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.company.system.i18n.servlet.I18NLocaleFilter.doFilter(I18NLocaleFilter.java:66)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.company.system.i18n.servlet.I18nContextCleanupFilter.doFilter(I18nContextCleanupFilter.java:49)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.company.exodus.instrument.servlet.diagnosticcontext.DiagnosticContextFilter.doFilter(DiagnosticContextFilter.java:74)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.company.exodus.instrument.servlet.measurement.MeasurementFilter.doFilter(MeasurementFilter.java:149)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:967)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1107)\nat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:87)\nat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:952)\nat com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1817)\nat com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:213)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:463)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:530)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:316)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:287)\nat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)\nat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)\nat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\nat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\nat com.ibm.io.async.AsyncChannelFuture$1.run(AsyncChannelFuture.java:205)\nat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)  \n</code></pre>\n<p>Here is the dependency I have for JAX-rs and jersey</p>\n<pre><code>     &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;  \n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637189634,"post_id":70012532,"comment_id":123763247,"body_markdown":"Do you use a plain version of Eclipse or did you install extra plugins?","body":"Do you use a plain version of Eclipse or did you install extra plugins?"},{"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"score":0,"creation_date":1637189900,"post_id":70012532,"comment_id":123763298,"body_markdown":"@dan1st Only have a handful of plugins - Eclipse Marketplace Client 1.9.1, Eclipse Web Developer Tools 3.23, Eclipse XML Editors and Tools 3.23, Enhanced Class Decompiler 3.22, Maven Integration for Eclipse (Luna and newer) 1.5, Maven Integration for Eclipse (Luna) 1.5.","body":"@dan1st Only have a handful of plugins - Eclipse Marketplace Client 1.9.1, Eclipse Web Developer Tools 3.23, Eclipse XML Editors and Tools 3.23, Enhanced Class Decompiler 3.22, Maven Integration for Eclipse (Luna and newer) 1.5, Maven Integration for Eclipse (Luna) 1.5."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637190027,"post_id":70012532,"comment_id":123763329,"body_markdown":"Can you reproduce the problem in a new plain java project (ideally without libraries and as minimal as possible)?","body":"Can you reproduce the problem in a new plain java project (ideally without libraries and as minimal as possible)?"},{"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"score":0,"creation_date":1637190440,"post_id":70012532,"comment_id":123763433,"body_markdown":"@dan1st I will try. The only theoretical explanation I can think of is that this problem surfaced after I recently started a new project and instead of creating a new project from scratch (i.e, right click -&gt; New -&gt; Java Project)  I duplicated a previous project (copy and pasted the project in Package Explorer) because I knew it would share a lot of code from that project. I don&#39;t know if this has anything to do with it but I have over 20 projects in Eclipse and this is the first time I am facing this kind of problem. Maybe someone who knows more than me will find this information useful.","body":"@dan1st I will try. The only theoretical explanation I can think of is that this problem surfaced after I recently started a new project and instead of creating a new project from scratch (i.e, right click -&gt; New -&gt; Java Project)  I duplicated a previous project (copy and pasted the project in Package Explorer) because I knew it would share a lot of code from that project. I don&#39;t know if this has anything to do with it but I have over 20 projects in Eclipse and this is the first time I am facing this kind of problem. Maybe someone who knows more than me will find this information useful."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637190528,"post_id":70012532,"comment_id":123763454,"body_markdown":"You may try creating a backup of the project, deleting it and copying the source files from the backup.","body":"You may try creating a backup of the project, deleting it and copying the source files from the backup."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1637222544,"post_id":70012532,"comment_id":123769588,"body_markdown":"Never seen this. Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. [Edit] your question to show us the extra detail.","body":"Never seen this. Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. <a href=\"https://stackoverflow.com/posts/70012532/edit\">Edit</a> your question to show us the extra detail."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1637225543,"post_id":70012532,"comment_id":123770631,"body_markdown":"Please show the log starting with `SESSION!` (_Maven Integration for Eclipse (Luna) 1.5_ in a current Eclipse looks weird). The fact that your recent edits do not show up in the local history indicates that this is happening outside of Eclipse. Does something sync your workspace? On Windows, this can happen if you use one user profile with more than one computer.","body":"Please show the log starting with <code>SESSION!</code> (<i>Maven Integration for Eclipse (Luna) 1.5</i> in a current Eclipse looks weird). The fact that your recent edits do not show up in the local history indicates that this is happening outside of Eclipse. Does something sync your workspace? On Windows, this can happen if you use one user profile with more than one computer."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1637272722,"post_id":70012532,"comment_id":123789467,"body_markdown":"The current maven is 1.18 &quot;m2e - Maven integration for Eclipse&quot;. I can&#39;t find any bug reports with that message in Eclipse bugzilla.","body":"The current maven is 1.18 &quot;m2e - Maven integration for Eclipse&quot;. I can&#39;t find any bug reports with that message in Eclipse bugzilla."}],"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1637279125,"creation_date":1637189203,"question_id":70012532,"body_markdown":"I have been using Eclipse for several years now with lots of ups and downs. Recently, I started having a brand new problem: I spend 20-30 min making changes to my code and suddenly (out of nowhere) Eclipse decides to revert all the changes I worked on in the last 20-30 minutes.\r\n\r\n\r\n&lt;strike&gt;I followed [the suggestion in this reply][1] but Eclipse won&#39;t even show the new code I wrote in the Local History.&lt;/strike&gt;\r\n\r\nIt&#39;s beginning to happen so frequently that it is really effecting productivity. One step ahead, two steps backwards. It occurs even when I religiously save my work every couple of minutes - even the &quot;saved&quot; changes are reverted. \r\n\r\nBased on a quick analysis it seems this happens most frequently when I try to rename a variable and Eclipse says I need to select a variable (which I did, but that&#39;s besides the point) to refractor it. After I click OK in popup, at that point eclipse &quot;undoes&quot; all the code I worked on in the last twenty minutes or so. No questions asked.\r\n\r\nHas anyone faced a similar situation? Really thinking of switching to IntelliJ IDEA even though I&#39;ve been using eclipse for years.\r\n\r\nThanks\r\n\r\n**UPDATE 1**:\r\n\r\nI noticed the issue occurs only after I get the following message:\r\n\r\n    A fatal error occurred while performing the refracting\r\n    \r\n    A local variable deceleration or reference must be selected to activate the Refactoring \r\n\r\n\r\n\r\n**UPDATE 2**:\r\n\r\nI am now able to restore recent edits via `Local History`. In other words, the recent edits **are** showing up now in Local History, so this was an oversight on my end. However the primary problem with Eclipse reverting changes when refactoring variable **is still present**. In other words, I still need to &quot;restore&quot; my work every 20-30 minutes (when refactoring variable that results in fatal error message above) via `Local History`.\r\n\r\n\r\n**UPDATE 3**:\r\n\r\nThe error also occurs when I try to refactor and get the following message:\r\n\r\n    Rename Refactoring: Could not a method for project handle &quot;null&quot; with handle identifier.. \r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18220708\r\n  [2]: https://i.stack.imgur.com/JVfvW.png","title":"Eclipse Randomly Deleting My Code when Refactoring","body":"<p>I have been using Eclipse for several years now with lots of ups and downs. Recently, I started having a brand new problem: I spend 20-30 min making changes to my code and suddenly (out of nowhere) Eclipse decides to revert all the changes I worked on in the last 20-30 minutes.</p>\n<p><strike>I followed <a href=\"https://stackoverflow.com/a/18220708\">the suggestion in this reply</a> but Eclipse won't even show the new code I wrote in the Local History.</strike></p>\n<p>It's beginning to happen so frequently that it is really effecting productivity. One step ahead, two steps backwards. It occurs even when I religiously save my work every couple of minutes - even the &quot;saved&quot; changes are reverted.</p>\n<p>Based on a quick analysis it seems this happens most frequently when I try to rename a variable and Eclipse says I need to select a variable (which I did, but that's besides the point) to refractor it. After I click OK in popup, at that point eclipse &quot;undoes&quot; all the code I worked on in the last twenty minutes or so. No questions asked.</p>\n<p>Has anyone faced a similar situation? Really thinking of switching to IntelliJ IDEA even though I've been using eclipse for years.</p>\n<p>Thanks</p>\n<p><strong>UPDATE 1</strong>:</p>\n<p>I noticed the issue occurs only after I get the following message:</p>\n<pre><code>A fatal error occurred while performing the refracting\n\nA local variable deceleration or reference must be selected to activate the Refactoring \n</code></pre>\n<p><strong>UPDATE 2</strong>:</p>\n<p>I am now able to restore recent edits via <code>Local History</code>. In other words, the recent edits <strong>are</strong> showing up now in Local History, so this was an oversight on my end. However the primary problem with Eclipse reverting changes when refactoring variable <strong>is still present</strong>. In other words, I still need to &quot;restore&quot; my work every 20-30 minutes (when refactoring variable that results in fatal error message above) via <code>Local History</code>.</p>\n<p><strong>UPDATE 3</strong>:</p>\n<p>The error also occurs when I try to refactor and get the following message:</p>\n<pre><code>Rename Refactoring: Could not a method for project handle &quot;null&quot; with handle identifier.. \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JVfvW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JVfvW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","layout-manager"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":2,"creation_date":1637266801,"post_id":70026112,"comment_id":123787487,"body_markdown":"For better help sooner post a proper [mre] that demonstrates your issue or what you&#39;re trying to achieve inlcude ascii art or an image along with what would happen if you resized the window, would components be bigger or should they stay the same but add extra space around them?","body":"For better help sooner post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates your issue or what you&#39;re trying to achieve inlcude ascii art or an image along with what would happen if you resized the window, would components be bigger or should they stay the same but add extra space around them?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637268375,"post_id":70026112,"comment_id":123788074,"body_markdown":"`JPanel#add(Component, Int)` and/or `JPanel#add(Component, Object, Int)` depending on how the original container is laid out","body":"<code>JPanel#add(Component, Int)</code> and/or <code>JPanel#add(Component, Object, Int)</code> depending on how the original container is laid out"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637270329,"post_id":70026112,"comment_id":123788702,"body_markdown":"See https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"owner":{"account_id":23385516,"reputation":1,"user_id":17450953,"display_name":"Gao Changxiang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637277973,"creation_date":1637266224,"question_id":70026112,"body_markdown":"I&#39;m trying to create a comment section akin to that of Reddit, in which when a user presses the comment icon, a panel containing a textbox and buttons will appear. How do I make sure the comment panel appears in between its parent comment and the following comment?","title":"How I do I add a panel in between two panels in Java?","body":"<p>I'm trying to create a comment section akin to that of Reddit, in which when a user presses the comment icon, a panel containing a textbox and buttons will appear. How do I make sure the comment panel appears in between its parent comment and the following comment?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1579752305,"post_id":59869681,"comment_id":105873692,"body_markdown":"Change this `List&lt;ConsumerRecord&lt;String, PMessage&gt;&gt;` to this `List&lt;PMessage&gt;`","body":"Change this <code>List&lt;ConsumerRecord&lt;String, PMessage&gt;&gt;</code> to this <code>List&lt;PMessage&gt;</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1579758478,"post_id":59869681,"comment_id":105875123,"body_markdown":"Why are you writing your own Avro Deserializer? Are you not using Schema Registry?","body":"Why are you writing your own Avro Deserializer? Are you not using Schema Registry?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1579785814,"post_id":59869681,"comment_id":105888402,"body_markdown":"You need to show the full stack trace. Always provide it when asking such questions. Also show your container factory configuration.","body":"You need to show the full stack trace. Always provide it when asking such questions. Also show your container factory configuration."},{"owner":{"account_id":17502181,"reputation":11,"user_id":12692179,"display_name":"ray work"},"score":0,"creation_date":1579891587,"post_id":59869681,"comment_id":105931391,"body_markdown":"Thank you, everyone. I greatly appreciate your quick response. Still not sure what went wrong but I deleted the topic 2-3 times and all the statements works fine with no code change.","body":"Thank you, everyone. I greatly appreciate your quick response. Still not sure what went wrong but I deleted the topic 2-3 times and all the statements works fine with no code change."}],"answers":[{"tags":[],"owner":{"account_id":10491586,"reputation":179,"user_id":7864377,"display_name":"Dmitry Pukhov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637277766,"creation_date":1637277766,"answer_id":70027998,"question_id":59869681,"body_markdown":"In short\r\n========\r\nI had the same issue and it took me a night to find a solution which is incredibly simple: your kafka listener container must work in **batch** mode (by default the mode is single). You can configure it through a property `spring.kafka.listener.type`. If you use your own `KafkaListenerContainerFactory` bean then just add `factory.setBatchListener(true);` into bean definition.\r\n\r\nIn detail\r\n========\r\nSteps to reproduce the situation (it is not a bug!).\r\n\r\nCreate class representing kafka messages and corresponding deserializer. In your case it is kafka.psmessage.PMessage, I will use CommunicationRequest.\r\n\r\n```java\r\n@ToString\r\npublic class CommunicationRequest {\r\n    public int id;\r\n    public String action;\r\n}\r\n\r\n@Component\r\npublic class CommunicationRequestDeserializer implements Deserializer&lt;CommunicationRequest&gt; {\r\n    @Autowired\r\n    ObjectMapper objectMapper;\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public CommunicationRequest deserialize(String topic, byte[] data) {\r\n        String json = new String(data);\r\n        return objectMapper.readValue(json, CommunicationRequest.class);\r\n    }\r\n}\r\n```\r\n\r\nConfigure kafka:\r\n```java\r\n@Slf4j\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n    @Autowired\r\n    private final KafkaProperties kafkaProperties;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory(\r\n        CommunicationRequestDeserializer deserializer\r\n    ) {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n            this.kafkaProperties.buildConsumerProperties(),\r\n            new StringDeserializer(),\r\n            deserializer\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; kafkaListenerContainerFactory(\r\n        ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers,\r\n        ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory\r\n    ) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;()\r\n        ;\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setBatchListener(false); /* Important line! */\r\n        return factory;\r\n    }\r\n\r\n    /* other beans are not shown to make example shorter */\r\n}\r\n```\r\n\r\nNow you can create a class with KafkaListener annotation to read messages. You have a few choices on your method signature (remove all methods but one!).\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\npublic class MyListener {\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume1(Object record) {\r\n        log.info(&quot;consume1: {}&quot;, record.toString());\r\n    }\r\n\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume2(CommunicationRequest record) {\r\n        log.info(&quot;consume2: {}&quot;, record.toString());\r\n    }\r\n\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume3(ConsumerRecord&lt;String, CommunicationRequest&gt; record) {\r\n        log.info(&quot;consume3: {}&quot;, record.toString());\r\n    }\r\n\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume4(List&lt;Object&gt; records) {\r\n        log.info(&quot;consume4: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\r\n    }\r\n\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume5(List&lt;CommunicationRequest&gt; records) {\r\n        log.info(&quot;consume5: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\r\n    }\r\n\r\n    @KafkaListener(topics = &quot;test-topic&quot;)\r\n    public void consume6(List&lt;ConsumerRecord&lt;String, CommunicationRequest&gt;&gt; records) {\r\n        log.info(&quot;consume6: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\r\n    }\r\n}\r\n```\r\n\r\nPut messages into kafka and you will get the following when listener type = single, i.e. `setBatchListener(false);` was specified:\r\n```text\r\n2021-11-19 01:34:54,029 INFO  MyListener - consume1: ConsumerRecord(topic = test-topic, ...)\r\n2021-11-19 01:31:53,141 INFO  MyListener - consume2: CommunicationRequest(action=abc, id=1)\r\n2021-11-19 01:36:40,483 INFO  MyListener - consume3: ConsumerRecord(topic = test-topic, ...)\r\n2021-11-19 01:41:23,265 INFO  MyListener - consume4: size = 1, first = CommunicationRequest(action=abc, id=1)\r\n2021-11-19 01:42:34,259 INFO  MyListener - consume5: size = 1, first = CommunicationRequest(action=abc, id=1)\r\n2021-11-19 01:44:39,999 ERROR SeekToCurrentErrorHandler - Backoff none exhausted for ConsumerRecord(...\r\n```\r\nAs you see Spring Kafka tries to guess required class to cast message to. If you ask for a list of messages Spring Kafka will return a list of size 1 regardless how many messages were actually read in the last poll(). By the way some signatures are invalid and cannot be called like the last one.\r\n\r\n- - -\r\n\r\nThe above describes behaviour when KafkaListenerContainer has type single, not batch (look up the important line in the listings). Now let&#39;s create batch listener!\r\n\r\n```java\r\n/* ... */\r\n\r\n@Bean\r\npublic ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; kafkaListenerContainerFactory(\r\n    ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers,\r\n    ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory\r\n) {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;()\r\n    ;\r\n    factory.setConsumerFactory(consumerFactory);\r\n    factory.setBatchListener(true); /* Important line! */\r\n    return factory;\r\n}\r\n\r\n/* ... */\r\n```\r\n\r\nLet&#39;s use the same MyListener class and see results:\r\n```text\r\n2021-11-19 01:57:10,505 INFO  MyListener - consume1: io.opentracing.contrib.kafka.TracingKafkaConsumer@6a9f8235\r\n2021-11-19 01:58:18,382 INFO  MyListener - consume2: CommunicationRequest(action=abc, id=1)\r\n2021-11-19 01:59:43,188 ERROR KafkaMessageListenerContainer$ListenerConsumer - Error handler threw an exception\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\r\n2021-11-19 02:00:50,468 INFO  MyListener - consume4: size = 2, first = CommunicationRequest(action=abc, id=1)\r\n2021-11-19 02:01:53,214 INFO  MyListener - consume5: size = 2, first = CommunicationRequest(action=abc, id=1)\r\n2021-11-19 02:03:04,642 INFO  MyListener - consume6: size = 2, first = ConsumerRecord(topic = test-topic, ...)\r\n```\r\nAgain Spring Kafka is good enough to recognize almost all signatures. The most important is that now you receive a *list* of messages - all the batch that was consumed in the last poll() call. In my situation there were only 2 messages in topic.\r\n\r\nConclusion\r\n======\r\nYou can use different method signatures and combine them with listener types, single and batch. Not all combinations are allowed. Your one is disallowed and has nothing to do with Apache Kafka itself and topic recreation: you receive a List of Pmessage despite the fact that your signature says you expect a List of ConsumerRecord. That&#39;s how Spring Kafka works.","title":"Kafka Consumer- ClassCastException java","body":"<h1>In short</h1>\n<p>I had the same issue and it took me a night to find a solution which is incredibly simple: your kafka listener container must work in <strong>batch</strong> mode (by default the mode is single). You can configure it through a property <code>spring.kafka.listener.type</code>. If you use your own <code>KafkaListenerContainerFactory</code> bean then just add <code>factory.setBatchListener(true);</code> into bean definition.</p>\n<h1>In detail</h1>\n<p>Steps to reproduce the situation (it is not a bug!).</p>\n<p>Create class representing kafka messages and corresponding deserializer. In your case it is kafka.psmessage.PMessage, I will use CommunicationRequest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\npublic class CommunicationRequest {\n    public int id;\n    public String action;\n}\n\n@Component\npublic class CommunicationRequestDeserializer implements Deserializer&lt;CommunicationRequest&gt; {\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @SneakyThrows\n    @Override\n    public CommunicationRequest deserialize(String topic, byte[] data) {\n        String json = new String(data);\n        return objectMapper.readValue(json, CommunicationRequest.class);\n    }\n}\n</code></pre>\n<p>Configure kafka:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\npublic class KafkaConfiguration {\n    @Autowired\n    private final KafkaProperties kafkaProperties;\n\n    @Bean\n    public ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory(\n        CommunicationRequestDeserializer deserializer\n    ) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\n            this.kafkaProperties.buildConsumerProperties(),\n            new StringDeserializer(),\n            deserializer\n        );\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; kafkaListenerContainerFactory(\n        ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers,\n        ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory\n    ) {\n        ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;()\n        ;\n        factory.setConsumerFactory(consumerFactory);\n        factory.setBatchListener(false); /* Important line! */\n        return factory;\n    }\n\n    /* other beans are not shown to make example shorter */\n}\n</code></pre>\n<p>Now you can create a class with KafkaListener annotation to read messages. You have a few choices on your method signature (remove all methods but one!).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\npublic class MyListener {\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume1(Object record) {\n        log.info(&quot;consume1: {}&quot;, record.toString());\n    }\n\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume2(CommunicationRequest record) {\n        log.info(&quot;consume2: {}&quot;, record.toString());\n    }\n\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume3(ConsumerRecord&lt;String, CommunicationRequest&gt; record) {\n        log.info(&quot;consume3: {}&quot;, record.toString());\n    }\n\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume4(List&lt;Object&gt; records) {\n        log.info(&quot;consume4: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\n    }\n\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume5(List&lt;CommunicationRequest&gt; records) {\n        log.info(&quot;consume5: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\n    }\n\n    @KafkaListener(topics = &quot;test-topic&quot;)\n    public void consume6(List&lt;ConsumerRecord&lt;String, CommunicationRequest&gt;&gt; records) {\n        log.info(&quot;consume6: size = {}, first = {}&quot;, records.size(), records.get(0).toString());\n    }\n}\n</code></pre>\n<p>Put messages into kafka and you will get the following when listener type = single, i.e. <code>setBatchListener(false);</code> was specified:</p>\n<pre><code>2021-11-19 01:34:54,029 INFO  MyListener - consume1: ConsumerRecord(topic = test-topic, ...)\n2021-11-19 01:31:53,141 INFO  MyListener - consume2: CommunicationRequest(action=abc, id=1)\n2021-11-19 01:36:40,483 INFO  MyListener - consume3: ConsumerRecord(topic = test-topic, ...)\n2021-11-19 01:41:23,265 INFO  MyListener - consume4: size = 1, first = CommunicationRequest(action=abc, id=1)\n2021-11-19 01:42:34,259 INFO  MyListener - consume5: size = 1, first = CommunicationRequest(action=abc, id=1)\n2021-11-19 01:44:39,999 ERROR SeekToCurrentErrorHandler - Backoff none exhausted for ConsumerRecord(...\n</code></pre>\n<p>As you see Spring Kafka tries to guess required class to cast message to. If you ask for a list of messages Spring Kafka will return a list of size 1 regardless how many messages were actually read in the last poll(). By the way some signatures are invalid and cannot be called like the last one.</p>\n<hr />\n<p>The above describes behaviour when KafkaListenerContainer has type single, not batch (look up the important line in the listings). Now let's create batch listener!</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* ... */\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; kafkaListenerContainerFactory(\n    ObjectProvider&lt;DefaultKafkaProducerFactoryCustomizer&gt; customizers,\n    ConsumerFactory&lt;String, CommunicationRequest&gt; consumerFactory\n) {\n    ConcurrentKafkaListenerContainerFactory&lt;String, CommunicationRequest&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;()\n    ;\n    factory.setConsumerFactory(consumerFactory);\n    factory.setBatchListener(true); /* Important line! */\n    return factory;\n}\n\n/* ... */\n</code></pre>\n<p>Let's use the same MyListener class and see results:</p>\n<pre><code>2021-11-19 01:57:10,505 INFO  MyListener - consume1: io.opentracing.contrib.kafka.TracingKafkaConsumer@6a9f8235\n2021-11-19 01:58:18,382 INFO  MyListener - consume2: CommunicationRequest(action=abc, id=1)\n2021-11-19 01:59:43,188 ERROR KafkaMessageListenerContainer$ListenerConsumer - Error handler threw an exception\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\n2021-11-19 02:00:50,468 INFO  MyListener - consume4: size = 2, first = CommunicationRequest(action=abc, id=1)\n2021-11-19 02:01:53,214 INFO  MyListener - consume5: size = 2, first = CommunicationRequest(action=abc, id=1)\n2021-11-19 02:03:04,642 INFO  MyListener - consume6: size = 2, first = ConsumerRecord(topic = test-topic, ...)\n</code></pre>\n<p>Again Spring Kafka is good enough to recognize almost all signatures. The most important is that now you receive a <em>list</em> of messages - all the batch that was consumed in the last poll() call. In my situation there were only 2 messages in topic.</p>\n<h1>Conclusion</h1>\n<p>You can use different method signatures and combine them with listener types, single and batch. Not all combinations are allowed. Your one is disallowed and has nothing to do with Apache Kafka itself and topic recreation: you receive a List of Pmessage despite the fact that your signature says you expect a List of ConsumerRecord. That's how Spring Kafka works.</p>\n"}],"owner":{"account_id":17502181,"reputation":11,"user_id":12692179,"display_name":"ray work"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637277766,"creation_date":1579735811,"question_id":59869681,"body_markdown":"My Kafka consumer throws an exception when trying to process messages in a batch(i.e process list of messages)\r\n\r\nError Message \r\n```\r\nis java.lang.ClassCastException: class kafka.psmessage.PMessage cannot be cast to class org.apache.kafka.clients.consumer.ConsumerRecord (kafka.psmessage.pMessage and org.apache.kafka.clients.consumer.ConsumerRecord are in unnamed module of loader &#39;app&#39;); nested exception is java.lang.ClassCastException: class kafka.psmessage.PMessage cannot be cast to class org.apache.kafka.clients.consumer.ConsumerRecord (kafka.psmessage.PMessage and org.apache.kafka.clients.consumer.ConsumerRecord are in unnamed module of loader &#39;app&#39;)\r\n```\r\nCode snippet \r\n```\r\n   public void receive(List&lt;ConsumerRecord&lt;String, PMessage&gt;&gt; records) {\r\n           List&lt;PMessage&gt; msgList = records.stream().map(message -&gt; message.value()).collect(Collectors.toList());\r\n\r\nPMessage test = records.get(0).value();\r\nConsumerRecord&lt;String, PMessage&gt; firstMessage = records.get(0);\r\n```\r\nAll 3 statements above giving ClassCastException\r\n\r\n```\r\n@Override\r\n    protected DefaultKafkaConsumerFactory&lt;String, PMessage&gt; createConsumerFactory(String groupId) {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.putAll(kafkaProperties.buildConsumerProperties());\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, serviceInfo.getBrokersAuthUrl());\r\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 10000);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.putAll(KafkaSaslUtils.getSaslProperties(serviceInfo));\r\n        \r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props,\r\n                new StringDeserializer(),\r\n                new MessageDeserializer());\r\n    }\r\n```\r\nMessageDeserializer:\r\n```\r\n@Override\r\n    public PMessage deserialize(String topic, byte[] data) {\r\n        if (data == null) {\r\n            throw new SerializationException(&quot;Can not deserialize. data is null for topic: &#39;&quot; + topic + &quot;&#39;&quot;);\r\n        }\r\n\r\n        try {\r\n            SeekableByteArrayInput seekableByteArrayInput = new SeekableByteArrayInput(data);\r\n            GenericDatumReader reader = new GenericDatumReader&lt;GenericRecord&gt;();\r\n            DataFileReader&lt;GenericRecord&gt; dataFileReader = new \r\n         DataFileReader(seekableByteArrayInput, reader);\r\n            GenericRecord genericRecord = extractGenericRecord(dataFileReader);\r\n\r\n```\r\nAny pointer will be appreciated.\r\nThanks!","title":"Kafka Consumer- ClassCastException java","body":"<p>My Kafka consumer throws an exception when trying to process messages in a batch(i.e process list of messages)</p>\n\n<p>Error Message </p>\n\n<pre><code>is java.lang.ClassCastException: class kafka.psmessage.PMessage cannot be cast to class org.apache.kafka.clients.consumer.ConsumerRecord (kafka.psmessage.pMessage and org.apache.kafka.clients.consumer.ConsumerRecord are in unnamed module of loader 'app'); nested exception is java.lang.ClassCastException: class kafka.psmessage.PMessage cannot be cast to class org.apache.kafka.clients.consumer.ConsumerRecord (kafka.psmessage.PMessage and org.apache.kafka.clients.consumer.ConsumerRecord are in unnamed module of loader 'app')\n</code></pre>\n\n<p>Code snippet </p>\n\n<pre><code>   public void receive(List&lt;ConsumerRecord&lt;String, PMessage&gt;&gt; records) {\n           List&lt;PMessage&gt; msgList = records.stream().map(message -&gt; message.value()).collect(Collectors.toList());\n\nPMessage test = records.get(0).value();\nConsumerRecord&lt;String, PMessage&gt; firstMessage = records.get(0);\n</code></pre>\n\n<p>All 3 statements above giving ClassCastException</p>\n\n<pre><code>@Override\n    protected DefaultKafkaConsumerFactory&lt;String, PMessage&gt; createConsumerFactory(String groupId) {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.putAll(kafkaProperties.buildConsumerProperties());\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, serviceInfo.getBrokersAuthUrl());\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 10000);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.putAll(KafkaSaslUtils.getSaslProperties(serviceInfo));\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props,\n                new StringDeserializer(),\n                new MessageDeserializer());\n    }\n</code></pre>\n\n<p>MessageDeserializer:</p>\n\n<pre><code>@Override\n    public PMessage deserialize(String topic, byte[] data) {\n        if (data == null) {\n            throw new SerializationException(\"Can not deserialize. data is null for topic: '\" + topic + \"'\");\n        }\n\n        try {\n            SeekableByteArrayInput seekableByteArrayInput = new SeekableByteArrayInput(data);\n            GenericDatumReader reader = new GenericDatumReader&lt;GenericRecord&gt;();\n            DataFileReader&lt;GenericRecord&gt; dataFileReader = new \n         DataFileReader(seekableByteArrayInput, reader);\n            GenericRecord genericRecord = extractGenericRecord(dataFileReader);\n\n</code></pre>\n\n<p>Any pointer will be appreciated.\nThanks!</p>\n"},{"tags":["java","spring-boot","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"score":0,"creation_date":1611266755,"post_id":65769409,"comment_id":116403589,"body_markdown":"create an repository like that (https://micronaut-projects.github.io/micronaut-data/latest/guide/#repositories) and build the query using the entity manager and JPA criteria API","body":"create an repository like that (<a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/#repositories\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-data/latest/guide/&hellip;</a>) and build the query using the entity manager and JPA criteria API"},{"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"score":0,"creation_date":1611282864,"post_id":65769409,"comment_id":116407481,"body_markdown":"Yes, did the same.. &#128077;&#127995;","body":"Yes, did the same.. 👍🏻"}],"answers":[{"tags":[],"owner":{"account_id":23385892,"reputation":26,"user_id":17451261,"display_name":"Roberto Almeida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637277337,"creation_date":1637269155,"answer_id":70026667,"question_id":65769409,"body_markdown":"You can use similar classes with *Micronout Data*&#39;s [JPA specifications](https://micronaut-projects.github.io/micronaut-data/latest/guide/#specifications).\r\n\r\n&gt; Based on the same concept as Spring Data, when you need to create queries dynamically by composing JPA criteria then you can implement the **`JpaSpecificationExecutor`** interface which provides multiple methods that receive an instance of **`Specification`** which can be used in combination with existing repository interfaces.","title":"What is micronaut&#39;s alternative for &quot;JpaSpecificationExecutor&quot;?","body":"<p>You can use similar classes with <em>Micronout Data</em>'s <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/#specifications\" rel=\"nofollow noreferrer\">JPA specifications</a>.</p>\n<blockquote>\n<p>Based on the same concept as Spring Data, when you need to create queries dynamically by composing JPA criteria then you can implement the <strong><code>JpaSpecificationExecutor</code></strong> interface which provides multiple methods that receive an instance of <strong><code>Specification</code></strong> which can be used in combination with existing repository interfaces.</p>\n</blockquote>\n"}],"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70026667,"answer_count":1,"score":2,"last_activity_date":1637277337,"creation_date":1610948874,"question_id":65769409,"body_markdown":"I want dynamic filter queries. Example \r\n\r\n/api/users?name=xyz\r\n\r\n/api/users?name=xyz&amp;email=abc\r\n\r\nWith spring boot it was possible using JpaSpecificationExecutor, where I could pass custom &quot;Specification&quot;. How to do this using micronaut-data?","title":"What is micronaut&#39;s alternative for &quot;JpaSpecificationExecutor&quot;?","body":"<p>I want dynamic filter queries. Example</p>\n<p>/api/users?name=xyz</p>\n<p>/api/users?name=xyz&amp;email=abc</p>\n<p>With spring boot it was possible using JpaSpecificationExecutor, where I could pass custom &quot;Specification&quot;. How to do this using micronaut-data?</p>\n"},{"tags":["java","spring","spring-boot","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":23134509,"reputation":91,"user_id":17238919,"display_name":"Nirmal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635302553,"creation_date":1635302553,"answer_id":69732131,"question_id":69731980,"body_markdown":"You can try this:-\r\n    #spring.jpa.properties.eclipselink.logging.level.sql: ALL\r\n\r\n[This][1] can also help you, a few more properties of EclipseLink are defined here. \r\n\r\n\r\n  [1]: https://docs.actian.com/integrationmanager/2.1/index.html#page/User/ApplicationProperties.htm","title":"Passing EclipseLink properties through Spring&#39;s application.properties?","body":"<p>You can try this:-\n#spring.jpa.properties.eclipselink.logging.level.sql: ALL</p>\n<p><a href=\"https://docs.actian.com/integrationmanager/2.1/index.html#page/User/ApplicationProperties.htm\" rel=\"nofollow noreferrer\">This</a> can also help you, a few more properties of EclipseLink are defined here.</p>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637277083,"creation_date":1637277083,"answer_id":70027903,"question_id":69731980,"body_markdown":"Turns out it was a bug in my company&#39;s internal framework which prevented the `eclipselink` properties from being inherited by the `EntityManager`.\r\n\r\nPlease disregard.","title":"Passing EclipseLink properties through Spring&#39;s application.properties?","body":"<p>Turns out it was a bug in my company's internal framework which prevented the <code>eclipselink</code> properties from being inherited by the <code>EntityManager</code>.</p>\n<p>Please disregard.</p>\n"}],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70027903,"answer_count":2,"score":0,"last_activity_date":1637277083,"creation_date":1635300933,"question_id":69731980,"body_markdown":"We use EclipseLink as our JPA provider.\r\n\r\nI find a lot of answers online that talk about the `persistence.xml` solutions, but I&#39;m actually trying to avoid using XML configuration. I even read that SpringBoot now doesn&#39;t even look for that file anymore unless told to. For this reason, I want to try to stick to `application.properties`.\r\n\r\nIt seems like Hibernate has decent support through passing `spring.jpa.hibernate` properties. However, I&#39;m left hanging when it comes to EclipseLink.\r\n\r\nI&#39;m trying to:\r\n\r\n1. Set the EclipseLink logging to `ALL` to help me debug.\r\n2. Activate the EclipseLink Batch-Writing to see if I can improve the performance of my application.\r\n\r\nThis is my current `application.properties`:\r\n\r\n```\r\nlogging.level.root=info\r\nspring.jpa.show-sql=true\r\n\r\neclipselink.jdbc.batch-writing=JDBC\r\neclipselink.jdbc.batch-writing.size=500\r\n```\r\n\r\nI tried plugging the values of [some of these answers](https://stackoverflow.com/q/2374395/9768291) into the `application.properties` but it didn&#39;t really help me see SQL commands. The only way I could get to see some SQLs was with `spring.jpa.show-sql=true` which lead me to believe that it&#39;s not as trivial as I&#39;d expect to avoid using `persistence.xml`. This also makes me suspect that the `eclipselink.jdbc.batch-writing` properties are also not actually being recognized by EclipseLink.\r\n\r\n---\r\n\r\nWe do log through `logback`. Maybe this `logback.xml` file content could be helpful:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;2 seconds&quot; debug=&quot;false&quot;&gt;\r\n\r\n    &lt;appender name=&quot;log.console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;com.foo.bar.app.LoggerLayoutEncoder&quot;&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSSS} -\\t%highlight(%-5level)\\t%17.-17tenantContext\\t%15.-15userContext\\t%50.-50requestContext\\tThread[%26.-26thread]%n\\t\\t\\t\\tLogger[%green(%36.36(%logger{36}))]\\tMsg[%highlight(%msg)]%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;Sentry&quot; class=&quot;io.sentry.logback.SentryAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;INFO&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;log.console&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Sentry&quot; /&gt;     \r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```","title":"Passing EclipseLink properties through Spring&#39;s application.properties?","body":"<p>We use EclipseLink as our JPA provider.</p>\n<p>I find a lot of answers online that talk about the <code>persistence.xml</code> solutions, but I'm actually trying to avoid using XML configuration. I even read that SpringBoot now doesn't even look for that file anymore unless told to. For this reason, I want to try to stick to <code>application.properties</code>.</p>\n<p>It seems like Hibernate has decent support through passing <code>spring.jpa.hibernate</code> properties. However, I'm left hanging when it comes to EclipseLink.</p>\n<p>I'm trying to:</p>\n<ol>\n<li>Set the EclipseLink logging to <code>ALL</code> to help me debug.</li>\n<li>Activate the EclipseLink Batch-Writing to see if I can improve the performance of my application.</li>\n</ol>\n<p>This is my current <code>application.properties</code>:</p>\n<pre><code>logging.level.root=info\nspring.jpa.show-sql=true\n\neclipselink.jdbc.batch-writing=JDBC\neclipselink.jdbc.batch-writing.size=500\n</code></pre>\n<p>I tried plugging the values of <a href=\"https://stackoverflow.com/q/2374395/9768291\">some of these answers</a> into the <code>application.properties</code> but it didn't really help me see SQL commands. The only way I could get to see some SQLs was with <code>spring.jpa.show-sql=true</code> which lead me to believe that it's not as trivial as I'd expect to avoid using <code>persistence.xml</code>. This also makes me suspect that the <code>eclipselink.jdbc.batch-writing</code> properties are also not actually being recognized by EclipseLink.</p>\n<hr />\n<p>We do log through <code>logback</code>. Maybe this <code>logback.xml</code> file content could be helpful:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;2 seconds&quot; debug=&quot;false&quot;&gt;\n\n    &lt;appender name=&quot;log.console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;com.foo.bar.app.LoggerLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSSS} -\\t%highlight(%-5level)\\t%17.-17tenantContext\\t%15.-15userContext\\t%50.-50requestContext\\tThread[%26.-26thread]%n\\t\\t\\t\\tLogger[%green(%36.36(%logger{36}))]\\tMsg[%highlight(%msg)]%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;Sentry&quot; class=&quot;io.sentry.logback.SentryAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;root&gt;\n        &lt;level value=&quot;INFO&quot; /&gt;\n        &lt;appender-ref ref=&quot;log.console&quot; /&gt;\n        &lt;appender-ref ref=&quot;Sentry&quot; /&gt;     \n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1630877,"reputation":335,"user_id":1885672,"display_name":"Andrea De Gaetano"},"score":0,"creation_date":1637277327,"post_id":70027897,"comment_id":123790598,"body_markdown":"if the problem is on the onclicklistener of imageviewdataOC, it is because you are calling calendario.DatePicker.\ncalendario is of type Calendar and there is no method DatePicker there https://developer.android.com/reference/java/util/Calendar","body":"if the problem is on the onclicklistener of imageviewdataOC, it is because you are calling calendario.DatePicker. calendario is of type Calendar and there is no method DatePicker there <a href=\"https://developer.android.com/reference/java/util/Calendar\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/Calendar</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637279444,"post_id":70027897,"comment_id":123791015,"body_markdown":"Do you mean `class DatePicker` - typo?","body":"Do you mean <code>class DatePicker</code> - typo?"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1637286535,"post_id":70027897,"comment_id":123792217,"body_markdown":"Check this line:\n\n DialogFragment dialogFragment = new calendario.DatePicker();\nyou were missing &#39;c&#39;. while calling DatePicker() class","body":"Check this line:   DialogFragment dialogFragment = new calendario.DatePicker(); you were missing &#39;c&#39;. while calling DatePicker() class"},{"owner":{"account_id":22915049,"reputation":11,"user_id":17051759,"display_name":"Lucas da Costa Silva"},"score":0,"creation_date":1637370499,"post_id":70027897,"comment_id":123816489,"body_markdown":"It was both the typo and the Calendar method, thanks for bringing this to my attention, apparently I&#39;m losing my ability to read.","body":"It was both the typo and the Calendar method, thanks for bringing this to my attention, apparently I&#39;m losing my ability to read."}],"owner":{"account_id":22915049,"reputation":11,"user_id":17051759,"display_name":"Lucas da Costa Silva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637277021,"creation_date":1637277021,"question_id":70027897,"body_markdown":"I&#39;m currently making a simple app for reports and one of the things I&#39;m trying to make is a small callendar, basically a image that will show the DatePiker options once clicked, then put the informed date on a EditText for the user to see, but I&#39;m facing a &quot;Cannot resolve symbol &#39;DatePiker&#39;&quot; I don&#39;t know why this is happening, this code was working perfecly one hour ago.\r\n\r\n``` \r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.DialogFragment;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.app.Dialog;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.basgeekball.awesomevalidation.AwesomeValidation;\r\nimport com.basgeekball.awesomevalidation.ValidationStyle;\r\nimport com.basgeekball.awesomevalidation.utility.RegexTemplate;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText ntnome, ntdocumento, nttelefone, ntemail, carcor, carplaca, carmarca, ocdata, ochora,\r\n            ocdescri&#231;&#227;o;\r\n    static EditText editTextDataOC;\r\n    Button ocenvio;\r\n    ImageView imageViewDataOC;\r\n\r\n    AwesomeValidation awesomeValidation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageViewDataOC = findViewById(R.id.oc_calendar);\r\n        editTextDataOC = findViewById(R.id.oc_data);\r\n        Calendar calendario = Calendar.getInstance();\r\n        Integer dia = calendario.get(Calendar.DAY_OF_MONTH);\r\n        Integer mes = calendario.get(Calendar.MONTH);\r\n        Integer ano = calendario.get(Calendar.YEAR);\r\n\r\n        editTextDataOC.setText(dia + &quot;/&quot; + mes + &quot;/&quot; + ano);\r\n\r\n        imageViewDataOC.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                DialogFragment dialogFragment = new calendario.DatePiker();\r\n                dialogFragment.show(getSupportFragmentManager(), &quot;DataInicial&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static class DatePicker extends DialogFragment implements DatePickerDialog.OnDateSetListener {\r\n\r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n            Calendar calendario = Calendar.getInstance();\r\n            Integer dia = calendario.get(Calendar.DAY_OF_MONTH);\r\n            Integer mes = calendario.get(Calendar.MONTH);\r\n            Integer ano = calendario.get(Calendar.YEAR);\r\n\r\n            DatePickerDialog datePickerHoloLight = new DatePickerDialog(getActivity(),\r\n                    AlertDialog.THEME_HOLO_LIGHT, this, ano, mes, dia);\r\n\r\n            return datePickerHoloLight;\r\n        }\r\n\r\n        @Override\r\n        public void onDateSet(android.widget.DatePicker view, int year, int month, int day) {\r\n            String tagClicada = getTag();\r\n\r\n            if(tagClicada.equals(&quot;imageViewDataOC&quot;)){\r\n                editTextDataOC.setText(day + &quot;/&quot; + month + &quot;/&quot; + year);\r\n            }\r\n        }\r\n    }\r\n} \r\n``` ","title":"Needing help solving DatePiker problems","body":"<p>I'm currently making a simple app for reports and one of the things I'm trying to make is a small callendar, basically a image that will show the DatePiker options once clicked, then put the informed date on a EditText for the user to see, but I'm facing a &quot;Cannot resolve symbol 'DatePiker'&quot; I don't know why this is happening, this code was working perfecly one hour ago.</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.DialogFragment;\n\nimport android.app.AlertDialog;\nimport android.app.DatePickerDialog;\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.basgeekball.awesomevalidation.AwesomeValidation;\nimport com.basgeekball.awesomevalidation.ValidationStyle;\nimport com.basgeekball.awesomevalidation.utility.RegexTemplate;\n\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText ntnome, ntdocumento, nttelefone, ntemail, carcor, carplaca, carmarca, ocdata, ochora,\n            ocdescrição;\n    static EditText editTextDataOC;\n    Button ocenvio;\n    ImageView imageViewDataOC;\n\n    AwesomeValidation awesomeValidation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageViewDataOC = findViewById(R.id.oc_calendar);\n        editTextDataOC = findViewById(R.id.oc_data);\n        Calendar calendario = Calendar.getInstance();\n        Integer dia = calendario.get(Calendar.DAY_OF_MONTH);\n        Integer mes = calendario.get(Calendar.MONTH);\n        Integer ano = calendario.get(Calendar.YEAR);\n\n        editTextDataOC.setText(dia + &quot;/&quot; + mes + &quot;/&quot; + ano);\n\n        imageViewDataOC.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                DialogFragment dialogFragment = new calendario.DatePiker();\n                dialogFragment.show(getSupportFragmentManager(), &quot;DataInicial&quot;);\n            }\n        });\n    }\n\n    public static class DatePicker extends DialogFragment implements DatePickerDialog.OnDateSetListener {\n\n        @Override\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\n            Calendar calendario = Calendar.getInstance();\n            Integer dia = calendario.get(Calendar.DAY_OF_MONTH);\n            Integer mes = calendario.get(Calendar.MONTH);\n            Integer ano = calendario.get(Calendar.YEAR);\n\n            DatePickerDialog datePickerHoloLight = new DatePickerDialog(getActivity(),\n                    AlertDialog.THEME_HOLO_LIGHT, this, ano, mes, dia);\n\n            return datePickerHoloLight;\n        }\n\n        @Override\n        public void onDateSet(android.widget.DatePicker view, int year, int month, int day) {\n            String tagClicada = getTag();\n\n            if(tagClicada.equals(&quot;imageViewDataOC&quot;)){\n                editTextDataOC.setText(day + &quot;/&quot; + month + &quot;/&quot; + year);\n            }\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637276989,"creation_date":1637276989,"answer_id":70027891,"question_id":69806354,"body_markdown":"If you&#39;re worried about IP, text in a text file isn&#39;t any more or less secure than text in a binary file, it&#39;s still trivially discoverable. Given you have to handle text somewhere, at best you can obfuscate, but on the whole you don&#39;t really have a choice.","title":"Risks of storing Open GL-ES shader code in plain text","body":"<p>If you're worried about IP, text in a text file isn't any more or less secure than text in a binary file, it's still trivially discoverable. Given you have to handle text somewhere, at best you can obfuscate, but on the whole you don't really have a choice.</p>\n"}],"owner":{"account_id":4547088,"reputation":730,"user_id":3693328,"display_name":"JCutting8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70027891,"answer_count":1,"score":0,"last_activity_date":1637276989,"creation_date":1635835726,"question_id":69806354,"body_markdown":"I&#39;m creating a video app that applies certain filters to the video using GLES20 on Android. All the examples I have seen hard code their shader source code as strings, i.e.:\r\n\r\n    private final String fragmentShaderCode =\r\n        &quot;precision mediump float;&quot; +\r\n        &quot;uniform vec4 vColor;&quot; +\r\n        &quot;void main() {&quot; +\r\n        &quot;gl_FragColor = vColor;&quot; +\r\n        &quot;}&quot;;\r\n\r\n\r\nHowever, it becomes cumbersome to edit complex shaders with all the commas and line breaks. I thought of writing my shaders as a raw text file resource so I could make use of indentation etc. and write a function to load the shaders from the text file into a String before compiling at run time. What are the key things to consider or risks in doing it this way?\r\n\r\nI&#39;m assuming intellectual property is the main risk, but assuming keeping the source code secret isn&#39;t a big deal, any others?  \r\n","title":"Risks of storing Open GL-ES shader code in plain text","body":"<p>I'm creating a video app that applies certain filters to the video using GLES20 on Android. All the examples I have seen hard code their shader source code as strings, i.e.:</p>\n<pre><code>private final String fragmentShaderCode =\n    &quot;precision mediump float;&quot; +\n    &quot;uniform vec4 vColor;&quot; +\n    &quot;void main() {&quot; +\n    &quot;gl_FragColor = vColor;&quot; +\n    &quot;}&quot;;\n</code></pre>\n<p>However, it becomes cumbersome to edit complex shaders with all the commas and line breaks. I thought of writing my shaders as a raw text file resource so I could make use of indentation etc. and write a function to load the shaders from the text file into a String before compiling at run time. What are the key things to consider or risks in doing it this way?</p>\n<p>I'm assuming intellectual property is the main risk, but assuming keeping the source code secret isn't a big deal, any others?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637274957,"post_id":70027469,"comment_id":123790028,"body_markdown":"I think the next step is to do a similar statement to collect the minimum salary of each department. Then try to combine the two together.","body":"I think the next step is to do a similar statement to collect the minimum salary of each department. Then try to combine the two together."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637275167,"post_id":70027469,"comment_id":123790088,"body_markdown":"As for applying a filter, you should be able to add `.stream().filter()` to what you have so far.","body":"As for applying a filter, you should be able to add <code>.stream().filter()</code> to what you have so far."}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637274956,"creation_date":1637274378,"answer_id":70027534,"question_id":70027469,"body_markdown":"      HashMap&lt;String, Long&gt; collect = employees\r\n                    .stream()\r\n                    .filter(e-&gt; e.getSalary() &gt;= 100 &amp;&amp; e.getDeparment().getEmployees().size &gt;= 30)\r\n\r\nI don&#39;t know your getters but you get the point. In the end just collect it to map","title":"How to apply double filter in java streams?","body":"<pre><code>  HashMap&lt;String, Long&gt; collect = employees\n                .stream()\n                .filter(e-&gt; e.getSalary() &gt;= 100 &amp;&amp; e.getDeparment().getEmployees().size &gt;= 30)\n</code></pre>\n<p>I don't know your getters but you get the point. In the end just collect it to map</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637275107,"creation_date":1637275107,"answer_id":70027642,"question_id":70027469,"body_markdown":"The following should do the trick:\r\n```java\r\nSet&lt;String&gt; departments = employees.stream()\r\n        .filter(employee -&gt; employee.getSalary() &gt;= 100)\r\n        .collect(Collectors.groupingBy(Employee::getDepartment, HashMap::new, Collectors.counting()))\r\n        .entrySet().stream().filter(entry -&gt; entry.getValue() &gt;= 30)\r\n        .map(Map.Entry::getKey)\r\n        .collect(Collectors.toSet());\r\n```\r\n\r\nYou start by filtering out the employees that have a `salary` of less than 100. Then you group the employees by `department` and count the number of `employees` in the `department`. Finally, you need to filter out all departments that have less than 30 employees and map the final result to a `Set`.","title":"How to apply double filter in java streams?","body":"<p>The following should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; departments = employees.stream()\n        .filter(employee -&gt; employee.getSalary() &gt;= 100)\n        .collect(Collectors.groupingBy(Employee::getDepartment, HashMap::new, Collectors.counting()))\n        .entrySet().stream().filter(entry -&gt; entry.getValue() &gt;= 30)\n        .map(Map.Entry::getKey)\n        .collect(Collectors.toSet());\n</code></pre>\n<p>You start by filtering out the employees that have a <code>salary</code> of less than 100. Then you group the employees by <code>department</code> and count the number of <code>employees</code> in the <code>department</code>. Finally, you need to filter out all departments that have less than 30 employees and map the final result to a <code>Set</code>.</p>\n"}],"owner":{"account_id":23386393,"reputation":3,"user_id":17451680,"display_name":"Tango12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70027642,"answer_count":2,"score":0,"last_activity_date":1637276612,"creation_date":1637273917,"question_id":70027469,"body_markdown":"I have an Employee class having salary and department and a employee list.\r\n\r\n```\r\nstatic class Employee {\r\n    private String department;\r\n    private int salary;\r\n\r\n    //getters\r\n    getDeparment()\r\n    getSalary()\r\n}\r\n\r\nList&lt;Employee&gt;\r\n\r\n```\r\n\r\nI need to find the number of departments with minimum 30 employees having paid minimum of 100 as salary.\r\n\r\nSo far I have got this which gives me number of employees per department. But I&#39;m not sure how to apply the filters.\r\n\r\n```\r\nHashMap&lt;String, Long&gt; collect = employees\r\n            .stream()\r\n            .collect(Collectors.groupingBy(Employee::getDepartment, HashMap::new, Collectors.counting()));\r\n\r\n``` \r\nAny help would be appreciated.","title":"How to apply double filter in java streams?","body":"<p>I have an Employee class having salary and department and a employee list.</p>\n<pre><code>static class Employee {\n    private String department;\n    private int salary;\n\n    //getters\n    getDeparment()\n    getSalary()\n}\n\nList&lt;Employee&gt;\n\n</code></pre>\n<p>I need to find the number of departments with minimum 30 employees having paid minimum of 100 as salary.</p>\n<p>So far I have got this which gives me number of employees per department. But I'm not sure how to apply the filters.</p>\n<pre><code>HashMap&lt;String, Long&gt; collect = employees\n            .stream()\n            .collect(Collectors.groupingBy(Employee::getDepartment, HashMap::new, Collectors.counting()));\n\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11770076,"reputation":131,"user_id":8613355,"display_name":"Mert &#199;alışkany&#252;rek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637275893,"creation_date":1637275893,"answer_id":70027745,"question_id":70027321,"body_markdown":"Try to implement RecognitionListener to your service with \r\n\r\n    public class SttService extends Service implements RecognitionListener \r\n\r\nand override neccecary methods. And then set recognitionListener to your service;\r\n\r\n    mSpeechRecognizer.setRecognitionListener(this);\r\n\r\nYou will see &quot;A sign&quot; message from your system.","title":"RecognitionListener is getting ignored","body":"<p>Try to implement RecognitionListener to your service with</p>\n<pre><code>public class SttService extends Service implements RecognitionListener \n</code></pre>\n<p>and override neccecary methods. And then set recognitionListener to your service;</p>\n<pre><code>mSpeechRecognizer.setRecognitionListener(this);\n</code></pre>\n<p>You will see &quot;A sign&quot; message from your system.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637275893,"creation_date":1637273014,"question_id":70027321,"body_markdown":"In the background of my application, I would like to use speech recognition. The goal is to say &quot;Hey app&quot; and the app should be listening to what I say and return a string. So basically the same as Google Assistant.\r\n\r\nSo to run that app in the background, I have created this service class:\r\n\r\n``` java\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.IBinder;\r\nimport android.speech.RecognitionListener;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class SttService extends Service {\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        System.out.println(&quot;I am running!&quot;);\r\n\r\n        SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n        mSpeechRecognizer.setRecognitionListener(new SttListener());\r\n\r\n        Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        mSpeechRecognizerIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n        startActivity(mSpeechRecognizerIntent);\r\n\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        System.out.println(&quot;A sign&quot;);\r\n        return null;\r\n    }\r\n\r\n    protected class SttListener implements RecognitionListener {\r\n        @Override\r\n        public void onReadyForSpeech(Bundle params) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onBeginningOfSpeech() {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onRmsChanged(float rmsdB) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onBufferReceived(byte[] buffer) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onEndOfSpeech() {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onError(int error) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onResults(Bundle results) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onPartialResults(Bundle partialResults) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onEvent(int eventType, Bundle params) {\r\n            System.out.println(&quot;A sign&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nSo I see that the service is running since I get the message &quot;I am running!&quot; but nothing else happens. So in that case my intent and my class `SttListener` are not doing anything.\r\n\r\nWhat&#39;s wrong with my code?","title":"RecognitionListener is getting ignored","body":"<p>In the background of my application, I would like to use speech recognition. The goal is to say &quot;Hey app&quot; and the app should be listening to what I say and return a string. So basically the same as Google Assistant.</p>\n<p>So to run that app in the background, I have created this service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\n\nimport androidx.annotation.Nullable;\n\npublic class SttService extends Service {\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        System.out.println(&quot;I am running!&quot;);\n\n        SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n        mSpeechRecognizer.setRecognitionListener(new SttListener());\n\n        Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        mSpeechRecognizerIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n        startActivity(mSpeechRecognizerIntent);\n\n        return START_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        System.out.println(&quot;A sign&quot;);\n        return null;\n    }\n\n    protected class SttListener implements RecognitionListener {\n        @Override\n        public void onReadyForSpeech(Bundle params) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onBeginningOfSpeech() {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onRmsChanged(float rmsdB) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onBufferReceived(byte[] buffer) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onEndOfSpeech() {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onError(int error) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onResults(Bundle results) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onPartialResults(Bundle partialResults) {\n            System.out.println(&quot;A sign&quot;);\n        }\n\n        @Override\n        public void onEvent(int eventType, Bundle params) {\n            System.out.println(&quot;A sign&quot;);\n        }\n    }\n}\n</code></pre>\n<p>So I see that the service is running since I get the message &quot;I am running!&quot; but nothing else happens. So in that case my intent and my class <code>SttListener</code> are not doing anything.</p>\n<p>What's wrong with my code?</p>\n"},{"tags":["javascript","java"],"answers":[{"tags":[],"owner":{"account_id":12808535,"reputation":112,"user_id":9267468,"display_name":"F. Vorontsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637275857,"creation_date":1637275857,"answer_id":70027740,"question_id":70027313,"body_markdown":"Something like this\r\n\r\n    package com.vorontsov.tbe.main;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.HexFormat;\r\n    \r\n    public class KunaSignatureGenerator {\r\n        private static final String ALGORITHM = &quot;HmacSHA384&quot;;\r\n        private static final String API_PATH = &quot;/v3/auth/kuna_codes/issued-by-me&quot;;\r\n        private static final String SECRET_KEY = &quot;secret&quot;;\r\n    \r\n        public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\r\n            var signature = new KunaSignatureGenerator().generateSignature(new RequestParams(&quot;stringVal&quot;));\r\n            System.out.println(signature);\r\n        }\r\n    \r\n        private String generateSignature(RequestParams requestParams) throws NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\r\n            var nonce = &quot;&quot; + System.currentTimeMillis();\r\n            var body = new ObjectMapper().writeValueAsString(requestParams);\r\n    \r\n            final String signatureString = API_PATH + nonce + body;\r\n    \r\n            SecretKeySpec signingKey = new SecretKeySpec(SECRET_KEY.getBytes(), ALGORITHM);\r\n            final Mac mac = Mac.getInstance(ALGORITHM);\r\n            mac.init(signingKey);\r\n    \r\n            return HexFormat.of().formatHex(mac.doFinal(signatureString.getBytes()));\r\n        }\r\n    \r\n        private static record RequestParams(@JsonProperty(&quot;stringParam&quot;) String stringParams) {\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Generating signin KEY in Java for Post request","body":"<p>Something like this</p>\n<pre><code>package com.vorontsov.tbe.main;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.HexFormat;\n\npublic class KunaSignatureGenerator {\n    private static final String ALGORITHM = &quot;HmacSHA384&quot;;\n    private static final String API_PATH = &quot;/v3/auth/kuna_codes/issued-by-me&quot;;\n    private static final String SECRET_KEY = &quot;secret&quot;;\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\n        var signature = new KunaSignatureGenerator().generateSignature(new RequestParams(&quot;stringVal&quot;));\n        System.out.println(signature);\n    }\n\n    private String generateSignature(RequestParams requestParams) throws NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\n        var nonce = &quot;&quot; + System.currentTimeMillis();\n        var body = new ObjectMapper().writeValueAsString(requestParams);\n\n        final String signatureString = API_PATH + nonce + body;\n\n        SecretKeySpec signingKey = new SecretKeySpec(SECRET_KEY.getBytes(), ALGORITHM);\n        final Mac mac = Mac.getInstance(ALGORITHM);\n        mac.init(signingKey);\n\n        return HexFormat.of().formatHex(mac.doFinal(signatureString.getBytes()));\n    }\n\n    private static record RequestParams(@JsonProperty(&quot;stringParam&quot;) String stringParams) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23385986,"reputation":1,"user_id":17451333,"display_name":"Xleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637275857,"creation_date":1637272977,"question_id":70027313,"body_markdown":"I need to send a POST request to `api.example.com`. I need to generate singin KEY to send a POST request. The KEY  must be generated by the following formula\r\n\r\n    HEX (HMAC-SHA384({apiPath} + {nonce} + JSON({body}),{secretKey}))\r\n\r\nI&#39;ve found a sample of Javascript code how to genereate signing key\r\n\r\n    javascript\r\n    const crypto = require(&#39;crypto&#39;);\r\n    \r\n    const publicKey = &#39;&#39;;\r\n    const secretKey = &#39;&#39;;\r\n    \r\n    const apiPath = &#39;/v3/auth/kuna_codes/issued-by-me&#39;;\r\n    const nonce = new Date().getTime();\r\n    const body = {};\r\n    \r\n    const signatureString = `${apiPath}${nonce}${JSON.stringify(body)}`;\r\n    \r\n    const signature = crypto\r\n        .createHmac(&#39;sha384&#39;, secretKey)\r\n        .update(signatureString)\r\n        .digest(&#39;hex&#39;);\r\n    \r\n    console.log(signature);\r\n\r\n\r\n\r\nI need a Java code that generates a signing key  by the formula provided above","title":"Generating signin KEY in Java for Post request","body":"<p>I need to send a POST request to <code>api.example.com</code>. I need to generate singin KEY to send a POST request. The KEY  must be generated by the following formula</p>\n<pre><code>HEX (HMAC-SHA384({apiPath} + {nonce} + JSON({body}),{secretKey}))\n</code></pre>\n<p>I've found a sample of Javascript code how to genereate signing key</p>\n<pre><code>javascript\nconst crypto = require('crypto');\n\nconst publicKey = '';\nconst secretKey = '';\n\nconst apiPath = '/v3/auth/kuna_codes/issued-by-me';\nconst nonce = new Date().getTime();\nconst body = {};\n\nconst signatureString = `${apiPath}${nonce}${JSON.stringify(body)}`;\n\nconst signature = crypto\n    .createHmac('sha384', secretKey)\n    .update(signatureString)\n    .digest('hex');\n\nconsole.log(signature);\n</code></pre>\n<p>I need a Java code that generates a signing key  by the formula provided above</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637274658,"post_id":70027248,"comment_id":123789945,"body_markdown":"My code however, would not work until I replaced &quot;\\&quot; with &quot;/&quot;","body":"My code however, would not work until I replaced &quot;\\&quot; with &quot;/&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637273187,"creation_date":1637273187,"answer_id":70027347,"question_id":70027248,"body_markdown":"When you call \r\n\r\n    String filePath = new File(fileName).getAbsolutePath();\r\nyou are creating file in your root directory of the project and then getting that path instead of the file you already have and want to get","title":"Java - File IO - AbsolutePath() does not return the path to the file","body":"<p>When you call</p>\n<pre><code>String filePath = new File(fileName).getAbsolutePath();\n</code></pre>\n<p>you are creating file in your root directory of the project and then getting that path instead of the file you already have and want to get</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637275624,"creation_date":1637275624,"answer_id":70027713,"question_id":70027248,"body_markdown":"This should be sufficient in your case:\r\n\r\n      Scanner s = new Scanner(new File(fileName));\r\n\r\nAlso ensure when handling errors you share all the information you have: Print the file that was not found. You will see that this makes troubleshooting just so much easier.\r\n\r\n    catch(FileNotFoundException e){\r\n        System.out.println(&quot;File not found.&quot;);\r\n        e.printStackTrace(System.out);\r\n    }","title":"Java - File IO - AbsolutePath() does not return the path to the file","body":"<p>This should be sufficient in your case:</p>\n<pre><code>  Scanner s = new Scanner(new File(fileName));\n</code></pre>\n<p>Also ensure when handling errors you share all the information you have: Print the file that was not found. You will see that this makes troubleshooting just so much easier.</p>\n<pre><code>catch(FileNotFoundException e){\n    System.out.println(&quot;File not found.&quot;);\n    e.printStackTrace(System.out);\n}\n</code></pre>\n"}],"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70027347,"answer_count":2,"score":-1,"last_activity_date":1637275624,"creation_date":1637272611,"question_id":70027248,"body_markdown":"I have been trying to get this method working for the past few days always coming back to the same problem. My file won&#39;t open unless the file path is specified and formatted. \r\n\r\nThis is my code:\r\n\r\n    text = new MyArrayList&lt;&gt;();\r\n        String filePath = new File(fileName).getAbsolutePath();\r\n        filePath = filePath.replace(&#39;\\\\&#39;, &#39;/&#39;);\r\n        try {\r\n          Scanner s = new Scanner(new File(filePath));\r\n          while (s.hasNext()) {\r\n            text.add(s.next());\r\n          }\r\n          s.close();\r\n        }\r\n        catch(FileNotFoundException e){\r\n          System.out.println(&quot;File not found.&quot;);\r\n        }\r\n\r\nFor some reason when I invoke the getAbsolutePath(), it gives me this path : &quot;C:/Zaid/College/CE2336/Programs/File.txt&quot;\r\n\r\nwhereas the file path that actually allows me to access the file is: \r\n&quot;C:/Zaid/College/CE2336/Programs/MyImplementations/File.txt&quot;\r\n\r\nI don&#39;t understand what I should do to clean this up. \r\n\r\nP.S. The MyImplementations is the package where the text file and my code reside in.\r\n\r\n","title":"Java - File IO - AbsolutePath() does not return the path to the file","body":"<p>I have been trying to get this method working for the past few days always coming back to the same problem. My file won't open unless the file path is specified and formatted.</p>\n<p>This is my code:</p>\n<pre><code>text = new MyArrayList&lt;&gt;();\n    String filePath = new File(fileName).getAbsolutePath();\n    filePath = filePath.replace('\\\\', '/');\n    try {\n      Scanner s = new Scanner(new File(filePath));\n      while (s.hasNext()) {\n        text.add(s.next());\n      }\n      s.close();\n    }\n    catch(FileNotFoundException e){\n      System.out.println(&quot;File not found.&quot;);\n    }\n</code></pre>\n<p>For some reason when I invoke the getAbsolutePath(), it gives me this path : &quot;C:/Zaid/College/CE2336/Programs/File.txt&quot;</p>\n<p>whereas the file path that actually allows me to access the file is:\n&quot;C:/Zaid/College/CE2336/Programs/MyImplementations/File.txt&quot;</p>\n<p>I don't understand what I should do to clean this up.</p>\n<p>P.S. The MyImplementations is the package where the text file and my code reside in.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1637274843,"post_id":70027579,"comment_id":123790003,"body_markdown":"It is a `String regex = &quot;\\\\$\\\\{([^{}]*)\\\\}&quot;;`","body":"It is a <code>String regex = &quot;\\\\$\\\\{([^{}]*)\\\\}&quot;;</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637274974,"post_id":70027579,"comment_id":123790032,"body_markdown":"The original solution has a problem with strings like `lore epsum dimsum ${ITEM_NAME} wonton ${ANOTHER_NAME} kimchi`, Wiktor&#39;s solution is better.","body":"The original solution has a problem with strings like <code>lore epsum dimsum ${ITEM_NAME} wonton ${ANOTHER_NAME} kimchi</code>, Wiktor&#39;s solution is better."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637275144,"creation_date":1637275144,"answer_id":70027648,"question_id":70027579,"body_markdown":"With `{(.*.*)}` pattern, you extract any substrings between the leftmost `{` and rightmost `}`.\r\n\r\nYou need\r\n```java\r\n\\$\\{([^{}]*)\\}\r\n```\r\nIn Java:\r\n```java\r\nString regex = &quot;\\\\$\\\\{([^{}]*)\\\\}&quot;;\r\n```\r\nSee the [regex demo][1].\r\n\r\nIf there is an explicit requirement to only match alphanumeric/underscore chars inside `${...}`, you can replace `[^{}]*` with `\\w+` / `\\w*` pattern (doubling the backslashes in Java string literal).\r\n\r\nSee the [Java demo][2]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString text = &quot;lore epsum dimsum ${ITEM_NAME} wonton kimchi ${ITEM_NAME_2}&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;\\\\$\\\\{([^{}]*)}&quot;);\r\n\t    Matcher m = p.matcher(text);\r\n\t    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t    while(m.find()) {\r\n\t    \tres.add(m.group(1));\r\n\t    }\r\n\t    System.out.println(res);\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\n[ITEM_NAME, ITEM_NAME_2]\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/qvKEzH/1\r\n  [2]: https://ideone.com/jMMCCa","title":"Extracting contents of placeholders inside curly braces prefixed with dollar symbol","body":"<p>With <code>{(.*.*)}</code> pattern, you extract any substrings between the leftmost <code>{</code> and rightmost <code>}</code>.</p>\n<p>You need</p>\n<pre class=\"lang-java prettyprint-override\"><code>\\$\\{([^{}]*)\\}\n</code></pre>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\$\\\\{([^{}]*)\\\\}&quot;;\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/qvKEzH/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>If there is an explicit requirement to only match alphanumeric/underscore chars inside <code>${...}</code>, you can replace <code>[^{}]*</code> with <code>\\w+</code> / <code>\\w*</code> pattern (doubling the backslashes in Java string literal).</p>\n<p>See the <a href=\"https://ideone.com/jMMCCa\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String text = &quot;lore epsum dimsum ${ITEM_NAME} wonton kimchi ${ITEM_NAME_2}&quot;;\n        Pattern p = Pattern.compile(&quot;\\\\$\\\\{([^{}]*)}&quot;);\n        Matcher m = p.matcher(text);\n        List&lt;String&gt; res = new ArrayList&lt;&gt;();\n        while(m.find()) {\n            res.add(m.group(1));\n        }\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[ITEM_NAME, ITEM_NAME_2]\n</code></pre>\n"}],"owner":{"account_id":11655376,"reputation":27,"user_id":8535258,"display_name":"Farhan Shafi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70027648,"answer_count":1,"score":2,"last_activity_date":1637275539,"creation_date":1637274690,"question_id":70027579,"body_markdown":"Lets say I have a string `&quot;lore epsum dimsum ${ITEM_NAME} wonton kimchi&quot;`.\r\n\r\nI have created a regex that can extract `${ITEM_NAME}` from anywhere in the string. That regex is, `.{(.*.*)}`.\r\n\r\nHow can I customize this regex to extract just the string between `${}` which is `ITEM_NAME`?","title":"Extracting contents of placeholders inside curly braces prefixed with dollar symbol","body":"<p>Lets say I have a string <code>&quot;lore epsum dimsum ${ITEM_NAME} wonton kimchi&quot;</code>.</p>\n<p>I have created a regex that can extract <code>${ITEM_NAME}</code> from anywhere in the string. That regex is, <code>.{(.*.*)}</code>.</p>\n<p>How can I customize this regex to extract just the string between <code>${}</code> which is <code>ITEM_NAME</code>?</p>\n"},{"tags":["java","spring","aop","aspectj"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1496646699,"post_id":44363517,"comment_id":75728458,"body_markdown":"Spring uses proxies for AOP, only method calls INTO the object are intercepted, internal method calls aren&#39;t intercepted.","body":"Spring uses proxies for AOP, only method calls INTO the object are intercepted, internal method calls aren&#39;t intercepted."},{"owner":{"account_id":902142,"reputation":147,"user_id":937993,"accept_rate":50,"display_name":"Prashant Chindhade"},"score":0,"creation_date":1496646808,"post_id":44363517,"comment_id":75728514,"body_markdown":"I have changed private method to public. Still not working for me.","body":"I have changed private method to public. Still not working for me."},{"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"score":0,"creation_date":1496647080,"post_id":44363517,"comment_id":75728660,"body_markdown":"Add a self controller filed named `self` with Annotation `@Autowire` in the code.And call the `executeService` like &#39;self.executeService`","body":"Add a self controller filed named <code>self</code> with Annotation <code>@Autowire</code> in the code.And call the <code>executeService</code> like &#39;self.executeService`"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496650627,"post_id":44363517,"comment_id":75730375,"body_markdown":"Read the comment.. Regardless of the modifier it is still an **internal** method call.","body":"Read the comment.. Regardless of the modifier it is still an <b>internal</b> method call."}],"answers":[{"tags":[],"owner":{"account_id":4165923,"reputation":86,"user_id":3414897,"display_name":"T L Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496647022,"creation_date":1496647022,"answer_id":44363629,"question_id":44363517,"body_markdown":"You need to @RequestMapping(value = &quot;URL&quot;, method = RequestMethod.POST) direct to \r\nexecuteService then its work.\r\n","title":"Aspectj Pointcut expression not working for one method and working for another method in single class","body":"<p>You need to @RequestMapping(value = \"URL\", method = RequestMethod.POST) direct to \nexecuteService then its work.</p>\n"},{"tags":[],"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496647955,"creation_date":1496647597,"answer_id":44363805,"question_id":44363517,"body_markdown":"\r\nBecause the `AOP` not intercept internal call ,so you can add a self-controller field,and call the internal method by `self.method(...)`.\r\nFollowing code:\r\n\r\n    @Controller\r\n    public class ExampleController{\r\n\r\n        @Autowired\r\n        private ExampleController self;\r\n\r\n        @RequestMapping(value = &quot;URL&quot;, method = RequestMethod.POST)\r\n        public ModelAndView controllerMethod(@ModelAttribute ModelAttribute reqModel, HttpServletRequest req, HttpServletResponse res) {\r\n\r\n            try {\r\n                response = self.executeService(param1, param2);\r\n\r\n            } catch (Exception e) {\r\n\r\n            }\r\n\r\n        }\r\n        public ResponseObject executeService(String param1, String param2){\r\n            //Code....\r\n        }\r\n    }","title":"Aspectj Pointcut expression not working for one method and working for another method in single class","body":"<p>Because the <code>AOP</code> not intercept internal call ,so you can add a self-controller field,and call the internal method by <code>self.method(...)</code>.\nFollowing code:</p>\n\n<pre><code>@Controller\npublic class ExampleController{\n\n    @Autowired\n    private ExampleController self;\n\n    @RequestMapping(value = \"URL\", method = RequestMethod.POST)\n    public ModelAndView controllerMethod(@ModelAttribute ModelAttribute reqModel, HttpServletRequest req, HttpServletResponse res) {\n\n        try {\n            response = self.executeService(param1, param2);\n\n        } catch (Exception e) {\n\n        }\n\n    }\n    public ResponseObject executeService(String param1, String param2){\n        //Code....\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637275303,"creation_date":1496648051,"answer_id":44363946,"question_id":44363517,"body_markdown":"Although our colleagues have provided correct answers, I&#39;ll summarize.\r\n\r\nWhen it comes to aspects implementation, spring generates a proxy that wraps your controller. The proxy is implemented in a way that it has special hooks to invoke aspects before and after the class (or around, altering the flow altogether).\r\n\r\n Spring uses two different strategies for proxy generation:\r\n\r\n - java.lang.Proxy based\r\n - CGLIB based\r\n\r\nThe first one is in general better, faster but works only with interfaces. The generated proxy is &quot;something&quot; that implements all the methods of the interface. The implementation methods contain those hooks I&#39;ve talked before, but since the methods are only methods in the interface they have to be `public`\r\n\r\nCGLIB - is slower, but it can work with classes as well (with some restrictions though). The way it works is sub-classing the parent class and overriding the methods provided by the super class. This new method (let&#39;s call it *foo*) will call all the hooks and somewhere in code if needed will call `super.foo()`.\r\n\r\nNow, obviously this can&#39;t really work with private methods because its impossible to override private methods. \r\nThat&#39;s why my colleagues have pointed that `private` won&#39;t work here.\r\n\r\nNow regarding the self injection stuff:\r\n\r\nWhen you&#39;re inside the method of original controller and you&#39;re trying to call just another method (even if its public), you&#39;re not working with proxy any more, you&#39;re kind of behind the proxy and work with original class. So this means that you won&#39;t be able to take advantage of &quot;enhanced&quot; method.\r\n\r\nThat&#39;s why there is a self injection - you can see (with debugger for example) that the self-injected dependency is actually a dependency with all the proxies, that&#39;s why it starts to work.\r\n\r\nAnother workaround is to refactor the method to another Spring bean, inject this bean to your controller, and provide a definition for that bean.\r\n","title":"Aspectj Pointcut expression not working for one method and working for another method in single class","body":"<p>Although our colleagues have provided correct answers, I'll summarize.</p>\n<p>When it comes to aspects implementation, spring generates a proxy that wraps your controller. The proxy is implemented in a way that it has special hooks to invoke aspects before and after the class (or around, altering the flow altogether).</p>\n<p>Spring uses two different strategies for proxy generation:</p>\n<ul>\n<li>java.lang.Proxy based</li>\n<li>CGLIB based</li>\n</ul>\n<p>The first one is in general better, faster but works only with interfaces. The generated proxy is &quot;something&quot; that implements all the methods of the interface. The implementation methods contain those hooks I've talked before, but since the methods are only methods in the interface they have to be <code>public</code></p>\n<p>CGLIB - is slower, but it can work with classes as well (with some restrictions though). The way it works is sub-classing the parent class and overriding the methods provided by the super class. This new method (let's call it <em>foo</em>) will call all the hooks and somewhere in code if needed will call <code>super.foo()</code>.</p>\n<p>Now, obviously this can't really work with private methods because its impossible to override private methods.\nThat's why my colleagues have pointed that <code>private</code> won't work here.</p>\n<p>Now regarding the self injection stuff:</p>\n<p>When you're inside the method of original controller and you're trying to call just another method (even if its public), you're not working with proxy any more, you're kind of behind the proxy and work with original class. So this means that you won't be able to take advantage of &quot;enhanced&quot; method.</p>\n<p>That's why there is a self injection - you can see (with debugger for example) that the self-injected dependency is actually a dependency with all the proxies, that's why it starts to work.</p>\n<p>Another workaround is to refactor the method to another Spring bean, inject this bean to your controller, and provide a definition for that bean.</p>\n"}],"owner":{"account_id":902142,"reputation":147,"user_id":937993,"accept_rate":50,"display_name":"Prashant Chindhade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44363805,"answer_count":3,"score":1,"last_activity_date":1637275303,"creation_date":1496646599,"question_id":44363517,"body_markdown":"I have written below code in controller.\r\n\r\nFor this **controllerMethod** method the aspectj Pointcut expression is working fine but for **executeService** method Aspect is not working.\r\n\r\n    @RequestMapping(value = &quot;URL&quot;, method = RequestMethod.POST)\r\n\tpublic ModelAndView controllerMethod(@ModelAttribute ModelAttribute reqModel, HttpServletRequest req, HttpServletResponse res) {\r\n\r\n\t\ttry {\r\n\t\t\tresponse = executeService(param1, param2);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t}\t\t\r\n\tprivate ResponseObject executeService(String param1, String param2){\r\n\t\t//Code....\r\n\t}\r\n\r\nI have written the aspect as below.\r\n\r\n    @Before(&quot;execution(* com.*.*.Controller.executeService(..))&quot;)\r\n\tpublic void logBefore(JoinPoint joinPoint) {\r\n\t\tlogger.info(&quot;Before aspect: &quot; + joinPoint.getSignature().getName());\r\n\t}\r\n\r\nCan you please let me know where is the issues. I need to execute aspect before calling **executeService** method.\r\n\r\n","title":"Aspectj Pointcut expression not working for one method and working for another method in single class","body":"<p>I have written below code in controller.</p>\n\n<p>For this <strong>controllerMethod</strong> method the aspectj Pointcut expression is working fine but for <strong>executeService</strong> method Aspect is not working.</p>\n\n<pre><code>@RequestMapping(value = \"URL\", method = RequestMethod.POST)\npublic ModelAndView controllerMethod(@ModelAttribute ModelAttribute reqModel, HttpServletRequest req, HttpServletResponse res) {\n\n    try {\n        response = executeService(param1, param2);\n\n    } catch (Exception e) {\n\n    }\n\n    }       \nprivate ResponseObject executeService(String param1, String param2){\n    //Code....\n}\n</code></pre>\n\n<p>I have written the aspect as below.</p>\n\n<pre><code>@Before(\"execution(* com.*.*.Controller.executeService(..))\")\npublic void logBefore(JoinPoint joinPoint) {\n    logger.info(\"Before aspect: \" + joinPoint.getSignature().getName());\n}\n</code></pre>\n\n<p>Can you please let me know where is the issues. I need to execute aspect before calling <strong>executeService</strong> method.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1637273709,"post_id":70027405,"comment_id":123789725,"body_markdown":"Not a great plan. Those fields should be `static`. And defined where the exception is thrown. The principle you are violating is called [Separation of Concerns](https://en.wikipedia.org/wiki/Separation_of_concerns).","body":"Not a great plan. Those fields should be <code>static</code>. And defined where the exception is thrown. The principle you are violating is called <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation of Concerns</a>."},{"owner":{"account_id":21554967,"reputation":101,"user_id":16052273,"display_name":"Isabel Lopez"},"score":0,"creation_date":1637274634,"post_id":70027405,"comment_id":123789938,"body_markdown":"Obrigado Joao! I understand now how to do it","body":"Obrigado Joao! I understand now how to do it"}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637274072,"creation_date":1637274072,"answer_id":70027491,"question_id":70027405,"body_markdown":"The code creating the exception could pass the message to the exception constructor:\r\n\r\n    if (price &lt; 0) {\r\n        throw new CustomException(&quot;Price is negative!&quot;);\r\n    }\r\n\r\nOr, if you feel that this code shouldn&#39;t know about the exception message, you could use dedicated exception classes:\r\n\r\n    if (price &lt; 0) {\r\n        throw new NegativePriceException();\r\n    }\r\n\r\nand\r\n\r\n    class NegativePriceException extends CustomException {\r\n        NegativePriceException() {\r\n            super(&quot;Price is negative!&quot;);\r\n        }\r\n    }","title":"Custom Exception handling several error messages","body":"<p>The code creating the exception could pass the message to the exception constructor:</p>\n<pre><code>if (price &lt; 0) {\n    throw new CustomException(&quot;Price is negative!&quot;);\n}\n</code></pre>\n<p>Or, if you feel that this code shouldn't know about the exception message, you could use dedicated exception classes:</p>\n<pre><code>if (price &lt; 0) {\n    throw new NegativePriceException();\n}\n</code></pre>\n<p>and</p>\n<pre><code>class NegativePriceException extends CustomException {\n    NegativePriceException() {\n        super(&quot;Price is negative!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11770076,"reputation":131,"user_id":8613355,"display_name":"Mert &#199;alışkany&#252;rek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637274565,"creation_date":1637274107,"answer_id":70027495,"question_id":70027405,"body_markdown":"Add the static and final words to your EXCEPTION strings. Then you can access them outside of the class. After that, you can throw your CustomException with your own message. For example;\r\n\r\n    throw new CustomException(CustomException.EXCEPTION _PRICE);\r\n\r\nOr I suggest that you create a new class for each exception and throw it. For example;\r\n\r\n    class PriceNegativeException extends Exception {\r\n        \r\n        public PriceNegativeException() {\r\n           super(&quot;[ERROR] Price cannot be negative&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nand than throw that in your method;\r\n\r\n    throw new PriceNegativeException();\r\n\r\nThis is a better approach for Exception Handling;","title":"Custom Exception handling several error messages","body":"<p>Add the static and final words to your EXCEPTION strings. Then you can access them outside of the class. After that, you can throw your CustomException with your own message. For example;</p>\n<pre><code>throw new CustomException(CustomException.EXCEPTION _PRICE);\n</code></pre>\n<p>Or I suggest that you create a new class for each exception and throw it. For example;</p>\n<pre><code>class PriceNegativeException extends Exception {\n    \n    public PriceNegativeException() {\n       super(&quot;[ERROR] Price cannot be negative&quot;);\n    }\n\n}\n</code></pre>\n<p>and than throw that in your method;</p>\n<pre><code>throw new PriceNegativeException();\n</code></pre>\n<p>This is a better approach for Exception Handling;</p>\n"}],"owner":{"account_id":21554967,"reputation":101,"user_id":16052273,"display_name":"Isabel Lopez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70027495,"answer_count":2,"score":2,"last_activity_date":1637274565,"creation_date":1637273545,"question_id":70027405,"body_markdown":"I am learning Java at the university. I am trying to solve a problem but I&#39;m not finding the solution. Hope you can help!\r\n\r\nI have to build a subclass that is inheriting from the java class Exception to create a custom exception. In this subclass, I have to define 4 different error messages. In another class, there are 4 methods that will call the subclass whenever they throw an exception. Depending on the method a different error message needs to be selected. How can I do that? How can I select the right message based on the function that throws the error?\r\n\r\nThanks in advance,\r\n\r\n```java\r\npublic class CustomException extends Exception{\r\n\r\n    public String EXCEPTION_NAME = &quot;[ERROR] Name cannot be longer than 10 characters&quot;;\r\n    public String EXCEPTION_YEAR = &quot;[ERROR] Year cannot be later than current year&quot;;\r\n    public String EXCEPTION_DESCRIPTION = &quot;[ERROR] Description cannot be longer than 50 characters&quot;;\r\n    public String EXCEPTION_PRICE = &quot;[ERROR] Price cannot be negative&quot;;\r\n\r\n    public CustomException(){\r\n        super();\r\n    }\r\n\r\n    public CustomException(String msg){\r\n        super(msg);\r\n    }\r\n}\r\n```","title":"Custom Exception handling several error messages","body":"<p>I am learning Java at the university. I am trying to solve a problem but I'm not finding the solution. Hope you can help!</p>\n<p>I have to build a subclass that is inheriting from the java class Exception to create a custom exception. In this subclass, I have to define 4 different error messages. In another class, there are 4 methods that will call the subclass whenever they throw an exception. Depending on the method a different error message needs to be selected. How can I do that? How can I select the right message based on the function that throws the error?</p>\n<p>Thanks in advance,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomException extends Exception{\n\n    public String EXCEPTION_NAME = &quot;[ERROR] Name cannot be longer than 10 characters&quot;;\n    public String EXCEPTION_YEAR = &quot;[ERROR] Year cannot be later than current year&quot;;\n    public String EXCEPTION_DESCRIPTION = &quot;[ERROR] Description cannot be longer than 50 characters&quot;;\n    public String EXCEPTION_PRICE = &quot;[ERROR] Price cannot be negative&quot;;\n\n    public CustomException(){\n        super();\n    }\n\n    public CustomException(String msg){\n        super(msg);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637278464,"post_id":70027541,"comment_id":123790842,"body_markdown":"What does &quot;Imported the jar into those 5 applications&quot; mean exactly?","body":"What does &quot;Imported the jar into those 5 applications&quot; mean exactly?"},{"owner":{"account_id":20655774,"reputation":47,"user_id":15164922,"display_name":"Upender Bikkumalla"},"score":0,"creation_date":1637290708,"post_id":70027541,"comment_id":123792947,"body_markdown":"It means, if we need that jar in a project, we add the dependency in the pom.xml and the jar is being installed in the local maven repo using the command: mvn install:install-file by providing -D attributes like groupId, artifactId, version and jar location. I do the same thing for all projects. We can also import jar to the project using build path-&gt; add external jar-&gt; choose the jar. I did try these two approaches but still got the same error.","body":"It means, if we need that jar in a project, we add the dependency in the pom.xml and the jar is being installed in the local maven repo using the command: mvn install:install-file by providing -D attributes like groupId, artifactId, version and jar location. I do the same thing for all projects. We can also import jar to the project using build path-&gt; add external jar-&gt; choose the jar. I did try these two approaches but still got the same error."}],"owner":{"account_id":20655774,"reputation":47,"user_id":15164922,"display_name":"Upender Bikkumalla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637274423,"creation_date":1637274423,"question_id":70027541,"body_markdown":"I am writing a spring boot bases application. There are 5 such separate projects and all of the projects share 100+ java files in common and I decided to make a jar out of these common java files.\r\nI have followed below steps to achieve this:\r\n1) Created jar with the common files.(Some are annotated with @Component and some are not)\r\n2) Imported the jar into those 5 applications and used @ComponentScan annotation to scan both the imported jar package and depended project package. This did not work so I have tried installing the jar in local maven repo and adding pom dependency of jar in pom.xml of depended project and still it did not work.\r\n\r\nThe issue I am facing is even after using the jar in the project, spring boot gives below error:\r\n\r\n        APPLICATION FAILED TO START\r\n    \r\n    Description:\r\n    \r\n    Field userService in main.java.rest.UsersController required a bean of type &#39;main.java.service.UserService&#39; that could not be found.\r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;main.java.service.Something&#39; in your configuration.\r\n\r\nBut I have annotated Something.java with @Component. \r\n\r\nI don&#39;t understand where am going wrong or if am missing something here. But it works when I write:\r\n\r\n    @Bean\r\n    public Something getSomething(){\r\n     return new Something();\r\n    } \r\n\r\nBut I cannot write such methods for 100+ components. Is there a way to get all beans scanned with one configuration class or any separate approach to achieve this?\r\n\r\nPossible duplicate of https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap, but I tried those approaches and still facing same error.","title":"Get Beans of package","body":"<p>I am writing a spring boot bases application. There are 5 such separate projects and all of the projects share 100+ java files in common and I decided to make a jar out of these common java files.\nI have followed below steps to achieve this:</p>\n<ol>\n<li>Created jar with the common files.(Some are annotated with @Component and some are not)</li>\n<li>Imported the jar into those 5 applications and used @ComponentScan annotation to scan both the imported jar package and depended project package. This did not work so I have tried installing the jar in local maven repo and adding pom dependency of jar in pom.xml of depended project and still it did not work.</li>\n</ol>\n<p>The issue I am facing is even after using the jar in the project, spring boot gives below error:</p>\n<pre><code>    APPLICATION FAILED TO START\n\nDescription:\n\nField userService in main.java.rest.UsersController required a bean of type 'main.java.service.UserService' that could not be found.\n\nAction:\n\nConsider defining a bean of type 'main.java.service.Something' in your configuration.\n</code></pre>\n<p>But I have annotated Something.java with @Component.</p>\n<p>I don't understand where am going wrong or if am missing something here. But it works when I write:</p>\n<pre><code>@Bean\npublic Something getSomething(){\n return new Something();\n} \n</code></pre>\n<p>But I cannot write such methods for 100+ components. Is there a way to get all beans scanned with one configuration class or any separate approach to achieve this?</p>\n<p>Possible duplicate of <a href=\"https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap\">&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb</a>, but I tried those approaches and still facing same error.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1635265611,"post_id":69726613,"comment_id":123248740,"body_markdown":"Are you looking to locate `Running` text node ?","body":"Are you looking to locate <code>Running</code> text node ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635266109,"post_id":69726613,"comment_id":123248945,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1635267965,"post_id":69726613,"comment_id":123249661,"body_markdown":"It&#39;s very hard to ask questions that people will understand unless you learn the right terminology. You&#39;re confused about the XML data model: element nodes, element names, text nodes, etc. You need to do some reading.","body":"It&#39;s very hard to ask questions that people will understand unless you learn the right terminology. You&#39;re confused about the XML data model: element nodes, element names, text nodes, etc. You need to do some reading."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1635273317,"post_id":69726613,"comment_id":123251704,"body_markdown":"You need to post the actual HTML from the page. Right now the HTML you&#39;ve posted is not valid... you&#39;ve pasted several &quot; == $0&quot; which is not HTML and your tags aren&#39;t closed properly.","body":"You need to post the actual HTML from the page. Right now the HTML you&#39;ve posted is not valid... you&#39;ve pasted several &quot; == $0&quot; which is not HTML and your tags aren&#39;t closed properly."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1635273461,"post_id":69726613,"comment_id":123251763,"body_markdown":"You need to add a tag for the language you are using along with your current code, what about the current code isn&#39;t working, any error messages, etc.","body":"You need to add a tag for the language you are using along with your current code, what about the current code isn&#39;t working, any error messages, etc."},{"owner":{"account_id":23150996,"reputation":11,"user_id":17253020,"display_name":"itsabhishk"},"score":0,"creation_date":1635320693,"post_id":69726613,"comment_id":123262788,"body_markdown":"I just gave you the reference to find xpath. I cannot copy paste whole html part as it is not allowed.","body":"I just gave you the reference to find xpath. I cannot copy paste whole html part as it is not allowed."},{"owner":{"account_id":23150996,"reputation":11,"user_id":17253020,"display_name":"itsabhishk"},"score":0,"creation_date":1635320952,"post_id":69726613,"comment_id":123262879,"body_markdown":"Whatever I saw upon inspecting element. I wrote that part as is.","body":"Whatever I saw upon inspecting element. I wrote that part as is."},{"owner":{"account_id":23150996,"reputation":11,"user_id":17253020,"display_name":"itsabhishk"},"score":0,"creation_date":1635321062,"post_id":69726613,"comment_id":123262937,"body_markdown":"My main doubt is - if I see text in a web page and that text doesn&#39;t have any tags nor opening nor closing. So how would I get that to my JAVA code.","body":"My main doubt is - if I see text in a web page and that text doesn&#39;t have any tags nor opening nor closing. So how would I get that to my JAVA code."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1635344409,"post_id":69726613,"comment_id":123273260,"body_markdown":"The text you want IS inside a tag... but the HTML you have posted is not valid. You don&#39;t have to post all the HTML, just a snippet but it needs to be valid so we can build locators.","body":"The text you want IS inside a tag... but the HTML you have posted is not valid. You don&#39;t have to post all the HTML, just a snippet but it needs to be valid so we can build locators."}],"answers":[{"tags":[],"owner":{"account_id":15971577,"reputation":389,"user_id":12865727,"display_name":"Faizan AlHassan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635267662,"creation_date":1635267662,"answer_id":69727213,"question_id":69726613,"body_markdown":"Basically, you&#39;re trying to get the text node.\r\n\r\nxpath: `&#39;//span/text()[last()]&#39;`\r\n\r\nExample:\r\n```\r\ndocument.evaluate(&quot;//span/text()[last()]&quot;, window.document, null, XPathResult.ANY_TYPE, null).iterateNext()\r\n \r\n// output: &quot; Running &quot;\r\n```","title":"How to locate element with no tag name in Selenium Webdriver Java","body":"<p>Basically, you're trying to get the text node.</p>\n<p>xpath: <code>'//span/text()[last()]'</code></p>\n<p>Example:</p>\n<pre><code>document.evaluate(&quot;//span/text()[last()]&quot;, window.document, null, XPathResult.ANY_TYPE, null).iterateNext()\n \n// output: &quot; Running &quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635343130,"creation_date":1635267873,"answer_id":69727244,"question_id":69726613,"body_markdown":"Looking at the element you have noted above, if I was trying to evaluate for a cucumber step, I would write this for selenium-java:\r\n\r\n```\r\n@And(&quot;^I can view the \\&quot;([^\\&quot;]*)\\&quot; image$&quot;)\r\n    public void iCanViewTheImage(String text) throws Throwable {\r\n        String imgXpath = &quot;//span[contains(text(),&#39;&quot; + text + &quot;&#39;) and contains(@id, &#39;UniversalRepositoryExplorer_treeNode7_name&#39;)]//img[@id=&#39;UniversalRepositoryExplorer_treeNodeIcon_7&#39;]&quot;\r\n        driver.findElement(By.xpath(imgXpath));\r\n        assertTrue(driver.findElement(By.xpath(imgXpath)).getText().contains(text));\r\n\r\n}\r\n```\r\nwhere the regex \\&quot;([^\\&quot;]*)\\&quot; would be &quot;Running&quot; in your cucumber step:\r\nAnd I can view the &quot;**Running**&quot; image\r\n\r\nYour xpath with the text based on the above will be:\r\n```\r\n//span[contains(text(),&#39;Running&#39;) and contains(@id, &#39;UniversalRepositoryExplorer_treeNode7_name&#39;)]//img[@id=&#39;UniversalRepositoryExplorer_treeNodeIcon_7&#39;]\r\n```\r\nor simply\r\n```\r\n//span[contains(text(),&#39;Running&#39;) and contains(@id, &#39;UniversalRepositoryExplorer_treeNode7_name&#39;)]\r\n```","title":"How to locate element with no tag name in Selenium Webdriver Java","body":"<p>Looking at the element you have noted above, if I was trying to evaluate for a cucumber step, I would write this for selenium-java:</p>\n<pre><code>@And(&quot;^I can view the \\&quot;([^\\&quot;]*)\\&quot; image$&quot;)\n    public void iCanViewTheImage(String text) throws Throwable {\n        String imgXpath = &quot;//span[contains(text(),'&quot; + text + &quot;') and contains(@id, 'UniversalRepositoryExplorer_treeNode7_name')]//img[@id='UniversalRepositoryExplorer_treeNodeIcon_7']&quot;\n        driver.findElement(By.xpath(imgXpath));\n        assertTrue(driver.findElement(By.xpath(imgXpath)).getText().contains(text));\n\n}\n</code></pre>\n<p>where the regex &quot;([^&quot;]*)&quot; would be &quot;Running&quot; in your cucumber step:\nAnd I can view the &quot;<strong>Running</strong>&quot; image</p>\n<p>Your xpath with the text based on the above will be:</p>\n<pre><code>//span[contains(text(),'Running') and contains(@id, 'UniversalRepositoryExplorer_treeNode7_name')]//img[@id='UniversalRepositoryExplorer_treeNodeIcon_7']\n</code></pre>\n<p>or simply</p>\n<pre><code>//span[contains(text(),'Running') and contains(@id, 'UniversalRepositoryExplorer_treeNode7_name')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635344771,"creation_date":1635344771,"answer_id":69740473,"question_id":69726613,"body_markdown":"The problem with your locator is that an IMG tag is self-closing (there is no `&lt;/img&gt;` tag) so it can&#39;t contain text. The parent SPAN is likely the element that contains the &quot;Running&quot; text.\r\n\r\nYou haven&#39;t posted valid HTML for the portion being discussed so the below HTML is what I&#39;m guessing the general structure looks like.\r\n\r\n    &lt;span id=&quot;UniversalRepositoryExplorer_treeNode7_name&quot; style=&quot;white-space:nowrap;&quot;&gt;\r\n        &lt;img id=&quot;UniversalRepositoryExplorer_treeNodeIcon_7&quot; src=&quot;../../images/server_running.gif&quot; style=&quot;width:16px;height:16px;&quot; alt   border=&quot;0&quot;&gt;\r\n        &quot;&amp;nbsp;Running&amp;nbsp;&quot;\r\n    &lt;/span&gt;\r\n\r\nGiven that HTML, the code would look like\r\n\r\n    driver.findElement(By.id(&quot;UniversalRepositoryExplorer_treeNode7_name&quot;)).getText();\r\n\r\nWhen you grab the SPAN and then use `.getText()`, it will get all the text contained within that SPAN. This is of course a guess since you haven&#39;t posted all the HTML under that span. This may get more than what you wanted but that&#39;s the best we can do with an incomplete question. If you add more details, we can adjust our answers.","title":"How to locate element with no tag name in Selenium Webdriver Java","body":"<p>The problem with your locator is that an IMG tag is self-closing (there is no <code>&lt;/img&gt;</code> tag) so it can't contain text. The parent SPAN is likely the element that contains the &quot;Running&quot; text.</p>\n<p>You haven't posted valid HTML for the portion being discussed so the below HTML is what I'm guessing the general structure looks like.</p>\n<pre><code>&lt;span id=&quot;UniversalRepositoryExplorer_treeNode7_name&quot; style=&quot;white-space:nowrap;&quot;&gt;\n    &lt;img id=&quot;UniversalRepositoryExplorer_treeNodeIcon_7&quot; src=&quot;../../images/server_running.gif&quot; style=&quot;width:16px;height:16px;&quot; alt   border=&quot;0&quot;&gt;\n    &quot;&amp;nbsp;Running&amp;nbsp;&quot;\n&lt;/span&gt;\n</code></pre>\n<p>Given that HTML, the code would look like</p>\n<pre><code>driver.findElement(By.id(&quot;UniversalRepositoryExplorer_treeNode7_name&quot;)).getText();\n</code></pre>\n<p>When you grab the SPAN and then use <code>.getText()</code>, it will get all the text contained within that SPAN. This is of course a guess since you haven't posted all the HTML under that span. This may get more than what you wanted but that's the best we can do with an incomplete question. If you add more details, we can adjust our answers.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637274083,"creation_date":1637274083,"answer_id":70027494,"question_id":69726613,"body_markdown":"The text _Running_ is within a _text node_ and it is the second child of it&#39;s parent `&lt;span&gt;` tag. So to retrieve the text you have to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the  `visibilityOfElementLocated()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _cssSelector_:\r\n\r\n\t  System.out.println(((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].childNodes[2].textContent;&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;span#UniversalRepositoryExplorer_treeNode7_name&quot;)))).toString());\r\n           \t\r\n- _xpath_:\r\n\r\n\t  System.out.println(((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].childNodes[2].textContent;&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;UniversalRepositoryExplorer_treeNode7_name&#39;]&quot;)))).toString());\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nReferences\r\n----------\r\nYou can find a couple od relevant detailed discussions in:\r\n\r\n- [How to extract just the number from html?](https://stackoverflow.com/questions/56681073/how-to-extract-just-the-number-from-html/56681829#56681829)\r\n- [How do I use selenium to scrape text from a text node within a class through Python](https://stackoverflow.com/questions/64002481/how-do-i-use-selenium-to-scrape-text-from-a-text-node-within-a-class-through-pyt/64007124#64007124)\r\n- [How to retrieve partial text from a text node using Selenium and Python](https://stackoverflow.com/questions/62445850/how-to-retrieve-partial-text-from-a-text-node-using-selenium-and-python/62446227#62446227)","title":"How to locate element with no tag name in Selenium Webdriver Java","body":"<p>The text <em>Running</em> is within a <em>text node</em> and it is the second child of it's parent <code>&lt;span&gt;</code> tag. So to retrieve the text you have to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the  <code>visibilityOfElementLocated()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>System.out.println(((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].childNodes[2].textContent;&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;span#UniversalRepositoryExplorer_treeNode7_name&quot;)))).toString());\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>System.out.println(((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].childNodes[2].textContent;&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id='UniversalRepositoryExplorer_treeNode7_name']&quot;)))).toString());\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple od relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/56681073/how-to-extract-just-the-number-from-html/56681829#56681829\">How to extract just the number from html?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/64002481/how-do-i-use-selenium-to-scrape-text-from-a-text-node-within-a-class-through-pyt/64007124#64007124\">How do I use selenium to scrape text from a text node within a class through Python</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62445850/how-to-retrieve-partial-text-from-a-text-node-using-selenium-and-python/62446227#62446227\">How to retrieve partial text from a text node using Selenium and Python</a></li>\n</ul>\n"}],"owner":{"account_id":23150996,"reputation":11,"user_id":17253020,"display_name":"itsabhishk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1979,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1637274083,"creation_date":1635264938,"question_id":69726613,"body_markdown":"    &lt;span id=&quot;UniversalRepositoryExplorer_treeNode7_name&quot; style=&quot;white-space:nowrap;&quot;&gt; == $0\r\n     &lt;img id=&quot;UniversalRepositoryExplorer_treeNodeIcon_7&quot; src=&quot;../../images/server_running.gif&quot; \r\n     style=&quot;width:16px;height:16px;&quot; alt   border=&quot;0&quot;&gt; == $0\r\n     &quot;&amp;nbsp;Running&amp;nbsp;&quot; == $0\r\n\r\ntag span has inside tag img and below text Running doesn&#39;t have any tag name\r\n\r\nI have tried the below x-path that didn&#39;t work:\r\n\r\n    //img[@id=&#39;UniversalRepositoryExplorer_treeNodeIcon_7&#39;]\r\n\r\nCan someone suggest to me how to get Running through x-path?","title":"How to locate element with no tag name in Selenium Webdriver Java","body":"<pre><code>&lt;span id=&quot;UniversalRepositoryExplorer_treeNode7_name&quot; style=&quot;white-space:nowrap;&quot;&gt; == $0\n &lt;img id=&quot;UniversalRepositoryExplorer_treeNodeIcon_7&quot; src=&quot;../../images/server_running.gif&quot; \n style=&quot;width:16px;height:16px;&quot; alt   border=&quot;0&quot;&gt; == $0\n &quot;&amp;nbsp;Running&amp;nbsp;&quot; == $0\n</code></pre>\n<p>tag span has inside tag img and below text Running doesn't have any tag name</p>\n<p>I have tried the below x-path that didn't work:</p>\n<pre><code>//img[@id='UniversalRepositoryExplorer_treeNodeIcon_7']\n</code></pre>\n<p>Can someone suggest to me how to get Running through x-path?</p>\n"},{"tags":["java","swing","jtable","jpanel","jcheckbox"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":1,"creation_date":1637157678,"post_id":70004863,"comment_id":123750508,"body_markdown":"Which layout you use in your pannel? Please provide a [mcve] so we can also run your code and reproduce your problem. Pleas don&#39;t post your complete code but create a small simple example that demonstrates your problem.","body":"Which layout you use in your pannel? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can also run your code and reproduce your problem. Pleas don&#39;t post your complete code but create a small simple example that demonstrates your problem."},{"owner":{"account_id":19808077,"reputation":1,"user_id":14507604,"display_name":"Akilesh Balireddi"},"score":0,"creation_date":1637240294,"post_id":70004863,"comment_id":123776456,"body_markdown":"Hi @SergiyMedvynskyy, Thanks for taking your time for reply. My issue got resolved when i used GridBaglayout instead of a FlowLayout. Now the Jcheckboxes are aligned to centre inside the panel.","body":"Hi @SergiyMedvynskyy, Thanks for taking your time for reply. My issue got resolved when i used GridBaglayout instead of a FlowLayout. Now the Jcheckboxes are aligned to centre inside the panel."}],"answers":[{"tags":[],"owner":{"account_id":19808077,"reputation":1,"user_id":14507604,"display_name":"Akilesh Balireddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637273678,"creation_date":1637240464,"answer_id":70020310,"question_id":70004863,"body_markdown":"My issue got resolved when i used GridBaglayout instead of a FlowLayout. Now the Jcheckboxes are aligned to centre inside the panel.\r\n\r\n```\r\nfor(String key : nameValuePair.keySet()){\r\n  JPanel panel = new JPanel(new GridBagLayout());\r\n  modelList.add(new AI38BetModelTable(selectedeEvent,selectedBetCode,key,nameValuePair.get(key)));\r\n  String keyForPanel = ai38DataModel.getPanelEleStringKey(selectedeEvent.getEventCode(), selectedBetCode, key, nameValuePair.get(key));\r\n  for(Integer value: nameValuePair.get(key)){\r\n    JCheckBox jChkbx = new JCheckBox(value.toString());\r\n    jChkbx.setOpaque(false);\r\n    jChkbx.addItemListener(listener);\r\n    panel.add(jChkbx);\r\n  }\r\n  panelEleMap.put(keyForPanel, panel);\r\n}\r\n\r\n```","title":"Rendered JPanel with JcheckBoxes inside an Jtable cell. Now the Panel is not getting align to centre of the cell in Jtable","body":"<p>My issue got resolved when i used GridBaglayout instead of a FlowLayout. Now the Jcheckboxes are aligned to centre inside the panel.</p>\n<pre><code>for(String key : nameValuePair.keySet()){\n  JPanel panel = new JPanel(new GridBagLayout());\n  modelList.add(new AI38BetModelTable(selectedeEvent,selectedBetCode,key,nameValuePair.get(key)));\n  String keyForPanel = ai38DataModel.getPanelEleStringKey(selectedeEvent.getEventCode(), selectedBetCode, key, nameValuePair.get(key));\n  for(Integer value: nameValuePair.get(key)){\n    JCheckBox jChkbx = new JCheckBox(value.toString());\n    jChkbx.setOpaque(false);\n    jChkbx.addItemListener(listener);\n    panel.add(jChkbx);\n  }\n  panelEleMap.put(keyForPanel, panel);\n}\n\n</code></pre>\n"}],"owner":{"account_id":19808077,"reputation":1,"user_id":14507604,"display_name":"Akilesh Balireddi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637273678,"creation_date":1637153984,"question_id":70004863,"body_markdown":"Cell renderer:\r\n\r\n\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n\t\tif(value!=null &amp;&amp; ai38DataModel!=null){\r\n\t\t\t//panel.removeAll();\r\n\t\t\tList&lt;AI38BetModelTable&gt; modelList = ai38DataModel.getModelList();\r\n\t\t\tLinkedHashMap&lt;String, JPanel&gt; elePanelMap = ai38DataModel.getElePanelMap();\r\n\t\t\tif(modelList!=null || !modelList.isEmpty() || !elePanelMap.isEmpty()){\r\n\t\t\t\tAI38BetModelTable model = modelList.get(row);\r\n\t\t\t\tString key = ai38DataModel.getPanelEleStringKey(model.getSelectedEvent().getEventCode(), model.getSelectedBetCode(), model.getElement(), (Set&lt;Integer&gt;)value);\r\n\t\t\t\tpanel = elePanelMap.get(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n                \t  \r\n\t    return panel;\r\n\t    \r\n    \t}\r\n\r\nAdding Jchecboxes to panel:\r\n\r\n\t\t\t\t\t    for(Integer value: nameValuePair.get(key)){\t    \t\r\n\t\t\t\t\t    \tJCheckBox jChkbx = new JCheckBox(value.toString());\r\n\t\t\t\t\t    \tjChkbx.setOpaque(false);\r\n\t\t\t\t\t    \tjChkbx.addItemListener(listener);\r\n\t\t\t\t\t    \tpanel.add(jChkbx);\t\t\t\t\t    \t\r\n\t\t\t\t\t    \t}\r\n\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\nstrong text  [1]: https://i.stack.imgur.com/D8Mhs.png\r\n\r\n\r\n\r\nPLease find the attached image. \r\n","title":"Rendered JPanel with JcheckBoxes inside an Jtable cell. Now the Panel is not getting align to centre of the cell in Jtable","body":"<p>Cell renderer:</p>\n<pre><code>public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    if(value!=null &amp;&amp; ai38DataModel!=null){\n        //panel.removeAll();\n        List&lt;AI38BetModelTable&gt; modelList = ai38DataModel.getModelList();\n        LinkedHashMap&lt;String, JPanel&gt; elePanelMap = ai38DataModel.getElePanelMap();\n        if(modelList!=null || !modelList.isEmpty() || !elePanelMap.isEmpty()){\n            AI38BetModelTable model = modelList.get(row);\n            String key = ai38DataModel.getPanelEleStringKey(model.getSelectedEvent().getEventCode(), model.getSelectedBetCode(), model.getElement(), (Set&lt;Integer&gt;)value);\n            panel = elePanelMap.get(key);\n            }\n        }\n                  \n    return panel;\n    \n    }\n</code></pre>\n<p>Adding Jchecboxes to panel:</p>\n<pre><code>                    for(Integer value: nameValuePair.get(key)){         \n                        JCheckBox jChkbx = new JCheckBox(value.toString());\n                        jChkbx.setOpaque(false);\n                        jChkbx.addItemListener(listener);\n                        panel.add(jChkbx);                          \n                        }\n</code></pre>\n<p>[enter image description here][1]</p>\n<p>strong text  [1]: <a href=\"https://i.stack.imgur.com/D8Mhs.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/D8Mhs.png</a></p>\n<p>PLease find the attached image.</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1637257929,"post_id":70024278,"comment_id":123784403,"body_markdown":"You _can&#39;t_ really do this with streams.  Use a normal loop.","body":"You <i>can&#39;t</i> really do this with streams.  Use a normal loop."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1637267743,"post_id":70024278,"comment_id":123787834,"body_markdown":"@LouisWasserman this can be done with `Stream::takeWhile`","body":"@LouisWasserman this can be done with <code>Stream::takeWhile</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1637271445,"post_id":70024278,"comment_id":123789065,"body_markdown":"Even `takeWhile` can&#39;t verify that the elements are all `Y` until the last value is `X`.  You can only check one of those in a single go.","body":"Even <code>takeWhile</code> can&#39;t verify that the elements are all <code>Y</code> until the last value is <code>X</code>.  You can only check one of those in a single go."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1637314560,"post_id":70024278,"comment_id":123798636,"body_markdown":"@LouisWasserman, `takeWhile (X or Y)` and then `filter (X)/dropWhile(Y)` and `findFirst`.  Simple.","body":"@LouisWasserman, <code>takeWhile (X or Y)</code> and then <code>filter (X)&#47;dropWhile(Y)</code> and <code>findFirst</code>.  Simple."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637267638,"creation_date":1637264606,"answer_id":70025809,"question_id":70024278,"body_markdown":"1. Sort the list before the stream.\r\n2. Using `IntStream`, find the index of the first element matching the filter `&quot;X&quot;.equals(a)`\r\n3. If such index is found, check that all elements before the index match another filter `&quot;Y&quot;.equals(a)`\r\n```java\r\nstatic Test findFirstAfterAll(String first, String all, List&lt;Test&gt; testList) {\r\n    testList.sort(Comparator.comparingInt(Test::getSortKey));\r\n    int index = IntStream\r\n            .range(0, testList.size())\r\n            .filter(i -&gt; first.equals(testList.get(i).getA()))\r\n            .findFirst()\r\n            .orElse(-1);\r\n\r\n    return IntStream.range(0, index)\r\n            .allMatch(i -&gt; all.equals(testList.get(i).getA())) \r\n                ? testList.get(index) : null;\r\n}\r\n```\r\nTest:\r\n```java\r\nList&lt;Test&gt; testList = Arrays.asList(\r\n        new Test(&quot;X&quot;, 20),\r\n        new Test(&quot;Y&quot;, 15),\r\n        new Test(&quot;Y&quot;, 12)\r\n);\r\n\r\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, testList));\r\n```\r\nOutput:\r\n```\r\nTest(a=X, sortKey=20)\r\n```\r\n----\r\nUsing Java 9 `Stream::takeWhile` could work too assuming that _no_ element with `a.equals(&quot;Y&quot;)` may appear before &quot;X&quot;:\r\n```java\r\nstatic Optional&lt;Test&gt; findFirstAfterAll(String first, String all, List&lt;Test&gt; testList) {\r\n    return testList.stream()\r\n            .sorted(Comparator.comparingInt(Test::getSortKey))\r\n            .takeWhile(t -&gt; all.equals(t.getA()) || first.equals(t.getA()))\r\n            .filter(t -&gt; first.equals(t.getA()))\r\n            .findFirst();\r\n}\r\n```\r\nTests:\r\n```\r\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;X&quot;, 15), new Test(&quot;X&quot;, 12))));\r\n\r\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;X&quot;, 20), new Test(&quot;Y&quot;, 15), new Test(&quot;Y&quot;, 12))));\r\n\r\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;Y&quot;, 15), new Test(&quot;Y&quot;, 12))));\r\n\r\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;X&quot;, 15), new Test(&quot;A&quot;, 12))));\r\n```\r\nOutput:\r\n```\r\nOptional[Test{a=&#39;X&#39;, sortKey=12}]\r\nOptional[Test{a=&#39;X&#39;, sortKey=20}]\r\nOptional.empty\r\nOptional.empty\r\n```\r\nThe logic is that only &quot;X&quot; or &quot;Y&quot; may appear in the beginning of the sorted list and as soon as &quot;X&quot; is found it&#39;s ok.\r\n\r\n----\r\nIf at least one &quot;Y&quot; MUST appear before X to make a valid match, similar solution using `takeWhile` can be implemented:\r\n```java\r\nstatic Optional&lt;Test&gt; findFirstAfterAtLeastOne(String first, String all, List&lt;Test&gt; testList) {\r\n    testList.sort(Comparator.comparingInt(Test::getSortKey));\r\n    \r\n    int index = (int) IntStream.range(0, testList.size())\r\n        .takeWhile(i -&gt; all.equals(testList.get(i).getA()))\r\n        .count();\r\n\r\n    return index == 0 \r\n        ? Optional.empty() \r\n        : IntStream.range(index, testList.size())\r\n            .takeWhile(i -&gt; first.equals(testList.get(i).getA()))\r\n            .mapToObj(testList::get)\r\n            .findFirst();\r\n}\r\n```\r\nHere the output for the same test data is:\r\n```java\r\nOptional.empty   // no Y before X\r\nOptional[Test{a=&#39;X&#39;, sortKey=20}]\r\nOptional.empty\r\nOptional.empty\r\n```","title":"Filter based on the value of previous elements in the list","body":"<ol>\n<li>Sort the list before the stream.</li>\n<li>Using <code>IntStream</code>, find the index of the first element matching the filter <code>&quot;X&quot;.equals(a)</code></li>\n<li>If such index is found, check that all elements before the index match another filter <code>&quot;Y&quot;.equals(a)</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>static Test findFirstAfterAll(String first, String all, List&lt;Test&gt; testList) {\n    testList.sort(Comparator.comparingInt(Test::getSortKey));\n    int index = IntStream\n            .range(0, testList.size())\n            .filter(i -&gt; first.equals(testList.get(i).getA()))\n            .findFirst()\n            .orElse(-1);\n\n    return IntStream.range(0, index)\n            .allMatch(i -&gt; all.equals(testList.get(i).getA())) \n                ? testList.get(index) : null;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Test&gt; testList = Arrays.asList(\n        new Test(&quot;X&quot;, 20),\n        new Test(&quot;Y&quot;, 15),\n        new Test(&quot;Y&quot;, 12)\n);\n\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, testList));\n</code></pre>\n<p>Output:</p>\n<pre><code>Test(a=X, sortKey=20)\n</code></pre>\n<hr />\n<p>Using Java 9 <code>Stream::takeWhile</code> could work too assuming that <em>no</em> element with <code>a.equals(&quot;Y&quot;)</code> may appear before &quot;X&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Optional&lt;Test&gt; findFirstAfterAll(String first, String all, List&lt;Test&gt; testList) {\n    return testList.stream()\n            .sorted(Comparator.comparingInt(Test::getSortKey))\n            .takeWhile(t -&gt; all.equals(t.getA()) || first.equals(t.getA()))\n            .filter(t -&gt; first.equals(t.getA()))\n            .findFirst();\n}\n</code></pre>\n<p>Tests:</p>\n<pre><code>System.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;X&quot;, 15), new Test(&quot;X&quot;, 12))));\n\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;X&quot;, 20), new Test(&quot;Y&quot;, 15), new Test(&quot;Y&quot;, 12))));\n\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;Y&quot;, 15), new Test(&quot;Y&quot;, 12))));\n\nSystem.out.println(findFirstAfterAll(&quot;X&quot;, &quot;Y&quot;, Arrays.asList(new Test(&quot;Y&quot;, 20), new Test(&quot;X&quot;, 15), new Test(&quot;A&quot;, 12))));\n</code></pre>\n<p>Output:</p>\n<pre><code>Optional[Test{a='X', sortKey=12}]\nOptional[Test{a='X', sortKey=20}]\nOptional.empty\nOptional.empty\n</code></pre>\n<p>The logic is that only &quot;X&quot; or &quot;Y&quot; may appear in the beginning of the sorted list and as soon as &quot;X&quot; is found it's ok.</p>\n<hr />\n<p>If at least one &quot;Y&quot; MUST appear before X to make a valid match, similar solution using <code>takeWhile</code> can be implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Optional&lt;Test&gt; findFirstAfterAtLeastOne(String first, String all, List&lt;Test&gt; testList) {\n    testList.sort(Comparator.comparingInt(Test::getSortKey));\n    \n    int index = (int) IntStream.range(0, testList.size())\n        .takeWhile(i -&gt; all.equals(testList.get(i).getA()))\n        .count();\n\n    return index == 0 \n        ? Optional.empty() \n        : IntStream.range(index, testList.size())\n            .takeWhile(i -&gt; first.equals(testList.get(i).getA()))\n            .mapToObj(testList::get)\n            .findFirst();\n}\n</code></pre>\n<p>Here the output for the same test data is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.empty   // no Y before X\nOptional[Test{a='X', sortKey=20}]\nOptional.empty\nOptional.empty\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637273653,"creation_date":1637273653,"answer_id":70027423,"question_id":70024278,"body_markdown":"Well, you can combine `takeWhile` and `dropWhile`:\r\n\r\n```java\r\nTest[] tests = {\r\n    new Test(&quot;Y&quot;, 1),\r\n    new Test(&quot;Y&quot;, 2),\r\n    new Test(&quot;Y&quot;, 3),\r\n    new Test(&quot;X&quot;, 4), // Expecting to yield this value\r\n    new Test(&quot;O&quot;, 5),\r\n    new Test(&quot;X&quot;, 6),\r\n    new Test(&quot;X&quot;, 7)\r\n};\r\n```\r\n\r\n```java\r\nOptional&lt;Test&gt; test = Stream.of(tests)\r\n    .takeWhile(t -&gt; t.a().equals(&quot;X&quot;) || t.a().equals(&quot;Y&quot;))\r\n    .dropWhile(t -&gt; t.a().equals(&quot;Y&quot;))\r\n    .findFirst();\r\n```","title":"Filter based on the value of previous elements in the list","body":"<p>Well, you can combine <code>takeWhile</code> and <code>dropWhile</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Test[] tests = {\n    new Test(&quot;Y&quot;, 1),\n    new Test(&quot;Y&quot;, 2),\n    new Test(&quot;Y&quot;, 3),\n    new Test(&quot;X&quot;, 4), // Expecting to yield this value\n    new Test(&quot;O&quot;, 5),\n    new Test(&quot;X&quot;, 6),\n    new Test(&quot;X&quot;, 7)\n};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Test&gt; test = Stream.of(tests)\n    .takeWhile(t -&gt; t.a().equals(&quot;X&quot;) || t.a().equals(&quot;Y&quot;))\n    .dropWhile(t -&gt; t.a().equals(&quot;Y&quot;))\n    .findFirst();\n</code></pre>\n"}],"owner":{"account_id":23339242,"reputation":31,"user_id":17414367,"display_name":"tutorguru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1637273653,"creation_date":1637256795,"question_id":70024278,"body_markdown":"I have a list of objects that looks like this:\r\n```java\r\nclass Test {\r\n    String a;\r\n    int sortKey;\r\n}\r\n\r\nList&lt;Test&gt; testList; \r\n```\r\n\r\nThis `testList` is sorted based on `sortKey`.\r\n\r\nI want to find the first `Test` object in the `testList` where the value of `a` is `&quot;X&quot;` and the value of all previous `Test` objects in the list till this element is found is `&quot;Y&quot;`\r\n\r\nThis is what I am trying \r\n```java\r\ntestList\r\n    .stream()\r\n    .sorted(sortBasedOnSortKey())\r\n    .filter(test -&gt; test.a().equals(&quot;X&quot;))\r\n    .findFirst();\r\n```\r\n\r\nHow to make sure the previous elements have a value of `a == &quot;Y&quot;`?","title":"Filter based on the value of previous elements in the list","body":"<p>I have a list of objects that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n    String a;\n    int sortKey;\n}\n\nList&lt;Test&gt; testList; \n</code></pre>\n<p>This <code>testList</code> is sorted based on <code>sortKey</code>.</p>\n<p>I want to find the first <code>Test</code> object in the <code>testList</code> where the value of <code>a</code> is <code>&quot;X&quot;</code> and the value of all previous <code>Test</code> objects in the list till this element is found is <code>&quot;Y&quot;</code></p>\n<p>This is what I am trying</p>\n<pre class=\"lang-java prettyprint-override\"><code>testList\n    .stream()\n    .sorted(sortBasedOnSortKey())\n    .filter(test -&gt; test.a().equals(&quot;X&quot;))\n    .findFirst();\n</code></pre>\n<p>How to make sure the previous elements have a value of <code>a == &quot;Y&quot;</code>?</p>\n"},{"tags":["java","treemap","java-memory-leaks","java-heap"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":1,"creation_date":1637267356,"post_id":70026265,"comment_id":123787705,"body_markdown":"This is likely to be implementation dependent. Why do you need an exact byte value, in light of the fact that JVMs often have tons of non-deterministic memory behaviors anyway? (it seems like premature optimization at first glance)","body":"This is likely to be implementation dependent. Why do you need an exact byte value, in light of the fact that JVMs often have tons of non-deterministic memory behaviors anyway? (it seems like premature optimization at first glance)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637268885,"post_id":70026265,"comment_id":123788235,"body_markdown":"Why do you care about 1000 pairs?","body":"Why do you care about 1000 pairs?"}],"answers":[{"tags":[],"owner":{"account_id":12808535,"reputation":112,"user_id":9267468,"display_name":"F. Vorontsov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637273525,"creation_date":1637269172,"answer_id":70026669,"question_id":70026265,"body_markdown":"# *JOL (Java Object Layout)*\r\n\r\nTo answer such questions you can use the tool, [JOL][1].\r\n\r\nIn your case it will get such results:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    java.util.TreeMap@17046283d footprint:\r\n         COUNT       AVG       SUM   DESCRIPTION\r\n          2000        24     48000   java.lang.Long\r\n             1        48        48   java.util.TreeMap\r\n          1000        40     40000   java.util.TreeMap$Entry\r\n          3001               88048   (total)\r\n\r\n    Total 88048 bytes used\r\n\r\n**Granularly**\r\n\r\nTreeMap itself:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    OFF  SZ                    TYPE DESCRIPTION               VALUE\r\n      0   8                         (object header: mark)     N/A\r\n      8   4                         (object header: class)    N/A\r\n     12   4                  Set&lt;K&gt; AbstractMap.keySet        N/A\r\n     16   4           Collection&lt;V&gt; AbstractMap.values        N/A\r\n     20   4                     int TreeMap.size              N/A\r\n     24   4                     int TreeMap.modCount          N/A\r\n     28   4   Comparator&lt;? super K&gt; TreeMap.comparator        N/A\r\n     32   4             Entry&lt;K, V&gt; TreeMap.root              N/A\r\n     36   4                EntrySet TreeMap.entrySet          N/A\r\n     40   4               KeySet&lt;K&gt; TreeMap.navigableKeySet   N/A\r\n     44   4      NavigableMap&lt;K, V&gt; TreeMap.descendingMap     N/A\r\n    Instance size: 48 bytes\r\n\r\n\r\nTreeMap.Entry\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    OFF  SZ          TYPE DESCRIPTION               VALUE\r\n      0   8               (object header: mark)     N/A\r\n      8   4               (object header: class)    N/A\r\n     12   1       boolean Entry.color               N/A\r\n     13   3               (alignment/padding gap)   \r\n     16   4             K Entry.key                 N/A\r\n     20   4             V Entry.value               N/A\r\n     24   4   Entry&lt;K, V&gt; Entry.left                N/A\r\n     28   4   Entry&lt;K, V&gt; Entry.right               N/A\r\n     32   4   Entry&lt;K, V&gt; Entry.parent              N/A\r\n     36   4               (object alignment gap)    \r\n    Instance size: 40 bytes\r\n\r\nAnd Long:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    OFF  SZ   TYPE DESCRIPTION               VALUE\r\n      0   8        (object header: mark)     N/A\r\n      8   4        (object header: class)    N/A\r\n     12   4        (alignment/padding gap)   \r\n     16   8   long Long.value                N/A\r\n    Instance size: 24 bytes\r\n\r\n\r\nAlso you may need do read additional questions about [alignment][2] and [object header][3].\r\n\r\n\r\n  [1]: https://openjdk.java.net/projects/code-tools/jol/\r\n  [2]: https://stackoverflow.com/questions/11926415/why-do-java-objects-have-to-be-a-multiple-of-8\r\n  [3]: https://stackoverflow.com/questions/26357186/what-is-in-java-object-header","title":"How much memory takes TreeMap&lt;Long, Long&gt; collection granularly?","body":"<h1><em>JOL (Java Object Layout)</em></h1>\n<p>To answer such questions you can use the tool, <a href=\"https://openjdk.java.net/projects/code-tools/jol/\" rel=\"nofollow noreferrer\">JOL</a>.</p>\n<p>In your case it will get such results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.util.TreeMap@17046283d footprint:\n     COUNT       AVG       SUM   DESCRIPTION\n      2000        24     48000   java.lang.Long\n         1        48        48   java.util.TreeMap\n      1000        40     40000   java.util.TreeMap$Entry\n      3001               88048   (total)\n\nTotal 88048 bytes used\n</code></pre>\n<p><strong>Granularly</strong></p>\n<p>TreeMap itself:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OFF  SZ                    TYPE DESCRIPTION               VALUE\n  0   8                         (object header: mark)     N/A\n  8   4                         (object header: class)    N/A\n 12   4                  Set&lt;K&gt; AbstractMap.keySet        N/A\n 16   4           Collection&lt;V&gt; AbstractMap.values        N/A\n 20   4                     int TreeMap.size              N/A\n 24   4                     int TreeMap.modCount          N/A\n 28   4   Comparator&lt;? super K&gt; TreeMap.comparator        N/A\n 32   4             Entry&lt;K, V&gt; TreeMap.root              N/A\n 36   4                EntrySet TreeMap.entrySet          N/A\n 40   4               KeySet&lt;K&gt; TreeMap.navigableKeySet   N/A\n 44   4      NavigableMap&lt;K, V&gt; TreeMap.descendingMap     N/A\nInstance size: 48 bytes\n</code></pre>\n<p>TreeMap.Entry</p>\n<pre class=\"lang-none prettyprint-override\"><code>OFF  SZ          TYPE DESCRIPTION               VALUE\n  0   8               (object header: mark)     N/A\n  8   4               (object header: class)    N/A\n 12   1       boolean Entry.color               N/A\n 13   3               (alignment/padding gap)   \n 16   4             K Entry.key                 N/A\n 20   4             V Entry.value               N/A\n 24   4   Entry&lt;K, V&gt; Entry.left                N/A\n 28   4   Entry&lt;K, V&gt; Entry.right               N/A\n 32   4   Entry&lt;K, V&gt; Entry.parent              N/A\n 36   4               (object alignment gap)    \nInstance size: 40 bytes\n</code></pre>\n<p>And Long:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (alignment/padding gap)   \n 16   8   long Long.value                N/A\nInstance size: 24 bytes\n</code></pre>\n<p>Also you may need do read additional questions about <a href=\"https://stackoverflow.com/questions/11926415/why-do-java-objects-have-to-be-a-multiple-of-8\">alignment</a> and <a href=\"https://stackoverflow.com/questions/26357186/what-is-in-java-object-header\">object header</a>.</p>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70026669,"answer_count":1,"score":2,"last_activity_date":1637273525,"creation_date":1637267099,"question_id":70026265,"body_markdown":"How much memory takes `TreeMap&lt;Long, Long&gt;` collection filled with 1000 (all unique) key-value pairs?\r\n\r\nYes I can just watch memory dump, but need to know granularly why exactly: \r\n\r\n - `Long` = n bytes \r\n- `Entry&lt;Long, Long &gt;`  = 2n bytes, so 1000 entries = 2000n bytes\r\n- reference in tree node: k bytes, 1 node have 2 links to children, so 2k bytes,\r\n- etc.\r\n\r\nTotal: X ?\r\n","title":"How much memory takes TreeMap&lt;Long, Long&gt; collection granularly?","body":"<p>How much memory takes <code>TreeMap&lt;Long, Long&gt;</code> collection filled with 1000 (all unique) key-value pairs?</p>\n<p>Yes I can just watch memory dump, but need to know granularly why exactly:</p>\n<ul>\n<li><code>Long</code> = n bytes</li>\n<li><code>Entry&lt;Long, Long &gt;</code>  = 2n bytes, so 1000 entries = 2000n bytes</li>\n<li>reference in tree node: k bytes, 1 node have 2 links to children, so 2k bytes,</li>\n<li>etc.</li>\n</ul>\n<p>Total: X ?</p>\n"},{"tags":["java","string","format"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637273239,"post_id":70027337,"comment_id":123789592,"body_markdown":"Just FYI Java uses newline (&quot;\\n&quot;) instead of carriage return in most situations.   For printing to the screen I would do that.","body":"Just FYI Java uses newline (&quot;\\n&quot;) instead of carriage return in most situations.   For printing to the screen I would do that."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637273411,"post_id":70027337,"comment_id":123789645,"body_markdown":"`Anyone has an idea on why those \\r grow like mushrooms` If you&#39;re not adding them manually then something in the system is.  Certain high level print routines will use the local system EOL sequence, which on Windows I think is &quot;\\r\\n&quot;.  READ THE DOCS on all methods you are calling, any that talk about using a local or system EOL might be the culprit.","body":"<code>Anyone has an idea on why those \\r grow like mushrooms</code> If you&#39;re not adding them manually then something in the system is.  Certain high level print routines will use the local system EOL sequence, which on Windows I think is &quot;\\r\\n&quot;.  READ THE DOCS on all methods you are calling, any that talk about using a local or system EOL might be the culprit."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1637273496,"post_id":70027337,"comment_id":123789667,"body_markdown":"[`System.lineSeparator()` Javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator()) covers this.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator()\" rel=\"nofollow noreferrer\"><code>System.lineSeparator()</code> Javadoc</a> covers this."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1637274223,"post_id":70027337,"comment_id":123789841,"body_markdown":"Nothing in the code you pasted (other than `String output = `, which I think you added as a sort-of comment to explain what your output is) contains or would add an `\\r`. Therefore this code cannot possibly do what you say it is doing. You are running different code, or there is more code that you didn&#39;t paste, that is doing this.","body":"Nothing in the code you pasted (other than <code>String output = </code>, which I think you added as a sort-of comment to explain what your output is) contains or would add an <code>\\r</code>. Therefore this code cannot possibly do what you say it is doing. You are running different code, or there is more code that you didn&#39;t paste, that is doing this."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637275397,"post_id":70027337,"comment_id":123790143,"body_markdown":"BTW I tested that code - removing the `Strings.` and assigning the result of the method to a variable so I could search for `\\r` - none found. How exactly you know there are some?","body":"BTW I tested that code - removing the <code>Strings.</code> and assigning the result of the method to a variable so I could search for <code>\\r</code> - none found. How exactly you know there are some?"},{"owner":{"account_id":7412937,"reputation":191,"user_id":5639756,"accept_rate":0,"display_name":"Asghabard"},"score":0,"creation_date":1637278896,"post_id":70027337,"comment_id":123790923,"body_markdown":"@user16320675 I copy-pasted the output from the Eclipse console. (and it is not a feature of the console itself: in the tests I did with the original input, I forced the program to make an exception just after computing the output String so I could use the Eclipse debug tool and check the exact value of the output. Every \\n had a \\r before.","body":"@user16320675 I copy-pasted the output from the Eclipse console. (and it is not a feature of the console itself: in the tests I did with the original input, I forced the program to make an exception just after computing the output String so I could use the Eclipse debug tool and check the exact value of the output. Every \\n had a \\r before."}],"owner":{"account_id":7412937,"reputation":191,"user_id":5639756,"accept_rate":0,"display_name":"Asghabard"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637273143,"creation_date":1637273143,"question_id":70027337,"body_markdown":"I am trying to create a method that takes as input a `String` matrix and returns a `String` In which all the cells of a column are horizontally aligned, no matter the length of the `String` in the cell.\r\nTo make an example, if the input is:\r\n```\r\n\t\tString[][] test = new String[][] {\r\n\t\t\tnew String[] { &quot;0&quot;, \t&quot;01&quot;, \t&quot;0002&quot;},\r\n\t\t\tnew String[] { &quot;0003&quot;, \t&quot;4&quot;, \t&quot;5&quot;},\r\n\t\t};\r\n```\r\nThen the output must be `&quot;0\\t\\t01\\t0002\\n0003\\t4\\t5\\n&quot;`, i.e.:\r\n```\r\n0\t\t01\t0002\r\n0003\t4\t5\r\n```\r\n\r\nNow, my code doesn&#39;t do exactly what I want (a problem with defining the number of tabulation to add as padding) but that is not my main problem. My main problem is that for *some* reasons there are carriage returns (`\\r`) spontaneously added to my output `String`. \r\n\r\nIn the above example, the output wouldn&#39;t be `&quot;0\\t\\t01\\t0002\\n0003\\t4\\t5\\n&quot;` but `&quot;0\\t\\t01\\t0002\\r\\n0003\\t4\\t5\\r\\n&quot;`. \r\n\r\nI know, visually it is the same. But I need the output of this method to do something else and I suspect the carriage returns are giving problems. Anyone has an idea on why those `\\r` grow like mushrooms on my `String`s?\r\n\r\n\r\n\r\n&lt;hr&gt; Here is my code:\r\n\r\n```\r\n\r\npublic class Test {\r\n\t/** The maximum length of the character {@code \\t}.\t*/\r\n\tpublic static int spaceLengthOfTab = 8;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString converted = CanBePrinted.formatAndConvertToString(null, table, obj -&gt; obj.toString() );\r\n\t\t\r\n\t\tString[][] test = new String[][] {\r\n\t\t\tnew String[] { &quot;0&quot;, \t&quot;01&quot;, \t&quot;0002&quot;},\r\n\t\t\tnew String[] { &quot;0003&quot;, \t&quot;4&quot;, \t&quot;5&quot;},\r\n\t\t};\r\n\t\tSystem.out.println(formatAndConvertToString(null, test, new StringBuffer()).toString());\r\n\t\t\r\n\t\tString output = &quot;0\t\t01\t0002\\r\\n&quot; + \r\n\t\t\t\t&quot;0003\t4\t5\\r\\n&quot; + \r\n\t\t\t\t&quot;&quot;;\r\n\t\t\r\n\t}\r\n\t/** Adds to the input {@link StringBuffer} a {@link String} representing the {@code table} \r\n\t * formatted in such a way to ensure all cells in a row are separated with an appropriate number \r\n\t * of {@code \\t} and all rows with {@code \\n}.\r\n\t * @param header A row that must appear above the table. Can be {@code null}, in which case the parameter will be ignored.\t*/\r\n\tpublic static StringBuffer formatAndConvertToString(String[] header, String[][] table, StringBuffer support) {\r\n\t\tint[] columnMaximumWidth = new int[table[0].length];\r\n\t\tint row, column;\r\n\t\t\r\n\t\t// Find spaces\r\n\t\tif( header != null )\r\n\t\tfor(column=0 ; column&lt;table[0].length ; column++)\r\n\t\t\tcolumnMaximumWidth[column] = header[column].length();\r\n\t\t\r\n\t\tfor(column=0 ; column&lt;table[0].length ; column++)\r\n\t\t\tfor(row=0 ; row&lt;table.length ; row++)\r\n\t\t\t\tcolumnMaximumWidth[column] = \r\n\t\t\t\t\tcolumnMaximumWidth[column] &lt; table[row][column].length()\r\n\t\t\t\t\t\t? table[row][column].length()\r\n\t\t\t\t\t\t: columnMaximumWidth[column];\r\n\t\t\t\r\n\t\t// Create string\r\n\t\tif( header != null )\r\n\t\t\t{\r\n\t\t\tfor(column=0 ; column&lt;table[0].length ; column++)\r\n\t\t\t\tsupport.append(header[column])\r\n\t\t\t\t.append( column == table[0].length - 1 ? &quot;&quot; :\t// The last cell must not be padded\r\n\t\t\t\t\t\tStrings.repeatChar(&#39;\\t&#39;, 1+tabs(columnMaximumWidth[column], header[column].length()) ));\r\n\t\t\tsupport.append(&#39;\\n&#39;);\r\n\t\t\t}\r\n\t\tfor(row=0 ; row&lt;table.length ; row++)\r\n\t\t\t{\r\n\t\t\tfor(column=0 ; column&lt;table[0].length ; column++)\r\n\t\t\t\tsupport.append(table[row][column]).append( column == table[0].length - 1 ? &quot;&quot; :\t// The last cell must not be padded\r\n\t\t\t\t\t\tStrings.repeatChar(&#39;\\t&#39;, tabs(columnMaximumWidth[column], table[row][column].length())+1));\r\n\t\t\tsupport.append(&#39;\\n&#39;);\r\n\t\t\t}\r\n\t\treturn support;\r\n\t}\r\n\t/** Returns the number of {@code \\t} needed to append at the cell to ensure it has the same length of the rest of the column.\t*/\r\n\tpublic static int tabs(int columnWidth, int cellWidth) {\r\n\t\tif( columnWidth == cellWidth )\t\treturn 0;\r\n\t\tif( columnWidth-1 == cellWidth )\treturn 0;\r\n\t\treturn (int) (Math.ceil( (columnWidth-cellWidth)/ ((double)spaceLengthOfTab) ))\r\n\t\t\t\t- ( cellWidth % spaceLengthOfTab == 0 ? 1 : 0 );\r\n\t}\r\n\t/** Returns a {@code String} composed of a character {@code c} repeated {@code numberOfRepetitions} times.\r\n\t * \r\n\t * @param c\r\n\t * @param numberOfRepetitions\r\n\t * @return\r\n\t */\r\n\tpublic static String repeatChar(char c, int numberOfRepetitions){\r\n\t\tStringBuilder outputProducer = new StringBuilder();\r\n\t\tfor(int i=0 ; i&lt;numberOfRepetitions ; i++)\r\n\t\t\toutputProducer.append( String.valueOf(c) );\r\n\t\treturn outputProducer.toString();\r\n\t}\r\n\r\n\t\r\n}\r\n```","title":"Java - A method to format Strings that adds \\r characters without being asked to","body":"<p>I am trying to create a method that takes as input a <code>String</code> matrix and returns a <code>String</code> In which all the cells of a column are horizontally aligned, no matter the length of the <code>String</code> in the cell.\nTo make an example, if the input is:</p>\n<pre><code>        String[][] test = new String[][] {\n            new String[] { &quot;0&quot;,     &quot;01&quot;,   &quot;0002&quot;},\n            new String[] { &quot;0003&quot;,  &quot;4&quot;,    &quot;5&quot;},\n        };\n</code></pre>\n<p>Then the output must be <code>&quot;0\\t\\t01\\t0002\\n0003\\t4\\t5\\n&quot;</code>, i.e.:</p>\n<pre><code>0       01  0002\n0003    4   5\n</code></pre>\n<p>Now, my code doesn't do exactly what I want (a problem with defining the number of tabulation to add as padding) but that is not my main problem. My main problem is that for <em>some</em> reasons there are carriage returns (<code>\\r</code>) spontaneously added to my output <code>String</code>.</p>\n<p>In the above example, the output wouldn't be <code>&quot;0\\t\\t01\\t0002\\n0003\\t4\\t5\\n&quot;</code> but <code>&quot;0\\t\\t01\\t0002\\r\\n0003\\t4\\t5\\r\\n&quot;</code>.</p>\n<p>I know, visually it is the same. But I need the output of this method to do something else and I suspect the carriage returns are giving problems. Anyone has an idea on why those <code>\\r</code> grow like mushrooms on my <code>String</code>s?</p>\n<hr> Here is my code:\n<pre><code>\npublic class Test {\n    /** The maximum length of the character {@code \\t}. */\n    public static int spaceLengthOfTab = 8;\n    \n    public static void main(String[] args) {\n        \n        String converted = CanBePrinted.formatAndConvertToString(null, table, obj -&gt; obj.toString() );\n        \n        String[][] test = new String[][] {\n            new String[] { &quot;0&quot;,     &quot;01&quot;,   &quot;0002&quot;},\n            new String[] { &quot;0003&quot;,  &quot;4&quot;,    &quot;5&quot;},\n        };\n        System.out.println(formatAndConvertToString(null, test, new StringBuffer()).toString());\n        \n        String output = &quot;0      01  0002\\r\\n&quot; + \n                &quot;0003   4   5\\r\\n&quot; + \n                &quot;&quot;;\n        \n    }\n    /** Adds to the input {@link StringBuffer} a {@link String} representing the {@code table} \n     * formatted in such a way to ensure all cells in a row are separated with an appropriate number \n     * of {@code \\t} and all rows with {@code \\n}.\n     * @param header A row that must appear above the table. Can be {@code null}, in which case the parameter will be ignored.  */\n    public static StringBuffer formatAndConvertToString(String[] header, String[][] table, StringBuffer support) {\n        int[] columnMaximumWidth = new int[table[0].length];\n        int row, column;\n        \n        // Find spaces\n        if( header != null )\n        for(column=0 ; column&lt;table[0].length ; column++)\n            columnMaximumWidth[column] = header[column].length();\n        \n        for(column=0 ; column&lt;table[0].length ; column++)\n            for(row=0 ; row&lt;table.length ; row++)\n                columnMaximumWidth[column] = \n                    columnMaximumWidth[column] &lt; table[row][column].length()\n                        ? table[row][column].length()\n                        : columnMaximumWidth[column];\n            \n        // Create string\n        if( header != null )\n            {\n            for(column=0 ; column&lt;table[0].length ; column++)\n                support.append(header[column])\n                .append( column == table[0].length - 1 ? &quot;&quot; :   // The last cell must not be padded\n                        Strings.repeatChar('\\t', 1+tabs(columnMaximumWidth[column], header[column].length()) ));\n            support.append('\\n');\n            }\n        for(row=0 ; row&lt;table.length ; row++)\n            {\n            for(column=0 ; column&lt;table[0].length ; column++)\n                support.append(table[row][column]).append( column == table[0].length - 1 ? &quot;&quot; : // The last cell must not be padded\n                        Strings.repeatChar('\\t', tabs(columnMaximumWidth[column], table[row][column].length())+1));\n            support.append('\\n');\n            }\n        return support;\n    }\n    /** Returns the number of {@code \\t} needed to append at the cell to ensure it has the same length of the rest of the column.   */\n    public static int tabs(int columnWidth, int cellWidth) {\n        if( columnWidth == cellWidth )      return 0;\n        if( columnWidth-1 == cellWidth )    return 0;\n        return (int) (Math.ceil( (columnWidth-cellWidth)/ ((double)spaceLengthOfTab) ))\n                - ( cellWidth % spaceLengthOfTab == 0 ? 1 : 0 );\n    }\n    /** Returns a {@code String} composed of a character {@code c} repeated {@code numberOfRepetitions} times.\n     * \n     * @param c\n     * @param numberOfRepetitions\n     * @return\n     */\n    public static String repeatChar(char c, int numberOfRepetitions){\n        StringBuilder outputProducer = new StringBuilder();\n        for(int i=0 ; i&lt;numberOfRepetitions ; i++)\n            outputProducer.append( String.valueOf(c) );\n        return outputProducer.toString();\n    }\n\n    \n}\n</code></pre>\n"},{"tags":["java","javascript","json","object","types"],"comments":[{"owner":{"account_id":936155,"reputation":314243,"user_id":965051,"display_name":"adeneo"},"score":0,"creation_date":1415295312,"post_id":26785759,"comment_id":42148212,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/javaOO/objects.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/objects.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/objects.html</a>"},{"owner":{"account_id":1278589,"reputation":28393,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":2,"creation_date":1415295358,"post_id":26785759,"comment_id":42148238,"body_markdown":"In that case, creating a `Car` class is just about the best thing you can do. I would advise you to keep studying Java programming and OOP.","body":"In that case, creating a <code>Car</code> class is just about the best thing you can do. I would advise you to keep studying Java programming and OOP."},{"owner":{"account_id":70285,"reputation":17694,"user_id":203968,"accept_rate":88,"display_name":"oluies"},"score":0,"creation_date":1415295770,"post_id":26785759,"comment_id":42148493,"body_markdown":"have a look at http://stackoverflow.com/a/14442630/203968","body":"have a look at <a href=\"http://stackoverflow.com/a/14442630/203968\">stackoverflow.com/a/14442630/203968</a>"}],"answers":[{"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415295699,"creation_date":1415295386,"answer_id":26785801,"question_id":26785759,"body_markdown":"Yes, they are called Objects and defined by Classes.  It&#39;s basically the first thing you learn when learning Java\r\n\r\n    //The definition of an object and it&#39;s members\r\n    public class Car { \r\n     String type, model, color;\r\n    }\r\n\r\nYou can then make them public to access and change them external to the class\r\n\r\n    public class Car {\r\n     public String type, model, color;\r\n    }\r\n\r\nAnd access them like so\r\n\r\n    //Create an instance of a Car, point to it with variable c and set one of it&#39;s properties/members\r\n     Car c = new Car();\r\n     c.type = &quot;Fiesta&quot;;\r\n\r\nBut allowing variables of a class to be edited externally is considered bad form in Java, generally you would add methods to access each, called accessors\r\n\r\n    public class Car {\r\n      private String type, model, color;\r\n      \r\n    //Return the type of this object\r\n      public String getType(){\r\n        return type;\r\n      }\r\n    \r\n    //Set the type of this object\r\n      public void setType(String type){\r\n        this.type = type;\r\n      }\r\n    \r\n      //etc\r\n    }\r\n\r\nThen access them like so\r\n\r\n     Car c = new Car();\r\n     c.setType(&quot;Fiesta&quot;);\r\n\r\n\r\nA class is the template you write to create objects, which are run time instances of classes.\r\n","title":"JavaScript-like Object data type in Java?","body":"<p>Yes, they are called Objects and defined by Classes.  It's basically the first thing you learn when learning Java</p>\n\n<pre><code>//The definition of an object and it's members\npublic class Car { \n String type, model, color;\n}\n</code></pre>\n\n<p>You can then make them public to access and change them external to the class</p>\n\n<pre><code>public class Car {\n public String type, model, color;\n}\n</code></pre>\n\n<p>And access them like so</p>\n\n<pre><code>//Create an instance of a Car, point to it with variable c and set one of it's properties/members\n Car c = new Car();\n c.type = \"Fiesta\";\n</code></pre>\n\n<p>But allowing variables of a class to be edited externally is considered bad form in Java, generally you would add methods to access each, called accessors</p>\n\n<pre><code>public class Car {\n  private String type, model, color;\n\n//Return the type of this object\n  public String getType(){\n    return type;\n  }\n\n//Set the type of this object\n  public void setType(String type){\n    this.type = type;\n  }\n\n  //etc\n}\n</code></pre>\n\n<p>Then access them like so</p>\n\n<pre><code> Car c = new Car();\n c.setType(\"Fiesta\");\n</code></pre>\n\n<p>A class is the template you write to create objects, which are run time instances of classes.</p>\n"},{"tags":[],"owner":{"account_id":44047,"reputation":47366,"user_id":129032,"accept_rate":98,"display_name":"ssube"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1415297757,"creation_date":1415295687,"answer_id":26785904,"question_id":26785759,"body_markdown":"While Java has a type called `object`, it&#39;s not what you want. Almost everything in Java is an object, and there are two ways to handle this:\r\n\r\n1. Define a strongly-typed object with the correct properties, as a class. Javascript has a similar concept, implemented differently, but it should be recognizable:\r\n\r\n        public class Car {\r\n            private String type;\r\n            private int model;\r\n            private String color;\r\n\r\n            public Car(final String type, final int model, final String color) {\r\n                this.type = type;\r\n                this.model = model;\r\n                this.color = color;\r\n            }\r\n\r\n            public String getType() { return this.type; }\r\n            public int getModel() { return this.model; }\r\n            public String getColor() { return this.color; }\r\n        }\r\n\r\n        final Car car = new Car(&quot;Fiat&quot;, 500, &quot;white&quot;);\r\n\r\n        // To get the color, you must:\r\n        car.getColor();\r\n\r\n   Add methods to get and set attributes as appropriate, methods to start, stop, drive, etc.\r\n\r\n2. If you want a loose collection of properties without behavior or restriction, use a `Map`. Again, there exists a Javascript equivalent (the `{x: 1, y: 2}` construct *without* using the `new` keyword).\r\n\r\n        final Map&lt;String, Object&gt; car = new HashMap&lt;&gt;();\r\n        car.put(&quot;type&quot;, &quot;Fiat&quot;);\r\n        car.put(&quot;model&quot;, 500);\r\n        car.put(&quot;color&quot;, &quot;white&quot;);\r\n\r\n        // To get the color, you:\r\n        car.get(&quot;color&quot;);\r\n\r\n    The disadvantage with this approach is that the compiler cannot enforce the types of those objects (nearly as well), and the map cannot have custom behaviors (in any reasonable way). In your example, `model` was a number, but this will allow you to assign anything regardless of whether it makes sense (perhaps someone keeps the data on a server and uses an `HttpConnection`, all of your code expecting a number explodes).\r\n\r\n\r\nIn Java, the first method is recommended if you know you&#39;ll have multiple cars, all with the same (or similar) properties. It allows the compiler to both enforce and optimize for the properties that you know will exist, and inheritance allows you to add additional properties later. The class also allow you to define methods which operate on that instance, which can help create abstraction between parts of the system (you don&#39;t need to know *how* a car starts, you just tell the car to start itself).\r\n\r\nFor reference, the Javascript equivalents are:\r\n\r\n    // #1\r\n    var Car = function(type, model, color) {\r\n        this.type = type;\r\n        this.model = model;\r\n        this.color = color;\r\n    }\r\n\r\n    var car = new Car(&quot;Fiat&quot;, 500, &quot;white&quot;);\r\n\r\n    // #2\r\n    var car = {type: &quot;Fiat&quot;, model: 500, color: &quot;white&quot;};\r\n\r\n    // For either option, to get the color you can simply:\r\n    console.log(car.color);\r\n\r\nWhat should stand out most obviously is that Java keeps track of what type each variable is. Not visible is that Java will prevent you from assigning to unknown properties, say `car.mileage`, where Javascript will happily add a new property. Finally, Java has a concept of visibility, and makes things private (invisible to outside viewers) by default. Replicating that in Javascript would look something like:\r\n\r\n    var Car = function(type, model, color) {\r\n        var _type = type;\r\n        var _model = model;\r\n        var _color = color;\r\n\r\n        this.getType = function() { return _type; }\r\n        this.getModel = function() { return _model; }\r\n        this.getColor = function() { return _color; }\r\n    }\r\n\r\n    console.log(car.getColor());\r\n\r\nIn Javascript, you take advantage of closure to hide data. Java defaults to hidden, and requires you to expose data when you need to. It&#39;s an interesting choice, very relevant when comparing code-bases, and can help keep classes independent of one another. It&#39;s also very easy (and tempting) to violate when you start writing in OO languages, so something to keep in mind (using simple structs *will* come back to haunt you).","title":"JavaScript-like Object data type in Java?","body":"<p>While Java has a type called <code>object</code>, it's not what you want. Almost everything in Java is an object, and there are two ways to handle this:</p>\n\n<ol>\n<li><p>Define a strongly-typed object with the correct properties, as a class. Javascript has a similar concept, implemented differently, but it should be recognizable:</p>\n\n<pre><code>public class Car {\n    private String type;\n    private int model;\n    private String color;\n\n    public Car(final String type, final int model, final String color) {\n        this.type = type;\n        this.model = model;\n        this.color = color;\n    }\n\n    public String getType() { return this.type; }\n    public int getModel() { return this.model; }\n    public String getColor() { return this.color; }\n}\n\nfinal Car car = new Car(\"Fiat\", 500, \"white\");\n\n// To get the color, you must:\ncar.getColor();\n</code></pre>\n\n<p>Add methods to get and set attributes as appropriate, methods to start, stop, drive, etc.</p></li>\n<li><p>If you want a loose collection of properties without behavior or restriction, use a <code>Map</code>. Again, there exists a Javascript equivalent (the <code>{x: 1, y: 2}</code> construct <em>without</em> using the <code>new</code> keyword).</p>\n\n<pre><code>final Map&lt;String, Object&gt; car = new HashMap&lt;&gt;();\ncar.put(\"type\", \"Fiat\");\ncar.put(\"model\", 500);\ncar.put(\"color\", \"white\");\n\n// To get the color, you:\ncar.get(\"color\");\n</code></pre>\n\n<p>The disadvantage with this approach is that the compiler cannot enforce the types of those objects (nearly as well), and the map cannot have custom behaviors (in any reasonable way). In your example, <code>model</code> was a number, but this will allow you to assign anything regardless of whether it makes sense (perhaps someone keeps the data on a server and uses an <code>HttpConnection</code>, all of your code expecting a number explodes).</p></li>\n</ol>\n\n<p>In Java, the first method is recommended if you know you'll have multiple cars, all with the same (or similar) properties. It allows the compiler to both enforce and optimize for the properties that you know will exist, and inheritance allows you to add additional properties later. The class also allow you to define methods which operate on that instance, which can help create abstraction between parts of the system (you don't need to know <em>how</em> a car starts, you just tell the car to start itself).</p>\n\n<p>For reference, the Javascript equivalents are:</p>\n\n<pre><code>// #1\nvar Car = function(type, model, color) {\n    this.type = type;\n    this.model = model;\n    this.color = color;\n}\n\nvar car = new Car(\"Fiat\", 500, \"white\");\n\n// #2\nvar car = {type: \"Fiat\", model: 500, color: \"white\"};\n\n// For either option, to get the color you can simply:\nconsole.log(car.color);\n</code></pre>\n\n<p>What should stand out most obviously is that Java keeps track of what type each variable is. Not visible is that Java will prevent you from assigning to unknown properties, say <code>car.mileage</code>, where Javascript will happily add a new property. Finally, Java has a concept of visibility, and makes things private (invisible to outside viewers) by default. Replicating that in Javascript would look something like:</p>\n\n<pre><code>var Car = function(type, model, color) {\n    var _type = type;\n    var _model = model;\n    var _color = color;\n\n    this.getType = function() { return _type; }\n    this.getModel = function() { return _model; }\n    this.getColor = function() { return _color; }\n}\n\nconsole.log(car.getColor());\n</code></pre>\n\n<p>In Javascript, you take advantage of closure to hide data. Java defaults to hidden, and requires you to expose data when you need to. It's an interesting choice, very relevant when comparing code-bases, and can help keep classes independent of one another. It's also very easy (and tempting) to violate when you start writing in OO languages, so something to keep in mind (using simple structs <em>will</em> come back to haunt you).</p>\n"},{"tags":[],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432550465,"creation_date":1432550465,"answer_id":30436451,"question_id":26785759,"body_markdown":"Most nice object for this purpose it&#39;s a [LinkedHashMap][1]. You can use it like map, but on iteration it will keep keys order.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html","title":"JavaScript-like Object data type in Java?","body":"<p>Most nice object for this purpose it's a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow\">LinkedHashMap</a>. You can use it like map, but on iteration it will keep keys order.</p>\n"},{"tags":[],"owner":{"account_id":19783402,"reputation":11,"user_id":14487936,"display_name":"Alex Melnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637272593,"creation_date":1637272593,"answer_id":70027247,"question_id":26785759,"body_markdown":"If you want some JS-syntax in JVM you can try to use Groovy instead of Java","title":"JavaScript-like Object data type in Java?","body":"<p>If you want some JS-syntax in JVM you can try to use Groovy instead of Java</p>\n"}],"owner":{"account_id":5291459,"reputation":321,"user_id":4223922,"display_name":"Anon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23672,"favorite_count":0,"down_vote_count":3,"up_vote_count":32,"accepted_answer_id":26785904,"answer_count":4,"score":29,"last_activity_date":1637272593,"creation_date":1415295238,"question_id":26785759,"body_markdown":"I am experienced in JavaScript, but new to Java. In JavaScript there are &quot;object&quot; data types where a given variable essentially has sub-variables with their own unique values, for example:\r\n\r\n    var car = {type:&quot;Fiat&quot;, model:500, color:&quot;white&quot;};\r\n\r\nIt is almost like an array, but not quite (JavaScript has arrays too). I am wondering if the same type of thing exists in Java? If so, how would I declare the same thing in Java? Based on my searches I can&#39;t find an object data type, but thought maybe there was something similar?","title":"JavaScript-like Object data type in Java?","body":"<p>I am experienced in JavaScript, but new to Java. In JavaScript there are \"object\" data types where a given variable essentially has sub-variables with their own unique values, for example:</p>\n\n<pre><code>var car = {type:\"Fiat\", model:500, color:\"white\"};\n</code></pre>\n\n<p>It is almost like an array, but not quite (JavaScript has arrays too). I am wondering if the same type of thing exists in Java? If so, how would I declare the same thing in Java? Based on my searches I can't find an object data type, but thought maybe there was something similar?</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","css-selectors"],"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":1,"creation_date":1637242531,"post_id":70020758,"comment_id":123777488,"body_markdown":"if you right click in the td element in developer tools and go Copy -&gt; Copy XPath is the path the same is in your code above?","body":"if you right click in the td element in developer tools and go Copy -&gt; Copy XPath is the path the same is in your code above?"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1637249238,"post_id":70020758,"comment_id":123780696,"body_markdown":"Try with this xpath once - `//table[@id=&#39;standorteTable&#39;]/tbody/tr[1]/td[2]`","body":"Try with this xpath once - <code>&#47;&#47;table[@id=&#39;standorteTable&#39;]&#47;tbody&#47;tr[1]&#47;td[2]</code>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1637264856,"post_id":70020758,"comment_id":123786858,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code/HTML and properly format it instead.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the code/HTML and properly format it instead."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1637265028,"post_id":70020758,"comment_id":123786920,"body_markdown":"Are you sure the HTML you&#39;ve posted matches the location in the DOM from the screenshot? The HTML shows a table and the Standort section of the picture doesn&#39;t look like a table. I also don&#39;t see the field label &quot;Standortname&quot; that should be beside the &quot;Teststandor1&quot; value in the field. A link to the page would be really helpful here.","body":"Are you sure the HTML you&#39;ve posted matches the location in the DOM from the screenshot? The HTML shows a table and the Standort section of the picture doesn&#39;t look like a table. I also don&#39;t see the field label &quot;Standortname&quot; that should be beside the &quot;Teststandor1&quot; value in the field. A link to the page would be really helpful here."}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637252071,"creation_date":1637252071,"answer_id":70023226,"question_id":70020758,"body_markdown":"I guess you are missing a wait I.e. you trying to read the element text content before it is completely rendered.  \r\nTry this:\r\n```java\r\nWebDriverWait wait = new WebDriverWait(getDriver(), 30);\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//table[@id=&#39;standortTable&#39;]//td[@aria-colindex=&#39;2&#39;]&quot;)));\r\nString test = getDriver().findElement(By.xpath(&quot;//table[@id=&#39;standortTable&#39;]//td[@aria-colindex=&#39;2&#39;]&quot;)).getText();\r\nSystem.out.println(test);\r\n```","title":"How to extract text from td node using Selenium and Java","body":"<p>I guess you are missing a wait I.e. you trying to read the element text content before it is completely rendered.<br />\nTry this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(getDriver(), 30);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//table[@id='standortTable']//td[@aria-colindex='2']&quot;)));\nString test = getDriver().findElement(By.xpath(&quot;//table[@id='standortTable']//td[@aria-colindex='2']&quot;)).getText();\nSystem.out.println(test);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637272530,"creation_date":1637272530,"answer_id":70027235,"question_id":70020758,"body_markdown":"The element is an [Angular](https://angular.io/) element, so to extract the text _**Teststandort1**_ you have to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `visibilityOfElementLocated()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _xpath_ and `getText()`:\r\n\r\n\t  System.out.println(new WebDriverWait(getDriver(), 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//table[@id=&#39;standortTable&#39;]//tbody//tr[@class=&#39;ng-star-inserted&#39;]//td[@aria-colindex=&#39;2&#39;]&quot;))).getText());\r\n\r\n- Using _cssSelector_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n\t  System.out.println(new WebDriverWait(getDriver(), 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;table#standortTable tbody tr.ng-star-inserted td[aria-colindex=&#39;2&#39;]&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"How to extract text from td node using Selenium and Java","body":"<p>The element is an <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">Angular</a> element, so to extract the text <em><strong>Teststandort1</strong></em> you have to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>visibilityOfElementLocated()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>getText()</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(getDriver(), 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//table[@id='standortTable']//tbody//tr[@class='ng-star-inserted']//td[@aria-colindex='2']&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(getDriver(), 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;table#standortTable tbody tr.ng-star-inserted td[aria-colindex='2']&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":6415691,"reputation":37,"user_id":4973967,"display_name":"madeja peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1637272530,"creation_date":1637242278,"question_id":70020758,"body_markdown":"I need to get the text of a td element with selenium. I have problem with extract text, I just receive null. I tried used list, `getText()` and so on. The HTML code is on the picture and element looks like you can see on the picture.\r\n\r\n\r\n    getDriver().findElement(By.xpath(&quot;//*[@id=\\&quot;standortTable\\&quot;]/tbody/tr/td[2]&quot;)).isDisplayed();\r\n    String test = getDriver().findElement(By.xpath(&quot;//*[@id=\\&quot;standortTable\\&quot;]/tbody/tr/td[2]&quot;)).getText();\r\n    System.out.println(test);\r\n\r\nBut I receive NULL, just &quot;&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B6WGs.png\r\n\r\n","title":"How to extract text from td node using Selenium and Java","body":"<p>I need to get the text of a td element with selenium. I have problem with extract text, I just receive null. I tried used list, <code>getText()</code> and so on. The HTML code is on the picture and element looks like you can see on the picture.</p>\n<pre><code>getDriver().findElement(By.xpath(&quot;//*[@id=\\&quot;standortTable\\&quot;]/tbody/tr/td[2]&quot;)).isDisplayed();\nString test = getDriver().findElement(By.xpath(&quot;//*[@id=\\&quot;standortTable\\&quot;]/tbody/tr/td[2]&quot;)).getText();\nSystem.out.println(test);\n</code></pre>\n<p>But I receive NULL, just &quot;&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/B6WGs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6WGs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jacoco","maven-failsafe-plugin"],"answers":[{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637271663,"creation_date":1637271663,"answer_id":70027082,"question_id":70023612,"body_markdown":"If you want to see full logs in the console, may also need to set the `useFile` parameter as well. [See this answer](https://stackoverflow.com/a/22567627/944849).","title":"How to disable stacktrace trimming in JaCoCo Failsafe test execution?","body":"<p>If you want to see full logs in the console, may also need to set the <code>useFile</code> parameter as well. <a href=\"https://stackoverflow.com/a/22567627/944849\">See this answer</a>.</p>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637271663,"creation_date":1637253738,"question_id":70023612,"body_markdown":"The stactrace output by the unit test is truncated and not useful because of that.\r\nI don&#39;t have access to the surefire reports and the majority of the logs are suppressed because of the log level set in the command below.\r\nI also can&#39;t change the mvn command.\r\n\r\nHow do I disable stactrace trimming with the current limitations?\r\n\r\nCommand:\r\n```\r\nmvn -B -ntp -s settings.xml clean org.jacoco:jacoco-maven-plugin:0.8.7:prepare-agent test org.jacoco:jacoco-maven-plugin:0.8.7:report -Dcheckstyle.skip -Dorg.slf\r\n4j.simpleLogger.defaultLogLevel=warn\r\n```\r\n\r\nLog Output:\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.015 s &lt;&lt;&lt; FAILURE! - in ****.controller.RealmAdminControllerTest\r\n[ERROR] test  Time elapsed: 0.013 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NullPointerException\r\n        at ***.controller.RealmAdminControllerTest.test(RealmAdminControllerTest.java:18)\r\n```\r\n\r\nI&#39;ve tried adding trimStackTrace = false to the surefire &amp; failsafe plugins without any luck (individually and as a group):\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n\t\t\t\t\t&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"How to disable stacktrace trimming in JaCoCo Failsafe test execution?","body":"<p>The stactrace output by the unit test is truncated and not useful because of that.\nI don't have access to the surefire reports and the majority of the logs are suppressed because of the log level set in the command below.\nI also can't change the mvn command.</p>\n<p>How do I disable stactrace trimming with the current limitations?</p>\n<p>Command:</p>\n<pre><code>mvn -B -ntp -s settings.xml clean org.jacoco:jacoco-maven-plugin:0.8.7:prepare-agent test org.jacoco:jacoco-maven-plugin:0.8.7:report -Dcheckstyle.skip -Dorg.slf\n4j.simpleLogger.defaultLogLevel=warn\n</code></pre>\n<p>Log Output:</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.015 s &lt;&lt;&lt; FAILURE! - in ****.controller.RealmAdminControllerTest\n[ERROR] test  Time elapsed: 0.013 s  &lt;&lt;&lt; ERROR!\njava.lang.NullPointerException\n        at ***.controller.RealmAdminControllerTest.test(RealmAdminControllerTest.java:18)\n</code></pre>\n<p>I've tried adding trimStackTrace = false to the surefire &amp; failsafe plugins without any luck (individually and as a group):</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1637269384,"post_id":70026635,"comment_id":123788410,"body_markdown":"Swing and Threads do not really mix. If you must use threads start here: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html","body":"Swing and Threads do not really mix. If you must use threads start here: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/index.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":1683175,"reputation":1722,"user_id":1546989,"display_name":"Andrew Merrill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637271636,"creation_date":1637269643,"answer_id":70026749,"question_id":70026635,"body_markdown":"The issue is that your thread is started before the Board&#39;s JPanel is added to the JFrame and its layout determined, and so the width and height of the panel are zero.\r\n\r\nThe right thing to do is to wait until the frame and its panels are all set up before starting the thread.\r\n\r\nOne quick-and-dirty solution is to add a line like `if (width == 0 || height == 0) continue;` right after you get the width and height.  This relies on the fact that panels are initially created with a width and height of zero, and so it now won&#39;t do any calculations with your ball until you have a non-zero size for your board.\r\n\r\nA better solution would be to do something like this at the end of your `main` function:\r\n\r\n     EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                board.thread.start();\r\n            }\r\n     });\r\n\r\nThis assumes that you are now storing your board in a variable called `board` and that your Board class stores its Thread in a field called `thread`.  This will wait until Swing is done with other tasks on its event queue (and thus has finished setting up your frame and panel) before starting your thread.\r\n\r\n\r\n","title":"Why is the ball not starting at the right coordinates?","body":"<p>The issue is that your thread is started before the Board's JPanel is added to the JFrame and its layout determined, and so the width and height of the panel are zero.</p>\n<p>The right thing to do is to wait until the frame and its panels are all set up before starting the thread.</p>\n<p>One quick-and-dirty solution is to add a line like <code>if (width == 0 || height == 0) continue;</code> right after you get the width and height.  This relies on the fact that panels are initially created with a width and height of zero, and so it now won't do any calculations with your ball until you have a non-zero size for your board.</p>\n<p>A better solution would be to do something like this at the end of your <code>main</code> function:</p>\n<pre><code> EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            board.thread.start();\n        }\n });\n</code></pre>\n<p>This assumes that you are now storing your board in a variable called <code>board</code> and that your Board class stores its Thread in a field called <code>thread</code>.  This will wait until Swing is done with other tasks on its event queue (and thus has finished setting up your frame and panel) before starting your thread.</p>\n"}],"owner":{"account_id":23385734,"reputation":33,"user_id":17451133,"display_name":"GunTish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70026749,"answer_count":1,"score":3,"last_activity_date":1637271636,"creation_date":1637268989,"question_id":70026635,"body_markdown":"I&#39;m doing something where the ball bounces around the board from given coordinates but it&#39;s not working. No matter what I do, the ball always start moving from the top left.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\n \r\npublic class Board extends JPanel {\r\n\t\r\n  // Board dimensions\r\n\tint width;\r\n\tint height;\r\n\t\r\n  // Ball size\r\n\tint radius = 4;\r\n\tint diameter = radius * 2;\r\n\t\r\n  // Ball initial position\r\n\tint X = radius + 239;\r\n\tint Y = radius + 100;\r\n\t\r\n  // Direction\r\n\tint dx = 3;\r\n\tint dy = 3;\r\n\t\r\n\tpublic Board() {\r\n\t\tThread thread = new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t\twidth = getWidth();\r\n\t\t\t\t\theight = getHeight();\r\n\t\t\t\t\t\r\n\t\t\t\t\tX = X + dx ;\r\n\t\t\t\t\tY = Y + dy;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (X - radius &lt; 0) {\r\n\t\t\t\t\t\tdx = -dx; \r\n\t\t\t\t\t\tX = radius;\r\n\t\t\t\t\t} else if (X + radius &gt; width) {\r\n\t\t\t\t\t\tdx = -dx;\r\n\t\t\t\t\t\tX = width - radius;\r\n\t\t\t\t\t}\r\n \r\n\t\t\t\t\tif (Y - radius &lt; 0) {\r\n\t\t\t\t\t\tdy = -dy;\r\n\t\t\t\t\t\tY = radius;\r\n\t\t\t\t\t} else if (Y + radius &gt; height) {\r\n\t\t\t\t\t\tdy = -dy;\r\n\t\t\t\t\t\tY = height - radius;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t} catch(InterruptedException ex) {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tthread.start();\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tg.setColor(Color.BLUE);\r\n\t\tg.fillOval((int)(X - radius), (int)(Y - radius), (int)diameter, (int)diameter);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame frame = new JFrame(&quot;Bouncing Ball&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(500, 300);\r\n\t\tframe.setContentPane(new Board());\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setResizable(false);\r\n\t}\r\n}\r\n ```\r\nBefore adding the ```thread.start();``` the ball is at the right position but as soon as I do, the ball goes back on the top left.\r\n\r\nHelp would be greatly appreciated!","title":"Why is the ball not starting at the right coordinates?","body":"<p>I'm doing something where the ball bounces around the board from given coordinates but it's not working. No matter what I do, the ball always start moving from the top left.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n \npublic class Board extends JPanel {\n    \n  // Board dimensions\n    int width;\n    int height;\n    \n  // Ball size\n    int radius = 4;\n    int diameter = radius * 2;\n    \n  // Ball initial position\n    int X = radius + 239;\n    int Y = radius + 100;\n    \n  // Direction\n    int dx = 3;\n    int dy = 3;\n    \n    public Board() {\n        Thread thread = new Thread() {\n            public void run() {\n                while (true) {\n                    repaint();\n                    width = getWidth();\n                    height = getHeight();\n                    \n                    X = X + dx ;\n                    Y = Y + dy;\n                    \n                    if (X - radius &lt; 0) {\n                        dx = -dx; \n                        X = radius;\n                    } else if (X + radius &gt; width) {\n                        dx = -dx;\n                        X = width - radius;\n                    }\n \n                    if (Y - radius &lt; 0) {\n                        dy = -dy;\n                        Y = radius;\n                    } else if (Y + radius &gt; height) {\n                        dy = -dy;\n                        Y = height - radius;\n                    }\n                    \n                    try {\n                        Thread.sleep(10);\n                    } catch(InterruptedException ex) {}\n                }\n            }\n        };\n        thread.start();\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.BLUE);\n        g.fillOval((int)(X - radius), (int)(Y - radius), (int)diameter, (int)diameter);\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Bouncing Ball&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 300);\n        frame.setContentPane(new Board());\n        frame.setVisible(true);\n        frame.setResizable(false);\n    }\n}\n</code></pre>\n<p>Before adding the <code>thread.start();</code> the ball is at the right position but as soon as I do, the ball goes back on the top left.</p>\n<p>Help would be greatly appreciated!</p>\n"},{"tags":["java","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637255862,"post_id":70023973,"comment_id":123783694,"body_markdown":"[this?](https://stackoverflow.com/questions/50167184/how-can-you-wrap-a-junit-5-test)","body":"<a href=\"https://stackoverflow.com/questions/50167184/how-can-you-wrap-a-junit-5-test\">this?</a>"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1637257001,"post_id":70023973,"comment_id":123784083,"body_markdown":"@Eugene That gets me one class intercepted, but not all classes (unless I manually add to each class). I updated the question to clarify.","body":"@Eugene That gets me one class intercepted, but not all classes (unless I manually add to each class). I updated the question to clarify."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637257294,"post_id":70023973,"comment_id":123784193,"body_markdown":"there is a way to register a global extension in junit5, google and search for that","body":"there is a way to register a global extension in junit5, google and search for that"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1637263320,"post_id":70023973,"comment_id":123786358,"body_markdown":"The only way I&#39;ve found so far requires messing with command arguments for maven to enable the ServiceLoader which I don&#39;t have access to do.","body":"The only way I&#39;ve found so far requires messing with command arguments for maven to enable the ServiceLoader which I don&#39;t have access to do."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637264015,"post_id":70023973,"comment_id":123786613,"body_markdown":"wait, [this](https://junit.org/junit5/docs/current/user-guide/#launcher-api-engines-custom) would not work for you?","body":"wait, <a href=\"https://junit.org/junit5/docs/current/user-guide/#launcher-api-engines-custom\" rel=\"nofollow noreferrer\">this</a> would not work for you?"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1637267526,"post_id":70023973,"comment_id":123787769,"body_markdown":"To enable service loader, you need to specify a command argument for it to work. Since I don&#39;t have access to update the command, it wouldn&#39;t work for me unless there&#39;s a way to add it after-the-fact.","body":"To enable service loader, you need to specify a command argument for it to work. Since I don&#39;t have access to update the command, it wouldn&#39;t work for me unless there&#39;s a way to add it after-the-fact."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1637267634,"post_id":70023973,"comment_id":123787800,"body_markdown":"I&#39;ll give it a shot anyway. maybe I&#39;ll get lucking and it&#39;s enabled by default, now.","body":"I&#39;ll give it a shot anyway. maybe I&#39;ll get lucking and it&#39;s enabled by default, now."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1637271515,"post_id":70023973,"comment_id":123789086,"body_markdown":"look at the provided answer, it explains what `i was trying to tell you","body":"look at the provided answer, it explains what `i was trying to tell you"}],"answers":[{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637271432,"creation_date":1637271432,"answer_id":70027058,"question_id":70023973,"body_markdown":"According to [this instruction][1] in order register a global extension (without modifying the run command) you simply need to add two files to your classpath:\r\n\r\n1. Extension configuraion file where you declare your extension fully qualified name\r\n`src/test/resources/META-INF/services/org.junit.jupiter.api.extension.Extension`:\r\n```\r\ncom.example.PrintTraceInterceptor\r\n```\r\n\r\n2. Junit Platform configuration file, where you enable autodetection so that the extension configuration is taken into account\r\n\r\n\r\n`src/test/resources/junit-platform.properties`:\r\n```\r\njunit.jupiter.extensions.autodetection.enabled=true\r\n```\r\n\r\nNow `mvn test` command applies your extension to any test class.\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic","title":"Using JUnit 5 (Jupiter), how do i intercept all method calls?","body":"<p>According to <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic\" rel=\"nofollow noreferrer\">this instruction</a> in order register a global extension (without modifying the run command) you simply need to add two files to your classpath:</p>\n<ol>\n<li>Extension configuraion file where you declare your extension fully qualified name\n<code>src/test/resources/META-INF/services/org.junit.jupiter.api.extension.Extension</code>:</li>\n</ol>\n<pre><code>com.example.PrintTraceInterceptor\n</code></pre>\n<ol start=\"2\">\n<li>Junit Platform configuration file, where you enable autodetection so that the extension configuration is taken into account</li>\n</ol>\n<p><code>src/test/resources/junit-platform.properties</code>:</p>\n<pre><code>junit.jupiter.extensions.autodetection.enabled=true\n</code></pre>\n<p>Now <code>mvn test</code> command applies your extension to any test class.</p>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637271432,"creation_date":1637255382,"question_id":70023973,"body_markdown":"Goal:\r\nIntercept all test methods.  \r\nIf an exception is thrown by the test, call `e.printStackTrace()` then rethrow the exception.\r\n\r\nI&#39;m not sure how to register the interceptor for all test methods.\r\n\r\nSample Interceptor:\r\n```\r\npublic class PrintTraceInterceptor implements InvocationInterceptor {\r\n\r\n\t@Override\r\n\tpublic void interceptTestMethod(Invocation&lt;Void&gt; invocation,\r\n\t\t\tReflectiveInvocationContext&lt;Method&gt; invocationContext,\r\n\t\t\tExtensionContext extensionContext) throws Throwable {\r\n\r\n\t\tAtomicReference&lt;Throwable&gt; throwable = new AtomicReference&lt;&gt;();\r\n\r\n\t\tSwingUtilities.invokeAndWait(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tinvocation.proceed();\r\n\t\t\t} catch (Throwable t) {\r\n\t\t\t\tthrowable.set(t);\r\n\t\t\t\tt.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t\tThrowable t = throwable.get();\r\n\t\tif (t != null) {\r\n\t\t\tthrow t;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n##### Update w/ clarification:  \r\nI&#39;m able to intercept a specific test class&#39;s methods by adding `@ExtendWith(PrintTraceInterceptor.class)` to the class definition, but I&#39;d like to globally register it for all test methods in all classes.","title":"Using JUnit 5 (Jupiter), how do i intercept all method calls?","body":"<p>Goal:\nIntercept all test methods.<br />\nIf an exception is thrown by the test, call <code>e.printStackTrace()</code> then rethrow the exception.</p>\n<p>I'm not sure how to register the interceptor for all test methods.</p>\n<p>Sample Interceptor:</p>\n<pre><code>public class PrintTraceInterceptor implements InvocationInterceptor {\n\n    @Override\n    public void interceptTestMethod(Invocation&lt;Void&gt; invocation,\n            ReflectiveInvocationContext&lt;Method&gt; invocationContext,\n            ExtensionContext extensionContext) throws Throwable {\n\n        AtomicReference&lt;Throwable&gt; throwable = new AtomicReference&lt;&gt;();\n\n        SwingUtilities.invokeAndWait(() -&gt; {\n            try {\n                invocation.proceed();\n            } catch (Throwable t) {\n                throwable.set(t);\n                t.printStackTrace();\n            }\n        });\n        Throwable t = throwable.get();\n        if (t != null) {\n            throw t;\n        }\n    }\n}\n</code></pre>\n<h5>Update w/ clarification:</h5>\n<p>I'm able to intercept a specific test class's methods by adding <code>@ExtendWith(PrintTraceInterceptor.class)</code> to the class definition, but I'd like to globally register it for all test methods in all classes.</p>\n"},{"tags":["java","swing","intellij-idea","nullpointerexception","swingbuilder"],"comments":[{"owner":{"account_id":23290244,"reputation":29,"user_id":17372437,"display_name":"carlb710"},"score":0,"creation_date":1636784159,"post_id":69951828,"comment_id":123654392,"body_markdown":"Added the entire stack trace. To be honest, this is as minimal as I can get it since I&#39;m really not sure where exactly it&#39;s going wrong other than what I have already described. As far as I can tell the exception occurs during the construction of the JFrame that everything lives in, but the error occasionally does not occur, usually when the spinner int value that I referred to in the original post has not been changed between program restarts. I don&#39;t know much more than that, I&#39;ve been stuck on this for a while... I can&#39;t figure out where to catch the exception since it keeps changing.","body":"Added the entire stack trace. To be honest, this is as minimal as I can get it since I&#39;m really not sure where exactly it&#39;s going wrong other than what I have already described. As far as I can tell the exception occurs during the construction of the JFrame that everything lives in, but the error occasionally does not occur, usually when the spinner int value that I referred to in the original post has not been changed between program restarts. I don&#39;t know much more than that, I&#39;ve been stuck on this for a while... I can&#39;t figure out where to catch the exception since it keeps changing."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636787217,"post_id":69951828,"comment_id":123654803,"body_markdown":"The stack trace does not appear to contain any of your code. It looks to me that the problem is with the look-and-feel that you are using. You need to debug your app. I found [source code](https://github.com/openjdk/shenandoah/blob/master/src/java.desktop/macosx/classes/com/apple/laf/AquaTabbedPaneCopyFromBasicUI.java) for class `com.apple.laf.AquaTabbedPaneCopyFromBasicUI`. I&#39;m just guessing but this line may be returning null: `tabAreaInsets = UIManager.getInsets(&quot;TabbedPane.tabAreaInsets&quot;);`","body":"The stack trace does not appear to contain any of your code. It looks to me that the problem is with the look-and-feel that you are using. You need to debug your app. I found <a href=\"https://github.com/openjdk/shenandoah/blob/master/src/java.desktop/macosx/classes/com/apple/laf/AquaTabbedPaneCopyFromBasicUI.java\" rel=\"nofollow noreferrer\">source code</a> for class <code>com.apple.laf.AquaTabbedPaneCopyFromBasicUI</code>. I&#39;m just guessing but this line may be returning null: <code>tabAreaInsets = UIManager.getInsets(&quot;TabbedPane.tabAreaInsets&quot;);</code>"},{"owner":{"account_id":23290244,"reputation":29,"user_id":17372437,"display_name":"carlb710"},"score":0,"creation_date":1636788095,"post_id":69951828,"comment_id":123654933,"body_markdown":"I appreciate you taking a look, thank you!","body":"I appreciate you taking a look, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":23290244,"reputation":29,"user_id":17372437,"display_name":"carlb710"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637271303,"creation_date":1637271303,"answer_id":70027032,"question_id":69951828,"body_markdown":"My issue was coming from the Main class that instantiated my GUI. I set the look and feel after creating the JFrame, when it should have been done before creating any GUI elements. This fixed my problem","title":"NullPointerException related to hidden Swing GUI elements","body":"<p>My issue was coming from the Main class that instantiated my GUI. I set the look and feel after creating the JFrame, when it should have been done before creating any GUI elements. This fixed my problem</p>\n"}],"owner":{"account_id":23290244,"reputation":29,"user_id":17372437,"display_name":"carlb710"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70027032,"answer_count":1,"score":-2,"last_activity_date":1637271303,"creation_date":1636782930,"question_id":69951828,"body_markdown":"https://github.com/carlb710/myProgram\r\n\r\nI&#39;m using IntelliJ Swing GUI editor to make the front-end of my program. Based on the int value returned by a spinner, certain elements of the GUI are shown or hidden. Every time I change that int value and restart the program, one of many exceptions is thrown, all NullPointer Exceptions. I think they are always in the same thread, it&#39;s just the reason that varies.\r\n\r\n\r\n\r\nError usually looks something like these below:\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot read field &quot;top&quot; because &quot;topInsets&quot; is null\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.rotateInsets(AquaTabbedPaneCopyFromBasicUI.java:2000)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.getTabAreaInsets(AquaTabbedPaneCopyFromBasicUI.java:1681)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneUI$AquaTruncatingTabbedPaneLayout.superCalculateTabRects(AquaTabbedPaneUI.java:1133)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneUI$AquaTruncatingTabbedPaneLayout.calculateTabRects(AquaTabbedPaneUI.java:1091)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI$TabbedPaneLayout.calculateLayoutInfo(AquaTabbedPaneCopyFromBasicUI.java:2322)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI$TabbedPaneLayout.layoutContainer(AquaTabbedPaneCopyFromBasicUI.java:2226)\r\n\tat java.desktop/java.awt.Container.layout(Container.java:1538)\r\n\tat java.desktop/java.awt.Container.doLayout(Container.java:1527)\r\n\tat java.desktop/java.awt.Container.validateTree(Container.java:1723)\r\n\tat java.desktop/java.awt.Container.validate(Container.java:1658)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.ensureCurrentLayout(AquaTabbedPaneCopyFromBasicUI.java:1335)\r\n\tat java.desktop/com.apple.laf.AquaTabbedPaneUI.paint(AquaTabbedPaneUI.java:148)\r\n\tat java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n\tat java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:797)\r\n\tat java.desktop/javax.swing.JComponent.paint(JComponent.java:1074)\r\n\tat java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\r\n\tat java.desktop/javax.swing.JComponent.paint(JComponent.java:1083)\r\n\tat java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\r\n\tat java.desktop/javax.swing.JComponent.paint(JComponent.java:1083)\r\n\tat java.desktop/javax.swing.JLayeredPane.paint(JLayeredPane.java:586)\r\n\tat java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\r\n\tat java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5271)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBufferedImpl(RepaintManager.java:1643)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1618)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1556)\r\n\tat java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1323)\r\n\tat java.desktop/javax.swing.JComponent.paint(JComponent.java:1060)\r\n\tat java.desktop/java.awt.GraphicsCallback$PaintCallback.run(GraphicsCallback.java:39)\r\n\tat java.desktop/sun.awt.SunGraphicsCallback.runOneComponent(SunGraphicsCallback.java:75)\r\n\tat java.desktop/sun.awt.SunGraphicsCallback.runComponents(SunGraphicsCallback.java:112)\r\n\tat java.desktop/java.awt.Container.paint(Container.java:2003)\r\n\tat java.desktop/java.awt.Window.paint(Window.java:3949)\r\n\tat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:876)\r\n\tat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:848)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:848)\r\n\tat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:823)\r\n\tat java.desktop/javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:772)\r\n\tat java.desktop/javax.swing.RepaintManager$ProcessingRunnable.run(RepaintManager.java:1884)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```\r\n\r\nThe exceptions seem to be thrown when I run the following code in my main class to create the JFrame instance for my program:\r\n\r\n     App window = null;\r\n        try{\r\n            window = new App();\r\n        } catch(NullPointerException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        JFrame frame = new JFrame(&quot;Java QA Checker&quot;);\r\n        frame.setContentPane(window.landing);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        Font font = new Font(&quot;Helvetica&quot;, Font.PLAIN, 16);\r\n\r\n\r\nMy GUI constructor looks like this where I think the issue is coming from:\r\n\r\n```java public App() {\r\n//listener for spinner, changes number of elements on screen\r\n        spinner1.addChangeListener(new ChangeListener() {\r\n            @Override\r\n            public void stateChanged(ChangeEvent e) {\r\n                numOfFiles = (Integer) spinner1.getValue();\r\n\r\n//switch statement sets number of elements for file settings visible or not based on spinner value up to 12\r\n                try {\r\n                    switch(numOfFiles){\r\n                        case 0:{\r\n                            file1OriginLabel.setVisible(true);\r\n                            file2OriginLabel.setVisible(true);\r\n                            file3OriginLabel.setVisible(true);\r\n                            file4OriginLabel.setVisible(true);\r\n                            file5OriginLabel.setVisible(true);\r\n                            file6OriginLabel.setVisible(true);\r\n                            file7OriginLabel.setVisible(true);\r\n                            file8OriginLabel.setVisible(true);\r\n                            file9OriginLabel.setVisible(true);\r\n                            file10OriginLabel.setVisible(true);\r\n                            file11OriginLabel.setVisible(true);\r\n                            file12OriginLabel.setVisible(true);\r\n\r\n                            file1OriginInputted.setVisible(true);\r\n                            file2OriginInputted.setVisible(true);\r\n                            file3OriginInputted.setVisible(true);\r\n                            file4OriginInputted.setVisible(true);\r\n                            file5OriginInputted.setVisible(true);\r\n                            file6OriginInputted.setVisible(true);\r\n                            file7OriginInputted.setVisible(true);\r\n                            file8OriginInputted.setVisible(true);\r\n                            file9OriginInputted.setVisible(true);\r\n                            file10OriginInputted.setVisible(true);\r\n                            file11OriginInputted.setVisible(true);\r\n                            file12OriginInputted.setVisible(true);\r\n\r\n                            addFileButton1.setVisible(true);\r\n                            addFileButton2.setVisible(true);\r\n                            addFileButton3.setVisible(true);\r\n                            addFileButton4.setVisible(true);\r\n                            addFileButton5.setVisible(true);\r\n                            addFileButton6.setVisible(true);\r\n                            addFileButton7.setVisible(true);\r\n                            addFileButton8.setVisible(true);\r\n                            addFileButton9.setVisible(true);\r\n                            addFileButton10.setVisible(true);\r\n                            addFileButton11.setVisible(true);\r\n                            addFileButton12.setVisible(true);\r\n\r\n                            filePathLabel1.setVisible(true);\r\n                            filePathLabel2.setVisible(true);\r\n                            filePathLabel3.setVisible(true);\r\n                            filePathLabel4.setVisible(true);\r\n                            filePathLabel5.setVisible(true);\r\n                            filePathLabel6.setVisible(true);\r\n                            filePathLabel7.setVisible(true);\r\n                            filePathLabel8.setVisible(true);\r\n                            filePathLabel9.setVisible(true);\r\n                            filePathLabel10.setVisible(true);\r\n                            filePathLabel11.setVisible(true);\r\n                            filePathLabel12.setVisible(true);\r\n                        } break;\r\n                        case 1:{\r\n                            file1OriginLabel.setVisible(true);\r\n                            file2OriginLabel.setVisible(false);\r\n                            file3OriginLabel.setVisible(false);\r\n                            file4OriginLabel.setVisible(false);\r\n                            file5OriginLabel.setVisible(false);\r\n                            file6OriginLabel.setVisible(false);\r\n                            file7OriginLabel.setVisible(false);\r\n                            file8OriginLabel.setVisible(false);\r\n                            file9OriginLabel.setVisible(false);\r\n                            file10OriginLabel.setVisible(false);\r\n                            file11OriginLabel.setVisible(false);\r\n                            file12OriginLabel.setVisible(false);\r\n\r\n                            file1OriginInputted.setVisible(true);\r\n                            file2OriginInputted.setVisible(false);\r\n                            file3OriginInputted.setVisible(false);\r\n                            file4OriginInputted.setVisible(false);\r\n                            file5OriginInputted.setVisible(false);\r\n                            file6OriginInputted.setVisible(false);\r\n                            file7OriginInputted.setVisible(false);\r\n                            file8OriginInputted.setVisible(false);\r\n                            file9OriginInputted.setVisible(false);\r\n                            file10OriginInputted.setVisible(false);\r\n                            file11OriginInputted.setVisible(false);\r\n                            file12OriginInputted.setVisible(false);\r\n\r\n                            addFileButton1.setVisible(true);\r\n                            addFileButton2.setVisible(false);\r\n                            addFileButton3.setVisible(false);\r\n                            addFileButton4.setVisible(false);\r\n                            addFileButton5.setVisible(false);\r\n                            addFileButton6.setVisible(false);\r\n                            addFileButton7.setVisible(false);\r\n                            addFileButton8.setVisible(false);\r\n                            addFileButton9.setVisible(false);\r\n                            addFileButton10.setVisible(false);\r\n                            addFileButton11.setVisible(false);\r\n                            addFileButton12.setVisible(false);\r\n\r\n                            filePathLabel1.setVisible(true);\r\n                            filePathLabel2.setVisible(false);\r\n                            filePathLabel3.setVisible(false);\r\n                            filePathLabel4.setVisible(false);\r\n                            filePathLabel5.setVisible(false);\r\n                            filePathLabel6.setVisible(false);\r\n                            filePathLabel7.setVisible(false);\r\n                            filePathLabel8.setVisible(false);\r\n                            filePathLabel9.setVisible(false);\r\n                            filePathLabel10.setVisible(false);\r\n                            filePathLabel11.setVisible(false);\r\n                            filePathLabel12.setVisible(false);\r\n                        }break;\r\n                        case 2:{\r\n                            file1OriginLabel.setVisible(true);\r\n                            file2OriginLabel.setVisible(true);\r\n                            file3OriginLabel.setVisible(false);\r\n                            file4OriginLabel.setVisible(false);\r\n                            file5OriginLabel.setVisible(false);\r\n                            file6OriginLabel.setVisible(false);\r\n                            file7OriginLabel.setVisible(false);\r\n                            file8OriginLabel.setVisible(false);\r\n                            file9OriginLabel.setVisible(false);\r\n                            file10OriginLabel.setVisible(false);\r\n                            file11OriginLabel.setVisible(false);\r\n                            file12OriginLabel.setVisible(false);\r\n\r\n                            file1OriginInputted.setVisible(true);\r\n                            file2OriginInputted.setVisible(true);\r\n                            file3OriginInputted.setVisible(false);\r\n                            file4OriginInputted.setVisible(false);\r\n                            file5OriginInputted.setVisible(false);\r\n                            file6OriginInputted.setVisible(false);\r\n                            file7OriginInputted.setVisible(false);\r\n                            file8OriginInputted.setVisible(false);\r\n                            file9OriginInputted.setVisible(false);\r\n                            file10OriginInputted.setVisible(false);\r\n                            file11OriginInputted.setVisible(false);\r\n                            file12OriginInputted.setVisible(false);\r\n\r\n                            addFileButton1.setVisible(true);\r\n                            addFileButton2.setVisible(true);\r\n                            addFileButton3.setVisible(false);\r\n                            addFileButton4.setVisible(false);\r\n                            addFileButton5.setVisible(false);\r\n                            addFileButton6.setVisible(false);\r\n                            addFileButton7.setVisible(false);\r\n                            addFileButton8.setVisible(false);\r\n                            addFileButton9.setVisible(false);\r\n                            addFileButton10.setVisible(false);\r\n                            addFileButton11.setVisible(false);\r\n                            addFileButton12.setVisible(false);\r\n\r\n                            filePathLabel1.setVisible(true);\r\n                            filePathLabel2.setVisible(true);\r\n                            filePathLabel3.setVisible(false);\r\n                            filePathLabel4.setVisible(false);\r\n                            filePathLabel5.setVisible(false);\r\n                            filePathLabel6.setVisible(false);\r\n                            filePathLabel7.setVisible(false);\r\n                            filePathLabel8.setVisible(false);\r\n                            filePathLabel9.setVisible(false);\r\n                            filePathLabel10.setVisible(false);\r\n                            filePathLabel11.setVisible(false);\r\n                            filePathLabel12.setVisible(false);\r\n\r\n\r\n                        } break;\r\n                        case 3:{\r\n                            file1OriginLabel.setVisible(true);\r\n                            file2OriginLabel.setVisible(true);\r\n                            file3OriginLabel.setVisible(true);\r\n                            file4OriginLabel.setVisible(false);\r\n                            file5OriginLabel.setVisible(false);\r\n                            file6OriginLabel.setVisible(false);\r\n                            file7OriginLabel.setVisible(false);\r\n                            file8OriginLabel.setVisible(false);\r\n                            file9OriginLabel.setVisible(false);\r\n                            file10OriginLabel.setVisible(false);\r\n                            file11OriginLabel.setVisible(false);\r\n                            file12OriginLabel.setVisible(false);\r\n\r\n                            file1OriginInputted.setVisible(true);\r\n                            file2OriginInputted.setVisible(true);\r\n                            file3OriginInputted.setVisible(true);\r\n                            file4OriginInputted.setVisible(false);\r\n                            file5OriginInputted.setVisible(false);\r\n                            file6OriginInputted.setVisible(false);\r\n                            file7OriginInputted.setVisible(false);\r\n                            file8OriginInputted.setVisible(false);\r\n                            file9OriginInputted.setVisible(false);\r\n                            file10OriginInputted.setVisible(false);\r\n                            file11OriginInputted.setVisible(false);\r\n                            file12OriginInputted.setVisible(false);\r\n\r\n                            addFileButton1.setVisible(true);\r\n                            addFileButton2.setVisible(true);\r\n                            addFileButton3.setVisible(true);\r\n                            addFileButton4.setVisible(false);\r\n                            addFileButton5.setVisible(false);\r\n                            addFileButton6.setVisible(false);\r\n                            addFileButton7.setVisible(false);\r\n                            addFileButton8.setVisible(false);\r\n                            addFileButton9.setVisible(false);\r\n                            addFileButton10.setVisible(false);\r\n                            addFileButton11.setVisible(false);\r\n                            addFileButton12.setVisible(false);\r\n\r\n                            filePathLabel1.setVisible(true);\r\n                            filePathLabel2.setVisible(true);\r\n                            filePathLabel3.setVisible(true);\r\n                            filePathLabel4.setVisible(false);\r\n                            filePathLabel5.setVisible(false);\r\n                            filePathLabel6.setVisible(false);\r\n                            filePathLabel7.setVisible(false);\r\n                            filePathLabel8.setVisible(false);\r\n                            filePathLabel9.setVisible(false);\r\n                            filePathLabel10.setVisible(false);\r\n                            filePathLabel11.setVisible(false);\r\n                            filePathLabel12.setVisible(false);\r\n                        }break;\r\n                        case 4:{..\r\n                        } break;\r\n//this goes until case 12, each just continues to make one more item .setVisible = true until all 12 elements are visible.\r\n                        default: break;\r\n                    }\r\n                } catch(NullPointerException e1){\r\n                    e1.printStackTrace();\r\n                    SwingUtilities.updateComponentTreeUI(landing);\r\n                }\r\n\r\n\r\n                SwingUtilities.updateComponentTreeUI(landing);\r\n\r\n\r\n            }\r\n        });\r\n\r\n//additional code here that shouldn&#39;t be relevant to the issue\r\n    } ```","title":"NullPointerException related to hidden Swing GUI elements","body":"<p><a href=\"https://github.com/carlb710/myProgram\" rel=\"nofollow noreferrer\">https://github.com/carlb710/myProgram</a></p>\n<p>I'm using IntelliJ Swing GUI editor to make the front-end of my program. Based on the int value returned by a spinner, certain elements of the GUI are shown or hidden. Every time I change that int value and restart the program, one of many exceptions is thrown, all NullPointer Exceptions. I think they are always in the same thread, it's just the reason that varies.</p>\n<p>Error usually looks something like these below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot read field &quot;top&quot; because &quot;topInsets&quot; is null\n    at java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.rotateInsets(AquaTabbedPaneCopyFromBasicUI.java:2000)\n    at java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.getTabAreaInsets(AquaTabbedPaneCopyFromBasicUI.java:1681)\n    at java.desktop/com.apple.laf.AquaTabbedPaneUI$AquaTruncatingTabbedPaneLayout.superCalculateTabRects(AquaTabbedPaneUI.java:1133)\n    at java.desktop/com.apple.laf.AquaTabbedPaneUI$AquaTruncatingTabbedPaneLayout.calculateTabRects(AquaTabbedPaneUI.java:1091)\n    at java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI$TabbedPaneLayout.calculateLayoutInfo(AquaTabbedPaneCopyFromBasicUI.java:2322)\n    at java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI$TabbedPaneLayout.layoutContainer(AquaTabbedPaneCopyFromBasicUI.java:2226)\n    at java.desktop/java.awt.Container.layout(Container.java:1538)\n    at java.desktop/java.awt.Container.doLayout(Container.java:1527)\n    at java.desktop/java.awt.Container.validateTree(Container.java:1723)\n    at java.desktop/java.awt.Container.validate(Container.java:1658)\n    at java.desktop/com.apple.laf.AquaTabbedPaneCopyFromBasicUI.ensureCurrentLayout(AquaTabbedPaneCopyFromBasicUI.java:1335)\n    at java.desktop/com.apple.laf.AquaTabbedPaneUI.paint(AquaTabbedPaneUI.java:148)\n    at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\n    at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:797)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1074)\n    at java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1083)\n    at java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1083)\n    at java.desktop/javax.swing.JLayeredPane.paint(JLayeredPane.java:586)\n    at java.desktop/javax.swing.JComponent.paintChildren(JComponent.java:907)\n    at java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5271)\n    at java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBufferedImpl(RepaintManager.java:1643)\n    at java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1618)\n    at java.desktop/javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1556)\n    at java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1323)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1060)\n    at java.desktop/java.awt.GraphicsCallback$PaintCallback.run(GraphicsCallback.java:39)\n    at java.desktop/sun.awt.SunGraphicsCallback.runOneComponent(SunGraphicsCallback.java:75)\n    at java.desktop/sun.awt.SunGraphicsCallback.runComponents(SunGraphicsCallback.java:112)\n    at java.desktop/java.awt.Container.paint(Container.java:2003)\n    at java.desktop/java.awt.Window.paint(Window.java:3949)\n    at java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:876)\n    at java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:848)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:848)\n    at java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:823)\n    at java.desktop/javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:772)\n    at java.desktop/javax.swing.RepaintManager$ProcessingRunnable.run(RepaintManager.java:1884)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>The exceptions seem to be thrown when I run the following code in my main class to create the JFrame instance for my program:</p>\n<pre><code> App window = null;\n    try{\n        window = new App();\n    } catch(NullPointerException e){\n        e.printStackTrace();\n    }\n\n\n    JFrame frame = new JFrame(&quot;Java QA Checker&quot;);\n    frame.setContentPane(window.landing);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n    Font font = new Font(&quot;Helvetica&quot;, Font.PLAIN, 16);\n</code></pre>\n<p>My GUI constructor looks like this where I think the issue is coming from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//listener for spinner, changes number of elements on screen\n        spinner1.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                numOfFiles = (Integer) spinner1.getValue();\n\n//switch statement sets number of elements for file settings visible or not based on spinner value up to 12\n                try {\n                    switch(numOfFiles){\n                        case 0:{\n                            file1OriginLabel.setVisible(true);\n                            file2OriginLabel.setVisible(true);\n                            file3OriginLabel.setVisible(true);\n                            file4OriginLabel.setVisible(true);\n                            file5OriginLabel.setVisible(true);\n                            file6OriginLabel.setVisible(true);\n                            file7OriginLabel.setVisible(true);\n                            file8OriginLabel.setVisible(true);\n                            file9OriginLabel.setVisible(true);\n                            file10OriginLabel.setVisible(true);\n                            file11OriginLabel.setVisible(true);\n                            file12OriginLabel.setVisible(true);\n\n                            file1OriginInputted.setVisible(true);\n                            file2OriginInputted.setVisible(true);\n                            file3OriginInputted.setVisible(true);\n                            file4OriginInputted.setVisible(true);\n                            file5OriginInputted.setVisible(true);\n                            file6OriginInputted.setVisible(true);\n                            file7OriginInputted.setVisible(true);\n                            file8OriginInputted.setVisible(true);\n                            file9OriginInputted.setVisible(true);\n                            file10OriginInputted.setVisible(true);\n                            file11OriginInputted.setVisible(true);\n                            file12OriginInputted.setVisible(true);\n\n                            addFileButton1.setVisible(true);\n                            addFileButton2.setVisible(true);\n                            addFileButton3.setVisible(true);\n                            addFileButton4.setVisible(true);\n                            addFileButton5.setVisible(true);\n                            addFileButton6.setVisible(true);\n                            addFileButton7.setVisible(true);\n                            addFileButton8.setVisible(true);\n                            addFileButton9.setVisible(true);\n                            addFileButton10.setVisible(true);\n                            addFileButton11.setVisible(true);\n                            addFileButton12.setVisible(true);\n\n                            filePathLabel1.setVisible(true);\n                            filePathLabel2.setVisible(true);\n                            filePathLabel3.setVisible(true);\n                            filePathLabel4.setVisible(true);\n                            filePathLabel5.setVisible(true);\n                            filePathLabel6.setVisible(true);\n                            filePathLabel7.setVisible(true);\n                            filePathLabel8.setVisible(true);\n                            filePathLabel9.setVisible(true);\n                            filePathLabel10.setVisible(true);\n                            filePathLabel11.setVisible(true);\n                            filePathLabel12.setVisible(true);\n                        } break;\n                        case 1:{\n                            file1OriginLabel.setVisible(true);\n                            file2OriginLabel.setVisible(false);\n                            file3OriginLabel.setVisible(false);\n                            file4OriginLabel.setVisible(false);\n                            file5OriginLabel.setVisible(false);\n                            file6OriginLabel.setVisible(false);\n                            file7OriginLabel.setVisible(false);\n                            file8OriginLabel.setVisible(false);\n                            file9OriginLabel.setVisible(false);\n                            file10OriginLabel.setVisible(false);\n                            file11OriginLabel.setVisible(false);\n                            file12OriginLabel.setVisible(false);\n\n                            file1OriginInputted.setVisible(true);\n                            file2OriginInputted.setVisible(false);\n                            file3OriginInputted.setVisible(false);\n                            file4OriginInputted.setVisible(false);\n                            file5OriginInputted.setVisible(false);\n                            file6OriginInputted.setVisible(false);\n                            file7OriginInputted.setVisible(false);\n                            file8OriginInputted.setVisible(false);\n                            file9OriginInputted.setVisible(false);\n                            file10OriginInputted.setVisible(false);\n                            file11OriginInputted.setVisible(false);\n                            file12OriginInputted.setVisible(false);\n\n                            addFileButton1.setVisible(true);\n                            addFileButton2.setVisible(false);\n                            addFileButton3.setVisible(false);\n                            addFileButton4.setVisible(false);\n                            addFileButton5.setVisible(false);\n                            addFileButton6.setVisible(false);\n                            addFileButton7.setVisible(false);\n                            addFileButton8.setVisible(false);\n                            addFileButton9.setVisible(false);\n                            addFileButton10.setVisible(false);\n                            addFileButton11.setVisible(false);\n                            addFileButton12.setVisible(false);\n\n                            filePathLabel1.setVisible(true);\n                            filePathLabel2.setVisible(false);\n                            filePathLabel3.setVisible(false);\n                            filePathLabel4.setVisible(false);\n                            filePathLabel5.setVisible(false);\n                            filePathLabel6.setVisible(false);\n                            filePathLabel7.setVisible(false);\n                            filePathLabel8.setVisible(false);\n                            filePathLabel9.setVisible(false);\n                            filePathLabel10.setVisible(false);\n                            filePathLabel11.setVisible(false);\n                            filePathLabel12.setVisible(false);\n                        }break;\n                        case 2:{\n                            file1OriginLabel.setVisible(true);\n                            file2OriginLabel.setVisible(true);\n                            file3OriginLabel.setVisible(false);\n                            file4OriginLabel.setVisible(false);\n                            file5OriginLabel.setVisible(false);\n                            file6OriginLabel.setVisible(false);\n                            file7OriginLabel.setVisible(false);\n                            file8OriginLabel.setVisible(false);\n                            file9OriginLabel.setVisible(false);\n                            file10OriginLabel.setVisible(false);\n                            file11OriginLabel.setVisible(false);\n                            file12OriginLabel.setVisible(false);\n\n                            file1OriginInputted.setVisible(true);\n                            file2OriginInputted.setVisible(true);\n                            file3OriginInputted.setVisible(false);\n                            file4OriginInputted.setVisible(false);\n                            file5OriginInputted.setVisible(false);\n                            file6OriginInputted.setVisible(false);\n                            file7OriginInputted.setVisible(false);\n                            file8OriginInputted.setVisible(false);\n                            file9OriginInputted.setVisible(false);\n                            file10OriginInputted.setVisible(false);\n                            file11OriginInputted.setVisible(false);\n                            file12OriginInputted.setVisible(false);\n\n                            addFileButton1.setVisible(true);\n                            addFileButton2.setVisible(true);\n                            addFileButton3.setVisible(false);\n                            addFileButton4.setVisible(false);\n                            addFileButton5.setVisible(false);\n                            addFileButton6.setVisible(false);\n                            addFileButton7.setVisible(false);\n                            addFileButton8.setVisible(false);\n                            addFileButton9.setVisible(false);\n                            addFileButton10.setVisible(false);\n                            addFileButton11.setVisible(false);\n                            addFileButton12.setVisible(false);\n\n                            filePathLabel1.setVisible(true);\n                            filePathLabel2.setVisible(true);\n                            filePathLabel3.setVisible(false);\n                            filePathLabel4.setVisible(false);\n                            filePathLabel5.setVisible(false);\n                            filePathLabel6.setVisible(false);\n                            filePathLabel7.setVisible(false);\n                            filePathLabel8.setVisible(false);\n                            filePathLabel9.setVisible(false);\n                            filePathLabel10.setVisible(false);\n                            filePathLabel11.setVisible(false);\n                            filePathLabel12.setVisible(false);\n\n\n                        } break;\n                        case 3:{\n                            file1OriginLabel.setVisible(true);\n                            file2OriginLabel.setVisible(true);\n                            file3OriginLabel.setVisible(true);\n                            file4OriginLabel.setVisible(false);\n                            file5OriginLabel.setVisible(false);\n                            file6OriginLabel.setVisible(false);\n                            file7OriginLabel.setVisible(false);\n                            file8OriginLabel.setVisible(false);\n                            file9OriginLabel.setVisible(false);\n                            file10OriginLabel.setVisible(false);\n                            file11OriginLabel.setVisible(false);\n                            file12OriginLabel.setVisible(false);\n\n                            file1OriginInputted.setVisible(true);\n                            file2OriginInputted.setVisible(true);\n                            file3OriginInputted.setVisible(true);\n                            file4OriginInputted.setVisible(false);\n                            file5OriginInputted.setVisible(false);\n                            file6OriginInputted.setVisible(false);\n                            file7OriginInputted.setVisible(false);\n                            file8OriginInputted.setVisible(false);\n                            file9OriginInputted.setVisible(false);\n                            file10OriginInputted.setVisible(false);\n                            file11OriginInputted.setVisible(false);\n                            file12OriginInputted.setVisible(false);\n\n                            addFileButton1.setVisible(true);\n                            addFileButton2.setVisible(true);\n                            addFileButton3.setVisible(true);\n                            addFileButton4.setVisible(false);\n                            addFileButton5.setVisible(false);\n                            addFileButton6.setVisible(false);\n                            addFileButton7.setVisible(false);\n                            addFileButton8.setVisible(false);\n                            addFileButton9.setVisible(false);\n                            addFileButton10.setVisible(false);\n                            addFileButton11.setVisible(false);\n                            addFileButton12.setVisible(false);\n\n                            filePathLabel1.setVisible(true);\n                            filePathLabel2.setVisible(true);\n                            filePathLabel3.setVisible(true);\n                            filePathLabel4.setVisible(false);\n                            filePathLabel5.setVisible(false);\n                            filePathLabel6.setVisible(false);\n                            filePathLabel7.setVisible(false);\n                            filePathLabel8.setVisible(false);\n                            filePathLabel9.setVisible(false);\n                            filePathLabel10.setVisible(false);\n                            filePathLabel11.setVisible(false);\n                            filePathLabel12.setVisible(false);\n                        }break;\n                        case 4:{..\n                        } break;\n//this goes until case 12, each just continues to make one more item .setVisible = true until all 12 elements are visible.\n                        default: break;\n                    }\n                } catch(NullPointerException e1){\n                    e1.printStackTrace();\n                    SwingUtilities.updateComponentTreeUI(landing);\n                }\n\n\n                SwingUtilities.updateComponentTreeUI(landing);\n\n\n            }\n        });\n\n//additional code here that shouldn't be relevant to the issue\n    } ```\n</code></pre>\n"},{"tags":["java","android","camera","crash","native"],"comments":[{"owner":{"account_id":2548025,"reputation":2091,"user_id":2212414,"accept_rate":71,"display_name":"Jes&#250;s Castro"},"score":0,"creation_date":1688099808,"post_id":70027012,"comment_id":135031222,"body_markdown":"It also happens to me when my app tries to get a location update with LocationManager.requestLocationUpdate on background mode. Motorola g42 on Android 12. The same stack trace with memory state is 400","body":"It also happens to me when my app tries to get a location update with LocationManager.requestLocationUpdate on background mode. Motorola g42 on Android 12. The same stack trace with memory state is 400"}],"owner":{"account_id":17784249,"reputation":21,"user_id":12914699,"display_name":"Ricardo Aveledo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637271182,"creation_date":1637271182,"question_id":70027012,"body_markdown":"I&#39;m currently developing and maintaining an Android Legacy app, native in Java. The App has been growing slowly throughout the years and I think the original architecture design it falling a bit short. \r\n\r\nThe app opens the native android camera, and for some reason, it kills the process in background, perhaps due to lack of resources. I&#39;ve tested different flows with the android profiler, and wasted a lot of time trying to pinpoint what its happening. The flow goes as this:\r\n\r\nThe app is filled with data, using a SQL DB and static variables, then at some point the user is required to use the native camera to retrive a photo, then return to the app and keep on with the process. Sometimes, the process dies while being in the native camera app, and when returning, all the data stored on the static variables are empty, thus crashing the app and restarting itself.\r\n\r\nUsing the Android Studio Profiler, I found that when the process dies, it prints this in the console:\r\n\r\n    2021-11-18 22:19:54.906 9177-9762/es.myapp I/PhenotypeProcessReaper: Memory state is: 400\r\n    2021-11-18 22:19:54.906 9177-9762/es.myapp I/PhenotypeProcessReaper: Killing process to refresh experiment configuration\r\n    2021-11-18 22:19:54.906 9177-9762/es.myapp I/Process: Sending signal. PID: 9177 SIG: 9\r\n\r\nDoes anyone has any idea of what is happening? What is PhenotypeProcessReaper?\r\n\r\nI&#39;m trying to write a class to save the states of all the data to be able to recover the app after the process, but in the mean time I would really appreciate some help. Thanks!","title":"Android App shuts down while using the Native Camera App","body":"<p>I'm currently developing and maintaining an Android Legacy app, native in Java. The App has been growing slowly throughout the years and I think the original architecture design it falling a bit short.</p>\n<p>The app opens the native android camera, and for some reason, it kills the process in background, perhaps due to lack of resources. I've tested different flows with the android profiler, and wasted a lot of time trying to pinpoint what its happening. The flow goes as this:</p>\n<p>The app is filled with data, using a SQL DB and static variables, then at some point the user is required to use the native camera to retrive a photo, then return to the app and keep on with the process. Sometimes, the process dies while being in the native camera app, and when returning, all the data stored on the static variables are empty, thus crashing the app and restarting itself.</p>\n<p>Using the Android Studio Profiler, I found that when the process dies, it prints this in the console:</p>\n<pre><code>2021-11-18 22:19:54.906 9177-9762/es.myapp I/PhenotypeProcessReaper: Memory state is: 400\n2021-11-18 22:19:54.906 9177-9762/es.myapp I/PhenotypeProcessReaper: Killing process to refresh experiment configuration\n2021-11-18 22:19:54.906 9177-9762/es.myapp I/Process: Sending signal. PID: 9177 SIG: 9\n</code></pre>\n<p>Does anyone has any idea of what is happening? What is PhenotypeProcessReaper?</p>\n<p>I'm trying to write a class to save the states of all the data to be able to recover the app after the process, but in the mean time I would really appreciate some help. Thanks!</p>\n"},{"tags":["java","android","android-studio","gradle","lint"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1637274074,"post_id":70026968,"comment_id":123789809,"body_markdown":"You generally don&#39;t do this because its very hard to write this and not overreach.  Just because a fragment/layout/drawable etc is referenced in your Activity doesn&#39;t mean it isn&#39;t also referenced elsewhere.  Especially when you start including what could be passed in via inheritance, it&#39;s nearly impossible to do this without either massively under deleting or over deleting.  So its up to your to do it.  If you want to support this easily, make the activity and all related code a module, and then you can delete the module.","body":"You generally don&#39;t do this because its very hard to write this and not overreach.  Just because a fragment/layout/drawable etc is referenced in your Activity doesn&#39;t mean it isn&#39;t also referenced elsewhere.  Especially when you start including what could be passed in via inheritance, it&#39;s nearly impossible to do this without either massively under deleting or over deleting.  So its up to your to do it.  If you want to support this easily, make the activity and all related code a module, and then you can delete the module."},{"owner":{"account_id":380348,"reputation":5188,"user_id":734298,"accept_rate":44,"display_name":"Abhinav Tyagi"},"score":0,"creation_date":1637274178,"post_id":70026968,"comment_id":123789830,"body_markdown":"Can we do it for all files that do not have any other reference? That will reduce a lot of manual efforts","body":"Can we do it for all files that do not have any other reference? That will reduce a lot of manual efforts"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1637274960,"post_id":70026968,"comment_id":123790030,"body_markdown":"Finding the references is non-trivial.  I mean you can try, but that can be hard.  Especially if you do any kind of source generation (like dependency injection) in your program, the references might not exist without building and generating that source as well.  And that&#39;s assuming you don&#39;t have multiple targets with different modules being included, in which case you&#39;d need to build all possible targets.  Its something that would be easy for a simple project, but really hard to get right for a complex one.","body":"Finding the references is non-trivial.  I mean you can try, but that can be hard.  Especially if you do any kind of source generation (like dependency injection) in your program, the references might not exist without building and generating that source as well.  And that&#39;s assuming you don&#39;t have multiple targets with different modules being included, in which case you&#39;d need to build all possible targets.  Its something that would be easy for a simple project, but really hard to get right for a complex one."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1637285895,"post_id":70026968,"comment_id":123792111,"body_markdown":"I think you&#39;re looking for this: https://stackoverflow.com/questions/39931519/how-to-clean-up-unused-resource-files-in-android-studio","body":"I think you&#39;re looking for this: <a href=\"https://stackoverflow.com/questions/39931519/how-to-clean-up-unused-resource-files-in-android-studio\" title=\"how to clean up unused resource files in android studio\">stackoverflow.com/questions/39931519/&hellip;</a>"},{"owner":{"account_id":380348,"reputation":5188,"user_id":734298,"accept_rate":44,"display_name":"Abhinav Tyagi"},"score":0,"creation_date":1637336045,"post_id":70026968,"comment_id":123806853,"body_markdown":"No, not the unused part @dominicoder","body":"No, not the unused part @dominicoder"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1637350381,"post_id":70026968,"comment_id":123811902,"body_markdown":"Don&#39;t know what you mean by &quot;not the unused part&quot;. That post answers the question of how to get rid of unused classes and resources. That seems to be your question.","body":"Don&#39;t know what you mean by &quot;not the unused part&quot;. That post answers the question of how to get rid of unused classes and resources. That seems to be your question."},{"owner":{"account_id":380348,"reputation":5188,"user_id":734298,"accept_rate":44,"display_name":"Abhinav Tyagi"},"score":0,"creation_date":1637353932,"post_id":70026968,"comment_id":123813013,"body_markdown":"@dominicoder I know how to check for unused code and resources. I am asking to pass a file name and get all the dependencies and their dependencies listed so that I can remove those that are used only for the input file.","body":"@dominicoder I know how to check for unused code and resources. I am asking to pass a file name and get all the dependencies and their dependencies listed so that I can remove those that are used only for the input file."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1637394943,"post_id":70026968,"comment_id":123819306,"body_markdown":"I&#39;m not aware of a tool to do this. But again - to remove &quot;those that are used only for the input file&quot;, all you&#39;d need to do is 1) delete &quot;input file&quot; 2) run unused resources lint code check, which should catch the files that were previously &quot;used only for the input file&quot;. Good luck.","body":"I&#39;m not aware of a tool to do this. But again - to remove &quot;those that are used only for the input file&quot;, all you&#39;d need to do is 1) delete &quot;input file&quot; 2) run unused resources lint code check, which should catch the files that were previously &quot;used only for the input file&quot;. Good luck."}],"owner":{"account_id":380348,"reputation":5188,"user_id":734298,"accept_rate":44,"display_name":"Abhinav Tyagi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637270980,"creation_date":1637270980,"question_id":70026968,"body_markdown":"Is there a way to delete all the code like supporting classes, xmls, methods, imports etc just by passing the parent class say an activity?&lt;br&gt;\r\n\r\nI have an old code and want to delete an activity say &quot;Foo.java&quot;. How can I delete all the classes, methods, xmls which are just used by this Foo.java and its supporting viewmodel, fragments, dialogs etc.&lt;br&gt;\r\n\r\nI want to delete the whole tree of code with Foo.java as its root node.&lt;br&gt;\r\n\r\n\r\n```\r\nFoo.java\r\n |\r\n |-- VM \r\n |   |- sub classes -- sub sub classes ...\r\n |   |- sub classes -- sub sub classes ...\r\n |\r\n |-- Fragment -- sub\r\n ...\r\n ...\r\n |- Styles -- sub\r\n |- Res -- sub\r\n\r\n```\r\n\r\nAny gradle/lint task or plugin?","title":"Android: How to delete activity and supporting classes, methods, xml?","body":"<p>Is there a way to delete all the code like supporting classes, xmls, methods, imports etc just by passing the parent class say an activity?<br></p>\n<p>I have an old code and want to delete an activity say &quot;Foo.java&quot;. How can I delete all the classes, methods, xmls which are just used by this Foo.java and its supporting viewmodel, fragments, dialogs etc.<br></p>\n<p>I want to delete the whole tree of code with Foo.java as its root node.<br></p>\n<pre><code>Foo.java\n |\n |-- VM \n |   |- sub classes -- sub sub classes ...\n |   |- sub classes -- sub sub classes ...\n |\n |-- Fragment -- sub\n ...\n ...\n |- Styles -- sub\n |- Res -- sub\n\n</code></pre>\n<p>Any gradle/lint task or plugin?</p>\n"},{"tags":["java","swing","jtextpane","preferredsize"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1406047393,"post_id":24893073,"comment_id":38669032,"body_markdown":"It&#39;s better to share the code.","body":"It&#39;s better to share the code."},{"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"score":0,"creation_date":1473760155,"post_id":24893073,"comment_id":66254110,"body_markdown":"Possible duplicate of [How to fix size of JTextPane to its content?](http://stackoverflow.com/questions/25181929/how-to-fix-size-of-jtextpane-to-its-content)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/25181929/how-to-fix-size-of-jtextpane-to-its-content\">How to fix size of JTextPane to its content?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406047657,"creation_date":1406047339,"answer_id":24893112,"question_id":24893073,"body_markdown":"Add `JTextPane` inside [`JScrollPane`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html) to fit as per its content. If it doesn&#39;t work then override `getPreferredSize()` to set the preferred size if needed.\r\n\r\n\r\n\r\n\r\n\r\n     @Override\r\n     public Dimension getPreferredSize() {\r\n         return new Dimension(..., ...);\r\n     }\r\n\r\nSee *Swing Tutorial* on [How to Use Editor Panes and Text Panes](http://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) for examples.\r\n","title":"How to set preferred size of JTextPane to its content size?","body":"<p>Add <code>JTextPane</code> inside <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html\" rel=\"nofollow\"><code>JScrollPane</code></a> to fit as per its content. If it doesn't work then override <code>getPreferredSize()</code> to set the preferred size if needed.</p>\n\n<pre><code> @Override\n public Dimension getPreferredSize() {\n     return new Dimension(..., ...);\n }\n</code></pre>\n\n<p>See <em>Swing Tutorial</em> on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow\">How to Use Editor Panes and Text Panes</a> for examples.</p>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406093774,"creation_date":1406093774,"answer_id":24902627,"question_id":24893073,"body_markdown":"[Here][1] is a tip how to measure height for fixed width\r\n\r\n    public static int getContentHeight(String content) {\r\n        JEditorPane dummyEditorPane=new JEditorPane();\r\n        dummyEditorPane.setSize(100,Short.MAX_VALUE);\r\n        dummyEditorPane.setText(content);\r\n        \r\n        return dummyEditorPane.getPreferredSize().height;\r\n    }\r\n\r\n    int h=getContentHeight(&quot;Long text to be measured in the JEditorPane&quot;);\r\n\r\n\r\n  [1]: http://java-sl.com/tip_text_height_measuring.html","title":"How to set preferred size of JTextPane to its content size?","body":"<p><a href=\"http://java-sl.com/tip_text_height_measuring.html\" rel=\"nofollow\">Here</a> is a tip how to measure height for fixed width</p>\n\n<pre><code>public static int getContentHeight(String content) {\n    JEditorPane dummyEditorPane=new JEditorPane();\n    dummyEditorPane.setSize(100,Short.MAX_VALUE);\n    dummyEditorPane.setText(content);\n\n    return dummyEditorPane.getPreferredSize().height;\n}\n\nint h=getContentHeight(\"Long text to be measured in the JEditorPane\");\n</code></pre>\n"}],"owner":{"account_id":4783581,"reputation":73,"user_id":3864703,"accept_rate":35,"display_name":"user90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637270261,"creation_date":1406047212,"question_id":24893073,"body_markdown":"I have a JPanel with Boxlayout and some JTextPanes and JPanels that will be added to it dynamically. I want to set the preferred size of the JTextPanes to fit their content. I use StyledDocument for my JTextPane. How can I do this?\r\n\r\nEdit: \r\nWhen I create a new JTextPane I have its content and it won&#39;t change. Here is my code:\r\n\r\n    public void display(final String text){\r\n\t\tStyleContext sc = new StyleContext();\r\n        final DefaultStyledDocument doc = new DefaultStyledDocument(sc);\r\n        Style defaultStyle = sc.getStyle(StyleContext.DEFAULT_STYLE);\r\n        final Style style = sc.addStyle(&quot;MainStyle&quot;, defaultStyle);\r\n\t\tJTextPane pane = new JTextPane(){\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getMinimumSize(){\r\n\t\t\t\treturn new Dimension(text.length()*5, getContentHeight(text.length()*5,text));\r\n\t\t\t}\r\n\t\t\t@Override \r\n\t\t\tpublic Dimension  getMaximumSize(){\r\n\t\t\t\treturn  new Dimension(430, getContentHeight(text.length()*5,text));\r\n\t\t\t}\r\n\t\t};\r\n\t\treceive.setStyledDocument(doc);\r\n        receive.setEditable(false);\r\n        receive.setPreferredSize(new Dimension(text.length()*5, getContentHeight(text.length()*5,text)));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdoc.insertString(doc.getLength(),text,style);\r\n\t\t} catch (BadLocationException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\t\tJpanel.add(pane);\r\n\t\t\r\n\t}\r\n\r\n    public int getContentHeight(int i, String content) {\r\n            JEditorPane dummyEditorPane=new JEditorPane();\r\n            dummyEditorPane.setSize(i,Short.MAX_VALUE);\r\n    \t    dummyEditorPane.setText(content);\r\n    \t    return dummyEditorPane.getPreferredSize().height;\r\n        }\r\n\r\nThe issue is in the `getMinimumSize()`, `getMaximumSize()`, and `setPreferredSize()` methods! Also in the width that I set for `dummyEditorPane.setSize(i,Short.MAX_VALUE);` How can I set a fixed size for the JTextPane?","title":"How to set preferred size of JTextPane to its content size?","body":"<p>I have a JPanel with Boxlayout and some JTextPanes and JPanels that will be added to it dynamically. I want to set the preferred size of the JTextPanes to fit their content. I use StyledDocument for my JTextPane. How can I do this?</p>\n<p>Edit:\nWhen I create a new JTextPane I have its content and it won't change. Here is my code:</p>\n<pre><code>public void display(final String text){\n    StyleContext sc = new StyleContext();\n    final DefaultStyledDocument doc = new DefaultStyledDocument(sc);\n    Style defaultStyle = sc.getStyle(StyleContext.DEFAULT_STYLE);\n    final Style style = sc.addStyle(&quot;MainStyle&quot;, defaultStyle);\n    JTextPane pane = new JTextPane(){\n        /**\n         * \n         */\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public Dimension getMinimumSize(){\n            return new Dimension(text.length()*5, getContentHeight(text.length()*5,text));\n        }\n        @Override \n        public Dimension  getMaximumSize(){\n            return  new Dimension(430, getContentHeight(text.length()*5,text));\n        }\n    };\n    receive.setStyledDocument(doc);\n    receive.setEditable(false);\n    receive.setPreferredSize(new Dimension(text.length()*5, getContentHeight(text.length()*5,text)));\n    \n    try {\n        doc.insertString(doc.getLength(),text,style);\n    } catch (BadLocationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    Jpanel.add(pane);\n    \n}\n\npublic int getContentHeight(int i, String content) {\n        JEditorPane dummyEditorPane=new JEditorPane();\n        dummyEditorPane.setSize(i,Short.MAX_VALUE);\n        dummyEditorPane.setText(content);\n        return dummyEditorPane.getPreferredSize().height;\n    }\n</code></pre>\n<p>The issue is in the <code>getMinimumSize()</code>, <code>getMaximumSize()</code>, and <code>setPreferredSize()</code> methods! Also in the width that I set for <code>dummyEditorPane.setSize(i,Short.MAX_VALUE);</code> How can I set a fixed size for the JTextPane?</p>\n"},{"tags":["java","jakarta-ee","jar","war","tomcat8"],"comments":[{"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"score":0,"creation_date":1637236123,"post_id":45333891,"comment_id":123774850,"body_markdown":"Related: https://stackoverflow.com/questions/4739302/web-inf-classes-vs-web-inf-lib","body":"Related: <a href=\"https://stackoverflow.com/questions/4739302/web-inf-classes-vs-web-inf-lib\" title=\"web inf classes vs web inf lib\">stackoverflow.com/questions/4739302/&hellip;</a>"},{"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"score":0,"creation_date":1637236153,"post_id":45333891,"comment_id":123774862,"body_markdown":"Related: https://stackoverflow.com/questions/8364619/web-inf-classes-vs-web-inf-lib-jar-in-classpath-priority","body":"Related: <a href=\"https://stackoverflow.com/questions/8364619/web-inf-classes-vs-web-inf-lib-jar-in-classpath-priority\" title=\"web inf classes vs web inf lib jar in classpath priority\">stackoverflow.com/questions/8364619/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7060628,"reputation":8333,"user_id":5406012,"display_name":"Ramanlfc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501091336,"creation_date":1501090911,"answer_id":45334013,"question_id":45333891,"body_markdown":"the jar contained in your `WEB-INF/lib` will be picked up by tomcat. The only caveat is core container jar&#39;s will be loaded in preference to jar&#39;s in `WEB-INF/lib`.\r\n\r\nread : https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html#Class_Loader_Definitions","title":"What will happen if [WEB-INF/lib] and [tomcat/lib] contain similar JARs?","body":"<p>the jar contained in your <code>WEB-INF/lib</code> will be picked up by tomcat. The only caveat is core container jar's will be loaded in preference to jar's in <code>WEB-INF/lib</code>.</p>\n\n<p>read : <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html#Class_Loader_Definitions\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html#Class_Loader_Definitions</a></p>\n"},{"tags":[],"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637238405,"creation_date":1637237391,"answer_id":70019577,"question_id":45333891,"body_markdown":"# Depends on `delegate` attribute\r\nI haven&#39;t tried any of this. But it seems to hinge on value of the boolean `delegate` attribute.\r\n\r\nAnd the way I read https://tomcat.apache.org/tomcat-10.0-doc/class-loader-howto.html#Class_Loader_Definitions is this:\r\n\r\nFor any webapp there are FOUR class loaders: bootstrap, system, common, webapp.\r\n\r\n\r\n * By default the boolean `delegate` attribute is not specified and will default to `false`\r\n   * =&gt; order of class loaders: `bootstrap`, **`webapp`**, `system`, `common`\r\n   * =&gt; Your webapp&#39;s JAR wins.\r\n * If, and only if, you explicitly specify `&lt;Loader delegate=&quot;true&quot;/&gt;`\r\n   * =&gt; order of class loaders: `bootstrap`, `system`, `common`, **`webapp`**\r\n   * =&gt; `common` takes JARs from $CATALINA_BASE and $CATALINA_HOME\r\n   * =&gt; Tomcat&#39;s JAR wins.\r\n\r\n### Further reading\r\nAdded info: This here is the documentation for the &quot;delegate&quot; attribute itself.\r\n\r\nI find this slightly confusing, but it seems that Tomcat&#39;s default is to NOT follow Java&#39;s default. (Not sure wherever Java&#39;s default *&quot;delegation model&quot;* may have been defined.)\r\n\r\nQuote from https://tomcat.apache.org/tomcat-10.0-doc/config/loader.html#Common_Attributes\r\n(Formatting changed for emphasis.)\r\n\r\n&gt; * Set to **true** if you want the class loader to follow the standard Java2 delegation model, and attempt to load classes from parent class\r\n&gt; loaders before looking inside the web application.\r\n&gt; \r\n&gt; * Set to **false** (the default) to have the class loader look inside the web application first, before asking parent class loaders to find\r\n&gt; requested classes or resources.\r\n\r\n","title":"What will happen if [WEB-INF/lib] and [tomcat/lib] contain similar JARs?","body":"<h1>Depends on <code>delegate</code> attribute</h1>\n<p>I haven't tried any of this. But it seems to hinge on value of the boolean <code>delegate</code> attribute.</p>\n<p>And the way I read <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/class-loader-howto.html#Class_Loader_Definitions\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/class-loader-howto.html#Class_Loader_Definitions</a> is this:</p>\n<p>For any webapp there are FOUR class loaders: bootstrap, system, common, webapp.</p>\n<ul>\n<li>By default the boolean <code>delegate</code> attribute is not specified and will default to <code>false</code>\n<ul>\n<li>=&gt; order of class loaders: <code>bootstrap</code>, <strong><code>webapp</code></strong>, <code>system</code>, <code>common</code></li>\n<li>=&gt; Your webapp's JAR wins.</li>\n</ul>\n</li>\n<li>If, and only if, you explicitly specify <code>&lt;Loader delegate=&quot;true&quot;/&gt;</code>\n<ul>\n<li>=&gt; order of class loaders: <code>bootstrap</code>, <code>system</code>, <code>common</code>, <strong><code>webapp</code></strong></li>\n<li>=&gt; <code>common</code> takes JARs from $CATALINA_BASE and $CATALINA_HOME</li>\n<li>=&gt; Tomcat's JAR wins.</li>\n</ul>\n</li>\n</ul>\n<h3>Further reading</h3>\n<p>Added info: This here is the documentation for the &quot;delegate&quot; attribute itself.</p>\n<p>I find this slightly confusing, but it seems that Tomcat's default is to NOT follow Java's default. (Not sure wherever Java's default <em>&quot;delegation model&quot;</em> may have been defined.)</p>\n<p>Quote from <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/loader.html#Common_Attributes\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/config/loader.html#Common_Attributes</a>\n(Formatting changed for emphasis.)</p>\n<blockquote>\n<ul>\n<li><p>Set to <strong>true</strong> if you want the class loader to follow the standard Java2 delegation model, and attempt to load classes from parent class\nloaders before looking inside the web application.</p>\n</li>\n<li><p>Set to <strong>false</strong> (the default) to have the class loader look inside the web application first, before asking parent class loaders to find\nrequested classes or resources.</p>\n</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45334013,"answer_count":2,"score":1,"last_activity_date":1637269853,"creation_date":1501090548,"question_id":45333891,"body_markdown":"Today I was asked in an interview, *what will happen at the time of deployment if the Tomcat&#39;s `lib` and your `WEB-INF/lib` of the `war` file contains same `jar` file?*\r\n\r\nI tested today in my machine, I didn&#39;t found any difference. Application is deploying successfully.\r\n\r\nI have gone through with this [similar article][1] , For, more clarification if anyone is having idea about what will happen if the Tomcat&#39;s `lib` and `WEB-INF/lib` contains same `jar` what will happen ??  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31138560/tomcat-8-classloading-difference-between-jar-in-web-inf-lib-and-tomcat-lib","title":"What will happen if [WEB-INF/lib] and [tomcat/lib] contain similar JARs?","body":"<p>Today I was asked in an interview, <em>what will happen at the time of deployment if the Tomcat's <code>lib</code> and your <code>WEB-INF/lib</code> of the <code>war</code> file contains same <code>jar</code> file?</em></p>\n<p>I tested today in my machine, I didn't found any difference. Application is deploying successfully.</p>\n<p>I have gone through with this <a href=\"https://stackoverflow.com/questions/31138560/tomcat-8-classloading-difference-between-jar-in-web-inf-lib-and-tomcat-lib\">similar article</a> , For, more clarification if anyone is having idea about what will happen if the Tomcat's <code>lib</code> and <code>WEB-INF/lib</code> contains same <code>jar</code> what will happen ??</p>\n"},{"tags":["java","android","qr-code","zxing"],"comments":[{"owner":{"account_id":2633200,"reputation":12083,"user_id":2278598,"accept_rate":64,"display_name":"Andrew Brooke"},"score":0,"creation_date":1454172671,"post_id":35104305,"comment_id":57929648,"body_markdown":"You may want to refer to one of these questions: https://stackoverflow.com/questions/13247701/how-to-add-a-logo-to-qr-code-in-android, https://stackoverflow.com/questions/18296555/how-to-add-logo-to-qr-codes","body":"You may want to refer to one of these questions: <a href=\"https://stackoverflow.com/questions/13247701/how-to-add-a-logo-to-qr-code-in-android\" title=\"how to add a logo to qr code in android\">stackoverflow.com/questions/13247701/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/18296555/how-to-add-logo-to-qr-codes\" title=\"how to add logo to qr codes\">stackoverflow.com/questions/18296555/&hellip;</a>"},{"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"score":1,"creation_date":1454172958,"post_id":35104305,"comment_id":57929748,"body_markdown":"http://www.qrcode-monkey.com/","body":"<a href=\"http://www.qrcode-monkey.com/\" rel=\"nofollow noreferrer\">qrcode-monkey.com</a>"},{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":0,"creation_date":1455464795,"post_id":35104305,"comment_id":58491153,"body_markdown":"Possible duplicate of [Is there a library to create Design QR codes with Java?](http://stackoverflow.com/questions/4322881/is-there-a-library-to-create-design-qr-codes-with-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4322881/is-there-a-library-to-create-design-qr-codes-with-java\">Is there a library to create Design QR codes with Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7530597,"reputation":3323,"user_id":5718968,"display_name":"Let&#39;sRefactor"},"down_vote_count":4,"up_vote_count":18,"is_accepted":true,"score":14,"last_activity_date":1456518060,"creation_date":1454173094,"answer_id":35104430,"question_id":35104305,"body_markdown":"You can add your logo it as an &lt;b&gt;Image Overlay&lt;/b&gt; like\r\n\r\n&lt;!-- language-all: c# --&gt;\r\n\r\n    public BufferedImage getQRCodeWithOverlay(BufferedImage qrcode) \r\n    {\r\n        BufferedImage scaledOverlay = scaleOverlay(qrcode);\r\n\r\n        Integer deltaHeight = qrcode.getHeight() - scaledOverlay.getHeight();\r\n        Integer deltaWidth  = qrcode.getWidth()  - scaledOverlay.getWidth();\r\n\r\n        BufferedImage combined = new BufferedImage(qrcode.getWidth(), qrcode.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = (Graphics2D)combined.getGraphics();\r\n        g2.drawImage(qrcode, 0, 0, null);\r\n        g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, overlayTransparency));\r\n        g2.drawImage(scaledOverlay, Math.round(deltaWidth/2), Math.round(deltaHeight/2), null);\r\n        return combined;\r\n    }\r\n\r\n    private BufferedImage scaleOverlay(BufferedImage qrcode)\r\n    {\r\n        Integer scaledWidth = Math.round(qrcode.getWidth() * overlayToQRCodeRatio);\r\n        Integer scaledHeight = Math.round(qrcode.getHeight() * overlayToQRCodeRatio);\r\n\r\n        BufferedImage imageBuff = new BufferedImage(scaledWidth, scaledHeight, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics g = imageBuff.createGraphics();\r\n        g.drawImage(overlay.getScaledInstance(scaledWidth, scaledHeight, BufferedImage.SCALE_SMOOTH), 0, 0, new Color(0,0,0), null);\r\n        g.dispose();\r\n        return imageBuff;\r\n    }\r\n\r\n\r\n\r\nPlease refer this [post][2] &amp; [github][3] for more info\r\n\r\n\r\n\r\n  [2]: https://skrymerdev.wordpress.com/2012/09/22/qr-code-generation-with-zxing/\r\n  [3]: https://github.com/skrymer/qrbuilder","title":"How to generate QR code with logo inside it?","body":"<p>You can add your logo it as an <b>Image Overlay</b> like</p>\n\n\n\n<pre class=\"lang-cs prettyprint-override\"><code>public BufferedImage getQRCodeWithOverlay(BufferedImage qrcode) \n{\n    BufferedImage scaledOverlay = scaleOverlay(qrcode);\n\n    Integer deltaHeight = qrcode.getHeight() - scaledOverlay.getHeight();\n    Integer deltaWidth  = qrcode.getWidth()  - scaledOverlay.getWidth();\n\n    BufferedImage combined = new BufferedImage(qrcode.getWidth(), qrcode.getHeight(), BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2 = (Graphics2D)combined.getGraphics();\n    g2.drawImage(qrcode, 0, 0, null);\n    g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, overlayTransparency));\n    g2.drawImage(scaledOverlay, Math.round(deltaWidth/2), Math.round(deltaHeight/2), null);\n    return combined;\n}\n\nprivate BufferedImage scaleOverlay(BufferedImage qrcode)\n{\n    Integer scaledWidth = Math.round(qrcode.getWidth() * overlayToQRCodeRatio);\n    Integer scaledHeight = Math.round(qrcode.getHeight() * overlayToQRCodeRatio);\n\n    BufferedImage imageBuff = new BufferedImage(scaledWidth, scaledHeight, BufferedImage.TYPE_INT_ARGB);\n    Graphics g = imageBuff.createGraphics();\n    g.drawImage(overlay.getScaledInstance(scaledWidth, scaledHeight, BufferedImage.SCALE_SMOOTH), 0, 0, new Color(0,0,0), null);\n    g.dispose();\n    return imageBuff;\n}\n</code></pre>\n\n<p>Please refer this <a href=\"https://skrymerdev.wordpress.com/2012/09/22/qr-code-generation-with-zxing/\" rel=\"noreferrer\">post</a> &amp; <a href=\"https://github.com/skrymer/qrbuilder\" rel=\"noreferrer\">github</a> for more info</p>\n"},{"tags":[],"owner":{"account_id":1305425,"reputation":5670,"user_id":1254514,"accept_rate":75,"display_name":"Paul Spiesberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580289296,"creation_date":1574977388,"answer_id":59096470,"question_id":35104305,"body_markdown":"I created the following Kotlin Extention, which adds a Bitmap to the centre of another Bitmap:\r\n\r\n```\r\nfun Bitmap.addOverlayToCenter(overlayBitmap: Bitmap): Bitmap {\r\n\r\n    val bitmap2Width = overlayBitmap.width\r\n    val bitmap2Height = overlayBitmap.height\r\n    val marginLeft = (this.width * 0.5 - bitmap2Width * 0.5).toFloat()\r\n    val marginTop = (this.height * 0.5 - bitmap2Height * 0.5).toFloat()\r\n    val canvas = Canvas(this)\r\n    canvas.drawBitmap(this, Matrix(), null)\r\n    canvas.drawBitmap(overlayBitmap, marginLeft, marginTop, null)\r\n    return this\r\n}\r\n```\r\n\r\nCan find [my full solution here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54628972/how-to-generate-qr-code-with-image-overlay-in-gluon/59096327#59096327","title":"How to generate QR code with logo inside it?","body":"<p>I created the following Kotlin Extention, which adds a Bitmap to the centre of another Bitmap:</p>\n\n<pre><code>fun Bitmap.addOverlayToCenter(overlayBitmap: Bitmap): Bitmap {\n\n    val bitmap2Width = overlayBitmap.width\n    val bitmap2Height = overlayBitmap.height\n    val marginLeft = (this.width * 0.5 - bitmap2Width * 0.5).toFloat()\n    val marginTop = (this.height * 0.5 - bitmap2Height * 0.5).toFloat()\n    val canvas = Canvas(this)\n    canvas.drawBitmap(this, Matrix(), null)\n    canvas.drawBitmap(overlayBitmap, marginLeft, marginTop, null)\n    return this\n}\n</code></pre>\n\n<p>Can find <a href=\"https://stackoverflow.com/questions/54628972/how-to-generate-qr-code-with-image-overlay-in-gluon/59096327#59096327\">my full solution here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1608525302,"creation_date":1608525302,"answer_id":65387574,"question_id":35104305,"body_markdown":"There is plenty online QR code generator, such as [https://app.aotol.com/qr/api][1]\r\n\r\n\r\n  [1]: https://app.aotol.com/qr/api\r\n\r\nYou can just reference the QR image url to it such as\r\n\r\n    &lt;img src=&quot;https://app.aotol.com/qr/api?qr_content=https://wwww.google.com&amp;qr_logo=https://blog.hubspot.com/hubfs/image8-2.jpg&quot;&gt;","title":"How to generate QR code with logo inside it?","body":"<p>There is plenty online QR code generator, such as <a href=\"https://app.aotol.com/qr/api\" rel=\"nofollow noreferrer\">https://app.aotol.com/qr/api</a></p>\n<p>You can just reference the QR image url to it such as</p>\n<pre><code>&lt;img src=&quot;https://app.aotol.com/qr/api?qr_content=https://wwww.google.com&amp;qr_logo=https://blog.hubspot.com/hubfs/image8-2.jpg&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19941261,"reputation":184,"user_id":14612962,"display_name":"Leonardo Ferreira"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1637269049,"creation_date":1637269049,"answer_id":70026649,"question_id":35104305,"body_markdown":"In **Kotlin** with zxing library and overlay from assets folder.\r\n\r\n - The correction needs to be made because the overlay will hide some part of the QR Code;\r\n - Class MatrixToImageWriter is from: https://github.com/kenglxn/QRGen\r\n\r\n       private fun generateQrCodeWithOverlay(qrCodeData: String): Bitmap? {\r\n\r\n          val hints = HashMap&lt;EncodeHintType?, Any?&gt;()\r\n          // The Error Correction level H provide a QR Code that can be covered by 30%\r\n          hints[EncodeHintType.ERROR_CORRECTION] = ErrorCorrectionLevel.H\r\n    \r\n          val writer = QRCodeWriter()\r\n    \r\n          return try {\r\n              // Create a QR Code from qrCodeData and 512 by 512 pixels, same size as my Logo\r\n              val encodedQrCode = writer.encode(qrCodeData, BarcodeFormat.QR_CODE, 512, 512, hints)\r\n    \r\n              var qrCodeBitmap: Bitmap = MatrixToImageWriter.toBitmap(encodedQrCode)\r\n    \r\n              val qrCodeCanvas = Canvas(qrCodeBitmap)\r\n    \r\n              // Used to resize the image\r\n              val scaleFactor = 4\r\n    \r\n              val logo =\r\n                BitmapFactory.decodeStream(app.assets.open(&quot;path/to/your/logo.png&quot;))\r\n    \r\n              // Resizing the logo increasing the density to keep it sharp\r\n              logo.density = logo.density * scaleFactor\r\n    \r\n              val xLogo = (512 - logo.width / scaleFactor) / 2f\r\n              val yLogo = (512 - logo.height / scaleFactor) / 2f\r\n    \r\n              qrCodeCanvas.drawBitmap(logo, xLogo, yLogo, null)\r\n    \r\n              qrCodeBitmap\r\n          } catch (e: Exception) {\r\n              // handle errors\r\n              null\r\n          }\r\n       }","title":"How to generate QR code with logo inside it?","body":"<p>In <strong>Kotlin</strong> with zxing library and overlay from assets folder.</p>\n<ul>\n<li><p>The correction needs to be made because the overlay will hide some part of the QR Code;</p>\n</li>\n<li><p>Class MatrixToImageWriter is from: <a href=\"https://github.com/kenglxn/QRGen\" rel=\"nofollow noreferrer\">https://github.com/kenglxn/QRGen</a></p>\n<pre><code>private fun generateQrCodeWithOverlay(qrCodeData: String): Bitmap? {\n\n   val hints = HashMap&lt;EncodeHintType?, Any?&gt;()\n   // The Error Correction level H provide a QR Code that can be covered by 30%\n   hints[EncodeHintType.ERROR_CORRECTION] = ErrorCorrectionLevel.H\n\n   val writer = QRCodeWriter()\n\n   return try {\n       // Create a QR Code from qrCodeData and 512 by 512 pixels, same size as my Logo\n       val encodedQrCode = writer.encode(qrCodeData, BarcodeFormat.QR_CODE, 512, 512, hints)\n\n       var qrCodeBitmap: Bitmap = MatrixToImageWriter.toBitmap(encodedQrCode)\n\n       val qrCodeCanvas = Canvas(qrCodeBitmap)\n\n       // Used to resize the image\n       val scaleFactor = 4\n\n       val logo =\n         BitmapFactory.decodeStream(app.assets.open(&quot;path/to/your/logo.png&quot;))\n\n       // Resizing the logo increasing the density to keep it sharp\n       logo.density = logo.density * scaleFactor\n\n       val xLogo = (512 - logo.width / scaleFactor) / 2f\n       val yLogo = (512 - logo.height / scaleFactor) / 2f\n\n       qrCodeCanvas.drawBitmap(logo, xLogo, yLogo, null)\n\n       qrCodeBitmap\n   } catch (e: Exception) {\n       // handle errors\n       null\n   }\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":5825864,"reputation":315,"user_id":4592303,"accept_rate":60,"display_name":"Huitarheroherohero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47497,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35104430,"answer_count":4,"score":14,"last_activity_date":1637269049,"creation_date":1454172326,"question_id":35104305,"body_markdown":"I am developing the application for Android devices.\nI want to generate QR code with logo inside it.\n\nWith `ZXing` I know how to generate simple QR codes like this one:\n[![Original][2]][2]\n\nBut I want to generate QR code with logo inside it. \nSo I want to get something like this:\n[![With Logo][1]][1]\n\nIs there any way to do it?\nI have no idea how to do it.\nCould you help me please? May there is some ready library or example of how to do it.\n\nThank you!\n\n  [1]: http://i.stack.imgur.com/HtHId.png\n  [2]: http://i.stack.imgur.com/Ln0Ar.jpg","title":"How to generate QR code with logo inside it?","body":"<p>I am developing the application for Android devices.\nI want to generate QR code with logo inside it.</p>\n<p>With <code>ZXing</code> I know how to generate simple QR codes like this one:\n<a href=\"https://i.stack.imgur.com/Ln0Ar.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ln0Ar.jpg\" alt=\"Original\" /></a></p>\n<p>But I want to generate QR code with logo inside it.\nSo I want to get something like this:\n<a href=\"https://i.stack.imgur.com/HtHId.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HtHId.png\" alt=\"With Logo\" /></a></p>\n<p>Is there any way to do it?\nI have no idea how to do it.\nCould you help me please? May there is some ready library or example of how to do it.</p>\n<p>Thank you!</p>\n"},{"tags":["java","http","docker","webserver"],"comments":[{"owner":{"account_id":5141703,"reputation":8319,"user_id":4118962,"display_name":"Michael"},"score":1,"creation_date":1459441142,"post_id":36338538,"comment_id":60299297,"body_markdown":"What was the docker run command line?  Did you publish port 3972? (-p 3972:3972)","body":"What was the docker run command line?  Did you publish port 3972? (-p 3972:3972)"},{"owner":{"account_id":747418,"reputation":3298,"user_id":738451,"accept_rate":27,"display_name":"Andy"},"score":0,"creation_date":1459441419,"post_id":36338538,"comment_id":60299459,"body_markdown":"It was just &#39;docker run vault-server&#39;.  Sorry I&#39;m still getting to grips with docker.  Why do I have to publish the port if the Dockerfile has to expose it?","body":"It was just &#39;docker run vault-server&#39;.  Sorry I&#39;m still getting to grips with docker.  Why do I have to publish the port if the Dockerfile has to expose it?"}],"answers":[{"tags":[],"owner":{"account_id":1244024,"reputation":53662,"user_id":1205871,"accept_rate":98,"display_name":"danday74"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1473266430,"creation_date":1459442779,"answer_id":36339228,"question_id":36338538,"body_markdown":"you are doing EXPOSE 3972 which exposes the port to other **linked** containers but NOT to the host machine\r\n\r\nTo expose the port to the host machine you do ...\r\n \r\n    docker run -p 3972:3972 ....... etc\r\n\r\nyou can also do ...\r\n\r\n    docker run -P\r\n\r\nwhich exposes all ports exposed by EXPOSE to the host (this is not the default - you must use the -P flag here)\r\n\r\n\r\n","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>you are doing EXPOSE 3972 which exposes the port to other <strong>linked</strong> containers but NOT to the host machine</p>\n\n<p>To expose the port to the host machine you do ...</p>\n\n<pre><code>docker run -p 3972:3972 ....... etc\n</code></pre>\n\n<p>you can also do ...</p>\n\n<pre><code>docker run -P\n</code></pre>\n\n<p>which exposes all ports exposed by EXPOSE to the host (this is not the default - you must use the -P flag here)</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479226091,"creation_date":1474477481,"answer_id":39622529,"question_id":36338538,"body_markdown":"Use the &quot;action=&quot;http://192.168.99.100:8080/rest/data/ingest&quot; in your html to refer to your Docker Container&#39;s Rest Path. See the bottom HTML Code, line 4.\r\n\r\nhttp://192.168.99.100:8080/rest/data/ingest Breakdown:\r\n\r\n1) 192.168.99.100:8080= Docker&#39;s IP Address &amp; Port #. \r\n\r\n2) /rest/ = In your web.xml file\r\n\r\n3) data/= @Path(&quot;/data&quot;)\r\n\r\n4) /ingest= @Path(&quot;/ingest&quot;)\r\n\r\nHTML CODE:\r\n\r\n    &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Data Ingest: Web Uploader&lt;/h1&gt;     \r\n            &lt;form action=&quot;http://192.168.99.100:8080/rest/data/ingest&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n         \r\n               &lt;p&gt;Select files\r\n    : &lt;input type=&quot;file&quot; name=&quot;file&quot; size=&quot;10000000&quot; multiple/&gt; &lt;/p&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Upload Files&quot;/&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nJAVA CODE:\r\n\r\n    @Path(&quot;/data&quot;)\r\n    public class YourClass {\r\n    \r\n    @POST\r\n    @Path(&quot;/ingest&quot;)\r\n    public Response yourMethod (...){\r\n    }\r\n\r\n","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>Use the \"action=\"http://192.168.99.100:8080/rest/data/ingest\" in your html to refer to your Docker Container's Rest Path. See the bottom HTML Code, line 4.</p>\n\n<p><a href=\"http://192.168.99.100:8080/rest/data/ingest\" rel=\"nofollow noreferrer\">http://192.168.99.100:8080/rest/data/ingest</a> Breakdown:</p>\n\n<p>1) 192.168.99.100:8080= Docker's IP Address &amp; Port #. </p>\n\n<p>2) /rest/ = In your web.xml file</p>\n\n<p>3) data/= @Path(\"/data\")</p>\n\n<p>4) /ingest= @Path(\"/ingest\")</p>\n\n<p>HTML CODE:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Data Ingest: Web Uploader&lt;/h1&gt;     \n        &lt;form action=\"http://192.168.99.100:8080/rest/data/ingest\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n           &lt;p&gt;Select files\n: &lt;input type=\"file\" name=\"file\" size=\"10000000\" multiple/&gt; &lt;/p&gt;\n            &lt;input type=\"submit\" value=\"Upload Files\"/&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>JAVA CODE:</p>\n\n<pre><code>@Path(\"/data\")\npublic class YourClass {\n\n@POST\n@Path(\"/ingest\")\npublic Response yourMethod (...){\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8986403,"reputation":292,"user_id":6699861,"display_name":"Serhii Matvienko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504182499,"creation_date":1504182499,"answer_id":45981471,"question_id":36338538,"body_markdown":"I can show you how I compose dotnet core project with other containers (MSSQL and Elasticsearch), maybe it will help you.\r\n\r\nTo docker-compose.yml add dependencies for another container:\r\n\r\n    services:\r\n    \r\n      prime.web:\r\n        image: prime.web\r\n        build:\r\n          context: ./Prime.Web\r\n          dockerfile: Dockerfile\r\n        links:\r\n          - sql.data\r\n          - elasticsearch\r\n    \r\n      sql.data:\r\n        image: microsoft/mssql-server-linux  \r\n    \r\n      elasticsearch:\r\n        image: elasticsearch\r\n\r\n\r\n\r\nAnd write in docker-compose.override.yml, where you will override your appsetting file, and will get access to another container:\r\n\r\n\r\n\r\n    services:  \r\n    \r\n      prime.web:\r\n        environment:\r\n          - &#39;ConnectionStrings:primekinetics=Server=tcp:sql.data,1433;InitialCatalog=prime;User ID=sa;Password=Pass@word;Connection Timeout=30;&#39;      \r\n          - &#39;ElasticSearchConnection=http://elasticsearch:9200/&#39;\r\n          - ASPNETCORE_ENVIRONMENT=Development      \r\n        ports:\r\n          - &quot;5105:80&quot;\r\n    \r\n      sql.data:\r\n        environment:      \r\n          - SA_PASSWORD=Pass@word\r\n          - ACCEPT_EULA=Y\r\n        ports:\r\n          - &quot;5433:1433&quot;\r\n    \r\n      elasticsearch:    \r\n        ports:\r\n          - &quot;9200:9200&quot;\r\n\r\n\r\nI hope it will be helpful.","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>I can show you how I compose dotnet core project with other containers (MSSQL and Elasticsearch), maybe it will help you.</p>\n\n<p>To docker-compose.yml add dependencies for another container:</p>\n\n<pre><code>services:\n\n  prime.web:\n    image: prime.web\n    build:\n      context: ./Prime.Web\n      dockerfile: Dockerfile\n    links:\n      - sql.data\n      - elasticsearch\n\n  sql.data:\n    image: microsoft/mssql-server-linux  \n\n  elasticsearch:\n    image: elasticsearch\n</code></pre>\n\n<p>And write in docker-compose.override.yml, where you will override your appsetting file, and will get access to another container:</p>\n\n<pre><code>services:  \n\n  prime.web:\n    environment:\n      - 'ConnectionStrings:primekinetics=Server=tcp:sql.data,1433;InitialCatalog=prime;User ID=sa;Password=Pass@word;Connection Timeout=30;'      \n      - 'ElasticSearchConnection=http://elasticsearch:9200/'\n      - ASPNETCORE_ENVIRONMENT=Development      \n    ports:\n      - \"5105:80\"\n\n  sql.data:\n    environment:      \n      - SA_PASSWORD=Pass@word\n      - ACCEPT_EULA=Y\n    ports:\n      - \"5433:1433\"\n\n  elasticsearch:    \n    ports:\n      - \"9200:9200\"\n</code></pre>\n\n<p>I hope it will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":5774018,"reputation":36,"user_id":4556644,"display_name":"Mauricio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548912361,"creation_date":1548912361,"answer_id":54453847,"question_id":36338538,"body_markdown":"Are you using Docker Toolbox???\r\n\r\nIn my case, the normal docker installation didnt work on my Windows 10 so I had to install Docker toolbox; docker toolbox adds a virtual machine where the docker runs all their containers.\r\n\r\nFor example, to access my dockerized apps I have to use: http://192.168.99.100:8080/app.\r\n\r\nHere, 192.168.99.100 is the virtual machine ip.\r\n\r\nHope it helps you!!!!","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>Are you using Docker Toolbox???</p>\n\n<p>In my case, the normal docker installation didnt work on my Windows 10 so I had to install Docker toolbox; docker toolbox adds a virtual machine where the docker runs all their containers.</p>\n\n<p>For example, to access my dockerized apps I have to use: <a href=\"http://192.168.99.100:8080/app\" rel=\"nofollow noreferrer\">http://192.168.99.100:8080/app</a>.</p>\n\n<p>Here, 192.168.99.100 is the virtual machine ip.</p>\n\n<p>Hope it helps you!!!!</p>\n"},{"tags":[],"owner":{"account_id":6940767,"reputation":494,"user_id":5327207,"accept_rate":60,"display_name":"Rajtheaudacityofhope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637268914,"creation_date":1637268914,"answer_id":70026623,"question_id":36338538,"body_markdown":"First build the docker the image with a tag.\r\n\r\nThen using the run command you actually map a port on your host machine to a port on your container\r\n\r\n```\r\n$ docker image build -t your-docker-image-name-which-has-api-server .\r\n$ docker run --rm -it  -p 8000:8000/tcp your-docker-image-name-which-has-api-server:latest\r\n```\r\n\r\nSend in your HTTP requests using the httpie client\r\n```\r\nhttp -v http://localhost:8080\r\n```","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>First build the docker the image with a tag.</p>\n<p>Then using the run command you actually map a port on your host machine to a port on your container</p>\n<pre><code>$ docker image build -t your-docker-image-name-which-has-api-server .\n$ docker run --rm -it  -p 8000:8000/tcp your-docker-image-name-which-has-api-server:latest\n</code></pre>\n<p>Send in your HTTP requests using the httpie client</p>\n<pre><code>http -v http://localhost:8080\n</code></pre>\n"}],"owner":{"account_id":747418,"reputation":3298,"user_id":738451,"accept_rate":27,"display_name":"Andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72205,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":5,"score":22,"last_activity_date":1637268914,"creation_date":1459440692,"question_id":36338538,"body_markdown":"I&#39;ve set up a java application which acts as a web server and handles http requests.  I&#39;ve tested that it works outside the container (which it does), but when in the container my requests don&#39;t seem to get to it.\r\n\r\nThe server listens on port 3971, and the Dockerfile looks like this:\r\n\r\n    FROM java:8\r\n    ADD VaultServer /\r\n    EXPOSE 3971\r\n    EXPOSE 3972\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;VaultServer.jar&quot;]\r\n\r\nCalling to the root address should return something (normally I&#39;d send a GET to http://localhost:3971/).  \r\n\r\n\r\nI&#39;ve tried replacing &#39;localhost&#39; with the the ip address of docker-machine, and also with the ip address I get when inspecting the running container for my server, but neither seem to respond.  When I call to the ip address of docker-machine, I get ERR_CONNECTION_REFUSED.  Is there something else I need to enable?","title":"How to send HTTP requests to my server running in a docker container?","body":"<p>I've set up a java application which acts as a web server and handles http requests.  I've tested that it works outside the container (which it does), but when in the container my requests don't seem to get to it.</p>\n\n<p>The server listens on port 3971, and the Dockerfile looks like this:</p>\n\n<pre><code>FROM java:8\nADD VaultServer /\nEXPOSE 3971\nEXPOSE 3972\nENTRYPOINT [\"java\", \"-jar\", \"VaultServer.jar\"]\n</code></pre>\n\n<p>Calling to the root address should return something (normally I'd send a GET to <a href=\"http://localhost:3971/\" rel=\"noreferrer\">http://localhost:3971/</a>).  </p>\n\n<p>I've tried replacing 'localhost' with the the ip address of docker-machine, and also with the ip address I get when inspecting the running container for my server, but neither seem to respond.  When I call to the ip address of docker-machine, I get ERR_CONNECTION_REFUSED.  Is there something else I need to enable?</p>\n"},{"tags":["java","arrays","boolean"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1631999141,"post_id":69238144,"comment_id":122376517,"body_markdown":"System.out.print will print without causing a line feed.","body":"System.out.print will print without causing a line feed."}],"answers":[{"tags":[],"owner":{"account_id":13597557,"reputation":358,"user_id":9809131,"display_name":"Timur Efimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631999185,"creation_date":1631999185,"answer_id":69238434,"question_id":69238144,"body_markdown":"- As I can see you do not use `System.out.print(i)` instead of `System.out.println(i)` to omit line break. \r\n- Also you are not using parentheses for the inner loop, it is not so obvious to understand the loop context.\r\n- You can read more on error &quot;can&#39;t find the symbol&quot; here: https://stackoverflow.com/q/25706216/9809131","title":"How to Print 2D Boolean Arrays in Java","body":"<ul>\n<li>As I can see you do not use <code>System.out.print(i)</code> instead of <code>System.out.println(i)</code> to omit line break.</li>\n<li>Also you are not using parentheses for the inner loop, it is not so obvious to understand the loop context.</li>\n<li>You can read more on error &quot;can't find the symbol&quot; here: <a href=\"https://stackoverflow.com/q/25706216/9809131\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631999885,"creation_date":1631999885,"answer_id":69238511,"question_id":69238144,"body_markdown":"Try this.\r\n\r\n    static int gcd(int a, int b) {\r\n        while (b != 0) {\r\n            int bb = b;\r\n            b = a % b;\r\n            a = bb;\r\n        }\r\n        return Math.abs(a);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int n = 9;\r\n        System.out.print(&quot; &quot;);\r\n        for (int j = 1; j &lt;= n; j++)\r\n            System.out.print(&quot; &quot; + j);\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            System.out.print(i);\r\n            for (int j = 1; j &lt;= n; j++)\r\n                if (i == j)\r\n                    System.out.print(&quot;  &quot;);\r\n                else if (gcd(i, j) == 1)\r\n                    System.out.print(&quot; T&quot;);\r\n                else\r\n                    System.out.print(&quot; F&quot;);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n      1 2 3 4 5 6 7 8 9\r\n    1   T T T T T T T T\r\n    2 T   T F T F T F T\r\n    3 T T   T T F T T F\r\n    4 T F T   T F T F T\r\n    5 T T T T   T T T T\r\n    6 T F F F T   T F F\r\n    7 T T T T T T   T T\r\n    8 T F T F T F T   T\r\n    9 T T F T T F T T  \r\n\r\n","title":"How to Print 2D Boolean Arrays in Java","body":"<p>Try this.</p>\n<pre><code>static int gcd(int a, int b) {\n    while (b != 0) {\n        int bb = b;\n        b = a % b;\n        a = bb;\n    }\n    return Math.abs(a);\n}\n\npublic static void main(String[] args) {\n    int n = 9;\n    System.out.print(&quot; &quot;);\n    for (int j = 1; j &lt;= n; j++)\n        System.out.print(&quot; &quot; + j);\n    System.out.println();\n    for (int i = 1; i &lt;= n; i++) {\n        System.out.print(i);\n        for (int j = 1; j &lt;= n; j++)\n            if (i == j)\n                System.out.print(&quot;  &quot;);\n            else if (gcd(i, j) == 1)\n                System.out.print(&quot; T&quot;);\n            else\n                System.out.print(&quot; F&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>  1 2 3 4 5 6 7 8 9\n1   T T T T T T T T\n2 T   T F T F T F T\n3 T T   T T F T T F\n4 T F T   T F T F T\n5 T T T T   T T T T\n6 T F F F T   T F F\n7 T T T T T T   T T\n8 T F T F T F T   T\n9 T T F T T F T T  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632002375,"creation_date":1632002375,"answer_id":69238763,"question_id":69238144,"body_markdown":"Here&#39;s a more elaborate version of the code.  Thanks to saka1029 for the greatest common denominator code.\r\n\r\nHere are the results of one of my test runs.\r\n\r\n         1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\r\n      1     T  T  T  T  T  T  T  T  T  T  T  T  T  T\r\n      2  T     T  F  T  F  T  F  T  F  T  F  T  F  T\r\n      3  T  T     T  T  F  T  T  F  T  T  F  T  T  F\r\n      4  T  F  T     T  F  T  F  T  F  T  F  T  F  T\r\n      5  T  T  T  T     T  T  T  T  F  T  T  T  T  F\r\n      6  T  F  F  F  T     T  F  F  F  T  F  T  F  F\r\n      7  T  T  T  T  T  T     T  T  T  T  T  T  F  T\r\n      8  T  F  T  F  T  F  T     T  F  T  F  T  F  T\r\n      9  T  T  F  T  T  F  T  T     T  T  F  T  T  F\r\n     10  T  F  T  F  F  F  T  F  T     T  F  T  F  F\r\n     11  T  T  T  T  T  T  T  T  T  T     T  T  T  T\r\n     12  T  F  F  F  T  F  T  F  F  F  T     T  F  F\r\n     13  T  T  T  T  T  T  T  T  T  T  T  T     T  T\r\n     14  T  F  T  F  T  F  F  F  T  F  T  F  T     T\r\n     15  T  T  F  T  F  F  T  T  F  F  T  F  T  T   \r\n\r\nI used `String.format` and `StringBuilder` to create the table.  This code works with any positive maximum value, although large numbers will be difficult to display.\r\n\r\nI broke my code into methods.  Sure, this code could be written to be shorter, but the goal is for people reading the code to understand the code.\r\n\r\n    public class RelativePrimeNumbers {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tint maximum = Integer.valueOf(args[0]);\r\n    \t\t\tRelativePrimeNumbers rpn = new RelativePrimeNumbers();\r\n    \t\t\tSystem.out.println(rpn.createRelativePrimeTable(maximum));\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic String createRelativePrimeTable(int maximum) {\r\n    \t\tint length = Integer.toString(maximum).length() + 1;\r\n    \t\tString numberFormatter = &quot;%&quot; + length + &quot;d&quot;;\r\n    \t\tString letterFormatter = &quot;%&quot; + length + &quot;s&quot;; \r\n    \t\t\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(createHeaderLine(maximum, numberFormatter, letterFormatter));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tfor (int index = 1; index &lt;= maximum; index++) {\r\n    \t\t\tbuilder.append(createDetailLine(index, maximum, \r\n    \t\t\t\t\tnumberFormatter, letterFormatter));\r\n    \t\t\tbuilder.append(System.lineSeparator());\r\n    \t\t}\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder createHeaderLine(int maximum, String numberFormatter, \r\n    \t\t\tString letterFormatter) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(String.format(letterFormatter, &quot; &quot;));\r\n    \t\tfor (int index = 0; index &lt; maximum; index++) {\r\n    \t\t\tbuilder.append(String.format(numberFormatter, (index + 1)));\r\n    \t\t}\r\n    \t\treturn builder;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder createDetailLine(int index, int maximum, \r\n    \t\t\tString numberFormatter, String letterFormatter) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(String.format(numberFormatter, index));\r\n    \t\tfor (int jndex = 1; jndex &lt;= maximum; jndex++) {\r\n    \t\t\tif (index == jndex) {\r\n    \t\t\t\tbuilder.append(String.format(letterFormatter, &quot; &quot;));\r\n    \t\t\t} else if (calculateGCD(index, jndex) == 1) {\r\n    \t\t\t\tbuilder.append(String.format(letterFormatter, &quot;T&quot;));\r\n    \t\t\t} else {\r\n    \t\t\t\tbuilder.append(String.format(letterFormatter, &quot;F&quot;));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn builder;\r\n    \t}\r\n    \t\r\n    \tprivate int calculateGCD(int a, int b) {\r\n    \t    while (b != 0) {\r\n    \t        int bb = b;\r\n    \t        b = a % b;\r\n    \t        a = bb;\r\n    \t    }\r\n    \t    return Math.abs(a);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How to Print 2D Boolean Arrays in Java","body":"<p>Here's a more elaborate version of the code.  Thanks to saka1029 for the greatest common denominator code.</p>\n<p>Here are the results of one of my test runs.</p>\n<pre><code>     1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\n  1     T  T  T  T  T  T  T  T  T  T  T  T  T  T\n  2  T     T  F  T  F  T  F  T  F  T  F  T  F  T\n  3  T  T     T  T  F  T  T  F  T  T  F  T  T  F\n  4  T  F  T     T  F  T  F  T  F  T  F  T  F  T\n  5  T  T  T  T     T  T  T  T  F  T  T  T  T  F\n  6  T  F  F  F  T     T  F  F  F  T  F  T  F  F\n  7  T  T  T  T  T  T     T  T  T  T  T  T  F  T\n  8  T  F  T  F  T  F  T     T  F  T  F  T  F  T\n  9  T  T  F  T  T  F  T  T     T  T  F  T  T  F\n 10  T  F  T  F  F  F  T  F  T     T  F  T  F  F\n 11  T  T  T  T  T  T  T  T  T  T     T  T  T  T\n 12  T  F  F  F  T  F  T  F  F  F  T     T  F  F\n 13  T  T  T  T  T  T  T  T  T  T  T  T     T  T\n 14  T  F  T  F  T  F  F  F  T  F  T  F  T     T\n 15  T  T  F  T  F  F  T  T  F  F  T  F  T  T   \n</code></pre>\n<p>I used <code>String.format</code> and <code>StringBuilder</code> to create the table.  This code works with any positive maximum value, although large numbers will be difficult to display.</p>\n<p>I broke my code into methods.  Sure, this code could be written to be shorter, but the goal is for people reading the code to understand the code.</p>\n<pre><code>public class RelativePrimeNumbers {\n\n    public static void main(String[] args) {\n        try {\n            int maximum = Integer.valueOf(args[0]);\n            RelativePrimeNumbers rpn = new RelativePrimeNumbers();\n            System.out.println(rpn.createRelativePrimeTable(maximum));\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n\n    }\n    \n    public String createRelativePrimeTable(int maximum) {\n        int length = Integer.toString(maximum).length() + 1;\n        String numberFormatter = &quot;%&quot; + length + &quot;d&quot;;\n        String letterFormatter = &quot;%&quot; + length + &quot;s&quot;; \n        \n        StringBuilder builder = new StringBuilder();\n        builder.append(createHeaderLine(maximum, numberFormatter, letterFormatter));\n        builder.append(System.lineSeparator());\n        for (int index = 1; index &lt;= maximum; index++) {\n            builder.append(createDetailLine(index, maximum, \n                    numberFormatter, letterFormatter));\n            builder.append(System.lineSeparator());\n        }\n        return builder.toString();\n    }\n    \n    private StringBuilder createHeaderLine(int maximum, String numberFormatter, \n            String letterFormatter) {\n        StringBuilder builder = new StringBuilder();\n        builder.append(String.format(letterFormatter, &quot; &quot;));\n        for (int index = 0; index &lt; maximum; index++) {\n            builder.append(String.format(numberFormatter, (index + 1)));\n        }\n        return builder;\n    }\n    \n    private StringBuilder createDetailLine(int index, int maximum, \n            String numberFormatter, String letterFormatter) {\n        StringBuilder builder = new StringBuilder();\n        builder.append(String.format(numberFormatter, index));\n        for (int jndex = 1; jndex &lt;= maximum; jndex++) {\n            if (index == jndex) {\n                builder.append(String.format(letterFormatter, &quot; &quot;));\n            } else if (calculateGCD(index, jndex) == 1) {\n                builder.append(String.format(letterFormatter, &quot;T&quot;));\n            } else {\n                builder.append(String.format(letterFormatter, &quot;F&quot;));\n            }\n        }\n        return builder;\n    }\n    \n    private int calculateGCD(int a, int b) {\n        while (b != 0) {\n            int bb = b;\n            b = a % b;\n            a = bb;\n        }\n        return Math.abs(a);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1637268743,"creation_date":1631996277,"question_id":69238144,"body_markdown":"I&#39;m trying to create a boolean array for prime numbers. I&#39;m supposed to end up with a result like:\r\n\r\nJava PrimeArray 9\r\n\r\n       1 2 3 4 5 6 7 8 9\r\n    \r\n    1    T T T T T T T T\r\n    \r\n    2 T    T F T F T F T\r\n    \r\n    3 T T    T T F T T F\r\n    \r\n    4 T F T    T F T F T\r\n    \r\n    5 T T T T    T T T T\r\n    \r\n    6 T F F F T    T F F\r\n    \r\n    7 T T T T T T    T T\r\n    \r\n    8 T F T F T F T    T\r\n    \r\n    9 T T F T T F T T\r\n\r\n\r\nI&#39;m not getting the correct result. It isn&#39;t printing in rows and columns. I&#39;m new to programming, but I tried playing around with different features of the array with no luck. Can someone please give me some tips on this?  \r\n\r\n\tpublic class PrimeArray {\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tint n = Integer.parseInt(args[0]);\r\n\r\n\t\t\tboolean[][] rpa = new boolean[n + 1][n + 1];\r\n\r\n\t\t\tfor (int i = 1; i &lt;= n; i++) {\r\n\t\t\t\tfor (int j = 1; j &lt;= n; j++)\r\n\r\n\t\t\t\t\tif (i == j)\r\n\t\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t\telse if ((i % j == 1))\r\n\t\t\t\t\t\tSystem.out.print(&quot;T&quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tSystem.out.print(&quot;F&quot;);\r\n\r\n\t\t\t\tSystem.out.print(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to Print 2D Boolean Arrays in Java","body":"<p>I'm trying to create a boolean array for prime numbers. I'm supposed to end up with a result like:</p>\n<p>Java PrimeArray 9</p>\n<pre><code>   1 2 3 4 5 6 7 8 9\n\n1    T T T T T T T T\n\n2 T    T F T F T F T\n\n3 T T    T T F T T F\n\n4 T F T    T F T F T\n\n5 T T T T    T T T T\n\n6 T F F F T    T F F\n\n7 T T T T T T    T T\n\n8 T F T F T F T    T\n\n9 T T F T T F T T\n</code></pre>\n<p>I'm not getting the correct result. It isn't printing in rows and columns. I'm new to programming, but I tried playing around with different features of the array with no luck. Can someone please give me some tips on this?</p>\n<pre><code>public class PrimeArray {\n    public static void main(String[] args) {\n\n        int n = Integer.parseInt(args[0]);\n\n        boolean[][] rpa = new boolean[n + 1][n + 1];\n\n        for (int i = 1; i &lt;= n; i++) {\n            for (int j = 1; j &lt;= n; j++)\n\n                if (i == j)\n                    System.out.print(&quot; &quot;);\n                else if ((i % j == 1))\n                    System.out.print(&quot;T&quot;);\n                else\n                    System.out.print(&quot;F&quot;);\n\n            System.out.print(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","java-17"],"comments":[{"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"score":3,"creation_date":1637267872,"post_id":70026397,"comment_id":123787879,"body_markdown":"I don&#39;t think that&#39;s possible. As your question is tagged with IntelliJ, did you have a look at [IntelliJ&#39;s auto import feature](https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html)?","body":"I don&#39;t think that&#39;s possible. As your question is tagged with IntelliJ, did you have a look at <a href=\"https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html\" rel=\"nofollow noreferrer\">IntelliJ&#39;s auto import feature</a>?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1637267879,"post_id":70026397,"comment_id":123787884,"body_markdown":"If you use an IDE, they automate some of that tedium. i.e. eclipse: Ctrl+Shift+O","body":"If you use an IDE, they automate some of that tedium. i.e. eclipse: Ctrl+Shift+O"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1637267892,"post_id":70026397,"comment_id":123787891,"body_markdown":"Why? Your IDE manages all this for you, you don&#39;t need to think about it.  Besides, it&#39;s fairly uncommon for the same set of imports to be needed everywhere.","body":"Why? Your IDE manages all this for you, you don&#39;t need to think about it.  Besides, it&#39;s fairly uncommon for the same set of imports to be needed everywhere."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1637268281,"post_id":70026397,"comment_id":123788030,"body_markdown":"Does every single one of your classes need an IOException? Does this have anything to do with intellij-idea? I haven&#39;t written an import statement in idea in years.","body":"Does every single one of your classes need an IOException? Does this have anything to do with intellij-idea? I haven&#39;t written an import statement in idea in years."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":4,"creation_date":1637268318,"post_id":70026397,"comment_id":123788047,"body_markdown":"Having too many imports might also be a sign that your class is too big. Consider splitting the code in several classes if you find a meaningful way to do so","body":"Having too many imports might also be a sign that your class is too big. Consider splitting the code in several classes if you find a meaningful way to do so"}],"answers":[{"tags":[],"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637268103,"creation_date":1637268103,"answer_id":70026481,"question_id":70026397,"body_markdown":"I have never seen it done like that. I don&#39;t think it is possible but even if it was, I don&#39;t see that as very readable code. It doesn&#39;t tell me everything I need to know without me having to visit the package where all the imports are.\r\n\r\nI believe the only ways to import packages are to use the very specifc naming conventions i.e.\r\n\r\n```import java.util.List;```\r\n\r\nor to import a whole package\r\n\r\n```import java.util.*;```","title":"How can I make imports less repetitive in Java","body":"<p>I have never seen it done like that. I don't think it is possible but even if it was, I don't see that as very readable code. It doesn't tell me everything I need to know without me having to visit the package where all the imports are.</p>\n<p>I believe the only ways to import packages are to use the very specifc naming conventions i.e.</p>\n<p><code>import java.util.List;</code></p>\n<p>or to import a whole package</p>\n<p><code>import java.util.*;</code></p>\n"}],"owner":{"account_id":23385653,"reputation":13,"user_id":17451065,"display_name":"Nicholas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1637270419,"accepted_answer_id":70026481,"answer_count":1,"score":-2,"last_activity_date":1637268103,"creation_date":1637267696,"question_id":70026397,"body_markdown":"Instead of copying and pasting the same import statements in every single class file is there a way to put all of the imports you need on just one file and then call that file  for example instead of pasting this every time:\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.security.GeneralSecurityException;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\ncould you somehow put those statements in just one file and then import that instead ie. \r\n\r\n    import My_Imports;\r\n\r\n\r\n","title":"How can I make imports less repetitive in Java","body":"<p>Instead of copying and pasting the same import statements in every single class file is there a way to put all of the imports you need on just one file and then call that file  for example instead of pasting this every time:</p>\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\nimport java.util.List;\n</code></pre>\n<p>could you somehow put those statements in just one file and then import that instead ie.</p>\n<pre><code>import My_Imports;\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637267920,"creation_date":1637267920,"answer_id":70026436,"question_id":70002598,"body_markdown":"Do you have the following dependency in your pom.xml\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;easytable&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"EasyTable NoClassDefFoundError","body":"<p>Do you have the following dependency in your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.vandeseer&lt;/groupId&gt;\n    &lt;artifactId&gt;easytable&lt;/artifactId&gt;\n    &lt;version&gt;0.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17561910,"reputation":65,"user_id":12739733,"display_name":"mr-woodapple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70026436,"answer_count":1,"score":0,"last_activity_date":1637267920,"creation_date":1637144527,"question_id":70002598,"body_markdown":"I&#39;m working on an Spring Boot application in which I would like to create a pdf when the user presses a button. I&#39;m using apache.pdfbox and [vandeseer.easytable][1] in order to generate the PDF. So far so good.\r\n\r\nBut when I hit the button to generate the PDF (see the function below), it just gives me an &quot;java.lang.NoClassDefFoundError: org/vandeseer/easytable/structure/Table&quot; for where I start building the table (&quot;Table.TableBuilder myTable....). \r\n\r\nHave I missed something in implementing easyTable? Generating an empty PDF was working before I added in easyTable...\r\n\r\n\r\n\r\n    public class pdfGeneration {\r\n    \r\n    \t// Where we actually want to generate and print the receipt\r\n    \tpublic static void generatePDF(Cart cart) throws IOException {\r\n    \r\n    \t\t// Creating the document and an empty page\r\n    \t\tPDDocument document = new PDDocument();\r\n    \t\tPDPage page = new PDPage(PDRectangle.A4);\r\n    \t\tdocument.addPage(page);\r\n    \r\n    \t\tPDPageContentStream contentStream = new PDPageContentStream(document, page);\r\n    \r\n    \t\t// Build the table\r\n    \t\tTable.TableBuilder myTable = Table.builder()\r\n    \t\t\t\t.addColumnsOfWidth(100, 50, 50)\r\n    \t\t\t\t.fontSize(8)\r\n    \t\t\t\t.borderColor(Color.RED);\r\n    \r\n    \t\tmyTable.addRow(Row.builder()\r\n    \t\t\t\t.add(TextCell.builder().text(&quot;Productname&quot;).build())\r\n    \t\t\t\t.add(TextCell.builder().text(&quot;Quantity&quot;).build())\r\n    \t\t\t\t.add(TextCell.builder().text(&quot;Price&quot;).build())\r\n    \t\t\t\t.build());\r\n    \r\n    \r\n    \t\t// Close the contentStream, save and close the document\r\n    \t\tcontentStream.close();\r\n    \t\tdocument.save(&quot;C:/Users/yourusername/Desktop/my_doc.pdf&quot;);\r\n    \t\tdocument.close();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/vandeseer/easytable","title":"EasyTable NoClassDefFoundError","body":"<p>I'm working on an Spring Boot application in which I would like to create a pdf when the user presses a button. I'm using apache.pdfbox and <a href=\"https://github.com/vandeseer/easytable\" rel=\"nofollow noreferrer\">vandeseer.easytable</a> in order to generate the PDF. So far so good.</p>\n<p>But when I hit the button to generate the PDF (see the function below), it just gives me an &quot;java.lang.NoClassDefFoundError: org/vandeseer/easytable/structure/Table&quot; for where I start building the table (&quot;Table.TableBuilder myTable....).</p>\n<p>Have I missed something in implementing easyTable? Generating an empty PDF was working before I added in easyTable...</p>\n<pre><code>public class pdfGeneration {\n\n    // Where we actually want to generate and print the receipt\n    public static void generatePDF(Cart cart) throws IOException {\n\n        // Creating the document and an empty page\n        PDDocument document = new PDDocument();\n        PDPage page = new PDPage(PDRectangle.A4);\n        document.addPage(page);\n\n        PDPageContentStream contentStream = new PDPageContentStream(document, page);\n\n        // Build the table\n        Table.TableBuilder myTable = Table.builder()\n                .addColumnsOfWidth(100, 50, 50)\n                .fontSize(8)\n                .borderColor(Color.RED);\n\n        myTable.addRow(Row.builder()\n                .add(TextCell.builder().text(&quot;Productname&quot;).build())\n                .add(TextCell.builder().text(&quot;Quantity&quot;).build())\n                .add(TextCell.builder().text(&quot;Price&quot;).build())\n                .build());\n\n\n        // Close the contentStream, save and close the document\n        contentStream.close();\n        document.save(&quot;C:/Users/yourusername/Desktop/my_doc.pdf&quot;);\n        document.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","web","tomcat","servlets","google-oauth"],"owner":{"account_id":12441608,"reputation":186,"user_id":9059539,"display_name":"TTT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637267645,"creation_date":1637267645,"question_id":70026384,"body_markdown":"I&#39;m still very new to web development and trying to add a &quot;Sign in with google&quot; button to my login page. I am using Apache Tomcat v10 Java Servlets for my backend.\r\n\r\nThe button itself works fine and I can grab the user&#39;s email in &lt;script&gt;, but I need to create a new HttpSession after the user clicks this button (which must be done on the backend servlet I believe). What is the best way to this? Should my &lt;script&gt; onSignIn method in javascript create a form with the email/name of the user and submit, and then grab this from a getPost in servlet? Or should I be going about this a different way?","title":"How to start a new session in servlet after Google OAuth &quot;Sign in with Google&quot;","body":"<p>I'm still very new to web development and trying to add a &quot;Sign in with google&quot; button to my login page. I am using Apache Tomcat v10 Java Servlets for my backend.</p>\n<p>The button itself works fine and I can grab the user's email in , but I need to create a new HttpSession after the user clicks this button (which must be done on the backend servlet I believe). What is the best way to this? Should my  onSignIn method in javascript create a form with the email/name of the user and submit, and then grab this from a getPost in servlet? Or should I be going about this a different way?</p>\n"},{"tags":["java","arrays","substring"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1637266276,"post_id":70026085,"comment_id":123787287,"body_markdown":"If you want an array of one element, then `String data [] = { line.substring(i, i+1) };` should work.","body":"If you want an array of one element, then <code>String data [] = { line.substring(i, i+1) };</code> should work."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1637266307,"post_id":70026085,"comment_id":123787300,"body_markdown":"I&#39;d advise you to keep all the type information together though: `String[] data = { line.substring(i, i + 1) };` The ability to separate the `String` part and the `[]` part is effectively a legacy from older languages, and generally discouraged in most style guides.","body":"I&#39;d advise you to keep all the type information together though: <code>String[] data = { line.substring(i, i + 1) };</code> The ability to separate the <code>String</code> part and the <code>[]</code> part is effectively a legacy from older languages, and generally discouraged in most style guides."},{"owner":{"account_id":17630574,"reputation":272,"user_id":12794752,"display_name":"darkmnemic"},"score":1,"creation_date":1637266417,"post_id":70026085,"comment_id":123787344,"body_markdown":"Does this answer your question? [How do I declare and initialize an array in Java?](https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java\">How do I declare and initialize an array in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637266672,"creation_date":1637266672,"answer_id":70026197,"question_id":70026085,"body_markdown":"[`.substring()`][1] does not return an array, it returns a `String` so passing it into an array won&#39;t work. You can split a `String` into a `String[]` array using the [`.split(String regex)`][2] method. The paramter is the delimiting regular expression, meaning if you did `&quot;Hello World&quot;.split(&quot; &quot;);` (with space as the argument), the resulting array would be [&quot;Hello&quot;, &quot;World&quot;]. If you want to split all of the characters into their own index of the array, just pass in an empty String `&quot;&quot;` as the argument of the `split` method (like `line.split(&quot;&quot;)`).\r\n\r\nIf your goal is to store the `String` in an array you can pass it in with a regular array declaration and assignment: `String[] data = { line.substring(i, i + 1) };` or just make a new array and pass it into the desired index.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-","title":"Substring into an array in Java","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-\" rel=\"nofollow noreferrer\"><code>.substring()</code></a> does not return an array, it returns a <code>String</code> so passing it into an array won't work. You can split a <code>String</code> into a <code>String[]</code> array using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>.split(String regex)</code></a> method. The paramter is the delimiting regular expression, meaning if you did <code>&quot;Hello World&quot;.split(&quot; &quot;);</code> (with space as the argument), the resulting array would be [&quot;Hello&quot;, &quot;World&quot;]. If you want to split all of the characters into their own index of the array, just pass in an empty String <code>&quot;&quot;</code> as the argument of the <code>split</code> method (like <code>line.split(&quot;&quot;)</code>).</p>\n<p>If your goal is to store the <code>String</code> in an array you can pass it in with a regular array declaration and assignment: <code>String[] data = { line.substring(i, i + 1) };</code> or just make a new array and pass it into the desired index.</p>\n"}],"owner":{"account_id":20745926,"reputation":3,"user_id":15234531,"display_name":"Jeff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1637269313,"accepted_answer_id":70026197,"answer_count":1,"score":-2,"last_activity_date":1637266902,"creation_date":1637266120,"question_id":70026085,"body_markdown":"I&#39;m wanting to store an a substring into a new array.\r\n\r\nHere is my substring `data = line.substring(i, i+1);`\r\n\r\nHow do i do this? I have tried `String data [] = line.substring(i, i+1)` but not worked.\r\n\r\nThanks","title":"Substring into an array in Java","body":"<p>I'm wanting to store an a substring into a new array.</p>\n<p>Here is my substring <code>data = line.substring(i, i+1);</code></p>\n<p>How do i do this? I have tried <code>String data [] = line.substring(i, i+1)</code> but not worked.</p>\n<p>Thanks</p>\n"},{"tags":["java","dll","classloader","java-web-start","jnlp"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1637258451,"post_id":70024318,"comment_id":123784602,"body_markdown":"Problem is in app, not you machine. It is impossible to tell more without seeing source code of application.","body":"Problem is in app, not you machine. It is impossible to tell more without seeing source code of application."},{"owner":{"account_id":20238488,"reputation":15,"user_id":14842971,"display_name":"EW3A"},"score":0,"creation_date":1637259391,"post_id":70024318,"comment_id":123784914,"body_markdown":"I have Updates the Code without the Original Website Links, but the Code is the Same","body":"I have Updates the Code without the Original Website Links, but the Code is the Same"}],"owner":{"account_id":20238488,"reputation":15,"user_id":14842971,"display_name":"EW3A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637266564,"creation_date":1637256981,"question_id":70024318,"body_markdown":"I Have the Following Error when I try to Run an JNLP File, that I downloaded from a Website.  I Just want to Know if the Problem Lies with my Computer or the File Itself. If its in my Computer, then Please provide the Steps to Rectify it. If the Question here should have been Posted in Other sites other than Stackoverflow, then mention the other Site\r\n\r\nCode:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;https://www.org&quot;\r\n\t  href=&quot;https://www.org/download-jnlp.php?&quot;&gt;\r\n\t&lt;information&gt;\r\n\t\t&lt;title&gt;xxx&lt;/title&gt;\r\n\t\t&lt;vendor&gt;JS&lt;/vendor&gt;\r\n\t\t&lt;homepage href=&quot;http://www.org/&quot; /&gt;\r\n\t\t&lt;description&gt;xxx&lt;/description&gt;\r\n\t\t&lt;icon href=&quot;/sts1-minicut.jpg&quot;/&gt; \r\n\t\t&lt;shortcut online=&quot;false&quot;&gt;\r\n\t\t\t&lt;desktop/&gt;\r\n\t\t\t&lt;menu submenu=&quot;xxx.org&quot;/&gt;\r\n\t\t&lt;/shortcut&gt;\r\n\t&lt;/information&gt;\r\n\t&lt;security&gt;\r\n\t\t&lt;all-permissions/&gt;\r\n\t&lt;/security&gt;\r\n\t&lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\r\n\t&lt;resources&gt;\r\n\t\t&lt;!-- Application Resources --&gt;\r\n\t\t&lt;j2se version=&quot;1.8.0*&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;-Dcom.sun.management.jmxremote&quot; initial-heap-size=&quot;500M&quot; /&gt;\r\n\t\t&lt;j2se version=&quot;9+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;--add-modules=java.xml.ws&quot; initial-heap-size=&quot;500M&quot; /&gt;\r\n\t\t&lt;jar href=&quot;Loader.jar&quot; download=&quot;progress&quot;/&gt;\r\n\t\t&lt;jar href=&quot;sts.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt;\r\n\t\t&lt;jar href=&quot;js-tools.jar&quot; download=&quot;eager&quot;/&gt;\r\n\t\t&lt;jar href=&quot;STSQuery.jar&quot; download=&quot;eager&quot;/&gt;\r\n\t\t&lt;jar href=&quot;flatlaf.jar&quot; download=&quot;eager&quot;/&gt;\r\n&lt;!--\t\t&lt;jar href=&quot;flatlaf-themes.jar&quot; download=&quot;eager&quot;/&gt; --&gt;\r\n\r\n\t\t&lt;property name=&quot;jnlp.ircserver&quot; value=&quot;bespin.org&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.timeserver&quot; value=&quot;bespin.org&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.webserver&quot; value=&quot;www.org&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.service&quot; value=&quot;https://www.org/soap.php&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.log&quot; value=&quot;www.org/javalog.php&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.controlbot&quot; value=&quot;sts-control&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.controlroomPrefix&quot; value=&quot;#control&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.readyroom&quot; value=&quot;#readyroom&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.readyroomchannels&quot; value=&quot;#Lobby:Lobby;#quassel:Spielanfragen&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.mixfilterchannels&quot; value=&quot;#Lobby&quot;/&gt;\r\n\t\t&lt;property name=&quot;jnlp.startchannel&quot; value=&quot;#lobby&quot;/&gt;\r\n\t&lt;/resources&gt;\r\n\t&lt;application-desc\r\n\t\tname=&quot;xxx&quot;\r\n\t\tmain-class=&quot;js.java.schaltungen.stsmain&quot;\r\n\t\twidth=&quot;300&quot;\r\n\t\theight=&quot;300&quot;&gt;\r\n\t\t&lt;argument&gt;006195686ce449&lt;/argument&gt;\r\n\t\t&lt;argument&gt;58441&lt;/argument&gt;\r\n\t\t&lt;argument&gt;matmut&lt;/argument&gt;\r\n\t&lt;/application-desc&gt;\r\n&lt;/jnlp&gt;\r\n```","title":"JNLP Native Library jawt.dl already loaded in another classloader","body":"<p>I Have the Following Error when I try to Run an JNLP File, that I downloaded from a Website.  I Just want to Know if the Problem Lies with my Computer or the File Itself. If its in my Computer, then Please provide the Steps to Rectify it. If the Question here should have been Posted in Other sites other than Stackoverflow, then mention the other Site</p>\n<p>Code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;https://www.org&quot;\n      href=&quot;https://www.org/download-jnlp.php?&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;xxx&lt;/title&gt;\n        &lt;vendor&gt;JS&lt;/vendor&gt;\n        &lt;homepage href=&quot;http://www.org/&quot; /&gt;\n        &lt;description&gt;xxx&lt;/description&gt;\n        &lt;icon href=&quot;/sts1-minicut.jpg&quot;/&gt; \n        &lt;shortcut online=&quot;false&quot;&gt;\n            &lt;desktop/&gt;\n            &lt;menu submenu=&quot;xxx.org&quot;/&gt;\n        &lt;/shortcut&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n    &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\n    &lt;resources&gt;\n        &lt;!-- Application Resources --&gt;\n        &lt;j2se version=&quot;1.8.0*&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;-Dcom.sun.management.jmxremote&quot; initial-heap-size=&quot;500M&quot; /&gt;\n        &lt;j2se version=&quot;9+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;--add-modules=java.xml.ws&quot; initial-heap-size=&quot;500M&quot; /&gt;\n        &lt;jar href=&quot;Loader.jar&quot; download=&quot;progress&quot;/&gt;\n        &lt;jar href=&quot;sts.jar&quot; main=&quot;true&quot; download=&quot;eager&quot;/&gt;\n        &lt;jar href=&quot;js-tools.jar&quot; download=&quot;eager&quot;/&gt;\n        &lt;jar href=&quot;STSQuery.jar&quot; download=&quot;eager&quot;/&gt;\n        &lt;jar href=&quot;flatlaf.jar&quot; download=&quot;eager&quot;/&gt;\n&lt;!--        &lt;jar href=&quot;flatlaf-themes.jar&quot; download=&quot;eager&quot;/&gt; --&gt;\n\n        &lt;property name=&quot;jnlp.ircserver&quot; value=&quot;bespin.org&quot;/&gt;\n        &lt;property name=&quot;jnlp.timeserver&quot; value=&quot;bespin.org&quot;/&gt;\n        &lt;property name=&quot;jnlp.webserver&quot; value=&quot;www.org&quot;/&gt;\n        &lt;property name=&quot;jnlp.service&quot; value=&quot;https://www.org/soap.php&quot;/&gt;\n        &lt;property name=&quot;jnlp.log&quot; value=&quot;www.org/javalog.php&quot;/&gt;\n        &lt;property name=&quot;jnlp.controlbot&quot; value=&quot;sts-control&quot;/&gt;\n        &lt;property name=&quot;jnlp.controlroomPrefix&quot; value=&quot;#control&quot;/&gt;\n        &lt;property name=&quot;jnlp.readyroom&quot; value=&quot;#readyroom&quot;/&gt;\n        &lt;property name=&quot;jnlp.readyroomchannels&quot; value=&quot;#Lobby:Lobby;#quassel:Spielanfragen&quot;/&gt;\n        &lt;property name=&quot;jnlp.mixfilterchannels&quot; value=&quot;#Lobby&quot;/&gt;\n        &lt;property name=&quot;jnlp.startchannel&quot; value=&quot;#lobby&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;application-desc\n        name=&quot;xxx&quot;\n        main-class=&quot;js.java.schaltungen.stsmain&quot;\n        width=&quot;300&quot;\n        height=&quot;300&quot;&gt;\n        &lt;argument&gt;006195686ce449&lt;/argument&gt;\n        &lt;argument&gt;58441&lt;/argument&gt;\n        &lt;argument&gt;matmut&lt;/argument&gt;\n    &lt;/application-desc&gt;\n&lt;/jnlp&gt;\n</code></pre>\n"},{"tags":["java","spring","sonarqube"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637186067,"post_id":70011902,"comment_id":123762208,"body_markdown":"And where you&#39;ve used `getSubject` and `getText` without parentheses, is that a typo too?","body":"And where you&#39;ve used <code>getSubject</code> and <code>getText</code> without parentheses, is that a typo too?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637186317,"post_id":70011902,"comment_id":123762304,"body_markdown":"No, I mean is `getSubject != null` supposed to be `getSubject() != null` and `getText != null` supposed to be `getText() != null`","body":"No, I mean is <code>getSubject != null</code> supposed to be <code>getSubject() != null</code> and <code>getText != null</code> supposed to be <code>getText() != null</code>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637186390,"post_id":70011902,"comment_id":123762326,"body_markdown":"You really should post code that you&#39;ve already verified demonstrates the problem you&#39;re describing, not code that you&#39;ve thought up and haven&#39;t even tried compiling.","body":"You really should post code that you&#39;ve already verified demonstrates the problem you&#39;re describing, not code that you&#39;ve thought up and haven&#39;t even tried compiling."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637186600,"post_id":70011902,"comment_id":123762398,"body_markdown":"Really? That does not sound like a good system you have.","body":"Really? That does not sound like a good system you have."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637266552,"creation_date":1637189770,"answer_id":70012611,"question_id":70011902,"body_markdown":"    String text = templateMessage.getText();\r\n    if (text != null) {\r\n       message.setText(String.format(text, msg));\r\n    }\r\n\r\n`getText` seems to be more than a simple getter. The second time it evidently may return null.\r\n","title":"Sonar Issue-Possible null pointer dereference due to return value of called method. Return value from a method is dereferenced without a null check","body":"<pre><code>String text = templateMessage.getText();\nif (text != null) {\n   message.setText(String.format(text, msg));\n}\n</code></pre>\n<p><code>getText</code> seems to be more than a simple getter. The second time it evidently may return null.</p>\n"}],"owner":{"account_id":16858769,"reputation":47,"user_id":12190066,"display_name":"Arijit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012611,"answer_count":1,"score":0,"last_activity_date":1637266552,"creation_date":1637185157,"question_id":70011902,"body_markdown":"I have a void method which is being called with a string argument from a parent method.\r\n\r\n\tprivate void sendMail(String msg) {\r\n\t\t SimpleMailMessage message = null;\r\n\t\t try {\r\n\t\t\tSimpleMailMessage templateMessage = mailSender.getSimpleMailMessage();\r\n\t\t\tif(templateMessage != null ) {\r\n\t\t\t\tmessage = new SimpleMailMessage(templateMessage);\r\n\t\t\t\tif(message != null) {\r\n\t\t\t\t\tif(templateMessage.getSubject() != null) {\r\n\t\t\t\t\t\tmessage.setSubject(String.format(templateMessage.getSubject(), System.getProperty(&quot;env&quot;)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(templateMessage.getText() != null) {\r\n\t\t\t\t\t\tmessage.setText(String.format(templateMessage.getText(), msg)); // This line of code is throwing Sonar issue\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Sonar Issue-Possible null pointer dereference due to return value of called method. Return value from a method is dereferenced without a null check","body":"<p>I have a void method which is being called with a string argument from a parent method.</p>\n<pre><code>private void sendMail(String msg) {\n     SimpleMailMessage message = null;\n     try {\n        SimpleMailMessage templateMessage = mailSender.getSimpleMailMessage();\n        if(templateMessage != null ) {\n            message = new SimpleMailMessage(templateMessage);\n            if(message != null) {\n                if(templateMessage.getSubject() != null) {\n                    message.setSubject(String.format(templateMessage.getSubject(), System.getProperty(&quot;env&quot;)));\n                }\n                if(templateMessage.getText() != null) {\n                    message.setText(String.format(templateMessage.getText(), msg)); // This line of code is throwing Sonar issue\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","while-loop","switch-statement"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1637234936,"post_id":70019010,"comment_id":123774367,"body_markdown":"Why do you set `choice` to true if you don’t want the loop to exit?","body":"Why do you set <code>choice</code> to true if you don’t want the loop to exit?"},{"owner":{"account_id":23098290,"reputation":5,"user_id":17208055,"display_name":"이우진"},"score":0,"creation_date":1637235450,"post_id":70019010,"comment_id":123774575,"body_markdown":"Oh thank you so much. I edited them to false!!","body":"Oh thank you so much. I edited them to false!!"},{"owner":{"account_id":7849399,"reputation":860,"user_id":5933317,"display_name":"Kapil Thakkar"},"score":0,"creation_date":1637235925,"post_id":70019010,"comment_id":123774760,"body_markdown":"I don&#39;t think you need to use while twice.","body":"I don&#39;t think you need to use while twice."}],"answers":[{"tags":[],"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637235575,"creation_date":1637235575,"answer_id":70019197,"question_id":70019010,"body_markdown":"You can remove the `while(true)` loop and instead of setting `choice=true` in all the cases just set it to true in the `case 8`.","title":"I want my menu to be repeated until I decide to exit","body":"<p>You can remove the <code>while(true)</code> loop and instead of setting <code>choice=true</code> in all the cases just set it to true in the <code>case 8</code>.</p>\n"},{"tags":[],"owner":{"account_id":7849399,"reputation":860,"user_id":5933317,"display_name":"Kapil Thakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637235821,"creation_date":1637235821,"answer_id":70019260,"question_id":70019010,"body_markdown":"You can also use do while loop and add condition in while like choice is equal to exit.\r\n\r\n    int choice = -1;\r\n    do{\r\n    \r\n    choice = scanner.nextInt();\r\n    // your logic\r\n    \r\n    }while(choice != 8);","title":"I want my menu to be repeated until I decide to exit","body":"<p>You can also use do while loop and add condition in while like choice is equal to exit.</p>\n<pre><code>int choice = -1;\ndo{\n\nchoice = scanner.nextInt();\n// your logic\n\n}while(choice != 8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637266454,"creation_date":1637235994,"answer_id":70019299,"question_id":70019010,"body_markdown":"You have two loops.\r\n\r\nAnd you create a new Scanner object in your loop, which is really messy.\r\n\r\nYou can create a menu function, for example :\r\n\r\n```java\r\nprivate static void menu() {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;menu&quot;);\r\n\t\t\tswitch (scanner.nextInt()) {\r\n\t\t\t    case 1:\r\n\t\t\t\t    // foo\r\n\t\t\t\t    break;\r\n\t\t\t    // and so on until case 8 :\r\n\t\t\t    case 8:\r\n\t\t\t\t    scanner.close();\r\n\t\t\t\t    return; // Leave your function. You don&#39;t even need to use a boolean\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nNote that if you need to use the scanner outside of the function, declare it before and pass it as a parameter of the function. (You should have only one instance of scanner)","title":"I want my menu to be repeated until I decide to exit","body":"<p>You have two loops.</p>\n<p>And you create a new Scanner object in your loop, which is really messy.</p>\n<p>You can create a menu function, for example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void menu() {\n        Scanner scanner = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;menu&quot;);\n            switch (scanner.nextInt()) {\n                case 1:\n                    // foo\n                    break;\n                // and so on until case 8 :\n                case 8:\n                    scanner.close();\n                    return; // Leave your function. You don't even need to use a boolean\n            }\n        }\n    }\n</code></pre>\n<p>Note that if you need to use the scanner outside of the function, declare it before and pass it as a parameter of the function. (You should have only one instance of scanner)</p>\n"}],"owner":{"account_id":23098290,"reputation":5,"user_id":17208055,"display_name":"이우진"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70019299,"answer_count":3,"score":0,"last_activity_date":1637266454,"creation_date":1637234637,"question_id":70019010,"body_markdown":"For now, my code receives an input, and executes the code that matches the number(user input), and terminates automatically. However, I want my menu to keep showing up until the user decides to exit(number 8 in my case).\r\n\r\nGiven the following code:\r\n \r\n\r\n\r\n        int[] main_array; \r\n        main_array = new int[500];\r\n\r\n        boolean choice = false;\r\n\r\n        int menu = 0;\r\n\r\n        Random randomvar = new Random(); //creating random class object\r\n\r\n\r\n        for(int i = 0; i &lt; 500; i++){\r\n\r\n            main_array[i] = randomvar.nextInt(1000) + 1;\r\n\r\n        }\r\n\r\n        while(!choice){\r\n            while(true){\r\n                Scanner sc = new Scanner(System.in);\r\n                System.out.println( &quot;Enter 1: Output all values\\n&quot;+\r\n                                    &quot;Enter 2: Output the sum and mean of the values\\n&quot;+\r\n                                    &quot;Enter 3: Output all odd numbers\\n&quot;+\r\n                                    &quot;Enter 4: Output all even numbers\\n&quot;+\r\n                                    &quot;Enter 5: Output Middle Value\\n&quot;+\r\n                                    &quot;Enter 6: Output First value\\n&quot;+\r\n                                    &quot;Enter 7: Output Last value\\n&quot;+\r\n                                    &quot;Enter 8: Exit&quot;);\r\n                try{\r\n                    menu = sc.nextInt();\r\n                    break;\r\n                } catch(Exception e) {\r\n                    System.out.println(&quot;Wrong input&quot;);\r\n                }\r\n            }\r\n            switch(menu){\r\n                case 1:\r\n                    choice = true;\r\n                    \r\n                    for(int i = 0; i &lt; 500; i++){\r\n\r\n                        System.out.print(main_array[i] + &quot; &quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 2:\r\n                    choice = true;\r\n\r\n                    int sum = 0;\r\n\r\n                    for(int i = 0; i &lt; 500; i++){\r\n\r\n                        sum += main_array[i];\r\n\r\n                    }\r\n                    System.out.println(&quot;sum: &quot; + sum);\r\n\r\n                    System.out.println(&quot;Mean average: &quot; + (sum / 500));\r\n\r\n                    break;\r\n\r\n                case 3:\r\n                    choice = true;\r\n\r\n                    for(int i = 0; i &lt; 500; i++){\r\n\r\n                        if(main_array[i] % 2 == 1)\r\n\r\n                            System.out.print(main_array[i] + &quot; &quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 4:\r\n                    choice = true;\r\n\r\n                    for(int i = 0; i &lt; 500; i++){\r\n\r\n                        if(main_array[i] % 2 == 0)\r\n\r\n                            System.out.print(main_array[i] + &quot; &quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 5:\r\n                    choice = true;\r\n\r\n                    System.out.println(main_array[500/2]);\r\n\r\n                    System.out.println(main_array[500/2]-1);\r\n                    break;\r\n\r\n                case 6:\r\n                    choice = true;\r\n\r\n                    System.out.println(main_array[0]);\r\n\r\n                    break;\r\n\r\n                case 7:\r\n                    choice = true;\r\n\r\n                    System.out.println(main_array[500 - 1]);\r\n\r\n                    break;\r\n\r\n                case 8:\r\n                    System.out.println(&quot;Exit the program&quot;);\r\n\r\n                    return;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid input!&quot;);\r\n\r\n                    break;\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI want my menu to be keep repeated until I input the number 8, so I tried to edit my code by replacing the switch-statement inside the while(true) loop, but the output shows like this:\r\n\r\n    Enter 1: Output all values\r\n    Enter 2: Output the sum and mean of the values\r\n    Enter 3: Output all odd numbers\r\n    Enter 4: Output all even numbers\r\n    Enter 5: Output Middle Value\r\n    Enter 6: Output First value\r\n    Enter 7: Output Last value\r\n    Enter 8: Exit\r\n    \r\n    2\r\n    \r\n    Enter 1: Output all values\r\n    Enter 2: Output the sum and mean of the values\r\n    Enter 3: Output all odd numbers\r\n    Enter 4: Output all even numbers\r\n    Enter 5: Output Middle Value\r\n    Enter 6: Output First value\r\n    Enter 7: Output Last value\r\n    Enter 8: Exit\r\n    \r\n    5\r\n    \r\n    Enter 1: Output all values\r\n    Enter 2: Output the sum and mean of the values\r\n    Enter 3: Output all odd numbers\r\n    Enter 4: Output all even numbers\r\n    Enter 5: Output Middle Value\r\n    Enter 6: Output First value\r\n    Enter 7: Output Last value\r\n    Enter 8: Exit\r\nFixed code:\r\n\r\n        int[] main_array; \r\n        main_array = new int[500];\r\n\r\n        boolean choice = false;\r\n\r\n        int menu = 0;\r\n\r\n        Random randomvar = new Random(); //creating random class object\r\n\r\n\r\n        for(int i = 0; i &lt; 500; i++){\r\n\r\n            main_array[i] = randomvar.nextInt(1000) + 1;\r\n\r\n        }\r\n\r\n        while(!choice){\r\n            while(true){\r\n                Scanner sc = new Scanner(System.in);\r\n                System.out.println( &quot;Enter 1: Output all values\\n&quot;+\r\n                                    &quot;Enter 2: Output the sum and mean of the values\\n&quot;+\r\n                                    &quot;Enter 3: Output all odd numbers\\n&quot;+\r\n                                    &quot;Enter 4: Output all even numbers\\n&quot;+\r\n                                    &quot;Enter 5: Output Middle Value\\n&quot;+\r\n                                    &quot;Enter 6: Output First value\\n&quot;+\r\n                                    &quot;Enter 7: Output Last value\\n&quot;+\r\n                                    &quot;Enter 8: Exit&quot;);\r\n                try{\r\n                    menu = sc.nextInt();\r\n                    break;\r\n                } catch(Exception e) {\r\n                    System.out.println(&quot;Wrong input&quot;);\r\n                }\r\n                switch(menu){\r\n                    case 1:\r\n                        choice = true;\r\n                        \r\n                        for(int i = 0; i &lt; 500; i++){\r\n    \r\n                            System.out.print(main_array[i] + &quot; &quot;);\r\n                        }\r\n                        break;\r\n    \r\n                    case 2:\r\n                        choice = true;\r\n    \r\n                        int sum = 0;\r\n    \r\n                        for(int i = 0; i &lt; 500; i++){\r\n    \r\n                            sum += main_array[i];\r\n    \r\n                        }\r\n                        System.out.println(&quot;sum: &quot; + sum);\r\n    \r\n                        System.out.println(&quot;Mean average: &quot; + (sum / 500));\r\n    \r\n                        break;\r\n    \r\n                    case 3:\r\n                        choice = true;\r\n    \r\n                        for(int i = 0; i &lt; 500; i++){\r\n    \r\n                            if(main_array[i] % 2 == 1)\r\n    \r\n                                System.out.print(main_array[i] + &quot; &quot;);\r\n                        }\r\n                        break;\r\n    \r\n                    case 4:\r\n                        choice = true;\r\n    \r\n                        for(int i = 0; i &lt; 500; i++){\r\n    \r\n                            if(main_array[i] % 2 == 0)\r\n    \r\n                                System.out.print(main_array[i] + &quot; &quot;);\r\n                        }\r\n                        break;\r\n    \r\n                    case 5:\r\n                        choice = true;\r\n    \r\n                        System.out.println(main_array[500/2]);\r\n    \r\n                        System.out.println(main_array[500/2]-1);\r\n                        break;\r\n    \r\n                    case 6:\r\n                        choice = true;\r\n    \r\n                        System.out.println(main_array[0]);\r\n    \r\n                        break;\r\n    \r\n                    case 7:\r\n                        choice = true;\r\n    \r\n                        System.out.println(main_array[500 - 1]);\r\n    \r\n                        break;\r\n    \r\n                    case 8:\r\n                        System.out.println(&quot;Exit the program&quot;);\r\n    \r\n                        return;\r\n    \r\n                    default:\r\n                        System.out.println(&quot;Invalid input!&quot;);\r\n    \r\n                        break;\r\n            }\r\n            }\r\n        }\r\nHow should I fix it?","title":"I want my menu to be repeated until I decide to exit","body":"<p>For now, my code receives an input, and executes the code that matches the number(user input), and terminates automatically. However, I want my menu to keep showing up until the user decides to exit(number 8 in my case).</p>\n<p>Given the following code:</p>\n<pre><code>    int[] main_array; \n    main_array = new int[500];\n\n    boolean choice = false;\n\n    int menu = 0;\n\n    Random randomvar = new Random(); //creating random class object\n\n\n    for(int i = 0; i &lt; 500; i++){\n\n        main_array[i] = randomvar.nextInt(1000) + 1;\n\n    }\n\n    while(!choice){\n        while(true){\n            Scanner sc = new Scanner(System.in);\n            System.out.println( &quot;Enter 1: Output all values\\n&quot;+\n                                &quot;Enter 2: Output the sum and mean of the values\\n&quot;+\n                                &quot;Enter 3: Output all odd numbers\\n&quot;+\n                                &quot;Enter 4: Output all even numbers\\n&quot;+\n                                &quot;Enter 5: Output Middle Value\\n&quot;+\n                                &quot;Enter 6: Output First value\\n&quot;+\n                                &quot;Enter 7: Output Last value\\n&quot;+\n                                &quot;Enter 8: Exit&quot;);\n            try{\n                menu = sc.nextInt();\n                break;\n            } catch(Exception e) {\n                System.out.println(&quot;Wrong input&quot;);\n            }\n        }\n        switch(menu){\n            case 1:\n                choice = true;\n                \n                for(int i = 0; i &lt; 500; i++){\n\n                    System.out.print(main_array[i] + &quot; &quot;);\n                }\n                break;\n\n            case 2:\n                choice = true;\n\n                int sum = 0;\n\n                for(int i = 0; i &lt; 500; i++){\n\n                    sum += main_array[i];\n\n                }\n                System.out.println(&quot;sum: &quot; + sum);\n\n                System.out.println(&quot;Mean average: &quot; + (sum / 500));\n\n                break;\n\n            case 3:\n                choice = true;\n\n                for(int i = 0; i &lt; 500; i++){\n\n                    if(main_array[i] % 2 == 1)\n\n                        System.out.print(main_array[i] + &quot; &quot;);\n                }\n                break;\n\n            case 4:\n                choice = true;\n\n                for(int i = 0; i &lt; 500; i++){\n\n                    if(main_array[i] % 2 == 0)\n\n                        System.out.print(main_array[i] + &quot; &quot;);\n                }\n                break;\n\n            case 5:\n                choice = true;\n\n                System.out.println(main_array[500/2]);\n\n                System.out.println(main_array[500/2]-1);\n                break;\n\n            case 6:\n                choice = true;\n\n                System.out.println(main_array[0]);\n\n                break;\n\n            case 7:\n                choice = true;\n\n                System.out.println(main_array[500 - 1]);\n\n                break;\n\n            case 8:\n                System.out.println(&quot;Exit the program&quot;);\n\n                return;\n\n            default:\n                System.out.println(&quot;Invalid input!&quot;);\n\n                break;\n\n        }\n    }\n}\n</code></pre>\n<p>I want my menu to be keep repeated until I input the number 8, so I tried to edit my code by replacing the switch-statement inside the while(true) loop, but the output shows like this:</p>\n<pre><code>Enter 1: Output all values\nEnter 2: Output the sum and mean of the values\nEnter 3: Output all odd numbers\nEnter 4: Output all even numbers\nEnter 5: Output Middle Value\nEnter 6: Output First value\nEnter 7: Output Last value\nEnter 8: Exit\n\n2\n\nEnter 1: Output all values\nEnter 2: Output the sum and mean of the values\nEnter 3: Output all odd numbers\nEnter 4: Output all even numbers\nEnter 5: Output Middle Value\nEnter 6: Output First value\nEnter 7: Output Last value\nEnter 8: Exit\n\n5\n\nEnter 1: Output all values\nEnter 2: Output the sum and mean of the values\nEnter 3: Output all odd numbers\nEnter 4: Output all even numbers\nEnter 5: Output Middle Value\nEnter 6: Output First value\nEnter 7: Output Last value\nEnter 8: Exit\n</code></pre>\n<p>Fixed code:</p>\n<pre><code>    int[] main_array; \n    main_array = new int[500];\n\n    boolean choice = false;\n\n    int menu = 0;\n\n    Random randomvar = new Random(); //creating random class object\n\n\n    for(int i = 0; i &lt; 500; i++){\n\n        main_array[i] = randomvar.nextInt(1000) + 1;\n\n    }\n\n    while(!choice){\n        while(true){\n            Scanner sc = new Scanner(System.in);\n            System.out.println( &quot;Enter 1: Output all values\\n&quot;+\n                                &quot;Enter 2: Output the sum and mean of the values\\n&quot;+\n                                &quot;Enter 3: Output all odd numbers\\n&quot;+\n                                &quot;Enter 4: Output all even numbers\\n&quot;+\n                                &quot;Enter 5: Output Middle Value\\n&quot;+\n                                &quot;Enter 6: Output First value\\n&quot;+\n                                &quot;Enter 7: Output Last value\\n&quot;+\n                                &quot;Enter 8: Exit&quot;);\n            try{\n                menu = sc.nextInt();\n                break;\n            } catch(Exception e) {\n                System.out.println(&quot;Wrong input&quot;);\n            }\n            switch(menu){\n                case 1:\n                    choice = true;\n                    \n                    for(int i = 0; i &lt; 500; i++){\n\n                        System.out.print(main_array[i] + &quot; &quot;);\n                    }\n                    break;\n\n                case 2:\n                    choice = true;\n\n                    int sum = 0;\n\n                    for(int i = 0; i &lt; 500; i++){\n\n                        sum += main_array[i];\n\n                    }\n                    System.out.println(&quot;sum: &quot; + sum);\n\n                    System.out.println(&quot;Mean average: &quot; + (sum / 500));\n\n                    break;\n\n                case 3:\n                    choice = true;\n\n                    for(int i = 0; i &lt; 500; i++){\n\n                        if(main_array[i] % 2 == 1)\n\n                            System.out.print(main_array[i] + &quot; &quot;);\n                    }\n                    break;\n\n                case 4:\n                    choice = true;\n\n                    for(int i = 0; i &lt; 500; i++){\n\n                        if(main_array[i] % 2 == 0)\n\n                            System.out.print(main_array[i] + &quot; &quot;);\n                    }\n                    break;\n\n                case 5:\n                    choice = true;\n\n                    System.out.println(main_array[500/2]);\n\n                    System.out.println(main_array[500/2]-1);\n                    break;\n\n                case 6:\n                    choice = true;\n\n                    System.out.println(main_array[0]);\n\n                    break;\n\n                case 7:\n                    choice = true;\n\n                    System.out.println(main_array[500 - 1]);\n\n                    break;\n\n                case 8:\n                    System.out.println(&quot;Exit the program&quot;);\n\n                    return;\n\n                default:\n                    System.out.println(&quot;Invalid input!&quot;);\n\n                    break;\n        }\n        }\n    }\n</code></pre>\n<p>How should I fix it?</p>\n"},{"tags":["java","linux","processbuilder"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1637248864,"post_id":70022236,"comment_id":123780521,"body_markdown":"That&#39;s what sudo is for.","body":"That&#39;s what sudo is for."}],"answers":[{"tags":[],"owner":{"account_id":15105782,"reputation":11,"user_id":16193317,"display_name":"Helpthisamatuerprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637264857,"creation_date":1637264857,"answer_id":70025861,"question_id":70022236,"body_markdown":"In case someone else runs into this :)\r\n\r\n    command = new String[] {&quot;su&quot;, &quot;-sl&quot;, userName, &quot;-c&quot;, scriptName};\r\n\r\nThe -l parameter uses the environment variables of the given user, and then just send that into process builder ","title":"Run Process builder script as another user","body":"<p>In case someone else runs into this :)</p>\n<pre><code>command = new String[] {&quot;su&quot;, &quot;-sl&quot;, userName, &quot;-c&quot;, scriptName};\n</code></pre>\n<p>The -l parameter uses the environment variables of the given user, and then just send that into process builder</p>\n"}],"owner":{"account_id":15105782,"reputation":11,"user_id":16193317,"display_name":"Helpthisamatuerprogrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637264857,"creation_date":1637248183,"question_id":70022236,"body_markdown":"I run the su command within my instance as\r\n\r\n    su - myuser\r\n\r\nBut I am not sure how to run the script as this user\r\n\r\n    String cmd = script.getScriptPath() + &quot;/&quot; + script.getScriptName();\r\n    ProcessBuilder pb = new ProcessBuilder(cmd);\r\n    Process p = pb.start();\r\n    // wait for script to end before output\r\n    p.waitFor();\r\n    exitCode = p.exitValue();\r\n\r\nWould really appreciate advice on how to do so, thank you\r\n\r\nEdit: I start from root so I normally do not need to give a password when doing it from inside the instance, I assume I wouldn&#39;t need to via process builder?","title":"Run Process builder script as another user","body":"<p>I run the su command within my instance as</p>\n<pre><code>su - myuser\n</code></pre>\n<p>But I am not sure how to run the script as this user</p>\n<pre><code>String cmd = script.getScriptPath() + &quot;/&quot; + script.getScriptName();\nProcessBuilder pb = new ProcessBuilder(cmd);\nProcess p = pb.start();\n// wait for script to end before output\np.waitFor();\nexitCode = p.exitValue();\n</code></pre>\n<p>Would really appreciate advice on how to do so, thank you</p>\n<p>Edit: I start from root so I normally do not need to give a password when doing it from inside the instance, I assume I wouldn't need to via process builder?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"score":0,"creation_date":1637262085,"post_id":70025321,"comment_id":123785894,"body_markdown":"https://stackoverflow.com/help/how-to-ask","body":"<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637520398,"post_id":70025321,"comment_id":123842341,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637264786,"creation_date":1637264786,"answer_id":70025847,"question_id":70025321,"body_markdown":"Instead of using the getEditableText method simply use getText().toString(). Doing so will first return the TextView that the EditText is displaying and then the String of the text","title":"i need to get the data here and the method [ getText() ] not working with me in android studio","body":"<p>Instead of using the getEditableText method simply use getText().toString(). Doing so will first return the TextView that the EditText is displaying and then the String of the text</p>\n"}],"owner":{"account_id":23384762,"reputation":1,"user_id":17450293,"display_name":"غصون"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1637264786,"creation_date":1637261955,"question_id":70025321,"body_markdown":"FacilityN = (EditText) findViewById(R.id.FacilityName);\r\n\r\nString FacilityName = FacilityN.getEditableText().getText().toString();\r\n","title":"i need to get the data here and the method [ getText() ] not working with me in android studio","body":"<p>FacilityN = (EditText) findViewById(R.id.FacilityName);</p>\n<p>String FacilityName = FacilityN.getEditableText().getText().toString();</p>\n"},{"tags":["java","spring-boot","spring-data-r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1637797930,"post_id":70025807,"comment_id":123925158,"body_markdown":"You heard that right as of now it does not support any of that but adding that feature is not so hard in my opinion.","body":"You heard that right as of now it does not support any of that but adding that feature is not so hard in my opinion."}],"owner":{"account_id":8535927,"reputation":11,"user_id":6397745,"display_name":"pratik mhatre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637264601,"creation_date":1637264601,"question_id":70025807,"body_markdown":"I am using the R2DBC repository for Reactive operations. I am trying to insert a record that has aggregated java object in it. e.g. Person is an entity inside that I have Address is a different embedded class reference. Now, I want to insert the Person object data into the database.\r\n\r\nMy class and database structure looks like below:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor \r\npublic class Person {\r\n  @Id\r\n  private Long id;\r\n  \r\n  private String name;\r\n  private Address address;\r\n}\r\n\r\n@NoArgsConstructor\r\n@Data\r\npublic class Address {\r\n\r\n  private String city;\r\n  private String state;\r\n}\r\n\r\nPostgreSQL Person table structure:\r\n\r\nCREATE TABLE Person(\r\n   ID INT PRIMARY KEY     NOT NULL,\r\n   NAME           TEXT    NOT NULL,\r\n   CITY           TEXT    NOT NULL,\r\n   STATE          TEXT    NOT NULL,\r\n);\r\n\r\n```\r\n\r\nNOTE: I know how to achieve this using the JPA repository. i.e. by using @Embedded and @Embeddable annotation.\r\nBut I am finding a way to do the same using the R2DBC repository.\r\n\r\nAlso wants to confirm, I have read somewhere in the blog that R2DBC does not support such embedded-like structure as used for entity classes. Also, it does not support associations like OneToOne, OneToMany, ManyToOne, and ManyToMany.","title":"How to insert an embedded entity into the database using R2DBC repository","body":"<p>I am using the R2DBC repository for Reactive operations. I am trying to insert a record that has aggregated java object in it. e.g. Person is an entity inside that I have Address is a different embedded class reference. Now, I want to insert the Person object data into the database.</p>\n<p>My class and database structure looks like below:</p>\n<pre><code>@Data\n@NoArgsConstructor \npublic class Person {\n  @Id\n  private Long id;\n  \n  private String name;\n  private Address address;\n}\n\n@NoArgsConstructor\n@Data\npublic class Address {\n\n  private String city;\n  private String state;\n}\n\nPostgreSQL Person table structure:\n\nCREATE TABLE Person(\n   ID INT PRIMARY KEY     NOT NULL,\n   NAME           TEXT    NOT NULL,\n   CITY           TEXT    NOT NULL,\n   STATE          TEXT    NOT NULL,\n);\n\n</code></pre>\n<p>NOTE: I know how to achieve this using the JPA repository. i.e. by using @Embedded and @Embeddable annotation.\nBut I am finding a way to do the same using the R2DBC repository.</p>\n<p>Also wants to confirm, I have read somewhere in the blog that R2DBC does not support such embedded-like structure as used for entity classes. Also, it does not support associations like OneToOne, OneToMany, ManyToOne, and ManyToMany.</p>\n"},{"tags":["java","android","selector"],"comments":[{"owner":{"account_id":1282470,"reputation":1119,"user_id":1236258,"accept_rate":76,"display_name":"Saqib"},"score":1,"creation_date":1412842975,"post_id":26273545,"comment_id":41220499,"body_markdown":"you may need `setOnItemClickListener` for an item click, inside that code you can change color of the item on selection","body":"you may need <code>setOnItemClickListener</code> for an item click, inside that code you can change color of the item on selection"},{"owner":{"account_id":1894789,"reputation":271,"user_id":1711993,"accept_rate":65,"display_name":"user1711993"},"score":0,"creation_date":1412843079,"post_id":26273545,"comment_id":41220544,"body_markdown":"I prefer to change color inside getView\nI guess it looks like something:\n1. get selector of View\n2. change color of pressed state\n3. apply it back","body":"I prefer to change color inside getView I guess it looks like something: 1. get selector of View 2. change color of pressed state 3. apply it back"}],"answers":[{"tags":[],"owner":{"account_id":4160474,"reputation":20450,"user_id":3410697,"accept_rate":43,"display_name":"Pedro Oliveira"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1412843083,"creation_date":1412843083,"answer_id":26273654,"question_id":26273545,"body_markdown":"If you want to change it dynamically you will have to do it by code. For that you will have to use onTouchListener since you want to know when you touch and release on your view. \r\n\r\n\r\n        final TextView textView =findViewById(R.id.item_title);\r\n        textView.setOnTouchListener(new View.OnTouchListener()\r\n        {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent)\r\n            {\r\n                switch (motionEvent.getAction()){\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        textView.setTextColor(Color.RED);\r\n                        break;\r\n                    case MotionEvent.ACTION_UP:case MotionEvent.ACTION_CANCEL:\r\n                        textView.setTextColor(Color.BLACK);\r\n                        break;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\nThe above code will change the text color of your textview when you press it. Change `Color.RED` to your desired color","title":"How to change pressed color to other color of selector dynamically?","body":"<p>If you want to change it dynamically you will have to do it by code. For that you will have to use onTouchListener since you want to know when you touch and release on your view. </p>\n\n<pre><code>    final TextView textView =findViewById(R.id.item_title);\n    textView.setOnTouchListener(new View.OnTouchListener()\n    {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent)\n        {\n            switch (motionEvent.getAction()){\n                case MotionEvent.ACTION_DOWN:\n                    textView.setTextColor(Color.RED);\n                    break;\n                case MotionEvent.ACTION_UP:case MotionEvent.ACTION_CANCEL:\n                    textView.setTextColor(Color.BLACK);\n                    break;\n            }\n            return false;\n        }\n    });\n</code></pre>\n\n<p>The above code will change the text color of your textview when you press it. Change <code>Color.RED</code> to your desired color</p>\n"},{"tags":[],"owner":{"account_id":3537550,"reputation":301,"user_id":2955438,"display_name":"Allan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1439377043,"creation_date":1412843516,"answer_id":26273794,"question_id":26273545,"body_markdown":"Affect to each item a new StateListDrawable.\r\n\r\n        StateListDrawable stateListDrawable= new StateListDrawable();\r\n        stateListDrawable.addState(new int[] {android.R.attr.state_pressed}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\r\n        stateListDrawable.addState(new int[] {android.R.attr.state_focused}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\r\n        stateListDrawable.addState(new int[] {android.R.attr.state_selected}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\r\n        stateListDrawable.addState(new int[] {}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\r\n\r\n        view.setBackgroundDrawable(stateListDrawable);\r\n\r\n\r\n","title":"How to change pressed color to other color of selector dynamically?","body":"<p>Affect to each item a new StateListDrawable.</p>\n\n<pre><code>    StateListDrawable stateListDrawable= new StateListDrawable();\n    stateListDrawable.addState(new int[] {android.R.attr.state_pressed}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\n    stateListDrawable.addState(new int[] {android.R.attr.state_focused}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\n    stateListDrawable.addState(new int[] {android.R.attr.state_selected}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\n    stateListDrawable.addState(new int[] {}, new ColorDrawable(getContext().getResources().getColor(R.color.anycolor)));\n\n    view.setBackgroundDrawable(stateListDrawable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4425511,"reputation":66,"user_id":3604091,"display_name":"Goldfish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412852250,"creation_date":1412852250,"answer_id":26276673,"question_id":26273545,"body_markdown":"What I did in a project of mine was I created a static method that takes any view, and changes its background to one of six different colour selectors I made. The trick here is not trying to change the listview selector, you want to change the background of the parent layout of your listview&#39;s layout.\r\n\r\nHere&#39;s an example:\r\n\r\nlistview.xml (The actual content of the listview)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              android:id=&quot;@+id/parent&quot;\r\n              android:orientation=&quot;vertical&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    &lt;TextView\r\n    \tandroid:layout_width=&quot;wrap_content&quot;\r\n    \tandroid:layout_height=&quot;wrap_content&quot;\r\n    \tandroid:textColor=&quot;@android:color/white&quot;\r\n    \tandroid:id=&quot;@+id/text&quot;\r\n    \tandroid:text=&quot;Text&quot;\r\n    \tandroid:padding=&quot;20dp&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\ngetView() method in my adapter:\r\n\r\n    @Override\r\n    public View getView(int i, View view, ViewGroup viewGroup) {\r\n    \r\n    \tHolder holder = new Holder();\r\n    \tif (view == null) {\r\n    \t\tLayoutInflater inflater = LayoutInflater.from(context);\r\n    \t\tview = inflater.inflate(R.layout.listview, viewGroup, false);\r\n    \t} else {\r\n    \r\n    \t\tholder = (Holder) view.getTag();\r\n    \t}\r\n    \r\n    \tholder.parent = (LinearLayout) view.findViewById(R.id.parent);\r\n    \tsetRandomListViewSelector(holder.parent);\r\n    \tholder.text = (TextView) view.findViewById(R.id.text);\r\n    \tholder.text.setText(strs.get(i));\r\n    \r\n    \treturn view;\r\n    }\r\n\r\nStatic method that changes the background:\r\n\r\n    public static void setRandomListViewSelector(View parentView) {\r\n    \r\n    \t\tint i = new Random().nextInt(2);\r\n    \r\n    \t\tswitch (i) {\r\n    \t\t\tcase 0:\r\n    \t\t\t\tparentView.setBackgroundResource(R.drawable.list_selector_blue);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase 1:\r\n    \t\t\t\tparentView.setBackgroundResource(R.drawable.list_selector_red);\r\n    \t\t\t\tbreak;\r\n           }\r\n    \r\n    }\r\n\r\nlist_selector_blue.xml\r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\t&lt;item android:state_pressed=&quot;true&quot;&gt;\r\n\t\t&lt;shape&gt;\r\n\t\t\t&lt;solid android:color=&quot;@android:color/holo_blue_dark&quot;/&gt;\r\n\t\t&lt;/shape&gt;\r\n\t&lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nIn my example, I just use the Random class to randomly generate a number between 0 and 1. If you&#39;d like more control, you could create a global variable and increment that by 1 so that you have better control over what background colours are set.","title":"How to change pressed color to other color of selector dynamically?","body":"<p>What I did in a project of mine was I created a static method that takes any view, and changes its background to one of six different colour selectors I made. The trick here is not trying to change the listview selector, you want to change the background of the parent layout of your listview's layout.</p>\n\n<p>Here's an example:</p>\n\n<p>listview.xml (The actual content of the listview)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:id=\"@+id/parent\"\n          android:orientation=\"vertical\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textColor=\"@android:color/white\"\n    android:id=\"@+id/text\"\n    android:text=\"Text\"\n    android:padding=\"20dp\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>getView() method in my adapter:</p>\n\n<pre><code>@Override\npublic View getView(int i, View view, ViewGroup viewGroup) {\n\n    Holder holder = new Holder();\n    if (view == null) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        view = inflater.inflate(R.layout.listview, viewGroup, false);\n    } else {\n\n        holder = (Holder) view.getTag();\n    }\n\n    holder.parent = (LinearLayout) view.findViewById(R.id.parent);\n    setRandomListViewSelector(holder.parent);\n    holder.text = (TextView) view.findViewById(R.id.text);\n    holder.text.setText(strs.get(i));\n\n    return view;\n}\n</code></pre>\n\n<p>Static method that changes the background:</p>\n\n<pre><code>public static void setRandomListViewSelector(View parentView) {\n\n        int i = new Random().nextInt(2);\n\n        switch (i) {\n            case 0:\n                parentView.setBackgroundResource(R.drawable.list_selector_blue);\n                break;\n\n            case 1:\n                parentView.setBackgroundResource(R.drawable.list_selector_red);\n                break;\n       }\n\n}\n</code></pre>\n\n<p>list_selector_blue.xml</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item android:state_pressed=\"true\"&gt;\n    &lt;shape&gt;\n        &lt;solid android:color=\"@android:color/holo_blue_dark\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>In my example, I just use the Random class to randomly generate a number between 0 and 1. If you'd like more control, you could create a global variable and increment that by 1 so that you have better control over what background colours are set.</p>\n"},{"tags":[],"owner":{"account_id":3839750,"reputation":442,"user_id":3183202,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637264544,"creation_date":1637264544,"answer_id":70025792,"question_id":26273545,"body_markdown":"Selector tag has type StateListDrawable. Indexing items start at zero. There is a kotlin sample (tested on Android 8.1)\r\n\r\n    val listDrawable = relativeLayout.background as StateListDrawable\r\n    val stateDrawable = listDrawable.getStateDrawable(2) as GradientDrawable // android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/orange&quot;\r\n    stateDrawable.setColor(0xff00ff00)\r\n    // or stateDrawable.setColor(Color.parseColor(&quot;#00ff00&quot;)\r\n    // or stateDrawable.setColor(Color.GREEN)","title":"How to change pressed color to other color of selector dynamically?","body":"<p>Selector tag has type StateListDrawable. Indexing items start at zero. There is a kotlin sample (tested on Android 8.1)</p>\n<pre><code>val listDrawable = relativeLayout.background as StateListDrawable\nval stateDrawable = listDrawable.getStateDrawable(2) as GradientDrawable // android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/orange&quot;\nstateDrawable.setColor(0xff00ff00)\n// or stateDrawable.setColor(Color.parseColor(&quot;#00ff00&quot;)\n// or stateDrawable.setColor(Color.GREEN)\n</code></pre>\n"}],"owner":{"account_id":1894789,"reputation":271,"user_id":1711993,"accept_rate":65,"display_name":"user1711993"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3562,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26273794,"answer_count":4,"score":4,"last_activity_date":1637264544,"creation_date":1412842711,"question_id":26273545,"body_markdown":"that&#39;s my selector for list:(item_selector.xml)\r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@color/orange&quot; /&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@color/orange&quot; /&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/orange&quot; /&gt;\r\n        &lt;item android:drawable=&quot;@color/transparent&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\nthat&#39;s my row of list(row_item.xml)\r\n\r\n    &lt;RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@color/alarm_item_drawer_selector&quot;\r\n        &gt;\r\n        \r\n        &lt;ImageView \r\n            android:id=&quot;@+id/item_icon&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;2dp&quot;\r\n            android:src=&quot;@drawable/ic_launcher&quot;/&gt;\r\n        \r\n        &lt;TextView      \r\n            android:id=&quot;@+id/item_title&quot;\r\n            style=&quot;@style/DrawerItemTextStyle&quot;\r\n            android:textColor=&quot;@color/text_drawer_item_selector&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/item_icon&quot; /&gt;\r\n        \r\n    &lt;/RelativeLayout&gt;\r\n\r\nI want to change android:state_pressed=&quot;true&quot; android:drawable=&quot;@color/orange&quot; to other color dynamically. My goal, to make pressed color for each row different. Is it possible to do?\r\n","title":"How to change pressed color to other color of selector dynamically?","body":"<p>that's my selector for list:(item_selector.xml)</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_selected=\"true\" android:drawable=\"@color/orange\" /&gt;\n    &lt;item android:state_focused=\"true\" android:drawable=\"@color/orange\" /&gt;\n    &lt;item android:state_pressed=\"true\" android:drawable=\"@color/orange\" /&gt;\n    &lt;item android:drawable=\"@color/transparent\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>that's my row of list(row_item.xml)</p>\n\n<pre><code>&lt;RelativeLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:background=\"@color/alarm_item_drawer_selector\"\n    &gt;\n\n    &lt;ImageView \n        android:id=\"@+id/item_icon\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"30dp\"\n        android:layout_centerHorizontal=\"true\"\n        android:paddingTop=\"5dp\"\n        android:paddingBottom=\"2dp\"\n        android:src=\"@drawable/ic_launcher\"/&gt;\n\n    &lt;TextView      \n        android:id=\"@+id/item_title\"\n        style=\"@style/DrawerItemTextStyle\"\n        android:textColor=\"@color/text_drawer_item_selector\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/item_icon\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I want to change android:state_pressed=\"true\" android:drawable=\"@color/orange\" to other color dynamically. My goal, to make pressed color for each row different. Is it possible to do?</p>\n"},{"tags":["java","bitcoinj","bitcoin-testnet"],"comments":[{"owner":{"account_id":439045,"reputation":1394,"user_id":827704,"accept_rate":71,"display_name":"Artyom Chernetsov"},"score":1,"creation_date":1636155748,"post_id":69764709,"comment_id":123490115,"body_markdown":"Maybe try run containers with network_mode: host.","body":"Maybe try run containers with network_mode: host."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1636241394,"post_id":69764709,"comment_id":123504895,"body_markdown":"Please, could you try connecting to the bitcoin node in port `19001` instead of the `50001` you are using? For instance, using the `LocalTestNetParams` class you created but setting the port appropriately: `netParams.setPort(19001);`.","body":"Please, could you try connecting to the bitcoin node in port <code>19001</code> instead of the <code>50001</code> you are using? For instance, using the <code>LocalTestNetParams</code> class you created but setting the port appropriately: <code>netParams.setPort(19001);</code>."},{"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"score":0,"creation_date":1636271765,"post_id":69764709,"comment_id":123508480,"body_markdown":"@jccampanero If I use port 19001 (instead of 19000), I get time out errors. See update 6.","body":"@jccampanero If I use port 19001 (instead of 19000), I get time out errors. See update 6."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":1,"creation_date":1636280474,"post_id":69764709,"comment_id":123509879,"body_markdown":"Is there any address, connecting to which the code works? You said you have a problem connecting to localhost. Is it only localhost, or do you have a problem in connecting any address?","body":"Is there any address, connecting to which the code works? You said you have a problem connecting to localhost. Is it only localhost, or do you have a problem in connecting any address?"},{"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"score":0,"creation_date":1636283984,"post_id":69764709,"comment_id":123510573,"body_markdown":"@LajosArpad I can connect now to `127.0.0.1:19000`. But I&#39;m getting the `java.nio.channels.CancelledKeyException` exception described in update 4. This is what I need to fix now.","body":"@LajosArpad I can connect now to <code>127.0.0.1:19000</code>. But I&#39;m getting the <code>java.nio.channels.CancelledKeyException</code> exception described in update 4. This is what I need to fix now."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1636309176,"post_id":69764709,"comment_id":123516631,"body_markdown":"Thank you very much for the feedback @DmitriiPisarenko. Regarding the current problem, in order to try solving the issue you faced in update 4, just for test purposes, try running bash in the container - `docker exec -it minimal-crypto-exchange_node_1 bash` - and manually edit `bitcoin.conf` to include `peerbloomfilters=1`, then restart - by using `docker-compose restart`, for instance - your docker compose setup, and see if it works. The custom bitcoin image uses `alpine` without a specific version tag, maybe some change in the image or the OS can be the cause of the issue when compiling.","body":"Thank you very much for the feedback @DmitriiPisarenko. Regarding the current problem, in order to try solving the issue you faced in update 4, just for test purposes, try running bash in the container - <code>docker exec -it minimal-crypto-exchange_node_1 bash</code> - and manually edit <code>bitcoin.conf</code> to include <code>peerbloomfilters=1</code>, then restart - by using <code>docker-compose restart</code>, for instance - your docker compose setup, and see if it works. The custom bitcoin image uses <code>alpine</code> without a specific version tag, maybe some change in the image or the OS can be the cause of the issue when compiling."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1636324770,"post_id":69764709,"comment_id":123519911,"body_markdown":"@DmitriiPisarenko Please, consider review [this example](https://github.com/bitcoinj/bitcoinj/blob/0b5d40e49f58eb203be6d83aaafa28ad1acf539b/examples/src/main/java/org/bitcoinj/examples/Kit.java) provided in the bitcoinj code, using `RegTestParams` instead of the proposed `TestNet3Params`. Then, try exposing your `node` service in the default RegTest `port`, `18444`, `ports: - &quot;18444:19000&quot;`, and as indicated in the previous comment, try modifying the bitcoin daemon configuration by including `peerbloomfilters=1`.  I hope that with this configuration everything works correctly.","body":"@DmitriiPisarenko Please, consider review <a href=\"https://github.com/bitcoinj/bitcoinj/blob/0b5d40e49f58eb203be6d83aaafa28ad1acf539b/examples/src/main/java/org/bitcoinj/examples/Kit.java\" rel=\"nofollow noreferrer\">this example</a> provided in the bitcoinj code, using <code>RegTestParams</code> instead of the proposed <code>TestNet3Params</code>. Then, try exposing your <code>node</code> service in the default RegTest <code>port</code>, <code>18444</code>, <code>ports: - &quot;18444:19000&quot;</code>, and as indicated in the previous comment, try modifying the bitcoin daemon configuration by including <code>peerbloomfilters=1</code>.  I hope that with this configuration everything works correctly."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1636412454,"post_id":69764709,"comment_id":123545558,"body_markdown":"Regarding the error while compiling the bitcoin binaries, it can be related to the memory available to your container: please, see this [GitHub issue](https://github.com/bitcoin/bitcoin/issues/11820). I hope it helps.","body":"Regarding the error while compiling the bitcoin binaries, it can be related to the memory available to your container: please, see this <a href=\"https://github.com/bitcoin/bitcoin/issues/11820\" rel=\"nofollow noreferrer\">GitHub issue</a>. I hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637264376,"creation_date":1636499009,"answer_id":69906139,"question_id":69764709,"body_markdown":"I haven&#39;t tested your full setup with `electrumx` and the `ethereum` stuff present in your `docker-compose` file, but regarding your problem, the following steps worked properly, and I think it will do as well in your complete setup.\r\n\r\nI ran with docker a bitcoin node based in the `ulamlabs/bitcoind-custom-regtest:latest` image you provided:\r\n\r\n```sh\r\ndocker run -p 18444:19000 -d ulamlabs/bitcoind-custom-regtest:latest\r\n```\r\n\r\nAs you can see, I exposed the image internal port `19000` as the [default port](https://github.com/bitcoinj/bitcoinj/blob/185f880e78c92f65ee6befbba8a221912d3c2243/core/src/main/java/org/bitcoinj/params/RegTestParams.java#L46) for `RegTestParams`, `18444`. From the point of view of our client, with this setup, basically it will look like as if we were running the bitcoin daemon in the host. Using your `LocalTestNetParams` class and providing the port `19000` as you indicated should do the trick as well.\r\n\r\nThen, according to the feedback you provided in the question, I manually edited the daemon configuration of the bitcoin node in `/root/.bitcoin/bitcoin.conf` using `bash` and `vi`:\r\n\r\n```\r\ndocker exec -it 0aa2e863cd9927 bash\r\n```\r\n\r\nAnd included the following configuration:\r\n\r\n```\r\npeerbloomfilters=1\r\n```\r\n\r\nAfter restart the container, I got a new address:\r\n\r\n```java\r\ndocker exec -it 0aa2e863cd9927 bitcoin-cli -regtest getnewaddress\r\n```\r\n\r\nLet&#39;s assume that the new address is the one you provided in the question:\r\n\r\n```\r\n2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181\r\n```\r\n\r\nThen, as suggested in the [Bitcoin documentation](https://developer.bitcoin.org/examples/testing.html), in order to avoid an insufficient funds error, I generated `101` blocks to this address:\r\n\r\n```\r\ndocker exec -it 0aa2e863cd9927 bitcoin-cli -regtest generatetoaddress 101 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 \r\n```\r\n\r\nI used `generatetoaddress` and not `generate` because [since Bitcoin 0.19.0 the option is no longer valid](https://bitcoin.stackexchange.com/questions/85355/method-not-found-when-i-use-bitcoin-cli-to-generate-blocks-under-regtest-mode).\r\n\r\n\r\nNext, I prepared a simple Java program, based in the information you provided and [this example](https://github.com/bitcoinj/bitcoinj/blob/0b5d40e49f58eb203be6d83aaafa28ad1acf539b/examples/src/main/java/org/bitcoinj/examples/Kit.java) from the Bitcoinj library documentation:\r\n\r\n```java\r\nimport java.io.File;\r\n\r\nimport org.bitcoinj.core.Address;\r\nimport org.bitcoinj.core.NetworkParameters;\r\nimport org.bitcoinj.kits.WalletAppKit;\r\nimport org.bitcoinj.params.RegTestParams;\r\n\r\npublic class Kit {\r\n\r\n  public static void main(String[] args) {\r\n    Kit kit  = new Kit();\r\n    kit.run();\r\n  }\r\n\r\n  private synchronized void run(){\r\n    NetworkParameters params = RegTestParams.get();\r\n    WalletAppKit kit = new WalletAppKit(params, new File(&quot;.&quot;), &quot;walletappkit-example&quot;);\r\n    kit.connectToLocalHost();\r\n\r\n    kit.startAsync();\r\n    kit.awaitRunning();\r\n\r\n    kit.wallet().addWatchedAddress(Address.fromString(params, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\r\n\r\n    kit.wallet().addCoinsReceivedEventListener((wallet, tx, prevBalance, newBalance) -&gt; {\r\n      System.out.println(&quot;-----&gt; coins resceived: &quot; + tx.getTxId());\r\n    });\r\n\r\n    while (true) {\r\n      try {\r\n        this.wait(2000);\r\n      } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI used a simple while loop to keep the problem running; of course, if will be probably unnecessary in an actual setup as it seems you are using Spring Boot.\r\n\r\n\r\nThen, if you send some bitcoins to this address:\r\n\r\n```\r\ndocker exec -it 0aa2e863cd9927 bitcoin-cli -regtest sendtoaddress 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 0.00001\r\n0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\r\n```\r\n\r\nThe listener should be invoked:\r\n\r\n```\r\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] Received a pending transaction 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26 that spends 0.00 BTC from our own wallet, and sends us 0.00001 BTC\r\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] commitTx of 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\r\n...\r\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] -&gt;pending: 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\r\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] Estimated balance is now: 0.00001 BTC\r\n-----&gt; coins resceived: 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\r\n2021-11-09 23:51:20.538 INFO  [NioClientManager][WalletFiles] Saving wallet; last seen block is height 165, date 2021-11-09T22:50:48Z, hash 23451521947bc5ff098c088ae0fc445becca8837d39ee8f6dd88f2c47ad5ac23\r\n2021-11-09 23:51:20.543 INFO  [NioClientManager][WalletFiles] Save completed in 4.736 ms\r\n```\r\n\r\nThere is still a problem you mentioned that I haven&#39;t had the opportunity to test, and it is creating a new Docker image in which the `peerbloomfilters` configuration would be configured properly without modifying the actual container state. I think the compilation problem you indicated could be related to [this issue](https://github.com/bitcoin/bitcoin/issues/11820), basically, that the container didn&#39;t have enough resources to perform the process. If you are using macOS and Docker for Mac, try tweaking the amount of memory available to your containers, it may be of help. A change in the base `alpine` image used can motivate the problem also. I will try digging into the issue as well.","title":"How can I get notified when money has been sent to a particular Bitcoin address on a local regtest network?","body":"<p>I haven't tested your full setup with <code>electrumx</code> and the <code>ethereum</code> stuff present in your <code>docker-compose</code> file, but regarding your problem, the following steps worked properly, and I think it will do as well in your complete setup.</p>\n<p>I ran with docker a bitcoin node based in the <code>ulamlabs/bitcoind-custom-regtest:latest</code> image you provided:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker run -p 18444:19000 -d ulamlabs/bitcoind-custom-regtest:latest\n</code></pre>\n<p>As you can see, I exposed the image internal port <code>19000</code> as the <a href=\"https://github.com/bitcoinj/bitcoinj/blob/185f880e78c92f65ee6befbba8a221912d3c2243/core/src/main/java/org/bitcoinj/params/RegTestParams.java#L46\" rel=\"nofollow noreferrer\">default port</a> for <code>RegTestParams</code>, <code>18444</code>. From the point of view of our client, with this setup, basically it will look like as if we were running the bitcoin daemon in the host. Using your <code>LocalTestNetParams</code> class and providing the port <code>19000</code> as you indicated should do the trick as well.</p>\n<p>Then, according to the feedback you provided in the question, I manually edited the daemon configuration of the bitcoin node in <code>/root/.bitcoin/bitcoin.conf</code> using <code>bash</code> and <code>vi</code>:</p>\n<pre><code>docker exec -it 0aa2e863cd9927 bash\n</code></pre>\n<p>And included the following configuration:</p>\n<pre><code>peerbloomfilters=1\n</code></pre>\n<p>After restart the container, I got a new address:</p>\n<pre class=\"lang-java prettyprint-override\"><code>docker exec -it 0aa2e863cd9927 bitcoin-cli -regtest getnewaddress\n</code></pre>\n<p>Let's assume that the new address is the one you provided in the question:</p>\n<pre><code>2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181\n</code></pre>\n<p>Then, as suggested in the <a href=\"https://developer.bitcoin.org/examples/testing.html\" rel=\"nofollow noreferrer\">Bitcoin documentation</a>, in order to avoid an insufficient funds error, I generated <code>101</code> blocks to this address:</p>\n<pre><code>docker exec -it 0aa2e863cd9927 bitcoin-cli -regtest generatetoaddress 101 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 \n</code></pre>\n<p>I used <code>generatetoaddress</code> and not <code>generate</code> because <a href=\"https://bitcoin.stackexchange.com/questions/85355/method-not-found-when-i-use-bitcoin-cli-to-generate-blocks-under-regtest-mode\">since Bitcoin 0.19.0 the option is no longer valid</a>.</p>\n<p>Next, I prepared a simple Java program, based in the information you provided and <a href=\"https://github.com/bitcoinj/bitcoinj/blob/0b5d40e49f58eb203be6d83aaafa28ad1acf539b/examples/src/main/java/org/bitcoinj/examples/Kit.java\" rel=\"nofollow noreferrer\">this example</a> from the Bitcoinj library documentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\n\nimport org.bitcoinj.core.Address;\nimport org.bitcoinj.core.NetworkParameters;\nimport org.bitcoinj.kits.WalletAppKit;\nimport org.bitcoinj.params.RegTestParams;\n\npublic class Kit {\n\n  public static void main(String[] args) {\n    Kit kit  = new Kit();\n    kit.run();\n  }\n\n  private synchronized void run(){\n    NetworkParameters params = RegTestParams.get();\n    WalletAppKit kit = new WalletAppKit(params, new File(&quot;.&quot;), &quot;walletappkit-example&quot;);\n    kit.connectToLocalHost();\n\n    kit.startAsync();\n    kit.awaitRunning();\n\n    kit.wallet().addWatchedAddress(Address.fromString(params, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\n\n    kit.wallet().addCoinsReceivedEventListener((wallet, tx, prevBalance, newBalance) -&gt; {\n      System.out.println(&quot;-----&gt; coins resceived: &quot; + tx.getTxId());\n    });\n\n    while (true) {\n      try {\n        this.wait(2000);\n      } catch (InterruptedException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n}\n</code></pre>\n<p>I used a simple while loop to keep the problem running; of course, if will be probably unnecessary in an actual setup as it seems you are using Spring Boot.</p>\n<p>Then, if you send some bitcoins to this address:</p>\n<pre><code>docker exec -it 0aa2e863cd9927 bitcoin-cli -regtest sendtoaddress 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 0.00001\n0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\n</code></pre>\n<p>The listener should be invoked:</p>\n<pre><code>2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] Received a pending transaction 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26 that spends 0.00 BTC from our own wallet, and sends us 0.00001 BTC\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] commitTx of 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\n...\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] -&gt;pending: 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\n2021-11-09 23:51:20.537 INFO  [NioClientManager][Wallet] Estimated balance is now: 0.00001 BTC\n-----&gt; coins resceived: 0f972642713c72ae0fe03fe51818b9ea4d483720b69b90e795f35eb80a587c26\n2021-11-09 23:51:20.538 INFO  [NioClientManager][WalletFiles] Saving wallet; last seen block is height 165, date 2021-11-09T22:50:48Z, hash 23451521947bc5ff098c088ae0fc445becca8837d39ee8f6dd88f2c47ad5ac23\n2021-11-09 23:51:20.543 INFO  [NioClientManager][WalletFiles] Save completed in 4.736 ms\n</code></pre>\n<p>There is still a problem you mentioned that I haven't had the opportunity to test, and it is creating a new Docker image in which the <code>peerbloomfilters</code> configuration would be configured properly without modifying the actual container state. I think the compilation problem you indicated could be related to <a href=\"https://github.com/bitcoin/bitcoin/issues/11820\" rel=\"nofollow noreferrer\">this issue</a>, basically, that the container didn't have enough resources to perform the process. If you are using macOS and Docker for Mac, try tweaking the amount of memory available to your containers, it may be of help. A change in the base <code>alpine</code> image used can motivate the problem also. I will try digging into the issue as well.</p>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":69906139,"answer_count":1,"score":10,"last_activity_date":1637264376,"creation_date":1635490042,"question_id":69764709,"body_markdown":"I want to programmatically detect whenever someone sends Bitcoin to some address. This happens on a local testnet which I start using this [docker-compose.yml](https://github.com/mentiflectax/minimal-crypto-exchange/blob/master/docker-compose.yml) file.\r\n\r\nOnce the local testnet runs, I create a new address using\r\n\r\n```\r\ndocker exec -it minimal-crypto-exchange_node_1 bitcoin-cli getnewaddress\r\n```\r\n\r\nLet&#39;s say it returns `2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181`.\r\n\r\nI put this address into the following [Java code](https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/process-engine/src/main/java/com/dpisarenko/minimalcryptoexchange/logic/btc/WalletObserver.java):\r\n\r\n```\r\nimport org.bitcoinj.core.Address;\r\nimport org.bitcoinj.core.Coin;\r\nimport org.bitcoinj.core.NetworkParameters;\r\nimport org.bitcoinj.core.Transaction;\r\nimport org.bitcoinj.wallet.Wallet;\r\nimport org.bitcoinj.wallet.listeners.WalletCoinsReceivedEventListener;\r\n\r\npublic class WalletObserver {\r\n    public void init() {\r\n        final NetworkParameters netParams = NetworkParameters.fromID(NetworkParameters.ID_REGTEST);\r\n\r\n        try {\r\n            final Wallet wallet = Wallet.createBasic(netParams);\r\n\r\n            wallet.addWatchedAddress(Address.fromString(netParams, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\r\n\r\n            wallet.addCoinsReceivedEventListener(new WalletCoinsReceivedEventListener() {\r\n                @Override\r\n                public void onCoinsReceived(final Wallet wallet, final Transaction transaction, final Coin prevBalance, final Coin newBalance) {\r\n                    System.out.println(&quot;Heyo!&quot;);\r\n                }\r\n            });\r\n        }\r\n        catch (Exception exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen I start the Java application with this class.\r\n\r\nThen I send some test Bitcoin to the address in question:\r\n\r\n```\r\n% docker exec -it minimal-crypto-exchange_node_1 bitcoin-cli sendtoaddress 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 0.5\r\n068c377bab961356ad9a3919229a764aa929711c68aefd5dbd4c7c348eef3406\r\n```\r\n\r\nIf I go to `http://localhost:3002/tx/068c377bab961356ad9a3919229a764aa929711c68aefd5dbd4c7c348eef3406`, I see that the transaction details.\r\n\r\n[![Screenshot of the transaction page][1]][1]\r\n\r\nHowever, the breakpoint in the listener (`onCoinsReceived` method) never activates.\r\n\r\n**How do I need to modify my code and/or the commands I use to send test BTC so that whenever money is received by that account, `onCoinsReceived` method is called?** Is there a place where I can tell `Wallet` or `NetworkParameters` that I want to connect to localhost?\r\n\r\nI am using version 0.15.10 of bitcoinj-core.\r\n\r\n**Update 1:**\r\n\r\nI modified [docker-compose.yml](https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/docker-compose.yml) and added following port mappings:\r\n\r\n```\r\n    ports:\r\n      - &quot;51001:50001&quot;\r\n      - &quot;51002:50002&quot;\r\n      - &quot;19001:19001&quot;\r\n      - &quot;19000:19000&quot;\r\n      - &quot;28332:28332&quot;\r\n```\r\n\r\nThen I rewrote the `init` method so that I can connect to localhost and specify the port:\r\n\r\n```\r\npublic class WalletObserver {\r\n    public void init() {\r\n        final LocalTestNetParams netParams = new LocalTestNetParams();\r\n        netParams.setPort(50001);\r\n        try {\r\n            final WalletAppKit kit = new WalletAppKit(netParams, new File(&quot;.&quot;), &quot;_minimalCryptoExchangeBtcWallet&quot;);\r\n            kit.setAutoSave(true);\r\n            kit.connectToLocalHost();\r\n\r\n            kit.startAsync();\r\n            kit.awaitRunning(); // I never get past this point\r\n            kit.peerGroup().addPeerDiscovery(new DnsDiscovery(netParams));\r\n            kit.wallet().addWatchedAddress(Address.fromString(netParams, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\r\n\r\n            kit.wallet().addCoinsReceivedEventListener(new WalletCoinsReceivedEventListener() {\r\n                @Override\r\n                public void onCoinsReceived(final Wallet wallet, final Transaction transaction, final Coin prevBalance, final Coin newBalance) {\r\n                    System.out.println(&quot;Heyo!&quot;);\r\n                }\r\n            });\r\n        }\r\n        catch (Exception exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n[LocalTestNetParams](https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/process-engine/src/main/java/com/dpisarenko/minimalcryptoexchange/logic/btc/LocalTestNetParams.java) allows to specify the port:\r\n\r\n```\r\npackage com.dpisarenko.minimalcryptoexchange.logic.btc;\r\n\r\nimport org.bitcoinj.params.RegTestParams;\r\n\r\npublic class LocalTestNetParams extends RegTestParams {\r\n    public void setPort(final int newPort) {\r\n        this.port = newPort;\r\n    }\r\n}\r\n```\r\n\r\nI tried all of the aforementioned ports in `netParams.setPort(50001);`.\r\n\r\nIn all cases I get the following messages after `kit.awaitRunning();`:\r\n\r\n```\r\n22:16:34.245 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Attempting connection to [10.10.1.218]:50001     (0 connected, 1 pending, 1 max)\r\n22:16:34.265 [NioClientManager] WARN  org.bitcoinj.net.NioClientManager - Failed to connect with exception: java.net.ConnectException: Connection refused\r\njava.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:579)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:820)\r\n\tat org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:64)\r\n\tat org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\r\n\tat com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\r\n\tat com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\r\n\tat org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\n22:16:34.267 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [10.10.1.218]:50001: Peer died      (0 connected, 0 pending, 1 max)\r\n22:16:34.267 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Peer discovery took 21.84 μs and returned 0 items from 0 discoverers\r\n22:16:34.269 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Waiting 1502 ms before next connect attempt to [10.10.1.218]:50001\r\n22:16:35.776 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Attempting connection to [10.10.1.218]:50001     (0 connected, 1 pending, 1 max)\r\n22:16:35.778 [NioClientManager] WARN  org.bitcoinj.net.NioClientManager - Failed to connect with exception: java.net.ConnectException: Connection refused\r\njava.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:579)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:820)\r\n\tat org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:64)\r\n\tat org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\r\n\tat com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\r\n\tat com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\r\n\tat org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\n22:16:35.778 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [10.10.1.218]:50001: Peer died      (0 connected, 0 pending, 1 max)\r\n22:16:35.779 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Peer discovery took 8.752 μs and returned 0 items from 0 discoverers\r\n```\r\n\r\n`10.10.1.218` seems to be generated by `InetAddress.getLocalHost()` in `org.bitcoinj.kits.WalletAppKit#connectToLocalHost`:\r\n\r\n```\r\n    public WalletAppKit connectToLocalHost() {\r\n        try {\r\n            InetAddress localHost = InetAddress.getLocalHost();\r\n            return this.setPeerNodes(new PeerAddress(this.params, localHost, this.params.getPort()));\r\n        } catch (UnknownHostException var2) {\r\n            throw new RuntimeException(var2);\r\n        }\r\n    }\r\n\r\n```\r\n\r\n**Update 1:**\r\n\r\nI tried to use `network_mode: &quot;host&quot;`.\r\n\r\nIf I add it to `node` as in\r\n\r\n```\r\n  node:\r\n    image: ulamlabs/bitcoind-custom-regtest:latest\r\n    network_mode: &quot;host&quot;\r\n```\r\n\r\nI get the following error when I run `docker-compose up -d`:\r\n\r\n```\r\nminimal-crypto-exchange % docker-compose up -d\r\nCreating network &quot;minimal-crypto-exchange_default&quot; with the default driver\r\nCreating minimal-crypto-exchange_postgres_1  ... done\r\nCreating minimal-crypto-exchange_geth_1     ...\r\nCreating minimal-crypto-exchange_node_1     ... done\r\nCreating minimal-crypto-exchange_electrumx_1 ...\r\nCreating minimal-crypto-exchange_electrumx_1 ... error\r\n\r\nERROR: for minimal-crypto-exchange_electrumx_1  Cannot start service electrumx: driver fail\r\nCreating minimal-crypto-exchange_geth_1      ... done\r\nf68d0f25a0512399877bc55434513def810649e4fcf31a5a88ca3292d34): Error starting userland proxy: listen tcp4 0.0.0.0:28332: bind: address already in use\r\nCreating minimal-crypto-exchange_blockscout_1 ... done\r\n\r\nERROR: for electrumx  Cannot start service electrumx: driver failed programming external connectivity on endpoint minimal-crypto-exchange_electrumx_1 (8eaa4f68d0f25a0512399877bc55434513def810649e4fcf31a5a88ca3292d34): Error starting userland proxy: listen tcp4 0.0.0.0:28332: bind: address already in use\r\nERROR: Encountered errors while bringing up the project.\r\n```\r\n\r\nIf I add it to `electrumx` part as in\r\n\r\n```\r\n  electrumx:\r\n    image: lukechilds/electrumx:latest\r\n    network_mode: &quot;host&quot;\r\n```\r\n\r\nI get another error:\r\n\r\n```\r\nminimal-crypto-exchange % docker-compose up -d\r\nminimal-crypto-exchange_postgres_1 is up-to-date\r\nminimal-crypto-exchange_geth_1 is up-to-date\r\nRecreating minimal-crypto-exchange_node_1 ...\r\nRecreating minimal-crypto-exchange_node_1 ... done\r\nRecreating minimal-crypto-exchange_electrumx_1 ...\r\n\r\nERROR: for minimal-crypto-exchange_electrumx_1  &quot;host&quot; network_mode is incompatible with port_bindings\r\n\r\nERROR: for electrumx  &quot;host&quot; network_mode is incompatible with port_bindings\r\nTraceback (most recent call last):\r\n  File &quot;docker-compose&quot;, line 3, in &lt;module&gt;\r\n  File &quot;compose/cli/main.py&quot;, line 81, in main\r\n  File &quot;compose/cli/main.py&quot;, line 203, in perform_command\r\n  File &quot;compose/metrics/decorator.py&quot;, line 18, in wrapper\r\n  File &quot;compose/cli/main.py&quot;, line 1186, in up\r\n  File &quot;compose/cli/main.py&quot;, line 1166, in up\r\n  File &quot;compose/project.py&quot;, line 697, in up\r\n  File &quot;compose/parallel.py&quot;, line 108, in parallel_execute\r\n  File &quot;compose/parallel.py&quot;, line 206, in producer\r\n  File &quot;compose/project.py&quot;, line 679, in do\r\n  File &quot;compose/service.py&quot;, line 579, in execute_convergence_plan\r\n  File &quot;compose/service.py&quot;, line 499, in _execute_convergence_recreate\r\n  File &quot;compose/parallel.py&quot;, line 108, in parallel_execute\r\n  File &quot;compose/parallel.py&quot;, line 206, in producer\r\n  File &quot;compose/service.py&quot;, line 494, in recreate\r\n  File &quot;compose/service.py&quot;, line 612, in recreate_container\r\n  File &quot;compose/service.py&quot;, line 330, in create_container\r\n  File &quot;compose/service.py&quot;, line 939, in _get_container_create_options\r\n  File &quot;compose/service.py&quot;, line 1014, in _get_container_host_config\r\n  File &quot;docker/api/container.py&quot;, line 598, in create_host_config\r\n  File &quot;docker/types/containers.py&quot;, line 338, in __init__\r\ndocker.errors.InvalidArgument: &quot;host&quot; network_mode is incompatible with port_bindings\r\n[44262] Failed to execute script docker-compose\r\n```\r\n\r\n**Update 2:**\r\n\r\nIf I comment out port bindings as in\r\n\r\n```\r\n  electrumx:\r\n    image: lukechilds/electrumx:latest\r\n    network_mode: host\r\n    links:\r\n      - node\r\n# Port settings see https://github.com/ulamlabs/bitcoind-custom-regtest\r\n#    ports:\r\n#      - &quot;51001:50001&quot;\r\n#      - &quot;51002:50002&quot;\r\n#      - &quot;19001:19001&quot;\r\n#      - &quot;19000:19000&quot;\r\n#      - &quot;28332:28332&quot;\r\n```\r\n\r\nand run `docker-compose up -d` I get\r\n\r\n```\r\n % docker-compose up -d\r\nCreating network &quot;minimal-crypto-exchange_default&quot; with the default driver\r\nCreating minimal-crypto-exchange_geth_1 ...\r\nCreating minimal-crypto-exchange_postgres_1  ... done\r\nCreating minimal-crypto-exchange_node_1     ... done\r\nCreating minimal-crypto-exchange_electrumx_1 ... error\r\nCreating minimal-crypto-exchange_geth_1      ... done\r\nERROR: for minimal-crypto-exchange_electrumx_1  Cannot create container for service electrumx: conflicting options: host type networking can&#39;t be used with links. This would result in undefined behavior\r\nCreating minimal-crypto-exchange_blockscout_1 ... done\r\n\r\nERROR: for electrumx  Cannot create container for service electrumx: conflicting options: host type networking can&#39;t be used with links. This would result in undefined behavior\r\nERROR: Encountered errors while bringing up the project.\r\n```\r\n\r\n**Update 3:** I assume that the root of the error is that in my Java code I try to connect to the ElectrumX server instead of the actual Bitcoin node (`node` in `docker-compose.yml`).\r\n\r\n**Update 4:**\r\n\r\nI changed `docker-compose.yml` as follows:\r\n\r\n```\r\n  node:\r\n    image: ulamlabs/bitcoind-custom-regtest:latest\r\n# For ports used by node see\r\n# https://github.com/ulamlabs/bitcoind-custom-regtest/blob/master/bitcoin.conf\r\n    ports:\r\n      - &quot;19001:19001&quot;\r\n      - &quot;19000:19000&quot;\r\n      - &quot;28332:28332&quot;\r\n  electrumx:\r\n    image: lukechilds/electrumx:latest\r\n    links:\r\n      - node\r\n# Port settings see https://github.com/ulamlabs/bitcoind-custom-regtest\r\n    ports:\r\n      - &quot;51001:50001&quot;\r\n      - &quot;51002:50002&quot;\r\n#      - &quot;19001:19001&quot;\r\n#      - &quot;19000:19000&quot;\r\n#      - &quot;28332:28332&quot;\r\n```\r\n\r\nNow I am getting different errors (full log available [here](https://gist.github.com/mentiflectax/189713b44041047145f006b695948c9d)):\r\n\r\n```\r\n11:33:51.865 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [192.168.10.208]:19000: Peer died      (0 connected, 0 pending, 1 max)\r\n11:33:51.865 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - Not yet setting download peer because there is no clear candidate.\r\n11:33:51.865 [NioClientManager] DEBUG org.bitcoinj.core.BitcoinSerializer - Received 168 byte &#39;alert&#39; message: 60010000000000000000000000ffffff7f00000000ffffff7ffeffff7f01ffffff7f00000000ffffff7f00ffffff7f002f555247454e543a20416c657274206b657920636f6d70726f6d697365642c2075706772616465207265717569726564004630440220653febd6410f470f6bae11cad19c48413becb1ac2c17f908fd0fd53bdc3abd5202206d0e9c96fe88d4a0f01ed9dedae2b6f9e00da94cad0fecaae66ecf689bf71b50\r\n11:33:51.866 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Waiting 999 ms before next connect attempt to [127.0.0.1]:19000\r\n11:33:51.866 [NioClientManager] DEBUG org.bitcoinj.core.Peer - Received alert from peer Peer{[192.168.10.208]:19000, version=70015, subVer=/Satoshi:0.19.1(bitcore)/, services=1033 (NETWORK, WITNESS, NETWORK_LIMITED), time=2021-11-06 11:33:52, height=5}: URGENT: Alert key compromised, upgrade required\r\n11:33:51.867 [NioClientManager] WARN  org.bitcoinj.net.ConnectionHandler - Error handling SelectionKey: java.nio.channels.CancelledKeyException \r\njava.nio.channels.CancelledKeyException: null\r\n\tat java.base/sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:71)\r\n\tat java.base/sun.nio.ch.SelectionKeyImpl.readyOps(SelectionKeyImpl.java:130)\r\n\tat java.base/java.nio.channels.SelectionKey.isWritable(SelectionKey.java:377)\r\n\tat org.bitcoinj.net.ConnectionHandler.handleKey(ConnectionHandler.java:244)\r\n\tat org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:86)\r\n\tat org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\r\n\tat com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\r\n\tat com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\r\n\tat org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\n```\r\n\r\n**Update 5:**\r\n\r\nSomeone suggested (in a now removed comment) that in the output of the application there is this `Peer does not support bloom filtering` message:\r\n\r\n```\r\n11:32:43.482 [NioClientManager] INFO  org.bitcoinj.core.Peer - Peer{[127.0.0.1]:19000, version=70015, subVer=/Satoshi:0.19.1(bitcore)/, services=1033 (NETWORK, WITNESS, NETWORK_LIMITED), time=2021-11-06 11:32:43, height=4}: Peer does not support bloom filtering.\r\n```\r\n\r\nSo I tried to fork the original image and change the [bitcoin.conf](https://github.com/mentiflectax/bitcoind-custom-regtest/blob/master/bitcoin.conf) file to enable Bloom filtering:\r\n\r\n```\r\npeerbloomfilters=1\r\n```\r\n\r\nWhen I run `docker build -t mentiflectax/bitcoind-custom-regtest:latest .` I get the following error message (part of remaining output can be found [here](https://gist.github.com/mentiflectax/d12a4332e074817770483407585a84b5)):\r\n\r\n```\r\n#13 922.4 g++: fatal error: Killed signal terminated program cc1plus\r\n#13 922.4 compilation terminated.\r\n#13 922.4 make[2]: *** [Makefile:8044: libbitcoin_server_a-init.o] Error 1\r\n#13 922.4 make[2]: *** Waiting for unfinished jobs....\r\n#13 965.8 make[2]: Leaving directory &#39;/bitcoin-0.19.1/src&#39;\r\n#13 965.8 make[1]: *** [Makefile:13765: all-recursive] Error 1\r\n#13 965.9 make[1]: Leaving directory &#39;/bitcoin-0.19.1/src&#39;\r\n#13 965.9 make: *** [Makefile:776: all-recursive] Error 1\r\n------\r\nexecutor failed running [/bin/sh -c tar -xzf *.tar.gz     &amp;&amp; cd bitcoin-${BITCOIN_VERSION}     &amp;&amp; sed -i &#39;s/consensus.nSubsidyHalvingInterval = 150/consensus.nSubsidyHalvingInterval = 210000/g&#39; src/chainparams.cpp     &amp;&amp; ./autogen.sh     &amp;&amp; ./configure LDFLAGS=-L`ls -d /opt/db`/lib/ CPPFLAGS=-I`ls -d /opt/db`/include/     --prefix=/opt/bitcoin     --disable-man     --disable-tests     --disable-bench     --disable-ccache     --with-gui=no     --enable-util-cli     --with-daemon     &amp;&amp; make -j4     &amp;&amp; make install     &amp;&amp; strip /opt/bitcoin/bin/bitcoin-cli     &amp;&amp; strip /opt/bitcoin/bin/bitcoind]: exit code: 2\r\n```\r\n\r\n**Update 6:** The correct port seems to be 19000.\r\n\r\nIf I use port 19001, I get following errors after `kit.awaitRunning()`:\r\n\r\n```\r\nINFO  org.bitcoinj.core.PeerSocketHandler - [127.0.0.1]:19001: Timed out\r\n```\r\n\r\nFull log output is available [here](https://gist.github.com/mentiflectax/3384488a1ef77e524c68941053093cbd).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X17zU.png","title":"How can I get notified when money has been sent to a particular Bitcoin address on a local regtest network?","body":"<p>I want to programmatically detect whenever someone sends Bitcoin to some address. This happens on a local testnet which I start using this <a href=\"https://github.com/mentiflectax/minimal-crypto-exchange/blob/master/docker-compose.yml\" rel=\"noreferrer\">docker-compose.yml</a> file.</p>\n<p>Once the local testnet runs, I create a new address using</p>\n<pre><code>docker exec -it minimal-crypto-exchange_node_1 bitcoin-cli getnewaddress\n</code></pre>\n<p>Let's say it returns <code>2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181</code>.</p>\n<p>I put this address into the following <a href=\"https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/process-engine/src/main/java/com/dpisarenko/minimalcryptoexchange/logic/btc/WalletObserver.java\" rel=\"noreferrer\">Java code</a>:</p>\n<pre><code>import org.bitcoinj.core.Address;\nimport org.bitcoinj.core.Coin;\nimport org.bitcoinj.core.NetworkParameters;\nimport org.bitcoinj.core.Transaction;\nimport org.bitcoinj.wallet.Wallet;\nimport org.bitcoinj.wallet.listeners.WalletCoinsReceivedEventListener;\n\npublic class WalletObserver {\n    public void init() {\n        final NetworkParameters netParams = NetworkParameters.fromID(NetworkParameters.ID_REGTEST);\n\n        try {\n            final Wallet wallet = Wallet.createBasic(netParams);\n\n            wallet.addWatchedAddress(Address.fromString(netParams, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\n\n            wallet.addCoinsReceivedEventListener(new WalletCoinsReceivedEventListener() {\n                @Override\n                public void onCoinsReceived(final Wallet wallet, final Transaction transaction, final Coin prevBalance, final Coin newBalance) {\n                    System.out.println(&quot;Heyo!&quot;);\n                }\n            });\n        }\n        catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Then I start the Java application with this class.</p>\n<p>Then I send some test Bitcoin to the address in question:</p>\n<pre><code>% docker exec -it minimal-crypto-exchange_node_1 bitcoin-cli sendtoaddress 2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181 0.5\n068c377bab961356ad9a3919229a764aa929711c68aefd5dbd4c7c348eef3406\n</code></pre>\n<p>If I go to <code>http://localhost:3002/tx/068c377bab961356ad9a3919229a764aa929711c68aefd5dbd4c7c348eef3406</code>, I see that the transaction details.</p>\n<p><a href=\"https://i.stack.imgur.com/X17zU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X17zU.png\" alt=\"Screenshot of the transaction page\" /></a></p>\n<p>However, the breakpoint in the listener (<code>onCoinsReceived</code> method) never activates.</p>\n<p><strong>How do I need to modify my code and/or the commands I use to send test BTC so that whenever money is received by that account, <code>onCoinsReceived</code> method is called?</strong> Is there a place where I can tell <code>Wallet</code> or <code>NetworkParameters</code> that I want to connect to localhost?</p>\n<p>I am using version 0.15.10 of bitcoinj-core.</p>\n<p><strong>Update 1:</strong></p>\n<p>I modified <a href=\"https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/docker-compose.yml\" rel=\"noreferrer\">docker-compose.yml</a> and added following port mappings:</p>\n<pre><code>    ports:\n      - &quot;51001:50001&quot;\n      - &quot;51002:50002&quot;\n      - &quot;19001:19001&quot;\n      - &quot;19000:19000&quot;\n      - &quot;28332:28332&quot;\n</code></pre>\n<p>Then I rewrote the <code>init</code> method so that I can connect to localhost and specify the port:</p>\n<pre><code>public class WalletObserver {\n    public void init() {\n        final LocalTestNetParams netParams = new LocalTestNetParams();\n        netParams.setPort(50001);\n        try {\n            final WalletAppKit kit = new WalletAppKit(netParams, new File(&quot;.&quot;), &quot;_minimalCryptoExchangeBtcWallet&quot;);\n            kit.setAutoSave(true);\n            kit.connectToLocalHost();\n\n            kit.startAsync();\n            kit.awaitRunning(); // I never get past this point\n            kit.peerGroup().addPeerDiscovery(new DnsDiscovery(netParams));\n            kit.wallet().addWatchedAddress(Address.fromString(netParams, &quot;2N23tWAFEtBtTgxNjBNmnwzsiPdLcNek181&quot;));\n\n            kit.wallet().addCoinsReceivedEventListener(new WalletCoinsReceivedEventListener() {\n                @Override\n                public void onCoinsReceived(final Wallet wallet, final Transaction transaction, final Coin prevBalance, final Coin newBalance) {\n                    System.out.println(&quot;Heyo!&quot;);\n                }\n            });\n        }\n        catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n</code></pre>\n<p><a href=\"https://github.com/mentiflectax/minimal-crypto-exchange/blob/i16/process-engine/src/main/java/com/dpisarenko/minimalcryptoexchange/logic/btc/LocalTestNetParams.java\" rel=\"noreferrer\">LocalTestNetParams</a> allows to specify the port:</p>\n<pre><code>package com.dpisarenko.minimalcryptoexchange.logic.btc;\n\nimport org.bitcoinj.params.RegTestParams;\n\npublic class LocalTestNetParams extends RegTestParams {\n    public void setPort(final int newPort) {\n        this.port = newPort;\n    }\n}\n</code></pre>\n<p>I tried all of the aforementioned ports in <code>netParams.setPort(50001);</code>.</p>\n<p>In all cases I get the following messages after <code>kit.awaitRunning();</code>:</p>\n<pre><code>22:16:34.245 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Attempting connection to [10.10.1.218]:50001     (0 connected, 1 pending, 1 max)\n22:16:34.265 [NioClientManager] WARN  org.bitcoinj.net.NioClientManager - Failed to connect with exception: java.net.ConnectException: Connection refused\njava.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:579)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:820)\n    at org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:64)\n    at org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\n    at com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\n    at com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\n    at org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n22:16:34.267 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [10.10.1.218]:50001: Peer died      (0 connected, 0 pending, 1 max)\n22:16:34.267 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Peer discovery took 21.84 μs and returned 0 items from 0 discoverers\n22:16:34.269 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Waiting 1502 ms before next connect attempt to [10.10.1.218]:50001\n22:16:35.776 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Attempting connection to [10.10.1.218]:50001     (0 connected, 1 pending, 1 max)\n22:16:35.778 [NioClientManager] WARN  org.bitcoinj.net.NioClientManager - Failed to connect with exception: java.net.ConnectException: Connection refused\njava.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:579)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:820)\n    at org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:64)\n    at org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\n    at com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\n    at com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\n    at org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n22:16:35.778 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [10.10.1.218]:50001: Peer died      (0 connected, 0 pending, 1 max)\n22:16:35.779 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Peer discovery took 8.752 μs and returned 0 items from 0 discoverers\n</code></pre>\n<p><code>10.10.1.218</code> seems to be generated by <code>InetAddress.getLocalHost()</code> in <code>org.bitcoinj.kits.WalletAppKit#connectToLocalHost</code>:</p>\n<pre><code>    public WalletAppKit connectToLocalHost() {\n        try {\n            InetAddress localHost = InetAddress.getLocalHost();\n            return this.setPeerNodes(new PeerAddress(this.params, localHost, this.params.getPort()));\n        } catch (UnknownHostException var2) {\n            throw new RuntimeException(var2);\n        }\n    }\n\n</code></pre>\n<p><strong>Update 1:</strong></p>\n<p>I tried to use <code>network_mode: &quot;host&quot;</code>.</p>\n<p>If I add it to <code>node</code> as in</p>\n<pre><code>  node:\n    image: ulamlabs/bitcoind-custom-regtest:latest\n    network_mode: &quot;host&quot;\n</code></pre>\n<p>I get the following error when I run <code>docker-compose up -d</code>:</p>\n<pre><code>minimal-crypto-exchange % docker-compose up -d\nCreating network &quot;minimal-crypto-exchange_default&quot; with the default driver\nCreating minimal-crypto-exchange_postgres_1  ... done\nCreating minimal-crypto-exchange_geth_1     ...\nCreating minimal-crypto-exchange_node_1     ... done\nCreating minimal-crypto-exchange_electrumx_1 ...\nCreating minimal-crypto-exchange_electrumx_1 ... error\n\nERROR: for minimal-crypto-exchange_electrumx_1  Cannot start service electrumx: driver fail\nCreating minimal-crypto-exchange_geth_1      ... done\nf68d0f25a0512399877bc55434513def810649e4fcf31a5a88ca3292d34): Error starting userland proxy: listen tcp4 0.0.0.0:28332: bind: address already in use\nCreating minimal-crypto-exchange_blockscout_1 ... done\n\nERROR: for electrumx  Cannot start service electrumx: driver failed programming external connectivity on endpoint minimal-crypto-exchange_electrumx_1 (8eaa4f68d0f25a0512399877bc55434513def810649e4fcf31a5a88ca3292d34): Error starting userland proxy: listen tcp4 0.0.0.0:28332: bind: address already in use\nERROR: Encountered errors while bringing up the project.\n</code></pre>\n<p>If I add it to <code>electrumx</code> part as in</p>\n<pre><code>  electrumx:\n    image: lukechilds/electrumx:latest\n    network_mode: &quot;host&quot;\n</code></pre>\n<p>I get another error:</p>\n<pre><code>minimal-crypto-exchange % docker-compose up -d\nminimal-crypto-exchange_postgres_1 is up-to-date\nminimal-crypto-exchange_geth_1 is up-to-date\nRecreating minimal-crypto-exchange_node_1 ...\nRecreating minimal-crypto-exchange_node_1 ... done\nRecreating minimal-crypto-exchange_electrumx_1 ...\n\nERROR: for minimal-crypto-exchange_electrumx_1  &quot;host&quot; network_mode is incompatible with port_bindings\n\nERROR: for electrumx  &quot;host&quot; network_mode is incompatible with port_bindings\nTraceback (most recent call last):\n  File &quot;docker-compose&quot;, line 3, in &lt;module&gt;\n  File &quot;compose/cli/main.py&quot;, line 81, in main\n  File &quot;compose/cli/main.py&quot;, line 203, in perform_command\n  File &quot;compose/metrics/decorator.py&quot;, line 18, in wrapper\n  File &quot;compose/cli/main.py&quot;, line 1186, in up\n  File &quot;compose/cli/main.py&quot;, line 1166, in up\n  File &quot;compose/project.py&quot;, line 697, in up\n  File &quot;compose/parallel.py&quot;, line 108, in parallel_execute\n  File &quot;compose/parallel.py&quot;, line 206, in producer\n  File &quot;compose/project.py&quot;, line 679, in do\n  File &quot;compose/service.py&quot;, line 579, in execute_convergence_plan\n  File &quot;compose/service.py&quot;, line 499, in _execute_convergence_recreate\n  File &quot;compose/parallel.py&quot;, line 108, in parallel_execute\n  File &quot;compose/parallel.py&quot;, line 206, in producer\n  File &quot;compose/service.py&quot;, line 494, in recreate\n  File &quot;compose/service.py&quot;, line 612, in recreate_container\n  File &quot;compose/service.py&quot;, line 330, in create_container\n  File &quot;compose/service.py&quot;, line 939, in _get_container_create_options\n  File &quot;compose/service.py&quot;, line 1014, in _get_container_host_config\n  File &quot;docker/api/container.py&quot;, line 598, in create_host_config\n  File &quot;docker/types/containers.py&quot;, line 338, in __init__\ndocker.errors.InvalidArgument: &quot;host&quot; network_mode is incompatible with port_bindings\n[44262] Failed to execute script docker-compose\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>If I comment out port bindings as in</p>\n<pre><code>  electrumx:\n    image: lukechilds/electrumx:latest\n    network_mode: host\n    links:\n      - node\n# Port settings see https://github.com/ulamlabs/bitcoind-custom-regtest\n#    ports:\n#      - &quot;51001:50001&quot;\n#      - &quot;51002:50002&quot;\n#      - &quot;19001:19001&quot;\n#      - &quot;19000:19000&quot;\n#      - &quot;28332:28332&quot;\n</code></pre>\n<p>and run <code>docker-compose up -d</code> I get</p>\n<pre><code> % docker-compose up -d\nCreating network &quot;minimal-crypto-exchange_default&quot; with the default driver\nCreating minimal-crypto-exchange_geth_1 ...\nCreating minimal-crypto-exchange_postgres_1  ... done\nCreating minimal-crypto-exchange_node_1     ... done\nCreating minimal-crypto-exchange_electrumx_1 ... error\nCreating minimal-crypto-exchange_geth_1      ... done\nERROR: for minimal-crypto-exchange_electrumx_1  Cannot create container for service electrumx: conflicting options: host type networking can't be used with links. This would result in undefined behavior\nCreating minimal-crypto-exchange_blockscout_1 ... done\n\nERROR: for electrumx  Cannot create container for service electrumx: conflicting options: host type networking can't be used with links. This would result in undefined behavior\nERROR: Encountered errors while bringing up the project.\n</code></pre>\n<p><strong>Update 3:</strong> I assume that the root of the error is that in my Java code I try to connect to the ElectrumX server instead of the actual Bitcoin node (<code>node</code> in <code>docker-compose.yml</code>).</p>\n<p><strong>Update 4:</strong></p>\n<p>I changed <code>docker-compose.yml</code> as follows:</p>\n<pre><code>  node:\n    image: ulamlabs/bitcoind-custom-regtest:latest\n# For ports used by node see\n# https://github.com/ulamlabs/bitcoind-custom-regtest/blob/master/bitcoin.conf\n    ports:\n      - &quot;19001:19001&quot;\n      - &quot;19000:19000&quot;\n      - &quot;28332:28332&quot;\n  electrumx:\n    image: lukechilds/electrumx:latest\n    links:\n      - node\n# Port settings see https://github.com/ulamlabs/bitcoind-custom-regtest\n    ports:\n      - &quot;51001:50001&quot;\n      - &quot;51002:50002&quot;\n#      - &quot;19001:19001&quot;\n#      - &quot;19000:19000&quot;\n#      - &quot;28332:28332&quot;\n</code></pre>\n<p>Now I am getting different errors (full log available <a href=\"https://gist.github.com/mentiflectax/189713b44041047145f006b695948c9d\" rel=\"noreferrer\">here</a>):</p>\n<pre><code>11:33:51.865 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - [192.168.10.208]:19000: Peer died      (0 connected, 0 pending, 1 max)\n11:33:51.865 [NioClientManager] INFO  org.bitcoinj.core.PeerGroup - Not yet setting download peer because there is no clear candidate.\n11:33:51.865 [NioClientManager] DEBUG org.bitcoinj.core.BitcoinSerializer - Received 168 byte 'alert' message: 60010000000000000000000000ffffff7f00000000ffffff7ffeffff7f01ffffff7f00000000ffffff7f00ffffff7f002f555247454e543a20416c657274206b657920636f6d70726f6d697365642c2075706772616465207265717569726564004630440220653febd6410f470f6bae11cad19c48413becb1ac2c17f908fd0fd53bdc3abd5202206d0e9c96fe88d4a0f01ed9dedae2b6f9e00da94cad0fecaae66ecf689bf71b50\n11:33:51.866 [PeerGroup Thread] INFO  org.bitcoinj.core.PeerGroup - Waiting 999 ms before next connect attempt to [127.0.0.1]:19000\n11:33:51.866 [NioClientManager] DEBUG org.bitcoinj.core.Peer - Received alert from peer Peer{[192.168.10.208]:19000, version=70015, subVer=/Satoshi:0.19.1(bitcore)/, services=1033 (NETWORK, WITNESS, NETWORK_LIMITED), time=2021-11-06 11:33:52, height=5}: URGENT: Alert key compromised, upgrade required\n11:33:51.867 [NioClientManager] WARN  org.bitcoinj.net.ConnectionHandler - Error handling SelectionKey: java.nio.channels.CancelledKeyException \njava.nio.channels.CancelledKeyException: null\n    at java.base/sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:71)\n    at java.base/sun.nio.ch.SelectionKeyImpl.readyOps(SelectionKeyImpl.java:130)\n    at java.base/java.nio.channels.SelectionKey.isWritable(SelectionKey.java:377)\n    at org.bitcoinj.net.ConnectionHandler.handleKey(ConnectionHandler.java:244)\n    at org.bitcoinj.net.NioClientManager.handleKey(NioClientManager.java:86)\n    at org.bitcoinj.net.NioClientManager.run(NioClientManager.java:122)\n    at com.google.common.util.concurrent.AbstractExecutionThreadService$1$2.run(AbstractExecutionThreadService.java:66)\n    at com.google.common.util.concurrent.Callables$4.run(Callables.java:119)\n    at org.bitcoinj.utils.ContextPropagatingThreadFactory$1.run(ContextPropagatingThreadFactory.java:51)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n</code></pre>\n<p><strong>Update 5:</strong></p>\n<p>Someone suggested (in a now removed comment) that in the output of the application there is this <code>Peer does not support bloom filtering</code> message:</p>\n<pre><code>11:32:43.482 [NioClientManager] INFO  org.bitcoinj.core.Peer - Peer{[127.0.0.1]:19000, version=70015, subVer=/Satoshi:0.19.1(bitcore)/, services=1033 (NETWORK, WITNESS, NETWORK_LIMITED), time=2021-11-06 11:32:43, height=4}: Peer does not support bloom filtering.\n</code></pre>\n<p>So I tried to fork the original image and change the <a href=\"https://github.com/mentiflectax/bitcoind-custom-regtest/blob/master/bitcoin.conf\" rel=\"noreferrer\">bitcoin.conf</a> file to enable Bloom filtering:</p>\n<pre><code>peerbloomfilters=1\n</code></pre>\n<p>When I run <code>docker build -t mentiflectax/bitcoind-custom-regtest:latest .</code> I get the following error message (part of remaining output can be found <a href=\"https://gist.github.com/mentiflectax/d12a4332e074817770483407585a84b5\" rel=\"noreferrer\">here</a>):</p>\n<pre><code>#13 922.4 g++: fatal error: Killed signal terminated program cc1plus\n#13 922.4 compilation terminated.\n#13 922.4 make[2]: *** [Makefile:8044: libbitcoin_server_a-init.o] Error 1\n#13 922.4 make[2]: *** Waiting for unfinished jobs....\n#13 965.8 make[2]: Leaving directory '/bitcoin-0.19.1/src'\n#13 965.8 make[1]: *** [Makefile:13765: all-recursive] Error 1\n#13 965.9 make[1]: Leaving directory '/bitcoin-0.19.1/src'\n#13 965.9 make: *** [Makefile:776: all-recursive] Error 1\n------\nexecutor failed running [/bin/sh -c tar -xzf *.tar.gz     &amp;&amp; cd bitcoin-${BITCOIN_VERSION}     &amp;&amp; sed -i 's/consensus.nSubsidyHalvingInterval = 150/consensus.nSubsidyHalvingInterval = 210000/g' src/chainparams.cpp     &amp;&amp; ./autogen.sh     &amp;&amp; ./configure LDFLAGS=-L`ls -d /opt/db`/lib/ CPPFLAGS=-I`ls -d /opt/db`/include/     --prefix=/opt/bitcoin     --disable-man     --disable-tests     --disable-bench     --disable-ccache     --with-gui=no     --enable-util-cli     --with-daemon     &amp;&amp; make -j4     &amp;&amp; make install     &amp;&amp; strip /opt/bitcoin/bin/bitcoin-cli     &amp;&amp; strip /opt/bitcoin/bin/bitcoind]: exit code: 2\n</code></pre>\n<p><strong>Update 6:</strong> The correct port seems to be 19000.</p>\n<p>If I use port 19001, I get following errors after <code>kit.awaitRunning()</code>:</p>\n<pre><code>INFO  org.bitcoinj.core.PeerSocketHandler - [127.0.0.1]:19001: Timed out\n</code></pre>\n<p>Full log output is available <a href=\"https://gist.github.com/mentiflectax/3384488a1ef77e524c68941053093cbd\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637264297,"creation_date":1480214149,"answer_id":40825247,"question_id":40825236,"body_markdown":"The basic concept in play here is **inheritance**.  A good place to start reading about it is https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\r\n\r\nYour example is reversed &amp;mdash; it should be\r\n\r\n    Animal animal = new Cat();\r\n\r\nThis is because the `Cat` class would be a specific kind of `Animal` &amp;mdash; having everything needed to make an `Animal` object, plus some extras.\r\n\r\nIn code, this could look something like:\r\n\r\n    public class Test\r\n    {\r\n        public static class Animal\r\n        {\r\n            protected String sound;\r\n            public String getSound() { return sound; }\r\n            public Animal() { sound = &quot;&quot;; }\r\n        }\r\n\r\n        public static class Cat extends Animal\r\n        {\r\n            public Cat() { super(); sound = &quot;meow&quot;; }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Animal animal = new Cat();\r\n            System.out.println(animal.getSound());\r\n        }\r\n    }\r\n\r\nAnd the result would be\r\n\r\n&gt; meow\r\n\r\nbecause the Cat object has the `getSound()` method from the parent Animal, but was created with its own constructor and set the data appropriately.","title":"Creating an object where the class name on the left and right sides are different","body":"<p>The basic concept in play here is <strong>inheritance</strong>.  A good place to start reading about it is <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a></p>\n<p>Your example is reversed — it should be</p>\n<pre><code>Animal animal = new Cat();\n</code></pre>\n<p>This is because the <code>Cat</code> class would be a specific kind of <code>Animal</code> — having everything needed to make an <code>Animal</code> object, plus some extras.</p>\n<p>In code, this could look something like:</p>\n<pre><code>public class Test\n{\n    public static class Animal\n    {\n        protected String sound;\n        public String getSound() { return sound; }\n        public Animal() { sound = &quot;&quot;; }\n    }\n\n    public static class Cat extends Animal\n    {\n        public Cat() { super(); sound = &quot;meow&quot;; }\n    }\n\n    public static void main(String[] args) {\n        Animal animal = new Cat();\n        System.out.println(animal.getSound());\n    }\n}\n</code></pre>\n<p>And the result would be</p>\n<blockquote>\n<p>meow</p>\n</blockquote>\n<p>because the Cat object has the <code>getSound()</code> method from the parent Animal, but was created with its own constructor and set the data appropriately.</p>\n"},{"tags":[],"owner":{"account_id":2298343,"reputation":23473,"user_id":2019247,"accept_rate":75,"display_name":"31piy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480215045,"creation_date":1480215045,"answer_id":40825311,"question_id":40825236,"body_markdown":"1. In object oriented programming world, this concept is called as inheritance.\r\n2. It is possible to assign a child&#39;s object to parent&#39;s reference. Err, too techie, eh? So take it this way, a `Cat` is a kind of `Animal`, but the reverse is not necessarily true.\r\nSo, an `Animal` can be a `Cat`, `Dog`, or whatever, because cats and dogs do have properties of an animal. This is also called generalization and specialization. An `Animal` is a generalized category, but a `Cat` is a specialized category of `Animal`s.\r\n\r\nThere are a lot of resources available on the Internet. Have a look and learn about the Object Oriented Programming paradigm. Good luck!","title":"Creating an object where the class name on the left and right sides are different","body":"<ol>\n<li>In object oriented programming world, this concept is called as inheritance.</li>\n<li>It is possible to assign a child's object to parent's reference. Err, too techie, eh? So take it this way, a <code>Cat</code> is a kind of <code>Animal</code>, but the reverse is not necessarily true.\nSo, an <code>Animal</code> can be a <code>Cat</code>, <code>Dog</code>, or whatever, because cats and dogs do have properties of an animal. This is also called generalization and specialization. An <code>Animal</code> is a generalized category, but a <code>Cat</code> is a specialized category of <code>Animal</code>s.</li>\n</ol>\n\n<p>There are a lot of resources available on the Internet. Have a look and learn about the Object Oriented Programming paradigm. Good luck!</p>\n"}],"owner":{"account_id":6143506,"reputation":171,"user_id":4790121,"accept_rate":46,"display_name":"saltmangotree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1480214339,"answer_count":2,"score":0,"last_activity_date":1637264297,"creation_date":1480213990,"question_id":40825236,"body_markdown":"I have seen a few references of instantiating a new object as follows, especially when using Inheritance.\r\n\r\n    Cat cat = new Animal();\r\n\r\nHowever, I do not know what this concept is called. and so, I&#39;m unable to read up on it.\r\n\r\nI have two questions.\r\n\r\n 1. What is this concept called?\r\n 2. How is this possible, that, you can\r\n        hold/refer to an object using a type that is different from it&#39;s\r\n        original class?","title":"Creating an object where the class name on the left and right sides are different","body":"<p>I have seen a few references of instantiating a new object as follows, especially when using Inheritance.</p>\n\n<pre><code>Cat cat = new Animal();\n</code></pre>\n\n<p>However, I do not know what this concept is called. and so, I'm unable to read up on it.</p>\n\n<p>I have two questions.</p>\n\n<ol>\n<li>What is this concept called?</li>\n<li>How is this possible, that, you can\n    hold/refer to an object using a type that is different from it's\n    original class?</li>\n</ol>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637263159,"creation_date":1637242257,"answer_id":70020752,"question_id":70020551,"body_markdown":" 1. You don&#39;t need a mock, just create the objects themselves (I guess that you have at least an implementation of the interface `CompanyUserDTO`).\r\n 2. Everything else is ok, although your method does not have that much logic to be tested. \r\n\r\n\r\n----------\r\n\r\n\r\nGiven that you don&#39;t have an implementation for `CompanyUserDTO` you might make usage of anonymous classes to avoid having an implementation per se but something just for testing purposes. You could do it as follows:\r\n\r\n```java\r\n@Test\r\npublic void test_findAllByUserUuidIn() {\r\n    // Arrange\r\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\r\n\r\n    CompanyUserDTO companyUserDTO = new CompanyUserDTO() {\r\n        @Override\r\n        public UUID getUserUuid() {\r\n            return UUID.randomUUID();\r\n        }\r\n        \r\n        @Override\r\n        public UUID getCompanyUuid() {\r\n            return UUID.randomUUID();\r\n        }\r\n\r\n        @Override\r\n        public String getCompanyName() {\r\n            return &quot;Company Name Test&quot;;\r\n        }\r\n    };\r\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\r\n    companyUserDTOList.add(companyUserDTO);\r\n\r\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\r\n        .thenReturn(companyUserDTOList);\r\n\r\n    // Act\r\n    List&lt;CompanyUserDTO&gt; result = companyUserService\r\n        .findAllByUserUuidIn(userUuidList);\r\n\r\n    // Assert\r\n    assertEquals(companyUserDTOList, result);\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nIf you prefer to avoid anonymous classes, then you need to create the following class in your `test` source package:\r\n```java\r\npublic class CompanyUserDTOImpl implements CompanyUserDTO {\r\n    @Override\r\n    public UUID getUserUuid() {\r\n        return UUID.randomUUID();\r\n    }\r\n    \r\n    @Override\r\n    public UUID getCompanyUuid() {\r\n        return UUID.randomUUID();\r\n    }\r\n\r\n    @Override\r\n    public String getCompanyName() {\r\n        return &quot;Company Name Test&quot;;\r\n    }\r\n};\r\n```\r\n\r\nAnd then your test would be something simpler:\r\n```java\r\n@Test\r\npublic void test_findAllByUserUuidIn() {\r\n    // Arrange\r\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\r\n\r\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\r\n    companyUserDTOList.add(new CompanyUserDTOImpl());\r\n\r\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\r\n        .thenReturn(companyUserDTOList);\r\n\r\n    // Act\r\n    List&lt;CompanyUserDTO&gt; result = companyUserService\r\n        .findAllByUserUuidIn(userUuidList);\r\n\r\n    // Assert\r\n    assertEquals(companyUserDTOList, result);\r\n}\r\n```","title":"How to mock an interface in Unit Testing in Java?","body":"<ol>\n<li>You don't need a mock, just create the objects themselves (I guess that you have at least an implementation of the interface <code>CompanyUserDTO</code>).</li>\n<li>Everything else is ok, although your method does not have that much logic to be tested.</li>\n</ol>\n<hr />\n<p>Given that you don't have an implementation for <code>CompanyUserDTO</code> you might make usage of anonymous classes to avoid having an implementation per se but something just for testing purposes. You could do it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test_findAllByUserUuidIn() {\n    // Arrange\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\n\n    CompanyUserDTO companyUserDTO = new CompanyUserDTO() {\n        @Override\n        public UUID getUserUuid() {\n            return UUID.randomUUID();\n        }\n        \n        @Override\n        public UUID getCompanyUuid() {\n            return UUID.randomUUID();\n        }\n\n        @Override\n        public String getCompanyName() {\n            return &quot;Company Name Test&quot;;\n        }\n    };\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\n    companyUserDTOList.add(companyUserDTO);\n\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\n        .thenReturn(companyUserDTOList);\n\n    // Act\n    List&lt;CompanyUserDTO&gt; result = companyUserService\n        .findAllByUserUuidIn(userUuidList);\n\n    // Assert\n    assertEquals(companyUserDTOList, result);\n}\n</code></pre>\n<hr />\n<p>If you prefer to avoid anonymous classes, then you need to create the following class in your <code>test</code> source package:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompanyUserDTOImpl implements CompanyUserDTO {\n    @Override\n    public UUID getUserUuid() {\n        return UUID.randomUUID();\n    }\n    \n    @Override\n    public UUID getCompanyUuid() {\n        return UUID.randomUUID();\n    }\n\n    @Override\n    public String getCompanyName() {\n        return &quot;Company Name Test&quot;;\n    }\n};\n</code></pre>\n<p>And then your test would be something simpler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test_findAllByUserUuidIn() {\n    // Arrange\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\n\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\n    companyUserDTOList.add(new CompanyUserDTOImpl());\n\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\n        .thenReturn(companyUserDTOList);\n\n    // Act\n    List&lt;CompanyUserDTO&gt; result = companyUserService\n        .findAllByUserUuidIn(userUuidList);\n\n    // Assert\n    assertEquals(companyUserDTOList, result);\n}\n</code></pre>\n"}],"owner":{"display_name":"user17186249"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70020752,"answer_count":1,"score":2,"last_activity_date":1637263159,"creation_date":1637241460,"question_id":70020551,"body_markdown":"I am trying to create a Unit Test for the following method:\r\n\r\n```\r\npublic List&lt;CompanyUserDTO&gt; findAllByUserUuidIn(final Set&lt;UUID&gt; userUuidList) {\r\n        return companyUserRepository.findAllByUserUuidIn(userUuidList);\r\n    }\r\n```\r\n\r\nThis method returns a list of `CompanyUserDTO` that is interface. Here is the interface definition:\r\n\r\n\r\n```\r\npublic interface CompanyUserDTO {\r\n    UUID getUserUuid();\r\n\r\n    UUID getCompanyUuid();\r\n\r\n    String getCompanyName();\r\n\r\n    default CompanyDTO getCompany() {\r\n        return new CompanyDTO(getCompanyUuid(), getCompanyName());\r\n    }\r\n}\r\n```\r\n\r\nHere is ***CompanyDTO***:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CompanyDTO {\r\n    private UUID uuid;\r\n    private String name;\r\n\r\n    public CompanyDTO(final Company company) {\r\n        this.uuid = company.getUuid();\r\n        this.name = company.getName();\r\n    }\r\n}\r\n```\r\n\r\nMy Unit Test is as shown below:\r\n\r\n\r\n\r\n```\r\n@Test\r\npublic void test_findAllByUserUuidIn() {\r\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\r\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\r\n\r\n    // --&gt; here I need a mock list of `CompanyUserDTO`\r\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\r\n\r\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\r\n        .thenReturn(companyUserDTOList);\r\n\r\n    List&lt;CompanyUserDTO&gt; result = companyUserService\r\n        .findAllByUserUuidIn(userUuidList);\r\n\r\n    assertEquals(companyUserDTOList, result);\r\n}\r\n```\r\n\r\n**1.** So, how should I create a mock list of `CompanyUserDTO` in the test?\r\n\r\n**2.** Is my unit test ok with this approach? ","title":"How to mock an interface in Unit Testing in Java?","body":"<p>I am trying to create a Unit Test for the following method:</p>\n<pre><code>public List&lt;CompanyUserDTO&gt; findAllByUserUuidIn(final Set&lt;UUID&gt; userUuidList) {\n        return companyUserRepository.findAllByUserUuidIn(userUuidList);\n    }\n</code></pre>\n<p>This method returns a list of <code>CompanyUserDTO</code> that is interface. Here is the interface definition:</p>\n<pre><code>public interface CompanyUserDTO {\n    UUID getUserUuid();\n\n    UUID getCompanyUuid();\n\n    String getCompanyName();\n\n    default CompanyDTO getCompany() {\n        return new CompanyDTO(getCompanyUuid(), getCompanyName());\n    }\n}\n</code></pre>\n<p>Here is <em><strong>CompanyDTO</strong></em>:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyDTO {\n    private UUID uuid;\n    private String name;\n\n    public CompanyDTO(final Company company) {\n        this.uuid = company.getUuid();\n        this.name = company.getName();\n    }\n}\n</code></pre>\n<p>My Unit Test is as shown below:</p>\n<pre><code>@Test\npublic void test_findAllByUserUuidIn() {\n    Set&lt;UUID&gt; userUuidList = new HashSet&lt;&gt;();\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000002&quot;));\n    userUuidList.add(UUID.fromString(&quot;00000000-0000-0000-0000-000000000003&quot;));\n\n    // --&gt; here I need a mock list of `CompanyUserDTO`\n    List&lt;CompanyUserDTO&gt; companyUserDTOList = new ArrayList&lt;&gt;();\n\n    when(companyUserRepository.findAllByUserUuidIn(userUuidList))\n        .thenReturn(companyUserDTOList);\n\n    List&lt;CompanyUserDTO&gt; result = companyUserService\n        .findAllByUserUuidIn(userUuidList);\n\n    assertEquals(companyUserDTOList, result);\n}\n</code></pre>\n<p><strong>1.</strong> So, how should I create a mock list of <code>CompanyUserDTO</code> in the test?</p>\n<p><strong>2.</strong> Is my unit test ok with this approach?</p>\n"},{"tags":["java","collectors"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1637185564,"post_id":70011936,"comment_id":123762014,"body_markdown":"why not use `.filter(...)` instead?","body":"why not use <code>.filter(...)</code> instead?"},{"owner":{"account_id":2983706,"reputation":1756,"user_id":2533109,"accept_rate":100,"display_name":"Dinesh"},"score":0,"creation_date":1637186471,"post_id":70011936,"comment_id":123762349,"body_markdown":"@blurfus - I don&#39;t think `filter()` alone can do the trick.  `Collectors.GroupBy` seems more elegant.","body":"@blurfus - I don&#39;t think <code>filter()</code> alone can do the trick.  <code>Collectors.GroupBy</code> seems more elegant."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637186741,"post_id":70011936,"comment_id":123762443,"body_markdown":"Are you trying to group into buckets of length 15 days?  Or filter out entries more than 15 days ago?","body":"Are you trying to group into buckets of length 15 days?  Or filter out entries more than 15 days ago?"},{"owner":{"account_id":2983706,"reputation":1756,"user_id":2533109,"accept_rate":100,"display_name":"Dinesh"},"score":0,"creation_date":1637186820,"post_id":70011936,"comment_id":123762461,"body_markdown":"@LouisWasserman - I am trying to group them into buckets of the length of 15 days.","body":"@LouisWasserman - I am trying to group them into buckets of the length of 15 days."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637263153,"creation_date":1637186552,"answer_id":70012135,"question_id":70011936,"body_markdown":"You can get the day difference between two `LocalDateTime`s using `ChronoUnit.DAYS.between(from,to)` as stated [here](https://stackoverflow.com/a/26954864/10871900).\r\n\r\nYou can then divide this by 15 (so you have the same number for all days in that range):\r\n\r\n```java\r\nLocalDate origin=LocalDate.now();\r\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\r\n    .collect(Collectors.groupingBy(item-&gt; \r\n       Long.valueOf(ChronoUnit.DAYS.between(item.createdAt(),origin)/15));\r\n```\r\n\r\nIf you want to group by the start date, you can reverse the calculation (while the difference in between the 15 days is eliminated by the integer division):\r\n```java\r\nLocalDate origin=LocalDate.now();\r\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\r\n    .collect(Collectors.groupingBy(item -&gt; \r\n        origin.plusDays(\r\n            (ChronoUnit.DAYS.between(origin, item.createdAt()) /15)*15\r\n        )\r\n    ));\r\n```\r\n\r\nIf you want to use `TemporalAdjusters`, you can do it like that:\r\n```java\r\nLocalDate origin=LocalDate.now();\r\nTemporalAdjusters adjuster = TemporalAdjusters.ofDateAdjuster(d -&gt;\r\n    origin.plusDays(\r\n        (ChronoUnit.DAYS.between(origin, d) /15)*15\r\n    )\r\n);\r\n```\r\n\r\n---\r\n\r\n**Explainations**:\r\n\r\nDividing an integer by another integer always yields an integer, even if the quotient would have decimal places. Integer division just removes those decimal places. If you divide a number by 15, it will return rhe same result for 15 consecutive numbers. After multiplying it with 15 again, you would get the first of those 15 numbers. Dividing a number by 15 and multiplying it with 15 again has the purpose that every 15 consecutive numbers are set to the same number (the first of those 15).\r\n\r\n`ChronoUnit.DAYS.between(date1, date2)` just calculates the number of days between `date1` and `date2`. ","title":"Java - Collectors.groupingBy - the last 15 days","body":"<p>You can get the day difference between two <code>LocalDateTime</code>s using <code>ChronoUnit.DAYS.between(from,to)</code> as stated <a href=\"https://stackoverflow.com/a/26954864/10871900\">here</a>.</p>\n<p>You can then divide this by 15 (so you have the same number for all days in that range):</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate origin=LocalDate.now();\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\n    .collect(Collectors.groupingBy(item-&gt; \n       Long.valueOf(ChronoUnit.DAYS.between(item.createdAt(),origin)/15));\n</code></pre>\n<p>If you want to group by the start date, you can reverse the calculation (while the difference in between the 15 days is eliminated by the integer division):</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate origin=LocalDate.now();\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\n    .collect(Collectors.groupingBy(item -&gt; \n        origin.plusDays(\n            (ChronoUnit.DAYS.between(origin, item.createdAt()) /15)*15\n        )\n    ));\n</code></pre>\n<p>If you want to use <code>TemporalAdjusters</code>, you can do it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate origin=LocalDate.now();\nTemporalAdjusters adjuster = TemporalAdjusters.ofDateAdjuster(d -&gt;\n    origin.plusDays(\n        (ChronoUnit.DAYS.between(origin, d) /15)*15\n    )\n);\n</code></pre>\n<hr />\n<p><strong>Explainations</strong>:</p>\n<p>Dividing an integer by another integer always yields an integer, even if the quotient would have decimal places. Integer division just removes those decimal places. If you divide a number by 15, it will return rhe same result for 15 consecutive numbers. After multiplying it with 15 again, you would get the first of those 15 numbers. Dividing a number by 15 and multiplying it with 15 again has the purpose that every 15 consecutive numbers are set to the same number (the first of those 15).</p>\n<p><code>ChronoUnit.DAYS.between(date1, date2)</code> just calculates the number of days between <code>date1</code> and <code>date2</code>.</p>\n"}],"owner":{"account_id":2983706,"reputation":1756,"user_id":2533109,"accept_rate":100,"display_name":"Dinesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70012135,"answer_count":1,"score":3,"last_activity_date":1637263153,"creation_date":1637185387,"question_id":70011936,"body_markdown":"is it possible to group by the last 15 days using Java&#39;s `Collectors.groupingBy`?\r\n\r\n\r\n**Input:**\r\n```\r\npublic class Tweet { \r\n\r\n String id;\r\n LocalDate createdAt; \r\n\r\n // Constructor Ignored\r\n\r\n List&lt;Tweet&gt; tweets = new ArrayList(){{\r\n  add(new Tweet(&quot;1&quot;, &quot;2021-11-17&quot;));\r\n  add(new Tweet(&quot;2&quot;, &quot;2021-11-16&quot;));\r\n  add(new Tweet(&quot;3&quot;, &quot;2021-11-14&quot;));\r\n  add(new Tweet(&quot;4&quot;, &quot;2021-11-13&quot;));\r\n  add(new Tweet(&quot;5&quot;, &quot;2021-11-12&quot;));\r\n  add(new Tweet(&quot;7&quot;, &quot;2021-10-09&quot;));\r\n  add(new Tweet(&quot;8&quot;, &quot;2021-10-08&quot;));\r\n  add(new Tweet(&quot;9&quot;, &quot;2021-10-07&quot;));\r\n  add(new Tweet(&quot;10&quot;, &quot;2021-09-02&quot;));\r\n  add(new Tweet(&quot;11&quot;, &quot;2021-09-01&quot;));\r\n ...\r\n\r\n }};\r\n\r\n}\r\n```\r\n\r\n**Expected Output:**\r\n```\r\n2021-11-17:  (group must include 2021-11-17 + 15 days before 17th)\r\n Tweet(&quot;1&quot;, &quot;2021-11-17&quot;);\r\n Tweet(&quot;2&quot;, &quot;2021-11-16&quot;);\r\n Tweet(&quot;3&quot;, &quot;2021-11-14&quot;);\r\n Tweet(&quot;4&quot;, &quot;2021-11-13&quot;);\r\n Tweet(&quot;5&quot;, &quot;2021-11-12&quot;);\r\n\r\n2021-10-09: (group to include 2021-10-09 + 15 days before 9th)\r\n Tweet(&quot;7&quot;, &quot;2021-10-09&quot;);\r\n Tweet(&quot;8&quot;, &quot;2021-10-08&quot;);\r\n Tweet(&quot;9&quot;, &quot;2021-10-07&quot;);\r\n\r\n2021-09-01: (group to include 2021-09-01 + 15 days before 1st)\r\nTweet(&quot;10&quot;, &quot;2021-09-02&quot;);\r\nTweet(&quot;11&quot;, &quot;2021-09-01&quot;);\r\n\r\n```\r\n\r\n\r\nCurrent logic (**Not working**):\r\n\r\n**Main Method:**\r\n\r\n``` java\r\n\r\nTemporalAdjusters adjuster = TemporalAdjusters.ofDateAdjuster(d -&gt; d.minusDays(15));\r\n\r\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\r\n                .collect(Collectors.groupingBy(item -&gt; item.createdAt())\r\n                  .with(adjuster)));\r\n\r\nSystem.out.println(groupByLast15Days);  // provides incorrect results\r\n```\r\n\r\nany help is massively appreciated! Thanks!\r\n","title":"Java - Collectors.groupingBy - the last 15 days","body":"<p>is it possible to group by the last 15 days using Java's <code>Collectors.groupingBy</code>?</p>\n<p><strong>Input:</strong></p>\n<pre><code>public class Tweet { \n\n String id;\n LocalDate createdAt; \n\n // Constructor Ignored\n\n List&lt;Tweet&gt; tweets = new ArrayList(){{\n  add(new Tweet(&quot;1&quot;, &quot;2021-11-17&quot;));\n  add(new Tweet(&quot;2&quot;, &quot;2021-11-16&quot;));\n  add(new Tweet(&quot;3&quot;, &quot;2021-11-14&quot;));\n  add(new Tweet(&quot;4&quot;, &quot;2021-11-13&quot;));\n  add(new Tweet(&quot;5&quot;, &quot;2021-11-12&quot;));\n  add(new Tweet(&quot;7&quot;, &quot;2021-10-09&quot;));\n  add(new Tweet(&quot;8&quot;, &quot;2021-10-08&quot;));\n  add(new Tweet(&quot;9&quot;, &quot;2021-10-07&quot;));\n  add(new Tweet(&quot;10&quot;, &quot;2021-09-02&quot;));\n  add(new Tweet(&quot;11&quot;, &quot;2021-09-01&quot;));\n ...\n\n }};\n\n}\n</code></pre>\n<p><strong>Expected Output:</strong></p>\n<pre><code>2021-11-17:  (group must include 2021-11-17 + 15 days before 17th)\n Tweet(&quot;1&quot;, &quot;2021-11-17&quot;);\n Tweet(&quot;2&quot;, &quot;2021-11-16&quot;);\n Tweet(&quot;3&quot;, &quot;2021-11-14&quot;);\n Tweet(&quot;4&quot;, &quot;2021-11-13&quot;);\n Tweet(&quot;5&quot;, &quot;2021-11-12&quot;);\n\n2021-10-09: (group to include 2021-10-09 + 15 days before 9th)\n Tweet(&quot;7&quot;, &quot;2021-10-09&quot;);\n Tweet(&quot;8&quot;, &quot;2021-10-08&quot;);\n Tweet(&quot;9&quot;, &quot;2021-10-07&quot;);\n\n2021-09-01: (group to include 2021-09-01 + 15 days before 1st)\nTweet(&quot;10&quot;, &quot;2021-09-02&quot;);\nTweet(&quot;11&quot;, &quot;2021-09-01&quot;);\n\n</code></pre>\n<p>Current logic (<strong>Not working</strong>):</p>\n<p><strong>Main Method:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\nTemporalAdjusters adjuster = TemporalAdjusters.ofDateAdjuster(d -&gt; d.minusDays(15));\n\nMap&lt;LocalDate, List&lt;Tweets&gt;&gt; groupByLast15Days = tweets.stream()\n                .collect(Collectors.groupingBy(item -&gt; item.createdAt())\n                  .with(adjuster)));\n\nSystem.out.println(groupByLast15Days);  // provides incorrect results\n</code></pre>\n<p>any help is massively appreciated! Thanks!</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"score":0,"creation_date":1637232721,"post_id":70018184,"comment_id":123773514,"body_markdown":"Can you clarify what &#39;it doesn&#39;t work with SQS&#39; mean ? Does it not work with SQS library ?","body":"Can you clarify what &#39;it doesn&#39;t work with SQS&#39; mean ? Does it not work with SQS library ?"},{"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"score":0,"creation_date":1637250767,"post_id":70018184,"comment_id":123781420,"body_markdown":"It doesn&#39;t send any trace id in SQS headers automatically as it does with HTTP requests","body":"It doesn&#39;t send any trace id in SQS headers automatically as it does with HTTP requests"}],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637262866,"creation_date":1637262866,"answer_id":70025499,"question_id":70018184,"body_markdown":"Spring Cloud AWS is now a community project, see: https://awspring.io/\r\nThe current release train of Spring Cloud (2020.x), where you can find Sleuth 3.x does not include/support it.\r\n\r\nYou should use `io.awspring.cloud:spring-cloud-aws-messaging:2.3.x` instead of `org.springframework.cloud:spring-cloud-aws-messaging:2.2.x` with the current release train of Spring Cloud (2020.x).\r\n\r\nBecause of these, Sleuth does not instrument Spring AWS Messaging directly but if you can use SQS in a way that integrates with Spring Integration/Messaging/Stream/something that is already instrumented, this could work; i.e.: I would try using `QueueMessageChannel` and the annotations, I don&#39;t think `QueueMessagingTemplate` will work.\r\n\r\nAnother thing you can do is manually instrument it and propagate tracing information in the headers, see: [`TraceSpringMessagingAutoConfiguration`](https://github.com/spring-cloud/spring-cloud-sleuth/blob/79323a4e83c7f64fa2231c275d2ec50be1e00a9b/spring-cloud-sleuth-autoconfigure/src/main/java/org/springframework/cloud/sleuth/autoconfig/instrument/messaging/TraceSpringMessagingAutoConfiguration.java)","title":"How to send and consume sleuth traceId in SQS","body":"<p>Spring Cloud AWS is now a community project, see: <a href=\"https://awspring.io/\" rel=\"nofollow noreferrer\">https://awspring.io/</a>\nThe current release train of Spring Cloud (2020.x), where you can find Sleuth 3.x does not include/support it.</p>\n<p>You should use <code>io.awspring.cloud:spring-cloud-aws-messaging:2.3.x</code> instead of <code>org.springframework.cloud:spring-cloud-aws-messaging:2.2.x</code> with the current release train of Spring Cloud (2020.x).</p>\n<p>Because of these, Sleuth does not instrument Spring AWS Messaging directly but if you can use SQS in a way that integrates with Spring Integration/Messaging/Stream/something that is already instrumented, this could work; i.e.: I would try using <code>QueueMessageChannel</code> and the annotations, I don't think <code>QueueMessagingTemplate</code> will work.</p>\n<p>Another thing you can do is manually instrument it and propagate tracing information in the headers, see: <a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/79323a4e83c7f64fa2231c275d2ec50be1e00a9b/spring-cloud-sleuth-autoconfigure/src/main/java/org/springframework/cloud/sleuth/autoconfig/instrument/messaging/TraceSpringMessagingAutoConfiguration.java\" rel=\"nofollow noreferrer\"><code>TraceSpringMessagingAutoConfiguration</code></a></p>\n"}],"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70025499,"answer_count":1,"score":0,"last_activity_date":1637262866,"creation_date":1637231237,"question_id":70018184,"body_markdown":"I&#39;m using `spring-cloud-sleuth.version:3.0.4` and `spring-cloud-aws-messaging:2.2.6.RELEASE`\r\n\r\nIt correctly propogates trace id with HTTP requests.\r\n\r\nHowever, it seems that it doesn&#39;t work with SQS.\r\n\r\nIs there any way to automatically send and consume sleuth traceId with SQS communication.","title":"How to send and consume sleuth traceId in SQS","body":"<p>I'm using <code>spring-cloud-sleuth.version:3.0.4</code> and <code>spring-cloud-aws-messaging:2.2.6.RELEASE</code></p>\n<p>It correctly propogates trace id with HTTP requests.</p>\n<p>However, it seems that it doesn't work with SQS.</p>\n<p>Is there any way to automatically send and consume sleuth traceId with SQS communication.</p>\n"},{"tags":["java","depth-first-search","markov-chains"],"comments":[{"owner":{"account_id":3566221,"reputation":859,"user_id":2977662,"accept_rate":36,"display_name":"ilj"},"score":0,"creation_date":1640482568,"post_id":70025364,"comment_id":124593956,"body_markdown":"getting same issue: 1 and 2 pass, but most hidden test cases failed.\nhave you figured it out?","body":"getting same issue: 1 and 2 pass, but most hidden test cases failed. have you figured it out?"}],"owner":{"account_id":8078900,"reputation":319,"user_id":6088862,"display_name":"hkcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637262768,"creation_date":1637262234,"question_id":70025364,"body_markdown":"This is a question related to the google foobar doomsday fuel question. I know that there exists answers out there but I am just wondering why my solution fails some test cases\r\n\r\nThe question can be found here: https://github.com/ivanseed/google-foobar-help/blob/master/challenges/doomsday_fuel/doomsday_fuel.md\r\n\r\n**Question**\r\n\r\n    The challenge specification\r\n    Making fuel for the LAMBCHOP&#39;s reactor core is a tricky process because of the exotic matter involved. \r\n    It starts as raw ore, then during processing, begins randomly changing between forms, eventually reaching a stable form. \r\n    There may be multiple stable forms that a sample could ultimately reach, not all of which are useful as fuel.\r\n    \r\n    Commander Lambda has tasked you to help the scientists increase fuel creation efficiency by predicting the end state of a given ore sample.\r\n    You have carefully studied the different structures that the ore can take and which transitions it undergoes.\r\n    It appears that, while random, the probability of each structure transforming is fixed.\r\n    That is, each time the ore is in 1 state, it has the same probabilities of entering the next state (which might be the same state).\r\n    You have recorded the observed transitions in a matrix. The others in the lab have hypothesized more exotic forms that the ore can become, but you haven&#39;t seen all of them.\r\n    \r\n    Write a function answer(m) that takes an array of array of nonnegative ints representing how many times that state has gone to the next state,\r\n    and return an array of ints for each terminal state giving the exact probabilities of each terminal state, represented as the numerator for each state,\r\n    then the denominator for all of them at the end and in simplest form.\r\n    The matrix is at most 10 by 10. It is guaranteed that no matter which state the ore is in, there is a path from that state to a terminal state.\r\n    That is, the processing will always eventually end in a stable state. The ore starts in state 0.\r\n    The denominator will fit within a signed 32-bit integer during the calculation, as long as the fraction is simplified regularly.\r\n    \r\n    For example, consider the matrix m:\r\n    \r\n    [\r\n      [0,1,0,0,0,1],  # s0, the initial state, goes to s1 and s5 with equal probability\r\n      [4,0,0,3,2,0],  # s1 can become s0, s3, or s4, but with different probabilities\r\n      [0,0,0,0,0,0],  # s2 is terminal, and unreachable (never observed in practice)\r\n      [0,0,0,0,0,0],  # s3 is terminal\r\n      [0,0,0,0,0,0],  # s4 is terminal\r\n      [0,0,0,0,0,0],  # s5 is terminal\r\n    ]\r\n    So, we can consider different paths to terminal states, such as:\r\n    \r\n    s0 -&gt; s1 -&gt; s3\r\n    s0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s4\r\n    s0 -&gt; s1 -&gt; s0 -&gt; s5\r\n    Tracing the probabilities of each, we find that:\r\n    \r\n    s2 has probability 0\r\n    s3 has probability 3/14\r\n    s4 has probability 1/7\r\n    s5 has probability 9/14\r\n    So, putting that together, and making a common denominator,\r\n    gives an answer in the form of [s2.numerator, s3.numerator, s4.numerator, s5.numerator, denominator]\r\n    which is: [0, 3, 2, 9, 14].\r\n\r\n\r\nSo I came up with a solution, which is better explained here: https://stackoverflow.com/questions/69966477/why-does-this-idea-to-solve-a-absorption-markov-chain-not-work\r\n\r\nThe basic idea is this:\r\n\r\n1. Trace all possible paths to a termination point, sum up the probability of every path to the termination node. That is the probability of reaching the node.\r\n\r\n2. Ignore cyclical paths. Because cyclical paths will increase the probability by the same proportion, and is not required.\r\n\r\n3. Calculate the probability of each node as &quot;probability of each node&quot; / &quot;probability of terminating&quot; because by eliminating cyclical paths, the probability of terminating will not be 1 anymore.\r\n\r\nSo this is the code I came up with, it is a DFS solution. I understand that its not the most elegant/pretty/&quot;best practice&quot; code, but it does the steps I listed.\r\n\r\n**Solution.java**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Stack;\r\n    \r\n    public class Solution {\r\n        \r\n        // for dealing with fractions\r\n        public static class Fraction {\r\n            long denom;\r\n            long numer;\r\n            \r\n            public Fraction(long numer, long denom) {\r\n                // if representing zeroes, don&#39;t try to find GCD\r\n                if (numer == 0) {\r\n                    this.numer = numer;\r\n                    this.denom = denom;\r\n                    return;\r\n                }\r\n                // simplify regularly\r\n                long gcd = findGCD(numer, denom);\r\n                this.numer = numer / gcd;\r\n                this.denom = denom / gcd;\r\n            }\r\n            \r\n            // raise to a denom without simplifying.\r\n            // for example 1/2 -&gt; 2/4\r\n            // newDenom must be a multiple of current denom\r\n            public void raiseToDenom(long newDenom) {\r\n                if (newDenom % this.denom != 0) {\r\n                    throw new RuntimeException(&quot;Invalid Denom!&quot;);\r\n                }\r\n                this.numer = this.numer * (newDenom / this.denom);\r\n            }\r\n            \r\n            public Fraction multiply(Fraction other) {\r\n                return new Fraction(numer * other.numer, denom * other.denom);\r\n            }\r\n            \r\n            public Fraction divide(Fraction other) {\r\n                return new Fraction(numer * other.denom, denom * other.numer);\r\n            }\r\n            \r\n            public Fraction add(Fraction other) {\r\n                long lcm = findLCM(denom, other.denom);\r\n                long newNumer = numer * (lcm / denom) + other.numer * (lcm / other.denom);\r\n                return new Fraction(newNumer, lcm);\r\n            }\r\n            \r\n            public static long findGCD(long first, long second) {\r\n                if (second == 0) {\r\n                    return first;\r\n                }\r\n                return findGCD(second, first % second);\r\n            }\r\n            \r\n            public static long findLCM(long first, long second) {\r\n                return (first / findGCD(first,second)) * second;\r\n            }\r\n        }\r\n        \r\n        public static class Solver {\r\n            private int states; // matrix.length\r\n            private int[][] matrix;\r\n            private int[] matrixToFractionArr; // map state num -&gt; fraction arr\r\n            private Fraction[] fractionArr; // each entry is for one terminal state\r\n            \r\n            public Solver(int[][] matrix) {\r\n                this.matrix = matrix;\r\n                this.states = matrix.length;\r\n                this.matrixToFractionArr = new int[states];\r\n                int terminalIndex = 0;\r\n                for (int i = 0; i &lt; matrix.length; i++) {\r\n                    boolean isTerminal = true;\r\n                    for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                        // if there is any entry that is not 0, this is not a terminal node...\r\n                        // transitions to ownself is still considered terminal I think\r\n                        if (matrix[i][j] != 0 &amp;&amp; i != j) {\r\n                            isTerminal = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    // map to the fraction array\r\n                    if (isTerminal) {\r\n                        matrixToFractionArr[i] = terminalIndex;\r\n                        terminalIndex ++;\r\n                    } else {\r\n                        matrixToFractionArr[i] = -1;\r\n                    }\r\n                }\r\n                // fractions for terminal states only\r\n                this.fractionArr = new Fraction[terminalIndex];\r\n                for (int i = 0; i &lt; terminalIndex; i++) {\r\n                    // initial probabilty 0.\r\n                    this.fractionArr[i] = new Fraction(0,1);\r\n                }\r\n            }\r\n            \r\n            public int sumArray(int[] array) {\r\n                int count = 0;\r\n                for (int i = 0; i &lt; array.length; i++) {\r\n                    count += array[i];\r\n                }\r\n                return count;\r\n            }\r\n            \r\n            // dfs method for setting the fractionArr correctly\r\n            // carries the current probability by multiplying as we go, then adding it to terminal states\r\n            // path represents which states is currently on path.\r\n            public void setFractionsRecursively(Fraction currentProbability,\r\n                int currentState, HashMap&lt;Integer, Boolean&gt; path) {\r\n                    \r\n                int fractionIndex = matrixToFractionArr[currentState];\r\n                if (fractionIndex != -1) {\r\n                    // it is a terminal node!\r\n                    // add the probability\r\n                    fractionArr[fractionIndex] = fractionArr[fractionIndex].add(currentProbability);\r\n                    return;\r\n                }\r\n                \r\n                // not a terminal node, lets count the total outgoing\r\n                int arrayTotal = sumArray(matrix[currentState]);\r\n                // put this state on path\r\n                path.put(currentState, true);\r\n                for (int i = 0; i &lt; states; i++) {\r\n                    int nextStateProb = matrix[currentState][i];\r\n                    if (nextStateProb == 0) {\r\n                        // skip if cannot go this.\r\n                        continue;\r\n                    }\r\n                    if (path.containsKey(i) &amp;&amp; path.get(i)) {\r\n                        // ensure that next state not on current path\r\n                        // &quot;i&quot; is the next state to go to\r\n                        continue;\r\n                    }\r\n                    Fraction nextProb = new Fraction(nextStateProb, arrayTotal);\r\n                    nextProb = nextProb.multiply(currentProbability);\r\n                    // dfs search\r\n                    setFractionsRecursively(nextProb, i, path);\r\n                }\r\n                // remove from path\r\n                path.put(currentState, false);\r\n                return;\r\n            }\r\n            \r\n            // only can be used once unfortunately.\r\n            public int[] solve() {\r\n                // dfs related solution\r\n                setFractionsRecursively(new Fraction(1,1), 0, new HashMap&lt;Integer, Boolean&gt;());\r\n                // all fractions have been placed properly...\r\n                \r\n                // total &quot;terminating probability&quot;\r\n                // essential because my method does not add up to one.\r\n                Fraction total = new Fraction(0,1);\r\n                for (int i = 0; i &lt; fractionArr.length; i++) {\r\n                    total = total.add(fractionArr[i]);\r\n                }\r\n                \r\n                // change probability to be over the &quot;total&quot; instead of one.\r\n                for (int i = 0; i &lt; fractionArr.length; i++) {\r\n                    fractionArr[i] = fractionArr[i].divide(total);\r\n                }     \r\n                \r\n                // look for the LCM denominator to change all fractions to.\r\n                long bestDenomLcm = 1;\r\n                for (int i = 0; i &lt; fractionArr.length; i++) {\r\n                    bestDenomLcm = Fraction.findLCM(bestDenomLcm, fractionArr[i].denom);\r\n                }\r\n                \r\n                long[] answerArray = new long[fractionArr.length + 1];\r\n                // raise all fractions to LCM denom\r\n                for (int i = 0; i &lt; fractionArr.length; i++) {\r\n                    fractionArr[i].raiseToDenom(bestDenomLcm);\r\n                    answerArray[i] = fractionArr[i].numer;\r\n                }\r\n                \r\n                // the total (last entry) is basically the denominator\r\n                answerArray[answerArray.length - 1] = bestDenomLcm;\r\n                \r\n                // look for a GCD to\r\n                // simplify it more if possible....\r\n                // [2, 4, 6, 8] -&gt; [1, 2, 3, 4] for example.\r\n                long bestGcd = bestDenomLcm;\r\n                for (int i = 0; i &lt; answerArray.length; i++) {\r\n                    if (answerArray[i] != 0) {\r\n                        bestGcd = Fraction.findGCD(bestGcd, answerArray[i]);\r\n                    }\r\n                }\r\n                \r\n                // required because I used long...\r\n                int[] intAnswerArray = new int[answerArray.length];\r\n                \r\n                // simplify here\r\n                for (int i = 0; i &lt; answerArray.length; i++) {\r\n                    intAnswerArray[i] = (int) (answerArray[i] /= bestGcd);\r\n                }\r\n                return intAnswerArray;\r\n            }\r\n        }\r\n        \r\n        // method that is called by test cases.\r\n        public static int[] solution(int[][] m) {\r\n            Solver solver = new Solver(m);\r\n            int[] answer = solver.solve();\r\n            return answer;\r\n        }\r\n    }\r\n\r\n**The answer will be derived by calling the Solution.solution(int[][] m) method.**\r\n\r\nAnd I am failing **some** of the hidden test cases. I have passed the test case given in the question above.\r\n\r\nSo there are a few possibilities I have considered:\r\n\r\n 1. My algorithm doesn&#39;t work, and I hope someone can explain why...\r\n 2. There is a bug in my code, something I did not account for.\r\n 3. Runtime is too slow\r\n 4. Integer overflow when working with fractions (unlikely because I use long and the question specifies that it should not overflow). \r\n\r\nUnfortunately the google foobar interface does not show the reasons, and I do not even know the test cases to try.\r\n\r\nI have tried using random number generators, and sometimes there is integer overflows, however I still think the test cases provided should not be affected by overflow?\r\n\r\nThank you for reading this and I hope someone knows why. Hopefully it is not (3) and (4) because that will send you guys on a wild goose chase. ","title":"Google foobar Doomsday Fuel failing test cases, absorbing markov chain question","body":"<p>This is a question related to the google foobar doomsday fuel question. I know that there exists answers out there but I am just wondering why my solution fails some test cases</p>\n<p>The question can be found here: <a href=\"https://github.com/ivanseed/google-foobar-help/blob/master/challenges/doomsday_fuel/doomsday_fuel.md\" rel=\"nofollow noreferrer\">https://github.com/ivanseed/google-foobar-help/blob/master/challenges/doomsday_fuel/doomsday_fuel.md</a></p>\n<p><strong>Question</strong></p>\n<pre><code>The challenge specification\nMaking fuel for the LAMBCHOP's reactor core is a tricky process because of the exotic matter involved. \nIt starts as raw ore, then during processing, begins randomly changing between forms, eventually reaching a stable form. \nThere may be multiple stable forms that a sample could ultimately reach, not all of which are useful as fuel.\n\nCommander Lambda has tasked you to help the scientists increase fuel creation efficiency by predicting the end state of a given ore sample.\nYou have carefully studied the different structures that the ore can take and which transitions it undergoes.\nIt appears that, while random, the probability of each structure transforming is fixed.\nThat is, each time the ore is in 1 state, it has the same probabilities of entering the next state (which might be the same state).\nYou have recorded the observed transitions in a matrix. The others in the lab have hypothesized more exotic forms that the ore can become, but you haven't seen all of them.\n\nWrite a function answer(m) that takes an array of array of nonnegative ints representing how many times that state has gone to the next state,\nand return an array of ints for each terminal state giving the exact probabilities of each terminal state, represented as the numerator for each state,\nthen the denominator for all of them at the end and in simplest form.\nThe matrix is at most 10 by 10. It is guaranteed that no matter which state the ore is in, there is a path from that state to a terminal state.\nThat is, the processing will always eventually end in a stable state. The ore starts in state 0.\nThe denominator will fit within a signed 32-bit integer during the calculation, as long as the fraction is simplified regularly.\n\nFor example, consider the matrix m:\n\n[\n  [0,1,0,0,0,1],  # s0, the initial state, goes to s1 and s5 with equal probability\n  [4,0,0,3,2,0],  # s1 can become s0, s3, or s4, but with different probabilities\n  [0,0,0,0,0,0],  # s2 is terminal, and unreachable (never observed in practice)\n  [0,0,0,0,0,0],  # s3 is terminal\n  [0,0,0,0,0,0],  # s4 is terminal\n  [0,0,0,0,0,0],  # s5 is terminal\n]\nSo, we can consider different paths to terminal states, such as:\n\ns0 -&gt; s1 -&gt; s3\ns0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s4\ns0 -&gt; s1 -&gt; s0 -&gt; s5\nTracing the probabilities of each, we find that:\n\ns2 has probability 0\ns3 has probability 3/14\ns4 has probability 1/7\ns5 has probability 9/14\nSo, putting that together, and making a common denominator,\ngives an answer in the form of [s2.numerator, s3.numerator, s4.numerator, s5.numerator, denominator]\nwhich is: [0, 3, 2, 9, 14].\n</code></pre>\n<p>So I came up with a solution, which is better explained here: <a href=\"https://stackoverflow.com/questions/69966477/why-does-this-idea-to-solve-a-absorption-markov-chain-not-work\">Why does this idea to solve a absorption markov chain not work?</a></p>\n<p>The basic idea is this:</p>\n<ol>\n<li><p>Trace all possible paths to a termination point, sum up the probability of every path to the termination node. That is the probability of reaching the node.</p>\n</li>\n<li><p>Ignore cyclical paths. Because cyclical paths will increase the probability by the same proportion, and is not required.</p>\n</li>\n<li><p>Calculate the probability of each node as &quot;probability of each node&quot; / &quot;probability of terminating&quot; because by eliminating cyclical paths, the probability of terminating will not be 1 anymore.</p>\n</li>\n</ol>\n<p>So this is the code I came up with, it is a DFS solution. I understand that its not the most elegant/pretty/&quot;best practice&quot; code, but it does the steps I listed.</p>\n<p><strong>Solution.java</strong></p>\n<pre><code>import java.util.HashMap;\nimport java.util.Stack;\n\npublic class Solution {\n    \n    // for dealing with fractions\n    public static class Fraction {\n        long denom;\n        long numer;\n        \n        public Fraction(long numer, long denom) {\n            // if representing zeroes, don't try to find GCD\n            if (numer == 0) {\n                this.numer = numer;\n                this.denom = denom;\n                return;\n            }\n            // simplify regularly\n            long gcd = findGCD(numer, denom);\n            this.numer = numer / gcd;\n            this.denom = denom / gcd;\n        }\n        \n        // raise to a denom without simplifying.\n        // for example 1/2 -&gt; 2/4\n        // newDenom must be a multiple of current denom\n        public void raiseToDenom(long newDenom) {\n            if (newDenom % this.denom != 0) {\n                throw new RuntimeException(&quot;Invalid Denom!&quot;);\n            }\n            this.numer = this.numer * (newDenom / this.denom);\n        }\n        \n        public Fraction multiply(Fraction other) {\n            return new Fraction(numer * other.numer, denom * other.denom);\n        }\n        \n        public Fraction divide(Fraction other) {\n            return new Fraction(numer * other.denom, denom * other.numer);\n        }\n        \n        public Fraction add(Fraction other) {\n            long lcm = findLCM(denom, other.denom);\n            long newNumer = numer * (lcm / denom) + other.numer * (lcm / other.denom);\n            return new Fraction(newNumer, lcm);\n        }\n        \n        public static long findGCD(long first, long second) {\n            if (second == 0) {\n                return first;\n            }\n            return findGCD(second, first % second);\n        }\n        \n        public static long findLCM(long first, long second) {\n            return (first / findGCD(first,second)) * second;\n        }\n    }\n    \n    public static class Solver {\n        private int states; // matrix.length\n        private int[][] matrix;\n        private int[] matrixToFractionArr; // map state num -&gt; fraction arr\n        private Fraction[] fractionArr; // each entry is for one terminal state\n        \n        public Solver(int[][] matrix) {\n            this.matrix = matrix;\n            this.states = matrix.length;\n            this.matrixToFractionArr = new int[states];\n            int terminalIndex = 0;\n            for (int i = 0; i &lt; matrix.length; i++) {\n                boolean isTerminal = true;\n                for (int j = 0; j &lt; matrix[i].length; j++) {\n                    // if there is any entry that is not 0, this is not a terminal node...\n                    // transitions to ownself is still considered terminal I think\n                    if (matrix[i][j] != 0 &amp;&amp; i != j) {\n                        isTerminal = false;\n                        break;\n                    }\n                }\n                // map to the fraction array\n                if (isTerminal) {\n                    matrixToFractionArr[i] = terminalIndex;\n                    terminalIndex ++;\n                } else {\n                    matrixToFractionArr[i] = -1;\n                }\n            }\n            // fractions for terminal states only\n            this.fractionArr = new Fraction[terminalIndex];\n            for (int i = 0; i &lt; terminalIndex; i++) {\n                // initial probabilty 0.\n                this.fractionArr[i] = new Fraction(0,1);\n            }\n        }\n        \n        public int sumArray(int[] array) {\n            int count = 0;\n            for (int i = 0; i &lt; array.length; i++) {\n                count += array[i];\n            }\n            return count;\n        }\n        \n        // dfs method for setting the fractionArr correctly\n        // carries the current probability by multiplying as we go, then adding it to terminal states\n        // path represents which states is currently on path.\n        public void setFractionsRecursively(Fraction currentProbability,\n            int currentState, HashMap&lt;Integer, Boolean&gt; path) {\n                \n            int fractionIndex = matrixToFractionArr[currentState];\n            if (fractionIndex != -1) {\n                // it is a terminal node!\n                // add the probability\n                fractionArr[fractionIndex] = fractionArr[fractionIndex].add(currentProbability);\n                return;\n            }\n            \n            // not a terminal node, lets count the total outgoing\n            int arrayTotal = sumArray(matrix[currentState]);\n            // put this state on path\n            path.put(currentState, true);\n            for (int i = 0; i &lt; states; i++) {\n                int nextStateProb = matrix[currentState][i];\n                if (nextStateProb == 0) {\n                    // skip if cannot go this.\n                    continue;\n                }\n                if (path.containsKey(i) &amp;&amp; path.get(i)) {\n                    // ensure that next state not on current path\n                    // &quot;i&quot; is the next state to go to\n                    continue;\n                }\n                Fraction nextProb = new Fraction(nextStateProb, arrayTotal);\n                nextProb = nextProb.multiply(currentProbability);\n                // dfs search\n                setFractionsRecursively(nextProb, i, path);\n            }\n            // remove from path\n            path.put(currentState, false);\n            return;\n        }\n        \n        // only can be used once unfortunately.\n        public int[] solve() {\n            // dfs related solution\n            setFractionsRecursively(new Fraction(1,1), 0, new HashMap&lt;Integer, Boolean&gt;());\n            // all fractions have been placed properly...\n            \n            // total &quot;terminating probability&quot;\n            // essential because my method does not add up to one.\n            Fraction total = new Fraction(0,1);\n            for (int i = 0; i &lt; fractionArr.length; i++) {\n                total = total.add(fractionArr[i]);\n            }\n            \n            // change probability to be over the &quot;total&quot; instead of one.\n            for (int i = 0; i &lt; fractionArr.length; i++) {\n                fractionArr[i] = fractionArr[i].divide(total);\n            }     \n            \n            // look for the LCM denominator to change all fractions to.\n            long bestDenomLcm = 1;\n            for (int i = 0; i &lt; fractionArr.length; i++) {\n                bestDenomLcm = Fraction.findLCM(bestDenomLcm, fractionArr[i].denom);\n            }\n            \n            long[] answerArray = new long[fractionArr.length + 1];\n            // raise all fractions to LCM denom\n            for (int i = 0; i &lt; fractionArr.length; i++) {\n                fractionArr[i].raiseToDenom(bestDenomLcm);\n                answerArray[i] = fractionArr[i].numer;\n            }\n            \n            // the total (last entry) is basically the denominator\n            answerArray[answerArray.length - 1] = bestDenomLcm;\n            \n            // look for a GCD to\n            // simplify it more if possible....\n            // [2, 4, 6, 8] -&gt; [1, 2, 3, 4] for example.\n            long bestGcd = bestDenomLcm;\n            for (int i = 0; i &lt; answerArray.length; i++) {\n                if (answerArray[i] != 0) {\n                    bestGcd = Fraction.findGCD(bestGcd, answerArray[i]);\n                }\n            }\n            \n            // required because I used long...\n            int[] intAnswerArray = new int[answerArray.length];\n            \n            // simplify here\n            for (int i = 0; i &lt; answerArray.length; i++) {\n                intAnswerArray[i] = (int) (answerArray[i] /= bestGcd);\n            }\n            return intAnswerArray;\n        }\n    }\n    \n    // method that is called by test cases.\n    public static int[] solution(int[][] m) {\n        Solver solver = new Solver(m);\n        int[] answer = solver.solve();\n        return answer;\n    }\n}\n</code></pre>\n<p><strong>The answer will be derived by calling the Solution.solution(int[][] m) method.</strong></p>\n<p>And I am failing <strong>some</strong> of the hidden test cases. I have passed the test case given in the question above.</p>\n<p>So there are a few possibilities I have considered:</p>\n<ol>\n<li>My algorithm doesn't work, and I hope someone can explain why...</li>\n<li>There is a bug in my code, something I did not account for.</li>\n<li>Runtime is too slow</li>\n<li>Integer overflow when working with fractions (unlikely because I use long and the question specifies that it should not overflow).</li>\n</ol>\n<p>Unfortunately the google foobar interface does not show the reasons, and I do not even know the test cases to try.</p>\n<p>I have tried using random number generators, and sometimes there is integer overflows, however I still think the test cases provided should not be affected by overflow?</p>\n<p>Thank you for reading this and I hope someone knows why. Hopefully it is not (3) and (4) because that will send you guys on a wild goose chase.</p>\n"},{"tags":["python","java","apache-beam","google-cloud-spanner"],"answers":[{"tags":[],"owner":{"account_id":11337751,"reputation":53,"user_id":8443384,"display_name":"allen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637262659,"creation_date":1637262659,"answer_id":70025460,"question_id":70010926,"body_markdown":"Answering part of your question for the workaround.\r\n&gt;&gt; Casting the JSON to STRING also does not work, apparently it&#39;s illegal.\r\n\r\nBased on the following link, https://cloud.google.com/spanner/docs/functions-and-operators, JSON can&#39;t be CAST to or from any other type.\r\n\r\nTo convert a STRING to a JSON, you can use PARSE_JSON: https://cloud.google.com/spanner/docs/json_functions#parse_json\r\n\r\nTo convert a JSON to a STRING, you can use TO_JSON_STRING: https://cloud.google.com/spanner/docs/json_functions#to_json_string\r\n\r\nThe following (java)dataflow templates use the same workaround for converting json to string.\r\nhttps://github.com/GoogleCloudPlatform/DataflowTemplates/blob/master/src/main/java/com/google/cloud/teleport/spanner/BuildReadFromTableOperations.java#L100\r\n","title":"Is there a version of Apache Beam that can read JSON from Google Spanner?","body":"<p>Answering part of your question for the workaround.</p>\n<blockquote>\n<blockquote>\n<p>Casting the JSON to STRING also does not work, apparently it's illegal.</p>\n</blockquote>\n</blockquote>\n<p>Based on the following link, <a href=\"https://cloud.google.com/spanner/docs/functions-and-operators\" rel=\"nofollow noreferrer\">https://cloud.google.com/spanner/docs/functions-and-operators</a>, JSON can't be CAST to or from any other type.</p>\n<p>To convert a STRING to a JSON, you can use PARSE_JSON: <a href=\"https://cloud.google.com/spanner/docs/json_functions#parse_json\" rel=\"nofollow noreferrer\">https://cloud.google.com/spanner/docs/json_functions#parse_json</a></p>\n<p>To convert a JSON to a STRING, you can use TO_JSON_STRING: <a href=\"https://cloud.google.com/spanner/docs/json_functions#to_json_string\" rel=\"nofollow noreferrer\">https://cloud.google.com/spanner/docs/json_functions#to_json_string</a></p>\n<p>The following (java)dataflow templates use the same workaround for converting json to string.\n<a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/master/src/main/java/com/google/cloud/teleport/spanner/BuildReadFromTableOperations.java#L100\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/master/src/main/java/com/google/cloud/teleport/spanner/BuildReadFromTableOperations.java#L100</a></p>\n"}],"owner":{"account_id":19099222,"reputation":327,"user_id":13947848,"display_name":"Laura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637262659,"creation_date":1637179859,"question_id":70010926,"body_markdown":"I&#39;m trying to run a read query on a Spanner table that has a JSON field, type code 11.\r\n\r\nI have attempted this in python, and it&#39;s an absolute no go. apache_beam[gcp] dependency for Spanner is version 1.19.1, which does not have a type code 11, and so has no idea what Spanner is replying with. Casting the JSON to STRING also does not work, apparently it&#39;s illegal. \r\n\r\nI&#39;m wondering if any pythonistas have a workaround(I doubt it)\r\n\r\nAnd I&#39;m hoping someone who has used Apache Beam with Java can tell me if they have that dependency updated. I can see java-spanner is version 6.16.1, but I can&#39;t tell which version of java-spanner Apache Beam is using, and that would be a tremendous amount of work to set it up to test it. I haven&#39;t played with Java for years. ","title":"Is there a version of Apache Beam that can read JSON from Google Spanner?","body":"<p>I'm trying to run a read query on a Spanner table that has a JSON field, type code 11.</p>\n<p>I have attempted this in python, and it's an absolute no go. apache_beam[gcp] dependency for Spanner is version 1.19.1, which does not have a type code 11, and so has no idea what Spanner is replying with. Casting the JSON to STRING also does not work, apparently it's illegal.</p>\n<p>I'm wondering if any pythonistas have a workaround(I doubt it)</p>\n<p>And I'm hoping someone who has used Apache Beam with Java can tell me if they have that dependency updated. I can see java-spanner is version 6.16.1, but I can't tell which version of java-spanner Apache Beam is using, and that would be a tremendous amount of work to set it up to test it. I haven't played with Java for years.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":4318345,"reputation":6373,"user_id":3527464,"accept_rate":100,"display_name":"Pyves"},"score":0,"creation_date":1505552681,"post_id":46251405,"comment_id":79467698,"body_markdown":"Install the Scala compiler and add it to your path.","body":"Install the Scala compiler and add it to your path."},{"owner":{"account_id":11776934,"reputation":31,"user_id":8618002,"display_name":"Jan"},"score":0,"creation_date":1505557254,"post_id":46251405,"comment_id":79468998,"body_markdown":"To which path i have to add it?","body":"To which path i have to add it?"},{"owner":{"account_id":4318345,"reputation":6373,"user_id":3527464,"accept_rate":100,"display_name":"Pyves"},"score":0,"creation_date":1505579966,"post_id":46251405,"comment_id":79475833,"body_markdown":"It&#39;s the Windows system path. See here for instance: https://stackoverflow.com/questions/9546324/adding-directory-to-path-environment-variable-in-windows","body":"It&#39;s the Windows system path. See here for instance: <a href=\"https://stackoverflow.com/questions/9546324/adding-directory-to-path-environment-variable-in-windows\" title=\"adding directory to path environment variable in windows\">stackoverflow.com/questions/9546324/&hellip;</a>"},{"owner":{"account_id":11776934,"reputation":31,"user_id":8618002,"display_name":"Jan"},"score":0,"creation_date":1505641093,"post_id":46251405,"comment_id":79488288,"body_markdown":"Are you sure that  the error is caused by &quot;scalac not found&quot;?","body":"Are you sure that  the error is caused by &quot;scalac not found&quot;?"},{"owner":{"account_id":5287421,"reputation":283,"user_id":4220922,"display_name":"Una"},"score":0,"creation_date":1507350408,"post_id":46251405,"comment_id":80184918,"body_markdown":"The Scala compiler being missing wouldn&#39;t cause this. I&#39;d need to see the FernFlower output to know why it&#39;s failing. Though, why are you trying to use MCP directly? Forge&#39;s tools are much easier to use and are probably what you intended to use, not MCP directly. Not to mention that 1.8.8 is a pretty old version at this point. (You can get Forge at https://files.minecraftforge.net/)","body":"The Scala compiler being missing wouldn&#39;t cause this. I&#39;d need to see the FernFlower output to know why it&#39;s failing. Though, why are you trying to use MCP directly? Forge&#39;s tools are much easier to use and are probably what you intended to use, not MCP directly. Not to mention that 1.8.8 is a pretty old version at this point. (You can get Forge at <a href=\"https://files.minecraftforge.net/\" rel=\"nofollow noreferrer\">files.minecraftforge.net</a>)"},{"owner":{"account_id":11776934,"reputation":31,"user_id":8618002,"display_name":"Jan"},"score":0,"creation_date":1507457568,"post_id":46251405,"comment_id":80209477,"body_markdown":"Thanks. Yeah I know that the 1.8.8 is an old version but I like this version more than the 1.9 or higher. I cleaned up the folder where the MCP stuff were in and after trying again it worked. So the problem is fixes.","body":"Thanks. Yeah I know that the 1.8.8 is an old version but I like this version more than the 1.9 or higher. I cleaned up the folder where the MCP stuff were in and after trying again it worked. So the problem is fixes."}],"answers":[{"tags":[],"owner":{"account_id":15735604,"reputation":39,"user_id":11354661,"display_name":"Dr Scep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555433799,"creation_date":1555433799,"answer_id":55713166,"question_id":46251405,"body_markdown":"In the MCP folder, open the `conf` folder and then open `mcp.cfg` with a text editor of your choice. Then, find this line (near the bottom)\r\n\r\n`CmdFernflower = %s -jar %s -din=1 -rbr=0 -dgs=1 -asc=1 -log=WARN {indir} {outdir}`\r\n\r\nand replace it with this:\r\n\r\n`CmdFernflower = %s -Xmx2G -jar %s -din=1 -rbr=0 -dgs=1 -asc=1 -log=WARN {indir} {outdir}`\r\n\r\n(You may need to change other lines also adding -Xmx2G before -jar but it doesn&#39;t seem to be needed from my experience).\r\n\r\nThis will run the decompiler with additional RAM which should fix this problem.\r\n","title":"Decompiling MCP error (version 9.18) returns &#39;Decompile Failed&#39; 1","body":"<p>In the MCP folder, open the <code>conf</code> folder and then open <code>mcp.cfg</code> with a text editor of your choice. Then, find this line (near the bottom)</p>\n\n<p><code>CmdFernflower = %s -jar %s -din=1 -rbr=0 -dgs=1 -asc=1 -log=WARN {indir} {outdir}</code></p>\n\n<p>and replace it with this:</p>\n\n<p><code>CmdFernflower = %s -Xmx2G -jar %s -din=1 -rbr=0 -dgs=1 -asc=1 -log=WARN {indir} {outdir}</code></p>\n\n<p>(You may need to change other lines also adding -Xmx2G before -jar but it doesn't seem to be needed from my experience).</p>\n\n<p>This will run the decompiler with additional RAM which should fix this problem.</p>\n"}],"owner":{"account_id":11776934,"reputation":31,"user_id":8618002,"display_name":"Jan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637262550,"creation_date":1505547201,"question_id":46251405,"body_markdown":"I have a 64-bit System and use the 64-bit Java version.\r\n\r\nI&#39;d like to do a minecraft mod with the mcp. But always when I&#39;m decompiling it, I get an error \r\n\r\nDoes anyone know how to fix this error? :D\r\n\r\n\r\n    == MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\r\n    &quot;scalac&quot; is not found on the PATH.  Scala files will not be recompiled\r\n    # found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle co\r\n    nfig, rg, ss\r\n    == Decompiling client using fernflower ==\r\n    &gt; Creating SRGs\r\n    &gt; Applying SpecialSource\r\n    &gt; Applying MCInjector\r\n    &gt; Creating renamed srg\r\n    &gt; Filtering classes\r\n    &gt; Decompiling\r\n    &#39;&quot;C:\\Program Files\\Java\\jdk1.8.0_144\\bin\\java&quot; -Xmx2G runtime\\bin\\fernflower.jar\r\n     -din=1 -rbr=1 -dgs=1 -asc=1 -rsy=1 -iec=1 -jvn=1 -log=WARN &quot;-e=jars\\libraries\\n\r\n    et/java/jinput\\jinput\\2.0.5\\jinput-2.0.5.jar&quot; &quot;-e=jars\\libraries\\org/lwjgl/lwjgl\r\n    \\lwjgl-platform\\2.9.4-nightly-20150209\\lwjgl-platform-2.9.4-nightly-20150209-nat\r\n    ives-windows.jar&quot; &quot;-e=jars\\libraries\\com/ibm/icu\\icu4j-core-mojang\\51.2\\icu4j-co\r\n    re-mojang-51.2.jar&quot; &quot;-e=jars\\libraries\\tv/twitch\\twitch-external-platform\\4.5\\tw\r\n    itch-external-platform-4.5-natives-windows-64.jar&quot; &quot;-e=jars\\libraries\\org/apache\r\n    /httpcomponents\\httpcore\\4.3.2\\httpcore-4.3.2.jar&quot; &quot;-e=jars\\libraries\\org/apache\r\n    /logging/log4j\\log4j-api\\2.0-beta9\\log4j-api-2.0-beta9.jar&quot; &quot;-e=jars\\libraries\\o\r\n    rg/apache/commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar&quot; &quot;-e=jars\\librarie\r\n    s\\net/java/dev/jna\\jna\\3.4.0\\jna-3.4.0.jar&quot; &quot;-e=jars\\libraries\\com/paulscode\\lib\r\n    raryjavasound\\20101123\\libraryjavasound-20101123.jar&quot; &quot;-e=jars\\libraries\\net/sf/\r\n    jopt-simple\\jopt-simple\\4.6\\jopt-simple-4.6.jar&quot; &quot;-e=jars\\libraries\\com/google/g\r\n    uava\\guava\\17.0\\guava-17.0.jar&quot; &quot;-e=jars\\libraries\\oshi-project\\oshi-core\\1.1\\os\r\n    hi-core-1.1.jar&quot; &quot;-e=jars\\libraries\\org/apache/httpcomponents\\httpclient\\4.3.3\\h\r\n    ttpclient-4.3.3.jar&quot; &quot;-e=jars\\libraries\\org/apache/commons\\commons-compress\\1.8.\r\n    1\\commons-compress-1.8.1.jar&quot; &quot;-e=jars\\libraries\\net/java/dev/jna\\platform\\3.4.0\r\n    \\platform-3.4.0.jar&quot; &quot;-e=jars\\libraries\\com/paulscode\\codecjorbis\\20101023\\codec\r\n    jorbis-20101023.jar&quot; &quot;-e=jars\\libraries\\com/paulscode\\soundsystem\\20120107\\sound\r\n    system-20120107.jar&quot; &quot;-e=jars\\libraries\\com/paulscode\\librarylwjglopenal\\2010082\r\n    4\\librarylwjglopenal-20100824.jar&quot; &quot;-e=jars\\libraries\\org/lwjgl/lwjgl\\lwjgl_util\r\n    \\2.9.4-nightly-20150209\\lwjgl_util-2.9.4-nightly-20150209.jar&quot; &quot;-e=jars\\librarie\r\n    s\\commons-codec\\commons-codec\\1.9\\commons-codec-1.9.jar&quot; &quot;-e=jars\\libraries\\net/\r\n    java/jutils\\jutils\\1.0.0\\jutils-1.0.0.jar&quot; &quot;-e=jars\\libraries\\commons-logging\\co\r\n    mmons-logging\\1.1.3\\commons-logging-1.1.3.jar&quot; &quot;-e=jars\\libraries\\org/lwjgl/lwjg\r\n    l\\lwjgl\\2.9.4-nightly-20150209\\lwjgl-2.9.4-nightly-20150209.jar&quot; &quot;-e=jars\\librar\r\n    ies\\commons-io\\commons-io\\2.4\\commons-io-2.4.jar&quot; &quot;-e=jars\\libraries\\com/mojang\\\r\n    realms\\1.7.39\\realms-1.7.39.jar&quot; &quot;-e=jars\\libraries\\com/mojang\\authlib\\1.5.21\\au\r\n    thlib-1.5.21.jar&quot; &quot;-e=jars\\libraries\\com/google/code/gson\\gson\\2.2.4\\gson-2.2.4.\r\n    jar&quot; &quot;-e=jars\\libraries\\com/mojang\\netty\\1.6\\netty-1.6.jar&quot; &quot;-e=jars\\libraries\\t\r\n    v/twitch\\twitch\\6.5\\twitch-6.5.jar&quot; &quot;-e=jars\\libraries\\com/paulscode\\codecwav\\20\r\n    101023\\codecwav-20101023.jar&quot; &quot;-e=jars\\libraries\\tv/twitch\\twitch-platform\\6.5\\t\r\n    witch-platform-6.5-natives-windows-64.jar&quot; &quot;-e=jars\\libraries\\net/java/jinput\\ji\r\n    nput-platform\\2.0.5\\jinput-platform-2.0.5-natives-windows.jar&quot; &quot;-e=jars\\librarie\r\n    s\\org/apache/logging/log4j\\log4j-core\\2.0-beta9\\log4j-core-2.0-beta9.jar&quot; &quot;-e=ja\r\n    rs\\libraries\\io/netty\\netty-all\\4.0.23.Final\\netty-all-4.0.23.Final.jar&quot; temp/mi\r\n    necraft_ff_in.jar temp\\src\\minecraft&#39; failed : 1\r\n    Decompile failed\r\n    Dr&#252;cken Sie eine beliebige Taste . . .","title":"Decompiling MCP error (version 9.18) returns &#39;Decompile Failed&#39; 1","body":"<p>I have a 64-bit System and use the 64-bit Java version.</p>\n\n<p>I'd like to do a minecraft mod with the mcp. But always when I'm decompiling it, I get an error </p>\n\n<p>Does anyone know how to fix this error? :D</p>\n\n<pre><code>== MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\n\"scalac\" is not found on the PATH.  Scala files will not be recompiled\n# found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle co\nnfig, rg, ss\n== Decompiling client using fernflower ==\n&gt; Creating SRGs\n&gt; Applying SpecialSource\n&gt; Applying MCInjector\n&gt; Creating renamed srg\n&gt; Filtering classes\n&gt; Decompiling\n'\"C:\\Program Files\\Java\\jdk1.8.0_144\\bin\\java\" -Xmx2G runtime\\bin\\fernflower.jar\n -din=1 -rbr=1 -dgs=1 -asc=1 -rsy=1 -iec=1 -jvn=1 -log=WARN \"-e=jars\\libraries\\n\net/java/jinput\\jinput\\2.0.5\\jinput-2.0.5.jar\" \"-e=jars\\libraries\\org/lwjgl/lwjgl\n\\lwjgl-platform\\2.9.4-nightly-20150209\\lwjgl-platform-2.9.4-nightly-20150209-nat\nives-windows.jar\" \"-e=jars\\libraries\\com/ibm/icu\\icu4j-core-mojang\\51.2\\icu4j-co\nre-mojang-51.2.jar\" \"-e=jars\\libraries\\tv/twitch\\twitch-external-platform\\4.5\\tw\nitch-external-platform-4.5-natives-windows-64.jar\" \"-e=jars\\libraries\\org/apache\n/httpcomponents\\httpcore\\4.3.2\\httpcore-4.3.2.jar\" \"-e=jars\\libraries\\org/apache\n/logging/log4j\\log4j-api\\2.0-beta9\\log4j-api-2.0-beta9.jar\" \"-e=jars\\libraries\\o\nrg/apache/commons\\commons-lang3\\3.3.2\\commons-lang3-3.3.2.jar\" \"-e=jars\\librarie\ns\\net/java/dev/jna\\jna\\3.4.0\\jna-3.4.0.jar\" \"-e=jars\\libraries\\com/paulscode\\lib\nraryjavasound\\20101123\\libraryjavasound-20101123.jar\" \"-e=jars\\libraries\\net/sf/\njopt-simple\\jopt-simple\\4.6\\jopt-simple-4.6.jar\" \"-e=jars\\libraries\\com/google/g\nuava\\guava\\17.0\\guava-17.0.jar\" \"-e=jars\\libraries\\oshi-project\\oshi-core\\1.1\\os\nhi-core-1.1.jar\" \"-e=jars\\libraries\\org/apache/httpcomponents\\httpclient\\4.3.3\\h\nttpclient-4.3.3.jar\" \"-e=jars\\libraries\\org/apache/commons\\commons-compress\\1.8.\n1\\commons-compress-1.8.1.jar\" \"-e=jars\\libraries\\net/java/dev/jna\\platform\\3.4.0\n\\platform-3.4.0.jar\" \"-e=jars\\libraries\\com/paulscode\\codecjorbis\\20101023\\codec\njorbis-20101023.jar\" \"-e=jars\\libraries\\com/paulscode\\soundsystem\\20120107\\sound\nsystem-20120107.jar\" \"-e=jars\\libraries\\com/paulscode\\librarylwjglopenal\\2010082\n4\\librarylwjglopenal-20100824.jar\" \"-e=jars\\libraries\\org/lwjgl/lwjgl\\lwjgl_util\n\\2.9.4-nightly-20150209\\lwjgl_util-2.9.4-nightly-20150209.jar\" \"-e=jars\\librarie\ns\\commons-codec\\commons-codec\\1.9\\commons-codec-1.9.jar\" \"-e=jars\\libraries\\net/\njava/jutils\\jutils\\1.0.0\\jutils-1.0.0.jar\" \"-e=jars\\libraries\\commons-logging\\co\nmmons-logging\\1.1.3\\commons-logging-1.1.3.jar\" \"-e=jars\\libraries\\org/lwjgl/lwjg\nl\\lwjgl\\2.9.4-nightly-20150209\\lwjgl-2.9.4-nightly-20150209.jar\" \"-e=jars\\librar\nies\\commons-io\\commons-io\\2.4\\commons-io-2.4.jar\" \"-e=jars\\libraries\\com/mojang\\\nrealms\\1.7.39\\realms-1.7.39.jar\" \"-e=jars\\libraries\\com/mojang\\authlib\\1.5.21\\au\nthlib-1.5.21.jar\" \"-e=jars\\libraries\\com/google/code/gson\\gson\\2.2.4\\gson-2.2.4.\njar\" \"-e=jars\\libraries\\com/mojang\\netty\\1.6\\netty-1.6.jar\" \"-e=jars\\libraries\\t\nv/twitch\\twitch\\6.5\\twitch-6.5.jar\" \"-e=jars\\libraries\\com/paulscode\\codecwav\\20\n101023\\codecwav-20101023.jar\" \"-e=jars\\libraries\\tv/twitch\\twitch-platform\\6.5\\t\nwitch-platform-6.5-natives-windows-64.jar\" \"-e=jars\\libraries\\net/java/jinput\\ji\nnput-platform\\2.0.5\\jinput-platform-2.0.5-natives-windows.jar\" \"-e=jars\\librarie\ns\\org/apache/logging/log4j\\log4j-core\\2.0-beta9\\log4j-core-2.0-beta9.jar\" \"-e=ja\nrs\\libraries\\io/netty\\netty-all\\4.0.23.Final\\netty-all-4.0.23.Final.jar\" temp/mi\nnecraft_ff_in.jar temp\\src\\minecraft' failed : 1\nDecompile failed\nDrücken Sie eine beliebige Taste . . .\n</code></pre>\n"},{"tags":["java","apache-spark","bigdata","parquet"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1637233302,"post_id":70018593,"comment_id":123773731,"body_markdown":"Welcome to SO! Make sure you read the guidelines for a good post and edit your post. You will want to have a shorter title, a clearer description including code formatting, and a clear explanation of what you did, including code. If you don’t, other user may (and will!) downvote your question…","body":"Welcome to SO! Make sure you read the guidelines for a good post and edit your post. You will want to have a shorter title, a clearer description including code formatting, and a clear explanation of what you did, including code. If you don’t, other user may (and will!) downvote your question…"}],"answers":[{"tags":[],"owner":{"account_id":4089262,"reputation":3041,"user_id":3357735,"display_name":"Neethu Lalitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637262363,"creation_date":1637233643,"answer_id":70018764,"question_id":70018593,"body_markdown":"   Why don&#39;t you try a read in the input dir to check if it exists?  \r\n\r\n\r\n\r\n\r\n\r\n           final boolean exists;\r\n                try {\r\n                    exists = file.getFileSystem(spark.sparkContext().hadoopConfiguration()).getFileStatus(file).isFile();\r\n    \r\n    //exists = dir.getFileSystem(spark.sparkContext().hadoopConfiguration()).listStatus(dir).length // (0 length is an empty dir)\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n        \r\n                if (exists) {\r\n                    return spark.read().parquet(configuration.getInputDataLocation());\r\n                } else {\r\n                    LOG.warn(&quot;File directory &#39;{}&#39; does not exist&quot;, file);\r\n                    return spark.emptyDataset(SOME_ENCODER);\r\n                }\r\n            }","title":"User class threw exception: org.apache.spark.sql.AnalysisException: Unable to infer schema for Parquet. It must be specified manually","body":"<p>Why don't you try a read in the input dir to check if it exists?</p>\n<pre><code>       final boolean exists;\n            try {\n                exists = file.getFileSystem(spark.sparkContext().hadoopConfiguration()).getFileStatus(file).isFile();\n\n//exists = dir.getFileSystem(spark.sparkContext().hadoopConfiguration()).listStatus(dir).length // (0 length is an empty dir)\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n    \n            if (exists) {\n                return spark.read().parquet(configuration.getInputDataLocation());\n            } else {\n                LOG.warn(&quot;File directory '{}' does not exist&quot;, file);\n                return spark.emptyDataset(SOME_ENCODER);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":22822881,"reputation":3,"user_id":16972529,"display_name":"HARDIK SINGH NEGI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70018764,"answer_count":1,"score":0,"last_activity_date":1637262363,"creation_date":1637232968,"question_id":70018593,"body_markdown":"I&#39;m implementing a spark java code as,\r\nDataset&lt;Row&gt; input = spark.read().parquet(configuration.getInputDataLocation());\r\n\r\nBut the the inputDataLocation(A folder in Azure Storage Account container) may not have any data and in such use cases exception is being thrown,\r\nUser class threw exception: org.apache.spark.sql.AnalysisException: Unable to infer schema for Parquet. It must be specified manually.\r\n\r\nIs there a brief way to check if the file folder is empty beforehand and then only I process the spark java code line written above.","title":"User class threw exception: org.apache.spark.sql.AnalysisException: Unable to infer schema for Parquet. It must be specified manually","body":"<p>I'm implementing a spark java code as,\nDataset input = spark.read().parquet(configuration.getInputDataLocation());</p>\n<p>But the the inputDataLocation(A folder in Azure Storage Account container) may not have any data and in such use cases exception is being thrown,\nUser class threw exception: org.apache.spark.sql.AnalysisException: Unable to infer schema for Parquet. It must be specified manually.</p>\n<p>Is there a brief way to check if the file folder is empty beforehand and then only I process the spark java code line written above.</p>\n"},{"tags":["java","synchronization","concurrentmodification","concurrentmodificationexception"],"comments":[{"owner":{"account_id":119946,"reputation":4761,"user_id":312041,"display_name":"tym32167"},"score":0,"creation_date":1637260776,"post_id":70025018,"comment_id":123785414,"body_markdown":"can you pls explain this? `but clearly they do not`  - as you are getting exception because you are using ArrayList and there is nothing related to synchronized collections","body":"can you pls explain this? <code>but clearly they do not</code>  - as you are getting exception because you are using ArrayList and there is nothing related to synchronized collections"}],"answers":[{"tags":[],"owner":{"account_id":11715715,"reputation":9,"user_id":8576301,"display_name":"Neddo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637261150,"creation_date":1637261150,"answer_id":70025157,"question_id":70025018,"body_markdown":"Couple of things:\r\n1) If you need sychronized access to an ArrayList you should use Vector instead. It does the same thing but its methods are syncrhonized. \r\n2) in your case, the 2nd snippet works because you are syncing over the same object LIST in both threads","title":"Java Synchronized Collections - what is the value?","body":"<p>Couple of things:</p>\n<ol>\n<li>If you need sychronized access to an ArrayList you should use Vector instead. It does the same thing but its methods are syncrhonized.</li>\n<li>in your case, the 2nd snippet works because you are syncing over the same object LIST in both threads</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637261956,"creation_date":1637261179,"answer_id":70025160,"question_id":70025018,"body_markdown":"In the first code snippet, you have not followed the instructions in the [documentation][1] of `synchronizedList`:\r\n\r\n&gt; In order to guarantee serial access, it is critical that **all** access to the backing list is accomplished through the returned list.\r\n\r\nIn the other thread, you are adding to the list via the original `LIST`, not the &quot;returned list&quot;. `LIST` is just a normal `ArrayList` and calling `add` on it won&#39;t acquire any locks or anything like that, so `add` could still be successfully called while the iteration is in progress.\r\n\r\nIf you did:\r\n\r\n    final static List&lt;Integer&gt; LIST = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    public static void main(String[] args) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    LIST.add(1);\r\n                }\r\n            }}).start();\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    synchronized(LIST) {\r\n                        for (Integer thisInt : LIST) {\r\n                        }\r\n                    }\r\n                }\r\n            }}).start();\r\n    }\r\n\r\nThen it wouldn&#39;t throw a CME. When you call `add` on a synchronised list, it tries to acquire the intrinsic lock on `LIST`. If iteration is in progress, the lock would have been already held by the other thread (since you did `synchronized (LIST) { ... }` there), so it will wait until the iteration is over. Compare this with the second code snippet, and notice how this saves you from writing an extra `synchronized (LIST) {}` block around the `add` call.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-","title":"Java Synchronized Collections - what is the value?","body":"<p>In the first code snippet, you have not followed the instructions in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-\" rel=\"nofollow noreferrer\">documentation</a> of <code>synchronizedList</code>:</p>\n<blockquote>\n<p>In order to guarantee serial access, it is critical that <strong>all</strong> access to the backing list is accomplished through the returned list.</p>\n</blockquote>\n<p>In the other thread, you are adding to the list via the original <code>LIST</code>, not the &quot;returned list&quot;. <code>LIST</code> is just a normal <code>ArrayList</code> and calling <code>add</code> on it won't acquire any locks or anything like that, so <code>add</code> could still be successfully called while the iteration is in progress.</p>\n<p>If you did:</p>\n<pre><code>final static List&lt;Integer&gt; LIST = Collections.synchronizedList(new ArrayList&lt;&gt;());\npublic static void main(String[] args) {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            while (true) {\n                LIST.add(1);\n            }\n        }}).start();\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            while (true) {\n                synchronized(LIST) {\n                    for (Integer thisInt : LIST) {\n                    }\n                }\n            }\n        }}).start();\n}\n</code></pre>\n<p>Then it wouldn't throw a CME. When you call <code>add</code> on a synchronised list, it tries to acquire the intrinsic lock on <code>LIST</code>. If iteration is in progress, the lock would have been already held by the other thread (since you did <code>synchronized (LIST) { ... }</code> there), so it will wait until the iteration is over. Compare this with the second code snippet, and notice how this saves you from writing an extra <code>synchronized (LIST) {}</code> block around the <code>add</code> call.</p>\n"}],"owner":{"account_id":25222,"reputation":1042,"user_id":64696,"accept_rate":95,"display_name":"Dave Carpeneto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70025160,"answer_count":2,"score":1,"last_activity_date":1637261956,"creation_date":1637260462,"question_id":70025018,"body_markdown":"The following code triggers a ConcurrentModificationException very, very quickly: \r\n\r\n    import java.util.*;\r\n    public class SynchFail {\r\n    \tstatic List&lt;Integer&gt; LIST = new ArrayList&lt;Integer&gt;();\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tLIST.add(1);\r\n    \t\t\t\t}\r\n    \t\t\t}}).start();\r\n    \t\tnew Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tList&lt;Integer&gt; syncList = Collections.synchronizedList(LIST);\r\n    \t\t\t\t\tsynchronized(syncList) {\r\n    \t\t\t\t\t\tfor (Integer thisInt : syncList) {\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}}).start();\r\n    \t}\r\n    }\r\n\r\n... whereas the following behaves as it should: \r\n\r\n    import java.util.*;\r\n    public class SynchSucceed {\r\n    \tstatic List&lt;Integer&gt; LIST = new ArrayList&lt;Integer&gt;();\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tsynchronized(LIST) {\r\n    \t\t\t\t\t\tLIST.add(1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}}).start();\r\n    \t\tnew Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tsynchronized(LIST) {\r\n    \t\t\t\t\t\tfor (Integer thisInt : LIST) {\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}}).start();\r\n    \t}\r\n    }\r\n\r\n... my understanding was that synchronized collections were to prevent `ConcurrentModificationException`s in situations like this (but clearly they do not). \r\n\r\nGiven this: where should I make use of these ?","title":"Java Synchronized Collections - what is the value?","body":"<p>The following code triggers a ConcurrentModificationException very, very quickly:</p>\n<pre><code>import java.util.*;\npublic class SynchFail {\n    static List&lt;Integer&gt; LIST = new ArrayList&lt;Integer&gt;();\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    LIST.add(1);\n                }\n            }}).start();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    List&lt;Integer&gt; syncList = Collections.synchronizedList(LIST);\n                    synchronized(syncList) {\n                        for (Integer thisInt : syncList) {\n                        }\n                    }\n                }\n            }}).start();\n    }\n}\n</code></pre>\n<p>... whereas the following behaves as it should:</p>\n<pre><code>import java.util.*;\npublic class SynchSucceed {\n    static List&lt;Integer&gt; LIST = new ArrayList&lt;Integer&gt;();\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    synchronized(LIST) {\n                        LIST.add(1);\n                    }\n                }\n            }}).start();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    synchronized(LIST) {\n                        for (Integer thisInt : LIST) {\n                        }\n                    }\n                }\n            }}).start();\n    }\n}\n</code></pre>\n<p>... my understanding was that synchronized collections were to prevent <code>ConcurrentModificationException</code>s in situations like this (but clearly they do not).</p>\n<p>Given this: where should I make use of these ?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"owner":{"account_id":13001078,"reputation":53,"user_id":9397176,"display_name":"1LeveL1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637261862,"creation_date":1637261862,"question_id":70025292,"body_markdown":"Before update: \r\n```\r\n{\r\n  id:...,\r\n  field1: v1,\r\n  field2: [v2,v3]\r\n}\r\n```\r\n\r\nv* are instances of class V \r\n\r\nAfter update:\r\n```\r\n{\r\n  id:...,\r\n  field1: new_v,\r\n  field2: [v1,v2,v3]\r\n}\r\n```\r\n\r\nTried the following:\r\n```\r\nQuery select = Query.query(Criteria.where(id).in(docIdList));\r\nUpdate update = new Update();\r\nupdate.push(&quot;field2&quot;).atPosition(0).value(&quot;$field1&quot;);\r\nV new_v = new V(&quot;NEW&quot;);\r\nupdate.set(&quot;field1&quot;,new_v);\r\nUpdateResult updateResult = mongoTemplate.updateMulti(select, update,V.class);\r\n```\r\n\r\nThe problem is that I am getting:\r\n\r\n```\r\n{\r\n  id:...,\r\n  field1: new_v,\r\n  field2: [field1,v2,v3]\r\n}\r\n```\r\n","title":"How to use other field value using java (Spring) mongodb update and push?","body":"<p>Before update:</p>\n<pre><code>{\n  id:...,\n  field1: v1,\n  field2: [v2,v3]\n}\n</code></pre>\n<p>v* are instances of class V</p>\n<p>After update:</p>\n<pre><code>{\n  id:...,\n  field1: new_v,\n  field2: [v1,v2,v3]\n}\n</code></pre>\n<p>Tried the following:</p>\n<pre><code>Query select = Query.query(Criteria.where(id).in(docIdList));\nUpdate update = new Update();\nupdate.push(&quot;field2&quot;).atPosition(0).value(&quot;$field1&quot;);\nV new_v = new V(&quot;NEW&quot;);\nupdate.set(&quot;field1&quot;,new_v);\nUpdateResult updateResult = mongoTemplate.updateMulti(select, update,V.class);\n</code></pre>\n<p>The problem is that I am getting:</p>\n<pre><code>{\n  id:...,\n  field1: new_v,\n  field2: [field1,v2,v3]\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23383029,"reputation":11,"user_id":17448879,"display_name":"MD ABDUL HADY"},"score":0,"creation_date":1637254137,"post_id":70022599,"comment_id":123782945,"body_markdown":"I want to write In a CSV file Under Movies directory of the internal storage. How can i create a .CSV file and how can i write something into it. it should work in latest android like Android 11.","body":"I want to write In a CSV file Under Movies directory of the internal storage. How can i create a .CSV file and how can i write something into it. it should work in latest android like Android 11."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637261406,"creation_date":1637261406,"answer_id":70025211,"question_id":70022599,"body_markdown":"&gt;&gt;I want to write In a CSV file Under Movies directory\r\n\r\nOn an Android 11+ device your app is only allowed/permitted to create movie files in the Movies directory.\r\n\r\nA file with a .csv extension will not go.\r\n\r\nIf you give the file an mp3 extension it will succeede.\r\n\r\nTry the public Documents directory instead for a *.csv file.","title":"I want to write In a CSV file Under Movies directory of the internal storage","body":"<blockquote>\n<blockquote>\n<p>I want to write In a CSV file Under Movies directory</p>\n</blockquote>\n</blockquote>\n<p>On an Android 11+ device your app is only allowed/permitted to create movie files in the Movies directory.</p>\n<p>A file with a .csv extension will not go.</p>\n<p>If you give the file an mp3 extension it will succeede.</p>\n<p>Try the public Documents directory instead for a *.csv file.</p>\n"}],"owner":{"account_id":23383029,"reputation":11,"user_id":17448879,"display_name":"MD ABDUL HADY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637261406,"creation_date":1637249601,"question_id":70022599,"body_markdown":"I want to write In a CSV file Under Movies directory of the internal storage. How can i create a .CSV file and how can i write something into it. it should work in latest android like Android 11. I&#39;m using below code But this code actually throwing Open Failed EPERM (operation not permitted) Exception:\r\n\r\n    file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + &quot;/NewFolder&quot;,&quot;newFile.csv&quot;);\r\n\r\n        FileOutputStream f;\r\n        try {\r\n            f = new FileOutputStream(file, true);\r\n            try {\r\n                String title = &quot;X Coord, Y Coord, Z Coord, Accelerometer\\n&quot;;\r\n                f.write(title.getBytes());\r\n                f.flush();\r\n                f.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nHow can i resolve this issue?","title":"I want to write In a CSV file Under Movies directory of the internal storage","body":"<p>I want to write In a CSV file Under Movies directory of the internal storage. How can i create a .CSV file and how can i write something into it. it should work in latest android like Android 11. I'm using below code But this code actually throwing Open Failed EPERM (operation not permitted) Exception:</p>\n<pre><code>file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES) + &quot;/NewFolder&quot;,&quot;newFile.csv&quot;);\n\n    FileOutputStream f;\n    try {\n        f = new FileOutputStream(file, true);\n        try {\n            String title = &quot;X Coord, Y Coord, Z Coord, Accelerometer\\n&quot;;\n            f.write(title.getBytes());\n            f.flush();\n            f.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>How can i resolve this issue?</p>\n"},{"tags":["java","javascript","date","datetime","extjs"],"answers":[{"tags":[],"owner":{"account_id":136699,"reputation":2056,"user_id":340380,"accept_rate":89,"display_name":"Amareswar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352991726,"creation_date":1352991726,"answer_id":13400198,"question_id":13400136,"body_markdown":"Add end date as +1 day of user selected value.","title":"How to properly store end date in database","body":"<p>Add end date as +1 day of user selected value.</p>\n"},{"tags":[],"owner":{"account_id":330733,"reputation":1223,"user_id":655006,"display_name":"Bob Siefkes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637183604,"creation_date":1637183604,"answer_id":70011615,"question_id":13400136,"body_markdown":"I&#39;ve recently changed from your first approach to your second approach.\r\n\r\nApproach 1: &quot;2010-07-04 23:59:99&quot; should be &quot;2010-07-04 23:59:59&quot; but anyway it is indeed ugly and technically there is a lost second. Another issue I did have is that I wanted to start one record with the same data/time as another record was stopped. So it was possible to find the successor of a record. And with approach 1 this cannot be done as the time will differentiate 1 second.\r\n\r\nApproach 2: The end date will be &quot;2010-07-05&quot; and the query condition will be `&lt; endDate` instead of `&lt;= endDate` for approach 1. Here the end date is meaning &#39;till&#39; or &#39;until&#39; or &#39;up to&#39; and not like in approach 1 &#39;up to and including&#39;. For this reason in new projects I do use tillDate or actually I use something like serviceStart / serviceTill. \r\n\r\nThe disadvantage is indeed to format it -1 day when showing to the user. But for me this makes sense.","title":"How to properly store end date in database","body":"<p>I've recently changed from your first approach to your second approach.</p>\n<p>Approach 1: &quot;2010-07-04 23:59:99&quot; should be &quot;2010-07-04 23:59:59&quot; but anyway it is indeed ugly and technically there is a lost second. Another issue I did have is that I wanted to start one record with the same data/time as another record was stopped. So it was possible to find the successor of a record. And with approach 1 this cannot be done as the time will differentiate 1 second.</p>\n<p>Approach 2: The end date will be &quot;2010-07-05&quot; and the query condition will be <code>&lt; endDate</code> instead of <code>&lt;= endDate</code> for approach 1. Here the end date is meaning 'till' or 'until' or 'up to' and not like in approach 1 'up to and including'. For this reason in new projects I do use tillDate or actually I use something like serviceStart / serviceTill.</p>\n<p>The disadvantage is indeed to format it -1 day when showing to the user. But for me this makes sense.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637261400,"creation_date":1637261400,"answer_id":70025210,"question_id":13400136,"body_markdown":"## Separate model and presentation\r\n\r\nDo separate the stored end time in your database completely from the presentation of the end time to the user.\r\n\r\n**Store end date and time in database:** Since you always store both date and time, you should clearly store the true date and time. If the period end at midnight between July 4 and 5, store this time, so `2010-07-05 00:00:00`.\r\n\r\n**Present to the user:** How your user would like to see that end time, I cannot say, and you should ask the users themselves. Maybe they will tell you:\r\n\r\n - As it is. `2010-07-05 00:00:00`.\r\n - As 24 hours on the last day of the period, `\r\n 2010-07-04 24:00:00`.\r\n - As the last day as date only `2010-07-04` (I consider this unlikely, especially of the start time is not at midnight).\r\n - Or something else.\r\n\r\nSo yes, it’s very likely that you will have to treat end at midnight specially *for presentation*. It is not nearly as bad as if you had needed to treat it specially *in your business logic*.","title":"How to properly store end date in database","body":"<h2>Separate model and presentation</h2>\n<p>Do separate the stored end time in your database completely from the presentation of the end time to the user.</p>\n<p><strong>Store end date and time in database:</strong> Since you always store both date and time, you should clearly store the true date and time. If the period end at midnight between July 4 and 5, store this time, so <code>2010-07-05 00:00:00</code>.</p>\n<p><strong>Present to the user:</strong> How your user would like to see that end time, I cannot say, and you should ask the users themselves. Maybe they will tell you:</p>\n<ul>\n<li>As it is. <code>2010-07-05 00:00:00</code>.</li>\n<li>As 24 hours on the last day of the period, <code> 2010-07-04 24:00:00</code>.</li>\n<li>As the last day as date only <code>2010-07-04</code> (I consider this unlikely, especially of the start time is not at midnight).</li>\n<li>Or something else.</li>\n</ul>\n<p>So yes, it’s very likely that you will have to treat end at midnight specially <em>for presentation</em>. It is not nearly as bad as if you had needed to treat it specially <em>in your business logic</em>.</p>\n"}],"owner":{"account_id":945505,"reputation":1726,"user_id":972830,"accept_rate":60,"display_name":"dim1902"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637261400,"creation_date":1352991517,"question_id":13400136,"body_markdown":"Application: Java + ExtJS\r\n\r\nThere are a lot of different entity with properties of java.util.Date type: startDate and iesendDate (endDate could be NULL). Both dates could be selected with or without time part (e.g. time part is always persisted, event if it is not selected). For example, like this:\r\n\r\n    2010-07-01 00:00:00\r\n\r\nPossible problems start when user selects endDate without time. For example, period starts on 2010-07-01 and ends on 1010-07-04. Right now in database it is stored like: \r\n\r\n    startDate=&quot;2010-07-01 00:00:00&quot;\r\n    endDate=&quot;2010-07-04 00:00:00&quot;. \r\nSo it seems that period ends on the FIRST second of 2010-07-04. But as  user assume, that endDate is implicitly included, e.g. period ends on LAST second of 2010-07-04. There are a lot of date comparisons for different periods in the system. \r\n\r\nHow in this case to store end date properly?\r\n\r\nI thought about possible solutions, but all of them seems a bit wrong:\r\n\r\n 1. To store time part for end date like this: &quot;2010-07-04 23:59:99&quot;. But then seems that end date day is not 24h - but (24h - 0.(9) millisecond), that could be potential problem. Also time part looks quite ugly.\r\n 2. To modify ExtJs component that it will add 1 day to date selected by user on persistance stage and substract 1 day again when this date will be shown to user (except cases when the user explicitly set time part). I don&#39;t like here that dates with time part and without it are treated differently.\r\n 3. To save only start date as Date object, and then save length of period in seconds, for example. This approach seems quite good - but a have to rework the whole application and possible it will be no very easy to use different comparisons on end dates. \r\n 4. Just use current one - save non-enclusive end date without time and be very careful during dates comparisons\r\n\r\nCould someone explain the most widely used practices to solve such problem?\r\n","title":"How to properly store end date in database","body":"<p>Application: Java + ExtJS</p>\n\n<p>There are a lot of different entity with properties of java.util.Date type: startDate and iesendDate (endDate could be NULL). Both dates could be selected with or without time part (e.g. time part is always persisted, event if it is not selected). For example, like this:</p>\n\n<pre><code>2010-07-01 00:00:00\n</code></pre>\n\n<p>Possible problems start when user selects endDate without time. For example, period starts on 2010-07-01 and ends on 1010-07-04. Right now in database it is stored like: </p>\n\n<pre><code>startDate=\"2010-07-01 00:00:00\"\nendDate=\"2010-07-04 00:00:00\". \n</code></pre>\n\n<p>So it seems that period ends on the FIRST second of 2010-07-04. But as  user assume, that endDate is implicitly included, e.g. period ends on LAST second of 2010-07-04. There are a lot of date comparisons for different periods in the system. </p>\n\n<p>How in this case to store end date properly?</p>\n\n<p>I thought about possible solutions, but all of them seems a bit wrong:</p>\n\n<ol>\n<li>To store time part for end date like this: \"2010-07-04 23:59:99\". But then seems that end date day is not 24h - but (24h - 0.(9) millisecond), that could be potential problem. Also time part looks quite ugly.</li>\n<li>To modify ExtJs component that it will add 1 day to date selected by user on persistance stage and substract 1 day again when this date will be shown to user (except cases when the user explicitly set time part). I don't like here that dates with time part and without it are treated differently.</li>\n<li>To save only start date as Date object, and then save length of period in seconds, for example. This approach seems quite good - but a have to rework the whole application and possible it will be no very easy to use different comparisons on end dates. </li>\n<li>Just use current one - save non-enclusive end date without time and be very careful during dates comparisons</li>\n</ol>\n\n<p>Could someone explain the most widely used practices to solve such problem?</p>\n"},{"tags":["java","procedural-programming"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1637256941,"post_id":70024280,"comment_id":123784066,"body_markdown":"I have to say choosing Java for a course on procedural programming is a weird choice. But if that&#39;s what they did, then the answer to your question is simple: they don&#39;t do what you suggest because that would be OOP and not procedural. The closes you can get to procedural programming in Java is what you show: classes without any code with only fields and static methods to manipulate them.","body":"I have to say choosing Java for a course on procedural programming is a weird choice. But if that&#39;s what they did, then the answer to your question is simple: they don&#39;t do what you suggest because that would be OOP and not procedural. The closes you can get to procedural programming in Java is what you show: classes without any code with only fields and static methods to manipulate them."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637257005,"post_id":70024280,"comment_id":123784085,"body_markdown":"&quot;I&#39;ve read that in procedural programming, records must be defined outside the main class...&quot; You don&#39;t have classes in procedural programming.","body":"&quot;I&#39;ve read that in procedural programming, records must be defined outside the main class...&quot; You don&#39;t have classes in procedural programming."},{"owner":{"account_id":18469759,"reputation":343,"user_id":13454990,"display_name":"Bakar"},"score":0,"creation_date":1637257033,"post_id":70024280,"comment_id":123784093,"body_markdown":"Thanks for the explanation but why is it OOP style if we define the record within the main class? What&#39;s the difference in having it outside?","body":"Thanks for the explanation but why is it OOP style if we define the record within the main class? What&#39;s the difference in having it outside?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637257155,"post_id":70024280,"comment_id":123784151,"body_markdown":"I don&#39;t think it is &quot;OOP style&quot; to do so: define the class where it is most appropriate. But, consider, a main class is like the driver of a car: they cause the car to move; the main class &quot;drives&quot; the other code. You don&#39;t build the car inside the driver, though.","body":"I don&#39;t think it is &quot;OOP style&quot; to do so: define the class where it is most appropriate. But, consider, a main class is like the driver of a car: they cause the car to move; the main class &quot;drives&quot; the other code. You don&#39;t build the car inside the driver, though."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1637257197,"post_id":70024280,"comment_id":123784162,"body_markdown":"&quot;*why can&#39;t we define the record within the main class where the accessor methods are*&quot;. You could. It should be declared static though, otherwise Java will implicitly capture a reference to the enclosing class. Again, that&#39;s an example of why choosing Java for procedural code is really a square peg, round hole. Its defaults are geared around the expectation that you&#39;ll be using OOP. A procedural language should really at the very least have the concept of free functions.","body":"&quot;<i>why can&#39;t we define the record within the main class where the accessor methods are</i>&quot;. You could. It should be declared static though, otherwise Java will implicitly capture a reference to the enclosing class. Again, that&#39;s an example of why choosing Java for procedural code is really a square peg, round hole. Its defaults are geared around the expectation that you&#39;ll be using OOP. A procedural language should really at the very least have the concept of free functions."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637261137,"creation_date":1637261137,"answer_id":70025155,"question_id":70024280,"body_markdown":"In &quot;traditional&quot; procedural programming code and the data it operates on are quite separate: You have data structures that don&#39;t have any code assigned to it and you have code that doesn&#39;t have the ability to store code.\r\n\r\nIn Java the two are co-mingled: all code and all data has some relation to classes (I&#39;m including interfaces, enums and records in this definition as well, the distinction is not important for this): methods are part of a class and fields belong to classes as well.\r\n\r\nSo in the normal Java style you&#39;d define the fields of a type together with methods that act on it:\r\n\r\n```\r\nclass Person {\r\n    String name;\r\n    int age;\r\n\r\n    // omitting constructors\r\n\r\n    public String getDescription() {\r\n      return name + &quot; is &quot; + age + &quot; years old.&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere you clearly combine both the data (the fields `name` and `age`) and the code (the method `getDescription`) into a single unit.\r\n\r\nIn procedural programming those two things would be separate (I&#39;m using a Java-style syntax here, but that exact code I show is not valid Java).\r\n\r\n```\r\ntype Person {\r\n  String name;\r\n  int age;\r\n}\r\n\r\nString getDescription(Person p) {\r\n  return p.name + &quot; is &quot; + p.age + &quot; years old.&quot;;\r\n}\r\n```\r\n\r\nMethods that are not in any type are not possible in Java, so to get close to this, you&#39;ll have to put it into a class (any class really):\r\n\r\n```\r\nclass Person {\r\n  String name;\r\n  int age;\r\n}\r\n\r\nclass PersonMethods {\r\n  static String getDescription(Person p) {\r\n    return p.name + &quot; is &quot; + p.age + &quot; years old.&quot;;\r\n  }\r\n}\r\n```\r\n\r\nNote also that I made the method `static` indicating that it doesn&#39;t act on an instance of `PersonMethods`. This is another indication that we&#39;re using Java to implement a programming model that it&#39;s not meant to implement.\r\n\r\nWhere exactly those methods are doesn&#39;t really matter. In theory you could even put them in `Person` itself and keep them `static` with a `Person p` parameter, but that would probably look too much like regular OOP.","title":"Why are accessor methods defined within the main class?","body":"<p>In &quot;traditional&quot; procedural programming code and the data it operates on are quite separate: You have data structures that don't have any code assigned to it and you have code that doesn't have the ability to store code.</p>\n<p>In Java the two are co-mingled: all code and all data has some relation to classes (I'm including interfaces, enums and records in this definition as well, the distinction is not important for this): methods are part of a class and fields belong to classes as well.</p>\n<p>So in the normal Java style you'd define the fields of a type together with methods that act on it:</p>\n<pre><code>class Person {\n    String name;\n    int age;\n\n    // omitting constructors\n\n    public String getDescription() {\n      return name + &quot; is &quot; + age + &quot; years old.&quot;;\n    }\n\n}\n</code></pre>\n<p>Here you clearly combine both the data (the fields <code>name</code> and <code>age</code>) and the code (the method <code>getDescription</code>) into a single unit.</p>\n<p>In procedural programming those two things would be separate (I'm using a Java-style syntax here, but that exact code I show is not valid Java).</p>\n<pre><code>type Person {\n  String name;\n  int age;\n}\n\nString getDescription(Person p) {\n  return p.name + &quot; is &quot; + p.age + &quot; years old.&quot;;\n}\n</code></pre>\n<p>Methods that are not in any type are not possible in Java, so to get close to this, you'll have to put it into a class (any class really):</p>\n<pre><code>class Person {\n  String name;\n  int age;\n}\n\nclass PersonMethods {\n  static String getDescription(Person p) {\n    return p.name + &quot; is &quot; + p.age + &quot; years old.&quot;;\n  }\n}\n</code></pre>\n<p>Note also that I made the method <code>static</code> indicating that it doesn't act on an instance of <code>PersonMethods</code>. This is another indication that we're using Java to implement a programming model that it's not meant to implement.</p>\n<p>Where exactly those methods are doesn't really matter. In theory you could even put them in <code>Person</code> itself and keep them <code>static</code> with a <code>Person p</code> parameter, but that would probably look too much like regular OOP.</p>\n"}],"owner":{"account_id":18469759,"reputation":343,"user_id":13454990,"display_name":"Bakar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637261137,"creation_date":1637256802,"question_id":70024280,"body_markdown":"I am currently studying Java for my procedural programming module. I&#39;ve read that in procedural programming, records must be defined outside the main class but that the accessor methods for these records must be defined within the main class. \r\n\r\nAn example is shown below:\r\n\r\n    class person // Record definition\r\n    {\r\n        String name;\r\n        int age;\r\n    }\r\n    \r\n    class personalDetails // Main class\r\n    {\r\n        public static void main (String [] a)\r\n        { \r\n            mainMethod(); \r\n            System.exit(0);\r\n        } \r\n    \r\n        \r\n        public static void mainMethod()\r\n        {\r\n            // Main method\r\n        } \r\n        \r\n        // Getter method to get name\r\n        public static String getName(person p)\r\n        {\r\n            return p.name;\r\n        }\r\n    \r\n        // Getter method to get age\r\n        public static int getAge(person p)\r\n        {\r\n            return p.age;\r\n        }\r\n    \r\n        // Setter method to set name\r\n        public static void setName(person p, String name)\r\n        {\r\n            p.name = name;\r\n        }\r\n    \r\n        // Setter method to set age\r\n        public static void setAge(person p, int age)\r\n        {\r\n            p.age = age;\r\n        }\r\n    }\r\n\r\nWhy is this necessary?\r\n\r\nI know that we cannot define the accessor methods within the definition of the record as this is an OOP approach but I don&#39;t fully understand why can&#39;t we define the record within the main class where the accessor methods are.\r\n","title":"Why are accessor methods defined within the main class?","body":"<p>I am currently studying Java for my procedural programming module. I've read that in procedural programming, records must be defined outside the main class but that the accessor methods for these records must be defined within the main class.</p>\n<p>An example is shown below:</p>\n<pre><code>class person // Record definition\n{\n    String name;\n    int age;\n}\n\nclass personalDetails // Main class\n{\n    public static void main (String [] a)\n    { \n        mainMethod(); \n        System.exit(0);\n    } \n\n    \n    public static void mainMethod()\n    {\n        // Main method\n    } \n    \n    // Getter method to get name\n    public static String getName(person p)\n    {\n        return p.name;\n    }\n\n    // Getter method to get age\n    public static int getAge(person p)\n    {\n        return p.age;\n    }\n\n    // Setter method to set name\n    public static void setName(person p, String name)\n    {\n        p.name = name;\n    }\n\n    // Setter method to set age\n    public static void setAge(person p, int age)\n    {\n        p.age = age;\n    }\n}\n</code></pre>\n<p>Why is this necessary?</p>\n<p>I know that we cannot define the accessor methods within the definition of the record as this is an OOP approach but I don't fully understand why can't we define the record within the main class where the accessor methods are.</p>\n"},{"tags":["java","xml-parsing","xmldom"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637260778,"creation_date":1637260778,"answer_id":70025084,"question_id":70023990,"body_markdown":"You should use XPath to extract the right node like so:\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathExpressionException;\r\n    import javax.xml.xpath.XPathFactory;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n\r\n    public class FindViaXpath {\r\n\r\n      private static final String XML =\r\n        &quot; &lt;server&gt;\\n&quot; +\r\n          &quot;    &lt;name&gt;HTTP server&lt;/name&gt;\\n&quot; +\r\n          &quot;    &lt;ssl&gt;\\n&quot; +\r\n          &quot;      &lt;name&gt;HTTPS server&lt;/name&gt;\\n&quot; +\r\n          &quot;      &lt;listen-port&gt;8051&lt;/listen-port&gt;\\n&quot; +\r\n          &quot;    &lt;/ssl&gt;\\n&quot; +\r\n          &quot;    &lt;listen-port&gt;8050&lt;/listen-port&gt;\\n&quot; +\r\n          &quot;  &lt;/server&gt;&quot;;\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(XML);\r\n\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = null;\r\n        try {\r\n          builder = factory.newDocumentBuilder();\r\n          StringReader reader = new StringReader(XML);\r\n          InputSource source = new InputSource(reader);\r\n          Document document = builder.parse(source);\r\n          XPath xpath = XPathFactory.newInstance().newXPath();\r\n          String port = (String) xpath.evaluate(&quot;//server/listen-port&quot;, document, XPathConstants.STRING);\r\n          System.out.println(String.format(&quot;Port: %s&quot;, port));\r\n        } catch (ParserConfigurationException | SAXException | IOException | XPathExpressionException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n","title":"Java parse XML parent and child elements with the same name","body":"<p>You should use XPath to extract the right node like so:</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.io.IOException;\nimport java.io.StringReader;\n\npublic class FindViaXpath {\n\n  private static final String XML =\n    &quot; &lt;server&gt;\\n&quot; +\n      &quot;    &lt;name&gt;HTTP server&lt;/name&gt;\\n&quot; +\n      &quot;    &lt;ssl&gt;\\n&quot; +\n      &quot;      &lt;name&gt;HTTPS server&lt;/name&gt;\\n&quot; +\n      &quot;      &lt;listen-port&gt;8051&lt;/listen-port&gt;\\n&quot; +\n      &quot;    &lt;/ssl&gt;\\n&quot; +\n      &quot;    &lt;listen-port&gt;8050&lt;/listen-port&gt;\\n&quot; +\n      &quot;  &lt;/server&gt;&quot;;\n\n  public static void main(String[] args) {\n    System.out.println(XML);\n\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = null;\n    try {\n      builder = factory.newDocumentBuilder();\n      StringReader reader = new StringReader(XML);\n      InputSource source = new InputSource(reader);\n      Document document = builder.parse(source);\n      XPath xpath = XPathFactory.newInstance().newXPath();\n      String port = (String) xpath.evaluate(&quot;//server/listen-port&quot;, document, XPathConstants.STRING);\n      System.out.println(String.format(&quot;Port: %s&quot;, port));\n    } catch (ParserConfigurationException | SAXException | IOException | XPathExpressionException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10518149,"reputation":119,"user_id":7751591,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70025084,"answer_count":1,"score":0,"last_activity_date":1637260778,"creation_date":1637255445,"question_id":70023990,"body_markdown":"I&#39;m trying to parse some server settings.\r\n\r\n      &lt;server&gt;\r\n        &lt;name&gt;HTTP server&lt;/name&gt;\r\n        &lt;ssl&gt;\r\n          &lt;name&gt;HTTPS server&lt;/name&gt;\r\n          &lt;listen-port&gt;8051&lt;/listen-port&gt;\r\n        &lt;/ssl&gt;\r\n        &lt;listen-port&gt;8050&lt;/listen-port&gt;\r\n      &lt;/server&gt;\r\n\r\nI&#39;m trying to parse both listen ports to variables in my Java program, but I only seem to get the SSL port when I also want to parse the other port.\r\n\r\n\r\n                File inputFile = new File(String.valueOf(Paths.get(serverPath, &quot;config&quot;, &quot;config.xml&quot;)));\r\n                DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n                Document doc = dBuilder.parse(inputFile);\r\n                doc.getDocumentElement().normalize();\r\n    \r\n                NodeList nList = doc.getElementsByTagName(&quot;server&quot;);\r\n    \r\n                for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n                    Node node = nList.item(temp);\r\n    \r\n                    if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n                        Element eElement = (Element) node;\r\n    \r\n                        try {\r\n                            HttpPort = eElement.getElementsByTagName(&quot;listen-port&quot;).item(0).getTextContent();\r\n                            System.out.println(&quot;Http: &quot; + HttpPort);\r\n                            Node sslSettings = eElement.getElementsByTagName(&quot;ssl&quot;).item(0);\r\n    \r\n                            if (nList.getLength() == 1) {\r\n                                Element sslElement = (Element) sslSettings;\r\n                                System.out.println(sslElement);\r\n                                HttpsPort = sslElement.getElementsByTagName(&quot;listen-port&quot;).item(0).getTextContent();\r\n                                System.out.println(&quot;Https: &quot; + HttpsPort);\r\n                            }\r\n\r\n\r\n\r\nWhen I try to display the HTTP port in above example (the second listen-port XML tag, but in the parent), it shows the SSL port. \r\nSystem.out.println(&quot;Https: &quot; + HttpsPort); Seems to work as it should.\r\n\r\nAnyone an idea?","title":"Java parse XML parent and child elements with the same name","body":"<p>I'm trying to parse some server settings.</p>\n<pre><code>  &lt;server&gt;\n    &lt;name&gt;HTTP server&lt;/name&gt;\n    &lt;ssl&gt;\n      &lt;name&gt;HTTPS server&lt;/name&gt;\n      &lt;listen-port&gt;8051&lt;/listen-port&gt;\n    &lt;/ssl&gt;\n    &lt;listen-port&gt;8050&lt;/listen-port&gt;\n  &lt;/server&gt;\n</code></pre>\n<p>I'm trying to parse both listen ports to variables in my Java program, but I only seem to get the SSL port when I also want to parse the other port.</p>\n<pre><code>            File inputFile = new File(String.valueOf(Paths.get(serverPath, &quot;config&quot;, &quot;config.xml&quot;)));\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n            Document doc = dBuilder.parse(inputFile);\n            doc.getDocumentElement().normalize();\n\n            NodeList nList = doc.getElementsByTagName(&quot;server&quot;);\n\n            for (int temp = 0; temp &lt; nList.getLength(); temp++) {\n                Node node = nList.item(temp);\n\n                if (node.getNodeType() == Node.ELEMENT_NODE) {\n                    Element eElement = (Element) node;\n\n                    try {\n                        HttpPort = eElement.getElementsByTagName(&quot;listen-port&quot;).item(0).getTextContent();\n                        System.out.println(&quot;Http: &quot; + HttpPort);\n                        Node sslSettings = eElement.getElementsByTagName(&quot;ssl&quot;).item(0);\n\n                        if (nList.getLength() == 1) {\n                            Element sslElement = (Element) sslSettings;\n                            System.out.println(sslElement);\n                            HttpsPort = sslElement.getElementsByTagName(&quot;listen-port&quot;).item(0).getTextContent();\n                            System.out.println(&quot;Https: &quot; + HttpsPort);\n                        }\n</code></pre>\n<p>When I try to display the HTTP port in above example (the second listen-port XML tag, but in the parent), it shows the SSL port.\nSystem.out.println(&quot;Https: &quot; + HttpsPort); Seems to work as it should.</p>\n<p>Anyone an idea?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637260236,"creation_date":1637252113,"answer_id":70023237,"question_id":70022507,"body_markdown":"When you use the `hasRole` DSL method, Spring Security adds the `ROLE_` prefix to your authority. So, the authority `arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN` will become `ROLE_arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN`.\r\n\r\nYou should use the `hasAuthority` method instead.\r\n\r\nAdditionally, you should take the `cognito:roles` from the `attributes` and add in the `authorities`, since it&#39;s the property that Spring Security will query to get the authorities.\r\n\r\nTo map the authorities you can use a `OAuth2UserService`:\r\n```java\r\n\r\n@Bean\r\nSecurityFilterChain app(HttpSecurity http) throws Exception {\r\n    http\r\n\t\t\t.oauth2Login(oauth2 -&gt; oauth2\r\n\t\t\t    .userInfoEndpoint(userInfo -&gt; userInfo\r\n\t\t\t        .oidcUserService(this.oidcUserService())\r\n\t\t\t        ...\r\n\t\t\t    )\r\n\t\t\t);\r\n    return http.build();\r\n}\r\n\r\nprivate OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\r\n    // your custom implementation\r\n}\r\n```\r\n\r\nMore details in the [documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities","title":"Spring security on endpoint using Cognito IAM role?","body":"<p>When you use the <code>hasRole</code> DSL method, Spring Security adds the <code>ROLE_</code> prefix to your authority. So, the authority <code>arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN</code> will become <code>ROLE_arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN</code>.</p>\n<p>You should use the <code>hasAuthority</code> method instead.</p>\n<p>Additionally, you should take the <code>cognito:roles</code> from the <code>attributes</code> and add in the <code>authorities</code>, since it's the property that Spring Security will query to get the authorities.</p>\n<p>To map the authorities you can use a <code>OAuth2UserService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\nSecurityFilterChain app(HttpSecurity http) throws Exception {\n    http\n            .oauth2Login(oauth2 -&gt; oauth2\n                .userInfoEndpoint(userInfo -&gt; userInfo\n                    .oidcUserService(this.oidcUserService())\n                    ...\n                )\n            );\n    return http.build();\n}\n\nprivate OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\n    // your custom implementation\n}\n</code></pre>\n<p>More details in the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70023237,"answer_count":1,"score":1,"last_activity_date":1637260236,"creation_date":1637249261,"question_id":70022507,"body_markdown":"I am trying to restrict specific endpoints on a Spring boot service depending on what role they have set in the OAuth2 credentials.\r\n\r\nThis is the endpoint \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/admin&quot;)\r\npublic class AdminController {\r\n\r\n    @GetMapping(produces = &quot;application/json&quot;)\r\n    public TestResponse get() {\r\n        return new TestResponse(&quot;Admin API Response&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is then secured using SecurityConfiguration bean\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf()\r\n            .and()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/login&quot;, &quot;/&quot;, &quot;/home&quot;, &quot;/logout&quot;, &quot;/ping&quot;).permitAll()\r\n            .antMatchers(&quot;/api/admin&quot;).hasRole(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN&quot;)\r\n            .antMatchers(&quot;/api/user&quot;).hasRole(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-USER&quot;)\r\n            .and()\r\n            .oauth2Login()\r\n            .and()\r\n            .logout()\r\n            .logoutSuccessUrl(&quot;/logout&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI debugged the Principal and can see the correct IAM role in the list of attributes `cognito:roles` list \r\n\r\n[![aws cognito spring security principal][1]][1]\r\n\r\nHowever when I hit the endpoint I get a HTTP 403 Unauthorized. Meaning that the user has authenticated successfully, but Spring does not recognize or understand the attributes or how to map them?\r\n\r\nI tried using the @Secured annotation but that didn&#39;t change anything.\r\n\r\n```\r\n@Secured(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN&quot;)\r\n@GetMapping(produces = &quot;application/json&quot;)\r\npublic TestResponse get() {\r\n        return new TestResponse(&quot;Admin API Response&quot;);\r\n}\r\n```\r\n\r\nHow do I allow this to work using an IAM role defined in AWS Cognito? \r\n\r\n  [1]: https://i.stack.imgur.com/vjzhl.png","title":"Spring security on endpoint using Cognito IAM role?","body":"<p>I am trying to restrict specific endpoints on a Spring boot service depending on what role they have set in the OAuth2 credentials.</p>\n<p>This is the endpoint</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/admin&quot;)\npublic class AdminController {\n\n    @GetMapping(produces = &quot;application/json&quot;)\n    public TestResponse get() {\n        return new TestResponse(&quot;Admin API Response&quot;);\n    }\n}\n</code></pre>\n<p>This is then secured using SecurityConfiguration bean</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.csrf()\n            .and()\n            .authorizeRequests()\n            .antMatchers(&quot;/login&quot;, &quot;/&quot;, &quot;/home&quot;, &quot;/logout&quot;, &quot;/ping&quot;).permitAll()\n            .antMatchers(&quot;/api/admin&quot;).hasRole(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN&quot;)\n            .antMatchers(&quot;/api/user&quot;).hasRole(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-USER&quot;)\n            .and()\n            .oauth2Login()\n            .and()\n            .logout()\n            .logoutSuccessUrl(&quot;/logout&quot;);\n    }\n}\n</code></pre>\n<p>I debugged the Principal and can see the correct IAM role in the list of attributes <code>cognito:roles</code> list</p>\n<p><a href=\"https://i.stack.imgur.com/vjzhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjzhl.png\" alt=\"aws cognito spring security principal\" /></a></p>\n<p>However when I hit the endpoint I get a HTTP 403 Unauthorized. Meaning that the user has authenticated successfully, but Spring does not recognize or understand the attributes or how to map them?</p>\n<p>I tried using the @Secured annotation but that didn't change anything.</p>\n<pre><code>@Secured(&quot;arn:aws:iam::xxxxxx:role/spring-sso-test-ADMIN&quot;)\n@GetMapping(produces = &quot;application/json&quot;)\npublic TestResponse get() {\n        return new TestResponse(&quot;Admin API Response&quot;);\n}\n</code></pre>\n<p>How do I allow this to work using an IAM role defined in AWS Cognito?</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":1,"creation_date":1460060386,"post_id":36478579,"comment_id":60582072,"body_markdown":"does the use of `limit()` imply that you know the number of lines in advance? If so you could use an `IntStream.range()` and then use `mapToObject()` to combine successive ints with successive lines from a `BufferedReader` or stream iterator","body":"does the use of <code>limit()</code> imply that you know the number of lines in advance? If so you could use an <code>IntStream.range()</code> and then use <code>mapToObject()</code> to combine successive ints with successive lines from a <code>BufferedReader</code> or stream iterator"},{"owner":{"account_id":1352510,"reputation":6888,"user_id":1291716,"accept_rate":93,"display_name":"Sayakiss"},"score":0,"creation_date":1460076835,"post_id":36478579,"comment_id":60588171,"body_markdown":"@HankD No, I don&#39;t. Use `limit()` here is for testing my code...","body":"@HankD No, I don&#39;t. Use <code>limit()</code> here is for testing my code..."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460038392,"creation_date":1460038392,"answer_id":36478849,"question_id":36478579,"body_markdown":"You might use an [`AtomicInteger`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html)&lt;sup&gt;1&lt;/sup&gt; like\r\n\r\n    AtomicInteger ai = new AtomicInteger();\r\n    // ...\r\n    lines.limit(10).forEachOrdered(line -&gt; {\r\n        System.out.printf(&quot;Line %d: %s%n&quot;, ai.incrementAndGet(), line.trim());\r\n    });\r\n\r\n&lt;sup&gt;1&lt;sub&gt;And I would prefer formatted IO with `printf` to using `String` concatenation.&lt;/sub&gt;&lt;/sup&gt;","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>You might use an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow\"><code>AtomicInteger</code></a><sup>1</sup> like</p>\n\n<pre><code>AtomicInteger ai = new AtomicInteger();\n// ...\nlines.limit(10).forEachOrdered(line -&gt; {\n    System.out.printf(\"Line %d: %s%n\", ai.incrementAndGet(), line.trim());\n});\n</code></pre>\n\n<p><sup>1<sub>And I would prefer formatted IO with <code>printf</code> to using <code>String</code> concatenation.</sub></sup></p>\n"},{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460038999,"creation_date":1460038999,"answer_id":36479117,"question_id":36478579,"body_markdown":"I would implement a `Function` to number the lines :\r\n\r\n\r\n    public static class LineNumberer implements Function&lt;String,String&gt; {\r\n\t\tprivate int lineCount;\r\n\t\tpublic lineNumberer() { lineCount = 0; }\r\n\t\tpublic String apply(String in) {\r\n\t\t\treturn String.format(&quot;%d %s&quot;, lineCount++, in);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tFiles.lines(Paths.get(&quot;/tmp/timeline.txt&quot;)).map(new LineNumberer()).forEach(System.out::println);\r\n\t}\r\n\t","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>I would implement a <code>Function</code> to number the lines :</p>\n\n<pre><code>public static class LineNumberer implements Function&lt;String,String&gt; {\n    private int lineCount;\n    public lineNumberer() { lineCount = 0; }\n    public String apply(String in) {\n        return String.format(\"%d %s\", lineCount++, in);\n    }\n}\n\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    Files.lines(Paths.get(\"/tmp/timeline.txt\")).map(new LineNumberer()).forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1460047329,"creation_date":1460046591,"answer_id":36482091,"question_id":36478579,"body_markdown":"There is no elegant functional solution to a non-functional task. The first you may consider, is just resorting to an ordinary anonymous inner class:\r\n\r\n    String path = &quot;/tmp/timeline.txt&quot;;\r\n    try(Stream&lt;String&gt; lines = Files.lines(Paths.get(path), Charset.defaultCharset())) {\r\n        lines.limit(10).forEachOrdered(new Consumer&lt;String&gt;() {\r\n            int counter = 0;\r\n            public void accept(String line) {\r\n                System.out.println(&quot;Line &quot; + counter++ + &quot;: &quot; + line.trim());\r\n            }\r\n        });\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\nThe advantage is that it doesn’t pretend to be functional where it isn’t and the scope of the `counter` variable has the smallest scope needed for this task.\r\n\r\n---\r\nIf you are going to do more than just-printing these numbered lines and need a solution compatible with all stream operations, re-implementing the stream source is a straight-forward solution:\r\n\r\n    static Stream&lt;String&gt; numberedLines(Path path, Charset cs) throws IOException {\r\n        BufferedReader br = Files.newBufferedReader(path, cs);\r\n        return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;String&gt;(\r\n                Long.MAX_VALUE, Spliterator.ORDERED|Spliterator.NONNULL) {\r\n            int counter;\r\n            public boolean tryAdvance(Consumer&lt;? super String&gt; action) {\r\n                String line;\r\n                try {\r\n                    line = br.readLine();\r\n                    if(line==null) return false;\r\n                    action.accept(&quot;Line &quot; + counter++ + &quot;: &quot; + line.trim());\r\n                    return true;\r\n                } catch (IOException ex) {\r\n                    throw new UncheckedIOException(ex);\r\n                }\r\n            }\r\n        }, true).onClose(()-&gt;{ try { br.close(); }\r\n            catch (IOException ex) { throw new UncheckedIOException(ex); }\r\n        });\r\n    }\r\n\r\nOf course, this isn’t as simple as a single lambda expression but using this reusable method, you can use all stream operations without problems, e.g.\r\n\r\n    String path = &quot;/tmp/timeline.txt&quot;;\r\n    try(Stream&lt;String&gt; lines = numberedLines(Paths.get(path), Charset.defaultCharset())) {\r\n        lines.skip(10).limit(10).forEachOrdered(System.out::println);\r\n    } catch(IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>There is no elegant functional solution to a non-functional task. The first you may consider, is just resorting to an ordinary anonymous inner class:</p>\n\n<pre><code>String path = \"/tmp/timeline.txt\";\ntry(Stream&lt;String&gt; lines = Files.lines(Paths.get(path), Charset.defaultCharset())) {\n    lines.limit(10).forEachOrdered(new Consumer&lt;String&gt;() {\n        int counter = 0;\n        public void accept(String line) {\n            System.out.println(\"Line \" + counter++ + \": \" + line.trim());\n        }\n    });\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The advantage is that it doesn’t pretend to be functional where it isn’t and the scope of the <code>counter</code> variable has the smallest scope needed for this task.</p>\n\n<hr>\n\n<p>If you are going to do more than just-printing these numbered lines and need a solution compatible with all stream operations, re-implementing the stream source is a straight-forward solution:</p>\n\n<pre><code>static Stream&lt;String&gt; numberedLines(Path path, Charset cs) throws IOException {\n    BufferedReader br = Files.newBufferedReader(path, cs);\n    return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;String&gt;(\n            Long.MAX_VALUE, Spliterator.ORDERED|Spliterator.NONNULL) {\n        int counter;\n        public boolean tryAdvance(Consumer&lt;? super String&gt; action) {\n            String line;\n            try {\n                line = br.readLine();\n                if(line==null) return false;\n                action.accept(\"Line \" + counter++ + \": \" + line.trim());\n                return true;\n            } catch (IOException ex) {\n                throw new UncheckedIOException(ex);\n            }\n        }\n    }, true).onClose(()-&gt;{ try { br.close(); }\n        catch (IOException ex) { throw new UncheckedIOException(ex); }\n    });\n}\n</code></pre>\n\n<p>Of course, this isn’t as simple as a single lambda expression but using this reusable method, you can use all stream operations without problems, e.g.</p>\n\n<pre><code>String path = \"/tmp/timeline.txt\";\ntry(Stream&lt;String&gt; lines = numberedLines(Paths.get(path), Charset.defaultCharset())) {\n    lines.skip(10).limit(10).forEachOrdered(System.out::println);\n} catch(IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460173447,"creation_date":1460055245,"answer_id":36484831,"question_id":36478579,"body_markdown":"If you have a class that holds a pair of values:\r\n\r\n    public final class Tuple2&lt;A, B&gt; {\r\n    \r\n        private final A $1;\r\n    \r\n        private final B $2;\r\n    \r\n        public Tuple2(A $1, B $2) {\r\n            this.$1 = $1;\r\n            this.$2 = $2;\r\n        }\r\n    \r\n        public A $1() {\r\n            return $1;\r\n        }\r\n    \r\n        public B $2() {\r\n            return $2;\r\n        }\r\n\r\n        // TODO hashCode equals toString\r\n    }\r\n\r\nAnd these methods:\r\n\r\n    public static &lt;T&gt; Stream&lt;T&gt; streamOf(Iterator&lt;T&gt; iterator) {\r\n        return StreamSupport.stream(\r\n                Spliterators.spliteratorUnknownSize(\r\n                        iterator,\r\n                        Spliterator.ORDERED),\r\n                false);\r\n    }\r\n\r\n    public static &lt;T&gt; Stream&lt;Tuple2&lt;T, Long&gt;&gt; withIndex(\r\n        Stream&lt;T&gt; stream, int startIndex) {\r\n\r\n        Iterator&lt;T&gt; it = stream.iterator();\r\n        return streamOf(new Iterator&lt;Tuple2&lt;T, Long&gt;&gt;() {\r\n\r\n            private long index = startIndex;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return it.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public Tuple2&lt;T, Long&gt; next() {\r\n                return new Tuple2&lt;&gt;(it.next(), index++);\r\n            }\r\n        });\r\n    }\r\n\r\nwhich create a stream of pairs, with one element being the original stream&#39;s element and the other one being the index, then you could easily solve your problem as follows:\r\n\r\n    Stream&lt;String&gt; originalStream = lines.limit(10).map(String::trim);\r\n\r\n    withIndex(originalStream, 1)\r\n        .forEachOrdered(t -&gt; System.out.printf(&quot;Line %d: %s%n&quot;, t.$2(), t.$1());\r\n\r\n**NOTE: This only works with sequential streams**, which is the case.","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>If you have a class that holds a pair of values:</p>\n\n<pre><code>public final class Tuple2&lt;A, B&gt; {\n\n    private final A $1;\n\n    private final B $2;\n\n    public Tuple2(A $1, B $2) {\n        this.$1 = $1;\n        this.$2 = $2;\n    }\n\n    public A $1() {\n        return $1;\n    }\n\n    public B $2() {\n        return $2;\n    }\n\n    // TODO hashCode equals toString\n}\n</code></pre>\n\n<p>And these methods:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;T&gt; streamOf(Iterator&lt;T&gt; iterator) {\n    return StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(\n                    iterator,\n                    Spliterator.ORDERED),\n            false);\n}\n\npublic static &lt;T&gt; Stream&lt;Tuple2&lt;T, Long&gt;&gt; withIndex(\n    Stream&lt;T&gt; stream, int startIndex) {\n\n    Iterator&lt;T&gt; it = stream.iterator();\n    return streamOf(new Iterator&lt;Tuple2&lt;T, Long&gt;&gt;() {\n\n        private long index = startIndex;\n\n        @Override\n        public boolean hasNext() {\n            return it.hasNext();\n        }\n\n        @Override\n        public Tuple2&lt;T, Long&gt; next() {\n            return new Tuple2&lt;&gt;(it.next(), index++);\n        }\n    });\n}\n</code></pre>\n\n<p>which create a stream of pairs, with one element being the original stream's element and the other one being the index, then you could easily solve your problem as follows:</p>\n\n<pre><code>Stream&lt;String&gt; originalStream = lines.limit(10).map(String::trim);\n\nwithIndex(originalStream, 1)\n    .forEachOrdered(t -&gt; System.out.printf(\"Line %d: %s%n\", t.$2(), t.$1());\n</code></pre>\n\n<p><strong>NOTE: This only works with sequential streams</strong>, which is the case.</p>\n"},{"tags":[],"owner":{"account_id":13080631,"reputation":1,"user_id":9451318,"display_name":"Denis Manikhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637259959,"creation_date":1637259959,"answer_id":70024913,"question_id":36478579,"body_markdown":"Jast use zip. https://stackoverflow.com/questions/1115563/what-is-zip-functional-programming\r\n\r\n    import com.google.common.collect.Streams;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n\r\n    class Pair&lt;F, S&gt; {\r\n        public final F first;\r\n        public final S second;\r\n        public Pair(F first, S second) {\r\n          this.first = first;\r\n          this.second = second;\r\n        }\r\n        public String toString(){\r\n            return second.toString()+&quot;: &quot;+first;\r\n        }\r\n    }\r\n\r\n    public class StreamExample {\r\n        static public void show(String fileName){\r\n            Stream&lt;Integer&gt; streamInt = Stream.iterate(1, i -&gt; i + 1);\r\n            try (Stream&lt;String&gt; streamStr = Files.lines(Paths.get(fileName))) {\r\n            Streams.zip(\r\n                    streamStr,streamInt,\r\n                    (firstStr, secondStr) -&gt;new Pair(firstStr,secondStr))\r\n                    .limit(10)\r\n                    .forEach(System.out::println);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>Jast use zip. <a href=\"https://stackoverflow.com/questions/1115563/what-is-zip-functional-programming\">What is zip (functional programming?)</a></p>\n<pre><code>import com.google.common.collect.Streams;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\nclass Pair&lt;F, S&gt; {\n    public final F first;\n    public final S second;\n    public Pair(F first, S second) {\n      this.first = first;\n      this.second = second;\n    }\n    public String toString(){\n        return second.toString()+&quot;: &quot;+first;\n    }\n}\n\npublic class StreamExample {\n    static public void show(String fileName){\n        Stream&lt;Integer&gt; streamInt = Stream.iterate(1, i -&gt; i + 1);\n        try (Stream&lt;String&gt; streamStr = Files.lines(Paths.get(fileName))) {\n        Streams.zip(\n                streamStr,streamInt,\n                (firstStr, secondStr) -&gt;new Pair(firstStr,secondStr))\n                .limit(10)\n                .forEach(System.out::println);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1352510,"reputation":6888,"user_id":1291716,"accept_rate":93,"display_name":"Sayakiss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2622,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36482091,"answer_count":5,"score":5,"last_activity_date":1637259959,"creation_date":1460037795,"question_id":36478579,"body_markdown":"I get used to using lambda to parse file line by line(much neater than `bufferedReader.readLine()`) for a long time. But today I faced a problem: add a line number to each line. \r\n\r\nIt need a counter, but the variable in lambda should be effectively final.  Finally, I hacked it with an int array.\r\n\r\nCode:\r\n\r\n    public static void main(String[] args) {\r\n        int[] counter = new int[1];\r\n        counter[0] = 0;\r\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;/tmp/timeline.txt&quot;), Charset.defaultCharset())) {\r\n            lines.limit(10).forEachOrdered(line -&gt; {\r\n                line = line.trim();\r\n                counter[0] ++;\r\n                System.out.println(&quot;Line &quot; + counter[0] + &quot;: &quot; + line);\r\n            });\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\nOutput:\r\n\r\n    Line 1: p 5714026 wEkQ\r\n    Line 2: v 8235889\r\n    Line 3: v 6534726\r\n    ...\r\n\r\nMy question is, how to avoid my hack and solve that problem elegantly?","title":"Java: The elegant way to add a line number to a file with lambda","body":"<p>I get used to using lambda to parse file line by line(much neater than <code>bufferedReader.readLine()</code>) for a long time. But today I faced a problem: add a line number to each line. </p>\n\n<p>It need a counter, but the variable in lambda should be effectively final.  Finally, I hacked it with an int array.</p>\n\n<p>Code:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] counter = new int[1];\n    counter[0] = 0;\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(\"/tmp/timeline.txt\"), Charset.defaultCharset())) {\n        lines.limit(10).forEachOrdered(line -&gt; {\n            line = line.trim();\n            counter[0] ++;\n            System.out.println(\"Line \" + counter[0] + \": \" + line);\n        });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Line 1: p 5714026 wEkQ\nLine 2: v 8235889\nLine 3: v 6534726\n...\n</code></pre>\n\n<p>My question is, how to avoid my hack and solve that problem elegantly?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"score":0,"creation_date":1637256106,"post_id":70023962,"comment_id":123783779,"body_markdown":"Do you want only columns names, so words which are between &#39;SELECT&#39; and &#39;FROM&#39;?","body":"Do you want only columns names, so words which are between &#39;SELECT&#39; and &#39;FROM&#39;?"},{"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"Денис Задорожний"},"score":0,"creation_date":1637256271,"post_id":70023962,"comment_id":123783843,"body_markdown":"yes,you are right","body":"yes,you are right"}],"answers":[{"tags":[],"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637258481,"creation_date":1637258089,"answer_id":70024555,"question_id":70023962,"body_markdown":"You can do it as follow:\r\n```Java\r\nString query = &quot;SELECT COUNT(project_id) AS &#39;count&#39;, project.name AS &#39;projects&#39; FROM test JOIN project ON project_id = project.id&quot;;\r\nLinkedList&lt;String&gt; queryColumns = new LinkedList&lt;&gt;();\r\nString[] test = query.replace(&quot;SELECT&quot;, &quot;&quot;).split(&quot;FROM&quot;)[0].split(&quot;,&quot;); //You have a string from which you need to extract single names, taking care of aliases.\r\nfor(String s : test) {\r\n    int aliasIndex = s.indexOf(&quot;AS&quot;);\r\n\tString column;\r\n\tif(aliasIndex != -1) {\r\n        //if there is an alias\r\n        column = s.substring(aliasIndex + 2).replace(&quot;&#39;&quot;,&quot;&quot;).strip();\r\n\t} else {\r\n        //if there isn&#39;t an alias\r\n\t\tcolumn = s.replace(&quot;&#39;&quot;,&quot;&quot;).strip();\r\n\t}\r\n\tqueryColumns.add(column);\r\n}\r\n```\r\nI assume that the alias is indicated as &#39;AS&#39; in uppercase, if it can be lowercase too, it&#39;s easy to change and adapt the code.","title":"How can I get words from brackets in String?","body":"<p>You can do it as follow:</p>\n<pre><code>String query = &quot;SELECT COUNT(project_id) AS 'count', project.name AS 'projects' FROM test JOIN project ON project_id = project.id&quot;;\nLinkedList&lt;String&gt; queryColumns = new LinkedList&lt;&gt;();\nString[] test = query.replace(&quot;SELECT&quot;, &quot;&quot;).split(&quot;FROM&quot;)[0].split(&quot;,&quot;); //You have a string from which you need to extract single names, taking care of aliases.\nfor(String s : test) {\n    int aliasIndex = s.indexOf(&quot;AS&quot;);\n    String column;\n    if(aliasIndex != -1) {\n        //if there is an alias\n        column = s.substring(aliasIndex + 2).replace(&quot;'&quot;,&quot;&quot;).strip();\n    } else {\n        //if there isn't an alias\n        column = s.replace(&quot;'&quot;,&quot;&quot;).strip();\n    }\n    queryColumns.add(column);\n}\n</code></pre>\n<p>I assume that the alias is indicated as 'AS' in uppercase, if it can be lowercase too, it's easy to change and adapt the code.</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637258858,"creation_date":1637258858,"answer_id":70024697,"question_id":70023962,"body_markdown":"Don&#39;t do this with String split, replace etc. At some point, it will fail. \r\n\r\nYou should parse the sql statement. Example with [JsqlParser][1] like\r\n\r\n \r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws JSQLParserException {\r\n    \r\n            Select stmt = (Select) CCJSqlParserUtil.parse(\r\n                    &quot;SELECT COUNT(project_id) AS &#39;count&#39;, project.name AS &#39;projects&#39; FROM test\\n&quot;\r\n                    + &quot;JOIN project ON project_id = project.id &quot;);\r\n    \r\n            for (SelectItem selectItem : ((PlainSelect) stmt.getSelectBody()).getSelectItems()) {\r\n                selectItem.accept(new SelectItemVisitorAdapter() {\r\n                    @Override\r\n                    public void visit(SelectExpressionItem item) {\r\n                        System.err.println(item.getAlias().getName());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    &#39;count&#39;\r\n    &#39;projects&#39;\r\n\r\n  [1]: https://github.com/JSQLParser/JSqlParser\r\n","title":"How can I get words from brackets in String?","body":"<p>Don't do this with String split, replace etc. At some point, it will fail.</p>\n<p>You should parse the sql statement. Example with <a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">JsqlParser</a> like</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws JSQLParserException {\n\n        Select stmt = (Select) CCJSqlParserUtil.parse(\n                &quot;SELECT COUNT(project_id) AS 'count', project.name AS 'projects' FROM test\\n&quot;\n                + &quot;JOIN project ON project_id = project.id &quot;);\n\n        for (SelectItem selectItem : ((PlainSelect) stmt.getSelectBody()).getSelectItems()) {\n            selectItem.accept(new SelectItemVisitorAdapter() {\n                @Override\n                public void visit(SelectExpressionItem item) {\n                    System.err.println(item.getAlias().getName());\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>'count'\n'projects'\n</code></pre>\n"}],"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"Денис Задорожний"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70024555,"answer_count":2,"score":0,"last_activity_date":1637258858,"creation_date":1637255357,"question_id":70023962,"body_markdown":"I have various sql requests.For example \r\n\r\n    SELECT COUNT(project_id) AS &#39;count&#39;, project.name AS &#39;projects&#39; FROM test\r\n    JOIN project ON project_id = project.id \r\nor\r\n\r\n    SELECT count(*) AS &#39;browsers&#39; FROM `test`\r\n\r\nI want to receive words that are in &#39;&#39;. For example &#39;count&#39;, &#39;projects&#39;, &#39;browsers&#39;.\r\nThus, I want to get the names of the columns from the table.But how can I do this, something I don&#39;t understand.So far I just wrote\r\n\r\n      String[] str = sqlRequest.split(&quot;FROM&quot;);\r\nbut what can I write next, I don’t guess. Tell me how you can get words from these brackets?","title":"How can I get words from brackets in String?","body":"<p>I have various sql requests.For example</p>\n<pre><code>SELECT COUNT(project_id) AS 'count', project.name AS 'projects' FROM test\nJOIN project ON project_id = project.id \n</code></pre>\n<p>or</p>\n<pre><code>SELECT count(*) AS 'browsers' FROM `test`\n</code></pre>\n<p>I want to receive words that are in ''. For example 'count', 'projects', 'browsers'.\nThus, I want to get the names of the columns from the table.But how can I do this, something I don't understand.So far I just wrote</p>\n<pre><code>  String[] str = sqlRequest.split(&quot;FROM&quot;);\n</code></pre>\n<p>but what can I write next, I don’t guess. Tell me how you can get words from these brackets?</p>\n"},{"tags":["java","sql-server","database","jdbc"],"answers":[{"tags":[],"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1483861098,"creation_date":1483861098,"answer_id":41530565,"question_id":41530541,"body_markdown":"You might want to run a simple select query on the database like this:\r\n\r\n    select TABLE_NAME from INFORMATION_SCHEMA.TABLES;\r\n\r\nYou can further filter out the table_names using where clauses like these:\r\n\r\n\r\n    SELECT \r\n        TABLE_NAME\r\n    FROM\r\n        INFORMATION_SCHEMA.TABLES\r\n    WHERE\r\n        TABLE_CATALOG = ? AND TABLE_SCHEMA = ?;","title":"Getting table names of all tables in a particular database in MS SQL Server using Java","body":"<p>You might want to run a simple select query on the database like this:</p>\n\n<pre><code>select TABLE_NAME from INFORMATION_SCHEMA.TABLES;\n</code></pre>\n\n<p>You can further filter out the table_names using where clauses like these:</p>\n\n<pre><code>SELECT \n    TABLE_NAME\nFROM\n    INFORMATION_SCHEMA.TABLES\nWHERE\n    TABLE_CATALOG = ? AND TABLE_SCHEMA = ?;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067411,"reputation":291,"user_id":4737255,"display_name":"Che-Chia Chang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483865019,"creation_date":1483863862,"answer_id":41530833,"question_id":41530541,"body_markdown":"From [the Java API Doc][1]\r\n\r\n    ResultSet getTables(String catalog,\r\n                  String schemaPattern,\r\n                  String tableNamePattern,\r\n                  String[] types) throws SQLException\r\n\r\nSince you only need results from a database, try to provide &#39;schemaPattern&#39;, like this:\r\n\r\n    ResultSet rs = dbmd.getTables(null, &#39;your-database&#39;, &quot;%&quot;, types);\r\n\r\nAnd you get what you want, no more no less.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])","title":"Getting table names of all tables in a particular database in MS SQL Server using Java","body":"<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])\" rel=\"nofollow noreferrer\">the Java API Doc</a></p>\n\n<pre><code>ResultSet getTables(String catalog,\n              String schemaPattern,\n              String tableNamePattern,\n              String[] types) throws SQLException\n</code></pre>\n\n<p>Since you only need results from a database, try to provide 'schemaPattern', like this:</p>\n\n<pre><code>ResultSet rs = dbmd.getTables(null, 'your-database', \"%\", types);\n</code></pre>\n\n<p>And you get what you want, no more no less.</p>\n"},{"tags":[],"owner":{"account_id":6768404,"reputation":19526,"user_id":5212614,"accept_rate":32,"display_name":"ASH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485643008,"creation_date":1485643008,"answer_id":41915616,"question_id":41530541,"body_markdown":"I don&#39;t know anything about Java, ut you can definitely use SQL fro that.\r\n\r\n\r\n    USE your_DB\r\n    GO\r\n    SELECT t.name AS table_name,\r\n    SCHEMA_NAME(schema_id) AS schema_name,\r\n    c.name AS column_name\r\n    FROM sys.tables AS t\r\n    INNER JOIN sys.columns c ON t.OBJECT_ID = c.OBJECT_ID\r\n    WHERE c.name LIKE &#39;%ticker%&#39;\r\n    ORDER BY schema_name, table_name;\r\n\r\nOR\r\n\r\n\r\n    select * from information_schema.columns\r\n    where table_schema = &#39;your_DB&#39;\r\n    order by table_name,ordinal_position\r\n\r\n\r\n","title":"Getting table names of all tables in a particular database in MS SQL Server using Java","body":"<p>I don't know anything about Java, ut you can definitely use SQL fro that.</p>\n\n<pre><code>USE your_DB\nGO\nSELECT t.name AS table_name,\nSCHEMA_NAME(schema_id) AS schema_name,\nc.name AS column_name\nFROM sys.tables AS t\nINNER JOIN sys.columns c ON t.OBJECT_ID = c.OBJECT_ID\nWHERE c.name LIKE '%ticker%'\nORDER BY schema_name, table_name;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>select * from information_schema.columns\nwhere table_schema = 'your_DB'\norder by table_name,ordinal_position\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21608440,"reputation":1517,"user_id":15935459,"display_name":"Ahmed El Rhaouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637258800,"creation_date":1637258800,"answer_id":70024686,"question_id":41530541,"body_markdown":"try this :\r\n\r\n    ResultSetMetaData rsmd = rs.getMetaData();\r\n                DatabaseMetaData md = connection.getMetaData();\r\n                String[] types = {&quot;TABLE&quot;};\r\n                ResultSet RS = md.getTables(null, null, &quot;%&quot;, types);\r\n                while (RS.next()) {\r\n                    String table = RS.getString(&quot;TABLE_NAME&quot;);\r\n                    if (!table.equals(&quot;trace_xe_action_map&quot;)\r\n                    &amp;&amp; !table.equals(&quot;trace_xe_event_map&quot;))\r\n                    System.out.println(table);\r\n                }\r\n\r\n\r\n","title":"Getting table names of all tables in a particular database in MS SQL Server using Java","body":"<p>try this :</p>\n<pre><code>ResultSetMetaData rsmd = rs.getMetaData();\n            DatabaseMetaData md = connection.getMetaData();\n            String[] types = {&quot;TABLE&quot;};\n            ResultSet RS = md.getTables(null, null, &quot;%&quot;, types);\n            while (RS.next()) {\n                String table = RS.getString(&quot;TABLE_NAME&quot;);\n                if (!table.equals(&quot;trace_xe_action_map&quot;)\n                &amp;&amp; !table.equals(&quot;trace_xe_event_map&quot;))\n                System.out.println(table);\n            }\n</code></pre>\n"}],"owner":{"account_id":5974908,"reputation":2094,"user_id":4696127,"accept_rate":40,"display_name":"tubby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2252,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41530565,"answer_count":4,"score":4,"last_activity_date":1637258800,"creation_date":1483860950,"question_id":41530541,"body_markdown":"I am trying to get the names of all tables in a database in using Java.\r\n\r\nThis is the method I am using. However, on running it, it also lists other tables, which are not actually part of my database, or maybe some system tables that I am not interested in. How can I get only the tables which I have created?\r\n\r\n    /* connecting to database using supplied credentials, and printing out the SQL queries for inserting data to local db */\r\n        public void connectToAzure(String connectionString, String databaseName, String username, String password) throws ClassNotFoundException, SQLException\r\n        {\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);  \r\n    \r\n            final Connection m_Connection = DriverManager.getConnection( connectionString+&quot;;DatabaseName=&quot;+databaseName, username, password );\r\n            final ArrayList&lt;String&gt; tables = getTableNames(m_Connection);\r\n        }\r\n\r\n    /* helper method to get table names */\r\n        public ArrayList&lt;String&gt; getTableNames(final Connection m_Connection)\r\n        {\r\n            final ArrayList&lt;String&gt; tables = new ArrayList&lt;&gt;();\r\n            try\r\n            {\r\n                DatabaseMetaData dbmd = m_Connection.getMetaData();\r\n                String[] types = {&quot;TABLE&quot;};\r\n                ResultSet rs = dbmd.getTables(null, null, &quot;%&quot;, types);\r\n                while (rs.next())\r\n                {\r\n                    String tableName = rs.getString(&quot;TABLE_NAME&quot;);\r\n                    tables.add( tableName );\r\n                }\r\n            } \r\n            catch (SQLException e) \r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            return tables;\r\n        }\r\n\r\nOutput on running the above\r\n\r\n    table1, table2, table3, table4, table5, table6, trace_xe_action_map, trace_xe_event_map\r\n\r\nOf these, \r\n\r\n    trace_xe_action_map, trace_xe_event_map\r\n\r\nare not tables that I have created.","title":"Getting table names of all tables in a particular database in MS SQL Server using Java","body":"<p>I am trying to get the names of all tables in a database in using Java.</p>\n\n<p>This is the method I am using. However, on running it, it also lists other tables, which are not actually part of my database, or maybe some system tables that I am not interested in. How can I get only the tables which I have created?</p>\n\n<pre><code>/* connecting to database using supplied credentials, and printing out the SQL queries for inserting data to local db */\n    public void connectToAzure(String connectionString, String databaseName, String username, String password) throws ClassNotFoundException, SQLException\n    {\n        Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");  \n\n        final Connection m_Connection = DriverManager.getConnection( connectionString+\";DatabaseName=\"+databaseName, username, password );\n        final ArrayList&lt;String&gt; tables = getTableNames(m_Connection);\n    }\n\n/* helper method to get table names */\n    public ArrayList&lt;String&gt; getTableNames(final Connection m_Connection)\n    {\n        final ArrayList&lt;String&gt; tables = new ArrayList&lt;&gt;();\n        try\n        {\n            DatabaseMetaData dbmd = m_Connection.getMetaData();\n            String[] types = {\"TABLE\"};\n            ResultSet rs = dbmd.getTables(null, null, \"%\", types);\n            while (rs.next())\n            {\n                String tableName = rs.getString(\"TABLE_NAME\");\n                tables.add( tableName );\n            }\n        } \n        catch (SQLException e) \n        {\n            e.printStackTrace();\n        }\n\n        return tables;\n    }\n</code></pre>\n\n<p>Output on running the above</p>\n\n<pre><code>table1, table2, table3, table4, table5, table6, trace_xe_action_map, trace_xe_event_map\n</code></pre>\n\n<p>Of these, </p>\n\n<pre><code>trace_xe_action_map, trace_xe_event_map\n</code></pre>\n\n<p>are not tables that I have created.</p>\n"},{"tags":["java","string","stringbuilder","string-concatenation"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1637253680,"post_id":70023568,"comment_id":123782739,"body_markdown":"In Java 17, this is unlikely to be the case; Java 17 uses something _much_ smarter than &quot;compiling to the same as creating a new StringBuilder.&quot;  See [JEP 280](https://openjdk.java.net/jeps/280) for details.  That said, it seems likely that your measurement technique is problematic.","body":"In Java 17, this is unlikely to be the case; Java 17 uses something <i>much</i> smarter than &quot;compiling to the same as creating a new StringBuilder.&quot;  See <a href=\"https://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> for details.  That said, it seems likely that your measurement technique is problematic."},{"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"score":0,"creation_date":1637253955,"post_id":70023568,"comment_id":123782859,"body_markdown":"@LouisWasserman I double checked, maven compile target and source are 17 as well as the runtime. Just using old-fashioned `new Date()` for start and end and subtracting the difference. But even if that wasn&#39;t accurate, the difference is noticeable (it&#39;s printing when each one is done).","body":"@LouisWasserman I double checked, maven compile target and source are 17 as well as the runtime. Just using old-fashioned <code>new Date()</code> for start and end and subtracting the difference. But even if that wasn&#39;t accurate, the difference is noticeable (it&#39;s printing when each one is done)."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1637253989,"post_id":70023568,"comment_id":123782872,"body_markdown":"It is _entirely possible_ for that measurement technique to actively lie to you.","body":"It is <i>entirely possible</i> for that measurement technique to actively lie to you."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1637253992,"post_id":70023568,"comment_id":123782874,"body_markdown":"there has been _many_ questions of this type. The general rule still stands, loop concatenation should use `StringBuilder`. And use `JMH` for measuring","body":"there has been <i>many</i> questions of this type. The general rule still stands, loop concatenation should use <code>StringBuilder</code>. And use <code>JMH</code> for measuring"},{"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"score":0,"creation_date":1637254223,"post_id":70023568,"comment_id":123782991,"body_markdown":"@LouisWasserman I know that&#39;s not the best super accurate way but it&#39;s literally almost double the time. Even if I stand here and manually time it, I can easily note the time difference. It&#39;s taking way longer to do the concatenation.","body":"@LouisWasserman I know that&#39;s not the best super accurate way but it&#39;s literally almost double the time. Even if I stand here and manually time it, I can easily note the time difference. It&#39;s taking way longer to do the concatenation."},{"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"score":0,"creation_date":1637254298,"post_id":70023568,"comment_id":123783017,"body_markdown":"@Eugene obviously `StringBuilder` should be used. The point of this question isn&#39;t why `StringBuilder` is faster than concatenation, it&#39;s why String concatenation so much slower than creating a **new `StringBuilder` for each append**.","body":"@Eugene obviously <code>StringBuilder</code> should be used. The point of this question isn&#39;t why <code>StringBuilder</code> is faster than concatenation, it&#39;s why String concatenation so much slower than creating a <b>new <code>StringBuilder</code> for each append</b>."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637256054,"post_id":70023568,"comment_id":123783761,"body_markdown":"I have a sample project where I sometimes run jhm things in github. [here are the results](https://github.com/wind57/0x-github-jmh-runner/runs/4254472271?check_suite_focus=true#step:4:113) for [your exact sample](https://github.com/wind57/0x-github-jmh-runner/blob/686c497472df9fa3991a232497b2bbd6b199e414/src/jmh/java/zero/x/so/ConcatSample.java). You can increase the `@Fork` count and warmups to see more accurate results, but the point stands : &quot;it&#39;s how you measure&quot;.","body":"I have a sample project where I sometimes run jhm things in github. <a href=\"https://github.com/wind57/0x-github-jmh-runner/runs/4254472271?check_suite_focus=true#step:4:113\" rel=\"nofollow noreferrer\">here are the results</a> for <a href=\"https://github.com/wind57/0x-github-jmh-runner/blob/686c497472df9fa3991a232497b2bbd6b199e414/src/jmh/java/zero/x/so/ConcatSample.java\" rel=\"nofollow noreferrer\">your exact sample</a>. You can increase the <code>@Fork</code> count and warmups to see more accurate results, but the point stands : &quot;it&#39;s how you measure&quot;."},{"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"score":0,"creation_date":1637257051,"post_id":70023568,"comment_id":123784102,"body_markdown":"@Eugene thanks, similar enough time between the 2, not nearly as drastic as mine, although the avg of the concat is still longer. But based on what everyone is saying, it should be faster if using Java 9+. I tried 8, 11, &amp; 17 and the % time difference was pretty similar across so no idea what&#39;s going on. I asked the question because obviously this behavior isn&#39;t expected...","body":"@Eugene thanks, similar enough time between the 2, not nearly as drastic as mine, although the avg of the concat is still longer. But based on what everyone is saying, it should be faster if using Java 9+. I tried 8, 11, &amp; 17 and the % time difference was pretty similar across so no idea what&#39;s going on. I asked the question because obviously this behavior isn&#39;t expected..."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637257710,"post_id":70023568,"comment_id":123784323,"body_markdown":"as said - change the `@Fork`, increase measurements and warmups and you will get much closer numbers. And those results do no show  anything &quot;drastic&quot;, do they? Yet again, and for the last time : it&#39;s how you measure.","body":"as said - change the <code>@Fork</code>, increase measurements and warmups and you will get much closer numbers. And those results do no show  anything &quot;drastic&quot;, do they? Yet again, and for the last time : it&#39;s how you measure."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637253958,"creation_date":1637253958,"answer_id":70023659,"question_id":70023568,"body_markdown":"You haven&#39;t shown us much about your measurement technique, but it&#39;s almost certain that&#39;s the culprit; correct benchmarking in Java is [very hard](https://stackoverflow.com/q/504103/869736).  Most notably, Java code is _always_ slow at startup, and that scales with the complexity with the code, even if the steady-state performance is very different.\r\n\r\nIn any event, it&#39;s not true that string concatenation compiles to the same thing as your `StringBuilder` code -- certainly not anymore.  [JEP 280](https://openjdk.java.net/jeps/280) in Java 9 changed that compilation strategy to something _much_ more effective for long-running applications, but that notably incurs some slowdown at _startup_, which your benchmark may not have accounted for.","title":"String concatenation is even longer than creating a new String Builder for each append","body":"<p>You haven't shown us much about your measurement technique, but it's almost certain that's the culprit; correct benchmarking in Java is <a href=\"https://stackoverflow.com/q/504103/869736\">very hard</a>.  Most notably, Java code is <em>always</em> slow at startup, and that scales with the complexity with the code, even if the steady-state performance is very different.</p>\n<p>In any event, it's not true that string concatenation compiles to the same thing as your <code>StringBuilder</code> code -- certainly not anymore.  <a href=\"https://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> in Java 9 changed that compilation strategy to something <em>much</em> more effective for long-running applications, but that notably incurs some slowdown at <em>startup</em>, which your benchmark may not have accounted for.</p>\n"}],"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1637254132,"answer_count":1,"score":1,"last_activity_date":1637258020,"creation_date":1637253570,"question_id":70023568,"body_markdown":"I was creating a demo to demonstrate how much faster `StringBuilder` is than String concatenation.\r\nI also wanted to demonstrate that String concatenation is the equivalent to making a new `StringBuilder` for each append. I wanted to demonstrate this with the following 2 blocks:\r\n\r\n**Simply concatenate a String**\r\n\r\n    String result = &quot;&quot;;\r\n    for (int i = 0; i &lt; 200000; i++) {\r\n        result += String.valueOf(i);\r\n    }\r\n**Create a new `StringBuilder` for each concatenation**\r\n\r\n    String result = &quot;&quot;;\r\n    for (int i = 0; i &lt; 200000; i++) {\r\n        result = new StringBuilder(result).append(String.valueOf(i)).toString();\r\n    }\r\nMy understanding was that the String concatenation example compiled to the same thing as creating a new `StringBuilder` for each concatenation. I even decompiled the code to see the same result for both (I know decompiled code is not necessarily an exact representation of the written or compiled code). \r\n\r\nObviously using a single `StringBuilder` for all appending ran in a fraction of the time of these 2 examples. But the weird thing is that the 2nd example (creating a new `StringBuilder` manually each time) ran at nearly half the time of simple concatenation example. Why is creating a new `StringBuilder` each time so much faster than concatenation?\r\n\r\n(Using Java Adoptium Temurin 17 in case it matters)\r\n\r\n**Update**\r\nFor those asking for full code-\r\n\r\n    import java.util.Date;\r\n\r\n    public class App {\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t    String result = &quot;&quot;;\r\n\t\t    Date start = new Date();\r\n\t\t    for (int i = 0; i &lt; 200000; i++) {\r\n\t\t\t    result = new StringBuilder(result).append(String.valueOf(i)).toString();\r\n\t\t\t    //result += String.valueOf(i);\r\n\t\t    }\r\n\t\t    Date end = new Date();\r\n\t\t   System.out.println(end.getTime() - start.getTime());\r\n\t    }\r\n    }\r\nLike I said, it&#39;s a simple example. You can obviously just comment out the `StringBuilder` line and uncomment the concat line to test the other example.\r\n\r\nAs I mentioned below, I know `Date` is not meant to be used for metrics like this but it&#39;s a relatively simple example, and even without it, the difference is significantly noticeable in person.\r\n\r\nI&#39;ve tried this on 3 different Java Runtimes (Oracle 8, AdoptOpenJDK 11, and Adoptium Temurin 17), and while each one takes different amounts of time, the difference between the 2 is still pretty similar.","title":"String concatenation is even longer than creating a new String Builder for each append","body":"<p>I was creating a demo to demonstrate how much faster <code>StringBuilder</code> is than String concatenation.\nI also wanted to demonstrate that String concatenation is the equivalent to making a new <code>StringBuilder</code> for each append. I wanted to demonstrate this with the following 2 blocks:</p>\n<p><strong>Simply concatenate a String</strong></p>\n<pre><code>String result = &quot;&quot;;\nfor (int i = 0; i &lt; 200000; i++) {\n    result += String.valueOf(i);\n}\n</code></pre>\n<p><strong>Create a new <code>StringBuilder</code> for each concatenation</strong></p>\n<pre><code>String result = &quot;&quot;;\nfor (int i = 0; i &lt; 200000; i++) {\n    result = new StringBuilder(result).append(String.valueOf(i)).toString();\n}\n</code></pre>\n<p>My understanding was that the String concatenation example compiled to the same thing as creating a new <code>StringBuilder</code> for each concatenation. I even decompiled the code to see the same result for both (I know decompiled code is not necessarily an exact representation of the written or compiled code).</p>\n<p>Obviously using a single <code>StringBuilder</code> for all appending ran in a fraction of the time of these 2 examples. But the weird thing is that the 2nd example (creating a new <code>StringBuilder</code> manually each time) ran at nearly half the time of simple concatenation example. Why is creating a new <code>StringBuilder</code> each time so much faster than concatenation?</p>\n<p>(Using Java Adoptium Temurin 17 in case it matters)</p>\n<p><strong>Update</strong>\nFor those asking for full code-</p>\n<pre><code>import java.util.Date;\n\npublic class App {\n    public static void main(String[] args) {\n\n        String result = &quot;&quot;;\n        Date start = new Date();\n        for (int i = 0; i &lt; 200000; i++) {\n            result = new StringBuilder(result).append(String.valueOf(i)).toString();\n            //result += String.valueOf(i);\n        }\n        Date end = new Date();\n       System.out.println(end.getTime() - start.getTime());\n    }\n}\n</code></pre>\n<p>Like I said, it's a simple example. You can obviously just comment out the <code>StringBuilder</code> line and uncomment the concat line to test the other example.</p>\n<p>As I mentioned below, I know <code>Date</code> is not meant to be used for metrics like this but it's a relatively simple example, and even without it, the difference is significantly noticeable in person.</p>\n<p>I've tried this on 3 different Java Runtimes (Oracle 8, AdoptOpenJDK 11, and Adoptium Temurin 17), and while each one takes different amounts of time, the difference between the 2 is still pretty similar.</p>\n"},{"tags":["java","boolean","boolean-expression"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":1,"creation_date":1637134257,"post_id":69998752,"comment_id":123741410,"body_markdown":"No, it&#39;s not equivalent to `false == false`, it&#39;s equivalent to `true &amp;&amp; false` because of the operator precendence `( (a &amp;&amp; (b || !a)) == a ) &amp;&amp; b`","body":"No, it&#39;s not equivalent to <code>false == false</code>, it&#39;s equivalent to <code>true &amp;&amp; false</code> because of the operator precendence <code>( (a &amp;&amp; (b || !a)) == a ) &amp;&amp; b</code>"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1637262204,"post_id":69998752,"comment_id":123785935,"body_markdown":"a &amp;&amp; (b || !a) is false. &amp;&amp; always short circuits. then false == false is true, then true &amp;&amp; false is false. So I would expect false.","body":"a &amp;&amp; (b || !a) is false. &amp;&amp; always short circuits. then false == false is true, then true &amp;&amp; false is false. So I would expect false."}],"answers":[{"tags":[],"owner":{"account_id":23362251,"reputation":1,"user_id":17434287,"display_name":"Mr. Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637257785,"creation_date":1637257785,"answer_id":70024474,"question_id":69998752,"body_markdown":"The comment was the answer. `==` has the highest precedence and will be evaluated first, with the left being `a &amp;&amp; (b || !a)` and the right being `a`.","title":"Why is this boolean expression false?","body":"<p>The comment was the answer. <code>==</code> has the highest precedence and will be evaluated first, with the left being <code>a &amp;&amp; (b || !a)</code> and the right being <code>a</code>.</p>\n"}],"owner":{"account_id":23362251,"reputation":1,"user_id":17434287,"display_name":"Mr. Weber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637257785,"creation_date":1637121261,"question_id":69998752,"body_markdown":"When I run\r\n\r\n```\r\nboolean a = false;\r\nboolean b = false;\r\nboolean result = (a &amp;&amp; (b || !a)) == a &amp;&amp; b;\r\nSystem.out.println(result);\r\n```\r\nI get false in Java. Why? This is equivalent to false == false, which is true. This is not Java specific, I get the same result in other languages, too. Is this because of short circuit evaluation? It seems like the left and right would/should still get compared.","title":"Why is this boolean expression false?","body":"<p>When I run</p>\n<pre><code>boolean a = false;\nboolean b = false;\nboolean result = (a &amp;&amp; (b || !a)) == a &amp;&amp; b;\nSystem.out.println(result);\n</code></pre>\n<p>I get false in Java. Why? This is equivalent to false == false, which is true. This is not Java specific, I get the same result in other languages, too. Is this because of short circuit evaluation? It seems like the left and right would/should still get compared.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8156,"page":1836,"page_size":100}
