{"items":[{"tags":["java","sap-commerce-cloud","backoffice"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1679823914,"post_id":75791768,"comment_id":133786678,"body_markdown":"is above configuration available in production , please check property is configured in production or not?","body":"is above configuration available in production , please check property is configured in production or not?"}],"owner":{"account_id":19067830,"reputation":1,"user_id":13922621,"display_name":"Pritha Datta Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679323658,"creation_date":1679323658,"question_id":75791768,"body_markdown":"I have set the values for the below properties\r\nbackoffice.cockpitng.reset.triggers=start,login  backoffice.cockpitng.reset.scope=widgets,cockpitConfig\r\n\r\nBut for production environment the automatic reset is not getting triggered. \r\nDoes it have something to do with loggin into backoffice through SAML. \r\n\r\nIt is working fine on localhost","title":"Hybris backoffice is not triggering automatic reset even though the following properties are set","body":"<p>I have set the values for the below properties\nbackoffice.cockpitng.reset.triggers=start,login  backoffice.cockpitng.reset.scope=widgets,cockpitConfig</p>\n<p>But for production environment the automatic reset is not getting triggered.\nDoes it have something to do with loggin into backoffice through SAML.</p>\n<p>It is working fine on localhost</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1579796390,"creation_date":1454323916,"answer_id":35128668,"question_id":35128383,"body_markdown":"**Might** be currently impossible.\r\n\r\nThis because Jackson currently supports `@JacksonUnwrapped` for the opposite case, but no `@JacksonWrapped`\r\n\r\nFeature request: https://github.com/FasterXML/jackson-annotations/issues/42","title":"Flattening nested attributes in Jackson","body":"<p><strong>Might</strong> be currently impossible.</p>\n\n<p>This because Jackson currently supports <code>@JacksonUnwrapped</code> for the opposite case, but no <code>@JacksonWrapped</code></p>\n\n<p>Feature request: <a href=\"https://github.com/FasterXML/jackson-annotations/issues/42\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-annotations/issues/42</a></p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679323366,"creation_date":1679323366,"answer_id":75791718,"question_id":35128383,"body_markdown":"[Baeldung][1] suggests using a setter or deserializer.  The setter seems much easier so I will only include that solution.\r\n\r\nHere is the setter solution.  The quick code below does not prevent `NullPointerException`s due to unboxing the `Boolean`.\r\n\r\n    @JsonProperty(&quot;filter&quot;)\r\n    private void unpackNested(Map&lt;String,Object&gt; filter)\r\n    {\r\n        key1 = (String) filter.get(&quot;key1&quot;);\r\n        key2 = (Boolean) filter.get(&quot;key2&quot;);\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/jackson-nested-values","title":"Flattening nested attributes in Jackson","body":"<p><a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">Baeldung</a> suggests using a setter or deserializer.  The setter seems much easier so I will only include that solution.</p>\n<p>Here is the setter solution.  The quick code below does not prevent <code>NullPointerException</code>s due to unboxing the <code>Boolean</code>.</p>\n<pre><code>@JsonProperty(&quot;filter&quot;)\nprivate void unpackNested(Map&lt;String,Object&gt; filter)\n{\n    key1 = (String) filter.get(&quot;key1&quot;);\n    key2 = (Boolean) filter.get(&quot;key2&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21554,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":35128668,"answer_count":2,"score":16,"last_activity_date":1679323366,"creation_date":1454323043,"question_id":35128383,"body_markdown":"I have the need of defining a flat POJO that maps its (flat) attributes to a nested object in its JSON specification. Better explain with code\r\n\r\n\r\n    {\r\n        &quot;offset&quot;: 0,\r\n        &quot;pageSize&quot;: 10,\r\n        &quot;filter&quot;: {\r\n            &quot;key1&quot;:&quot;value1&quot;,\r\n            &quot;key2&quot;: true,\r\n            ....\r\n        }\r\n    }\r\n\r\nMy POJO shall look like the following:\r\n\r\n    public class Pojo {\r\n        private int offset;\r\n        private int pageSize;\r\n\r\n        private String key1;\r\n        private boolean key2;\r\n    }\r\n\r\n\r\nSo far I have tried annotating those `key` properties with `@JsonProperty` with its `value` attribute\r\n\r\n    @JsonProperty(&quot;filter.key1&quot;)\r\n    private String key1;\r\n\r\nBut when I went into the MVC controller those properties, though set in JSON, were null in the decoded POJO.\r\n\r\n\r\nHow can I fix this? What did I do wrong?\r\n\r\nI absolutely don&#39;t want to create nested subclasses","title":"Flattening nested attributes in Jackson","body":"<p>I have the need of defining a flat POJO that maps its (flat) attributes to a nested object in its JSON specification. Better explain with code</p>\n\n<pre><code>{\n    \"offset\": 0,\n    \"pageSize\": 10,\n    \"filter\": {\n        \"key1\":\"value1\",\n        \"key2\": true,\n        ....\n    }\n}\n</code></pre>\n\n<p>My POJO shall look like the following:</p>\n\n<pre><code>public class Pojo {\n    private int offset;\n    private int pageSize;\n\n    private String key1;\n    private boolean key2;\n}\n</code></pre>\n\n<p>So far I have tried annotating those <code>key</code> properties with <code>@JsonProperty</code> with its <code>value</code> attribute</p>\n\n<pre><code>@JsonProperty(\"filter.key1\")\nprivate String key1;\n</code></pre>\n\n<p>But when I went into the MVC controller those properties, though set in JSON, were null in the decoded POJO.</p>\n\n<p>How can I fix this? What did I do wrong?</p>\n\n<p>I absolutely don't want to create nested subclasses</p>\n"},{"tags":["java","forms","swing","jframe"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1679321320,"post_id":75791247,"comment_id":133695802,"body_markdown":"Please show the code that &quot;doesn&#39;t work.&quot;  It&#39;s much easier to help you if we can see what you are trying to do.  A [mcve] is practically required most of the time.","body":"Please show the code that &quot;doesn&#39;t work.&quot;  It&#39;s much easier to help you if we can see what you are trying to do.  A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is practically required most of the time."},{"owner":{"display_name":"user12540531"},"score":0,"creation_date":1679322174,"post_id":75791247,"comment_id":133696084,"body_markdown":"apologies. Please see the code above.","body":"apologies. Please see the code above."},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1679322972,"post_id":75791247,"comment_id":133696359,"body_markdown":"your gridlayout has only 1 row and 1 column which mean it hold single element so either update the number of row or column within the constructor or use 0 for row to get max row or use 0 for column to get max column as mentioned here https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridLayout.html","body":"your gridlayout has only 1 row and 1 column which mean it hold single element so either update the number of row or column within the constructor or use 0 for row to get max row or use 0 for column to get max column as mentioned here <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridLayout.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1679323191,"post_id":75791247,"comment_id":133696451,"body_markdown":"another point you setdefaultclose to exit only when you need to close the app but since this is a dialog or internal frame then use one of those constant WindowConstants.DO_NOTHING_ON_CLOSE&quot;,&quot;WindowConstants.HIDE_ON_CLOSE&quot;,&quot;WindowConstants.DISPOSE_ON_CLOSE","body":"another point you setdefaultclose to exit only when you need to close the app but since this is a dialog or internal frame then use one of those constant WindowConstants.DO_NOTHING_ON_CLOSE&quot;,&quot;WindowConstants.HIDE_O&zwnj;&#8203;N_CLOSE&quot;,&quot;WindowCons&zwnj;&#8203;tants.DISPOSE_ON_CLO&zwnj;&#8203;SE"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679323264,"creation_date":1679323264,"answer_id":75791697,"question_id":75791247,"body_markdown":"The tutorial shows how to use GridLayout.\r\n\r\n    GridLayout experimentLayout = new GridLayout(0,2);\r\n\r\nThe text says:\r\n\r\n&gt; Creates a grid layout with the specified number of rows and columns. All components in the layout are given equal size. One, but not both, of rows and cols can be zero, which means that any number of objects can be placed in a row or in a column.\r\n\r\nSo if you want a &quot;flexible&quot; layout then use a zero for the rows or the columns (but not for both) so you can add as many components as you&#39;d like.  The example I showed above has two columns and a flexible number of rows.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html","title":"How to add text panes and labels","body":"<p>The tutorial shows how to use GridLayout.</p>\n<pre><code>GridLayout experimentLayout = new GridLayout(0,2);\n</code></pre>\n<p>The text says:</p>\n<blockquote>\n<p>Creates a grid layout with the specified number of rows and columns. All components in the layout are given equal size. One, but not both, of rows and cols can be zero, which means that any number of objects can be placed in a row or in a column.</p>\n</blockquote>\n<p>So if you want a &quot;flexible&quot; layout then use a zero for the rows or the columns (but not for both) so you can add as many components as you'd like.  The example I showed above has two columns and a flexible number of rows.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html</a></p>\n"}],"owner":{"display_name":"user12540531"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679323264,"creation_date":1679321050,"question_id":75791247,"body_markdown":"I&#39;ve tried to create a JFrame windows form with a label and a text pane in that order, vertically down the form as opposed to beside one another.\r\n\r\nAny code I&#39;ve tried does not work, instead just loading the form and nothing else.\r\n\r\nKeep in mind I&#39;m opening this JFrame from another JFrame, pressing a JButton in order to open this &quot;form&quot;.\r\n\r\n```\r\n\tJLabel l1, l2;\r\n\tJTextField t1, t2;\r\n\t\r\n\tpublic DialogueBoxes(){\r\n\t\tsetSize(500,500);\r\n\t\tsetTitle(&quot;Gameplay Boxes&quot;);\r\n\t\t\r\n\t\tContainer c = getContentPane();\r\n\t\tc.setLayout(new GridLayout(1,1));\r\n\t\tc.add(l1);\r\n\t\tc.add(t1);\r\n\t\tc.add(l2);\r\n\t\tc.add(t2);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n```","title":"How to add text panes and labels","body":"<p>I've tried to create a JFrame windows form with a label and a text pane in that order, vertically down the form as opposed to beside one another.</p>\n<p>Any code I've tried does not work, instead just loading the form and nothing else.</p>\n<p>Keep in mind I'm opening this JFrame from another JFrame, pressing a JButton in order to open this &quot;form&quot;.</p>\n<pre><code>    JLabel l1, l2;\n    JTextField t1, t2;\n    \n    public DialogueBoxes(){\n        setSize(500,500);\n        setTitle(&quot;Gameplay Boxes&quot;);\n        \n        Container c = getContentPane();\n        c.setLayout(new GridLayout(1,1));\n        c.add(l1);\n        c.add(t1);\n        c.add(l2);\n        c.add(t2);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n        \n    }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6918132,"reputation":370,"user_id":5311614,"display_name":"Farkhad L."},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1644683352,"creation_date":1644683352,"answer_id":71093698,"question_id":71076748,"body_markdown":"I have just had the exact problem. Just go to the Build menu and click on the rebuild project. ","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>I have just had the exact problem. Just go to the Build menu and click on the rebuild project.</p>\n"},{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679322964,"creation_date":1679322964,"answer_id":75791646,"question_id":71076748,"body_markdown":"Also check out Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Kotlin Compiler. Your Kotlin compiler version should be equal.","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>Also check out Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Kotlin Compiler. Your Kotlin compiler version should be equal.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10975,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71093698,"answer_count":2,"score":4,"last_activity_date":1679322964,"creation_date":1644566112,"question_id":71076748,"body_markdown":"Intellij IDEA and JDK 11, this is not an android project, not using Kotlin. It is a Spring Boot application generated with initilizer. Like this:\r\n&gt;\r\n&gt;https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=2.6.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=multidatasource&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=11&amp;dependencies=lombok,data-jpa,mysql,webflux,data-rest\r\n\r\nThen I added service code in it. When built, it stopped for been missing error, after I fix them, it cannot be built at all, IDEA gives error:\r\n&gt;Information:Kotlin: kotlinc-jvm 1.3.41 (JRE 11.0.4+10-b304.77)\r\n&gt;\r\n&gt;Information:2/11/2022 3:20 PM - Build completed with 1 error and 0 warnings in 1 s 823 ms\r\n&gt;\r\n&gt;Error:Kotlin: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.5.1, expected version is 1.1.15.\r\n\r\n`pom.xml` remains the same as generated from above link. I checked IDEA module settings, nothing odd. \r\nAnd I `grep -rn kotlin *` in project folder, no matched result.\r\n\r\nThen I wonder if it is because dependency has kotlin confliction, so I start from a fresh download project, and run it successfully (it proves that kotlin problem is not because of dependencies); then I replace folder `src`, it run successfully too.\r\n\r\nHas anyone used a Spring Boot + Java + maven, and IDEA, and perhaps JDK11, and encountered the same error?\r\n\r\nThanks.\r\n\r\n[![Error][1]][1]\r\n\r\nupdates:\r\n**I think this is an Intellij IDEA bug, not all `run` has this problem**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pqb0d.png","title":"Error:Kotlin: Module was compiled with an incompatible version of Kotlin in a project of Spring Boot with Java not Kotlin not gradle","body":"<p>Intellij IDEA and JDK 11, this is not an android project, not using Kotlin. It is a Spring Boot application generated with initilizer. Like this:</p>\n<blockquote>\n<p>https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=2.6.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=multidatasource&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=11&amp;dependencies=lombok,data-jpa,mysql,webflux,data-rest</p>\n</blockquote>\n<p>Then I added service code in it. When built, it stopped for been missing error, after I fix them, it cannot be built at all, IDEA gives error:</p>\n<blockquote>\n<p>Information:Kotlin: kotlinc-jvm 1.3.41 (JRE 11.0.4+10-b304.77)</p>\n<p>Information:2/11/2022 3:20 PM - Build completed with 1 error and 0 warnings in 1 s 823 ms</p>\n<p>Error:Kotlin: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.5.1, expected version is 1.1.15.</p>\n</blockquote>\n<p><code>pom.xml</code> remains the same as generated from above link. I checked IDEA module settings, nothing odd.\nAnd I <code>grep -rn kotlin *</code> in project folder, no matched result.</p>\n<p>Then I wonder if it is because dependency has kotlin confliction, so I start from a fresh download project, and run it successfully (it proves that kotlin problem is not because of dependencies); then I replace folder <code>src</code>, it run successfully too.</p>\n<p>Has anyone used a Spring Boot + Java + maven, and IDEA, and perhaps JDK11, and encountered the same error?</p>\n<p>Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/Pqb0d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pqb0d.png\" alt=\"Error\" /></a></p>\n<p>updates:\n<strong>I think this is an Intellij IDEA bug, not all <code>run</code> has this problem</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-security","integration-testing"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1679322728,"post_id":75791424,"comment_id":133696275,"body_markdown":"The workaround you mention is from 2017. Maybe things have changed in the meantime. Which boot version are you using? Have you inspected your condition evaluation report for your integration test startup via `debug: true` in your `application-test.yml`?","body":"The workaround you mention is from 2017. Maybe things have changed in the meantime. Which boot version are you using? Have you inspected your condition evaluation report for your integration test startup via <code>debug: true</code> in your <code>application-test.yml</code>?"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323079,"post_id":75791424,"comment_id":133696402,"body_markdown":"I am using Spring Boot 3+. Probably changed and that&#39;s what I am asking. Sorry, but I could not understand &quot;Have you inspected your condition evaluation report for your integration test startup via debug: true in your application-test.yml&quot;. Could you explain a little bit more? Thanks.","body":"I am using Spring Boot 3+. Probably changed and that&#39;s what I am asking. Sorry, but I could not understand &quot;Have you inspected your condition evaluation report for your integration test startup via debug: true in your application-test.yml&quot;. Could you explain a little bit more? Thanks."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1679323624,"post_id":75791424,"comment_id":133696604,"body_markdown":"see https://www.baeldung.com/spring-boot-auto-configuration-report for example regarding the condition evaluation report","body":"see <a href=\"https://www.baeldung.com/spring-boot-auto-configuration-report\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-auto-configuration-report</a> for example regarding the condition evaluation report"},{"owner":{"display_name":"user21431812"},"score":0,"creation_date":1679323755,"post_id":75791424,"comment_id":133696648,"body_markdown":"Thanks a lot, I solved the problem by following https://www.baeldung.com/spring-security-integration-tests.","body":"Thanks a lot, I solved the problem by following <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-integration-tests</a>."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679322875,"creation_date":1679322875,"answer_id":75791626,"question_id":75791424,"body_markdown":"It might be `SecurityAutoConfiguration` and `SecurityFilterAutoConfiguration` beans might be getting automatically enabled by some other configuration in your project, such as a custom `WebSecurityConfigurerAdapter` or `SecurityConfigurerAdapter` implementation.\r\n\r\nYou can do check the logs during startup to see which auto-configuration classes are actually being applied.","title":"Cannot authenticate request for Spring Boot Integration Tests","body":"<p>It might be <code>SecurityAutoConfiguration</code> and <code>SecurityFilterAutoConfiguration</code> beans might be getting automatically enabled by some other configuration in your project, such as a custom <code>WebSecurityConfigurerAdapter</code> or <code>SecurityConfigurerAdapter</code> implementation.</p>\n<p>You can do check the logs during startup to see which auto-configuration classes are actually being applied.</p>\n"}],"owner":{"display_name":"user21431812"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679322875,"creation_date":1679321871,"question_id":75791424,"body_markdown":"I have followed the accepted workaround on [Spring Boot Authentication for Integration Tests](https://stackoverflow.com/questions/44467133/spring-boot-authentication-for-integration-tests) and apply the following approach to authenticate requests for Integration Tests:\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@Transactional\r\n@ActiveProfiles(&quot;test&quot;)\r\n@EnableAutoConfiguration(\r\n        exclude = {\r\n        SecurityAutoConfiguration.class,\r\n          SecurityFilterAutoConfiguration.class,\r\n        // FallbackWebSecurityAutoConfiguration.class, // cannot find this ref\r\n        OAuth2ClientAutoConfiguration.class\r\n})\r\nabstract public class IntegrationTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mvc;\r\n\r\n    @MockBean\r\n    protected AuthService authService;\r\n\r\n    @MockBean\r\n    protected JwtUtils jwtUtils;\r\n```\r\n\r\nAnd test class:\r\n\r\n```\r\nclass ProductControllerTest extends IntegrationTest {\r\n\r\n    @Test\r\n    void findById() throws Exception {\r\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\r\n    }\r\n```\r\n\r\nHowever, it does not make any sense and still gives &quot;AuthEntryPointJwt                        : Unauthorized error: Full authentication is required to access this resource&quot; error. \r\n\r\nI also tried to use second option via `application-test.yml`:\r\n\r\n```\r\nspring:  \r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration\r\n      - org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\r\n\r\n```  ","title":"Cannot authenticate request for Spring Boot Integration Tests","body":"<p>I have followed the accepted workaround on <a href=\"https://stackoverflow.com/questions/44467133/spring-boot-authentication-for-integration-tests\">Spring Boot Authentication for Integration Tests</a> and apply the following approach to authenticate requests for Integration Tests:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@ActiveProfiles(&quot;test&quot;)\n@EnableAutoConfiguration(\n        exclude = {\n        SecurityAutoConfiguration.class,\n          SecurityFilterAutoConfiguration.class,\n        // FallbackWebSecurityAutoConfiguration.class, // cannot find this ref\n        OAuth2ClientAutoConfiguration.class\n})\nabstract public class IntegrationTest {\n\n    @Autowired\n    protected MockMvc mvc;\n\n    @MockBean\n    protected AuthService authService;\n\n    @MockBean\n    protected JwtUtils jwtUtils;\n</code></pre>\n<p>And test class:</p>\n<pre><code>class ProductControllerTest extends IntegrationTest {\n\n    @Test\n    void findById() throws Exception {\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\n    }\n</code></pre>\n<p>However, it does not make any sense and still gives &quot;AuthEntryPointJwt                        : Unauthorized error: Full authentication is required to access this resource&quot; error.</p>\n<p>I also tried to use second option via <code>application-test.yml</code>:</p>\n<pre><code>spring:  \n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration\n      - org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":389835,"reputation":12282,"user_id":749517,"accept_rate":80,"display_name":"Gyan aka Gary Buyn"},"down_vote_count":3,"up_vote_count":802,"is_accepted":true,"score":799,"last_activity_date":1497220355,"creation_date":1316128885,"answer_id":7438613,"question_id":7438612,"body_markdown":"`replace` will replace all instances of a letter. All you need to do is use [`substring()`][1]:\r\n\r\n    public String method(String str) {\r\n        if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length() - 1) == &#39;x&#39;) {\r\n            str = str.substring(0, str.length() - 1);\r\n        }\r\n        return str;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)","title":"How to remove the last character from a string?","body":"<p><code>replace</code> will replace all instances of a letter. All you need to do is use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"noreferrer\"><code>substring()</code></a>:</p>\n\n<pre><code>public String method(String str) {\n    if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length() - 1) == 'x') {\n        str = str.substring(0, str.length() - 1);\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":908826,"reputation":596,"user_id":943150,"display_name":"BobBobBob"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1316188968,"creation_date":1316188968,"answer_id":7447481,"question_id":7438612,"body_markdown":"    public String removeLastChar(String s) {\r\n        if (s == null || s.length() == 0) {\r\n            return s;\r\n        }\r\n        return s.substring(0, s.length()-1);\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastChar(String s) {\n    if (s == null || s.length() == 0) {\n        return s;\n    }\n    return s.substring(0, s.length()-1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"down_vote_count":4,"up_vote_count":283,"is_accepted":false,"score":279,"last_activity_date":1679322432,"creation_date":1356170465,"answer_id":14001872,"question_id":7438612,"body_markdown":"Why not just one liner?\r\n\r\n\r\n    public static String removeLastChar(String str) {\r\n        return removeChars(str, 1);\r\n    }\r\n\r\n    public static String removeChars(String str, int numberOfCharactersToRemove) {\r\n    \tif(str != null &amp;&amp; !str.trim().isEmpty()) {\r\n        \treturn str.substring(0, str.length() - numberOfCharactersToRemove);\r\n    \t}\r\n    \treturn &quot;&quot;;\r\n    }\r\n\r\nFull Code\r\n    \r\n    public class Main\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            String s1 = &quot;Remove Last CharacterY&quot;;\r\n            String s2 = &quot;Remove Last Character2&quot;;\r\n            String s3 = &quot;N&quot;;\r\n            String s4 = null;\r\n            String s5 = &quot;&quot;;\r\n            System.out.println(&quot;After removing s1==&quot; + removeLastChar(s1) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s2==&quot; + removeLastChar(s2) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s3==&quot; + removeLastChar(s3) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s4==&quot; + removeLastChar(s4) + &quot;==&quot;);\r\n            System.out.println(&quot;After removing s5==&quot; + removeLastChar(s5) + &quot;==&quot;);\r\n            }\r\n        \r\n        public static String removeLastChar(String str) {\r\n            return removeChars(str, 1);\r\n        }\r\n    \r\n        public static String removeChars(String str, int numberOfCharactersToRemove) {\r\n        \tif(str != null &amp;&amp; !str.trim().isEmpty()) {\r\n            \treturn str.substring(0, str.length() - numberOfCharactersToRemove);\r\n        \t}\r\n        \treturn &quot;&quot;;\r\n        }\r\n    }\r\n\r\n[Demo](https://ideone.com/Q6a3CC)\r\n-","title":"How to remove the last character from a string?","body":"<p>Why not just one liner?</p>\n<pre><code>public static String removeLastChar(String str) {\n    return removeChars(str, 1);\n}\n\npublic static String removeChars(String str, int numberOfCharactersToRemove) {\n    if(str != null &amp;&amp; !str.trim().isEmpty()) {\n        return str.substring(0, str.length() - numberOfCharactersToRemove);\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>Full Code</p>\n<pre><code>public class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String s1 = &quot;Remove Last CharacterY&quot;;\n        String s2 = &quot;Remove Last Character2&quot;;\n        String s3 = &quot;N&quot;;\n        String s4 = null;\n        String s5 = &quot;&quot;;\n        System.out.println(&quot;After removing s1==&quot; + removeLastChar(s1) + &quot;==&quot;);\n        System.out.println(&quot;After removing s2==&quot; + removeLastChar(s2) + &quot;==&quot;);\n        System.out.println(&quot;After removing s3==&quot; + removeLastChar(s3) + &quot;==&quot;);\n        System.out.println(&quot;After removing s4==&quot; + removeLastChar(s4) + &quot;==&quot;);\n        System.out.println(&quot;After removing s5==&quot; + removeLastChar(s5) + &quot;==&quot;);\n        }\n    \n    public static String removeLastChar(String str) {\n        return removeChars(str, 1);\n    }\n\n    public static String removeChars(String str, int numberOfCharactersToRemove) {\n        if(str != null &amp;&amp; !str.trim().isEmpty()) {\n            return str.substring(0, str.length() - numberOfCharactersToRemove);\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<h2><a href=\"https://ideone.com/Q6a3CC\" rel=\"noreferrer\">Demo</a></h2>\n"},{"tags":[],"owner":{"account_id":1341525,"reputation":1057,"user_id":1283099,"display_name":"Mart135688"},"down_vote_count":2,"up_vote_count":101,"is_accepted":false,"score":99,"last_activity_date":1495610992,"creation_date":1365506218,"answer_id":15900408,"question_id":7438612,"body_markdown":"The described problem and proposed solutions sometimes relate to removing separators. If this is your case, then have a look at Apache Commons StringUtils, it has a method called [removeEnd][1] which is very elegant.\r\n\r\nExample:\r\n\r\n    StringUtils.removeEnd(&quot;string 1|string 2|string 3|&quot;, &quot;|&quot;);\r\n\r\nWould result in:\r\n&quot;string 1|string 2|string 3&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-","title":"How to remove the last character from a string?","body":"<p>The described problem and proposed solutions sometimes relate to removing separators. If this is your case, then have a look at Apache Commons StringUtils, it has a method called <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#removeEnd-java.lang.String-java.lang.String-\" rel=\"noreferrer\">removeEnd</a> which is very elegant.</p>\n\n<p>Example:</p>\n\n<pre><code>StringUtils.removeEnd(\"string 1|string 2|string 3|\", \"|\");\n</code></pre>\n\n<p>Would result in:\n\"string 1|string 2|string 3\"</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369060843,"creation_date":1369060843,"answer_id":16651965,"question_id":7438612,"body_markdown":"    if (str.endsWith(&quot;x&quot;)) {\n      return str.substring(0, str.length() - 1);\n    }\n    return str;\n\n---\n\n&gt; For example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.\n\nIn case you&#39;re trying to [stem](http://en.wikipedia.org/wiki/Stemming) English words\n\n&gt; Stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root form—generally a written word form.\n&gt;\n&gt; ...\n&gt;\n&gt; A stemmer for English, for example, should identify the string &quot;cats&quot; (and possibly &quot;catlike&quot;, &quot;catty&quot; etc.) as based on the root &quot;cat&quot;, and &quot;stemmer&quot;, &quot;stemming&quot;, &quot;stemmed&quot; as based on &quot;stem&quot;. A stemming algorithm reduces the words &quot;fishing&quot;, &quot;fished&quot;, &quot;fish&quot;, and &quot;fisher&quot; to the root word, &quot;fish&quot;.\n\nhttps://stackoverflow.com/questions/5068790/difference-between-lucene-stemmers-englishstemmer-porterstemmer-lovinsstemmer outlines some Java options.","title":"How to remove the last character from a string?","body":"<pre><code>if (str.endsWith(&quot;x&quot;)) {\n  return str.substring(0, str.length() - 1);\n}\nreturn str;\n</code></pre>\n<hr />\n<blockquote>\n<p>For example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.</p>\n</blockquote>\n<p>In case you're trying to <a href=\"http://en.wikipedia.org/wiki/Stemming\" rel=\"noreferrer\">stem</a> English words</p>\n<blockquote>\n<p>Stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root form—generally a written word form.</p>\n<p>...</p>\n<p>A stemmer for English, for example, should identify the string &quot;cats&quot; (and possibly &quot;catlike&quot;, &quot;catty&quot; etc.) as based on the root &quot;cat&quot;, and &quot;stemmer&quot;, &quot;stemming&quot;, &quot;stemmed&quot; as based on &quot;stem&quot;. A stemming algorithm reduces the words &quot;fishing&quot;, &quot;fished&quot;, &quot;fish&quot;, and &quot;fisher&quot; to the root word, &quot;fish&quot;.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/5068790/difference-between-lucene-stemmers-englishstemmer-porterstemmer-lovinsstemmer\">Difference between Lucene stemmers: EnglishStemmer, PorterStemmer, LovinsStemmer</a> outlines some Java options.</p>\n"},{"tags":[],"owner":{"account_id":1860033,"reputation":1349,"user_id":1684771,"display_name":"iddqd"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1377591954,"creation_date":1377591954,"answer_id":18460535,"question_id":7438612,"body_markdown":"Since we&#39;re on a subject, one can use regular expressions too\r\n   \r\n    &quot;aaabcd&quot;.replaceFirst(&quot;.$&quot;,&quot;&quot;); //=&gt; aaabc\t\r\n","title":"How to remove the last character from a string?","body":"<p>Since we're on a subject, one can use regular expressions too</p>\n\n<pre><code>\"aaabcd\".replaceFirst(\".$\",\"\"); //=&gt; aaabc  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3610890,"reputation":883,"user_id":3011871,"display_name":"Navaneeth"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1399617927,"creation_date":1385550593,"answer_id":20240856,"question_id":7438612,"body_markdown":"Use this:\r\n\r\n     if(string.endsWith(&quot;x&quot;)) {\r\n\r\n  \t\tstring= string.substring(0, string.length() - 1);\r\n     }","title":"How to remove the last character from a string?","body":"<p>Use this:</p>\n\n<pre><code> if(string.endsWith(\"x\")) {\n\n    string= string.substring(0, string.length() - 1);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":4,"up_vote_count":45,"is_accepted":false,"score":41,"last_activity_date":1495610976,"creation_date":1386767592,"answer_id":20520098,"question_id":7438612,"body_markdown":"Don&#39;t try to reinvent the wheel, while others have already written libraries to perform string manipulation: \r\n[`org.apache.commons.lang3.StringUtils.chop()`][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chop%28java.lang.String%29","title":"How to remove the last character from a string?","body":"<p>Don't try to reinvent the wheel, while others have already written libraries to perform string manipulation: \n<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#chop%28java.lang.String%29\" rel=\"noreferrer\"><code>org.apache.commons.lang3.StringUtils.chop()</code></a></p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386919183,"creation_date":1386919183,"answer_id":20561131,"question_id":7438612,"body_markdown":"    public String removeLastChar(String s) {\r\n        if (!Util.isEmpty(s)) {\r\n            s = s.substring(0, s.length()-1);\r\n        }\r\n        return s;\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastChar(String s) {\n    if (!Util.isEmpty(s)) {\n        s = s.substring(0, s.length()-1);\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1636994,"reputation":5315,"user_id":1510222,"accept_rate":50,"display_name":"Arkadiusz Cieśliński"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389438248,"creation_date":1389437483,"answer_id":21061355,"question_id":7438612,"body_markdown":"removes last occurence of the &#39;xxx&#39;:\r\n\r\n        System.out.println(&quot;aaa xxx aaa xxx &quot;.replaceAll(&quot;xxx([^xxx]*)$&quot;, &quot;$1&quot;));\r\n\r\nremoves last occurrence of the &#39;xxx&#39; if it is last:\r\n\r\n        System.out.println(&quot;aaa xxx aaa  &quot;.replaceAll(&quot;xxx\\\\s*$&quot;, &quot;&quot;));\r\n\r\nyou can replace the &#39;xxx&#39; on what you want but watch out on special chars","title":"How to remove the last character from a string?","body":"<p>removes last occurence of the 'xxx':</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa xxx \".replaceAll(\"xxx([^xxx]*)$\", \"$1\"));\n</code></pre>\n\n<p>removes last occurrence of the 'xxx' if it is last:</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa  \".replaceAll(\"xxx\\\\s*$\", \"\"));\n</code></pre>\n\n<p>you can replace the 'xxx' on what you want but watch out on special chars</p>\n"},{"tags":[],"owner":{"account_id":3162068,"reputation":5916,"user_id":2672913,"accept_rate":88,"display_name":"Nick Louloudakis"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1466092189,"creation_date":1408578920,"answer_id":25416292,"question_id":7438612,"body_markdown":"A one-liner answer (just a *funny alternative* - do not try this at home, and great answers already given):\r\n\r\n    public String removeLastChar(String s){return (s != null &amp;&amp; s.length() != 0) ? s.substring(0, s.length() - 1): s;}","title":"How to remove the last character from a string?","body":"<p>A one-liner answer (just a <em>funny alternative</em> - do not try this at home, and great answers already given):</p>\n\n<pre><code>public String removeLastChar(String s){return (s != null &amp;&amp; s.length() != 0) ? s.substring(0, s.length() - 1): s;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5734915,"reputation":21,"user_id":4529394,"display_name":"Oleksandr Paldypanida"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446192779,"creation_date":1429646359,"answer_id":29781957,"question_id":7438612,"body_markdown":"    // Remove n last characters  \r\n    // System.out.println(removeLast(&quot;Hello!!!333&quot;,3));\r\n\r\n    public String removeLast(String mes, int n) {\r\n        return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.length()&gt;n\r\n             ? mes.substring(0, mes.length()-n): mes;\r\n    }\r\n\r\n    // Leave substring before character/string  \r\n    // System.out.println(leaveBeforeChar(&quot;Hello!!!123&quot;, &quot;1&quot;));\r\n\r\n    public String leaveBeforeChar(String mes, String last) {\r\n        return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.lastIndexOf(last)!=-1\r\n             ? mes.substring(0, mes.lastIndexOf(last)): mes;\r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>// Remove n last characters  \n// System.out.println(removeLast(\"Hello!!!333\",3));\n\npublic String removeLast(String mes, int n) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.length()&gt;n\n         ? mes.substring(0, mes.length()-n): mes;\n}\n\n// Leave substring before character/string  \n// System.out.println(leaveBeforeChar(\"Hello!!!123\", \"1\"));\n\npublic String leaveBeforeChar(String mes, String last) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.lastIndexOf(last)!=-1\n         ? mes.substring(0, mes.lastIndexOf(last)): mes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6605136,"reputation":41,"user_id":5102154,"display_name":"aeocom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436519600,"creation_date":1436519600,"answer_id":31336903,"question_id":7438612,"body_markdown":"Look to StringBuilder Class :\r\n\r\n \t\tStringBuilder sb=new StringBuilder(&quot;toto,&quot;);\r\n\t\tSystem.out.println(sb.deleteCharAt(sb.length()-1));//display &quot;toto&quot;","title":"How to remove the last character from a string?","body":"<p>Look to StringBuilder Class :</p>\n\n<pre><code>    StringBuilder sb=new StringBuilder(\"toto,\");\n    System.out.println(sb.deleteCharAt(sb.length()-1));//display \"toto\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2631206,"reputation":221,"user_id":2277110,"display_name":"Moad Meftah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438334444,"creation_date":1438334444,"answer_id":31742558,"question_id":7438612,"body_markdown":"if you have special character like ; in json just use String.replace(&quot;;&quot;, &quot;&quot;) otherwise you must rewrite all character in string minus the last.","title":"How to remove the last character from a string?","body":"<p>if you have special character like ; in json just use String.replace(\";\", \"\") otherwise you must rewrite all character in string minus the last.</p>\n"},{"tags":[],"owner":{"account_id":5858037,"reputation":107,"user_id":4614697,"display_name":"Donoso"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1594984931,"creation_date":1445499499,"answer_id":33275640,"question_id":7438612,"body_markdown":"     string = string.substring(0, (string.length() - 1));\r\n\r\n\r\nI&#39;m using this in my code, it&#39;s easy and simple.\r\nit only works while the String is &gt; 0.\r\nI have it connected to a button and inside the following *if* statement \r\n\r\n\r\n    if (string.length() &gt; 0) {\r\n        string = string.substring(0, (string.length() - 1));\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<pre><code> string = string.substring(0, (string.length() - 1));\n</code></pre>\n<p>I'm using this in my code, it's easy and simple.\nit only works while the String is &gt; 0.\nI have it connected to a button and inside the following <em>if</em> statement</p>\n<pre><code>if (string.length() &gt; 0) {\n    string = string.substring(0, (string.length() - 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341805,"reputation":7,"user_id":6266891,"display_name":"alagu raja"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472627466,"creation_date":1472624678,"answer_id":39242157,"question_id":7438612,"body_markdown":"This is the one way to remove the last character in the string:\r\n\r\n    Scanner in = new Scanner(System.in);\r\n    String s = in.nextLine();\r\n    char array[] = s.toCharArray();\r\n    int l = array.length;\r\n    for (int i = 0; i &lt; l-1; i++) {\r\n        System.out.print(array[i]);\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<p>This is the one way to remove the last character in the string:</p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nString s = in.nextLine();\nchar array[] = s.toCharArray();\nint l = array.length;\nfor (int i = 0; i &lt; l-1; i++) {\n    System.out.print(array[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5759553,"reputation":4140,"user_id":4546390,"accept_rate":67,"display_name":"Tilak Madichetti"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1480679023,"creation_date":1480679023,"answer_id":40931439,"question_id":7438612,"body_markdown":"Why not use the &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/data/characters.html&quot;&gt;escape sequence&lt;/a&gt; ... !\r\n\r\n\r\n    System.out.println(str + &#39;\\b&#39;);\r\n\r\n\r\nLife is much easier now . XD ! ~ A readable one-liner","title":"How to remove the last character from a string?","body":"<p>Why not use the <a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">escape sequence</a> ... !</p>\n\n<pre><code>System.out.println(str + '\\b');\n</code></pre>\n\n<p>Life is much easier now . XD ! ~ A readable one-liner</p>\n"},{"tags":[],"owner":{"account_id":112789,"reputation":3335,"user_id":297376,"accept_rate":83,"display_name":"Kasturi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1481845717,"creation_date":1481845717,"answer_id":41175197,"question_id":7438612,"body_markdown":"As far as the readability is concerned, I find this to be the most concise\r\n\r\n    StringUtils.substring(&quot;string&quot;, 0, -1);\r\n\r\nThe negative indexes can be used in Apache&#39;s StringUtils utility.\r\nAll negative numbers are treated from offset from the end of the string.","title":"How to remove the last character from a string?","body":"<p>As far as the readability is concerned, I find this to be the most concise</p>\n\n<pre><code>StringUtils.substring(\"string\", 0, -1);\n</code></pre>\n\n<p>The negative indexes can be used in Apache's StringUtils utility.\nAll negative numbers are treated from offset from the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":11758064,"reputation":63,"user_id":8605113,"display_name":"Jacob Mehnert"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1578000750,"creation_date":1510110247,"answer_id":47170916,"question_id":7438612,"body_markdown":"I had to write code for a similar problem. One way that I was able to solve it used a recursive method of coding.\r\n\r\n    static String removeChar(String word, char charToRemove)\r\n    {\r\n        for(int i = 0; i &lt; word.lenght(); i++)\r\n        {\r\n            if(word.charAt(i) == charToRemove)\r\n            {\r\n                String newWord = word.substring(0, i) + word.substring(i + 1);\r\n                return removeChar(newWord, charToRemove);\r\n            }\r\n        }\r\n\r\n        return word;\r\n    }\r\n\r\nMost of the code I&#39;ve seen on this topic doesn&#39;t use recursion so hopefully I can help you or someone who has the same problem.","title":"How to remove the last character from a string?","body":"<p>I had to write code for a similar problem. One way that I was able to solve it used a recursive method of coding.</p>\n\n<pre><code>static String removeChar(String word, char charToRemove)\n{\n    for(int i = 0; i &lt; word.lenght(); i++)\n    {\n        if(word.charAt(i) == charToRemove)\n        {\n            String newWord = word.substring(0, i) + word.substring(i + 1);\n            return removeChar(newWord, charToRemove);\n        }\n    }\n\n    return word;\n}\n</code></pre>\n\n<p>Most of the code I've seen on this topic doesn't use recursion so hopefully I can help you or someone who has the same problem.</p>\n"},{"tags":[],"owner":{"account_id":4673617,"reputation":419,"user_id":3784758,"display_name":"Nadhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517324299,"creation_date":1517324299,"answer_id":48524408,"question_id":7438612,"body_markdown":"&lt;p&gt;Java 8&lt;/p&gt;   \r\n    \r\n    import java.util.Optional;\r\n    \r\n    public class Test\r\n    {\r\n      public static void main(String[] args) throws InterruptedException\r\n      {\r\n        System.out.println(removeLastChar(&quot;test-abc&quot;));\r\n      }\r\n    \r\n      public static String removeLastChar(String s) {\r\n        return Optional.ofNullable(s)\r\n          .filter(str -&gt; str.length() != 0)\r\n          .map(str -&gt; str.substring(0, str.length() - 1))\r\n          .orElse(s);\r\n        }\r\n    }\r\n&lt;p&gt;Output : test-ab&lt;/p&gt;\r\n","title":"How to remove the last character from a string?","body":"<p>Java 8</p>   \n\n<pre><code>import java.util.Optional;\n\npublic class Test\n{\n  public static void main(String[] args) throws InterruptedException\n  {\n    System.out.println(removeLastChar(\"test-abc\"));\n  }\n\n  public static String removeLastChar(String s) {\n    return Optional.ofNullable(s)\n      .filter(str -&gt; str.length() != 0)\n      .map(str -&gt; str.substring(0, str.length() - 1))\n      .orElse(s);\n    }\n}\n</code></pre>\n\n<p>Output : test-ab</p>\n"},{"tags":[],"owner":{"account_id":13655485,"reputation":17,"user_id":9852123,"display_name":"simon francis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527370438,"creation_date":1527360554,"answer_id":50546036,"question_id":7438612,"body_markdown":"How to make the char in the recursion at the end:\r\n\r\n    public static String  removeChar(String word, char charToRemove)\r\n    \t{\r\n    \t\tString char_toremove=Character.toString(charToRemove);\r\n    \t\tfor(int i = 0; i &lt; word.length(); i++)\r\n    \t\t{\r\n    \t\t\tif(word.charAt(i) == charToRemove)\r\n    \t\t\t{\r\n    \t\t\t\tString newWord = word.substring(0, i) + word.substring(i + 1);\r\n    \t\t\t\treturn removeChar(newWord,charToRemove);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(word);\r\n    \t\treturn word;\r\n    \t}\r\n\r\n\r\n\r\n\r\nfor exemple:\r\n\r\n    removeChar (&quot;hello world, let&#39;s go!&quot;,&#39;l&#39;) → &quot;heo word, et&#39;s go!llll&quot;\r\n    removeChar(&quot;you should not go&quot;,&#39;o&#39;) → &quot;yu shuld nt goooo&quot;\r\n\r\n","title":"How to remove the last character from a string?","body":"<p>How to make the char in the recursion at the end:</p>\n\n<pre><code>public static String  removeChar(String word, char charToRemove)\n    {\n        String char_toremove=Character.toString(charToRemove);\n        for(int i = 0; i &lt; word.length(); i++)\n        {\n            if(word.charAt(i) == charToRemove)\n            {\n                String newWord = word.substring(0, i) + word.substring(i + 1);\n                return removeChar(newWord,charToRemove);\n            }\n        }\n        System.out.println(word);\n        return word;\n    }\n</code></pre>\n\n<p>for exemple:</p>\n\n<pre><code>removeChar (\"hello world, let's go!\",'l') → \"heo word, et's go!llll\"\nremoveChar(\"you should not go\",'o') → \"yu shuld nt goooo\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528492638,"creation_date":1528491283,"answer_id":50768270,"question_id":7438612,"body_markdown":"Here&#39;s an answer that works with codepoints outside of the Basic Multilingual Plane (Java 8+).\r\n\r\nUsing streams:\r\n\r\n\tpublic String method(String str) {\r\n\t\treturn str.codePoints()\r\n\t\t\t\t.limit(str.codePoints().count() - 1)\r\n\t\t\t\t.mapToObj(i-&gt;new String(Character.toChars(i)))\r\n\t\t\t\t.collect(Collectors.joining());\r\n\t}\r\n\r\nMore efficient maybe:\r\n\r\n\tpublic String method(String str) {\r\n\t\treturn str.isEmpty()? &quot;&quot;: str.substring(0, str.length() - Character.charCount(str.codePointBefore(str.length())));\r\n\t}\r\n","title":"How to remove the last character from a string?","body":"<p>Here's an answer that works with codepoints outside of the Basic Multilingual Plane (Java 8+).</p>\n\n<p>Using streams:</p>\n\n<pre><code>public String method(String str) {\n    return str.codePoints()\n            .limit(str.codePoints().count() - 1)\n            .mapToObj(i-&gt;new String(Character.toChars(i)))\n            .collect(Collectors.joining());\n}\n</code></pre>\n\n<p>More efficient maybe:</p>\n\n<pre><code>public String method(String str) {\n    return str.isEmpty()? \"\": str.substring(0, str.length() - Character.charCount(str.codePointBefore(str.length())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5312458,"reputation":347,"user_id":4238275,"display_name":"Bachan Joseph"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1531239807,"creation_date":1531239807,"answer_id":51270120,"question_id":7438612,"body_markdown":"     // creating StringBuilder\r\n     StringBuilder builder = new StringBuilder(requestString);\r\n     // removing last character from String\r\n     builder.deleteCharAt(requestString.length() - 1);\r\n\r\n","title":"How to remove the last character from a string?","body":"<pre><code> // creating StringBuilder\n StringBuilder builder = new StringBuilder(requestString);\n // removing last character from String\n builder.deleteCharAt(requestString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296346,"reputation":1493,"user_id":6903132,"display_name":"Mahavir Jain"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1563195658,"creation_date":1548333124,"answer_id":54346771,"question_id":7438612,"body_markdown":"In Kotlin you can used dropLast() method of the string class.\r\nIt will drop the given number from string, return a new string\r\n\r\n    var string1 = &quot;Some Text&quot;\r\n    string1 = string1.dropLast(1)\r\n\r\n \r\n\r\n","title":"How to remove the last character from a string?","body":"<p>In Kotlin you can used dropLast() method of the string class.\nIt will drop the given number from string, return a new string</p>\n\n<pre><code>var string1 = \"Some Text\"\nstring1 = string1.dropLast(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15153779,"reputation":1,"user_id":10935313,"display_name":"abd ak"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1549492720,"creation_date":1549492720,"answer_id":54563639,"question_id":7438612,"body_markdown":"u can do i\r\nhereString =  hereString.replace(hereString.chatAt(hereString.length() - 1) ,&#39; whitespeace&#39;); ","title":"How to remove the last character from a string?","body":"<p>u can do i\nhereString =  hereString.replace(hereString.chatAt(hereString.length() - 1) ,' whitespeace'); </p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564735495,"creation_date":1564735495,"answer_id":57322875,"question_id":7438612,"body_markdown":"Most answers here forgot about [***surrogate pairs***][1].\r\n\r\nFor instance, the character &#120171; (codepoint U+1D56B) does not fit into a single `char`, so in order to be represented, it must form a surrogate pair of two chars.\r\n\r\nIf one simply applies the currently accepted answer (using `str.substring(0, str.length() - 1)`, one splices the surrogate pair, leading to unexpected results.\r\n\r\nOne should also include a check whether the last character is a surrogate pair:\r\n\r\n    public static String removeLastChar(String str) {\r\n        Objects.requireNonNull(str, &quot;The string should not be null&quot;);\r\n        if (str.isEmpty()) {\r\n            return str;\r\n        }\r\n\r\n\t\tchar lastChar = str.charAt(str.length() - 1);\r\n\t\tint cut = Character.isSurrogate(lastChar) ? 2 : 1;\r\n\t\treturn str.substring(0, str.length() - cut);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java","title":"How to remove the last character from a string?","body":"<p>Most answers here forgot about <a href=\"https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java\"><strong><em>surrogate pairs</em></strong></a>.</p>\n\n<p>For instance, the character 𝕫 (codepoint U+1D56B) does not fit into a single <code>char</code>, so in order to be represented, it must form a surrogate pair of two chars.</p>\n\n<p>If one simply applies the currently accepted answer (using <code>str.substring(0, str.length() - 1)</code>, one splices the surrogate pair, leading to unexpected results.</p>\n\n<p>One should also include a check whether the last character is a surrogate pair:</p>\n\n<pre><code>public static String removeLastChar(String str) {\n    Objects.requireNonNull(str, \"The string should not be null\");\n    if (str.isEmpty()) {\n        return str;\n    }\n\n    char lastChar = str.charAt(str.length() - 1);\n    int cut = Character.isSurrogate(lastChar) ? 2 : 1;\n    return str.substring(0, str.length() - cut);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565168541,"creation_date":1565168541,"answer_id":57390676,"question_id":7438612,"body_markdown":"just replace the condition of &quot;if&quot; like this: \r\n\r\n    if(a.substring(a.length()-1).equals(&quot;x&quot;))&#39;\r\n\r\nthis will do the trick for you.","title":"How to remove the last character from a string?","body":"<p>just replace the condition of \"if\" like this: </p>\n\n<pre><code>if(a.substring(a.length()-1).equals(\"x\"))'\n</code></pre>\n\n<p>this will do the trick for you.</p>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565788324,"creation_date":1565786720,"answer_id":57494995,"question_id":7438612,"body_markdown":"Suppose total length of my string=24\r\nI want to cut last character after position 14 to end, mean I want starting 14 to be there.\r\nSo I apply following solution.\r\n\r\n    String date = &quot;2019-07-31T22:00:00.000Z&quot;;\r\n    String result = date.substring(0, date.length() - 14);","title":"How to remove the last character from a string?","body":"<p>Suppose total length of my string=24\nI want to cut last character after position 14 to end, mean I want starting 14 to be there.\nSo I apply following solution.</p>\n\n<pre><code>String date = \"2019-07-31T22:00:00.000Z\";\nString result = date.substring(0, date.length() - 14);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9186160,"reputation":860,"user_id":6828297,"accept_rate":25,"display_name":"C Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574604431,"creation_date":1574604431,"answer_id":59018513,"question_id":7438612,"body_markdown":"    public String removeLastCharacter(String str){\r\n           String result = null;\r\n            if ((str != null) &amp;&amp; (str.length() &gt; 0)) {\r\n              return str.substring(0, str.length() - 1);\r\n            }\r\n            else{\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n    }","title":"How to remove the last character from a string?","body":"<pre><code>public String removeLastCharacter(String str){\n       String result = null;\n        if ((str != null) &amp;&amp; (str.length() &gt; 0)) {\n          return str.substring(0, str.length() - 1);\n        }\n        else{\n            return \"\";\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15942721,"reputation":23,"user_id":11504153,"display_name":"RoboC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579708160,"creation_date":1579708160,"answer_id":59863476,"question_id":7438612,"body_markdown":"Easy Peasy:\r\n\r\n    StringBuilder sb= new StringBuilder();\r\n    for(Entry&lt;String,String&gt; entry : map.entrySet()) {\r\n    \t\tsb.append(entry.getKey() + &quot;_&quot; + entry.getValue() + &quot;|&quot;);\r\n    }\r\n    String requiredString = sb.substring(0, sb.length() - 1);","title":"How to remove the last character from a string?","body":"<p>Easy Peasy:</p>\n\n<pre><code>StringBuilder sb= new StringBuilder();\nfor(Entry&lt;String,String&gt; entry : map.entrySet()) {\n        sb.append(entry.getKey() + \"_\" + entry.getValue() + \"|\");\n}\nString requiredString = sb.substring(0, sb.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12815740,"reputation":47,"user_id":9272445,"display_name":"klvnmarshall"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1655072080,"creation_date":1584604946,"answer_id":60753037,"question_id":7438612,"body_markdown":"For kotlin check out\r\n```\r\nstring.dropLast(1)\r\n```","title":"How to remove the last character from a string?","body":"<p>For kotlin check out</p>\n<pre><code>string.dropLast(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328547,"reputation":1186,"user_id":651562,"display_name":"tstempko"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1604406344,"creation_date":1604406344,"answer_id":64662820,"question_id":7438612,"body_markdown":"How can a simple task be made complicated. My solution is:\r\n\r\n    public String removeLastChar(String s) {\r\n        return s[0..-1]\r\n    }\r\n\r\nor \r\n\r\n    public String removeLastChar(String s) {\r\n        if (s.length() &gt; 0) {\r\n            return s[0..-1]\r\n        }\r\n        return s\r\n    }","title":"How to remove the last character from a string?","body":"<p>How can a simple task be made complicated. My solution is:</p>\n<pre><code>public String removeLastChar(String s) {\n    return s[0..-1]\n}\n</code></pre>\n<p>or</p>\n<pre><code>public String removeLastChar(String s) {\n    if (s.length() &gt; 0) {\n        return s[0..-1]\n    }\n    return s\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2813516,"reputation":331,"user_id":2419239,"accept_rate":60,"display_name":"Baha&#39; Al-Khateib"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1615838214,"creation_date":1615838214,"answer_id":66644836,"question_id":7438612,"body_markdown":"Use StringUtils.Chop(Str) it also takes care of null and empty strings, u need to import common-io:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"How to remove the last character from a string?","body":"<p>Use StringUtils.Chop(Str) it also takes care of null and empty strings, u need to import common-io:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626755764,"creation_date":1626755764,"answer_id":68449595,"question_id":7438612,"body_markdown":"if we want to remove file extension of the given file,\r\n\r\n** Sample code\r\n\r\n     public static String removeNCharactersFromLast(String str,int n){\r\n        if (str != null &amp;&amp; (str.length() &gt; 0)) {\r\n            return str.substring(0, str.length() - n);\r\n        }\r\n\r\n        return &quot;&quot;;\r\n\r\n    }\r\n\r\n\r\n ","title":"How to remove the last character from a string?","body":"<p>if we want to remove file extension of the given file,</p>\n<p>** Sample code</p>\n<pre><code> public static String removeNCharactersFromLast(String str,int n){\n    if (str != null &amp;&amp; (str.length() &gt; 0)) {\n        return str.substring(0, str.length() - n);\n    }\n\n    return &quot;&quot;;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12502565,"reputation":258,"user_id":15815623,"display_name":"Denilson Anachury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671480774,"creation_date":1647290369,"answer_id":71473987,"question_id":7438612,"body_markdown":"Since Java 8 you can use Optional to avoid null pointer exceptions and use functional programming:\r\n\r\n    public String removeLastCharacter(String string) {\r\n        return Optional.ofNullable(string)\r\n            .filter(str -&gt; !str.isEmpty() &amp;&amp; !string.isBlank())\r\n            .map(str -&gt; str.substring(0, str.length() - 1))\r\n            .orElse(&quot;&quot;); // Should be another value that need if the {@param: string} is &quot;null&quot;\r\n    }\r\n","title":"How to remove the last character from a string?","body":"<p>Since Java 8 you can use Optional to avoid null pointer exceptions and use functional programming:</p>\n<pre><code>public String removeLastCharacter(String string) {\n    return Optional.ofNullable(string)\n        .filter(str -&gt; !str.isEmpty() &amp;&amp; !string.isBlank())\n        .map(str -&gt; str.substring(0, str.length() - 1))\n        .orElse(&quot;&quot;); // Should be another value that need if the {@param: string} is &quot;null&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651955638,"creation_date":1651955638,"answer_id":72156169,"question_id":7438612,"body_markdown":"this is well known problem solved beautifully in Perl via chop() and chomp()\r\n\r\nlong answer here : [Java chop and chomp][1]\r\n\r\nhere is the code :\r\n\r\n      //removing trailing characters\r\n      public static String chomp(String str, Character repl) {\r\n        int ix = str.length();\r\n        for (int i=ix-1; i &gt;= 0; i-- ){\r\n          if (str.charAt(i) != repl) break;\r\n          ix = i;\r\n        }\r\n        return str.substring(0,ix);\r\n      }\r\n      \r\n      //hardcut  \r\n      public static String chop(String str) {\r\n        return str.substring(0,str.length()-1);\r\n      }\r\n\r\n  \r\n\r\n  [1]: https://myriad.website/java-chop-and-chomp/\r\n","title":"How to remove the last character from a string?","body":"<p>this is well known problem solved beautifully in Perl via chop() and chomp()</p>\n<p>long answer here : <a href=\"https://myriad.website/java-chop-and-chomp/\" rel=\"nofollow noreferrer\">Java chop and chomp</a></p>\n<p>here is the code :</p>\n<pre><code>  //removing trailing characters\n  public static String chomp(String str, Character repl) {\n    int ix = str.length();\n    for (int i=ix-1; i &gt;= 0; i-- ){\n      if (str.charAt(i) != repl) break;\n      ix = i;\n    }\n    return str.substring(0,ix);\n  }\n  \n  //hardcut  \n  public static String chop(String str) {\n    return str.substring(0,str.length()-1);\n  }\n</code></pre>\n"}],"owner":{"display_name":"duaprog137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370159,"favorite_count":0,"down_vote_count":0,"up_vote_count":597,"accepted_answer_id":7438613,"answer_count":36,"score":597,"last_activity_date":1679322432,"creation_date":1316128563,"question_id":7438612,"body_markdown":"I want to remove the last character from a string. I&#39;ve tried doing this:\r\n\r\n    public String method(String str) {\r\n        if (str.charAt(str.length()-1)==&#39;x&#39;){\r\n            str = str.replace(str.substring(str.length()-1), &quot;&quot;);\r\n            return str;\r\n        } else{\r\n            return str;\r\n        }\r\n    }\r\n\r\nGetting the length of the string - 1 and replacing the last letter with nothing (deleting it), but every time I run the program, it deletes middle letters that are the same as the last letter.\r\n\r\nFor example, the word is &quot;admirer&quot;; after I run the method, I get &quot;admie.&quot; I want it to return the word admire.","title":"How to remove the last character from a string?","body":"<p>I want to remove the last character from a string. I've tried doing this:</p>\n\n<pre><code>public String method(String str) {\n    if (str.charAt(str.length()-1)=='x'){\n        str = str.replace(str.substring(str.length()-1), \"\");\n        return str;\n    } else{\n        return str;\n    }\n}\n</code></pre>\n\n<p>Getting the length of the string - 1 and replacing the last letter with nothing (deleting it), but every time I run the program, it deletes middle letters that are the same as the last letter.</p>\n\n<p>For example, the word is \"admirer\"; after I run the method, I get \"admie.\" I want it to return the word admire.</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1679037898,"post_id":75764656,"comment_id":133652302,"body_markdown":"I am already frustrated with the very poor quality of the CSS reference guide, and now this :( not good","body":"I am already frustrated with the very poor quality of the CSS reference guide, and now this :( not good"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679041579,"post_id":75764656,"comment_id":133653152,"body_markdown":"I guess you saw [the answer on importing a jar](https://stackoverflow.com/questions/29444698/how-to-create-an-fxml-file-for-an-already-created-new-component-in-java-than-add/29444845#29444845).  Your sample custom control code looks ok to me.  It should be the only file in your imported jar, just one class file and nothing else (run `jar tvf` on the jar to check).  Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime.  Run SceneBuilder from the command line and check the console output.","body":"I guess you saw <a href=\"https://stackoverflow.com/questions/29444698/how-to-create-an-fxml-file-for-an-already-created-new-component-in-java-than-add/29444845#29444845\">the answer on importing a jar</a>.  Your sample custom control code looks ok to me.  It should be the only file in your imported jar, just one class file and nothing else (run <code>jar tvf</code> on the jar to check).  Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime.  Run SceneBuilder from the command line and check the console output."},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1679044191,"post_id":75764656,"comment_id":133653753,"body_markdown":"Besides the manifest, it is the only file. I tried running SceneBuilder from console, and it didn&#39;t work with ```JAVAHOME (19.0.2)``` but it did work with it&#39;s own runtime JAVA (19). ```Error: Could not find or load main class... NoClassDefFoundError``` \nAnd there were no errors when importing.","body":"Besides the manifest, it is the only file. I tried running SceneBuilder from console, and it didn&#39;t work with <code>JAVAHOME (19.0.2)</code> but it did work with it&#39;s own runtime JAVA (19). <code>Error: Could not find or load main class... NoClassDefFoundError</code>  And there were no errors when importing."}],"answers":[{"tags":[],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679321995,"creation_date":1679321995,"answer_id":75791443,"question_id":75764656,"body_markdown":"Ass @jewelsea suggested, \r\n\r\n&gt; Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime\r\n\r\n19.0.2 is too new for Scenebuilder using 19.0.0. I though as long as the major version is not bigger than SceneBuilder&#39;s it will work, I was wrong.","title":"Custom Component not appearing in SceneBuilder import dialogue","body":"<p>Ass @jewelsea suggested,</p>\n<blockquote>\n<p>Make sure the byte code version compiled to &lt;= byte code version of your SceneBuilder Java runtime</p>\n</blockquote>\n<p>19.0.2 is too new for Scenebuilder using 19.0.0. I though as long as the major version is not bigger than SceneBuilder's it will work, I was wrong.</p>\n"}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75791443,"answer_count":1,"score":0,"last_activity_date":1679322094,"creation_date":1679037089,"question_id":75764656,"body_markdown":"When Importing Custom JavaFX Components into SceneBuilder, none of my UI compoments are displayed in the import dialog.\r\n\r\nMy Custom Component:\r\n```java\r\npackage co.za.hein;\r\n\r\nimport javafx.scene.control.Button;\r\n\r\npublic class TestButton extends Button {\r\n\r\n    public TestButton() {\r\n        super();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe import Dialog in Scenebuilder:\r\n[![enter image description here][1]][1]\r\n\r\nI compile my Component with ```java 19.0.2 2023-01-17``` and I am using the latest [SceneBuilder 19 version][2]. I&#39;ve tried including javafx dependencies in the jar, but no difference. There is also no stack trace when looking at the Jar analysis report, except when including all javafx dependencies. (All the errors are about jacafx not my component)\r\n\r\n### Extra Info:\r\nUsing VSCode, and compiling using built in ```export jar``` function.\r\n\r\nI am aware that there are many questions already on stackoverflow around importing Custom components into SceneBuilder, although it seems that none of them had a concise answer. I have provided the most simple example that just should work. There is no documentation I can find on creating Custom Components, only on importing them.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Dy4Y.png\r\n  [2]: https://gluonhq.com/products/scene-builder/","title":"Custom Component not appearing in SceneBuilder import dialogue","body":"<p>When Importing Custom JavaFX Components into SceneBuilder, none of my UI compoments are displayed in the import dialog.</p>\n<p>My Custom Component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package co.za.hein;\n\nimport javafx.scene.control.Button;\n\npublic class TestButton extends Button {\n\n    public TestButton() {\n        super();\n    }\n\n}\n</code></pre>\n<p>The import Dialog in Scenebuilder:\n<a href=\"https://i.stack.imgur.com/8Dy4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Dy4Y.png\" alt=\"enter image description here\" /></a></p>\n<p>I compile my Component with <code>java 19.0.2 2023-01-17</code> and I am using the latest <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\">SceneBuilder 19 version</a>. I've tried including javafx dependencies in the jar, but no difference. There is also no stack trace when looking at the Jar analysis report, except when including all javafx dependencies. (All the errors are about jacafx not my component)</p>\n<h3>Extra Info:</h3>\n<p>Using VSCode, and compiling using built in <code>export jar</code> function.</p>\n<p>I am aware that there are many questions already on stackoverflow around importing Custom components into SceneBuilder, although it seems that none of them had a concise answer. I have provided the most simple example that just should work. There is no documentation I can find on creating Custom Components, only on importing them.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679321517,"creation_date":1679317034,"answer_id":75790546,"question_id":75764102,"body_markdown":"The original exception object is not available, but information about the exception is available in message headers; either consume `Message&lt;String&gt; msg` in the DLT handler (and use `msg.getHeaders.get(...)`) or extract the headers individually, as shown in [this question](https://stackoverflow.com/questions/69229529/spring-kafka-dlthandler-annotated-method-is-not-receiving-headers-correctly-in)\r\n\r\n```java\r\n@DltHandler\r\nvoid handler(String message,\r\n        @Header(KafkaHeaders.ORIGINAL_OFFSET) byte[] offset,\r\n        @Header(KafkaHeaders.EXCEPTION_FQCN) String descException,\r\n        @Header(KafkaHeaders.EXCEPTION_STACKTRACE) String stacktrace,\r\n        @Header(KafkaHeaders.EXCEPTION_MESSAGE) String errorMessage) {\r\n    System.out.println(msg);\r\n    System.out.println(ByteBuffer.wrap(offset).getLong());\r\n    System.out.println(descException);\r\n    System.out.println(stacktrace);\r\n    System.out.println(errorMessage);\r\n}\r\n```","title":"Access Exception thrown during NonBlocking retry in DltHandler","body":"<p>The original exception object is not available, but information about the exception is available in message headers; either consume <code>Message&lt;String&gt; msg</code> in the DLT handler (and use <code>msg.getHeaders.get(...)</code>) or extract the headers individually, as shown in <a href=\"https://stackoverflow.com/questions/69229529/spring-kafka-dlthandler-annotated-method-is-not-receiving-headers-correctly-in\">this question</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@DltHandler\nvoid handler(String message,\n        @Header(KafkaHeaders.ORIGINAL_OFFSET) byte[] offset,\n        @Header(KafkaHeaders.EXCEPTION_FQCN) String descException,\n        @Header(KafkaHeaders.EXCEPTION_STACKTRACE) String stacktrace,\n        @Header(KafkaHeaders.EXCEPTION_MESSAGE) String errorMessage) {\n    System.out.println(msg);\n    System.out.println(ByteBuffer.wrap(offset).getLong());\n    System.out.println(descException);\n    System.out.println(stacktrace);\n    System.out.println(errorMessage);\n}\n</code></pre>\n"}],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790546,"answer_count":1,"score":0,"last_activity_date":1679321976,"creation_date":1679031700,"question_id":75764102,"body_markdown":"I want to know if it is possible to get hold of the original exception thrown in the `@KafkaListener` method during DLT Processing, i.e in `@DltHandler` method.\r\n  \r\nFor example, I have a method like this \r\n\r\n    @KafkaListener(topics = &quot;message&quot;, groupId = &quot;1&quot;)\r\n    @RetryableTopic(attempts = &quot;3&quot;, backoff = @Backoff(value = 3000L))\r\n    public void readMessages(@Payload String message) {\r\n         // Some exception is thrown here\r\n    }\r\n\r\nI have a Dlt handler in the same class like this \r\n\r\n    @DltHandler\r\n    public void processDltMessages(String message) {\r\n        // I want to have a custom logic based on the exception thrown. \r\n        // How to know the exception thrown in the original method.\r\n    }","title":"Access Exception thrown during NonBlocking retry in DltHandler","body":"<p>I want to know if it is possible to get hold of the original exception thrown in the <code>@KafkaListener</code> method during DLT Processing, i.e in <code>@DltHandler</code> method.</p>\n<p>For example, I have a method like this</p>\n<pre><code>@KafkaListener(topics = &quot;message&quot;, groupId = &quot;1&quot;)\n@RetryableTopic(attempts = &quot;3&quot;, backoff = @Backoff(value = 3000L))\npublic void readMessages(@Payload String message) {\n     // Some exception is thrown here\n}\n</code></pre>\n<p>I have a Dlt handler in the same class like this</p>\n<pre><code>@DltHandler\npublic void processDltMessages(String message) {\n    // I want to have a custom logic based on the exception thrown. \n    // How to know the exception thrown in the original method.\n}\n</code></pre>\n"},{"tags":["java","web-services","security","soap-client"],"comments":[{"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"score":0,"creation_date":1679316161,"post_id":71720105,"comment_id":133694230,"body_markdown":"I&#39;m also experiencing this exact problem :(, did anyone manage to solve it?","body":"I&#39;m also experiencing this exact problem :(, did anyone manage to solve it?"},{"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"score":0,"creation_date":1679321839,"post_id":71720105,"comment_id":133695966,"body_markdown":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work","body":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work"}],"answers":[{"tags":[],"owner":{"account_id":6092730,"reputation":71,"user_id":4754524,"accept_rate":67,"display_name":"Ronald Calazans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679321861,"creation_date":1679321861,"answer_id":75791420,"question_id":71720105,"body_markdown":"I found the solution for my case, I changed the url protocol from http to https, that way it started to work","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response while calling a soap webservice","body":"<p>I found the solution for my case, I changed the url protocol from http to https, that way it started to work</p>\n"}],"owner":{"account_id":24801743,"reputation":1,"user_id":18684058,"display_name":"Tanvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679321861,"creation_date":1648923708,"question_id":71720105,"body_markdown":"While calling a Soap web service through Java code I am getting bad response 302 found.\r\nIf I hit same url through postman it gives a response.\r\n\r\nCan anyone provide a reason and a solution for this problem\r\n\r\nCODE:\r\n\r\n// Create SOAP Connection\r\n\r\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n    \r\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n    \r\n    \r\n    \r\n            // Send SOAP Message to SOAP Server\r\n    \r\n            String url = &quot;http://localhost:8080/xyz&quot;;\r\n    \r\n            SOAPMessage soapResponse = null;\r\n    \r\n            try\r\n    \r\n            {\r\n    \r\n                soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n    \r\n            }\r\n    \r\n            catch (SOAPException e)\r\n    \r\n            {\r\n    \r\n                // TODO Auto-generated catch block\r\n    \r\n                e.printStackTrace();\r\n    \r\n            }\r\n    \r\n            catch (Exception e)\r\n    \r\n            {\r\n    \r\n                // TODO Auto-generated catch block\r\n    \r\n                e.printStackTrace();\r\n    \r\n            }\r\n\r\nError:\r\n\r\nMar 01, 2022 8:29:10 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\r\nSEVERE: SAAJ0008: Bad Response; Found\r\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (302Found\r\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\r\nat SeibelClient.main(SeibelClient.java:58)\r\nCaused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (400Bad request\r\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\r\n... 2 more\r\n\r\nCan anyone suggest a solution for this.\r\n\r\nAlso If I am hitting the url and the Soap message through postman it gives a response but while hitting through a java code it gives the above error.\r\n\r\nCan it be a security or a certificate issue.\r\n\r\nAlso 302 is a redirected code but as you can see in the error it does not gives a new location","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response while calling a soap webservice","body":"<p>While calling a Soap web service through Java code I am getting bad response 302 found.\nIf I hit same url through postman it gives a response.</p>\n<p>Can anyone provide a reason and a solution for this problem</p>\n<p>CODE:</p>\n<p>// Create SOAP Connection</p>\n<pre><code>        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n\n        SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n\n\n        // Send SOAP Message to SOAP Server\n\n        String url = &quot;http://localhost:8080/xyz&quot;;\n\n        SOAPMessage soapResponse = null;\n\n        try\n\n        {\n\n            soapResponse = soapConnection.call(createSOAPRequest(), url);\n\n        }\n\n        catch (SOAPException e)\n\n        {\n\n            // TODO Auto-generated catch block\n\n            e.printStackTrace();\n\n        }\n\n        catch (Exception e)\n\n        {\n\n            // TODO Auto-generated catch block\n\n            e.printStackTrace();\n\n        }\n</code></pre>\n<p>Error:</p>\n<p>Mar 01, 2022 8:29:10 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0008: Bad Response; Found\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (302Found\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.call(Unknown Source)\nat SeibelClient.main(SeibelClient.java:58)\nCaused by: com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (400Bad request\nat com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.post(Unknown Source)\n... 2 more</p>\n<p>Can anyone suggest a solution for this.</p>\n<p>Also If I am hitting the url and the Soap message through postman it gives a response but while hitting through a java code it gives the above error.</p>\n<p>Can it be a security or a certificate issue.</p>\n<p>Also 302 is a redirected code but as you can see in the error it does not gives a new location</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1679323437,"post_id":75791402,"comment_id":133696542,"body_markdown":"the official docs recommend a simple structure under `src/test/java` - you can adapt those: https://github.com/karatelabs/karate#naming-conventions - I&#39;ll be curious to see answers from actual users","body":"the official docs recommend a simple structure under <code>src&#47;test&#47;java</code> - you can adapt those: <a href=\"https://github.com/karatelabs/karate#naming-conventions\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#naming-conventions</a> - I&#39;ll be curious to see answers from actual users"}],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679321770,"creation_date":1679321770,"question_id":75791402,"body_markdown":"I am trying to re-organize karate test cases to proper folder structure and wanted some suggestions on best practices if any.\r\n\r\nI have all requests under request folder without any subfolders and all util features in a utilFeatures package and the test cases are right under features without any packaging. \r\n```\r\nresources\r\n  features\r\n     requests\r\n     utilFeatures\r\n     *all tests under features directly without any folder*\r\n```\r\n\r\nSo now my requirement is changed and my code base has code for admin and user functionalities and because of that now I am thinking to separate folders in the process to organize it for simplicity and usage. \r\n\r\nSo any suggestions on how to do this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to package karate api testing test cases properly?","body":"<p>I am trying to re-organize karate test cases to proper folder structure and wanted some suggestions on best practices if any.</p>\n<p>I have all requests under request folder without any subfolders and all util features in a utilFeatures package and the test cases are right under features without any packaging.</p>\n<pre><code>resources\n  features\n     requests\n     utilFeatures\n     *all tests under features directly without any folder*\n</code></pre>\n<p>So now my requirement is changed and my code base has code for admin and user functionalities and because of that now I am thinking to separate folders in the process to organize it for simplicity and usage.</p>\n<p>So any suggestions on how to do this?</p>\n"},{"tags":["java","spring-boot","api","hibernate"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679323104,"post_id":75791371,"comment_id":133696412,"body_markdown":"You can create a rest client library to retrieve the data from the external table via, iterate through the external data and compare it with the internal data to determine which rows need to be inserted, updated, or deleted.","body":"You can create a rest client library to retrieve the data from the external table via, iterate through the external data and compare it with the internal data to determine which rows need to be inserted, updated, or deleted."},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1679323726,"post_id":75791371,"comment_id":133696637,"body_markdown":"If you have only 1200 items, consider using a data structure inside your app, like List&lt;ModelClass&gt;. Well, it depends on data you have, if it is a 2Gb BLOB in one cell, then, you know :)...  Other solution can be a in memory NoSQL DB, like Redis to store API responses.","body":"If you have only 1200 items, consider using a data structure inside your app, like List&lt;ModelClass&gt;. Well, it depends on data you have, if it is a 2Gb BLOB in one cell, then, you know :)...  Other solution can be a in memory NoSQL DB, like Redis to store API responses."}],"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679321634,"creation_date":1679321634,"question_id":75791371,"body_markdown":"I have an internal table that needs to be maintained and kept in sync with an external table which I can only access via a rest API. After getting the API data if the internal table doesn’t contain a row for the unique identifier I insert a row. If it exists but something has changed I do an update. And if the internal table has a row that is no longer in the response data I delete it. My initial thought is build a temp table containing all the rest data and then do an insert where not exists, update where different, and delete from master where not in temp. Drop temp table at the end. The core app is Java spring boot data JPA so that’s what I’m using. Is there a cleaner way to do this? The data set isn’t expected to be huge. Less than 1200 rows expected.  \r\n\r\nI have a model class and had also thought about just comparing the objects from db and the rest data but not sure if that’s a better approach or something different. ","title":"Compare data from API response to oracle table","body":"<p>I have an internal table that needs to be maintained and kept in sync with an external table which I can only access via a rest API. After getting the API data if the internal table doesn’t contain a row for the unique identifier I insert a row. If it exists but something has changed I do an update. And if the internal table has a row that is no longer in the response data I delete it. My initial thought is build a temp table containing all the rest data and then do an insert where not exists, update where different, and delete from master where not in temp. Drop temp table at the end. The core app is Java spring boot data JPA so that’s what I’m using. Is there a cleaner way to do this? The data set isn’t expected to be huge. Less than 1200 rows expected.</p>\n<p>I have a model class and had also thought about just comparing the objects from db and the rest data but not sure if that’s a better approach or something different.</p>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388231696,"creation_date":1388231696,"answer_id":20814231,"question_id":20814209,"body_markdown":"You have defined your `setDestination` as a `private` \r\n\r\n    private void setDestination(String destination) \r\n\r\nSo you cannot access it via inheritance. Either change it to `protected` or `public. Learn more info on Access modifiers [here.][1]\r\n\r\n\r\n  [1]: http://javapapers.com/core-java/access-modifiers-in-java-explain/","title":"Calling a method from a superclass","body":"<p>You have defined your <code>setDestination</code> as a <code>private</code> </p>\n\n<pre><code>private void setDestination(String destination) \n</code></pre>\n\n<p>So you cannot access it via inheritance. Either change it to <code>protected</code> or `public. Learn more info on Access modifiers <a href=\"http://javapapers.com/core-java/access-modifiers-in-java-explain/\" rel=\"nofollow\">here.</a></p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1388231700,"creation_date":1388231700,"answer_id":20814233,"question_id":20814209,"body_markdown":"It&#39;s a `private` method. You cannot access private methods. Change it to protected.\r\n\r\nYou can access private members with in the class only.\r\n\r\n\r\n       Modifier\tClass\tPackage\tSubclass\tWorld\r\n        ---------------------------------------------\r\n        public\t    Y\t   Y    \tY\t        Y\r\n        protected\tY      Y\t    Y\t        N\r\n        no modifier\tY      Y\t    N\t        N\r\n        private\t    Y\t   N\t    N\t        N\r\n\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n","title":"Calling a method from a superclass","body":"<p>It's a <code>private</code> method. You cannot access private methods. Change it to protected.</p>\n\n<p>You can access private members with in the class only.</p>\n\n<pre><code>   Modifier Class   Package Subclass    World\n    ---------------------------------------------\n    public      Y      Y        Y           Y\n    protected   Y      Y        Y           N\n    no modifier Y      Y        N           N\n    private     Y      N        N           N\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a></p>\n"},{"tags":[],"owner":{"account_id":2570915,"reputation":3265,"user_id":3075488,"accept_rate":84,"display_name":"Sitansu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388233256,"creation_date":1388231740,"answer_id":20814243,"question_id":20814209,"body_markdown":"The private methods are not inherited  , a superclass reference calls its own private method.\r\n\r\nuse  `private void setDestination(String destination)` instead of\r\n\r\n     public void setDestination(String destination) \r\n\r\n\r\n","title":"Calling a method from a superclass","body":"<p>The private methods are not inherited  , a superclass reference calls its own private method.</p>\n\n<p>use  <code>private void setDestination(String destination)</code> instead of</p>\n\n<pre><code> public void setDestination(String destination) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3381498,"reputation":1603,"user_id":2838451,"accept_rate":100,"display_name":"Sanjay Bhimani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388232606,"creation_date":1388232606,"answer_id":20814370,"question_id":20814209,"body_markdown":"private Modifier can&#39;t access from outside of class. ","title":"Calling a method from a superclass","body":"<p>private Modifier can't access from outside of class. </p>\n"},{"tags":[],"owner":{"account_id":23802521,"reputation":1,"user_id":17812511,"display_name":"mishatim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679321166,"creation_date":1679319831,"answer_id":75791029,"question_id":20814209,"body_markdown":"Additionally to the previous answers, the `destination` class member is declared `private`.  As such it will not be accessible to any subclass if called directly (as in arrived() and getStatus() methods of Taxi class).\r\n\r\nEither declare the `destination` as protected or change modifier of getDestination() to public or protected and use the method instead of direct access of the class member - as others mentioned earlier.","title":"Calling a method from a superclass","body":"<p>Additionally to the previous answers, the <code>destination</code> class member is declared <code>private</code>.  As such it will not be accessible to any subclass if called directly (as in arrived() and getStatus() methods of Taxi class).</p>\n<p>Either declare the <code>destination</code> as protected or change modifier of getDestination() to public or protected and use the method instead of direct access of the class member - as others mentioned earlier.</p>\n"}],"owner":{"account_id":3631465,"reputation":33,"user_id":3027484,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20814233,"answer_count":5,"score":3,"last_activity_date":1679321166,"creation_date":1388231561,"question_id":20814209,"body_markdown":"Hi. I am trying to call a method from a superclass via a subclass but keep getting an error.\r\nThe method I am trying to call is `setDestination()` however the compiler keeps giving me the error &quot;cannot find symbol - method setDestination(java.lang.string)&quot; my lecturer says that this is a simple miss match of the parameters of the method call and the method, but I have both method parameters as of type `String` so I am a little confused.\r\n\r\nMy code is:\r\n\r\nSuperclass Vehicle:\r\n\r\n         public class Vehicle\r\n         {\r\n         // A unique ID for this vehicle\r\n         private String id; \r\n         // The next destination of this Vehicle.\r\n         private String destination;\r\n\r\n         /**\r\n         * Constructor for objects of class Vehicle\r\n         */\r\n         public Vehicle(String id)\r\n         {\r\n             destination = null;\r\n         }\r\n\r\n         /**\r\n         * Return the ID of the Vehicle.\r\n         * @return The ID of the Vehicle.\r\n         */\r\n         public String getID()\r\n         {\r\n            return id;\r\n         }\r\n\r\n         /**\r\n         * Return the destination of the Vehicle.\r\n         * @return The destination of the Vehicle.\r\n         */\r\n         public String getDestination()\r\n         {\r\n             return destination;\r\n         }\r\n     \r\n         /**\r\n         * Set the intented destination of the Vehicle.\r\n         * @param destination The intended destination.\r\n         */\r\n         private void setDestination(String destination)\r\n         {\r\n             this.destination = destination;\r\n         }\r\n    }\r\n\r\nsubclass `Taxi`:\r\n\r\n    public class Taxi extends Vehicle\r\n    {\r\n        // The location of this taxi.\r\n        private String location;\r\n        // Whether it is free or not.\r\n        private boolean free;\r\n\r\n       /** \r\n        * Constructor for objects of class Taxi.\r\n        * @param base The name of the company&#39;s base.\r\n        * @param id This taxi&#39;s unique id.\r\n        */\r\n        public Taxi(String base, String id)\r\n        {\r\n             super(id);\r\n             location = base;\r\n             free = true;\r\n        }\r\n     \r\n       /**\r\n        * Book this taxi to the given destination.\r\n        * The status of the taxi will no longer be free.\r\n        * @param destination The taxi&#39;s destination.\r\n        */\r\n        public void book(String destination)\r\n        {\r\n            setDestination(destination);\r\n            free = false;\r\n        }\r\n\r\n       /**\r\n        * Return the status of this taxi.\r\n        * @return The status.\r\n        */\r\n        public String getStatus()\r\n        {   \r\n            return getID() + &quot; at &quot; + location + &quot; headed for &quot; +\r\n            destination;\r\n        }\r\n     \r\n        /**\r\n         * Return the location of the taxi.\r\n         * @return The location of the taxi.\r\n         */\r\n         public String getLocation()\r\n         {\r\n             return location;\r\n         }\r\n     \r\n         /**\r\n         * Indicate that this taxi has arrived at its destination.\r\n         * As a result, it will be free.\r\n         */\r\n         public void arrived()\r\n         {\r\n             location = destination;\r\n             destination = null;\r\n             free = true;\r\n         }\r\n     }\r\n\r\nAny help much appreciated.","title":"Calling a method from a superclass","body":"<p>Hi. I am trying to call a method from a superclass via a subclass but keep getting an error.\nThe method I am trying to call is <code>setDestination()</code> however the compiler keeps giving me the error \"cannot find symbol - method setDestination(java.lang.string)\" my lecturer says that this is a simple miss match of the parameters of the method call and the method, but I have both method parameters as of type <code>String</code> so I am a little confused.</p>\n\n<p>My code is:</p>\n\n<p>Superclass Vehicle:</p>\n\n<pre><code>     public class Vehicle\n     {\n     // A unique ID for this vehicle\n     private String id; \n     // The next destination of this Vehicle.\n     private String destination;\n\n     /**\n     * Constructor for objects of class Vehicle\n     */\n     public Vehicle(String id)\n     {\n         destination = null;\n     }\n\n     /**\n     * Return the ID of the Vehicle.\n     * @return The ID of the Vehicle.\n     */\n     public String getID()\n     {\n        return id;\n     }\n\n     /**\n     * Return the destination of the Vehicle.\n     * @return The destination of the Vehicle.\n     */\n     public String getDestination()\n     {\n         return destination;\n     }\n\n     /**\n     * Set the intented destination of the Vehicle.\n     * @param destination The intended destination.\n     */\n     private void setDestination(String destination)\n     {\n         this.destination = destination;\n     }\n}\n</code></pre>\n\n<p>subclass <code>Taxi</code>:</p>\n\n<pre><code>public class Taxi extends Vehicle\n{\n    // The location of this taxi.\n    private String location;\n    // Whether it is free or not.\n    private boolean free;\n\n   /** \n    * Constructor for objects of class Taxi.\n    * @param base The name of the company's base.\n    * @param id This taxi's unique id.\n    */\n    public Taxi(String base, String id)\n    {\n         super(id);\n         location = base;\n         free = true;\n    }\n\n   /**\n    * Book this taxi to the given destination.\n    * The status of the taxi will no longer be free.\n    * @param destination The taxi's destination.\n    */\n    public void book(String destination)\n    {\n        setDestination(destination);\n        free = false;\n    }\n\n   /**\n    * Return the status of this taxi.\n    * @return The status.\n    */\n    public String getStatus()\n    {   \n        return getID() + \" at \" + location + \" headed for \" +\n        destination;\n    }\n\n    /**\n     * Return the location of the taxi.\n     * @return The location of the taxi.\n     */\n     public String getLocation()\n     {\n         return location;\n     }\n\n     /**\n     * Indicate that this taxi has arrived at its destination.\n     * As a result, it will be free.\n     */\n     public void arrived()\n     {\n         location = destination;\n         destination = null;\n         free = true;\n     }\n }\n</code></pre>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679301748,"post_id":75787651,"comment_id":133690281,"body_markdown":"By the way: neither thread even needs to be suspended for a potential problem to occur, since almost all modern systems have multiple cores, code on multiple threads can *actually* run in parallel (as opposed to timesliced on single-core systems).","body":"By the way: neither thread even needs to be suspended for a potential problem to occur, since almost all modern systems have multiple cores, code on multiple threads can <i>actually</i> run in parallel (as opposed to timesliced on single-core systems)."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679301682,"creation_date":1679301682,"answer_id":75788067,"question_id":75787651,"body_markdown":"Since `OneValueCache` itself is thread-safe, there&#39;s really only two possible results when calling `cache.getFactors()` while another thread is potentially changing `cache`:\r\n\r\n - either the thread read `cache` from memory &quot;before&quot; the other thread updates it and it gets the old value *or*\r\n - the thread reads `cache` from memory &quot;after&quot; the other thread updates it and it gets the new value.\r\n\r\nBut since `cache` is never assigned `null` and all instances of `OneValueCache` behave correctly (an instance might not have cached the &quot;desired&quot; value, but if it doesn&#39;t it&#39;ll correctly return `null` which is handled correctly in `service()`) nothing will break: the code doesn&#39;t rely on `cache` having the same value more than once (which is a common source of race conditions), as it only reads it once.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>Since <code>OneValueCache</code> itself is thread-safe, there's really only two possible results when calling <code>cache.getFactors()</code> while another thread is potentially changing <code>cache</code>:</p>\n<ul>\n<li>either the thread read <code>cache</code> from memory &quot;before&quot; the other thread updates it and it gets the old value <em>or</em></li>\n<li>the thread reads <code>cache</code> from memory &quot;after&quot; the other thread updates it and it gets the new value.</li>\n</ul>\n<p>But since <code>cache</code> is never assigned <code>null</code> and all instances of <code>OneValueCache</code> behave correctly (an instance might not have cached the &quot;desired&quot; value, but if it doesn't it'll correctly return <code>null</code> which is handled correctly in <code>service()</code>) nothing will break: the code doesn't rely on <code>cache</code> having the same value more than once (which is a common source of race conditions), as it only reads it once.</p>\n"},{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679301720,"creation_date":1679301720,"answer_id":75788073,"question_id":75787651,"body_markdown":"The reason is that if one thread updates `cache`, while another is reading it, the second thread will either see a reference to the old or new instance of `OneValueCache` (this is guaranteed by the volatile variable). And because `OneValueCache` is immutable, is not that the values could change under the rug.\r\n\r\nThere could be one problem though. Imagine that service calls `getFactors` twice.\r\n```\r\n    public void service(int sec) {\r\n        BigInteger[] one = cache.getFactors(i, sec);\r\n        [...]\r\n        BigInteger[] two = cache.getFactors(i, sec);\r\n    }\r\n```\r\nIn this case the underlying cached value could have changed. If that&#39;s a bad thing, the code could first assign `cache` to a local variable and reference that.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>The reason is that if one thread updates <code>cache</code>, while another is reading it, the second thread will either see a reference to the old or new instance of <code>OneValueCache</code> (this is guaranteed by the volatile variable). And because <code>OneValueCache</code> is immutable, is not that the values could change under the rug.</p>\n<p>There could be one problem though. Imagine that service calls <code>getFactors</code> twice.</p>\n<pre><code>    public void service(int sec) {\n        BigInteger[] one = cache.getFactors(i, sec);\n        [...]\n        BigInteger[] two = cache.getFactors(i, sec);\n    }\n</code></pre>\n<p>In this case the underlying cached value could have changed. If that's a bad thing, the code could first assign <code>cache</code> to a local variable and reference that.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679320252,"creation_date":1679312667,"answer_id":75789853,"question_id":75787651,"body_markdown":"&gt; ...invoking a method on a field...\r\n\r\nYou don&#39;t invoke methods on fields. You invoke methods on _objects._ When you write `cache.getFactors(i,sec)`, that&#39;s invoking the `getFactors` method on the _object_ to which `cache` refers. Let&#39;s call that object, &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;, and let&#39;s call that invocation of the `getFactors` method, &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;.\r\n\r\nIf some other thread subsequently sets `cache=new OneValueCache(i,factors)`, then `cache` now refers to a different object, &lt;i&gt;O&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt;. But, that doesn&#39;t change which object was the target of &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;. If that function invocation still is in progress, then it still is working on &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt;. When &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; accesses `lastFactors` or `lastNumber`, it still is accessing the fields of the &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; object.\r\n\r\nIt&#39;s still true even when the other thread subsequently invokes `cache.getFactors(i,sec)`. That&#39;s &lt;i&gt;Call&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt; which is working on &lt;i&gt;O&lt;sub&gt;2&lt;/sub&gt;&lt;/i&gt;. But, &lt;i&gt;Call&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; doesn&#39;t know anything about that. It will continue to work on &lt;i&gt;O&lt;sub&gt;1&lt;/sub&gt;&lt;/i&gt; until it returns.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<blockquote>\n<p>...invoking a method on a field...</p>\n</blockquote>\n<p>You don't invoke methods on fields. You invoke methods on <em>objects.</em> When you write <code>cache.getFactors(i,sec)</code>, that's invoking the <code>getFactors</code> method on the <em>object</em> to which <code>cache</code> refers. Let's call that object, <i>O<sub>1</sub></i>, and let's call that invocation of the <code>getFactors</code> method, <i>Call<sub>1</sub></i>.</p>\n<p>If some other thread subsequently sets <code>cache=new OneValueCache(i,factors)</code>, then <code>cache</code> now refers to a different object, <i>O<sub>2</sub></i>. But, that doesn't change which object was the target of <i>Call<sub>1</sub></i>. If that function invocation still is in progress, then it still is working on <i>O<sub>1</sub></i>. When <i>Call<sub>1</sub></i> accesses <code>lastFactors</code> or <code>lastNumber</code>, it still is accessing the fields of the <i>O<sub>1</sub></i> object.</p>\n<p>It's still true even when the other thread subsequently invokes <code>cache.getFactors(i,sec)</code>. That's <i>Call<sub>2</sub></i> which is working on <i>O<sub>2</sub></i>. But, <i>Call<sub>1</sub></i> doesn't know anything about that. It will continue to work on <i>O<sub>1</sub></i> until it returns.</p>\n"}],"owner":{"account_id":15813540,"reputation":3,"user_id":11409913,"display_name":"Unicorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75789853,"answer_count":3,"score":0,"last_activity_date":1679320252,"creation_date":1679298400,"question_id":75787651,"body_markdown":"I was reading Java Concurrency In Practice, and saw a program like this:\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class TestImmutable {\r\n\r\n    private volatile OneValueCache cache =\r\n            new OneValueCache(new BigInteger(&quot;1&quot;), new BigInteger[]{new BigInteger(&quot;1&quot;)});\r\n\r\n    public void service(int sec) {\r\n        Random random = new Random();\r\n        BigInteger i = new BigInteger(String.valueOf(random.nextInt()));\r\n        BigInteger[] factors = cache.getFactors(i, sec);\r\n        if (factors == null) {\r\n            factors = new BigInteger[]{i};\r\n            cache = new OneValueCache(i, factors);\r\n            System.out.println(&quot;After update: &quot; + cache);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestImmutable testImmutable = new TestImmutable();\r\n        new Thread(() -&gt; testImmutable.service(0)).start();\r\n        new Thread(() -&gt; testImmutable.service(15)).start();\r\n    }\r\n\r\n}\r\n\r\n\r\nclass OneValueCache {\r\n    private final BigInteger lastNumber;\r\n    private final BigInteger[] lastFactors;\r\n\r\n    public OneValueCache(BigInteger i,\r\n                         BigInteger[] factors) {\r\n        lastNumber = i;\r\n        lastFactors = Arrays.copyOf(factors, factors.length);\r\n    }\r\n\r\n    public BigInteger[] getFactors(BigInteger i, int sec) {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(sec);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Inside cache: &quot; + this);\r\n        if (lastNumber == null || !lastNumber.equals(i))\r\n            return null;\r\n        else\r\n            return Arrays.copyOf(lastFactors, lastFactors.length);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OneValueCache{&quot; +\r\n                &quot;lastNumber=&quot; + lastNumber +\r\n                &quot;, lastFactors=&quot; + Arrays.toString(lastFactors) +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nIt says in the book because class `OneValueCache` is immutable, so its usage in `TestImmutable` is thread safe.\r\n\r\nHowever I&#39;m curious about what happens if one thread gets suspended when **in the middle of executing** `cache.getFactors(...)` and then another thread updates the `cache` reference, then the first thread continues to execute the code. In this case which object is the first thread is working with, object before or after the second thread updated?\r\n\r\nThe code above was intended to create a scenario like this, but i can&#39;t control when and where the thread gets suspended, so I don&#39;t think its working right.","title":"What happens in java when a thread gets suspended in the middle of invoking a method on a field while another thread changes the field?","body":"<p>I was reading Java Concurrency In Practice, and saw a program like this:</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\n\npublic class TestImmutable {\n\n    private volatile OneValueCache cache =\n            new OneValueCache(new BigInteger(&quot;1&quot;), new BigInteger[]{new BigInteger(&quot;1&quot;)});\n\n    public void service(int sec) {\n        Random random = new Random();\n        BigInteger i = new BigInteger(String.valueOf(random.nextInt()));\n        BigInteger[] factors = cache.getFactors(i, sec);\n        if (factors == null) {\n            factors = new BigInteger[]{i};\n            cache = new OneValueCache(i, factors);\n            System.out.println(&quot;After update: &quot; + cache);\n        }\n    }\n\n    public static void main(String[] args) {\n        TestImmutable testImmutable = new TestImmutable();\n        new Thread(() -&gt; testImmutable.service(0)).start();\n        new Thread(() -&gt; testImmutable.service(15)).start();\n    }\n\n}\n\n\nclass OneValueCache {\n    private final BigInteger lastNumber;\n    private final BigInteger[] lastFactors;\n\n    public OneValueCache(BigInteger i,\n                         BigInteger[] factors) {\n        lastNumber = i;\n        lastFactors = Arrays.copyOf(factors, factors.length);\n    }\n\n    public BigInteger[] getFactors(BigInteger i, int sec) {\n        try {\n            TimeUnit.SECONDS.sleep(sec);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Inside cache: &quot; + this);\n        if (lastNumber == null || !lastNumber.equals(i))\n            return null;\n        else\n            return Arrays.copyOf(lastFactors, lastFactors.length);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OneValueCache{&quot; +\n                &quot;lastNumber=&quot; + lastNumber +\n                &quot;, lastFactors=&quot; + Arrays.toString(lastFactors) +\n                '}';\n    }\n}\n</code></pre>\n<p>It says in the book because class <code>OneValueCache</code> is immutable, so its usage in <code>TestImmutable</code> is thread safe.</p>\n<p>However I'm curious about what happens if one thread gets suspended when <strong>in the middle of executing</strong> <code>cache.getFactors(...)</code> and then another thread updates the <code>cache</code> reference, then the first thread continues to execute the code. In this case which object is the first thread is working with, object before or after the second thread updated?</p>\n<p>The code above was intended to create a scenario like this, but i can't control when and where the thread gets suspended, so I don't think its working right.</p>\n"},{"tags":["c#","java","string"],"comments":[{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1429924477,"post_id":3581741,"comment_id":47845600,"body_markdown":"Are you looking for a solution that only works on strings guaranteed not to contain any non-16-bit Unicode characters? Or are you looking for a solution that works on an arbitrary string?","body":"Are you looking for a solution that only works on strings guaranteed not to contain any non-16-bit Unicode characters? Or are you looking for a solution that works on an arbitrary string?"}],"answers":[{"tags":[],"owner":{"account_id":12060,"reputation":33202,"user_id":23574,"display_name":"shahkalpesh"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1282889744,"creation_date":1282889429,"answer_id":3581745,"question_id":3581741,"body_markdown":"    string sample = &quot;ratty&quot;;\r\n    Console.WriteLine(sample[0]);\r\n\r\nAnd\r\n\r\n&lt;strike&gt;\r\n`Console.WriteLine(sample.Chars(0));`  \r\nReference: http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx\r\n&lt;/strike&gt;\r\n\r\nThe above is same as using indexers in c#.","title":"C# equivalent to Java&#39;s charAt()?","body":"<pre><code>string sample = \"ratty\";\nConsole.WriteLine(sample[0]);\n</code></pre>\n\n<p>And</p>\n\n<p><strike>\n<code>Console.WriteLine(sample.Chars(0));</code><br>\nReference: <a href=\"http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/library/system.string.chars%28v=VS.71%29.aspx</a>\n</strike></p>\n\n<p>The above is same as using indexers in c#.</p>\n"},{"tags":[],"owner":{"account_id":81997,"reputation":7790,"user_id":230892,"display_name":"Zach"},"down_vote_count":1,"up_vote_count":245,"is_accepted":true,"score":244,"last_activity_date":1395263563,"creation_date":1282889458,"answer_id":3581751,"question_id":3581741,"body_markdown":"You can index into a string in C# like an array, and you get the character at that index.\r\n\r\nExample:\r\n\r\nIn Java, you would say \r\n\r\n    str.charAt(8);\r\n\r\nIn C#, you would say \r\n\r\n    str[8];","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>You can index into a string in C# like an array, and you get the character at that index.</p>\n\n<p>Example:</p>\n\n<p>In Java, you would say </p>\n\n<pre><code>str.charAt(8);\n</code></pre>\n\n<p>In C#, you would say </p>\n\n<pre><code>str[8];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191828,"reputation":1,"user_id":432640,"display_name":"AndrewJames57"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1638261028,"creation_date":1282893358,"answer_id":3582091,"question_id":3581741,"body_markdown":"`Console.WriteLine` allows the user to specify a position in a string.\r\n\r\nSee below sample code:\r\n\r\n    string str = &quot;Tigger&quot;;\r\n    Console.WriteLine( str[0] ); //returns &quot;T&quot;;\r\n    Console.WriteLine( str[2] ); //returns &quot;g&quot;;\r\n\r\nThere you go!\r\n","title":"C# equivalent to Java&#39;s charAt()?","body":"<p><code>Console.WriteLine</code> allows the user to specify a position in a string.</p>\n<p>See below sample code:</p>\n<pre><code>string str = &quot;Tigger&quot;;\nConsole.WriteLine( str[0] ); //returns &quot;T&quot;;\nConsole.WriteLine( str[2] ); //returns &quot;g&quot;;\n</code></pre>\n<p>There you go!</p>\n"},{"tags":[],"owner":{"account_id":5344962,"reputation":1,"user_id":4260753,"display_name":"swapnil rawat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416222218,"creation_date":1416220559,"answer_id":26970703,"question_id":3581741,"body_markdown":"please try to make it as a character \r\n\r\n    string str = &quot;Tigger&quot;;\r\n    //then str[0] will return &#39;T&#39; not &quot;T&quot;","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>please try to make it as a character </p>\n\n<pre><code>string str = \"Tigger\";\n//then str[0] will return 'T' not \"T\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7152145,"reputation":52,"user_id":5465778,"display_name":"Harshad Karemore"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462171314,"creation_date":1462171314,"answer_id":36976369,"question_id":3581741,"body_markdown":"you can use LINQ \r\n\r\n    string abc = &quot;abc&quot;;\r\n    char getresult = abc.Where((item, index) =&gt; index == 2).Single();","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>you can use LINQ </p>\n\n<pre><code>string abc = \"abc\";\nchar getresult = abc.Where((item, index) =&gt; index == 2).Single();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11994134,"reputation":1,"user_id":8776262,"display_name":"Nguyễn Trần Hiển"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1507993858,"creation_date":1507993858,"answer_id":46746014,"question_id":3581741,"body_markdown":"Simply use `String.ElementAt()`. It&#39;s quite similar to java&#39;s `String.charAt()`. Have fun coding!","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>Simply use <code>String.ElementAt()</code>. It's quite similar to java's <code>String.charAt()</code>. Have fun coding!</p>\n"},{"tags":[],"owner":{"account_id":4830591,"reputation":21,"user_id":3898882,"display_name":"user3898882"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679319983,"creation_date":1679319983,"answer_id":75791053,"question_id":3581741,"body_markdown":"In C#, the string must be static for saying :\r\n\r\nstr[8];\r\n","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>In C#, the string must be static for saying :</p>\n<p>str[8];</p>\n"}],"owner":{"account_id":85045,"reputation":13256,"user_id":237363,"accept_rate":54,"display_name":"ratty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225538,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":3581751,"answer_count":7,"score":142,"last_activity_date":1679319983,"creation_date":1282889344,"question_id":3581741,"body_markdown":"I know we can use the `charAt()` method in Java get an individual character in a string by specifying its position. Is there an equivalent method in C#?","title":"C# equivalent to Java&#39;s charAt()?","body":"<p>I know we can use the <code>charAt()</code> method in Java get an individual character in a string by specifying its position. Is there an equivalent method in C#?</p>\n"},{"tags":["java","azure","log4j2","apache-commons-logging","azure-file-share"],"owner":{"account_id":1542148,"reputation":559,"user_id":1436519,"display_name":"jsjunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679319499,"creation_date":1679319499,"question_id":75790963,"body_markdown":"We have a strange problem with our application logs getting written to a shared file storage in Azure. We write some deserialiszed object into a file using common-logging and log4j2 2.17. \r\n\r\nThe logs in shared drive sometime write few lines with NUL character and actual log lines are lost.\r\n\r\nTo check whether its shared drive issue, we started writing same log to another file within VM storage and logs in this VM file appear normal.\r\n\r\nLog in shared drive appears like in notepad++\r\n{correct log entry}\r\nNULNULNULUNULNULNUL\r\n{correct log entry}\r\n\r\nThe code to write logs is as following\r\n\r\n`    public class MyCustomLogger {\r\n    \tprivate static Log LOGGER = LogFactory.getLog(MyCustomLogger.class);\r\n\r\n    \tpublic void logEvent(EventObject event) {\r\n\r\n \t\t\tString result = null;\r\n    \t\ttry {\r\n    \t\t    result = ms_jsonObjectMapper.writeValueAsString(event);\r\n    \t\t}  catch (Exception e) {\r\n    \t\t    logger.myError(&quot;Error while serialising record&quot; + event);\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t\tLOGGER.trace(result);\r\n\r\n    \t}\r\n\r\n    }`\r\n\r\n\r\nI tried to see if there is connectivity issue in file share but Azure portal shows 100% availability and less success E2E latency. Tried to reproduce locally by reading same log file from few threads and one thread updating it.\r\n\r\nI am expecting some pointers. What could be wrong here. Is it application issue or Infra or network issue?","title":"Garbled Text in log file on shared drive but no issue in VM local storage","body":"<p>We have a strange problem with our application logs getting written to a shared file storage in Azure. We write some deserialiszed object into a file using common-logging and log4j2 2.17.</p>\n<p>The logs in shared drive sometime write few lines with NUL character and actual log lines are lost.</p>\n<p>To check whether its shared drive issue, we started writing same log to another file within VM storage and logs in this VM file appear normal.</p>\n<p>Log in shared drive appears like in notepad++\n{correct log entry}\nNULNULNULUNULNULNUL\n{correct log entry}</p>\n<p>The code to write logs is as following</p>\n<p>`    public class MyCustomLogger {\nprivate static Log LOGGER = LogFactory.getLog(MyCustomLogger.class);</p>\n<pre><code>    public void logEvent(EventObject event) {\n\n        String result = null;\n        try {\n            result = ms_jsonObjectMapper.writeValueAsString(event);\n        }  catch (Exception e) {\n            logger.myError(&quot;Error while serialising record&quot; + event);\n            e.printStackTrace();\n        }\n        LOGGER.trace(result);\n\n    }\n\n}`\n</code></pre>\n<p>I tried to see if there is connectivity issue in file share but Azure portal shows 100% availability and less success E2E latency. Tried to reproduce locally by reading same log file from few threads and one thread updating it.</p>\n<p>I am expecting some pointers. What could be wrong here. Is it application issue or Infra or network issue?</p>\n"},{"tags":["java","react-native","kotlin","android-runtime"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679328579,"post_id":75790932,"comment_id":133698106,"body_markdown":"Sounds like you are compiling against a newer version of Kotlin vs what you have runtime","body":"Sounds like you are compiling against a newer version of Kotlin vs what you have runtime"}],"owner":{"account_id":28065842,"reputation":1,"user_id":21439250,"display_name":"user21439250"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679319465,"creation_date":1679319271,"question_id":75790932,"body_markdown":"I am using react native (v0.71.4) to create a java (v11.0.18) android app. The android app pulls in an external SDK. The external SDK is initialized in a function in MainActivity.java: `public void onCreate(Bundle savedInstanceState)`.  \r\n\r\nWhen building the app using `npx react-native run-android` the build succeeds and installs on the android device but produces a runtime error. Using `adb logcat` the error runtime error is\r\n```\r\nAndroidRuntime: java.lang.NoSuchMethodError: No static method get-impl([BI)B in class Lkotlin/UByteArray; or its super classes (declaration of &#39;kotlin.UByteArray&#39; appears in /data/app/~~TcPFCAfQ3Z3vT26DyA1qbw==/com.xxxxxx-ANZxNTjuMdf2j9d9-5lFXA==/base.apk!classes14.dex)\r\nAndroidRuntime:   at xx.xx.xxxx.common.bitwise.UbytearrayKt.xToHexString-GBYM_sE(:105)\r\n\r\n...\r\n\r\nat com.xxxxx.MainActivity.onCreate(MainActivity.java:26)\r\n\r\n```\r\n","title":"AndroidRuntime Error: No static method get-impl([BI)B in class Lkotlin/UByteArray","body":"<p>I am using react native (v0.71.4) to create a java (v11.0.18) android app. The android app pulls in an external SDK. The external SDK is initialized in a function in MainActivity.java: <code>public void onCreate(Bundle savedInstanceState)</code>.</p>\n<p>When building the app using <code>npx react-native run-android</code> the build succeeds and installs on the android device but produces a runtime error. Using <code>adb logcat</code> the error runtime error is</p>\n<pre><code>AndroidRuntime: java.lang.NoSuchMethodError: No static method get-impl([BI)B in class Lkotlin/UByteArray; or its super classes (declaration of 'kotlin.UByteArray' appears in /data/app/~~TcPFCAfQ3Z3vT26DyA1qbw==/com.xxxxxx-ANZxNTjuMdf2j9d9-5lFXA==/base.apk!classes14.dex)\nAndroidRuntime:   at xx.xx.xxxx.common.bitwise.UbytearrayKt.xToHexString-GBYM_sE(:105)\n\n...\n\nat com.xxxxx.MainActivity.onCreate(MainActivity.java:26)\n\n</code></pre>\n"},{"tags":["java","regex","newline"],"comments":[{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":1,"creation_date":1332561974,"post_id":9849015,"comment_id":12553548,"body_markdown":"Either works.  See the answers to [this question](http://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex) for a great explanation.","body":"Either works.  See the answers to <a href=\"http://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\">this question</a> for a great explanation."}],"answers":[{"tags":[],"owner":{"account_id":376483,"reputation":5120,"user_id":727980,"accept_rate":82,"display_name":"mikey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332561536,"creation_date":1332561536,"answer_id":9849033,"question_id":9849015,"body_markdown":"Looks good.  You don&#39;t want 2 backslashes.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Looks good.  You don't want 2 backslashes.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum</a></p>\n"},{"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332561631,"creation_date":1332561631,"answer_id":9849037,"question_id":9849015,"body_markdown":"No need for 2 `backslashes`.\r\n\r\n     String string = &quot;hello \\n world&quot; ;\r\n     String str = string.replaceAll(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n     System.out.println(str);\r\n\r\nOutput = `hello  --linebreak--  world`","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>No need for 2 <code>backslashes</code>.</p>\n\n<pre><code> String string = \"hello \\n world\" ;\n String str = string.replaceAll(\"\\n\", \" --linebreak-- \");\n System.out.println(str);\n</code></pre>\n\n<p>Output = <code>hello  --linebreak--  world</code></p>\n"},{"tags":[],"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1332561730,"creation_date":1332561730,"answer_id":9849043,"question_id":9849015,"body_markdown":"Use below regex:\r\n   \r\n\r\n     s.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot; --linebreak-- &quot;)\r\n\r\nThere&#39;s only really two newlines for UNIX and Windows OS.","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Use below regex:</p>\n\n<pre><code> s.replaceAll(\"\\\\r?\\\\n\", \" --linebreak-- \")\n</code></pre>\n\n<p>There's only really two newlines for UNIX and Windows OS.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":3,"up_vote_count":79,"is_accepted":true,"score":76,"last_activity_date":1445551763,"creation_date":1332578150,"answer_id":9850262,"question_id":9849015,"body_markdown":"**Don&#39;t use regex!**. You only need a plain-text match to replace `&quot;\\n&quot;`.\r\n\r\nUse [`replace()`][1] to replace a literal string with another:\r\n\r\n    string = string.replace(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n\r\nNote that `replace()` still replaces *all* occurrences, as does `replaceAll()` - the difference is that [`replaceAll()`][2] uses regex to search.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p><strong>Don't use regex!</strong>. You only need a plain-text match to replace <code>\"\\n\"</code>.</p>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replace-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"noreferrer\"><code>replace()</code></a> to replace a literal string with another:</p>\n\n<pre><code>string = string.replace(\"\\n\", \" --linebreak-- \");\n</code></pre>\n\n<p>Note that <code>replace()</code> still replaces <em>all</em> occurrences, as does <code>replaceAll()</code> - the difference is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"noreferrer\"><code>replaceAll()</code></a> uses regex to search.</p>\n"},{"tags":[],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441178674,"creation_date":1441178674,"answer_id":32346957,"question_id":9849015,"body_markdown":"for new line there is a property\r\n\r\n    System.getProperty(&quot;line.separator&quot;)\r\n\r\nHere as for your example,\r\n\r\n    string.replaceAll(&quot;\\n&quot;, System.getProperty(&quot;line.separator&quot;));","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>for new line there is a property</p>\n\n<pre><code>System.getProperty(\"line.separator\")\n</code></pre>\n\n<p>Here as for your example,</p>\n\n<pre><code>string.replaceAll(\"\\n\", System.getProperty(\"line.separator\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938262,"reputation":3687,"user_id":966798,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448517112,"creation_date":1448517112,"answer_id":33931461,"question_id":9849015,"body_markdown":"Just adding this for completeness, because the 2 backslash thing is real.\r\n\r\nRefer to @dasblinkenlight answer in the following SO question (talking about \\t but it applies for \\n as well):\r\n\r\nhttps://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\r\n\r\n&quot;There are two interpretations of escape sequences going on: first by the Java compiler, and then by the regexp engine. When Java compiler sees two slashes, it replaces them with a single slash. When there is t following a slash, Java replaces it with a tab; when there is a t following a double-slash, Java leaves it alone. However, because two slashes have been replaced by a single slash, regexp engine sees \\t, and interprets it as a tab.&quot;","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Just adding this for completeness, because the 2 backslash thing is real.</p>\n\n<p>Refer to @dasblinkenlight answer in the following SO question (talking about \\t but it applies for \\n as well):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9113328/java-regular-expression-need-to-escape-backslash-in-regex\">java, regular expression, need to escape backslash in regex</a></p>\n\n<p>\"There are two interpretations of escape sequences going on: first by the Java compiler, and then by the regexp engine. When Java compiler sees two slashes, it replaces them with a single slash. When there is t following a slash, Java replaces it with a tab; when there is a t following a double-slash, Java leaves it alone. However, because two slashes have been replaced by a single slash, regexp engine sees \\t, and interprets it as a tab.\"</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1679319416,"creation_date":1461010318,"answer_id":36703426,"question_id":9849015,"body_markdown":"Since Java 8 regex engine supports `\\R` which represents any line separator (little more info: https://stackoverflow.com/a/31060125/1393766). \r\n\r\nSo if you have access to Java 8 or above you can use \r\n\r\n    string = string.replaceAll(&quot;\\\\R&quot;, &quot; --linebreak-- &quot;);","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>Since Java 8 regex engine supports <code>\\R</code> which represents any line separator (little more info: <a href=\"https://stackoverflow.com/a/31060125/1393766\">https://stackoverflow.com/a/31060125/1393766</a>).</p>\n<p>So if you have access to Java 8 or above you can use</p>\n<pre><code>string = string.replaceAll(&quot;\\\\R&quot;, &quot; --linebreak-- &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659496435,"creation_date":1659496435,"answer_id":73215922,"question_id":9849015,"body_markdown":"In my case I wanted to replace with literal &#39;\\n&#39; so I escaped the `\\` with another `\\` like so \r\n\r\n    String input = &quot;a\\nb\\nc\\nd&quot;;\r\n    /*\r\n    a\r\n    b\r\n    c\r\n    d \r\n    */\r\n\tinput = input.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\n\tSystem.out.println(input); // a\\nb\\nc\\nd","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>In my case I wanted to replace with literal '\\n' so I escaped the <code>\\</code> with another <code>\\</code> like so</p>\n<pre><code>String input = &quot;a\\nb\\nc\\nd&quot;;\n/*\na\nb\nc\nd \n*/\ninput = input.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\nSystem.out.println(input); // a\\nb\\nc\\nd\n</code></pre>\n"}],"owner":{"account_id":441688,"reputation":4305,"user_id":831923,"accept_rate":82,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86120,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":9850262,"answer_count":8,"score":47,"last_activity_date":1679319416,"creation_date":1332561348,"question_id":9849015,"body_markdown":"I have a string and would like to simply replace all of the newlines in it with the string `&quot; --linebreak-- &quot;`.\r\n\r\nWould it be enough to just write:\r\n\r\n    string = string.replaceAll(&quot;\\n&quot;, &quot; --linebreak-- &quot;);\r\n\r\nI&#39;m confused with the regex part of it. Do I need two slashes for the newline? Is this good enough?","title":"Java Regex - Using String&#39;s replaceAll method to replace newlines","body":"<p>I have a string and would like to simply replace all of the newlines in it with the string <code>\" --linebreak-- \"</code>.</p>\n\n<p>Would it be enough to just write:</p>\n\n<pre><code>string = string.replaceAll(\"\\n\", \" --linebreak-- \");\n</code></pre>\n\n<p>I'm confused with the regex part of it. Do I need two slashes for the newline? Is this good enough?</p>\n"},{"tags":["java","android","yahoo"],"comments":[{"owner":{"account_id":1200764,"reputation":5971,"user_id":1218762,"accept_rate":85,"display_name":"Ronak Mehta"},"score":0,"creation_date":1367492258,"post_id":16336144,"comment_id":23397872,"body_markdown":"see this http://stackoverflow.com/a/11119098/1218762","body":"see this <a href=\"http://stackoverflow.com/a/11119098/1218762\">stackoverflow.com/a/11119098/1218762</a>"},{"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"score":0,"creation_date":1367492565,"post_id":16336144,"comment_id":23398040,"body_markdown":"I already try student badge example but when i run this the application is asking for Oath pin in dialog box.And i don&#39;t know which type of Oath pin is asking for authorization for retrieving the contact ?","body":"I already try student badge example but when i run this the application is asking for Oath pin in dialog box.And i don&#39;t know which type of Oath pin is asking for authorization for retrieving the contact ?"},{"owner":{"account_id":3526072,"reputation":1082,"user_id":2955343,"accept_rate":71,"display_name":"Mr. N.V.Rao"},"score":0,"creation_date":1402027895,"post_id":16336144,"comment_id":37124481,"body_markdown":"see this..http://stackoverflow.com/questions/23781331/android-how-to-login-with-yahoo/24060638#24060638","body":"see this..<a href=\"http://stackoverflow.com/questions/23781331/android-how-to-login-with-yahoo/24060638#24060638\" title=\"android how to login with yahoo\">stackoverflow.com/questions/23781331/&hellip;</a>"}],"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679319386,"creation_date":1367491815,"question_id":16336144,"body_markdown":"I&#39;m developing a yahoo login integration in Android App and return into main Activity. I have completed all the steps of yahoo integration.I have spent several days for searching yahoo integration in android but i cant find proper way.When i run this code and proper sign in yahoo email and when i click agree button it comes always call_Back URL. Please can anyone help mi.Here is my code\r\n\r\n     \r\n    public class RequestTokaenActivity2 extends Activity\r\n    {\r\n    \tprivate OAuthConsumer consumer;\r\n    \tprivate OAuthProvider provider;\r\n    \tprivate SharedPreferences yahooPrefs;\r\n    \tprivate CommonsHttpOAuthConsumer myConsumer;\r\n    \tprivate CommonsHttpOAuthProvider myProvider;\r\n    \tprivate String requestToken;\r\n    \tprivate String accessToken;\r\n    \t\r\n    \tpublic void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tconsumer=new CommonsHttpOAuthConsumer(c1.CONSUMER_KEY,c1.CONSUMER_SECRET);\r\n    \t\t\t\r\n    \t\t\tconsumer.setMessageSigner(new HmacSha1MessageSigner());\r\n    \t\t\tHttpClient httpCliet=new DefaultHttpClient();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tprovider=new CommonsHttpOAuthProvider(c1.REQUEST_URL,c1.ACCESS_URL,c1.AUTHORIZE_URL,httpCliet);\r\n    \t\t\tprovider.setOAuth10a(true);\r\n    \t\t\tString strUrl=provider.retrieveRequestToken(consumer,c1.OAUTH_CALLBACK_URL);\r\n    \t\t\trequestToken=consumer.getToken();\r\n    \t\t\tstartActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(strUrl)));\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tcatch(Exception ex)\r\n    \t\t{\r\n    \t\t\tToast.makeText(getApplicationContext(),ex.getMessage(),Toast.LENGTH_LONG).show();\r\n    \t\t\tLog.e(ex.getMessage(), ex.toString());\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \t\r\n    \tpublic void onNewIntent(Intent intent)\r\n    \t{\r\n    \t\tsuper.onNewIntent(intent);\r\n    \t\tyahooPrefs=PreferenceManager.getDefaultSharedPreferences(getBaseContext());\r\n    \t\tfinal Uri uri=intent.getData();\r\n    \t\t\r\n    \t\tif(uri!=null &amp;&amp; uri.getScheme().equals(c1.OAUTH_CALLBACK_SCHEME))\r\n    \t\t{\r\n    \t\t\tLog.i(c1.TAG, &quot;Callback received : &quot; + uri);\r\n    \t\t\tLog.i(c1.TAG, &quot;Retrieving Access Token&quot;);\r\n    \t\t\tgetAccessToken(uri);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void getRequestToken()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tString url=provider.retrieveRequestToken(consumer, c1.OAUTH_CALLBACK_URL);\r\n    \t\t\tIntent i=new Intent(Intent.ACTION_VIEW , Uri.parse(url)).setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_FROM_BACKGROUND );\r\n    \t\t\tthis.startActivity(i);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception e1)\r\n    \t\t{\r\n    \t\t\te1.printStackTrace();\r\n    \t\t\tLog.e(c1.TAG, &quot;Error retrieving request token&quot;, e1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void getAccessToken(Uri uri)\r\n    \t{\r\n    \t\t\r\n    \t\tfinal String oauthVerifier=uri.getQueryParameter(OAuth.OAUTH_VERIFIER);\r\n    \t\tfinal Editor edit=yahooPrefs.edit();\r\n    \t\tedit.putString(OAuth.OAUTH_TOKEN,consumer.getToken());\r\n    \t\tedit.putString(OAuth.OAUTH_TOKEN_SECRET,consumer.getTokenSecret());\r\n    \t\tedit.commit();\r\n    \t\t\r\n    \t\tString token=yahooPrefs.getString(OAuth.OAUTH_TOKEN, &quot;&quot;);\r\n    \t\tString secret=yahooPrefs.getString(OAuth.OAUTH_TOKEN_SECRET,&quot;&quot;);\r\n    \t\t\r\n    \t\tconsumer.setTokenWithSecret(token, secret);\r\n    \t\tthis.startActivity(new Intent(this,OAuthMain.class));\r\n    \t\tLog.i(c1.TAG, &quot;Access Token Retrieved&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n      public class c1 \r\n        {\r\n        \tpublic static final String CONSUMER_KEY \t= &quot;xxxxxxxxxx&quot;;\r\n        \tpublic static final String CONSUMER_SECRET \t= &quot;xxxxxxxxxx&quot;;\r\n        \r\n        \t\r\n        \tpublic static final String SCOPE \t\t\t= &quot;http://social.yahooapis.com/v1/user/&quot;;\r\n        \t\r\n        \tpublic static final String REQUEST_URL \t\t= &quot;https://api.login.yahoo.com/oauth/v2/get_request_token&quot;;\r\n        \t\r\n        \t//https://api.login.yahoo.com/oauth/v2/\r\n        \r\n        \tpublic static final String ACCESS_URL \t\t= &quot;https://api.login.yahoo.com/oauth/v2/get_access_token&quot;; \r\n        \t//https://api.login.yahoo.com/oauth/v2/get_token&quot;\r\n        \t\r\n        \tpublic static final String AUTHORIZE_URL \t= &quot;https://api.login.yahoo.com/oauth/v2/request_auth&quot;;\r\n        \t//https://api.login.yahoo.com/oauth/v2/request_auth&quot;\r\n        \t//public static final String UNAUTHORIZE_URL  = &quot;https://accounts.google.com/o/oauth2/revoke&quot;;\r\n        \t\t\r\n        \tpublic static final String GET_CONTACTS_FROM_YAHOO_REQUEST=&quot;http://social.yahooapis.com/v1/user/{guid}/contacts&quot;;\r\n        \t\r\n        \tpublic static final String ENCODING = &quot;UTF-8&quot;;\r\n        \t\r\n        \tpublic static final String\tOAUTH_CALLBACK_SCHEME\t= &quot;http&quot;;\r\n        \tpublic static final String\tOAUTH_CALLBACK_HOST\t\t= &quot;www.bcod.co.in&quot;;\r\n        \tpublic static final String\tOAUTH_CALLBACK_URL\t\t= OAUTH_CALLBACK_SCHEME + &quot;://&quot; + OAUTH_CALLBACK_HOST;\r\n        \tpublic static final String\tAPP_NAME                = &quot;Demo_Oauth1&quot;;\r\n        \tpublic static final String  TAG = null;\r\n        \r\n        }\r\n\r\n\r\nThanks in advanced .","title":"How to yahoo integration in Android?","body":"<p>I'm developing a yahoo login integration in Android App and return into main Activity. I have completed all the steps of yahoo integration.I have spent several days for searching yahoo integration in android but i cant find proper way.When i run this code and proper sign in yahoo email and when i click agree button it comes always call_Back URL. Please can anyone help mi.Here is my code</p>\n<pre><code>public class RequestTokaenActivity2 extends Activity\n{\n    private OAuthConsumer consumer;\n    private OAuthProvider provider;\n    private SharedPreferences yahooPrefs;\n    private CommonsHttpOAuthConsumer myConsumer;\n    private CommonsHttpOAuthProvider myProvider;\n    private String requestToken;\n    private String accessToken;\n    \n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        \n        try\n        {\n            consumer=new CommonsHttpOAuthConsumer(c1.CONSUMER_KEY,c1.CONSUMER_SECRET);\n            \n            consumer.setMessageSigner(new HmacSha1MessageSigner());\n            HttpClient httpCliet=new DefaultHttpClient();\n            \n            \n            provider=new CommonsHttpOAuthProvider(c1.REQUEST_URL,c1.ACCESS_URL,c1.AUTHORIZE_URL,httpCliet);\n            provider.setOAuth10a(true);\n            String strUrl=provider.retrieveRequestToken(consumer,c1.OAUTH_CALLBACK_URL);\n            requestToken=consumer.getToken();\n            startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(strUrl)));\n            \n        }\n        \n        catch(Exception ex)\n        {\n            Toast.makeText(getApplicationContext(),ex.getMessage(),Toast.LENGTH_LONG).show();\n            Log.e(ex.getMessage(), ex.toString());\n            \n        }\n        \n    \n        \n    }\n    \n    @Override\n    \n    public void onNewIntent(Intent intent)\n    {\n        super.onNewIntent(intent);\n        yahooPrefs=PreferenceManager.getDefaultSharedPreferences(getBaseContext());\n        final Uri uri=intent.getData();\n        \n        if(uri!=null &amp;&amp; uri.getScheme().equals(c1.OAUTH_CALLBACK_SCHEME))\n        {\n            Log.i(c1.TAG, &quot;Callback received : &quot; + uri);\n            Log.i(c1.TAG, &quot;Retrieving Access Token&quot;);\n            getAccessToken(uri);\n        }\n        \n    }\n    \n    \n    private void getRequestToken()\n    {\n        try\n        {\n            String url=provider.retrieveRequestToken(consumer, c1.OAUTH_CALLBACK_URL);\n            Intent i=new Intent(Intent.ACTION_VIEW , Uri.parse(url)).setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_FROM_BACKGROUND );\n            this.startActivity(i);\n            \n            \n        }\n        catch(Exception e1)\n        {\n            e1.printStackTrace();\n            Log.e(c1.TAG, &quot;Error retrieving request token&quot;, e1);\n        }\n    }\n    \n    private void getAccessToken(Uri uri)\n    {\n        \n        final String oauthVerifier=uri.getQueryParameter(OAuth.OAUTH_VERIFIER);\n        final Editor edit=yahooPrefs.edit();\n        edit.putString(OAuth.OAUTH_TOKEN,consumer.getToken());\n        edit.putString(OAuth.OAUTH_TOKEN_SECRET,consumer.getTokenSecret());\n        edit.commit();\n        \n        String token=yahooPrefs.getString(OAuth.OAUTH_TOKEN, &quot;&quot;);\n        String secret=yahooPrefs.getString(OAuth.OAUTH_TOKEN_SECRET,&quot;&quot;);\n        \n        consumer.setTokenWithSecret(token, secret);\n        this.startActivity(new Intent(this,OAuthMain.class));\n        Log.i(c1.TAG, &quot;Access Token Retrieved&quot;);\n        \n    }\n\n}\n\n\n\n\n\n\n  public class c1 \n    {\n        public static final String CONSUMER_KEY     = &quot;xxxxxxxxxx&quot;;\n        public static final String CONSUMER_SECRET  = &quot;xxxxxxxxxx&quot;;\n    \n        \n        public static final String SCOPE            = &quot;http://social.yahooapis.com/v1/user/&quot;;\n        \n        public static final String REQUEST_URL      = &quot;https://api.login.yahoo.com/oauth/v2/get_request_token&quot;;\n        \n        //https://api.login.yahoo.com/oauth/v2/\n    \n        public static final String ACCESS_URL       = &quot;https://api.login.yahoo.com/oauth/v2/get_access_token&quot;; \n        //https://api.login.yahoo.com/oauth/v2/get_token&quot;\n        \n        public static final String AUTHORIZE_URL    = &quot;https://api.login.yahoo.com/oauth/v2/request_auth&quot;;\n        //https://api.login.yahoo.com/oauth/v2/request_auth&quot;\n        //public static final String UNAUTHORIZE_URL  = &quot;https://accounts.google.com/o/oauth2/revoke&quot;;\n            \n        public static final String GET_CONTACTS_FROM_YAHOO_REQUEST=&quot;http://social.yahooapis.com/v1/user/{guid}/contacts&quot;;\n        \n        public static final String ENCODING = &quot;UTF-8&quot;;\n        \n        public static final String  OAUTH_CALLBACK_SCHEME   = &quot;http&quot;;\n        public static final String  OAUTH_CALLBACK_HOST     = &quot;www.bcod.co.in&quot;;\n        public static final String  OAUTH_CALLBACK_URL      = OAUTH_CALLBACK_SCHEME + &quot;://&quot; + OAUTH_CALLBACK_HOST;\n        public static final String  APP_NAME                = &quot;Demo_Oauth1&quot;;\n        public static final String  TAG = null;\n    \n    }\n</code></pre>\n<p>Thanks in advanced .</p>\n"},{"tags":["java","spring-boot","event-handling","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622520147,"creation_date":1622520147,"answer_id":67782564,"question_id":66458187,"body_markdown":"You can use the following to log the transition\r\n\r\n    circuitBreaker.getEventPublisher().onEvent(event -&gt; {\r\n       LOG.info(&quot;State change {}&quot;, event);\r\n    });","title":"Resilience4j - Log circuit breaker state change","body":"<p>You can use the following to log the transition</p>\n<pre><code>circuitBreaker.getEventPublisher().onEvent(event -&gt; {\n   LOG.info(&quot;State change {}&quot;, event);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622521563,"creation_date":1622521178,"answer_id":67782673,"question_id":66458187,"body_markdown":"You can consume the emitted events. This can be found in the CircuitBreaker module documentation, section [\r\nConsume emitted CircuitBreakerEvents][1].\r\n\r\n&gt; A CircuitBreakerEvent can be a state transition, a circuit breaker reset, a successful call, a recorded error or an ignored error. All events contains additional information like event creation time and processing duration of the call. If you want to consume events, you have to register an event consumer.\r\n\r\nYou are interested in the `onStateTransition` method (a full list of event consumers is [here][2]):\r\n\r\n```\r\ncircuitBreaker.getEventPublisher()\r\n              .onStateTransition(e -&gt; logger.info(e));\r\n```\r\n\r\nFeel free to log the whole event directly as it properly overrides the `toString` method and a sample log record looks like this:\r\n\r\n\r\n```\r\n2021-06-01T01:23:45.678901+00:00: CircuitBreaker &#39;myService&#39; changed state from CLOSED to OPEN\r\n```\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/v0.17.0/docs/circuitbreaker#consume-emitted-circuitbreakerevents\r\n  [2]: https://javadoc.io/static/io.github.resilience4j/resilience4j-circuitbreaker/1.7.0/io/github/resilience4j/circuitbreaker/CircuitBreaker.EventPublisher.html","title":"Resilience4j - Log circuit breaker state change","body":"<p>You can consume the emitted events. This can be found in the CircuitBreaker module documentation, section <a href=\"https://resilience4j.readme.io/v0.17.0/docs/circuitbreaker#consume-emitted-circuitbreakerevents\" rel=\"nofollow noreferrer\">\nConsume emitted CircuitBreakerEvents</a>.</p>\n<blockquote>\n<p>A CircuitBreakerEvent can be a state transition, a circuit breaker reset, a successful call, a recorded error or an ignored error. All events contains additional information like event creation time and processing duration of the call. If you want to consume events, you have to register an event consumer.</p>\n</blockquote>\n<p>You are interested in the <code>onStateTransition</code> method (a full list of event consumers is <a href=\"https://javadoc.io/static/io.github.resilience4j/resilience4j-circuitbreaker/1.7.0/io/github/resilience4j/circuitbreaker/CircuitBreaker.EventPublisher.html\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>circuitBreaker.getEventPublisher()\n              .onStateTransition(e -&gt; logger.info(e));\n</code></pre>\n<p>Feel free to log the whole event directly as it properly overrides the <code>toString</code> method and a sample log record looks like this:</p>\n<pre><code>2021-06-01T01:23:45.678901+00:00: CircuitBreaker 'myService' changed state from CLOSED to OPEN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382553,"reputation":3683,"user_id":737855,"display_name":"andro83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679318708,"creation_date":1679318708,"answer_id":75790837,"question_id":66458187,"body_markdown":"I found it more convenient to add listener for CircuitBreaker events in configuration so I wouldn&#39;t need to add binding to each listener. This also reacts on dynamically added circuit breaker events.\r\n\r\n```\r\n@Bean\r\n    public RegistryEventConsumer&lt;CircuitBreaker&gt; myCircuitBreakerRegistryEventConsumer() {\r\n        return new RegistryEventConsumer&lt;&gt;() {\r\n            @Override\r\n            public void onEntryAddedEvent(EntryAddedEvent&lt;CircuitBreaker&gt; entryAddedEvent) {\r\n                entryAddedEvent.getAddedEntry().getEventPublisher().onStateTransition(event -&gt; log.info(event.toString()));\r\n            }\r\n\r\n            @Override\r\n            public void onEntryRemovedEvent(EntryRemovedEvent&lt;CircuitBreaker&gt; entryRemoveEvent) {\r\n            }\r\n\r\n            @Override\r\n            public void onEntryReplacedEvent(EntryReplacedEvent&lt;CircuitBreaker&gt; entryReplacedEvent) {\r\n            }\r\n        };\r\n    }\r\n```","title":"Resilience4j - Log circuit breaker state change","body":"<p>I found it more convenient to add listener for CircuitBreaker events in configuration so I wouldn't need to add binding to each listener. This also reacts on dynamically added circuit breaker events.</p>\n<pre><code>@Bean\n    public RegistryEventConsumer&lt;CircuitBreaker&gt; myCircuitBreakerRegistryEventConsumer() {\n        return new RegistryEventConsumer&lt;&gt;() {\n            @Override\n            public void onEntryAddedEvent(EntryAddedEvent&lt;CircuitBreaker&gt; entryAddedEvent) {\n                entryAddedEvent.getAddedEntry().getEventPublisher().onStateTransition(event -&gt; log.info(event.toString()));\n            }\n\n            @Override\n            public void onEntryRemovedEvent(EntryRemovedEvent&lt;CircuitBreaker&gt; entryRemoveEvent) {\n            }\n\n            @Override\n            public void onEntryReplacedEvent(EntryReplacedEvent&lt;CircuitBreaker&gt; entryReplacedEvent) {\n            }\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7305,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":67782673,"answer_count":3,"score":1,"last_activity_date":1679318708,"creation_date":1614778532,"question_id":66458187,"body_markdown":"Question regarding Resilience4J, and how to log a circuit breaker state change please.\r\n\r\nCurrently, Resilience4j is working great. Having the ability to invoke a fallback when downstream systems are down, giving them time to breath, etc...\r\n\r\nUnfortunately, I am facing an issue with my Spring Webflux 2.4.4+ app with \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSuppose our circuit breaker exists closed mode at the time `T`, due to the downstream system being unavailable for instance.\r\n\r\nOn subsequent calls, since the circuit is opened, goes into a fallback, and I have a log when the fallback method is being invoked.\r\n\r\nHence, I only know at `T+1` when the circuit breaker has been opened. But not the exact moment the circuit breaker changed state.\r\n\r\nI was wondering, how to log the event of the circuit breaker changing the state, at the moment it really changes state at `info` level, please?","title":"Resilience4j - Log circuit breaker state change","body":"<p>Question regarding Resilience4J, and how to log a circuit breaker state change please.</p>\n<p>Currently, Resilience4j is working great. Having the ability to invoke a fallback when downstream systems are down, giving them time to breath, etc...</p>\n<p>Unfortunately, I am facing an issue with my Spring Webflux 2.4.4+ app with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Suppose our circuit breaker exists closed mode at the time <code>T</code>, due to the downstream system being unavailable for instance.</p>\n<p>On subsequent calls, since the circuit is opened, goes into a fallback, and I have a log when the fallback method is being invoked.</p>\n<p>Hence, I only know at <code>T+1</code> when the circuit breaker has been opened. But not the exact moment the circuit breaker changed state.</p>\n<p>I was wondering, how to log the event of the circuit breaker changing the state, at the moment it really changes state at <code>info</code> level, please?</p>\n"},{"tags":["java","spring","jndi"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679326629,"post_id":75790833,"comment_id":133697569,"body_markdown":"The short answer, no. As you cannot inject a datasource this simply isn&#39;t possible. The long answer, you can probably use some ugly reflection hack to do datasource injection but as mentioned an ugly hack. Get the source code, or decompile the class and fix it to take injection.","body":"The short answer, no. As you cannot inject a datasource this simply isn&#39;t possible. The long answer, you can probably use some ugly reflection hack to do datasource injection but as mentioned an ugly hack. Get the source code, or decompile the class and fix it to take injection."}],"owner":{"account_id":28065891,"reputation":1,"user_id":21439298,"display_name":"springBeanQuestions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679318669,"creation_date":1679318669,"question_id":75790833,"body_markdown":"I have a Spring web application which has a Spring Bean which is a reference to a closed source third party library. This closed source bean takes parameters for JDBC Server Name, URL, username, and password. My managers want to switch this bean to use JNDI instead of taking the parameters to connect to the database. The closed source library/bean does not have a JNDI option.\r\n\r\nIs there a way to switch a closed-source non-JNDI aware spring bean to use JNDI? The bean does not have an option to inject a datasource (i.e only the Server Name, URL, username, and password). (The closed source library is not a common/large company, more like an external contractor wrote the code once and did not provide/share the source code).","title":"Switch Closed Source Bean to use JNDI","body":"<p>I have a Spring web application which has a Spring Bean which is a reference to a closed source third party library. This closed source bean takes parameters for JDBC Server Name, URL, username, and password. My managers want to switch this bean to use JNDI instead of taking the parameters to connect to the database. The closed source library/bean does not have a JNDI option.</p>\n<p>Is there a way to switch a closed-source non-JNDI aware spring bean to use JNDI? The bean does not have an option to inject a datasource (i.e only the Server Name, URL, username, and password). (The closed source library is not a common/large company, more like an external contractor wrote the code once and did not provide/share the source code).</p>\n"},{"tags":["java","maven","google-app-engine","web.xml","google-cloud-sdk"],"comments":[{"owner":{"account_id":16508716,"reputation":1311,"user_id":11928130,"display_name":"tzovourn"},"score":1,"creation_date":1577362996,"post_id":59474492,"comment_id":105151304,"body_markdown":"There is documentation that provides all the necessary steps to [migrate from Java 8 to Java 11](https://cloud.google.com/appengine/docs/standard/java11/java-differences). Upon taking a look in your configuration I can see that you miss some things in your configuration. Did you use that guide and didn&#39;t work for you?","body":"There is documentation that provides all the necessary steps to <a href=\"https://cloud.google.com/appengine/docs/standard/java11/java-differences\" rel=\"nofollow noreferrer\">migrate from Java 8 to Java 11</a>. Upon taking a look in your configuration I can see that you miss some things in your configuration. Did you use that guide and didn&#39;t work for you?"}],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599864459,"creation_date":1599864459,"answer_id":63855211,"question_id":59474492,"body_markdown":"There are some pretty huge differences between App Engine&#39;s Java 8 runtime and its Java 11 runtime.\r\n\r\nSpecifically, the Java 8 runtime included a Jetty web server that automatically ran your code, but the Java 11 runtime no longer includes this, so you have to include it yourself.\r\n\r\nThere is a migration guide [here](https://cloud.google.com/appengine/docs/standard/java11/java-differences) but I found that very confusing to follow, so I&#39;ll try to outline the steps here:\r\n\r\n**Step 1: Migrate from `appengine-web.xml` to `app.yaml`.**\r\n\r\nDelete your `appengine-web.xml` file, and create a new `app.yaml` file. My `app.yaml` file only contained a single line:\r\n\r\n```yaml\r\nruntime: java11\r\n```\r\n\r\n**Step 2: Add a main entry point class that runs a web server.**\r\n\r\nThere are many ways to do this, but there&#39;s what I did:\r\n\r\n```java\r\npackage io.happycoding;\r\n\r\nimport java.net.URL;\r\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.webapp.Configuration;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\r\n\r\n/**\r\n * Starts up the server, including a DefaultServlet that handles static files,\r\n * and any servlet classes annotated with the @WebServlet annotation.\r\n */\r\npublic class ServerMain {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    // Create a server that listens on port 8080.\r\n    Server server = new Server(8080);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    server.setHandler(webAppContext);\r\n\r\n    // Load static content from inside the jar file.\r\n    URL webAppDir =\r\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\r\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\r\n\r\n    // Enable annotations so the server sees classes annotated with @WebServlet.\r\n    webAppContext.setConfigurations(new Configuration[]{ \r\n      new AnnotationConfiguration(),\r\n      new WebInfConfiguration(), \r\n    });\r\n\r\n    // Look for annotations in the classes directory (dev server) and in the\r\n    // jar file (live server)\r\n    webAppContext.setAttribute(\r\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \r\n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\r\n\r\n    // Handle static resources, e.g. html files.\r\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n\r\n    // Start the server! &#128640;\r\n    server.start();\r\n    System.out.println(&quot;Server started!&quot;);\r\n\r\n    // Keep the main thread alive while the server is running.\r\n    server.join();\r\n  }\r\n}\r\n```\r\n\r\nThis class uses Jetty to run a web server, and then adds the rest of your code to that web server. This code assumes that everything will be packaged in the same `.jar` file.\r\n\r\n**Step 3: Modify `pom.xml`**\r\n\r\nYour `pom.xml` needs a few things:\r\n\r\n1. Dependencies for the web server you&#39;re running. I used Jetty.\r\n2. Plugins for packaging your code. I chose to package mine as a single uber jar, so I used `maven-resources-plugin` and `maven-shade-plugin`.\r\n3. Plugins for running your code locally. The old `appengine-maven-plugin` does not work for deploying locally, because it still requires `appengine-web.xml` for some reason. Because I chose the uber jar approach, I used `exec-maven-plugin`.\r\n4. The `appengine-maven-plugin` does still work for deploying to the live server, so you still need it for that.\r\n\r\nIf that sounds confusing, you&#39;re right. But putting it all together, here&#39;s what I came up with:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 11 --&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\r\n\r\n    &lt;!-- Project-specific properties --&gt;\r\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\r\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Java Servlets API --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jetty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${project.build.directory}/classes/META-INF/resources\r\n              &lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Package everything into a single executable jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI put all of this into an example project available [here](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world).","title":"How do I update an App Engine project to Java 11 without web.xml?","body":"<p>There are some pretty huge differences between App Engine's Java 8 runtime and its Java 11 runtime.</p>\n<p>Specifically, the Java 8 runtime included a Jetty web server that automatically ran your code, but the Java 11 runtime no longer includes this, so you have to include it yourself.</p>\n<p>There is a migration guide <a href=\"https://cloud.google.com/appengine/docs/standard/java11/java-differences\" rel=\"nofollow noreferrer\">here</a> but I found that very confusing to follow, so I'll try to outline the steps here:</p>\n<p><strong>Step 1: Migrate from <code>appengine-web.xml</code> to <code>app.yaml</code>.</strong></p>\n<p>Delete your <code>appengine-web.xml</code> file, and create a new <code>app.yaml</code> file. My <code>app.yaml</code> file only contained a single line:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>runtime: java11\n</code></pre>\n<p><strong>Step 2: Add a main entry point class that runs a web server.</strong></p>\n<p>There are many ways to do this, but there's what I did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding;\n\nimport java.net.URL;\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\n\n/**\n * Starts up the server, including a DefaultServlet that handles static files,\n * and any servlet classes annotated with the @WebServlet annotation.\n */\npublic class ServerMain {\n\n  public static void main(String[] args) throws Exception {\n\n    // Create a server that listens on port 8080.\n    Server server = new Server(8080);\n    WebAppContext webAppContext = new WebAppContext();\n    server.setHandler(webAppContext);\n\n    // Load static content from inside the jar file.\n    URL webAppDir =\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\n\n    // Enable annotations so the server sees classes annotated with @WebServlet.\n    webAppContext.setConfigurations(new Configuration[]{ \n      new AnnotationConfiguration(),\n      new WebInfConfiguration(), \n    });\n\n    // Look for annotations in the classes directory (dev server) and in the\n    // jar file (live server)\n    webAppContext.setAttribute(\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\n\n    // Handle static resources, e.g. html files.\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\n\n    // Start the server! 🚀\n    server.start();\n    System.out.println(&quot;Server started!&quot;);\n\n    // Keep the main thread alive while the server is running.\n    server.join();\n  }\n}\n</code></pre>\n<p>This class uses Jetty to run a web server, and then adds the rest of your code to that web server. This code assumes that everything will be packaged in the same <code>.jar</code> file.</p>\n<p><strong>Step 3: Modify <code>pom.xml</code></strong></p>\n<p>Your <code>pom.xml</code> needs a few things:</p>\n<ol>\n<li>Dependencies for the web server you're running. I used Jetty.</li>\n<li>Plugins for packaging your code. I chose to package mine as a single uber jar, so I used <code>maven-resources-plugin</code> and <code>maven-shade-plugin</code>.</li>\n<li>Plugins for running your code locally. The old <code>appengine-maven-plugin</code> does not work for deploying locally, because it still requires <code>appengine-web.xml</code> for some reason. Because I chose the uber jar approach, I used <code>exec-maven-plugin</code>.</li>\n<li>The <code>appengine-maven-plugin</code> does still work for deploying to the live server, so you still need it for that.</li>\n</ol>\n<p>If that sounds confusing, you're right. But putting it all together, here's what I came up with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 11 --&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\n\n    &lt;!-- Project-specific properties --&gt;\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Java Servlets API --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jetty --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/classes/META-INF/resources\n              &lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Package everything into a single executable jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\n          &lt;version&gt;1&lt;/version&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I put all of this into an example project available <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63855211,"answer_count":1,"score":2,"last_activity_date":1679318571,"creation_date":1577236279,"question_id":59474492,"body_markdown":"I have an App Engine project. [Here](https://github.com/KevinWorkman/GoogleCloudExamples/tree/master/hello-world) is a sample repo, but it only contains a few files:\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;google-cloud-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 8 --&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.71&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**appengine-web.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;appengine-web-app xmlns=&quot;http://appengine.google.com/ns/1.0&quot;&gt;\r\n  &lt;application&gt;MY_PROJECT_ID_HERE&lt;/application&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;threadsafe&gt;false&lt;/threadsafe&gt;\r\n  &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\r\n  &lt;runtime&gt;java8&lt;/runtime&gt;\r\n&lt;/appengine-web-app&gt;\r\n```\r\n\r\n**HelloWorldServlet.java**\r\n\r\n```java\r\npackage io.happycoding.servlets;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/hello&quot;)\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n  @Override\r\n  public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    response.setContentType(&quot;text/html;&quot;);\r\n    response.getOutputStream().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**I do not have a web.xml file** because I&#39;m using the `@WebServlet` annotation instead. This has worked perfectly for years.\r\n\r\nThe only problem was that I was restricted to using Java 8, so I was happy to see App Engine [announce](https://cloud.google.com/blog/products/application-development/turn-it-up-to-eleven-java-11-runtime-comes-to-app-engine) support for Java 11. I am now trying to upgrade my App Engine project to Java 11.\r\n\r\nI started by changing the `appengine-web.xml` file to contain this line:\r\n\r\n```xml\r\n&lt;runtime&gt;java11&lt;/runtime&gt;\r\n```\r\n\r\nI also changed the `pom.xml` file:\r\n\r\n```xml\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nI run `mvn appengine:devserver` (which works fine before this change), and I get this error:\r\n\r\n```\r\nClassLoader is jdk.internal.loader.ClassLoaders$AppClassLoader@78308db1, not a URLClassLoader.\r\n```\r\n\r\nI [gather](https://stackoverflow.com/questions/55490900/unable-to-build-bookshelf-app-for-java-on-app-engine-standard-environment-exam) that this is because the App Engine Maven plugin itself requires Java 8. I also learn that [the App Engine Maven plugin is deprecated](https://cloud.google.com/appengine/docs/standard/java/tools/migrate-maven), and that I should upgrade to the Cloud SDK Maven plugin. Okay fine.\r\n\r\nI follow [this guide](https://cloud.google.com/appengine/docs/standard/java11/using-maven) and I change the plugin in my `pom.xml` file to this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n   &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI then run `mvn package appengine:run` (because of course the command to run a devserver changed too), but now I get this error:\r\n\r\n```\r\n java.io.FileNotFoundException: /home/kevin/gcloud-tutorials/hello-world/target/hello-world-1/WEB-INF/web.xml (No such file or directory)\r\n```\r\n\r\nThe error says it can&#39;t find a `web.xml` file, but I shouldn&#39;t need one because I&#39;m using the `@WebServlet` annotation! My `pom.xml` file also contains a `&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;` property, but I don&#39;t know whether that does anything with the new plugin.\r\n\r\nAm I missing a step or property? How do I upgrade my App Engine project to use Java 11, without also requiring a `web.xml` file?","title":"How do I update an App Engine project to Java 11 without web.xml?","body":"<p>I have an App Engine project. <a href=\"https://github.com/KevinWorkman/GoogleCloudExamples/tree/master/hello-world\" rel=\"nofollow noreferrer\">Here</a> is a sample repo, but it only contains a few files:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;google-cloud-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 8 --&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.9.71&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>appengine-web.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n  &lt;application&gt;MY_PROJECT_ID_HERE&lt;/application&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;threadsafe&gt;false&lt;/threadsafe&gt;\n  &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\n  &lt;runtime&gt;java8&lt;/runtime&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n\n<p><strong>HelloWorldServlet.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding.servlets;\n\nimport java.io.IOException;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(\"/hello\")\npublic class HelloWorldServlet extends HttpServlet {\n\n  @Override\n  public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    response.setContentType(\"text/html;\");\n    response.getOutputStream().println(\"&lt;h1&gt;Hello world!&lt;/h1&gt;\");\n  }\n}\n</code></pre>\n\n<p><strong>I do not have a web.xml file</strong> because I'm using the <code>@WebServlet</code> annotation instead. This has worked perfectly for years.</p>\n\n<p>The only problem was that I was restricted to using Java 8, so I was happy to see App Engine <a href=\"https://cloud.google.com/blog/products/application-development/turn-it-up-to-eleven-java-11-runtime-comes-to-app-engine\" rel=\"nofollow noreferrer\">announce</a> support for Java 11. I am now trying to upgrade my App Engine project to Java 11.</p>\n\n<p>I started by changing the <code>appengine-web.xml</code> file to contain this line:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;runtime&gt;java11&lt;/runtime&gt;\n</code></pre>\n\n<p>I also changed the <code>pom.xml</code> file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n\n<p>I run <code>mvn appengine:devserver</code> (which works fine before this change), and I get this error:</p>\n\n<pre><code>ClassLoader is jdk.internal.loader.ClassLoaders$AppClassLoader@78308db1, not a URLClassLoader.\n</code></pre>\n\n<p>I <a href=\"https://stackoverflow.com/questions/55490900/unable-to-build-bookshelf-app-for-java-on-app-engine-standard-environment-exam\">gather</a> that this is because the App Engine Maven plugin itself requires Java 8. I also learn that <a href=\"https://cloud.google.com/appengine/docs/standard/java/tools/migrate-maven\" rel=\"nofollow noreferrer\">the App Engine Maven plugin is deprecated</a>, and that I should upgrade to the Cloud SDK Maven plugin. Okay fine.</p>\n\n<p>I follow <a href=\"https://cloud.google.com/appengine/docs/standard/java11/using-maven\" rel=\"nofollow noreferrer\">this guide</a> and I change the plugin in my <code>pom.xml</code> file to this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n   &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I then run <code>mvn package appengine:run</code> (because of course the command to run a devserver changed too), but now I get this error:</p>\n\n<pre><code> java.io.FileNotFoundException: /home/kevin/gcloud-tutorials/hello-world/target/hello-world-1/WEB-INF/web.xml (No such file or directory)\n</code></pre>\n\n<p>The error says it can't find a <code>web.xml</code> file, but I shouldn't need one because I'm using the <code>@WebServlet</code> annotation! My <code>pom.xml</code> file also contains a <code>&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;</code> property, but I don't know whether that does anything with the new plugin.</p>\n\n<p>Am I missing a step or property? How do I upgrade my App Engine project to use Java 11, without also requiring a <code>web.xml</code> file?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1671108872,"creation_date":1671026574,"answer_id":74799451,"question_id":74799091,"body_markdown":"Your `SecurityFilter` is a `@Component`, therefore the filter will be picked up by Spring Boot and added to the filter chain.\r\n\r\nNote that the filter chain that I mentioned is not the same chain as Spring Security, which is the `SecurityFilterChain`. Spring Security will not invoke the `SecurityFilterChain` for the endpoints you mentioned, because you did:\r\n\r\n```java\r\n@Bean\r\npublic WebSecurityCustomizer webSecurityCustomizer() {\r\n    return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\r\n}\r\n```\r\n\r\nI believe that since you are ignoring those endpoints, you do not need to `permitAll` them (those are different things).\r\n\r\nOne way to solve this is by adding the `SecurityFilter` to the `SecurityFilterChain` (which is not invoked for those endpoints):\r\n\r\n 1. Remove `@Component` from your `SecurityFilter`\r\n 2. Do `http.addFilter(Before/After/At)(new SecurityFilter(), BeforeFilter.class)`\r\n","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>Your <code>SecurityFilter</code> is a <code>@Component</code>, therefore the filter will be picked up by Spring Boot and added to the filter chain.</p>\n<p>Note that the filter chain that I mentioned is not the same chain as Spring Security, which is the <code>SecurityFilterChain</code>. Spring Security will not invoke the <code>SecurityFilterChain</code> for the endpoints you mentioned, because you did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\n}\n</code></pre>\n<p>I believe that since you are ignoring those endpoints, you do not need to <code>permitAll</code> them (those are different things).</p>\n<p>One way to solve this is by adding the <code>SecurityFilter</code> to the <code>SecurityFilterChain</code> (which is not invoked for those endpoints):</p>\n<ol>\n<li>Remove <code>@Component</code> from your <code>SecurityFilter</code></li>\n<li>Do <code>http.addFilter(Before/After/At)(new SecurityFilter(), BeforeFilter.class)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9361010,"reputation":1008,"user_id":6947332,"display_name":"naib khan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679318309,"creation_date":1679318309,"answer_id":75790772,"question_id":74799091,"body_markdown":"You can create a SecurityFilterChain `@Bean` and pass a list of endpoinds that needs to be pass \r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/api/public/**&quot;,\r\n            &quot;/api/public/authenticate&quot;,\r\n            &quot;/actuator/*&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>You can create a SecurityFilterChain <code>@Bean</code> and pass a list of endpoinds that needs to be pass</p>\n<pre><code>private static final String[] AUTH_WHITELIST = {\n        &quot;/swagger-resources&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/configuration/ui&quot;,\n        &quot;/configuration/security&quot;,\n        &quot;/swagger-ui.html&quot;,\n        &quot;/webjars/**&quot;,\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/api/public/**&quot;,\n        &quot;/api/public/authenticate&quot;,\n        &quot;/actuator/*&quot;,\n        &quot;/swagger-ui/**&quot;\n};\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n                    .requestMatchers(AUTH_WHITELIST).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18824,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74799451,"answer_count":2,"score":5,"last_activity_date":1679318309,"creation_date":1671024893,"question_id":74799091,"body_markdown":"Below is the `SecurityFilterChain` bean created according to the new Spring Security 6 / Spring boot 3 documentation. However, `requestMatchers -&gt; AntPathRequestMatcher -&gt; permitAll` is not working. Every request is reaching `OncePerRequestFilter`. Please let me know if this is expected or if something is wrong.\r\n\r\nCode:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    @EnableMethodSecurity\r\n    public class WebSecurityConfig {\r\n       List&lt;String&gt; publicApis = List.of(&quot;/generate/**&quot;, &quot;validated/**&quot;);\r\n       \r\n       @Bean\r\n       public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .configurationSource(corsConfigurationSource())\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .formLogin()\r\n                    .disable()\r\n                    .httpBasic()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                    .and()\r\n                    .authorizeHttpRequests(\r\n                            r -&gt; r.requestMatchers(\r\n                                            publicApis().stream()\r\n                                                    .map(AntPathRequestMatcher::new)\r\n                                                    .toArray(RequestMatcher[]::new)\r\n                                    )\r\n                                    .permitAll()\r\n                                    .anyRequest()\r\n                                    .authenticated()\r\n                    )\r\n                    .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\r\n        }\r\n    }\r\n\r\nSecurityFilter class:\r\n\r\n    @Component\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class SecurityFilter extends OncePerRequestFilter {\r\n    \r\n    @Override\r\n        protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n     log.info(&quot;request:{}&quot;, request); // all requests are logging including `/generate/a` or `/validate/1`\r\n    }\r\n    \r\n    }\r\n\r\nIdeally `/generate/a` or `/validate/1` should not go to SecurityFilter. Still, there are going for JWT validation. How to avoid public APIs to bypass SecurityFilter.\r\n\r\nThanks in Advance.","title":"Spring Boot 3 Security requestMatchers.permitAll not working","body":"<p>Below is the <code>SecurityFilterChain</code> bean created according to the new Spring Security 6 / Spring boot 3 documentation. However, <code>requestMatchers -&gt; AntPathRequestMatcher -&gt; permitAll</code> is not working. Every request is reaching <code>OncePerRequestFilter</code>. Please let me know if this is expected or if something is wrong.</p>\n<p>Code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class WebSecurityConfig {\n   List&lt;String&gt; publicApis = List.of(&quot;/generate/**&quot;, &quot;validated/**&quot;);\n   \n   @Bean\n   public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .configurationSource(corsConfigurationSource())\n                .and()\n                .csrf()\n                .disable()\n                .formLogin()\n                .disable()\n                .httpBasic()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(restAuthenticationEntryPoint())\n                .and()\n                .authorizeHttpRequests(\n                        r -&gt; r.requestMatchers(\n                                        publicApis().stream()\n                                                .map(AntPathRequestMatcher::new)\n                                                .toArray(RequestMatcher[]::new)\n                                )\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated()\n                )\n                .sessionManagement(s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(publicApis.toArray(String[]::new));\n    }\n}\n</code></pre>\n<p>SecurityFilter class:</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class SecurityFilter extends OncePerRequestFilter {\n\n@Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n log.info(&quot;request:{}&quot;, request); // all requests are logging including `/generate/a` or `/validate/1`\n}\n\n}\n</code></pre>\n<p>Ideally <code>/generate/a</code> or <code>/validate/1</code> should not go to SecurityFilter. Still, there are going for JWT validation. How to avoid public APIs to bypass SecurityFilter.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","font-face","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":28063966,"reputation":21,"user_id":21437639,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679318082,"creation_date":1679307082,"answer_id":75788979,"question_id":75788773,"body_markdown":"I found the answer that I was looking for all week.\r\n\r\n    CategoryAxis domainAxis = plot.getDomainAxis();\r\n    domainAxis.setTickLabelFont(strMyCategory,\r\n        new Font(&quot;Arial&quot;, Font.BOLD, 13));\r\n\r\nWhere `strMyCategory` (a `Comparable` type `String`) is the exact category label that needs to be bold or have another font.\r\n","title":"How to make different fonts for category labels in JFreeChart","body":"<p>I found the answer that I was looking for all week.</p>\n<pre><code>CategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setTickLabelFont(strMyCategory,\n    new Font(&quot;Arial&quot;, Font.BOLD, 13));\n</code></pre>\n<p>Where <code>strMyCategory</code> (a <code>Comparable</code> type <code>String</code>) is the exact category label that needs to be bold or have another font.</p>\n"}],"owner":{"account_id":28063966,"reputation":21,"user_id":21437639,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679318082,"creation_date":1679305841,"question_id":75788773,"body_markdown":"I have a list of benchmark scores and one or two selected smartphones there, so I need to highlight those smartphones. I already did this with different bar colors, but I also want to change the font of a smartphone name—make it bold at least, but only for selected smartphones, not entire category labels.\r\n\r\n![What i have](https://i.stack.imgur.com/6LwnF.png)\r\n\r\nTo paint the bars I use the code below, but I don&#39;t know how to customize the font for category label as well:\r\n\r\n```\r\npublic class MyBarRenderer extends StackedBarRenderer {\r\n    //BarRenderer renderer = (BarRenderer) plot.getRenderer();\r\n    private ArrayList&lt;Integer&gt; selectedSmartphones;\r\n    public MyBarRenderer (ArrayList&lt;Integer&gt; s) {\r\n        selectedSmartphones = s;\r\n\r\n        this.setSeriesPaint(0, new Color(255,133,0));\r\n        this.setSeriesPaint(1, new Color(255,172,83));\r\n        this.setSeriesPaint(2, new Color(211,110,0));\r\n    }\r\n\r\n    //renderer.setSeriesPaint(0, Color.getColor(&quot;FFAC53&quot;));\r\n    @Override\r\n    public Paint getItemPaint(int series, int category) {\r\n        if (selectedSmartphones.contains(category)) {\r\n\r\n                switch (series) {\r\n                    case 0:\r\n                        return new Color(81, 189, 230);\r\n\r\n                    case 1:\r\n                        return new Color(7, 167, 229);\r\n\r\n                    case 2:\r\n                        return new Color(2, 97, 133);\r\n\r\n                    default:\r\n                        return Color.blue;\r\n                }\r\n\r\n        } else {\r\n                switch (series) {\r\n                    case 0:\r\n                        return new Color(255, 133, 0);\r\n\r\n                    case 1:\r\n                        return new Color(255, 172, 83);\r\n\r\n                    case 2:\r\n                        return new Color(211, 110, 0);\r\n\r\n                    default:\r\n                        return Color.orange;\r\n                }\r\n        }\r\n    }\r\n}\r\n```\r\n![What i need](https://i.stack.imgur.com/DvrV3.png)\r\n","title":"How to make different fonts for category labels in JFreeChart","body":"<p>I have a list of benchmark scores and one or two selected smartphones there, so I need to highlight those smartphones. I already did this with different bar colors, but I also want to change the font of a smartphone name—make it bold at least, but only for selected smartphones, not entire category labels.</p>\n<p><img src=\"https://i.stack.imgur.com/6LwnF.png\" alt=\"What i have\" /></p>\n<p>To paint the bars I use the code below, but I don't know how to customize the font for category label as well:</p>\n<pre><code>public class MyBarRenderer extends StackedBarRenderer {\n    //BarRenderer renderer = (BarRenderer) plot.getRenderer();\n    private ArrayList&lt;Integer&gt; selectedSmartphones;\n    public MyBarRenderer (ArrayList&lt;Integer&gt; s) {\n        selectedSmartphones = s;\n\n        this.setSeriesPaint(0, new Color(255,133,0));\n        this.setSeriesPaint(1, new Color(255,172,83));\n        this.setSeriesPaint(2, new Color(211,110,0));\n    }\n\n    //renderer.setSeriesPaint(0, Color.getColor(&quot;FFAC53&quot;));\n    @Override\n    public Paint getItemPaint(int series, int category) {\n        if (selectedSmartphones.contains(category)) {\n\n                switch (series) {\n                    case 0:\n                        return new Color(81, 189, 230);\n\n                    case 1:\n                        return new Color(7, 167, 229);\n\n                    case 2:\n                        return new Color(2, 97, 133);\n\n                    default:\n                        return Color.blue;\n                }\n\n        } else {\n                switch (series) {\n                    case 0:\n                        return new Color(255, 133, 0);\n\n                    case 1:\n                        return new Color(255, 172, 83);\n\n                    case 2:\n                        return new Color(211, 110, 0);\n\n                    default:\n                        return Color.orange;\n                }\n        }\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DvrV3.png\" alt=\"What i need\" /></p>\n"},{"tags":["java","spring-boot","immutables-library"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1678886112,"post_id":75544510,"comment_id":133619489,"body_markdown":"I think it would be helpful to provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub instead of just snippets, forcing everyone to create a demo project from scratch in order to reproduce your problem and guessing about the missing pieces. E.g., it is unclear what `EventObject` looks like and which class exactly inherits from which. But that information is crucial for reasoning about your problem.","body":"I think it would be helpful to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub instead of just snippets, forcing everyone to create a demo project from scratch in order to reproduce your problem and guessing about the missing pieces. E.g., it is unclear what <code>EventObject</code> looks like and which class exactly inherits from which. But that information is crucial for reasoning about your problem."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1678888093,"post_id":75544510,"comment_id":133620151,"body_markdown":"Note: having no constructor at all means you _have_ the default constructor (`CustomEvent() { }`). Tying this together with the implicit `super()` from a subclass, and I don&#39;t really see the problem yet myself. If `#getFoo` is `abstract`, then the subclasses can override it and the super class doesn&#39;t need to manage it.","body":"Note: having no constructor at all means you <i>have</i> the default constructor (<code>CustomEvent() { }</code>). Tying this together with the implicit <code>super()</code> from a subclass, and I don&#39;t really see the problem yet myself. If <code>#getFoo</code> is <code>abstract</code>, then the subclasses can override it and the super class doesn&#39;t need to manage it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1679149225,"post_id":75544510,"comment_id":133671465,"body_markdown":"@kriegaex - MCVE : yes ... but putting it on GitHub: No!!  The MCVE or [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) should be in the question itself.  GitHub repos can permanently vanish in an instant, leaving the question broken.","body":"@kriegaex - MCVE : yes ... but putting it on GitHub: No!!  The MCVE or <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be in the question itself.  GitHub repos can permanently vanish in an instant, leaving the question broken."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679165050,"post_id":75544510,"comment_id":133674114,"body_markdown":"What I care about is easy reproducibility. I have better things to do than copying and pasting a dozen classes, Maven POM and Spring config. Moreover, I can never be sure there is not any directory layout glitch. So no, I cannot agree with your opinion. The main gist should be in the code here, but the full MCVE belongs somewhere I can clone and run it from in an instant.","body":"What I care about is easy reproducibility. I have better things to do than copying and pasting a dozen classes, Maven POM and Spring config. Moreover, I can never be sure there is not any directory layout glitch. So no, I cannot agree with your opinion. The main gist should be in the code here, but the full MCVE belongs somewhere I can clone and run it from in an instant."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679201667,"post_id":75544510,"comment_id":133677511,"body_markdown":"And the flipside is that **other people** care more about about this question being meaningful for future readers.  Consider what the **stated** primary goal of StackOverflow is.   (It is not about satisfying the OP&#39;s need for help ... your personal convenience when answering the question.)","body":"And the flipside is that <b>other people</b> care more about about this question being meaningful for future readers.  Consider what the <b>stated</b> primary goal of StackOverflow is.   (It is not about satisfying the OP&#39;s need for help ... your personal convenience when answering the question.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679202399,"post_id":75544510,"comment_id":133677548,"body_markdown":"Also, see https://meta.stackoverflow.com/questions/253915.   And note that it is legally dubious for us to fix such a mistake; see https://meta.stackoverflow.com/questions/275485.  It is potentially a copyright violation ... unless the Gist or Repo has an explicit copyright statement that is legally compatible copying to SO.","body":"Also, see <a href=\"https://meta.stackoverflow.com/questions/253915\">meta.stackoverflow.com/questions/253915</a>.   And note that it is legally dubious for us to fix such a mistake; see <a href=\"https://meta.stackoverflow.com/questions/275485\">meta.stackoverflow.com/questions/275485</a>.  It is potentially a copyright violation ... unless the Gist or Repo has an explicit copyright statement that is legally compatible copying to SO."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679215667,"post_id":75544510,"comment_id":133678607,"body_markdown":"Stop lecturing me. I am here to help others. Let me do it my way. I often answer complex questions about AOP (AspectJ, Spring AOP) or test automation with Spock, and in 50%+ of all cases the problem is in the parts of the code or configuration the OP chose not to share, because she thinks it is irrelevant. It is super tedious to send comments back and forth in 10 iterations. SO is a Q/A platform, not a discussion forum, and the time volunteers spend to help others should be respected. But nobody wants to scroll 25 pages worth of sample code and then copy everything into their respective IDEs.","body":"Stop lecturing me. I am here to help others. Let me do it my way. I often answer complex questions about AOP (AspectJ, Spring AOP) or test automation with Spock, and in 50%+ of all cases the problem is in the parts of the code or configuration the OP chose not to share, because she thinks it is irrelevant. It is super tedious to send comments back and forth in 10 iterations. SO is a Q/A platform, not a discussion forum, and the time volunteers spend to help others should be respected. But nobody wants to scroll 25 pages worth of sample code and then copy everything into their respective IDEs."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679215904,"post_id":75544510,"comment_id":133678637,"body_markdown":"This sense of entitlement of some SO users is incomprehensible to me. SO is not an SCM. Vast amounts of code do not belong here. I am always careful to answer questions in a way which makes it clear what the problem was and how to solve it, so they are well documented. An MCVE below a certain number of files and lines of code can be posted here, totally fine. I tend to write long answers with full MCVEs where applicable. But more than half of the questions I answer here are utterly unsolvable without an MCVE way too big to fit in here.","body":"This sense of entitlement of some SO users is incomprehensible to me. SO is not an SCM. Vast amounts of code do not belong here. I am always careful to answer questions in a way which makes it clear what the problem was and how to solve it, so they are well documented. An MCVE below a certain number of files and lines of code can be posted here, totally fine. I tend to write long answers with full MCVEs where applicable. But more than half of the questions I answer here are utterly unsolvable without an MCVE way too big to fit in here."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679216182,"post_id":75544510,"comment_id":133678671,"body_markdown":"As for &quot;legally dubious to answer&quot;: LOL.","body":"As for &quot;legally dubious to answer&quot;: LOL."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679250117,"post_id":75544510,"comment_id":133683590,"body_markdown":"@kriegaex (we&#39;re way off-topic on this question now, but...) I think the big thing that irked was the &quot;instead of&quot;: an MCVE on github isn&#39;t inherently bad imo, just the question becoming obsolete because of non-reproducibility. If the MCVE is too unwieldly to put into the question it&#39;s very likely not minimal, but there&#39;s not much reason aside from effort they couldn&#39;t do both the github and in-question references. I&#39;ve honestly found that the best MCVEs don&#39;t arrive until after the question is answered and the problem demonstrated.","body":"@kriegaex (we&#39;re way off-topic on this question now, but...) I think the big thing that irked was the &quot;instead of&quot;: an MCVE on github isn&#39;t inherently bad imo, just the question becoming obsolete because of non-reproducibility. If the MCVE is too unwieldly to put into the question it&#39;s very likely not minimal, but there&#39;s not much reason aside from effort they couldn&#39;t do both the github and in-question references. I&#39;ve honestly found that the best MCVEs don&#39;t arrive until after the question is answered and the problem demonstrated."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679260006,"post_id":75544510,"comment_id":133685094,"body_markdown":"Read again. I wrote &quot;instead of **just** (snippets)&quot;. I didn&#39;t mean him to remove info from the question, but to bolster it up some more, supported by the GitHub MCVE. I solved literally dozens of puzzles here only after having had access to one of those, for the benefit of everyone involved. It is called WWW f&#252;r a reason: being a hyperlinked system. I really couldn&#39;t care less about people feeling entitled of having all possible information here on SO. this platform is still useful enough with some info not quoted here but referenced to.","body":"Read again. I wrote &quot;instead of <b>just</b> (snippets)&quot;. I didn&#39;t mean him to remove info from the question, but to bolster it up some more, supported by the GitHub MCVE. I solved literally dozens of puzzles here only after having had access to one of those, for the benefit of everyone involved. It is called WWW f&#252;r a reason: being a hyperlinked system. I really couldn&#39;t care less about people feeling entitled of having all possible information here on SO. this platform is still useful enough with some info not quoted here but referenced to."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1679260212,"post_id":75544510,"comment_id":133685118,"body_markdown":"BTW, I do take pride in having a pretty good code parser in my head, but there are limits to what lengths I am willing to go to in order to help others. A source code repository is simply the most effective way of getting new code into my IDE and bringing an MCVE to life there. Maybe you have enough spare time to copy and paste vast amounts of code. I don&#39;t.","body":"BTW, I do take pride in having a pretty good code parser in my head, but there are limits to what lengths I am willing to go to in order to help others. A source code repository is simply the most effective way of getting new code into my IDE and bringing an MCVE to life there. Maybe you have enough spare time to copy and paste vast amounts of code. I don&#39;t."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679311985,"post_id":75544510,"comment_id":133693068,"body_markdown":"*&quot;As for &quot;legally dubious to answer&quot;: LOL.&quot;* - You misinterpreted what I said.  It is legally dubious to correct the mistake (or bad practice) of the OP linking to a gist by copying their gist into the question.  That may be a copyright violation.  We are advised NOT to do it.   If they copy their code into the question that is fine ... because by doing so they are implicitly granting permission to copy ... as per the T&amp;Cs.","body":"<i>&quot;As for &quot;legally dubious to answer&quot;: LOL.&quot;</i> - You misinterpreted what I said.  It is legally dubious to correct the mistake (or bad practice) of the OP linking to a gist by copying their gist into the question.  That may be a copyright violation.  We are advised NOT to do it.   If they copy their code into the question that is fine ... because by doing so they are implicitly granting permission to copy ... as per the T&amp;Cs."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679312287,"post_id":75544510,"comment_id":133693132,"body_markdown":"However this is all moot because the OP hasn&#39;t provide an MCVE / minrep in any form.","body":"However this is all moot because the OP hasn&#39;t provide an MCVE / minrep in any form."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679157683,"creation_date":1679157683,"answer_id":75777261,"question_id":75544510,"body_markdown":"So it appears that immutables does not currently generate constructors with super calls, like you need to subclass ApplicationEvent in spring, as you need &quot;a constructor matching super&quot;.\r\n\r\nAs you can see [here][ctor-template], the constructor template goes from the javadoc for the constructor straight into enumerating arguments. the [Invokable][guava-invokable] class being referenced here is from guava (30.0 on the latest immutables) represents a method signature.\r\n\r\nI believe that [this line](https://github.com/immutables/immutables/blob/master/value-processor/src/org/immutables/value/processor/Immutables.generator#L2688) is some kind of hook into the immutables templating system (that would need to be expanded to support generating super constructor calls). As you can see it appears right after the opening curly brace of the constructor (and an if statement that decides to generate that constructor.\r\n\r\nThe templating system is complicated, and [it might be discontinued in the future.](https://github.com/immutables/immutables/issues/1448#issuecomment-1471143697) But it seems they are receptive to feedback about redesigning extensibility for new use cases.\r\n\r\n[ctor-template]: https://github.com/immutables/immutables/blob/33f56fd998ec27277c01c6baae2fdc7ba17204ec/value-processor/src/org/immutables/value/processor/Immutables.generator#L2669-L2697\r\n\r\n[guava-invokable]: https://github.com/google/guava/blob/f75cd01d3afe83623bb8bd1a8a816ea5245bf285/guava/src/com/google/common/reflect/Invokable.java\r\n\r\n```\r\n[template generateConstructor Type type Boolean withoutOptional Invokable constructorAcceptTypeInvokable]\r\n  [if type.factoryOf.new]\r\n  /**\r\n   * Construct a new immutable {@code [type.name]} instance.\r\n  [for v in type.constructorArguments]\r\n   * @param [v.name] The value for the {@code [v.name]} attribute[if v.nullable], can be {@code null}[/if]\r\n  [/for]\r\n   */\r\n  [eachLine type.constructorAnnotations]\r\n...\r\n  private [type.typeImmutable.simple]([output.linesShortable][for v in type.constructorArguments][if not for.first],[/if]\r\n      [v.atNullability][constructorAcceptTypeInvokable v] [v.name][/for][/output.linesShortable]) {\r\n  [/if]\r\n[if type.constructorOmited or (type.hasEncodingValueOrVirtualFields or (type.generateSafeDerived and type.hasDerivedAttributes))]\r\n\r\n  ### not sure what this does, but it is the first thing that happens\r\n  ### when a constructor is generated\r\n  [let shim][disambiguateField type &#39;initShim&#39;][/let]\r\n\r\n  ### probably just need to add something here that considers what supers exist\r\n\r\n  ### then goes right into args\r\n  [for v in type.constructorArguments, n = v.name]\r\n...\r\n    this.[n] = [valueFrom type v n withoutOptional];\r\n...\r\n[/if]\r\n    [generateAfterConstruction type false]\r\n  }\r\n[/template]\r\n```","title":"org immutables - no default constructor on abstract class","body":"<p>So it appears that immutables does not currently generate constructors with super calls, like you need to subclass ApplicationEvent in spring, as you need &quot;a constructor matching super&quot;.</p>\n<p>As you can see <a href=\"https://github.com/immutables/immutables/blob/33f56fd998ec27277c01c6baae2fdc7ba17204ec/value-processor/src/org/immutables/value/processor/Immutables.generator#L2669-L2697\" rel=\"nofollow noreferrer\">here</a>, the constructor template goes from the javadoc for the constructor straight into enumerating arguments. the <a href=\"https://github.com/google/guava/blob/f75cd01d3afe83623bb8bd1a8a816ea5245bf285/guava/src/com/google/common/reflect/Invokable.java\" rel=\"nofollow noreferrer\">Invokable</a> class being referenced here is from guava (30.0 on the latest immutables) represents a method signature.</p>\n<p>I believe that <a href=\"https://github.com/immutables/immutables/blob/master/value-processor/src/org/immutables/value/processor/Immutables.generator#L2688\" rel=\"nofollow noreferrer\">this line</a> is some kind of hook into the immutables templating system (that would need to be expanded to support generating super constructor calls). As you can see it appears right after the opening curly brace of the constructor (and an if statement that decides to generate that constructor.</p>\n<p>The templating system is complicated, and <a href=\"https://github.com/immutables/immutables/issues/1448#issuecomment-1471143697\" rel=\"nofollow noreferrer\">it might be discontinued in the future.</a> But it seems they are receptive to feedback about redesigning extensibility for new use cases.</p>\n<pre><code>[template generateConstructor Type type Boolean withoutOptional Invokable constructorAcceptTypeInvokable]\n  [if type.factoryOf.new]\n  /**\n   * Construct a new immutable {@code [type.name]} instance.\n  [for v in type.constructorArguments]\n   * @param [v.name] The value for the {@code [v.name]} attribute[if v.nullable], can be {@code null}[/if]\n  [/for]\n   */\n  [eachLine type.constructorAnnotations]\n...\n  private [type.typeImmutable.simple]([output.linesShortable][for v in type.constructorArguments][if not for.first],[/if]\n      [v.atNullability][constructorAcceptTypeInvokable v] [v.name][/for][/output.linesShortable]) {\n  [/if]\n[if type.constructorOmited or (type.hasEncodingValueOrVirtualFields or (type.generateSafeDerived and type.hasDerivedAttributes))]\n\n  ### not sure what this does, but it is the first thing that happens\n  ### when a constructor is generated\n  [let shim][disambiguateField type 'initShim'][/let]\n\n  ### probably just need to add something here that considers what supers exist\n\n  ### then goes right into args\n  [for v in type.constructorArguments, n = v.name]\n...\n    this.[n] = [valueFrom type v n withoutOptional];\n...\n[/if]\n    [generateAfterConstruction type false]\n  }\n[/template]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679317769,"creation_date":1679317769,"answer_id":75790689,"question_id":75544510,"body_markdown":"For an immutable class, I would recommend to provide all fields in the (protected) constructor. Keep in mind, the inheriting class *must* see the parent&#39;s constructor *in scope*.\r\n\r\nSince the class shall be immutable, and you want to be sure, it&#39;s always safer to have *all* the fields final (and immutable as well).\r\n\r\nWhen considering the builder-pattern, provide a static sub-class Builder, provide with it the reasonable defaults and builder-methods.\r\n\r\nFrom Java 14+, there is the alternative option to use records, see https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\r\n, which also is feasible to be combined with a builder.","title":"org immutables - no default constructor on abstract class","body":"<p>For an immutable class, I would recommend to provide all fields in the (protected) constructor. Keep in mind, the inheriting class <em>must</em> see the parent's constructor <em>in scope</em>.</p>\n<p>Since the class shall be immutable, and you want to be sure, it's always safer to have <em>all</em> the fields final (and immutable as well).</p>\n<p>When considering the builder-pattern, provide a static sub-class Builder, provide with it the reasonable defaults and builder-methods.</p>\n<p>From Java 14+, there is the alternative option to use records, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html</a>\n, which also is feasible to be combined with a builder.</p>\n"}],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75777261,"answer_count":2,"score":-2,"last_activity_date":1679317769,"creation_date":1677153412,"question_id":75544510,"body_markdown":"Using https://immutables.github.io/ I wonder if it is possible to have something like custom immutable abstract class inheriting from a class without a default constructor. In this example a sub of Spring&#39;s ApplicationEvent (and also take advantage of builder functionality):\r\n\r\n    @Value.Immutable\r\n    @Value.Style(\r\n        privateNoargConstructor = true,\r\n        get = {&quot;is*&quot;, &quot;get*&quot;},\r\n        init = &quot;set*&quot;,\r\n        passAnnotations = Builder.class)\r\n    public abstract class CustomEvent extends ApplicationEvent {\r\n        //... I need constructor here!\r\n\r\n        abstract String getFoo();\r\n    }\r\n\r\nHow would you accomplish this if you have no default constructor on the abstract class?\r\n\r\n\r\n    public abstract class ApplicationEvent extends EventObject {\r\n        ...\r\n    \tpublic ApplicationEvent(Object source) {\r\n    \t\tsuper(source);\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\n**EDIT:**\r\n\r\nIf I create a matching constructor like:\r\n\r\n    private CustomEvent(Object source) {\r\n        super(source);\r\n    }\r\n\r\nI will get a &quot;generated&quot; ImmutableCustomEvent constructor like this:\r\n\r\n\r\n    private ImmutableCustomEvent() {\r\n        this.foo = null;\r\n    }\r\n\r\nWhich makes sense, as it tries to generate a class with all the &quot;properties&quot; necessary, but does not consider the &quot;only available&quot; constructor\r\n\r\n**EDIT2:**\r\n\r\nWhat I expect as a generated constructor\r\n\r\n    private ImmutableCustomEvent() {\r\n        super(null)\r\n        this.foo = null;\r\n    }\r\n\r\nor at least \r\n\r\n    private ImmutableCustomEvent(Object source) {\r\n        super(source)\r\n        this.foo = null;\r\n    }","title":"org immutables - no default constructor on abstract class","body":"<p>Using <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">https://immutables.github.io/</a> I wonder if it is possible to have something like custom immutable abstract class inheriting from a class without a default constructor. In this example a sub of Spring's ApplicationEvent (and also take advantage of builder functionality):</p>\n<pre><code>@Value.Immutable\n@Value.Style(\n    privateNoargConstructor = true,\n    get = {&quot;is*&quot;, &quot;get*&quot;},\n    init = &quot;set*&quot;,\n    passAnnotations = Builder.class)\npublic abstract class CustomEvent extends ApplicationEvent {\n    //... I need constructor here!\n\n    abstract String getFoo();\n}\n</code></pre>\n<p>How would you accomplish this if you have no default constructor on the abstract class?</p>\n<pre><code>public abstract class ApplicationEvent extends EventObject {\n    ...\n    public ApplicationEvent(Object source) {\n        super(source);\n        ...\n    }\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>If I create a matching constructor like:</p>\n<pre><code>private CustomEvent(Object source) {\n    super(source);\n}\n</code></pre>\n<p>I will get a &quot;generated&quot; ImmutableCustomEvent constructor like this:</p>\n<pre><code>private ImmutableCustomEvent() {\n    this.foo = null;\n}\n</code></pre>\n<p>Which makes sense, as it tries to generate a class with all the &quot;properties&quot; necessary, but does not consider the &quot;only available&quot; constructor</p>\n<p><strong>EDIT2:</strong></p>\n<p>What I expect as a generated constructor</p>\n<pre><code>private ImmutableCustomEvent() {\n    super(null)\n    this.foo = null;\n}\n</code></pre>\n<p>or at least</p>\n<pre><code>private ImmutableCustomEvent(Object source) {\n    super(source)\n    this.foo = null;\n}\n</code></pre>\n"},{"tags":["java","flutter","dart","encryption"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665655779,"creation_date":1665579671,"answer_id":74042265,"question_id":74028210,"body_markdown":"The decryption fails because in both codes different salts are used and therefore different keys are generated. Ultimately, this is due to an inappropriate design of the PBKDF2 implementation of the *password_hash_plus* Dart library.\r\n\r\nIn the Java code a *random* salt is applied, in this case 0xb9266c74df614967d9acaa2878bff87c. In `main()`, the salt is passed hex encoded to `encrypt()`, hex decoded in `generateKey()`, and the resulting byte sequence is used for key derivation.\r\n\r\nThe `generateBase64Key()` method of the *password_hash_plus* library, on the other hand, expects the salt as string and does a UTF-8 encoding *internally*, see [here][1]. Therefore, only salts that are UTF-8 decodable can be processed. This is generally not true for *random* salts, since these are corrupted by a UTF-8 decoding.  \r\nThe hex encoding of the salt applied in the Dart code does not work either, of course, because `generateBase64Key()` does not perform a hex decoding internally but a UTF-8 encoding.\r\n\r\nSince salts are generally random byte sequences, the design of the PBKDF2 implementation of the *password_hash_plus* library is unsuitable. Instead, an implementation is required where the salt is passed as byte sequence (`Uint8List` or `List&lt;int&gt;`), e.g. the PBKDF2 implementation of [PointyCastle][2]:\r\n\r\n```dart\r\nimport &#39;package:pointycastle/export.dart&#39;;\r\nimport &#39;dart:typed_data&#39;;\r\n...\r\nfinal key = aes.Key(deriveKey(&quot;1234567891234567&quot;, Uint8List.fromList(values))); // Raw salt for key derivation!\r\nfinal salt = hex.encode(values);                                                // Hex encoded salt for output!\r\n...\r\nUint8List deriveKey(String passphrase, Uint8List salt){\r\n    Uint8List passphraseBytes = Uint8List.fromList(utf8.encode(passphrase));\r\n    KeyDerivator derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64));    // 64 byte block size\r\n    Pbkdf2Parameters params = Pbkdf2Parameters(salt, 1000, 16);             // 16 byte key size\r\n    derivator.init(params);\r\n    return derivator.process(passphraseBytes);\r\n}\r\n...\r\n```\r\n\r\nThe Dart code returns salt and IV hex encoded and the ciphertext Base64 encoded. If this data is passed with these encodings to the `decrypt()` method of the Java code, decryption is successful.\r\n\r\nBe aware that an iteration count of 1000 is generally too small for PBKDF2.\r\n\r\n[1]: https://pub.dev/documentation/password_hash_plus/latest/password_hash_plus/PBKDF2/generateKey.html\r\n[2]: https://pub.dev/documentation/pointycastle/latest/impl.key_derivator.pbkdf2/PBKDF2KeyDerivator-class.html","title":"Plain text encrypt from Dart code but decrypt from Java code","body":"<p>The decryption fails because in both codes different salts are used and therefore different keys are generated. Ultimately, this is due to an inappropriate design of the PBKDF2 implementation of the <em>password_hash_plus</em> Dart library.</p>\n<p>In the Java code a <em>random</em> salt is applied, in this case 0xb9266c74df614967d9acaa2878bff87c. In <code>main()</code>, the salt is passed hex encoded to <code>encrypt()</code>, hex decoded in <code>generateKey()</code>, and the resulting byte sequence is used for key derivation.</p>\n<p>The <code>generateBase64Key()</code> method of the <em>password_hash_plus</em> library, on the other hand, expects the salt as string and does a UTF-8 encoding <em>internally</em>, see <a href=\"https://pub.dev/documentation/password_hash_plus/latest/password_hash_plus/PBKDF2/generateKey.html\" rel=\"nofollow noreferrer\">here</a>. Therefore, only salts that are UTF-8 decodable can be processed. This is generally not true for <em>random</em> salts, since these are corrupted by a UTF-8 decoding.<br />\nThe hex encoding of the salt applied in the Dart code does not work either, of course, because <code>generateBase64Key()</code> does not perform a hex decoding internally but a UTF-8 encoding.</p>\n<p>Since salts are generally random byte sequences, the design of the PBKDF2 implementation of the <em>password_hash_plus</em> library is unsuitable. Instead, an implementation is required where the salt is passed as byte sequence (<code>Uint8List</code> or <code>List&lt;int&gt;</code>), e.g. the PBKDF2 implementation of <a href=\"https://pub.dev/documentation/pointycastle/latest/impl.key_derivator.pbkdf2/PBKDF2KeyDerivator-class.html\" rel=\"nofollow noreferrer\">PointyCastle</a>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:pointycastle/export.dart';\nimport 'dart:typed_data';\n...\nfinal key = aes.Key(deriveKey(&quot;1234567891234567&quot;, Uint8List.fromList(values))); // Raw salt for key derivation!\nfinal salt = hex.encode(values);                                                // Hex encoded salt for output!\n...\nUint8List deriveKey(String passphrase, Uint8List salt){\n    Uint8List passphraseBytes = Uint8List.fromList(utf8.encode(passphrase));\n    KeyDerivator derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64));    // 64 byte block size\n    Pbkdf2Parameters params = Pbkdf2Parameters(salt, 1000, 16);             // 16 byte key size\n    derivator.init(params);\n    return derivator.process(passphraseBytes);\n}\n...\n</code></pre>\n<p>The Dart code returns salt and IV hex encoded and the ciphertext Base64 encoded. If this data is passed with these encodings to the <code>decrypt()</code> method of the Java code, decryption is successful.</p>\n<p>Be aware that an iteration count of 1000 is generally too small for PBKDF2.</p>\n"}],"owner":{"account_id":13526276,"reputation":93,"user_id":9758013,"display_name":"jitendra rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74042265,"answer_count":1,"score":0,"last_activity_date":1679317691,"creation_date":1665491530,"question_id":74028210,"body_markdown":"When I encrypt plain text using Dart,and encrypted text is decrypted from Java code, I get this error:\r\n\r\n  ```none\r\n  javax.crypto.BadPaddingException: pad block corrupted\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2168)\r\n\tat AesUtil.doFinal(AesUtil.java:75)\r\n\tat AesUtil.decrypt(AesUtil.java:60)\r\n\tat Main.main(Main.java:18)\r\n  ```\r\n\r\nSame IV, salt and passphase value using Java side for key generation, but the generated key is different and also cipher test is different. I am using same method for key generation. I don&#39;t know what is missing in Dart code.\r\n  \r\n  ```yaml\r\n  dependencies:\r\n      encrypt: ^5.0.1\r\n      hex: ^0.2.0\r\n      password_hash_plus: ^4.0.0\r\n```\r\n\r\nDart code is:\r\n \r\n  ```dart\r\n  var random = Random.secure();\r\n  var values = List&lt;int&gt;.generate(16, (i) =&gt; random.nextInt(255));\r\n\r\n  // final salt = aes.IV.fromSecureRandom(16);\r\n  final salt = hex.encode(values);\r\n  final generator = PBKDF2(hashAlgorithm: sha1);\r\n  final key = aes.Key.fromBase64(generator.generateBase64Key(&quot;1234567891234567&quot;, salt, 1000, 16));\r\n\r\n \r\n  final iv = aes.IV.fromSecureRandom(16);\r\n\r\n  final encrypter =\r\n      aes.Encrypter(aes.AES(key, mode: aes.AESMode.cbc, padding: &#39;PKCS7&#39;));\r\n  final encrypted = encrypter.encrypt(st.password!, iv: iv);\r\n\r\n  var str = &#39;${iv.base16}::${salt}::${encrypted.base64}&#39;;\r\n  var bytes = utf8.encode(str);\r\n  var base64Str = base64.encode(bytes);\r\n\r\n\r\n  //final decrypt = encrypter.decrypt64(&quot;/vvAYMc3rgCvPvuSVU/qQw==&quot;, iv: iv);\r\n\r\n  print(\r\n      &#39;------------------------------,\\n encrypt ${(encrypted.base64)}-----------&#39;\r\n       //&#39;--\\ndecrypted ${decrypt}-----------base64--------$base64Str-----&#39;\r\n      &#39;\\nkey = ${key.base64} array--\\niv = ${iv.base16}--salt= {${salt}&#39;);\r\n```\r\n\r\nAnd Java code is: \r\n   \r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        AesUtil aesUtil = new AesUtil();\r\n        String encrypt = aesUtil.encrypt(&quot;b9266c74df614967d9acaa2878bff87c&quot;, &quot;6ab7c799d6411f9d0c8e048ad526eeee&quot;, &quot;1234567891234567&quot;, &quot;Jitu@123456&quot;);\r\n        String a = aesUtil.decrypt(&quot;01e6a073a4255c92e704bd94d76d75c5&quot;, &quot;98a21e07ed34afc523c5f5938c9202db&quot;, &quot;1234567891234567&quot;, &quot;MumTfpnzZh9bk94yiTuA+g==&quot;);\r\n\r\n        System.out.println(&quot;encrypt = &quot; + encrypt + &quot; \\ndecrpty valaue----&quot; + a);\r\n    }\r\n}\r\n```\r\n\r\nEncryption code in Java:\r\n\r\n```java\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Arrays;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nimport org.apache.commons.codec.DecoderException;\r\nimport org.apache.commons.codec.binary.Base64;\r\nimport org.apache.commons.codec.binary.Hex;\r\nimport org.springframework.stereotype.Component;\r\n\r\npublic class AesUtil {\r\n    private final int keySize;\r\n    private final int iterationCount;\r\n    private final Cipher cipher;\r\n\r\n    public AesUtil() {\r\n        this.keySize = 128;\r\n        this.iterationCount = 1000;\r\n        try {\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\r\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n            e.printStackTrace();\r\n            throw fail(e);\r\n        } catch (NoSuchProviderException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public String encrypt(String salt, String iv, String passphrase, String plaintext) {\r\n        try {\r\n            SecretKey key = generateKey(salt, passphrase);\r\n            System.out.println(&quot;encryption key-------= &quot; + base64(key.getEncoded()));\r\n            byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, iv, plaintext.getBytes(&quot;ISO-8859-1&quot;));\r\n            return base64(encrypted);\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw fail(e);\r\n        }\r\n    }\r\n\r\n    public String decrypt(String salt, String iv, String passphrase, String ciphertext) {\r\n        try {\r\n            SecretKey key = generateKey(salt, passphrase);\r\n            System.out.println(&quot;decrypt key-------= &quot; + base64(key.getEncoded()));\r\n            byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, base64(ciphertext));\r\n            return new String(decrypted, &quot;ISO-8859-1&quot;);\r\n        } catch (UnsupportedEncodingException e) {\r\n            return null;\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\r\n        try {\r\n            IvParameterSpec IivParameterSpec = new IvParameterSpec(hex(iv));\r\n            System.out.println(&quot;----iv--= &quot; + hex(IivParameterSpec.getIV()));\r\n            cipher.init(encryptMode, key, IivParameterSpec);\r\n            return cipher.doFinal(bytes);\r\n        } catch (InvalidKeyException\r\n                 | InvalidAlgorithmParameterException\r\n                 | IllegalBlockSizeException\r\n                 | BadPaddingException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private SecretKey generateKey(String salt, String passphrase) {\r\n        try {\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n            byte[] s = hex(salt);\r\n            System.out.println(&quot;salt-= &quot; + hex(s));\r\n            KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), s, iterationCount, keySize);\r\n\r\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n            return key;\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static String random(int length) {\r\n        byte[] salt = new byte[length];\r\n        new SecureRandom().nextBytes(salt);\r\n        return hex(salt);\r\n    }\r\n\r\n    public static String base64(byte[] bytes) {\r\n        return Base64.encodeBase64String(bytes);\r\n    }\r\n\r\n    public static byte[] base64(String str) {\r\n        return Base64.decodeBase64(str);\r\n    }\r\n\r\n    public static String hex(byte[] bytes) {\r\n        return Hex.encodeHexString(bytes);\r\n    }\r\n\r\n    public static byte[] hex(String str) {\r\n        try {\r\n            return Hex.decodeHex(str.toCharArray());\r\n        } catch (DecoderException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    private IllegalStateException fail(Exception e) {\r\n        return null;\r\n    }\r\n\r\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\r\n\r\n        int digestLength = md.getDigestLength();\r\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\r\n        byte[] generatedData = new byte[requiredLength];\r\n        int generatedLength = 0;\r\n\r\n        try {\r\n            md.reset();\r\n\r\n            // Repeat process until sufficient data has been generated\r\n            while (generatedLength &lt; keyLength + ivLength) {\r\n\r\n                // Digest data (last digest if available, password data, salt if available)\r\n                if (generatedLength &gt; 0)\r\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\r\n                md.update(password);\r\n                if (salt != null)\r\n                    md.update(salt, 0, 8);\r\n                md.digest(generatedData, generatedLength, digestLength);\r\n\r\n                // additional rounds\r\n                for (int i = 1; i &lt; iterations; i++) {\r\n                    md.update(generatedData, generatedLength, digestLength);\r\n                    md.digest(generatedData, generatedLength, digestLength);\r\n                }\r\n\r\n                generatedLength += digestLength;\r\n            }\r\n\r\n            // Copy key and IV into separate byte arrays\r\n            byte[][] result = new byte[2][];\r\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\r\n            if (ivLength &gt; 0)\r\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\r\n\r\n            return result;\r\n\r\n        } catch (DigestException e) {\r\n            throw new RuntimeException(e);\r\n\r\n        } finally {\r\n            // Clean out temporary data\r\n            Arrays.fill(generatedData, (byte) 0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Plain text encrypt from Dart code but decrypt from Java code","body":"<p>When I encrypt plain text using Dart,and encrypted text is decrypted from Java code, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.crypto.BadPaddingException: pad block corrupted\n  at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\n  at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\n  at javax.crypto.Cipher.doFinal(Cipher.java:2168)\n  at AesUtil.doFinal(AesUtil.java:75)\n  at AesUtil.decrypt(AesUtil.java:60)\n  at Main.main(Main.java:18)\n</code></pre>\n<p>Same IV, salt and passphase value using Java side for key generation, but the generated key is different and also cipher test is different. I am using same method for key generation. I don't know what is missing in Dart code.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>dependencies:\n    encrypt: ^5.0.1\n    hex: ^0.2.0\n    password_hash_plus: ^4.0.0\n</code></pre>\n<p>Dart code is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var random = Random.secure();\nvar values = List&lt;int&gt;.generate(16, (i) =&gt; random.nextInt(255));\n\n// final salt = aes.IV.fromSecureRandom(16);\nfinal salt = hex.encode(values);\nfinal generator = PBKDF2(hashAlgorithm: sha1);\nfinal key = aes.Key.fromBase64(generator.generateBase64Key(&quot;1234567891234567&quot;, salt, 1000, 16));\n\n\nfinal iv = aes.IV.fromSecureRandom(16);\n\nfinal encrypter =\n    aes.Encrypter(aes.AES(key, mode: aes.AESMode.cbc, padding: 'PKCS7'));\nfinal encrypted = encrypter.encrypt(st.password!, iv: iv);\n\nvar str = '${iv.base16}::${salt}::${encrypted.base64}';\nvar bytes = utf8.encode(str);\nvar base64Str = base64.encode(bytes);\n\n\n//final decrypt = encrypter.decrypt64(&quot;/vvAYMc3rgCvPvuSVU/qQw==&quot;, iv: iv);\n\nprint(\n    '------------------------------,\\n encrypt ${(encrypted.base64)}-----------'\n     //'--\\ndecrypted ${decrypt}-----------base64--------$base64Str-----'\n    '\\nkey = ${key.base64} array--\\niv = ${iv.base16}--salt= {${salt}');\n</code></pre>\n<p>And Java code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        AesUtil aesUtil = new AesUtil();\n        String encrypt = aesUtil.encrypt(&quot;b9266c74df614967d9acaa2878bff87c&quot;, &quot;6ab7c799d6411f9d0c8e048ad526eeee&quot;, &quot;1234567891234567&quot;, &quot;Jitu@123456&quot;);\n        String a = aesUtil.decrypt(&quot;01e6a073a4255c92e704bd94d76d75c5&quot;, &quot;98a21e07ed34afc523c5f5938c9202db&quot;, &quot;1234567891234567&quot;, &quot;MumTfpnzZh9bk94yiTuA+g==&quot;);\n\n        System.out.println(&quot;encrypt = &quot; + encrypt + &quot; \\ndecrpty valaue----&quot; + a);\n    }\n}\n</code></pre>\n<p>Encryption code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.UnsupportedEncodingException;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.DecoderException;\nimport org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.Hex;\nimport org.springframework.stereotype.Component;\n\npublic class AesUtil {\n    private final int keySize;\n    private final int iterationCount;\n    private final Cipher cipher;\n\n    public AesUtil() {\n        this.keySize = 128;\n        this.iterationCount = 1000;\n        try {\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            e.printStackTrace();\n            throw fail(e);\n        } catch (NoSuchProviderException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public String encrypt(String salt, String iv, String passphrase, String plaintext) {\n        try {\n            SecretKey key = generateKey(salt, passphrase);\n            System.out.println(&quot;encryption key-------= &quot; + base64(key.getEncoded()));\n            byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, iv, plaintext.getBytes(&quot;ISO-8859-1&quot;));\n            return base64(encrypted);\n        } catch (UnsupportedEncodingException e) {\n            throw fail(e);\n        }\n    }\n\n    public String decrypt(String salt, String iv, String passphrase, String ciphertext) {\n        try {\n            SecretKey key = generateKey(salt, passphrase);\n            System.out.println(&quot;decrypt key-------= &quot; + base64(key.getEncoded()));\n            byte[] decrypted = doFinal(Cipher.DECRYPT_MODE, key, iv, base64(ciphertext));\n            return new String(decrypted, &quot;ISO-8859-1&quot;);\n        } catch (UnsupportedEncodingException e) {\n            return null;\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\n        try {\n            IvParameterSpec IivParameterSpec = new IvParameterSpec(hex(iv));\n            System.out.println(&quot;----iv--= &quot; + hex(IivParameterSpec.getIV()));\n            cipher.init(encryptMode, key, IivParameterSpec);\n            return cipher.doFinal(bytes);\n        } catch (InvalidKeyException\n                 | InvalidAlgorithmParameterException\n                 | IllegalBlockSizeException\n                 | BadPaddingException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private SecretKey generateKey(String salt, String passphrase) {\n        try {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n            byte[] s = hex(salt);\n            System.out.println(&quot;salt-= &quot; + hex(s));\n            KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), s, iterationCount, keySize);\n\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            return key;\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            return null;\n        }\n    }\n\n    public static String random(int length) {\n        byte[] salt = new byte[length];\n        new SecureRandom().nextBytes(salt);\n        return hex(salt);\n    }\n\n    public static String base64(byte[] bytes) {\n        return Base64.encodeBase64String(bytes);\n    }\n\n    public static byte[] base64(String str) {\n        return Base64.decodeBase64(str);\n    }\n\n    public static String hex(byte[] bytes) {\n        return Hex.encodeHexString(bytes);\n    }\n\n    public static byte[] hex(String str) {\n        try {\n            return Hex.decodeHex(str.toCharArray());\n        } catch (DecoderException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    private IllegalStateException fail(Exception e) {\n        return null;\n    }\n\n    public static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\n\n        int digestLength = md.getDigestLength();\n        int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\n        byte[] generatedData = new byte[requiredLength];\n        int generatedLength = 0;\n\n        try {\n            md.reset();\n\n            // Repeat process until sufficient data has been generated\n            while (generatedLength &lt; keyLength + ivLength) {\n\n                // Digest data (last digest if available, password data, salt if available)\n                if (generatedLength &gt; 0)\n                    md.update(generatedData, generatedLength - digestLength, digestLength);\n                md.update(password);\n                if (salt != null)\n                    md.update(salt, 0, 8);\n                md.digest(generatedData, generatedLength, digestLength);\n\n                // additional rounds\n                for (int i = 1; i &lt; iterations; i++) {\n                    md.update(generatedData, generatedLength, digestLength);\n                    md.digest(generatedData, generatedLength, digestLength);\n                }\n\n                generatedLength += digestLength;\n            }\n\n            // Copy key and IV into separate byte arrays\n            byte[][] result = new byte[2][];\n            result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\n            if (ivLength &gt; 0)\n                result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\n\n            return result;\n\n        } catch (DigestException e) {\n            throw new RuntimeException(e);\n\n        } finally {\n            // Clean out temporary data\n            Arrays.fill(generatedData, (byte) 0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mediapipe","tflite","pose-detection"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1674265946,"post_id":75190206,"comment_id":132684584,"body_markdown":"Welcome to StackOverflow. Without actually showing your code (&amp; possible source image) or providing more detail (i.e. which example/sample project used) it is difficult to know where you are getting your output values. Just by guessing, the first set is for the bounding box and the second set is the Vitruvian man position as described in docs with `we predict the midpoint of a person’s hips, the radius of a circle circumscribing the whole person, and the incline angle of the line connecting the shoulder and hip midpoints.`","body":"Welcome to StackOverflow. Without actually showing your code (&amp; possible source image) or providing more detail (i.e. which example/sample project used) it is difficult to know where you are getting your output values. Just by guessing, the first set is for the bounding box and the second set is the Vitruvian man position as described in docs with <code>we predict the midpoint of a person’s hips, the radius of a circle circumscribing the whole person, and the incline angle of the line connecting the shoulder and hip midpoints.</code>"},{"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"score":0,"creation_date":1674298681,"post_id":75190206,"comment_id":132687677,"body_markdown":"I edited the question a bit offering some code (the input image shouldnt matter, because the output shapes are predefined). Which docs are you reffering?","body":"I edited the question a bit offering some code (the input image shouldnt matter, because the output shapes are predefined). Which docs are you reffering?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1674334146,"post_id":75190206,"comment_id":132694043,"body_markdown":"My quote is from: https://google.github.io/mediapipe/solutions/pose.html#models Do note there is an entire section in the mediapipe documentation for getting started on Android: https://google.github.io/mediapipe/getting_started/android.html","body":"My quote is from: <a href=\"https://google.github.io/mediapipe/solutions/pose.html#models\" rel=\"nofollow noreferrer\">google.github.io/mediapipe/solutions/pose.html#models</a> Do note there is an entire section in the mediapipe documentation for getting started on Android: <a href=\"https://google.github.io/mediapipe/getting_started/android.html\" rel=\"nofollow noreferrer\">google.github.io/mediapipe/getting_started/android.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679317576,"creation_date":1679317576,"answer_id":75790656,"question_id":75190206,"body_markdown":"After some considerations due to the hint in MediaPipe&#39;s documentation &quot;Disclaimer: Running MediaPipe on Windows is experimental.&quot; (https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows), I followed the instructions on google.github.io/mediapipe/getting_started/android.html as @Morrison Chang proposed. This approach needs much time to understand, but grants high customizability and good results. That solved my problem, the old approach seems to be not suitable.","title":"Understanding the output shape of mediapipes tflite models for pose detection","body":"<p>After some considerations due to the hint in MediaPipe's documentation &quot;Disclaimer: Running MediaPipe on Windows is experimental.&quot; (<a href=\"https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows\" rel=\"nofollow noreferrer\">https://developers.google.com/mediapipe/framework/getting_started/install#installing_on_windows</a>), I followed the instructions on google.github.io/mediapipe/getting_started/android.html as @Morrison Chang proposed. This approach needs much time to understand, but grants high customizability and good results. That solved my problem, the old approach seems to be not suitable.</p>\n"}],"owner":{"account_id":27584354,"reputation":1,"user_id":21052882,"display_name":"EinePriseCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790656,"answer_count":1,"score":0,"last_activity_date":1679317576,"creation_date":1674257164,"question_id":75190206,"body_markdown":"I&#39;m trying to use one of mediapipes pretrained tflite models to perform a pose landmark detection in android (java), which offers me information about 33 landmarks of a human body. I know there are different ways for example using ML Kit, but for better results using one of mediapipes model would be better.\r\n\r\nI want to use (https://google.github.io/mediapipe/solutions/models.html) the Pose landmark model.\r\n\r\nTo use this models in android it&#39;s neccessary to know (and especially understand) the output shapes of the model.\r\nThose can be read in java (or python):\r\n - Five outputs: [195], [1], [256, 256, 1], [64, 64, 1], [117]\r\nif I got it right.\r\n\r\nBut in the model card of the model the output array is defined as [33, 5], what make sense because the goals is to detect 33 landmarks with 5 values each.\r\n\r\nCan somebody explain the output shapes of the tflite model and how to use them or give me a clue on a documentation I missed.\r\n\r\nThe used code is auto-genrated from android studio and offered by the &quot;sample code section&quot; of the model in the ml folder (following those instructions https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding, but getting same shapes on using following approach https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java):\r\n    \r\n    try {\r\n            PoseDetection model = PoseDetection.newInstance(getApplicationContext());\r\n\r\n            // Creates inputs for reference.\r\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n\r\n            // imageBuffer is the image as ByteBuffer\r\n            inputFeature0.loadBuffer(imageBuffer);\r\n\r\n            // Runs model inference and gets result.\r\n            PoseDetection.Outputs outputs = model.process(inputFeature0);\r\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n            TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\r\n            TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\r\n            TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\r\n            TensorBuffer outputFeature4 = outputs.getOutputFeature4AsTensorBuffer();\r\n\r\n            // Releases model resources if no longer used.\r\n            model.close();\r\n        } catch (IOException e) {\r\n            // TODO Handle the exception\r\n        }\r\nI got the shapes by inspecting the outputFeatures using the debugger.\r\n\r\nThanks a lot.","title":"Understanding the output shape of mediapipes tflite models for pose detection","body":"<p>I'm trying to use one of mediapipes pretrained tflite models to perform a pose landmark detection in android (java), which offers me information about 33 landmarks of a human body. I know there are different ways for example using ML Kit, but for better results using one of mediapipes model would be better.</p>\n<p>I want to use (<a href=\"https://google.github.io/mediapipe/solutions/models.html\" rel=\"nofollow noreferrer\">https://google.github.io/mediapipe/solutions/models.html</a>) the Pose landmark model.</p>\n<p>To use this models in android it's neccessary to know (and especially understand) the output shapes of the model.\nThose can be read in java (or python):</p>\n<ul>\n<li>Five outputs: [195], [1], [256, 256, 1], [64, 64, 1], [117]\nif I got it right.</li>\n</ul>\n<p>But in the model card of the model the output array is defined as [33, 5], what make sense because the goals is to detect 33 landmarks with 5 values each.</p>\n<p>Can somebody explain the output shapes of the tflite model and how to use them or give me a clue on a documentation I missed.</p>\n<p>The used code is auto-genrated from android studio and offered by the &quot;sample code section&quot; of the model in the ml folder (following those instructions <a href=\"https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/inference_with_metadata/codegen#mlbinding</a>, but getting same shapes on using following approach <a href=\"https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/guide/inference#load_and_run_a_model_in_java</a>):</p>\n<pre><code>try {\n        PoseDetection model = PoseDetection.newInstance(getApplicationContext());\n\n        // Creates inputs for reference.\n        TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n\n        // imageBuffer is the image as ByteBuffer\n        inputFeature0.loadBuffer(imageBuffer);\n\n        // Runs model inference and gets result.\n        PoseDetection.Outputs outputs = model.process(inputFeature0);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n        TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\n        TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\n        TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\n        TensorBuffer outputFeature4 = outputs.getOutputFeature4AsTensorBuffer();\n\n        // Releases model resources if no longer used.\n        model.close();\n    } catch (IOException e) {\n        // TODO Handle the exception\n    }\n</code></pre>\n<p>I got the shapes by inspecting the outputFeatures using the debugger.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","date","equality"],"comments":[{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1427722609,"post_id":29347645,"comment_id":46881099,"body_markdown":"you mean if it is 1st day of the month?","body":"you mean if it is 1st day of the month?"},{"owner":{"account_id":5395573,"reputation":137,"user_id":4296902,"accept_rate":50,"display_name":"Nick Karaolis"},"score":0,"creation_date":1427722708,"post_id":29347645,"comment_id":46881177,"body_markdown":"@taimeili123 yes that&#39;s what I mean sorry it was badly worded","body":"@taimeili123 yes that&#39;s what I mean sorry it was badly worded"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":4,"creation_date":1427722712,"post_id":29347645,"comment_id":46881179,"body_markdown":"`Calendar.getInstance().get(Calendar.DAY_OF_MONTH) == 1` ?","body":"<code>Calendar.getInstance().get(Calendar.DAY_OF_MONTH) == 1</code> ?"},{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1427722856,"post_id":29347645,"comment_id":46881275,"body_markdown":"@NickKaraolis is the date format always gonna be `MM/DD/YYYY`?","body":"@NickKaraolis is the date format always gonna be <code>MM&#47;DD&#47;YYYY</code>?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1427722917,"post_id":29347645,"comment_id":46881319,"body_markdown":"@taimeili123 That&#39;s irrelevant: *&quot;the current date&quot;*.","body":"@taimeili123 That&#39;s irrelevant: <i>&quot;the current date&quot;</i>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1427785757,"post_id":29347645,"comment_id":46908875,"body_markdown":"possible duplicate of [How can Joda or Java returns true if day is the first day of the month?](http://stackoverflow.com/questions/24451419/how-can-joda-or-java-returns-true-if-day-is-the-first-day-of-the-month)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/24451419/how-can-joda-or-java-returns-true-if-day-is-the-first-day-of-the-month\">How can Joda or Java returns true if day is the first day of the month?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1526648786,"creation_date":1427722919,"answer_id":29347787,"question_id":29347645,"body_markdown":"There&#39;s a getter for that:\r\n\r\n    public boolean isFirstDayofMonth(Calendar calendar){\r\n        if (calendar == null) {\r\n            throw new IllegalArgumentException(&quot;Calendar cannot be null.&quot;);\r\n        }\r\n    \r\n        int dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH);\r\n        return dayOfMonth == 1;\r\n    }","title":"How to check if the current date is the first of the month","body":"<p>There's a getter for that:</p>\n\n<pre><code>public boolean isFirstDayofMonth(Calendar calendar){\n    if (calendar == null) {\n        throw new IllegalArgumentException(\"Calendar cannot be null.\");\n    }\n\n    int dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH);\n    return dayOfMonth == 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7803783,"reputation":21,"user_id":5902255,"display_name":"Kranthi Kumar Kota"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679317276,"creation_date":1455011392,"answer_id":35288736,"question_id":29347645,"body_markdown":"    public static boolean isFirstDayOfTheMonth(Date dateToday){\r\n        Calendar cal = Calendar.getInstance();\r\n        c.setTime(dateToday );\r\n    \r\n        if (c.get(Calendar.DAY_OF_MONTH) == 1) {\r\n          return true;\r\n        }\r\n        return false;\r\n    }","title":"How to check if the current date is the first of the month","body":"<pre><code>public static boolean isFirstDayOfTheMonth(Date dateToday){\n    Calendar cal = Calendar.getInstance();\n    c.setTime(dateToday );\n\n    if (c.get(Calendar.DAY_OF_MONTH) == 1) {\n      return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8854730,"reputation":878,"user_id":6612842,"display_name":"Michal Maťovč&#237;k"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526626058,"creation_date":1526546331,"answer_id":50386946,"question_id":29347645,"body_markdown":"**Java 8 solution with LocalDate and TemporalAdjuster**\r\n\r\nfirst day of month:\r\n\r\n    someDate.isEqual(someDate.with(firstDayOfMonth()))\r\nlast day of month:\r\n\r\n    someDate.isEqual(someDate.with(lastDayOfMonth())\r\n\r\nThis solution uses [TemporalAdjusters][1] utility from `java.time.temporal`. It is common practice to use it as `import static` but you can also use it as `TemporalAdjusters.lastDayOfMonth()`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html","title":"How to check if the current date is the first of the month","body":"<p><strong>Java 8 solution with LocalDate and TemporalAdjuster</strong></p>\n\n<p>first day of month:</p>\n\n<pre><code>someDate.isEqual(someDate.with(firstDayOfMonth()))\n</code></pre>\n\n<p>last day of month:</p>\n\n<pre><code>someDate.isEqual(someDate.with(lastDayOfMonth())\n</code></pre>\n\n<p>This solution uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\">TemporalAdjusters</a> utility from <code>java.time.temporal</code>. It is common practice to use it as <code>import static</code> but you can also use it as <code>TemporalAdjusters.lastDayOfMonth()</code></p>\n"}],"owner":{"account_id":5395573,"reputation":137,"user_id":4296902,"accept_rate":50,"display_name":"Nick Karaolis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14301,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29347787,"answer_count":3,"score":8,"last_activity_date":1679317276,"creation_date":1427722498,"question_id":29347645,"body_markdown":"I&#39;m trying to write a function which involves checking if the current date is the first of the month such as  01/03/2015 for example and then run something depending if it is. \r\n\r\nIt doesn&#39;t matter whether it is a date or calendar object, I just want to check if the current date when the code is run is the first of the month","title":"How to check if the current date is the first of the month","body":"<p>I'm trying to write a function which involves checking if the current date is the first of the month such as  01/03/2015 for example and then run something depending if it is. </p>\n\n<p>It doesn't matter whether it is a date or calendar object, I just want to check if the current date when the code is run is the first of the month</p>\n"},{"tags":["java","spring-boot","azure","azure-appservice"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679316927,"creation_date":1679316927,"answer_id":75790532,"question_id":75734555,"body_markdown":"&gt; Is there any other workaround for running wiremock as an Azure app service.\r\n\r\nAs we know that the inbound traffic supports only 80 and 443 ports in Azure app service, To access both spring boot endpoint and wiremock(standalone) from the same port there was the way that is **reverse proxy**.\r\n\r\n- For that, first we need to set up some settings check the below.\r\n![enter image description here](https://i.stack.imgur.com/QVrBJ.png)\r\n\r\n- Add the application settings, this is required for the reverse proxy to work properly.\r\n![enter image description here](https://i.stack.imgur.com/wYfou.png)\r\n\r\n- Specify the IP address and port of Wiremock server to the VNet and hybrid connections also.\r\n![enter image description here](https://i.stack.imgur.com/sx471.png)\r\n\r\n- Add inbound security rule set the protocol **TCP**\r\nand ranges to 8085.\r\nBelow added a sample template code for better understanding.\r\n```\r\n\tprivate static final String WIREMOCK_HOST = &quot;wiremock-app-service.azurewebsites.net&quot;;\r\n    private static final int WIREMOCK_PORT = 80;\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    public HelloWorldController(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public ResponseEntity&lt;String&gt; hello() {\r\n        String url = &quot;http://&quot; + WIREMOCK_HOST + &quot;:&quot; + WIREMOCK_PORT + &quot;/hello&quot;;\r\n        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\r\n        return response;\r\n    }\r\n}\r\n```\r\nIn second case we can use Azure functions by creating HTTP-triggered Azure Function and use a library like Apache HttpComponents or OkHttp to make requests to the Spring Boot application. that makes the port active with wiremock is running with the same library to forward requests to the application on port 8085.","title":"Set up wiremock(standalone) running as an azure app service","body":"<blockquote>\n<p>Is there any other workaround for running wiremock as an Azure app service.</p>\n</blockquote>\n<p>As we know that the inbound traffic supports only 80 and 443 ports in Azure app service, To access both spring boot endpoint and wiremock(standalone) from the same port there was the way that is <strong>reverse proxy</strong>.</p>\n<ul>\n<li><p>For that, first we need to set up some settings check the below.\n<img src=\"https://i.stack.imgur.com/QVrBJ.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Add the application settings, this is required for the reverse proxy to work properly.\n<img src=\"https://i.stack.imgur.com/wYfou.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Specify the IP address and port of Wiremock server to the VNet and hybrid connections also.\n<img src=\"https://i.stack.imgur.com/sx471.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Add inbound security rule set the protocol <strong>TCP</strong>\nand ranges to 8085.\nBelow added a sample template code for better understanding.</p>\n</li>\n</ul>\n<pre><code>    private static final String WIREMOCK_HOST = &quot;wiremock-app-service.azurewebsites.net&quot;;\n    private static final int WIREMOCK_PORT = 80;\n\n    private final RestTemplate restTemplate;\n\n    public HelloWorldController(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public ResponseEntity&lt;String&gt; hello() {\n        String url = &quot;http://&quot; + WIREMOCK_HOST + &quot;:&quot; + WIREMOCK_PORT + &quot;/hello&quot;;\n        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(url, String.class);\n        return response;\n    }\n}\n</code></pre>\n<p>In second case we can use Azure functions by creating HTTP-triggered Azure Function and use a library like Apache HttpComponents or OkHttp to make requests to the Spring Boot application. that makes the port active with wiremock is running with the same library to forward requests to the application on port 8085.</p>\n"}],"owner":{"account_id":28015264,"reputation":1,"user_id":21397129,"display_name":"Shilpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679316927,"creation_date":1678804526,"question_id":75734555,"body_markdown":"I have developed a springboot application that internally starts the wiremock on port say 8082 and I have server.port = 8085 in application.properties file.\r\n\r\nTesting it locally, I&#39;m able to hit both springboot endpoint and the wiremock stubs pointing to 2 different 8085 and 8082 ports respectively. But in Azure, when I deploy it as an app service, Im not able to access wiremock since it is running on a different port. \r\nAnd as I have read, we cannot configure multiple inbound ports for an app service. Its only 80 and 443.\r\n\r\nIs there any other workaround for running wiremock as an Azure app service\r\n\r\nI tried pointing wiremock to 80 and 443 port but it gave an Address already in use error.","title":"Set up wiremock(standalone) running as an azure app service","body":"<p>I have developed a springboot application that internally starts the wiremock on port say 8082 and I have server.port = 8085 in application.properties file.</p>\n<p>Testing it locally, I'm able to hit both springboot endpoint and the wiremock stubs pointing to 2 different 8085 and 8082 ports respectively. But in Azure, when I deploy it as an app service, Im not able to access wiremock since it is running on a different port.\nAnd as I have read, we cannot configure multiple inbound ports for an app service. Its only 80 and 443.</p>\n<p>Is there any other workaround for running wiremock as an Azure app service</p>\n<p>I tried pointing wiremock to 80 and 443 port but it gave an Address already in use error.</p>\n"},{"tags":["java","spring-boot","oauth","spring-resource-server","spring-boot-oauth2.1"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679311779,"post_id":75789585,"comment_id":133693036,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/59873571/spring-boot-what-event-fired-during-oauth2-authorization-success","body":"This has been answered here: <a href=\"https://stackoverflow.com/questions/59873571/spring-boot-what-event-fired-during-oauth2-authorization-success\" title=\"spring boot what event fired during oauth2 authorization success\">stackoverflow.com/questions/59873571/&hellip;</a>"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1679313763,"post_id":75789585,"comment_id":133693513,"body_markdown":"I tried, but that didn&#39;t work with version 3.0.3..","body":"I tried, but that didn&#39;t work with version 3.0.3.."}],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679316678,"creation_date":1679314916,"answer_id":75790211,"question_id":75789585,"body_markdown":"@Component\r\n`AuthenticationSuccessEvent` event listener works....\r\n\r\n    @Component\r\n    public class AuthenticationEvent {\r\n    \r\n    \tLogger logger = LoggerFactory.getLogger(AuthenticationEvent.class);\r\n    \r\n    \t@EventListener\r\n        public void onSuccess(AuthenticationSuccessEvent success) {\r\n    \t\tSystem.out.println(&quot;S &quot;+ success);\r\n        }\r\n    }\r\n\r\n\r\nRefer : [https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events][1]\r\n\r\n&amp;\r\n\r\nExample : [https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events\r\n  [2]: https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java","title":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?","body":"<p>@Component\n<code>AuthenticationSuccessEvent</code> event listener works....</p>\n<pre><code>@Component\npublic class AuthenticationEvent {\n\n    Logger logger = LoggerFactory.getLogger(AuthenticationEvent.class);\n\n    @EventListener\n    public void onSuccess(AuthenticationSuccessEvent success) {\n        System.out.println(&quot;S &quot;+ success);\n    }\n}\n</code></pre>\n<p>Refer : <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/events.html#servlet-events</a></p>\n<p>&amp;</p>\n<p>Example : <a href=\"https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java\" rel=\"nofollow noreferrer\">https://github.com/m-thirumal/oauth-resource-server/blob/main/src/main/java/in/thirumal/listener/AuthenticationEvent.java</a></p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790211,"answer_count":1,"score":0,"last_activity_date":1679316678,"creation_date":1679310794,"question_id":75789585,"body_markdown":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?\r\n\r\nI need, to create/replicate the user details in the spring boot resource server on successful authentication, or during token validation. \r\n\r\nAny suggestions, on how to implement it in spring boot?","title":"Is there any listener for the OAuth2 resource server&#39;s successful authentication?","body":"<p>Is there any listener for the OAuth2 resource server's successful authentication?</p>\n<p>I need, to create/replicate the user details in the spring boot resource server on successful authentication, or during token validation.</p>\n<p>Any suggestions, on how to implement it in spring boot?</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679322976,"post_id":75790301,"comment_id":133696360,"body_markdown":"What is the reason you want to do that?","body":"What is the reason you want to do that?"},{"owner":{"account_id":28065384,"reputation":1,"user_id":21438851,"display_name":"Konstantin"},"score":0,"creation_date":1679375647,"post_id":75790301,"comment_id":133706187,"body_markdown":"analysis by a static code analyzer.","body":"analysis by a static code analyzer."}],"answers":[{"tags":[],"owner":{"account_id":26277556,"reputation":1,"user_id":19946473,"display_name":"Loredan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679316457,"creation_date":1679316457,"answer_id":75790456,"question_id":75790301,"body_markdown":"    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;cf.teladi.Main&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand you run it with\r\n\r\n    mvn clean compile assembly:single\r\n\r\n\r\n","title":"including dependencies and source code of dependencies (recursively) in jar with Maven","body":"<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;cf.teladi.Main&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and you run it with</p>\n<pre><code>mvn clean compile assembly:single\n</code></pre>\n"}],"owner":{"account_id":28065384,"reputation":1,"user_id":21438851,"display_name":"Konstantin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679316457,"creation_date":1679315460,"question_id":75790301,"body_markdown":"I need to package all dependencies into a jar file, as well as the source codes of dependencies, including the source code of transitive dependencies (if the corresponding source code is in the repository).\r\n\r\nIs there a way to force maven to do this?\r\n\r\nthe block below adds only the source code of direct dependencies, not transitive ones.\r\n\r\n\r\n\r\n```\r\n...\r\n &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\r\n      &lt;version&gt;${version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\r\n      &lt;version&gt;${version}&lt;/version&gt;\r\n      &lt;classifier&gt;sources&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n...\r\n  &lt;/dependencies&gt;\r\n...\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;\r\n                    cf.teladi.Main\r\n                  &lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```\r\n","title":"including dependencies and source code of dependencies (recursively) in jar with Maven","body":"<p>I need to package all dependencies into a jar file, as well as the source codes of dependencies, including the source code of transitive dependencies (if the corresponding source code is in the repository).</p>\n<p>Is there a way to force maven to do this?</p>\n<p>the block below adds only the source code of direct dependencies, not transitive ones.</p>\n<pre><code>...\n &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\n      &lt;version&gt;${version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n      &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\n      &lt;version&gt;${version}&lt;/version&gt;\n      &lt;classifier&gt;sources&lt;/classifier&gt;\n    &lt;/dependency&gt;\n...\n  &lt;/dependencies&gt;\n...\n\n&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;archive&gt;\n                &lt;manifest&gt;\n                  &lt;mainClass&gt;\n                    cf.teladi.Main\n                  &lt;/mainClass&gt;\n                &lt;/manifest&gt;\n              &lt;/archive&gt;\n              &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n              &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n"},{"tags":["java","azure","azure-web-app-service","azure-application-insights"],"comments":[{"owner":{"account_id":4510853,"reputation":830,"user_id":3667018,"accept_rate":57,"display_name":"Christian"},"score":0,"creation_date":1676455095,"post_id":75370676,"comment_id":133138311,"body_markdown":"I am currently facing the exact same issue, did you make any progress? I started encountering this problem after upgrading from springboot 2.7.7 to 3.0.2 (java 11 tomcat 9 to 17 tomcat 10)","body":"I am currently facing the exact same issue, did you make any progress? I started encountering this problem after upgrading from springboot 2.7.7 to 3.0.2 (java 11 tomcat 9 to 17 tomcat 10)"},{"owner":{"account_id":3630904,"reputation":164,"user_id":3027101,"display_name":"Grzegorz Pasnik"},"score":0,"creation_date":1676904385,"post_id":75370676,"comment_id":133226109,"body_markdown":"Which version of the `applicationinsights-agent` do you use?\nI had exactly the same problem as you have, and it disappeared right after I upgraded the application insights agent to `applicationinsights-agent-3.4.9.jar`.","body":"Which version of the <code>applicationinsights-agent</code> do you use? I had exactly the same problem as you have, and it disappeared right after I upgraded the application insights agent to <code>applicationinsights-agent-3.4.9.jar</code>."},{"owner":{"account_id":2076326,"reputation":416,"user_id":1849577,"display_name":"dosmanak"},"score":0,"creation_date":1676905467,"post_id":75370676,"comment_id":133226455,"body_markdown":"That was part of the problem. I enabled the Insights using App Service magic button in Azure Portal and it deployed the `codeless` agent which I can&#39;t say what version is. I peekd inside the jar and found string `version=3.2.11` in file `ai.sdk-version.properties` but the MANIFEST.MF contains `Created-By: 15.0.1 (Oracle Corporation)`","body":"That was part of the problem. I enabled the Insights using App Service magic button in Azure Portal and it deployed the <code>codeless</code> agent which I can&#39;t say what version is. I peekd inside the jar and found string <code>version=3.2.11</code> in file <code>ai.sdk-version.properties</code> but the MANIFEST.MF contains <code>Created-By: 15.0.1 (Oracle Corporation)</code>"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675863410,"creation_date":1675863410,"answer_id":75386595,"question_id":75370676,"body_markdown":"There can be multiple scenarios which is causing the issue:\r\n\r\nIn your case you are getting 404 error, because your jar file might not deploy properly in App Services which is causing this issue.\r\nCheck if the below steps help to resolve your issue:\r\n1. Try restarting your App service.\r\n2. You may be trying to manually push the jar file through FTP in App Service which basically causes the problem during deployment, because it basically a step of copying the jar file into Tomcat webapps directory. \r\nSo, you can deploy your jar file using maven plugin.\r\n\r\nBelow are the commands to configure and deploy the jar file in App Service of your spring boot application.\r\nCommand to configure the App Service: \r\n\r\n```Java\r\nmvn com.microsoft.azure:azure-webapp-maven-plugin:2.5.0:config\r\n```\r\nCommand to package and deploy the jar file to App Service:\r\n\r\n```Java\r\nmvn package azure-webapp:deploy\r\n```\r\n**I have tried in my environment and got expected results:**\r\n\r\n*I have used the above-mentioned commands to configure and deploy the jar file to **App Service**.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/uhvRI.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/NOOyb.png)\r\n\r\nI have enabled Application Insights and my application is working fine as expected.\r\n\r\n![enter image description here](https://i.stack.imgur.com/HeWsM.png)\r\n\r\n***I have also tried with Docker Container:*** \r\n\r\n![enter image description here](https://i.stack.imgur.com/GzmDE.png)\r\n\r\nEnabled Application Insights:\r\n\r\n![enter image description here](https://i.stack.imgur.com/oQfxm.png)\r\n\r\nEnabled Port 8080 by adding WEBSITES_PORT :8080 as a setting in Web App&gt; Configuration&gt;Application settings.\r\n\r\n![enter image description here](https://i.stack.imgur.com/yZli8.png)\r\n\r\n**Output:**\r\n![enter image description here](https://i.stack.imgur.com/vOsVf.jpg)\r\n\r\n","title":"Azure App Service with java or container returns only 404 when App Insights enabled","body":"<p>There can be multiple scenarios which is causing the issue:</p>\n<p>In your case you are getting 404 error, because your jar file might not deploy properly in App Services which is causing this issue.\nCheck if the below steps help to resolve your issue:</p>\n<ol>\n<li>Try restarting your App service.</li>\n<li>You may be trying to manually push the jar file through FTP in App Service which basically causes the problem during deployment, because it basically a step of copying the jar file into Tomcat webapps directory.\nSo, you can deploy your jar file using maven plugin.</li>\n</ol>\n<p>Below are the commands to configure and deploy the jar file in App Service of your spring boot application.\nCommand to configure the App Service:</p>\n<pre><code>mvn com.microsoft.azure:azure-webapp-maven-plugin:2.5.0:config\n</code></pre>\n<p>Command to package and deploy the jar file to App Service:</p>\n<pre><code>mvn package azure-webapp:deploy\n</code></pre>\n<p><strong>I have tried in my environment and got expected results:</strong></p>\n<p><em>I have used the above-mentioned commands to configure and deploy the jar file to <strong>App Service</strong>.</em></p>\n<p><img src=\"https://i.stack.imgur.com/uhvRI.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/NOOyb.png\" alt=\"enter image description here\" /></p>\n<p>I have enabled Application Insights and my application is working fine as expected.</p>\n<p><img src=\"https://i.stack.imgur.com/HeWsM.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>I have also tried with Docker Container:</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/GzmDE.png\" alt=\"enter image description here\" /></p>\n<p>Enabled Application Insights:</p>\n<p><img src=\"https://i.stack.imgur.com/oQfxm.png\" alt=\"enter image description here\" /></p>\n<p>Enabled Port 8080 by adding WEBSITES_PORT :8080 as a setting in Web App&gt; Configuration&gt;Application settings.</p>\n<p><img src=\"https://i.stack.imgur.com/yZli8.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output:</strong>\n<img src=\"https://i.stack.imgur.com/vOsVf.jpg\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":2076326,"reputation":416,"user_id":1849577,"display_name":"dosmanak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679316239,"creation_date":1675758463,"question_id":75370676,"body_markdown":"I wanted to deploy a built spring boot jar to Azure AppService, but the chosen mode with Linux did responded only 404 &quot;Not found&quot; (that looked like Tomcat error page) after deploy although I could see in logs the app had been deployed correctly.\r\nDuring troubleshooting I changed the mode of AppService to the one with container image. But it did not help.\r\nThen I found the 404 is caused by enabling the App Insights which causes adding a `-javaagent:/agent/java/applicationinsights-agent-codeless.jar` to `JAVA_TOOL_OPTS` env var.\r\n\r\nThe `codeless` variant is not available anywhere online so with  some struggle I downloaded the jar to my local machine, set Insights connection string env variable and reproduced the error. With the applicationinsights-agent downloaded from github [releases][1] I got different error, but did not investigate further.\r\n\r\nWhen enabled, App Insights worked as I could see it send traces etc. But the HTTP routing in the app is broken therefore the App Insights is useless.\r\n\r\nI don&#39;s see how I could fix this, so any advice is appreciated.\r\n\r\n\r\n  [1]: https://github.com/microsoft/ApplicationInsights-Java/releases","title":"Azure App Service with java or container returns only 404 when App Insights enabled","body":"<p>I wanted to deploy a built spring boot jar to Azure AppService, but the chosen mode with Linux did responded only 404 &quot;Not found&quot; (that looked like Tomcat error page) after deploy although I could see in logs the app had been deployed correctly.\nDuring troubleshooting I changed the mode of AppService to the one with container image. But it did not help.\nThen I found the 404 is caused by enabling the App Insights which causes adding a <code>-javaagent:/agent/java/applicationinsights-agent-codeless.jar</code> to <code>JAVA_TOOL_OPTS</code> env var.</p>\n<p>The <code>codeless</code> variant is not available anywhere online so with  some struggle I downloaded the jar to my local machine, set Insights connection string env variable and reproduced the error. With the applicationinsights-agent downloaded from github <a href=\"https://github.com/microsoft/ApplicationInsights-Java/releases\" rel=\"nofollow noreferrer\">releases</a> I got different error, but did not investigate further.</p>\n<p>When enabled, App Insights worked as I could see it send traces etc. But the HTTP routing in the app is broken therefore the App Insights is useless.</p>\n<p>I don's see how I could fix this, so any advice is appreciated.</p>\n"},{"tags":["java","android","android-fragments","android-intent","pdfrenderer"],"answers":[{"tags":[],"owner":{"account_id":18503983,"reputation":15,"user_id":13480697,"display_name":"Vikash Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679315725,"creation_date":1643953965,"answer_id":70981987,"question_id":70981713,"body_markdown":"there you can use this code. it&#39;s working fine for me\r\n```\r\n    fun getPdfThumbnail(context: Context, file:File, imageView: ImageView, pageCountTV:TextView) {\r\n    // create a new renderer\r\n    try {\r\n        val pfd = ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY)\r\n        val renderer = PdfRenderer(pfd)\r\n        val bitmap = Bitmap.createBitmap(900, 900, Bitmap.Config.ARGB_4444)\r\n        val page = renderer.openPage(0)\r\n        val count = renderer.pageCount\r\n        pageCountTV.text = &quot;$count pages&quot;\r\n        page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\r\n\r\n        Glide.with(context).load(bitmap).into(imageView)\r\n        page.close()\r\n        renderer.close()\r\n    }\r\n    catch (e:Exception){\r\n        e.printStackTrace()\r\n    }\r\n}\r\n```","title":"How to render a pdf in android using pdf renderer","body":"<p>there you can use this code. it's working fine for me</p>\n<pre><code>    fun getPdfThumbnail(context: Context, file:File, imageView: ImageView, pageCountTV:TextView) {\n    // create a new renderer\n    try {\n        val pfd = ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY)\n        val renderer = PdfRenderer(pfd)\n        val bitmap = Bitmap.createBitmap(900, 900, Bitmap.Config.ARGB_4444)\n        val page = renderer.openPage(0)\n        val count = renderer.pageCount\n        pageCountTV.text = &quot;$count pages&quot;\n        page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\n\n        Glide.with(context).load(bitmap).into(imageView)\n        page.close()\n        renderer.close()\n    }\n    catch (e:Exception){\n        e.printStackTrace()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643958518,"creation_date":1643958518,"answer_id":70982607,"question_id":70981713,"body_markdown":"&gt;&gt;startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n\r\nChange to:\r\n\r\n    startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsolutePath()));\r\n","title":"How to render a pdf in android using pdf renderer","body":"<blockquote>\n<blockquote>\n<p>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsolutePath()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24097966,"reputation":13,"user_id":18070181,"display_name":"Justice Chuks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643976938,"creation_date":1643976938,"answer_id":70986245,"question_id":70981713,"body_markdown":"Okay guys thank you for coming to my aid but I later found out the answer to my question the thing is at \r\n```\r\nstartActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n```\r\nI was not actually returning a string but rather a file absolute path which was returned a file, this is the reason why the log said it&#39;s not possible to cast a file to string and the code kept falling back to the default string value of file path which is null my solution was to convert the file absolute path to a string by adding this\r\n```startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile().toString())); ```\r\nThat did the job.","title":"How to render a pdf in android using pdf renderer","body":"<p>Okay guys thank you for coming to my aid but I later found out the answer to my question the thing is at</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\n</code></pre>\n<p>I was not actually returning a string but rather a file absolute path which was returned a file, this is the reason why the log said it's not possible to cast a file to string and the code kept falling back to the default string value of file path which is null my solution was to convert the file absolute path to a string by adding this\n<code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile().toString())); </code>\nThat did the job.</p>\n"}],"owner":{"account_id":24097966,"reputation":13,"user_id":18070181,"display_name":"Justice Chuks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70982607,"answer_count":3,"score":1,"last_activity_date":1679315725,"creation_date":1643951760,"question_id":70981713,"body_markdown":"Hello guys how do solve this my error log I&#39;m trying to render pdfs using the android graphics pdfrenderer class in android I&#39;ve tried to observe where or how I got it wrong but I can&#39;t see yet please guys how exactly do I achieve this using this particular class any idea will be very much appreciated.\r\n\r\n```\r\n\r\nShared attribute region not available to be mapped\r\n02-04 05:35:25.750 15257 15257 W   ActivityThread                               handleWindowVisibility: no activity for token android.os.BinderProxy@cb509ee\r\n02-04 05:35:25.936 15257 15257 W   Bundle                                       Key filePath expected String but value was a java.io.File.  The default value &lt;null&gt; was returned.\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       Attempt to cast generated internal exception:\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       java.lang.ClassCastException: java.io.File cannot be cast to java.lang.String\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.os.BaseBundle.getString(BaseBundle.java:1170)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.content.Intent.getStringExtra(Intent.java:7907)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at com.jaay.docReader.PdfActivity.onCreate(PdfActivity.java:26)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7873)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7861)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3331)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3533)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n```\r\nThis the activity handling the pdf activity and it&#39;s display\r\n```\r\n\r\npublic class PdfActivity extends AppCompatActivity {\r\n    \r\n    String filePath = &quot;&quot;;\r\n    ImageView pdfView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_pdf);\r\n        pdfView = (ImageView) findViewById(R.id.pdfview);\r\n        filePath = getIntent().getStringExtra(&quot;filePath&quot;);\r\n        File file = new File(filePath);\r\n        try{\r\n            openPDF(file);\r\n        }catch(IOException ioe){\r\n            ioe.printStackTrace();\r\n        }\r\n        \r\n        //File file = new File(filePath);\r\n        //Uri uri = Uri.fromFile(file);\r\n        //pdfView.fromUri(uri).load();\r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    public void openPDF(File file) throws IOException {\r\n       // File file = new File(filePath);\r\n\r\n        ParcelFileDescriptor fileDescriptor = null;\r\n        fileDescriptor = ParcelFileDescriptor.open(\r\n            file, ParcelFileDescriptor.MODE_READ_ONLY);\r\n\r\n        //min. API Level 21\r\n        PdfRenderer pdfRenderer = null;\r\n        pdfRenderer = new PdfRenderer(fileDescriptor);\r\n\r\n        final int pageCount = pdfRenderer.getPageCount();\r\n        Toast.makeText(this,\r\n                       &quot;pageCount = &quot; + pageCount,\r\n                       Toast.LENGTH_LONG).show();\r\n\r\n        //Display page 0\r\n        PdfRenderer.Page rendererPage = pdfRenderer.openPage(0);\r\n        int rendererPageWidth = rendererPage.getWidth();\r\n        int rendererPageHeight = rendererPage.getHeight();\r\n        Bitmap bitmap = Bitmap.createBitmap(\r\n            rendererPageWidth,\r\n            rendererPageHeight,\r\n            Bitmap.Config.ARGB_8888);\r\n        rendererPage.render(bitmap, null, null,\r\n                            PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n\r\n        pdfView.setImageBitmap(bitmap);\r\n        rendererPage.close();\r\n\r\n        pdfRenderer.close();\r\n        fileDescriptor.close();\r\n    }\r\n    \r\n    \r\n    \r\n}\r\n```\r\nThis is the code passing the pdf files using intent from fragment to activity.\r\n```\r\nstartActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\r\n```\r\nHere is the pdf activity xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/activity_pdf&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingBottom=&quot;10dp&quot;\r\n    android:paddingLeft=&quot;10dp&quot;\r\n    android:paddingRight=&quot;10dp&quot;\r\n    android:paddingTop=&quot;10dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:autoLink=&quot;web&quot;\r\n        android:text=&quot;jaa&quot;\r\n        android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/pdfview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    \r\n&lt;/LinearLayout&gt;\r\n```\r\nWhere did I go wrong and what&#39;s odd in \r\n```\r\nfilePath = getIntent().getStringExtra(&quot;filePath&quot;);\r\n        File file = new File(filePath);\r\n```","title":"How to render a pdf in android using pdf renderer","body":"<p>Hello guys how do solve this my error log I'm trying to render pdfs using the android graphics pdfrenderer class in android I've tried to observe where or how I got it wrong but I can't see yet please guys how exactly do I achieve this using this particular class any idea will be very much appreciated.</p>\n<pre><code>\nShared attribute region not available to be mapped\n02-04 05:35:25.750 15257 15257 W   ActivityThread                               handleWindowVisibility: no activity for token android.os.BinderProxy@cb509ee\n02-04 05:35:25.936 15257 15257 W   Bundle                                       Key filePath expected String but value was a java.io.File.  The default value &lt;null&gt; was returned.\n02-04 05:35:25.950 15257 15257 W   Bundle                                       Attempt to cast generated internal exception:\n02-04 05:35:25.950 15257 15257 W   Bundle                                       java.lang.ClassCastException: java.io.File cannot be cast to java.lang.String\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.os.BaseBundle.getString(BaseBundle.java:1170)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.content.Intent.getStringExtra(Intent.java:7907)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at com.jaay.docReader.PdfActivity.onCreate(PdfActivity.java:26)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7873)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Activity.performCreate(Activity.java:7861)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3331)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3533)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n02-04 05:35:25.950 15257 15257 W   Bundle                                       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n</code></pre>\n<p>This the activity handling the pdf activity and it's display</p>\n<pre><code>\npublic class PdfActivity extends AppCompatActivity {\n    \n    String filePath = &quot;&quot;;\n    ImageView pdfView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_pdf);\n        pdfView = (ImageView) findViewById(R.id.pdfview);\n        filePath = getIntent().getStringExtra(&quot;filePath&quot;);\n        File file = new File(filePath);\n        try{\n            openPDF(file);\n        }catch(IOException ioe){\n            ioe.printStackTrace();\n        }\n        \n        //File file = new File(filePath);\n        //Uri uri = Uri.fromFile(file);\n        //pdfView.fromUri(uri).load();\n        \n        \n    }\n    \n    \n    public void openPDF(File file) throws IOException {\n       // File file = new File(filePath);\n\n        ParcelFileDescriptor fileDescriptor = null;\n        fileDescriptor = ParcelFileDescriptor.open(\n            file, ParcelFileDescriptor.MODE_READ_ONLY);\n\n        //min. API Level 21\n        PdfRenderer pdfRenderer = null;\n        pdfRenderer = new PdfRenderer(fileDescriptor);\n\n        final int pageCount = pdfRenderer.getPageCount();\n        Toast.makeText(this,\n                       &quot;pageCount = &quot; + pageCount,\n                       Toast.LENGTH_LONG).show();\n\n        //Display page 0\n        PdfRenderer.Page rendererPage = pdfRenderer.openPage(0);\n        int rendererPageWidth = rendererPage.getWidth();\n        int rendererPageHeight = rendererPage.getHeight();\n        Bitmap bitmap = Bitmap.createBitmap(\n            rendererPageWidth,\n            rendererPageHeight,\n            Bitmap.Config.ARGB_8888);\n        rendererPage.render(bitmap, null, null,\n                            PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n\n        pdfView.setImageBitmap(bitmap);\n        rendererPage.close();\n\n        pdfRenderer.close();\n        fileDescriptor.close();\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is the code passing the pdf files using intent from fragment to activity.</p>\n<pre><code>startActivity(new Intent(getActivity(), PdfActivity.class).putExtra(&quot;filePath&quot;, file.getAbsoluteFile()));\n</code></pre>\n<p>Here is the pdf activity xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/activity_pdf&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingBottom=&quot;10dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot;\n    android:paddingTop=&quot;10dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;20dp&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:autoLink=&quot;web&quot;\n        android:text=&quot;jaa&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/pdfview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n    \n    \n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Where did I go wrong and what's odd in</p>\n<pre><code>filePath = getIntent().getStringExtra(&quot;filePath&quot;);\n        File file = new File(filePath);\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","android-glide"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679307222,"post_id":75788244,"comment_id":133691830,"body_markdown":"Why do you load image to a file and then give it to Glide instead of just giving Glide the url?","body":"Why do you load image to a file and then give it to Glide instead of just giving Glide the url?"}],"owner":{"account_id":26664072,"reputation":1,"user_id":20276446,"display_name":"Gijs Kruize"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679315426,"creation_date":1679302761,"question_id":75788244,"body_markdown":"Hi everyone I am designing an app for a university course,\r\nI have a tinder-like swipecard system implementing Koloda-android, the cards are connected to a viewholder and I want to get each card to load an image from a firebase storage server.\r\n\r\n\r\n```\r\nFirebaseStorage storage = FirebaseStorage.getInstance();\r\n        StorageReference httpsReference = storage.getReferenceFromUrl(&quot;https://firebasestorage.googleapis.com/v0/b/what-to-eat-tue.appspot.com/o/the-best-caesar-salad-recipe-06-40e70f549ba2489db09355abd62f79a9.jpg?alt=media&amp;token=220ba356-b1d6-4a21-ad0e-f305c19b46c2&quot;);\r\n        File localFile = null;\r\n        try {\r\n            localFile = File.createTempFile(&quot;images&quot;, &quot;jpg&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        httpsReference.getFile(localFile);\r\n        Glide.with(this.context).load(localFile).into(holder.getImageView());\r\n```\r\nThis is the code I use to get the image but then i get a load of errors, but i don&#39;t know what de exact cause is....\r\n\r\nHere is my full log:\r\n\r\n```\r\n\r\n03/20 09:51:15: Launching &#39;app&#39; on Pixel XL API 33.\r\nInstall successfully finished in 93 ms.\r\n$ adb shell am start -n &quot;com.example.whattoeat/com.example.whattoeat.ui.account.Login&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 11645 on device &#39;Pixel_XL_API_33 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/ample.whattoeat: Late-enabling -Xcheck:jni\r\nW/re-initialized&gt;: type=1400 audit(0.0:63): avc: granted { execute } for path=&quot;/data/data/com.example.whattoeat/code_cache/startup_agents/09f4021c-agent.so&quot; dev=&quot;dm-32&quot; ino=147504 scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c162,c256,c512,c768 tclass=file app=com.example.whattoeat\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\r\nW/ample.whattoeat: DexFile /data/data/com.example.whattoeat/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/ample.whattoeat: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/ample.whattoeat: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10162; state: ENABLED\r\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.extensions.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.sidecar.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nW/ziparchive: Unable to open &#39;/data/data/com.example.whattoeat/code_cache/.overlay/base.apk/classes8.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm&#39;: No such file or directory\r\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.whattoeat&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.whattoeat: false\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10162; state: ENABLED\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nD/FirebaseAuth: Notifying id token listeners about user ( EtRQg4lnkRRJVMtCLl6dhS2OWkq1 ).\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nW/ample.whattoeat: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/ample.whattoeat: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10162; state: ENABLED\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6635050, tid 11675\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0xb400006ee66363d0: maj 3 min 0 rcv 3\r\nD/EGL_emulation: eglMakeCurrent: 0xb400006ee66363d0: ver 3 0 (tinfo 0x710a16b080) (first time)\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6636f10, tid 11675\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x1dfff8000 size 0x8000\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/Parcel: Expecting binder but got null!\r\nD/AutofillManager: Fill dialog is enabled:false, hints=[password, passwordAuto, creditCardNumber, creditCardSecurityCode, creditCardExpirationDate]\r\nW/OnBackInvokedCallback: OnBackInvokedCallback is not enabled for the application.\r\n    Set &#39;android:enableOnBackInvokedCallback=&quot;true&quot;&#39; in the application manifest.\r\nW/NetworkRequest: No App Check token for request.\r\nW/Glide: Failed to find GeneratedAppGlideModule. You should include an annotationProcessor compile dependency on com.github.bumptech.glide:compiler in your application and a @GlideModule annotated AppGlideModule implementation or LibraryGlideModules will be silently ignored\r\nD/TrafficStats: tagSocket(103) with statsTag=0xffffffff, statsUid=-1\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10162; state: ENABLED\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nD/OpenGLRenderer: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nW/Glide: Load failed for /data/user/0/com.example.whattoeat/cache/images8790834186476644962jpg with size [1300x1400]\r\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n    There were 3 causes:\r\n    java.io.IOException(File unsuitable for memory mapping)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n      Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.nio.ByteBuffer, LOCAL\r\n    There was 1 cause:\r\n    java.io.IOException(File unsuitable for memory mapping)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 1): class java.io.IOException: File unsuitable for memory mapping\r\n      Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{FileInputStream-&gt;Object-&gt;Drawable}, LOCAL\r\n        Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;GifDrawable-&gt;Drawable}\r\n        Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;Bitmap-&gt;Drawable}\r\n        Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;BitmapDrawable-&gt;Drawable}\r\n      Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{ParcelFileDescriptor-&gt;Object-&gt;Drawable}, LOCAL\r\n    There were 2 causes:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;Bitmap-&gt;Drawable}\r\n    There was 1 cause:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        Cause (2 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;BitmapDrawable-&gt;Drawable}\r\n    There was 1 cause:\r\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\nI/Glide: Root cause (1 of 3)\r\n    java.io.IOException: File unsuitable for memory mapping\r\n        at com.bumptech.glide.util.ByteBufferUtil.fromFile(ByteBufferUtil.java:38)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:61)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\nI/Glide: Root cause (2 of 3)\r\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)&#160;\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)&#160;\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)&#160;\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)&#160;\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)&#160;\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)&#160;\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)&#160;\r\n        at java.lang.Thread.run(Thread.java:1012)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)&#160;\r\nI/Glide: Root cause (3 of 3)\r\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\r\n        at com.bumptech.glide.load.resource.bitmap.BitmapDrawableDecoder.decode(BitmapDrawableDecoder.java:58)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\r\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\r\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\r\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\r\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\r\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\r\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\r\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\r\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\r\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\r\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\r\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\r\nI/Glide:     at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\r\n        \t... 38 more\r\nD/EGL_emulation: app_time_stats: avg=54.22ms min=1.17ms max=738.36ms count=16\r\nW/ample.whattoeat: Cleared Reference was only reachable from finalizer (only reported once)\r\nW/System: A resource failed to call close. \r\n```\r\nCan someone please help me out?\r\nThanks in advance\r\n\r\nLooking up the errors, but I did not find any answers.","title":"Lot of errors using Glide in android","body":"<p>Hi everyone I am designing an app for a university course,\nI have a tinder-like swipecard system implementing Koloda-android, the cards are connected to a viewholder and I want to get each card to load an image from a firebase storage server.</p>\n<pre><code>FirebaseStorage storage = FirebaseStorage.getInstance();\n        StorageReference httpsReference = storage.getReferenceFromUrl(&quot;https://firebasestorage.googleapis.com/v0/b/what-to-eat-tue.appspot.com/o/the-best-caesar-salad-recipe-06-40e70f549ba2489db09355abd62f79a9.jpg?alt=media&amp;token=220ba356-b1d6-4a21-ad0e-f305c19b46c2&quot;);\n        File localFile = null;\n        try {\n            localFile = File.createTempFile(&quot;images&quot;, &quot;jpg&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        httpsReference.getFile(localFile);\n        Glide.with(this.context).load(localFile).into(holder.getImageView());\n</code></pre>\n<p>This is the code I use to get the image but then i get a load of errors, but i don't know what de exact cause is....</p>\n<p>Here is my full log:</p>\n<pre><code>\n03/20 09:51:15: Launching 'app' on Pixel XL API 33.\nInstall successfully finished in 93 ms.\n$ adb shell am start -n &quot;com.example.whattoeat/com.example.whattoeat.ui.account.Login&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 11645 on device 'Pixel_XL_API_33 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/ample.whattoeat: Late-enabling -Xcheck:jni\nW/re-initialized&gt;: type=1400 audit(0.0:63): avc: granted { execute } for path=&quot;/data/data/com.example.whattoeat/code_cache/startup_agents/09f4021c-agent.so&quot; dev=&quot;dm-32&quot; ino=147504 scontext=u:r:untrusted_app:s0:c162,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c162,c256,c512,c768 tclass=file app=com.example.whattoeat\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\nW/ample.whattoeat: DexFile /data/data/com.example.whattoeat/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/ample.whattoeat: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/ample.whattoeat: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10162; state: ENABLED\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.extensions.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nD/nativeloader: Configuring classloader-namespace for other apk /system_ext/framework/androidx.window.sidecar.jar. target_sdk_version=33, uses_libraries=ALL, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nW/ziparchive: Unable to open '/data/data/com.example.whattoeat/code_cache/.overlay/base.apk/classes8.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.dm': No such file or directory\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~A3ECGtDk3RA4H-e62AejUQ==/com.example.whattoeat-rgi-aQIKeTc6WW8yDnH2FQ==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.whattoeat\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.whattoeat' set to: 'default'\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.whattoeat: false\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10162; state: ENABLED\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nD/FirebaseAuth: Notifying id token listeners about user ( EtRQg4lnkRRJVMtCLl6dhS2OWkq1 ).\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nW/ample.whattoeat: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/ample.whattoeat: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10162; state: ENABLED\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6635050, tid 11675\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0xb400006ee66363d0: maj 3 min 0 rcv 3\nD/EGL_emulation: eglMakeCurrent: 0xb400006ee66363d0: ver 3 0 (tinfo 0x710a16b080) (first time)\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0xb400006ee6636f10, tid 11675\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x1dfff8000 size 0x8000\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \nW/Parcel: Expecting binder but got null!\nD/AutofillManager: Fill dialog is enabled:false, hints=[password, passwordAuto, creditCardNumber, creditCardSecurityCode, creditCardExpirationDate]\nW/OnBackInvokedCallback: OnBackInvokedCallback is not enabled for the application.\n    Set 'android:enableOnBackInvokedCallback=&quot;true&quot;' in the application manifest.\nW/NetworkRequest: No App Check token for request.\nW/Glide: Failed to find GeneratedAppGlideModule. You should include an annotationProcessor compile dependency on com.github.bumptech.glide:compiler in your application and a @GlideModule annotated AppGlideModule implementation or LibraryGlideModules will be silently ignored\nD/TrafficStats: tagSocket(103) with statsTag=0xffffffff, statsUid=-1\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10162; state: ENABLED\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nD/OpenGLRenderer: --- Failed to create image decoder with message 'unimplemented'\nW/Glide: Load failed for /data/user/0/com.example.whattoeat/cache/images8790834186476644962jpg with size [1300x1400]\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There were 3 causes:\n    java.io.IOException(File unsuitable for memory mapping)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.nio.ByteBuffer, LOCAL\n    There was 1 cause:\n    java.io.IOException(File unsuitable for memory mapping)\n     call GlideException#logRootCauses(String) for more detail\n        Cause (1 of 1): class java.io.IOException: File unsuitable for memory mapping\n      Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{FileInputStream-&gt;Object-&gt;Drawable}, LOCAL\n        Cause (1 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;GifDrawable-&gt;Drawable}\n        Cause (2 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;Bitmap-&gt;Drawable}\n        Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{FileInputStream-&gt;BitmapDrawable-&gt;Drawable}\n      Cause (3 of 3): class com.bumptech.glide.load.engine.GlideException: Failed LoadPath{ParcelFileDescriptor-&gt;Object-&gt;Drawable}, LOCAL\n    There were 2 causes:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n        Cause (1 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;Bitmap-&gt;Drawable}\n    There was 1 cause:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        Cause (2 of 2): class com.bumptech.glide.load.engine.GlideException: Failed DecodePath{ParcelFileDescriptor-&gt;BitmapDrawable-&gt;Drawable}\n    There was 1 cause:\n    java.io.IOException(java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA)\n     call GlideException#logRootCauses(String) for more detail\n          Cause (1 of 1): class java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\nI/Glide: Root cause (1 of 3)\n    java.io.IOException: File unsuitable for memory mapping\n        at com.bumptech.glide.util.ByteBufferUtil.fromFile(ByteBufferUtil.java:38)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:61)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\nI/Glide: Root cause (2 of 3)\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92) \n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70) \n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59) \n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76) \n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57) \n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524) \n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488) \n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474) \n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426) \n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390) \n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148) \n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76) \n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63) \n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310) \n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434) \n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390) \n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148) \n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76) \n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63) \n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310) \n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408) \n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160) \n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83) \n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70) \n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63) \n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310) \n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279) \n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637) \n        at java.lang.Thread.run(Thread.java:1012) \n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393) \nI/Glide: Root cause (3 of 3)\n    java.io.IOException: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:185)\n        at com.bumptech.glide.load.resource.bitmap.BitmapDrawableDecoder.decode(BitmapDrawableDecoder.java:58)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResourceWithList(DecodePath.java:92)\n        at com.bumptech.glide.load.engine.DecodePath.decodeResource(DecodePath.java:70)\n        at com.bumptech.glide.load.engine.DecodePath.decode(DecodePath.java:59)\n        at com.bumptech.glide.load.engine.LoadPath.loadWithExceptionList(LoadPath.java:76)\n        at com.bumptech.glide.load.engine.LoadPath.load(LoadPath.java:57)\n        at com.bumptech.glide.load.engine.DecodeJob.runLoadPath(DecodeJob.java:524)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromFetcher(DecodeJob.java:488)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromData(DecodeJob.java:474)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:426)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.decodeFromRetrievedData(DecodeJob.java:434)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherReady(DecodeJob.java:390)\n        at com.bumptech.glide.load.engine.SourceGenerator.onDataReadyInternal(SourceGenerator.java:148)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onDataReady(SourceGenerator.java:76)\n        at com.bumptech.glide.load.model.FileLoader$FileFetcher.loadData(FileLoader.java:79)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.onDataFetcherFailed(DecodeJob.java:408)\n        at com.bumptech.glide.load.engine.SourceGenerator.onLoadFailedInternal(SourceGenerator.java:160)\n        at com.bumptech.glide.load.engine.SourceGenerator$1.onLoadFailed(SourceGenerator.java:83)\n        at com.bumptech.glide.load.model.ByteBufferFileLoader$ByteBufferFetcher.loadData(ByteBufferFileLoader.java:66)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:70)\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:63)\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:310)\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:279)\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:393)\n     Caused by: java.lang.RuntimeException: setDataSource failed: status = 0xFFFFFFEA\n        at android.media.MediaMetadataRetriever._setDataSource(Native Method)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:310)\n        at android.media.MediaMetadataRetriever.setDataSource(MediaMetadataRetriever.java:334)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:306)\n        at com.bumptech.glide.load.resource.bitmap.VideoDecoder$ParcelFileDescriptorInitializer.initialize(VideoDecoder.java:301)\nI/Glide:     at com.bumptech.glide.load.resource.bitmap.VideoDecoder.decode(VideoDecoder.java:173)\n            ... 38 more\nD/EGL_emulation: app_time_stats: avg=54.22ms min=1.17ms max=738.36ms count=16\nW/ample.whattoeat: Cleared Reference was only reachable from finalizer (only reported once)\nW/System: A resource failed to call close. \n</code></pre>\n<p>Can someone please help me out?\nThanks in advance</p>\n<p>Looking up the errors, but I did not find any answers.</p>\n"},{"tags":["java","elasticsearch","logstash","logback"],"answers":[{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679213440,"creation_date":1679213440,"answer_id":75780769,"question_id":75770566,"body_markdown":"By step debugging thro the Logback initialization phase, I discovered that the issue arose because I had upgraded from Logback 1.1.x to 1.3.x and 1.4.x.\r\n\r\nLogback 1.3 onwards reserves the use of the element name &quot;property&quot; for its own property settings.\r\n\r\nTherefore I had to create a wrapper class to re-express the element name &quot;property&quot; as something else. I decided to use &quot;attribute&quot;.\r\n\r\n    package yourcompany.blahblah;\r\n    import com.internetitem.logback.elasticsearch.ElasticsearchAppender;\r\n    import com.internetitem.logback.elasticsearch.config.*;\r\n\r\n    public class LogbackCompatibilityWrapper4ElasticsearchAppender\r\n      extends ElasticsearchAppender {\r\n      public void setAttributes(Attributes attributes) {\r\n        super.setProperties(attributes);\r\n      }\r\n    \r\n      static public class Attribute extends Property {\r\n        /* No-args constructor must be present \r\n         *  because Logback instatiates it to use the setters.\r\n         */\r\n        public ElasticsearchProperties () {}\r\n    \r\n        public ElasticsearchProperties (\r\n          String name, String value, boolean allowEmpty) {\r\n            super(name, value, allowEmpty);\r\n        }\r\n      }\r\n    \r\n      static public class Attributes extends ElasticsearchProperties {\r\n        public void addAttribute(Attribute attribute) {\r\n          super(attribute);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nSo that the appender config in the ElasticserchAppender github page should be changed to the manner of\r\n\r\n\r\n    &lt;appender name=&quot;ELASTIC&quot; class=&quot;yourcompany.blahblah.LogbackCompatibilityWrapper4ElasticsearchAppender&quot;&gt;\r\n        &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\r\n        &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\r\n        &lt;type&gt;tester&lt;/type&gt;\r\n        &lt;loggerName&gt;es-logger&lt;/loggerName&gt; &lt;!-- optional --&gt;\r\n        &lt;errorLoggerName&gt;es-error-logger&lt;/errorLoggerName&gt; &lt;!-- optional --&gt;\r\n        &lt;connectTimeout&gt;30000&lt;/connectTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\r\n        &lt;errorsToStderr&gt;false&lt;/errorsToStderr&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;logsToStderr&gt;false&lt;/logsToStderr&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;maxQueueSize&gt;104857600&lt;/maxQueueSize&gt; &lt;!-- optional (default 104857600) --&gt;\r\n        &lt;maxRetries&gt;3&lt;/maxRetries&gt; &lt;!-- optional (default 3) --&gt;\r\n        &lt;readTimeout&gt;30000&lt;/readTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\r\n        &lt;sleepTime&gt;250&lt;/sleepTime&gt; &lt;!-- optional (in ms, default 250) --&gt;\r\n        &lt;rawJsonMessage&gt;false&lt;/rawJsonMessage&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;includeMdc&gt;false&lt;/includeMdc&gt; &lt;!-- optional (default false) --&gt;\r\n        &lt;maxMessageSize&gt;100&lt;/maxMessageSize&gt; &lt;!-- optional (default -1 --&gt;\r\n        &lt;authentication class=&quot;com.internetitem.logback.elasticsearch.config.BasicAuthentication&quot; /&gt; &lt;!-- optional --&gt;\r\n        &lt;attributes&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;host&lt;/name&gt;\r\n                &lt;value&gt;${HOSTNAME}&lt;/value&gt;\r\n                &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;severity&lt;/name&gt;\r\n                &lt;value&gt;%level&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;thread&lt;/name&gt;\r\n                &lt;value&gt;%thread&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;stacktrace&lt;/name&gt;\r\n                &lt;value&gt;%ex&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n            &lt;attribute&gt;\r\n                &lt;name&gt;logger&lt;/name&gt;\r\n                &lt;value&gt;%logger&lt;/value&gt;\r\n            &lt;/attribute&gt;\r\n        &lt;/attributes&gt;\r\n        &lt;headers&gt;\r\n            &lt;header&gt;\r\n                &lt;name&gt;Content-Type&lt;/name&gt;\r\n                &lt;value&gt;application/json&lt;/value&gt;\r\n            &lt;/header&gt;\r\n        &lt;/headers&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;ELASTIC&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;es-error-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;es-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender name=&quot;ES_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;!-- ... --&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%msg&lt;/pattern&gt; &lt;!-- This pattern is important, otherwise it won&#39;t be the raw Elasticsearch format anyomre --&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\nAfter which the properties I configured started to appear in the message sent to logstash.\r\n\r\n\r\n\r\n","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>By step debugging thro the Logback initialization phase, I discovered that the issue arose because I had upgraded from Logback 1.1.x to 1.3.x and 1.4.x.</p>\n<p>Logback 1.3 onwards reserves the use of the element name &quot;property&quot; for its own property settings.</p>\n<p>Therefore I had to create a wrapper class to re-express the element name &quot;property&quot; as something else. I decided to use &quot;attribute&quot;.</p>\n<pre><code>package yourcompany.blahblah;\nimport com.internetitem.logback.elasticsearch.ElasticsearchAppender;\nimport com.internetitem.logback.elasticsearch.config.*;\n\npublic class LogbackCompatibilityWrapper4ElasticsearchAppender\n  extends ElasticsearchAppender {\n  public void setAttributes(Attributes attributes) {\n    super.setProperties(attributes);\n  }\n\n  static public class Attribute extends Property {\n    /* No-args constructor must be present \n     *  because Logback instatiates it to use the setters.\n     */\n    public ElasticsearchProperties () {}\n\n    public ElasticsearchProperties (\n      String name, String value, boolean allowEmpty) {\n        super(name, value, allowEmpty);\n    }\n  }\n\n  static public class Attributes extends ElasticsearchProperties {\n    public void addAttribute(Attribute attribute) {\n      super(attribute);\n    }\n  }\n}\n</code></pre>\n<p>So that the appender config in the ElasticserchAppender github page should be changed to the manner of</p>\n<pre><code>&lt;appender name=&quot;ELASTIC&quot; class=&quot;yourcompany.blahblah.LogbackCompatibilityWrapper4ElasticsearchAppender&quot;&gt;\n    &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\n    &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\n    &lt;type&gt;tester&lt;/type&gt;\n    &lt;loggerName&gt;es-logger&lt;/loggerName&gt; &lt;!-- optional --&gt;\n    &lt;errorLoggerName&gt;es-error-logger&lt;/errorLoggerName&gt; &lt;!-- optional --&gt;\n    &lt;connectTimeout&gt;30000&lt;/connectTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\n    &lt;errorsToStderr&gt;false&lt;/errorsToStderr&gt; &lt;!-- optional (default false) --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- optional (default false) --&gt;\n    &lt;logsToStderr&gt;false&lt;/logsToStderr&gt; &lt;!-- optional (default false) --&gt;\n    &lt;maxQueueSize&gt;104857600&lt;/maxQueueSize&gt; &lt;!-- optional (default 104857600) --&gt;\n    &lt;maxRetries&gt;3&lt;/maxRetries&gt; &lt;!-- optional (default 3) --&gt;\n    &lt;readTimeout&gt;30000&lt;/readTimeout&gt; &lt;!-- optional (in ms, default 30000) --&gt;\n    &lt;sleepTime&gt;250&lt;/sleepTime&gt; &lt;!-- optional (in ms, default 250) --&gt;\n    &lt;rawJsonMessage&gt;false&lt;/rawJsonMessage&gt; &lt;!-- optional (default false) --&gt;\n    &lt;includeMdc&gt;false&lt;/includeMdc&gt; &lt;!-- optional (default false) --&gt;\n    &lt;maxMessageSize&gt;100&lt;/maxMessageSize&gt; &lt;!-- optional (default -1 --&gt;\n    &lt;authentication class=&quot;com.internetitem.logback.elasticsearch.config.BasicAuthentication&quot; /&gt; &lt;!-- optional --&gt;\n    &lt;attributes&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;host&lt;/name&gt;\n            &lt;value&gt;${HOSTNAME}&lt;/value&gt;\n            &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;severity&lt;/name&gt;\n            &lt;value&gt;%level&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;thread&lt;/name&gt;\n            &lt;value&gt;%thread&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;stacktrace&lt;/name&gt;\n            &lt;value&gt;%ex&lt;/value&gt;\n        &lt;/attribute&gt;\n        &lt;attribute&gt;\n            &lt;name&gt;logger&lt;/name&gt;\n            &lt;value&gt;%logger&lt;/value&gt;\n        &lt;/attribute&gt;\n    &lt;/attributes&gt;\n    &lt;headers&gt;\n        &lt;header&gt;\n            &lt;name&gt;Content-Type&lt;/name&gt;\n            &lt;value&gt;application/json&lt;/value&gt;\n        &lt;/header&gt;\n    &lt;/headers&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\n    &lt;appender-ref ref=&quot;ELASTIC&quot; /&gt;\n&lt;/root&gt;\n\n&lt;logger name=&quot;es-error-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;FILELOGGER&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;es-logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender name=&quot;ES_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;!-- ... --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%msg&lt;/pattern&gt; &lt;!-- This pattern is important, otherwise it won't be the raw Elasticsearch format anyomre --&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>After which the properties I configured started to appear in the message sent to logstash.</p>\n"},{"tags":[],"owner":{"account_id":28063048,"reputation":31,"user_id":21436857,"display_name":"Jens Rieks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679315365,"creation_date":1679297617,"answer_id":75787569,"question_id":75770566,"body_markdown":"The internetitem version of logback-elasticsearch-appender seems to be unmaintained, so we made a fork here: https://github.com/agido-malter/logback-elasticsearch-appender/\r\n\r\nYour problem has been solved there, you can now use `&lt;esProperty&gt;` instead of `&lt;property&gt;`.\r\n\r\nThe fix is included in the newest version here:\r\nhttps://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>The internetitem version of logback-elasticsearch-appender seems to be unmaintained, so we made a fork here: <a href=\"https://github.com/agido-malter/logback-elasticsearch-appender/\" rel=\"nofollow noreferrer\">https://github.com/agido-malter/logback-elasticsearch-appender/</a></p>\n<p>Your problem has been solved there, you can now use <code>&lt;esProperty&gt;</code> instead of <code>&lt;property&gt;</code>.</p>\n<p>The fix is included in the newest version here:\n<a href=\"https://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/com.agido/logback-elasticsearch-appender/3.0.6</a></p>\n"}],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679315365,"creation_date":1679074406,"question_id":75770566,"body_markdown":"Migrating from ElasticsearchAppender 1.1 to 1.3.5 and using the example configuration suggested in https://github.com/internetitem/logback-elasticsearch-appender:\r\n\r\n\r\n    &lt;appender name=&quot;ELASTIC&quot; \r\n      class=&quot;com.internetitem.logback.elasticsearch.ElasticsearchAppender&quot;&gt;\r\n      &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\r\n      &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\r\n      &lt;type&gt;tester&lt;/type&gt;\r\n      blah ... blah ...\r\n        &lt;properties&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;host&lt;/name&gt;\r\n                &lt;value&gt;${HOSTNAME}&lt;/value&gt;\r\n                &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;severity&lt;/name&gt;\r\n                &lt;value&gt;%level&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;thread&lt;/name&gt;\r\n                &lt;value&gt;%thread&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;stacktrace&lt;/name&gt;\r\n                &lt;value&gt;%ex&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;logger&lt;/name&gt;\r\n                &lt;value&gt;%logger&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/properties&gt;\r\n     blah ... blah ...\r\n\r\n\r\nStep debugging thro the Logback configuration initialization stage, I found that the properties block is completely ignored by Logback model joran model reading stage.\r\n\r\nThe model handler is treating the element &quot;&lt;property &quot; as a Logback reserved model, rather than going forth to the ElasticsearchAppender properties bean to search for the appropriate adder method, Logback complains each property structure in the ElasticsearchAppender xml block is not recognized as valid.\r\n\r\nIs this a defect, or does InternetItem have a new ElasticsearchAppender configuration compatible with Logback 1.3 ++?\r\n\r\n\r\n\r\n\r\n\r\n","title":"InternetItem&#39;s ElasticsearchAppender properties are ignored by Logback 1.3.5","body":"<p>Migrating from ElasticsearchAppender 1.1 to 1.3.5 and using the example configuration suggested in <a href=\"https://github.com/internetitem/logback-elasticsearch-appender\" rel=\"nofollow noreferrer\">https://github.com/internetitem/logback-elasticsearch-appender</a>:</p>\n<pre><code>&lt;appender name=&quot;ELASTIC&quot; \n  class=&quot;com.internetitem.logback.elasticsearch.ElasticsearchAppender&quot;&gt;\n  &lt;url&gt;http://yourserver/_bulk&lt;/url&gt;\n  &lt;index&gt;logs-%date{yyyy-MM-dd}&lt;/index&gt;\n  &lt;type&gt;tester&lt;/type&gt;\n  blah ... blah ...\n    &lt;properties&gt;\n        &lt;property&gt;\n            &lt;name&gt;host&lt;/name&gt;\n            &lt;value&gt;${HOSTNAME}&lt;/value&gt;\n            &lt;allowEmpty&gt;false&lt;/allowEmpty&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;severity&lt;/name&gt;\n            &lt;value&gt;%level&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;thread&lt;/name&gt;\n            &lt;value&gt;%thread&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;stacktrace&lt;/name&gt;\n            &lt;value&gt;%ex&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n            &lt;name&gt;logger&lt;/name&gt;\n            &lt;value&gt;%logger&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/properties&gt;\n blah ... blah ...\n</code></pre>\n<p>Step debugging thro the Logback configuration initialization stage, I found that the properties block is completely ignored by Logback model joran model reading stage.</p>\n<p>The model handler is treating the element &quot;&lt;property &quot; as a Logback reserved model, rather than going forth to the ElasticsearchAppender properties bean to search for the appropriate adder method, Logback complains each property structure in the ElasticsearchAppender xml block is not recognized as valid.</p>\n<p>Is this a defect, or does InternetItem have a new ElasticsearchAppender configuration compatible with Logback 1.3 ++?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1340489873,"post_id":11173336,"comment_id":14658408,"body_markdown":"See also [*Type Inference for Generic Instance Creation*](http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html).","body":"See also <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html\" rel=\"nofollow noreferrer\"><i>Type Inference for Generic Instance Creation</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340489073,"creation_date":1340489073,"answer_id":11173347,"question_id":11173336,"body_markdown":"Because the function `newInstance` is generic as well, with generic types _K_ and _V_ which are forwarded to `HashMap`. Its meant to be used like this:\r\n\r\n    HashMap&lt;Integer, String&gt; map = newInstance&lt;Integer,String&gt;();","title":"Why do the type parameters have to be repeated twice?","body":"<p>Because the function <code>newInstance</code> is generic as well, with generic types <em>K</em> and <em>V</em> which are forwarded to <code>HashMap</code>. Its meant to be used like this:</p>\n\n<pre><code>HashMap&lt;Integer, String&gt; map = newInstance&lt;Integer,String&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679315322,"creation_date":1340489093,"answer_id":11173349,"question_id":11173336,"body_markdown":"To indicate that the method is a generic method, using/returning generic types. If they were not there, the compiler would look for a &quot;real type&quot;  (i.e. a class or an interface) named K, and another real type named V.","title":"Why do the type parameters have to be repeated twice?","body":"<p>To indicate that the method is a generic method, using/returning generic types. If they were not there, the compiler would look for a &quot;real type&quot;  (i.e. a class or an interface) named K, and another real type named V.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340489449,"creation_date":1340489449,"answer_id":11173383,"question_id":11173336,"body_markdown":"To add to the other answers, with erasure all the types are lost at compile time.  However, the compiler checks for validation first and that is why the types are needed then.\r\n\r\nHere is an example of what happens after erasure from another SO [answer][1]:\r\n\r\n But when generics are used, they&#39;re converted into compile-time checks and execution-time casts. So this code:\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Hi&quot;);\r\nString x = list.get(0);\r\n\r\nis compiled into\r\n\r\nList list = new ArrayList();\r\nlist.add(&quot;Hi&quot;);\r\nString x = (String) list.get(0);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens","title":"Why do the type parameters have to be repeated twice?","body":"<p>To add to the other answers, with erasure all the types are lost at compile time.  However, the compiler checks for validation first and that is why the types are needed then.</p>\n\n<p>Here is an example of what happens after erasure from another SO <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">answer</a>:</p>\n\n<p>But when generics are used, they're converted into compile-time checks and execution-time casts. So this code:</p>\n\n<p>List list = new ArrayList();\nlist.add(\"Hi\");\nString x = list.get(0);</p>\n\n<p>is compiled into</p>\n\n<p>List list = new ArrayList();\nlist.add(\"Hi\");\nString x = (String) list.get(0);</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340490523,"creation_date":1340490523,"answer_id":11173479,"question_id":11173336,"body_markdown":"Could the compiler reasonably infer type parameters?\r\n\r\nYes in the example situation - `static HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}` is obviously short for `static &lt; K extends Object , V extends Object &gt; HashMap&lt;K,V&gt;newInstance()return new HashMap&lt;K,V&gt;();}`.\r\n\r\nBut if your compiler inferred type parameters, then your code would still compile even when you mistype class names.  `static void setName ( Sting name )` is probably wrong but your compiler would assume you meant `&lt;Sting extends Object&gt; static void setName ( Sting name );` Through the magic of runtime erasure that would be equivalent to `static void setName ( Object name ) ;`.\r\n\r\nIf the method is not static, then inference becomes problematic.  `class X { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}` could be type-inferred as one of the following:\r\n\r\n1.  `class X &lt;K extends Object , V extends Object&gt; { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n2.  `class X &lt;K extends Object &gt; { &lt; V extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n3.  `class X &lt;V extends Object&gt; { &lt; K extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n4.  `class X { &lt;K extends Object , V extends Object&gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}`\r\n\r\nIn addition, if type parameters were inferred then what is the order.  When they are explicitly stated, the order is obvious.  The only (obvious to me) way to solve the order problem for inferred type parameters is the order they were declared in the code.  But if you just reverse the order of 2 lines of code (which should be inconsequential) you could potentially change the public interface breaking the build.  So brittle!","title":"Why do the type parameters have to be repeated twice?","body":"<p>Could the compiler reasonably infer type parameters?</p>\n\n<p>Yes in the example situation - <code>static HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}</code> is obviously short for <code>static &lt; K extends Object , V extends Object &gt; HashMap&lt;K,V&gt;newInstance()return new HashMap&lt;K,V&gt;();}</code>.</p>\n\n<p>But if your compiler inferred type parameters, then your code would still compile even when you mistype class names.  <code>static void setName ( Sting name )</code> is probably wrong but your compiler would assume you meant <code>&lt;Sting extends Object&gt; static void setName ( Sting name );</code> Through the magic of runtime erasure that would be equivalent to <code>static void setName ( Object name ) ;</code>.</p>\n\n<p>If the method is not static, then inference becomes problematic.  <code>class X { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code> could be type-inferred as one of the following:</p>\n\n<ol>\n<li><code>class X &lt;K extends Object , V extends Object&gt; { HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X &lt;K extends Object &gt; { &lt; V extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X &lt;V extends Object&gt; { &lt; K extends Object &gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n<li><code>class X { &lt;K extends Object , V extends Object&gt; HashMap&lt;K,V&gt;newInstance(){return new HashMap&lt;&gt;();}}</code></li>\n</ol>\n\n<p>In addition, if type parameters were inferred then what is the order.  When they are explicitly stated, the order is obvious.  The only (obvious to me) way to solve the order problem for inferred type parameters is the order they were declared in the code.  But if you just reverse the order of 2 lines of code (which should be inconsequential) you could potentially change the public interface breaking the build.  So brittle!</p>\n"}],"owner":{"account_id":1198403,"reputation":18007,"user_id":1276460,"accept_rate":88,"display_name":"John Hoffman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11173349,"answer_count":4,"score":3,"last_activity_date":1679315322,"creation_date":1340488953,"question_id":11173336,"body_markdown":"In this static function in Java, why must `&lt;K, V&gt;` be repeated in line 1?\r\n\r\n    public static &lt;K, V&gt; HashMap&lt;K, V&gt; newInstance() {\r\n      return new HashMap&lt;K, V&gt;();\r\n    } \r\n\r\nI understand why `HashMap&lt;K, V&gt;` is necessary since the function returns a HashMap with generic types K and V as keys and values respectively. However, why is the first `&lt;K, V&gt;` necessary in the function signature?","title":"Why do the type parameters have to be repeated twice?","body":"<p>In this static function in Java, why must <code>&lt;K, V&gt;</code> be repeated in line 1?</p>\n\n<pre><code>public static &lt;K, V&gt; HashMap&lt;K, V&gt; newInstance() {\n  return new HashMap&lt;K, V&gt;();\n} \n</code></pre>\n\n<p>I understand why <code>HashMap&lt;K, V&gt;</code> is necessary since the function returns a HashMap with generic types K and V as keys and values respectively. However, why is the first <code>&lt;K, V&gt;</code> necessary in the function signature?</p>\n"},{"tags":["java","spring","spring-boot","syslog","rsyslog"],"owner":{"account_id":11754135,"reputation":1,"user_id":8602344,"display_name":"IAKulaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679315134,"creation_date":1679314859,"question_id":75790202,"body_markdown":"Can you please help me with configuration of my java app logging?\r\nMy goal is to send logs to rsyslog via tcp, and my app is written on spring boot 1.5.\r\n\r\nI tried to use logback but apparently it can send only by udp. I tried to use log4j2 but it needs higher version of spring and i cant update my version because of backwards compatibility. \r\nSo i used this solution:\r\nhttps://github.com/papertrail/logback-syslog4j\r\n\r\nand i started my rsyslog from this image:\r\nhttps://hub.docker.com/r/rsyslog/syslog_appliance_alpine/\r\n\r\nbut it seems that rsyslog receives only timestamn and host, no app name, no message. It looks like this:\r\n```\r\n/ # cat /logs/hosts/172.17.0.1/messages.log&#160;\r\n2023-03-16T14:52:13.484733+00:00 172.17.0.1 #015\r\n```\r\n\r\n\r\n\r\nSo can you please explain what is wrong whit my configuration and what should i do to see host, app name, message etc. in rsyslog logs? Can format of my log messages cause this problem?\r\n\r\nMy appender in logback-spring.xml :\r\n```\r\n&lt;appender name=&quot;SYSLOG&quot; class=&quot;com.papertrailapp.logback.Syslog4jAppender&quot;&gt;\r\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} ${appName} %m%n%xException&lt;/pattern&gt;\r\n    &lt;/layout&gt;\r\n    &lt;syslogConfig class=&quot;org.productivity.java.syslog4j.impl.net.tcp.TCPNetSyslogConfig&quot;&gt;\r\n        &lt;host&gt;localhost&lt;/host&gt;\r\n        &lt;port&gt;514&lt;/port&gt;\r\n        &lt;ident&gt;${appName}&lt;/ident&gt;\r\n        &lt;facility&gt;USER&lt;/facility&gt;\r\n        &lt;throwExceptionOnWrite&gt;true&lt;/throwExceptionOnWrite&gt;\r\n        &lt;throwExceptionOnInitialize&gt;true&lt;/throwExceptionOnInitialize&gt;\r\n    &lt;/syslogConfig&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nand im sending logs like this:\r\n```\r\nlogger.error(&quot;serverName=\\&quot;{}\\&quot;; audittype=\\&quot;auth\\&quot;; action=\\&quot;login unsuccessful\\&quot;; clientIP=\\&quot;{}\\&quot;; userName=\\&quot;{}\\&quot;&quot;, server, ip, userName);\r\n```","title":"how to send logs to rsyslog via tcp from spring boot 1.5 app?","body":"<p>Can you please help me with configuration of my java app logging?\nMy goal is to send logs to rsyslog via tcp, and my app is written on spring boot 1.5.</p>\n<p>I tried to use logback but apparently it can send only by udp. I tried to use log4j2 but it needs higher version of spring and i cant update my version because of backwards compatibility.\nSo i used this solution:\n<a href=\"https://github.com/papertrail/logback-syslog4j\" rel=\"nofollow noreferrer\">https://github.com/papertrail/logback-syslog4j</a></p>\n<p>and i started my rsyslog from this image:\n<a href=\"https://hub.docker.com/r/rsyslog/syslog_appliance_alpine/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/rsyslog/syslog_appliance_alpine/</a></p>\n<p>but it seems that rsyslog receives only timestamn and host, no app name, no message. It looks like this:</p>\n<pre><code>/ # cat /logs/hosts/172.17.0.1/messages.log \n2023-03-16T14:52:13.484733+00:00 172.17.0.1 #015\n</code></pre>\n<p>So can you please explain what is wrong whit my configuration and what should i do to see host, app name, message etc. in rsyslog logs? Can format of my log messages cause this problem?</p>\n<p>My appender in logback-spring.xml :</p>\n<pre><code>&lt;appender name=&quot;SYSLOG&quot; class=&quot;com.papertrailapp.logback.Syslog4jAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} ${appName} %m%n%xException&lt;/pattern&gt;\n    &lt;/layout&gt;\n    &lt;syslogConfig class=&quot;org.productivity.java.syslog4j.impl.net.tcp.TCPNetSyslogConfig&quot;&gt;\n        &lt;host&gt;localhost&lt;/host&gt;\n        &lt;port&gt;514&lt;/port&gt;\n        &lt;ident&gt;${appName}&lt;/ident&gt;\n        &lt;facility&gt;USER&lt;/facility&gt;\n        &lt;throwExceptionOnWrite&gt;true&lt;/throwExceptionOnWrite&gt;\n        &lt;throwExceptionOnInitialize&gt;true&lt;/throwExceptionOnInitialize&gt;\n    &lt;/syslogConfig&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>and im sending logs like this:</p>\n<pre><code>logger.error(&quot;serverName=\\&quot;{}\\&quot;; audittype=\\&quot;auth\\&quot;; action=\\&quot;login unsuccessful\\&quot;; clientIP=\\&quot;{}\\&quot;; userName=\\&quot;{}\\&quot;&quot;, server, ip, userName);\n</code></pre>\n"},{"tags":["java","3d","texture-mapping","texture2d","render-to-texture"],"answers":[{"tags":[],"owner":{"account_id":20949055,"reputation":11,"user_id":15391173,"display_name":"IDANG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679315127,"creation_date":1679315077,"answer_id":75790238,"question_id":71816493,"body_markdown":"````\r\npublic&#160;Texture.ImageCords&#160;TextureEmession(Point&#160;pt,int&#160;nX,int&#160;nY){ \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//(&#119910;−&#119909;cos&#120579;sin&#120601;,&#119911;+&#119909;sin&#120579;sin&#120601; \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;double&#160;O&#160;=&#160;Math.acos((new&#160;Vector(1,0,0)).dotProduct(this.getNormal(pt)))&#160;, \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Q&#160;=&#160;Math.acos((new&#160;Vector(0,1,0)).dotProduct(this.getNormal(pt)))&#160;,&#160;sinq&#160;=&#160;Math.sin(Q)&#160;; \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return&#160;new&#160;Texture.ImageCords((&#160;pt.getY()&#160;-&#160;pt.getX()&#160;*Math.cos(O)*sinq&#160;), \r\n &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(pt.getZ()&#160;&#160;+&#160;pt.getX()&#160;*Math.sin(O)&#160;*&#160;sinq)&#160;); \r\n &#160;&#160;&#160;&#160;}\r\n","title":"Texture Resultion Problems","body":"<pre><code>public Texture.ImageCords TextureEmession(Point pt,int nX,int nY){ \n         //(𝑦−𝑥cos𝜃sin𝜙,𝑧+𝑥sin𝜃sin𝜙 \n         double O = Math.acos((new Vector(1,0,0)).dotProduct(this.getNormal(pt))) , \n           Q = Math.acos((new Vector(0,1,0)).dotProduct(this.getNormal(pt))) , sinq = Math.sin(Q) ; \n         return new Texture.ImageCords(( pt.getY() - pt.getX() *Math.cos(O)*sinq ), \n         (pt.getZ()  + pt.getX() *Math.sin(O) * sinq) ); \n     }\n</code></pre>\n"}],"owner":{"account_id":20949055,"reputation":11,"user_id":15391173,"display_name":"IDANG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679315127,"creation_date":1649592841,"question_id":71816493,"body_markdown":"I am trying to write a mini graphics engine for university project , \r\nso I added a texture to the engine with plane it works pretty good [Plane Picture][1]\r\n\r\n\r\nbut with sphere it work really bad even if the radius of sphere is really big ( 9000) . \r\n[Sphere Image][2]\r\n\r\n\r\nI used this formula : \r\n(In class point) : \r\n```\r\n  public class LongLat{\r\n        public double lat; \r\n        public double lon; \r\n        LongLat(double x1, double x2){\r\n            lat = x1 ;\r\n            lon = x2 ; \r\n        }\r\n\r\n    }\r\n\r\n     final   double E = 0.0000000848191908426;\r\n     final  double D2R = Math.PI / 180;\r\n     final double PiDiv4 = Math.PI / 4;\r\n   final double HalfPi = Math.PI / 2;\r\n   private final double C1 = 0.00335655146887969;\r\n   private final double C2 = 0.00000657187271079536;\r\n   private final double C3 = 0.00000001764564338702;\r\n   private final double C4 = 0.00000000005328478445;\r\n    public  LongLat ToLonLat( double Radius)\r\n    {\r\n        double x =this.xyz.d1 ; \r\n         double y = this.xyz.d3 ;\r\n        double g = HalfPi - 2 * Math.atan(1 / Math.exp(y / Radius));\r\n        double latRadians = g + C1 * Math.sin(2 * g) + C2 * Math.sin(4 * g) + C3 * Math.sin(6 * g) + C4 * Math.sin(8 * g);\r\n\r\n        double lonRadians = x / Radius;\r\n\r\n        double lon = lonRadians / D2R ;\r\n        double lat = latRadians / D2R ;\r\n\r\n        return new LongLat((float)lon, (float)lat);\r\n    }\r\n```\r\n(In TSphere- Texture Sphere class ): \r\n```  Sphere sp = ((Sphere)pt.geometry);\r\n    Point.LongLat lt =pt.point.ToLonLat(sp.radius );\r\n     double longitude = lt.lon ; \r\n     double latitude = lt.lat; \r\n    double PI = Math.PI; \r\n    // get x value\r\n    int x = (int)(longitude+180)*(nX/360); \r\n\r\n    // convert from degrees to radians\r\n    double latRad = latitude*PI/180;\r\n\r\n    // get y value\r\n    double  mercN = Math.log(Math.tan((PI/4)+(latRad/2)));\r\n    int y = (int)( (nY/2)-(nX*mercN/(2*PI)));\r\n    int color = image.getRGB(x % nX ,  y% nY ); \r\n    Color xc = new Color(new java.awt.Color(color));\r\n    return xc ;  \r\n```\r\nand it looks really pixelated for some reason , someone have an  idea how to fix that ? \r\nThanks Idan. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lDryB.jpg\r\n  [2]: https://i.stack.imgur.com/BB7Ne.jpg","title":"Texture Resultion Problems","body":"<p>I am trying to write a mini graphics engine for university project ,\nso I added a texture to the engine with plane it works pretty good <a href=\"https://i.stack.imgur.com/lDryB.jpg\" rel=\"nofollow noreferrer\">Plane Picture</a></p>\n<p>but with sphere it work really bad even if the radius of sphere is really big ( 9000) .\n<a href=\"https://i.stack.imgur.com/BB7Ne.jpg\" rel=\"nofollow noreferrer\">Sphere Image</a></p>\n<p>I used this formula :\n(In class point) :</p>\n<pre><code>  public class LongLat{\n        public double lat; \n        public double lon; \n        LongLat(double x1, double x2){\n            lat = x1 ;\n            lon = x2 ; \n        }\n\n    }\n\n     final   double E = 0.0000000848191908426;\n     final  double D2R = Math.PI / 180;\n     final double PiDiv4 = Math.PI / 4;\n   final double HalfPi = Math.PI / 2;\n   private final double C1 = 0.00335655146887969;\n   private final double C2 = 0.00000657187271079536;\n   private final double C3 = 0.00000001764564338702;\n   private final double C4 = 0.00000000005328478445;\n    public  LongLat ToLonLat( double Radius)\n    {\n        double x =this.xyz.d1 ; \n         double y = this.xyz.d3 ;\n        double g = HalfPi - 2 * Math.atan(1 / Math.exp(y / Radius));\n        double latRadians = g + C1 * Math.sin(2 * g) + C2 * Math.sin(4 * g) + C3 * Math.sin(6 * g) + C4 * Math.sin(8 * g);\n\n        double lonRadians = x / Radius;\n\n        double lon = lonRadians / D2R ;\n        double lat = latRadians / D2R ;\n\n        return new LongLat((float)lon, (float)lat);\n    }\n</code></pre>\n<p>(In TSphere- Texture Sphere class ):</p>\n<pre><code>    Point.LongLat lt =pt.point.ToLonLat(sp.radius );\n     double longitude = lt.lon ; \n     double latitude = lt.lat; \n    double PI = Math.PI; \n    // get x value\n    int x = (int)(longitude+180)*(nX/360); \n\n    // convert from degrees to radians\n    double latRad = latitude*PI/180;\n\n    // get y value\n    double  mercN = Math.log(Math.tan((PI/4)+(latRad/2)));\n    int y = (int)( (nY/2)-(nX*mercN/(2*PI)));\n    int color = image.getRGB(x % nX ,  y% nY ); \n    Color xc = new Color(new java.awt.Color(color));\n    return xc ;  \n</code></pre>\n<p>and it looks really pixelated for some reason , someone have an  idea how to fix that ?\nThanks Idan.</p>\n"},{"tags":["java","spring","apache-poi","sts"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679314125,"post_id":75790050,"comment_id":133693620,"body_markdown":"Isn’t that a setting in Excel?","body":"Isn’t that a setting in Excel?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1679314370,"post_id":75790050,"comment_id":133693682,"body_markdown":"Please [edit] the question to clarify what the problem is. In the first paragraph you state that the problem is with Excel but in the second paragraph you state that in Excel it is correct and the error is with `System.out.println` in Java; which is correct?","body":"Please <a href=\"https://stackoverflow.com/posts/75790050/edit\">edit</a> the question to clarify what the problem is. In the first paragraph you state that the problem is with Excel but in the second paragraph you state that in Excel it is correct and the error is with <code>System.out.println</code> in Java; which is correct?"}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679314870,"creation_date":1679314870,"answer_id":75790204,"question_id":75790050,"body_markdown":"Please read the comments over your code snippet:\r\n\r\n    short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;); // Create new date format\r\n    cellStyle.setDataFormat(newDateFormat); // Set the date format on the cell style\r\n    cellx.setCellStyle(cellStyle);\r\n    cellx.setCellValue(result.getDate(i + 1));  \r\n    System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); // print result.getDate(i + 1) which apparently is some date\r\n\r\nSo my point is you are setting formatter on the cell but your date (result.getDate(i + 1)) is something different. If you use it on a second place you have to format it also there. You can try to reuse the same formatter if possible. You can also format it one place from date to string object and then use this string object on the places where you need","title":"Date format is reversing in uat releases","body":"<p>Please read the comments over your code snippet:</p>\n<pre><code>short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;); // Create new date format\ncellStyle.setDataFormat(newDateFormat); // Set the date format on the cell style\ncellx.setCellStyle(cellStyle);\ncellx.setCellValue(result.getDate(i + 1));  \nSystem.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); // print result.getDate(i + 1) which apparently is some date\n</code></pre>\n<p>So my point is you are setting formatter on the cell but your date (result.getDate(i + 1)) is something different. If you use it on a second place you have to format it also there. You can try to reuse the same formatter if possible. You can also format it one place from date to string object and then use this string object on the places where you need</p>\n"},{"tags":[],"owner":{"account_id":20592822,"reputation":21,"user_id":15116022,"display_name":"Arpit Saxena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679315046,"creation_date":1679315046,"answer_id":75790229,"question_id":75790050,"body_markdown":"Writing dates into an excel via POI may occasionally result in lot of date format related problems.\r\nThe reason is LOCALE differences. In UAT, the machine might be running on a different time zone and country resulting in different date formats.\r\nI am assuming it&#39;s not a mandatory requirement that you store the date in &#39;Date&#39; type cell in the excel.\r\nIf yes, then you should first set the cell format type as &#39;String&#39; format, then store the date as a TEXT instead of a DATE.\r\nThis will ensure that the LOCALE setting will not impact the date since you are storing a TEXT.\r\n...\r\n \r\n\r\n    else if (type == Types.DATE) {\r\n                            CellStyle cellStyle = workbook.createCellStyle();\r\n                            CreationHelper createHelper = workbook.getCreationHelper();\r\n                            //short newDateFormat = //createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\r\n                            cellStyle.setDataFormat(STRING TYPE);//set string format here\r\n                            cellx.setCellStyle(cellStyle);\r\n                                cellx.setCellValue(result.getDate(i + 1)); //CONVERT IT INTO  STRING FIRST, THEN STORE \r\n                                System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \r\n                             }\r\n\r\n","title":"Date format is reversing in uat releases","body":"<p>Writing dates into an excel via POI may occasionally result in lot of date format related problems.\nThe reason is LOCALE differences. In UAT, the machine might be running on a different time zone and country resulting in different date formats.\nI am assuming it's not a mandatory requirement that you store the date in 'Date' type cell in the excel.\nIf yes, then you should first set the cell format type as 'String' format, then store the date as a TEXT instead of a DATE.\nThis will ensure that the LOCALE setting will not impact the date since you are storing a TEXT.\n...</p>\n<pre><code>else if (type == Types.DATE) {\n                        CellStyle cellStyle = workbook.createCellStyle();\n                        CreationHelper createHelper = workbook.getCreationHelper();\n                        //short newDateFormat = //createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\n                        cellStyle.setDataFormat(STRING TYPE);//set string format here\n                        cellx.setCellStyle(cellStyle);\n                            cellx.setCellValue(result.getDate(i + 1)); //CONVERT IT INTO  STRING FIRST, THEN STORE \n                            System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \n                         }\n</code></pre>\n"}],"owner":{"account_id":28039993,"reputation":1,"user_id":21417702,"display_name":"SagarJavaSprings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680427564,"answer_count":2,"score":0,"last_activity_date":1679315046,"creation_date":1679313823,"question_id":75790050,"body_markdown":"\t\telse if (type == Types.DATE) {\r\n        \tCellStyle cellStyle = workbook.createCellStyle();\r\n        \tCreationHelper createHelper = workbook.getCreationHelper();\r\n        \tshort newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\r\n        \tcellStyle.setDataFormat(newDateFormat);\r\n        \tcellx.setCellStyle(cellStyle);\r\n          \tcellx.setCellValue(result.getDate(i + 1));  \r\n          \tSystem.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \r\n   \t\t }\r\n\r\nSo I&#39;am printing data from oracle database using spring frameworks into excel by using apache-poi with java v1.7 and tomcat server v8.5\r\nI want to print date in dd-MM-yyy format in excel which i&#39;ve achieved in my localhost using sts ide\r\nBut in uat release the date format is reversing to yyyy-MM-dd format which is incorrect according to my requirement.\r\n\r\nPs. My uat server is using java 1.6 and weblogic.\r\n","title":"Date format is reversing in uat releases","body":"<pre><code>    else if (type == Types.DATE) {\n        CellStyle cellStyle = workbook.createCellStyle();\n        CreationHelper createHelper = workbook.getCreationHelper();\n        short newDateFormat = createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy&quot;);\n        cellStyle.setDataFormat(newDateFormat);\n        cellx.setCellStyle(cellStyle);\n        cellx.setCellValue(result.getDate(i + 1));  \n        System.out.println(&quot;This is date:&quot;+result.getDate(i + 1)); \n     }\n</code></pre>\n<p>So I'am printing data from oracle database using spring frameworks into excel by using apache-poi with java v1.7 and tomcat server v8.5\nI want to print date in dd-MM-yyy format in excel which i've achieved in my localhost using sts ide\nBut in uat release the date format is reversing to yyyy-MM-dd format which is incorrect according to my requirement.</p>\n<p>Ps. My uat server is using java 1.6 and weblogic.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1312267330,"creation_date":1312266166,"answer_id":6908030,"question_id":6907968,"body_markdown":"you can try using a `SimpleDateFormat` object to convert the time formats.\r\n\r\n\r\n\tfinal String time = &quot;23:15&quot;;\r\n\r\n\ttry {\r\n\t    final SimpleDateFormat sdf = new SimpleDateFormat(&quot;H:mm&quot;);\r\n\t    final Date dateObj = sdf.parse(time);\r\n\t    System.out.println(dateObj);\r\n\t    System.out.println(new SimpleDateFormat(&quot;K:mm&quot;).format(dateObj));\r\n\t} catch (final ParseException e) {\r\n\t    e.printStackTrace();\r\n\t}\r\n\r\nhere is the javadoc [link][1] for SimpleDateFromat.\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/text/SimpleDateFormat.html","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>you can try using a <code>SimpleDateFormat</code> object to convert the time formats.</p>\n\n<pre><code>final String time = \"23:15\";\n\ntry {\n    final SimpleDateFormat sdf = new SimpleDateFormat(\"H:mm\");\n    final Date dateObj = sdf.parse(time);\n    System.out.println(dateObj);\n    System.out.println(new SimpleDateFormat(\"K:mm\").format(dateObj));\n} catch (final ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>here is the javadoc <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html\">link</a> for SimpleDateFromat.</p>\n"},{"tags":[],"owner":{"account_id":2262788,"reputation":1216,"user_id":1992401,"display_name":"Lalit Jawale"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1585639421,"creation_date":1366800669,"answer_id":16190056,"question_id":6907968,"body_markdown":"Here is the code to convert 24-Hour time to 12-Hour with AM and PM. \r\n&lt;br&gt;***Note:-*** If you don&#39;t want AM/PM then just replace `hh:mm a` with `hh:mm`.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n       public static void main(String [] args) throws Exception {\r\n    \t   try {\t   \r\n    \t\t   String _24HourTime = &quot;22:15&quot;;\r\n    \t\t   SimpleDateFormat _24HourSDF = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    \t       SimpleDateFormat _12HourSDF = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n    \t       Date _24HourDt = _24HourSDF.parse(_24HourTime);\r\n    \t       System.out.println(_24HourDt);\r\n    \t       System.out.println(_12HourSDF.format(_24HourDt));\r\n    \t   } catch (Exception e) {\r\n    \t       e.printStackTrace();\r\n    \t   }\r\n       }\r\n    }\r\n    \r\n    //OUTPUT WOULD BE\r\n    //Thu Jan 01 22:15:00 IST 1970\r\n    //10:15 PM\r\n\r\nAnother Solution:\r\n\r\n    System.out.println(hr%12 + &quot;:&quot; + min + &quot; &quot; + ((hr&gt;=12) ? &quot;PM&quot; : &quot;AM&quot;));","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here is the code to convert 24-Hour time to 12-Hour with AM and PM. \n<br><strong><em>Note:-</em></strong> If you don't want AM/PM then just replace <code>hh:mm a</code> with <code>hh:mm</code>.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n   public static void main(String [] args) throws Exception {\n       try {       \n           String _24HourTime = \"22:15\";\n           SimpleDateFormat _24HourSDF = new SimpleDateFormat(\"HH:mm\");\n           SimpleDateFormat _12HourSDF = new SimpleDateFormat(\"hh:mm a\");\n           Date _24HourDt = _24HourSDF.parse(_24HourTime);\n           System.out.println(_24HourDt);\n           System.out.println(_12HourSDF.format(_24HourDt));\n       } catch (Exception e) {\n           e.printStackTrace();\n       }\n   }\n}\n\n//OUTPUT WOULD BE\n//Thu Jan 01 22:15:00 IST 1970\n//10:15 PM\n</code></pre>\n\n<p>Another Solution:</p>\n\n<pre><code>System.out.println(hr%12 + \":\" + min + \" \" + ((hr&gt;=12) ? \"PM\" : \"AM\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1516341994,"creation_date":1463999315,"answer_id":37388580,"question_id":6907968,"body_markdown":"In Java 8 it could be done in one line using class `java.time.LocalTime`. \n\nCode example:\r\n\r\n    String result = LocalTime.parse(time, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)).format(DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;));\n\nFor earlier Android, use the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project, adapted for Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP in Android Project*](https://stackoverflow.com/q/38922754/642706).","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In Java 8 it could be done in one line using class <code>java.time.LocalTime</code>. </p>\n\n<p>Code example:</p>\n\n<pre><code>String result = LocalTime.parse(time, DateTimeFormatter.ofPattern(\"HH:mm\")).format(DateTimeFormatter.ofPattern(\"hh:mm a\"));\n</code></pre>\n\n<p>For earlier Android, use the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> project, adapted for Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project. See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP in Android Project</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":11009801,"reputation":11,"user_id":8087593,"display_name":"punkaj rwt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496211463,"creation_date":1496208986,"answer_id":44276458,"question_id":6907968,"body_markdown":"    int n=2;\r\n    int result= n-12;\r\n\r\n    if (result&gt;o) {\r\n        system.out.println(result+&quot;pm&quot;);\r\n    } else {\r\n        system.out.prinln(result+&quot;am&quot;);\r\n    } \r\n\r\nYou can use Scanner if you want take input from user Hope this is simple\r\n12 for time :)","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>int n=2;\nint result= n-12;\n\nif (result&gt;o) {\n    system.out.println(result+\"pm\");\n} else {\n    system.out.prinln(result+\"am\");\n} \n</code></pre>\n\n<p>You can use Scanner if you want take input from user Hope this is simple\n12 for time :)</p>\n"},{"tags":[],"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502826356,"creation_date":1502826356,"answer_id":45700395,"question_id":6907968,"body_markdown":"In case you are curious about the difference between K, k and H, h:\r\n\r\nH\tHour in day (0-23)\t    Number\t0\t1+\r\n\r\nk\tHour in day (1-24)\t    Number\t24\t1+\r\n\r\nK\tHour in am/pm (0-11)\tNumber\t0\t1+\r\n\r\nh\tHour in am/pm (1-12)\tNumber\t12\t1+","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In case you are curious about the difference between K, k and H, h:</p>\n\n<p>H   Hour in day (0-23)      Number  0   1+</p>\n\n<p>k   Hour in day (1-24)      Number  24  1+</p>\n\n<p>K   Hour in am/pm (0-11)    Number  0   1+</p>\n\n<p>h   Hour in am/pm (1-12)    Number  12  1+</p>\n"},{"tags":[],"owner":{"account_id":9418710,"reputation":376,"user_id":7005660,"display_name":"Siddharth Thakkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515389659,"creation_date":1515389659,"answer_id":48144712,"question_id":6907968,"body_markdown":"    // time is your string value i.e., 24 hour time\r\n    \r\n        try {\r\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n                    final Date dateObj = sdf.parse(time);\r\n                    time = new SimpleDateFormat(&quot;hh:mm aa&quot;).format(dateObj);\r\n                } catch (final ParseException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\nSimpleDateFormat with (K:mm) works fine, but won&#39;t work properly with time 12:00 AM or 12:00 PM\r\n\r\nYou can use the above code to convert 12 hour format from 24 hour format along with AM/PM... It works","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>// time is your string value i.e., 24 hour time\n\n    try {\n    final SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm\");\n                final Date dateObj = sdf.parse(time);\n                time = new SimpleDateFormat(\"hh:mm aa\").format(dateObj);\n            } catch (final ParseException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>SimpleDateFormat with (K:mm) works fine, but won't work properly with time 12:00 AM or 12:00 PM</p>\n\n<p>You can use the above code to convert 12 hour format from 24 hour format along with AM/PM... It works</p>\n"},{"tags":[],"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516337911,"creation_date":1516337911,"answer_id":48334354,"question_id":6907968,"body_markdown":"For someone with lower api version,\r\nwork well with 12:00 AM or PM and min &lt; 10\r\n\r\n      String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : hourOfDay) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;PM&quot; : &quot;AM&quot;)\r\n\r\noutput eg. `0:0 AM` `12:00 PM` `9:09 AM`\r\n\r\nthanks to @Lalit Jawale answer above","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>For someone with lower api version,\nwork well with 12:00 AM or PM and min &lt; 10</p>\n\n<pre><code>  String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : hourOfDay) + \":\" + (minute &lt; 10 ? (\"0\" + minute) : minute) + \" \" + ((hourOfDay &gt;= 12) ? \"PM\" : \"AM\")\n</code></pre>\n\n<p>output eg. <code>0:0 AM</code> <code>12:00 PM</code> <code>9:09 AM</code></p>\n\n<p>thanks to @Lalit Jawale answer above</p>\n"},{"tags":[],"owner":{"account_id":9321614,"reputation":1385,"user_id":6920195,"display_name":"Rohan Lodhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525843639,"creation_date":1525843639,"answer_id":50246088,"question_id":6907968,"body_markdown":"**Follow below code:**\r\n\r\nMake common method and call from where you need:\r\n\r\n **COMMON METHOD TO CHANGE TIME:**\r\n\r\n      public static String parseTime(String date, String inFormat, String outFormat) {\r\n            try {\r\n                Date date1 = new SimpleDateFormat(inFormat, Locale.getDefault()).parse(date);\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(outFormat, Locale.getDefault());\r\n                return dateFormat.format(date1);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n**CONSTANT METHOD:**\r\n\r\n    public static final String SERVER_TIME_RESOURCES_FORMAT = &quot;HH:mm:ss&quot;;\r\n        public static final String SERVER_TIME_FORMAT = &quot;HH:mm:ss.SSS&quot;;\r\n\r\n**CALL FROM WHER U NEED:**\r\n\r\n    CommonMethods.parseTime(//your date, Constants.SERVER_TIME_RESOURCES_FORMAT, Constants.LOCAL_TIME_FORMAT);\r\n\r\n","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p><strong>Follow below code:</strong></p>\n\n<p>Make common method and call from where you need:</p>\n\n<p><strong>COMMON METHOD TO CHANGE TIME:</strong></p>\n\n<pre><code>  public static String parseTime(String date, String inFormat, String outFormat) {\n        try {\n            Date date1 = new SimpleDateFormat(inFormat, Locale.getDefault()).parse(date);\n            SimpleDateFormat dateFormat = new SimpleDateFormat(outFormat, Locale.getDefault());\n            return dateFormat.format(date1);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n\n<p><strong>CONSTANT METHOD:</strong></p>\n\n<pre><code>public static final String SERVER_TIME_RESOURCES_FORMAT = \"HH:mm:ss\";\n    public static final String SERVER_TIME_FORMAT = \"HH:mm:ss.SSS\";\n</code></pre>\n\n<p><strong>CALL FROM WHER U NEED:</strong></p>\n\n<pre><code>CommonMethods.parseTime(//your date, Constants.SERVER_TIME_RESOURCES_FORMAT, Constants.LOCAL_TIME_FORMAT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14693400,"reputation":21,"user_id":10611401,"display_name":"pranav patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568040943,"creation_date":1568040943,"answer_id":57856536,"question_id":6907968,"body_markdown":"Here I use simple maths.\r\n12Hours = 1 + currentHours(24Hours)-13.\r\nFor AM &amp; PM use simple ifelse condition, like if currentHours(24Hours) is &lt;= 12 then set &#39;AM&#39; or set &#39;PM&#39;\r\nHere AMPM &amp; Time is String varriable.\r\nCurHour is int.\r\n\r\n    LocalDateTime LDT = LocalDateTime.now();\r\n\t\t\tCurHour = LDT.getHour();\r\n\t\t\tif(CurHour &lt;=12) {\r\n\t\t\t\tAMPM = &quot;AM&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tAMPM = &quot;PM&quot;;\r\n\t\t\t}\r\n\t\t\tHours = 1+CurHour-13;\r\n\t\t\tTime = Hours+&quot;:&quot;+LDT.getMinute()+&quot;:&quot;+LDT.getSecond()+&quot; &quot;+AMPM;\r\n\r\n    ","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here I use simple maths.\n12Hours = 1 + currentHours(24Hours)-13.\nFor AM &amp; PM use simple ifelse condition, like if currentHours(24Hours) is &lt;= 12 then set 'AM' or set 'PM'\nHere AMPM &amp; Time is String varriable.\nCurHour is int.</p>\n\n<pre><code>LocalDateTime LDT = LocalDateTime.now();\n        CurHour = LDT.getHour();\n        if(CurHour &lt;=12) {\n            AMPM = \"AM\";\n        }else {\n            AMPM = \"PM\";\n        }\n        Hours = 1+CurHour-13;\n        Time = Hours+\":\"+LDT.getMinute()+\":\"+LDT.getSecond()+\" \"+AMPM;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13476114,"reputation":101,"user_id":9723035,"display_name":"carlos ezam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582990176,"creation_date":1582989613,"answer_id":60466599,"question_id":6907968,"body_markdown":"Here&#39;s my solution:\r\n\r\n    /*\r\n    * hour in 24Format -&gt; AM/PM Format\r\n    */\r\n    public String format(int hour, int minutes ){\r\n    \r\n       String meridiem = hour &gt; 11 ? &quot;PM&quot; : &quot;AM&quot;;\r\n       \r\n       // trim &quot;0-23 hour&quot; to &quot;0-11 hour&quot;, then replace &quot;0&quot; with &quot;12&quot; \r\n       hour = (hour %= 12) == 0 ? 12 : hour;\r\n\r\n       // Apply desired format &quot;HH:MM AM/PM&quot;\r\n       return String.format(&quot;%02d:%02d %s&quot;, hour, minutes, meridiem );\r\n    }","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Here's my solution:</p>\n\n<pre><code>/*\n* hour in 24Format -&gt; AM/PM Format\n*/\npublic String format(int hour, int minutes ){\n\n   String meridiem = hour &gt; 11 ? \"PM\" : \"AM\";\n\n   // trim \"0-23 hour\" to \"0-11 hour\", then replace \"0\" with \"12\" \n   hour = (hour %= 12) == 0 ? 12 : hour;\n\n   // Apply desired format \"HH:MM AM/PM\"\n   return String.format(\"%02d:%02d %s\", hour, minutes, meridiem );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526288,"reputation":41,"user_id":9758022,"display_name":"Braj Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583903299,"creation_date":1583903299,"answer_id":60629570,"question_id":6907968,"body_markdown":"    public static void convert24HourTimeInto12Hour() {\r\n    try {      \r\n    \tString[] dateTime = getCurrentDateAndTime(&quot;yyyy-MM-dd HH:mm:ss&quot;).split(&quot; &quot;);                  \r\n    \tSystem.out.println(&quot;datePart::: &quot;+dateTime[0]);         \r\n    \tSystem.out.println(&quot;timePart::: &quot;+dateTime[1]);         \r\n                                                       \r\n    \tSimpleDateFormat 24HoursFormat = new SimpleDateFormat\r\n    \tSimpleDateFormat 12HoursFormat = new SimpleDateFormat\r\n    \tDate 24Hours = 24HoursFormat.parse(dateTime[1]);      \r\n    \tSystem.out.println(24Hours);                  \r\n    \tSystem.out.println(12HoursFormat.format(24Hours)); \r\n    \t} catch (Exception e) {           \r\n    \t\te.printStackTrace();          \r\n    \t}         \r\n    }                       ","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code>public static void convert24HourTimeInto12Hour() {\ntry {      \n    String[] dateTime = getCurrentDateAndTime(\"yyyy-MM-dd HH:mm:ss\").split(\" \");                  \n    System.out.println(\"datePart::: \"+dateTime[0]);         \n    System.out.println(\"timePart::: \"+dateTime[1]);         \n\n    SimpleDateFormat 24HoursFormat = new SimpleDateFormat\n    SimpleDateFormat 12HoursFormat = new SimpleDateFormat\n    Date 24Hours = 24HoursFormat.parse(dateTime[1]);      \n    System.out.println(24Hours);                  \n    System.out.println(12HoursFormat.format(24Hours)); \n    } catch (Exception e) {           \n        e.printStackTrace();          \n    }         \n}                       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590692273,"creation_date":1590692273,"answer_id":62072479,"question_id":6907968,"body_markdown":"For converting any Date date to 12 hour format with AM and PM you can use\r\n```\r\nnew SimpleDateFormat(&quot;dd MMM yyyy KK:mm:ss a&quot;).format(date)\r\n```\r\nHere KK signifies 00-12 and a signifies AM and PM","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>For converting any Date date to 12 hour format with AM and PM you can use</p>\n\n<pre><code>new SimpleDateFormat(\"dd MMM yyyy KK:mm:ss a\").format(date)\n</code></pre>\n\n<p>Here KK signifies 00-12 and a signifies AM and PM</p>\n"},{"tags":[],"owner":{"account_id":933189,"reputation":1589,"user_id":962638,"accept_rate":100,"display_name":"einUsername"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615822520,"creation_date":1615822520,"answer_id":66641030,"question_id":6907968,"body_markdown":"I don&#39;t like using classes like `SimpleDateFormat` if it&#39;s not necessary. You just have to check three conditions. Here are some alternatives:\r\n\r\n**Simple**:\r\n\r\n    if(hour&gt;11) {\r\n        suffix = &quot;PM&quot;;\r\n        if(hour&gt;12)\r\n            hour -= 12;\r\n    } else {\r\n        suffix = &quot;AM&quot;;\r\n        if(hour==0)\r\n            hour = 12;\r\n    }\r\n\r\n**Short**:\r\n\r\n    suffix = (hour&gt;11) ? &quot;PM&quot; : &quot;AM&quot;;\r\n    hour = (hour&gt;12) ? hour-=12 : ((hour==0) ? 12 : hour);\r\n\r\n**Result**:\r\n\r\n    00:00 = 12:00 AM, 01:00 = 01:00 AM, 02:00 = 02:00 AM, 03:00 = 03:00 AM, 04:00 = 04:00 AM, 05:00 = 05:00 AM, 06:00 = 06:00 AM, 07:00 = 07:00 AM, 08:00 = 08:00 AM, 09:00 = 09:00 AM, 10:00 = 10:00 AM, 11:00 = 11:00 AM, 12:00 = 12:00 PM, 13:00 = 01:00 PM, 14:00 = 02:00 PM, 15:00 = 03:00 PM, 16:00 = 04:00 PM, 17:00 = 05:00 PM, 18:00 = 06:00 PM, 19:00 = 07:00 PM, 20:00 = 08:00 PM, 21:00 = 09:00 PM, 22:00 = 10:00 PM, 23:00 = 11:00 PM","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>I don't like using classes like <code>SimpleDateFormat</code> if it's not necessary. You just have to check three conditions. Here are some alternatives:</p>\n<p><strong>Simple</strong>:</p>\n<pre><code>if(hour&gt;11) {\n    suffix = &quot;PM&quot;;\n    if(hour&gt;12)\n        hour -= 12;\n} else {\n    suffix = &quot;AM&quot;;\n    if(hour==0)\n        hour = 12;\n}\n</code></pre>\n<p><strong>Short</strong>:</p>\n<pre><code>suffix = (hour&gt;11) ? &quot;PM&quot; : &quot;AM&quot;;\nhour = (hour&gt;12) ? hour-=12 : ((hour==0) ? 12 : hour);\n</code></pre>\n<p><strong>Result</strong>:</p>\n<pre><code>00:00 = 12:00 AM, 01:00 = 01:00 AM, 02:00 = 02:00 AM, 03:00 = 03:00 AM, 04:00 = 04:00 AM, 05:00 = 05:00 AM, 06:00 = 06:00 AM, 07:00 = 07:00 AM, 08:00 = 08:00 AM, 09:00 = 09:00 AM, 10:00 = 10:00 AM, 11:00 = 11:00 AM, 12:00 = 12:00 PM, 13:00 = 01:00 PM, 14:00 = 02:00 PM, 15:00 = 03:00 PM, 16:00 = 04:00 PM, 17:00 = 05:00 PM, 18:00 = 06:00 PM, 19:00 = 07:00 PM, 20:00 = 08:00 PM, 21:00 = 09:00 PM, 22:00 = 10:00 PM, 23:00 = 11:00 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19447652,"reputation":189,"user_id":14224774,"display_name":"metvsk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625652508,"creation_date":1625652508,"answer_id":68283984,"question_id":6907968,"body_markdown":"\r\nThis is what I have used, it converts 00:10 am to 12:00 am and the remaining also works fine.\r\n\r\n    int hourOfDay=Integer.parseInt(form24hrs);//parsing 24 hours format string value of hour to int\r\n    \r\n    int minute=Integer.parseInt(form24min);//parsing 24 hours format string value of minute to int\r\n    \r\n    String time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : ((hourOfDay==0)?&quot;12&quot;:hourOfDay)) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;pm&quot; : &quot;am&quot;);","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>This is what I have used, it converts 00:10 am to 12:00 am and the remaining also works fine.</p>\n<pre><code>int hourOfDay=Integer.parseInt(form24hrs);//parsing 24 hours format string value of hour to int\n\nint minute=Integer.parseInt(form24min);//parsing 24 hours format string value of minute to int\n\nString time =  ((hourOfDay &gt; 12) ? hourOfDay % 12 : ((hourOfDay==0)?&quot;12&quot;:hourOfDay)) + &quot;:&quot; + (minute &lt; 10 ? (&quot;0&quot; + minute) : minute) + &quot; &quot; + ((hourOfDay &gt;= 12) ? &quot;pm&quot; : &quot;am&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8074583,"reputation":1291,"user_id":6086086,"accept_rate":21,"display_name":"Asad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631795224,"creation_date":1631795224,"answer_id":69208433,"question_id":6907968,"body_markdown":"in a clean way you can do this:\r\n\r\n    fun convertTo12Hours(militaryTime: String): String{\r\n            //in =&gt; &quot;14:00:00&quot;\r\n            //out =&gt; &quot;02:00 PM&quot;\r\n            val inputFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault())\r\n            val outputFormat = SimpleDateFormat(&quot;hh:mm aa&quot;, Locale.getDefault())\r\n            val date = inputFormat.parse(militaryTime)\r\n            return outputFormat.format(date)\r\n        }","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>in a clean way you can do this:</p>\n<pre><code>fun convertTo12Hours(militaryTime: String): String{\n        //in =&gt; &quot;14:00:00&quot;\n        //out =&gt; &quot;02:00 PM&quot;\n        val inputFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.getDefault())\n        val outputFormat = SimpleDateFormat(&quot;hh:mm aa&quot;, Locale.getDefault())\n        val date = inputFormat.parse(militaryTime)\n        return outputFormat.format(date)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14054375,"reputation":1892,"user_id":10152189,"display_name":"Fayaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648319033,"creation_date":1648319033,"answer_id":71630715,"question_id":6907968,"body_markdown":"Kotlin version of @xianwei &#39;s answer\r\n\r\n```kotlin\r\n  val hourOfDay = timePicker.hour\r\n  val minute = timePicker.minute\r\n  val finalHour = (if (hourOfDay &gt; 12) hourOfDay % 12 else hourOfDay).toString()\r\n  val finalMinute = if (minute &lt; 10) &quot;0$minute&quot; else minute.toString()\r\n  val finalMeridian = if (hourOfDay &gt; 12) &quot;PM&quot; else &quot;AM&quot;\r\n  val time = &quot;$finalHour:$finalMinute $finalMeridian&quot;\r\n```","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>Kotlin version of @xianwei 's answer</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  val hourOfDay = timePicker.hour\n  val minute = timePicker.minute\n  val finalHour = (if (hourOfDay &gt; 12) hourOfDay % 12 else hourOfDay).toString()\n  val finalMinute = if (minute &lt; 10) &quot;0$minute&quot; else minute.toString()\n  val finalMeridian = if (hourOfDay &gt; 12) &quot;PM&quot; else &quot;AM&quot;\n  val time = &quot;$finalHour:$finalMinute $finalMeridian&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679314869,"creation_date":1679314869,"answer_id":75790203,"question_id":6907968,"body_markdown":"```   \r\n public static String convertYourTime(String time24) {\r\n        try {\r\n            SimpleDateFormat format24 = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n            Date time = format24.parse(time24);\r\n            SimpleDateFormat format12 = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n            return format12.format(time);\r\n        } catch (ParseException e) {\r\n            // Handle invalid input\r\n          \r\n        }\r\n\r\n    }\r\n\r\n```","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<pre><code> public static String convertYourTime(String time24) {\n        try {\n            SimpleDateFormat format24 = new SimpleDateFormat(&quot;HH:mm&quot;);\n            Date time = format24.parse(time24);\n            SimpleDateFormat format12 = new SimpleDateFormat(&quot;hh:mm a&quot;);\n            return format12.format(time);\n        } catch (ParseException e) {\n            // Handle invalid input\n          \n        }\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":272486,"reputation":3497,"user_id":563593,"accept_rate":64,"display_name":"ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102897,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":6908030,"answer_count":17,"score":53,"last_activity_date":1679314869,"creation_date":1312265737,"question_id":6907968,"body_markdown":"In my application i want to convert the given CDT formatted 24 hr string in to CDT formatted 12 hr string, How to convert a given 24 hr format string in to 12 hr format string??\r\n","title":"How to convert 24 hr format time in to 12 hr Format?","body":"<p>In my application i want to convert the given CDT formatted 24 hr string in to CDT formatted 12 hr string, How to convert a given 24 hr format string in to 12 hr format string??</p>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679314709,"creation_date":1679314709,"answer_id":75790181,"question_id":75790104,"body_markdown":"You can simply pivot the dataframe as follows:\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\ndataframe.groupBy(&quot;object_id&quot;)\\\r\n         .pivot(&quot;attr_name&quot;)\\\r\n         .agg(F.first(F.col(&quot;value&quot;)))\\\r\n         .show(truncate=False)\r\n```\r\n```none\r\n+------------------------------------+----+----+------+\r\n|object_id                           |age |name|number|\r\n+------------------------------------+----+----+------+\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|null|Max |32222 |\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|22  |Oleg|22222 |\r\n+------------------------------------+----+----+------+\r\n```","title":"Transformation with spark","body":"<p>You can simply pivot the dataframe as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\ndataframe.groupBy(&quot;object_id&quot;)\\\n         .pivot(&quot;attr_name&quot;)\\\n         .agg(F.first(F.col(&quot;value&quot;)))\\\n         .show(truncate=False)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>+------------------------------------+----+----+------+\n|object_id                           |age |name|number|\n+------------------------------------+----+----+------+\n|50b9d918-b0ab-41d4-957c-24f506ceb737|null|Max |32222 |\n|7315dcbf-6178-4aa7-97ba-8875e2542471|22  |Oleg|22222 |\n+------------------------------------+----+----+------+\n</code></pre>\n"}],"owner":{"account_id":18241934,"reputation":27,"user_id":13278816,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75790181,"answer_count":1,"score":0,"last_activity_date":1679314709,"creation_date":1679314242,"question_id":75790104,"body_markdown":"I have such a data table, the number of records exceeds a million rows, the unique fields attr_id, attr_name are not more than 20\r\n\r\n|object_id|attr_id|attr_name|value|\r\n|--|--|--|--|--|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|f5af0127-fd4c-409b-afda-b896a80f7fe1|name|Oleg|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|ebdd03e5-a380-46bd-b505-f1f166be6409|age|22|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|735fab29-cde8-4b34-979f-864b375f820f|number|22222|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|f5af0127-fd4c-409b-afda-b896a80f7fe1|name|Max|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|ebdd03e5-a380-46bd-b505-f1f166be6409|age||\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|735fab29-cde8-4b34-979f-864b375f820f|number|32222|\r\n\r\nI want to transform it to this format\r\n\r\n|object_id|name|age|number|\r\n|--|--|--|--|--|\r\n|7315dcbf-6178-4aa7-97ba-8875e2542471|Oleg|22|22222|\r\n|50b9d918-b0ab-41d4-957c-24f506ceb737|Max||32222|\r\n\r\nIs it possible to do this using spark, if so, how, or what material to read?","title":"Transformation with spark","body":"<p>I have such a data table, the number of records exceeds a million rows, the unique fields attr_id, attr_name are not more than 20</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>object_id</th>\n<th>attr_id</th>\n<th>attr_name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>f5af0127-fd4c-409b-afda-b896a80f7fe1</td>\n<td>name</td>\n<td>Oleg</td>\n</tr>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>ebdd03e5-a380-46bd-b505-f1f166be6409</td>\n<td>age</td>\n<td>22</td>\n</tr>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>735fab29-cde8-4b34-979f-864b375f820f</td>\n<td>number</td>\n<td>22222</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>f5af0127-fd4c-409b-afda-b896a80f7fe1</td>\n<td>name</td>\n<td>Max</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>ebdd03e5-a380-46bd-b505-f1f166be6409</td>\n<td>age</td>\n<td></td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>735fab29-cde8-4b34-979f-864b375f820f</td>\n<td>number</td>\n<td>32222</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to transform it to this format</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>object_id</th>\n<th>name</th>\n<th>age</th>\n<th>number</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>7315dcbf-6178-4aa7-97ba-8875e2542471</td>\n<td>Oleg</td>\n<td>22</td>\n<td>22222</td>\n</tr>\n<tr>\n<td>50b9d918-b0ab-41d4-957c-24f506ceb737</td>\n<td>Max</td>\n<td></td>\n<td>32222</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is it possible to do this using spark, if so, how, or what material to read?</p>\n"},{"tags":["java","postgresql","project-reactor","spring-data-r2dbc","r2dbc"],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679314214,"creation_date":1679313890,"question_id":75790055,"body_markdown":"I have two entities `User` and `UserAuthority` with one to many relation like following\r\n```java\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\n@Entity\r\npublic class User extends BaseEntity {\r\n  \r\n  @OneToMany(mappedBy = &quot;user&quot;)\r\n  private Set&lt;UserAuthority&gt; userAuthorities;\r\n  // tried this too\r\n  // private Set&lt;UserAuthority&gt; userAuthorities = new HashSet&lt;&gt;();\r\n\r\n  // ... rest of implementation\r\n}\r\n\r\n``` \r\nand `UserAuthority`\r\n```java\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users_authorities&quot;)\r\n@Entity\r\npublic class UserAuthority extends BaseEntity {\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;user_id&quot;)\r\n  private User user;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;authority_id&quot;)\r\n  private Authority authority;\r\n}\r\n```\r\nAnd because the Nested entities are not supported yet I store the user first then store `UserAuthority`s like following\r\n```java\r\n  public Mono&lt;JwtTokens&gt; signup(String username, String password, String name) {\r\n    return createUser(username, password, name)\r\n        .map(userAuthorityService::createDefaultUserAuthorities)\r\n        .flatMap(\r\n            userAuthorityFlux -&gt;\r\n                userAuthorityFlux\r\n                    .collect(Collectors.toSet())\r\n                    .map(\r\n                        userAuthorities -&gt; {\r\n                          final var persistedUser =\r\n                              userAuthorities.stream().findFirst().get().getUser();\r\n                          return tokenEncoder.encode(persistedUser);\r\n                        }));\r\n  }\r\n\r\n  private Mono&lt;User&gt; createUser(String username, String password, String name) {\r\n    final var user = new User();\r\n    final var encodedPassword = passwordEncoder.encode(password);\r\n    user.setUsername(username);\r\n    user.setPassword(encodedPassword);\r\n    user.setName(name);\r\n    return this.userRepository.save(user);\r\n  }\r\n\r\n```\r\nwhen I try this signup method I get\r\n```\r\njava.lang.IllegalArgumentException: Unsupported array type: io.metsplit.authenticator.dal.entities.UserAuthority\r\n\tat org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Handler io.metsplit.authenticator.controllers.apis.AuthApiImpl#_createAccount(Mono, ServerWebExchange) [DispatcherHandler]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ HTTP POST &quot;/api/v1/auth/signup&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.getArrayValue(MappingR2dbcConverter.java:566) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getArrayValue(DefaultReactiveDataAccessStrategy.java:268) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:209) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$7(R2dbcEntityTemplate.java:586) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\r\n\t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2060) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1840) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:238) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxEmpty.subscribe(FluxEmpty.java:42) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel.subscribe(FluxDiscardOnCancel.java:49) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:460) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:805) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:753) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:247) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:213) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:204) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.complete(ReactorNettyClient.java:655) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:921) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:797) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:703) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\r\n\t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.28.jar:1.0.28]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\r\n```\r\nI think this exception happen after (according to my IDE&#39;s debugger) \r\n```java\r\n    return this.userRepository.save(user);\r\n```\r\nbut I&#39;m not sure why it checked `private Set&lt;UserAuthority&gt; userAuthorities` as if it was of type `UserAuthority`.\r\n\r\nNote: I&#39;m very new to project reactor and r2dbc any additional style suggestions are much apprectiated.","title":"&quot;Unsupported array type&quot; while saving object with one to many relation","body":"<p>I have two entities <code>User</code> and <code>UserAuthority</code> with one to many relation like following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Table(name = &quot;users&quot;)\n@Entity\npublic class User extends BaseEntity {\n  \n  @OneToMany(mappedBy = &quot;user&quot;)\n  private Set&lt;UserAuthority&gt; userAuthorities;\n  // tried this too\n  // private Set&lt;UserAuthority&gt; userAuthorities = new HashSet&lt;&gt;();\n\n  // ... rest of implementation\n}\n\n</code></pre>\n<p>and <code>UserAuthority</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Table(name = &quot;users_authorities&quot;)\n@Entity\npublic class UserAuthority extends BaseEntity {\n  @ManyToOne\n  @JoinColumn(name = &quot;user_id&quot;)\n  private User user;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;authority_id&quot;)\n  private Authority authority;\n}\n</code></pre>\n<p>And because the Nested entities are not supported yet I store the user first then store <code>UserAuthority</code>s like following</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Mono&lt;JwtTokens&gt; signup(String username, String password, String name) {\n    return createUser(username, password, name)\n        .map(userAuthorityService::createDefaultUserAuthorities)\n        .flatMap(\n            userAuthorityFlux -&gt;\n                userAuthorityFlux\n                    .collect(Collectors.toSet())\n                    .map(\n                        userAuthorities -&gt; {\n                          final var persistedUser =\n                              userAuthorities.stream().findFirst().get().getUser();\n                          return tokenEncoder.encode(persistedUser);\n                        }));\n  }\n\n  private Mono&lt;User&gt; createUser(String username, String password, String name) {\n    final var user = new User();\n    final var encodedPassword = passwordEncoder.encode(password);\n    user.setUsername(username);\n    user.setPassword(encodedPassword);\n    user.setName(name);\n    return this.userRepository.save(user);\n  }\n\n</code></pre>\n<p>when I try this signup method I get</p>\n<pre><code>java.lang.IllegalArgumentException: Unsupported array type: io.metsplit.authenticator.dal.entities.UserAuthority\n    at org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler io.metsplit.authenticator.controllers.apis.AuthApiImpl#_createAccount(Mono, ServerWebExchange) [DispatcherHandler]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP POST &quot;/api/v1/auth/signup&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.data.r2dbc.dialect.PostgresDialect$R2dbcArrayColumns.getArrayType(PostgresDialect.java:164) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.getArrayValue(MappingR2dbcConverter.java:566) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getArrayValue(DefaultReactiveDataAccessStrategy.java:268) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:209) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$7(R2dbcEntityTemplate.java:586) ~[spring-data-r2dbc-1.5.8.jar:1.5.8]\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2060) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1840) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:238) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onComplete(MonoPeekTerminal.java:299) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxEmpty.subscribe(FluxEmpty.java:42) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel.subscribe(FluxDiscardOnCancel.java:49) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onComplete(FluxDiscardOnCancel.java:104) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BaseSink.complete(FluxCreate.java:460) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:805) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$BufferAsyncSink.complete(FluxCreate.java:753) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.drainLoop(FluxCreate.java:247) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.drain(FluxCreate.java:213) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxCreate$SerializedFluxSink.complete(FluxCreate.java:204) ~[reactor-core-3.4.27.jar:3.4.27]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.complete(ReactorNettyClient.java:655) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:921) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:797) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:703) ~[r2dbc-postgresql-0.9.2.RELEASE.jar:0.9.2.RELEASE]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224) ~[reactor-core-3.4.27.jar:3.4.27]\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.28.jar:1.0.28]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.89.Final.jar:4.1.89.Final]\n</code></pre>\n<p>I think this exception happen after (according to my IDE's debugger)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return this.userRepository.save(user);\n</code></pre>\n<p>but I'm not sure why it checked <code>private Set&lt;UserAuthority&gt; userAuthorities</code> as if it was of type <code>UserAuthority</code>.</p>\n<p>Note: I'm very new to project reactor and r2dbc any additional style suggestions are much apprectiated.</p>\n"},{"tags":["java","spring","spring-boot","lambda"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1679305572,"post_id":75788646,"comment_id":133691324,"body_markdown":"Is there any chance to change `ObjectA`, `ObjectB` and `ObjectC` to just implement a newly created `HasStartAndEndDate` interface? (oh, and as you noticed your `instanceof` checks **definitely** don&#39;t work the way you sketched it, as you&#39;re checking the `List` itself and not each members).","body":"Is there any chance to change <code>ObjectA</code>, <code>ObjectB</code> and <code>ObjectC</code> to just implement a newly created <code>HasStartAndEndDate</code> interface? (oh, and as you noticed your <code>instanceof</code> checks <b>definitely</b> don&#39;t work the way you sketched it, as you&#39;re checking the <code>List</code> itself and not each members)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679308066,"post_id":75788646,"comment_id":133692048,"body_markdown":"As a side-note: if you&#39;re on Java 17 or later (technically 14, but 17 is the LTS release) then you should investigate replacing the lombok annotations with plain old java `record` classes, which do most of that for you.","body":"As a side-note: if you&#39;re on Java 17 or later (technically 14, but 17 is the LTS release) then you should investigate replacing the lombok annotations with plain old java <code>record</code> classes, which do most of that for you."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679307066,"creation_date":1679305767,"answer_id":75788753,"question_id":75788646,"body_markdown":"Make the `ObjectA`, `ObjectB`, and `ObjectC` implement the same interface.\r\n\r\n```\r\ninterface MyObject {\r\n\tTimestamp getStartDate();\r\n\tTimestamp getEndDate();\r\n}\r\n```\r\nThen the Stream pipeline becomes simple.\r\n\r\n```\r\nreturn arrayList.stream()\r\n\t\t.filter(MyObject.class::isInstance)\r\n\t\t.map(MyObject.class::cast)\r\n\t\t.map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\n___\r\n\r\nIf, however, each of the `ObjectA`, `ObjectB`, and `ObjectC` objects require a different mapping to `TimeIntervalObj` object, the newer Java versions offer a solution with sealed classes and switch expressions:\r\n\r\n```\r\nsealed interface MyObject permits ObjectA, ObjectB, ObjectC { }\r\n```\r\n```\r\n@Data\r\nfinal class ObjectA implements MyObject {\r\n\tTimestamp startDate1;\r\n\tTimestamp endDate1;\r\n}\r\n\r\n@Data\r\nfinal class ObjectB implements MyObject {\r\n\tTimestamp startDate2;\r\n\tTimestamp endDate2;\r\n}\r\n\r\n@Data\r\nfinal class ObjectC implements MyObject {\r\n\tTimestamp startDate3;\r\n\tTimestamp endDate3;\r\n}\r\n```\r\n```\r\nprivate static TimeIntervalObj map(MyObject object) {\r\n\treturn switch (object) {\r\n\t\tcase ObjectA a -&gt; new TimeIntervalObj(a.getStartDate1(), a.getEndDate1());\r\n\t\tcase ObjectB b -&gt; new TimeIntervalObj(b.getStartDate2(), b.getEndDate2());\r\n\t\tcase ObjectC c -&gt; new TimeIntervalObj(c.getStartDate3(), c.getEndDate3());\r\n\t};\r\n}\r\n```\r\n```\r\nreturn arrayList.stream()\r\n        .filter(MyObject.class::isInstance)\r\n\t\t.map(object -&gt; map((MyObject) object))\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\n**Implementation note:** You can use Java 17 with the enabled preview for newer features. Otherwise, all you are left is to use a simple if-else branching with the `instanceof` operator.","title":"Is it possible to have a list of generic instance?","body":"<p>Make the <code>ObjectA</code>, <code>ObjectB</code>, and <code>ObjectC</code> implement the same interface.</p>\n<pre><code>interface MyObject {\n    Timestamp getStartDate();\n    Timestamp getEndDate();\n}\n</code></pre>\n<p>Then the Stream pipeline becomes simple.</p>\n<pre><code>return arrayList.stream()\n        .filter(MyObject.class::isInstance)\n        .map(MyObject.class::cast)\n        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\n        .collect(Collectors.toList());\n</code></pre>\n<hr />\n<p>If, however, each of the <code>ObjectA</code>, <code>ObjectB</code>, and <code>ObjectC</code> objects require a different mapping to <code>TimeIntervalObj</code> object, the newer Java versions offer a solution with sealed classes and switch expressions:</p>\n<pre><code>sealed interface MyObject permits ObjectA, ObjectB, ObjectC { }\n</code></pre>\n<pre><code>@Data\nfinal class ObjectA implements MyObject {\n    Timestamp startDate1;\n    Timestamp endDate1;\n}\n\n@Data\nfinal class ObjectB implements MyObject {\n    Timestamp startDate2;\n    Timestamp endDate2;\n}\n\n@Data\nfinal class ObjectC implements MyObject {\n    Timestamp startDate3;\n    Timestamp endDate3;\n}\n</code></pre>\n<pre><code>private static TimeIntervalObj map(MyObject object) {\n    return switch (object) {\n        case ObjectA a -&gt; new TimeIntervalObj(a.getStartDate1(), a.getEndDate1());\n        case ObjectB b -&gt; new TimeIntervalObj(b.getStartDate2(), b.getEndDate2());\n        case ObjectC c -&gt; new TimeIntervalObj(c.getStartDate3(), c.getEndDate3());\n    };\n}\n</code></pre>\n<pre><code>return arrayList.stream()\n        .filter(MyObject.class::isInstance)\n        .map(object -&gt; map((MyObject) object))\n        .collect(Collectors.toList());\n</code></pre>\n<p><strong>Implementation note:</strong> You can use Java 17 with the enabled preview for newer features. Otherwise, all you are left is to use a simple if-else branching with the <code>instanceof</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679314065,"creation_date":1679306696,"answer_id":75788913,"question_id":75788646,"body_markdown":"The clean way would be to introduce a new interface that defines the `getStartDate()` and `getEndDate()` method and make `ObjectA`, `ObjectB` and `ObjectC` implement it:\r\n\r\n```\r\npublic interface HasStartAndEndDate {\r\n    Timestamp getStartDate();\r\n    Timestamp getEndDate();\r\n}\r\n```\r\n\r\nThen your method could simply be:\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;? extends HasStartAndEndDate&gt; arrayList) {\r\n        return arrayList.stream()\r\n                .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nIf that&#39;s not feasible for some reason (most likely because any one of the classes are not under your control), then you might have to check each objects type individually:\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\r\n        return collection.stream()\r\n                .map(TimeIntervalObj::from)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static TimeIntervalObj from(Object o) {\r\n        if (o instanceof ObjectA a) {\r\n            return new TimeIntervalObj(a.getStartDate(), a.getEndDate());\r\n        } else if (o instanceof ObjectB b) {\r\n            return new TimeIntervalObj(b.getStartDate(), b.getEndDate());\r\n        } else if (o instanceof ObjectC c) {\r\n            return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\r\n    }\r\n\r\nThe two approaches can also be combined, if you want all classes under your control to use the interface and other classes to also be supported (let&#39;s pretend `ObjectA` and `ObjectB` now implement the interface, but `ObjectC` still doesn&#39;t):\r\n\r\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\r\n        return collection.stream()\r\n                .map(TimeIntervalObj::from)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static TimeIntervalObj from(HasStartAndEndDate hsed) {\r\n        return new TimeIntervalObj(hsed.getStartDate(), hsed.getEndDate());\r\n    }\r\n\r\n    public static TimeIntervalObj from(Object o) {\r\n        if (o instanceof HasStartAndEndDate hsed) {\r\n            return from(hsed);\r\n        } else if (o instanceof ObjectC c) {\r\n            return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\r\n    }\r\n\r\nNote that the extra `from(HasStartEndDate)` method is not strictly necessary (and won&#39;t be directly called in `constructTimeIntervals` as the compiler will understand that the argument is of type `Object`), but it&#39;s better to avoid the `instanceof` shenanigans in the cases where the static type is known (for example if you directly call `TimeIntervalObj.from(someKnownObjectThatImplementsHasStartEndDate)` elsewhere in your code).","title":"Is it possible to have a list of generic instance?","body":"<p>The clean way would be to introduce a new interface that defines the <code>getStartDate()</code> and <code>getEndDate()</code> method and make <code>ObjectA</code>, <code>ObjectB</code> and <code>ObjectC</code> implement it:</p>\n<pre><code>public interface HasStartAndEndDate {\n    Timestamp getStartDate();\n    Timestamp getEndDate();\n}\n</code></pre>\n<p>Then your method could simply be:</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;? extends HasStartAndEndDate&gt; arrayList) {\n    return arrayList.stream()\n            .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>If that's not feasible for some reason (most likely because any one of the classes are not under your control), then you might have to check each objects type individually:</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\n    return collection.stream()\n            .map(TimeIntervalObj::from)\n            .collect(Collectors.toList());\n}\n\npublic static TimeIntervalObj from(Object o) {\n    if (o instanceof ObjectA a) {\n        return new TimeIntervalObj(a.getStartDate(), a.getEndDate());\n    } else if (o instanceof ObjectB b) {\n        return new TimeIntervalObj(b.getStartDate(), b.getEndDate());\n    } else if (o instanceof ObjectC c) {\n        return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\n    }\n    throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\n}\n</code></pre>\n<p>The two approaches can also be combined, if you want all classes under your control to use the interface and other classes to also be supported (let's pretend <code>ObjectA</code> and <code>ObjectB</code> now implement the interface, but <code>ObjectC</code> still doesn't):</p>\n<pre><code>public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(Collection&lt;?&gt; collection) {\n    return collection.stream()\n            .map(TimeIntervalObj::from)\n            .collect(Collectors.toList());\n}\n\npublic static TimeIntervalObj from(HasStartAndEndDate hsed) {\n    return new TimeIntervalObj(hsed.getStartDate(), hsed.getEndDate());\n}\n\npublic static TimeIntervalObj from(Object o) {\n    if (o instanceof HasStartAndEndDate hsed) {\n        return from(hsed);\n    } else if (o instanceof ObjectC c) {\n        return new TimeIntervalObj(c.getStartDate(), c.getEndDate());\n    }\n    throw new IllegalArgumentException(&quot;Unsupported type: &quot; + o.getClass());\n}\n</code></pre>\n<p>Note that the extra <code>from(HasStartEndDate)</code> method is not strictly necessary (and won't be directly called in <code>constructTimeIntervals</code> as the compiler will understand that the argument is of type <code>Object</code>), but it's better to avoid the <code>instanceof</code> shenanigans in the cases where the static type is known (for example if you directly call <code>TimeIntervalObj.from(someKnownObjectThatImplementsHasStartEndDate)</code> elsewhere in your code).</p>\n"}],"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788913,"answer_count":2,"score":0,"last_activity_date":1679314065,"creation_date":1679305245,"question_id":75788646,"body_markdown":"I have three objects that contain some fields, but two of the fields are start date and end date.\r\n\r\nI have another Wrapper class that contains two fields (startDate and endDate) and a constructor.\r\n\r\nI want to create a generic method that accepts ObjectA, ObjectB, ObjectC and returns me a list of times containing the start date, end date.\r\n\r\nIs there a better way to make it more dynamic?\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class TimeIntervalObj {\r\n    \r\n        private Timestamp startDate;\r\n        private Timestamp endDate;\r\n    \r\n        public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(List&lt;?&gt; arrayList) {\r\n            if (arrayList instanceof ObjectA) {\r\n                return arrayList.stream()\r\n                        .map(ObjectA.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            } else if (arrayList instanceof ObjectB) {\r\n                return arrayList.stream()\r\n                        .map(ObjectB.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            } else if (arrayList instanceof ObjectC) {\r\n                return arrayList.stream()\r\n                        .map(ObjectC.class::cast)\r\n                        .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\r\n            }\r\n            throw new RuntimeException(&quot;Instance Error Type Incompatibility&quot;);\r\n        }\r\n    \r\n    }","title":"Is it possible to have a list of generic instance?","body":"<p>I have three objects that contain some fields, but two of the fields are start date and end date.</p>\n<p>I have another Wrapper class that contains two fields (startDate and endDate) and a constructor.</p>\n<p>I want to create a generic method that accepts ObjectA, ObjectB, ObjectC and returns me a list of times containing the start date, end date.</p>\n<p>Is there a better way to make it more dynamic?</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class TimeIntervalObj {\n\n    private Timestamp startDate;\n    private Timestamp endDate;\n\n    public static List&lt;TimeIntervalObj&gt; constructTimeIntervals(List&lt;?&gt; arrayList) {\n        if (arrayList instanceof ObjectA) {\n            return arrayList.stream()\n                    .map(ObjectA.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        } else if (arrayList instanceof ObjectB) {\n            return arrayList.stream()\n                    .map(ObjectB.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        } else if (arrayList instanceof ObjectC) {\n            return arrayList.stream()\n                    .map(ObjectC.class::cast)\n                    .map(time -&gt; new TimeIntervalObj(time.getStartDate(), time.getEndDate())).collect(Collectors.toList());\n        }\n        throw new RuntimeException(&quot;Instance Error Type Incompatibility&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","noclassdeffounderror"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679313649,"post_id":75790008,"comment_id":133693483,"body_markdown":"Did you packed jar properly . may be you can unzip and verify all classes as exception is for unable to find few classes at run time","body":"Did you packed jar properly . may be you can unzip and verify all classes as exception is for unable to find few classes at run time"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679314183,"post_id":75790008,"comment_id":133693637,"body_markdown":"by default your dependencies are not part of the jar file. Use the jar-with-dependencies thing in maven.","body":"by default your dependencies are not part of the jar file. Use the jar-with-dependencies thing in maven."}],"owner":{"account_id":27751884,"reputation":1,"user_id":21438480,"display_name":"zotov_l88"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679314727,"answer_count":0,"score":0,"last_activity_date":1679313569,"creation_date":1679313569,"question_id":75790008,"body_markdown":"I have a program that connects Selenium. The program opens the page in the browser, logs in, regularly updates the page and sends me an email if there is a change.\r\nMy system Linux Mint 21.1. I use maven.\r\nIf I run it in IntelliJ IDEA it works. I collect the jar file, run it in terminal and get the error:\r\n\r\n\r\n```\r\nuser@user-HYM-WXX:~/Desktop/sender$ java -jar sendmailer.jar\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n\tat org.example.App.main(App.java:16)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 1 more\r\n\r\n```\r\n\r\n**My pow.xml:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sendmailer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.qsy7.java.modules.browser.drivers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firefoxdriver&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI tried changing versions Selenium in dependency but it didn&#39;t work.","title":"Program works in IntelliJ IDEA but doesn&#39;t run in terminal. Problem with WebDriver","body":"<p>I have a program that connects Selenium. The program opens the page in the browser, logs in, regularly updates the page and sends me an email if there is a change.\nMy system Linux Mint 21.1. I use maven.\nIf I run it in IntelliJ IDEA it works. I collect the jar file, run it in terminal and get the error:</p>\n<pre><code>user@user-HYM-WXX:~/Desktop/sender$ java -jar sendmailer.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n    at org.example.App.main(App.java:16)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 1 more\n\n</code></pre>\n<p><strong>My pow.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sendmailer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.qsy7.java.modules.browser.drivers&lt;/groupId&gt;\n            &lt;artifactId&gt;firefoxdriver&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried changing versions Selenium in dependency but it didn't work.</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":6677719,"reputation":754,"user_id":5151861,"display_name":"iamtodor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679313564,"creation_date":1679313564,"answer_id":75790006,"question_id":56038687,"body_markdown":"&gt; &quot;Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)&quot;\r\n\r\nit means that you ran migrate before and it failed at 1 for some reason. You need to identify why the previous migration failed at 1 and solve it if you have not already done so.\r\nOnce solved you need to run `flyway repair` to tell the flyway that whatever failed is out of the way. \r\n\r\nDepending on how you set up and run `flyway` there are a few options to run repair:\r\n- if this is maven based project, run `mvn flyway:repair` in the console. if using intelliJ you have this in maven plugins `maven -&gt; &lt;service name&gt; -&gt; plugins -&gt; flyway -&gt; flyway:repair`\r\n- if this is some other project (i.e., flyway was installed with `brew`) then just run `flyway repair` in console\r\n\r\nIf it fails again, you are back on step 1.","title":"How to fix &#39;Validate failed: Detected failed migration to version 1(BASELINE)&#39; flyway error?","body":"<blockquote>\n<p>&quot;Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)&quot;</p>\n</blockquote>\n<p>it means that you ran migrate before and it failed at 1 for some reason. You need to identify why the previous migration failed at 1 and solve it if you have not already done so.\nOnce solved you need to run <code>flyway repair</code> to tell the flyway that whatever failed is out of the way.</p>\n<p>Depending on how you set up and run <code>flyway</code> there are a few options to run repair:</p>\n<ul>\n<li>if this is maven based project, run <code>mvn flyway:repair</code> in the console. if using intelliJ you have this in maven plugins <code>maven -&gt; &lt;service name&gt; -&gt; plugins -&gt; flyway -&gt; flyway:repair</code></li>\n<li>if this is some other project (i.e., flyway was installed with <code>brew</code>) then just run <code>flyway repair</code> in console</li>\n</ul>\n<p>If it fails again, you are back on step 1.</p>\n"}],"owner":{"account_id":9081266,"reputation":103,"user_id":6761031,"display_name":"D.Kaushish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679313564,"creation_date":1557311503,"question_id":56038687,"body_markdown":"I imported in a dataset with table creation for my app. However, when I try to start my server and during the time of ear deployment, I encounter an error with Flyway migration. The error is :\r\n\r\n`Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)`\r\n \r\n\r\nI have checked that all database information is correct in dev.xml and have checked for errors in flyway_schema_history but none are present.\r\n\r\nI have previously seen a communication link error but now that has disappeared. Could someone shed light on the issue because I don&#39;t feel like any of the scripts are running including the BASELINE?\r\n\r\nStack trace of error:\r\n\r\n```java\r\n2019-04-10 16:54:48,544 ERROR [com.cognitran.isis.model.migration.TopixFlywayIntegrator] (ServerService Thread Pool -- 2) Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected &gt;failed migration to version 1 (BASELINE)```\r\n\tat org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)\r\n\tat org.flywaydb.core.Flyway.access$100(Flyway.java:82)\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)\r\n\tat org.flywaydb.core.Flyway.execute(Flyway.java:1604)\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:1249)\r\n```","title":"How to fix &#39;Validate failed: Detected failed migration to version 1(BASELINE)&#39; flyway error?","body":"<p>I imported in a dataset with table creation for my app. However, when I try to start my server and during the time of ear deployment, I encounter an error with Flyway migration. The error is :</p>\n\n<p><code>Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected failed migration to version 1 (BASELINE)</code></p>\n\n<p>I have checked that all database information is correct in dev.xml and have checked for errors in flyway_schema_history but none are present.</p>\n\n<p>I have previously seen a communication link error but now that has disappeared. Could someone shed light on the issue because I don't feel like any of the scripts are running including the BASELINE?</p>\n\n<p>Stack trace of error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>2019-04-10 16:54:48,544 ERROR [com.cognitran.isis.model.migration.TopixFlywayIntegrator] (ServerService Thread Pool -- 2) Database migration failed.: org.flywaydb.core.api.FlywayException: Validate failed: Detected &gt;failed migration to version 1 (BASELINE)```\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:1375)\n    at org.flywaydb.core.Flyway.access$100(Flyway.java:82)\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1257)\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1249)\n    at org.flywaydb.core.Flyway.execute(Flyway.java:1604)\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:1249)\n</code></pre>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679150853,"post_id":75776565,"comment_id":133671714,"body_markdown":"Where conditions must be concatenated with AND not with comma.","body":"Where conditions must be concatenated with AND not with comma."},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151079,"post_id":75776565,"comment_id":133671751,"body_markdown":"@Jens i have tried using AND it still generates Error [java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND ]","body":"@Jens i have tried using AND it still generates Error [java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND ]"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679151166,"post_id":75776565,"comment_id":133671760,"body_markdown":"CAn you show the query with and.","body":"CAn you show the query with and."},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151439,"post_id":75776565,"comment_id":133671808,"body_markdown":"@Jens \nString query1 = &quot;update hollywood set &quot; + &quot;name = :m_name AND &quot; + &quot;timing = :m_timing AND &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;","body":"@Jens  String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name AND &quot; + &quot;timing = :m_timing AND &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;"},{"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"score":0,"creation_date":1679151504,"post_id":75776565,"comment_id":133671819,"body_markdown":"java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND near line 1, column 37 [update hollywood set name = :m_name AND timing = :m_timing AND price = :m_price where name = :mname AND timing = :mtiming AND price = :mprice]","body":"java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: AND near line 1, column 37 [update hollywood set name = :m_name AND timing = :m_timing AND price = :m_price where name = :mname AND timing = :mtiming AND price = :mprice]"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1679151515,"post_id":75776565,"comment_id":133671823,"body_markdown":"The set part must be separated with comma and where conditions with AND.","body":"The set part must be separated with comma and where conditions with AND."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679151578,"post_id":75776565,"comment_id":133671841,"body_markdown":"String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name , &quot; + &quot;timing = :m_timing , &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;","body":"String query1 = &quot;update hollywood set &quot; + &quot;name = :m_name , &quot; + &quot;timing = :m_timing , &quot; + &quot;price = :m_price &quot; + &quot;where name = :mname AND &quot; + &quot;timing = :mtiming AND &quot; + &quot;price = :mprice&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":7569237,"reputation":1328,"user_id":5743711,"accept_rate":90,"display_name":"Samer Aamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679313284,"creation_date":1679206406,"answer_id":75780366,"question_id":75776565,"body_markdown":"In the &quot;where&quot; statement you must not use commas.\r\n\r\nyour code:\r\n\r\n        String query1 = &quot;update hollywood set &quot;\r\n                + &quot;name = :m_name ,&quot;\r\n                + &quot;timing = :m_timing ,&quot;\r\n                + &quot;price = :m_price &quot;\r\n                + &quot;where name = :mname ,&quot;\r\n                + &quot;timing = :mtiming ,&quot;\r\n                + &quot;price = :mprice&quot;;\r\n\r\nso it will translate into \r\n\r\n    update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname ,timing = :mtiming ,price = :mprice\r\n\r\n\r\nNotice the `where` keyword in the middle.\r\nso, if you want to update name, timing and price **where** name is mname AND timing = mtiming AND price = mprice you should change into the following:\r\n\r\n            String query1 = &quot;update hollywood set &quot;\r\n                    + &quot;name = :m_name ,&quot;\r\n                    + &quot;timing = :m_timing ,&quot;\r\n                    + &quot;price = :m_price &quot;\r\n                    + &quot;where name = :mname AND &quot;\r\n                    + &quot;timing = :mtiming AND &quot;\r\n                    + &quot;price = :mprice&quot;;\r\n\r\nthis will translate into:\r\n    update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname AND timing = :mtiming AND price = :mprice\r\n\r\n\r\n**Note:** the space after the `AND` keyword is important","title":"(Hibernate HQL update query) org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39;","body":"<p>In the &quot;where&quot; statement you must not use commas.</p>\n<p>your code:</p>\n<pre><code>    String query1 = &quot;update hollywood set &quot;\n            + &quot;name = :m_name ,&quot;\n            + &quot;timing = :m_timing ,&quot;\n            + &quot;price = :m_price &quot;\n            + &quot;where name = :mname ,&quot;\n            + &quot;timing = :mtiming ,&quot;\n            + &quot;price = :mprice&quot;;\n</code></pre>\n<p>so it will translate into</p>\n<pre><code>update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price **where** name = :mname ,timing = :mtiming ,price = :mprice\n</code></pre>\n<p>Notice the <code>where</code> keyword in the middle.\nso, if you want to update name, timing and price <strong>where</strong> name is mname AND timing = mtiming AND price = mprice you should change into the following:</p>\n<pre><code>        String query1 = &quot;update hollywood set &quot;\n                + &quot;name = :m_name ,&quot;\n                + &quot;timing = :m_timing ,&quot;\n                + &quot;price = :m_price &quot;\n                + &quot;where name = :mname AND &quot;\n                + &quot;timing = :mtiming AND &quot;\n                + &quot;price = :mprice&quot;;\n</code></pre>\n<p>this will translate into:\nupdate hollywood set name = :m_name ,timing = :m_timing ,price = :m_price <strong>where</strong> name = :mname AND timing = :mtiming AND price = :mprice</p>\n<p><strong>Note:</strong> the space after the <code>AND</code> keyword is important</p>\n"}],"owner":{"account_id":12275876,"reputation":3,"user_id":8959623,"display_name":"Aniket"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75780366,"answer_count":1,"score":-1,"last_activity_date":1679313284,"creation_date":1679150583,"question_id":75776565,"body_markdown":"HQL query to update table with multiple parameters whereas search for old parameters to update\r\n\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n**Hibernate code:**\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.query.Query;\r\n\r\nservlet method {\r\n SessionFactory factory = new Configuration()\r\n.configure(&quot;hibernate.cfg.xml&quot;)\r\n.addAnnotatedClass(BollyWood.class)\r\n.addAnnotatedClass(HollyWood.class)\r\n.buildSessionFactory();\r\nSession se = factory.getCurrentSession();\r\n\r\n        try {\r\n            se.beginTransaction();\r\n            \r\n            \r\n                String query1 = &quot;update hollywood set &quot;\r\n                        + &quot;name = :m_name ,&quot;\r\n                        + &quot;timing = :m_timing ,&quot;\r\n                        + &quot;price = :m_price &quot;\r\n                        + &quot;where name = :mname ,&quot;\r\n                        + &quot;timing = :mtiming ,&quot;\r\n                        + &quot;price = :mprice&quot;;\r\n\r\n\r\n                 // Generating error for `,` separating different parameters\r\n               \r\n                Query query = se.createQuery(query1);\r\n                query.setParameter(&quot;m_name&quot;, m_name);\r\n                query.setParameter(&quot;m_timing&quot;, m_timing);\r\n                query.setParameter(&quot;m_price&quot;, m_price);\r\n                query.setParameter(&quot;mname&quot;, mname);\r\n                query.setParameter(&quot;mtiming&quot;, mtiming);\r\n                query.setParameter(&quot;mprice&quot;, mprice);\r\n    \r\n                query.executeUpdate();\r\n    \r\n            } catch (Exception e) {\r\n            System.out.println(e);\r\n        } finally {\r\n            se.close();\r\n            factory.close();\r\n        }\r\n}\r\n```\r\n\r\n**Run logs**\r\n\r\n```\r\n18-Mar-2023 19:28:37.722 INFO [http-nio-18080-exec-9] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\r\n18-Mar-2023 19:29:09.594 WARN [http-nio-18080-exec-8] org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver.resolveEntity HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n18-Mar-2023 19:29:09.674 WARN [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n18-Mar-2023 19:29:09.674 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/database]\r\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {user=root, password=****}\r\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false\r\n18-Mar-2023 19:29:09.676 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt; HHH000115: Hibernate connection pool size: 4 (min=1)\r\n18-Mar-2023 19:29:09.684 INFO [http-nio-18080-exec-8] org.hibernate.dialect.Dialect.&lt;init&gt; HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n18-Mar-2023 19:29:09.740 INFO [http-nio-18080-exec-8] org.hibernate.hql.internal.QueryTranslatorFactoryInitiator.initiateService HHH000397: Using ASTQueryTranslatorFactory\r\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found &#39;,&#39;\r\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found &#39;,&#39;\r\n\tline 1:95: expecting EOF, found &#39;,&#39;\r\njava.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39; near line 1, column 95 [update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price where name = :mname ,timing = :mtiming ,price = :mprice]\r\n\t\tat antlr.Parser.match(Parser.java:211)\r\n\t\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:215)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\r\n\t\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\r\n\t\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n\t\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\r\n\t\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\r\n\t\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:355)\r\n\t\tat com.sun.proxy.$Proxy31.createQuery(Unknown Source)\r\n\t\tat com.example.AdminChangeServlet.doGet(AdminChangeServlet.java:61)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:750)\r\n18-Mar-2023 19:29:09.838 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\r\n```\r\n\r\n**Jars:** hibernate-search-5.8.0.Final and mysql-connector-java-5.1.14\r\n\r\nhave tried:\r\n1\\.[Update several Columns in one Hibernate Query? StackOverflow question](https://stackoverflow.com/questions/12296499/update-several-columns-in-one-hibernate-query),\r\n\r\n2\\.[QuerySyntaxException](https://stackoverflow.com/questions/50724073/org-hibernate-hql-internal-ast-querysyntaxexception-unexpected-token-asf-is-al)","title":"(Hibernate HQL update query) org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found &#39;,&#39;","body":"<p>HQL query to update table with multiple parameters whereas search for old parameters to update</p>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;4&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Hibernate code:</strong></p>\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.query.Query;\n\nservlet method {\n SessionFactory factory = new Configuration()\n.configure(&quot;hibernate.cfg.xml&quot;)\n.addAnnotatedClass(BollyWood.class)\n.addAnnotatedClass(HollyWood.class)\n.buildSessionFactory();\nSession se = factory.getCurrentSession();\n\n        try {\n            se.beginTransaction();\n            \n            \n                String query1 = &quot;update hollywood set &quot;\n                        + &quot;name = :m_name ,&quot;\n                        + &quot;timing = :m_timing ,&quot;\n                        + &quot;price = :m_price &quot;\n                        + &quot;where name = :mname ,&quot;\n                        + &quot;timing = :mtiming ,&quot;\n                        + &quot;price = :mprice&quot;;\n\n\n                 // Generating error for `,` separating different parameters\n               \n                Query query = se.createQuery(query1);\n                query.setParameter(&quot;m_name&quot;, m_name);\n                query.setParameter(&quot;m_timing&quot;, m_timing);\n                query.setParameter(&quot;m_price&quot;, m_price);\n                query.setParameter(&quot;mname&quot;, mname);\n                query.setParameter(&quot;mtiming&quot;, mtiming);\n                query.setParameter(&quot;mprice&quot;, mprice);\n    \n                query.executeUpdate();\n    \n            } catch (Exception e) {\n            System.out.println(e);\n        } finally {\n            se.close();\n            factory.close();\n        }\n}\n</code></pre>\n<p><strong>Run logs</strong></p>\n<pre><code>18-Mar-2023 19:28:37.722 INFO [http-nio-18080-exec-9] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\n18-Mar-2023 19:29:09.594 WARN [http-nio-18080-exec-8] org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver.resolveEntity HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\n18-Mar-2023 19:29:09.674 WARN [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n18-Mar-2023 19:29:09.674 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/database]\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {user=root, password=****}\n18-Mar-2023 19:29:09.675 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false\n18-Mar-2023 19:29:09.676 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.PooledConnections.&lt;init&gt; HHH000115: Hibernate connection pool size: 4 (min=1)\n18-Mar-2023 19:29:09.684 INFO [http-nio-18080-exec-8] org.hibernate.dialect.Dialect.&lt;init&gt; HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n18-Mar-2023 19:29:09.740 INFO [http-nio-18080-exec-8] org.hibernate.hql.internal.QueryTranslatorFactoryInitiator.initiateService HHH000397: Using ASTQueryTranslatorFactory\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found ','\n18-Mar-2023 19:29:09.746 ERROR [http-nio-18080-exec-8] org.hibernate.hql.internal.ast.ErrorCounter.reportError line 1:95: expecting EOF, found ','\n    line 1:95: expecting EOF, found ','\njava.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: expecting EOF, found ',' near line 1, column 95 [update hollywood set name = :m_name ,timing = :m_timing ,price = :m_price where name = :mname ,timing = :mtiming ,price = :mprice]\n        at antlr.Parser.match(Parser.java:211)\n        at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:215)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n        at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n        at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n        at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n        at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:355)\n        at com.sun.proxy.$Proxy31.createQuery(Unknown Source)\n        at com.example.AdminChangeServlet.doGet(AdminChangeServlet.java:61)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:750)\n18-Mar-2023 19:29:09.838 INFO [http-nio-18080-exec-8] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.stop HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/database]\n</code></pre>\n<p><strong>Jars:</strong> hibernate-search-5.8.0.Final and mysql-connector-java-5.1.14</p>\n<p>have tried:\n1.<a href=\"https://stackoverflow.com/questions/12296499/update-several-columns-in-one-hibernate-query\">Update several Columns in one Hibernate Query? StackOverflow question</a>,</p>\n<p>2.<a href=\"https://stackoverflow.com/questions/50724073/org-hibernate-hql-internal-ast-querysyntaxexception-unexpected-token-asf-is-al\">QuerySyntaxException</a></p>\n"},{"tags":["java","spring","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":0,"creation_date":1679292460,"post_id":75787001,"comment_id":133688534,"body_markdown":"try adding `javax.servlet` to your pom.xml","body":"try adding <code>javax.servlet</code> to your pom.xml"},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1679312471,"post_id":75787001,"comment_id":133693184,"body_markdown":"@SanuKhan Thank you. Just adding `javax.servlet` not enough. I still got the same error. I have posted my answer below.","body":"@SanuKhan Thank you. Just adding <code>javax.servlet</code> not enough. I still got the same error. I have posted my answer below."}],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679301645,"creation_date":1679301645,"answer_id":75788060,"question_id":75787001,"body_markdown":"You are missing the class javax.servlet.http.HttpServlet, you need to add it in your pom.xml or equivalent:\r\n\r\nhttps://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>You are missing the class javax.servlet.http.HttpServlet, you need to add it in your pom.xml or equivalent:</p>\n<p><a href=\"https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api/3.1.0</a></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679312409,"creation_date":1679312409,"answer_id":75789826,"question_id":75787001,"body_markdown":"Thank you for the responses. Although, `jakarata.servlet-api` already exists in Apache Spark. It still needed `javax.servlet-api`. Adding just `javax.servlet-api` did not resolve the issue. I was able to resolve this issue by adding these in the pom.xml\r\n\r\n\t      &lt;dependency&gt;\r\n\t\t\t &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t &lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n           &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n           &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n          &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n           &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n           &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>Thank you for the responses. Although, <code>jakarata.servlet-api</code> already exists in Apache Spark. It still needed <code>javax.servlet-api</code>. Adding just <code>javax.servlet-api</code> did not resolve the issue. I was able to resolve this issue by adding these in the pom.xml</p>\n<pre><code>      &lt;dependency&gt;\n         &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n         &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n         &lt;version&gt;3.1.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;artifactId&gt;janino&lt;/artifactId&gt;\n       &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n      &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n       &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n       &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679313026,"creation_date":1679313026,"answer_id":75789915,"question_id":75787001,"body_markdown":"Add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nBut also before you even fix it, if you use java 17 may be switch to SpringBoot 3.0? Because the versions that you use are older versions\r\n","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But also before you even fix it, if you use java 17 may be switch to SpringBoot 3.0? Because the versions that you use are older versions</p>\n"}],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75789826,"answer_count":3,"score":1,"last_activity_date":1679313026,"creation_date":1679292272,"question_id":75787001,"body_markdown":"I am trying to run `Apache Spark 3.3.2` with `Spring Boot 2.6.6` with `ApplicationRunner` Java 17 Mac OS; I have set this in the `application.properties`: `spring.main.web-application-type=none`\r\n\r\nSpring\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication implements ApplicationRunner {\r\n\r\n    private final MyService myService;\r\n\r\n    public MyApplication(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        myService.process(args);\r\n    }\r\n    }\r\n\r\nApache Spark session in `MyService`\r\n\r\n    SparkSession spark = SparkSession.builder()\r\n                .master(&quot;local[*]&quot;)\r\n                .config(&quot;spark.ui.enabled&quot;, &quot;false&quot;)\r\n                .getOrCreate();\r\n\r\npom.xml\r\n```xml\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI get this error when I try to start the Spark Session:\r\n\r\n\r\n    java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\r\n    \tat org.apache.spark.metrics.sink.MetricsServlet.getHandlers(MetricsServlet.scala:51) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.metrics.MetricsSystem.$anonfun$getServletHandlers$2(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat scala.Option.map(Option.scala:242) ~[scala-library-2.13.8.jar:?]\r\n    \tat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:660) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2714) ~[spark-core_2.13-3.3.2.jar:3.3.2]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\r\n    \tat scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:?]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\r\n    \tat com.boomi.intelligence.MyService.process(MyService.java:48) ~[classes/:?]\r\n    \tat com.boomi.intelligence.MyApplication.run(MyApplication.java:31) ~[classes/:?]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat com.boomi.intelligence.MyApplication.main(MyApplication.java:24) ~[classes/:?]\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\r\n    \tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n    \tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\r\n\r\nPlease advise.","title":"java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest with Apache Spark in SpringBoot with ApplicationRunner","body":"<p>I am trying to run <code>Apache Spark 3.3.2</code> with <code>Spring Boot 2.6.6</code> with <code>ApplicationRunner</code> Java 17 Mac OS; I have set this in the <code>application.properties</code>: <code>spring.main.web-application-type=none</code></p>\n<p>Spring</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication implements ApplicationRunner {\n\nprivate final MyService myService;\n\npublic MyApplication(MyService myService) {\n    this.myService = myService;\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n}\n\n@Override\npublic void run(ApplicationArguments args) throws Exception {\n    myService.process(args);\n}\n}\n</code></pre>\n<p>Apache Spark session in <code>MyService</code></p>\n<pre><code>SparkSession spark = SparkSession.builder()\n            .master(&quot;local[*]&quot;)\n            .config(&quot;spark.ui.enabled&quot;, &quot;false&quot;)\n            .getOrCreate();\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get this error when I try to start the Spark Session:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\n    at org.apache.spark.metrics.sink.MetricsServlet.getHandlers(MetricsServlet.scala:51) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.metrics.MetricsSystem.$anonfun$getServletHandlers$2(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at scala.Option.map(Option.scala:242) ~[scala-library-2.13.8.jar:?]\n    at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:90) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:660) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2714) ~[spark-core_2.13-3.3.2.jar:3.3.2]\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\n    at scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:?]\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.2.jar:3.3.2]\n    at com.boomi.intelligence.MyService.process(MyService.java:48) ~[classes/:?]\n    at com.boomi.intelligence.MyApplication.run(MyApplication.java:31) ~[classes/:?]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.boomi.intelligence.MyApplication.main(MyApplication.java:24) ~[classes/:?]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n</code></pre>\n<p>Please advise.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679312928,"creation_date":1679312928,"answer_id":75789900,"question_id":75778217,"body_markdown":"It is nested 2 array and inside 1 object. Try to get response with nested arrays:\r\n```\r\n@GET(&quot;nflTeamDataArray&quot;)\r\n    fun getPlayerData(\r\n    ):Call&lt;List&lt;List&lt;PlayerData&gt;&gt;&gt;\r\n```\r\nAnd change other parts of the code to suit this structure. This should give you object directly.","title":"onFailure: Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]","body":"<p>It is nested 2 array and inside 1 object. Try to get response with nested arrays:</p>\n<pre><code>@GET(&quot;nflTeamDataArray&quot;)\n    fun getPlayerData(\n    ):Call&lt;List&lt;List&lt;PlayerData&gt;&gt;&gt;\n</code></pre>\n<p>And change other parts of the code to suit this structure. This should give you object directly.</p>\n"}],"owner":{"account_id":28047037,"reputation":1,"user_id":21423610,"display_name":"Zmoney1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679312928,"creation_date":1679168018,"question_id":75778217,"body_markdown":"Im trying to parse this API but I don&#39;t think my data classes are set up correctly\r\n\r\nConnected Sleeper API\r\n\r\n```\r\npackage com.example.drafttime.api\r\n\r\nimport com.example.drafttime.data.PlayerData\r\nimport com.example.drafttime.data.PlayerInfo\r\nimport retrofit2.Call\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.moshi.MoshiConverterFactory\r\nimport retrofit2.http.GET\r\n\r\n\r\n// This file is our interface with the Sleeper api to get player data\r\ninterface ConnectedSleeper {\r\n\r\n    @GET(&quot;nflTeamDataArray&quot;)\r\n    fun getPlayerData(\r\n    ):Call&lt;List&lt;PlayerData&gt;&gt;\r\n    companion object{\r\n\r\n        private const val BASE_URL =  &quot;http://10.0.2.2:8080/&quot;\r\n        fun create(): ConnectedSleeper {\r\n\r\n            return Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(MoshiConverterFactory.create())\r\n                .build()\r\n                .create(ConnectedSleeper::class.java)\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlayerData.kt data class\r\n\r\n```\r\npackage com.example.drafttime.data\r\n\r\nimport com.squareup.moshi.Json\r\nimport com.squareup.moshi.JsonClass\r\n\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class PlayerData(\r\n\r\n  val team: List&lt;Player&gt;\r\n\r\n\r\n):java.io.Serializable\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class Player(\r\n  val player: List&lt;PlayerInfo&gt;\r\n\r\n):java.io.Serializable\r\n```\r\n\r\nPlayerInfo.kt\r\n\r\n```\r\npackage com.example.drafttime.data\r\n\r\nimport com.squareup.moshi.Json\r\nimport com.squareup.moshi.JsonClass\r\n\r\n\r\n@JsonClass(generateAdapter = true)\r\n\r\ndata class PlayerInfo(\r\n    @Json(name = &quot;birth_date&quot;) val birthDate: String?,\r\n@Json(name = &quot;full_name&quot;) val fullName: String?,\r\n@Json(name = &quot;college&quot;) val college: String?,\r\n@Json(name = &quot;team&quot;) val team : String?,\r\n@Json(name = &quot;position&quot;) val postion: String?,\r\n@Json(name = &quot;number&quot;) val number: Int?,\r\n@Json(name = &quot;age&quot;) val age: String?,\r\n@Json(name = &quot;weight&quot;) val weight: String?,\r\n@Json(name = &quot;height&quot;) val height: String?\r\n):java.io.Serializable\r\n```\r\n\r\nMainActivity\r\n\r\n```\r\n\r\nsleeperConnect.getPlayerData()\r\n\r\n\r\n    .enqueue(object : Callback&lt;List&lt;PlayerData&gt;&gt; {\r\n        override fun onResponse(\r\n            call: Call&lt;List&lt;PlayerData&gt;&gt;,\r\n            response: Response&lt;List&lt;PlayerData&gt;&gt;\r\n        ) {\r\n            ///Need to hook up adapter to this part of the response\r\n            if (response.isSuccessful) {\r\n\r\n\r\n\r\n                Log.d(&quot;Response&quot;, &quot;onResponse: ${response.body()}&quot;)\r\n                //TODO: Adapter and recycler view should go here\r\n               // val adapter = response.body()?.let { it1 -&gt; CustomAdapter(it1) }\r\n               // recyclerview.adapter = adapter\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n        override fun onFailure(call: Call&lt;List&lt;PlayerData&gt;&gt;, t: Throwable) {\r\n            Log.d(&quot;Draft time Activity &quot;, &quot;onFailure: &quot; + t.message)\r\n        }\r\n    })\r\n```\r\n\r\nJSON file\r\n\r\n```\r\n[\r\n  [\r\n    {\r\n      &quot;rotoworld_id&quot;: 4502,\r\n      &quot;practice_description&quot;: null,\r\n      &quot;birth_state&quot;: null,\r\n      &quot;metadata&quot;: null,\r\n      &quot;espn_id&quot;: 11122,\r\n      &quot;birth_country&quot;: null,\r\n      &quot;team&quot;: &quot;ARI&quot;,\r\n      &quot;search_last_name&quot;: &quot;prater&quot;,\r\n      &quot;player_id&quot;: &quot;17&quot;,\r\n      &quot;gsis_id&quot;: &quot;00-0023853&quot;,\r\n      &quot;age&quot;: 38,\r\n      &quot;sportradar_id&quot;: &quot;67f5e782-f91c-4536-9818-cf4a0e7e821d&quot;,\r\n      &quot;last_name&quot;: &quot;Prater&quot;,\r\n      &quot;status&quot;: &quot;Active&quot;,\r\n      &quot;fantasy_data_id&quot;: 549,\r\n      &quot;yahoo_id&quot;: 8565,\r\n      &quot;pandascore_id&quot;: null,\r\n      &quot;search_rank&quot;: 141,\r\n      &quot;position&quot;: &quot;K&quot;,\r\n      &quot;birth_city&quot;: null,\r\n      &quot;depth_chart_position&quot;: &quot;PK&quot;,\r\n      &quot;practice_participation&quot;: null,\r\n      &quot;sport&quot;: &quot;nfl&quot;,\r\n      &quot;search_full_name&quot;: &quot;mattprater&quot;,\r\n      &quot;injury_start_date&quot;: null,\r\n      &quot;rotowire_id&quot;: 5051,\r\n      &quot;hashtag&quot;: &quot;#mattprater-NFL-ARI-5&quot;,\r\n      &quot;swish_id&quot;: 218237,\r\n      &quot;high_school&quot;: &quot;Estero (FL)&quot;,\r\n      &quot;number&quot;: 5,\r\n      &quot;depth_chart_order&quot;: 1,\r\n      &quot;full_name&quot;: &quot;Matt Prater&quot;,\r\n      &quot;injury_body_part&quot;: null,\r\n      &quot;search_first_name&quot;: &quot;matt&quot;,\r\n      &quot;years_exp&quot;: 17,\r\n      &quot;height&quot;: &quot;70&quot;,\r\n      &quot;first_name&quot;: &quot;Matt&quot;,\r\n      &quot;injury_status&quot;: null,\r\n      &quot;active&quot;: true,\r\n      &quot;news_updated&quot;: 1678853455354,\r\n      &quot;weight&quot;: &quot;201&quot;,\r\n      &quot;birth_date&quot;: &quot;1984-08-10&quot;,\r\n      &quot;fantasy_positions&quot;: [\r\n        &quot;K&quot;\r\n      ],\r\n      &quot;stats_id&quot;: 218237,\r\n      &quot;college&quot;: &quot;UCF&quot;,\r\n      &quot;injury_notes&quot;: null\r\n    }\r\n  ]\r\n]\r\n```\r\n\r\nThe JSON file seems to be an Array of objects inside an array. I thought I had set the data classes up correctly but I am getting a the Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $\\[0\\]. Am I doing something wrong setting up the data classes?\r\n\r\nI tried setting the response from the api to call List\\&lt;PlayerData\\&gt; and then List\\&lt;PlayerInfo\\&gt; because its an array of objects inside an array but it didn&#39;t work","title":"onFailure: Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]","body":"<p>Im trying to parse this API but I don't think my data classes are set up correctly</p>\n<p>Connected Sleeper API</p>\n<pre><code>package com.example.drafttime.api\n\nimport com.example.drafttime.data.PlayerData\nimport com.example.drafttime.data.PlayerInfo\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.moshi.MoshiConverterFactory\nimport retrofit2.http.GET\n\n\n// This file is our interface with the Sleeper api to get player data\ninterface ConnectedSleeper {\n\n    @GET(&quot;nflTeamDataArray&quot;)\n    fun getPlayerData(\n    ):Call&lt;List&lt;PlayerData&gt;&gt;\n    companion object{\n\n        private const val BASE_URL =  &quot;http://10.0.2.2:8080/&quot;\n        fun create(): ConnectedSleeper {\n\n            return Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(MoshiConverterFactory.create())\n                .build()\n                .create(ConnectedSleeper::class.java)\n\n        }\n    }\n}\n</code></pre>\n<p>PlayerData.kt data class</p>\n<pre><code>package com.example.drafttime.data\n\nimport com.squareup.moshi.Json\nimport com.squareup.moshi.JsonClass\n\n@JsonClass(generateAdapter = true)\n\ndata class PlayerData(\n\n  val team: List&lt;Player&gt;\n\n\n):java.io.Serializable\n@JsonClass(generateAdapter = true)\n\ndata class Player(\n  val player: List&lt;PlayerInfo&gt;\n\n):java.io.Serializable\n</code></pre>\n<p>PlayerInfo.kt</p>\n<pre><code>package com.example.drafttime.data\n\nimport com.squareup.moshi.Json\nimport com.squareup.moshi.JsonClass\n\n\n@JsonClass(generateAdapter = true)\n\ndata class PlayerInfo(\n    @Json(name = &quot;birth_date&quot;) val birthDate: String?,\n@Json(name = &quot;full_name&quot;) val fullName: String?,\n@Json(name = &quot;college&quot;) val college: String?,\n@Json(name = &quot;team&quot;) val team : String?,\n@Json(name = &quot;position&quot;) val postion: String?,\n@Json(name = &quot;number&quot;) val number: Int?,\n@Json(name = &quot;age&quot;) val age: String?,\n@Json(name = &quot;weight&quot;) val weight: String?,\n@Json(name = &quot;height&quot;) val height: String?\n):java.io.Serializable\n</code></pre>\n<p>MainActivity</p>\n<pre><code>\nsleeperConnect.getPlayerData()\n\n\n    .enqueue(object : Callback&lt;List&lt;PlayerData&gt;&gt; {\n        override fun onResponse(\n            call: Call&lt;List&lt;PlayerData&gt;&gt;,\n            response: Response&lt;List&lt;PlayerData&gt;&gt;\n        ) {\n            ///Need to hook up adapter to this part of the response\n            if (response.isSuccessful) {\n\n\n\n                Log.d(&quot;Response&quot;, &quot;onResponse: ${response.body()}&quot;)\n                //TODO: Adapter and recycler view should go here\n               // val adapter = response.body()?.let { it1 -&gt; CustomAdapter(it1) }\n               // recyclerview.adapter = adapter\n\n\n\n\n\n            }\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;PlayerData&gt;&gt;, t: Throwable) {\n            Log.d(&quot;Draft time Activity &quot;, &quot;onFailure: &quot; + t.message)\n        }\n    })\n</code></pre>\n<p>JSON file</p>\n<pre><code>[\n  [\n    {\n      &quot;rotoworld_id&quot;: 4502,\n      &quot;practice_description&quot;: null,\n      &quot;birth_state&quot;: null,\n      &quot;metadata&quot;: null,\n      &quot;espn_id&quot;: 11122,\n      &quot;birth_country&quot;: null,\n      &quot;team&quot;: &quot;ARI&quot;,\n      &quot;search_last_name&quot;: &quot;prater&quot;,\n      &quot;player_id&quot;: &quot;17&quot;,\n      &quot;gsis_id&quot;: &quot;00-0023853&quot;,\n      &quot;age&quot;: 38,\n      &quot;sportradar_id&quot;: &quot;67f5e782-f91c-4536-9818-cf4a0e7e821d&quot;,\n      &quot;last_name&quot;: &quot;Prater&quot;,\n      &quot;status&quot;: &quot;Active&quot;,\n      &quot;fantasy_data_id&quot;: 549,\n      &quot;yahoo_id&quot;: 8565,\n      &quot;pandascore_id&quot;: null,\n      &quot;search_rank&quot;: 141,\n      &quot;position&quot;: &quot;K&quot;,\n      &quot;birth_city&quot;: null,\n      &quot;depth_chart_position&quot;: &quot;PK&quot;,\n      &quot;practice_participation&quot;: null,\n      &quot;sport&quot;: &quot;nfl&quot;,\n      &quot;search_full_name&quot;: &quot;mattprater&quot;,\n      &quot;injury_start_date&quot;: null,\n      &quot;rotowire_id&quot;: 5051,\n      &quot;hashtag&quot;: &quot;#mattprater-NFL-ARI-5&quot;,\n      &quot;swish_id&quot;: 218237,\n      &quot;high_school&quot;: &quot;Estero (FL)&quot;,\n      &quot;number&quot;: 5,\n      &quot;depth_chart_order&quot;: 1,\n      &quot;full_name&quot;: &quot;Matt Prater&quot;,\n      &quot;injury_body_part&quot;: null,\n      &quot;search_first_name&quot;: &quot;matt&quot;,\n      &quot;years_exp&quot;: 17,\n      &quot;height&quot;: &quot;70&quot;,\n      &quot;first_name&quot;: &quot;Matt&quot;,\n      &quot;injury_status&quot;: null,\n      &quot;active&quot;: true,\n      &quot;news_updated&quot;: 1678853455354,\n      &quot;weight&quot;: &quot;201&quot;,\n      &quot;birth_date&quot;: &quot;1984-08-10&quot;,\n      &quot;fantasy_positions&quot;: [\n        &quot;K&quot;\n      ],\n      &quot;stats_id&quot;: 218237,\n      &quot;college&quot;: &quot;UCF&quot;,\n      &quot;injury_notes&quot;: null\n    }\n  ]\n]\n</code></pre>\n<p>The JSON file seems to be an Array of objects inside an array. I thought I had set the data classes up correctly but I am getting a the Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $[0]. Am I doing something wrong setting up the data classes?</p>\n<p>I tried setting the response from the api to call List&lt;PlayerData&gt; and then List&lt;PlayerInfo&gt; because its an array of objects inside an array but it didn't work</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312728,"creation_date":1679312728,"answer_id":75789861,"question_id":75788892,"body_markdown":"One solution would be to use @JsonTypeInfo. This allows you to deserilize into different type based on some property (in your case, the type).\r\n\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME, \r\n      include = JsonTypeInfo.As.PROPERTY, \r\n      property = &quot;type&quot;)\r\n    @JsonSubTypes({ \r\n      @Type(value = TextPayload.class, name = &quot;message&quot;), \r\n      @Type(value = IdPayload.class, name = &quot;id&quot;) \r\n    })\r\n    abstract class Payload {}\r\n    \r\n    class TextPayload extends Payload {\r\n       String text;\r\n    }\r\n    class IdPayload extends Payload {\r\n       Long id;\r\n    }\r\n\r\nIt can be a good solution for straight-forward use cases, read more about it here: \r\nhttps://www.baeldung.com/jackson-inheritance\r\n\r\nThough, this will bring some Jackson &quot;magic&quot; into your application. A simpler alternative will be to deserialize into a more generic dto with all fields, and then use a mapper (or a factory) that will map/create instances based on this object:\r\n\r\n    record GenericDto (\r\n        String text, Long id\r\n    );\r\n\r\n    // and\r\n    public Payload map (String type, GenericDto dto) {\r\n       switch(type):    \r\n            case &quot;id&quot;: return new IdPayload(dto.id());\r\n            case &quot;message&quot;: return new TextPayload(dto.text());\r\n            // ...\r\n    }","title":"Different types of payloads in Spring DTO","body":"<p>One solution would be to use @JsonTypeInfo. This allows you to deserilize into different type based on some property (in your case, the type).</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME, \n  include = JsonTypeInfo.As.PROPERTY, \n  property = &quot;type&quot;)\n@JsonSubTypes({ \n  @Type(value = TextPayload.class, name = &quot;message&quot;), \n  @Type(value = IdPayload.class, name = &quot;id&quot;) \n})\nabstract class Payload {}\n\nclass TextPayload extends Payload {\n   String text;\n}\nclass IdPayload extends Payload {\n   Long id;\n}\n</code></pre>\n<p>It can be a good solution for straight-forward use cases, read more about it here:\n<a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-inheritance</a></p>\n<p>Though, this will bring some Jackson &quot;magic&quot; into your application. A simpler alternative will be to deserialize into a more generic dto with all fields, and then use a mapper (or a factory) that will map/create instances based on this object:</p>\n<pre><code>record GenericDto (\n    String text, Long id\n);\n\n// and\npublic Payload map (String type, GenericDto dto) {\n   switch(type):    \n        case &quot;id&quot;: return new IdPayload(dto.id());\n        case &quot;message&quot;: return new TextPayload(dto.text());\n        // ...\n}\n</code></pre>\n"}],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679312728,"creation_date":1679306583,"question_id":75788892,"body_markdown":"Are there any best practices to handle this kind of data (in request body) in Spring (Java 17)?\r\n\r\nData example:\r\n\r\n    [\r\n      { \r\n        &quot;type&quot;: &quot;message&quot;, \r\n        &quot;common_data&quot;: &quot;something&quot;,\r\n        &quot;payload&quot;: {&quot;text&quot;: &quot;something&quot;}\r\n      },\r\n      { \r\n        &quot;type&quot;: &quot;id&quot;,\r\n        &quot;common_data&quot;: &quot;something&quot;,\r\n        &quot;payload&quot;: {&quot;id&quot;: 42}\r\n      }\r\n    ]\r\n\r\nI mean the json request that is a list of objects with different payload type (all the types are determined)","title":"Different types of payloads in Spring DTO","body":"<p>Are there any best practices to handle this kind of data (in request body) in Spring (Java 17)?</p>\n<p>Data example:</p>\n<pre><code>[\n  { \n    &quot;type&quot;: &quot;message&quot;, \n    &quot;common_data&quot;: &quot;something&quot;,\n    &quot;payload&quot;: {&quot;text&quot;: &quot;something&quot;}\n  },\n  { \n    &quot;type&quot;: &quot;id&quot;,\n    &quot;common_data&quot;: &quot;something&quot;,\n    &quot;payload&quot;: {&quot;id&quot;: 42}\n  }\n]\n</code></pre>\n<p>I mean the json request that is a list of objects with different payload type (all the types are determined)</p>\n"},{"tags":["java","spring-boot","soap","soap-client","spring-ws"],"owner":{"account_id":12201936,"reputation":414,"user_id":8906016,"display_name":"canillas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679312468,"creation_date":1679312468,"question_id":75789832,"body_markdown":"I&#39;m trying to call an external SOAP WS on this way:\r\n\r\nI have a REST API that receive some custom parameters, create the SOAP request and call the SOAP client to invoke the correct operation.\r\n\r\nIn my request I have a base64binary field that I can process automatically in the REST Controller but that takes too long time to process in the SOAP client. If I put in the base64binary a String with 15K chars approx, the response arrives in 2 minutes more or less. If I put a real base64binary (more than 400K chars) I&#39;m unable to process the request with Read timeout after 20 minutes approx.\r\n\r\nTests done:\r\n\r\n- Calling desired WS from SOAP UI --&gt; Error doesn&#39;t exist. Response received inmediatelly (less than 2 secs)\r\n- Calling custom WS from Java SOAP Client --&gt; Error doesn&#39;t exist. Response received inmediatelly (less than 2 secs)\r\n- Got SOAP request from log and tested from SOAP UI --&gt; Works fine. (we can discard problems in the request)\r\n\r\n\r\n**ClientConfig**\r\n\r\n    @Configuration\r\n    public class CorreosClientConfig {\r\n\r\n    @Value(&quot;${myClient.endpoint}&quot;)\r\n    private String clientEndpoint;\r\n\r\n    @Autowired\r\n    private BasicAuthorizationMessageSender basicAuthorizationMessageSender;\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller customMarshaller() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;path.to.classes&quot;);\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public CustomClient customClient(Jaxb2Marshaller customMarshaller) {\r\n        CustomClient client = new CustomClient ();\r\n        client.setDefaultUri(clientEndpoint);\r\n        client.setMarshaller(customMarshaller);\r\n        client.setUnmarshaller(customMarshaller);\r\n        client.setMessageSender(basicAuthorizationMessageSender);\r\n        client.getWebServiceTemplate().afterPropertiesSet();\r\n        return client;\r\n    }\r\n    }\r\n\r\n**BasicAuthorizationMessageSender**\r\n\r\n    @Component\r\n    public class BasicAuthorizationMessageSender extends HttpComponentsMessageSender {\r\n\r\n    private static final int MAX_PAYLOAD_SIZE_BYTES = 10 * 1024 * 1024; // 10MB\r\n\r\n    @Value(&quot;${myClient.userKey}&quot;)\r\n    private String userKey;\r\n\r\n    @Value(&quot;${myClient.userSecret}&quot;)\r\n    private String userSecret;\r\n\r\n    public BasicAuthorizationMessageSender() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public WebServiceConnection createConnection(URI uri) throws IOException {\r\n        logger.debug(&quot;createConnection(URI) called for URI: &quot; + uri.toASCIIString());\r\n        // initializing the HttpComponentsMessageSender instance\r\n        init();\r\n        HttpComponentsConnection webServiceConnection = (HttpComponentsConnection) super.createConnection(uri);\r\n        HttpPost postMethod;\r\n        postMethod = webServiceConnection.getHttpPost();\r\n        String rawCredentials = userKey + &quot;:&quot; + userSecret;\r\n        byte[] rawCredentialsBytes = rawCredentials.getBytes(&quot;UTF-8&quot;);\r\n        String base64Credentials = &quot;Basic &quot; + Base64.encodeBase64String(rawCredentialsBytes);\r\n        postMethod.addHeader(&quot;Authorization&quot;, base64Credentials);\r\n        postMethod.setHeader(HTTP.CONTENT_LEN, String.valueOf(MAX_PAYLOAD_SIZE_BYTES));\r\n        this.setReadTimeout(20 * 60 * 1000);\r\n        this.setConnectionTimeout(20 * 60 * 1000);\r\n        return webServiceConnection;\r\n    }\r\n\r\n    private void init() {\r\n        try {\r\n            super.afterPropertiesSet();\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Exception&quot;, ex);\r\n        }\r\n        logger.debug(&quot;init called. Credentials set to httpClient object.&quot;);\r\n      }\r\n    }\r\n\r\n**CustomClient**\r\n\r\n    public class CustomClient extends WebServiceGatewaySupport {\r\n\r\n    public SolicitudAltaResponse solicitudAlta(SolicitudAlta request) {\r\n        SolicitudAltaResponse response = (SolicitudAltaResponse) getWebServiceTemplate().marshalSendAndReceive(request);\r\n        return response;\r\n      }\r\n    }\r\n\r\n\r\n**More hints**\r\n- WS classes autogenerated with:\r\n\r\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.15.2&lt;/version&gt;\r\n\r\n- Using Springboot 2.7.8 and OpenJDK17.0.2","title":"Unable to parse SOAP Request - Read Timeout","body":"<p>I'm trying to call an external SOAP WS on this way:</p>\n<p>I have a REST API that receive some custom parameters, create the SOAP request and call the SOAP client to invoke the correct operation.</p>\n<p>In my request I have a base64binary field that I can process automatically in the REST Controller but that takes too long time to process in the SOAP client. If I put in the base64binary a String with 15K chars approx, the response arrives in 2 minutes more or less. If I put a real base64binary (more than 400K chars) I'm unable to process the request with Read timeout after 20 minutes approx.</p>\n<p>Tests done:</p>\n<ul>\n<li>Calling desired WS from SOAP UI --&gt; Error doesn't exist. Response received inmediatelly (less than 2 secs)</li>\n<li>Calling custom WS from Java SOAP Client --&gt; Error doesn't exist. Response received inmediatelly (less than 2 secs)</li>\n<li>Got SOAP request from log and tested from SOAP UI --&gt; Works fine. (we can discard problems in the request)</li>\n</ul>\n<p><strong>ClientConfig</strong></p>\n<pre><code>@Configuration\npublic class CorreosClientConfig {\n\n@Value(&quot;${myClient.endpoint}&quot;)\nprivate String clientEndpoint;\n\n@Autowired\nprivate BasicAuthorizationMessageSender basicAuthorizationMessageSender;\n\n@Bean\npublic Jaxb2Marshaller customMarshaller() {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(&quot;path.to.classes&quot;);\n    return marshaller;\n}\n\n@Bean\npublic CustomClient customClient(Jaxb2Marshaller customMarshaller) {\n    CustomClient client = new CustomClient ();\n    client.setDefaultUri(clientEndpoint);\n    client.setMarshaller(customMarshaller);\n    client.setUnmarshaller(customMarshaller);\n    client.setMessageSender(basicAuthorizationMessageSender);\n    client.getWebServiceTemplate().afterPropertiesSet();\n    return client;\n}\n}\n</code></pre>\n<p><strong>BasicAuthorizationMessageSender</strong></p>\n<pre><code>@Component\npublic class BasicAuthorizationMessageSender extends HttpComponentsMessageSender {\n\nprivate static final int MAX_PAYLOAD_SIZE_BYTES = 10 * 1024 * 1024; // 10MB\n\n@Value(&quot;${myClient.userKey}&quot;)\nprivate String userKey;\n\n@Value(&quot;${myClient.userSecret}&quot;)\nprivate String userSecret;\n\npublic BasicAuthorizationMessageSender() {\n    super();\n}\n\n@Override\npublic WebServiceConnection createConnection(URI uri) throws IOException {\n    logger.debug(&quot;createConnection(URI) called for URI: &quot; + uri.toASCIIString());\n    // initializing the HttpComponentsMessageSender instance\n    init();\n    HttpComponentsConnection webServiceConnection = (HttpComponentsConnection) super.createConnection(uri);\n    HttpPost postMethod;\n    postMethod = webServiceConnection.getHttpPost();\n    String rawCredentials = userKey + &quot;:&quot; + userSecret;\n    byte[] rawCredentialsBytes = rawCredentials.getBytes(&quot;UTF-8&quot;);\n    String base64Credentials = &quot;Basic &quot; + Base64.encodeBase64String(rawCredentialsBytes);\n    postMethod.addHeader(&quot;Authorization&quot;, base64Credentials);\n    postMethod.setHeader(HTTP.CONTENT_LEN, String.valueOf(MAX_PAYLOAD_SIZE_BYTES));\n    this.setReadTimeout(20 * 60 * 1000);\n    this.setConnectionTimeout(20 * 60 * 1000);\n    return webServiceConnection;\n}\n\nprivate void init() {\n    try {\n        super.afterPropertiesSet();\n    } catch (Exception ex) {\n        logger.error(&quot;Exception&quot;, ex);\n    }\n    logger.debug(&quot;init called. Credentials set to httpClient object.&quot;);\n  }\n}\n</code></pre>\n<p><strong>CustomClient</strong></p>\n<pre><code>public class CustomClient extends WebServiceGatewaySupport {\n\npublic SolicitudAltaResponse solicitudAlta(SolicitudAlta request) {\n    SolicitudAltaResponse response = (SolicitudAltaResponse) getWebServiceTemplate().marshalSendAndReceive(request);\n    return response;\n  }\n}\n</code></pre>\n<p><strong>More hints</strong></p>\n<ul>\n<li><p>WS classes autogenerated with:</p>\n<pre><code>  &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n  &lt;version&gt;0.15.2&lt;/version&gt;\n</code></pre>\n</li>\n<li><p>Using Springboot 2.7.8 and OpenJDK17.0.2</p>\n</li>\n</ul>\n"},{"tags":["java","android","kotlin","game-development"],"answers":[{"tags":[],"owner":{"account_id":5313346,"reputation":255,"user_id":4238935,"display_name":"Luis Pascual"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679083938,"creation_date":1679083938,"answer_id":75771843,"question_id":75771390,"body_markdown":"I think that trying to distinguish colors in the same ImageView can be really tricky. I would go for a solution that separates all the arrows in separate components and it will be much easier to identify clicks. \r\n\r\nI don&#39;t know the feasibility of separating the single image into multiple subcomponents but it will make your life much easier. If you have the arrows separated it is just a matter of playing with the components in the layout in order to put the right constraints between each other to form the whole post with the arrows. You can use ConstraintLayout to rearrange the elements with paddings for instance.","title":"Android determine a few clickable areas of imageview","body":"<p>I think that trying to distinguish colors in the same ImageView can be really tricky. I would go for a solution that separates all the arrows in separate components and it will be much easier to identify clicks.</p>\n<p>I don't know the feasibility of separating the single image into multiple subcomponents but it will make your life much easier. If you have the arrows separated it is just a matter of playing with the components in the layout in order to put the right constraints between each other to form the whole post with the arrows. You can use ConstraintLayout to rearrange the elements with paddings for instance.</p>\n"},{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312393,"creation_date":1679312393,"answer_id":75789823,"question_id":75771390,"body_markdown":" - Actually to overcome the problem of changes in the resolution and\r\n   screen size, you may define the coordination of clickable areas\r\n   relative to the size of the image (i.e.  defining the clickable areas\r\n   as percentages of the image size or the screen size, rather than\r\n   absolute pixel values). However, in this case your clickable area\r\n   would not be in the same shape as your area in the image. Defining\r\n   such area would be complicated.\r\n - Another solution is making texts clickable. In this case the user\r\n   must click exactly on the text which causes another problem in the\r\n   user experience.\r\n - Next solution, is use of HTML. You have a HTML file with your image and a &lt;map&gt;&lt;/map&gt; tag to specify the clickable area. You may use online free websites for this purpose like [this][1]. In this case you have to show your image in a `WebView`.\r\n - The next solution is the one mentioned by Luis Pascaul [here][2].\r\n\r\n\r\n  [1]: https://www.image-map.net/\r\n  [2]: https://stackoverflow.com/a/75771843/3937935","title":"Android determine a few clickable areas of imageview","body":"<ul>\n<li>Actually to overcome the problem of changes in the resolution and\nscreen size, you may define the coordination of clickable areas\nrelative to the size of the image (i.e.  defining the clickable areas\nas percentages of the image size or the screen size, rather than\nabsolute pixel values). However, in this case your clickable area\nwould not be in the same shape as your area in the image. Defining\nsuch area would be complicated.</li>\n<li>Another solution is making texts clickable. In this case the user\nmust click exactly on the text which causes another problem in the\nuser experience.</li>\n<li>Next solution, is use of HTML. You have a HTML file with your image and a  tag to specify the clickable area. You may use online free websites for this purpose like <a href=\"https://www.image-map.net/\" rel=\"nofollow noreferrer\">this</a>. In this case you have to show your image in a <code>WebView</code>.</li>\n<li>The next solution is the one mentioned by Luis Pascaul <a href=\"https://stackoverflow.com/a/75771843/3937935\">here</a>.</li>\n</ul>\n"}],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679312393,"creation_date":1679080510,"question_id":75771390,"body_markdown":"Let&#39;s say I have such imageview:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want make those arrows clickable and they should be of proper onClick action like label says. \r\n\r\nI thought about a solution. I made up my mind to distinguish those area by color (as every arrow has different color), but how to achieve that? Other solution could be distinguishing by xy coordintates of specific area but it would be a harder and cumbersome solution due to supporting different screen sizes and densities.\r\n\r\nIf it changes something this imageview src is in Vector Drawable XML format converted from SVG.\r\n\r\nI am waiting with impatience for solutions :) .\r\n\r\n  [1]: https://i.stack.imgur.com/SkEGX.png","title":"Android determine a few clickable areas of imageview","body":"<p>Let's say I have such imageview:</p>\n<p><a href=\"https://i.stack.imgur.com/SkEGX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkEGX.png\" alt=\"enter image description here\" /></a></p>\n<p>I want make those arrows clickable and they should be of proper onClick action like label says.</p>\n<p>I thought about a solution. I made up my mind to distinguish those area by color (as every arrow has different color), but how to achieve that? Other solution could be distinguishing by xy coordintates of specific area but it would be a harder and cumbersome solution due to supporting different screen sizes and densities.</p>\n<p>If it changes something this imageview src is in Vector Drawable XML format converted from SVG.</p>\n<p>I am waiting with impatience for solutions :) .</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":1,"creation_date":1679306984,"post_id":75788606,"comment_id":133691758,"body_markdown":"you say it returns a unique_ptr, but the signature you show returns a raw pointer. Btw that you asked chatgpt and got nothing useful is rather irrelevant. On the other hand, if you did read the docs and there are details that you do not understand or that didnt work out for you then you should tell about the details","body":"you say it returns a unique_ptr, but the signature you show returns a raw pointer. Btw that you asked chatgpt and got nothing useful is rather irrelevant. On the other hand, if you did read the docs and there are details that you do not understand or that didnt work out for you then you should tell about the details"},{"owner":{"account_id":28063962,"reputation":11,"user_id":21437635,"display_name":"TTTuna"},"score":0,"creation_date":1679312752,"post_id":75788606,"comment_id":133693255,"body_markdown":"@463035818_is_not_a_number Sorry. Chatgpt tell me to use %rename which is useless. I also read(search) docs roughly but not able to find which tool is relevant :(  About pointer, yes it&#39;s a raw, my fault.","body":"@463035818_is_not_a_number Sorry. Chatgpt tell me to use %rename which is useless. I also read(search) docs roughly but not able to find which tool is relevant :(  About pointer, yes it&#39;s a raw, my fault."},{"owner":{"account_id":7709025,"reputation":112,"user_id":5839041,"display_name":"Damian"},"score":0,"creation_date":1680543536,"post_id":75788606,"comment_id":133912970,"body_markdown":"Please put a minimal C++ class example in your question, then I can try to come up with something.","body":"Please put a minimal C++ class example in your question, then I can try to come up with something."}],"owner":{"account_id":28063962,"reputation":11,"user_id":21437635,"display_name":"TTTuna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679312358,"creation_date":1679305014,"question_id":75788606,"body_markdown":"I have a function which return a pointer of a self-defined class. When i tried to convert c++ to java by swig, it automatically generate a type of &quot;SWIGTYPE_p_xxxx&quot;, how to rename this class?\r\n\r\nmy function is `Session* Interpreter::createSession(const ScheduleConfig&amp; config)`, here Session is a class i defined, the funciton return a ptr which is not support in java.\r\n\r\nafter convert, swig will generate a type called &quot;SWIGTYPE_p_MNN__Session&quot;, how to rename this to &quot;Session_p&quot; or anything else? (just for neat and clean, I don&#39;t need to access details through this pointer)\r\n\r\n\r\ntried ask Chatgpt, and tried to read the docs. nothing work. \r\nalso tried `%rename(Session) SWIGTYPE_p_MNN__Session;`, not work.","title":"How to rename a automatically generated swig class","body":"<p>I have a function which return a pointer of a self-defined class. When i tried to convert c++ to java by swig, it automatically generate a type of &quot;SWIGTYPE_p_xxxx&quot;, how to rename this class?</p>\n<p>my function is <code>Session* Interpreter::createSession(const ScheduleConfig&amp; config)</code>, here Session is a class i defined, the funciton return a ptr which is not support in java.</p>\n<p>after convert, swig will generate a type called &quot;SWIGTYPE_p_MNN__Session&quot;, how to rename this to &quot;Session_p&quot; or anything else? (just for neat and clean, I don't need to access details through this pointer)</p>\n<p>tried ask Chatgpt, and tried to read the docs. nothing work.\nalso tried <code>%rename(Session) SWIGTYPE_p_MNN__Session;</code>, not work.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"score":0,"creation_date":1679312145,"post_id":75789670,"comment_id":133693108,"body_markdown":"Could you provide any additional error messages?","body":"Could you provide any additional error messages?"}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679312088,"creation_date":1679312088,"answer_id":75789782,"question_id":75789670,"body_markdown":"**Implementation is not found.**\r\n\r\n`build.gradle`\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n----\r\n\r\n 1. Go to `Build`.\r\n 2. Open `Clean Project`.\r\n 3. `Build`-&gt;`Clean Project`.\r\n 4. `Rebuild the Project`.\r\n\r\nCheck : [Getting started with Material Components for Android](https://m2.material.io/develop/android/docs/getting-started), [Material Design](https://m3.material.io/).","title":"Could not find method implementation() for arguments [com.google.android.material:material:1.5.0]","body":"<p><strong>Implementation is not found.</strong></p>\n<p><code>build.gradle</code></p>\n<pre><code>repositories {\n    mavenCentral()\n}\n</code></pre>\n<hr />\n<ol>\n<li>Go to <code>Build</code>.</li>\n<li>Open <code>Clean Project</code>.</li>\n<li><code>Build</code>-&gt;<code>Clean Project</code>.</li>\n<li><code>Rebuild the Project</code>.</li>\n</ol>\n<p>Check : <a href=\"https://m2.material.io/develop/android/docs/getting-started\" rel=\"nofollow noreferrer\">Getting started with Material Components for Android</a>, <a href=\"https://m3.material.io/\" rel=\"nofollow noreferrer\">Material Design</a>.</p>\n"}],"owner":{"account_id":27899144,"reputation":21,"user_id":21303796,"display_name":"Junaid Raees"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1679388061,"answer_count":1,"score":0,"last_activity_date":1679312088,"creation_date":1679311411,"question_id":75789670,"body_markdown":"Following is the problematic line of build.gradle:\r\n\r\n implementation &#39;com.google.android.material:material:1.5.0&#39;","title":"Could not find method implementation() for arguments [com.google.android.material:material:1.5.0]","body":"<p>Following is the problematic line of build.gradle:</p>\n<p>implementation 'com.google.android.material:material:1.5.0'</p>\n"},{"tags":["java","spring-boot","gradle","integration-testing","testcontainers-junit5"],"comments":[{"owner":{"account_id":11809595,"reputation":65,"user_id":8641319,"display_name":"Gopal"},"score":0,"creation_date":1678887153,"post_id":75140560,"comment_id":133619837,"body_markdown":"Were you able to find the solution? I m running into the same problem. thanks","body":"Were you able to find the solution? I m running into the same problem. thanks"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679310903,"creation_date":1673910580,"question_id":75140560,"body_markdown":"I have this integration test base that test classes extend from, running one test class or a single test works without issues but if I try to run gradle task to run all tests I&#39;m having this issue:\r\n&gt; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\r\n\r\n&gt; Connection to localhost:50234 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\n```java\r\n@ActiveProfiles(&quot;itest&quot;)\r\n@Testcontainers\r\n@Import({DatabaseCleaner.class, IntegrationTestSetup.class})\r\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic abstract class IntegrationTestBase {\r\n\r\n    @Autowired\r\n    public DatabaseCleaner databaseCleaner;\r\n\r\n    @BeforeEach\r\n    public void globalBeforeEach() {\r\n        databaseCleaner.truncate();\r\n    }\r\n\r\n    @Container\r\n    static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\r\n            .withUsername(&quot;itest&quot;)\r\n            .withPassword(&quot;itest&quot;)\r\n            .withDatabaseName(&quot;catsit&quot;);\r\n\r\n    public static class ContextInitializer implements\r\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            final String url = postgresTestContainer.getJdbcUrl();\r\n            final String username = postgresTestContainer.getUsername();\r\n            final String password = postgresTestContainer.getPassword();\r\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                    configurableApplicationContext,\r\n                    &quot;spring.datasource.url=&quot; + url,\r\n                    &quot;spring.datasource.username=&quot; + username,\r\n                    &quot;spring.datasource.password=&quot; + password,\r\n                    &quot;spring.liquibase.url=&quot; + url,\r\n                    &quot;spring.liquibase.user=&quot; + username,\r\n                    &quot;spring.liquibase.password=&quot; + password,\r\n                    &quot;spring.liquibase.change-log=&quot; + &quot;classpath:db/changelog/master.xml&quot;\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```groovy\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n        }\r\n\r\n        itest(JvmTestSuite) {\r\n            testType = TestSuiteType.INTEGRATION_TEST\r\n\r\n            dependencies {\r\n                implementation project()\r\n            }\r\n\r\n            configurations {\r\n                itestImplementation.extendsFrom testImplementation\r\n                itestRuntime.extendsFrom testRuntime\r\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Issues with test container when running integration tests gradle task","body":"<p>I have this integration test base that test classes extend from, running one test class or a single test works without issues but if I try to run gradle task to run all tests I'm having this issue:</p>\n<blockquote>\n<p>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection</p>\n</blockquote>\n<blockquote>\n<p>Connection to localhost:50234 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;itest&quot;)\n@Testcontainers\n@Import({DatabaseCleaner.class, IntegrationTestSetup.class})\n@ContextConfiguration(initializers = IntegrationTestBase.ContextInitializer.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class IntegrationTestBase {\n\n    @Autowired\n    public DatabaseCleaner databaseCleaner;\n\n    @BeforeEach\n    public void globalBeforeEach() {\n        databaseCleaner.truncate();\n    }\n\n    @Container\n    static final PostgreSQLContainer postgresTestContainer = new PostgreSQLContainer(&quot;postgres:15&quot;)\n            .withUsername(&quot;itest&quot;)\n            .withPassword(&quot;itest&quot;)\n            .withDatabaseName(&quot;catsit&quot;);\n\n    public static class ContextInitializer implements\n            ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            final String url = postgresTestContainer.getJdbcUrl();\n            final String username = postgresTestContainer.getUsername();\n            final String password = postgresTestContainer.getPassword();\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                    configurableApplicationContext,\n                    &quot;spring.datasource.url=&quot; + url,\n                    &quot;spring.datasource.username=&quot; + username,\n                    &quot;spring.datasource.password=&quot; + password,\n                    &quot;spring.liquibase.url=&quot; + url,\n                    &quot;spring.liquibase.user=&quot; + username,\n                    &quot;spring.liquibase.password=&quot; + password,\n                    &quot;spring.liquibase.change-log=&quot; + &quot;classpath:db/changelog/master.xml&quot;\n            );\n        }\n    }\n\n}\n</code></pre>\n<pre><code>testing {\n    suites {\n        test {\n            useJUnitJupiter()\n        }\n\n        itest(JvmTestSuite) {\n            testType = TestSuiteType.INTEGRATION_TEST\n\n            dependencies {\n                implementation project()\n            }\n\n            configurations {\n                itestImplementation.extendsFrom testImplementation\n                itestRuntime.extendsFrom testRuntime\n                itestRuntimeOnly.extendsFrom testRuntimeOnly\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","amazon-web-services","aws-lambda","pulumi"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1677942605,"post_id":75635032,"comment_id":133438620,"body_markdown":"To answer your question: `tmp` is not the same as `/tmp`","body":"To answer your question: <code>tmp</code> is not the same as <code>&#47;tmp</code>"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1677942717,"post_id":75635032,"comment_id":133438636,"body_markdown":"But, this is just an incredibly bad idea. Lambda execution environments come and go, you have no ability to control that, and unless you want to write a Lambda extension, you have no ability to capture the log files before the environment is destroyed. It&#39;s far better to use the default logging to CloudWatch and then, if you want to preserve somewhere else, save the CloudWatch logs.","body":"But, this is just an incredibly bad idea. Lambda execution environments come and go, you have no ability to control that, and unless you want to write a Lambda extension, you have no ability to capture the log files before the environment is destroyed. It&#39;s far better to use the default logging to CloudWatch and then, if you want to preserve somewhere else, save the CloudWatch logs."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1677942731,"post_id":75635032,"comment_id":133438641,"body_markdown":"Also, what does this question have to do with JavaScript?","body":"Also, what does this question have to do with JavaScript?"},{"owner":{"account_id":43555,"reputation":1891,"user_id":127400,"accept_rate":88,"display_name":"Augunrik"},"score":0,"creation_date":1678125727,"post_id":75635032,"comment_id":133469202,"body_markdown":"It&#39;s always a bad idea to post API keys; please remove them","body":"It&#39;s always a bad idea to post API keys; please remove them"}],"answers":[{"tags":[],"owner":{"account_id":43555,"reputation":1891,"user_id":127400,"accept_rate":88,"display_name":"Augunrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125994,"creation_date":1678125994,"answer_id":75654334,"question_id":75635032,"body_markdown":"As written in the comments, lambda environments come and go and you don&#39;t have write access to directories, as you found out. \r\n\r\nYour question burns down to where you can write when you have a lambda function:\r\n* The /tmp directory has 500MB disk space that can be used. Note that this directory will be cleared when AWS stops the function\r\n* You can mount EFS persistent storage for storing files via the filesystem\r\n\r\nIn the end you can also save files in S3, but with an HTTP API.\r\n","title":"How do I save a file from logback fileappnder on AWS Function?","body":"<p>As written in the comments, lambda environments come and go and you don't have write access to directories, as you found out.</p>\n<p>Your question burns down to where you can write when you have a lambda function:</p>\n<ul>\n<li>The /tmp directory has 500MB disk space that can be used. Note that this directory will be cleared when AWS stops the function</li>\n<li>You can mount EFS persistent storage for storing files via the filesystem</li>\n</ul>\n<p>In the end you can also save files in S3, but with an HTTP API.</p>\n"}],"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679310776,"creation_date":1677925368,"question_id":75635032,"body_markdown":"I want to save the file from  logback file appender in /tmp directory in AWS Lamda function.\r\nThe logback config file look like this:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;tmp/app.log&lt;/file&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n     \r\nMy Pulumi code for AWS Lamda function look like this:\r\n\r\n    export const lamda = new aws.lambda.Function(&quot;aws-lamda-function&quot;, {\r\n        code: new pulumi.asset.FileArchive(&quot;../app/build/libs/HelloWorldServerless-all.jar&quot;),   \r\n        runtime: aws.lambda.Runtime.Java11,\r\n        handler: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\r\n        role: lamdaExecutionRole.arn,\r\n        name: &quot;hello-world&quot;,\r\n        memorySize: 300,\r\n        timeout: 100,\r\n        layers: [ &#39;arn:aws:lambda:eu-north-1:464622532012:layer:dd-trace-java:8&#39;,\r\n    \t\t      &quot;arn:aws:lambda:eu-north-1:464622532012:layer:Datadog-Extension:38&quot;],    \r\n        environment: {\r\n            variables: {\r\n    \t\t\tDD_API_KEY:&quot;*****&quot;,\r\n    \t\t\tDD_CAPTURE_LAMBDA_PAYLOAD: &quot;false&quot;,\r\n    \t\t\tDD_LAMBDA_HANDLER: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\r\n    \t\t\tDD_LOG_LEVEL: &quot;debug&quot;,\r\n    \t\t\tFUNCTION_NAME: &quot;hello-world&quot;,\r\n    \t\t    DD_SERVICE: &#39;hello-world&#39;,\r\n    \t\t    DD_SITE: &quot;datadoghq.eu&quot;,\r\n    \t\t    DD_VERSION: &quot;0.1&quot;,\r\n                DD_LOGS_INJECTION: &#39;true&#39;,\r\n                DD_JMXFETCH_ENABLED: &#39;false&#39;,\r\n                DD_TRACE_ENABLED: &#39;true&#39;,\r\n                DD_ENV: &#39;dev&#39;,\r\n                DD_MERGE_XRAY_TRACES: &quot;false&quot;,\r\n                DD_FLUSH_TO_LOG: &quot;true&quot;\r\n            },\r\n        },\r\n    },\r\n\r\n   \r\n\r\n    )\r\nThe lamda role looks like this:\r\n\r\n    import * as aws from &quot;@pulumi/aws&quot;;\r\n    import   {lamdaPolicy} from &quot;./Policy&quot;\r\n    import   {fileSystemPolicy} from &quot;./Policy&quot;\r\n    import   {vpcPolicy} from &quot;./Policy&quot;\r\n    \r\n    \r\n    export const lamdaExecutionRole = new aws.iam.Role(&quot;lamda-execution-role&quot;, {assumeRolePolicy: `{\r\n     \r\n      &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n      &quot;Statement&quot;: [\r\n        {\r\n          &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\r\n          &quot;Principal&quot;: {\r\n            &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\r\n          },\r\n          &quot;Effect&quot;: &quot;Allow&quot;\r\n        }\r\n      ]\r\n    }`,\r\n     name:&#39;lamda-execution-role&#39;,\r\n     managedPolicyArns: [ \r\n    \t lamdaPolicy.arn,\r\n    \t fileSystemPolicy.arn,\r\n    \t vpcPolicy.arn,\r\n    \t \r\n    \t \r\n     ]\r\n    }\r\n    \r\n    );\r\nWith following policis: \r\n\r\n    import * as pulumi from &quot;@pulumi/pulumi&quot;;\r\n    import * as aws from &quot;@pulumi/aws&quot;;\r\n    \r\n    export const lamdaPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AWSLambdaBasicExecutionRole&quot;,\r\n    }))\r\n    \r\n    export const s3Policy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AmazonS3FullAccess&quot;,\r\n    }))\r\n    \r\n    export const fileSystemPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AmazonElasticFileSystemClientFullAccess&quot;,\r\n    }))\r\n    \r\n    export const vpcPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;AWSLambdaVPCAccessExecutionRole&quot;,\r\n    }))\r\n    \r\n    \r\n    export const clodWatchPolicy = pulumi.output(aws.iam.getPolicy({\r\n        name: &quot;CloudWatchLogsFullAccess&quot;,\r\n    }))\r\n\r\nThe Javacode for logging looks like this:\r\n\r\n    package HelloWorldServerless;\r\n    \r\n    \r\n    import com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyRequestEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyResponseEvent;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    \r\n    public class HelloWorld  {  \r\n    \t\r\n    \t private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);\r\n    \t\t\r\n    \tpublic APIGatewayV2ProxyResponseEvent handler(APIGatewayV2ProxyRequestEvent request, Context context)\r\n    \t{  \t\r\n    \t\tlogger.info(&quot;Start handler&quot;);\r\n    \t\tString requestMessage = request.getBody();\r\n    \t\tJSONObject jsonMessage = new JSONObject(requestMessage);\r\n    \t\tString messageValue = jsonMessage.getString(&quot;message&quot;);\r\n    \t\tString responsMessageValue = messageValue.toUpperCase();\r\n    \t\tString responsMessageKey = &quot;{\\&quot;message\\&quot;:&quot;;\r\n    \t\tString responsMessage = responsMessageKey + &quot;\\&quot;&quot; + responsMessageValue.toUpperCase() + &quot;\\&quot;&quot; + &quot;}&quot;;\r\n    \t\tAPIGatewayV2ProxyResponseEvent respons = new APIGatewayV2ProxyResponseEvent();\r\n    \t\trespons.setBody(responsMessage);\r\n    \t\trespons.setStatusCode(200);\r\n    \t\tlogger.info(&quot;End handler&quot;);\r\n    \t\treturn respons;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I run the Java code on the ASW function I get following error messages\r\n\r\n23:33:47,950 |-INFO in ch.qos.logback.core.FileAppender[FILE] - File property is set to [tmp/logs/app.log]\r\n\r\n23:33:47,954 |-ERROR in ch.qos.logback.core.FileAppender[FILE] - Failed to create parent directories for [/var/task/tmp/logs/app.log]\r\n\r\nHow do I manage to use the tmp directory to store the tmp/logs/app.log ?\r\n\r\n","title":"How do I save a file from logback fileappnder on AWS Function?","body":"<p>I want to save the file from  logback file appender in /tmp directory in AWS Lamda function.\nThe logback config file look like this:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;tmp/app.log&lt;/file&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n \n</code></pre>\n<p>My Pulumi code for AWS Lamda function look like this:</p>\n<pre><code>export const lamda = new aws.lambda.Function(&quot;aws-lamda-function&quot;, {\n    code: new pulumi.asset.FileArchive(&quot;../app/build/libs/HelloWorldServerless-all.jar&quot;),   \n    runtime: aws.lambda.Runtime.Java11,\n    handler: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\n    role: lamdaExecutionRole.arn,\n    name: &quot;hello-world&quot;,\n    memorySize: 300,\n    timeout: 100,\n    layers: [ 'arn:aws:lambda:eu-north-1:464622532012:layer:dd-trace-java:8',\n              &quot;arn:aws:lambda:eu-north-1:464622532012:layer:Datadog-Extension:38&quot;],    \n    environment: {\n        variables: {\n            DD_API_KEY:&quot;*****&quot;,\n            DD_CAPTURE_LAMBDA_PAYLOAD: &quot;false&quot;,\n            DD_LAMBDA_HANDLER: &quot;HelloWorldServerless.HelloWorld::handler&quot;,\n            DD_LOG_LEVEL: &quot;debug&quot;,\n            FUNCTION_NAME: &quot;hello-world&quot;,\n            DD_SERVICE: 'hello-world',\n            DD_SITE: &quot;datadoghq.eu&quot;,\n            DD_VERSION: &quot;0.1&quot;,\n            DD_LOGS_INJECTION: 'true',\n            DD_JMXFETCH_ENABLED: 'false',\n            DD_TRACE_ENABLED: 'true',\n            DD_ENV: 'dev',\n            DD_MERGE_XRAY_TRACES: &quot;false&quot;,\n            DD_FLUSH_TO_LOG: &quot;true&quot;\n        },\n    },\n},\n\n\n\n)\n</code></pre>\n<p>The lamda role looks like this:</p>\n<pre><code>import * as aws from &quot;@pulumi/aws&quot;;\nimport   {lamdaPolicy} from &quot;./Policy&quot;\nimport   {fileSystemPolicy} from &quot;./Policy&quot;\nimport   {vpcPolicy} from &quot;./Policy&quot;\n\n\nexport const lamdaExecutionRole = new aws.iam.Role(&quot;lamda-execution-role&quot;, {assumeRolePolicy: `{\n \n  &quot;Version&quot;: &quot;2012-10-17&quot;,\n  &quot;Statement&quot;: [\n    {\n      &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\n      &quot;Principal&quot;: {\n        &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\n      },\n      &quot;Effect&quot;: &quot;Allow&quot;\n    }\n  ]\n}`,\n name:'lamda-execution-role',\n managedPolicyArns: [ \n     lamdaPolicy.arn,\n     fileSystemPolicy.arn,\n     vpcPolicy.arn,\n     \n     \n ]\n}\n\n);\n</code></pre>\n<p>With following policis:</p>\n<pre><code>import * as pulumi from &quot;@pulumi/pulumi&quot;;\nimport * as aws from &quot;@pulumi/aws&quot;;\n\nexport const lamdaPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AWSLambdaBasicExecutionRole&quot;,\n}))\n\nexport const s3Policy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AmazonS3FullAccess&quot;,\n}))\n\nexport const fileSystemPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AmazonElasticFileSystemClientFullAccess&quot;,\n}))\n\nexport const vpcPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;AWSLambdaVPCAccessExecutionRole&quot;,\n}))\n\n\nexport const clodWatchPolicy = pulumi.output(aws.iam.getPolicy({\n    name: &quot;CloudWatchLogsFullAccess&quot;,\n}))\n</code></pre>\n<p>The Javacode for logging looks like this:</p>\n<pre><code>package HelloWorldServerless;\n\n\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyRequestEvent;\nimport com.amazonaws.services.lambda.runtime.events.APIGatewayV2ProxyResponseEvent;\nimport com.amazonaws.services.lambda.runtime.Context;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.json.JSONObject;\n\n\npublic class HelloWorld  {  \n    \n     private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);\n        \n    public APIGatewayV2ProxyResponseEvent handler(APIGatewayV2ProxyRequestEvent request, Context context)\n    {   \n        logger.info(&quot;Start handler&quot;);\n        String requestMessage = request.getBody();\n        JSONObject jsonMessage = new JSONObject(requestMessage);\n        String messageValue = jsonMessage.getString(&quot;message&quot;);\n        String responsMessageValue = messageValue.toUpperCase();\n        String responsMessageKey = &quot;{\\&quot;message\\&quot;:&quot;;\n        String responsMessage = responsMessageKey + &quot;\\&quot;&quot; + responsMessageValue.toUpperCase() + &quot;\\&quot;&quot; + &quot;}&quot;;\n        APIGatewayV2ProxyResponseEvent respons = new APIGatewayV2ProxyResponseEvent();\n        respons.setBody(responsMessage);\n        respons.setStatusCode(200);\n        logger.info(&quot;End handler&quot;);\n        return respons;\n        \n    }\n\n}\n</code></pre>\n<p>When I run the Java code on the ASW function I get following error messages</p>\n<p>23:33:47,950 |-INFO in ch.qos.logback.core.FileAppender[FILE] - File property is set to [tmp/logs/app.log]</p>\n<p>23:33:47,954 |-ERROR in ch.qos.logback.core.FileAppender[FILE] - Failed to create parent directories for [/var/task/tmp/logs/app.log]</p>\n<p>How do I manage to use the tmp directory to store the tmp/logs/app.log ?</p>\n"},{"tags":["java","android","react-native","android-pendingintent"],"owner":{"account_id":28063270,"reputation":1,"user_id":21437044,"display_name":"Penny Starling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679310703,"creation_date":1679303106,"question_id":75788295,"body_markdown":"I&#39;m new to this site and coding as well so my question might not contain all the necessary information so please let me know if I need to add anything else. I am currently trying to create an app with React Native that I want to be able to communicate with the serial port and am currently trying to use the `react-native-usb-serialport-for-android` library I found online:\r\n\r\nhttps://github.com/bastengao/react-native-usb-serialport-for-android\r\n\r\nWhen I try to use the tryRequestPermissionMethod from the library, I get the error,\r\n&gt; Targeting S+ (version 21 ad above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\n&gt; checkFlags     PendingIntent.java:382\r\n&gt; getBroadcastAsUser      PendingIntent.java:673\r\n&gt; getBroadcast     PendingIntent.java:660\r\n&gt; tryRequestPermission     UsbSerialportForAndroidModule.java:99\r\n\r\n\r\nThe JAVA file with the ReactMethod for tryRequestPermission looks like this: \r\n\r\n```\r\n    @ReactMethod\r\n    public void tryRequestPermission(int deviceId, Promise promise) {\r\n        UsbManager usbManager = (UsbManager) getCurrentActivity().getSystemService(Context.USB_SERVICE);\r\n        UsbDevice device = findDevice(deviceId);\r\n        if (device == null) {\r\n            promise.reject(CODE_DEVICE_NOT_FOND, &quot;device not found&quot;);\r\n            return;\r\n        }\r\n\r\n        if (usbManager.hasPermission(device)) {\r\n            promise.resolve(1);\r\n            return;\r\n        }\r\n\r\n        PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\r\n        usbManager.requestPermission(device, usbPermissionIntent);\r\n        promise.resolve(0);\r\n    }\r\n```\r\n\r\nand I&#39;m currently using it in my project like so: \r\n\r\n```\r\nasync function asyncCall() {\r\n\r\n    const devices = await UsbSerialManager.list();\r\n    console.log(devices)\r\n    \r\n    try {\r\n        await UsbSerialManager.tryRequestPermission(1002);\r\n        const usbSerialport = await UsbSerialManager.open(1002, { baudRate: 230400, parity: Parity.None, dataBits: 8, stopBits: 1 });\r\n\r\n      \r\n        const sub = usbSerialport.onReceived((event) =&gt; {\r\n          console.log(event.deviceId, event.data);\r\n        });\r\n\r\n      } catch(err) {\r\n        console.log(err);\r\n        if (err.code === Codes.DEVICE_NOT_FOND) {\r\n          // ...\r\n        }\r\n      }\r\n}\r\n```\r\nI&#39;ve tried attempting the solutions from other posts changing the `PendingIntent` line from\r\n \r\n```\r\nPendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\r\n``` \r\n\r\nto \r\n\r\n```\r\nPendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), PendingIntent.FLAG_IMMUTABLE);\r\n```\r\n\r\nas well as adding `implementation &#39;androidx.work:work-runtime:2.7.1&#39;` to the `app/build.gradle` file, however I still get the same error. Any help would be greatly appreciated!","title":"How to resolve Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE error","body":"<p>I'm new to this site and coding as well so my question might not contain all the necessary information so please let me know if I need to add anything else. I am currently trying to create an app with React Native that I want to be able to communicate with the serial port and am currently trying to use the <code>react-native-usb-serialport-for-android</code> library I found online:</p>\n<p><a href=\"https://github.com/bastengao/react-native-usb-serialport-for-android\" rel=\"nofollow noreferrer\">https://github.com/bastengao/react-native-usb-serialport-for-android</a></p>\n<p>When I try to use the tryRequestPermissionMethod from the library, I get the error,</p>\n<blockquote>\n<p>Targeting S+ (version 21 ad above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent. Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.</p>\n</blockquote>\n<blockquote>\n<p>checkFlags     PendingIntent.java:382\ngetBroadcastAsUser      PendingIntent.java:673\ngetBroadcast     PendingIntent.java:660\ntryRequestPermission     UsbSerialportForAndroidModule.java:99</p>\n</blockquote>\n<p>The JAVA file with the ReactMethod for tryRequestPermission looks like this:</p>\n<pre><code>    @ReactMethod\n    public void tryRequestPermission(int deviceId, Promise promise) {\n        UsbManager usbManager = (UsbManager) getCurrentActivity().getSystemService(Context.USB_SERVICE);\n        UsbDevice device = findDevice(deviceId);\n        if (device == null) {\n            promise.reject(CODE_DEVICE_NOT_FOND, &quot;device not found&quot;);\n            return;\n        }\n\n        if (usbManager.hasPermission(device)) {\n            promise.resolve(1);\n            return;\n        }\n\n        PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\n        usbManager.requestPermission(device, usbPermissionIntent);\n        promise.resolve(0);\n    }\n</code></pre>\n<p>and I'm currently using it in my project like so:</p>\n<pre><code>async function asyncCall() {\n\n    const devices = await UsbSerialManager.list();\n    console.log(devices)\n    \n    try {\n        await UsbSerialManager.tryRequestPermission(1002);\n        const usbSerialport = await UsbSerialManager.open(1002, { baudRate: 230400, parity: Parity.None, dataBits: 8, stopBits: 1 });\n\n      \n        const sub = usbSerialport.onReceived((event) =&gt; {\n          console.log(event.deviceId, event.data);\n        });\n\n      } catch(err) {\n        console.log(err);\n        if (err.code === Codes.DEVICE_NOT_FOND) {\n          // ...\n        }\n      }\n}\n</code></pre>\n<p>I've tried attempting the solutions from other posts changing the <code>PendingIntent</code> line from</p>\n<pre><code>PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), 0);\n</code></pre>\n<p>to</p>\n<pre><code>PendingIntent usbPermissionIntent = PendingIntent.getBroadcast(getCurrentActivity(), 0, new Intent(INTENT_ACTION_GRANT_USB), PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>as well as adding <code>implementation 'androidx.work:work-runtime:2.7.1'</code> to the <code>app/build.gradle</code> file, however I still get the same error. Any help would be greatly appreciated!</p>\n"},{"tags":["java","soap","serversocket"],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679310320,"creation_date":1679310320,"question_id":75789509,"body_markdown":"I am working on a legacy SOAP API client application.\r\nIn the unit test cases, it&#39;s implemented to start a mock server using ServerSocket class and return a SOAP string response.\r\nInitially, that response string starts like below.\r\n\r\n     &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot; +\r\n            &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n            &quot;&lt;soapenv:Body&gt;&quot; +\r\n\r\nBut the test case was failing with a generic reason \r\n\r\n&gt; &quot;COULDN&#39;T SEND MESSAGE&quot;\r\n\r\nI debugged more and found the reason for the above error is a \r\n\r\n&gt; &quot;CONNECTION RESET&quot;\r\n\r\nSince there are several reasons for the above errors I couldn&#39;t find the specific reason for the considering scenario.\r\n\r\nBut after checking the revisions of the code, I found that in the initial commits, the response SOAP string was starting as below.\r\n\r\n    &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n            &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\r\n            &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n\r\nSo, the only difference is below generic lines.\r\n\r\n                &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n            &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\r\n            &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n            &quot;\\r\\n&quot; +\r\n\r\nSo, I added the above lines again and tried. It worked !!!. The mock server could successfully return the expected SOAP response.\r\n\r\nWhat I need to understand is the reason for the above behavior.","title":"Couldn&#39;t send message error from the Java ServerSocket","body":"<p>I am working on a legacy SOAP API client application.\nIn the unit test cases, it's implemented to start a mock server using ServerSocket class and return a SOAP string response.\nInitially, that response string starts like below.</p>\n<pre><code> &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot; +\n        &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n        &quot;&lt;soapenv:Body&gt;&quot; +\n</code></pre>\n<p>But the test case was failing with a generic reason</p>\n<blockquote>\n<p>&quot;COULDN'T SEND MESSAGE&quot;</p>\n</blockquote>\n<p>I debugged more and found the reason for the above error is a</p>\n<blockquote>\n<p>&quot;CONNECTION RESET&quot;</p>\n</blockquote>\n<p>Since there are several reasons for the above errors I couldn't find the specific reason for the considering scenario.</p>\n<p>But after checking the revisions of the code, I found that in the initial commits, the response SOAP string was starting as below.</p>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n&quot; +\n        &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\n        &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n</code></pre>\n<p>So, the only difference is below generic lines.</p>\n<pre><code>            &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n        &quot;Content-Type: text/xml;charset=utf-8\\r\\n&quot; +\n        &quot;Server: Apache-Coyote/1.1\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n        &quot;\\r\\n&quot; +\n</code></pre>\n<p>So, I added the above lines again and tried. It worked !!!. The mock server could successfully return the expected SOAP response.</p>\n<p>What I need to understand is the reason for the above behavior.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13357055,"reputation":702,"user_id":9640261,"display_name":"NayoR"},"score":0,"creation_date":1524508034,"post_id":49987445,"comment_id":86991571,"body_markdown":"Just in case you did not already check ; Do you use static method ? Do you instanciate it somewhere with a `new sqsClient() ` ?\nWhere do you log sqsClient ?","body":"Just in case you did not already check ; Do you use static method ? Do you instanciate it somewhere with a <code>new sqsClient() </code> ? Where do you log sqsClient ?"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1524508110,"post_id":49987445,"comment_id":86991612,"body_markdown":"Thank @NayoR. No , I am not instantiating it with new sqsClient().","body":"Thank @NayoR. No , I am not instantiating it with new sqsClient()."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524508628,"creation_date":1524507939,"answer_id":49987654,"question_id":49987445,"body_markdown":"Log4j2 will create an appender by calling ` @PluginFactory` annotated method (as per [this answer][1]). Your appender is probably not created as a Spring bean there, most likely `new SQSAppender(...)` is called, and `@Autowired` is not processed. \r\n\r\nAn example of how to implement a Spring-managed Log4j2 appender can be found in [org.springframework.amqp.rabbit.log4j2.AmqpAppender][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2\r\n  [2]: https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/log4j2/AmqpAppender.html","title":"Unable to autowire spring bean in log appender","body":"<p>Log4j2 will create an appender by calling <code>@PluginFactory</code> annotated method (as per <a href=\"https://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2\">this answer</a>). Your appender is probably not created as a Spring bean there, most likely <code>new SQSAppender(...)</code> is called, and <code>@Autowired</code> is not processed. </p>\n\n<p>An example of how to implement a Spring-managed Log4j2 appender can be found in <a href=\"https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/log4j2/AmqpAppender.html\" rel=\"nofollow noreferrer\">org.springframework.amqp.rabbit.log4j2.AmqpAppender</a>.</p>\n"},{"tags":[],"owner":{"account_id":21712299,"reputation":1,"user_id":16023773,"display_name":"Tzofiya Tzadok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241443,"creation_date":1679241443,"answer_id":75783231,"question_id":49987445,"body_markdown":"The appender is created before spring initialization.\r\nThis is the solution I found:\r\n\r\n**MyCustomAppender.java:**\r\n\r\n    @Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\r\n    public class MyCustomAppender extends AbstractAppender {\r\n      ...\r\n      private static MyBean myBean;\r\n\r\n      public static void setMyBean(MyBean myBean) {\r\n          MyCustomAppender.MyBean = myBean;\r\n      }\r\n    \r\n      @PluginFactory\r\n      public static MyCustomAppender createAppender(\r\n            @PluginAttribute(&quot;name&quot;) String name,\r\n            @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\r\n            @PluginElement(&quot;Layout&quot;) Layout layout,\r\n            @PluginElement(&quot;Filters&quot;) Filter filter,\r\n            @PluginElement(&quot;Properties&quot;) Property[] properties) {\r\n          return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\r\n      }\r\n    \r\n      @Override\r\n      public void append(LogEvent event) {\r\n          if (myBean != null) {\r\n              myBean.doSomething();\r\n          }\r\n      }\r\n\r\n**MyBean.java:**\r\n\r\n    @Component\r\n    public class MyBean {\r\n      ...\r\n      @PostConstruct\r\n      public void init() {\r\n          MyCustomAppender.setMyBean(this);\r\n      }\r\n      ...\r\n    }","title":"Unable to autowire spring bean in log appender","body":"<p>The appender is created before spring initialization.\nThis is the solution I found:</p>\n<p><strong>MyCustomAppender.java:</strong></p>\n<pre><code>@Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\npublic class MyCustomAppender extends AbstractAppender {\n  ...\n  private static MyBean myBean;\n\n  public static void setMyBean(MyBean myBean) {\n      MyCustomAppender.MyBean = myBean;\n  }\n\n  @PluginFactory\n  public static MyCustomAppender createAppender(\n        @PluginAttribute(&quot;name&quot;) String name,\n        @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\n        @PluginElement(&quot;Layout&quot;) Layout layout,\n        @PluginElement(&quot;Filters&quot;) Filter filter,\n        @PluginElement(&quot;Properties&quot;) Property[] properties) {\n      return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\n  }\n\n  @Override\n  public void append(LogEvent event) {\n      if (myBean != null) {\n          myBean.doSomething();\n      }\n  }\n</code></pre>\n<p><strong>MyBean.java:</strong></p>\n<pre><code>@Component\npublic class MyBean {\n  ...\n  @PostConstruct\n  public void init() {\n      MyCustomAppender.setMyBean(this);\n  }\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21712299,"reputation":1,"user_id":16023773,"display_name":"Tzofiya Tzadok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679309913,"creation_date":1679309913,"answer_id":75789449,"question_id":49987445,"body_markdown":"Additional solution:\r\n\r\n**MyServiceApplicationContext.java:**\r\n\r\n    @Service\r\n    public class MyServiceApplicationContext implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return context;\r\n        }\r\n    }\r\n\r\n**MyCustomAppender.java:**\r\n\r\n    @Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\r\n    public class MyCustomAppender extends AbstractAppender {\r\n      \r\n      private MyBean myBean;\r\n\r\n      protected MyCustomAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, boolean ignoreExceptions, Property[] properties) {\r\n        super(name, filter, layout, ignoreExceptions, properties);\r\n    }\r\n    \r\n      @PluginFactory\r\n      public static MyCustomAppender createAppender(\r\n            @PluginAttribute(&quot;name&quot;) String name,\r\n            @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\r\n            @PluginElement(&quot;Layout&quot;) Layout layout,\r\n            @PluginElement(&quot;Filters&quot;) Filter filter,\r\n            @PluginElement(&quot;Properties&quot;) Property[] properties) {\r\n          return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\r\n      }\r\n    \r\n      @Override\r\n      public void append(LogEvent event) {\r\n          if (myBean == null) {\r\n            // the appender is called before spring initialization\r\n            ApplicationContext context = MyServiceApplicationContext.getApplicationContext();\r\n            if (context != null) {\r\n                myBean = context.getBean(MyBean.class);\r\n            }\r\n        \r\n        }\r\n          if (myBean != null) {\r\n              myBean.doSomething();\r\n          }\r\n      }\r\n\r\n","title":"Unable to autowire spring bean in log appender","body":"<p>Additional solution:</p>\n<p><strong>MyServiceApplicationContext.java:</strong></p>\n<pre><code>@Service\npublic class MyServiceApplicationContext implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        return context;\n    }\n}\n</code></pre>\n<p><strong>MyCustomAppender.java:</strong></p>\n<pre><code>@Plugin(name = &quot;MyCustomAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\npublic class MyCustomAppender extends AbstractAppender {\n  \n  private MyBean myBean;\n\n  protected MyCustomAppender(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout, boolean ignoreExceptions, Property[] properties) {\n    super(name, filter, layout, ignoreExceptions, properties);\n}\n\n  @PluginFactory\n  public static MyCustomAppender createAppender(\n        @PluginAttribute(&quot;name&quot;) String name,\n        @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\n        @PluginElement(&quot;Layout&quot;) Layout layout,\n        @PluginElement(&quot;Filters&quot;) Filter filter,\n        @PluginElement(&quot;Properties&quot;) Property[] properties) {\n      return new MyCustomAppender(name, filter, layout, ignoreExceptions, properties);\n  }\n\n  @Override\n  public void append(LogEvent event) {\n      if (myBean == null) {\n        // the appender is called before spring initialization\n        ApplicationContext context = MyServiceApplicationContext.getApplicationContext();\n        if (context != null) {\n            myBean = context.getBean(MyBean.class);\n        }\n    \n    }\n      if (myBean != null) {\n          myBean.doSomething();\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49987654,"answer_count":3,"score":2,"last_activity_date":1679309913,"creation_date":1524507063,"question_id":49987445,"body_markdown":"I am trying to autowire SQSFIFOJavaClient under the appender that I have created. I printed out the bean names that are defined in Spring Boot main class and I am able to see SQSFIFOJavaClient bean defined. However the bean is not being autowired in the below listed class. Both SQSAppender and SQSFIFOJavaClient are in different packages but are under the same base package which is added to component-scan. Can you please tell me what I am missing here?\r\n\r\n    @Component\r\n    @DependsOn(&quot;SQSFIFOJavaClient&quot;)\r\n    public class SQSAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    \r\n        @Autowired\r\n        private SQSFIFOJavaClient sqsClient;\r\n\r\n\r\nI tried adding DependsOn annotation as well , but still sqsClient is displayed as null.","title":"Unable to autowire spring bean in log appender","body":"<p>I am trying to autowire SQSFIFOJavaClient under the appender that I have created. I printed out the bean names that are defined in Spring Boot main class and I am able to see SQSFIFOJavaClient bean defined. However the bean is not being autowired in the below listed class. Both SQSAppender and SQSFIFOJavaClient are in different packages but are under the same base package which is added to component-scan. Can you please tell me what I am missing here?</p>\n\n<pre><code>@Component\n@DependsOn(\"SQSFIFOJavaClient\")\npublic class SQSAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n\n    @Autowired\n    private SQSFIFOJavaClient sqsClient;\n</code></pre>\n\n<p>I tried adding DependsOn annotation as well , but still sqsClient is displayed as null.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674677953,"post_id":75239358,"comment_id":132768340,"body_markdown":"&quot;*Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?*&quot; - Just open two terminals. In one, run `mvn -pl quarkus-module1 quarkus:dev`, in the other run `mvn -pl quarkus-module2 quarkus:dev`.","body":"&quot;<i>Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?</i>&quot; - Just open two terminals. In one, run <code>mvn -pl quarkus-module1 quarkus:dev</code>, in the other run <code>mvn -pl quarkus-module2 quarkus:dev</code>."},{"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"score":0,"creation_date":1674678572,"post_id":75239358,"comment_id":132768494,"body_markdown":"Ok I will try this tomorrow. Do I need an additional plugin/dependency for the argument -pl ?\nHowever in my real case I have in fact 8 quarkus-module. Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?","body":"Ok I will try this tomorrow. Do I need an additional plugin/dependency for the argument -pl ? However in my real case I have in fact 8 quarkus-module. Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674678799,"post_id":75239358,"comment_id":132768549,"body_markdown":"`pl` is a standard argument of `mvn`. It stands for &quot;projects&quot; and is basically the same as `cd`ing into the submodule-directory and running `mvn` there.  --- &quot;*Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?*&quot; - Not that I know of. I recommend using an IDE with quarkus support (e.g. IntelliJ). Another way would be to containerize the application with remote-dev enabled. But this would require to start 8 remote-dev connections (i.e. eight commands), so nothing won here.","body":"<code>pl</code> is a standard argument of <code>mvn</code>. It stands for &quot;projects&quot; and is basically the same as <code>cd</code>ing into the submodule-directory and running <code>mvn</code> there.  --- &quot;<i>Is there another way to run the 8 modules at the same time in dev mode without executing 8 commands ?</i>&quot; - Not that I know of. I recommend using an IDE with quarkus support (e.g. IntelliJ). Another way would be to containerize the application with remote-dev enabled. But this would require to start 8 remote-dev connections (i.e. eight commands), so nothing won here."},{"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"score":0,"creation_date":1674679380,"post_id":75239358,"comment_id":132768701,"body_markdown":"6 years of using maven and I haven&#39;t heard for this argument of mvn &#128517;. Ok it would be a nice improvement as I was able to do it with wildly and eclipse (using server view and adding my 8 modules)","body":"6 years of using maven and I haven&#39;t heard for this argument of mvn 😅. Ok it would be a nice improvement as I was able to do it with wildly and eclipse (using server view and adding my 8 modules)"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1674739894,"post_id":75239358,"comment_id":132780833,"body_markdown":"It is a bit inconvenient but, to defend the Quarkus case, remember that with WildFly you have a single process, the application server, and 8 deployments. With Quarkus you have 8 distinct processes. Don&#39;t forget to change the web server port for each module too - otherwise there will be a port conflict! Good luck!","body":"It is a bit inconvenient but, to defend the Quarkus case, remember that with WildFly you have a single process, the application server, and 8 deployments. With Quarkus you have 8 distinct processes. Don&#39;t forget to change the web server port for each module too - otherwise there will be a port conflict! Good luck!"}],"owner":{"account_id":27621722,"reputation":11,"user_id":21082612,"display_name":"okyn29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679309433,"creation_date":1674677617,"question_id":75239358,"body_markdown":"I am not able to run my multi module project with quarkus in dev mode.\r\n\r\nHere is my problem. We are currently switching from wildfly to quarkus on a multi module maven project. I am able to run quarkus in dev mode (with quarkus:dev) if I have only one quarkus module. But as soon as I have 2 modules the dev mode is not working.\r\n\r\nHere is my root pom:\r\n\r\n```\r\n  &lt;modules&gt;\r\n    &lt;module&gt;lib1&lt;/module&gt;\r\n    &lt;module&gt;quarkus-module1&lt;/module&gt;\r\n    &lt;module&gt;quarkus-module2&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.5&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;make-index&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jandex&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;build&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt; \r\n\r\n  ...\r\n\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nThe pom.xml of the module lib1 (pure java project)\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThe pom of quarkus-module1\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThe pom of quarkus-module2\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nWhen I run the following command on the root pom\r\n\r\n```\r\nmvn clean package quarkus:dev\r\n```\r\nMaven build lib1, quarkus-module1 and run quarkus-module1 in dev mode but it seems that querkus-module2 (build and dev mode) is blocked until dev mode of quarkus-module1 is stopped (with ctrl C).\r\n\r\n**Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?**\r\n\r\n\r\nI am using quarkus 2.15.3.Final with a JDK 11 (mandrel).\r\nFor information the two modules needs quarkus because in prod they are deployed in two distinct docker images and communicates using REST API.\r\n\r\n\r\nAs I said, I am able to run in dev mode with only lib1 and quarkus-module1 but as soon as I add quarkus-module2 I am not able to have simultaneously quarkus-module1 and quarkus-module2 in dev mode","title":"Multi module maven project with Quarkus in dev mode","body":"<p>I am not able to run my multi module project with quarkus in dev mode.</p>\n<p>Here is my problem. We are currently switching from wildfly to quarkus on a multi module maven project. I am able to run quarkus in dev mode (with quarkus:dev) if I have only one quarkus module. But as soon as I have 2 modules the dev mode is not working.</p>\n<p>Here is my root pom:</p>\n<pre><code>  &lt;modules&gt;\n    &lt;module&gt;lib1&lt;/module&gt;\n    &lt;module&gt;quarkus-module1&lt;/module&gt;\n    &lt;module&gt;quarkus-module2&lt;/module&gt;\n  &lt;/modules&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n      &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.5&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;make-index&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;jandex&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;build&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt; \n\n  ...\n\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>The pom.xml of the module lib1 (pure java project)</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>The pom of quarkus-module1</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The pom of quarkus-module2</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>When I run the following command on the root pom</p>\n<pre><code>mvn clean package quarkus:dev\n</code></pre>\n<p>Maven build lib1, quarkus-module1 and run quarkus-module1 in dev mode but it seems that querkus-module2 (build and dev mode) is blocked until dev mode of quarkus-module1 is stopped (with ctrl C).</p>\n<p><strong>Is there a way to run quarkus-module1 and quarkus-module2 in dev mode at the same time ?</strong></p>\n<p>I am using quarkus 2.15.3.Final with a JDK 11 (mandrel).\nFor information the two modules needs quarkus because in prod they are deployed in two distinct docker images and communicates using REST API.</p>\n<p>As I said, I am able to run in dev mode with only lib1 and quarkus-module1 but as soon as I add quarkus-module2 I am not able to have simultaneously quarkus-module1 and quarkus-module2 in dev mode</p>\n"},{"tags":["java","spring-boot","jira","jira-plugin","atlassian-plugin-sdk"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679309345,"creation_date":1679309345,"question_id":75789351,"body_markdown":"I have created one Jira Plugin using spring boot and angular in front-end. when I uploading app to Jira Software it is getting upload and also user is getting authenticated but as I am using angular I have to forward it’s page to index.html which I do as follow:\r\n\r\n    @Controller\r\n    public class Html5PathsController {\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\r\n        public String forward() {\r\n            return &quot;forward:/index.html&quot;;\r\n        }\r\n    }\r\n\r\nThis is working and my login page gets displayed but when I am trying to make any rest request from my application for e.g **“/app/getuserlocation” it is giving me 401 error not** sure I anyone can help will be really great.\r\n\r\n   \r\n    @WebFilter(&quot;/*&quot;)\r\n    public class AuthFilter implements Filter {\r\n    \r\n        Properties p = null;\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            try {\r\n                p = PropertiesLoaderUtils.loadProperties(new ClassPathResource(&quot;filters.properties&quot;));\r\n                AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.DEBUG, this, &quot;AuthFilter init&quot;, null);\r\n            } catch (Exception e) {\r\n                AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.ERROR,\r\n                        AuthFilter.class, &quot;Error while reading Cross origin&quot;, e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            try {\r\n                HttpServletRequest req = (HttpServletRequest) request;\r\n                HttpServletResponse res = (HttpServletResponse) response;\r\n    \r\n    \r\n                    if (isAUth(req,res)) {\r\n    \t\t\t\tres.sendRedirect(  &quot;https://&quot; + req.getServerName()\r\n                                 + &quot;/app/sso_login?e=&quot; + CommonUtils.toHexString(ja1.toString().getBytes(StandardCharsets.UTF_8)));\r\n                        chain.doFilter(request, response);\r\n                    } else {\r\n                        return;\r\n                    }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                \r\n            }\r\n        }\r\n    \r\n        public boolean isAUth(HttpServletRequest req, HttpServletResponse res) {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n           /* Optional&lt;AtlassianHostUser&gt; optionalHostUser = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n                    .map(Authentication::getPrincipal)\r\n                    .filter(AtlassianHostUser.class::isInstance)\r\n                    .map(AtlassianHostUser.class::cast);\r\n            System.out.println(optionalHostUser.get());*/\r\n            return auth.isAuthenticated();\r\n        }\r\n    \r\n       \r\n    \r\n    \r\n        @Override\r\n        public void destroy() {\r\n            Filter.super.destroy();\r\n        }\r\n    }\r\n\r\nAlso while redirecting using sendRedirect method working but after that rest request are not working as AtlassianHostUser becomes AnonymousHostUser, not sure why please help.\r\n","title":"Atlassian Spring boot Jira Plugin gives 401 for internal rest request","body":"<p>I have created one Jira Plugin using spring boot and angular in front-end. when I uploading app to Jira Software it is getting upload and also user is getting authenticated but as I am using angular I have to forward it’s page to index.html which I do as follow:</p>\n<pre><code>@Controller\npublic class Html5PathsController {\n\n\n    @RequestMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\n    public String forward() {\n        return &quot;forward:/index.html&quot;;\n    }\n}\n</code></pre>\n<p>This is working and my login page gets displayed but when I am trying to make any rest request from my application for e.g <strong>“/app/getuserlocation” it is giving me 401 error not</strong> sure I anyone can help will be really great.</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\npublic class AuthFilter implements Filter {\n\n    Properties p = null;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        try {\n            p = PropertiesLoaderUtils.loadProperties(new ClassPathResource(&quot;filters.properties&quot;));\n            AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.DEBUG, this, &quot;AuthFilter init&quot;, null);\n        } catch (Exception e) {\n            AuditLoggerUtil.log(AuditLoggerUtil.CORELOGGER, AuditLoggerUtil.ERROR,\n                    AuthFilter.class, &quot;Error while reading Cross origin&quot;, e);\n        }\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        try {\n            HttpServletRequest req = (HttpServletRequest) request;\n            HttpServletResponse res = (HttpServletResponse) response;\n\n\n                if (isAUth(req,res)) {\n                res.sendRedirect(  &quot;https://&quot; + req.getServerName()\n                             + &quot;/app/sso_login?e=&quot; + CommonUtils.toHexString(ja1.toString().getBytes(StandardCharsets.UTF_8)));\n                    chain.doFilter(request, response);\n                } else {\n                    return;\n                }\n\n\n        } catch (Exception e) {\n            \n        }\n    }\n\n    public boolean isAUth(HttpServletRequest req, HttpServletResponse res) {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n       /* Optional&lt;AtlassianHostUser&gt; optionalHostUser = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                .map(Authentication::getPrincipal)\n                .filter(AtlassianHostUser.class::isInstance)\n                .map(AtlassianHostUser.class::cast);\n        System.out.println(optionalHostUser.get());*/\n        return auth.isAuthenticated();\n    }\n\n   \n\n\n    @Override\n    public void destroy() {\n        Filter.super.destroy();\n    }\n}\n</code></pre>\n<p>Also while redirecting using sendRedirect method working but after that rest request are not working as AtlassianHostUser becomes AnonymousHostUser, not sure why please help.</p>\n"},{"tags":["java","spring","logging","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047048,"post_id":75765589,"comment_id":133654504,"body_markdown":"This logs is from s-c-function. What version do you use?","body":"This logs is from s-c-function. What version do you use?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047137,"post_id":75765589,"comment_id":133654537,"body_markdown":"it has recently been addressed and is now a DEBUG level log `logger.debug(&quot;Invoking function: &quot;...`","body":"it has recently been addressed and is now a DEBUG level log <code>logger.debug(&quot;Invoking function: &quot;...</code>"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679047520,"post_id":75765589,"comment_id":133654643,"body_markdown":"but it seems I cant even turn it off with logging.level.org.springframework.cloud=ERROR","body":"but it seems I cant even turn it off with logging.level.org.springframework.cloud=ERROR"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679047579,"post_id":75765589,"comment_id":133654666,"body_markdown":"spring-cloud-function-core 3.2.9","body":"spring-cloud-function-core 3.2.9"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679047682,"post_id":75765589,"comment_id":133654697,"body_markdown":"Something else must be enabling DEBUG level logging. .  outside of Spring, some competing configuration.","body":"Something else must be enabling DEBUG level logging. .  outside of Spring, some competing configuration."},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679308899,"post_id":75765589,"comment_id":133692284,"body_markdown":"ah so it seems here the system.out.println is it https://github.com/spring-cloud/spring-cloud-function/commit/438b8d2e237564ab3206358129ebecae2ea39cef","body":"ah so it seems here the system.out.println is it <a href=\"https://github.com/spring-cloud/spring-cloud-function/commit/438b8d2e237564ab3206358129ebecae2ea39cef\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-function/commit/&hellip;</a>"},{"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"score":0,"creation_date":1679309311,"post_id":75765589,"comment_id":133692409,"body_markdown":"so i bumped spring-cloud-function-context version down to 3.2.7, now this logging is not there anymore","body":"so i bumped spring-cloud-function-context version down to 3.2.7, now this logging is not there anymore"}],"answers":[{"tags":[],"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679309345,"creation_date":1679309345,"answer_id":75789352,"question_id":75765589,"body_markdown":"Has been an issue with spring-cloud-function-context 3.2.9, I went back to spring-cloud-function-context 3.2.7 for now","title":"Massive logging on spring cloud stream","body":"<p>Has been an issue with spring-cloud-function-context 3.2.9, I went back to spring-cloud-function-context 3.2.7 for now</p>\n"}],"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75789352,"answer_count":1,"score":3,"last_activity_date":1679309345,"creation_date":1679043817,"question_id":75765589,"body_markdown":"in my logs there shows up a message like this every time I push something into the streamBridge to kafka\r\n\r\n```Invoking function: streamBridge&lt;org.springframework.messaging.Message&lt;java.lang.Object&gt;, org.springframework.messaging.Message&lt;java.lang.Object&gt;&gt;with input type: org.springframework.messaging.Message&lt;java.lang.Object&gt;```\r\n\r\nI&#39;m using Spring-Boot 2.7.5, and spring-cloud-stream 3.2.7 including the kafka bindings in the same version. I cant find where to turn this of, doesnt seem to be able to control this with logback, as its only printed to the console and not to our logstash as every other message...\r\n\r\nThanks in advance...\r\n","title":"Massive logging on spring cloud stream","body":"<p>in my logs there shows up a message like this every time I push something into the streamBridge to kafka</p>\n<p><code>Invoking function: streamBridge&lt;org.springframework.messaging.Message&lt;java.lang.Object&gt;, org.springframework.messaging.Message&lt;java.lang.Object&gt;&gt;with input type: org.springframework.messaging.Message&lt;java.lang.Object&gt;</code></p>\n<p>I'm using Spring-Boot 2.7.5, and spring-cloud-stream 3.2.7 including the kafka bindings in the same version. I cant find where to turn this of, doesnt seem to be able to control this with logback, as its only printed to the console and not to our logstash as every other message...</p>\n<p>Thanks in advance...</p>\n"},{"tags":["java","algorithm","divide-and-conquer"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1679309395,"post_id":75789328,"comment_id":133692433,"body_markdown":"&#161;Hola! Las preguntas y respuestas aqu&#237; deben estar escritas en ingl&#233;s. Por favor utiliza [es.so]. (Hello! Questions and answers here must be written in English. Please use [Stack Overflow in Spanish](https://es.stackoverflow.com/).)","body":"&#161;Hola! Las preguntas y respuestas aqu&#237; deben estar escritas en ingl&#233;s. Por favor utiliza <a href=\"https://es.stackoverflow.com\">Stack Overflow en español</a>. (Hello! Questions and answers here must be written in English. Please use <a href=\"https://es.stackoverflow.com/\">Stack Overflow in Spanish</a>.)"}],"owner":{"account_id":26430425,"reputation":11,"user_id":20076687,"display_name":"Sofia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679309282,"answer_count":0,"score":1,"last_activity_date":1679309191,"creation_date":1679309191,"question_id":75789328,"body_markdown":"Lo que quiero es mejorar el siguiente algoritmo para que sea de orden O(n) utilizando divide y venceras, lo que hace el algoritmo es calcular la suma de cada subvector obteniendo el maximo. Algunos ejemplos son:\r\n\r\nY este es el algoritmo en cuesti&#243;n a mejorar.\r\n\r\n       public static int sumaMaxDyV(int a\\[\\], int izq, int der) {\r\n    \r\n        if (der == izq) {\r\n            return a[izq];\r\n        }\r\n    \r\n        \r\n        int cen = (izq + der) / 2;\r\n    \r\n       \r\n        int izqMax = Integer.MIN_VALUE;\r\n        int suma = 0;\r\n        for (int i = cen; i &gt;= izq; i--)\r\n        {\r\n            suma += a[i];\r\n            if (suma &gt; izqMax) {\r\n                izqMax = suma;\r\n            }\r\n        }\r\n    \r\n     \r\n        int derMax = Integer.MIN_VALUE;\r\n        suma = 0;    // restablece la suma a 0\r\n        for (int i = cen + 1; i &lt;= der; i++)\r\n        {\r\n            suma += a[i];\r\n            if (suma &gt; derMax) {\r\n                derMax = suma;\r\n            }\r\n        }\r\n    \r\n       \r\n        int maxIzqDer = Integer.max(sumaMaxDyV(a, izq, cen),\r\n                                    sumaMaxDyV(a, cen + 1, der));\r\n    \r\n        \r\n        return Integer.max(maxIzqDer, izqMax + derMax);\r\n    }\r\n    \r\n    \r\n    public static int sumaMaxDyV2(int a[]) {\r\n        \r\n        if (a == null || a.length == 0) {\r\n            return 0;\r\n        }\r\n    \r\n        return sumaMaxDyV(a, 0, a.length - 1);\r\n    }`\r\n\r\n`@Test`\r\n\r\n      public void sumaMaxDyV2() {\r\n        int\\[\\] arr1 = {-2, 11, -4, 13, -5, 2};\r\n        int\\[\\] arr2 = {1, -3, 4, -2, -1, 6};\r\n        int\\[\\] arr3 = {4, -3, 5, -2, -1, 2, 6, -2};\r\n    \r\n        int expected1 = 20;\r\n        int expected2 = 7;\r\n        int expected3 = 11;\r\n    \r\n        assertEquals(expected1, DivideYVenceras.sumaMaxDyV2(arr1));\r\n        assertEquals(expected2, DivideYVenceras.sumaMaxDyV2(arr2));\r\n        assertEquals(expected3, DivideYVenceras.sumaMaxDyV2(arr3));\r\n    }`\r\n\r\nEl problema de este algoritmo es que para calcular el subvector &#243;ptimo central tiene que volver a sumar los elementos de las partes izquierda y derecha correspondientes, lo que supone un gasto lineal adicional en cada llamada recursiva. Esto se puede evitar esto, si la llamada con el subvector izquierdo nos devuelve adem&#225;s el subvector &#243;ptimo que alcance su extremo derecho, y an&#225;logamente, la llamada con el subvector derecho nos devuelve tambi&#233;n el subvector que comience justo en su extremo izquierdo. De esta forma, el subvector central &#243;ptimo corresponder&#237;a a la concatenaci&#243;n de estos dos nuevos subvectores. Adem&#225;s, en el caso izquierdo (an&#225;logamente para el derecho), el resultado ser&#237;a la concatenaci&#243;n de toda la parte izquierda, con el subvector &#243;ptimo izquierdo obtenido para la parte derecha. Finalmente, destacar que es necesario conocer tambi&#233;n la suma total de los elementos de cada parte del vector.","title":"Algoritmo en java de tipo divide y venceras orden O(n)","body":"<p>Lo que quiero es mejorar el siguiente algoritmo para que sea de orden O(n) utilizando divide y venceras, lo que hace el algoritmo es calcular la suma de cada subvector obteniendo el maximo. Algunos ejemplos son:</p>\n<p>Y este es el algoritmo en cuestión a mejorar.</p>\n<pre><code>   public static int sumaMaxDyV(int a\\[\\], int izq, int der) {\n\n    if (der == izq) {\n        return a[izq];\n    }\n\n    \n    int cen = (izq + der) / 2;\n\n   \n    int izqMax = Integer.MIN_VALUE;\n    int suma = 0;\n    for (int i = cen; i &gt;= izq; i--)\n    {\n        suma += a[i];\n        if (suma &gt; izqMax) {\n            izqMax = suma;\n        }\n    }\n\n \n    int derMax = Integer.MIN_VALUE;\n    suma = 0;    // restablece la suma a 0\n    for (int i = cen + 1; i &lt;= der; i++)\n    {\n        suma += a[i];\n        if (suma &gt; derMax) {\n            derMax = suma;\n        }\n    }\n\n   \n    int maxIzqDer = Integer.max(sumaMaxDyV(a, izq, cen),\n                                sumaMaxDyV(a, cen + 1, der));\n\n    \n    return Integer.max(maxIzqDer, izqMax + derMax);\n}\n\n\npublic static int sumaMaxDyV2(int a[]) {\n    \n    if (a == null || a.length == 0) {\n        return 0;\n    }\n\n    return sumaMaxDyV(a, 0, a.length - 1);\n}`\n</code></pre>\n<p><code>@Test</code></p>\n<pre><code>  public void sumaMaxDyV2() {\n    int\\[\\] arr1 = {-2, 11, -4, 13, -5, 2};\n    int\\[\\] arr2 = {1, -3, 4, -2, -1, 6};\n    int\\[\\] arr3 = {4, -3, 5, -2, -1, 2, 6, -2};\n\n    int expected1 = 20;\n    int expected2 = 7;\n    int expected3 = 11;\n\n    assertEquals(expected1, DivideYVenceras.sumaMaxDyV2(arr1));\n    assertEquals(expected2, DivideYVenceras.sumaMaxDyV2(arr2));\n    assertEquals(expected3, DivideYVenceras.sumaMaxDyV2(arr3));\n}`\n</code></pre>\n<p>El problema de este algoritmo es que para calcular el subvector óptimo central tiene que volver a sumar los elementos de las partes izquierda y derecha correspondientes, lo que supone un gasto lineal adicional en cada llamada recursiva. Esto se puede evitar esto, si la llamada con el subvector izquierdo nos devuelve además el subvector óptimo que alcance su extremo derecho, y análogamente, la llamada con el subvector derecho nos devuelve también el subvector que comience justo en su extremo izquierdo. De esta forma, el subvector central óptimo correspondería a la concatenación de estos dos nuevos subvectores. Además, en el caso izquierdo (análogamente para el derecho), el resultado sería la concatenación de toda la parte izquierda, con el subvector óptimo izquierdo obtenido para la parte derecha. Finalmente, destacar que es necesario conocer también la suma total de los elementos de cada parte del vector.</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","jodatime"],"answers":[{"tags":[],"owner":{"account_id":26073980,"reputation":1,"user_id":19773160,"display_name":"Simone Norcini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679309086,"creation_date":1678813343,"answer_id":75736238,"question_id":75336034,"body_markdown":"You should create an `EntityListener` and annotate the `FooHistory` with `@EntityListeners`. The `EntityListener` should implement the logic to retrieve all `FooHistory` documents and update `foo.CreatedOn` recursively. The real feasibility depends on the `FooHistory` collection size.","title":"How to override @CreatedDate in Spring data JPA","body":"<p>You should create an <code>EntityListener</code> and annotate the <code>FooHistory</code> with <code>@EntityListeners</code>. The <code>EntityListener</code> should implement the logic to retrieve all <code>FooHistory</code> documents and update <code>foo.CreatedOn</code> recursively. The real feasibility depends on the <code>FooHistory</code> collection size.</p>\n"}],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679309086,"creation_date":1675428851,"question_id":75336034,"body_markdown":"I have two mongo collections, one is the Foo collection and another is the FooHistory collection.\r\nThe Foohistory collection is an exact copy of the Foo collection but it creates every time a new document upon every change in the Foo collection. \r\n\r\nin the Foo collection, the POJO class has a CreatedOn field that is annotated with @CreatedDate. so every time a document is inserted in the Foohistory collection, it is being inserted with currentDate. My requirement is, I want to use the same Foo collection CreatedOn time for all the histories by leveraging the @CreatedDate annotation, can someone help me with this?\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe structure of POJO classes are \r\n```\r\nimport org.joda.time.LocalDate;\r\nimport org.springframework.data.annotation.Id;\r\n\r\npublic class Foo {\r\n    \r\n    @Id\r\n    private String id;\r\n    private LocalDate CreatedOn;\r\n    \r\n}\r\n\r\n\r\npublic class FooHistory {\r\n    \r\n    @Id\r\n    private String id;\r\n    private Foo foo;\r\n    \r\n}\r\n```","title":"How to override @CreatedDate in Spring data JPA","body":"<p>I have two mongo collections, one is the Foo collection and another is the FooHistory collection.\nThe Foohistory collection is an exact copy of the Foo collection but it creates every time a new document upon every change in the Foo collection.</p>\n<p>in the Foo collection, the POJO class has a CreatedOn field that is annotated with @CreatedDate. so every time a document is inserted in the Foohistory collection, it is being inserted with currentDate. My requirement is, I want to use the same Foo collection CreatedOn time for all the histories by leveraging the @CreatedDate annotation, can someone help me with this?</p>\n<p>The structure of POJO classes are</p>\n<pre><code>import org.joda.time.LocalDate;\nimport org.springframework.data.annotation.Id;\n\npublic class Foo {\n    \n    @Id\n    private String id;\n    private LocalDate CreatedOn;\n    \n}\n\n\npublic class FooHistory {\n    \n    @Id\n    private String id;\n    private Foo foo;\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679308849,"creation_date":1679304135,"question_id":75788463,"body_markdown":"so we are planning to do a migration of our tables from one database cluster to another. Is there a way to approach it on an springboot application level using liquibase during startup?","title":"Liquibase + Springboot: Migrating the tables from one cluster to another","body":"<p>so we are planning to do a migration of our tables from one database cluster to another. Is there a way to approach it on an springboot application level using liquibase during startup?</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","classnotfoundexception"],"comments":[{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103137,"post_id":69102445,"comment_id":122132307,"body_markdown":"Thanks for the detail although the heading could be a bit more descriptive. It looks like you are using a combination of old XML definition and annotation. Is it because the StudentDao is not marked as a bean(@Component for example)? You will also want to mark you constructor with @Autowired.  How are you running the app?  Is this a spring boot app?","body":"Thanks for the detail although the heading could be a bit more descriptive. It looks like you are using a combination of old XML definition and annotation. Is it because the StudentDao is not marked as a bean(@Component for example)? You will also want to mark you constructor with @Autowired.  How are you running the app?  Is this a spring boot app?"},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":0,"creation_date":1631103279,"post_id":69102445,"comment_id":122132384,"body_markdown":"at the bottom of the question i have described what actually my console says and also first code block is the error message","body":"at the bottom of the question i have described what actually my console says and also first code block is the error message"},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":0,"creation_date":1631103347,"post_id":69102445,"comment_id":122132413,"body_markdown":"Student.java is bean/model @Tristan Can you check the image which i have attached i think you might get some more clear view","body":"Student.java is bean/model @Tristan Can you check the image which i have attached i think you might get some more clear view"},{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103467,"post_id":69102445,"comment_id":122132481,"body_markdown":"The description at the bottom would probably be more helpful at the top. The bold  &quot;the Error i am facing help me to fix it!!&quot; is not really helpful.","body":"The description at the bottom would probably be more helpful at the top. The bold  &quot;the Error i am facing help me to fix it!!&quot; is not really helpful."},{"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"score":1,"creation_date":1631103595,"post_id":69102445,"comment_id":122132543,"body_markdown":"I have edited the post and alter @Tristan can you help with the bug?","body":"I have edited the post and alter @Tristan can you help with the bug?"},{"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"score":0,"creation_date":1631103600,"post_id":69102445,"comment_id":122132547,"body_markdown":"I was referring to marking StudentDao with @Component, but yes I assume you have a Student class definition as well","body":"I was referring to marking StudentDao with @Component, but yes I assume you have a Student class definition as well"}],"answers":[{"tags":[],"owner":{"account_id":5067294,"reputation":278,"user_id":4067074,"accept_rate":86,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631106094,"creation_date":1631106094,"answer_id":69103611,"question_id":69102445,"body_markdown":"There are a few things here. First I believe you need to adjust the component scan to scan at the **com.spring** level, not **com.spring.controller**, as this will exclude the **com.spring.dao** package.  You will also want to enable annotation scanning by adding the **annotation-driven** tag. So the spring-servlet.xml would look like this : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \r\n        xsi:schemaLocation=&quot;  \r\n            http://www.springframework.org/schema/beans  \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n            http://www.springframework.org/schema/context  \r\n            http://www.springframework.org/schema/context/spring-context.xsd  \r\n            http://www.springframework.org/schema/mvc  \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n            &lt;annotation-driven /&gt;\r\n            &lt;context:component-scan base-package=&quot;com.spring&quot;&gt;&lt;/context:component-scan&gt;    \r\n            \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \r\n        &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;!-- Not needed if annotated &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \r\n        &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt; --&gt;\r\n    &lt;/beans&gt;  \r\n\r\nYou can then switch to an annotation on your Student dao :\r\n\r\n    @Component\r\n    public class StudentDao {\r\n    \r\n\t\t@Autowired\r\n        JdbcTemplate template;\r\n\r\nand remove the definition in the spring-servlet.xml. \r\n\r\nYou could also define your DB connection in a different class to slim down the XML, but that is a different topic.","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao]","body":"<p>There are a few things here. First I believe you need to adjust the component scan to scan at the <strong>com.spring</strong> level, not <strong>com.spring.controller</strong>, as this will exclude the <strong>com.spring.dao</strong> package.  You will also want to enable annotation scanning by adding the <strong>annotation-driven</strong> tag. So the spring-servlet.xml would look like this :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \n    xsi:schemaLocation=&quot;  \n        http://www.springframework.org/schema/beans  \n        http://www.springframework.org/schema/beans/spring-beans.xsd  \n        http://www.springframework.org/schema/context  \n        http://www.springframework.org/schema/context/spring-context.xsd  \n        http://www.springframework.org/schema/mvc  \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n        &lt;annotation-driven /&gt;\n        &lt;context:component-scan base-package=&quot;com.spring&quot;&gt;&lt;/context:component-scan&gt;    \n        \n&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;!-- Not needed if annotated &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \n    &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt; --&gt;\n&lt;/beans&gt;  \n</code></pre>\n<p>You can then switch to an annotation on your Student dao :</p>\n<pre><code>@Component\npublic class StudentDao {\n\n    @Autowired\n    JdbcTemplate template;\n</code></pre>\n<p>and remove the definition in the spring-servlet.xml.</p>\n<p>You could also define your DB connection in a different class to slim down the XML, but that is a different topic.</p>\n"}],"owner":{"account_id":22678338,"reputation":11,"user_id":16848996,"display_name":"Gokulakrishnan K."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679308469,"creation_date":1631101484,"question_id":69102445,"body_markdown":"\r\nthe Error i am facing help me to fix it!!\r\n---------------------\r\nhello as i run `MyApplication` i get `index.jsp` page along where as the following pages aren&#39;t working `ClassNotFoundException` is triggered when i click on child page of `index.jsp` (*NOTE: new to stackoverflow i tried to attach image but i turned as link due to reputation problem*)\r\n\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet spring threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    root cause\r\n    \r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao] for bean with name &#39;dao&#39; defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: com.spring.dao.StudentDao\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1281)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    root cause\r\n    \r\n    java.lang.ClassNotFoundException: com.spring.dao.StudentDao\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n    \torg.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:416)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1302)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1273)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/8.5.9 logs.\r\n\r\n***pom.xml***\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.spring.student&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MyApplication&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;MyApplication Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;8.0.26&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;MyApplication&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n***web.xml***\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n     &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n     &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n    \r\n    &lt;web-app&gt;\r\n      &lt;display-name&gt;SpringMVC&lt;/display-name&gt;\r\n      &lt;servlet&gt;\r\n      \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n          \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; \r\n    &lt;/servlet&gt;   \r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt; \r\n    &lt;/web-app&gt;\r\n\r\n***spring-servlet.xml***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \r\n        xsi:schemaLocation=&quot;  \r\n            http://www.springframework.org/schema/beans  \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n            http://www.springframework.org/schema/context  \r\n            http://www.springframework.org/schema/context/spring-context.xsd  \r\n            http://www.springframework.org/schema/mvc  \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n            &lt;context:component-scan base-package=&quot;com.spring.controller&quot;&gt;&lt;/context:component-scan&gt;    \r\n            \r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \r\n    \t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \r\n    \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \r\n    \t&lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \r\n    \t&lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \r\n    &lt;/bean&gt;    \r\n        \r\n    &lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \r\n    \t&lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;       \r\n    &lt;/beans&gt;  \r\n\r\n***StudentController.java***\r\n\r\n\r\n    package com.spring.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import com.spring.dao.StudentDao;\r\n    import com.spring.model.Student;\r\n    \r\n    @Controller\r\n    public class StudentController {\r\n    \t\r\n    \t@Autowired\r\n    \tStudentDao dao;\r\n    \t\r\n    \t\r\n    \t@RequestMapping(&quot;/studentform&quot;)\r\n    \tpublic String showform(Model m)\r\n    \t{\r\n    \t\tm.addAttribute(&quot;command&quot;, new Student());\r\n    \t\treturn &quot;studentform&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/save&quot;,method = RequestMethod.POST)\r\n    \tpublic String save(@ModelAttribute(&quot;Student&quot;) Student student)\r\n    \t{\r\n    \t\tdao.save(student);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/viewstudent&quot;)\r\n    \tpublic String viewstudent(Model m)\r\n    \t{\r\n    \t\tList&lt;Student&gt; list = dao.getStudents();\r\n    \t\tm.addAttribute(&quot;list&quot;,list);\r\n    \t\tSystem.out.println(list.size());\r\n    \t\treturn &quot;viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/editstudent/{id}&quot;)\r\n    \tpublic String edit(@PathVariable int id, Model m)\r\n    \t{\r\n    \t\tStudent student = dao.getStudentById(id);\r\n    \t\tm.addAttribute(&quot;command&quot;,student);\r\n    \t\treturn &quot;studenteditform&quot;;\r\n    \t}\t\r\n    \t\r\n    \t@RequestMapping(value=&quot;/editsave&quot;, method = RequestMethod.POST)\r\n    \tpublic String editsave(@ModelAttribute(&quot;student&quot;) Student student)\r\n    \t{\r\n    \t\tdao.update(student);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value=&quot;/deletestudent/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic String delete(@PathVariable int id)\r\n    \t{\r\n    \t\tdao.delete(id);\r\n    \t\treturn &quot;redirect:/viewstudent&quot;;\r\n    \t}\r\n    }\r\n\r\n***StudentDao.java***\r\n\r\n\r\n    package com.spring.dao;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.jdbc.core.BeanPropertyRowMapper;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    \r\n    import com.spring.model.Student;\r\n    \r\n    \r\n    public class StudentDao {\r\n    \r\n    \tJdbcTemplate template;\r\n    \t /**\r\n    \t * @param jdbcTemplate the jdbcTemplate to set\r\n    \t */\r\n    \tpublic void setTemplate(JdbcTemplate template) {\r\n    \t\tthis.template = template;\r\n    \t}\r\n    \t\r\n    \tpublic int save(Student s)\r\n    \t{\r\n    \t\tString sql =&quot;INSERT INTO student_detail (name,phone,address)VALUES(&#39;&quot;+s.getName()+&quot;&#39;,&#39;&quot;+s.getPhone()+&quot;&#39;,&#39;&quot;+s.getAddress()+&quot;&#39;)&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic int update(Student s)\r\n    \t{\r\n    \t\tString sql = &quot;UPDATE student_detail SET name=&#39;&quot;+s.getName()+&quot;&#39;, phone=&#39;&quot;+s.getPhone()+&quot;&#39;, address=&#39;&quot;+s.getAddress()+&quot;&#39; WHERE id=&quot;+s.getId()+&quot;&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic int delete(int id)\r\n    \t{\r\n    \t\tString sql =&quot;DELETE FROM student_detail WHERE id=&quot;+id+&quot;&quot;;\r\n    \t\treturn template.update(sql);\r\n    \t}\r\n    \tpublic Student getStudentById(int id)\r\n    \t{\r\n    \t\tString sql = &quot;SELECT * FROM student_detail WHERE id=?&quot;;\r\n    \t\t\treturn template.queryForObject(sql, new Object[]{id}, new BeanPropertyRowMapper&lt;Student&gt;(Student.class));\r\n    \t}\r\n    \tpublic List&lt;Student&gt; getStudents()\r\n    \t{\r\n    \t\t return template.query(&quot;SELECT * FROM student_detail&quot;,new RowMapper&lt;Student&gt;(){    \r\n    \t\t        public Student mapRow(ResultSet rs, int row) throws SQLException {    \r\n    \t\t            Student s=new Student();    \r\n    \t\t            s.setId(rs.getInt(1));    \r\n    \t\t            s.setName(rs.getString(2));    \r\n    \t\t            s.setPhone(rs.getString(3));    \r\n    \t\t            s.setAddress(rs.getString(4));    \r\n    \t\t            return s;    \r\n    \t\t        }    \r\n    \t\t    });    \r\n    \t}\r\n    }\r\n\r\n***PROJECT STRUCTURE &amp; Build Path declaration:***\r\n\r\n[eclipce project structure][1]\r\n\r\n\r\n[java build path][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7v8B.png\r\n  [2]: https://i.stack.imgur.com/X79Ot.png\r\n\r\n","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao]","body":"<h2>the Error i am facing help me to fix it!!</h2>\n<p>hello as i run <code>MyApplication</code> i get <code>index.jsp</code> page along where as the following pages aren't working <code>ClassNotFoundException</code> is triggered when i click on child page of <code>index.jsp</code> (<em>NOTE: new to stackoverflow i tried to attach image but i turned as link due to reputation problem</em>)</p>\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet spring threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nroot cause\n\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.spring.dao.StudentDao] for bean with name 'dao' defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: com.spring.dao.StudentDao\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1281)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nroot cause\n\njava.lang.ClassNotFoundException: com.spring.dao.StudentDao\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n    org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:416)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1273)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:575)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1350)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:916)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:789)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1437)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nnote The full stack trace of the root cause is available in the Apache Tomcat/8.5.9 logs.\n</code></pre>\n<p><em><strong>pom.xml</strong></em></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.spring.student&lt;/groupId&gt;\n  &lt;artifactId&gt;MyApplication&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;MyApplication Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;MyApplication&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em><strong>web.xml</strong></em></p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;SpringMVC&lt;/display-name&gt;\n  &lt;servlet&gt;\n  \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n      \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; \n&lt;/servlet&gt;   \n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt; \n&lt;/web-app&gt;\n</code></pre>\n<p><em><strong>spring-servlet.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  \n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;  \n    xsi:schemaLocation=&quot;  \n        http://www.springframework.org/schema/beans  \n        http://www.springframework.org/schema/beans/spring-beans.xsd  \n        http://www.springframework.org/schema/context  \n        http://www.springframework.org/schema/context/spring-context.xsd  \n        http://www.springframework.org/schema/mvc  \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n        &lt;context:component-scan base-package=&quot;com.spring.controller&quot;&gt;&lt;/context:component-scan&gt;    \n        \n&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;    \n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;    \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_mvc&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;    \n    &lt;property name=&quot;password&quot; value=&quot;Brownie@753&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;jt&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;    \n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot;&gt;&lt;/property&gt;    \n&lt;/bean&gt;    \n    \n&lt;bean id=&quot;dao&quot; class=&quot;com.spring.dao.StudentDao&quot;&gt;    \n    &lt;property name=&quot;template&quot; ref=&quot;jt&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;       \n&lt;/beans&gt;  \n</code></pre>\n<p><em><strong>StudentController.java</strong></em></p>\n<pre><code>package com.spring.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.spring.dao.StudentDao;\nimport com.spring.model.Student;\n\n@Controller\npublic class StudentController {\n    \n    @Autowired\n    StudentDao dao;\n    \n    \n    @RequestMapping(&quot;/studentform&quot;)\n    public String showform(Model m)\n    {\n        m.addAttribute(&quot;command&quot;, new Student());\n        return &quot;studentform&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/save&quot;,method = RequestMethod.POST)\n    public String save(@ModelAttribute(&quot;Student&quot;) Student student)\n    {\n        dao.save(student);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/viewstudent&quot;)\n    public String viewstudent(Model m)\n    {\n        List&lt;Student&gt; list = dao.getStudents();\n        m.addAttribute(&quot;list&quot;,list);\n        System.out.println(list.size());\n        return &quot;viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/editstudent/{id}&quot;)\n    public String edit(@PathVariable int id, Model m)\n    {\n        Student student = dao.getStudentById(id);\n        m.addAttribute(&quot;command&quot;,student);\n        return &quot;studenteditform&quot;;\n    }   \n    \n    @RequestMapping(value=&quot;/editsave&quot;, method = RequestMethod.POST)\n    public String editsave(@ModelAttribute(&quot;student&quot;) Student student)\n    {\n        dao.update(student);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/deletestudent/{id}&quot;, method = RequestMethod.GET)\n    public String delete(@PathVariable int id)\n    {\n        dao.delete(id);\n        return &quot;redirect:/viewstudent&quot;;\n    }\n}\n</code></pre>\n<p><em><strong>StudentDao.java</strong></em></p>\n<pre><code>package com.spring.dao;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.RowMapper;\n\nimport com.spring.model.Student;\n\n\npublic class StudentDao {\n\n    JdbcTemplate template;\n     /**\n     * @param jdbcTemplate the jdbcTemplate to set\n     */\n    public void setTemplate(JdbcTemplate template) {\n        this.template = template;\n    }\n    \n    public int save(Student s)\n    {\n        String sql =&quot;INSERT INTO student_detail (name,phone,address)VALUES('&quot;+s.getName()+&quot;','&quot;+s.getPhone()+&quot;','&quot;+s.getAddress()+&quot;')&quot;;\n        return template.update(sql);\n    }\n    public int update(Student s)\n    {\n        String sql = &quot;UPDATE student_detail SET name='&quot;+s.getName()+&quot;', phone='&quot;+s.getPhone()+&quot;', address='&quot;+s.getAddress()+&quot;' WHERE id=&quot;+s.getId()+&quot;&quot;;\n        return template.update(sql);\n    }\n    public int delete(int id)\n    {\n        String sql =&quot;DELETE FROM student_detail WHERE id=&quot;+id+&quot;&quot;;\n        return template.update(sql);\n    }\n    public Student getStudentById(int id)\n    {\n        String sql = &quot;SELECT * FROM student_detail WHERE id=?&quot;;\n            return template.queryForObject(sql, new Object[]{id}, new BeanPropertyRowMapper&lt;Student&gt;(Student.class));\n    }\n    public List&lt;Student&gt; getStudents()\n    {\n         return template.query(&quot;SELECT * FROM student_detail&quot;,new RowMapper&lt;Student&gt;(){    \n                public Student mapRow(ResultSet rs, int row) throws SQLException {    \n                    Student s=new Student();    \n                    s.setId(rs.getInt(1));    \n                    s.setName(rs.getString(2));    \n                    s.setPhone(rs.getString(3));    \n                    s.setAddress(rs.getString(4));    \n                    return s;    \n                }    \n            });    \n    }\n}\n</code></pre>\n<p><em><strong>PROJECT STRUCTURE &amp; Build Path declaration:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/k7v8B.png\" rel=\"nofollow noreferrer\">eclipce project structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/X79Ot.png\" rel=\"nofollow noreferrer\">java build path</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679291037,"creation_date":1679291037,"answer_id":75786889,"question_id":75786870,"body_markdown":"You could pass that variable as a parameter to the second method, if you change its signature like this.\r\n\r\n    private void getCurrentLocation(LatLng markerPos)\r\n\r\nThen, when you call the method, you&#39;ll need to pass that value, like this.\r\n\r\n    getCurrentLocation(markerPos);\r\n\r\nThat way, the second method will be able to use `markerPos`, because it will have its own copy of the `markerPos` reference.","title":"How do I pass my variable from public boolean to private void","body":"<p>You could pass that variable as a parameter to the second method, if you change its signature like this.</p>\n<pre><code>private void getCurrentLocation(LatLng markerPos)\n</code></pre>\n<p>Then, when you call the method, you'll need to pass that value, like this.</p>\n<pre><code>getCurrentLocation(markerPos);\n</code></pre>\n<p>That way, the second method will be able to use <code>markerPos</code>, because it will have its own copy of the <code>markerPos</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679308131,"creation_date":1679308131,"answer_id":75789164,"question_id":75786870,"body_markdown":"There are different solutions. Maybe the simplest one is declaring `markerPos` as a class-level instance. So you may add something like\r\n\r\n    private LatLng MarkerPos;\r\n\r\nto the class and then assign its value in the `onMarkerClick` method. Later in the `getCurrentlocation` method you can get its value.\r\n\r\nAt the end looks like:\r\n\r\n    public class ... {\r\n    // your class contents\r\n    private LatLng MarkerPos;\r\n    \r\n    public boolean onMarkerClick(@NonNull Marker marker) {\r\n    // your method contents\r\n    MarkerPos = marker.getPosition();\r\n    // rest of your code\r\n    }\r\n    \r\n    private void getCurrentlocation() {\r\n    // your method&#39;s code\r\n    mDestination = MarkerPos;\r\n    // rest of your code\r\n    }\r\n    }\r\n\r\nBased on your work another solutions would be used. For example defining another class and using getter/setters.","title":"How do I pass my variable from public boolean to private void","body":"<p>There are different solutions. Maybe the simplest one is declaring <code>markerPos</code> as a class-level instance. So you may add something like</p>\n<pre><code>private LatLng MarkerPos;\n</code></pre>\n<p>to the class and then assign its value in the <code>onMarkerClick</code> method. Later in the <code>getCurrentlocation</code> method you can get its value.</p>\n<p>At the end looks like:</p>\n<pre><code>public class ... {\n// your class contents\nprivate LatLng MarkerPos;\n\npublic boolean onMarkerClick(@NonNull Marker marker) {\n// your method contents\nMarkerPos = marker.getPosition();\n// rest of your code\n}\n\nprivate void getCurrentlocation() {\n// your method's code\nmDestination = MarkerPos;\n// rest of your code\n}\n}\n</code></pre>\n<p>Based on your work another solutions would be used. For example defining another class and using getter/setters.</p>\n"}],"owner":{"account_id":28062296,"reputation":3,"user_id":21436208,"display_name":"user21436208"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75789164,"answer_count":2,"score":0,"last_activity_date":1679308131,"creation_date":1679290837,"question_id":75786870,"body_markdown":"I need to get the value of &quot;markerPos&quot; variable from the public boolean to private void in order to set it as a destination point of location. How can I get the value inside the private void?\r\n\r\nHere&#39;s the codes\r\n\r\n    @Override\r\n    public boolean onMarkerClick(@NonNull Marker marker) {\r\n        int id = markers.get(marker.getId());\r\n  \r\n        //This is the value I need to pass on the other class\r\n        LatLng markerPos = marker.getPosition();\r\n\r\n        String id1 = marker.getTitle();\r\n\r\n        //clear polyline for every marker click\r\n        for(Polyline line : polylines)\r\n        {\r\n            line.remove();\r\n        }\r\n        polylines.clear();\r\n\r\n        Toast.makeText(this, &quot;You clicked &quot; + id1,\r\n                Toast.LENGTH_LONG).show();\r\n\r\n        if (id == 2) {\r\n            // Add polylines to the map.\r\n            // Polylines are useful to show a route or some other connection between points.\r\n            polylines.add(this.mMap.addPolyline(new PolylineOptions()\r\n                    .clickable(true)\r\n                    .add(\r\n                            new LatLng(13.7926088,121.0025078),\r\n                            new LatLng( 13.7924463,121.0025413),\r\n                            new LatLng(13.792438, 121.002805),\r\n                            new LatLng(13.792281, 121.002861),\r\n                            new LatLng(13.792288, 121.003093))));\r\n            getCurrentlocation();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private void getCurrentlocation() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            fusedLocationProviderClient.getLastLocation()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            if(location != null){\r\n                                Geocoder geocoder = new Geocoder(MapsActivity.this, Locale.getDefault());\r\n\r\n                                List&lt;Address&gt; addresses = null;\r\n                                try {\r\n                                    addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n                                    LatLng userloc = new LatLng((addresses.get(0).getLatitude()), (addresses.get(0).getLongitude()));\r\n\r\n                                    MarkerOptions userlocM = new MarkerOptions()\r\n                                            .position(userloc)\r\n                                            .title(&quot;You&quot;)\r\n                                            .icon(BitmapDescriptorFactory.fromBitmap(resizeBitmap(&quot;userloc&quot;,160,160)));\r\n\r\n                                    Marker mkr3 = mMap.addMarker(userlocM);\r\n                                    markers.put(mkr3.getId(), 3);\r\n                                    mOrigin = userloc;\r\n\r\n                                    //Here is where I want to put the markerPos value\r\n                                    mDestination =;\r\n                                    drawRoute();\r\n                                } catch (IOException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n        } else {\r\n            askPermission();\r\n        }\r\n    }\r\n\r\nI tried searching but I don&#39;t really get it. Is there a way to get the value?\r\n","title":"How do I pass my variable from public boolean to private void","body":"<p>I need to get the value of &quot;markerPos&quot; variable from the public boolean to private void in order to set it as a destination point of location. How can I get the value inside the private void?</p>\n<p>Here's the codes</p>\n<pre><code>@Override\npublic boolean onMarkerClick(@NonNull Marker marker) {\n    int id = markers.get(marker.getId());\n\n    //This is the value I need to pass on the other class\n    LatLng markerPos = marker.getPosition();\n\n    String id1 = marker.getTitle();\n\n    //clear polyline for every marker click\n    for(Polyline line : polylines)\n    {\n        line.remove();\n    }\n    polylines.clear();\n\n    Toast.makeText(this, &quot;You clicked &quot; + id1,\n            Toast.LENGTH_LONG).show();\n\n    if (id == 2) {\n        // Add polylines to the map.\n        // Polylines are useful to show a route or some other connection between points.\n        polylines.add(this.mMap.addPolyline(new PolylineOptions()\n                .clickable(true)\n                .add(\n                        new LatLng(13.7926088,121.0025078),\n                        new LatLng( 13.7924463,121.0025413),\n                        new LatLng(13.792438, 121.002805),\n                        new LatLng(13.792281, 121.002861),\n                        new LatLng(13.792288, 121.003093))));\n        getCurrentlocation();\n    }\n    return false;\n}\n\nprivate void getCurrentlocation() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n        fusedLocationProviderClient.getLastLocation()\n                .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        if(location != null){\n                            Geocoder geocoder = new Geocoder(MapsActivity.this, Locale.getDefault());\n\n                            List&lt;Address&gt; addresses = null;\n                            try {\n                                addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n                                LatLng userloc = new LatLng((addresses.get(0).getLatitude()), (addresses.get(0).getLongitude()));\n\n                                MarkerOptions userlocM = new MarkerOptions()\n                                        .position(userloc)\n                                        .title(&quot;You&quot;)\n                                        .icon(BitmapDescriptorFactory.fromBitmap(resizeBitmap(&quot;userloc&quot;,160,160)));\n\n                                Marker mkr3 = mMap.addMarker(userlocM);\n                                markers.put(mkr3.getId(), 3);\n                                mOrigin = userloc;\n\n                                //Here is where I want to put the markerPos value\n                                mDestination =;\n                                drawRoute();\n                            } catch (IOException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    }\n                });\n    } else {\n        askPermission();\n    }\n}\n</code></pre>\n<p>I tried searching but I don't really get it. Is there a way to get the value?</p>\n"},{"tags":["java","kotlin","spring-webflux","multipartform-data","spring-cloud-gateway"],"owner":{"account_id":28062927,"reputation":11,"user_id":21436747,"display_name":"muhammetmsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679308100,"creation_date":1679308006,"question_id":75789135,"body_markdown":"We are using spring cloud gateway to redirect request to relevant services. Right now we want to redirect upload request from legacy service to new microservice. So I need to change body content before redirect to new microservice. For example, renaming file part name as document.\r\n\r\n\r\n```\r\nPOST /file HTTP/1.1\r\nHost: localhost:8001\r\nContent-Type: multipart/form-data; boundary=--------------------------545040021353991257616713\r\nContent-Length: 211&#160;\r\n\r\n----------------------------545040021353991257616713\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;test.txt&quot;\r\nContent-Type: text/plain&#160;\r\n\r\nTest\r\n\r\n----------------------------545040021353991257616713--&#160;&#160;\r\n\r\n```\r\nAfter renaming `file` to `document` should look like below\r\n\r\n\r\n```\r\nPOST /document HTTP/1.1\r\nHost: localhost:8002\r\nContent-Type: multipart/form-data; boundary=--------------------------545040021353991257616713\r\nContent-Length: 215&#160;\r\n\r\n----------------------------545040021353991257616713\r\nContent-Disposition: form-data; name=&quot;document&quot;; filename=&quot;test.txt&quot;\r\nContent-Type: text/plain&#160;\r\n\r\nTest&#160;\r\n\r\n----------------------------545040021353991257616713--\r\n```\r\n\r\n\r\nWe created gateway filter [ModifyGatewayFilterFactory](https://github.com/arony/multipart-body-rewrite/blob/main/gateway/src/main/kotlin/com/gateway/ModifyGatewayFilterFactory.kt) in order to rewrite body. \r\n\r\nFollowing part rewrites the body\r\n```kotlin\r\n val modifiedRequest = serverRequest.bodyToMono(object : ParameterizedTypeReference&lt;MultiValueMap&lt;String, Part&gt;&gt;() {}).map {\r\n            val request = LinkedMultiValueMap&lt;String, Part&gt;()\r\n            request[&quot;document&quot;] = it[&quot;file&quot;]?.first() as Part\r\n            request\r\n }\r\n```\r\n\r\nBut the modified request weird as below\r\n\r\n```\r\nPOST /document HTTP/1.1\r\nContent-Type: multipart/form-data;boundary=Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL\r\nhost: localhost:8002\r\ntransfer-encoding: chunked&#160;\r\n\r\n25\r\n--Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL&#160;\r\n\r\n83\r\nContent-Disposition: form-data; name=&quot;document&quot;\r\nContent-Type: multipart/form-data;boundary=gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime&#160;\r\n\r\n\r\n27\r\n--gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime&#160;\r\n\r\n5e\r\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;test.txt&quot;\r\nContent-Type: text/plain&#160;\r\n\r\n\r\n5\r\nTest&#160;\r\n\r\n2\r\n\r\n&#160;\r\n29\r\n--gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime--&#160;\r\n\r\n2\r\n\r\n&#160;\r\n27\r\n--Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL--&#160;\r\n\r\n0\r\n```\r\n\r\n\r\nWhat did we do wrong? \r\n\r\nThe working example in this [Github](https://github.com/arony/multipart-body-rewrite) repo","title":"how to modify multipart/form-data request body in Spring Cloud Gateway filter?","body":"<p>We are using spring cloud gateway to redirect request to relevant services. Right now we want to redirect upload request from legacy service to new microservice. So I need to change body content before redirect to new microservice. For example, renaming file part name as document.</p>\n<pre><code>POST /file HTTP/1.1\nHost: localhost:8001\nContent-Type: multipart/form-data; boundary=--------------------------545040021353991257616713\nContent-Length: 211 \n\n----------------------------545040021353991257616713\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;test.txt&quot;\nContent-Type: text/plain \n\nTest\n\n----------------------------545040021353991257616713--  \n\n</code></pre>\n<p>After renaming <code>file</code> to <code>document</code> should look like below</p>\n<pre><code>POST /document HTTP/1.1\nHost: localhost:8002\nContent-Type: multipart/form-data; boundary=--------------------------545040021353991257616713\nContent-Length: 215 \n\n----------------------------545040021353991257616713\nContent-Disposition: form-data; name=&quot;document&quot;; filename=&quot;test.txt&quot;\nContent-Type: text/plain \n\nTest \n\n----------------------------545040021353991257616713--\n</code></pre>\n<p>We created gateway filter <a href=\"https://github.com/arony/multipart-body-rewrite/blob/main/gateway/src/main/kotlin/com/gateway/ModifyGatewayFilterFactory.kt\" rel=\"nofollow noreferrer\">ModifyGatewayFilterFactory</a> in order to rewrite body.</p>\n<p>Following part rewrites the body</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> val modifiedRequest = serverRequest.bodyToMono(object : ParameterizedTypeReference&lt;MultiValueMap&lt;String, Part&gt;&gt;() {}).map {\n            val request = LinkedMultiValueMap&lt;String, Part&gt;()\n            request[&quot;document&quot;] = it[&quot;file&quot;]?.first() as Part\n            request\n }\n</code></pre>\n<p>But the modified request weird as below</p>\n<pre><code>POST /document HTTP/1.1\nContent-Type: multipart/form-data;boundary=Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL\nhost: localhost:8002\ntransfer-encoding: chunked \n\n25\n--Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL \n\n83\nContent-Disposition: form-data; name=&quot;document&quot;\nContent-Type: multipart/form-data;boundary=gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime \n\n\n27\n--gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime \n\n5e\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;test.txt&quot;\nContent-Type: text/plain \n\n\n5\nTest \n\n2\n\n \n29\n--gN215Av_pu7mDzk7v4cXymxXxqnRrrjpime-- \n\n2\n\n \n27\n--Z2cuyWQnmuw5GIcYxKBr4L2lfJyqoRsxL-- \n\n0\n</code></pre>\n<p>What did we do wrong?</p>\n<p>The working example in this <a href=\"https://github.com/arony/multipart-body-rewrite\" rel=\"nofollow noreferrer\">Github</a> repo</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"owner":{"account_id":20264040,"reputation":1,"user_id":14861715,"display_name":"dominosski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679307699,"creation_date":1679307699,"question_id":75789082,"body_markdown":"I&#39;m working with Java code and Google BigQuery table. I&#39;m sending data with column called timestamp as STRING. It is possible that data with the the same timestamp already exists in the table. In that case I want it to be merged into one row with values from both rows as one. For example I have one row in my table &quot;test_1: test&quot;, &quot;timestamp: something&quot; and then I&#39;m sending different row &quot;test_2:test&quot; but with the same timestamp as first one. I want them to be stored as one row, not 2 individual rows separately. Is it possible? And how do I do that?\r\n\r\nI know that I can do it with sending data one by one with simple SQL query and UPSERT behavior but I tried to do it as stream, or something similar. I don&#39;t want to create multiple query requests to send and upsert data. Also I&#39;m using arraylist as source of data to send.\r\n","title":"How to merge data in BigQuery without using simple query?","body":"<p>I'm working with Java code and Google BigQuery table. I'm sending data with column called timestamp as STRING. It is possible that data with the the same timestamp already exists in the table. In that case I want it to be merged into one row with values from both rows as one. For example I have one row in my table &quot;test_1: test&quot;, &quot;timestamp: something&quot; and then I'm sending different row &quot;test_2:test&quot; but with the same timestamp as first one. I want them to be stored as one row, not 2 individual rows separately. Is it possible? And how do I do that?</p>\n<p>I know that I can do it with sending data one by one with simple SQL query and UPSERT behavior but I tried to do it as stream, or something similar. I don't want to create multiple query requests to send and upsert data. Also I'm using arraylist as source of data to send.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679291873,"post_id":75786865,"comment_id":133688457,"body_markdown":"FYI, section 2.6 of the [CSV specification](https://datatracker.ietf.org/doc/html/rfc4180) requires fields that contain a comma to be delimited by straight double-quote characters. Square brackets should not be used for that purpose.","body":"FYI, section 2.6 of the <a href=\"https://datatracker.ietf.org/doc/html/rfc4180\" rel=\"nofollow noreferrer\">CSV specification</a> requires fields that contain a comma to be delimited by straight double-quote characters. Square brackets should not be used for that purpose."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679308058,"post_id":75786865,"comment_id":133692047,"body_markdown":"As far as I&#39;m aware, OpenCSV has no configuration to use separate start and end quote characters, though you can probably subclass the CSVParser and overrides its `parseLine` or `parseLineMulti` method.","body":"As far as I&#39;m aware, OpenCSV has no configuration to use separate start and end quote characters, though you can probably subclass the CSVParser and overrides its <code>parseLine</code> or <code>parseLineMulti</code> method."}],"answers":[{"tags":[],"owner":{"account_id":11580833,"reputation":71,"user_id":8484784,"display_name":"Sabina Matjašič"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679307157,"creation_date":1679306465,"answer_id":75788882,"question_id":75786865,"body_markdown":"You can specify your own separator to split the input string after reading from CSV file. Here is an example that solves your problem and produces the desired output.\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        String line = &quot;1,2,[3,4],5&quot;;\r\n        String[] tokens = line.split(&quot;,(?![^\\\\[]*\\\\])&quot;);\r\n        for (String t : tokens) {\r\n            System.out.println(t.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;));\r\n        }\r\n    }\r\n```\r\n","title":"How to get values separated by commas while ignoring comma in square brackets?","body":"<p>You can specify your own separator to split the input string after reading from CSV file. Here is an example that solves your problem and produces the desired output.</p>\n<pre><code>  public static void main(String[] args) {\n        String line = &quot;1,2,[3,4],5&quot;;\n        String[] tokens = line.split(&quot;,(?![^\\\\[]*\\\\])&quot;);\n        for (String t : tokens) {\n            System.out.println(t.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":5071992,"reputation":105,"user_id":4070518,"accept_rate":50,"display_name":"Sahanaa D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679307662,"creation_date":1679290775,"question_id":75786865,"body_markdown":"CSV Values are separated like below:\r\n\r\nsample.csv\r\n```none\r\n1,2,[3,4],5\r\n```\r\n\r\nCSV Reader:\r\n```java\r\nfinal CsvToBean&lt;Numbers&gt; csvReader = new CsvToBeanBuilder(fileReader)\r\n                 .withType(SurveyInputCSVDataBean.class)\r\n                 .withSeparator(&#39;,&#39;)\r\n                 .withIgnoreLeadingWhiteSpace(true)\r\n                 .withIgnoreEmptyLine(true)\r\n                 .withThrowExceptions(false)\r\n                 .withIgnoreQuotations(false)\r\n                 .build();\r\n```\r\n\r\nResult:\r\n```none\r\n1\r\n2\r\n3\r\n4\r\n5\r\n```\r\n\r\nRequired Result: \r\n```none\r\n1\r\n2\r\n3,4\r\n5\r\n```","title":"How to get values separated by commas while ignoring comma in square brackets?","body":"<p>CSV Values are separated like below:</p>\n<p>sample.csv</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,2,[3,4],5\n</code></pre>\n<p>CSV Reader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CsvToBean&lt;Numbers&gt; csvReader = new CsvToBeanBuilder(fileReader)\n                 .withType(SurveyInputCSVDataBean.class)\n                 .withSeparator(',')\n                 .withIgnoreLeadingWhiteSpace(true)\n                 .withIgnoreEmptyLine(true)\n                 .withThrowExceptions(false)\n                 .withIgnoreQuotations(false)\n                 .build();\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3\n4\n5\n</code></pre>\n<p>Required Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3,4\n5\n</code></pre>\n"},{"tags":["java","mysql","database","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1367216184,"post_id":16272084,"comment_id":23287138,"body_markdown":"Even ignoring the direct access of the DB, that applet has a lot of problems. 1) Don&#39;t mix Swing and AWT components when not needed. 2) ***Use layouts!*** 3) Don&#39;t mix custom painting and components unless you **really** know what your doing. (Hint: *you don&#39;t*). 4) Please learn common [Java naming conventions](http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307) (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. E.G. `LabelName` should be `labelName` ..","body":"Even ignoring the direct access of the DB, that applet has a lot of problems. 1) Don&#39;t mix Swing and AWT components when not needed. 2) <b><i>Use layouts!</i></b> 3) Don&#39;t mix custom painting and components unless you <b>really</b> know what your doing. (Hint: <i>you don&#39;t</i>). 4) Please learn common <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307\" rel=\"nofollow noreferrer\">Java naming conventions</a> (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. E.G. <code>LabelName</code> should be <code>labelName</code> .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1367216476,"post_id":16272084,"comment_id":23287238,"body_markdown":"*&quot;I know it&#39;s a bad idea to directly connect applet with MySQL but I&#39;m doing this for a school assignment.&quot;*  Inform your teacher that the only point of getting students to make applets (it is quick and easy) was never really true and has just become a lot less true given Oracle&#39;s latest take on [applets and security](http://blog.eisele.net/2013/04/java-7-update-21-security-improvements.html).  E.G. an applet will basically need to be in a Jar and digitally signed before it has a good chance of making it to screen.","body":"<i>&quot;I know it&#39;s a bad idea to directly connect applet with MySQL but I&#39;m doing this for a school assignment.&quot;</i>  Inform your teacher that the only point of getting students to make applets (it is quick and easy) was never really true and has just become a lot less true given Oracle&#39;s latest take on <a href=\"http://blog.eisele.net/2013/04/java-7-update-21-security-improvements.html\" rel=\"nofollow noreferrer\">applets and security</a>.  E.G. an applet will basically need to be in a Jar and digitally signed before it has a good chance of making it to screen."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1367250917,"post_id":16272084,"comment_id":23305086,"body_markdown":"Please direct your teacher to [Why should CS teachers stop teaching applets?](http://programmers.stackexchange.com/questions/196499/why-should-cs-teachers-stop-teaching-applets?noredirect=1#comment380828_196499).  It is especially relevant in that your post inspired me to write it.","body":"Please direct your teacher to <a href=\"http://programmers.stackexchange.com/questions/196499/why-should-cs-teachers-stop-teaching-applets?noredirect=1#comment380828_196499\">Why should CS teachers stop teaching applets?</a>.  It is especially relevant in that your post inspired me to write it."},{"owner":{"account_id":2699838,"reputation":1,"user_id":2330797,"display_name":"user2330797"},"score":1,"creation_date":1367266557,"post_id":16272084,"comment_id":23312967,"body_markdown":"if you know so mush about this. why dont you help me get my assignment done?","body":"if you know so mush about this. why dont you help me get my assignment done?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1367267948,"post_id":16272084,"comment_id":23313652,"body_markdown":"@user2330797: Have you tried all four of my &quot;suggestions&quot; below?  I&#39;m pretty sure the answer was &quot;Yes&quot; for at least 1) and 2) - even before I suggested them.  Please confirm, 1) .. 4).  Thank you in advance...","body":"@user2330797: Have you tried all four of my &quot;suggestions&quot; below?  I&#39;m pretty sure the answer was &quot;Yes&quot; for at least 1) and 2) - even before I suggested them.  Please confirm, 1) .. 4).  Thank you in advance..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1367278173,"post_id":16272084,"comment_id":23317332,"body_markdown":"*&quot;why dont you help&quot;*  You already have answers, and there is no evidence you are following (or following up on) the advice I offer.  Why should I bother?","body":"<i>&quot;why dont you help&quot;</i>  You already have answers, and there is no evidence you are following (or following up on) the advice I offer.  Why should I bother?"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679307017,"creation_date":1367215648,"answer_id":16272197,"question_id":16272084,"body_markdown":"Yes, it&#39;s a real bad idea to connect directly from an applet to MySQL.  In the real world, you shouldn&#39;t do it.  \r\n\r\nSuggestions:\r\n\r\n1) Write a standalone app to verify connectivity (it sounds like you&#39;ve already done this)\r\n\r\n2) Verify there&#39;s no firewall preventing MySQL connections (it sounds like you&#39;ve done this, too) \r\n\r\n3) Verify your logger actually writes from the applet (you&#39;d hate to lose a meaningful error message)\r\n\r\n4) Consider signing your applet:\r\n\r\n   * http://docs.oracle.com/javase/1.5.0/docs/guide/plugin/developer_guide/rsa_signing.html\r\n\r\n   * http://sickpea.com/2009/7/how-to-self-sign-a-java-applet\r\n\r\n   * http://www.brendonwilson.com/projects/signed-java/\r\n","title":"Applet MySQL connection","body":"<p>Yes, it's a real bad idea to connect directly from an applet to MySQL.  In the real world, you shouldn't do it.</p>\n<p>Suggestions:</p>\n<ol>\n<li><p>Write a standalone app to verify connectivity (it sounds like you've already done this)</p>\n</li>\n<li><p>Verify there's no firewall preventing MySQL connections (it sounds like you've done this, too)</p>\n</li>\n<li><p>Verify your logger actually writes from the applet (you'd hate to lose a meaningful error message)</p>\n</li>\n<li><p>Consider signing your applet:</p>\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/plugin/developer_guide/rsa_signing.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/guide/plugin/developer_guide/rsa_signing.html</a></p>\n</li>\n<li><p><a href=\"http://sickpea.com/2009/7/how-to-self-sign-a-java-applet\" rel=\"nofollow noreferrer\">http://sickpea.com/2009/7/how-to-self-sign-a-java-applet</a></p>\n</li>\n<li><p><a href=\"http://www.brendonwilson.com/projects/signed-java/\" rel=\"nofollow noreferrer\">http://www.brendonwilson.com/projects/signed-java/</a></p>\n</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367228401,"creation_date":1367215789,"answer_id":16272224,"question_id":16272084,"body_markdown":"Check if the User, Password you enter belong to a database login, usually you log this data with a separated connection so it does not dependon &quot;if the user/pass you enter can access your DB or not&quot;, you can debug to see if your code to insert data is getting executed at all, and check the result of [`pst.executeUpdate();`][1] to see if any updates to the database was done.\r\n\r\n*PS. Having a method called `getConnection(name, password)` one would expect it to return a `Connection` or any default value on failure not a `String`.*\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#executeUpdate%28%29","title":"Applet MySQL connection","body":"<p>Check if the User, Password you enter belong to a database login, usually you log this data with a separated connection so it does not dependon \"if the user/pass you enter can access your DB or not\", you can debug to see if your code to insert data is getting executed at all, and check the result of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#executeUpdate%28%29\" rel=\"nofollow\"><code>pst.executeUpdate();</code></a> to see if any updates to the database was done.</p>\n\n<p><em>PS. Having a method called <code>getConnection(name, password)</code> one would expect it to return a <code>Connection</code> or any default value on failure not a <code>String</code>.</em></p>\n"}],"owner":{"account_id":2699838,"reputation":1,"user_id":2330797,"display_name":"user2330797"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679307017,"creation_date":1367215203,"question_id":16272084,"body_markdown":"This is simple sign up page. user puts his username and password and its supposed to be store in the DB.\r\n\r\n\r\nThe problem is it does not store the data in database. For testing purposing, I did a main method and it worked just fine, but from the applet it did not. it does not give me any error though.\r\n\r\nBy the way, I added the MySQL Java connector.   \r\n\r\nI know it&#39;s a bad idea to directly connect applet with MySQL but I&#39;m doing this for a school assignment. I looked for mostly ever available source online but I could not find an answer.\r\n\r\n\r\n\r\n    import java.sql.*;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class DBConnect\r\n    {\r\n        public DBConnect(){    \r\n    }\r\n        \r\n    public String getCon(String name, String password) {\r\n         Connection con = null;\r\n         PreparedStatement pst = null;\r\n           String ur1 = &quot;jdbc:mysql://localhost/test&quot;;\r\n            String user = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n          try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n             con = DriverManager.getConnection(ur1, user, pass);\r\n             pst =con.prepareStatement(&quot;INSERT INTO persons (name, password) VALUES (?,?)&quot;);\r\n             pst.setString(1, name);\r\n             pst.setString(2, password);\r\n             pst.executeUpdate();\r\n            } catch (Exception ex) {\r\n                Logger lgr = Logger.getLogger(DBConnect.class.getName());\r\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n    \r\n            } finally {\r\n                try {\r\n                    if (pst != null) {\r\n                        pst.close();\r\n                    }\r\n                    if (con != null) {\r\n                        con.close();\r\n                    }\r\n                } catch (SQLException ex) {\r\n                    Logger lgr = Logger.getLogger(DBConnect.class.getName());\r\n                    lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n                }\r\n        }\r\n        return name;\r\n      }\r\n    }\r\n\r\n___________________________________________________\r\n\r\n\r\n    import java.sql.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.applet.*;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Table extends JApplet implements ActionListener\r\n    {\r\n        TextField username, password;\r\n         public String s1,s2,s;\r\n          String msg =&quot;&quot;;\r\n          private Thread th;\r\n          Button submit;\r\n          Label LabelName, LabelPass;\r\n          DBConnect connect = new DBConnect();\r\n    \r\n        public Table(){\r\n        }\r\n    \r\n        public void init()\r\n        {\r\n               setLayout(null);\r\n               username = new TextField(8);\r\n               password = new TextField(8);\r\n               submit = new Button (&quot;Register&quot;);\r\n               LabelName = new Label(&quot;User Name&quot;);\r\n               LabelPass = new Label(&quot;Password&quot;);\r\n    \r\n               username.setBounds(100,40,80,20);\r\n               password.setBounds(100,80,80,20);\r\n               submit.setBounds(40,110,80,30);\r\n               LabelName.setBounds(20,40,80,20);\r\n               LabelPass.setBounds(20,80,80,20);\r\n\r\n               add(LabelName);\r\n               add(username);\r\n               add(LabelPass);\r\n               add(password);\r\n               add(submit);\r\n\r\n             submit.addActionListener(this);\r\n        }\r\n    \r\n        public void paint(Graphics g)\r\n        {\r\n          g.drawString(s1,100,275); // just for a test purpose\r\n          g.drawString(s2,100,300); // just for a test purpose\r\n        }\r\n    \r\n             public void actionPerformed(ActionEvent evt)\r\n             {\r\n                  if (evt.getSource() == submit) {\r\n             try\r\n              {\r\n               s1 = username.getText();\r\n               s2 = password.getText();\r\n               repaint();\r\n               connect.getCon(s1, s2); // here is the problem\r\n             JOptionPane.showMessageDialog(null, &quot;you&#39;re registered&quot;);\r\n            }\r\n              catch(Exception e) {\r\n                  e.printStackTrace();\r\n                  JOptionPane.showMessageDialog(null, &quot;Something Wrong / This user name already exists&quot;);\r\n                }\r\n              }\r\n            }\r\n    \r\n            public String getS1(){\r\n                return s1;\r\n            }\r\n    \r\n            public String getS2(){\r\n                return s2;\r\n            }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Applet MySQL connection","body":"<p>This is simple sign up page. user puts his username and password and its supposed to be store in the DB.</p>\n\n<p>The problem is it does not store the data in database. For testing purposing, I did a main method and it worked just fine, but from the applet it did not. it does not give me any error though.</p>\n\n<p>By the way, I added the MySQL Java connector.   </p>\n\n<p>I know it's a bad idea to directly connect applet with MySQL but I'm doing this for a school assignment. I looked for mostly ever available source online but I could not find an answer.</p>\n\n<pre><code>import java.sql.*;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class DBConnect\n{\n    public DBConnect(){    \n}\n\npublic String getCon(String name, String password) {\n     Connection con = null;\n     PreparedStatement pst = null;\n       String ur1 = \"jdbc:mysql://localhost/test\";\n        String user = \"root\";\n        String pass = \"\";\n      try {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n         con = DriverManager.getConnection(ur1, user, pass);\n         pst =con.prepareStatement(\"INSERT INTO persons (name, password) VALUES (?,?)\");\n         pst.setString(1, name);\n         pst.setString(2, password);\n         pst.executeUpdate();\n        } catch (Exception ex) {\n            Logger lgr = Logger.getLogger(DBConnect.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n\n        } finally {\n            try {\n                if (pst != null) {\n                    pst.close();\n                }\n                if (con != null) {\n                    con.close();\n                }\n            } catch (SQLException ex) {\n                Logger lgr = Logger.getLogger(DBConnect.class.getName());\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\n            }\n    }\n    return name;\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.sql.*;\nimport java.awt.event.*;\nimport java.awt.*;\nimport javax.swing.*;\nimport java.applet.*;\nimport javax.swing.JOptionPane;\n\npublic class Table extends JApplet implements ActionListener\n{\n    TextField username, password;\n     public String s1,s2,s;\n      String msg =\"\";\n      private Thread th;\n      Button submit;\n      Label LabelName, LabelPass;\n      DBConnect connect = new DBConnect();\n\n    public Table(){\n    }\n\n    public void init()\n    {\n           setLayout(null);\n           username = new TextField(8);\n           password = new TextField(8);\n           submit = new Button (\"Register\");\n           LabelName = new Label(\"User Name\");\n           LabelPass = new Label(\"Password\");\n\n           username.setBounds(100,40,80,20);\n           password.setBounds(100,80,80,20);\n           submit.setBounds(40,110,80,30);\n           LabelName.setBounds(20,40,80,20);\n           LabelPass.setBounds(20,80,80,20);\n\n           add(LabelName);\n           add(username);\n           add(LabelPass);\n           add(password);\n           add(submit);\n\n         submit.addActionListener(this);\n    }\n\n    public void paint(Graphics g)\n    {\n      g.drawString(s1,100,275); // just for a test purpose\n      g.drawString(s2,100,300); // just for a test purpose\n    }\n\n         public void actionPerformed(ActionEvent evt)\n         {\n              if (evt.getSource() == submit) {\n         try\n          {\n           s1 = username.getText();\n           s2 = password.getText();\n           repaint();\n           connect.getCon(s1, s2); // here is the problem\n         JOptionPane.showMessageDialog(null, \"you're registered\");\n        }\n          catch(Exception e) {\n              e.printStackTrace();\n              JOptionPane.showMessageDialog(null, \"Something Wrong / This user name already exists\");\n            }\n          }\n        }\n\n        public String getS1(){\n            return s1;\n        }\n\n        public String getS2(){\n            return s2;\n        }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging","spring-boot-actuator"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1679307156,"post_id":75766418,"comment_id":133691813,"body_markdown":"Looks like the logs are rolling. Check if you have a daily rolling file appender configured and if so, previous days&#39;s logs will be in a file with the date appended to them.","body":"Looks like the logs are rolling. Check if you have a daily rolling file appender configured and if so, previous days&#39;s logs will be in a file with the date appended to them."},{"owner":{"account_id":13079057,"reputation":220,"user_id":9450155,"display_name":"Mansi Joshi"},"score":0,"creation_date":1679405409,"post_id":75766418,"comment_id":133713091,"body_markdown":"Thanks for replay, but we didn&#39;t use rolling file appender. is there any default setting for rolling file appender ?","body":"Thanks for replay, but we didn&#39;t use rolling file appender. is there any default setting for rolling file appender ?"}],"owner":{"account_id":13079057,"reputation":220,"user_id":9450155,"display_name":"Mansi Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679307016,"creation_date":1679048361,"question_id":75766418,"body_markdown":"I setup Spring Actuator for checking health and log, But in /logfile that shown only  current day log but didn&#39;t show past log. \r\n\r\nFollowing is **application.properties** \r\n\r\n    management.endpoints.web.exposure.include=*\r\n    management.endpoint.logfile.external-file=/var/tmp/AuthService.log\r\n\r\nSo anyone can help me out that how can i show all logs in Spring Actuator?","title":"How do we show all logs in Spring Actuator?","body":"<p>I setup Spring Actuator for checking health and log, But in /logfile that shown only  current day log but didn't show past log.</p>\n<p>Following is <strong>application.properties</strong></p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoint.logfile.external-file=/var/tmp/AuthService.log\n</code></pre>\n<p>So anyone can help me out that how can i show all logs in Spring Actuator?</p>\n"},{"tags":["java","compiler-errors","subclass","non-static"],"comments":[{"owner":{"account_id":369855,"reputation":3245,"user_id":717457,"display_name":"ccoakley"},"score":3,"creation_date":1335284603,"post_id":10301907,"comment_id":13257958,"body_markdown":"It&#39;s worth mentioning that GenTest is not a subclass of JavaApp1. It is a nested class. The difference is that subclasses inherit the public and protected properties of their parent class.","body":"It&#39;s worth mentioning that GenTest is not a subclass of JavaApp1. It is a nested class. The difference is that subclasses inherit the public and protected properties of their parent class."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1335284606,"post_id":10301907,"comment_id":13257962,"body_markdown":"Just put GenTest in its own file. There&#39;s no need to nest it in JavaApp1.","body":"Just put GenTest in its own file. There&#39;s no need to nest it in JavaApp1."},{"owner":{"display_name":"user800014"},"score":1,"creation_date":1335284841,"post_id":10301907,"comment_id":13258046,"body_markdown":"http://stackoverflow.com/questions/5272957/problem-creating-object-of-inner-class-in-java","body":"<a href=\"http://stackoverflow.com/questions/5272957/problem-creating-object-of-inner-class-in-java\" title=\"problem creating object of inner class in java\">stackoverflow.com/questions/5272957/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679307006,"creation_date":1335284538,"answer_id":10301951,"question_id":10301907,"body_markdown":"It should be `static class GenTest`, as you create an instance of it from static method.\r\n\r\nAlso, in general, nested classes should be static.","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>It should be <code>static class GenTest</code>, as you create an instance of it from static method.</p>\n<p>Also, in general, nested classes should be static.</p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335284578,"creation_date":1335284578,"answer_id":10301962,"question_id":10301907,"body_markdown":"The class `GenTest` is a non-static class and therefore must be instantiated within an instance of `JavaApp1`. If you do `static class GenTest` what you have work otherwise you need to create an instance of `JavaApp1` and create the `GenTest` within a non-static method.","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>The class <code>GenTest</code> is a non-static class and therefore must be instantiated within an instance of <code>JavaApp1</code>. If you do <code>static class GenTest</code> what you have work otherwise you need to create an instance of <code>JavaApp1</code> and create the <code>GenTest</code> within a non-static method.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1335284578,"creation_date":1335284578,"answer_id":10301963,"question_id":10301907,"body_markdown":"Your nested class (which *isn&#39;t* a subclass, by the way) isn&#39;t marked as being static, therefore it&#39;s an *inner* class which requires an instance of the encoding class (JavaApp1) in order to construct it.\r\n\r\nOptions:\r\n\r\n- Make the nested class static\r\n- Make it not an inner class (i.e. not within `JavaApp1` at all)\r\n- Create an instance of `JavaApp1` as the &quot;enclosing instance&quot;:\r\n\r\n        GenTest x = new JavaApp1().new GenTest();\r\n\r\nPersonally I&#39;d go with the second approach - nested classes in Java have a few oddities around them, so I&#39;d use top-level classes unless you have a good reason to make it nested. (The final option is particularly messy, IMO.)\r\n\r\nSee [section 8.1.3 of the JLS][1] for more information about inner classes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>Your nested class (which <em>isn't</em> a subclass, by the way) isn't marked as being static, therefore it's an <em>inner</em> class which requires an instance of the encoding class (JavaApp1) in order to construct it.</p>\n\n<p>Options:</p>\n\n<ul>\n<li>Make the nested class static</li>\n<li>Make it not an inner class (i.e. not within <code>JavaApp1</code> at all)</li>\n<li><p>Create an instance of <code>JavaApp1</code> as the \"enclosing instance\":</p>\n\n<pre><code>GenTest x = new JavaApp1().new GenTest();\n</code></pre></li>\n</ul>\n\n<p>Personally I'd go with the second approach - nested classes in Java have a few oddities around them, so I'd use top-level classes unless you have a good reason to make it nested. (The final option is particularly messy, IMO.)</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3\" rel=\"noreferrer\">section 8.1.3 of the JLS</a> for more information about inner classes.</p>\n"},{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335284651,"creation_date":1335284651,"answer_id":10301978,"question_id":10301907,"body_markdown":"Thar&#39;s because GenTest is defined withing the context of JavaApp1. So you can refer to it unless you have an instance of JavaApp1. Change it to a `static class` for it to work.\r\n\r\n`static class GenTest...`","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>Thar's because GenTest is defined withing the context of JavaApp1. So you can refer to it unless you have an instance of JavaApp1. Change it to a <code>static class</code> for it to work.</p>\n\n<p><code>static class GenTest...</code></p>\n"},{"tags":[],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335284718,"creation_date":1335284718,"answer_id":10301989,"question_id":10301907,"body_markdown":"Please Use \r\n\r\n    static class GenTest()......","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>Please Use </p>\n\n<pre><code>static class GenTest()......\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432013,"reputation":21,"user_id":1354233,"display_name":"Siddharth Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335292234,"creation_date":1335284959,"answer_id":10302059,"question_id":10301907,"body_markdown":"The way you are invoking isn&#39;t the correct way to do that. Since the inner class `GenTest` is a member of the `JavaApp1` the correct way to invoke it would be \r\n\r\n`GenTest x = new JavaApp1().new GenTest();`\r\n\r\nUsing it your class would compile correctly.\r\n\r\n","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>The way you are invoking isn't the correct way to do that. Since the inner class <code>GenTest</code> is a member of the <code>JavaApp1</code> the correct way to invoke it would be </p>\n\n<p><code>GenTest x = new JavaApp1().new GenTest();</code></p>\n\n<p>Using it your class would compile correctly.</p>\n"},{"tags":[],"owner":{"account_id":10778253,"reputation":31,"user_id":7929504,"display_name":"Jose Bert Francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510715567,"creation_date":1506133272,"answer_id":46375415,"question_id":10301907,"body_markdown":"The class is nested which means that your nested class is not static, which means you have to create an object for the nested class through the object of the main class. what that means is your psvm should be like this.\r\n\r\n    public static void main(String[] args) {\r\n        JavaApp1 a=new JavaApp1(); //create an object for the main class\r\n        JavaApp1.GenTest x=a.new GenTest();\r\n\r\n        x.oldFunction();\r\n        x.newFunction();\r\n    }\r\n","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>The class is nested which means that your nested class is not static, which means you have to create an object for the nested class through the object of the main class. what that means is your psvm should be like this.</p>\n\n<pre><code>public static void main(String[] args) {\n    JavaApp1 a=new JavaApp1(); //create an object for the main class\n    JavaApp1.GenTest x=a.new GenTest();\n\n    x.oldFunction();\n    x.newFunction();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10381883,"reputation":3276,"user_id":7656367,"display_name":"antelove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527543540,"creation_date":1527543540,"answer_id":50573669,"question_id":10301907,"body_markdown":"    class Test {\r\n    \t\r\n        static class GenTest { // nested class with static\r\n            \r\n            static void oldFunction() { // static method\r\n                System.out.println(&quot;don&#39;t use that&quot;);\r\n            }\r\n            void newFunction() { // non-static method\r\n                System.out.println(&quot;That&#39;s ok.&quot;);\r\n            }\r\n        }\r\n        \r\n        public static void main (String[] args) {\r\n            GenTest.oldFunction(); // call static method\r\n            \r\n            GenTest two = new GenTest(); // call non-static method\r\n            two.newFunction();\r\n        }\r\n        \r\n    }\r\n\r\nJava Online\r\n[java][1]\r\n\r\n\r\n  [1]: https://ideone.com/RxlJIj","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<pre><code>class Test {\n\n    static class GenTest { // nested class with static\n\n        static void oldFunction() { // static method\n            System.out.println(\"don't use that\");\n        }\n        void newFunction() { // non-static method\n            System.out.println(\"That's ok.\");\n        }\n    }\n\n    public static void main (String[] args) {\n        GenTest.oldFunction(); // call static method\n\n        GenTest two = new GenTest(); // call non-static method\n        two.newFunction();\n    }\n\n}\n</code></pre>\n\n<p>Java Online\n<a href=\"https://ideone.com/RxlJIj\" rel=\"nofollow noreferrer\">java</a></p>\n"}],"owner":{"account_id":343414,"reputation":22982,"user_id":675100,"accept_rate":83,"display_name":"Patryk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8099,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":10301963,"answer_count":8,"score":16,"last_activity_date":1679307006,"creation_date":1335284404,"question_id":10301907,"body_markdown":"I have a very simple class which I want to use as a subclass of another one. But when I put its code in the parent&#39;s class I get : \r\n\r\n&gt; non-static variable this cannot be referenced from a static context\r\n\r\nOn the other hand when I put the sublass `GenTest`&#39;s class code outside the the &quot;parent&#39;s&quot; class code - `JavaApp1` I do not get this error.\r\n\r\n\r\n    public class JavaApp1 {\r\n    \r\n        class GenTest {  \r\n            @Deprecated\r\n            void oldFunction() {\r\n                System.out.println(&quot;don&#39;t use that&quot;);\r\n            }\r\n            void newFunction() {\r\n                System.out.println(&quot;That&#39;s ok.&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            GenTest x = new GenTest();\r\n            x.oldFunction();\r\n            x.newFunction();\r\n        }\r\n    }\r\n\r\n\r\nWhy is this happening ? ","title":"Why do I get &quot;non-static variable this cannot be referenced from a static context&quot;?","body":"<p>I have a very simple class which I want to use as a subclass of another one. But when I put its code in the parent's class I get : </p>\n\n<blockquote>\n  <p>non-static variable this cannot be referenced from a static context</p>\n</blockquote>\n\n<p>On the other hand when I put the sublass <code>GenTest</code>'s class code outside the the \"parent's\" class code - <code>JavaApp1</code> I do not get this error.</p>\n\n<pre><code>public class JavaApp1 {\n\n    class GenTest {  \n        @Deprecated\n        void oldFunction() {\n            System.out.println(\"don't use that\");\n        }\n        void newFunction() {\n            System.out.println(\"That's ok.\");\n        }\n    }\n\n    public static void main(String[] args) {\n        GenTest x = new GenTest();\n        x.oldFunction();\n        x.newFunction();\n    }\n}\n</code></pre>\n\n<p>Why is this happening ? </p>\n"},{"tags":["java","spring","ldap","spring-ldap"],"answers":[{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679306146,"creation_date":1679306146,"answer_id":75788826,"question_id":75654192,"body_markdown":"Null seems to be what is correct for empty fields in ldap","title":"How to store empty/null manager field of a user in LDAP?","body":"<p>Null seems to be what is correct for empty fields in ldap</p>\n"}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788826,"answer_count":1,"score":0,"last_activity_date":1679306146,"creation_date":1678125145,"question_id":75654192,"body_markdown":"    @Attribute(name = &quot;manager&quot;)\r\n    private String manager;\r\n    \r\n    ldapTemplate.create(user);\r\n\r\n\r\nThe following code works when I have manager if I format the string like:\r\n\r\n&quot;manager&quot;: &quot;CN=123456,OU=xxxx,OU=Users,OU=xxxx,OU=xxxx,OU=xxxx,OU=ASP,DC=xxx,DC=local&quot;\r\n\r\nBut how do a store a user without a manager? Null or empty manager String does not work.\r\n\r\nI am using javas spring-ldap","title":"How to store empty/null manager field of a user in LDAP?","body":"<pre><code>@Attribute(name = &quot;manager&quot;)\nprivate String manager;\n\nldapTemplate.create(user);\n</code></pre>\n<p>The following code works when I have manager if I format the string like:</p>\n<p>&quot;manager&quot;: &quot;CN=123456,OU=xxxx,OU=Users,OU=xxxx,OU=xxxx,OU=xxxx,OU=ASP,DC=xxx,DC=local&quot;</p>\n<p>But how do a store a user without a manager? Null or empty manager String does not work.</p>\n<p>I am using javas spring-ldap</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":22068589,"reputation":1,"user_id":16329999,"display_name":"amin fathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679305687,"creation_date":1679305687,"answer_id":75788734,"question_id":75780928,"body_markdown":"    String URL = &quot;https://www.selenium.dev/documentation/webdriver/waits/&quot; ;\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    WebDriver driver = new ChromeDriver(options) ;\r\n    driver.get(URL);\r\n\r\n\r\nI added this code and my problem is fixed ","title":"ChromeDriver is not geting the URL I inserted","body":"<pre><code>String URL = &quot;https://www.selenium.dev/documentation/webdriver/waits/&quot; ;\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(options) ;\ndriver.get(URL);\n</code></pre>\n<p>I added this code and my problem is fixed</p>\n"}],"owner":{"account_id":22068589,"reputation":1,"user_id":16329999,"display_name":"amin fathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788734,"answer_count":1,"score":0,"last_activity_date":1679305687,"creation_date":1679215589,"question_id":75780928,"body_markdown":"I created a maven project. When I run the code using ChromeDriver it opens blank page of chrome and the code stopped:\r\n\r\n    String URL = &quot;https://www.selenium.dev/documentation/webdriver/waits/&quot; ;\r\n            WebDriver driver = new ChromeDriver() ;\r\n            driver.get(URL);\r\n\r\nI tried using Firefox driver and it works, but ChromeDriver has this issue.","title":"ChromeDriver is not geting the URL I inserted","body":"<p>I created a maven project. When I run the code using ChromeDriver it opens blank page of chrome and the code stopped:</p>\n<pre><code>String URL = &quot;https://www.selenium.dev/documentation/webdriver/waits/&quot; ;\n        WebDriver driver = new ChromeDriver() ;\n        driver.get(URL);\n</code></pre>\n<p>I tried using Firefox driver and it works, but ChromeDriver has this issue.</p>\n"},{"tags":["java","android","vue.js","android-studio","quasar"],"comments":[{"owner":{"account_id":1956124,"reputation":1197,"user_id":1759099,"accept_rate":21,"display_name":"HelmBurger"},"score":0,"creation_date":1660181560,"post_id":72982352,"comment_id":129474600,"body_markdown":"Did you ever manage to find a solution to this?","body":"Did you ever manage to find a solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":1318353,"reputation":1,"user_id":5930304,"display_name":"Дмитрий Огородний"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679305168,"creation_date":1679305168,"answer_id":75788634,"question_id":72982352,"body_markdown":"I just run additional &quot; --ide &quot;, like:\r\n\r\n`quasar build -m capacitor -T android --ide`\r\n\r\nThey are open Android Studio and then you can test it or build it for Play Market :)\r\n","title":"Problems with android studio and quasar","body":"<p>I just run additional &quot; --ide &quot;, like:</p>\n<p><code>quasar build -m capacitor -T android --ide</code></p>\n<p>They are open Android Studio and then you can test it or build it for Play Market :)</p>\n"}],"owner":{"account_id":25809116,"reputation":11,"user_id":19550192,"display_name":"facundo benedetto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679305168,"creation_date":1657809596,"question_id":72982352,"body_markdown":"I work with quasar.\r\nI try initiating the project with these commands:\r\n```\r\nquasar build -m capacitor -T android\r\nquasar dev -m capacitor -T android\r\n```\r\nbut when I insert the first command [this error][1] appears\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKWjU.png\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n```","title":"Problems with android studio and quasar","body":"<p>I work with quasar.\nI try initiating the project with these commands:</p>\n<pre><code>quasar build -m capacitor -T android\nquasar dev -m capacitor -T android\n</code></pre>\n<p>but when I insert the first command <a href=\"https://i.stack.imgur.com/BKWjU.png\" rel=\"nofollow noreferrer\">this error</a> appears</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not initialize class org.codehaus.groovy.reflection.ReflectionCache\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7 [in thread &quot;Daemon worker&quot;]\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1678960037,"post_id":75754041,"comment_id":133635152,"body_markdown":"Please check that file is not added as pattern in &quot;Settings/Preferences | Editor | File Types - java class&quot;","body":"Please check that file is not added as pattern in &quot;Settings/Preferences | Editor | File Types - java class&quot;"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1678961736,"post_id":75754041,"comment_id":133635655,"body_markdown":"@y.bedrov it&#39;s not , the hasbang patterns is empty","body":"@y.bedrov it&#39;s not , the hasbang patterns is empty"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1678962221,"post_id":75754041,"comment_id":133635802,"body_markdown":"Is file name pattern is also empty? Do you have &quot;Override file type&quot; option available in file context menu?","body":"Is file name pattern is also empty? Do you have &quot;Override file type&quot; option available in file context menu?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678964801,"post_id":75754041,"comment_id":133636644,"body_markdown":"Is it possible that something in your build system (or even IDEA project configuration) is misconfigured to write class files to `src/main/java/` instead of inside `target/`?","body":"Is it possible that something in your build system (or even IDEA project configuration) is misconfigured to write class files to <code>src&#47;main&#47;java&#47;</code> instead of inside <code>target&#47;</code>?"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1679061808,"post_id":75754041,"comment_id":133658213,"body_markdown":"@y.bedrov , right click remove file override was or something like that was available on right click, i have clicked it now its back to normal. Thanks alot, you could submit the same answer and i can tick it as the winning one","body":"@y.bedrov , right click remove file override was or something like that was available on right click, i have clicked it now its back to normal. Thanks alot, you could submit the same answer and i can tick it as the winning one"}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679304850,"creation_date":1679304850,"answer_id":75788587,"question_id":75754041,"body_markdown":"Seems file was added as a pattern to &quot;File Types - Java class&quot;. You may use  &quot;Revert File type Override&quot; option available in file context menu to restore defaults.","title":"java file gets broken in intellij everytime i close the program","body":"<p>Seems file was added as a pattern to &quot;File Types - Java class&quot;. You may use  &quot;Revert File type Override&quot; option available in file context menu to restore defaults.</p>\n"}],"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788587,"answer_count":1,"score":0,"last_activity_date":1679304850,"creation_date":1678957825,"question_id":75754041,"body_markdown":"I am working on a small project for a java course in IntelliJ\r\n\r\n[![userrepo working][1]][1]\r\n\r\n\r\neverything is good untill i close the program. after i open it it looks like this\r\n\r\n[![userrepo not working][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EiJBe.png\r\n  [2]: https://i.stack.imgur.com/ijh8u.png\r\n\r\nto fix it i need to go into the file explorer, add a s to the name or something, which will change the name into intellij too and then it reads it and i have to rename it back from intellij to UserRepository and all good after. Until i exit the program again.. and its a loop","title":"java file gets broken in intellij everytime i close the program","body":"<p>I am working on a small project for a java course in IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/EiJBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiJBe.png\" alt=\"userrepo working\" /></a></p>\n<p>everything is good untill i close the program. after i open it it looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/ijh8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ijh8u.png\" alt=\"userrepo not working\" /></a></p>\n<p>to fix it i need to go into the file explorer, add a s to the name or something, which will change the name into intellij too and then it reads it and i have to rename it back from intellij to UserRepository and all good after. Until i exit the program again.. and its a loop</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1678869101,"post_id":75741577,"comment_id":133614793,"body_markdown":"Isn&#39;t Processing built on java? I just thought that maybe there is a similar problem in Java too and so added the tag.","body":"Isn&#39;t Processing built on java? I just thought that maybe there is a similar problem in Java too and so added the tag."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678869317,"post_id":75741577,"comment_id":133614843,"body_markdown":"I do not know what it is implemented in. It uses the Java Virtual Machine, but the question is not about the Java Programing Language (unless you want to change the implementation of Processing itself [assuming it is implemented in Java])","body":"I do not know what it is implemented in. It uses the Java Virtual Machine, but the question is not about the Java Programing Language (unless you want to change the implementation of Processing itself [assuming it is implemented in Java])"},{"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"score":1,"creation_date":1678881539,"post_id":75741577,"comment_id":133618190,"body_markdown":"Processing IDE is Processing java library + just a little syntactic sugar on top.","body":"Processing IDE is Processing java library + just a little syntactic sugar on top."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":2,"creation_date":1678902291,"post_id":75741577,"comment_id":133624787,"body_markdown":"I would like to try to reproduce the issue, can I get the code?","body":"I would like to try to reproduce the issue, can I get the code?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1678902794,"post_id":75741577,"comment_id":133624922,"body_markdown":"@user16320675 anyone proficient in Processing knows it uses Java and runs on the JVM. Questions that might be related to the underlying Java or JVM behaviour are perfectly fine to tag with both Processing and Java.","body":"@user16320675 anyone proficient in Processing knows it uses Java and runs on the JVM. Questions that might be related to the underlying Java or JVM behaviour are perfectly fine to tag with both Processing and Java."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":1,"creation_date":1678937082,"post_id":75741577,"comment_id":133631034,"body_markdown":"@user16320675 some Processing questions have their real issue in their java heritage. A java programmer may help a Processing programmer without being a Processing specialist. Tagging java makes sense especially when the issue is weird like this one.","body":"@user16320675 some Processing questions have their real issue in their java heritage. A java programmer may help a Processing programmer without being a Processing specialist. Tagging java makes sense especially when the issue is weird like this one."},{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1679304796,"post_id":75741577,"comment_id":133691101,"body_markdown":"@laancelot I have updated the question to have the github link for the code. Do let me know if you find anything.","body":"@laancelot I have updated the question to have the github link for the code. Do let me know if you find anything."},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1679426514,"post_id":75741577,"comment_id":133719650,"body_markdown":"I&#39;m having trouble reproducing the issue. What speeds are you using (I&#39;m guessing that you are modifying this line: `if (frameCount % 5 == 0) {`, but with which values?)?","body":"I&#39;m having trouble reproducing the issue. What speeds are you using (I&#39;m guessing that you are modifying this line: <code>if (frameCount % 5 == 0) {</code>, but with which values?)?"},{"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"score":1,"creation_date":1679645711,"post_id":75741577,"comment_id":133761574,"body_markdown":"@laancelot please refer to the README file in the repo. Scroll to the end, I have documented how I was able to recreate the error. I&#39;ll write the gist here regardless, the value &#39;5&#39; is the factor by which framerate is reduced. Error occurs when you write ``` frameCount % 1 == 0 ``` which means the program is running at an uncapped fps. You can compare this setup with the original by setting value to 5 and you&#39;ll see the difference. Again refer to the README file in the [repo](https://github.com/Buggermenot/Minesweeper-Bot)","body":"@laancelot please refer to the README file in the repo. Scroll to the end, I have documented how I was able to recreate the error. I&#39;ll write the gist here regardless, the value &#39;5&#39; is the factor by which framerate is reduced. Error occurs when you write ``` frameCount % 1 == 0 ``` which means the program is running at an uncapped fps. You can compare this setup with the original by setting value to 5 and you&#39;ll see the difference. Again refer to the README file in the <a href=\"https://github.com/Buggermenot/Minesweeper-Bot\" rel=\"nofollow noreferrer\">repo</a>"}],"owner":{"account_id":23301628,"reputation":63,"user_id":17382180,"display_name":"BuggerMeNot"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679304815,"creation_date":1678864980,"question_id":75741577,"body_markdown":"I am writing a processing code for a minesweeper solver bot. When running the solver at lower framerates, the code runs perfectly fine, however, at higher framerates, it fails. I have been running the same test with the exact same settings and seed values but this error still stays. How do I fix this?\r\n\r\n**How it works**:\r\nHere is the gist of how the program works (Refer to the control diagram):\r\n```\r\n- Minesweeper gameBoard created with &#39;n&#39; bombs placed randomly on a square grid.\r\n- All cells are initially hidden.\r\n- The solver bot has a private grid of the same size called knowledge.\r\n- Bot uses the following values to describe a cell: UNKNOWN: -2, BOMB: -1, SAFE: 0\r\n- If the bot does not find any suitable cell to play, it left clicks a random hidden cell.\r\n```\r\n\r\n[![Control Flow for the solver](https://i.stack.imgur.com/J95FK.png)](https://i.stack.imgur.com/J95FK.png)\r\n\r\n**Problem**:\r\nThe two attached gifs show the program working for the same grid positions but at two different speeds. The one that fails is at an uncapped fps while the other is capped. (The view in both is the knowledge view; What the bot &quot;sees&quot; / infers)\r\n\r\nSlow Run, Fast Run (failed):\r\n\r\n[![Slow Run](https://i.stack.imgur.com/x81qu.gif)](https://i.stack.imgur.com/x81qu.gif)\r\n[![Fast Run](https://i.stack.imgur.com/sE3CI.gif)](https://i.stack.imgur.com/sE3CI.gif)\r\n\r\nI do not understand why there is such a difference because of the speed of the program. As far as I know, this should be a problem for lack of synchronization but I am not doing any multi-threading in this so I don&#39;t understand why this is happening.\r\n\r\nThanks for you time.\r\n\r\nEdit: GitHub link: https://github.com/Buggermenot/Minesweeper-Bot","title":"Code malfunctions in Processing at higher frameRates","body":"<p>I am writing a processing code for a minesweeper solver bot. When running the solver at lower framerates, the code runs perfectly fine, however, at higher framerates, it fails. I have been running the same test with the exact same settings and seed values but this error still stays. How do I fix this?</p>\n<p><strong>How it works</strong>:\nHere is the gist of how the program works (Refer to the control diagram):</p>\n<pre><code>- Minesweeper gameBoard created with 'n' bombs placed randomly on a square grid.\n- All cells are initially hidden.\n- The solver bot has a private grid of the same size called knowledge.\n- Bot uses the following values to describe a cell: UNKNOWN: -2, BOMB: -1, SAFE: 0\n- If the bot does not find any suitable cell to play, it left clicks a random hidden cell.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J95FK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J95FK.png\" alt=\"Control Flow for the solver\" /></a></p>\n<p><strong>Problem</strong>:\nThe two attached gifs show the program working for the same grid positions but at two different speeds. The one that fails is at an uncapped fps while the other is capped. (The view in both is the knowledge view; What the bot &quot;sees&quot; / infers)</p>\n<p>Slow Run, Fast Run (failed):</p>\n<p><a href=\"https://i.stack.imgur.com/x81qu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x81qu.gif\" alt=\"Slow Run\" /></a>\n<a href=\"https://i.stack.imgur.com/sE3CI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sE3CI.gif\" alt=\"Fast Run\" /></a></p>\n<p>I do not understand why there is such a difference because of the speed of the program. As far as I know, this should be a problem for lack of synchronization but I am not doing any multi-threading in this so I don't understand why this is happening.</p>\n<p>Thanks for you time.</p>\n<p>Edit: GitHub link: <a href=\"https://github.com/Buggermenot/Minesweeper-Bot\" rel=\"nofollow noreferrer\">https://github.com/Buggermenot/Minesweeper-Bot</a></p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641366755,"post_id":70588759,"comment_id":124783395,"body_markdown":"I don&#39;t know if there is a ready made solution for that in spring boot, but nothing is stopping you from storing a flag somewhere in the db, that is being checked at the start of execution, and let that help you decide whether or not to execute the actual batch logic","body":"I don&#39;t know if there is a ready made solution for that in spring boot, but nothing is stopping you from storing a flag somewhere in the db, that is being checked at the start of execution, and let that help you decide whether or not to execute the actual batch logic"},{"owner":{"account_id":13351697,"reputation":31,"user_id":9636723,"display_name":"Zerobell Lee"},"score":0,"creation_date":1641373061,"post_id":70588759,"comment_id":124785175,"body_markdown":"Thank you @Stultuske I posted this question just for my curiosity. Maybe I will adopt libraries such as distributed lock. I wanted to check whether Spring Batch itself guarantee idempotent tasks, and lots of article said &quot;Yes, it does&quot; but none of them described how it does in details. That&#39;s why I wrote this article.","body":"Thank you @Stultuske I posted this question just for my curiosity. Maybe I will adopt libraries such as distributed lock. I wanted to check whether Spring Batch itself guarantee idempotent tasks, and lots of article said &quot;Yes, it does&quot; but none of them described how it does in details. That&#39;s why I wrote this article."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679304778,"creation_date":1679304778,"answer_id":75788569,"question_id":70588759,"body_markdown":"&gt; How about executing same jobs when the last execution was FAILED?\r\n\r\nThe method that creates job executions is designed to be transactional. As mentioned in the docs you shared, the isolation level `REPEATABLE_READ` should work in most cases. If this is not sufficient (ie you still see concurrent job executions being launched for the same job instance), then you need to increase the isolation level to `SERIALIZABLE`. That would really serialize concurrent access at the database level, and Spring Batch can do nothing about it.\r\n\r\nNow to answer your question about the failure case, once you have a `SERIALIZABLE` isolation level set on your job repository, the lucky winner  (process or thread) who will be able to access the `createJobExecution` method will check the existence of a job instance with the given name and identifying job parameters, and if there is already a failed execution, a new execution for the same job instance will be created to resume the job from where it left off in the previous run.","title":"Does Spring Batch really prevent executing same jobs concurrently? Is it really idempotent?","body":"<blockquote>\n<p>How about executing same jobs when the last execution was FAILED?</p>\n</blockquote>\n<p>The method that creates job executions is designed to be transactional. As mentioned in the docs you shared, the isolation level <code>REPEATABLE_READ</code> should work in most cases. If this is not sufficient (ie you still see concurrent job executions being launched for the same job instance), then you need to increase the isolation level to <code>SERIALIZABLE</code>. That would really serialize concurrent access at the database level, and Spring Batch can do nothing about it.</p>\n<p>Now to answer your question about the failure case, once you have a <code>SERIALIZABLE</code> isolation level set on your job repository, the lucky winner  (process or thread) who will be able to access the <code>createJobExecution</code> method will check the existence of a job instance with the given name and identifying job parameters, and if there is already a failed execution, a new execution for the same job instance will be created to resume the job from where it left off in the previous run.</p>\n"}],"owner":{"account_id":13351697,"reputation":31,"user_id":9636723,"display_name":"Zerobell Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679304778,"creation_date":1641364976,"question_id":70588759,"body_markdown":"I&#39;ve researched Spring Batch since I have to use it, and I want to know whether Spring Batch can really prevent executing same jobs with same parameters.\r\n\r\nIn this article, &quot;Same jobs&quot; means &quot;The jobs that have actually same jobName and jobParameters&quot;.\r\n\r\n\r\nI got some points.\r\n\r\n* Spring Batch can prevent executing same multiple jobs that executed never before\r\n* Spring Batch can prevent executing the same job after the prior job succeeded\r\n\r\nBut I have a question: **How about executing same jobs when the last execution was FAILED?**\r\n\r\n[![multiple batch app][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqgOO.png\r\n\r\nWhile insepcting Spring Batch codes, I feel this situation possibly occur, but rarely.\r\n\r\n```java\r\n\t@Override\r\n\tpublic JobExecution createJobExecution(String jobName, JobParameters jobParameters)\r\n\t\t\tthrows JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\r\n\r\n\t\tAssert.notNull(jobName, &quot;Job name must not be null.&quot;);\r\n\t\tAssert.notNull(jobParameters, &quot;JobParameters must not be null.&quot;);\r\n\r\n\t\t/*\r\n\t\t * Find all jobs matching the runtime information.\r\n\t\t *\r\n\t\t * If this method is transactional, and the isolation level is\r\n\t\t * REPEATABLE_READ or better, another launcher trying to start the same\r\n\t\t * job in another thread or process will block until this transaction\r\n\t\t * has finished.\r\n\t\t */\r\n\r\n\t\tJobInstance jobInstance = jobInstanceDao.getJobInstance(jobName, jobParameters);\r\n\t\tExecutionContext executionContext;\r\n\r\n\t\t// existing job instance found\r\n\t\tif (jobInstance != null) {\r\n\r\n\t\t\tList&lt;JobExecution&gt; executions = jobExecutionDao.findJobExecutions(jobInstance);\r\n\r\n\t\t\tif (executions.isEmpty()) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Cannot find any job execution for job instance: &quot; + jobInstance);\r\n\t\t\t}\r\n\r\n\t\t\t// check for running executions and find the last started\r\n\t\t\tfor (JobExecution execution : executions) {\r\n\t\t\t\tif (execution.isRunning() || execution.isStopping()) {\r\n\t\t\t\t\tthrow new JobExecutionAlreadyRunningException(&quot;A job execution for this job is already running: &quot;\r\n\t\t\t\t\t\t\t+ jobInstance);\r\n\t\t\t\t}\r\n\t\t\t\tBatchStatus status = execution.getStatus();\r\n\t\t\t\tif (status == BatchStatus.UNKNOWN) {\r\n\t\t\t\t\tthrow new JobRestartException(&quot;Cannot restart job from UNKNOWN status. &quot;\r\n\t\t\t\t\t\t\t+ &quot;The last execution ended with a failure that could not be rolled back, &quot;\r\n\t\t\t\t\t\t\t+ &quot;so it may be dangerous to proceed. Manual intervention is probably necessary.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tCollection&lt;JobParameter&gt; allJobParameters = execution.getJobParameters().getParameters().values();\r\n\t\t\t\tlong identifyingJobParametersCount = allJobParameters.stream().filter(JobParameter::isIdentifying).count();\r\n\t\t\t\tif (identifyingJobParametersCount &gt; 0 &amp;&amp; (status == BatchStatus.COMPLETED || status == BatchStatus.ABANDONED)) {\r\n\t\t\t\t\tthrow new JobInstanceAlreadyCompleteException(\r\n\t\t\t\t\t\t\t&quot;A job instance already exists and is complete for parameters=&quot; + jobParameters\r\n\t\t\t\t\t\t\t+ &quot;.  If you want to run this job again, change the parameters.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\texecutionContext = ecDao.getExecutionContext(jobExecutionDao.getLastJobExecution(jobInstance));\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// no job found, create one\r\n\t\t\tjobInstance = jobInstanceDao.createJobInstance(jobName, jobParameters);\r\n\t\t\texecutionContext = new ExecutionContext();\r\n\t\t}\r\n\r\n\t\tJobExecution jobExecution = new JobExecution(jobInstance, jobParameters, null);\r\n\t\tjobExecution.setExecutionContext(executionContext);\r\n\t\tjobExecution.setLastUpdated(new Date(System.currentTimeMillis()));\r\n\r\n\t\t// Save the JobExecution so that it picks up an ID (useful for clients\r\n\t\t// monitoring asynchronous executions):\r\n\t\tjobExecutionDao.saveJobExecution(jobExecution);\r\n\t\tecDao.saveExecutionContext(jobExecution);\r\n\r\n\t\treturn jobExecution;\r\n\r\n\t}\r\n```\r\n\r\nThis snippet is from SimpleJobRepository of Spring Batch. according to `createJobExecution`, if the job instance already exists and the last execution for the job was failed, the method saves new execution with incremental id.\r\n\r\nIt is written that &quot;If this method is transactional, and the isolation level is REPEATABLE_READ or better, another launcher trying to start the same job in another thread or process will block until this transaction has finished&quot;, however, **even if this method is transactional and isolated with &quot;SERIALIZABLE&quot; level**, it does not use exclusive lock for querying executions of jobs so that another launcher can get last executions at the same time.\r\n\r\nOf course once another launcher gets last executions before the first launcher commit the transaction, it will save new execution and do its own task.\r\n\r\nI tried to find out whether any hints for preventing this situation, but I couldn&#39;t. I need your help. Thank you.\r\n\r\nIn summary: I think same jobs can be executed twice or more very rarely when multiple batch apps triggered at the same time and the last execution status of the job was FAILED. Am I right? Please give me some hints.","title":"Does Spring Batch really prevent executing same jobs concurrently? Is it really idempotent?","body":"<p>I've researched Spring Batch since I have to use it, and I want to know whether Spring Batch can really prevent executing same jobs with same parameters.</p>\n<p>In this article, &quot;Same jobs&quot; means &quot;The jobs that have actually same jobName and jobParameters&quot;.</p>\n<p>I got some points.</p>\n<ul>\n<li>Spring Batch can prevent executing same multiple jobs that executed never before</li>\n<li>Spring Batch can prevent executing the same job after the prior job succeeded</li>\n</ul>\n<p>But I have a question: <strong>How about executing same jobs when the last execution was FAILED?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/NqgOO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqgOO.png\" alt=\"multiple batch app\" /></a></p>\n<p>While insepcting Spring Batch codes, I feel this situation possibly occur, but rarely.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public JobExecution createJobExecution(String jobName, JobParameters jobParameters)\n            throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\n\n        Assert.notNull(jobName, &quot;Job name must not be null.&quot;);\n        Assert.notNull(jobParameters, &quot;JobParameters must not be null.&quot;);\n\n        /*\n         * Find all jobs matching the runtime information.\n         *\n         * If this method is transactional, and the isolation level is\n         * REPEATABLE_READ or better, another launcher trying to start the same\n         * job in another thread or process will block until this transaction\n         * has finished.\n         */\n\n        JobInstance jobInstance = jobInstanceDao.getJobInstance(jobName, jobParameters);\n        ExecutionContext executionContext;\n\n        // existing job instance found\n        if (jobInstance != null) {\n\n            List&lt;JobExecution&gt; executions = jobExecutionDao.findJobExecutions(jobInstance);\n\n            if (executions.isEmpty()) {\n                throw new IllegalStateException(&quot;Cannot find any job execution for job instance: &quot; + jobInstance);\n            }\n\n            // check for running executions and find the last started\n            for (JobExecution execution : executions) {\n                if (execution.isRunning() || execution.isStopping()) {\n                    throw new JobExecutionAlreadyRunningException(&quot;A job execution for this job is already running: &quot;\n                            + jobInstance);\n                }\n                BatchStatus status = execution.getStatus();\n                if (status == BatchStatus.UNKNOWN) {\n                    throw new JobRestartException(&quot;Cannot restart job from UNKNOWN status. &quot;\n                            + &quot;The last execution ended with a failure that could not be rolled back, &quot;\n                            + &quot;so it may be dangerous to proceed. Manual intervention is probably necessary.&quot;);\n                }\n                Collection&lt;JobParameter&gt; allJobParameters = execution.getJobParameters().getParameters().values();\n                long identifyingJobParametersCount = allJobParameters.stream().filter(JobParameter::isIdentifying).count();\n                if (identifyingJobParametersCount &gt; 0 &amp;&amp; (status == BatchStatus.COMPLETED || status == BatchStatus.ABANDONED)) {\n                    throw new JobInstanceAlreadyCompleteException(\n                            &quot;A job instance already exists and is complete for parameters=&quot; + jobParameters\n                            + &quot;.  If you want to run this job again, change the parameters.&quot;);\n                }\n            }\n            executionContext = ecDao.getExecutionContext(jobExecutionDao.getLastJobExecution(jobInstance));\n        }\n        else {\n            // no job found, create one\n            jobInstance = jobInstanceDao.createJobInstance(jobName, jobParameters);\n            executionContext = new ExecutionContext();\n        }\n\n        JobExecution jobExecution = new JobExecution(jobInstance, jobParameters, null);\n        jobExecution.setExecutionContext(executionContext);\n        jobExecution.setLastUpdated(new Date(System.currentTimeMillis()));\n\n        // Save the JobExecution so that it picks up an ID (useful for clients\n        // monitoring asynchronous executions):\n        jobExecutionDao.saveJobExecution(jobExecution);\n        ecDao.saveExecutionContext(jobExecution);\n\n        return jobExecution;\n\n    }\n</code></pre>\n<p>This snippet is from SimpleJobRepository of Spring Batch. according to <code>createJobExecution</code>, if the job instance already exists and the last execution for the job was failed, the method saves new execution with incremental id.</p>\n<p>It is written that &quot;If this method is transactional, and the isolation level is REPEATABLE_READ or better, another launcher trying to start the same job in another thread or process will block until this transaction has finished&quot;, however, <strong>even if this method is transactional and isolated with &quot;SERIALIZABLE&quot; level</strong>, it does not use exclusive lock for querying executions of jobs so that another launcher can get last executions at the same time.</p>\n<p>Of course once another launcher gets last executions before the first launcher commit the transaction, it will save new execution and do its own task.</p>\n<p>I tried to find out whether any hints for preventing this situation, but I couldn't. I need your help. Thank you.</p>\n<p>In summary: I think same jobs can be executed twice or more very rarely when multiple batch apps triggered at the same time and the last execution status of the job was FAILED. Am I right? Please give me some hints.</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679304596,"creation_date":1679304596,"answer_id":75788542,"question_id":75787802,"body_markdown":"You cannot access a DRL global from the body of a DRL function.\r\n\r\nThe rationale is the following: DRL functions are equivalent to Java `static` methods. A DRL global can be considered analogous to an instance field (as you can see in your snippet, you set the global value on a Session instance, not a KBase). Similarly to Java, you cannot access instance fields from a static method.\r\n\r\nIf you tried to define `static void addString(String s) {...}` as a static method in Java and then to use it from the RHS, you would have faced similar issue: the definition of the static method do not have scope access to your `stringList` instance.\r\n\r\nYou can always refactor your code to comply with scope visibility and address your need in a different way.","title":"Access Global variable from drool function in the file.drl","body":"<p>You cannot access a DRL global from the body of a DRL function.</p>\n<p>The rationale is the following: DRL functions are equivalent to Java <code>static</code> methods. A DRL global can be considered analogous to an instance field (as you can see in your snippet, you set the global value on a Session instance, not a KBase). Similarly to Java, you cannot access instance fields from a static method.</p>\n<p>If you tried to define <code>static void addString(String s) {...}</code> as a static method in Java and then to use it from the RHS, you would have faced similar issue: the definition of the static method do not have scope access to your <code>stringList</code> instance.</p>\n<p>You can always refactor your code to comply with scope visibility and address your need in a different way.</p>\n"}],"owner":{"account_id":11255741,"reputation":3,"user_id":8255604,"display_name":"Abdallah Shaaban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788542,"answer_count":1,"score":0,"last_activity_date":1679304596,"creation_date":1679299719,"question_id":75787802,"body_markdown":"When I&#39;m trying to access the global variable from the drool function I got an exception:\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n&gt; threw exception; nested exception is java.lang.RuntimeException:\r\n&gt; Unable to get KieModule, Errors Existed: Error Messages: Message\r\n&gt; [id=1, kieBase=defaultKieBase, level=ERROR, path=insuranceperiod.drl,\r\n&gt; line=-1, column=0   text=Error importing :\r\n&gt; &#39;KieRule.AddString.addString&#39;] Message [id=2, kieBase=defaultKieBase,\r\n&gt; level=ERROR, path=insuranceperiod.drl, line=15, column=0 text=[\r\n&gt; function addStringaddString (line:15): stringList cannot be resolved\r\n&gt; ]]\r\n\r\nthe code is below:\r\n\r\n- **Java Code** \r\n       \r\n```\r\nList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\ndroolSession.setGlobal(&quot;stringList&quot;,stringList)\r\ndroolSession.fireAllRules();\r\n```\r\n\r\n\r\n- **drl Code**\r\n```\r\nglobal java.util.List stringList;\r\n\r\nfunction void addString(String s){\r\n    stringList.add(s);\r\n}\r\n```\r\n\r\n\r\nTry to access global variable inside drool function\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6WDSB.png","title":"Access Global variable from drool function in the file.drl","body":"<p>When I'm trying to access the global variable from the drool function I got an exception:</p>\n<p><a href=\"https://i.stack.imgur.com/6WDSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6WDSB.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>threw exception; nested exception is java.lang.RuntimeException:\nUnable to get KieModule, Errors Existed: Error Messages: Message\n[id=1, kieBase=defaultKieBase, level=ERROR, path=insuranceperiod.drl,\nline=-1, column=0   text=Error importing :\n'KieRule.AddString.addString'] Message [id=2, kieBase=defaultKieBase,\nlevel=ERROR, path=insuranceperiod.drl, line=15, column=0 text=[\nfunction addStringaddString (line:15): stringList cannot be resolved\n]]</p>\n</blockquote>\n<p>the code is below:</p>\n<ul>\n<li><strong>Java Code</strong></li>\n</ul>\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\ndroolSession.setGlobal(&quot;stringList&quot;,stringList)\ndroolSession.fireAllRules();\n</code></pre>\n<ul>\n<li><strong>drl Code</strong></li>\n</ul>\n<pre><code>global java.util.List stringList;\n\nfunction void addString(String s){\n    stringList.add(s);\n}\n</code></pre>\n<p>Try to access global variable inside drool function</p>\n"},{"tags":["java","ssl","jms","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1601010136,"post_id":64057285,"comment_id":113275906,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1601010781,"post_id":64057285,"comment_id":113276053,"body_markdown":"Have you tried to turn on ssl debug? Do you have the correct certs in your trust store?","body":"Have you tried to turn on ssl debug? Do you have the correct certs in your trust store?"},{"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"score":0,"creation_date":1601041116,"post_id":64057285,"comment_id":113288913,"body_markdown":"I thought I had been testing with different java versions but I wasn&#39;t because gradle was picking up multiple org.gradle.java.home settings.  I now see that this problem occurs starting in Java 15.  I can go back to 14 for now, but still... it&#39;s a problem","body":"I thought I had been testing with different java versions but I wasn&#39;t because gradle was picking up multiple org.gradle.java.home settings.  I now see that this problem occurs starting in Java 15.  I can go back to 14 for now, but still... it&#39;s a problem"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1601042484,"post_id":64057285,"comment_id":113289563,"body_markdown":"For what it&#39;s worth, it&#39;s not uncommon for libraries to need updates in order to run on later versions of Java. Does IBM advertise that `com.ibm.mq:com.ibm.mq.allclient:9.2.0.0` should work on Java 15?","body":"For what it&#39;s worth, it&#39;s not uncommon for libraries to need updates in order to run on later versions of Java. Does IBM advertise that <code>com.ibm.mq:com.ibm.mq.allclient:9.2.0.0</code> should work on Java 15?"},{"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"score":0,"creation_date":1601045550,"post_id":64057285,"comment_id":113291129,"body_markdown":"Nope, I haven&#39;t seen any comments from IBM but I suspect an update will be coming eventually.","body":"Nope, I haven&#39;t seen any comments from IBM but I suspect an update will be coming eventually."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1601048355,"post_id":64057285,"comment_id":113292554,"body_markdown":"IBM system requirements show that 9.2 is only supported with Java 8 and 11.  Any other versions that may work would be used at your own risk as IBM would likely tell you to use a supported version if you have a issue.  I&#39;ll provide an answer with a link to the documentation.","body":"IBM system requirements show that 9.2 is only supported with Java 8 and 11.  Any other versions that may work would be used at your own risk as IBM would likely tell you to use a supported version if you have a issue.  I&#39;ll provide an answer with a link to the documentation."},{"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"score":0,"creation_date":1633005804,"post_id":64057285,"comment_id":122650205,"body_markdown":"This is the JIRA in case anybody is interested https://bugs.openjdk.java.net/browse/JDK-8241047","body":"This is the JIRA in case anybody is interested <a href=\"https://bugs.openjdk.java.net/browse/JDK-8241047\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8241047</a>"},{"owner":{"account_id":2658346,"reputation":1306,"user_id":2298578,"display_name":"Matthias"},"score":0,"creation_date":1658331510,"post_id":64057285,"comment_id":129026882,"body_markdown":"This bug has been fixed in com.ibm.mq:com.ibm.mq.allclient:9.2.4.0 from the continuous delivery release train and in com.ibm.mq:com.ibm.mq.allclient:9.3.0.0 from the LTS release train.","body":"This bug has been fixed in com.ibm.mq:com.ibm.mq.allclient:9.2.4.0 from the continuous delivery release train and in com.ibm.mq:com.ibm.mq.allclient:9.3.0.0 from the LTS release train."}],"answers":[{"tags":[],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601045617,"creation_date":1601045617,"answer_id":64066538,"question_id":64057285,"body_markdown":"Solution: Use Java 14 or earlier.","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>Solution: Use Java 14 or earlier.</p>\n"},{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601050542,"creation_date":1601050542,"answer_id":64067808,"question_id":64057285,"body_markdown":"In your question you mention that this was failing with Java 15 and you posted a self answer to use Java 14 or earlier.\r\n\r\n---\r\n\r\nAccording to the &quot;Supported Software&quot; tab of the [IBM MQ 9.2 Detailed System Requirements](https://www.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProduct?deliverableId=0A8B49C00A0B11EABCF401BE73544226&amp;osPlatforms=AIX|IBM%20i|Linux|Windows|z/OS&amp;duComponentIds=A004|C012&amp;optionalCapIds=25) page IBM only supports MQ v9.2 on various versions of Java 8 and Java 11.\r\n\r\nI am listing below the versions that show up on that page today (September 25 2020), but I would suggest always referring back to the IBM page above for current results:\r\n\r\n* AdoptOpenJDK with OpenJ9 JVM: 11 and future fix packs\r\n* Developer Kit for Java: V8R0 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.1 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.4.1 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.5.0 and future fix packs\r\n* IBM Runtime Environment, Java Technology Edition: 8.0.6.0 and future fix packs\r\n* Oracle Java SDK/JRE/JDK: 8.0 and future fix packs\r\n* Oracle Java SDK/JRE/JDK: 11.0.1 and future fix packs\r\n\r\n---\r\n\r\nUsing any version of Java not listed on IBM&#39;s official MQ v9.2 System Requirements page would be at your own risk.  If you were using Java 14 and had an issue that you needed to get support from IBM on, they would likely tell you that it is not supported at that version and to reproduce the problem at a supported version. ","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>In your question you mention that this was failing with Java 15 and you posted a self answer to use Java 14 or earlier.</p>\n<hr />\n<p>According to the &quot;Supported Software&quot; tab of the <a href=\"https://www.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProduct?deliverableId=0A8B49C00A0B11EABCF401BE73544226&amp;osPlatforms=AIX%7CIBM%20i%7CLinux%7CWindows%7Cz/OS&amp;duComponentIds=A004%7CC012&amp;optionalCapIds=25\" rel=\"nofollow noreferrer\">IBM MQ 9.2 Detailed System Requirements</a> page IBM only supports MQ v9.2 on various versions of Java 8 and Java 11.</p>\n<p>I am listing below the versions that show up on that page today (September 25 2020), but I would suggest always referring back to the IBM page above for current results:</p>\n<ul>\n<li>AdoptOpenJDK with OpenJ9 JVM: 11 and future fix packs</li>\n<li>Developer Kit for Java: V8R0 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.1 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.4.1 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.5.0 and future fix packs</li>\n<li>IBM Runtime Environment, Java Technology Edition: 8.0.6.0 and future fix packs</li>\n<li>Oracle Java SDK/JRE/JDK: 8.0 and future fix packs</li>\n<li>Oracle Java SDK/JRE/JDK: 11.0.1 and future fix packs</li>\n</ul>\n<hr />\n<p>Using any version of Java not listed on IBM's official MQ v9.2 System Requirements page would be at your own risk.  If you were using Java 14 and had an issue that you needed to get support from IBM on, they would likely tell you that it is not supported at that version and to reproduce the problem at a supported version.</p>\n"},{"tags":[],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633295678,"creation_date":1633295678,"answer_id":69428939,"question_id":64057285,"body_markdown":"I created a library that may work around the problem if you have programmatic access to the `MQConnectionFactory `. [legacy-compatibility-ssl-socket-factory](https://github.com/marschall/legacy-compatibility-ssl-socket-factory) gives you a `SSLSession` that implements `getPeerCertificateChain()` by delegating to `getPeerCertificates()` of a different `SSLSocketFactory `.\r\n\r\n    mqConnectionFactory.setSSLSocketFactory(new LegacyCompatibilitySSLSocketFactory());","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>I created a library that may work around the problem if you have programmatic access to the <code>MQConnectionFactory </code>. <a href=\"https://github.com/marschall/legacy-compatibility-ssl-socket-factory\" rel=\"nofollow noreferrer\">legacy-compatibility-ssl-socket-factory</a> gives you a <code>SSLSession</code> that implements <code>getPeerCertificateChain()</code> by delegating to <code>getPeerCertificates()</code> of a different <code>SSLSocketFactory </code>.</p>\n<pre><code>mqConnectionFactory.setSSLSocketFactory(new LegacyCompatibilitySSLSocketFactory());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6421348,"reputation":51,"user_id":4978008,"display_name":"Cyrille HEIT"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639957593,"creation_date":1637530118,"answer_id":70058738,"question_id":64057285,"body_markdown":"In the latest release, they apparently provide JAVA 17 support.\r\n\r\nSources: \r\n* https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\r\n* https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>In the latest release, they apparently provide JAVA 17 support.</p>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html</a></li>\n<li><a href=\"https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.ibm.mq/com.ibm.mq.allclient/9.2.4.0/jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638274076,"creation_date":1638272093,"answer_id":70168706,"question_id":64057285,"body_markdown":"IBM MQ client 9.2.4.0 supports Java 17\r\n\r\nhttps://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\r\n\r\n&gt; **MQ 9.2.4**\r\n&gt; - Intelligent workload rebalancing with updates to uniform clusters\r\n&gt; - Security enhancements that build on the existing robust security mechanisms in MQ, designed to ensure that your mission-critical\r\n&gt; business data is protected\r\n&gt; - MQ client support for new Java™ 11 runtimes\r\n&gt; - MQ client support for Java 17 runtimes\r\n\r\nhttps://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support\r\n\r\n&gt; **Java 17 support for IBM MQ Clients**\r\n&gt; - IBM MQ 9.2.4 adds Java 17 support for IBM MQ classes for Java and IBM MQ classes for JMS for Oracle and Oracle and Adoptium.\r\n\r\nIf using maven, you can likely fix via\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n    &lt;version&gt;9.2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>IBM MQ client 9.2.4.0 supports Java 17</p>\n<p><a href=\"https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/common/ssi/ShowDoc.wss?docURL=/common/ssi/rep_ca/8/899/ENUSLP21-0278/index.html</a></p>\n<blockquote>\n<p><strong>MQ 9.2.4</strong></p>\n<ul>\n<li>Intelligent workload rebalancing with updates to uniform clusters</li>\n<li>Security enhancements that build on the existing robust security mechanisms in MQ, designed to ensure that your mission-critical\nbusiness data is protected</li>\n<li>MQ client support for new Java™ 11 runtimes</li>\n<li>MQ client support for Java 17 runtimes</li>\n</ul>\n</blockquote>\n<p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.2?topic=wnim9-whats-new-in-mq-924-multiplatforms-base-advanced-entitlement#mq924_new_multibaseadv__java17support</a></p>\n<blockquote>\n<p><strong>Java 17 support for IBM MQ Clients</strong></p>\n<ul>\n<li>IBM MQ 9.2.4 adds Java 17 support for IBM MQ classes for Java and IBM MQ classes for JMS for Oracle and Oracle and Adoptium.</li>\n</ul>\n</blockquote>\n<p>If using maven, you can likely fix via</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n    &lt;version&gt;9.2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5773,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1679304444,"creation_date":1601003694,"question_id":64057285,"body_markdown":"When calling: \r\n\r\n    MQQueueConnectionFactory cf ...\r\n    cf.createConnection();\r\n\r\nThe com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted method begins:\r\n\r\n    public void handshakeCompleted(HandshakeCompletedEvent event) {\r\n     X509Certificate[] peerCertificateChain = event.getPeerCertificateChain();\r\n     ...\r\n\r\ngetPeerCertificateChain in javax.net.ssl.SSLSession:\r\n\r\n    default X509Certificate[] getPeerCertificateChain() throws SSLPeerUnverifiedException {\r\n        throw new UnsupportedOperationException(&quot;This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.&quot;);\r\n    }\r\ncausing this exception:\r\n\r\n    Exception in thread &quot;HandshakeCompletedNotify-Thread&quot; java.lang.UnsupportedOperationException: This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.\r\n        at java.base/javax.net.ssl.SSLSession.getPeerCertificateChain(SSLSession.java:295)\r\n        at java.base/javax.net.ssl.HandshakeCompletedEvent.getPeerCertificateChain(HandshakeCompletedEvent.java:173)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted(RemoteTCPConnection.java:2448)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:685)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:682)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n        at java.base/sun.security.ssl.TransportContext$NotifyHandshake.run(TransportContext.java:682)\r\n        at java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\nThe project&#39;s only IBM MQ dependency is:\r\n\r\n    com.ibm.mq:com.ibm.mq.allclient:9.2.0.0\r\n\r\nWhy is javax.net.ssl.getPeerCertificateChain() calling that deprecated method?  It looks like the problem is in the HandshakeCompletedEvent class, not MQ.\r\n\r\nEdit:  This issue started with Java 15.\r\n","title":"IBM MQ throws java.lang.UnsupportedOperationException on SSL handshake","body":"<p>When calling:</p>\n<pre><code>MQQueueConnectionFactory cf ...\ncf.createConnection();\n</code></pre>\n<p>The com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted method begins:</p>\n<pre><code>public void handshakeCompleted(HandshakeCompletedEvent event) {\n X509Certificate[] peerCertificateChain = event.getPeerCertificateChain();\n ...\n</code></pre>\n<p>getPeerCertificateChain in javax.net.ssl.SSLSession:</p>\n<pre><code>default X509Certificate[] getPeerCertificateChain() throws SSLPeerUnverifiedException {\n    throw new UnsupportedOperationException(&quot;This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.&quot;);\n}\n</code></pre>\n<p>causing this exception:</p>\n<pre><code>Exception in thread &quot;HandshakeCompletedNotify-Thread&quot; java.lang.UnsupportedOperationException: This method is deprecated and marked for removal. Use the getPeerCertificates() method instead.\n    at java.base/javax.net.ssl.SSLSession.getPeerCertificateChain(SSLSession.java:295)\n    at java.base/javax.net.ssl.HandshakeCompletedEvent.getPeerCertificateChain(HandshakeCompletedEvent.java:173)\n    at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.handshakeCompleted(RemoteTCPConnection.java:2448)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:685)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake$1.run(TransportContext.java:682)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/sun.security.ssl.TransportContext$NotifyHandshake.run(TransportContext.java:682)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>The project's only IBM MQ dependency is:</p>\n<pre><code>com.ibm.mq:com.ibm.mq.allclient:9.2.0.0\n</code></pre>\n<p>Why is javax.net.ssl.getPeerCertificateChain() calling that deprecated method?  It looks like the problem is in the HandshakeCompletedEvent class, not MQ.</p>\n<p>Edit:  This issue started with Java 15.</p>\n"},{"tags":["java","spring-boot","maven","gradle","integration-testing"],"owner":{"display_name":"user21431812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679303390,"creation_date":1679302757,"question_id":75788243,"body_markdown":"I have the following test class implementations and when I run tests, I get some security related errors (I use Spring Security in my app and tested endpoints requires to be authenticated and authorized).\r\n\r\n***IntegrationTest :***\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@Transactional\r\n@ActiveProfiles(&quot;test&quot;)\r\nabstract public class IntegrationTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mvc;\r\n}\r\n```\r\n\r\n\r\n***ProductControllerTest :***\r\n\r\n```\r\nclass ProductControllerTest extends IntegrationTest {\r\n\r\n    @Test\r\n    // @Sql(&quot;/insert-data.sql&quot;)\r\n    void findById() throws Exception {\r\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nhere is my `application-test.yml` below:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:tc:postgresql:13.2-alpine://product\r\n\r\n  flyway:\r\n    enabled: true\r\n    placeholderReplacement: false\r\n    baseline-on-migrate: true\r\n```\r\n\r\nAnd `pom.xml`, I think I missed something on pom.xml. \r\nActually I don&#39;t know how can I transforom the original gradle example in here:\r\n\r\nhttps://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle\r\n\r\nIf you check and compare what is missing or redundant, I would really be appreciated.\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-configuration-processor --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/postgresql --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;1.17.6&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/testcontainers-bom --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n    &lt;version&gt;1.17.6&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAny idea what is missing or wrong?\r\n\r\nThis config throws: \r\n&gt;Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: \r\nDriver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:13.2-alpine://product\r\n\r\n\r\n\r\n","title":"Do I have to mock Authentication related classes for Integration Tests (@SpringBootTest)","body":"<p>I have the following test class implementations and when I run tests, I get some security related errors (I use Spring Security in my app and tested endpoints requires to be authenticated and authorized).</p>\n<p><em><strong>IntegrationTest :</strong></em></p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@ActiveProfiles(&quot;test&quot;)\nabstract public class IntegrationTest {\n\n    @Autowired\n    protected MockMvc mvc;\n}\n</code></pre>\n<p><em><strong>ProductControllerTest :</strong></em></p>\n<pre><code>class ProductControllerTest extends IntegrationTest {\n\n    @Test\n    // @Sql(&quot;/insert-data.sql&quot;)\n    void findById() throws Exception {\n        mvc.perform((get(&quot;/api/v1/products/{id}&quot;, 1)))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.data.name&quot;, equalTo(&quot;Laptop&quot;)));\n    }\n\n}\n</code></pre>\n<p>here is my <code>application-test.yml</code> below:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:tc:postgresql:13.2-alpine://product\n\n  flyway:\n    enabled: true\n    placeholderReplacement: false\n    baseline-on-migrate: true\n</code></pre>\n<p>And <code>pom.xml</code>, I think I missed something on pom.xml.\nActually I don't know how can I transforom the original gradle example in here:</p>\n<p><a href=\"https://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/arhohuttunen/spring-boot-test-examples/blob/main/spring-boot-integration-testing/build.gradle</a></p>\n<p>If you check and compare what is missing or redundant, I would really be appreciated.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-configuration-processor --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/postgresql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;1.17.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.testcontainers/testcontainers-bom --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n    &lt;version&gt;1.17.6&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Any idea what is missing or wrong?</p>\n<p>This config throws:</p>\n<blockquote>\n<p>Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]:\nDriver org.postgresql.Driver claims to not accept jdbcUrl, jdbc:tc:postgresql:13.2-alpine://product</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","kotlin","gradle"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678815406,"post_id":75732275,"comment_id":133605336,"body_markdown":"Please start your application with `--debug` (so `java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug`) and share the complete output","body":"Please start your application with <code>--debug</code> (so <code>java -jar build&#47;libs&#47;krm-backend-0.0.1-SNAPSHOT.jar --debug</code>) and share the complete output"},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1678886279,"post_id":75732275,"comment_id":133619539,"body_markdown":"@AndyWilkinson Seems to have the same output, but edited with it.","body":"@AndyWilkinson Seems to have the same output, but edited with it."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678888409,"post_id":75732275,"comment_id":133620278,"body_markdown":"That&#39;s less output than I&#39;d expected. It&#39;s also different in places to what I would expect. For example, given that you&#39;re using `spring-boot-starter-web`, I would expect the context to be an `AnnotationConfigServletWebServerApplicationContext` rather than an `AnnotationConfigApplicationContext`. Can you share your application&#39;s main class? I think that will be `com.expleo.krm.KrmApplication`.","body":"That&#39;s less output than I&#39;d expected. It&#39;s also different in places to what I would expect. For example, given that you&#39;re using <code>spring-boot-starter-web</code>, I would expect the context to be an <code>AnnotationConfigServletWebServerApplicationContext</code> rather than an <code>AnnotationConfigApplicationContext</code>. Can you share your application&#39;s main class? I think that will be <code>com.expleo.krm.KrmApplication</code>."},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1678990282,"post_id":75732275,"comment_id":133644668,"body_markdown":"@AndyWilkinson Done. But it&#39;s only the base skeleton of a Spring project.","body":"@AndyWilkinson Done. But it&#39;s only the base skeleton of a Spring project."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1678995468,"post_id":75732275,"comment_id":133645987,"body_markdown":"I&#39;ve just noticed your custom `Jar` task configuration. I suspect that may be the problem. Have you tried using the `bootJar` task that Spring Boot&#39;s Gradle plugin creates for you instead?","body":"I&#39;ve just noticed your custom <code>Jar</code> task configuration. I suspect that may be the problem. Have you tried using the <code>bootJar</code> task that Spring Boot&#39;s Gradle plugin creates for you instead?"},{"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"score":0,"creation_date":1679302990,"post_id":75732275,"comment_id":133690580,"body_markdown":"@AndyWilkinson I was already using bootJar, but I finally managed to fix my problem by simply deleting this custom task for type Jar...","body":"@AndyWilkinson I was already using bootJar, but I finally managed to fix my problem by simply deleting this custom task for type Jar..."}],"answers":[{"tags":[],"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679303105,"creation_date":1679303105,"answer_id":75788294,"question_id":75732275,"body_markdown":"Finally, simply deleting this custom task for Jar type solved the issue :\r\n\r\n```kotlin\r\n/*\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\r\n    }\r\n    // To avoid the duplicate handling strategy error\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    // To add all of the dependencies\r\n    from(sourceSets.main.get().output)\r\n\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n*/\r\n```\r\n\r\nNow my Jar starts up normally and keeps running !","title":"Spring boot jar from Gradle Kotlin always closes after startup","body":"<p>Finally, simply deleting this custom task for Jar type solved the issue :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/*\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\n    }\n    // To avoid the duplicate handling strategy error\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    // To add all of the dependencies\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n*/\n</code></pre>\n<p>Now my Jar starts up normally and keeps running !</p>\n"}],"owner":{"account_id":15695912,"reputation":181,"user_id":11325478,"display_name":"Grum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788294,"answer_count":1,"score":0,"last_activity_date":1679303105,"creation_date":1678791643,"question_id":75732275,"body_markdown":"I am using Spring Boot with Gradle an Kotlin, the web server is running perfectly fine in development, but when building and running jar file Spring always exits automatically :\r\n\r\n```\r\n❯ java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n11:26:06.966 [main] INFO com.expleo.krm.KrmApplicationKt - Starting KrmApplicationKt v0.0.1-SNAPSHOT using Java 17.0.6 with PID 13303 (/home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend/build/libs/krm-backend-0.0.1-SNAPSHOT.jar started by guillaume-expleo in /home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend)\r\n11:26:06.968 [main] DEBUG com.expleo.krm.KrmApplicationKt - Running with Spring Boot v0.0.1-SNAPSHOT, Spring v0.0.1-SNAPSHOT\r\n11:26:06.969 [main] INFO com.expleo.krm.KrmApplicationKt - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n11:26:06.970 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.expleo.krm.KrmApplication\r\n11:26:07.014 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c\r\n11:26:07.018 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n11:26:07.167 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n11:26:07.169 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n11:26:07.172 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalPersistenceAnnotationProcessor&#39;\r\n11:26:07.174 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;krmApplication&#39;\r\n11:26:07.178 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPackages&#39;\r\n11:26:07.214 [main] INFO com.expleo.krm.KrmApplicationKt - Started KrmApplicationKt in 0.364 seconds (process running for 0.622)\r\n11:26:07.225 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c, started on Wed Mar 15 11:26:07 CET 2023\r\n```\r\n\r\n`build.gradle.kts` file :\r\n```kotlin\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    id(&quot;org.asciidoctor.jvm.convert&quot;) version &quot;2.4.0&quot;\r\n    kotlin(&quot;jvm&quot;) version &quot;1.8.10&quot;\r\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.8.10&quot;\r\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.10&quot;\r\n}\r\n\r\ngroup = &quot;com.expleo&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nextra[&quot;snippetsDir&quot;] = file(&quot;build/generated-snippets&quot;)\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-core&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n\r\n//\tcompileOnly(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin&quot;)\r\n//\timplementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\r\n//\tcompileOnly(&quot;org.projectlombok:lombok&quot;)\r\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n//\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    runtimeOnly(&quot;com.h2database:h2&quot;)\r\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\r\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n}\r\n\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions {\r\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n        jvmTarget = &quot;17&quot;\r\n    }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\r\n    }\r\n    // To avoid the duplicate handling strategy error\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    // To add all of the dependencies\r\n    from(sourceSets.main.get().output)\r\n\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n```\r\n\r\n`KrmApplication.kt`\r\n```kotlin\r\npackage com.expleo.krm\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\n\r\n@SpringBootApplication\r\nclass KrmApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n\trunApplication&lt;KrmApplication&gt;(*args)\r\n}\r\n```\r\n\r\nI tried everything I found like adding `org.springframework.boot:spring-boot-starter-web`, or using war but without success.\r\nI tried building with Gradle jar, bootJar and build.\r\n\r\nDo you have a solution ?\r\n\r\nThanks.","title":"Spring boot jar from Gradle Kotlin always closes after startup","body":"<p>I am using Spring Boot with Gradle an Kotlin, the web server is running perfectly fine in development, but when building and running jar file Spring always exits automatically :</p>\n<pre><code>❯ java -jar build/libs/krm-backend-0.0.1-SNAPSHOT.jar --debug\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.4)\n\n11:26:06.966 [main] INFO com.expleo.krm.KrmApplicationKt - Starting KrmApplicationKt v0.0.1-SNAPSHOT using Java 17.0.6 with PID 13303 (/home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend/build/libs/krm-backend-0.0.1-SNAPSHOT.jar started by guillaume-expleo in /home/guillaume-expleo/Bureau/KRM/kubernetes-resource-manager/backend/krm-backend)\n11:26:06.968 [main] DEBUG com.expleo.krm.KrmApplicationKt - Running with Spring Boot v0.0.1-SNAPSHOT, Spring v0.0.1-SNAPSHOT\n11:26:06.969 [main] INFO com.expleo.krm.KrmApplicationKt - No active profile set, falling back to 1 default profile: &quot;default&quot;\n11:26:06.970 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.expleo.krm.KrmApplication\n11:26:07.014 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c\n11:26:07.018 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n11:26:07.167 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n11:26:07.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n11:26:07.169 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n11:26:07.172 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'\n11:26:07.174 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'krmApplication'\n11:26:07.178 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.AutoConfigurationPackages'\n11:26:07.214 [main] INFO com.expleo.krm.KrmApplicationKt - Started KrmApplicationKt in 0.364 seconds (process running for 0.622)\n11:26:07.225 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@475e586c, started on Wed Mar 15 11:26:07 CET 2023\n</code></pre>\n<p><code>build.gradle.kts</code> file :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.asciidoctor.jvm.convert&quot;) version &quot;2.4.0&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.8.10&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.8.10&quot;\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.10&quot;\n}\n\ngroup = &quot;com.expleo&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nextra[&quot;snippetsDir&quot;] = file(&quot;build/generated-snippets&quot;)\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.flywaydb:flyway-core&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n\n//  compileOnly(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin&quot;)\n//  implementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\n//  compileOnly(&quot;org.projectlombok:lombok&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n//  runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    runtimeOnly(&quot;com.h2database:h2&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n}\n\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.expleo.krm.KrmApplicationKt&quot;\n    }\n    // To avoid the duplicate handling strategy error\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    // To add all of the dependencies\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n</code></pre>\n<p><code>KrmApplication.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.expleo.krm\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass KrmApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;KrmApplication&gt;(*args)\n}\n</code></pre>\n<p>I tried everything I found like adding <code>org.springframework.boot:spring-boot-starter-web</code>, or using war but without success.\nI tried building with Gradle jar, bootJar and build.</p>\n<p>Do you have a solution ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","imagej"],"answers":[{"tags":[],"owner":{"account_id":2619914,"reputation":502,"user_id":4069556,"accept_rate":83,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499860383,"creation_date":1499860383,"answer_id":45056982,"question_id":45037106,"body_markdown":"A suggestion would be to make a feature request to the author of Imagej Wayne rasband, e.g., at the Github repository:\r\n\r\nhttps://github.com/imagej/imagej1\r\n\r\nOr you can write a small macro (use the macro recorder with the menu actions!) which can be also be installed in ImageJ. Something like:\r\n\r\n    run(&quot;Image Sequence...&quot;, &quot;open=C:\\\\images\\\\ sort&quot;);\r\n\r\nHere the macro docs:\r\n\r\nhttps://imagej.nih.gov/ij/developer/macro/macros.html\r\n\r\nhttps://imagej.nih.gov/ij/docs/guide/146-14.html\r\n","title":"How can I disable a dialog in ImageJ?","body":"<p>A suggestion would be to make a feature request to the author of Imagej Wayne rasband, e.g., at the Github repository:</p>\n\n<p><a href=\"https://github.com/imagej/imagej1\" rel=\"nofollow noreferrer\">https://github.com/imagej/imagej1</a></p>\n\n<p>Or you can write a small macro (use the macro recorder with the menu actions!) which can be also be installed in ImageJ. Something like:</p>\n\n<pre><code>run(\"Image Sequence...\", \"open=C:\\\\images\\\\ sort\");\n</code></pre>\n\n<p>Here the macro docs:</p>\n\n<p><a href=\"https://imagej.nih.gov/ij/developer/macro/macros.html\" rel=\"nofollow noreferrer\">https://imagej.nih.gov/ij/developer/macro/macros.html</a></p>\n\n<p><a href=\"https://imagej.nih.gov/ij/docs/guide/146-14.html\" rel=\"nofollow noreferrer\">https://imagej.nih.gov/ij/docs/guide/146-14.html</a></p>\n"},{"tags":[],"owner":{"account_id":6779244,"reputation":1822,"user_id":5522601,"accept_rate":81,"display_name":"smcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679302916,"creation_date":1504191730,"answer_id":45984614,"question_id":45037106,"body_markdown":"To disable the dialog in the source code: Find the source file `ij&gt;plugin&gt;DragAndDrop.java`. From its `openDirectory` method, delete the dialog-related lines and assign boolean values to `convertToRGB` and `virtualStack`, both of which are normally defined by check boxes in the now defunct dialog window. The code should now look like this:\r\n\r\n\t\tprivate void openDirectory(File f, String path) {\r\n\t\t\tif (path==null) return;\r\n\t\t\tif (!(path.endsWith(File.separator)||path.endsWith(&quot;/&quot;)))\r\n\t\t\t\tpath += File.separator;\r\n\t\t\tString[] names = f.list();\r\n\t\t\tnames = (new FolderOpener()).trimFileList(names);\r\n\t\t\tif (names==null)\r\n\t\t\t\treturn;\r\n\t\t\tconvertToRGB = false;\r\n\t\t\tvirtualStack = false;\r\n\t\t\tString options  = &quot; sort&quot;;\r\n\t\t\tif (convertToRGB) options += &quot; convert_to_rgb&quot;;\r\n\t\t\tif (virtualStack) options += &quot; use&quot;;\r\n\t\t\tIJ.run(&quot;Image Sequence...&quot;, &quot;open=[&quot; + path + &quot;]&quot;+options);\r\n\t\t\tDirectoryChooser.setDefaultDirectory(path);\r\n\t\t\tIJ.register(DragAndDrop.class);\r\n\t\t}\r\n\r\nI did this with ImageJ 1.51p. The source code can be downloaded [here][1]. After making these changes, just run the `build.xml` ant script.\r\n\r\nNote that writing a macro might provide a cleaner and more portable way to achieve this--refer to Marcel&#39;s answer for further reading. \r\n\r\n\r\n  [1]: https://imagej.nih.gov/ij/download/src/","title":"How can I disable a dialog in ImageJ?","body":"<p>To disable the dialog in the source code: Find the source file <code>ij&gt;plugin&gt;DragAndDrop.java</code>. From its <code>openDirectory</code> method, delete the dialog-related lines and assign boolean values to <code>convertToRGB</code> and <code>virtualStack</code>, both of which are normally defined by check boxes in the now defunct dialog window. The code should now look like this:</p>\n<pre><code>    private void openDirectory(File f, String path) {\n        if (path==null) return;\n        if (!(path.endsWith(File.separator)||path.endsWith(&quot;/&quot;)))\n            path += File.separator;\n        String[] names = f.list();\n        names = (new FolderOpener()).trimFileList(names);\n        if (names==null)\n            return;\n        convertToRGB = false;\n        virtualStack = false;\n        String options  = &quot; sort&quot;;\n        if (convertToRGB) options += &quot; convert_to_rgb&quot;;\n        if (virtualStack) options += &quot; use&quot;;\n        IJ.run(&quot;Image Sequence...&quot;, &quot;open=[&quot; + path + &quot;]&quot;+options);\n        DirectoryChooser.setDefaultDirectory(path);\n        IJ.register(DragAndDrop.class);\n    }\n</code></pre>\n<p>I did this with ImageJ 1.51p. The source code can be downloaded <a href=\"https://imagej.nih.gov/ij/download/src/\" rel=\"nofollow noreferrer\">here</a>. After making these changes, just run the <code>build.xml</code> ant script.</p>\n<p>Note that writing a macro might provide a cleaner and more portable way to achieve this--refer to Marcel's answer for further reading.</p>\n"}],"owner":{"account_id":6779244,"reputation":1822,"user_id":5522601,"accept_rate":81,"display_name":"smcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45984614,"answer_count":2,"score":0,"last_activity_date":1679302916,"creation_date":1499782612,"question_id":45037106,"body_markdown":"I&#39;m using ImageJ a lot to look at image stacks composed of a number of single images sitting in one folder. I can just drag and drop the respective folder into the ImageJ GUI and it creates a scrollable visualization, which is very convenient. It could be even more convenient though since each time I do it, a dialog appears asking whether I want to open all images in the folder as a stack. Is it possible to make it default to &quot;Yes&quot;? Would I need to change the source code and compile it myself..? If that is the case, where could I start looking?","title":"How can I disable a dialog in ImageJ?","body":"<p>I'm using ImageJ a lot to look at image stacks composed of a number of single images sitting in one folder. I can just drag and drop the respective folder into the ImageJ GUI and it creates a scrollable visualization, which is very convenient. It could be even more convenient though since each time I do it, a dialog appears asking whether I want to open all images in the folder as a stack. Is it possible to make it default to \"Yes\"? Would I need to change the source code and compile it myself..? If that is the case, where could I start looking?</p>\n"},{"tags":["java","shell","debugging","intellij-idea","jar"],"answers":[{"tags":[],"owner":{"display_name":"user1230680"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504094845,"creation_date":1504094845,"answer_id":45960022,"question_id":45959594,"body_markdown":"Your config is a little strange, but correct. The VM options you provide tell the JVM to wait with running the zte.jar until a debugger is attached. \r\n\r\nSo you won&#39;t automatically stop on the first line, you need to add break-points in IDEA and attach it manually to the JVM process. This is explained here [How to remote debug JVM][1]\r\n\r\nKeep in mind you are doing one thing sort of wrong. You do not need to setup the debug options in the VM options. Just select the JAR you want to debug, place break-points and start in debug mode (that is the bug like icon in IDEA).\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21114066/attach-intellij-idea-debugger-to-a-running-java-process","title":"Debug JAR intellij or command line","body":"<p>Your config is a little strange, but correct. The VM options you provide tell the JVM to wait with running the zte.jar until a debugger is attached. </p>\n\n<p>So you won't automatically stop on the first line, you need to add break-points in IDEA and attach it manually to the JVM process. This is explained here <a href=\"https://stackoverflow.com/questions/21114066/attach-intellij-idea-debugger-to-a-running-java-process\">How to remote debug JVM</a></p>\n\n<p>Keep in mind you are doing one thing sort of wrong. You do not need to setup the debug options in the VM options. Just select the JAR you want to debug, place break-points and start in debug mode (that is the bug like icon in IDEA).</p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504278064,"creation_date":1504277374,"answer_id":46002846,"question_id":45959594,"body_markdown":"For your specific project that is one jar file (`zte.jar`) which contains `deps.zip` inside which in turn contains other `.jar` dependencies and no sources at all and also uses reflection and custom classloader in order to load and use the `.jar` files in `deps.zip`; for the debugger to work, you have to unpack all the jars from the `deps.zip` into some location, then make a new IntelliJ IDEA project and add all the jars (including the root `zte.jar` [and all the jars](http://i.stack.imgur.com/bVFtH.png) unpacked from `deps.zip`) into the [module dependencies](https://www.jetbrains.com/help/idea/2017.1/working-with-module-dependencies.html).\r\n\r\nBrowse to `CliExecutor` inside the `self.jar`, in the project view, IntelliJ IDEA will decompile it, place the breakpoints, debug it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezOMc.png\r\n  [2]: https://i.stack.imgur.com/rAqWQ.png","title":"Debug JAR intellij or command line","body":"<p>For your specific project that is one jar file (<code>zte.jar</code>) which contains <code>deps.zip</code> inside which in turn contains other <code>.jar</code> dependencies and no sources at all and also uses reflection and custom classloader in order to load and use the <code>.jar</code> files in <code>deps.zip</code>; for the debugger to work, you have to unpack all the jars from the <code>deps.zip</code> into some location, then make a new IntelliJ IDEA project and add all the jars (including the root <code>zte.jar</code> <a href=\"https://i.stack.imgur.com/bVFtH.png\" rel=\"nofollow noreferrer\">and all the jars</a> unpacked from <code>deps.zip</code>) into the <a href=\"https://www.jetbrains.com/help/idea/2017.1/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">module dependencies</a>.</p>\n\n<p>Browse to <code>CliExecutor</code> inside the <code>self.jar</code>, in the project view, IntelliJ IDEA will decompile it, place the breakpoints, debug it.</p>\n"}],"owner":{"account_id":10259088,"reputation":1317,"user_id":7571053,"accept_rate":90,"display_name":"Jenny Hilton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11940,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46002846,"answer_count":2,"score":2,"last_activity_date":1679302874,"creation_date":1504093643,"question_id":45959594,"body_markdown":"Im using the following config the debug jar file that under my root project, when I click on debug the program start to run but doesnt stopes since I didn&#39;t set any break-point(as this is jar file :) ) , In node.js there is option to do it with `--inspect-brk` [info][1] which stops on the first statement but not sure How to do it on jar file  \r\n\r\nMy questions are\r\n\r\n&gt; 1. How can I stops in the **first line** of the program jar ? \r\n&gt; 2. Does my config are OK?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://nodejs.org/api/debugger.html#debugger_v8_inspector_integration_for_node_js\r\n  [2]: https://i.stack.imgur.com/3NZ8y.jpg\r\n\r\n\r\nOterwise , how can you able to debug jar if you cannot set a break-point ...\r\n\r\n\r\nEDIT:\r\n\r\nI&#39;ve tried with the suggestion of crazycoder and it&#39;s not working, any idea?\r\n\r\nWhat I tried is to create under my root project decomplie folder and run the following command\r\n\r\n   \r\n\r\n     java -jar fernflower.jar zte.jar + decomplie/\r\n\r\nI got erorr of course of not found\r\n\r\nI&#39;ve also tried with \r\n\r\n    java -cp java-decompiler.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler zte.jar + decomplie/ \r\n\r\n\r\n&gt; Could not find or load main class\r\n&gt; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\r\n\r\nHow to I get this jar (fernflower.jar ) or the path to it ?\r\n\r\n\r\nEDIT2\r\n\r\nMy project is like this\r\n\r\n\r\n    -myjavaproj\r\n    \r\n     --zte.jar\r\n     --decomile\r\n     ---zte.jar\r\n     ---com.proj.cli\r\n     ----appmain.java \r\n\r","title":"Debug JAR intellij or command line","body":"<p>Im using the following config the debug jar file that under my root project, when I click on debug the program start to run but doesnt stopes since I didn't set any break-point(as this is jar file :) ) , In node.js there is option to do it with <code>--inspect-brk</code> <a href=\"https://nodejs.org/api/debugger.html#debugger_v8_inspector_integration_for_node_js\" rel=\"nofollow noreferrer\">info</a> which stops on the first statement but not sure How to do it on jar file</p>\n<p>My questions are</p>\n<blockquote>\n<ol>\n<li>How can I stops in the <strong>first line</strong> of the program jar ?</li>\n<li>Does my config are OK?</li>\n</ol>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/3NZ8y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NZ8y.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Oterwise , how can you able to debug jar if you cannot set a break-point ...</p>\n<p>EDIT:</p>\n<p>I've tried with the suggestion of crazycoder and it's not working, any idea?</p>\n<p>What I tried is to create under my root project decomplie folder and run the following command</p>\n<pre><code> java -jar fernflower.jar zte.jar + decomplie/\n</code></pre>\n<p>I got erorr of course of not found</p>\n<p>I've also tried with</p>\n<pre><code>java -cp java-decompiler.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler zte.jar + decomplie/ \n</code></pre>\n<blockquote>\n<p>Could not find or load main class\norg.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler</p>\n</blockquote>\n<p>How to I get this jar (fernflower.jar ) or the path to it ?</p>\n<p>EDIT2</p>\n<p>My project is like this</p>\n<pre><code>-myjavaproj\n\n --zte.jar\n --decomile\n ---zte.jar\n ---com.proj.cli\n ----appmain.java \n</code></pre>\n"},{"tags":["java","android","googlesigninaccount"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679301218,"post_id":75787853,"comment_id":133690163,"body_markdown":"Well ... *what* exception? Please find it in your log and [edit] your question to include it. It&#39;s likely to have some additional information about what went wrong.","body":"Well ... <i>what</i> exception? Please find it in your log and <a href=\"https://stackoverflow.com/posts/75787853/edit\">edit</a> your question to include it. It&#39;s likely to have some additional information about what went wrong."}],"answers":[{"tags":[],"owner":{"account_id":23470556,"reputation":271,"user_id":17524128,"display_name":"vatsal mangukiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679302574,"creation_date":1679302574,"answer_id":75788214,"question_id":75787853,"body_markdown":"In onCreate method i should use ` DEFAULT_SIGN_IN` instead of `DEFAULT_GAMES_SIGN_IN`\r\n\r\n     gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();","title":"Why does exception occur when I try to login with google?","body":"<p>In onCreate method i should use <code> DEFAULT_SIGN_IN</code> instead of <code>DEFAULT_GAMES_SIGN_IN</code></p>\n<pre><code> gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n</code></pre>\n"}],"owner":{"account_id":23470556,"reputation":271,"user_id":17524128,"display_name":"vatsal mangukiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75788214,"answer_count":1,"score":0,"last_activity_date":1679302574,"creation_date":1679300193,"question_id":75787853,"body_markdown":"I tried to implement login with google but it always throws exception and toast not logged in\r\n\r\n    package com.inshortsapk.inshorts;\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.auth.api.signin.GoogleSignIn;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\n    import com.google.android.gms.common.api.ApiException;\r\n    import com.google.android.gms.tasks.Task;\r\n    \r\n    public class my_login extends AppCompatActivity {\r\n        GoogleSignInOptions gso;\r\n        GoogleSignInClient gsc;\r\n        Button btnLogin;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_my_login);\r\n            gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).requestEmail().build();\r\n            gsc= GoogleSignIn.getClient(this,gso);\r\n    \r\n            btnLogin=findViewById(R.id.btnLogin);\r\n            GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\r\n            //(account);\r\n            btnLogin.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   // Toast.makeText(my_login.this, &quot;mylogin click&quot;, Toast.LENGTH_SHORT).show();\r\n                    signIn();\r\n                }\r\n            });\r\n        }\r\n        public void signIn(){\r\n            Intent signInIntent=gsc.getSignInIntent();\r\n             startActivityForResult(signInIntent,1000);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if(requestCode==1000)\r\n            {\r\n                Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                try {\r\n                    Toast.makeText(this, &quot;TRY 11&quot;, Toast.LENGTH_SHORT).show();\r\n                  \r\n                    task.getResult(ApiException.class);\r\n    \r\n                    Toast.makeText(this, &quot;TRY 12&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n                    Intent intent=new Intent(this,MainActivity.class);\r\n                    startActivity(intent);\r\n                } catch (ApiException e) {\r\n    \r\n                    //not loged in\r\n                    Toast.makeText(this, &quot;Not Logged In&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I need is that I need to logged in user when he click on login button and switch to another activity is called mainactivity.java\r\nI tried as many way as possible but it threw a exception every time.\r\n\r\n\r\nHere is my logcat\r\n\r\n        2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/IS_CTS_MODE: false\r\n    2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/MULTI_WINDOW_SWITCH_ENABLED: false\r\n    2023-03-20 14:13:33.173 17566-17566/com.inshortsapk.inshorts D/DecorView[]: getWindowModeFromSystem  windowmode is 1\r\n    2023-03-20 14:13:33.265 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\n    2023-03-20 14:13:33.516 17566-17566/com.inshortsapk.inshorts D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10603; state: ENABLED\r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err: com.google.android.gms.common.api.ApiException: 10: \r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@18.0.1:3)\r\n    2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@20.4.1:3)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.inshortsapk.inshorts.my_login.onActivityResult(my_login.java:54)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8579)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5445)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5491)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2284)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loopOnce(Looper.java:210)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loop(Looper.java:299)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8302)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n    2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\r\n    2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\n    2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus true\r\n\r\nAs well as when I build my app then it will through this error also\r\n\r\n     open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found","title":"Why does exception occur when I try to login with google?","body":"<p>I tried to implement login with google but it always throws exception and toast not logged in</p>\n<pre><code>package com.inshortsapk.inshorts;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.tasks.Task;\n\npublic class my_login extends AppCompatActivity {\n    GoogleSignInOptions gso;\n    GoogleSignInClient gsc;\n    Button btnLogin;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my_login);\n        gso=new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).requestEmail().build();\n        gsc= GoogleSignIn.getClient(this,gso);\n\n        btnLogin=findViewById(R.id.btnLogin);\n        GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\n        //(account);\n        btnLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               // Toast.makeText(my_login.this, &quot;mylogin click&quot;, Toast.LENGTH_SHORT).show();\n                signIn();\n            }\n        });\n    }\n    public void signIn(){\n        Intent signInIntent=gsc.getSignInIntent();\n         startActivityForResult(signInIntent,1000);\n\n\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode,  Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode==1000)\n        {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                Toast.makeText(this, &quot;TRY 11&quot;, Toast.LENGTH_SHORT).show();\n              \n                task.getResult(ApiException.class);\n\n                Toast.makeText(this, &quot;TRY 12&quot;, Toast.LENGTH_SHORT).show();\n\n\n                Intent intent=new Intent(this,MainActivity.class);\n                startActivity(intent);\n            } catch (ApiException e) {\n\n                //not loged in\n                Toast.makeText(this, &quot;Not Logged In&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I need is that I need to logged in user when he click on login button and switch to another activity is called mainactivity.java\nI tried as many way as possible but it threw a exception every time.</p>\n<p>Here is my logcat</p>\n<pre><code>    2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/IS_CTS_MODE: false\n2023-03-20 14:13:33.171 17566-17566/com.inshortsapk.inshorts D/MULTI_WINDOW_SWITCH_ENABLED: false\n2023-03-20 14:13:33.173 17566-17566/com.inshortsapk.inshorts D/DecorView[]: getWindowModeFromSystem  windowmode is 1\n2023-03-20 14:13:33.265 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\n2023-03-20 14:13:33.516 17566-17566/com.inshortsapk.inshorts D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10603; state: ENABLED\n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err: com.google.android.gms.common.api.ApiException: 10: \n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@18.0.1:3)\n2023-03-20 14:13:33.532 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@20.4.1:3)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.inshortsapk.inshorts.my_login.onActivityResult(my_login.java:54)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8579)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5445)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5491)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2284)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loopOnce(Looper.java:210)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.os.Looper.loop(Looper.java:299)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8302)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n2023-03-20 14:13:33.533 17566-17566/com.inshortsapk.inshorts W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\n2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus false\n2023-03-20 14:13:33.541 17566-17566/com.inshortsapk.inshorts D/DecorView[]: onWindowFocusChanged hasWindowFocus true\n</code></pre>\n<p>As well as when I build my app then it will through this error also</p>\n<pre><code> open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\n</code></pre>\n"},{"tags":["java","android","kotlin","mobile","native"],"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679302514,"creation_date":1679301131,"question_id":75787977,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n    val intent = Intent(&quot;android.settings.HOME_SETTINGS&quot;) \r\nable to go to this page but no solution for going to the default browser app page?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI would like to intent to this system page, but no information about to intent this browser list.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfRQT.jpg\r\n  [2]: https://i.stack.imgur.com/6AGI8.jpg","title":"Android - how to intent to Default browser app System page?","body":"<p><a href=\"https://i.stack.imgur.com/tfRQT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfRQT.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>val intent = Intent(&quot;android.settings.HOME_SETTINGS&quot;) \n</code></pre>\n<p>able to go to this page but no solution for going to the default browser app page?</p>\n<p><a href=\"https://i.stack.imgur.com/6AGI8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6AGI8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I would like to intent to this system page, but no information about to intent this browser list.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1679246388,"post_id":75783595,"comment_id":133682947,"body_markdown":"This is my first time seeing a `Controller` be extended. Why did you do it?","body":"This is my first time seeing a <code>Controller</code> be extended. Why did you do it?"},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679247578,"post_id":75783595,"comment_id":133683143,"body_markdown":"So I can directly use setImage(). But that&#39;s not what causing the problem because I have tried it using creating objects as well. Unless there is a third way to use setImage () method from Brightness controller class.","body":"So I can directly use setImage(). But that&#39;s not what causing the problem because I have tried it using creating objects as well. Unless there is a third way to use setImage () method from Brightness controller class."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679247676,"post_id":75783595,"comment_id":133683168,"body_markdown":"_this clearly means that JavaFX is having problem with setting images_ most certainly not ;) the error most probably is somewhere in _your_ code - so provide a [mcve] demonstrating what&#39;s wrong (please read study that help page to understand what&#39;s needed to help you find the error - it has to be the most __mininal__ example that is runnable __as-is__)","body":"<i>this clearly means that JavaFX is having problem with setting images</i> most certainly not ;) the error most probably is somewhere in <i>your</i> code - so provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s wrong (please read study that help page to understand what&#39;s needed to help you find the error - it has to be the most <b>mininal</b> example that is runnable <b>as-is</b>)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679247967,"post_id":75783595,"comment_id":133683228,"body_markdown":"Create and post a [mre]. I don&#39;t think it makes sense to use inheritance here. Does the FXML that uses `BrightnessController` as its controller class have an element with `fx:id=&quot;imageView&quot;`? If not, `imageView` will be null in the controller that is created when you load that FXML.","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I don&#39;t think it makes sense to use inheritance here. Does the FXML that uses <code>BrightnessController</code> as its controller class have an element with <code>fx:id=&quot;imageView&quot;</code>? If not, <code>imageView</code> will be null in the controller that is created when you load that FXML."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679248662,"post_id":75783595,"comment_id":133683357,"body_markdown":"@James_D No my Brightness controller class does not have Image View. Only my Home controller class have that element. That&#39;s the reason I want to send image from Brightness controller class to Home controller class, so I can display it. Bit it throws error. Question is why, because I am clearly sending an Image in setImage() method extended from that HomeController","body":"@James_D No my Brightness controller class does not have Image View. Only my Home controller class have that element. That&#39;s the reason I want to send image from Brightness controller class to Home controller class, so I can display it. Bit it throws error. Question is why, because I am clearly sending an Image in setImage() method extended from that HomeController"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249103,"post_id":75783595,"comment_id":133683419,"body_markdown":"The only `@FXML`-annotated fields that will be initialized in a controller are the ones with matching `fx:id`s in the FXML that is being loaded when the controller is created. It doesn&#39;t make any difference if the field is inherited from a superclass (I really don&#39;t understand what you think inheritance is going to give you here). Consequently `imageView` is null, as is clearly stated in the error message. You need to give (either directly or indirectly) the `BrightnessController` access to the `imageView` that is created when your `HomeController` is created.","body":"The only <code>@FXML</code>-annotated fields that will be initialized in a controller are the ones with matching <code>fx:id</code>s in the FXML that is being loaded when the controller is created. It doesn&#39;t make any difference if the field is inherited from a superclass (I really don&#39;t understand what you think inheritance is going to give you here). Consequently <code>imageView</code> is null, as is clearly stated in the error message. You need to give (either directly or indirectly) the <code>BrightnessController</code> access to the <code>imageView</code> that is created when your <code>HomeController</code> is created."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679249266,"post_id":75783595,"comment_id":133683449,"body_markdown":"@James_D Inheritance was the last option I tried. I have also used objects as well. Unless there is a third way to send and set image from one controller to another.","body":"@James_D Inheritance was the last option I tried. I have also used objects as well. Unless there is a third way to send and set image from one controller to another."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679249410,"post_id":75783595,"comment_id":133683475,"body_markdown":"To clarify: *&quot;No my Brightness controller class does not have Image View.&quot;*. Well, yes it does, but that&#39;s not what I asked. You make `BrightnessController` a subclass of `HomeController`. This means that every instance of `BrightnessController` is also an instance of `HomeController`. Since every instance of `HomeController` has a field called `imageView` of type `ImageView`, your `BrightnessController` certainly has a field called `imageView`. The question is whether or not it is initialized, which it isn&#39;t, because there is no matching `fx:id`.","body":"To clarify: <i>&quot;No my Brightness controller class does not have Image View.&quot;</i>. Well, yes it does, but that&#39;s not what I asked. You make <code>BrightnessController</code> a subclass of <code>HomeController</code>. This means that every instance of <code>BrightnessController</code> is also an instance of <code>HomeController</code>. Since every instance of <code>HomeController</code> has a field called <code>imageView</code> of type <code>ImageView</code>, your <code>BrightnessController</code> certainly has a field called <code>imageView</code>. The question is whether or not it is initialized, which it isn&#39;t, because there is no matching <code>fx:id</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1679249503,"post_id":75783595,"comment_id":133683487,"body_markdown":"The quick and dirty way is just to [pass the instance](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml) of `imageView` that is present in the `HomeController` to the `BrightnessController` when you load `BrightnessView.fxml`.","body":"The quick and dirty way is just to <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">pass the instance</a> of <code>imageView</code> that is present in the <code>HomeController</code> to the <code>BrightnessController</code> when you load <code>BrightnessView.fxml</code>."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679249829,"post_id":75783595,"comment_id":133683529,"body_markdown":"@James_D Wait so while loading a new FXML window, I can instance to BrightnessController class. If you are saying to use constructors to do that, then I tried it didn&#39;t worked. Unless you are referring to some other way to pass ImageView instance to BrightnessController. It will be helpful if you can share a code, or explain how to do it.","body":"@James_D Wait so while loading a new FXML window, I can instance to BrightnessController class. If you are saying to use constructors to do that, then I tried it didn&#39;t worked. Unless you are referring to some other way to pass ImageView instance to BrightnessController. It will be helpful if you can share a code, or explain how to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249922,"post_id":75783595,"comment_id":133683544,"body_markdown":"*&quot;while loading a new FXML window, I can instance to BrightnessController class&quot;* I don&#39;t know what this means (I don&#39;t know what &quot;I can instance to&quot; means). When you load an FXML file, the `FXMLLoader` creates an instance of the controller class that is specified in the FXML. That&#39;s all I am referring to. Your last comment makes absolutely no sense to me.","body":"<i>&quot;while loading a new FXML window, I can instance to BrightnessController class&quot;</i> I don&#39;t know what this means (I don&#39;t know what &quot;I can instance to&quot; means). When you load an FXML file, the <code>FXMLLoader</code> creates an instance of the controller class that is specified in the FXML. That&#39;s all I am referring to. Your last comment makes absolutely no sense to me."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679249963,"post_id":75783595,"comment_id":133683555,"body_markdown":"*&quot;Unless you are referring to some other way to pass ImageView instance to BrightnessController.&quot;* See the link in the comment above.","body":"<i>&quot;Unless you are referring to some other way to pass ImageView instance to BrightnessController.&quot;</i> See the link in the comment above."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679257433,"post_id":75783595,"comment_id":133684761,"body_markdown":"It sounds to me like the OP is expecting the BrightnessController to extend an instantiated instance of HomeController, thinking that the ImageView field will be instantiated.  This isn&#39;t how inheritance works.","body":"It sounds to me like the OP is expecting the BrightnessController to extend an instantiated instance of HomeController, thinking that the ImageView field will be instantiated.  This isn&#39;t how inheritance works."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1679259893,"post_id":75783595,"comment_id":133685080,"body_markdown":"@DaveB That wouldn&#39;t really make sense, would it? How would the `BrightnessController` instance &quot;know&quot; which `HomeController` instance to inherit from? I can&#39;t really see a mental picture of inheritance that works at the object, rather than class, level. (I&#39;m not saying your interpretation is wrong, I just can&#39;t see how the misunderstanding would make sense.)","body":"@DaveB That wouldn&#39;t really make sense, would it? How would the <code>BrightnessController</code> instance &quot;know&quot; which <code>HomeController</code> instance to inherit from? I can&#39;t really see a mental picture of inheritance that works at the object, rather than class, level. (I&#39;m not saying your interpretation is wrong, I just can&#39;t see how the misunderstanding would make sense.)"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679260614,"post_id":75783595,"comment_id":133685181,"body_markdown":"@James_D and yet that seems to be the case.  Look at the OP&#39;s second comment.  He seems to be indicating that accessing imageView from BrightnessController should do something meaningful, yet he asserts that he has no imageView in BrightnessController and it must be referencing the the imageView in HomeController.  Maybe the &quot;magic&quot; around the FXMLLoader process is leading him to think that they are somehow connected?","body":"@James_D and yet that seems to be the case.  Look at the OP&#39;s second comment.  He seems to be indicating that accessing imageView from BrightnessController should do something meaningful, yet he asserts that he has no imageView in BrightnessController and it must be referencing the the imageView in HomeController.  Maybe the &quot;magic&quot; around the FXMLLoader process is leading him to think that they are somehow connected?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679296399,"post_id":75783595,"comment_id":133689151,"body_markdown":"Please place the full stack trace in the question as text formatted as code rather than as an image.","body":"Please place the full stack trace in the question as text formatted as code rather than as an image."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":0,"creation_date":1679302160,"post_id":75783595,"comment_id":133690381,"body_markdown":"@James_D I have edited a post, and inserted a less complicated code. Check it out please.","body":"@James_D I have edited a post, and inserted a less complicated code. Check it out please."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":1,"creation_date":1679302196,"post_id":75783595,"comment_id":133690389,"body_markdown":"@jewelsea Inserted a full stack trace. Edited the post. Also have inserted a less complicated code.","body":"@jewelsea Inserted a full stack trace. Edited the post. Also have inserted a less complicated code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679302907,"post_id":75783595,"comment_id":133690558,"body_markdown":"If you catch an exception, always either log it or rethrow it, never just ignore it.","body":"If you catch an exception, always either log it or rethrow it, never just ignore it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1679303457,"post_id":75783595,"comment_id":133690696,"body_markdown":"Controllers are, by default, and I guess should be in your case, created by the FXMLLoader, you should not be calling `new Controller1`. The new controller you create is unrelated to that created by the FXMLoader and will not have fields initialized.  Controllers should not reference controllers unless they are nested (yours are not and probably shouldn’t be). Probably use [MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) with the image stored in the model and the image property of the image view bound to the image in the model.","body":"Controllers are, by default, and I guess should be in your case, created by the FXMLLoader, you should not be calling <code>new Controller1</code>. The new controller you create is unrelated to that created by the FXMLoader and will not have fields initialized.  Controllers should not reference controllers unless they are nested (yours are not and probably shouldn’t be). Probably use <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC</a> with the image stored in the model and the image property of the image view bound to the image in the model."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679305046,"post_id":75783595,"comment_id":133691166,"body_markdown":"as assumed: the error - already spotted by @jewelsea, controllers must be __loaded__ to inject fields  -  is in _your_ code :) a [mcve] is mighty tool which can spares tons of comments, time, assumptions ..","body":"as assumed: the error - already spotted by @jewelsea, controllers must be <b>loaded</b> to inject fields  -  is in <i>your</i> code :) a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is mighty tool which can spares tons of comments, time, assumptions .."},{"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"score":1,"creation_date":1679321716,"post_id":75783595,"comment_id":133695917,"body_markdown":"@jewelsea You were right. An only way to pull this task off is by using any architectural patterns. In my case MVC worked. As controllers only purpose is to pass data from view. In the end you will always a third party (class) to process the data, instead of trying to process it inside the controller class. Thanks for help.","body":"@jewelsea You were right. An only way to pull this task off is by using any architectural patterns. In my case MVC worked. As controllers only purpose is to pass data from view. In the end you will always a third party (class) to process the data, instead of trying to process it inside the controller class. Thanks for help."}],"owner":{"account_id":26536662,"reputation":11,"user_id":20168082,"display_name":"Sohaib Malik"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679346863,"answer_count":0,"score":0,"last_activity_date":1679302295,"creation_date":1679245073,"question_id":75783595,"body_markdown":"I think my question must be confusing. Let me briefly explain, I am using JavaFX, creating a photo editor. I have two controllers and two views. HomeController (from where image view layout is set), and BrightnessController, which opens a new dialogue window, from where I set values of brightness, but when apply changes, it throws error, saying this:\r\n[enter image description here](https://i.stack.imgur.com/fLJOj.png)\r\n\r\nThis is my HomeController:\r\n\r\n\r\n```\r\npackage com.example.photoeditor;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Menu;\r\nimport javafx.scene.control.MenuBar;\r\nimport javafx.scene.control.MenuItem;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.FileChooser;\r\n\r\nimport javafx.stage.Stage;\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\n@SuppressWarnings(&quot;All&quot;)\r\npublic class HomeController implements Initializable {\r\n\r\n    @FXML\r\n    Button cropButton;\r\n\r\n    @FXML\r\n    Button brightnessButton;\r\n\r\n    @FXML\r\n    Button contrastButton;\r\n\r\n    @FXML\r\n    Button sharpnessButton;\r\n\r\n    @FXML\r\n    HBox imageViewLayout;\r\n\r\n    @FXML\r\n    ImageView imageView;\r\n\r\n    @FXML\r\n    MenuBar menuBar;\r\n\r\n    Mat imageMat;\r\n    String inputImageFileLocation;\r\n\r\n    Utilities utilities = new Utilities();\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        // Create two menus\r\n        Menu fileMenu = new Menu(&quot;File&quot;);\r\n\r\n        // Create some menu items\r\n        MenuItem newMenuItem = new MenuItem(&quot;New&quot;);\r\n        MenuItem openMenuItem = new MenuItem(&quot;Open&quot;);\r\n        MenuItem saveMenuItem = new MenuItem(&quot;Save&quot;);\r\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\r\n\r\n        // Add menu items to the File menu\r\n        fileMenu.getItems().addAll(newMenuItem, openMenuItem, saveMenuItem, exitMenuItem);\r\n\r\n        // Add menus to the menubar\r\n        menuBar.getMenus().addAll(fileMenu);\r\n\r\n        openMenuItem.setOnAction(new EventHandler&lt;&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                openImage();\r\n            }\r\n        });\r\n\r\n        brightnessButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                openBrightnessWindow();\r\n            }\r\n        });\r\n    }\r\n\r\n    // LOADING IMAGE INTO IMAGEVIEW\r\n    public void openImage() {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\r\n        // Open dialogue to get image location path\r\n        FileChooser fileChooser = new FileChooser();\r\n        File inputImageFile = fileChooser.showOpenDialog(null);\r\n        inputImageFileLocation = inputImageFile.toString().replaceAll(\r\n                &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\n\r\n        imageMat = Imgcodecs.imread(inputImageFileLocation);\r\n        Image image = utilities.mat2Image(imageMat);\r\n\r\n        setImage(image);\r\n\r\n    }\r\n\r\n    public void openBrightnessWindow() {\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;BrightnessView.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            Stage primaryStage = new Stage();\r\n            primaryStage.setTitle(&quot;Brightness Controller&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.initOwner(brightnessButton.getScene().getWindow());\r\n            primaryStage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        imageView.setImage(image);\r\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\r\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd this is my BrightnessController:\r\n\r\n\r\n```\r\npackage com.example.photoeditor;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.image.Image;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\n@SuppressWarnings(&quot;All&quot;)\r\npublic class BrightnessController extends HomeController implements Initializable {\r\n\r\n    @FXML\r\n    Button applyChanges;\r\n\r\n    @FXML\r\n    TextField textField;\r\n\r\n    Utilities utilities = new Utilities();\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        applyChanges.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                enhanceBrightness();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void enhanceBrightness() {\r\n        Mat source = Imgcodecs.imread(&quot;D://img.jpg&quot;);\r\n        Mat destination = new Mat(source.rows(), source.cols(), source.type());\r\n        source.convertTo(destination, -1, 10, 50);\r\n\r\n        Image newImage = utilities.mat2Image(destination);\r\n        setImage(newImage);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI know that some of you will say that I am sending null method (no image) from brightness controller to home controller, well that&#39;s not true. When i run the same code in HomeController where Image View layout exists, it works without any problem.\r\n\r\nNow this clearly means that JavaFX is having problem with setting images in ImageView from different controllers. This used to be super easy when JavaFX supported to connect multiple views with one controller from fxml files.\r\n\r\nPlease help me to fix this problem.\r\n\r\nOkay so I am inserting this new less complicated version of my program to make it more understandable. I have two controllers, &quot;Controller1.java&quot; and &quot;Controller2.java&quot;, they both are connected to scenes, &quot;SceneView1&quot; and &quot;SceneView2&quot;. &quot;Controller1.java&quot; has method setImage(Image image) to set an image in image view of &quot;SceneView1&quot;. Now I am sending image from &quot;Controller2.java&quot;, in other words calling setImage() method, and it is throwing an error.\r\n\r\nController1:\r\n\r\n    package com.example.demo;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    public class Controller1 implements Initializable {\r\n\r\n     @FXML\r\n     Button nextScene;\r\n\r\n    @FXML\r\n    HBox imageViewLayout;\r\n\r\n    @FXML\r\n    ImageView imageView;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        nextScene.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                try {\r\n                    Parent root = FXMLLoader.load(getClass().getResource(&quot;SceneView2.fxml&quot;));\r\n                    Scene scene = new Scene(root);\r\n                    Stage primaryStage = new Stage();\r\n                    primaryStage.setTitle(&quot;Video Library&quot;);\r\n                    primaryStage.setScene(scene);\r\n                    primaryStage.setResizable(false);\r\n                    primaryStage.initOwner(nextScene.getScene().getWindow());\r\n                    primaryStage.show();\r\n                } catch (Exception e) {\r\n                    // PASS\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        imageView.setImage(image);\r\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\r\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\r\n    }\r\n    }\r\n\r\n\r\nController2:\r\n\r\n    package com.example.demo;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    import javafx.scene.image.Image;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfByte;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n\r\n    public class Controller2 implements Initializable {\r\n\r\n     @FXML\r\n     Button addImage;\r\n\r\n     Controller1 controller1 = new Controller1();\r\n\r\n     @Override\r\n     public void initialize(URL url, ResourceBundle resourceBundle) {\r\n         addImage.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n                Mat imageMat = Imgcodecs.imread(&quot;D://img.jpg&quot;);\r\n                Image image = mat2Image(imageMat);\r\n\r\n                controller1.setImage(image);\r\n            }\r\n        });\r\n    }\r\n\r\n    // CONVERTING OPENCV IMAGE TO JAVAFX IMAGE\r\n    public Image mat2Image(Mat mat) {\r\n        MatOfByte buffer = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\r\n        return new Image(new ByteArrayInputStream(buffer.toArray()));\r\n    }\r\n    }\r\n\r\nHere&#39;s a print stack trace:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -Djava.library.path=D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\x64 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=60044:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1.jar -p &quot;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1-win.jar;D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\opencv-460.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1-win.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1-win.jar;D:\\Software Engineering\\App Development\\Desktop Development\\Java\\Demo\\target\\classes;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1-win.jar&quot; -m com.example.demo/com.example.demo.Main\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.image.ImageView.setImage(javafx.scene.image.Image)&quot; because &quot;this.imageView&quot; is null\r\n    \tat com.example.demo/com.example.demo.Controller1.setImage(Controller1.java:53)\r\n    \tat com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:35)\r\n    \tat com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:28)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n    \tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n","title":"Can&#39;t set image in image view when calling method from different controller than the where Image View is actually set in JavaFX?","body":"<p>I think my question must be confusing. Let me briefly explain, I am using JavaFX, creating a photo editor. I have two controllers and two views. HomeController (from where image view layout is set), and BrightnessController, which opens a new dialogue window, from where I set values of brightness, but when apply changes, it throws error, saying this:\n<a href=\"https://i.stack.imgur.com/fLJOj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my HomeController:</p>\n<pre><code>package com.example.photoeditor;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.FileChooser;\n\nimport javafx.stage.Stage;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\n\n@SuppressWarnings(&quot;All&quot;)\npublic class HomeController implements Initializable {\n\n    @FXML\n    Button cropButton;\n\n    @FXML\n    Button brightnessButton;\n\n    @FXML\n    Button contrastButton;\n\n    @FXML\n    Button sharpnessButton;\n\n    @FXML\n    HBox imageViewLayout;\n\n    @FXML\n    ImageView imageView;\n\n    @FXML\n    MenuBar menuBar;\n\n    Mat imageMat;\n    String inputImageFileLocation;\n\n    Utilities utilities = new Utilities();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        // Create two menus\n        Menu fileMenu = new Menu(&quot;File&quot;);\n\n        // Create some menu items\n        MenuItem newMenuItem = new MenuItem(&quot;New&quot;);\n        MenuItem openMenuItem = new MenuItem(&quot;Open&quot;);\n        MenuItem saveMenuItem = new MenuItem(&quot;Save&quot;);\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\n\n        // Add menu items to the File menu\n        fileMenu.getItems().addAll(newMenuItem, openMenuItem, saveMenuItem, exitMenuItem);\n\n        // Add menus to the menubar\n        menuBar.getMenus().addAll(fileMenu);\n\n        openMenuItem.setOnAction(new EventHandler&lt;&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                openImage();\n            }\n        });\n\n        brightnessButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                openBrightnessWindow();\n            }\n        });\n    }\n\n    // LOADING IMAGE INTO IMAGEVIEW\n    public void openImage() {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n\n        // Open dialogue to get image location path\n        FileChooser fileChooser = new FileChooser();\n        File inputImageFile = fileChooser.showOpenDialog(null);\n        inputImageFileLocation = inputImageFile.toString().replaceAll(\n                &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n\n\n        imageMat = Imgcodecs.imread(inputImageFileLocation);\n        Image image = utilities.mat2Image(imageMat);\n\n        setImage(image);\n\n    }\n\n    public void openBrightnessWindow() {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;BrightnessView.fxml&quot;));\n            Scene scene = new Scene(root);\n            Stage primaryStage = new Stage();\n            primaryStage.setTitle(&quot;Brightness Controller&quot;);\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.initOwner(brightnessButton.getScene().getWindow());\n            primaryStage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void setImage(Image image) {\n        imageView.setImage(image);\n        imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\n        imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\n    }\n}\n</code></pre>\n<p>And this is my BrightnessController:</p>\n<pre><code>package com.example.photoeditor;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\n@SuppressWarnings(&quot;All&quot;)\npublic class BrightnessController extends HomeController implements Initializable {\n\n    @FXML\n    Button applyChanges;\n\n    @FXML\n    TextField textField;\n\n    Utilities utilities = new Utilities();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        applyChanges.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                enhanceBrightness();\n            }\n        });\n    }\n\n    public void enhanceBrightness() {\n        Mat source = Imgcodecs.imread(&quot;D://img.jpg&quot;);\n        Mat destination = new Mat(source.rows(), source.cols(), source.type());\n        source.convertTo(destination, -1, 10, 50);\n\n        Image newImage = utilities.mat2Image(destination);\n        setImage(newImage);\n    }\n}\n\n</code></pre>\n<p>I know that some of you will say that I am sending null method (no image) from brightness controller to home controller, well that's not true. When i run the same code in HomeController where Image View layout exists, it works without any problem.</p>\n<p>Now this clearly means that JavaFX is having problem with setting images in ImageView from different controllers. This used to be super easy when JavaFX supported to connect multiple views with one controller from fxml files.</p>\n<p>Please help me to fix this problem.</p>\n<p>Okay so I am inserting this new less complicated version of my program to make it more understandable. I have two controllers, &quot;Controller1.java&quot; and &quot;Controller2.java&quot;, they both are connected to scenes, &quot;SceneView1&quot; and &quot;SceneView2&quot;. &quot;Controller1.java&quot; has method setImage(Image image) to set an image in image view of &quot;SceneView1&quot;. Now I am sending image from &quot;Controller2.java&quot;, in other words calling setImage() method, and it is throwing an error.</p>\n<p>Controller1:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Controller1 implements Initializable {\n\n @FXML\n Button nextScene;\n\n@FXML\nHBox imageViewLayout;\n\n@FXML\nImageView imageView;\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    nextScene.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent actionEvent) {\n            try {\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;SceneView2.fxml&quot;));\n                Scene scene = new Scene(root);\n                Stage primaryStage = new Stage();\n                primaryStage.setTitle(&quot;Video Library&quot;);\n                primaryStage.setScene(scene);\n                primaryStage.setResizable(false);\n                primaryStage.initOwner(nextScene.getScene().getWindow());\n                primaryStage.show();\n            } catch (Exception e) {\n                // PASS\n            }\n        }\n    });\n}\n\npublic void setImage(Image image) {\n    imageView.setImage(image);\n    imageView.fitWidthProperty().bind(imageViewLayout.widthProperty());\n    imageView.fitHeightProperty().bind(imageViewLayout.heightProperty());\n}\n}\n</code></pre>\n<p>Controller2:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\n\nimport java.io.ByteArrayInputStream;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.scene.image.Image;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.imgcodecs.Imgcodecs;\n\npublic class Controller2 implements Initializable {\n\n @FXML\n Button addImage;\n\n Controller1 controller1 = new Controller1();\n\n @Override\n public void initialize(URL url, ResourceBundle resourceBundle) {\n     addImage.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent actionEvent) {\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n            Mat imageMat = Imgcodecs.imread(&quot;D://img.jpg&quot;);\n            Image image = mat2Image(imageMat);\n\n            controller1.setImage(image);\n        }\n    });\n}\n\n// CONVERTING OPENCV IMAGE TO JAVAFX IMAGE\npublic Image mat2Image(Mat mat) {\n    MatOfByte buffer = new MatOfByte();\n    Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\n    return new Image(new ByteArrayInputStream(buffer.toArray()));\n}\n}\n</code></pre>\n<p>Here's a print stack trace:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -Djava.library.path=D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\x64 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\lib\\idea_rt.jar=60044:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1.jar -p &quot;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-controls\\19.0.2.1\\javafx-controls-19.0.2.1-win.jar;D:\\Softwares\\OpenCV-4.6.0\\opencv\\build\\java\\opencv-460.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19.0.2.1\\javafx-fxml-19.0.2.1-win.jar;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19.0.2.1\\javafx-graphics-19.0.2.1-win.jar;D:\\Software Engineering\\App Development\\Desktop Development\\Java\\Demo\\target\\classes;C:\\Users\\Administrator\\.m2\\repository\\org\\openjfx\\javafx-base\\19.0.2.1\\javafx-base-19.0.2.1-win.jar&quot; -m com.example.demo/com.example.demo.Main\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.image.ImageView.setImage(javafx.scene.image.Image)&quot; because &quot;this.imageView&quot; is null\n    at com.example.demo/com.example.demo.Controller1.setImage(Controller1.java:53)\n    at com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:35)\n    at com.example.demo/com.example.demo.Controller2$1.handle(Controller2.java:28)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n"},{"tags":["java","mysql","jdbc","remote-access"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679062528,"post_id":75768030,"comment_id":133658430,"body_markdown":"Try first with a mysql client using the LAN IP address as the host part of the connection","body":"Try first with a mysql client using the LAN IP address as the host part of the connection"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679063071,"post_id":75768030,"comment_id":133658610,"body_markdown":"Sorry, I should have made clear that the IP address I&#39;m using is the private IP Address for use within the LAN. I&#39;ll edit the question accordingly.","body":"Sorry, I should have made clear that the IP address I&#39;m using is the private IP Address for use within the LAN. I&#39;ll edit the question accordingly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679063573,"post_id":75768030,"comment_id":133658747,"body_markdown":"I&#39;m aware it&#39;s a private address. If you&#39;ve set up the server correctly and your network functions as it should, the LAN hostname would be a lot better. Just to be clear, this &#39;remote&#39; connection you&#39;re trying is *from inside* the LAN is it not? Because if it isn&#39;t, you will probably need port forwarding to forward to that host from &#39;the Internet&#39;","body":"I&#39;m aware it&#39;s a private address. If you&#39;ve set up the server correctly and your network functions as it should, the LAN hostname would be a lot better. Just to be clear, this &#39;remote&#39; connection you&#39;re trying is <i>from inside</i> the LAN is it not? Because if it isn&#39;t, you will probably need port forwarding to forward to that host from &#39;the Internet&#39;"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679063598,"post_id":75768030,"comment_id":133658756,"body_markdown":"If you can reach it on 192.nnn.nnn.nn from another sql client from the localhost then firewall is open. Can you set your sql client to not use SSL/TLS? Perhaps that DB is setup to insist on SSL/TLS. Your code &amp; dependencies that reached the DB at localhost should be able to reach 192.nnn.nnn.nn unchanged (besides the  application.properties change to the spring.datasource.url). Is the version running at 192.nnn.nnn.nn materially the same as that running on localhost?","body":"If you can reach it on 192.nnn.nnn.nn from another sql client from the localhost then firewall is open. Can you set your sql client to not use SSL/TLS? Perhaps that DB is setup to insist on SSL/TLS. Your code &amp; dependencies that reached the DB at localhost should be able to reach 192.nnn.nnn.nn unchanged (besides the  application.properties change to the spring.datasource.url). Is the version running at 192.nnn.nnn.nn materially the same as that running on localhost?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679063720,"post_id":75768030,"comment_id":133658787,"body_markdown":"What stacktrace do you get locally (with the code/dependencies that work locally) when you call 192.nnn.nnn.nn? Does the DB at 192.nnn.nnn.nn have a schema testdb? Can you use the localhost&#39;s network ip (not 127.0.0.1) in place of &#39;localhost&#39;? all of this info should narrow down the cause.","body":"What stacktrace do you get locally (with the code/dependencies that work locally) when you call 192.nnn.nnn.nn? Does the DB at 192.nnn.nnn.nn have a schema testdb? Can you use the localhost&#39;s network ip (not 127.0.0.1) in place of &#39;localhost&#39;? all of this info should narrow down the cause."},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679064303,"post_id":75768030,"comment_id":133658973,"body_markdown":"@g00se. Yes, everything is inside my home LAN. I&#39;ll research your comments and let you know when and if they work!  Thank you very much!","body":"@g00se. Yes, everything is inside my home LAN. I&#39;ll research your comments and let you know when and if they work!  Thank you very much!"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679064405,"post_id":75768030,"comment_id":133659007,"body_markdown":"@John Williams: Thank you very much for your quick and comprehensive notes!  I&#39;ll research all your suggestions and get back to you as and when I have a result. I have to leave my desk now as it&#39;s St Patrick&#39;s Day and I&#39;m Irish (though in Berlin). So I may not get back to you until the weekend!","body":"@John Williams: Thank you very much for your quick and comprehensive notes!  I&#39;ll research all your suggestions and get back to you as and when I have a result. I have to leave my desk now as it&#39;s St Patrick&#39;s Day and I&#39;m Irish (though in Berlin). So I may not get back to you until the weekend!"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1679399375,"post_id":75768030,"comment_id":133711254,"body_markdown":"@John Williams:  Inspired by your suggestions, one of the things I did with the code connecting remotely with the database was make sure it was identical to the code for the local machine. I simply overwrote the remote code with my git-saved version. I noticed a small difference in external dependencies. There was something wrong with my reference to the java-connection*.jar. Once I&#39;d deleted and re-created the reference, things began to work (almost ... I have a new problem I&#39;ll try to work out for myself).\n\nThanks to everyone for your help (especially to you!).  I&#39;ll write an answer soon!","body":"@John Williams:  Inspired by your suggestions, one of the things I did with the code connecting remotely with the database was make sure it was identical to the code for the local machine. I simply overwrote the remote code with my git-saved version. I noticed a small difference in external dependencies. There was something wrong with my reference to the java-connection*.jar. Once I&#39;d deleted and re-created the reference, things began to work (almost ... I have a new problem I&#39;ll try to work out for myself).  Thanks to everyone for your help (especially to you!).  I&#39;ll write an answer soon!"}],"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679302060,"creation_date":1679058956,"question_id":75768030,"body_markdown":"I&#39;ve succeeded in creating a connection from a Java application using Intellij to a MySQL database hosted locally but am having dreadful trouble making the same connection from identical code using a remote computer.\r\n\r\nBoth the local and the remote computers are running Windows 11.\r\n\r\nI&#39;ve done all the following:\r\n1. carefully checked my connections string for my local connection:\r\n```\r\njdbc:mysql://localhost:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n```\r\n... and my remote connection:\r\n```\r\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n```\r\n\r\n2. checked for the presence of my MySQL Connector/J driver (mysql.connector-java-5.1.49 is on my list of external libraries).\r\n\r\n3. created a rule in the windows firewall allowing my client access the server through the relevant port (3306).\r\n\r\n4. checked that the IP address and port of the remote host as well as the user name and password are all correct.  The IP address to the remote computer is the private IP address provided for that computer for private use within the LAN.\r\n\r\n5. I&#39;ve successfully created a connection to the database on the remote computer using MySQL based on the same IP Address, port, username and password. Does that mean the issue isn&#39;t a firewall problem?\r\n\r\n6. I&#39;ve also replaced &quot;localhost&quot; with 127.0.0.1 and with the private IP address (192.nnn.nnn.nn as above) when running the code locally on the DB host machine. The result is a successful connection every time. \r\n\r\nI&#39;ve also added the line to the code &#39;Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&#39; with the result that the code now no longer works even using a localhost string, yielding an error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver. This suggests that the driver used by the connection.jar is not com.mysql.jdbc.driver. The same happens for &quot;com.mysql.cj.jdbc.Driver&quot;. I&#39;ve since commented this line out, and my localhost instance (of course) works fine again, while the remote instance (of course) reverts to a java.sql.SQLException: &quot;No suitable driver found for jdbc:mysql:...&quot; error triggered on this line:\r\n```\r\nmyConnection = DriverManager.getConnection(connectionString);\r\n```\r\n\r\nThis is the central error I&#39;m getting every time I try to create the remote connection from within the java application.\r\n\r\nThe output from the console when I run the local instance successfully is as follows (I&#39;ve replaced the ip address here and in the stack trace for the unsuccessful instance with &quot;192.nnn.nnn.nn&quot;):\r\n\r\n```\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\lib\\idea_rt.jar=51949:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\java_development\\LessonsApp\\out\\production\\LessonsApp;D:\\java_development\\Database_experiments\\English_exercises\\lib\\mysql-connector-java-5.1.49.jar LessonsApp\r\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass#1\r\n\r\n```\r\n\r\nHere&#39;s the stack trace for the unsuccessful remote connection (the connection is made at the press of a button from an initial screen and the :\r\n\r\n```\r\n&quot;C:\\Users\\Jaime Hyland\\.jdks\\azul-15.0.10\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\lib\\idea_rt.jar=57486:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Jaime Hyland\\IdeaProjects\\LessonsApp\\out\\production\\LessonsApp&quot; LessonsApp\r\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjava.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\r\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass1Blah, blah java.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/englishexercises?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n\tat ComboPopulator.getListForCombo(ComboPopulator.java:31)\r\n\tat CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:105)\r\n\tat NavigationGUI$1$1.run(NavigationGUI.java:19)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\r\n\tat ComboPopulator.getListForCombo(ComboPopulator.java:31)\r\n\tat CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:117)\r\n\tat NavigationGUI$1$1.run(NavigationGUI.java:19)\r\n```\r\n\r\nI&#39;d appreciate if anyone could provide me with a little guidance on this.  I&#39;d particularly appreciate if anyone could clarify whether I can assume that my issue is not an obvious firewall problem if my local instance of MySQL Workbench can connect successfully with the remote MySQL Database using an identical IP address, port, username and password.\r\n\r\nI&#39;ve been back and forth through lots of stack overflow questions on jdbc connections looking for a solution. I apologise if I&#39;m adding yet more duplication to this already much discussed issue.","title":"Can&#39;t create connection to MySQL database on remote computer on my LAN","body":"<p>I've succeeded in creating a connection from a Java application using Intellij to a MySQL database hosted locally but am having dreadful trouble making the same connection from identical code using a remote computer.</p>\n<p>Both the local and the remote computers are running Windows 11.</p>\n<p>I've done all the following:</p>\n<ol>\n<li>carefully checked my connections string for my local connection:</li>\n</ol>\n<pre><code>jdbc:mysql://localhost:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n</code></pre>\n<p>... and my remote connection:</p>\n<pre><code>jdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n</code></pre>\n<ol start=\"2\">\n<li><p>checked for the presence of my MySQL Connector/J driver (mysql.connector-java-5.1.49 is on my list of external libraries).</p>\n</li>\n<li><p>created a rule in the windows firewall allowing my client access the server through the relevant port (3306).</p>\n</li>\n<li><p>checked that the IP address and port of the remote host as well as the user name and password are all correct.  The IP address to the remote computer is the private IP address provided for that computer for private use within the LAN.</p>\n</li>\n<li><p>I've successfully created a connection to the database on the remote computer using MySQL based on the same IP Address, port, username and password. Does that mean the issue isn't a firewall problem?</p>\n</li>\n<li><p>I've also replaced &quot;localhost&quot; with 127.0.0.1 and with the private IP address (192.nnn.nnn.nn as above) when running the code locally on the DB host machine. The result is a successful connection every time.</p>\n</li>\n</ol>\n<p>I've also added the line to the code 'Class.forName(&quot;com.mysql.jdbc.Driver&quot;);' with the result that the code now no longer works even using a localhost string, yielding an error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver. This suggests that the driver used by the connection.jar is not com.mysql.jdbc.driver. The same happens for &quot;com.mysql.cj.jdbc.Driver&quot;. I've since commented this line out, and my localhost instance (of course) works fine again, while the remote instance (of course) reverts to a java.sql.SQLException: &quot;No suitable driver found for jdbc:mysql:...&quot; error triggered on this line:</p>\n<pre><code>myConnection = DriverManager.getConnection(connectionString);\n</code></pre>\n<p>This is the central error I'm getting every time I try to create the remote connection from within the java application.</p>\n<p>The output from the console when I run the local instance successfully is as follows (I've replaced the ip address here and in the stack trace for the unsuccessful instance with &quot;192.nnn.nnn.nn&quot;):</p>\n<pre><code>\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\lib\\idea_rt.jar=51949:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.2.4\\bin&quot; -Dfile.encoding=UTF-8 -classpath D:\\java_development\\LessonsApp\\out\\production\\LessonsApp;D:\\java_development\\Database_experiments\\English_exercises\\lib\\mysql-connector-java-5.1.49.jar LessonsApp\njdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjdbc:mysql://192.nnn.nnn.nn:3306/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass#1\n\n</code></pre>\n<p>Here's the stack trace for the unsuccessful remote connection (the connection is made at the press of a button from an initial screen and the :</p>\n<pre><code>&quot;C:\\Users\\Jaime Hyland\\.jdks\\azul-15.0.10\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\lib\\idea_rt.jar=57486:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Jaime Hyland\\IdeaProjects\\LessonsApp\\out\\production\\LessonsApp&quot; LessonsApp\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Passjava.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\nSQL exception: java.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass1Blah, blah java.lang.NullPointerException: Cannot invoke &quot;java.sql.ResultSet.close()&quot; because &quot;rs&quot; is null\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/englishexercises?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at ComboPopulator.getListForCombo(ComboPopulator.java:31)\n    at CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:105)\n    at NavigationGUI$1$1.run(NavigationGUI.java:19)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\njava.sql.SQLException: No suitable driver found for jdbc:mysql://192.nnn.nnn.nn/testdb?autoReconnect=true&amp;useSSL=false&amp;user=TestUser&amp;password=Test#Pass\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251)\n    at ComboPopulator.getListForCombo(ComboPopulator.java:31)\n    at CreateLessonGUI.&lt;init&gt;(CreateLessonGUI.java:117)\n    at NavigationGUI$1$1.run(NavigationGUI.java:19)\n</code></pre>\n<p>I'd appreciate if anyone could provide me with a little guidance on this.  I'd particularly appreciate if anyone could clarify whether I can assume that my issue is not an obvious firewall problem if my local instance of MySQL Workbench can connect successfully with the remote MySQL Database using an identical IP address, port, username and password.</p>\n<p>I've been back and forth through lots of stack overflow questions on jdbc connections looking for a solution. I apologise if I'm adding yet more duplication to this already much discussed issue.</p>\n"},{"tags":["java","instrumentation","javaagents"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1563285527,"post_id":57006881,"comment_id":100643545,"body_markdown":"Try `Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;)`, just to see whether you get a better stack trace.","body":"Try <code>Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;)</code>, just to see whether you get a better stack trace."},{"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"score":0,"creation_date":1563288534,"post_id":57006881,"comment_id":100645527,"body_markdown":"I&#39;ve added the stack trace for that to the original question, thanks!","body":"I&#39;ve added the stack trace for that to the original question, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562970244,"creation_date":1562970244,"answer_id":57014633,"question_id":57006881,"body_markdown":"In Java 8, the attach API is part of a seperate jar that the JVM does not load by default. You will have to include it explicitly in the class path. Typically, it is located in the `\\lib` folder of your JDK&#39;s home:\r\n\r\n    java -cp %JAVA_HOME%\\\\lib\\\\tools.jar -jar AgentAttacher.jar","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>In Java 8, the attach API is part of a seperate jar that the JVM does not load by default. You will have to include it explicitly in the class path. Typically, it is located in the <code>\\lib</code> folder of your JDK's home:</p>\n\n<pre><code>java -cp %JAVA_HOME%\\\\lib\\\\tools.jar -jar AgentAttacher.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563289938,"creation_date":1563289938,"answer_id":57060445,"question_id":57006881,"body_markdown":"It appears that the issue was with `attach.dll` not loading from `%JAVA_HOME%\\jre\\bin`.\r\n\r\nRunning the jar as:\r\n\r\n```none\r\njava -Djava.library.path=&quot;%JAVA_HOME%\\jre\\bin&quot; -jar AgentAttacher.jar\r\n```\r\n\r\nappears to have worked, so long as `tools.jar` is specified in my jar manifest under `Class-Path`.","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>It appears that the issue was with <code>attach.dll</code> not loading from <code>%JAVA_HOME%\\jre\\bin</code>.</p>\n\n<p>Running the jar as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java -Djava.library.path=\"%JAVA_HOME%\\jre\\bin\" -jar AgentAttacher.jar\n</code></pre>\n\n<p>appears to have worked, so long as <code>tools.jar</code> is specified in my jar manifest under <code>Class-Path</code>.</p>\n"},{"tags":[],"owner":{"account_id":23076576,"reputation":1,"user_id":17189447,"display_name":"longqi song"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679301278,"creation_date":1679301182,"answer_id":75787985,"question_id":57006881,"body_markdown":"I encountered the same problem and solved it this way:\r\n\r\nuse jdk 11 build source,can not find `tools.jar`  or tools.jar is windows\r\n\r\nthis is my pom.xml\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.8.0&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${project.basedir}/lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n```shell\r\n# Create a local directory and put tools. jar in it\r\nmkdir lib &amp;&amp; cp %JAVA_8_HOME/lib/tools.jar% lib/\r\n```\r\n\r\nthen:\r\n```shell\r\nmvn package\r\njava -jar attach-agent.jar\r\n```","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>I encountered the same problem and solved it this way:</p>\n<p>use jdk 11 build source,can not find <code>tools.jar</code>  or tools.jar is windows</p>\n<p>this is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\n      &lt;version&gt;1.8.0&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${project.basedir}/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code># Create a local directory and put tools. jar in it\nmkdir lib &amp;&amp; cp %JAVA_8_HOME/lib/tools.jar% lib/\n</code></pre>\n<p>then:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn package\njava -jar attach-agent.jar\n</code></pre>\n"}],"owner":{"account_id":4824359,"reputation":542,"user_id":3894173,"display_name":"ihatecsv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6805,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57060445,"answer_count":3,"score":3,"last_activity_date":1679301278,"creation_date":1562933900,"question_id":57006881,"body_markdown":"I&#39;m currently writing an attacher which attaches agents to JVM processes, and I keep running into this issue. Here&#39;s a simplified version of my code:\r\n\r\n```java\r\nimport com.sun.tools.attach.VirtualMachine;\r\n\r\npublic class AgentAttacher {\r\n    public static void main(String[] args) {\r\n        try {\r\n            String pid = &quot;some-pid-determined-elsewhere&quot;;\r\n            final VirtualMachine vm = VirtualMachine.attach(pid);\r\n            vm.loadAgent(&quot;agent.jar&quot;);\r\n            vm.detach();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen running `java -jar AgentAttacher.jar`, I get the following error:\r\n\r\n```none\r\njava.util.ServiceConfigurationError: com.sun.tools.attach.spi.AttachProvider: Provider sun.tools.attach.WindowsAttachProvider could not be instantiated\r\n```\r\n\r\nI have tried adding `tools.jar` from the `lib` directory of my JDK to the `CLASSPATH` environment variable, including it in the `Class-Path` in my `MANIFEST.MF`, and directly specifying it using `-cp` while running the JAR. I&#39;m fairly certain that `tools.jar` is being loaded because it gives a different error when missing:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\r\n```\r\n\r\nI&#39;m also getting the `WindowsAttachProvider could not be instantiated` error while only using `VirtualMachine.list()`, so I don&#39;t think this is related to using `attach()` with an incorrect PID.\r\n\r\n---\r\n\r\nI&#39;ve tried loading the class using `Class.forName()`:\r\n\r\n```java\r\npublic class AgentAttacher {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Class.forName(&quot;sun.tools.attach.WindowsAttachProvider&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I get the following stack trace:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no attach in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n        at java.lang.System.loadLibrary(Unknown Source)\r\n        at sun.tools.attach.WindowsAttachProvider.&lt;clinit&gt;(WindowsAttachProvider.java:175)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at JavaAttacker.main(JavaAttacker.java:4)\r\n```\r\n\r\nIf I don&#39;t include `tools.jar` in the classpath, I get a different stack trace here, so I&#39;m sure it&#39;s being loaded:\r\n\r\n```none\r\njava.lang.ClassNotFoundException: sun.tools.attach.WindowsAttachProvider\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at JavaAttacker.main(JavaAttacker.java:4)\r\n```\r\n\r\n---\r\n\r\nMy environment is a Windows 10 Pro (1809) VM on VirtualBox with JDK &amp; JRE 1.8.0_212.","title":"sun.tools.attach.WindowsAttachProvider could not be instantiated","body":"<p>I'm currently writing an attacher which attaches agents to JVM processes, and I keep running into this issue. Here's a simplified version of my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.tools.attach.VirtualMachine;\n\npublic class AgentAttacher {\n    public static void main(String[] args) {\n        try {\n            String pid = \"some-pid-determined-elsewhere\";\n            final VirtualMachine vm = VirtualMachine.attach(pid);\n            vm.loadAgent(\"agent.jar\");\n            vm.detach();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When running <code>java -jar AgentAttacher.jar</code>, I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.util.ServiceConfigurationError: com.sun.tools.attach.spi.AttachProvider: Provider sun.tools.attach.WindowsAttachProvider could not be instantiated\n</code></pre>\n\n<p>I have tried adding <code>tools.jar</code> from the <code>lib</code> directory of my JDK to the <code>CLASSPATH</code> environment variable, including it in the <code>Class-Path</code> in my <code>MANIFEST.MF</code>, and directly specifying it using <code>-cp</code> while running the JAR. I'm fairly certain that <code>tools.jar</code> is being loaded because it gives a different error when missing:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\n</code></pre>\n\n<p>I'm also getting the <code>WindowsAttachProvider could not be instantiated</code> error while only using <code>VirtualMachine.list()</code>, so I don't think this is related to using <code>attach()</code> with an incorrect PID.</p>\n\n<hr>\n\n<p>I've tried loading the class using <code>Class.forName()</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class AgentAttacher {\n    public static void main(String[] args) {\n        try {\n            Class.forName(\"sun.tools.attach.WindowsAttachProvider\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>and I get the following stack trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no attach in java.library.path\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\n        at java.lang.System.loadLibrary(Unknown Source)\n        at sun.tools.attach.WindowsAttachProvider.&lt;clinit&gt;(WindowsAttachProvider.java:175)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at JavaAttacker.main(JavaAttacker.java:4)\n</code></pre>\n\n<p>If I don't include <code>tools.jar</code> in the classpath, I get a different stack trace here, so I'm sure it's being loaded:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: sun.tools.attach.WindowsAttachProvider\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at JavaAttacker.main(JavaAttacker.java:4)\n</code></pre>\n\n<hr>\n\n<p>My environment is a Windows 10 Pro (1809) VM on VirtualBox with JDK &amp; JRE 1.8.0_212.</p>\n"},{"tags":["java","spring-mvc","maven"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":147,"is_accepted":false,"score":146,"last_activity_date":1299065923,"creation_date":1299065923,"answer_id":5166923,"question_id":5166898,"body_markdown":"You need to add [`commons-fileupload`][1]\r\n\r\nadd this to your POM  \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2.1&lt;/version&gt; &lt;!-- makesure correct version here --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://mirrors.ibiblio.org/pub/mirrors/maven2/commons-fileupload/commons-fileupload/\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>You need to add <a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven2/commons-fileupload/commons-fileupload/\" rel=\"noreferrer\"><code>commons-fileupload</code></a></p>\n\n<p>add this to your POM  </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n   &lt;version&gt;1.2.1&lt;/version&gt; &lt;!-- makesure correct version here --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679300929,"creation_date":1609852964,"answer_id":65579763,"question_id":5166898,"body_markdown":"For the &lt;b&gt;security&lt;/b&gt; use version 1.5 : \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n       &lt;version&gt;1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheck : https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>For the <b>security</b> use version 1.5 :</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n   &lt;version&gt;1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check : <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload</a></p>\n"}],"owner":{"account_id":164640,"reputation":1039,"user_id":387526,"accept_rate":40,"display_name":"Dharmesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112784,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":2,"score":68,"last_activity_date":1679300929,"creation_date":1299065733,"question_id":5166898,"body_markdown":"I am trying a simple example of file upload in spring MVC using maven and I follwed this [tutorial][1].\r\n\r\nBut I am getting this error\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n\r\nI also included the dependencies in pom.xml\r\n\r\n    &lt;!-- Apache Commons Upload --&gt; \r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nalso in dispatcher-servlet.xml\r\n\r\n    &lt;!-- Configure the multipart resolver --&gt;\r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;!-- one of the properties available; the maximum file size in bytes --&gt;\r\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000&quot;/&gt;\r\n    &lt;/bean&gt;\t\r\n\r\nWhere I am going wrong?\r\n\r\n\r\n  [1]: http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-fileupload-example.html","title":"java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory","body":"<p>I am trying a simple example of file upload in spring MVC using maven and I follwed this <a href=\"http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-fileupload-example.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<p>But I am getting this error</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n</code></pre>\n<p>I also included the dependencies in pom.xml</p>\n<pre><code>&lt;!-- Apache Commons Upload --&gt; \n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>also in dispatcher-servlet.xml</p>\n<pre><code>&lt;!-- Configure the multipart resolver --&gt;\n&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\n    &lt;!-- one of the properties available; the maximum file size in bytes --&gt;\n    &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000&quot;/&gt;\n&lt;/bean&gt; \n</code></pre>\n<p>Where I am going wrong?</p>\n"},{"tags":["java","java-8","null","stringbuilder"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679036640,"post_id":75764610,"comment_id":133652036,"body_markdown":"you should perform a null check on each of the variables before you append it to your stringbuffer or stringbuilder","body":"you should perform a null check on each of the variables before you append it to your stringbuffer or stringbuilder"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679036914,"post_id":75764610,"comment_id":133652087,"body_markdown":".append(&quot;&lt;b&gt; Date: &lt;/b&gt;&quot;) -&gt; could you please explain how you think this would/could be dependent on a value that&#39;s not even part of this append?","body":".append(&quot;&lt;b&gt; Date: &lt;/b&gt;&quot;) -&gt; could you please explain how you think this would/could be dependent on a value that&#39;s not even part of this append?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679037252,"post_id":75764610,"comment_id":133652155,"body_markdown":"`StringBuffer` has been superseded by `StringBuilder` in Java&#160;5. But you don’t need to replace `StringBuffer` with `StringBuilder`, you get it for free when you just write `String dummyVal = &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + someDTO.getId() + &quot;, &quot; + &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + someDTO.getType() + &quot;, &quot; + &quot;&lt;b&gt; Date: &lt;/b&gt; &quot; + someDTO.getDate() + &quot;, &quot;`; In fact, the code generated for the simple expression using `+` will be even better.","body":"<code>StringBuffer</code> has been superseded by <code>StringBuilder</code> in Java 5. But you don’t need to replace <code>StringBuffer</code> with <code>StringBuilder</code>, you get it for free when you just write <code>String dummyVal = &quot;&lt;b&gt; test Id &lt;&#47;b&gt; &quot; + someDTO.getId() + &quot;, &quot; + &quot;&lt;b&gt; Type: &lt;&#47;b&gt; &quot; + someDTO.getType() + &quot;, &quot; + &quot;&lt;b&gt; Date: &lt;&#47;b&gt; &quot; + someDTO.getDate() + &quot;, &quot;</code>; In fact, the code generated for the simple expression using <code>+</code> will be even better."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679037778,"post_id":75764610,"comment_id":133652271,"body_markdown":"@Holger is there some source you could provide on that? I remember reading about it, but i recall that the optimization of the string concats is not guaranteed as it may or may not use the stringbuilder.","body":"@Holger is there some source you could provide on that? I remember reading about it, but i recall that the optimization of the string concats is not guaranteed as it may or may not use the stringbuilder."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679037994,"post_id":75764610,"comment_id":133652328,"body_markdown":"Once you have your null check in place, you may want to look into a `StringJoiner`. It can put `&quot;, &quot;` *between* your items and does not put it after the last one, which may be convenient for your situation.","body":"Once you have your null check in place, you may want to look into a <code>StringJoiner</code>. It can put <code>&quot;, &quot;</code> <i>between</i> your items and does not put it after the last one, which may be convenient for your situation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679038152,"post_id":75764610,"comment_id":133652367,"body_markdown":"@experimentunit1998X the specification does indeed [not require it](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1:~:text=An%20implementation%20may,to%20a%20string.) but it’s a matter of fact that Java compilers use such an optimization since 1.0 (using `StringBuffer` prior to Java&#160;5 and `StringBuilder` afterwards or `StringConcatFactory` when using `javac` with JDK&#160;9+). There never was a compiler not optimizing string concatenation in such way in the last quarter century.","body":"@experimentunit1998X the specification does indeed <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1:~:text=An%20implementation%20may,to%20a%20string.\" rel=\"nofollow noreferrer\">not require it</a> but it’s a matter of fact that Java compilers use such an optimization since 1.0 (using <code>StringBuffer</code> prior to Java 5 and <code>StringBuilder</code> afterwards or <code>StringConcatFactory</code> when using <code>javac</code> with JDK 9+). There never was a compiler not optimizing string concatenation in such way in the last quarter century."}],"answers":[{"tags":[],"owner":{"account_id":28039775,"reputation":56,"user_id":21417525,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679059272,"creation_date":1679037358,"answer_id":75764694,"question_id":75764610,"body_markdown":"This is how conditions are used when using the `StringBuffer` or `StringBuilders` in Java applications.\r\nRewritten your snippet here with conditions.\r\n\r\n``` #java\r\nStringBuffer buffer = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId());\r\n\r\nif(Objects.nonNull(someDTO.getType())) {\r\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType());\r\n}\r\nif(Objects.nonNull(someDTO.getDate())) {\r\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate());\r\n}\r\n//buffer.setLength(buffer.length() - 1); // this is updated as per Holger&#39;s comment\r\nString dummyValue = buffer.toString();\r\n```\r\n","title":"String append in java","body":"<p>This is how conditions are used when using the <code>StringBuffer</code> or <code>StringBuilders</code> in Java applications.\nRewritten your snippet here with conditions.</p>\n<pre><code>StringBuffer buffer = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId());\n\nif(Objects.nonNull(someDTO.getType())) {\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType());\n}\nif(Objects.nonNull(someDTO.getDate())) {\n    buffer.append(&quot;, &quot;).append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate());\n}\n//buffer.setLength(buffer.length() - 1); // this is updated as per Holger's comment\nString dummyValue = buffer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679300090,"creation_date":1679038697,"answer_id":75764857,"question_id":75764610,"body_markdown":"There are different ways to archive this. Here is a example with Java Optionals and Streams.\r\n\r\n```java\r\nimport static java.util.Optional.ofNullable;\r\n\r\n// ...\r\n\r\nvar result = Stream.of(\r\n      ofNullable(someDTO.getId()).map(x -&gt; &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + x),\r\n      ofNullable(someDTO.getType()).map(x -&gt; &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + x),\r\n      ofNullable(someDTO.getDate()).map(x -&gt; &quot;&lt;b&gt; Date &lt;/b&gt; &quot; + x)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .collect(Collectors.joining(&quot;, &quot;))\r\n```\r\n\r\nNow it is very readable. \r\n","title":"String append in java","body":"<p>There are different ways to archive this. Here is a example with Java Optionals and Streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Optional.ofNullable;\n\n// ...\n\nvar result = Stream.of(\n      ofNullable(someDTO.getId()).map(x -&gt; &quot;&lt;b&gt; test Id &lt;/b&gt; &quot; + x),\n      ofNullable(someDTO.getType()).map(x -&gt; &quot;&lt;b&gt; Type: &lt;/b&gt; &quot; + x),\n      ofNullable(someDTO.getDate()).map(x -&gt; &quot;&lt;b&gt; Date &lt;/b&gt; &quot; + x)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.joining(&quot;, &quot;))\n</code></pre>\n<p>Now it is very readable.</p>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":75764694,"answer_count":2,"score":-4,"last_activity_date":1679300090,"creation_date":1679036529,"question_id":75764610,"body_markdown":"I am constructing single string value based on some other string details, which is as below.\r\nBut don&#39;t wants to add if any of DTO value is null or empty. How can I add it in java.\r\n\r\n    String dummyVal = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId()).append(&quot;, &quot;)\r\n    .append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType()).append(&quot;, &quot;)\r\n    .append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate()).toString();\r\n\r\n    sysout(dummyVal);\r\n\r\nActual result is :\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend, &lt;b&gt;Date:&lt;/b&gt; xx/yy/zz\r\n\r\nEXAMPLE: id - 123 , type - pend, date - null\r\n--------------------------------------------\r\nExpected result is like:\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\r\n\r\nNeed to ignore the null value tags and to add only tags is not null in java string.\r\n\r\nThen Expected result is like:\r\n\r\n    &lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend","title":"String append in java","body":"<p>I am constructing single string value based on some other string details, which is as below.\nBut don't wants to add if any of DTO value is null or empty. How can I add it in java.</p>\n<pre><code>String dummyVal = new StringBuffer (&quot;&lt;b&gt; test Id &lt;/b&gt; &quot;).append(someDTO.getId()).append(&quot;, &quot;)\n.append(&quot;&lt;b&gt; Type: &lt;/b&gt; &quot;).append(someDTO.getType()).append(&quot;, &quot;)\n.append(&quot;&lt;b&gt; Date: &lt;/b&gt; &quot;).append(someDTO.getDate()).toString();\n\nsysout(dummyVal);\n</code></pre>\n<p>Actual result is :</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend, &lt;b&gt;Date:&lt;/b&gt; xx/yy/zz\n</code></pre>\n<h2>EXAMPLE: id - 123 , type - pend, date - null</h2>\n<p>Expected result is like:</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\n</code></pre>\n<p>Need to ignore the null value tags and to add only tags is not null in java string.</p>\n<p>Then Expected result is like:</p>\n<pre><code>&lt;b&gt;test Id:&lt;/b&gt; 123, &lt;b&gt;Type:&lt;/b&gt; pend\n</code></pre>\n"},{"tags":["java","android","android-bitmap"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1646380603,"post_id":71348143,"comment_id":126113319,"body_markdown":"If your image capture code is working fine . then just change `Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);` to `photo = (Bitmap) data.getExtras().get(&quot;data&quot;);` and it should work .","body":"If your image capture code is working fine . then just change <code>Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);</code> to <code>photo = (Bitmap) data.getExtras().get(&quot;data&quot;);</code> and it should work ."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1646381124,"post_id":71348143,"comment_id":126113462,"body_markdown":"Hello, capture code works well, assigned to Imageview. I will try your advice.","body":"Hello, capture code works well, assigned to Imageview. I will try your advice."}],"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679299512,"creation_date":1646380411,"question_id":71348143,"body_markdown":"I combined the two Java codes, but I have a problem: when I take a picture and then I want to read the text with this picture, it writes the text of the program-assigned image (not taken photo).\r\n\r\nThe problem is the combination of commands, which I can not sort. Always read the original image (ImageView is installed with a Bitmap test image).\r\nI tried many times but could not order.\r\n\r\nP.S  I do not want to save the captured image.\r\n\r\nThanks in advance for the feedback.\r\n\r\nmy Java code:\r\n\r\n``` import......\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int CAMERA_REQUEST = 1888; ///////\r\n    private ImageView imageView;///\r\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\r\n\r\n\r\n    ////////////\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\r\n    {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\r\n        {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(photo);\r\n        }\r\n    }/////////////\r\n\r\n\r\n    ImageView imageview;\r\n    Button btnProcess;\r\n    EditText txtView, txtVieww;\r\n    Bitmap photo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        this.imageView = (ImageView)this.findViewById(R.id.image_view);////\r\n        Button photoButton = (Button) this.findViewById(R.id.button1);////\r\n\r\n        imageview = findViewById(R.id.image_view);\r\n        btnProcess = findViewById(R.id.btnProcess);\r\n        txtView = findViewById(R.id.txtView);\r\n        txtVieww = findViewById(R.id.txtVieww);\r\n        photo = BitmapFactory.decodeResource(getApplicationContext().getResources(),\r\n                R.drawable.newyt);\r\n        imageview.setImageBitmap(photo);\r\n\r\n\r\n        /////\r\n        photoButton.setOnClickListener(v -&gt; {\r\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\r\n            }\r\n            else\r\n            {\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n        });\r\n\r\n\r\n        ///////\r\n\r\n\r\n        btnProcess.setOnClickListener(v -&gt; {\r\n            TextRecognizer txtRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\r\n            if (!txtRecognizer.isOperational()) {\r\n                txtView.setText(R.string.error_prompt);\r\n                txtVieww.setText(R.string.error_prompt);\r\n            } else {\r\n                Frame frame = new Frame.Builder().setBitmap(photo).build();\r\n                SparseArray&lt;TextBlock&gt; items = txtRecognizer.detect(frame);\r\n                StringBuilder strBuilder = new StringBuilder();\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    TextBlock item = items.valueAt(i);\r\n                    strBuilder.append(item.getValue());\r\n                    strBuilder.append(&quot;/&quot;);\r\n                    for (Text line : item.getComponents()) {\r\n                        //extract scanned text lines here\r\n                        Log.v(&quot;lines&quot;, line.getValue());\r\n                        for (Text element : line.getComponents()) {\r\n                            //extract scanned text words here\r\n                            Log.v(&quot;element&quot;, element.getValue());\r\n\r\n                        }\r\n                    }\r\n                }\r\n                final String substringi = strBuilder.substring(0, 10).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n                final String substringg = substringi.substring(0, 5);\r\n                txtView.setText(substringi);\r\n                txtVieww.setText(substringg);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}","title":"How to take photo, but not OCR: android studio","body":"<p>I combined the two Java codes, but I have a problem: when I take a picture and then I want to read the text with this picture, it writes the text of the program-assigned image (not taken photo).</p>\n<p>The problem is the combination of commands, which I can not sort. Always read the original image (ImageView is installed with a Bitmap test image).\nI tried many times but could not order.</p>\n<p>P.S  I do not want to save the captured image.</p>\n<p>Thanks in advance for the feedback.</p>\n<p>my Java code:</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    private static final int CAMERA_REQUEST = 1888; ///////\n    private ImageView imageView;///\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\n\n\n    ////////////\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\n        {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n            else\n            {\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\n            imageView.setImageBitmap(photo);\n        }\n    }/////////////\n\n\n    ImageView imageview;\n    Button btnProcess;\n    EditText txtView, txtVieww;\n    Bitmap photo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        this.imageView = (ImageView)this.findViewById(R.id.image_view);////\n        Button photoButton = (Button) this.findViewById(R.id.button1);////\n\n        imageview = findViewById(R.id.image_view);\n        btnProcess = findViewById(R.id.btnProcess);\n        txtView = findViewById(R.id.txtView);\n        txtVieww = findViewById(R.id.txtVieww);\n        photo = BitmapFactory.decodeResource(getApplicationContext().getResources(),\n                R.drawable.newyt);\n        imageview.setImageBitmap(photo);\n\n\n        /////\n        photoButton.setOnClickListener(v -&gt; {\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\n            {\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\n            }\n            else\n            {\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        });\n\n\n        ///////\n\n\n        btnProcess.setOnClickListener(v -&gt; {\n            TextRecognizer txtRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\n            if (!txtRecognizer.isOperational()) {\n                txtView.setText(R.string.error_prompt);\n                txtVieww.setText(R.string.error_prompt);\n            } else {\n                Frame frame = new Frame.Builder().setBitmap(photo).build();\n                SparseArray&lt;TextBlock&gt; items = txtRecognizer.detect(frame);\n                StringBuilder strBuilder = new StringBuilder();\n                for (int i = 0; i &lt; items.size(); i++) {\n                    TextBlock item = items.valueAt(i);\n                    strBuilder.append(item.getValue());\n                    strBuilder.append(&quot;/&quot;);\n                    for (Text line : item.getComponents()) {\n                        //extract scanned text lines here\n                        Log.v(&quot;lines&quot;, line.getValue());\n                        for (Text element : line.getComponents()) {\n                            //extract scanned text words here\n                            Log.v(&quot;element&quot;, element.getValue());\n\n                        }\n                    }\n                }\n                final String substringi = strBuilder.substring(0, 10).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n                final String substringg = substringi.substring(0, 5);\n                txtView.setText(substringi);\n                txtVieww.setText(substringg);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169261,"post_id":71456004,"comment_id":126298823,"body_markdown":"If you select a picture from the galery you get an uri which you use to upload the file. When you let a camera app take a picture the camera app will produce a file too for which you have an uri and even know the file path. I wonder what you need more. Where exactly do you have a problem?","body":"If you select a picture from the galery you get an uri which you use to upload the file. When you let a camera app take a picture the camera app will produce a file too for which you have an uri and even know the file path. I wonder what you need more. Where exactly do you have a problem?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169370,"post_id":71456004,"comment_id":126298850,"body_markdown":"Your camera intent only gives you a small thumbnail bitmap. No file. Do you only want a small thumbnail? Why not a normal image file?","body":"Your camera intent only gives you a small thumbnail bitmap. No file. Do you only want a small thumbnail? Why not a normal image file?"},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647169608,"post_id":71456004,"comment_id":126298899,"body_markdown":"I have a problem: uploadImg.setOnClickListener order. Can&#39;t see the picture in Bitmag( if(filePath != null),    Is always =null.    It was loading from the gallery when I was selecting, but when I moved to the camera it wrote an error.","body":"I have a problem: uploadImg.setOnClickListener order. Can&#39;t see the picture in Bitmag( if(filePath != null),    Is always =null.    It was loading from the gallery when I was selecting, but when I moved to the camera it wrote an error."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647169732,"post_id":71456004,"comment_id":126298926,"body_markdown":"Is this the solution? : Save the taken image and after upload it?","body":"Is this the solution? : Save the taken image and after upload it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169777,"post_id":71456004,"comment_id":126298939,"body_markdown":"`Your camera intent only gives you a small thumbnail bitmap. No file.` So filePath==null.   `Do you only want a small thumbnail? Why not a normal image file?`","body":"<code>Your camera intent only gives you a small thumbnail bitmap. No file.</code> So filePath==null.   <code>Do you only want a small thumbnail? Why not a normal image file?</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647169962,"post_id":71456004,"comment_id":126298977,"body_markdown":"`Uri filePath;` Please don&#39;t name an uri a path. Makes your code unreadable. Better: `Uri fileUri;`.","body":"<code>Uri filePath;</code> Please don&#39;t name an uri a path. Makes your code unreadable. Better: <code>Uri fileUri;</code>."},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647170524,"post_id":71456004,"comment_id":126299081,"body_markdown":"What can I change to read and upload photo?     Uri filePath; --&gt;&gt;Uri fileUri;  only this?","body":"What can I change to read and upload photo?     Uri filePath; --&gt;&gt;Uri fileUri;  only this?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647171407,"post_id":71456004,"comment_id":126299257,"body_markdown":"`Your camera intent only gives you a small thumbnail bitmap. No file. So filePath==null. Do you only want a small thumbnail? Why not a normal image file?`","body":"<code>Your camera intent only gives you a small thumbnail bitmap. No file. So filePath==null. Do you only want a small thumbnail? Why not a normal image file?</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263614,"post_id":71456004,"comment_id":126319986,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"score":0,"creation_date":1647446983,"post_id":71456004,"comment_id":126374867,"body_markdown":"I was uploading an image saved in bitmap, which as I find out is not recommended, I am currently taking a separate image with the camera and then uploading it.","body":"I was uploading an image saved in bitmap, which as I find out is not recommended, I am currently taking a separate image with the camera and then uploading it."}],"owner":{"account_id":18171012,"reputation":447,"user_id":13220677,"display_name":"Tornike Kharitonishvili"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679299414,"creation_date":1647168781,"question_id":71456004,"body_markdown":"I have an app, I select a picture (gallery) and upload it to the firebase.\r\nI want to upload a picture taken with a camera. Many attempts, then I could not upload.\r\n\r\n1. I take a picture.\r\n2. Add to bitmap.\r\n3. At this time it writes that the &quot;Select an image&quot; (error in uploadImg.setOnClickListener).\r\n\r\nPlease help me:\r\n1. Correct the code.\r\n2. What code should I add to make the function work.\r\n\r\nMy code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int CAMERA_REQUEST = 1888; ///////\r\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\r\n    {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\r\n        {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    Button chooseImg, uploadImg;\r\n    ImageView imgView;\r\n    int PICK_IMAGE_REQUEST = 111;\r\n    Uri filePath;\r\n    ProgressDialog pd;\r\n    EditText idEdtCourseName;\r\n\r\n    //creating reference to firebase storage\r\n    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n    StorageReference storageRef = storage.getReferenceFromUrl(&quot;gs://example-10d12.appspot.com&quot;);   \r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        chooseImg = (Button)findViewById(R.id.chooseImg);\r\n        uploadImg = (Button)findViewById(R.id.uploadImg);\r\n        imgView = (ImageView)findViewById(R.id.imgView);\r\n        idEdtCourseName = findViewById(R.id.EdtCourseName);\r\n\r\n        pd = new ProgressDialog(this);\r\n        pd.setMessage(&quot;Uploading....&quot;);\r\n\r\n\r\n\r\n        chooseImg.setOnClickListener(v -&gt; {\r\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\r\n            }\r\n            else\r\n            {\r\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\r\n            }\r\n        });\r\n\r\n        uploadImg.setOnClickListener(v -&gt; {\r\n            if(filePath != null) {\r\n                pd.show();\r\n                String name = idEdtCourseName.getText().toString().trim();\r\n                StorageReference childRef = storageRef.child(name);\r\n\r\n                //uploading the image\r\n                UploadTask uploadTask = childRef.putFile(filePath);\r\n\r\n                uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\r\n                    pd.dismiss();\r\n                    Toast.makeText(MainActivity.this, &quot;Upload successful&quot;, Toast.LENGTH_SHORT).show();\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        pd.dismiss();\r\n                        Toast.makeText(MainActivity.this, &quot;Upload Failed -&gt; &quot; + e, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                Toast.makeText(MainActivity.this, &quot;Select an image&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            filePath = data.getData();\r\n\r\n            try {\r\n                //getting image from gallery\r\n                Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n\r\n                //Setting image to ImageView\r\n                imgView.setImageBitmap(bitmap);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to take photo and upload firebase (Bitmap Image) android studio","body":"<p>I have an app, I select a picture (gallery) and upload it to the firebase.\nI want to upload a picture taken with a camera. Many attempts, then I could not upload.</p>\n<ol>\n<li>I take a picture.</li>\n<li>Add to bitmap.</li>\n<li>At this time it writes that the &quot;Select an image&quot; (error in uploadImg.setOnClickListener).</li>\n</ol>\n<p>Please help me:</p>\n<ol>\n<li>Correct the code.</li>\n<li>What code should I add to make the function work.</li>\n</ol>\n<p>My code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final int CAMERA_REQUEST = 1888; ///////\n    private static final int MY_CAMERA_PERMISSION_CODE = 100;////\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == MY_CAMERA_PERMISSION_CODE)\n        {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n            else\n            {\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n\n\n\n    Button chooseImg, uploadImg;\n    ImageView imgView;\n    int PICK_IMAGE_REQUEST = 111;\n    Uri filePath;\n    ProgressDialog pd;\n    EditText idEdtCourseName;\n\n    //creating reference to firebase storage\n    FirebaseStorage storage = FirebaseStorage.getInstance();\n    StorageReference storageRef = storage.getReferenceFromUrl(&quot;gs://example-10d12.appspot.com&quot;);   \n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        chooseImg = (Button)findViewById(R.id.chooseImg);\n        uploadImg = (Button)findViewById(R.id.uploadImg);\n        imgView = (ImageView)findViewById(R.id.imgView);\n        idEdtCourseName = findViewById(R.id.EdtCourseName);\n\n        pd = new ProgressDialog(this);\n        pd.setMessage(&quot;Uploading....&quot;);\n\n\n\n        chooseImg.setOnClickListener(v -&gt; {\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\n            {\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_PERMISSION_CODE);\n            }\n            else\n            {\n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        });\n\n        uploadImg.setOnClickListener(v -&gt; {\n            if(filePath != null) {\n                pd.show();\n                String name = idEdtCourseName.getText().toString().trim();\n                StorageReference childRef = storageRef.child(name);\n\n                //uploading the image\n                UploadTask uploadTask = childRef.putFile(filePath);\n\n                uploadTask.addOnSuccessListener(taskSnapshot -&gt; {\n                    pd.dismiss();\n                    Toast.makeText(MainActivity.this, &quot;Upload successful&quot;, Toast.LENGTH_SHORT).show();\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        pd.dismiss();\n                        Toast.makeText(MainActivity.this, &quot;Upload Failed -&gt; &quot; + e, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n            else {\n                Toast.makeText(MainActivity.this, &quot;Select an image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            filePath = data.getData();\n\n            try {\n                //getting image from gallery\n                Bitmap bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n\n                //Setting image to ImageView\n                imgView.setImageBitmap(bitmap);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","entitymanager"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1430948823,"post_id":30088081,"comment_id":48289451,"body_markdown":"Your SQL query returnsa List&lt;Object[]&gt;. You just need a for loop to map each array to an object. RowMapper doesn&#39;t do much more than that.","body":"Your SQL query returnsa List&lt;Object[]&gt;. You just need a for loop to map each array to an object. RowMapper doesn&#39;t do much more than that."},{"owner":{"account_id":3576179,"reputation":103,"user_id":2985374,"display_name":"Shahin Askari"},"score":0,"creation_date":1430949160,"post_id":30088081,"comment_id":48289632,"body_markdown":"Yes, thank you for that.  I was trying to avoid that in order to avoid the overhead of looping over the result set twice.  I assume JPA stack iterates over the result set to build the List&lt;Object[]&gt; and then my layers would do the same again to build the object.  I was hoping that there was some API that I could use to inject myself in that loop.","body":"Yes, thank you for that.  I was trying to avoid that in order to avoid the overhead of looping over the result set twice.  I assume JPA stack iterates over the result set to build the List&lt;Object[]&gt; and then my layers would do the same again to build the object.  I was hoping that there was some API that I could use to inject myself in that loop."},{"owner":{"account_id":2400589,"reputation":972,"user_id":2098324,"accept_rate":30,"display_name":"user2098324"},"score":0,"creation_date":1493290607,"post_id":30088081,"comment_id":74358680,"body_markdown":"List&lt;Object[]&gt; has row values only which we need to get by indexes, this might create a problem if in future the order of the columns get changed, but in RowMapper we can get the values by passing column_names from result set so changing column order won&#39;t impact, so is there any implementation for that in JPA?","body":"List&lt;Object[]&gt; has row values only which we need to get by indexes, this might create a problem if in future the order of the columns get changed, but in RowMapper we can get the values by passing column_names from result set so changing column order won&#39;t impact, so is there any implementation for that in JPA?"}],"answers":[{"tags":[],"owner":{"account_id":6267878,"reputation":201,"user_id":4872956,"display_name":"Phoenix VN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430964227,"creation_date":1430964227,"answer_id":30090712,"question_id":30088081,"body_markdown":"One way to achieve this is to go through Hibernate session (provided that you are using Hibernate) and use its https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html. The code should looks like below and you shouldn&#39;t need to iterate through the list twice:\r\n\r\n    List&lt;MyDto&gt; result = entityManager.unwrap(org.hibernate.Session.class)\r\n\t\t\t.createSQLQuery(&quot;select ... from my_table where ...&quot;)\r\n\t\t\t.setParameter(&quot;my_param&quot;, &quot;my_param_value&quot;)\r\n\t\t\t.setResultTransformer(org.hibernate.transform.Transformers.aliasToBean(MyDto.class))\r\n\t\t\t.list();\r\n\r\nHope this helps.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>One way to achieve this is to go through Hibernate session (provided that you are using Hibernate) and use its <a href=\"https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html\" rel=\"nofollow\">https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html</a>. The code should looks like below and you shouldn't need to iterate through the list twice:</p>\n\n<pre><code>List&lt;MyDto&gt; result = entityManager.unwrap(org.hibernate.Session.class)\n        .createSQLQuery(\"select ... from my_table where ...\")\n        .setParameter(\"my_param\", \"my_param_value\")\n        .setResultTransformer(org.hibernate.transform.Transformers.aliasToBean(MyDto.class))\n        .list();\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1853929,"reputation":6195,"user_id":1679903,"accept_rate":88,"display_name":"kinjelom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458438001,"creation_date":1458438001,"answer_id":36109342,"question_id":30088081,"body_markdown":"JPA native query result can be mapped to the DTO POJO class:\r\n\r\n- DTO POJO class\r\n\r\n\r\n        @lombok.Getter\r\n        @lombok.AllArgsConstructor\r\n        public class MyDto {\r\n            private String x;\r\n            private Long y;\r\n        }\r\n\r\n- Repository bean:\r\n\r\n        @Repository\r\n        public class MyRepository {\r\n        \r\n            @PersistenceContext private EntityManager em;\r\n        \r\n            static final String MY_SQLMAP = &quot;My-SQL-Mapping&quot;;\r\n        \r\n            public List&lt;MyDto&gt; findMy() {\r\n                Query query = em.createNativeQuery(&quot;select x, y from my_table&quot;, MY_SQLMAP);\r\n                return query.getResultList();\r\n            }\r\n\r\n            @SqlResultSetMapping(name= MY_SQLMAP, classes = {\r\n                @ConstructorResult(targetClass = MyDto.class,\r\n                    columns = {\r\n                        @ColumnResult(name=&quot;x&quot;,type = String.class),\r\n                        @ColumnResult(name=&quot;y&quot;,type = Long.class)\r\n                    }\r\n                )\r\n            }) @Entity class MyCfgEntity{@Id int id;} // &lt;- walkaround\r\n        \r\n        }\r\n    \r\n\r\n","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>JPA native query result can be mapped to the DTO POJO class:</p>\n\n<ul>\n<li><p>DTO POJO class</p>\n\n<pre><code>@lombok.Getter\n@lombok.AllArgsConstructor\npublic class MyDto {\n    private String x;\n    private Long y;\n}\n</code></pre></li>\n<li><p>Repository bean:</p>\n\n<pre><code>@Repository\npublic class MyRepository {\n\n    @PersistenceContext private EntityManager em;\n\n    static final String MY_SQLMAP = \"My-SQL-Mapping\";\n\n    public List&lt;MyDto&gt; findMy() {\n        Query query = em.createNativeQuery(\"select x, y from my_table\", MY_SQLMAP);\n        return query.getResultList();\n    }\n\n    @SqlResultSetMapping(name= MY_SQLMAP, classes = {\n        @ConstructorResult(targetClass = MyDto.class,\n            columns = {\n                @ColumnResult(name=\"x\",type = String.class),\n                @ColumnResult(name=\"y\",type = Long.class)\n            }\n        )\n    }) @Entity class MyCfgEntity{@Id int id;} // &lt;- walkaround\n\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2768698,"reputation":472,"user_id":2383755,"accept_rate":80,"display_name":"pablorc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473037948,"creation_date":1473037948,"answer_id":39322812,"question_id":30088081,"body_markdown":"Another way of doing it, if you don&#39;t wan&#39;t to have that workaround entity, is to put it on top of any valid entity such as\r\n\r\n    @Entity\r\n    @SqlResult(...)\r\n\r\nHowever you would be adding a mapping that is not really relevant to your entity. Unfortunately JPA (as JPA 2.1) won&#39;t process the SqlResult annotation if is not on an entity. Another option is to add it to an XML ORM mapping file, something like this.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;entity-mappings xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence/orm&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;\r\n                     http://xmlns.jcp.org/xml/ns/persistence/orm\r\n                     http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd&quot; version=&quot;2.1&quot;&gt;\r\n    \r\n        &lt;sql-result-set-mapping name=&quot;MySummaryResultMapping&quot;&gt;\r\n            &lt;constructor-result target-class=&quot;model.MySummaryResult&quot;&gt;\r\n                &lt;column name=&quot;x&quot; class=&quot;java.lang.String&quot; /&gt;\r\n                &lt;column name=&quot;average&quot; class=&quot;java.lang.Double&quot;/&gt;\r\n                &lt;column name=&quot;foo&quot; class=&quot;java.lang.Double&quot;/&gt;\r\n                &lt;column name=&quot;bar&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n            &lt;/constructor-result&gt;\r\n        &lt;/sql-result-set-mapping&gt;\r\n    &lt;/entity-mappings&gt;\r\n\r\nThen in your spring context when setting up your entity manager you can load that mapping XML\r\n\r\n    &lt;bean id=&quot;myEntityManagerFactory&quot;\r\n              class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;model&quot;/&gt;\r\n        &lt;property name=&quot;mappingResources&quot; value=&quot;META-INF/persistenceMapping.xml&quot; /&gt;\r\n        ...\r\n    &lt;/bean&gt;\r\n\r\nThis way you can do something like this and use a POJO to return the query results.\r\n\r\n    @Component\r\n    public class MyReportDAO {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public MySummaryResult calculateReportFoo(String foo, LocalDate startDay, LocalDate endDay) {\r\n        Query query = entityManager.createNativeQuery(&quot;SELECT x,  AVG(bar_column)  AS average, SUM(foo) AS foo,&quot; +\r\n                &quot; bar &quot; +\r\n                &quot; FROM My_table WHERE FOO= :foo AND bar_DATE BETWEEN :startDay AND :endDay&quot; +\r\n                &quot; GROUP BY x,bar&quot;, &quot;MySummaryResultMapping&quot;);\r\n        query.setParameter(&quot;foo&quot;, foo);\r\n        query.setParameter(&quot;startDay&quot;, startDay);\r\n        query.setParameter(&quot;endDay&quot;, endDay);\r\n        return (MySummaryResult) query.getSingleResult();\r\n      }\r\n    }\r\n\r\n","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>Another way of doing it, if you don't wan't to have that workaround entity, is to put it on top of any valid entity such as</p>\n\n<pre><code>@Entity\n@SqlResult(...)\n</code></pre>\n\n<p>However you would be adding a mapping that is not really relevant to your entity. Unfortunately JPA (as JPA 2.1) won't process the SqlResult annotation if is not on an entity. Another option is to add it to an XML ORM mapping file, something like this.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;entity-mappings xmlns=\"http://xmlns.jcp.org/xml/ns/persistence/orm\"\n                 xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                 xsi:schemaLocation=\"\n                 http://xmlns.jcp.org/xml/ns/persistence/orm\n                 http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd\" version=\"2.1\"&gt;\n\n    &lt;sql-result-set-mapping name=\"MySummaryResultMapping\"&gt;\n        &lt;constructor-result target-class=\"model.MySummaryResult\"&gt;\n            &lt;column name=\"x\" class=\"java.lang.String\" /&gt;\n            &lt;column name=\"average\" class=\"java.lang.Double\"/&gt;\n            &lt;column name=\"foo\" class=\"java.lang.Double\"/&gt;\n            &lt;column name=\"bar\" class=\"java.lang.Integer\"/&gt;\n        &lt;/constructor-result&gt;\n    &lt;/sql-result-set-mapping&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n\n<p>Then in your spring context when setting up your entity manager you can load that mapping XML</p>\n\n<pre><code>&lt;bean id=\"myEntityManagerFactory\"\n          class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"myDataSource\"/&gt;\n    &lt;property name=\"packagesToScan\" value=\"model\"/&gt;\n    &lt;property name=\"mappingResources\" value=\"META-INF/persistenceMapping.xml\" /&gt;\n    ...\n&lt;/bean&gt;\n</code></pre>\n\n<p>This way you can do something like this and use a POJO to return the query results.</p>\n\n<pre><code>@Component\npublic class MyReportDAO {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\npublic MySummaryResult calculateReportFoo(String foo, LocalDate startDay, LocalDate endDay) {\n    Query query = entityManager.createNativeQuery(\"SELECT x,  AVG(bar_column)  AS average, SUM(foo) AS foo,\" +\n            \" bar \" +\n            \" FROM My_table WHERE FOO= :foo AND bar_DATE BETWEEN :startDay AND :endDay\" +\n            \" GROUP BY x,bar\", \"MySummaryResultMapping\");\n    query.setParameter(\"foo\", foo);\n    query.setParameter(\"startDay\", startDay);\n    query.setParameter(\"endDay\", endDay);\n    return (MySummaryResult) query.getSingleResult();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292421,"creation_date":1664292421,"answer_id":73870106,"question_id":30088081,"body_markdown":"I have used my DTO in our dao layer. It is not a clean way but was good for our performance. I did not want to use Tuple and have the mapping two times so i ended up using this to get the dto directly:\r\n```\r\nreturn entityManager.createQuery(&quot;SELECT new com.xxx.dto.tb.account.response.TypesResDto(x.id, f.id, f.xeroGroup, x.accountTypes, x.detailType, x.type, m.gifiCode, m.leadSheetId) &quot; +\r\n                &quot;FROM XeroAccountMappingEntity x &quot; +\r\n                &quot;JOIN x.finGroupEntity f &quot; +\r\n                &quot;JOIN x.mappingSheetEntity m &quot; +\r\n                &quot;WHERE x.isDeleted = FALSE AND (x.isAddable = TRUE OR x.isEditable = TRUE)&quot;, TypesResDto.class).getResultList();\r\n```\r\nBut I came here to find a way to use row mappers with jpa. I do notlike to define them as annotation on the entity.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I have used my DTO in our dao layer. It is not a clean way but was good for our performance. I did not want to use Tuple and have the mapping two times so i ended up using this to get the dto directly:</p>\n<pre><code>return entityManager.createQuery(&quot;SELECT new com.xxx.dto.tb.account.response.TypesResDto(x.id, f.id, f.xeroGroup, x.accountTypes, x.detailType, x.type, m.gifiCode, m.leadSheetId) &quot; +\n                &quot;FROM XeroAccountMappingEntity x &quot; +\n                &quot;JOIN x.finGroupEntity f &quot; +\n                &quot;JOIN x.mappingSheetEntity m &quot; +\n                &quot;WHERE x.isDeleted = FALSE AND (x.isAddable = TRUE OR x.isEditable = TRUE)&quot;, TypesResDto.class).getResultList();\n</code></pre>\n<p>But I came here to find a way to use row mappers with jpa. I do notlike to define them as annotation on the entity.</p>\n"},{"tags":[],"owner":{"account_id":1706858,"reputation":1177,"user_id":1565758,"accept_rate":94,"display_name":"kenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679299328,"creation_date":1679299328,"answer_id":75787757,"question_id":30088081,"body_markdown":"I am not sure but if you really want to use rowmappers and are in a pragmatic mood wouldn&#39;t this be a possible solution ?\r\n\r\n        protected JdbcTemplate getJdbcTemplate() {\r\n          EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) em.getEntityManagerFactory();\r\n          DataSource dataSource = info.getDataSource();\r\n          JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n          return jdbcTemplate;\r\n        }\r\n\r\nNow you have a simple jdbcTemplate to work with.  Either way what you do it is not the most clean thing to do.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I am not sure but if you really want to use rowmappers and are in a pragmatic mood wouldn't this be a possible solution ?</p>\n<pre><code>    protected JdbcTemplate getJdbcTemplate() {\n      EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) em.getEntityManagerFactory();\n      DataSource dataSource = info.getDataSource();\n      JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n      return jdbcTemplate;\n    }\n</code></pre>\n<p>Now you have a simple jdbcTemplate to work with.  Either way what you do it is not the most clean thing to do.</p>\n"}],"owner":{"account_id":3576179,"reputation":103,"user_id":2985374,"display_name":"Shahin Askari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9922,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1679299328,"creation_date":1430948374,"question_id":30088081,"body_markdown":"I am working on standardizing a legacy code base and new development to both use EntityManager for persistence.  In order to succeed however, I need to provide the ability to break out into native SQL and process results manually.  JPA EntityManager almost provides this functionality through:\r\n\r\n    em.createNativeQuery(&quot;select ... from my_table where ...&quot;);\r\n\r\nBut what I am missing is the ability to do Spring style RowMappers.  I can see that there are a few mechanisms that are close.  I can of-course map entities using annotations, xml and so on but I need to put code into the processing of each row in the result set so this is not an option.  I can see that I can pass in SQLResultSetMapping, but as best as I can understand, this supports again only meta data mapping.  Ideally what I need is the following:\r\n\r\n    em.createNativeQuery(&quot;select ... from my_table where ...&quot;,  \r\n      new RowMapper {  \r\n        public Object mapRow(ResultSet rs, int rowNum) throws SQLException {  \r\n             MyObject o = new MyObject();  \r\n             o.setMyCustomProperty( rs.get...() );  \r\n             //...  \r\n             return b;  \r\n        }  \r\n      }  \r\n    ); \r\n\r\nDoes the equivalent to the above exist?  Can I construct a SQLResultSetMapping which takes full control of the mapping like the above.  \r\n\r\nIf not, can I at least get the data source underlying the EM in a standard way so that I can wrap it using JdbcTemplate and not have two paths to configure data-sources?\r\n\r\n    DataSource ds = em.getDataSource();  \r\n    JdbcTemplate t = new JdbcTemplate(ds);  \r\n  \r\nThanks for your help.","title":"Does JPA/EntityManager provide a mechanism similar to Spring&#39;s RowMapper","body":"<p>I am working on standardizing a legacy code base and new development to both use EntityManager for persistence.  In order to succeed however, I need to provide the ability to break out into native SQL and process results manually.  JPA EntityManager almost provides this functionality through:</p>\n\n<pre><code>em.createNativeQuery(\"select ... from my_table where ...\");\n</code></pre>\n\n<p>But what I am missing is the ability to do Spring style RowMappers.  I can see that there are a few mechanisms that are close.  I can of-course map entities using annotations, xml and so on but I need to put code into the processing of each row in the result set so this is not an option.  I can see that I can pass in SQLResultSetMapping, but as best as I can understand, this supports again only meta data mapping.  Ideally what I need is the following:</p>\n\n<pre><code>em.createNativeQuery(\"select ... from my_table where ...\",  \n  new RowMapper {  \n    public Object mapRow(ResultSet rs, int rowNum) throws SQLException {  \n         MyObject o = new MyObject();  \n         o.setMyCustomProperty( rs.get...() );  \n         //...  \n         return b;  \n    }  \n  }  \n); \n</code></pre>\n\n<p>Does the equivalent to the above exist?  Can I construct a SQLResultSetMapping which takes full control of the mapping like the above.  </p>\n\n<p>If not, can I at least get the data source underlying the EM in a standard way so that I can wrap it using JdbcTemplate and not have two paths to configure data-sources?</p>\n\n<pre><code>DataSource ds = em.getDataSource();  \nJdbcTemplate t = new JdbcTemplate(ds);  \n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679318955,"post_id":75787258,"comment_id":133695053,"body_markdown":"Can you share the error trace which you may be seeing in the console?","body":"Can you share the error trace which you may be seeing in the console?"}],"answers":[{"tags":[],"owner":{"account_id":20431157,"reputation":1,"user_id":19073089,"display_name":"Oleksandr Moroziuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679295227,"creation_date":1679295227,"answer_id":75787306,"question_id":75787258,"body_markdown":"The code you&#39;ve provided looks correct, but there are a few things you can check to ensure that Chrome launches successfully:\r\n\r\nMake sure that you have downloaded the correct version of the ChromeDriver executable that matches your installed version of Chrome browser. You can download the latest version of ChromeDriver from the official website: [https://chromedriver.chromium.org/downloads][1]\r\n\r\nCheck the path of your ChromeDriver executable file. In your code, you have set the path to `&quot;C:\\Users\\LENOVO\\Downloads\\chromedriver_win32.exe&quot;`. Ensure that this is the correct path where you have saved the ChromeDriver executable.\r\n\r\nMake sure that you have added the Selenium Java libraries to your project&#39;s classpath. You can download the Selenium Java libraries from the official website: [https://www.selenium.dev/downloads/][2]\r\n\r\nIf you are still facing issues with launching Chrome, try adding the following line of code before creating the ChromeDriver instance: `System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);`. This will enable verbose logging, which can help identify the root cause of any issues with launching Chrome.\r\n\r\nOnce you have checked these things, try running your code again. If Chrome still does not launch successfully, you may need to investigate further by checking the error messages that are displayed in the console or logs.\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads\r\n  [2]: https://www.selenium.dev/downloads/","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>The code you've provided looks correct, but there are a few things you can check to ensure that Chrome launches successfully:</p>\n<p>Make sure that you have downloaded the correct version of the ChromeDriver executable that matches your installed version of Chrome browser. You can download the latest version of ChromeDriver from the official website: <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p>Check the path of your ChromeDriver executable file. In your code, you have set the path to <code>&quot;C:\\Users\\LENOVO\\Downloads\\chromedriver_win32.exe&quot;</code>. Ensure that this is the correct path where you have saved the ChromeDriver executable.</p>\n<p>Make sure that you have added the Selenium Java libraries to your project's classpath. You can download the Selenium Java libraries from the official website: <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/downloads/</a></p>\n<p>If you are still facing issues with launching Chrome, try adding the following line of code before creating the ChromeDriver instance: <code>System.setProperty(&quot;webdriver.chrome.verboseLogging&quot;, &quot;true&quot;);</code>. This will enable verbose logging, which can help identify the root cause of any issues with launching Chrome.</p>\n<p>Once you have checked these things, try running your code again. If Chrome still does not launch successfully, you may need to investigate further by checking the error messages that are displayed in the console or logs.</p>\n"},{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679299235,"creation_date":1679299235,"answer_id":75787747,"question_id":75787258,"body_markdown":"I can see you are not using `driver` in your code that you have used to initialize the `ChromeDriver`. You have to just the use the `driver` to get rid of this error. Add the below line in the end of your code.\r\n\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n\r\n***Note:-*** `https://www.google.com` is just a sample URL, you have to use the one that you are using.","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>I can see you are not using <code>driver</code> in your code that you have used to initialize the <code>ChromeDriver</code>. You have to just the use the <code>driver</code> to get rid of this error. Add the below line in the end of your code.</p>\n<pre><code>driver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n<p><em><strong>Note:-</strong></em> <code>https://www.google.com</code> is just a sample URL, you have to use the one that you are using.</p>\n"}],"owner":{"account_id":28062671,"reputation":1,"user_id":21436528,"display_name":"Amit Alfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679299235,"creation_date":1679294777,"question_id":75787258,"body_markdown":"Here , is the code below. I cannot launch chrome as trying to learn to selenium with java.\r\n\r\n    `package SeleniumBasics;\r\n     import org.openqa.selenium.WebDriver;\r\n     import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n     public class ChromeTest\r\n     {\r\n     public static void main(String[] args)\r\n      {\r\n     System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\LENOVO\\\\Downloads\\\\chromedriver_win32.exe&quot;);\r\n     WebDriver driver = new ChromeDriver();\r\n      }\r\n    }`\r\n\r\n\r\nI&#39;m trying to launch chrome and expect to successfully open it so that i can proceed with further automation.","title":"I&#39;m getting this error &quot;The value of the local variable driver is not used&quot; while launching chrome with selenium","body":"<p>Here , is the code below. I cannot launch chrome as trying to learn to selenium with java.</p>\n<pre><code>`package SeleniumBasics;\n import org.openqa.selenium.WebDriver;\n import org.openqa.selenium.chrome.ChromeDriver;\n\n public class ChromeTest\n {\n public static void main(String[] args)\n  {\n System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\LENOVO\\\\Downloads\\\\chromedriver_win32.exe&quot;);\n WebDriver driver = new ChromeDriver();\n  }\n}`\n</code></pre>\n<p>I'm trying to launch chrome and expect to successfully open it so that i can proceed with further automation.</p>\n"},{"tags":["java","sockets","udp","socks","datagram"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528713138,"post_id":50795198,"comment_id":88597172,"body_markdown":"Why are you reading bytes with a `Reader`? And why are you abusing both `Reader.ready()` and `InputStream.available()`?","body":"Why are you reading bytes with a <code>Reader</code>? And why are you abusing both <code>Reader.ready()</code> and <code>InputStream.available()</code>?"},{"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"score":0,"creation_date":1528713903,"post_id":50795198,"comment_id":88597643,"body_markdown":"@EJP please elaborate more, what&#39;s wrong with that? InputStream.available() returns the amount of bytes available to read. I&#39;m using ready() in order to wait until response packet arrives. It works on that part, I receive authentication &amp; udp associate responses fine. The problem with reading (or more like receiving) appears only in DatagramSocket part. Of course mistake may have been made before that part. Any possible clue for solution from you is golden, so let me know","body":"@EJP please elaborate more, what&#39;s wrong with that? InputStream.available() returns the amount of bytes available to read. I&#39;m using ready() in order to wait until response packet arrives. It works on that part, I receive authentication &amp; udp associate responses fine. The problem with reading (or more like receiving) appears only in DatagramSocket part. Of course mistake may have been made before that part. Any possible clue for solution from you is golden, so let me know"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528718162,"post_id":50795198,"comment_id":88600158,"body_markdown":"1. `Reader` reads `char`, not `byte`. 2. `while (!inputStreamReader.ready());` accomplishes exactly nothing except smoking your CPU, as the following read will block anyway. 3. There is a specific warning against using `available()` as you are doing. This is all in the Javadoc. You are also completley ignoring the content of the response; you are also assuming that there *was* a response rather than an disconnect, *and* that the response indicated success. You need to *parse* it, and to do so *as bytes*. You will find the methods of `DataInputStream` useful. Rather than all this nonsense.","body":"1. <code>Reader</code> reads <code>char</code>, not <code>byte</code>. 2. <code>while (!inputStreamReader.ready());</code> accomplishes exactly nothing except smoking your CPU, as the following read will block anyway. 3. There is a specific warning against using <code>available()</code> as you are doing. This is all in the Javadoc. You are also completley ignoring the content of the response; you are also assuming that there <i>was</i> a response rather than an disconnect, <i>and</i> that the response indicated success. You need to <i>parse</i> it, and to do so <i>as bytes</i>. You will find the methods of <code>DataInputStream</code> useful. Rather than all this nonsense."},{"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"score":0,"creation_date":1528719090,"post_id":50795198,"comment_id":88600714,"body_markdown":"@EJP alright, I updated the code with DataInputStream &amp; DataOutputStream; but it&#39;s not the beauty of the code that&#39;s the problem, so it did not fix anything","body":"@EJP alright, I updated the code with DataInputStream &amp; DataOutputStream; but it&#39;s not the beauty of the code that&#39;s the problem, so it did not fix anything"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1528760621,"post_id":50795198,"comment_id":88620619,"body_markdown":"I&#39;m not talking about &#39;beauty&#39;, I&#39;m talking about *correctness.* It is not correct to write code that disagrees with the Javadoc. I posted my remarks as a comment, not as an answer. I will now ask you why you aren&#39;t error-checking the responses.","body":"I&#39;m not talking about &#39;beauty&#39;, I&#39;m talking about <i>correctness.</i> It is not correct to write code that disagrees with the Javadoc. I posted my remarks as a comment, not as an answer. I will now ask you why you aren&#39;t error-checking the responses."}],"answers":[{"tags":[],"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528736427,"creation_date":1528736427,"answer_id":50802758,"question_id":50795198,"body_markdown":"Turns out the proxy provider does not support UDP ASSOCIATE of SOCKS5. Turns out majority of proxy providers do not support it.","title":"Why is my SOCKS5 UDP implementation not working?","body":"<p>Turns out the proxy provider does not support UDP ASSOCIATE of SOCKS5. Turns out majority of proxy providers do not support it.</p>\n"}],"owner":{"account_id":1894553,"reputation":4990,"user_id":1711809,"accept_rate":46,"display_name":"Gintas_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1560,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679298807,"creation_date":1528711531,"question_id":50795198,"body_markdown":"I spent more than 50 hours on this nonsense, why is my UDP implementation not working? Problem is that the server does not receive UDP packet. I made server app to log events in console and I see it&#39;s not receiving anything. Here is SOCKS5 documentation I followed: https://www.ietf.org/rfc/rfc1928.txt\r\n\r\n    byte[] response = new byte[256];\r\n    int responseLength;\r\n    Socket socket = new Socket(proxyHost, proxyPort);\r\n    DatagramSocket clientSocket = new DatagramSocket();\r\n\r\n    DataOutputStream writer = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\r\n    DataInputStream reader = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\r\n\r\n    // connect/authorization request\r\n    writer.writeByte(0x05); // VER\r\n    writer.writeByte(1); // NMETHODS\r\n    writer.writeByte(0); // METHODS\r\n    writer.flush();\r\n\r\n    // connect/authorization response\r\n    responseLength = reader.read(response); // RESPONSE IS: 5 0\r\n\r\n    // udp associate request\r\n    writer.writeByte(0x05); // VER\r\n    writer.writeByte(0x03); // CMD - UDP ASSOCIATE\r\n    writer.writeByte(0x00); // RSV\r\n    writer.writeByte(0x01); // ATYP\r\n    // is what I&#39;m sending here as DST.ADDR &amp; DST.PORT okay?\r\n    writer.write(clientSocket.getLocalAddress().getAddress()); // DST.ADDR\r\n    writer.writeShort(clientSocket.getLocalPort()); // DST.PORT\r\n    //writer.write(InetAddress.getByName(trackerHost).getAddress());\r\n    //writer.writeShort(trackerPort);\r\n    writer.flush();\r\n\r\n    // udp associate response\r\n    reader.skipBytes(4); // skip VER, REP, RSV, ATYP bytes\r\n    relayAddress = reader.readInt();\r\n    InetAddress relayInetAddress = InetAddress.getByAddress(ByteBuffer.allocate(4).putInt(relayAddress).array());\r\n    relayPort = reader.readUnsignedShort(); // server returns some random port\r\n\r\n    // connect to relay server via datagramsocket\r\n    clientSocket.connect(relayInetAddress, relayPort);\r\n\r\n    // send package to destination server\r\n    ByteBuffer byteBuffer = ByteBuffer.allocate(16 + 10);\r\n    //header - 10 bytes\r\n    byteBuffer.putShort((short) 0); // RSV\r\n    byteBuffer.put((byte) 0); // FRAG\r\n    byteBuffer.put((byte) 1); // ATYP\r\n    byteBuffer.put(trackerInetAddress.getAddress()); // DST.ADDR\r\n    byteBuffer.putShort((short) targetPort); // DST.PORT\r\n    //packet data\r\n    byteBuffer.putLong(1);\r\n    byteBuffer.putInt(0);\r\n    byteBuffer.putInt(1);\r\n    // send packet\r\n    packet = byteBuffer.array();\r\n    DatagramPacket sendPacket = new DatagramPacket(packet, packet.length);//, relayInetAddress, relayPort);\r\n    clientSocket.send(sendPacket); // SERVER DOES NOT RECEIVE THIS\r\n\r\nTarget host is verified to be working 100% fine without proxy. Using semi-dedicated proxies from https://blazingseollc.com/proxy/ which support SOCKS5","title":"Why is my SOCKS5 UDP implementation not working?","body":"<p>I spent more than 50 hours on this nonsense, why is my UDP implementation not working? Problem is that the server does not receive UDP packet. I made server app to log events in console and I see it's not receiving anything. Here is SOCKS5 documentation I followed: <a href=\"https://www.ietf.org/rfc/rfc1928.txt\" rel=\"nofollow noreferrer\">https://www.ietf.org/rfc/rfc1928.txt</a></p>\n\n<pre><code>byte[] response = new byte[256];\nint responseLength;\nSocket socket = new Socket(proxyHost, proxyPort);\nDatagramSocket clientSocket = new DatagramSocket();\n\nDataOutputStream writer = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\nDataInputStream reader = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\n\n// connect/authorization request\nwriter.writeByte(0x05); // VER\nwriter.writeByte(1); // NMETHODS\nwriter.writeByte(0); // METHODS\nwriter.flush();\n\n// connect/authorization response\nresponseLength = reader.read(response); // RESPONSE IS: 5 0\n\n// udp associate request\nwriter.writeByte(0x05); // VER\nwriter.writeByte(0x03); // CMD - UDP ASSOCIATE\nwriter.writeByte(0x00); // RSV\nwriter.writeByte(0x01); // ATYP\n// is what I'm sending here as DST.ADDR &amp; DST.PORT okay?\nwriter.write(clientSocket.getLocalAddress().getAddress()); // DST.ADDR\nwriter.writeShort(clientSocket.getLocalPort()); // DST.PORT\n//writer.write(InetAddress.getByName(trackerHost).getAddress());\n//writer.writeShort(trackerPort);\nwriter.flush();\n\n// udp associate response\nreader.skipBytes(4); // skip VER, REP, RSV, ATYP bytes\nrelayAddress = reader.readInt();\nInetAddress relayInetAddress = InetAddress.getByAddress(ByteBuffer.allocate(4).putInt(relayAddress).array());\nrelayPort = reader.readUnsignedShort(); // server returns some random port\n\n// connect to relay server via datagramsocket\nclientSocket.connect(relayInetAddress, relayPort);\n\n// send package to destination server\nByteBuffer byteBuffer = ByteBuffer.allocate(16 + 10);\n//header - 10 bytes\nbyteBuffer.putShort((short) 0); // RSV\nbyteBuffer.put((byte) 0); // FRAG\nbyteBuffer.put((byte) 1); // ATYP\nbyteBuffer.put(trackerInetAddress.getAddress()); // DST.ADDR\nbyteBuffer.putShort((short) targetPort); // DST.PORT\n//packet data\nbyteBuffer.putLong(1);\nbyteBuffer.putInt(0);\nbyteBuffer.putInt(1);\n// send packet\npacket = byteBuffer.array();\nDatagramPacket sendPacket = new DatagramPacket(packet, packet.length);//, relayInetAddress, relayPort);\nclientSocket.send(sendPacket); // SERVER DOES NOT RECEIVE THIS\n</code></pre>\n\n<p>Target host is verified to be working 100% fine without proxy. Using semi-dedicated proxies from <a href=\"https://blazingseollc.com/proxy/\" rel=\"nofollow noreferrer\">https://blazingseollc.com/proxy/</a> which support SOCKS5</p>\n"},{"tags":["java","spring-data-redis","lettuce"],"comments":[{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":0,"creation_date":1676275826,"post_id":74949959,"comment_id":133097213,"body_markdown":"There is most likely an error somewhere between the point you invoke a redis command to the time it is actually written out to the connection or in the flow between receiving the message from redis to the point where you retrieve the object in the code. This could be in custom marshal/unmarshal code or any SPI that may be invoked in the command lifecycle etc. Look for detail stack traces and you should find the root cause.","body":"There is most likely an error somewhere between the point you invoke a redis command to the time it is actually written out to the connection or in the flow between receiving the message from redis to the point where you retrieve the object in the code. This could be in custom marshal/unmarshal code or any SPI that may be invoked in the command lifecycle etc. Look for detail stack traces and you should find the root cause."}],"owner":{"account_id":27380653,"reputation":1,"user_id":20885308,"display_name":"Doron Shaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298515,"creation_date":1672309796,"question_id":74949959,"body_markdown":"I have a service that consumed data from Redis streams every second and sends the data to the client via web socket. Everything worked just fine until two weeks ago (this code has been written two years ago). Since then i&#39;m getting lots of RedisCommandTimeoutException errors. This is the full stack trace:\r\n\r\n```Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s), {}\r\norg.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\r\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:70)\r\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)\r\nat org.springframework.data.redis.connection.lettuce.LettuceReactiveRedisConnection.lambda$translateException$0(LettuceReactiveRedisConnection.java:293)\r\nat reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7070)\r\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\r\nat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\nat io.lettuce.core.RedisPublisher$ImmediateSubscriber.onError(RedisPublisher.java:891)\r\nat io.lettuce.core.RedisPublisher$State.onError(RedisPublisher.java:712)\r\nat io.lettuce.core.RedisPublisher$RedisSubscription.onError(RedisPublisher.java:357)\r\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.onError(RedisPublisher.java:797)\r\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.doOnError(RedisPublisher.java:793)\r\nat io.lettuce.core.protocol.CommandWrapper.completeExceptionally(CommandWrapper.java:128)\r\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:175)\r\nat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\nat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\nat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.lang.Thread.run(Thread.java:750)\r\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\r\nat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:59)\r\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:176)\r\n... 8 more\r\n```\r\n\r\nThis error appears in each subscribed stream at the same time, let&#39;s say i have three streams that i&#39;m subscribing to, with names &quot;A&quot;, &quot;B&quot; and &quot;C&quot;, all of them will have this error at the same time, although i&#39;m using different subscribers for each stream.\r\n\r\nNothing has changed in this service, not in the code and not in the configurations. I looked at the CPU, heap memory, etc. of the service and everything looks fine. I checked AWS Elasticache as well and it seems like there are no problems too (I even talked with AWS support). There is no significant increase in number of streams or opened web sockets.\r\n\r\nIn addition, i have two other services that write to the Redis streams and they&#39;re working great.\r\n\r\nI&#39;m using `ReactiveRedisConnectionFactory` class from spring-data-redis library.\r\nThis is configurations:\r\n\r\n```\r\n@Bean(name = &quot;streamRedisLettuceConnectionFactory&quot;)\r\npublic RedisConnectionFactory connectionFactory() {\r\n    log.info(&quot;Connecting to redis with configuration : {} &quot;, chpStreamRedisConfiguration);\r\n    LettuceClientConfiguration configuration = getLettuceClientConfiguration();\r\n    return new LettuceConnectionFactory(redisStandaloneConfiguration, configuration);\r\n}\r\n\r\n@Bean(name = &quot;streamRedisStandaloneConfiguration&quot;)\r\npublic RedisStandaloneConfiguration getRedisStandaloneConfiguration() {\r\n    return new RedisStandaloneConfiguration(chpStreamRedisConfiguration.getHost(), chpStreamRedisConfiguration.getPort());\r\n}\r\n\r\n@Bean(name = &quot;streamLettuceClientConfiguration&quot;)\r\npublic LettuceClientConfiguration getLettuceClientConfiguration() {\r\n    return LettucePoolingClientConfiguration.builder()\r\n            .poolConfig(getLettucePoolConfig())\r\n            .commandTimeout(Duration.ofMillis(chpStreamRedisConfiguration.getTimeout()))\r\n            .build();\r\n}\r\n\r\n@Bean(name = &quot;streamLettucePoolConfig&quot;)\r\npublic GenericObjectPoolConfig getLettucePoolConfig() {\r\n    GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\r\n    genericObjectPoolConfig.setMaxTotal(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\r\n    genericObjectPoolConfig.setMaxIdle(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\r\n    genericObjectPoolConfig.setMinIdle(chpStreamRedisConfiguration.getConnectionPool().getMinIdle());\r\n    return genericObjectPoolConfig;\r\n}\r\n```\r\n\r\nI&#39;m using:\r\n`spring-data-redis:2.3.9.RELEASE`\r\n`lettuce-core:6.1.2.RELEASE`\r\n`spring-boot:5.2.18.RELEASE`\r\n\r\nI tried to upgrade lettuce to the latest version (6.2.2) and it didn&#39;t help.\r\nI used `io.lettuce.core.protocol` on debug and the only thing i got is this:\r\n```\r\nCompleting command LatencyMeteredCommand [type=XREAD, output=StreamReadOutput [output=[], error=&#39;Command timed out after 20 second(s)&#39;], commandType=io.lettuce.core.RedisPublisher$SubscriptionCommand]\r\n```\r\nI prefer not to increase the timeout because 20 seconds is already lot of time.","title":"io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)","body":"<p>I have a service that consumed data from Redis streams every second and sends the data to the client via web socket. Everything worked just fine until two weeks ago (this code has been written two years ago). Since then i'm getting lots of RedisCommandTimeoutException errors. This is the full stack trace:</p>\n<pre><code>org.springframework.dao.QueryTimeoutException: Redis command timed out; nested exception is io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:70)\nat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)\nat org.springframework.data.redis.connection.lettuce.LettuceReactiveRedisConnection.lambda$translateException$0(LettuceReactiveRedisConnection.java:293)\nat reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7070)\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\nat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\nat io.lettuce.core.RedisPublisher$ImmediateSubscriber.onError(RedisPublisher.java:891)\nat io.lettuce.core.RedisPublisher$State.onError(RedisPublisher.java:712)\nat io.lettuce.core.RedisPublisher$RedisSubscription.onError(RedisPublisher.java:357)\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.onError(RedisPublisher.java:797)\nat io.lettuce.core.RedisPublisher$SubscriptionCommand.doOnError(RedisPublisher.java:793)\nat io.lettuce.core.protocol.CommandWrapper.completeExceptionally(CommandWrapper.java:128)\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:175)\nat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\nat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Command timed out after 20 second(s)\nat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:59)\nat io.lettuce.core.protocol.CommandExpiryWriter.lambda$potentiallyExpire$0(CommandExpiryWriter.java:176)\n... 8 more\n</code></pre>\n<p>This error appears in each subscribed stream at the same time, let's say i have three streams that i'm subscribing to, with names &quot;A&quot;, &quot;B&quot; and &quot;C&quot;, all of them will have this error at the same time, although i'm using different subscribers for each stream.</p>\n<p>Nothing has changed in this service, not in the code and not in the configurations. I looked at the CPU, heap memory, etc. of the service and everything looks fine. I checked AWS Elasticache as well and it seems like there are no problems too (I even talked with AWS support). There is no significant increase in number of streams or opened web sockets.</p>\n<p>In addition, i have two other services that write to the Redis streams and they're working great.</p>\n<p>I'm using <code>ReactiveRedisConnectionFactory</code> class from spring-data-redis library.\nThis is configurations:</p>\n<pre><code>@Bean(name = &quot;streamRedisLettuceConnectionFactory&quot;)\npublic RedisConnectionFactory connectionFactory() {\n    log.info(&quot;Connecting to redis with configuration : {} &quot;, chpStreamRedisConfiguration);\n    LettuceClientConfiguration configuration = getLettuceClientConfiguration();\n    return new LettuceConnectionFactory(redisStandaloneConfiguration, configuration);\n}\n\n@Bean(name = &quot;streamRedisStandaloneConfiguration&quot;)\npublic RedisStandaloneConfiguration getRedisStandaloneConfiguration() {\n    return new RedisStandaloneConfiguration(chpStreamRedisConfiguration.getHost(), chpStreamRedisConfiguration.getPort());\n}\n\n@Bean(name = &quot;streamLettuceClientConfiguration&quot;)\npublic LettuceClientConfiguration getLettuceClientConfiguration() {\n    return LettucePoolingClientConfiguration.builder()\n            .poolConfig(getLettucePoolConfig())\n            .commandTimeout(Duration.ofMillis(chpStreamRedisConfiguration.getTimeout()))\n            .build();\n}\n\n@Bean(name = &quot;streamLettucePoolConfig&quot;)\npublic GenericObjectPoolConfig getLettucePoolConfig() {\n    GenericObjectPoolConfig genericObjectPoolConfig = new GenericObjectPoolConfig();\n    genericObjectPoolConfig.setMaxTotal(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\n    genericObjectPoolConfig.setMaxIdle(chpStreamRedisConfiguration.getConnectionPool().getMaxTotal());\n    genericObjectPoolConfig.setMinIdle(chpStreamRedisConfiguration.getConnectionPool().getMinIdle());\n    return genericObjectPoolConfig;\n}\n</code></pre>\n<p>I'm using:\n<code>spring-data-redis:2.3.9.RELEASE</code>\n<code>lettuce-core:6.1.2.RELEASE</code>\n<code>spring-boot:5.2.18.RELEASE</code></p>\n<p>I tried to upgrade lettuce to the latest version (6.2.2) and it didn't help.\nI used <code>io.lettuce.core.protocol</code> on debug and the only thing i got is this:</p>\n<pre><code>Completing command LatencyMeteredCommand [type=XREAD, output=StreamReadOutput [output=[], error='Command timed out after 20 second(s)'], commandType=io.lettuce.core.RedisPublisher$SubscriptionCommand]\n</code></pre>\n<p>I prefer not to increase the timeout because 20 seconds is already lot of time.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1679075621,"post_id":75770329,"comment_id":133662068,"body_markdown":"Provide link to a course if possible. Also, can you validate, your app is running on port 8080?","body":"Provide link to a course if possible. Also, can you validate, your app is running on port 8080?"},{"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"score":0,"creation_date":1679075830,"post_id":75770329,"comment_id":133662117,"body_markdown":"How do you run Tomcat? Do you build your sources into a war file and copy it to Tomcat home directory or you run tomcat embedded inside your application?","body":"How do you run Tomcat? Do you build your sources into a war file and copy it to Tomcat home directory or you run tomcat embedded inside your application?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679080039,"post_id":75770329,"comment_id":133663024,"body_markdown":"Why do you expect there to be a resource (web page) at `/myprojectname`?","body":"Why do you expect there to be a resource (web page) at <code>&#47;myprojectname</code>?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1679088660,"post_id":75770329,"comment_id":133664868,"body_markdown":"Also: any stacktrace or log output? Please take the [tour] and read [ask] to get more hints for what information you might want to add","body":"Also: any stacktrace or log output? Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to get more hints for what information you might want to add"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679105457,"post_id":75770329,"comment_id":133666705,"body_markdown":"Is your file located at this path `/WEB-INF/view/welcome.ftl` ?","body":"Is your file located at this path <code>&#47;WEB-INF&#47;view&#47;welcome.ftl</code> ?"}],"owner":{"account_id":28043708,"reputation":11,"user_id":21420854,"display_name":"Golter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298491,"creation_date":1679072705,"question_id":75770329,"body_markdown":"I am following a course on line about Spring and I have a problem: when I open localhost: 8080/myprojectname I get the 404 error page.\r\nI am trying everything, all the solutions I am finding are not helping me at all.\r\n\r\n\r\n```\r\npackage it.myshop.web;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.DispatcherServlet;\r\nimport org.springframework.web.servlet.FrameworkServlet;\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\n\r\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\treturn new Class&lt;?&gt;[] {MyShopConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\treturn new String[]{&quot;/&quot;};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\r\n\t\tDispatcherServlet ds = new DispatcherServlet(servletAppContext);\r\n\t\tds.setThrowExceptionIfNoHandlerFound(true);\r\n\t\treturn ds;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage it.myshop.web;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\r\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\r\n\r\n@ComponentScan(basePackages = &quot;it.myshop.web.controller&quot;)\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MyShopConfig {\r\n\t\r\n\t@Bean\r\n\tpublic FreeMarkerViewResolver configureResolver() {\r\n\t\tFreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\r\n\t\tresolver.setPrefix(&quot;&quot;);\r\n\t\tresolver.setSuffix(&quot;.ftl&quot;);\r\n\t\t\r\n\t\treturn resolver;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic FreeMarkerConfigurer configureFreeMarker() {\r\n\t\tFreeMarkerConfigurer config = new FreeMarkerConfigurer();\r\n\t\tconfig.setTemplateLoaderPath(&quot;/WEB-INF/view/&quot;);\r\n\t\t\r\n\t\treturn config;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage it.myshop.web.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class WelcomeController {\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String welcome(ModelMap model) {\r\n\t\tmodel.addAttribute(&quot;message&quot;, &quot;Ciao, benvenuto nel mio e-commerce!&quot;);\r\n\t\t\r\n\t\treturn &quot;welcome&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Welcome page!&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;h1&gt;${message}&lt;/h1&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhat can be the problem? I&#39;m stucking from weeks and I am not able to find a solution. Thank you!\r\n\r\nEDIT: Thank you for your answers! I still don&#39;t have a .ftl file, in the course he can start the app and show the contents opening localhost:8080/myprojectname, but I cannot. I run Tomcat embedded in my application (I start it from Eclipse). I am not so expert, so it&#39;s hard to explain too, excuse me. That&#39;s why I decided to follow the course (a course to be more confused XD).","title":"Spring Mvc Java-based and Tomcat","body":"<p>I am following a course on line about Spring and I have a problem: when I open localhost: 8080/myprojectname I get the 404 error page.\nI am trying everything, all the solutions I am finding are not helping me at all.</p>\n<pre><code>package it.myshop.web;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\nimport org.springframework.web.servlet.FrameworkServlet;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] {MyShopConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n\n    @Override\n    protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\n        DispatcherServlet ds = new DispatcherServlet(servletAppContext);\n        ds.setThrowExceptionIfNoHandlerFound(true);\n        return ds;\n    }\n}\n\n</code></pre>\n<pre><code>package it.myshop.web;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\n\n@ComponentScan(basePackages = &quot;it.myshop.web.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class MyShopConfig {\n    \n    @Bean\n    public FreeMarkerViewResolver configureResolver() {\n        FreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\n        resolver.setPrefix(&quot;&quot;);\n        resolver.setSuffix(&quot;.ftl&quot;);\n        \n        return resolver;\n    }\n    \n    @Bean\n    public FreeMarkerConfigurer configureFreeMarker() {\n        FreeMarkerConfigurer config = new FreeMarkerConfigurer();\n        config.setTemplateLoaderPath(&quot;/WEB-INF/view/&quot;);\n        \n        return config;\n    }\n}\n\n</code></pre>\n<pre><code>package it.myshop.web.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class WelcomeController {\n    \n    @GetMapping(&quot;/&quot;)\n    public String welcome(ModelMap model) {\n        model.addAttribute(&quot;message&quot;, &quot;Ciao, benvenuto nel mio e-commerce!&quot;);\n        \n        return &quot;welcome&quot;;\n    }\n\n}\n\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Welcome page!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1&gt;${message}&lt;/h1&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>What can be the problem? I'm stucking from weeks and I am not able to find a solution. Thank you!</p>\n<p>EDIT: Thank you for your answers! I still don't have a .ftl file, in the course he can start the app and show the contents opening localhost:8080/myprojectname, but I cannot. I run Tomcat embedded in my application (I start it from Eclipse). I am not so expert, so it's hard to explain too, excuse me. That's why I decided to follow the course (a course to be more confused XD).</p>\n"},{"tags":["java","hibernate","jpa","orm","cascade"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679145597,"post_id":75754489,"comment_id":133670938,"body_markdown":"If you delete one side of a many to many mapping the records on the mapping table must be deleted. That&#39;s the correct behavior","body":"If you delete one side of a many to many mapping the records on the mapping table must be deleted. That&#39;s the correct behavior"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679146803,"post_id":75754489,"comment_id":133671108,"body_markdown":"@SimonMartinelli is there a way to tune this behavior?","body":"@SimonMartinelli is there a way to tune this behavior?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679157061,"post_id":75754489,"comment_id":133672861,"body_markdown":"No this behavior works as expected. If you remove a Variable then the record in the mapping table must be deleted otherwise you&#39;ll get a foreign key violation","body":"No this behavior works as expected. If you remove a Variable then the record in the mapping table must be deleted otherwise you&#39;ll get a foreign key violation"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1679160483,"post_id":75754489,"comment_id":133673431,"body_markdown":"@SimonMartinelli I have cascade delete constraint in database for `variable_id_from` and restrict for `variable_id_to`. That&#39;s the behaviour I expect. If `Variable` has any other variables that reference to it, then deletion is prohibited. I could just execute native query as I described, but I wonder is it possible to tell Hibernate that I don&#39;t want additional queries for links removal","body":"@SimonMartinelli I have cascade delete constraint in database for <code>variable_id_from</code> and restrict for <code>variable_id_to</code>. That&#39;s the behaviour I expect. If <code>Variable</code> has any other variables that reference to it, then deletion is prohibited. I could just execute native query as I described, but I wonder is it possible to tell Hibernate that I don&#39;t want additional queries for links removal"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1679173593,"post_id":75754489,"comment_id":133675225,"body_markdown":"If you are using Hibernate you shouldn&#39;t use cascade delete on the database foreign key.","body":"If you are using Hibernate you shouldn&#39;t use cascade delete on the database foreign key."}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679298426,"creation_date":1679298426,"answer_id":75787654,"question_id":75754489,"body_markdown":"I managed to solve the problem with `mappedBy` inverse reference. Look at the code snippet below:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;variable&quot;)\r\n@Getter\r\n@Setter(PROTECTED)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@DynamicUpdate\r\npublic class Variable {\r\n    @EmbeddedId\r\n    private VariableId id;\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\r\n    )\r\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = LAZY, mappedBy = &quot;variables&quot;)\r\n    // this collection is readonly and never updates\r\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nNow when I call `em.remove(variable)`, those SQL statements are generated:\r\n\r\n```sql\r\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable where id=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n```\r\n\r\nOnly `Current Variable` and references `Current Variable -&gt; Other Variable` are being deleted. If there references `Other Variable -&gt; Current Variable`, then deletion fails due to database integrity violation. Just what I need","title":"Hibernate: ManyToMany links are being deleted without CascadeType.REMOVE","body":"<p>I managed to solve the problem with <code>mappedBy</code> inverse reference. Look at the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;variable&quot;)\n@Getter\n@Setter(PROTECTED)\n@NoArgsConstructor(access = PROTECTED)\n@DynamicUpdate\npublic class Variable {\n    @EmbeddedId\n    private VariableId id;\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\n    )\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\n\n    @ManyToMany(fetch = LAZY, mappedBy = &quot;variables&quot;)\n    // this collection is readonly and never updates\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\n    \n    ...\n}\n</code></pre>\n<p>Now when I call <code>em.remove(variable)</code>, those SQL statements are generated:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Query:[&quot;delete from variable_variable where variable_id_from=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable where id=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n</code></pre>\n<p>Only <code>Current Variable</code> and references <code>Current Variable -&gt; Other Variable</code> are being deleted. If there references <code>Other Variable -&gt; Current Variable</code>, then deletion fails due to database integrity violation. Just what I need</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75787654,"answer_count":1,"score":0,"last_activity_date":1679298426,"creation_date":1678960198,"question_id":75754489,"body_markdown":"I have such database tables:\r\n\r\n[![Database tables][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yWmRq.png\r\n\r\nAnd these are the foreign key constraints:\r\n\r\n```sql\r\n-- If current variable is being referenced by another variable, restrict deletion\r\nALTER TABLE variable_variable\r\n    ADD CONSTRAINT variable_variable_variable_id_to_fkey\r\n        FOREIGN KEY (variable_id_to) REFERENCES variable (id)\r\n            ON DELETE RESTRICT;\r\n\r\n-- If current variable reference other variable, delete its link by cascade\r\nALTER TABLE variable_variable\r\n    ADD CONSTRAINT variable_variable_variable_id_from_fkey\r\n        FOREIGN KEY (variable_id_from) REFERENCES variable (id)\r\n            ON DELETE CASCADE;\r\n```\r\n\r\nSo, if I have references like:\r\n\r\n1. `Other Variable -&gt; Current Variable`, then `Current Variable` deletion has to be prohibited\r\n1. `Current Variable -&gt; Other Variable`, then `Current Variable` deletion should also remove link from `Current Variable` to `Other Variable` on cascade (links are stored in `variable_variable` table).\r\n\r\nHere is my Hibernate entity for `variable` table.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;variable&quot;)\r\n@Getter\r\n@Setter(PROTECTED)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@DynamicUpdate\r\npublic class Variable {\r\n    @EmbeddedId\r\n    private VariableId id;\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\r\n    )\r\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany(fetch = LAZY)\r\n    @JoinTable(\r\n        name = &quot;variable_variable&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;variable_id_to&quot;, updatable = false, insertable = false),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_from&quot;, updatable = false, insertable = false)\r\n    )\r\n    // this collection is readonly and never updates\r\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nSo, `ManyToMany` relationships are on the owning side and I have no `CascadeType.REMOVE`.\r\nBut if I call `EntityManager.remove(variable)`, those SQL statements are being invoked:\r\n\r\n```sql\r\nQuery:[&quot;delete from variable_variable where variable_id_to=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n\r\nQuery:[&quot;delete from variable where id=?&quot;]\r\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\r\n```\r\n\r\nHibernate deletes links from `variable_variable` prematurely. However, that&#39;s not the behavior I need. It breaks the whole idea of complex database constraints in `variable_variable` table I described earlier. So, I don&#39;t want Hibernate to delete anything from there on its own basis.\r\n\r\nI managed to solve this problem with native query:\r\n\r\n```java\r\nem.createNativeQuery(&quot;DELETE FROM variable WHERE id = :id&quot;)\r\n            .setParameter(&quot;id&quot;, variableId)\r\n            .executeUpdate();\r\n```\r\n\r\nAnyway, I&#39;d like not to introduce native queries. Is it possible to tell Hibernate not to delete `variable_variable` rows on `Variable` removing?","title":"Hibernate: ManyToMany links are being deleted without CascadeType.REMOVE","body":"<p>I have such database tables:</p>\n<p><a href=\"https://i.stack.imgur.com/yWmRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWmRq.png\" alt=\"Database tables\" /></a></p>\n<p>And these are the foreign key constraints:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- If current variable is being referenced by another variable, restrict deletion\nALTER TABLE variable_variable\n    ADD CONSTRAINT variable_variable_variable_id_to_fkey\n        FOREIGN KEY (variable_id_to) REFERENCES variable (id)\n            ON DELETE RESTRICT;\n\n-- If current variable reference other variable, delete its link by cascade\nALTER TABLE variable_variable\n    ADD CONSTRAINT variable_variable_variable_id_from_fkey\n        FOREIGN KEY (variable_id_from) REFERENCES variable (id)\n            ON DELETE CASCADE;\n</code></pre>\n<p>So, if I have references like:</p>\n<ol>\n<li><code>Other Variable -&gt; Current Variable</code>, then <code>Current Variable</code> deletion has to be prohibited</li>\n<li><code>Current Variable -&gt; Other Variable</code>, then <code>Current Variable</code> deletion should also remove link from <code>Current Variable</code> to <code>Other Variable</code> on cascade (links are stored in <code>variable_variable</code> table).</li>\n</ol>\n<p>Here is my Hibernate entity for <code>variable</code> table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;variable&quot;)\n@Getter\n@Setter(PROTECTED)\n@NoArgsConstructor(access = PROTECTED)\n@DynamicUpdate\npublic class Variable {\n    @EmbeddedId\n    private VariableId id;\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_from&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_to&quot;)\n    )\n    private Set&lt;Variable&gt; variables = new HashSet&lt;&gt;();\n\n    @ManyToMany(fetch = LAZY)\n    @JoinTable(\n        name = &quot;variable_variable&quot;,\n        joinColumns = @JoinColumn(name = &quot;variable_id_to&quot;, updatable = false, insertable = false),\n        inverseJoinColumns = @JoinColumn(name = &quot;variable_id_from&quot;, updatable = false, insertable = false)\n    )\n    // this collection is readonly and never updates\n    private Set&lt;Variable&gt; inverseVariables = new HashSet&lt;&gt;();\n    \n    ...\n}\n</code></pre>\n<p>So, <code>ManyToMany</code> relationships are on the owning side and I have no <code>CascadeType.REMOVE</code>.\nBut if I call <code>EntityManager.remove(variable)</code>, those SQL statements are being invoked:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Query:[&quot;delete from variable_variable where variable_id_to=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable_variable where variable_id_from=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n\nQuery:[&quot;delete from variable where id=?&quot;]\nParams:[(7fbbf360-74a0-48db-a1e2-d3b1ab0a869f)]\n</code></pre>\n<p>Hibernate deletes links from <code>variable_variable</code> prematurely. However, that's not the behavior I need. It breaks the whole idea of complex database constraints in <code>variable_variable</code> table I described earlier. So, I don't want Hibernate to delete anything from there on its own basis.</p>\n<p>I managed to solve this problem with native query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>em.createNativeQuery(&quot;DELETE FROM variable WHERE id = :id&quot;)\n            .setParameter(&quot;id&quot;, variableId)\n            .executeUpdate();\n</code></pre>\n<p>Anyway, I'd like not to introduce native queries. Is it possible to tell Hibernate not to delete <code>variable_variable</code> rows on <code>Variable</code> removing?</p>\n"},{"tags":["java","terminal","uninstallation","java-17","macos-monterey"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1679270926,"post_id":75785350,"comment_id":133686417,"body_markdown":"It sounds like your JAVA_HOME env variable is still pointing to v17.  You can change this temporarily by executing `export JAVA_HOME=\\`/usr/libexec/java_home -v11\\``.  Add this command to your shell&#39;s startup scripts to make it permanent.","body":"It sounds like your JAVA_HOME env variable is still pointing to v17.  You can change this temporarily by executing <code>export JAVA_HOME=`&#47;usr&#47;libexec&#47;java_home -v11`</code>.  Add this command to your shell&#39;s startup scripts to make it permanent."},{"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"score":0,"creation_date":1679272085,"post_id":75785350,"comment_id":133686530,"body_markdown":"Hey @lane.maxwell that fixed the &quot;java -version&quot; issue, but when I run **&quot;/usr/libexec/java_home&quot;** I still get this...\n/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home","body":"Hey @lane.maxwell that fixed the &quot;java -version&quot; issue, but when I run <b>&quot;/usr/libexec/java_home&quot;</b> I still get this... /Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk&zwnj;&#8203;-17-1/Contents/Home"},{"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"score":0,"creation_date":1679273174,"post_id":75785350,"comment_id":133686646,"body_markdown":"I also ran **/usr/libexec/java_home -V** and got the following results. It seems like none of them are being properly deleted.\n [results](https://i.stack.imgur.com/I5dVr.png)","body":"I also ran <b>/usr/libexec/java_home -V</b> and got the following results. It seems like none of them are being properly deleted.  <a href=\"https://i.stack.imgur.com/I5dVr.png\" rel=\"nofollow noreferrer\">results</a>"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1679298314,"post_id":75785350,"comment_id":133689585,"body_markdown":"Can&#39;t you see that you didn&#39;t remove it? You have two installations of JDK17. Delete the appropriate paths that are given by the command...","body":"Can&#39;t you see that you didn&#39;t remove it? You have two installations of JDK17. Delete the appropriate paths that are given by the command..."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1679323321,"post_id":75785350,"comment_id":133696492,"body_markdown":"@TheRealSlimTazy when you run that command without options it simply prints the currently set Java alternative.","body":"@TheRealSlimTazy when you run that command without options it simply prints the currently set Java alternative."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679298420,"creation_date":1679298420,"answer_id":75787653,"question_id":75785350,"body_markdown":"Java installation are not always in `/Library/Java/JavaVirtualMachines/`.\r\nSee that you have two installations in under your private directory.\r\nLook what `java_home` gave you, and delete the given paths.","title":"JDK 17 not deleting in macOS Monterey","body":"<p>Java installation are not always in <code>/Library/Java/JavaVirtualMachines/</code>.\nSee that you have two installations in under your private directory.\nLook what <code>java_home</code> gave you, and delete the given paths.</p>\n"}],"owner":{"account_id":28060424,"reputation":1,"user_id":21434671,"display_name":"TheRealSlimTazy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679298420,"creation_date":1679265507,"question_id":75785350,"body_markdown":"I just **installed JDK 17.0.6** from https://adoptium.net/ to do a course on **TMCBeans. I realized I need JDK 11** for TMCBeans to work so **I&#39;ve been trying to uninstall the JDK**. I&#39;ve **tried the following commands, which seem to have removed all the files.**\r\n\r\nsudo rm -rf /Library/Java/JavaVirtualMachines/jdk\\&lt;version\\&gt;.jdk\r\n\r\nsudo rm -fr /Library/Internet\\\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr \\~/Library/Application\\\\ Support/Oracle/Java\r\n\r\n**My issue is** that when I run **java -version** and **/usr/libexec/java_home** in terminal I get the **below results**. When I go to the path, all files after /Library/Java/JavaVirtualMachines have been deleted. I tried restarting my laptop which did not work. **How can I fix this issue it seems like the system thinks the files are still there?**\r\n\r\nopenjdk version &quot;17&quot; 2021-09-14\r\n  \r\nOpenJDK Runtime Environment (build 17+35-2724)  \r\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n\r\n---\r\n\r\n/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home\r\n\r\nI also tried using this installer to remove it https://www.java.com/en/download/manual.jsp but this gives me the following results.\r\n[results](https://i.stack.imgur.com/MP6nJ.png)","title":"JDK 17 not deleting in macOS Monterey","body":"<p>I just <strong>installed JDK 17.0.6</strong> from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">https://adoptium.net/</a> to do a course on <strong>TMCBeans. I realized I need JDK 11</strong> for TMCBeans to work so <strong>I've been trying to uninstall the JDK</strong>. I've <strong>tried the following commands, which seem to have removed all the files.</strong></p>\n<p>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk</p>\n<p>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java</p>\n<p><strong>My issue is</strong> that when I run <strong>java -version</strong> and <strong>/usr/libexec/java_home</strong> in terminal I get the <strong>below results</strong>. When I go to the path, all files after /Library/Java/JavaVirtualMachines have been deleted. I tried restarting my laptop which did not work. <strong>How can I fix this issue it seems like the system thinks the files are still there?</strong></p>\n<p>openjdk version &quot;17&quot; 2021-09-14</p>\n<p>OpenJDK Runtime Environment (build 17+35-2724)<br />\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)</p>\n<hr />\n<p>/Users/mohammadtazy/Library/Java/JavaVirtualMachines/openjdk-17-1/Contents/Home</p>\n<p>I also tried using this installer to remove it <a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/manual.jsp</a> but this gives me the following results.\n<a href=\"https://i.stack.imgur.com/MP6nJ.png\" rel=\"nofollow noreferrer\">results</a></p>\n"},{"tags":["java","json","file","io","gson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679258797,"post_id":75784791,"comment_id":133684909,"body_markdown":"You&#39;ll have to do some of your own parsing of the log file, before you hand the JSON string you have extracted to a JSON parser. Please explain where you are stuck doing this.","body":"You&#39;ll have to do some of your own parsing of the log file, before you hand the JSON string you have extracted to a JSON parser. Please explain where you are stuck doing this."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679258868,"post_id":75784791,"comment_id":133684920,"body_markdown":"Incidentally it may be better to format your entire log file as JSON.","body":"Incidentally it may be better to format your entire log file as JSON."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1679261497,"post_id":75784791,"comment_id":133685322,"body_markdown":"A perfect use for all those bracket-counting homework assignments that get posted on SO!","body":"A perfect use for all those bracket-counting homework assignments that get posted on SO!"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1679298359,"post_id":75784791,"comment_id":133689593,"body_markdown":"Here I&#39;m not expecting coded answer, but the approach.\nwould it be line by line check and validate until valid json string.? or another effective way.?","body":"Here I&#39;m not expecting coded answer, but the approach. would it be line by line check and validate until valid json string.? or another effective way.?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679305379,"post_id":75784791,"comment_id":133691266,"body_markdown":"Looks like the log format is &quot;new value starts with `VALUE NAME :` and goes until the next line that starts with `VALUE NAME :` or EOF&quot;, so I&#39;d parse each line until you find a value name that&#39;s either `REQUEST PAYLOAD` or `RESPONSE PAYLOAD :`, concatenate the content of the remainder of that line with all following lines until (exclusive) you find another `VALUE NAME :` and then parse the result.","body":"Looks like the log format is &quot;new value starts with <code>VALUE NAME :</code> and goes until the next line that starts with <code>VALUE NAME :</code> or EOF&quot;, so I&#39;d parse each line until you find a value name that&#39;s either <code>REQUEST PAYLOAD</code> or <code>RESPONSE PAYLOAD :</code>, concatenate the content of the remainder of that line with all following lines until (exclusive) you find another <code>VALUE NAME :</code> and then parse the result."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1679307756,"post_id":75784791,"comment_id":133691972,"body_markdown":"@JoachimSauer, thanks I&#39;ll follow your way","body":"@JoachimSauer, thanks I&#39;ll follow your way"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679298372,"creation_date":1679258248,"question_id":75784791,"body_markdown":"I have a log file. it has request json string and response json string. both are in there with multilines. \r\nso how do we read json string in there.? \r\n\r\nlog file sample :-\r\n\r\n    URL : /saveEmployee\r\n    REQUEST PAYLOAD : {&quot;employees&quot;:[  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \r\n    \t\t\t\t\t]}  \r\n    TYPE : POST\r\n    RESPONSE PAYLOAD : {&quot;employees&quot;:[  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \r\n    \t\t\t\t\t\t{&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \r\n    \t\t\t\t\t]}  \t\t\t\t\t\r\n    RESPONSE STATUS : 200\t\t\t\t\t\r\n\r\nI want to get Request and Response json payloads\r\n\r\n*Here I&#39;m not expecting coded answer, but the approach.\r\nwould it be line by line check and validate until valid json string.? or another effective way.?*","title":"How do we read multiline json string in a text file.?","body":"<p>I have a log file. it has request json string and response json string. both are in there with multilines.\nso how do we read json string in there.?</p>\n<p>log file sample :-</p>\n<pre><code>URL : /saveEmployee\nREQUEST PAYLOAD : {&quot;employees&quot;:[  \n                        {&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \n                    ]}  \nTYPE : POST\nRESPONSE PAYLOAD : {&quot;employees&quot;:[  \n                        {&quot;name&quot;:&quot;Shyam&quot;, &quot;email&quot;:&quot;shyamjaiswal@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Bob&quot;, &quot;email&quot;:&quot;bob32@gmail.com&quot;},  \n                        {&quot;name&quot;:&quot;Jai&quot;, &quot;email&quot;:&quot;jai87@gmail.com&quot;}  \n                    ]}                      \nRESPONSE STATUS : 200                   \n</code></pre>\n<p>I want to get Request and Response json payloads</p>\n<p><em>Here I'm not expecting coded answer, but the approach.\nwould it be line by line check and validate until valid json string.? or another effective way.?</em></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9431,"page":561,"page_size":100}
