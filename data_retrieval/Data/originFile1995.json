{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1632701502,"post_id":69339870,"comment_id":122556389,"body_markdown":"Yes. You should be using generic types. This code is very fragile. `key` and `value` are not related.","body":"Yes. You should be using generic types. This code is very fragile. <code>key</code> and <code>value</code> are not related."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1632737470,"post_id":69339870,"comment_id":122565082,"body_markdown":"The `Comparable` class is a **generic** type.  You should read about generics so that you know how to use them.  If you don&#39;t have a set textbook or lecture notes covering this, start with the [Oracle Java &gt; Generics Tutorial](https://docs.oracle.com/javase/tutorial/java/generics/index.html).","body":"The <code>Comparable</code> class is a <b>generic</b> type.  You should read about generics so that you know how to use them.  If you don&#39;t have a set textbook or lecture notes covering this, start with the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Oracle Java &gt; Generics Tutorial</a>."}],"owner":{"account_id":9615876,"reputation":21,"user_id":7138688,"display_name":"Max Aquino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632700795,"creation_date":1632700795,"question_id":69339870,"body_markdown":"I&#39;m writing the following method and receiving the error in the post tile when trying to compile. The compareTo method is causing it and I can&#39;t find out why. Is there a different method I should be using to compare my keys?\r\n\r\n```\r\n    public java.lang.Object insert(java.lang.Comparable key, java.lang.Object value){\r\n        TreeNode insertable = new TreeNode();\r\n        insertable.key = key;\r\n        insertable.value = value;\r\n        \r\n        if (this.getRoot() == null){\r\n            root = insertable;\r\n            return value;\r\n        }\r\n\r\n        TreeNode cur = this.getRoot();\r\n        while(cur != null){\r\n            if(key.compareTo(cur.key) == 0){\r\n                java.lang.Object oldVal = cur.value;\r\n                cur.value = value;\r\n                return oldVal;\r\n            }\r\n            if(key.compareTo(cur.key) == 1){\r\n                cur = cur.right;\r\n            }\r\n            if(key.compareTo(cur.key) == -1){\r\n                cur = cur.left;\r\n            }\r\n        }\r\n        cur = insertable;\r\n        return value;\r\n    }\r\n```\r\n","title":"Note: binaryTree.java uses unchecked or unsafe operations error when using compareTo() method","body":"<p>I'm writing the following method and receiving the error in the post tile when trying to compile. The compareTo method is causing it and I can't find out why. Is there a different method I should be using to compare my keys?</p>\n<pre><code>    public java.lang.Object insert(java.lang.Comparable key, java.lang.Object value){\n        TreeNode insertable = new TreeNode();\n        insertable.key = key;\n        insertable.value = value;\n        \n        if (this.getRoot() == null){\n            root = insertable;\n            return value;\n        }\n\n        TreeNode cur = this.getRoot();\n        while(cur != null){\n            if(key.compareTo(cur.key) == 0){\n                java.lang.Object oldVal = cur.value;\n                cur.value = value;\n                return oldVal;\n            }\n            if(key.compareTo(cur.key) == 1){\n                cur = cur.right;\n            }\n            if(key.compareTo(cur.key) == -1){\n                cur = cur.left;\n            }\n        }\n        cur = insertable;\n        return value;\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16661732,"reputation":66,"user_id":12041519,"display_name":"Karol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632698773,"creation_date":1632698773,"answer_id":69339735,"question_id":69339113,"body_markdown":"It is probably caused because of internet traffic. if file is small, one packet takes more than 1 percent of file so you see unsmooth progress.","title":"why ProgressDialog does not count from 1 to 100?","body":"<p>It is probably caused because of internet traffic. if file is small, one packet takes more than 1 percent of file so you see unsmooth progress.</p>\n"}],"owner":{"account_id":22867450,"reputation":1,"user_id":17011036,"display_name":"Jimmy Guetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632700778,"creation_date":1632692005,"question_id":69339113,"body_markdown":"I built an app that downloads from URL, but when it starts ProgressDialog. It starts counting like 1...23...45...76...93..100 instead of 1..2..3..4..5...6 How to make it count from 1 to 100 ? \r\n\r\n**ParseAdapter.java**\r\n\r\n  \r\n\r\n     progressDialog.show();\r\n                    mProgressDialog1 = new ProgressDialog(context);\r\n                    mProgressDialog1.setMessage(&quot;Please wait few seconds!&quot;);\r\n                    mProgressDialog1.setTitle(&quot;Downloading...&quot;);\r\n                    mProgressDialog1.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mProgressDialog1.setMax(100);\r\n                    mProgressDialog1.setCancelable(false);\r\n    \r\n        final float downloadProgress = downloadedBytes * 100f / totalBytes;\r\n                                    if (downloadProgress &gt; 99.9) // stop repeating timer (it&#39;s also useful for error prevention)\r\n                                        progressTimer.cancel();\r\n    \r\n    \r\n                                    runOnUiThread(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n                                            mProgressDialog1.setProgress((int) downloadProgress);\r\n                                        }\r\n    \r\n    \r\n                                    });","title":"why ProgressDialog does not count from 1 to 100?","body":"<p>I built an app that downloads from URL, but when it starts ProgressDialog. It starts counting like 1...23...45...76...93..100 instead of 1..2..3..4..5...6 How to make it count from 1 to 100 ?</p>\n<p><strong>ParseAdapter.java</strong></p>\n<pre><code> progressDialog.show();\n                mProgressDialog1 = new ProgressDialog(context);\n                mProgressDialog1.setMessage(&quot;Please wait few seconds!&quot;);\n                mProgressDialog1.setTitle(&quot;Downloading...&quot;);\n                mProgressDialog1.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mProgressDialog1.setMax(100);\n                mProgressDialog1.setCancelable(false);\n\n    final float downloadProgress = downloadedBytes * 100f / totalBytes;\n                                if (downloadProgress &gt; 99.9) // stop repeating timer (it's also useful for error prevention)\n                                    progressTimer.cancel();\n\n\n                                runOnUiThread(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        mProgressDialog1.setProgress((int) downloadProgress);\n                                    }\n\n\n                                });\n</code></pre>\n"},{"tags":["java","validation","resteasy","vert.x","hibernate-validator"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1632382945,"post_id":69295792,"comment_id":122477868,"body_markdown":"Have you tried using resteasy-reactive instead?","body":"Have you tried using resteasy-reactive instead?"},{"owner":{"account_id":3510216,"reputation":1366,"user_id":2934716,"accept_rate":100,"display_name":"oreid"},"score":0,"creation_date":1632383088,"post_id":69295792,"comment_id":122477940,"body_markdown":"@JavierToja Nope! Unfortunately sine `resteasy-vertx` is a dependency of a dependency that we must use I don&#39;t think we have a choice here.","body":"@JavierToja Nope! Unfortunately sine <code>resteasy-vertx</code> is a dependency of a dependency that we must use I don&#39;t think we have a choice here."},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1632384173,"post_id":69295792,"comment_id":122478457,"body_markdown":"True, my fault.","body":"True, my fault."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1632436666,"post_id":69295792,"comment_id":122499225,"body_markdown":"You&#39;re using a much older version of `org.jboss.resteasy:resteasy-validator-provider-11` than resteasy-vertx. That could be the issue. FWIW the artifact ID was changed to `resteasy-validator-provider` so you&#39;d need to change that too.","body":"You&#39;re using a much older version of <code>org.jboss.resteasy:resteasy-validator-provider-11</code> than resteasy-vertx. That could be the issue. FWIW the artifact ID was changed to <code>resteasy-validator-provider</code> so you&#39;d need to change that too."},{"owner":{"account_id":3510216,"reputation":1366,"user_id":2934716,"accept_rate":100,"display_name":"oreid"},"score":0,"creation_date":1632699783,"post_id":69295792,"comment_id":122556158,"body_markdown":"Hey @JamesR.Perkins, looks like that worked! I added version `implementation &quot;org.jboss.resteasy:resteasy-validator-provider:4.5.3.Final&quot;;` as a direct dependency and `@Valid` is working as expected. As a bonus question, should the versions of the validation provider (`resteasy-validator-provider`) equal the version of `resteasy-vertx`? I&#39;ll add an answer with the working solution. Thanks for your help!","body":"Hey @JamesR.Perkins, looks like that worked! I added version <code>implementation &quot;org.jboss.resteasy:resteasy-validator-provider:4.5.3.Final&quot;&zwnj;&#8203;;</code> as a direct dependency and <code>@Valid</code> is working as expected. As a bonus question, should the versions of the validation provider (<code>resteasy-validator-provider</code>) equal the version of <code>resteasy-vertx</code>? I&#39;ll add an answer with the working solution. Thanks for your help!"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1632774187,"post_id":69295792,"comment_id":122579658,"body_markdown":"Yes. They&#39;re both part of the same project and while they may work with different versions, it&#39;s best to keep the version consistent.","body":"Yes. They&#39;re both part of the same project and while they may work with different versions, it&#39;s best to keep the version consistent."}],"answers":[{"tags":[],"owner":{"account_id":3510216,"reputation":1366,"user_id":2934716,"accept_rate":100,"display_name":"oreid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632700442,"creation_date":1632700442,"answer_id":69339849,"question_id":69295792,"body_markdown":"As @JamesR.Perkins suggested, this was due to using an older version of the validation provider `resteasy-validator-provider` compared to `resteasy-vertx`. Additionally, I was using the old artifact ID.\r\n\r\nTo get this working I removed `org.jboss.resteasy:resteasy-validator-provider-11:3.0.11.Final` from my `build.gradle` and added `org.jboss.resteasy:resteasy-validator-provider:4.5.3.Final`. Note the artifact ID has updated from `resteasy-validator-provider-11` to `resteasy-validator-provider` and I chose version `4.5.3.Final` for the validator since it matched the version of `resteasy-vertx` I was using.\r\n\r\nFor clarity, my project now depends on the following directly (listed in the `build.gradle`):\r\n\r\n```\r\norg.jboss.resteasy:resteasy-validator-provider:4.5.3.Final\r\n| org.hibernate:hibernate-validation:6.2.0.Final // Pulled in via the above\r\n```\r\n\r\nAnd depends on the following transitively (via dependencies of dependencies):\r\n\r\n```\r\norg.jboss.resteasy:resteasy-vertx:4.5.3.Final\r\n| org.jboss.resteasy:resteasy-client:4.5.3.Final // Pulled in as a dependency of the above transient depdency\r\n```\r\n\r\nNote: `|` indicates a child dependency (dependency of a dependency or a dependency of a transitive dependency).\r\n","title":"How to enable @Valid annotation with REST Easy and Vertx","body":"<p>As @JamesR.Perkins suggested, this was due to using an older version of the validation provider <code>resteasy-validator-provider</code> compared to <code>resteasy-vertx</code>. Additionally, I was using the old artifact ID.</p>\n<p>To get this working I removed <code>org.jboss.resteasy:resteasy-validator-provider-11:3.0.11.Final</code> from my <code>build.gradle</code> and added <code>org.jboss.resteasy:resteasy-validator-provider:4.5.3.Final</code>. Note the artifact ID has updated from <code>resteasy-validator-provider-11</code> to <code>resteasy-validator-provider</code> and I chose version <code>4.5.3.Final</code> for the validator since it matched the version of <code>resteasy-vertx</code> I was using.</p>\n<p>For clarity, my project now depends on the following directly (listed in the <code>build.gradle</code>):</p>\n<pre><code>org.jboss.resteasy:resteasy-validator-provider:4.5.3.Final\n| org.hibernate:hibernate-validation:6.2.0.Final // Pulled in via the above\n</code></pre>\n<p>And depends on the following transitively (via dependencies of dependencies):</p>\n<pre><code>org.jboss.resteasy:resteasy-vertx:4.5.3.Final\n| org.jboss.resteasy:resteasy-client:4.5.3.Final // Pulled in as a dependency of the above transient depdency\n</code></pre>\n<p>Note: <code>|</code> indicates a child dependency (dependency of a dependency or a dependency of a transitive dependency).</p>\n"}],"owner":{"account_id":3510216,"reputation":1366,"user_id":2934716,"accept_rate":100,"display_name":"oreid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69339849,"answer_count":1,"score":0,"last_activity_date":1632700442,"creation_date":1632382606,"question_id":69295792,"body_markdown":"I am trying to get the `@Valid` annotation working in a project that is using RESTEasy and Vert.x.\r\n\r\nI have an API controller setup with a method signature like `public Future&lt;SomeResponseDto&gt; someController(@Valid SomeRequestDto dto)` where `SomeRequestDto` looks like the following:\r\n\r\n```java\r\n@Value\r\npublic class SomeRequestDto {\r\n\r\n  @NotEmpty\r\n  String someField;\r\n  \r\n  @JsonCreator\r\n  public SomeRequestDto(@JsonProperty(&quot;some_field&quot;) String someField) {\r\n    this.someField = someField;\r\n  }\r\n  \r\n}\r\n```\r\n\r\nMy expectation is that when I call `someController` with some JSON that doesn&#39;t meet the validation criteria (namely that `someField` is `&quot;&quot;`) an error is returned and the body of `someController` is not executed. This is not the case and the body of `someController` _is_ being executed. \r\n\r\nInterestingly, if I do manual validation in the body of `someController` I do get a `Set` containing the validation error I&#39;d expect. Manual validation uses the following code:\r\n\r\n```java\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\n\r\nfinal var result = validator.validate(dto); // This holds the expected constraint validation error\r\n```\r\n\r\nIn terms of dependencies, my project depends on the following directly (listed in the `build.gradle`):\r\n\r\n```\r\norg.jboss.resteasy:resteasy-validator-provider-11:3.0.11.Final\r\n| org.hibernate:hibernate-validation:5.0.1.Final // Pulled in via the above\r\n```\r\n\r\nAnd depends on the following transitively (via dependencies of dependencies):\r\n\r\n```\r\norg.jboss.resteasy:resteasy-vertx:4.5.3.Final\r\n| org.jboss.resteasy:resteasy-client:4.5.3.Final // Pulled in as a dependency of the above transient depdency\r\n```\r\n\r\nNote: `|` indicates a child dependency (dependency of a dependency or a dependency of a transitive dependency).\r\n\r\nFinally, I have tried following the instructions listed [here](https://docs.jboss.org/resteasy/docs/4.5.3.Final/userguide/html_single/index.html#Validation) to no avail (expect adding `validation.xml` since I don&#39;t think this is required). Any help would be appreciated!","title":"How to enable @Valid annotation with REST Easy and Vertx","body":"<p>I am trying to get the <code>@Valid</code> annotation working in a project that is using RESTEasy and Vert.x.</p>\n<p>I have an API controller setup with a method signature like <code>public Future&lt;SomeResponseDto&gt; someController(@Valid SomeRequestDto dto)</code> where <code>SomeRequestDto</code> looks like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class SomeRequestDto {\n\n  @NotEmpty\n  String someField;\n  \n  @JsonCreator\n  public SomeRequestDto(@JsonProperty(&quot;some_field&quot;) String someField) {\n    this.someField = someField;\n  }\n  \n}\n</code></pre>\n<p>My expectation is that when I call <code>someController</code> with some JSON that doesn't meet the validation criteria (namely that <code>someField</code> is <code>&quot;&quot;</code>) an error is returned and the body of <code>someController</code> is not executed. This is not the case and the body of <code>someController</code> <em>is</em> being executed.</p>\n<p>Interestingly, if I do manual validation in the body of <code>someController</code> I do get a <code>Set</code> containing the validation error I'd expect. Manual validation uses the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\n\nfinal var result = validator.validate(dto); // This holds the expected constraint validation error\n</code></pre>\n<p>In terms of dependencies, my project depends on the following directly (listed in the <code>build.gradle</code>):</p>\n<pre><code>org.jboss.resteasy:resteasy-validator-provider-11:3.0.11.Final\n| org.hibernate:hibernate-validation:5.0.1.Final // Pulled in via the above\n</code></pre>\n<p>And depends on the following transitively (via dependencies of dependencies):</p>\n<pre><code>org.jboss.resteasy:resteasy-vertx:4.5.3.Final\n| org.jboss.resteasy:resteasy-client:4.5.3.Final // Pulled in as a dependency of the above transient depdency\n</code></pre>\n<p>Note: <code>|</code> indicates a child dependency (dependency of a dependency or a dependency of a transitive dependency).</p>\n<p>Finally, I have tried following the instructions listed <a href=\"https://docs.jboss.org/resteasy/docs/4.5.3.Final/userguide/html_single/index.html#Validation\" rel=\"nofollow noreferrer\">here</a> to no avail (expect adding <code>validation.xml</code> since I don't think this is required). Any help would be appreciated!</p>\n"},{"tags":["java","networking","server","marshalling","unmarshalling"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1632733964,"post_id":69339671,"comment_id":122563635,"body_markdown":"Oh, and as you&#39;re new here: please NEVER post images of code. Insert the code into your questions, so we can copy/paste/replicate it easier. Best thing is to provide a minimal runnable example, so we can take it from there.","body":"Oh, and as you&#39;re new here: please NEVER post images of code. Insert the code into your questions, so we can copy/paste/replicate it easier. Best thing is to provide a minimal runnable example, so we can take it from there."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632698155,"creation_date":1632698155,"answer_id":69339686,"question_id":69339671,"body_markdown":"Of the Socket.InputStream you create a DataInputStream, which lets you read short, int, long etc. Use short or readUTF to read the ordinal/String for the message type, then `switch` on it, let each of the message type implementation handle its own I/O from there (best done in individual methods).\r\n","title":"Java how to marshall code on a network message","body":"<p>Of the Socket.InputStream you create a DataInputStream, which lets you read short, int, long etc. Use short or readUTF to read the ordinal/String for the message type, then <code>switch</code> on it, let each of the message type implementation handle its own I/O from there (best done in individual methods).</p>\n"}],"owner":{"account_id":22867801,"reputation":3,"user_id":17011314,"display_name":"Jordan Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69339686,"answer_count":1,"score":0,"last_activity_date":1632698155,"creation_date":1632697929,"question_id":69339671,"body_markdown":"This is a chat program that has a server and client side. The user sends a message to the server dictating what it is that the user wants to do. I am asked to marshall and unmarshall code for each of the message identifiers. I currently have an enumator containing every message along with the id value in the Server and Client classes. I also have an interface that is being implemented by every message identifier class. There are 7 message identifiers: REGISTRATION_MESSAGE, REGISTRATION_RESPONSE, DEREGISTRATION_MESSAGE, REQUEST_REGISTERED_USERS, RESPONSE_REGISTERED_USERS, BROADCAST_MESSAGE, and WHISPER_MESSAGE. All in all, I believe that if I can figure out the first message, I can do the other ones pretty easily. I am struggling to understand the concept, along with the know-hows for marshalling and unmarshalling. Currently, this is the snippet of code I am currently struggling on.\r\n[code snippet][1]\r\n\r\n\r\nI&#39;ve never messed with bytes so that alone kind of confuses me. Oh, and also I suppose it might would be useful to show my interface, [interface code snippet][2], along with my enumator declartion (in both Server and Client classes, but for the case of showing you I&#39;ll show just one since they are the same) [enumator code snippet][3] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SQ5wb.png\r\n  [2]: https://i.stack.imgur.com/FoO28.png\r\n  [3]: https://i.stack.imgur.com/xXLC2.png","title":"Java how to marshall code on a network message","body":"<p>This is a chat program that has a server and client side. The user sends a message to the server dictating what it is that the user wants to do. I am asked to marshall and unmarshall code for each of the message identifiers. I currently have an enumator containing every message along with the id value in the Server and Client classes. I also have an interface that is being implemented by every message identifier class. There are 7 message identifiers: REGISTRATION_MESSAGE, REGISTRATION_RESPONSE, DEREGISTRATION_MESSAGE, REQUEST_REGISTERED_USERS, RESPONSE_REGISTERED_USERS, BROADCAST_MESSAGE, and WHISPER_MESSAGE. All in all, I believe that if I can figure out the first message, I can do the other ones pretty easily. I am struggling to understand the concept, along with the know-hows for marshalling and unmarshalling. Currently, this is the snippet of code I am currently struggling on.\n<a href=\"https://i.stack.imgur.com/SQ5wb.png\" rel=\"nofollow noreferrer\">code snippet</a></p>\n<p>I've never messed with bytes so that alone kind of confuses me. Oh, and also I suppose it might would be useful to show my interface, <a href=\"https://i.stack.imgur.com/FoO28.png\" rel=\"nofollow noreferrer\">interface code snippet</a>, along with my enumator declartion (in both Server and Client classes, but for the case of showing you I'll show just one since they are the same) <a href=\"https://i.stack.imgur.com/xXLC2.png\" rel=\"nofollow noreferrer\">enumator code snippet</a></p>\n"},{"tags":["java","android","android-layout","navigation-drawer"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1632696364,"post_id":69339429,"comment_id":122555637,"body_markdown":"It is not clear where do you want to put the arrow pic.. Can you show some photo for that","body":"It is not clear where do you want to put the arrow pic.. Can you show some photo for that"},{"owner":{"account_id":21603807,"reputation":15,"user_id":15931522,"display_name":"NaFa"},"score":0,"creation_date":1632697785,"post_id":69339429,"comment_id":122555876,"body_markdown":"I just updated the post .. as you can see in the photo there is small arrow to the right if you drag it or click it the sided list will show .. That&#39;s all I need . It&#39;s been a long time of trying :(","body":"I just updated the post .. as you can see in the photo there is small arrow to the right if you drag it or click it the sided list will show .. That&#39;s all I need . It&#39;s been a long time of trying :("},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1632698662,"post_id":69339429,"comment_id":122555988,"body_markdown":"This can help you out https://stackoverflow.com/questions/18768360/draggable-drawer-with-a-handle-instead-of-action-bar-on-top-of-other-apps","body":"This can help you out <a href=\"https://stackoverflow.com/questions/18768360/draggable-drawer-with-a-handle-instead-of-action-bar-on-top-of-other-apps\" title=\"draggable drawer with a handle instead of action bar on top of other apps\">stackoverflow.com/questions/18768360/&hellip;</a>"}],"owner":{"account_id":21603807,"reputation":15,"user_id":15931522,"display_name":"NaFa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632697862,"creation_date":1632695166,"question_id":69339429,"body_markdown":"I have a navigation view and it works well but I want to make a small arrow next to it just to let the user know that he can swipe that arrow to the right to see the navigation menu options. I tried to play with margins and put the arrow vector asset inside the navigation view but that didn&#39;t work because I also want the user to hide it when he wants to.\r\n\r\nThat&#39;s my simple xml code:\r\n\r\n       android:id=&quot;@+id/drawer_nav&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;match_parent&quot;\r\n       android:background=&quot;@color/black&quot;\r\n       app:menu=&quot;@menu/navigation&quot;\r\n       app:itemTextColor=&quot;@color/white&quot;\r\n       app:itemIconTint=&quot;@color/white&quot;\r\n       android:layout_gravity=&quot;start&quot;\r\n       /&gt; \r\n\r\n\r\nI also tried to have my arrow between the tags of navigation view like this but that didn&#39;t work as well.. It showed me the place of the icon just where I want it to be but the icon itself ( the arrow ) somehow disappeared :( \r\n```\r\n&lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/drawer_nav&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        app:menu=&quot;@menu/navigation&quot;\r\n        app:itemTextColor=&quot;@color/white&quot;\r\n        app:itemIconTint=&quot;@color/white&quot;\r\n        android:layout_gravity=&quot;start&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatImageView\r\n            android:id=&quot;@+id/arrowopenClose&quot;\r\n            android:layout_width=&quot;20dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_marginEnd=&quot;-20dp&quot;\r\n           android:layout_marginTop=&quot;400dp&quot;\r\n            android:layout_gravity=&quot;right&quot;\r\n            android:src=&quot;@drawable/ic_baseline_keyboard_arrow_right_24&quot;\r\n            android:background=&quot;@drawable/customarrow&quot;\r\n            android:clickable=&quot;true&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n```\r\n\r\n\r\n\r\n[![Here is a picture of what I want ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZHDRJ.jpg","title":"Is it possible to have a visible arrow for the user to move the navigation view drawer?","body":"<p>I have a navigation view and it works well but I want to make a small arrow next to it just to let the user know that he can swipe that arrow to the right to see the navigation menu options. I tried to play with margins and put the arrow vector asset inside the navigation view but that didn't work because I also want the user to hide it when he wants to.</p>\n<p>That's my simple xml code:</p>\n<pre><code>   android:id=&quot;@+id/drawer_nav&quot;\n   android:layout_width=&quot;wrap_content&quot;\n   android:layout_height=&quot;match_parent&quot;\n   android:background=&quot;@color/black&quot;\n   app:menu=&quot;@menu/navigation&quot;\n   app:itemTextColor=&quot;@color/white&quot;\n   app:itemIconTint=&quot;@color/white&quot;\n   android:layout_gravity=&quot;start&quot;\n   /&gt; \n</code></pre>\n<p>I also tried to have my arrow between the tags of navigation view like this but that didn't work as well.. It showed me the place of the icon just where I want it to be but the icon itself ( the arrow ) somehow disappeared :(</p>\n<pre><code>&lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/drawer_nav&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/black&quot;\n        app:menu=&quot;@menu/navigation&quot;\n        app:itemTextColor=&quot;@color/white&quot;\n        app:itemIconTint=&quot;@color/white&quot;\n        android:layout_gravity=&quot;start&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:id=&quot;@+id/arrowopenClose&quot;\n            android:layout_width=&quot;20dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:layout_marginEnd=&quot;-20dp&quot;\n           android:layout_marginTop=&quot;400dp&quot;\n            android:layout_gravity=&quot;right&quot;\n            android:src=&quot;@drawable/ic_baseline_keyboard_arrow_right_24&quot;\n            android:background=&quot;@drawable/customarrow&quot;\n            android:clickable=&quot;true&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZHDRJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZHDRJ.jpg\" alt=\"Here is a picture of what I want \" /></a></p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1475661684,"post_id":39870923,"comment_id":67028700,"body_markdown":"You&#39;ve written a method that accepts no arguments. Your `main` method is trying to call it with the argument `777`.","body":"You&#39;ve written a method that accepts no arguments. Your <code>main</code> method is trying to call it with the argument <code>777</code>."}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475661678,"creation_date":1475661678,"answer_id":39870989,"question_id":39870923,"body_markdown":"You need to add the `customID` argument to your method and use it in your calculation:\r\n\r\n    public void createLicenseNum(int customID) {\r\n        licenseNum = (customID * 100000) + licenseYear;\r\n    }","title":"Java: Basic class definition","body":"<p>You need to add the <code>customID</code> argument to your method and use it in your calculation:</p>\n\n<pre><code>public void createLicenseNum(int customID) {\n    licenseNum = (customID * 100000) + licenseYear;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475661684,"creation_date":1475661684,"answer_id":39870993,"question_id":39870923,"body_markdown":"Your method doesn&#39;t have any arguments, it&#39;s not javascript. You need to do this:\r\n\r\n`public void createLicenseNum(int customId) {...`\r\n\r\nNow if you call it like this `dog.createLicenseNum(500);` then inside that method variable named `customId` will have a value `500`.","title":"Java: Basic class definition","body":"<p>Your method doesn't have any arguments, it's not javascript. You need to do this:</p>\n\n<p><code>public void createLicenseNum(int customId) {...</code></p>\n\n<p>Now if you call it like this <code>dog.createLicenseNum(500);</code> then inside that method variable named <code>customId</code> will have a value <code>500</code>.</p>\n"},{"tags":[],"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475662134,"creation_date":1475661840,"answer_id":39871048,"question_id":39870923,"body_markdown":"Your&#39;re calling the method with `int`, however it&#39;s declared to take no parameters.\r\n\r\n    public void createLicenseNum(int licenseNum) {\r\n      this.licenseNum = (licenseNum * 100000) + licenseYear;\r\n    return;\r\n\r\nWill solve the problem.\r\n\r\nStill it&#39;s not how we do that in Java. For constructing objects you should use constructor.\r\n\r\n    public class DogLicense {\r\n        private int licenseYear;\r\n        private int licenseNum;\r\n    \r\n        public void setYear(int yearRegistered) {\r\n          licenseYear = yearRegistered;\r\n          return;\r\n        }\r\n    \r\n    \r\n        public DogLicense(int num, int year) {\r\n            licenseNum = (num* 100000) + year;\r\n        }\r\n    \r\n        public int getLicenseNum() {\r\n            return licenseNum;\r\n        }\r\n    }\r\n\r\n    public class CallDogLicense {\r\n        public static void main (String [] args) {\r\n          DogLicense dog1 = new DogLicense(777, 2014);\r\n          System.out.println(&quot;Dog license: &quot; + dog1.getLicenseNum());\r\n          return;\r\n      }\r\n    }","title":"Java: Basic class definition","body":"<p>Your're calling the method with <code>int</code>, however it's declared to take no parameters.</p>\n\n<pre><code>public void createLicenseNum(int licenseNum) {\n  this.licenseNum = (licenseNum * 100000) + licenseYear;\nreturn;\n</code></pre>\n\n<p>Will solve the problem.</p>\n\n<p>Still it's not how we do that in Java. For constructing objects you should use constructor.</p>\n\n<pre><code>public class DogLicense {\n    private int licenseYear;\n    private int licenseNum;\n\n    public void setYear(int yearRegistered) {\n      licenseYear = yearRegistered;\n      return;\n    }\n\n\n    public DogLicense(int num, int year) {\n        licenseNum = (num* 100000) + year;\n    }\n\n    public int getLicenseNum() {\n        return licenseNum;\n    }\n}\n\npublic class CallDogLicense {\n    public static void main (String [] args) {\n      DogLicense dog1 = new DogLicense(777, 2014);\n      System.out.println(\"Dog license: \" + dog1.getLicenseNum());\n      return;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19606678,"reputation":1,"user_id":14350185,"display_name":"QuinnSilver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601220141,"creation_date":1601220141,"answer_id":64090094,"question_id":39870923,"body_markdown":"[Solved][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5KfqQ.png\r\n\r\nWhere I went wrong was not declaring int before createLicenseNum(int customID) {\r\n\r\nAfter declaring the customID in the method&#39;s parameters, be sure to include that ID in the formula as that integer will be called upon. \r\n\r\nFinally, I was error&#39;d because it only typed return; at the end, not return licenseNum;.   ","title":"Java: Basic class definition","body":"<p><a href=\"https://i.stack.imgur.com/5KfqQ.png\" rel=\"nofollow noreferrer\">Solved</a></p>\n<p>Where I went wrong was not declaring int before createLicenseNum(int customID) {</p>\n<p>After declaring the customID in the method's parameters, be sure to include that ID in the formula as that integer will be called upon.</p>\n<p>Finally, I was error'd because it only typed return; at the end, not return licenseNum;.</p>\n"}],"owner":{"account_id":9287934,"reputation":39,"user_id":6897194,"display_name":"Java123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25510,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":39870993,"answer_count":4,"score":-2,"last_activity_date":1632697261,"creation_date":1475661520,"question_id":39870923,"body_markdown":"Define the missing method. \r\nlicenseNum is created as: (100000 * customID) + licenseYear. \r\nSample output: Dog license: 77702014\r\n\r\nThis is what I did:\r\n\r\n   \r\n\r\n     public void createLicenseNum() {\r\n        licenseNum = (licenseNum * 100000) + licenseYear;\r\n        return;\r\n     }\r\n\r\nBut it&#39;s incorrect. Where am I going wrong?\r\n\r\n&gt; CallDogLicense. java:32:\r\n&gt;  createLicenseNum() in DogLicense cannot be applied      to (int)\r\n&gt;  dog1.createLicenseNum(777);\r\n\r\nCode from file DogLicense.java\r\n\r\n        public class DogLicense {\r\n          private int licenseYear;\r\n          private int licenseNum;\r\n        \r\n          public void setYear(int yearRegistered) {\r\n            licenseYear = yearRegistered;\r\n            return;\r\n          }\r\n        \r\n          // FIXME: Write createLicenseNum()\r\n        \r\n          /* Your solution goes here  */\r\n          \r\n          public void createLicenseNum() {\r\n            licenseNum = (licenseNum * 100000) + licenseYear;\r\n            return;\r\n          }\r\n        \r\n          public int getLicenseNum() {\r\n            return licenseNum;\r\n          }\r\n        }\r\n    \r\n Code from file CallDogLicense.java\r\n    \r\n        public class CallDogLicense {\r\n          public static void main (String [] args) {\r\n            DogLicense dog1 = new DogLicense();\r\n        \r\n            dog1.setYear(2014);\r\n            dog1.createLicenseNum(777);\r\n            System.out.println(&quot;Dog license: &quot; + dog1.getLicenseNum());\r\n        \r\n            return;\r\n          }\r\n        }\r\n\r\n   \r\n\r\n\r\n","title":"Java: Basic class definition","body":"<p>Define the missing method. \nlicenseNum is created as: (100000 * customID) + licenseYear. \nSample output: Dog license: 77702014</p>\n\n<p>This is what I did:</p>\n\n<pre><code> public void createLicenseNum() {\n    licenseNum = (licenseNum * 100000) + licenseYear;\n    return;\n }\n</code></pre>\n\n<p>But it's incorrect. Where am I going wrong?</p>\n\n<blockquote>\n  <p>CallDogLicense. java:32:\n   createLicenseNum() in DogLicense cannot be applied      to (int)\n   dog1.createLicenseNum(777);</p>\n</blockquote>\n\n<p>Code from file DogLicense.java</p>\n\n<pre><code>    public class DogLicense {\n      private int licenseYear;\n      private int licenseNum;\n\n      public void setYear(int yearRegistered) {\n        licenseYear = yearRegistered;\n        return;\n      }\n\n      // FIXME: Write createLicenseNum()\n\n      /* Your solution goes here  */\n\n      public void createLicenseNum() {\n        licenseNum = (licenseNum * 100000) + licenseYear;\n        return;\n      }\n\n      public int getLicenseNum() {\n        return licenseNum;\n      }\n    }\n</code></pre>\n\n<p>Code from file CallDogLicense.java</p>\n\n<pre><code>    public class CallDogLicense {\n      public static void main (String [] args) {\n        DogLicense dog1 = new DogLicense();\n\n        dog1.setYear(2014);\n        dog1.createLicenseNum(777);\n        System.out.println(\"Dog license: \" + dog1.getLicenseNum());\n\n        return;\n      }\n    }\n</code></pre>\n"},{"tags":["java","keyboard","processing"],"answers":[{"tags":[],"owner":{"account_id":21152048,"reputation":1269,"user_id":15552152,"display_name":"Mady Daby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632697036,"creation_date":1632697036,"answer_id":69339597,"question_id":69339225,"body_markdown":"Example to detect special keys:\r\n```java\r\nvoid keyPressed() {\r\n  if (key == CODED) {\r\n    if (keyCode == UP) {\r\n       //Do Something\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nPlease see [processing keyboard input docs][1] for more details.\r\n\r\n\r\n  [1]: https://processing.org/reference#input-keyboard","title":"How can you use arrow keys as input?","body":"<p>Example to detect special keys:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void keyPressed() {\n  if (key == CODED) {\n    if (keyCode == UP) {\n       //Do Something\n    }\n  }\n}\n</code></pre>\n<p>Please see <a href=\"https://processing.org/reference#input-keyboard\" rel=\"nofollow noreferrer\">processing keyboard input docs</a> for more details.</p>\n"}],"owner":{"account_id":16821621,"reputation":59,"user_id":12161910,"display_name":"mijmajmoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69339597,"answer_count":1,"score":1,"last_activity_date":1632697036,"creation_date":1632692995,"question_id":69339225,"body_markdown":"I am trying to make a 2 player game so as a result I am passing each players controls through the player class&#39;s constructor. This works well for normal keys but 1 player uses the arrow keys. How do you do you use the arrow keys as inputs as it is throwing the error &quot;Badly formed character constant (expecting quote, got E)&quot;.\r\n\r\nMy key listener:\r\n```\r\nvoid keyPressed(){\r\n  for (Player p:g.players){\r\n    p.checkforInputs(Character.toLowerCase(key));\r\n  }\r\n}\r\n```\r\nMy input checker:\r\n```\r\nvoid checkforInputs(char k){\r\n    if(k==moveLeftKey){...\r\n```\r\nCreating the player class and passing it the controls:(all arguments are char)\r\n\r\n``` \r\nplayers.add(new Player(&#39;LEFT&#39;,&#39;RIGHT&#39;,&#39;UP&#39;,&#39;DOWN&#39;,&#39;&lt;&#39;,&#39;&gt;&#39;,&#39;m&#39;)); \r\n```","title":"How can you use arrow keys as input?","body":"<p>I am trying to make a 2 player game so as a result I am passing each players controls through the player class's constructor. This works well for normal keys but 1 player uses the arrow keys. How do you do you use the arrow keys as inputs as it is throwing the error &quot;Badly formed character constant (expecting quote, got E)&quot;.</p>\n<p>My key listener:</p>\n<pre><code>void keyPressed(){\n  for (Player p:g.players){\n    p.checkforInputs(Character.toLowerCase(key));\n  }\n}\n</code></pre>\n<p>My input checker:</p>\n<pre><code>void checkforInputs(char k){\n    if(k==moveLeftKey){...\n</code></pre>\n<p>Creating the player class and passing it the controls:(all arguments are char)</p>\n<pre><code>players.add(new Player('LEFT','RIGHT','UP','DOWN','&lt;','&gt;','m')); \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1632681430,"post_id":69337777,"comment_id":122552719,"body_markdown":"&quot;Do I use an if statement?&quot; Yes.","body":"&quot;Do I use an if statement?&quot; Yes."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632681475,"post_id":69337777,"comment_id":122552729,"body_markdown":"JavaScript and Java are entirely different languages, please only tag with the language you&#39;re actually using. Also, please edit the title of your question to provide a title that actually summarizes your question. The title _&quot;LAB: Login name&quot;_  is not helpful.","body":"JavaScript and Java are entirely different languages, please only tag with the language you&#39;re actually using. Also, please edit the title of your question to provide a title that actually summarizes your question. The title <i>&quot;LAB: Login name&quot;</i>  is not helpful."},{"owner":{"account_id":22858998,"reputation":11,"user_id":17003410,"display_name":"Mandy0000"},"score":0,"creation_date":1632696615,"post_id":69337777,"comment_id":122555695,"body_markdown":"Sorry for the title and extra tags at first. I just started on this website and just started coding ! Thanks for any input :)","body":"Sorry for the title and extra tags at first. I just started on this website and just started coding ! Thanks for any input :)"}],"answers":[{"tags":[],"owner":{"account_id":22730645,"reputation":41,"user_id":16893613,"display_name":"Best Guy Ever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632682109,"creation_date":1632682109,"answer_id":69337956,"question_id":69337777,"body_markdown":"```Do I use an if statement?```\r\nYes\r\n\r\n\r\nOver here:\r\n```\r\n        loginName = userLastName.substring(0,4); \r\n        loginName = loginName + userFirstName.charAt(0);\r\n        loginName = loginName + (birthYear % 100) ;\r\n```\r\n\r\nYou can simply add \r\n```\r\n        if (userLastName.length()&lt;5)\r\n            loginName = userLastName;\r\n            //this will initialize loginName with all the characters available\r\n\r\n        else \r\n            loginName = userLastName.substring(0,4);\r\n            /* \r\n               in my opinion this will return only 4 characters and not the fifth one\r\n               If that&#39;s the case, make the .substring(0,5);\r\n            */\r\n\r\n        loginName = loginName + userFirstName.charAt(0);\r\n        loginName = loginName + (birthYear % 100) ;\r\n```","title":"LAB: Login name. Error with printing an entire string if itâ€™s over a certain number of characters","body":"<p><code>Do I use an if statement?</code>\nYes</p>\n<p>Over here:</p>\n<pre><code>        loginName = userLastName.substring(0,4); \n        loginName = loginName + userFirstName.charAt(0);\n        loginName = loginName + (birthYear % 100) ;\n</code></pre>\n<p>You can simply add</p>\n<pre><code>        if (userLastName.length()&lt;5)\n            loginName = userLastName;\n            //this will initialize loginName with all the characters available\n\n        else \n            loginName = userLastName.substring(0,4);\n            /* \n               in my opinion this will return only 4 characters and not the fifth one\n               If that's the case, make the .substring(0,5);\n            */\n\n        loginName = loginName + userFirstName.charAt(0);\n        loginName = loginName + (birthYear % 100) ;\n</code></pre>\n"}],"owner":{"account_id":22858998,"reputation":11,"user_id":17003410,"display_name":"Mandy0000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6089,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632696574,"creation_date":1632680667,"question_id":69337777,"body_markdown":"I&#39;m working on this lab:\r\n\r\nWrite a program that creates a login name for a user, given the user&#39;s first name, last name, and a four-digit integer as input. Output the login name, which is made up of the first five letters of the last name, followed by the first letter of the first name, and then the last two digits of the number (use the % operator). If the last name has less than five letters, then use all letters of the last name.\r\n\r\nI have a code that works for input where the last name is five letters or more, but am confused on how to add the part where there is a last name with less than five letters. Do I use an if statement? \r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class LabProgram {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t Scanner scnr = new Scanner(System.in);\r\n       \r\n      String userFirstName;\r\n\t\tString userLastName;\r\n\t\tint birthYear;\r\n\t\tString loginName;\r\n\t\t\r\n\t\tuserFirstName = scnr.next();\r\n\t\tuserLastName = scnr.next();\r\n\t\tbirthYear = scnr.nextInt();\r\n\t\t\r\n\t\tloginName = userLastName.substring(0,4); \r\n\t\tloginName = loginName + userFirstName.charAt(0);\r\n\t\tloginName = loginName + (birthYear % 100) ;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your login name: &quot; + loginName);\r\n\t}\r\n}\r\n```","title":"LAB: Login name. Error with printing an entire string if itâ€™s over a certain number of characters","body":"<p>I'm working on this lab:</p>\n<p>Write a program that creates a login name for a user, given the user's first name, last name, and a four-digit integer as input. Output the login name, which is made up of the first five letters of the last name, followed by the first letter of the first name, and then the last two digits of the number (use the % operator). If the last name has less than five letters, then use all letters of the last name.</p>\n<p>I have a code that works for input where the last name is five letters or more, but am confused on how to add the part where there is a last name with less than five letters. Do I use an if statement?</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\npublic class LabProgram {\n\n    public static void main(String[] args) {\n     Scanner scnr = new Scanner(System.in);\n       \n      String userFirstName;\n        String userLastName;\n        int birthYear;\n        String loginName;\n        \n        userFirstName = scnr.next();\n        userLastName = scnr.next();\n        birthYear = scnr.nextInt();\n        \n        loginName = userLastName.substring(0,4); \n        loginName = loginName + userFirstName.charAt(0);\n        loginName = loginName + (birthYear % 100) ;\n        \n        System.out.println(&quot;Your login name: &quot; + loginName);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","dependency-injection","mockito"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1632671519,"post_id":69336500,"comment_id":122550341,"body_markdown":"Have you tried removing the constructor and adding `@Autowired` to the `restTemplate` field?","body":"Have you tried removing the constructor and adding <code>@Autowired</code> to the <code>restTemplate</code> field?"},{"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"score":0,"creation_date":1632671800,"post_id":69336500,"comment_id":122550422,"body_markdown":"Yes, it still fails with `&quot;this.restTemplate&quot; is null`  in the tests; Considering this change, the application itself will also fail when it runs, as it was relying on the `= new RestTemplate();` to have it first instantiated.","body":"Yes, it still fails with <code>&quot;this.restTemplate&quot; is null</code>  in the tests; Considering this change, the application itself will also fail when it runs, as it was relying on the <code>= new RestTemplate();</code> to have it first instantiated."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1632671837,"post_id":69336500,"comment_id":122550433,"body_markdown":"Of course, you would need to define a `RestTemplate` bean in that case.","body":"Of course, you would need to define a <code>RestTemplate</code> bean in that case."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632696079,"creation_date":1632672255,"answer_id":69336649,"question_id":69336500,"body_markdown":"Instead of field injection, use constructor injection as follows:\r\n\r\n```java\r\n@Service\r\npublic class CarService {\r\n    private RestTemplate restTemplate;\r\n\r\n    public CarService (RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nSpring will understand that a `RestTemplate` bean is needed to create a `CarService` and will inject it via constructor (assuming you have a `RestTemplate` bean created elsewhere, most probably via auto-configuration).\r\n\r\nThen in the test, you can remove `new CarService();` as follows:\r\n\r\n```java\r\npublic class CarServiceTest {\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate;\r\n\r\n    @InjectMocks\r\n    private CarService carService;\r\n\r\n    @Before \r\n    public void initMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testCars() {\r\n        ...\r\n        Mockito.when(restTemplate.exchange(\r\n                                    RequestEntity.get(new URI(uri))\r\n                                    .headers(headers).build(),\r\n                                     Cars.class))\r\n          .thenReturn(new ResponseEntity(testCars, HttpStatus.OK));\r\n        ...\r\n    }\r\n}\r\n``` ","title":"How to inject a RestTemplate into another class and test it?","body":"<p>Instead of field injection, use constructor injection as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CarService {\n    private RestTemplate restTemplate;\n\n    public CarService (RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n    ...\n}\n</code></pre>\n<p>Spring will understand that a <code>RestTemplate</code> bean is needed to create a <code>CarService</code> and will inject it via constructor (assuming you have a <code>RestTemplate</code> bean created elsewhere, most probably via auto-configuration).</p>\n<p>Then in the test, you can remove <code>new CarService();</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private CarService carService;\n\n    @Before \n    public void initMocks() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testCars() {\n        ...\n        Mockito.when(restTemplate.exchange(\n                                    RequestEntity.get(new URI(uri))\n                                    .headers(headers).build(),\n                                     Cars.class))\n          .thenReturn(new ResponseEntity(testCars, HttpStatus.OK));\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69336649,"answer_count":1,"score":1,"last_activity_date":1632696079,"creation_date":1632671163,"question_id":69336500,"body_markdown":"I currently have a service class like this:\r\n\r\n    @Service\r\n    public class CarService {\r\n        private RestTemplate restTemplate;\r\n    \r\n        @Autowired\r\n        public CarService () {\r\n            restTemplate = new RestTemplate();\r\n        }\r\n        ...\r\n    }\r\n\r\nthat is being called by an application runner class like this: \r\n\r\n    @Component\r\n    public class CarRunner implements ApplicationRunner {\r\n    \r\n        @Autowired\r\n        CarService carService;\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n               ...\r\n               Cars cars = carService.getCars();\r\n               ...\r\n\r\nI would like to get rid of the `restTemplate = new RestTemplate();` as it is causing me problems when I&#39;m mocking tests.\r\n\r\nMy test class is like:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CarServiceTest {\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private CarService carService = new CarService();\r\n    \r\n        @Test\r\n        public void testCars() {\r\n            ...\r\n            Mockito.when(restTemplate.exchange(\r\n                                        RequestEntity.get(new URI(uri))\r\n                                        .headers(headers).build(),\r\n                                         Cars.class))\r\n              .thenReturn(new ResponseEntity(testCars, HttpStatus.OK));\r\n            ...\r\n        }\r\n    }\r\n\r\nWhat is the best approach to avoid this dependency?","title":"How to inject a RestTemplate into another class and test it?","body":"<p>I currently have a service class like this:</p>\n<pre><code>@Service\npublic class CarService {\n    private RestTemplate restTemplate;\n\n    @Autowired\n    public CarService () {\n        restTemplate = new RestTemplate();\n    }\n    ...\n}\n</code></pre>\n<p>that is being called by an application runner class like this:</p>\n<pre><code>@Component\npublic class CarRunner implements ApplicationRunner {\n\n    @Autowired\n    CarService carService;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n           ...\n           Cars cars = carService.getCars();\n           ...\n</code></pre>\n<p>I would like to get rid of the <code>restTemplate = new RestTemplate();</code> as it is causing me problems when I'm mocking tests.</p>\n<p>My test class is like:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CarServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private CarService carService = new CarService();\n\n    @Test\n    public void testCars() {\n        ...\n        Mockito.when(restTemplate.exchange(\n                                    RequestEntity.get(new URI(uri))\n                                    .headers(headers).build(),\n                                     Cars.class))\n          .thenReturn(new ResponseEntity(testCars, HttpStatus.OK));\n        ...\n    }\n}\n</code></pre>\n<p>What is the best approach to avoid this dependency?</p>\n"},{"tags":["java","maven","runtime","maven-plugin","gradle-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1632683837,"post_id":69337502,"comment_id":122553214,"body_markdown":"Why do you want to do this?","body":"Why do you want to do this?"},{"owner":{"account_id":22866306,"reputation":33,"user_id":17009967,"display_name":"HerosOfStrom"},"score":0,"creation_date":1632695653,"post_id":69337502,"comment_id":122555509,"body_markdown":"its a custom plugin, i used a bad example of `spring boot plugin` in the screenshot. I dont know if that is feasible out of box, if it requires plugin code change, i am ok with that. I can customize the plugin code. I just have to be able to pass different dependencies and/or upgraded dependency version to plugin, since i have to run this in 100s of repo i cant update every project&#39;s pom. If it requires plugin code change, if you know if any open source plugin that does this, i would appreciate it if you can point me to that plugin","body":"its a custom plugin, i used a bad example of <code>spring boot plugin</code> in the screenshot. I dont know if that is feasible out of box, if it requires plugin code change, i am ok with that. I can customize the plugin code. I just have to be able to pass different dependencies and/or upgraded dependency version to plugin, since i have to run this in 100s of repo i cant update every project&#39;s pom. If it requires plugin code change, if you know if any open source plugin that does this, i would appreciate it if you can point me to that plugin"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1632732297,"post_id":69337502,"comment_id":122562865,"body_markdown":"Sounds like an X-Y problem.  The Maven way IS to fix it in your hundreds of repositories, and to do it properly, and doing it in other ways will cause you more problems down the road.   You may want to look into XSLT to manipulate the pom&#39;s","body":"Sounds like an X-Y problem.  The Maven way IS to fix it in your hundreds of repositories, and to do it properly, and doing it in other ways will cause you more problems down the road.   You may want to look into XSLT to manipulate the pom&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":13703711,"reputation":56,"user_id":9888021,"display_name":"Ashkan Khaleghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632680155,"creation_date":1632680155,"answer_id":69337693,"question_id":69337502,"body_markdown":"use **&lt;scope&gt;** tag for doing this. sample below here :\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n            &lt;version&gt;version&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n       &lt;/dependency&gt;","title":"Inject Maven Plugin Dependencies runtime","body":"<p>use <strong></strong> tag for doing this. sample below here :</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\n        &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n        &lt;version&gt;version&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632683994,"creation_date":1632683994,"answer_id":69338216,"question_id":69337502,"body_markdown":"You could define an additional property like:\r\n\r\n    &lt;properties&gt;\r\n        &lt;plugin.dependency.version&gt;someDefaultVersion&lt;/plugin.dependency.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nand use it in the plugin \r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.verision}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;groupid&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n                        &lt;version&gt;${plugin.dependency.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\nBy doing so you should be able to define plugin&#39;s dependency via command line using this command:\r\n\r\n    mvn org.springframework.boot:spring-boot-maven-plugin:yourGoal -Dplugin.dependency.version=runtimeDepenencyVersion","title":"Inject Maven Plugin Dependencies runtime","body":"<p>You could define an additional property like:</p>\n<pre><code>&lt;properties&gt;\n    &lt;plugin.dependency.version&gt;someDefaultVersion&lt;/plugin.dependency.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and use it in the plugin</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.verision}&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;groupid&lt;/groupId&gt;\n                    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n                    &lt;version&gt;${plugin.dependency.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>By doing so you should be able to define plugin's dependency via command line using this command:</p>\n<pre><code>mvn org.springframework.boot:spring-boot-maven-plugin:yourGoal -Dplugin.dependency.version=runtimeDepenencyVersion\n</code></pre>\n"}],"owner":{"account_id":22866306,"reputation":33,"user_id":17009967,"display_name":"HerosOfStrom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632695376,"creation_date":1632678975,"question_id":69337502,"body_markdown":"is it possible to inject dependencies in maven plugin and/or gradle plugin at runtime. I know you can add dependencies in plugin in pom.xml but i want those dependencies to be runtime as i want to be able to inject them something like this\r\n`mvn &lt;plugin&gt;:&lt;goal&gt; &lt;arg=pass dependencies here)` \r\n\r\nThis plugin is not in repo pom.xml so i want to run mvn cli to execute this plugin outside of the project. Has anyone done this\r\n\r\n[Add Plugin Dependencies Runtime][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fuzXn.png","title":"Inject Maven Plugin Dependencies runtime","body":"<p>is it possible to inject dependencies in maven plugin and/or gradle plugin at runtime. I know you can add dependencies in plugin in pom.xml but i want those dependencies to be runtime as i want to be able to inject them something like this\n<code>mvn &lt;plugin&gt;:&lt;goal&gt; &lt;arg=pass dependencies here)</code></p>\n<p>This plugin is not in repo pom.xml so i want to run mvn cli to execute this plugin outside of the project. Has anyone done this</p>\n<p><a href=\"https://i.stack.imgur.com/fuzXn.png\" rel=\"nofollow noreferrer\">Add Plugin Dependencies Runtime</a></p>\n"},{"tags":["java","xml","jackson","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1632756876,"post_id":69336646,"comment_id":122573279,"body_markdown":"Your approach seems me correct, maybe [this](https://stackoverflow.com/questions/50057969/read-from-stax-xmlstreamreader-to-unmarshall-partial) can help you  to have a function related to the tag name?","body":"Your approach seems me correct, maybe <a href=\"https://stackoverflow.com/questions/50057969/read-from-stax-xmlstreamreader-to-unmarshall-partial\">this</a> can help you  to have a function related to the tag name?"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1632769988,"post_id":69336646,"comment_id":122578163,"body_markdown":"@dariosicily thanks for sharing! I thought that maybe there is some easier option to do it without using `XMLStreamReader` and so on,  but apparently not, so for now I have chosen this one.","body":"@dariosicily thanks for sharing! I thought that maybe there is some easier option to do it without using <code>XMLStreamReader</code> and so on,  but apparently not, so for now I have chosen this one."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1632774203,"post_id":69336646,"comment_id":122579663,"body_markdown":"You are welcome, unfortunately no direct method is available.","body":"You are welcome, unfortunately no direct method is available."}],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632694937,"creation_date":1632672240,"question_id":69336646,"body_markdown":"I&#39;m using spring-boot 2.5.4 and I need to deserialize an input xml-file to an object `Person`. Xml looks like this:\r\n\r\n    &lt;person_wrapper&gt;\r\n      &lt;person&gt;\r\n         &lt;firstName&gt;Bob&lt;/firstName&gt;\r\n         &lt;lastName&gt;Smith&lt;/lastName&gt;\r\n      &lt;/person&gt;\r\n    &lt;/person_wrapper&gt;\r\n\r\nClass `Person`:\r\n\r\n    @JacksonXmlRootElement(localName = &quot;person&quot;)\r\n    class Person {\r\n        \r\n        @JacksonXmlProperty(localName = &quot;firstName&quot;)\r\n        private String firstName;\r\n        \r\n        @JacksonXmlProperty(localName = &quot;lastName&quot;)\r\n        private String lastName;\r\n        \r\n        // getters setters\r\n    }\r\n\r\nHow to configure `XmlMapper` to deserialize such xml to the `Person` or how to change `Person` class for it and avoid creating such wrapper:\r\n\r\n    @JacksonXmlRootElement(localName = &quot;person_wrapper&quot;)\r\n    class PersonWrapper {\r\n        \r\n        @JacksonXmlProperty(localName = &quot;person&quot;)\r\n        private Person person;\r\n      \r\n        // getter setter\r\n    } \r\n\r\nI&#39;ve found one solution, but I&#39;m not happy with him:\r\n\r\n    XMLInputFactory f = XMLInputFactory.newFactory();\r\n    XMLStreamReader streamReader = f.createXMLStreamReader(new StringReader(inputXml));\r\n    streamReader.next(); // to point to &lt;root&gt;\r\n    streamReader.next(); // to point to root-element under root\r\n    \r\n    XmlMapper mapper = new XmlMapper();\r\n    Person person = mapper.readValue(streamReader, Person.class);\r\n    streamReader.close(); \r\n\r\nProbably there is another solution to achieve it? I&#39;ve tried something like this, but unsuccessfully:\r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    xmlMapper.reader()\r\n             .withRootName(&quot;person&quot;)\r\n             .readValue(inputXml, Person.class);\r\n\r\nAnd got \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\r\n&gt; Unrecognized field &quot;person&quot;\r\n\r\nIf you need any clarification, let me know and thanks in advance.","title":"XML deserialization using jackson-dataformat-xml","body":"<p>I'm using spring-boot 2.5.4 and I need to deserialize an input xml-file to an object <code>Person</code>. Xml looks like this:</p>\n<pre><code>&lt;person_wrapper&gt;\n  &lt;person&gt;\n     &lt;firstName&gt;Bob&lt;/firstName&gt;\n     &lt;lastName&gt;Smith&lt;/lastName&gt;\n  &lt;/person&gt;\n&lt;/person_wrapper&gt;\n</code></pre>\n<p>Class <code>Person</code>:</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;person&quot;)\nclass Person {\n    \n    @JacksonXmlProperty(localName = &quot;firstName&quot;)\n    private String firstName;\n    \n    @JacksonXmlProperty(localName = &quot;lastName&quot;)\n    private String lastName;\n    \n    // getters setters\n}\n</code></pre>\n<p>How to configure <code>XmlMapper</code> to deserialize such xml to the <code>Person</code> or how to change <code>Person</code> class for it and avoid creating such wrapper:</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;person_wrapper&quot;)\nclass PersonWrapper {\n    \n    @JacksonXmlProperty(localName = &quot;person&quot;)\n    private Person person;\n  \n    // getter setter\n} \n</code></pre>\n<p>I've found one solution, but I'm not happy with him:</p>\n<pre><code>XMLInputFactory f = XMLInputFactory.newFactory();\nXMLStreamReader streamReader = f.createXMLStreamReader(new StringReader(inputXml));\nstreamReader.next(); // to point to &lt;root&gt;\nstreamReader.next(); // to point to root-element under root\n\nXmlMapper mapper = new XmlMapper();\nPerson person = mapper.readValue(streamReader, Person.class);\nstreamReader.close(); \n</code></pre>\n<p>Probably there is another solution to achieve it? I've tried something like this, but unsuccessfully:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.reader()\n         .withRootName(&quot;person&quot;)\n         .readValue(inputXml, Person.class);\n</code></pre>\n<p>And got</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\nUnrecognized field &quot;person&quot;</p>\n</blockquote>\n<p>If you need any clarification, let me know and thanks in advance.</p>\n"},{"tags":["java","linux","maven"],"comments":[{"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"score":0,"creation_date":1606207009,"post_id":64981359,"comment_id":114885562,"body_markdown":"What else does the error say?","body":"What else does the error say?"},{"owner":{"account_id":19941488,"reputation":39,"user_id":14613152,"display_name":"reborn"},"score":0,"creation_date":1606278906,"post_id":64981359,"comment_id":114913551,"body_markdown":"@VladL I have added the complete error message. Could you please check now?","body":"@VladL I have added the complete error message. Could you please check now?"},{"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"score":0,"creation_date":1606290444,"post_id":64981359,"comment_id":114916481,"body_markdown":"The code you pasted works on my machine :) I used openJDK 15.0.1 Make sure you don&#39;t have any new lines in between your quotes and try to rebuild the project.","body":"The code you pasted works on my machine :) I used openJDK 15.0.1 Make sure you don&#39;t have any new lines in between your quotes and try to rebuild the project."},{"owner":{"account_id":19941488,"reputation":39,"user_id":14613152,"display_name":"reborn"},"score":0,"creation_date":1606672968,"post_id":64981359,"comment_id":115025469,"body_markdown":"Thanks @VladL, It working with other jdk, but not with oracle jdk15. Not sure why. I have switched to a lower version now.","body":"Thanks @VladL, It working with other jdk, but not with oracle jdk15. Not sure why. I have switched to a lower version now."}],"answers":[{"tags":[],"owner":{"account_id":2580726,"reputation":1066,"user_id":2237474,"display_name":"Mariano LEANCE"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1632693482,"creation_date":1632693482,"answer_id":69339281,"question_id":64981359,"body_markdown":"I had a similar issue recently with java 17. Make sure you have downloaded the correct version of your jdk.\r\nI had downloaded the Linuxâ€Š/â€ŠAArch64 instead of the Linuxâ€Š/â€Šx64, giving me the exact same message as you.","title":"Syntax error: Unterminated quoted string in Maven project","body":"<p>I had a similar issue recently with java 17. Make sure you have downloaded the correct version of your jdk.\nI had downloaded the Linuxâ€Š/â€ŠAArch64 instead of the Linuxâ€Š/â€Šx64, giving me the exact same message as you.</p>\n"}],"owner":{"account_id":19941488,"reputation":39,"user_id":14613152,"display_name":"reborn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69339281,"answer_count":1,"score":3,"last_activity_date":1632693482,"creation_date":1606199768,"question_id":64981359,"body_markdown":"I was learning Maven. I created a basic example in IntelliJ to print a &quot;Hello Maven.!!&quot;, but when I was trying to run its failing with `Syntax error: Unterminated quoted string in Maven project`. \r\n\r\nI am using ,\r\n\r\n 1. jdk: 15.0.1 \r\n 2. OS: Ubuntu 20.04\r\n\r\nCode: \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello Maven.!!&quot;);\r\n        }\r\n    }\r\n\r\nPOM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AgainMaven&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nError:\r\n\r\n    Executing pre-compile tasks...\r\n    Loading Ant configuration...\r\n    Running Ant tasks...\r\n    Abnormal build process termination: \r\n    /usr/lib/jvm/jdk-15.0.1/bin/java -Xmx700m -Djava.awt.headless=true -Djdt.compiler.useSingleThread=true -Dexternal.project.config=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/external_build_system/againmaven.530df6a2 -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Dio.netty.initialSeedUniquifier=3974315237447359827 -Dfile.encoding=UTF-8 -Duser.language=en -Duser.country=GB -Didea.paths.selector=IdeaIC2020.3 -Didea.home.path=/snap/intellij-idea-community/264 -Didea.config.path=/home/shaquib/.config/JetBrains/IdeaIC2020.3 -Didea.plugins.path=/home/shaquib/.local/share/JetBrains/IdeaIC2020.3 -Djps.log.dir=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/log/build-log -Djps.fallback.jdk.home=/snap/intellij-idea-community/264/jbr -Djps.fallback.jdk.version=11.0.9 -Dio.netty.noUnsafe=true -Djava.io.tmpdir=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/compile-server/againmaven_1edc3278/_temp_ -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;/tmp/kotlin-idea-300974558856897286-is-running\\&quot; -classpath /snap/intellij-idea-community/264/plugins/java/lib/jps-launcher.jar org.jetbrains.jps.cmdline.Launcher /snap/intellij-idea-community/264/lib/annotations.jar:/snap/intellij-idea-community/264/lib/netty-codec-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/resources_en.jar:/snap/intellij-idea-community/264/lib/maven-artifact-3.6.1.jar:/snap/intellij-idea-community/264/lib/maven-resolver-util-1.3.3.jar:/snap/intellij-idea-community/264/lib/jna.jar:/snap/intellij-idea-community/264/lib/oro-2.0.8.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-transport-http-1.3.3.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/trove4j.jar:/snap/intellij-idea-community/264/lib/plexus-utils-3.2.0.jar:/snap/intellij-idea-community/264/lib/log4j.jar:/snap/intellij-idea-community/264/plugins/java/lib/javac2.jar:/snap/intellij-idea-community/264/lib/slf4j-api-1.7.25.jar:/snap/intellij-idea-community/264/lib/netty-resolver-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/asm-all-9.0.jar:/snap/intellij-idea-community/264/lib/maven-resolver-provider-3.6.1.jar:/snap/intellij-idea-community/264/lib/commons-lang3-3.10.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-javac-extension-1.jar:/snap/intellij-idea-community/264/lib/commons-logging-1.2.jar:/snap/intellij-idea-community/264/lib/plexus-interpolation-1.25.jar:/snap/intellij-idea-community/264/lib/maven-model-builder-3.6.1.jar:/snap/intellij-idea-community/264/lib/httpcore-4.4.13.jar:/snap/intellij-idea-community/264/lib/httpclient-4.5.12.jar:/snap/intellij-idea-community/264/lib/maven-resolver-impl-1.3.3.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-connector-basic-1.3.3.jar:/snap/intellij-idea-community/264/lib/netty-transport-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/util.jar:/snap/intellij-idea-community/264/lib/forms-1.1-preview.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-builders-6.jar:/snap/intellij-idea-community/264/lib/netty-buffer-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/protobuf-java-3.13.0.jar:/snap/intellij-idea-community/264/lib/maven-resolver-spi-1.3.3.jar:/snap/intellij-idea-community/264/lib/maven-repository-metadata-3.6.1.jar:/snap/intellij-idea-community/264/lib/lz4-java-1.7.1.jar:/snap/intellij-idea-community/264/lib/netty-common-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/maven-builder-support-3.6.1.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar:/snap/intellij-idea-community/264/plugins/java/lib/aether-dependency-resolver.jar:/snap/intellij-idea-community/264/lib/nanoxml-2.2.3.jar:/snap/intellij-idea-community/264/lib/maven-model-3.6.1.jar:/snap/intellij-idea-community/264/lib/idea_rt.jar:/snap/intellij-idea-community/264/lib/jps-model.jar:/snap/intellij-idea-community/264/lib/maven-resolver-api-1.3.3.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/intellij-deps-fastutil-8.4.1-4.jar:/snap/intellij-idea-community/264/lib/platform-api.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-builders.jar:/snap/intellij-idea-community/264/lib/jdom.jar:/snap/intellij-idea-community/264/lib/plexus-component-annotations-1.7.1.jar:/snap/intellij-idea-community/264/lib/qdox-2.0-M10.jar:/snap/intellij-idea-community/264/lib/jna-platform.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/failureaccess-1.0.1.jar:/snap/intellij-idea-community/264/lib/bcprov-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/bcpkix-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/jaxb-api-2.3.1.jar:/snap/intellij-idea-community/264/lib/jaxb-runtime-2.3.1.jar:/snap/intellij-idea-community/264/lib/istack-commons-runtime-3.0.7.jar:/snap/intellij-idea-community/264/lib/javax.activation-1.2.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/gradle/lib/gradle-api-6.7.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/failureaccess-1.0.1.jar:/snap/intellij-idea-community/264/lib/bcprov-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/bcpkix-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/jaxb-api-2.3.1.jar:/snap/intellij-idea-community/264/lib/jaxb-runtime-2.3.1.jar:/snap/intellij-idea-community/264/lib/istack-commons-runtime-3.0.7.jar:/snap/intellij-idea-community/264/lib/javax.activation-1.2.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/gradle/lib/gradle-api-6.7.jar:/snap/intellij-idea-community/264/plugins/ant/lib/ant-jps.jar:/snap/intellij-idea-community/264/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar:/snap/intellij-idea-community/264/plugins/eclipse/lib/eclipse-jps.jar:/snap/intellij-idea-community/264/plugins/eclipse/lib/eclipse-common.jar:/snap/intellij-idea-community/264/plugins/javaFX/lib/javaFX-jps.jar:/snap/intellij-idea-community/264/plugins/javaFX/lib/javaFX-common.jar:/snap/intellij-idea-community/264/plugins/IntelliLang/lib/java-langInjection-jps.jar:/snap/intellij-idea-community/264/plugins/Groovy/lib/groovy-jps.jar:/snap/intellij-idea-community/264/plugins/Groovy/lib/groovy-constants-rt.jar:/snap/intellij-idea-community/264/plugins/maven/lib/maven-jps.jar:/snap/intellij-idea-community/264/plugins/gradle-java/lib/gradle-jps.jar:/snap/intellij-idea-community/264/plugins/devkit/lib/devkit-jps.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib-jdk7.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib-jdk8.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-reflect.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-plugin.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-jps-common.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-common.jar:/snap/intellij-idea-community/264/plugins/android/lib/apkzlib-4.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/apksig-4.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/jps/android-jps-plugin.jar:/snap/intellij-idea-community/264/plugins/android/lib/android-jps-model.jar:/snap/intellij-idea-community/264/plugins/android/lib/build-common.jar:/snap/intellij-idea-community/264/plugins/android/lib/android-rt.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.sdk-common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.repository-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.sdklib-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.layoutlib-api-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.manifest-merger-27.0.0.0.jar org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 40679 ff621643-197d-4bc0-bdf2-22561d786a38 /home/shaquib/.cache/JetBrains/IdeaIC2020.3/compile-server\r\n    /usr/lib/jvm/jdk-15.0.1/bin/java: 2: Syntax error: Unterminated quoted string\r\n    \r\n    Executing post-compile tasks...\r\n    Loading Ant configuration...\r\n    Running Ant tasks...\r\n    Synchronizing output directories...\r\n    25/11/20, 10:02 AM - Build completed with 1 error and 0 warnings in 1 sec, 538 ms\r\n\r\n Could you please help to resolve it?","title":"Syntax error: Unterminated quoted string in Maven project","body":"<p>I was learning Maven. I created a basic example in IntelliJ to print a &quot;Hello Maven.!!&quot;, but when I was trying to run its failing with <code>Syntax error: Unterminated quoted string in Maven project</code>.</p>\n<p>I am using ,</p>\n<ol>\n<li>jdk: 15.0.1</li>\n<li>OS: Ubuntu 20.04</li>\n</ol>\n<p>Code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello Maven.!!&quot;);\n    }\n}\n</code></pre>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;AgainMaven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Executing pre-compile tasks...\nLoading Ant configuration...\nRunning Ant tasks...\nAbnormal build process termination: \n/usr/lib/jvm/jdk-15.0.1/bin/java -Xmx700m -Djava.awt.headless=true -Djdt.compiler.useSingleThread=true -Dexternal.project.config=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/external_build_system/againmaven.530df6a2 -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Dio.netty.initialSeedUniquifier=3974315237447359827 -Dfile.encoding=UTF-8 -Duser.language=en -Duser.country=GB -Didea.paths.selector=IdeaIC2020.3 -Didea.home.path=/snap/intellij-idea-community/264 -Didea.config.path=/home/shaquib/.config/JetBrains/IdeaIC2020.3 -Didea.plugins.path=/home/shaquib/.local/share/JetBrains/IdeaIC2020.3 -Djps.log.dir=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/log/build-log -Djps.fallback.jdk.home=/snap/intellij-idea-community/264/jbr -Djps.fallback.jdk.version=11.0.9 -Dio.netty.noUnsafe=true -Djava.io.tmpdir=/home/shaquib/.cache/JetBrains/IdeaIC2020.3/compile-server/againmaven_1edc3278/_temp_ -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;/tmp/kotlin-idea-300974558856897286-is-running\\&quot; -classpath /snap/intellij-idea-community/264/plugins/java/lib/jps-launcher.jar org.jetbrains.jps.cmdline.Launcher /snap/intellij-idea-community/264/lib/annotations.jar:/snap/intellij-idea-community/264/lib/netty-codec-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/resources_en.jar:/snap/intellij-idea-community/264/lib/maven-artifact-3.6.1.jar:/snap/intellij-idea-community/264/lib/maven-resolver-util-1.3.3.jar:/snap/intellij-idea-community/264/lib/jna.jar:/snap/intellij-idea-community/264/lib/oro-2.0.8.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-transport-http-1.3.3.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/trove4j.jar:/snap/intellij-idea-community/264/lib/plexus-utils-3.2.0.jar:/snap/intellij-idea-community/264/lib/log4j.jar:/snap/intellij-idea-community/264/plugins/java/lib/javac2.jar:/snap/intellij-idea-community/264/lib/slf4j-api-1.7.25.jar:/snap/intellij-idea-community/264/lib/netty-resolver-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/asm-all-9.0.jar:/snap/intellij-idea-community/264/lib/maven-resolver-provider-3.6.1.jar:/snap/intellij-idea-community/264/lib/commons-lang3-3.10.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-javac-extension-1.jar:/snap/intellij-idea-community/264/lib/commons-logging-1.2.jar:/snap/intellij-idea-community/264/lib/plexus-interpolation-1.25.jar:/snap/intellij-idea-community/264/lib/maven-model-builder-3.6.1.jar:/snap/intellij-idea-community/264/lib/httpcore-4.4.13.jar:/snap/intellij-idea-community/264/lib/httpclient-4.5.12.jar:/snap/intellij-idea-community/264/lib/maven-resolver-impl-1.3.3.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-connector-basic-1.3.3.jar:/snap/intellij-idea-community/264/lib/netty-transport-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/util.jar:/snap/intellij-idea-community/264/lib/forms-1.1-preview.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-builders-6.jar:/snap/intellij-idea-community/264/lib/netty-buffer-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/protobuf-java-3.13.0.jar:/snap/intellij-idea-community/264/lib/maven-resolver-spi-1.3.3.jar:/snap/intellij-idea-community/264/lib/maven-repository-metadata-3.6.1.jar:/snap/intellij-idea-community/264/lib/lz4-java-1.7.1.jar:/snap/intellij-idea-community/264/lib/netty-common-4.1.52.Final.jar:/snap/intellij-idea-community/264/lib/maven-builder-support-3.6.1.jar:/snap/intellij-idea-community/264/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar:/snap/intellij-idea-community/264/plugins/java/lib/aether-dependency-resolver.jar:/snap/intellij-idea-community/264/lib/nanoxml-2.2.3.jar:/snap/intellij-idea-community/264/lib/maven-model-3.6.1.jar:/snap/intellij-idea-community/264/lib/idea_rt.jar:/snap/intellij-idea-community/264/lib/jps-model.jar:/snap/intellij-idea-community/264/lib/maven-resolver-api-1.3.3.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/intellij-deps-fastutil-8.4.1-4.jar:/snap/intellij-idea-community/264/lib/platform-api.jar:/snap/intellij-idea-community/264/plugins/java/lib/jps-builders.jar:/snap/intellij-idea-community/264/lib/jdom.jar:/snap/intellij-idea-community/264/lib/plexus-component-annotations-1.7.1.jar:/snap/intellij-idea-community/264/lib/qdox-2.0-M10.jar:/snap/intellij-idea-community/264/lib/jna-platform.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/failureaccess-1.0.1.jar:/snap/intellij-idea-community/264/lib/bcprov-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/bcpkix-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/jaxb-api-2.3.1.jar:/snap/intellij-idea-community/264/lib/jaxb-runtime-2.3.1.jar:/snap/intellij-idea-community/264/lib/istack-commons-runtime-3.0.7.jar:/snap/intellij-idea-community/264/lib/javax.activation-1.2.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/gradle/lib/gradle-api-6.7.jar:/snap/intellij-idea-community/264/lib/gson-2.8.6.jar:/snap/intellij-idea-community/264/lib/guava-29.0-jre.jar:/snap/intellij-idea-community/264/lib/failureaccess-1.0.1.jar:/snap/intellij-idea-community/264/lib/bcprov-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/bcpkix-jdk15on-1.65.jar:/snap/intellij-idea-community/264/lib/jaxb-api-2.3.1.jar:/snap/intellij-idea-community/264/lib/jaxb-runtime-2.3.1.jar:/snap/intellij-idea-community/264/lib/istack-commons-runtime-3.0.7.jar:/snap/intellij-idea-community/264/lib/javax.activation-1.2.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/gradle/lib/gradle-api-6.7.jar:/snap/intellij-idea-community/264/plugins/ant/lib/ant-jps.jar:/snap/intellij-idea-community/264/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar:/snap/intellij-idea-community/264/plugins/eclipse/lib/eclipse-jps.jar:/snap/intellij-idea-community/264/plugins/eclipse/lib/eclipse-common.jar:/snap/intellij-idea-community/264/plugins/javaFX/lib/javaFX-jps.jar:/snap/intellij-idea-community/264/plugins/javaFX/lib/javaFX-common.jar:/snap/intellij-idea-community/264/plugins/IntelliLang/lib/java-langInjection-jps.jar:/snap/intellij-idea-community/264/plugins/Groovy/lib/groovy-jps.jar:/snap/intellij-idea-community/264/plugins/Groovy/lib/groovy-constants-rt.jar:/snap/intellij-idea-community/264/plugins/maven/lib/maven-jps.jar:/snap/intellij-idea-community/264/plugins/gradle-java/lib/gradle-jps.jar:/snap/intellij-idea-community/264/plugins/devkit/lib/devkit-jps.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib-jdk7.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-stdlib-jdk8.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-reflect.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-plugin.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-jps-common.jar:/snap/intellij-idea-community/264/plugins/Kotlin/lib/kotlin-common.jar:/snap/intellij-idea-community/264/plugins/android/lib/apkzlib-4.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/apksig-4.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/jps/android-jps-plugin.jar:/snap/intellij-idea-community/264/plugins/android/lib/android-jps-model.jar:/snap/intellij-idea-community/264/plugins/android/lib/build-common.jar:/snap/intellij-idea-community/264/plugins/android/lib/android-rt.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.sdk-common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.common-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.repository-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.sdklib-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.layoutlib-api-27.0.0.0.jar:/snap/intellij-idea-community/264/plugins/android/lib/studio.android.sdktools.manifest-merger-27.0.0.0.jar org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 40679 ff621643-197d-4bc0-bdf2-22561d786a38 /home/shaquib/.cache/JetBrains/IdeaIC2020.3/compile-server\n/usr/lib/jvm/jdk-15.0.1/bin/java: 2: Syntax error: Unterminated quoted string\n\nExecuting post-compile tasks...\nLoading Ant configuration...\nRunning Ant tasks...\nSynchronizing output directories...\n25/11/20, 10:02 AM - Build completed with 1 error and 0 warnings in 1 sec, 538 ms\n</code></pre>\n<p>Could you please help to resolve it?</p>\n"},{"tags":["java","compilation"],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632693178,"creation_date":1632674921,"answer_id":69336979,"question_id":69335482,"body_markdown":"[Element.getEnclosedElements()](https://docs.oracle.com/en/java/javase/11/docs/api/java.compiler/javax/lang/model/element/Element.html#getEnclosedElements())\r\nwill retrieve all\r\n[Elements](https://docs.oracle.com/en/java/javase/11/docs/api/java.compiler/javax/lang/model/element/Element.html).\r\nInstead try changing your `getGetterMethods(TypeElement)` to something like:\r\n\r\n```java\r\n...\r\nimport javax.lang.model.util.ElementFilter;\r\n...\r\npublic List&lt;? extends VariableElement&gt; getGetterMethods(TypeElement targetClass) {\r\n    List&lt;VariableElement&gt; fields =\r\n        ElementFilter.fieldsIn(Collections.singleton(targetClass)).stream()\r\n        .filter(t -&gt; (! t.getModifiers().contains(Modifier.STATIC)))\r\n        .filter(t -&gt; (t.getSimpleName().toString().startsWith(&quot;get&quot;)\r\n                      || t.getSimpleName().toString().startsWith(&quot;is&quot;)))\r\n        .collect(Collectors.toList());\r\n\r\n    return fields;\r\n}\r\n```\r\n\r\n(Similar change to your `getFields()` method without the filtering.)\r\n","title":"The types of elements in annotation processor are not from javax.lang.model.element package","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.compiler/javax/lang/model/element/Element.html#getEnclosedElements()\" rel=\"nofollow noreferrer\">Element.getEnclosedElements()</a>\nwill retrieve all\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.compiler/javax/lang/model/element/Element.html\" rel=\"nofollow noreferrer\">Elements</a>.\nInstead try changing your <code>getGetterMethods(TypeElement)</code> to something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nimport javax.lang.model.util.ElementFilter;\n...\npublic List&lt;? extends VariableElement&gt; getGetterMethods(TypeElement targetClass) {\n    List&lt;VariableElement&gt; fields =\n        ElementFilter.fieldsIn(Collections.singleton(targetClass)).stream()\n        .filter(t -&gt; (! t.getModifiers().contains(Modifier.STATIC)))\n        .filter(t -&gt; (t.getSimpleName().toString().startsWith(&quot;get&quot;)\n                      || t.getSimpleName().toString().startsWith(&quot;is&quot;)))\n        .collect(Collectors.toList());\n\n    return fields;\n}\n</code></pre>\n<p>(Similar change to your <code>getFields()</code> method without the filtering.)</p>\n"}],"owner":{"account_id":5040685,"reputation":4795,"user_id":4048191,"accept_rate":48,"display_name":"Darlyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632693178,"creation_date":1632663516,"question_id":69335482,"body_markdown":"I have annotation parser, inside it i use this piece of code:\r\n\r\n            Set&lt;? extends Element&gt; annotatedElements = roundEnv.getElementsAnnotatedWith(annotation);\r\n            for (Element el : annotatedElements) {\r\n                try {\r\n                   TypeElement targetClass = (TypeElement) el;\r\n                   List&lt;? extends VariableElement&gt; fields = getFields(targetClass);\r\n                   for (VariableElement e : fields) {\r\n                       String type = getType(e);\r\n                       String name = getVariableName(e));                              \r\n                   }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\nAnd methods:\r\n\r\n    public List&lt;? extends VariableElement&gt; getFields(TypeElement targetClass) {\r\n        List&lt;? extends Element&gt; enclosedElements = targetClass.getEnclosedElements();\r\n        List&lt;VariableElement&gt; fields = new ArrayList&lt;&gt;(enclosedElements.size());\r\n        for (Element field : enclosedElements) {\r\n            if (field.getKind() == ElementKind.FIELD &amp;&amp; !field.getModifiers().contains(Modifier.STATIC)) {\r\n                fields.add((VariableElement) field);\r\n            }\r\n        }\r\n        return fields;\r\n    }\r\n\r\n\r\n    public String getType(VariableElement variable) {\r\n        if (variable instanceof PrimitiveType) {\r\n            return variable.asType().toString();\r\n        }\r\n        return ((DeclaredType) variable.asType()).asElement().toString();\r\n    }\r\n\r\nThe first methods gets all non static fields inside the class.\r\n\r\n And the second method should get type of the variable as String, so &quot;String&quot;, &quot;boolean&quot;, &quot;MyObject&quot; and so on. However when the field is type of `boolean` i get this error:\r\n\r\n&gt; com.sun.tools.javac.code.Type$JCPrimitiveType cannot be cast to\r\n&gt; javax.lang.model.type.DeclaredType\r\n\r\nI expected boolean and other primitive types to be type of `PrimitiveType` however for some reason it is `com.sun.tools.javac.code.Type$JCPrimitiveType`\r\n\r\n\r\nSame, when i try to get all getters from the class:\r\n\r\n\r\n    public List&lt;? extends VariableElement&gt; getGetterMethods(TypeElement targetClass) {\r\n        List&lt;? extends Element&gt; enclosedElements = targetClass.getEnclosedElements();\r\n        List&lt;VariableElement&gt; fields = new ArrayList&lt;&gt;(enclosedElements.size());\r\n        for (Element field : enclosedElements) {\r\n            if (field.getKind() == ElementKind.METHOD &amp;&amp;\r\n                    !field.getModifiers().contains(Modifier.STATIC) &amp;&amp;\r\n                    (field.getSimpleName().toString().startsWith(&quot;get&quot;) || field.getSimpleName().toString().startsWith(&quot;is&quot;))) {\r\n                fields.add((VariableElement) field);\r\n            }\r\n        }\r\n        return fields;\r\n    }\r\n\r\nI get error:\r\n\r\n&gt; java.lang.ClassCastException:\r\n&gt; com.sun.tools.javac.code.Symbol$MethodSymbol cannot be cast to\r\n&gt; javax.lang.model.element.VariableElement\r\n\r\n\r\nIt seems `com.sun.tools.javac.code` package should be part of the JDK however I cannot find it anyhwere. And thus i cannot import it and maybe make some adjustments.\r\n\r\nWHat is the best way to deal with this error? Even if i could import the package, it seems the types of it are weirdly assigned, as i would expect types of it to be part of `javax.lang.model.element` package.\r\n\r\nThanks for help!\r\n\r\n//edit\r\n\r\naccording to docs :\r\n\r\n    public static class Type.JCPrimitiveType\r\n    extends Type\r\n    implements PrimitiveType\r\n\r\nso the Type.JCPrimitiveType should be instanceOf `PrimitiveType`, yet the `if` does not hold true when executing for some reason\r\n\r\n\r\n","title":"The types of elements in annotation processor are not from javax.lang.model.element package","body":"<p>I have annotation parser, inside it i use this piece of code:</p>\n<pre><code>        Set&lt;? extends Element&gt; annotatedElements = roundEnv.getElementsAnnotatedWith(annotation);\n        for (Element el : annotatedElements) {\n            try {\n               TypeElement targetClass = (TypeElement) el;\n               List&lt;? extends VariableElement&gt; fields = getFields(targetClass);\n               for (VariableElement e : fields) {\n                   String type = getType(e);\n                   String name = getVariableName(e));                              \n               }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>And methods:</p>\n<pre><code>public List&lt;? extends VariableElement&gt; getFields(TypeElement targetClass) {\n    List&lt;? extends Element&gt; enclosedElements = targetClass.getEnclosedElements();\n    List&lt;VariableElement&gt; fields = new ArrayList&lt;&gt;(enclosedElements.size());\n    for (Element field : enclosedElements) {\n        if (field.getKind() == ElementKind.FIELD &amp;&amp; !field.getModifiers().contains(Modifier.STATIC)) {\n            fields.add((VariableElement) field);\n        }\n    }\n    return fields;\n}\n\n\npublic String getType(VariableElement variable) {\n    if (variable instanceof PrimitiveType) {\n        return variable.asType().toString();\n    }\n    return ((DeclaredType) variable.asType()).asElement().toString();\n}\n</code></pre>\n<p>The first methods gets all non static fields inside the class.</p>\n<p>And the second method should get type of the variable as String, so &quot;String&quot;, &quot;boolean&quot;, &quot;MyObject&quot; and so on. However when the field is type of <code>boolean</code> i get this error:</p>\n<blockquote>\n<p>com.sun.tools.javac.code.Type$JCPrimitiveType cannot be cast to\njavax.lang.model.type.DeclaredType</p>\n</blockquote>\n<p>I expected boolean and other primitive types to be type of <code>PrimitiveType</code> however for some reason it is <code>com.sun.tools.javac.code.Type$JCPrimitiveType</code></p>\n<p>Same, when i try to get all getters from the class:</p>\n<pre><code>public List&lt;? extends VariableElement&gt; getGetterMethods(TypeElement targetClass) {\n    List&lt;? extends Element&gt; enclosedElements = targetClass.getEnclosedElements();\n    List&lt;VariableElement&gt; fields = new ArrayList&lt;&gt;(enclosedElements.size());\n    for (Element field : enclosedElements) {\n        if (field.getKind() == ElementKind.METHOD &amp;&amp;\n                !field.getModifiers().contains(Modifier.STATIC) &amp;&amp;\n                (field.getSimpleName().toString().startsWith(&quot;get&quot;) || field.getSimpleName().toString().startsWith(&quot;is&quot;))) {\n            fields.add((VariableElement) field);\n        }\n    }\n    return fields;\n}\n</code></pre>\n<p>I get error:</p>\n<blockquote>\n<p>java.lang.ClassCastException:\ncom.sun.tools.javac.code.Symbol$MethodSymbol cannot be cast to\njavax.lang.model.element.VariableElement</p>\n</blockquote>\n<p>It seems <code>com.sun.tools.javac.code</code> package should be part of the JDK however I cannot find it anyhwere. And thus i cannot import it and maybe make some adjustments.</p>\n<p>WHat is the best way to deal with this error? Even if i could import the package, it seems the types of it are weirdly assigned, as i would expect types of it to be part of <code>javax.lang.model.element</code> package.</p>\n<p>Thanks for help!</p>\n<p>//edit</p>\n<p>according to docs :</p>\n<pre><code>public static class Type.JCPrimitiveType\nextends Type\nimplements PrimitiveType\n</code></pre>\n<p>so the Type.JCPrimitiveType should be instanceOf <code>PrimitiveType</code>, yet the <code>if</code> does not hold true when executing for some reason</p>\n"},{"tags":["java","kotlin","audio","system","javasound"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1632657286,"post_id":69334280,"comment_id":122547164,"body_markdown":"Usually you have to make some sort of call to the operating system to setup usage of buttons like that. This isn&#39;t something that Java sound handles, you would need to use some other library or something like [tag:jna] to make the appropriate OS calls.","body":"Usually you have to make some sort of call to the operating system to setup usage of buttons like that. This isn&#39;t something that Java sound handles, you would need to use some other library or something like <a href=\"https://stackoverflow.com/questions/tagged/jna\">jna</a> to make the appropriate OS calls."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1632675038,"post_id":69334280,"comment_id":122551197,"body_markdown":"I think this would depend on the platform/OS.â€‚Is this for macOS, Windows, Linux, Android, iOS, a web browserâ€¦?","body":"I think this would depend on the platform/OS.â€‚Is this for macOS, Windows, Linux, Android, iOS, a web browserâ€¦?"},{"owner":{"account_id":9196885,"reputation":959,"user_id":6835329,"display_name":"Ameer Taweel"},"score":0,"creation_date":1632691282,"post_id":69334280,"comment_id":122554763,"body_markdown":"I want it to run mainly on Ubuntu...","body":"I want it to run mainly on Ubuntu..."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632692094,"creation_date":1632692094,"answer_id":69339124,"question_id":69334280,"body_markdown":"If I understand correctly, you have an application for playing back sound, but when control keys (e.g., F10 in particular) are pressed, your browser is receiving the key, not your application.\r\n\r\nIf that is the case, the question seems is about [how to use the Swing KeyListener][1]. The [KeyEvent API][2] shows that the keycode for the &lt;F10&gt; key to be `VK_F10`. Are you having problems with implementing this? Kotlin might have it&#39;s own way of doing key listening, though. I did find [this SO question on Kotlin KeyListeners][3].\r\n\r\nAs far as starting or stopping a sound, that is usually accomplished by wrapping the audio playback class (`Clip` or `SourceDataLine`) in a class that can receive and handle commands to start, stop or continue. Are you having problems with implementing this?\r\n\r\nThe code that links these two functional areas should be loosely coupled. With that, pursing the two matters as two separate questions will be beneficial.\r\n\r\nIf your issue is a specific OS implementation question, it would be best to clarify that in the question with additional information.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/KeyEvent.html#VK_F10\r\n  [3]: https://stackoverflow.com/questions/62864011/convert-java-keylistener-implementation-to-kotlin","title":"Java - Use music playback control buttons","body":"<p>If I understand correctly, you have an application for playing back sound, but when control keys (e.g., F10 in particular) are pressed, your browser is receiving the key, not your application.</p>\n<p>If that is the case, the question seems is about <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">how to use the Swing KeyListener</a>. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/KeyEvent.html#VK_F10\" rel=\"nofollow noreferrer\">KeyEvent API</a> shows that the keycode for the  key to be <code>VK_F10</code>. Are you having problems with implementing this? Kotlin might have it's own way of doing key listening, though. I did find <a href=\"https://stackoverflow.com/questions/62864011/convert-java-keylistener-implementation-to-kotlin\">this SO question on Kotlin KeyListeners</a>.</p>\n<p>As far as starting or stopping a sound, that is usually accomplished by wrapping the audio playback class (<code>Clip</code> or <code>SourceDataLine</code>) in a class that can receive and handle commands to start, stop or continue. Are you having problems with implementing this?</p>\n<p>The code that links these two functional areas should be loosely coupled. With that, pursing the two matters as two separate questions will be beneficial.</p>\n<p>If your issue is a specific OS implementation question, it would be best to clarify that in the question with additional information.</p>\n"}],"owner":{"account_id":9196885,"reputation":959,"user_id":6835329,"display_name":"Ameer Taweel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632692094,"creation_date":1632654225,"question_id":69334280,"body_markdown":"Usually on keyboards there is buttons to stop the current track, go to the next track, or to the previous one. When I&#39;m playing sound on YouTube for example, and press the F10 key, the video stops.\r\n\r\nI&#39;m creating a Java/Kotlin music player. What currently happens when I have music playing, and then I click F10, is that the last YouTube video I have in an open tab starts playing, and the music player does not get effected at all.\r\n\r\nWhat I want is: When I click F10 (or the other control keys), I want my music player to get affected by them, not YouTube.\r\n\r\nHow can I achieve that?","title":"Java - Use music playback control buttons","body":"<p>Usually on keyboards there is buttons to stop the current track, go to the next track, or to the previous one. When I'm playing sound on YouTube for example, and press the F10 key, the video stops.</p>\n<p>I'm creating a Java/Kotlin music player. What currently happens when I have music playing, and then I click F10, is that the last YouTube video I have in an open tab starts playing, and the music player does not get effected at all.</p>\n<p>What I want is: When I click F10 (or the other control keys), I want my music player to get affected by them, not YouTube.</p>\n<p>How can I achieve that?</p>\n"},{"tags":["java","junit","gradle"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1429984930,"post_id":29868724,"comment_id":47862569,"body_markdown":"Look at your source sets...","body":"Look at your source sets..."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1429984974,"creation_date":1429984974,"answer_id":29868790,"question_id":29868724,"body_markdown":"You&#39;re saying that the **main** SourceSet should contain the test directory. This directory should be set in the **test** SourceSet.","title":"Gradle not running tests","body":"<p>You're saying that the <strong>main</strong> SourceSet should contain the test directory. This directory should be set in the <strong>test</strong> SourceSet.</p>\n"},{"tags":[],"owner":{"account_id":6602312,"reputation":698,"user_id":5100213,"accept_rate":79,"display_name":"timekeeper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570605437,"creation_date":1570605437,"answer_id":58298911,"question_id":29868724,"body_markdown":"Replace sourceSets with below simple snippet:\r\n\r\n```\r\nsourceSets.main.java.srcDirs = [&#39;src&#39;]\r\nsourceSets.test.java.srcDirs = [&#39;tst&#39;]\r\n```","title":"Gradle not running tests","body":"<p>Replace sourceSets with below simple snippet:</p>\n\n<pre><code>sourceSets.main.java.srcDirs = ['src']\nsourceSets.test.java.srcDirs = ['tst']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72209,"reputation":3901,"user_id":208581,"display_name":"Rob Bygrave"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1632692006,"creation_date":1632692006,"answer_id":69339114,"question_id":29868724,"body_markdown":"A note for people using Junit5, we need to include the below to enable it - that is, running junit5 tests is not enabled by default.\r\n \r\n\r\n    test {\r\n      useJUnitPlatform()\r\n    }","title":"Gradle not running tests","body":"<p>A note for people using Junit5, we need to include the below to enable it - that is, running junit5 tests is not enabled by default.</p>\n<pre><code>test {\n  useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":1998416,"reputation":515,"user_id":1790040,"accept_rate":92,"display_name":"jvermeulen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47894,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":29868790,"answer_count":3,"score":27,"last_activity_date":1632692006,"creation_date":1429984665,"question_id":29868724,"body_markdown":"For some reason gradle is not running my tests. When i execute `gradle cleanTest test -i` i get:\r\n\r\n\tSkipping task &#39;:compileJava&#39; as it is up-to-date (took 0.262 secs).\r\n\t:compileJava UP-TO-DATE\r\n\t:compileJava (Thread[main,5,main]) completed. Took 0.266 secs.\r\n\t:processResources (Thread[main,5,main]) started.\r\n\t:processResources\r\n\tSkipping task &#39;:processResources&#39; as it has no source files.\r\n\t:processResources UP-TO-DATE\r\n\t:processResources (Thread[main,5,main]) completed. Took 0.001 secs.\r\n\t:classes (Thread[main,5,main]) started.\r\n\t:classes\r\n\tSkipping task &#39;:classes&#39; as it has no actions.\r\n\t:classes UP-TO-DATE\r\n\t:classes (Thread[main,5,main]) completed. Took 0.0 secs.\r\n\t:compileTestJava (Thread[main,5,main]) started.\r\n\t:compileTestJava\r\n\tSkipping task &#39;:compileTestJava&#39; as it has no source files.\r\n\t:compileTestJava UP-TO-DATE\r\n\t:compileTestJava (Thread[main,5,main]) completed. Took 0.001 secs.\r\n\t:processTestResources (Thread[main,5,main]) started.\r\n\t:processTestResources\r\n\tSkipping task &#39;:processTestResources&#39; as it is up-to-date (took 0.004 secs).\r\n\t:processTestResources UP-TO-DATE\r\n\t:processTestResources (Thread[main,5,main]) completed. Took 0.007 secs.\r\n\t:testClasses (Thread[main,5,main]) started.\r\n\t:testClasses\r\n\tSkipping task &#39;:testClasses&#39; as it has no actions.\r\n\t:testClasses UP-TO-DATE\r\n\t:testClasses (Thread[main,5,main]) completed. Took 0.001 secs.\r\n\t:test (Thread[main,5,main]) started.\r\n\t:test\r\n\tfile or directory &#39;/Users/jan/2014-2015-groep-05/VoPro/build/classes/test&#39;, not found\r\n\tSkipping task &#39;:test&#39; as it has no source files.\r\n\r\nMy test are in the folder `./test/`. And this is my gradle config:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n\r\n    test {\r\n      testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;, &quot;standardOut&quot;, &quot;standardError&quot;\r\n      }\r\n      dependsOn &#39;cleanTest&#39;\r\n    }\r\n\r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n      testCompile(&quot;junit:junit&quot;)\r\n    }\r\n\r\n    sourceSets {\r\n      main {\r\n        java {\r\n          srcDir &#39;src&#39;\r\n          srcDir &#39;test&#39;\r\n        }\r\n      }\r\n    }\r\n\r\nI can&#39;t seem to find what the problem is. Gradle does not recognize any tests, since both test and cleanTest are always up to date, however i did add test/ to my sourceSets. ","title":"Gradle not running tests","body":"<p>For some reason gradle is not running my tests. When i execute <code>gradle cleanTest test -i</code> i get:</p>\n\n<pre><code>Skipping task ':compileJava' as it is up-to-date (took 0.262 secs).\n:compileJava UP-TO-DATE\n:compileJava (Thread[main,5,main]) completed. Took 0.266 secs.\n:processResources (Thread[main,5,main]) started.\n:processResources\nSkipping task ':processResources' as it has no source files.\n:processResources UP-TO-DATE\n:processResources (Thread[main,5,main]) completed. Took 0.001 secs.\n:classes (Thread[main,5,main]) started.\n:classes\nSkipping task ':classes' as it has no actions.\n:classes UP-TO-DATE\n:classes (Thread[main,5,main]) completed. Took 0.0 secs.\n:compileTestJava (Thread[main,5,main]) started.\n:compileTestJava\nSkipping task ':compileTestJava' as it has no source files.\n:compileTestJava UP-TO-DATE\n:compileTestJava (Thread[main,5,main]) completed. Took 0.001 secs.\n:processTestResources (Thread[main,5,main]) started.\n:processTestResources\nSkipping task ':processTestResources' as it is up-to-date (took 0.004 secs).\n:processTestResources UP-TO-DATE\n:processTestResources (Thread[main,5,main]) completed. Took 0.007 secs.\n:testClasses (Thread[main,5,main]) started.\n:testClasses\nSkipping task ':testClasses' as it has no actions.\n:testClasses UP-TO-DATE\n:testClasses (Thread[main,5,main]) completed. Took 0.001 secs.\n:test (Thread[main,5,main]) started.\n:test\nfile or directory '/Users/jan/2014-2015-groep-05/VoPro/build/classes/test', not found\nSkipping task ':test' as it has no source files.\n</code></pre>\n\n<p>My test are in the folder <code>./test/</code>. And this is my gradle config:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\ntest {\n  testLogging {\n    events \"passed\", \"skipped\", \"failed\", \"standardOut\", \"standardError\"\n  }\n  dependsOn 'cleanTest'\n}\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n  testCompile(\"junit:junit\")\n}\n\nsourceSets {\n  main {\n    java {\n      srcDir 'src'\n      srcDir 'test'\n    }\n  }\n}\n</code></pre>\n\n<p>I can't seem to find what the problem is. Gradle does not recognize any tests, since both test and cleanTest are always up to date, however i did add test/ to my sourceSets. </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1632693390,"post_id":69339102,"comment_id":122555117,"body_markdown":"You are calling `getLastKnownLocation()` even if you do not have the permission. Your `requestLocationPermission()` is not a blocking call -- it will return a long time before the user grants you permission.","body":"You are calling <code>getLastKnownLocation()</code> even if you do not have the permission. Your <code>requestLocationPermission()</code> is not a blocking call -- it will return a long time before the user grants you permission."},{"owner":{"account_id":22867292,"reputation":1,"user_id":17010904,"display_name":"Dev Aymen"},"score":0,"creation_date":1632779327,"post_id":69339102,"comment_id":122581068,"body_markdown":"Thank you that was true","body":"Thank you that was true"}],"owner":{"account_id":22867292,"reputation":1,"user_id":17010904,"display_name":"Dev Aymen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632691883,"creation_date":1632691883,"question_id":69339102,"body_markdown":"i don&#39;t know why i am getting this error??  \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_basic);\r\n        \r\n        LocationManager lm = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager\r\n                .PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager\r\n                .PERMISSION_GRANTED) {\r\n\r\n            requestLocationPermission();\r\n        }\r\n        Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);/\r\n        locationIn(location);\r\n\r\n        \r\n    private void locationIn( Location location) {\r\n\r\n        double latitude = location.getLatitude();\r\n        double longitude = location.getLongitude();\r\n        double timezone = 1;\r\n    }\r\n\r\n    private void requestLocationPermission() {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)&amp;&amp;\r\n                ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_COARSE_LOCATION)){\r\n\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Permission Needed&quot;)\r\n                    .setMessage(&quot;This permission needed to calculate prayers times&quot;)\r\n                    .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            ActivityCompat.requestPermissions(basicActivity.this,\r\n                                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                                    LOCATION_PERMISSION_CODE);\r\n                        }\r\n                    }).setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }).create().show();\r\n        }else {\r\n            ActivityCompat.requestPermissions(basicActivity.this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                    LOCATION_PERMISSION_CODE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode==LOCATION_PERMISSION_CODE){\r\n            if (grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n                //Toast.makeText(this,&quot;Location permission accepted&quot;,Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                Toast.makeText(this,&quot;Location denied&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nand this is all my manifest permissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\nwhen first I got this error I have made some research and its ends to me adding the runtime permission and even that nothing change I still getting this error. what caused this problem?   ","title":"why i am getting tise error &quot; &#39;gps&#39; location provider requires ACCESS_FINE_LOCATION permission.&quot;","body":"<p>i don't know why i am getting this error??</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_basic);\n    \n    LocationManager lm = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\n\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager\n            .PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager\n            .PERMISSION_GRANTED) {\n\n        requestLocationPermission();\n    }\n    Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);/\n    locationIn(location);\n\n    \nprivate void locationIn( Location location) {\n\n    double latitude = location.getLatitude();\n    double longitude = location.getLongitude();\n    double timezone = 1;\n}\n\nprivate void requestLocationPermission() {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)&amp;&amp;\n            ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_COARSE_LOCATION)){\n\n        new AlertDialog.Builder(this)\n                .setTitle(&quot;Permission Needed&quot;)\n                .setMessage(&quot;This permission needed to calculate prayers times&quot;)\n                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        ActivityCompat.requestPermissions(basicActivity.this,\n                                new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},\n                                LOCATION_PERMISSION_CODE);\n                    }\n                }).setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                dialogInterface.dismiss();\n            }\n        }).create().show();\n    }else {\n        ActivityCompat.requestPermissions(basicActivity.this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},\n                LOCATION_PERMISSION_CODE);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode==LOCATION_PERMISSION_CODE){\n        if (grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\n            //Toast.makeText(this,&quot;Location permission accepted&quot;,Toast.LENGTH_SHORT).show();\n        }else {\n            Toast.makeText(this,&quot;Location denied&quot;,Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>and this is all my manifest permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n<p>when first I got this error I have made some research and its ends to me adding the runtime permission and even that nothing change I still getting this error. what caused this problem?</p>\n"},{"tags":["java","string","split"],"answers":[{"tags":[],"owner":{"account_id":9197571,"reputation":464,"user_id":6835804,"display_name":"Ran Koretzki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482503070,"creation_date":1482503070,"answer_id":41303176,"question_id":41303088,"body_markdown":"use this, should do the trick\r\n\r\n    String.split(&quot;[\\\\r\\\\n]+&quot;)","title":"How to split a java string based on newline character","body":"<p>use this, should do the trick</p>\n\n<pre><code>String.split(\"[\\\\r\\\\n]+\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3501121,"reputation":479,"user_id":2927867,"accept_rate":29,"display_name":"Rajashekhar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482504051,"creation_date":1482503079,"answer_id":41303179,"question_id":41303088,"body_markdown":"When we split your string with \\\\n it is giving expected output. But it is better to use `System.getProperty(&quot;line.separator&quot;)` instead of `\\n`\r\n\r\n    String s=&quot;9890\\n5432\\n3432\\n9891\\nnull&quot;;\r\n    s = StringEscapeUtils.escapeJava(s);\r\n    s= StringEscapeUtils.escapeXml10(s);\r\n    \r\n    for (String number:s.split(&quot;\\n&quot;)) {\r\n    \tSystem.out.println(number);\r\n\t}\r\n\r\n**result**\r\n\r\n    9890\r\n    5432\r\n    3432\r\n    9891\r\n    null","title":"How to split a java string based on newline character","body":"<p>When we split your string with \\n it is giving expected output. But it is better to use <code>System.getProperty(\"line.separator\")</code> instead of <code>\\n</code></p>\n\n<pre><code>String s=\"9890\\n5432\\n3432\\n9891\\nnull\";\ns = StringEscapeUtils.escapeJava(s);\ns= StringEscapeUtils.escapeXml10(s);\n\nfor (String number:s.split(\"\\n\")) {\n    System.out.println(number);\n}\n</code></pre>\n\n<p><strong>result</strong></p>\n\n<pre><code>9890\n5432\n3432\n9891\nnull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364496,"reputation":489,"user_id":4938863,"accept_rate":43,"display_name":"Pardeep Kr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1482503401,"creation_date":1482503401,"answer_id":41303249,"question_id":41303088,"body_markdown":"Thanks everybody for replying. But i got it working using following approach:\r\n\r\n    String pattern = Pattern.quote(&quot;\\\\&quot; + &quot;n&quot;);\r\n    String lines[] = toUnicodeEncoded.split(pattern);","title":"How to split a java string based on newline character","body":"<p>Thanks everybody for replying. But i got it working using following approach:</p>\n\n<pre><code>String pattern = Pattern.quote(\"\\\\\" + \"n\");\nString lines[] = toUnicodeEncoded.split(pattern);\n</code></pre>\n"}],"owner":{"account_id":6364496,"reputation":489,"user_id":4938863,"accept_rate":43,"display_name":"Pardeep Kr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41303249,"answer_count":3,"score":2,"last_activity_date":1632691073,"creation_date":1482502671,"question_id":41303088,"body_markdown":"I have a string in java defined as below:\r\n\r\n    String numbers = null;\r\n    for (int i= 0; i &lt; contactNumberList.size();i++)\r\n    {\r\n        numbers = contactNumberList.get(i) + &quot;\\n&quot; + numbers;\r\n    }\r\n    \r\nwhere contactNumberList contains four items as : 9891, 3432, 5432, 9890.\r\nSo after the loop i have **numbers string** as:\r\n**9890\\n5432\\n3432\\n9891\\nnull**\r\n\r\nThen i passed the above string through following APIs.\r\n\r\n    String toUnicodeEncoded = StringEscapeUtils.escapeJava(numbers);\r\n    toUnicodeEncoded = StringEscapeUtils.escapeXml10(toUnicodeEncoded);\r\n\r\nNow when i try to print the string toUnicodeEncoded character by character as below:\r\n\r\n    for (int i =0;i&lt;toUnicodeEncoded.length();i++)\r\n    {\r\n       Logger.log(&quot;chat at  &quot;+i + &quot; = &quot;+(toUnicodeEncoded.charAt(i)));\r\n    }\r\n\r\nIt gives :\r\n\r\n    char at 0 = 9\r\n    char at 1 = 8\r\n    char at 2 = 9\r\n    char at 3 = 0\r\n    char at 4 = \\\r\n    char at 5 = n\r\nand so on . \r\n\r\nMy point is &quot;\\n&quot; became two characters \\  and n .\r\n    Now i wanted to split the **string toUnicodeEncoded** based on &quot;\\n&quot; using the following APIs:\r\n    \r\n    String lines[] = toUnicodeEncoded.split(&quot;\\\\n&quot;);\r\n   \r\n\r\nBut its not able to split it because now &quot;\\n&quot; has become \\ and n. How do i split toUnicodeEncoded string by &quot;\\n&quot; or new line character.\r\n\r\nBAsically i want the output as :\r\n\r\n    9890\r\n    5432\r\n    3432\r\n    9891\r\n    null\r\n    \r\ni.e all four numbers . How do i do it.\r\n\r\n \r\n","title":"How to split a java string based on newline character","body":"<p>I have a string in java defined as below:</p>\n\n<pre><code>String numbers = null;\nfor (int i= 0; i &lt; contactNumberList.size();i++)\n{\n    numbers = contactNumberList.get(i) + \"\\n\" + numbers;\n}\n</code></pre>\n\n<p>where contactNumberList contains four items as : 9891, 3432, 5432, 9890.\nSo after the loop i have <strong>numbers string</strong> as:\n<strong>9890\\n5432\\n3432\\n9891\\nnull</strong></p>\n\n<p>Then i passed the above string through following APIs.</p>\n\n<pre><code>String toUnicodeEncoded = StringEscapeUtils.escapeJava(numbers);\ntoUnicodeEncoded = StringEscapeUtils.escapeXml10(toUnicodeEncoded);\n</code></pre>\n\n<p>Now when i try to print the string toUnicodeEncoded character by character as below:</p>\n\n<pre><code>for (int i =0;i&lt;toUnicodeEncoded.length();i++)\n{\n   Logger.log(\"chat at  \"+i + \" = \"+(toUnicodeEncoded.charAt(i)));\n}\n</code></pre>\n\n<p>It gives :</p>\n\n<pre><code>char at 0 = 9\nchar at 1 = 8\nchar at 2 = 9\nchar at 3 = 0\nchar at 4 = \\\nchar at 5 = n\n</code></pre>\n\n<p>and so on . </p>\n\n<p>My point is \"\\n\" became two characters \\  and n .\n    Now i wanted to split the <strong>string toUnicodeEncoded</strong> based on \"\\n\" using the following APIs:</p>\n\n<pre><code>String lines[] = toUnicodeEncoded.split(\"\\\\n\");\n</code></pre>\n\n<p>But its not able to split it because now \"\\n\" has become \\ and n. How do i split toUnicodeEncoded string by \"\\n\" or new line character.</p>\n\n<p>BAsically i want the output as :</p>\n\n<pre><code>9890\n5432\n3432\n9891\nnull\n</code></pre>\n\n<p>i.e all four numbers . How do i do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-admin"],"answers":[{"tags":[],"owner":{"account_id":6145098,"reputation":599,"user_id":4791305,"accept_rate":67,"display_name":"Ivan Timoshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581949713,"creation_date":1581949713,"answer_id":60264595,"question_id":60263490,"body_markdown":"It&#39;s not enough just to add the spring security starter. You have to add a configuration class annotated with `@EnableWebSecurity`. Typically it&#39;d be something like the following class, where you could configure things that are related to security of your app.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/css/**&quot;, &quot;/index&quot;).permitAll();\t\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth\r\n    \t\t\t.inMemoryAuthentication()\r\n    \t\t\t\t.withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n    \t}\r\n    }","title":"Spring Boot Admin - Basic Auth","body":"<p>It's not enough just to add the spring security starter. You have to add a configuration class annotated with <code>@EnableWebSecurity</code>. Typically it'd be something like the following class, where you could configure things that are related to security of your app.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(\"/css/**\", \"/index\").permitAll();  \n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(\"user\").password(\"password\").roles(\"USER\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10770245,"reputation":79,"user_id":9295584,"display_name":"Abhijeet Gite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622341760,"creation_date":1622341760,"answer_id":67757183,"question_id":60263490,"body_markdown":"Make sure you are adding these lines in client properties file.\r\nthese credential will be submitted by admin server at the time of registration\r\n\r\n    spring.boot.admin.client.instance.metadata.user.name=client_username\r\n    spring.boot.admin.client.instance.metadata.user.password=client_password","title":"Spring Boot Admin - Basic Auth","body":"<p>Make sure you are adding these lines in client properties file.\nthese credential will be submitted by admin server at the time of registration</p>\n<pre><code>spring.boot.admin.client.instance.metadata.user.name=client_username\nspring.boot.admin.client.instance.metadata.user.password=client_password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22698759,"reputation":1,"user_id":16866498,"display_name":"Amit Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632690510,"creation_date":1632669309,"answer_id":69336257,"question_id":60263490,"body_markdown":"@Marcos Vidolin All of your code snippets are correct, simply update configure method body in SecurityConfig with:\r\n\r\n```java\r\nauth\r\n    .inMemoryAuthentication()\r\n    .withUser(&quot;admin&quot;)\r\n    .password(&quot;{noop}admin&quot;)\r\n    .roles(&quot;ADMIN&quot;);\r\n```\r\n\r\nIt will fix the login error.","title":"Spring Boot Admin - Basic Auth","body":"<p>@Marcos Vidolin All of your code snippets are correct, simply update configure method body in SecurityConfig with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>auth\n    .inMemoryAuthentication()\n    .withUser(&quot;admin&quot;)\n    .password(&quot;{noop}admin&quot;)\n    .roles(&quot;ADMIN&quot;);\n</code></pre>\n<p>It will fix the login error.</p>\n"}],"owner":{"account_id":4924793,"reputation":196,"user_id":3966333,"accept_rate":75,"display_name":"Marcos Vidolin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1632690510,"creation_date":1581945960,"question_id":60263490,"body_markdown":"I&#39;m setting up basic auth in my sb-admin and client, but the client can&#39;t register (401 unauthorized). Everything works without auth.\r\n\r\n**SB-Admin configuration:**\r\n\r\n- application.properties\r\n```\r\n    server.port=8080\r\n    \r\n    spring.application.name=SB Admin\r\n    spring.boot.admin.ui.title=SB Admin\r\n    \r\n    spring.security.user.name=admin\r\n    spring.security.user.password=admin\r\n```\r\n\r\n- build.gradle\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;de.codecentric:spring-boot-admin-starter-server&#39;\r\n```\r\n\r\n**Client configuration:**\r\n\r\n- application.properties\r\n\r\n```\r\n    server.port=9000\r\n    management.endpoints.web.exposure.include=*\r\n    management.security.enabled=false\r\n    \r\n    spring.boot.admin.client.enabled=true\r\n    spring.boot.admin.client.url=http://localhost:8080\r\n    spring.boot.admin.client.username=admin\r\n    spring.boot.admin.client.password=admin\r\n```\r\n\r\n- build.gradle\r\n\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;de.codecentric:spring-boot-admin-starter-client&#39;\r\n```\r\n\r\n**Security Config**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final String adminContextPath;\r\n    private final AdminServerProperties adminServer;\r\n\r\n    public SecurityConfig(AdminServerProperties adminServerProperties) {\r\n        this.adminContextPath = adminServerProperties.getContextPath();\r\n        this.adminServer = adminServerProperties;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\r\n        successHandler.setTargetUrlParameter(&quot;redirectTo&quot;);\r\n        successHandler.setDefaultTargetUrl(this.adminServer.path(&quot;/&quot;));\r\n\r\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.antMatchers(this.adminServer.path(&quot;/assets/**&quot;))\r\n                .permitAll().antMatchers(this.adminServer.path(&quot;/login&quot;)).permitAll().anyRequest().authenticated())\r\n                .formLogin((formLogin) -&gt; formLogin.loginPage(this.adminServer.path(&quot;/login&quot;))\r\n                        .successHandler(successHandler).and())\r\n                .logout((logout) -&gt; logout.logoutUrl(this.adminServer.path(&quot;/logout&quot;)))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .csrf((csrf) -&gt; csrf.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n                        .ignoringRequestMatchers(\r\n                                new AntPathRequestMatcher(this.adminServer.path(&quot;/instances&quot;),\r\n                                        HttpMethod.POST.toString()),\r\n                                new AntPathRequestMatcher(this.adminServer.path(&quot;/instances/*&quot;),\r\n                                        HttpMethod.DELETE.toString()),\r\n                                new AntPathRequestMatcher(this.adminServer.path(&quot;/actuator/**&quot;))))\r\n                .rememberMe((rememberMe) -&gt; rememberMe.key(UUID.randomUUID().toString()).tokenValiditySeconds(1209600));\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nDoes anybody can help me please?","title":"Spring Boot Admin - Basic Auth","body":"<p>I'm setting up basic auth in my sb-admin and client, but the client can't register (401 unauthorized). Everything works without auth.</p>\n\n<p><strong>SB-Admin configuration:</strong></p>\n\n<ul>\n<li>application.properties</li>\n</ul>\n\n<pre><code>    server.port=8080\n\n    spring.application.name=SB Admin\n    spring.boot.admin.ui.title=SB Admin\n\n    spring.security.user.name=admin\n    spring.security.user.password=admin\n</code></pre>\n\n<ul>\n<li>build.gradle</li>\n</ul>\n\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'de.codecentric:spring-boot-admin-starter-server'\n</code></pre>\n\n<p><strong>Client configuration:</strong></p>\n\n<ul>\n<li>application.properties</li>\n</ul>\n\n<pre><code>    server.port=9000\n    management.endpoints.web.exposure.include=*\n    management.security.enabled=false\n\n    spring.boot.admin.client.enabled=true\n    spring.boot.admin.client.url=http://localhost:8080\n    spring.boot.admin.client.username=admin\n    spring.boot.admin.client.password=admin\n</code></pre>\n\n<ul>\n<li>build.gradle</li>\n</ul>\n\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'de.codecentric:spring-boot-admin-starter-client'\n</code></pre>\n\n<p><strong>Security Config</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String adminContextPath;\n    private final AdminServerProperties adminServer;\n\n    public SecurityConfig(AdminServerProperties adminServerProperties) {\n        this.adminContextPath = adminServerProperties.getContextPath();\n        this.adminServer = adminServerProperties;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\n        successHandler.setTargetUrlParameter(\"redirectTo\");\n        successHandler.setDefaultTargetUrl(this.adminServer.path(\"/\"));\n\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.antMatchers(this.adminServer.path(\"/assets/**\"))\n                .permitAll().antMatchers(this.adminServer.path(\"/login\")).permitAll().anyRequest().authenticated())\n                .formLogin((formLogin) -&gt; formLogin.loginPage(this.adminServer.path(\"/login\"))\n                        .successHandler(successHandler).and())\n                .logout((logout) -&gt; logout.logoutUrl(this.adminServer.path(\"/logout\")))\n                .httpBasic(Customizer.withDefaults())\n                .csrf((csrf) -&gt; csrf.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n                        .ignoringRequestMatchers(\n                                new AntPathRequestMatcher(this.adminServer.path(\"/instances\"),\n                                        HttpMethod.POST.toString()),\n                                new AntPathRequestMatcher(this.adminServer.path(\"/instances/*\"),\n                                        HttpMethod.DELETE.toString()),\n                                new AntPathRequestMatcher(this.adminServer.path(\"/actuator/**\"))))\n                .rememberMe((rememberMe) -&gt; rememberMe.key(UUID.randomUUID().toString()).tokenValiditySeconds(1209600));\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().withUser(\"admin\").password(\"admin\").roles(\"USER\");\n    }\n\n}\n</code></pre>\n\n<p>Does anybody can help me please?</p>\n"},{"tags":["java","junit","testng","powermock","java-assist"],"answers":[{"tags":[],"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632689876,"creation_date":1632689876,"answer_id":69338900,"question_id":69226468,"body_markdown":"Even if you&#39;re not using Maven, you should try to have consistent versions of your dependencies. You&#39;ve got 1.6.2, 1.6.4, 1.6.6, 1.7.4 ... you should use the same version for all powermock libraries. The last version of 1.x is 1.7.4, so I&#39;d recommend starting there. Mixing them up is asking for trouble -- a change to the junit4 module might have depended on a lower level change in the core release.\r\n\r\nYou don&#39;t specify which java version you&#39;re using, nor httpclient, nor Mockito, so I have to assume there are no compatibility issues there. For example, if you&#39;re trying to use Powermock 1.x under Java 11, you&#39;re probably going to run into issues.\r\n\r\nBeyond that, I&#39;d try updating to the very latest version of Javassist (3.28.0-GA at time of writing), *OR* you could try the javassist version that powermock 1.7.4 was built against (3.21.0-GA) (but that&#39;s not going to help you over the long term).\r\n\r\nIf updating to the most recent powermock 1.7.4/javassist still gives the same result, then because your error result is a very low-level internal javassist message (&quot;inconsistent stack height&quot;), there&#39;s very little that anyone unfamiliar with its internals can do for you. Your next move would probably be to try updating to PowerMock 2 (which might also require updates to Mockito, etc).\r\n\r\nYou *could* try posting a bug against powermock 1.x or a message in their [google group][1], but ... Powermock 2 is out for several years now and 1.x is almost certainly no longer supported (hasn&#39;t been a new 1.x version for over 3 years), so they&#39;ll probably also tell you to try PowerMock 2 first. If you still get the same error after upgrading, then you might have found a bug in powermock/javassist worth fixing, or else an incompatibility that should be documented.\r\n\r\n\r\n  [1]: https://groups.google.com/g/powermock","title":"Powermock 1.6.4 with Javassist 3.24.0-GA produces javassist.CannotCompileException: by javassist.bytecode.BadBytecode","body":"<p>Even if you're not using Maven, you should try to have consistent versions of your dependencies. You've got 1.6.2, 1.6.4, 1.6.6, 1.7.4 ... you should use the same version for all powermock libraries. The last version of 1.x is 1.7.4, so I'd recommend starting there. Mixing them up is asking for trouble -- a change to the junit4 module might have depended on a lower level change in the core release.</p>\n<p>You don't specify which java version you're using, nor httpclient, nor Mockito, so I have to assume there are no compatibility issues there. For example, if you're trying to use Powermock 1.x under Java 11, you're probably going to run into issues.</p>\n<p>Beyond that, I'd try updating to the very latest version of Javassist (3.28.0-GA at time of writing), <em>OR</em> you could try the javassist version that powermock 1.7.4 was built against (3.21.0-GA) (but that's not going to help you over the long term).</p>\n<p>If updating to the most recent powermock 1.7.4/javassist still gives the same result, then because your error result is a very low-level internal javassist message (&quot;inconsistent stack height&quot;), there's very little that anyone unfamiliar with its internals can do for you. Your next move would probably be to try updating to PowerMock 2 (which might also require updates to Mockito, etc).</p>\n<p>You <em>could</em> try posting a bug against powermock 1.x or a message in their <a href=\"https://groups.google.com/g/powermock\" rel=\"nofollow noreferrer\">google group</a>, but ... Powermock 2 is out for several years now and 1.x is almost certainly no longer supported (hasn't been a new 1.x version for over 3 years), so they'll probably also tell you to try PowerMock 2 first. If you still get the same error after upgrading, then you might have found a bug in powermock/javassist worth fixing, or else an incompatibility that should be documented.</p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632689876,"creation_date":1631894670,"question_id":69226468,"body_markdown":"I am using below versions of powermock and junit with javaassist. Most of the test cases are working fine except few which are written for classes that uses CloseableHttpClient. I have tried different combinations of powermock + javaassist but nothing seems to work . My project is legacy and hence not using maven. \r\n\r\n    javassist-3.24.0-GA\r\n    powermock-api-mockito-1.6.2\r\n    powermock-mockito-release-full-1.6.4-full\r\n    powermock-module-junit4-1.7.4\r\n    powermock-module-testng-1.6.6\r\n    junit-4.12.jar\r\n\r\nCode-\r\n    \r\n\r\n    import static org.mockito.Matchers.anyObject;\r\n    import static org.mockito.Matchers.anyString;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.rmi.registry.Registry;\r\n\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.StatusLine;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.config.RequestConfig.Builder;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.config.RegistryBuilder;\r\n    import org.apache.http.conn.socket.ConnectionSocketFactory;\r\n    import org.apache.http.conn.socket.PlainConnectionSocketFactory;\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Matchers;\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PowerMockIgnore;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.core.classloader.annotations.SuppressStaticInitializationFor;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.powermock.modules.testng.PowerMockTestCase;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    import org.w3c.dom.Document;\r\n\r\n    import com.yantra.yfc.log.YFCLogCategory;\r\n    import com.yantra.yfs.core.YFSSystem;\r\n    import com.yantra.yfs.japi.YFSEnvironment;\r\n    import com.yantra.yfs.japi.YFSUserExitException;\r\n\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({HttpClientBuilder.class, PoolingHttpClientConnectionManager.class,Registry.class})\r\n    @PowerMockIgnore({&quot;javax.management.*&quot;, &quot;org.apache.http.conn.ssl.*&quot;, &quot;com.amazonaws.*&quot;, &quot;javax.net.ssl.*&quot;,&quot;com.sun.*&quot;})\r\n    @SuppressStaticInitializationFor({ &quot;com.yantra.yfs.core.YFSSystem&quot; , &quot;org.apache.http.client.config.RequestConfig&quot;,\r\n\t&quot;org.apache.http.conn.ssl.SSLConnectionSocketFactory&quot;, &quot;org.apache.http.impl.client.HttpClients&quot;,&quot;org.apache.http.impl.client.HttpClientBuilder&quot;,&quot;org.apache.http.config.Registry&quot;,&quot;org.apache.http.config.RegistryBuilder&quot;,&quot;org.apache.http.HttpEntity&quot;})\r\n      public class ConfirmRefundDistributionUETest extends PowerMockTestCase{\r\n\t\r\n\t\tprivate ConfirmRefundDistributionUE confirmRefundDistributionUE;\r\n\t\tprivate YFSEnvironment yfsEnvironment;\r\n\t\tprivate YFCLogCategory yfc;\r\n\t\tConfirmRefundDistributionUEYIFAPI mockYIFApi;\r\n\t\t\r\n\t\t\r\n\t\tCloseableHttpClient client ;\r\n\t\tCloseableHttpResponse response;\r\n\t\tHttpClientBuilder httpClientBuilder ;\r\n\t\tRequestConfig defaultRequestConfig;\r\n\t\tBuilder customBuilder ;\r\n\t\tPoolingHttpClientConnectionManager poolManager;\r\n\t\t\r\n\t\tRegistry rgt ;\r\n\t\torg.apache.http.config.Registry registry;\r\n\t\tRegistryBuilder rb ;\r\n\t\tStatusLine sl;\r\n\t\tHttpEntity he;\r\n\t\t\r\n\t\r\n\t\r\n\t\t@BeforeMethod\r\n\t\tpublic void beforeMethod() throws Exception {\r\n\t\t\t\r\n        \tPowerMockito.mockStatic(SSLConnectionSocketFactory.class);\r\n\t\t\tPowerMockito.mockStatic(RequestConfig.class);\r\n\t\t\tPowerMockito.mockStatic(HttpClients.class);\r\n\t\t\tPowerMockito.mockStatic(RegistryBuilder.class);\r\n\t\t\tPowerMockito.mockStatic(PlainConnectionSocketFactory.class);\r\n\t\t\tPowerMockito.mockStatic(HttpClientBuilder.class);\r\n\t\t\t\r\n\t\t\tclient = PowerMockito.mock(CloseableHttpClient.class);\r\n\t\t\thttpClientBuilder = PowerMockito.mock(HttpClientBuilder.class);\r\n\r\n\t\t\t\r\n\t\t\tPowerMockito.when(HttpClients.custom()).thenReturn(httpClientBuilder);\r\n\t\t\tMockito.when(httpClientBuilder.setConnectionManager(anyObject())).thenReturn(httpClientBuilder);\r\n\t\t\tPowerMockito.when(httpClientBuilder.setDefaultRequestConfig(Matchers.anyObject())).thenReturn(httpClientBuilder);\r\n\t\t\tPowerMockito.when(httpClientBuilder.setProxy(Matchers.anyObject())).thenReturn(httpClientBuilder);\r\n\t\t\tPowerMockito.when(httpClientBuilder.build()).thenReturn(client);\r\n\t\t\tPowerMockito.when(client.execute(anyObject())).thenReturn(response);\r\n\t\t\tPowerMockito.when(response.getStatusLine()).thenReturn(sl);\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\r\n\t\t}\r\n\t\r\n\t\t@Test\r\n\t\tpublic void confirmRefundDistribution() throws ParserConfigurationException, SAXException, IOException, YFSUserExitException {\r\n\t\r\n\t\t\t// get the input.\r\n\t\t\tDocument docUEInput = getDocument(&quot;InputUE&quot;);\r\n\t\r\n\t\t\t// invoke method to be tested.\r\n\t\t\tDocument docActualUEOutput = confirmRefundDistributionUE.confirmRefundDistribution(yfsEnvironment, docUEInput);\r\n\t\r\n\t\t\t// Assert Output\r\n\t\t\tDocument docExpectedUEOutput = getDocument(&quot;OutputUE&quot;);\r\n\t\t\tAssert.assertEquals(XMLUtil.getXMLString(docExpectedUEOutput), XMLUtil.getXMLString(docActualUEOutput));\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\r\nStack Trace- \r\n\r\n    javassist.CannotCompileException: by javassist.bytecode.BadBytecode: build ()Lorg/apache/http/impl/client/CloseableHttpClient; in org.apache.http.impl.client.HttpClientBuilder: inconsistent stack height 21\r\n\tat javassist.CtBehavior.insertBefore(CtBehavior.java:809)\r\n\tat javassist.CtBehavior.insertBefore(CtBehavior.java:766)\r\n\tat org.powermock.core.transformers.impl.MainMockTransformer.modifyMethod(MainMockTransformer.java:197)\r\n\tat org.powermock.core.transformers.impl.MainMockTransformer.allowMockingOfStaticAndFinalAndNativeMethods(MainMockTransformer.java:133)\r\n\tat org.powermock.core.transformers.impl.MainMockTransformer.transform(MainMockTransformer.java:65)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:252)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadModifiedClass(MockClassLoader.java:180)\r\n\tat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:70)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:344)\r\n\tat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n\tat sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:439)\r\n\tat sun.reflect.annotation.AnnotationParser.parseClassValue(AnnotationParser.java:420)\r\n\tat sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)\r\n\tat sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\r\n\tat java.lang.Class.createAnnotationData(Class.java:3513)\r\n\tat java.lang.Class.annotationData(Class.java:3502)\r\n\tat java.lang.Class.getAnnotation(Class.java:3407)\r\n\tat org.testng.internal.annotations.JDK15AnnotationFinder.findAnnotationInSuperClasses(JDK15AnnotationFinder.java:84)\r\n\tat org.testng.internal.annotations.JDK15AnnotationFinder.findAnnotation(JDK15AnnotationFinder.java:150)\r\n\tat org.testng.internal.annotations.AnnotationHelper.findTest(AnnotationHelper.java:31)\r\n\tat org.testng.internal.MethodHelper.isEnabled(MethodHelper.java:189)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:184)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:653)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n       Caused by: javassist.bytecode.BadBytecode: build ()Lorg/apache/http/impl/client/CloseableHttpClient; in org.apache.http.impl.client.HttpClientBuilder: inconsistent stack height 21\r\n\tat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:119)\r\n\tat javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:458)\r\n\tat javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:440)\r\n\tat javassist.CtBehavior.insertBefore(CtBehavior.java:800)\r\n\t... 37 more\r\n    Caused by: javassist.bytecode.BadBytecode: inconsistent stack height 21\r\n\tat javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:81)\r\n\tat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:195)\r\n\tat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:207)\r\n\tat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:172)\r\n\tat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:116)\r\n\t... 40 more\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: 21\r\n\tat javassist.bytecode.stackmap.Tracer.doASTORE(Tracer.java:422)\r\n\tat javassist.bytecode.stackmap.Tracer.doOpcode54_95(Tracer.java:299)\r\n\tat javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:75)\r\n\t... 44 more\r\n","title":"Powermock 1.6.4 with Javassist 3.24.0-GA produces javassist.CannotCompileException: by javassist.bytecode.BadBytecode","body":"<p>I am using below versions of powermock and junit with javaassist. Most of the test cases are working fine except few which are written for classes that uses CloseableHttpClient. I have tried different combinations of powermock + javaassist but nothing seems to work . My project is legacy and hence not using maven.</p>\n<pre><code>javassist-3.24.0-GA\npowermock-api-mockito-1.6.2\npowermock-mockito-release-full-1.6.4-full\npowermock-module-junit4-1.7.4\npowermock-module-testng-1.6.6\njunit-4.12.jar\n</code></pre>\n<p>Code-</p>\n<pre><code>import static org.mockito.Matchers.anyObject;\nimport static org.mockito.Matchers.anyString;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.rmi.registry.Registry;\n\nimport javax.xml.parsers.ParserConfigurationException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.config.RequestConfig.Builder;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.config.RegistryBuilder;\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\nimport org.apache.http.conn.socket.PlainConnectionSocketFactory;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.junit.runner.RunWith;\nimport org.mockito.Matchers;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.core.classloader.annotations.SuppressStaticInitializationFor;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.powermock.modules.testng.PowerMockTestCase;\nimport org.testng.Assert;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\nimport org.w3c.dom.Document;\n\nimport com.yantra.yfc.log.YFCLogCategory;\nimport com.yantra.yfs.core.YFSSystem;\nimport com.yantra.yfs.japi.YFSEnvironment;\nimport com.yantra.yfs.japi.YFSUserExitException;\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({HttpClientBuilder.class, PoolingHttpClientConnectionManager.class,Registry.class})\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;org.apache.http.conn.ssl.*&quot;, &quot;com.amazonaws.*&quot;, &quot;javax.net.ssl.*&quot;,&quot;com.sun.*&quot;})\n@SuppressStaticInitializationFor({ &quot;com.yantra.yfs.core.YFSSystem&quot; , &quot;org.apache.http.client.config.RequestConfig&quot;,\n&quot;org.apache.http.conn.ssl.SSLConnectionSocketFactory&quot;, &quot;org.apache.http.impl.client.HttpClients&quot;,&quot;org.apache.http.impl.client.HttpClientBuilder&quot;,&quot;org.apache.http.config.Registry&quot;,&quot;org.apache.http.config.RegistryBuilder&quot;,&quot;org.apache.http.HttpEntity&quot;})\n  public class ConfirmRefundDistributionUETest extends PowerMockTestCase{\n\n    private ConfirmRefundDistributionUE confirmRefundDistributionUE;\n    private YFSEnvironment yfsEnvironment;\n    private YFCLogCategory yfc;\n    ConfirmRefundDistributionUEYIFAPI mockYIFApi;\n    \n    \n    CloseableHttpClient client ;\n    CloseableHttpResponse response;\n    HttpClientBuilder httpClientBuilder ;\n    RequestConfig defaultRequestConfig;\n    Builder customBuilder ;\n    PoolingHttpClientConnectionManager poolManager;\n    \n    Registry rgt ;\n    org.apache.http.config.Registry registry;\n    RegistryBuilder rb ;\n    StatusLine sl;\n    HttpEntity he;\n    \n\n\n    @BeforeMethod\n    public void beforeMethod() throws Exception {\n        \n        PowerMockito.mockStatic(SSLConnectionSocketFactory.class);\n        PowerMockito.mockStatic(RequestConfig.class);\n        PowerMockito.mockStatic(HttpClients.class);\n        PowerMockito.mockStatic(RegistryBuilder.class);\n        PowerMockito.mockStatic(PlainConnectionSocketFactory.class);\n        PowerMockito.mockStatic(HttpClientBuilder.class);\n        \n        client = PowerMockito.mock(CloseableHttpClient.class);\n        httpClientBuilder = PowerMockito.mock(HttpClientBuilder.class);\n\n        \n        PowerMockito.when(HttpClients.custom()).thenReturn(httpClientBuilder);\n        Mockito.when(httpClientBuilder.setConnectionManager(anyObject())).thenReturn(httpClientBuilder);\n        PowerMockito.when(httpClientBuilder.setDefaultRequestConfig(Matchers.anyObject())).thenReturn(httpClientBuilder);\n        PowerMockito.when(httpClientBuilder.setProxy(Matchers.anyObject())).thenReturn(httpClientBuilder);\n        PowerMockito.when(httpClientBuilder.build()).thenReturn(client);\n        PowerMockito.when(client.execute(anyObject())).thenReturn(response);\n        PowerMockito.when(response.getStatusLine()).thenReturn(sl);\n        \n        \n\n\n    }\n\n    @Test\n    public void confirmRefundDistribution() throws ParserConfigurationException, SAXException, IOException, YFSUserExitException {\n\n        // get the input.\n        Document docUEInput = getDocument(&quot;InputUE&quot;);\n\n        // invoke method to be tested.\n        Document docActualUEOutput = confirmRefundDistributionUE.confirmRefundDistribution(yfsEnvironment, docUEInput);\n\n        // Assert Output\n        Document docExpectedUEOutput = getDocument(&quot;OutputUE&quot;);\n        Assert.assertEquals(XMLUtil.getXMLString(docExpectedUEOutput), XMLUtil.getXMLString(docActualUEOutput));\n    }\n\n    \n    \n    }\n</code></pre>\n<p>Stack Trace-</p>\n<pre><code>javassist.CannotCompileException: by javassist.bytecode.BadBytecode: build ()Lorg/apache/http/impl/client/CloseableHttpClient; in org.apache.http.impl.client.HttpClientBuilder: inconsistent stack height 21\nat javassist.CtBehavior.insertBefore(CtBehavior.java:809)\nat javassist.CtBehavior.insertBefore(CtBehavior.java:766)\nat org.powermock.core.transformers.impl.MainMockTransformer.modifyMethod(MainMockTransformer.java:197)\nat org.powermock.core.transformers.impl.MainMockTransformer.allowMockingOfStaticAndFinalAndNativeMethods(MainMockTransformer.java:133)\nat org.powermock.core.transformers.impl.MainMockTransformer.transform(MainMockTransformer.java:65)\nat org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:252)\nat org.powermock.core.classloader.MockClassLoader.loadModifiedClass(MockClassLoader.java:180)\nat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:70)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:344)\nat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\nat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\nat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\nat sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:439)\nat sun.reflect.annotation.AnnotationParser.parseClassValue(AnnotationParser.java:420)\nat sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724)\nat sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531)\nat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355)\nat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286)\nat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\nat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\nat java.lang.Class.createAnnotationData(Class.java:3513)\nat java.lang.Class.annotationData(Class.java:3502)\nat java.lang.Class.getAnnotation(Class.java:3407)\nat org.testng.internal.annotations.JDK15AnnotationFinder.findAnnotationInSuperClasses(JDK15AnnotationFinder.java:84)\nat org.testng.internal.annotations.JDK15AnnotationFinder.findAnnotation(JDK15AnnotationFinder.java:150)\nat org.testng.internal.annotations.AnnotationHelper.findTest(AnnotationHelper.java:31)\nat org.testng.internal.MethodHelper.isEnabled(MethodHelper.java:189)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:184)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:653)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n   Caused by: javassist.bytecode.BadBytecode: build ()Lorg/apache/http/impl/client/CloseableHttpClient; in org.apache.http.impl.client.HttpClientBuilder: inconsistent stack height 21\nat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:119)\nat javassist.bytecode.MethodInfo.rebuildStackMap(MethodInfo.java:458)\nat javassist.bytecode.MethodInfo.rebuildStackMapIf6(MethodInfo.java:440)\nat javassist.CtBehavior.insertBefore(CtBehavior.java:800)\n... 37 more\nCaused by: javassist.bytecode.BadBytecode: inconsistent stack height 21\nat javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:81)\nat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:195)\nat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:207)\nat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:172)\nat javassist.bytecode.stackmap.MapMaker.make(MapMaker.java:116)\n... 40 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 21\nat javassist.bytecode.stackmap.Tracer.doASTORE(Tracer.java:422)\nat javassist.bytecode.stackmap.Tracer.doOpcode54_95(Tracer.java:299)\nat javassist.bytecode.stackmap.Tracer.doOpcode(Tracer.java:75)\n... 44 more\n</code></pre>\n"},{"tags":["java","hibernate","jsonb","hibernate-types"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1632619086,"post_id":69330867,"comment_id":122541290,"body_markdown":"Just curious why you want it ordered. The [json spec](https://www.json.org/json-en.html) says objects are unordered, so no parser of them should be changing behaviour based on the order.","body":"Just curious why you want it ordered. The <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">json spec</a> says objects are unordered, so no parser of them should be changing behaviour based on the order."},{"owner":{"account_id":12281870,"reputation":11,"user_id":8963131,"display_name":"Ð¡ÐµÑ€Ð³ÐµÐ¹ ÐÐ±Ð»Ð°ÐµÐ²"},"score":1,"creation_date":1632672164,"post_id":69330867,"comment_id":122550501,"body_markdown":"You are absolutely right! Thank you! (below I answered in more detail in another comment on the reasons).","body":"You are absolutely right! Thank you! (below I answered in more detail in another comment on the reasons)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632637265,"creation_date":1632619079,"answer_id":69331132,"question_id":69330867,"body_markdown":"It **should not** matter what the order of the JSON attributes is.  The JSON specs state clearly that JSON object attributes are **unordered**.  If your code is placing significance on the (unspecified) order of the attributes in the serialization, it is misusing JSON.\r\n\r\nSo the most correct solution to your problem is to change your application so that it doesn&#39;t depend on the JSON attribute order.\r\n\r\n(In your example, I can&#39;t imagine why the order of the attributes has semantic significance.  So, my guess is that you are rendering the JSON to some other form (e.g. HTML or CSV) where the order has some significance to people ... or software.  In such cases, the best solution is to specify the ordering you want at the point where you are rendering.)\r\n\r\nThere are hacky solutions to this that work *for some JSON parsers*.  For example, some parsers allow you to provide provide your own `Map` implementation.  So, if you used a `LinkedHashMap` when serializing and deserializing, and you originally added the attributes in a specific order, the insertion order of the attributes should be preserved through serialization and deserialization. \r\n\r\nHowever, I don&#39;t know if there is a hacky solution that works with &quot;jsonb&quot; serialization.  So you might need to do the serialization &quot;by hand&quot; rather than using `@JsonSerialize`.\r\n\r\n---------------------\r\n\r\nIf you are doing this because you have been told to implement some requirements that prescribe a specific order for the JSON attributes, then that requirements specification is broken.  You should push back.  Point out that what *they* have asked for is NOT JSON.  If they need things to be ordered in JSON ... they should specify a JSON array.\r\n\r\n---------------------\r\n\r\nReferences:\r\n\r\n  - https://stackoverflow.com/questions/16870416\r\n  - https://stackoverflow.com/questions/4515676\r\n\r\n","title":"Hibernate vladmihalcea jsonb type: Is it possible to change the order of the default JSON fields to a different one?","body":"<p>It <strong>should not</strong> matter what the order of the JSON attributes is.  The JSON specs state clearly that JSON object attributes are <strong>unordered</strong>.  If your code is placing significance on the (unspecified) order of the attributes in the serialization, it is misusing JSON.</p>\n<p>So the most correct solution to your problem is to change your application so that it doesn't depend on the JSON attribute order.</p>\n<p>(In your example, I can't imagine why the order of the attributes has semantic significance.  So, my guess is that you are rendering the JSON to some other form (e.g. HTML or CSV) where the order has some significance to people ... or software.  In such cases, the best solution is to specify the ordering you want at the point where you are rendering.)</p>\n<p>There are hacky solutions to this that work <em>for some JSON parsers</em>.  For example, some parsers allow you to provide provide your own <code>Map</code> implementation.  So, if you used a <code>LinkedHashMap</code> when serializing and deserializing, and you originally added the attributes in a specific order, the insertion order of the attributes should be preserved through serialization and deserialization.</p>\n<p>However, I don't know if there is a hacky solution that works with &quot;jsonb&quot; serialization.  So you might need to do the serialization &quot;by hand&quot; rather than using <code>@JsonSerialize</code>.</p>\n<hr />\n<p>If you are doing this because you have been told to implement some requirements that prescribe a specific order for the JSON attributes, then that requirements specification is broken.  You should push back.  Point out that what <em>they</em> have asked for is NOT JSON.  If they need things to be ordered in JSON ... they should specify a JSON array.</p>\n<hr />\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16870416\">Does the sequence of the values matter in a JSON object?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4515676\">Keep the order of the JSON keys during JSON conversion to CSV</a></li>\n</ul>\n"}],"owner":{"account_id":12281870,"reputation":11,"user_id":8963131,"display_name":"Ð¡ÐµÑ€Ð³ÐµÐ¹ ÐÐ±Ð»Ð°ÐµÐ²"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632689694,"creation_date":1632614187,"question_id":69330867,"body_markdown":"I have a project with Spring Boot with Hibernate. For json field use annotations like @Type(type = &quot;jsonb&quot;), and definition Hibernate ORM extra Types: &quot;com.vladmihalcea, hibernate-types-52&quot;\r\n\r\nIts work correctly. But Is it possible to change the order of the default fields to a different one? Like â€œ@JsonPropertyOrderâ€. (This annotation doesnâ€™t work here).\r\n\r\nFor example â€“ the code below writes the jsonb to PostgreSQL:\r\n\r\nResult â€“ birthDate inside full name:\r\n{â€œlastNameâ€: â€œsome lastNameâ€, â€œ**birthDate**â€: â€œ01.01.1985â€, â€œfirstNameâ€: â€œsome firstNameâ€, â€œmiddleNameâ€: â€œsome middlnameâ€, â€œpersonDocumentâ€: null}\r\n\r\nI need:\r\n{â€œlastNameâ€: â€œsome lastNameâ€, â€œfirstNameâ€: â€œsome firstNameâ€, â€œmiddleNameâ€: â€œsome middlnameâ€, â€œ**birthDate**â€: â€œ01.01.1985â€, â€œpersonDocumentâ€: null}\r\n\r\nâ€”â€”â€”â€“source model classâ€”â€”â€”â€”â€“\r\n\r\n    @JsonPropertyOrder(  //This annotation not work :(\r\n    {â€œlastNameâ€, â€œfirstNameâ€, â€œmiddleNameâ€, â€œbirthDateâ€, â€œpersonDocumentâ€})\r\n    \r\n    public class PersonInfo implements Serializable {\r\n    \r\n    private static final long serialVersionUID = 8604200400882367977L;\r\n    \r\n    @JsonSerialize(using = SnilsSerializer.class)\r\n    private String lastName;\r\n    private String firstName;\r\n    private String middleName;\r\n    private PersonInfoDocument personDocument;\r\n    @JsonSerialize(using = LocalDateSerializer.class)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\r\n    private LocalDate birthDate;\r\n    }\r\n\r\n-----------Entity class---------------------\r\n\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;CO_PERSONS&quot;)\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    @ToString(exclude = {&quot;co&quot;, &quot;personInfo&quot;})\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Person extends AuditableModel&lt;Long&gt; {\r\n        private static final long serialVersionUID = 3903875373255655212L;\r\n        @Id\r\n        @SequenceGenerator(name = &quot;co_persons_cp_id_seq&quot;,\r\n                           sequenceName = &quot;co_persons_cp_id_seq&quot;,\r\n                           allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE,\r\n                        generator = &quot;co_persons_cp_id_seq&quot;)\r\n        @Column(name = &quot;cp_id&quot;, updatable = false)\r\n        private Long id;\r\n    \r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(name = &quot;cp_individual_json&quot;, columnDefinition = &quot;jsonb&quot;)\r\n        private PersonInfo personInfo;\r\n\r\n--------------pom dependency-------------\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Hibernate vladmihalcea jsonb type: Is it possible to change the order of the default JSON fields to a different one?","body":"<p>I have a project with Spring Boot with Hibernate. For json field use annotations like @Type(type = &quot;jsonb&quot;), and definition Hibernate ORM extra Types: &quot;com.vladmihalcea, hibernate-types-52&quot;</p>\n<p>Its work correctly. But Is it possible to change the order of the default fields to a different one? Like â€œ@JsonPropertyOrderâ€. (This annotation doesnâ€™t work here).</p>\n<p>For example â€“ the code below writes the jsonb to PostgreSQL:</p>\n<p>Result â€“ birthDate inside full name:\n{â€œlastNameâ€: â€œsome lastNameâ€, â€œ<strong>birthDate</strong>â€: â€œ01.01.1985â€, â€œfirstNameâ€: â€œsome firstNameâ€, â€œmiddleNameâ€: â€œsome middlnameâ€, â€œpersonDocumentâ€: null}</p>\n<p>I need:\n{â€œlastNameâ€: â€œsome lastNameâ€, â€œfirstNameâ€: â€œsome firstNameâ€, â€œmiddleNameâ€: â€œsome middlnameâ€, â€œ<strong>birthDate</strong>â€: â€œ01.01.1985â€, â€œpersonDocumentâ€: null}</p>\n<p>â€”â€”â€”â€“source model classâ€”â€”â€”â€”â€“</p>\n<pre><code>@JsonPropertyOrder(  //This annotation not work :(\n{â€œlastNameâ€, â€œfirstNameâ€, â€œmiddleNameâ€, â€œbirthDateâ€, â€œpersonDocumentâ€})\n\npublic class PersonInfo implements Serializable {\n\nprivate static final long serialVersionUID = 8604200400882367977L;\n\n@JsonSerialize(using = SnilsSerializer.class)\nprivate String lastName;\nprivate String firstName;\nprivate String middleName;\nprivate PersonInfoDocument personDocument;\n@JsonSerialize(using = LocalDateSerializer.class)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\nprivate LocalDate birthDate;\n}\n</code></pre>\n<p>-----------Entity class---------------------</p>\n<pre><code>@Data\n@Builder\n@Entity\n@Table(name = &quot;CO_PERSONS&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@ToString(exclude = {&quot;co&quot;, &quot;personInfo&quot;})\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person extends AuditableModel&lt;Long&gt; {\n    private static final long serialVersionUID = 3903875373255655212L;\n    @Id\n    @SequenceGenerator(name = &quot;co_persons_cp_id_seq&quot;,\n                       sequenceName = &quot;co_persons_cp_id_seq&quot;,\n                       allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\n                    generator = &quot;co_persons_cp_id_seq&quot;)\n    @Column(name = &quot;cp_id&quot;, updatable = false)\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;cp_individual_json&quot;, columnDefinition = &quot;jsonb&quot;)\n    private PersonInfo personInfo;\n</code></pre>\n<p>--------------pom dependency-------------</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","go","rsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1632323788,"post_id":69286881,"comment_id":122462559,"body_markdown":"What data does `label` contain in the Go Code?","body":"What data does <code>label</code> contain in the Go Code?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1632324013,"post_id":69286881,"comment_id":122462684,"body_markdown":"Presumably, the Go code uses SHA256 for both the OAEP and MGF1 digest, while the Java code applies SHA256 for the OAEP digest and SHA-1 for the MGF1 digest.","body":"Presumably, the Go code uses SHA256 for both the OAEP and MGF1 digest, while the Java code applies SHA256 for the OAEP digest and SHA-1 for the MGF1 digest."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1632327601,"post_id":69286881,"comment_id":122464235,"body_markdown":"RSA encryption is almost always randomized; you would expect it to generate different ciphertext even for different runs of the same code with the same key. That in itself is not an indicator of any sorts. The default Java provider has the nasty habit of keeping the MGF1 hash to SHA-1.","body":"RSA encryption is almost always randomized; you would expect it to generate different ciphertext even for different runs of the same code with the same key. That in itself is not an indicator of any sorts. The default Java provider has the nasty habit of keeping the MGF1 hash to SHA-1."},{"owner":{"account_id":1633589,"reputation":1482,"user_id":1507669,"display_name":"hmmftg Stands with Palestine"},"score":0,"creation_date":1632636571,"post_id":69286881,"comment_id":122543110,"body_markdown":"@Topaco thanks, your solution worked, I did submit a request at github for go dev team, can you please also provide encryption method?","body":"@Topaco thanks, your solution worked, I did submit a request at github for go dev team, can you please also provide encryption method?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1632652034,"post_id":69286881,"comment_id":122546038,"body_markdown":"@hmmftg - Please see my answer.","body":"@hmmftg - Please see my answer."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632324687,"creation_date":1632324330,"answer_id":69287156,"question_id":69286881,"body_markdown":"I&#39;m not set up to test Go, but a common incompatibility with OAEP is to infer that the MGF hash is the same as the &quot;main&quot; hash when it isn&#39;t specified, rather than defaulting to SHA-1. \r\n\r\nIn other words, there are two hash algorithms in use, and they can be chosen independently, but the Go API may not give you this flexibility. If you choose SHA-1, perhaps it uses SHA-1 for both functions, and if you choose SHA-256, it&#39;s used for both functions, while your Java code uses both together.\r\n\r\nAs a debugging strategy, you could encode parameters on each platform and inspect the data to determine any difference in the parameters. Again, I&#39;m not familiar with the Go API, but it would be best to encode the OAEP parameters used during encryption, and send them with the message, so the recipient can decode the correct parameters instead of guessing.\r\n\r\nUsing [CMS][1] or equivalent standards would give you a standard format for transmitting this information, as well as key identifiers and other important information to recipients.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax","title":"Java RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING Migrate To Go","body":"<p>I'm not set up to test Go, but a common incompatibility with OAEP is to infer that the MGF hash is the same as the &quot;main&quot; hash when it isn't specified, rather than defaulting to SHA-1.</p>\n<p>In other words, there are two hash algorithms in use, and they can be chosen independently, but the Go API may not give you this flexibility. If you choose SHA-1, perhaps it uses SHA-1 for both functions, and if you choose SHA-256, it's used for both functions, while your Java code uses both together.</p>\n<p>As a debugging strategy, you could encode parameters on each platform and inspect the data to determine any difference in the parameters. Again, I'm not familiar with the Go API, but it would be best to encode the OAEP parameters used during encryption, and send them with the message, so the recipient can decode the correct parameters instead of guessing.</p>\n<p>Using <a href=\"https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax\" rel=\"nofollow noreferrer\">CMS</a> or equivalent standards would give you a standard format for transmitting this information, as well as key identifiers and other important information to recipients.</p>\n"},{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1632689309,"creation_date":1632651948,"answer_id":69333971,"question_id":69286881,"body_markdown":"The reason why both codes are not compatible has already been explained in the comments and the  [other answer][6]: Go&#39;s crypto/rsa package, unlike the Java code, does not allow the *separate* specification of OAEP digest and MGF1 digest, resulting in different MGF1 digests being used in both codes.&lt;br&gt;\r\nIn contrast, this answer should focus on the adaptation of the crypto/rsa package to fix the issue.\r\n\r\nThe meaning of both digests is described in RFC 8017, more precisely in section [*7.1 RSAES-OAEP*][1], where OAEP is defined.&lt;br&gt;\r\nAs options and input parameters a digest (OAEP digest), a mask generation function, a label, the message and the public key are specified, s. [*7.1.1 Encryption Operation*][3]. The OAEP digest is used to hash the label, s. [*7.1.1, Step 2a*][3]. As mask generation function RFC 8017 defines MGF1 *exclusively* (s. [*B.2.1 MGF1*][2]), which is therefore generally used in OAEP. MGF1 is based on a digest (MGF1 digest).&lt;br&gt; \r\nRFC 8017 specifies the following default values, s. [*A.2.1 RSAES-OAEP*][4]: MGF1, SHA1 for the OAEP and MGF1 digests, and an empty label.\r\n\r\nAlthough SHA-1 is now deemed insecure, there are no known insecurities in the context of OAEP, s. [here][5]. Nevertheless, SHA256 is meanwhile often used, as a preventive measure or in the course of eliminating SHA-1 from the ecosystem.&lt;br&gt; \r\nFurthermore, RFC 8017 does not exclude the use of different digests for the OAEP and the MGF1 digest, as in your example.&lt;br&gt;\r\nTherefore, an implementation should allow the independent specification of both digests, which the crypto/rsa package fails to do.\r\n\r\nTo allow both digests to be specified separately, a second parameter must be used in the `EncryptOAEP()` and `DecryptOAEP()` functions to pass the MGF1 digest, which is then applied to MGF1:\r\n\r\n```go\r\nfunc EncryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, pub *rsa.PublicKey, msg []byte, label []byte) ([]byte, error) {\r\n    ...\r\n\thashMGF1.Reset()\r\n\tmgf1XOR(seed, hashMGF1, db) \r\n\tmgf1XOR(db, hashMGF1, seed) \r\n    ...\r\n}\r\n```\r\nand analogously for `DecryptOAEP()`.\r\n\r\nThis could best be implemented with a corresponding adjustment of the crypto/rsa package itself. Alternatively, as a workaround, the required functions can be copied from the crypto/rsa package and adapted, as in the following code inclusive test:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;crypto/rand&quot;\r\n\t&quot;crypto/subtle&quot;\r\n\t&quot;crypto/rsa&quot;\r\n\t&quot;crypto/sha256&quot;\r\n\t&quot;crypto/sha1&quot;\r\n\t&quot;crypto/x509&quot;\r\n\t&quot;encoding/pem&quot;\r\n\t&quot;encoding/base64&quot;\r\n\t&quot;hash&quot;\r\n\t&quot;errors&quot;\r\n\t&quot;io&quot;\r\n\t&quot;math/big&quot;\r\n\t&quot;sync&quot;\r\n\t&quot;fmt&quot;\r\n\t)\r\n\r\nfunc main() {\r\n\r\n\tvar publicKeyData = `-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoZ67dtUTLxoXnNEzRBFB\r\nmwukEJGC+y69cGgpNbtElQj3m4Aft/7cu9qYbTNguTSnCDt7uovZNb21u1vpZwKH\r\nyVgFEGO4SA8RNnjhJt2D7z8RDMWX3saody7jo9TKlrPABLZGo2o8vadW8Dly/v+I\r\nd0YDheCkVCoCEeUjQ8koXZhTwhYkGPu+vkdiqX5cUaiVTu1uzt591aO5Vw/hV4DI\r\nhFKnOTnYXnpXiwRwtPyYoGTa64yWfi2t0bv99qz0BgDjQjD0civCe8LRXGGhyB1U\r\n1aHjDDGEnulTYJyEqCzNGwBpzEHUjqIOXElFjt55AFGpCHAuyuoXoP3gQvoSj6RC\r\nsQIDAQAB\r\n-----END PUBLIC KEY-----`\r\n\r\n\tvar privateKeyData = `-----BEGIN RSA PRIVATE KEY-----\r\nMIIEowIBAAKCAQEAoZ67dtUTLxoXnNEzRBFBmwukEJGC+y69cGgpNbtElQj3m4Af\r\nt/7cu9qYbTNguTSnCDt7uovZNb21u1vpZwKHyVgFEGO4SA8RNnjhJt2D7z8RDMWX\r\n3saody7jo9TKlrPABLZGo2o8vadW8Dly/v+Id0YDheCkVCoCEeUjQ8koXZhTwhYk\r\nGPu+vkdiqX5cUaiVTu1uzt591aO5Vw/hV4DIhFKnOTnYXnpXiwRwtPyYoGTa64yW\r\nfi2t0bv99qz0BgDjQjD0civCe8LRXGGhyB1U1aHjDDGEnulTYJyEqCzNGwBpzEHU\r\njqIOXElFjt55AFGpCHAuyuoXoP3gQvoSj6RCsQIDAQABAoIBAGoYl5ukuJk9Ga8a\r\nLftLELRFaghuXXui7T0zQ4pASv9DCbiM3UWeCy1OjK1zAtXR2Kywz8JgN9DtnrVF\r\n2uyCXr0wCPL/Y2P6cCRAKh2nYQrXbcvikpXt9311zH4qHGvdx/nP5oM0JHejuJCu\r\nRe1btiwGTB3AoF+XzBAPSZ0gGl2FqDQ7qLqqwG9Xr+78STLdN8UOUCsKV3qdTM6N\r\nXLeXliI0XIFQgT6XMiRGEvhJVaUTJ/3q23xza87k8jpqGsh5ArtnG6LUON26rEed\r\nBL2ome7HNV+IOR143PXVrBMyn6qnwAas+Zt+WfCbBCP0k68oL7mzLmP6IzY4KBE9\r\nBFEo04ECgYEA9GMgi2Xm9OqjUmihMt0oPnPcMx0DR+4mZezPVED2f3garOKcWvOV\r\ny1N/Mn5A9L785jPjWE+ui7i5DT6AMJiWxkeEdYjXmZhpG9I3pha1yaLzBXjl+Dri\r\n/dCXZxQq+Z7axnBxwIhDNHAeeCAau6hLfzsGgv5YAvSeg6KU7Af16dkCgYEAqUzG\r\njvZxfV/2qPMdNh9oUcvVbIcnIphnTP1Ma7BAD6anTnSru2EDLR66yiRtdrC9E54d\r\n4xWeTNHsSUcaQBkAsyp7Cpewgy4vmo8GE3qUu91Jk3/1ZN6jxLyMoakyzhYTmq4s\r\nQsTPC1daUXqpRjGYzP/8dMMzlKQ2Vncp+2BXgJkCgYEAinzJ6nSahluYpZBpGLu+\r\nnHVnaQed3lsUI1oouyP9C4ryAtp/pAK49fmg8OoewRKhmYn54Qd2b/MD2n96gQ9X\r\nEZFhfIFJO97kYUGlC1d/OH5AnO8/0oT8MLzNrzn8iGv+qcj6jRIqk0Kd4ZC/1Wuv\r\nLLA0JnMfSL16PjoZjg+MyTECgYBRq47RooMnBycXY4hA9q+9XcZMP3qajsiudDbs\r\ncC7HHg7xowjBMNB2cK+NGjuQGTxs/UbPqDsgNdh1lQ5Nw4H57FFEz94/ugUO21YE\r\nCYs8gUigFgdMLLb2DjsNNXEjx7SXVtRVNVnnz7DrQ2/rQ7vBkO+5Z/03BGyOE5g2\r\nAsjTaQKBgDLpbXN2p3eubQGJqv/K6f/9LBux/RWGXnZ+C1oCtGrUj+Ja8N6+cd6G\r\nMz9Go00GCdCUZXByx6rAZQaw7kWcI646miaplX4YtbX1d2mwbnmmz9EH4aRhzdby\r\n9VDoPXBgf4dufgNoS3xP4NS4H5oPg0gPS0vwpWspWqplLM+N/kGj\r\n-----END RSA PRIVATE KEY-----`\r\n\t\r\n\tsecretMessage := []byte(&quot;The quick brown fox jumps over the lazy dog&quot;)\r\n\tlabel := []byte(&quot;&quot;)\r\n\trng := rand.Reader\r\n\r\n\t// Encryption -------------------------------------------------------------\r\n\t\r\n\t// Load public key\r\n\tpubKeyBlock, _ := pem.Decode([]byte(publicKeyData))\r\n\tvar rsaPublicKey *rsa.PublicKey\r\n\tpubInterface, parseErr := x509.ParsePKIXPublicKey(pubKeyBlock.Bytes)\r\n\tif parseErr != nil {\r\n\t\tfmt.Println(&quot;Load public key error&quot;)\r\n\t\tpanic(parseErr)\r\n\t}\r\n\trsaPublicKey = pubInterface.(*rsa.PublicKey)\r\n\r\n\tciphertext, err := EncryptOAEP(sha256.New(), sha1.New(), rng, rsaPublicKey, secretMessage, label)\r\n\tif err != nil {\r\n    \t\tfmt.Printf(&quot;Error from encryption: %s\\n&quot;, err)\r\n    \t\treturn\r\n\t}\r\n\r\n\t// Decryption -------------------------------------------------------------\r\n\t\r\n\t// Load private key\r\n\tprivateKeyBlock, _ := pem.Decode([]byte(privateKeyData))\r\n\tvar rsaPrivateKey *rsa.PrivateKey\r\n\trsaPrivateKey, _ = x509.ParsePKCS1PrivateKey(privateKeyBlock.Bytes)\r\n\t\r\n\tdecrypted, err := DecryptOAEP(sha256.New(), sha1.New(), rng, rsaPrivateKey, ciphertext, label)\r\n\tif err != nil {\r\n    \t\tfmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\r\n    \t\treturn\r\n\t}\r\n\tfmt.Println(&quot;Go Encryption/Decryption : &quot; + string(decrypted))\t\r\n\t\r\n\t// Cross-platform test: ciphertext from Java\r\n\t/*\r\n\t\tCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\t\tOAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\n \t\tcipher.init(Cipher.ENCRYPT_MODE, publicKeyObject, oaepParameterSpec);\r\n\t    String ciphertextB64 = Base64.getEncoder().encodeToString(cipher.doFinal(data));\r\n\t*/\r\n\tciphertext,_ = base64.StdEncoding.DecodeString(&quot;cCrJasWOwVFrAQ8S+p7Cdn7OnCJn/FiCjZLzDkDISOSv15u1HcLbVAqNa7ory2AW/tsV5tNz5Y53azs6SN7dwYlu58YH7kwqkwfmvUwK8pLdPPRXGaUy8/gEbM4wkwHUuxbYm/bpoEjpmICBtWzb5VOsE1RWHnZu1G2BqGKe1+sE1XadVKQpBqNSahYdthY2Dk21i/PStO5S4eRrgW2nDdmxCs9UtV4MBU8BVYHYF0TYweA/udBoGTizSDjgmWn0RXYJruGvFMHWCRRlPnj+pcelatIfY4YKOHREYifKVkphkB7PT/JaVFyMZWzOtqzE13ZBWBwBmA/yCNLE/7krcg==&quot;)\t\r\n\tdecrypted, err = DecryptOAEP(sha256.New(), sha1.New(), rng, rsaPrivateKey, ciphertext, label)\r\n\tif err != nil {\r\n    \t\tfmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\r\n    \t\treturn\r\n\t}\r\n\tfmt.Println(&quot;Cross platform decryption: &quot; + string(decrypted))\t\r\n\t\r\n\r\n}\r\n\r\n// From rsa package - Encryption -------------------------------------------------------------\r\n\r\nfunc EncryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, pub *rsa.PublicKey, msg []byte, label []byte) ([]byte, error) {\r\n\tif err := checkPub(pub); err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\thash.Reset()\r\n\tk := pub.Size()\r\n\tif len(msg) &gt; k-2*hash.Size()-2 {\r\n\t\treturn nil, rsa.ErrMessageTooLong\r\n\t}\r\n\r\n\thash.Write(label)\r\n\tlHash := hash.Sum(nil)\r\n\thash.Reset()\r\n\r\n\tem := make([]byte, k)\r\n\tseed := em[1 : 1+hash.Size()]\r\n\tdb := em[1+hash.Size():]\r\n\r\n\tcopy(db[0:hash.Size()], lHash)\r\n\tdb[len(db)-len(msg)-1] = 1\r\n\tcopy(db[len(db)-len(msg):], msg)\r\n\r\n\t_, err := io.ReadFull(random, seed)\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\r\n\thashMGF1.Reset()\r\n\tmgf1XOR(db, hashMGF1, seed)\r\n\tmgf1XOR(seed, hashMGF1, db)\r\n\r\n\tm := new(big.Int)\r\n\tm.SetBytes(em)\r\n\tc := encrypt(new(big.Int), pub, m)\r\n\r\n\tout := make([]byte, k)\r\n\treturn c.FillBytes(out), nil\r\n}\r\n\r\nfunc encrypt(c *big.Int, pub *rsa.PublicKey, m *big.Int) *big.Int {\r\n\te := big.NewInt(int64(pub.E))\r\n\tc.Exp(m, e, pub.N)\r\n\treturn c\r\n}\r\n\r\n// From rsa package - Decryption -------------------------------------------------------------\r\n\r\nfunc DecryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, priv *rsa.PrivateKey, ciphertext []byte, label []byte) ([]byte, error) { // hashMGF1 hash.Hash added\r\n\tif err := checkPub(&amp;priv.PublicKey); err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\tk := priv.Size()\r\n\tif len(ciphertext) &gt; k ||\r\n\t\tk &lt; hash.Size()*2+2 {\r\n\t\treturn nil, rsa.ErrDecryption\r\n\t}\r\n\r\n\tc := new(big.Int).SetBytes(ciphertext)\r\n\r\n\tm, err := decrypt(random, priv, c)\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\r\n\thash.Write(label)\r\n\tlHash := hash.Sum(nil)\r\n\thash.Reset()\r\n\r\n\t// We probably leak the number of leading zeros.\r\n\t// It&#39;s not clear that we can do anything about this.\r\n\tem := m.FillBytes(make([]byte, k))\r\n\r\n\tfirstByteIsZero := subtle.ConstantTimeByteEq(em[0], 0)\r\n\r\n\tseed := em[1 : hash.Size()+1]\r\n\tdb := em[hash.Size()+1:]\r\n\r\n\thashMGF1.Reset()\r\n\tmgf1XOR(seed, hashMGF1, db) // apply hashMGF1\r\n\tmgf1XOR(db, hashMGF1, seed) // apply hashMGF1\r\n\r\n\tlHash2 := db[0:hash.Size()]\r\n\r\n\t// We have to validate the plaintext in constant time in order to avoid\r\n\t// attacks like: J. Manger. A Chosen Ciphertext Attack on RSA Optimal\r\n\t// Asymmetric Encryption Padding (OAEP) as Standardized in PKCS #1\r\n\t// v2.0. In J. Kilian, editor, Advances in Cryptology.\r\n\tlHash2Good := subtle.ConstantTimeCompare(lHash, lHash2)\r\n\r\n\t// The remainder of the plaintext must be zero or more 0x00, followed\r\n\t// by 0x01, followed by the message.\r\n\t//   lookingForIndex: 1 iff we are still looking for the 0x01\r\n\t//   index: the offset of the first 0x01 byte\r\n\t//   invalid: 1 iff we saw a non-zero byte before the 0x01.\r\n\tvar lookingForIndex, index, invalid int\r\n\tlookingForIndex = 1\r\n\trest := db[hash.Size():]\r\n\r\n\tfor i := 0; i &lt; len(rest); i++ {\r\n\t\tequals0 := subtle.ConstantTimeByteEq(rest[i], 0)\r\n\t\tequals1 := subtle.ConstantTimeByteEq(rest[i], 1)\r\n\t\tindex = subtle.ConstantTimeSelect(lookingForIndex&amp;equals1, i, index)\r\n\t\tlookingForIndex = subtle.ConstantTimeSelect(equals1, 0, lookingForIndex)\r\n\t\tinvalid = subtle.ConstantTimeSelect(lookingForIndex&amp;^equals0, 1, invalid)\r\n\t}\r\n\r\n\tif firstByteIsZero&amp;lHash2Good&amp;^invalid&amp;^lookingForIndex != 1 {\r\n\t\treturn nil, rsa.ErrDecryption\r\n\t}\r\n\r\n\treturn rest[index+1:], nil\r\n}\r\n\r\nvar bigZero = big.NewInt(0)\r\nvar bigOne = big.NewInt(1)\r\n\r\nfunc decrypt(random io.Reader, priv *rsa.PrivateKey, c *big.Int) (m *big.Int, err error) {\r\n\t// TODO(agl): can we get away with reusing blinds?\r\n\tif c.Cmp(priv.N) &gt; 0 {\r\n\t\terr = rsa.ErrDecryption\r\n\t\treturn\r\n\t}\r\n\tif priv.N.Sign() == 0 {\r\n\t\treturn nil, rsa.ErrDecryption\r\n\t}\r\n\r\n\tvar ir *big.Int\r\n\tif random != nil {\r\n\t\tMaybeReadByte(random)\r\n\r\n\t\t// Blinding enabled. Blinding involves multiplying c by r^e.\r\n\t\t// Then the decryption operation performs (m^e * r^e)^d mod n\r\n\t\t// which equals mr mod n. The factor of r can then be removed\r\n\t\t// by multiplying by the multiplicative inverse of r.\r\n\r\n\t\tvar r *big.Int\r\n\t\tir = new(big.Int)\r\n\t\tfor {\r\n\t\t\tr, err = rand.Int(random, priv.N)\r\n\t\t\tif err != nil {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif r.Cmp(bigZero) == 0 {\r\n\t\t\t\tr = bigOne\r\n\t\t\t}\r\n\t\t\tok := ir.ModInverse(r, priv.N)\r\n\t\t\tif ok != nil {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tbigE := big.NewInt(int64(priv.E))\r\n\t\trpowe := new(big.Int).Exp(r, bigE, priv.N) // N != 0\r\n\t\tcCopy := new(big.Int).Set(c)\r\n\t\tcCopy.Mul(cCopy, rpowe)\r\n\t\tcCopy.Mod(cCopy, priv.N)\r\n\t\tc = cCopy\r\n\t}\r\n\r\n\tif priv.Precomputed.Dp == nil {\r\n\t\tm = new(big.Int).Exp(c, priv.D, priv.N)\r\n\t} else {\r\n\t\t// We have the precalculated values needed for the CRT.\r\n\t\tm = new(big.Int).Exp(c, priv.Precomputed.Dp, priv.Primes[0])\r\n\t\tm2 := new(big.Int).Exp(c, priv.Precomputed.Dq, priv.Primes[1])\r\n\t\tm.Sub(m, m2)\r\n\t\tif m.Sign() &lt; 0 {\r\n\t\t\tm.Add(m, priv.Primes[0])\r\n\t\t}\r\n\t\tm.Mul(m, priv.Precomputed.Qinv)\r\n\t\tm.Mod(m, priv.Primes[0])\r\n\t\tm.Mul(m, priv.Primes[1])\r\n\t\tm.Add(m, m2)\r\n\r\n\t\tfor i, values := range priv.Precomputed.CRTValues {\r\n\t\t\tprime := priv.Primes[2+i]\r\n\t\t\tm2.Exp(c, values.Exp, prime)\r\n\t\t\tm2.Sub(m2, m)\r\n\t\t\tm2.Mul(m2, values.Coeff)\r\n\t\t\tm2.Mod(m2, prime)\r\n\t\t\tif m2.Sign() &lt; 0 {\r\n\t\t\t\tm2.Add(m2, prime)\r\n\t\t\t}\r\n\t\t\tm2.Mul(m2, values.R)\r\n\t\t\tm.Add(m, m2)\r\n\t\t}\r\n\t}\r\n\r\n\tif ir != nil {\r\n\t\t// Unblind.\r\n\t\tm.Mul(m, ir)\r\n\t\tm.Mod(m, priv.N)\r\n\t}\r\n\r\n\treturn\r\n}\r\n\r\nvar (\r\n\tclosedChanOnce sync.Once\r\n\tclosedChan     chan struct{}\r\n)\r\n\r\nfunc MaybeReadByte(r io.Reader) { // from &quot;crypto/internal/randutil&quot;\r\n\tclosedChanOnce.Do(func() {\r\n\t\tclosedChan = make(chan struct{})\r\n\t\tclose(closedChan)\r\n\t})\r\n\r\n\tselect {\r\n\tcase &lt;-closedChan:\r\n\t\treturn\r\n\tcase &lt;-closedChan:\r\n\t\tvar buf [1]byte\r\n\t\tr.Read(buf[:])\r\n\t}\r\n}\r\n\r\n// From rsa package - both -------------------------------------------------------------\r\n\r\nfunc mgf1XOR(out []byte, hash hash.Hash, seed []byte) {\r\n\tvar counter [4]byte\r\n\tvar digest []byte\r\n\r\n\tdone := 0\r\n\tfor done &lt; len(out) {\r\n\t\thash.Write(seed)\r\n\t\thash.Write(counter[0:4])\r\n\t\tdigest = hash.Sum(digest[:0])\r\n\t\thash.Reset()\r\n\r\n\t\tfor i := 0; i &lt; len(digest) &amp;&amp; done &lt; len(out); i++ {\r\n\t\t\tout[done] ^= digest[i]\r\n\t\t\tdone++\r\n\t\t}\r\n\t\tincCounter(&amp;counter)\r\n\t}\r\n}\r\n\r\nfunc checkPub(pub *rsa.PublicKey) error {\r\n\tif pub.N == nil {\r\n\t\treturn errPublicModulus\r\n\t}\r\n\tif pub.E &lt; 2 {\r\n\t\treturn errPublicExponentSmall\r\n\t}\r\n\tif pub.E &gt; 1&lt;&lt;31-1 {\r\n\t\treturn errPublicExponentLarge\r\n\t}\r\n\treturn nil\r\n}\r\n\r\nvar (\r\n\terrPublicModulus       = errors.New(&quot;crypto/rsa: missing public modulus&quot;)\r\n\terrPublicExponentSmall = errors.New(&quot;crypto/rsa: public exponent too small&quot;)\r\n\terrPublicExponentLarge = errors.New(&quot;crypto/rsa: public exponent too large&quot;)\r\n)\r\n\r\nfunc incCounter(c *[4]byte) {\r\n\tif c[3]++; c[3] != 0 {\r\n\t\treturn\r\n\t}\r\n\tif c[2]++; c[2] != 0 {\r\n\t\treturn\r\n\t}\r\n\tif c[1]++; c[1] != 0 {\r\n\t\treturn\r\n\t}\r\n\tc[0]++\r\n}\r\n```\r\n\r\n[1]: https://datatracker.ietf.org/doc/html/rfc8017#section-7.1\r\n[2]: https://datatracker.ietf.org/doc/html/rfc8017#appendix-B.2.1\r\n[3]: https://datatracker.ietf.org/doc/html/rfc8017#section-7.1.1\r\n[4]: https://datatracker.ietf.org/doc/html/rfc8017#appendix-A.2.1\r\n[5]: https://security.stackexchange.com/a/112032\r\n[6]: https://stackoverflow.com/a/69287156/9014097","title":"Java RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING Migrate To Go","body":"<p>The reason why both codes are not compatible has already been explained in the comments and the  <a href=\"https://stackoverflow.com/a/69287156/9014097\">other answer</a>: Go's crypto/rsa package, unlike the Java code, does not allow the <em>separate</em> specification of OAEP digest and MGF1 digest, resulting in different MGF1 digests being used in both codes.<br>\nIn contrast, this answer should focus on the adaptation of the crypto/rsa package to fix the issue.</p>\n<p>The meaning of both digests is described in RFC 8017, more precisely in section <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#section-7.1\" rel=\"nofollow noreferrer\"><em>7.1 RSAES-OAEP</em></a>, where OAEP is defined.<br>\nAs options and input parameters a digest (OAEP digest), a mask generation function, a label, the message and the public key are specified, s. <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#section-7.1.1\" rel=\"nofollow noreferrer\"><em>7.1.1 Encryption Operation</em></a>. The OAEP digest is used to hash the label, s. <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#section-7.1.1\" rel=\"nofollow noreferrer\"><em>7.1.1, Step 2a</em></a>. As mask generation function RFC 8017 defines MGF1 <em>exclusively</em> (s. <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#appendix-B.2.1\" rel=\"nofollow noreferrer\"><em>B.2.1 MGF1</em></a>), which is therefore generally used in OAEP. MGF1 is based on a digest (MGF1 digest).<br>\nRFC 8017 specifies the following default values, s. <a href=\"https://datatracker.ietf.org/doc/html/rfc8017#appendix-A.2.1\" rel=\"nofollow noreferrer\"><em>A.2.1 RSAES-OAEP</em></a>: MGF1, SHA1 for the OAEP and MGF1 digests, and an empty label.</p>\n<p>Although SHA-1 is now deemed insecure, there are no known insecurities in the context of OAEP, s. <a href=\"https://security.stackexchange.com/a/112032\">here</a>. Nevertheless, SHA256 is meanwhile often used, as a preventive measure or in the course of eliminating SHA-1 from the ecosystem.<br>\nFurthermore, RFC 8017 does not exclude the use of different digests for the OAEP and the MGF1 digest, as in your example.<br>\nTherefore, an implementation should allow the independent specification of both digests, which the crypto/rsa package fails to do.</p>\n<p>To allow both digests to be specified separately, a second parameter must be used in the <code>EncryptOAEP()</code> and <code>DecryptOAEP()</code> functions to pass the MGF1 digest, which is then applied to MGF1:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>func EncryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, pub *rsa.PublicKey, msg []byte, label []byte) ([]byte, error) {\n    ...\n    hashMGF1.Reset()\n    mgf1XOR(seed, hashMGF1, db) \n    mgf1XOR(db, hashMGF1, seed) \n    ...\n}\n</code></pre>\n<p>and analogously for <code>DecryptOAEP()</code>.</p>\n<p>This could best be implemented with a corresponding adjustment of the crypto/rsa package itself. Alternatively, as a workaround, the required functions can be copied from the crypto/rsa package and adapted, as in the following code inclusive test:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;crypto/rand&quot;\n    &quot;crypto/subtle&quot;\n    &quot;crypto/rsa&quot;\n    &quot;crypto/sha256&quot;\n    &quot;crypto/sha1&quot;\n    &quot;crypto/x509&quot;\n    &quot;encoding/pem&quot;\n    &quot;encoding/base64&quot;\n    &quot;hash&quot;\n    &quot;errors&quot;\n    &quot;io&quot;\n    &quot;math/big&quot;\n    &quot;sync&quot;\n    &quot;fmt&quot;\n    )\n\nfunc main() {\n\n    var publicKeyData = `-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoZ67dtUTLxoXnNEzRBFB\nmwukEJGC+y69cGgpNbtElQj3m4Aft/7cu9qYbTNguTSnCDt7uovZNb21u1vpZwKH\nyVgFEGO4SA8RNnjhJt2D7z8RDMWX3saody7jo9TKlrPABLZGo2o8vadW8Dly/v+I\nd0YDheCkVCoCEeUjQ8koXZhTwhYkGPu+vkdiqX5cUaiVTu1uzt591aO5Vw/hV4DI\nhFKnOTnYXnpXiwRwtPyYoGTa64yWfi2t0bv99qz0BgDjQjD0civCe8LRXGGhyB1U\n1aHjDDGEnulTYJyEqCzNGwBpzEHUjqIOXElFjt55AFGpCHAuyuoXoP3gQvoSj6RC\nsQIDAQAB\n-----END PUBLIC KEY-----`\n\n    var privateKeyData = `-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAoZ67dtUTLxoXnNEzRBFBmwukEJGC+y69cGgpNbtElQj3m4Af\nt/7cu9qYbTNguTSnCDt7uovZNb21u1vpZwKHyVgFEGO4SA8RNnjhJt2D7z8RDMWX\n3saody7jo9TKlrPABLZGo2o8vadW8Dly/v+Id0YDheCkVCoCEeUjQ8koXZhTwhYk\nGPu+vkdiqX5cUaiVTu1uzt591aO5Vw/hV4DIhFKnOTnYXnpXiwRwtPyYoGTa64yW\nfi2t0bv99qz0BgDjQjD0civCe8LRXGGhyB1U1aHjDDGEnulTYJyEqCzNGwBpzEHU\njqIOXElFjt55AFGpCHAuyuoXoP3gQvoSj6RCsQIDAQABAoIBAGoYl5ukuJk9Ga8a\nLftLELRFaghuXXui7T0zQ4pASv9DCbiM3UWeCy1OjK1zAtXR2Kywz8JgN9DtnrVF\n2uyCXr0wCPL/Y2P6cCRAKh2nYQrXbcvikpXt9311zH4qHGvdx/nP5oM0JHejuJCu\nRe1btiwGTB3AoF+XzBAPSZ0gGl2FqDQ7qLqqwG9Xr+78STLdN8UOUCsKV3qdTM6N\nXLeXliI0XIFQgT6XMiRGEvhJVaUTJ/3q23xza87k8jpqGsh5ArtnG6LUON26rEed\nBL2ome7HNV+IOR143PXVrBMyn6qnwAas+Zt+WfCbBCP0k68oL7mzLmP6IzY4KBE9\nBFEo04ECgYEA9GMgi2Xm9OqjUmihMt0oPnPcMx0DR+4mZezPVED2f3garOKcWvOV\ny1N/Mn5A9L785jPjWE+ui7i5DT6AMJiWxkeEdYjXmZhpG9I3pha1yaLzBXjl+Dri\n/dCXZxQq+Z7axnBxwIhDNHAeeCAau6hLfzsGgv5YAvSeg6KU7Af16dkCgYEAqUzG\njvZxfV/2qPMdNh9oUcvVbIcnIphnTP1Ma7BAD6anTnSru2EDLR66yiRtdrC9E54d\n4xWeTNHsSUcaQBkAsyp7Cpewgy4vmo8GE3qUu91Jk3/1ZN6jxLyMoakyzhYTmq4s\nQsTPC1daUXqpRjGYzP/8dMMzlKQ2Vncp+2BXgJkCgYEAinzJ6nSahluYpZBpGLu+\nnHVnaQed3lsUI1oouyP9C4ryAtp/pAK49fmg8OoewRKhmYn54Qd2b/MD2n96gQ9X\nEZFhfIFJO97kYUGlC1d/OH5AnO8/0oT8MLzNrzn8iGv+qcj6jRIqk0Kd4ZC/1Wuv\nLLA0JnMfSL16PjoZjg+MyTECgYBRq47RooMnBycXY4hA9q+9XcZMP3qajsiudDbs\ncC7HHg7xowjBMNB2cK+NGjuQGTxs/UbPqDsgNdh1lQ5Nw4H57FFEz94/ugUO21YE\nCYs8gUigFgdMLLb2DjsNNXEjx7SXVtRVNVnnz7DrQ2/rQ7vBkO+5Z/03BGyOE5g2\nAsjTaQKBgDLpbXN2p3eubQGJqv/K6f/9LBux/RWGXnZ+C1oCtGrUj+Ja8N6+cd6G\nMz9Go00GCdCUZXByx6rAZQaw7kWcI646miaplX4YtbX1d2mwbnmmz9EH4aRhzdby\n9VDoPXBgf4dufgNoS3xP4NS4H5oPg0gPS0vwpWspWqplLM+N/kGj\n-----END RSA PRIVATE KEY-----`\n    \n    secretMessage := []byte(&quot;The quick brown fox jumps over the lazy dog&quot;)\n    label := []byte(&quot;&quot;)\n    rng := rand.Reader\n\n    // Encryption -------------------------------------------------------------\n    \n    // Load public key\n    pubKeyBlock, _ := pem.Decode([]byte(publicKeyData))\n    var rsaPublicKey *rsa.PublicKey\n    pubInterface, parseErr := x509.ParsePKIXPublicKey(pubKeyBlock.Bytes)\n    if parseErr != nil {\n        fmt.Println(&quot;Load public key error&quot;)\n        panic(parseErr)\n    }\n    rsaPublicKey = pubInterface.(*rsa.PublicKey)\n\n    ciphertext, err := EncryptOAEP(sha256.New(), sha1.New(), rng, rsaPublicKey, secretMessage, label)\n    if err != nil {\n            fmt.Printf(&quot;Error from encryption: %s\\n&quot;, err)\n            return\n    }\n\n    // Decryption -------------------------------------------------------------\n    \n    // Load private key\n    privateKeyBlock, _ := pem.Decode([]byte(privateKeyData))\n    var rsaPrivateKey *rsa.PrivateKey\n    rsaPrivateKey, _ = x509.ParsePKCS1PrivateKey(privateKeyBlock.Bytes)\n    \n    decrypted, err := DecryptOAEP(sha256.New(), sha1.New(), rng, rsaPrivateKey, ciphertext, label)\n    if err != nil {\n            fmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\n            return\n    }\n    fmt.Println(&quot;Go Encryption/Decryption : &quot; + string(decrypted))  \n    \n    // Cross-platform test: ciphertext from Java\n    /*\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n        OAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\n        cipher.init(Cipher.ENCRYPT_MODE, publicKeyObject, oaepParameterSpec);\n        String ciphertextB64 = Base64.getEncoder().encodeToString(cipher.doFinal(data));\n    */\n    ciphertext,_ = base64.StdEncoding.DecodeString(&quot;cCrJasWOwVFrAQ8S+p7Cdn7OnCJn/FiCjZLzDkDISOSv15u1HcLbVAqNa7ory2AW/tsV5tNz5Y53azs6SN7dwYlu58YH7kwqkwfmvUwK8pLdPPRXGaUy8/gEbM4wkwHUuxbYm/bpoEjpmICBtWzb5VOsE1RWHnZu1G2BqGKe1+sE1XadVKQpBqNSahYdthY2Dk21i/PStO5S4eRrgW2nDdmxCs9UtV4MBU8BVYHYF0TYweA/udBoGTizSDjgmWn0RXYJruGvFMHWCRRlPnj+pcelatIfY4YKOHREYifKVkphkB7PT/JaVFyMZWzOtqzE13ZBWBwBmA/yCNLE/7krcg==&quot;)  \n    decrypted, err = DecryptOAEP(sha256.New(), sha1.New(), rng, rsaPrivateKey, ciphertext, label)\n    if err != nil {\n            fmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\n            return\n    }\n    fmt.Println(&quot;Cross platform decryption: &quot; + string(decrypted))  \n    \n\n}\n\n// From rsa package - Encryption -------------------------------------------------------------\n\nfunc EncryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, pub *rsa.PublicKey, msg []byte, label []byte) ([]byte, error) {\n    if err := checkPub(pub); err != nil {\n        return nil, err\n    }\n    hash.Reset()\n    k := pub.Size()\n    if len(msg) &gt; k-2*hash.Size()-2 {\n        return nil, rsa.ErrMessageTooLong\n    }\n\n    hash.Write(label)\n    lHash := hash.Sum(nil)\n    hash.Reset()\n\n    em := make([]byte, k)\n    seed := em[1 : 1+hash.Size()]\n    db := em[1+hash.Size():]\n\n    copy(db[0:hash.Size()], lHash)\n    db[len(db)-len(msg)-1] = 1\n    copy(db[len(db)-len(msg):], msg)\n\n    _, err := io.ReadFull(random, seed)\n    if err != nil {\n        return nil, err\n    }\n\n    hashMGF1.Reset()\n    mgf1XOR(db, hashMGF1, seed)\n    mgf1XOR(seed, hashMGF1, db)\n\n    m := new(big.Int)\n    m.SetBytes(em)\n    c := encrypt(new(big.Int), pub, m)\n\n    out := make([]byte, k)\n    return c.FillBytes(out), nil\n}\n\nfunc encrypt(c *big.Int, pub *rsa.PublicKey, m *big.Int) *big.Int {\n    e := big.NewInt(int64(pub.E))\n    c.Exp(m, e, pub.N)\n    return c\n}\n\n// From rsa package - Decryption -------------------------------------------------------------\n\nfunc DecryptOAEP(hash hash.Hash, hashMGF1 hash.Hash, random io.Reader, priv *rsa.PrivateKey, ciphertext []byte, label []byte) ([]byte, error) { // hashMGF1 hash.Hash added\n    if err := checkPub(&amp;priv.PublicKey); err != nil {\n        return nil, err\n    }\n    k := priv.Size()\n    if len(ciphertext) &gt; k ||\n        k &lt; hash.Size()*2+2 {\n        return nil, rsa.ErrDecryption\n    }\n\n    c := new(big.Int).SetBytes(ciphertext)\n\n    m, err := decrypt(random, priv, c)\n    if err != nil {\n        return nil, err\n    }\n\n    hash.Write(label)\n    lHash := hash.Sum(nil)\n    hash.Reset()\n\n    // We probably leak the number of leading zeros.\n    // It's not clear that we can do anything about this.\n    em := m.FillBytes(make([]byte, k))\n\n    firstByteIsZero := subtle.ConstantTimeByteEq(em[0], 0)\n\n    seed := em[1 : hash.Size()+1]\n    db := em[hash.Size()+1:]\n\n    hashMGF1.Reset()\n    mgf1XOR(seed, hashMGF1, db) // apply hashMGF1\n    mgf1XOR(db, hashMGF1, seed) // apply hashMGF1\n\n    lHash2 := db[0:hash.Size()]\n\n    // We have to validate the plaintext in constant time in order to avoid\n    // attacks like: J. Manger. A Chosen Ciphertext Attack on RSA Optimal\n    // Asymmetric Encryption Padding (OAEP) as Standardized in PKCS #1\n    // v2.0. In J. Kilian, editor, Advances in Cryptology.\n    lHash2Good := subtle.ConstantTimeCompare(lHash, lHash2)\n\n    // The remainder of the plaintext must be zero or more 0x00, followed\n    // by 0x01, followed by the message.\n    //   lookingForIndex: 1 iff we are still looking for the 0x01\n    //   index: the offset of the first 0x01 byte\n    //   invalid: 1 iff we saw a non-zero byte before the 0x01.\n    var lookingForIndex, index, invalid int\n    lookingForIndex = 1\n    rest := db[hash.Size():]\n\n    for i := 0; i &lt; len(rest); i++ {\n        equals0 := subtle.ConstantTimeByteEq(rest[i], 0)\n        equals1 := subtle.ConstantTimeByteEq(rest[i], 1)\n        index = subtle.ConstantTimeSelect(lookingForIndex&amp;equals1, i, index)\n        lookingForIndex = subtle.ConstantTimeSelect(equals1, 0, lookingForIndex)\n        invalid = subtle.ConstantTimeSelect(lookingForIndex&amp;^equals0, 1, invalid)\n    }\n\n    if firstByteIsZero&amp;lHash2Good&amp;^invalid&amp;^lookingForIndex != 1 {\n        return nil, rsa.ErrDecryption\n    }\n\n    return rest[index+1:], nil\n}\n\nvar bigZero = big.NewInt(0)\nvar bigOne = big.NewInt(1)\n\nfunc decrypt(random io.Reader, priv *rsa.PrivateKey, c *big.Int) (m *big.Int, err error) {\n    // TODO(agl): can we get away with reusing blinds?\n    if c.Cmp(priv.N) &gt; 0 {\n        err = rsa.ErrDecryption\n        return\n    }\n    if priv.N.Sign() == 0 {\n        return nil, rsa.ErrDecryption\n    }\n\n    var ir *big.Int\n    if random != nil {\n        MaybeReadByte(random)\n\n        // Blinding enabled. Blinding involves multiplying c by r^e.\n        // Then the decryption operation performs (m^e * r^e)^d mod n\n        // which equals mr mod n. The factor of r can then be removed\n        // by multiplying by the multiplicative inverse of r.\n\n        var r *big.Int\n        ir = new(big.Int)\n        for {\n            r, err = rand.Int(random, priv.N)\n            if err != nil {\n                return\n            }\n            if r.Cmp(bigZero) == 0 {\n                r = bigOne\n            }\n            ok := ir.ModInverse(r, priv.N)\n            if ok != nil {\n                break\n            }\n        }\n        bigE := big.NewInt(int64(priv.E))\n        rpowe := new(big.Int).Exp(r, bigE, priv.N) // N != 0\n        cCopy := new(big.Int).Set(c)\n        cCopy.Mul(cCopy, rpowe)\n        cCopy.Mod(cCopy, priv.N)\n        c = cCopy\n    }\n\n    if priv.Precomputed.Dp == nil {\n        m = new(big.Int).Exp(c, priv.D, priv.N)\n    } else {\n        // We have the precalculated values needed for the CRT.\n        m = new(big.Int).Exp(c, priv.Precomputed.Dp, priv.Primes[0])\n        m2 := new(big.Int).Exp(c, priv.Precomputed.Dq, priv.Primes[1])\n        m.Sub(m, m2)\n        if m.Sign() &lt; 0 {\n            m.Add(m, priv.Primes[0])\n        }\n        m.Mul(m, priv.Precomputed.Qinv)\n        m.Mod(m, priv.Primes[0])\n        m.Mul(m, priv.Primes[1])\n        m.Add(m, m2)\n\n        for i, values := range priv.Precomputed.CRTValues {\n            prime := priv.Primes[2+i]\n            m2.Exp(c, values.Exp, prime)\n            m2.Sub(m2, m)\n            m2.Mul(m2, values.Coeff)\n            m2.Mod(m2, prime)\n            if m2.Sign() &lt; 0 {\n                m2.Add(m2, prime)\n            }\n            m2.Mul(m2, values.R)\n            m.Add(m, m2)\n        }\n    }\n\n    if ir != nil {\n        // Unblind.\n        m.Mul(m, ir)\n        m.Mod(m, priv.N)\n    }\n\n    return\n}\n\nvar (\n    closedChanOnce sync.Once\n    closedChan     chan struct{}\n)\n\nfunc MaybeReadByte(r io.Reader) { // from &quot;crypto/internal/randutil&quot;\n    closedChanOnce.Do(func() {\n        closedChan = make(chan struct{})\n        close(closedChan)\n    })\n\n    select {\n    case &lt;-closedChan:\n        return\n    case &lt;-closedChan:\n        var buf [1]byte\n        r.Read(buf[:])\n    }\n}\n\n// From rsa package - both -------------------------------------------------------------\n\nfunc mgf1XOR(out []byte, hash hash.Hash, seed []byte) {\n    var counter [4]byte\n    var digest []byte\n\n    done := 0\n    for done &lt; len(out) {\n        hash.Write(seed)\n        hash.Write(counter[0:4])\n        digest = hash.Sum(digest[:0])\n        hash.Reset()\n\n        for i := 0; i &lt; len(digest) &amp;&amp; done &lt; len(out); i++ {\n            out[done] ^= digest[i]\n            done++\n        }\n        incCounter(&amp;counter)\n    }\n}\n\nfunc checkPub(pub *rsa.PublicKey) error {\n    if pub.N == nil {\n        return errPublicModulus\n    }\n    if pub.E &lt; 2 {\n        return errPublicExponentSmall\n    }\n    if pub.E &gt; 1&lt;&lt;31-1 {\n        return errPublicExponentLarge\n    }\n    return nil\n}\n\nvar (\n    errPublicModulus       = errors.New(&quot;crypto/rsa: missing public modulus&quot;)\n    errPublicExponentSmall = errors.New(&quot;crypto/rsa: public exponent too small&quot;)\n    errPublicExponentLarge = errors.New(&quot;crypto/rsa: public exponent too large&quot;)\n)\n\nfunc incCounter(c *[4]byte) {\n    if c[3]++; c[3] != 0 {\n        return\n    }\n    if c[2]++; c[2] != 0 {\n        return\n    }\n    if c[1]++; c[1] != 0 {\n        return\n    }\n    c[0]++\n}\n</code></pre>\n"}],"owner":{"account_id":1633589,"reputation":1482,"user_id":1507669,"display_name":"hmmftg Stands with Palestine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2133,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":69333971,"answer_count":2,"score":3,"last_activity_date":1632689309,"creation_date":1632323224,"question_id":69286881,"body_markdown":"I want to migrate a code from Java to Go, these methods should be able to cipher/decipher each others output, but they generate different results and can not decrypt other ones cipher:\r\n\r\n**java Code**\r\n\r\n    public static byte[] encrypt(byte[] data, PublicKey publicKeyObject)\r\n\t\t\tthrows BadPaddingException, IllegalBlockSizeException,\r\n\t\t\tInvalidKeyException, NoSuchPaddingException,\r\n\t\t\tNoSuchAlgorithmException {\r\n\t\tCipher cipher = Cipher\r\n\t\t\t\t.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\r\n\t\tOAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;,\r\n\t\t\t\t&quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\n\t\ttry {\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, publicKeyObject,\r\n\t\t\t\t\toaepParameterSpec);\r\n\t\t} catch (InvalidAlgorithmParameterException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn cipher.doFinal(data);\r\n\t}\r\n    \r\n    private static byte[] decrypt(byte[] data, PrivateKey privateKeyObj)\r\n\t\t\tthrows NoSuchPaddingException, NoSuchAlgorithmException,\r\n\t\t\tInvalidKeyException, BadPaddingException,\r\n\t\t\tIllegalBlockSizeException {\r\n\t\tCipher cipher = Cipher\r\n\t\t\t\t.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\r\n\t\tOAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;,\r\n\t\t\t\t&quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\n\t\ttry {\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, privateKeyObj, oaepParameterSpec);\r\n\r\n\t\t} catch (InvalidAlgorithmParameterException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn cipher.doFinal(data);\r\n\t}\r\n\r\n**Go Code**\r\n\r\n    rng := rand.Reader\r\n\r\n\tciphertext, err := rsa.EncryptOAEP(sha256.New(), rng, rsaPublicKey, secretMessage, label)\r\n\tif err != nil {\r\n\t\tfmt.Printf(&quot;Error from encryption: %s\\n&quot;, err)\r\n\t\treturn\r\n\t}\r\n    clearText, err := rsa.DecryptOAEP(sha256.New(), rng, rsaPrivateKey, ciphertext, label)\r\n\tif err != nil {\r\n\t\tfmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\r\n\t\treturn\r\n\t}\r\n\r\n\r\nI even tried sha1 as first parameter of **Go** but the results are difference.\r\n\r\ncan anybody help me with this?","title":"Java RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING Migrate To Go","body":"<p>I want to migrate a code from Java to Go, these methods should be able to cipher/decipher each others output, but they generate different results and can not decrypt other ones cipher:</p>\n<p><strong>java Code</strong></p>\n<pre><code>public static byte[] encrypt(byte[] data, PublicKey publicKeyObject)\n        throws BadPaddingException, IllegalBlockSizeException,\n        InvalidKeyException, NoSuchPaddingException,\n        NoSuchAlgorithmException {\n    Cipher cipher = Cipher\n            .getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n\n    OAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;,\n            &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\n    try {\n        cipher.init(Cipher.ENCRYPT_MODE, publicKeyObject,\n                oaepParameterSpec);\n    } catch (InvalidAlgorithmParameterException e) {\n        e.printStackTrace();\n        return null;\n    }\n    return cipher.doFinal(data);\n}\n\nprivate static byte[] decrypt(byte[] data, PrivateKey privateKeyObj)\n        throws NoSuchPaddingException, NoSuchAlgorithmException,\n        InvalidKeyException, BadPaddingException,\n        IllegalBlockSizeException {\n    Cipher cipher = Cipher\n            .getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n\n    OAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;,\n            &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\n    try {\n        cipher.init(Cipher.DECRYPT_MODE, privateKeyObj, oaepParameterSpec);\n\n    } catch (InvalidAlgorithmParameterException e) {\n        e.printStackTrace();\n        return null;\n    }\n\n    return cipher.doFinal(data);\n}\n</code></pre>\n<p><strong>Go Code</strong></p>\n<pre><code>rng := rand.Reader\n\nciphertext, err := rsa.EncryptOAEP(sha256.New(), rng, rsaPublicKey, secretMessage, label)\nif err != nil {\n    fmt.Printf(&quot;Error from encryption: %s\\n&quot;, err)\n    return\n}\nclearText, err := rsa.DecryptOAEP(sha256.New(), rng, rsaPrivateKey, ciphertext, label)\nif err != nil {\n    fmt.Printf(&quot;Error from decryption: %s\\n&quot;, err)\n    return\n}\n</code></pre>\n<p>I even tried sha1 as first parameter of <strong>Go</strong> but the results are difference.</p>\n<p>can anybody help me with this?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3398660,"reputation":828,"user_id":2851528,"display_name":"Arvin Rezaei"},"score":0,"creation_date":1632229088,"post_id":69269269,"comment_id":122431604,"body_markdown":"why are you passing null background ? make it white and check result","body":"why are you passing null background ? make it white and check result"},{"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"score":0,"creation_date":1632235648,"post_id":69269269,"comment_id":122434615,"body_markdown":"I did. Did not work. This is after a couple of tries - I tried setting the colors of different things to white, but it didn&#39;t work.","body":"I did. Did not work. This is after a couple of tries - I tried setting the colors of different things to white, but it didn&#39;t work."},{"owner":{"account_id":3398660,"reputation":828,"user_id":2851528,"display_name":"Arvin Rezaei"},"score":0,"creation_date":1632253421,"post_id":69269269,"comment_id":122441419,"body_markdown":"can we see your adapter codes","body":"can we see your adapter codes"},{"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"score":0,"creation_date":1632253628,"post_id":69269269,"comment_id":122441497,"body_markdown":"added my adapter","body":"added my adapter"}],"answers":[{"tags":[],"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632687820,"creation_date":1632687820,"answer_id":69338672,"question_id":69269269,"body_markdown":"Put this code below to replace your TripAdapter code.\r\n\r\n    package com.alonkh2.finalproject;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TripAdapter extends RecyclerView.Adapter&lt;TripAdapter.ViewHolder&gt; {\r\n    \tContext context;\r\n        private ArrayList&lt;Trip&gt; trips;\r\n    \r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            // Your holder should contain a member variable\r\n            // for any view that will be set as you render a row\r\n            public TextView destination, startDate, endDate, length;\r\n    \r\n            // We also create a constructor that accepts the entire item row\r\n            // and does the view lookups to find each subview\r\n            public ViewHolder(View itemView) {\r\n                // Stores the itemView in a public final member variable that can be used\r\n                // to access the context from any ViewHolder instance.\r\n                super(itemView);\r\n                destination = (TextView) itemView.findViewById(R.id.destination);\r\n                startDate = (TextView) itemView.findViewById(R.id.start_date);\r\n                // endDate = (TextView) itemView.findViewById(R.id.end_date);\r\n                length = (TextView) itemView.findViewById(R.id.trip_length);\r\n    \r\n            }\r\n        }\r\n    \r\n        public TripAdapter(Context context, ArrayList&lt;Trip&gt; trips) {\r\n    \t\tthis.context = context;\r\n            this.trips = trips;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public TripAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n    \r\n            // Inflate the custom layout\r\n            View contactView = inflater.inflate(R.layout.activity_listview, parent, false);\r\n    \r\n            // Return a new holder instance\r\n            return new ViewHolder(contactView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull TripAdapter.ViewHolder holder, int position) {\r\n            Trip trip = trips.get(position);\r\n    \r\n            // Set item views based on your views and data model\r\n            holder.destination.setText(trip.getDestination());\r\n            holder.startDate.setText(trip.getStrStartDate().substring(0, trip.getStrStartDate().indexOf(&quot; &quot;)));\r\n    //        holder.endDate.setText(trip.getStrEndDate().substring(0, trip.getStrEndDate().indexOf(&quot; &quot;)));\r\n            holder.length.setText(trip.getLength() + (trip.getLength() == 1 ? &quot; day&quot; : &quot; days&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return trips.size();\r\n        }\r\n    }\r\n\r\n","title":"Why is my view changing color upon reloading?","body":"<p>Put this code below to replace your TripAdapter code.</p>\n<pre><code>package com.alonkh2.finalproject;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TripAdapter extends RecyclerView.Adapter&lt;TripAdapter.ViewHolder&gt; {\n    Context context;\n    private ArrayList&lt;Trip&gt; trips;\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // Your holder should contain a member variable\n        // for any view that will be set as you render a row\n        public TextView destination, startDate, endDate, length;\n\n        // We also create a constructor that accepts the entire item row\n        // and does the view lookups to find each subview\n        public ViewHolder(View itemView) {\n            // Stores the itemView in a public final member variable that can be used\n            // to access the context from any ViewHolder instance.\n            super(itemView);\n            destination = (TextView) itemView.findViewById(R.id.destination);\n            startDate = (TextView) itemView.findViewById(R.id.start_date);\n            // endDate = (TextView) itemView.findViewById(R.id.end_date);\n            length = (TextView) itemView.findViewById(R.id.trip_length);\n\n        }\n    }\n\n    public TripAdapter(Context context, ArrayList&lt;Trip&gt; trips) {\n        this.context = context;\n        this.trips = trips;\n    }\n\n    @NonNull\n    @Override\n    public TripAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n\n        // Inflate the custom layout\n        View contactView = inflater.inflate(R.layout.activity_listview, parent, false);\n\n        // Return a new holder instance\n        return new ViewHolder(contactView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull TripAdapter.ViewHolder holder, int position) {\n        Trip trip = trips.get(position);\n\n        // Set item views based on your views and data model\n        holder.destination.setText(trip.getDestination());\n        holder.startDate.setText(trip.getStrStartDate().substring(0, trip.getStrStartDate().indexOf(&quot; &quot;)));\n//        holder.endDate.setText(trip.getStrEndDate().substring(0, trip.getStrEndDate().indexOf(&quot; &quot;)));\n        holder.length.setText(trip.getLength() + (trip.getLength() == 1 ? &quot; day&quot; : &quot; days&quot;));\n    }\n\n    @Override\n    public int getItemCount() {\n        return trips.size();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632687820,"creation_date":1632228900,"question_id":69269269,"body_markdown":"I am developing an android app, and need to use a recyclerview for it. I want its background to be white, but for some reason when I run the app it turns out gray. That being said, if I reload the activity, or go back and then again to the activity, the color does turn white. Has anyone ever encountered such a problem?\r\n\r\n[This is how it looks when you first enter the app][1]\r\n\r\n[And this is what happens if you reload the activity.][2]\r\n\r\nHere&#39;s my item\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/trip&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;70dp&quot;\r\n    android:background=&quot;@null&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/destination&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;.333&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/start_date&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;.33&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/destination&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/trip_length&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;.333&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nand here is my main activity\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView3&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;180dp&quot;\r\n        android:contentDescription=&quot;@string/app_logo&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:srcCompat=&quot;@drawable/app_logo&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/main_name&quot;\r\n        android:layout_width=&quot;359dp&quot;\r\n        android:layout_height=&quot;26dp&quot;\r\n        android:text=&quot;@string/welcome_message&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.865&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.178&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/trips&quot;\r\n        android:layout_width=&quot;350dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:fadingEdge=&quot;horizontal|vertical&quot;\r\n        android:maxHeight=&quot;200dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nThis is my adapter\r\n```\r\npackage com.alonkh2.finalproject;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TripAdapter extends RecyclerView.Adapter&lt;TripAdapter.ViewHolder&gt; {\r\n    private ArrayList&lt;Trip&gt; trips;\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // Your holder should contain a member variable\r\n        // for any view that will be set as you render a row\r\n        public TextView destination, startDate, endDate, length;\r\n\r\n        // We also create a constructor that accepts the entire item row\r\n        // and does the view lookups to find each subview\r\n        public ViewHolder(View itemView) {\r\n            // Stores the itemView in a public final member variable that can be used\r\n            // to access the context from any ViewHolder instance.\r\n            super(itemView);\r\n            destination = (TextView) itemView.findViewById(R.id.destination);\r\n            startDate = (TextView) itemView.findViewById(R.id.start_date);\r\n            // endDate = (TextView) itemView.findViewById(R.id.end_date);\r\n            length = (TextView) itemView.findViewById(R.id.trip_length);\r\n\r\n        }\r\n    }\r\n\r\n    public TripAdapter(ArrayList&lt;Trip&gt; trips) {\r\n        this.trips = trips;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TripAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n\r\n        // Inflate the custom layout\r\n        View contactView = inflater.inflate(R.layout.activity_listview, parent, false);\r\n\r\n        // Return a new holder instance\r\n        return new ViewHolder(contactView);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TripAdapter.ViewHolder holder, int position) {\r\n        Trip trip = trips.get(position);\r\n\r\n        // Set item views based on your views and data model\r\n        TextView textView = holder.destination;\r\n        textView.setText(trip.getDestination());\r\n        textView = holder.startDate;\r\n        textView.setText(trip.getStrStartDate().substring(0, trip.getStrStartDate().indexOf(&quot; &quot;)));\r\n//        textView = holder.endDate;\r\n//        textView.setText(trip.getStrEndDate().substring(0, trip.getStrEndDate().indexOf(&quot; &quot;)));\r\n        textView = holder.length;\r\n        textView.setText(trip.getLength() + (trip.getLength() == 1 ? &quot; day&quot; : &quot; days&quot;));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return trips.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/TbfKW.png\r\n  [2]: https://i.stack.imgur.com/yccYs.png","title":"Why is my view changing color upon reloading?","body":"<p>I am developing an android app, and need to use a recyclerview for it. I want its background to be white, but for some reason when I run the app it turns out gray. That being said, if I reload the activity, or go back and then again to the activity, the color does turn white. Has anyone ever encountered such a problem?</p>\n<p><a href=\"https://i.stack.imgur.com/TbfKW.png\" rel=\"nofollow noreferrer\">This is how it looks when you first enter the app</a></p>\n<p><a href=\"https://i.stack.imgur.com/yccYs.png\" rel=\"nofollow noreferrer\">And this is what happens if you reload the activity.</a></p>\n<p>Here's my item</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/trip&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;70dp&quot;\n    android:background=&quot;@null&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/destination&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;.333&quot;\n        android:gravity=&quot;center&quot;\n        android:textSize=&quot;24sp&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/start_date&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;.33&quot;\n        android:gravity=&quot;center&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/destination&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/trip_length&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;.333&quot;\n        android:gravity=&quot;center&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and here is my main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView3&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;180dp&quot;\n        android:contentDescription=&quot;@string/app_logo&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:srcCompat=&quot;@drawable/app_logo&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/main_name&quot;\n        android:layout_width=&quot;359dp&quot;\n        android:layout_height=&quot;26dp&quot;\n        android:text=&quot;@string/welcome_message&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.865&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.178&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/trips&quot;\n        android:layout_width=&quot;350dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:fadingEdge=&quot;horizontal|vertical&quot;\n        android:maxHeight=&quot;200dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This is my adapter</p>\n<pre><code>package com.alonkh2.finalproject;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TripAdapter extends RecyclerView.Adapter&lt;TripAdapter.ViewHolder&gt; {\n    private ArrayList&lt;Trip&gt; trips;\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // Your holder should contain a member variable\n        // for any view that will be set as you render a row\n        public TextView destination, startDate, endDate, length;\n\n        // We also create a constructor that accepts the entire item row\n        // and does the view lookups to find each subview\n        public ViewHolder(View itemView) {\n            // Stores the itemView in a public final member variable that can be used\n            // to access the context from any ViewHolder instance.\n            super(itemView);\n            destination = (TextView) itemView.findViewById(R.id.destination);\n            startDate = (TextView) itemView.findViewById(R.id.start_date);\n            // endDate = (TextView) itemView.findViewById(R.id.end_date);\n            length = (TextView) itemView.findViewById(R.id.trip_length);\n\n        }\n    }\n\n    public TripAdapter(ArrayList&lt;Trip&gt; trips) {\n        this.trips = trips;\n    }\n\n    @NonNull\n    @Override\n    public TripAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        LayoutInflater inflater = LayoutInflater.from(context);\n\n        // Inflate the custom layout\n        View contactView = inflater.inflate(R.layout.activity_listview, parent, false);\n\n        // Return a new holder instance\n        return new ViewHolder(contactView);\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull TripAdapter.ViewHolder holder, int position) {\n        Trip trip = trips.get(position);\n\n        // Set item views based on your views and data model\n        TextView textView = holder.destination;\n        textView.setText(trip.getDestination());\n        textView = holder.startDate;\n        textView.setText(trip.getStrStartDate().substring(0, trip.getStrStartDate().indexOf(&quot; &quot;)));\n//        textView = holder.endDate;\n//        textView.setText(trip.getStrEndDate().substring(0, trip.getStrEndDate().indexOf(&quot; &quot;)));\n        textView = holder.length;\n        textView.setText(trip.getLength() + (trip.getLength() == 1 ? &quot; day&quot; : &quot; days&quot;));\n    }\n\n    @Override\n    public int getItemCount() {\n        return trips.size();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","flutter","brother-print-sdk"],"comments":[{"owner":{"account_id":18764956,"reputation":33,"user_id":13683053,"display_name":"Abinandhan Selvaraj"},"score":0,"creation_date":1632733613,"post_id":69337354,"comment_id":122563445,"body_markdown":"@James, thank you for your edit. It seems I have solved the issue.","body":"@James, thank you for your edit. It seems I have solved the issue."}],"owner":{"account_id":18764956,"reputation":33,"user_id":13683053,"display_name":"Abinandhan Selvaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1632691539,"answer_count":0,"score":1,"last_activity_date":1632686901,"creation_date":1632677938,"question_id":69337354,"body_markdown":"I am developing an android app to print labels using a Brother Label printer. I am using Flutter and the Native Android SDK for Brother printers, bridging the code between flutter and java using Platform MethodChannel.\r\n\r\nI have set the printer specifics as detailed in the tutorial page for the Brother SDK as follows:\r\n\r\n    if (call.method.equals(&quot;print&quot;)) {\r\n\r\n        String address = call.argument(&quot;address&quot;);\r\n        String base64 = call.argument(&quot;bas64&quot;);\r\n\r\n        // Specify printer\r\n        printer = new Printer();\r\n        settings = new PrinterInfo();\r\n\r\n        settings = printer.getPrinterInfo();\r\n        settings.printerModel = PrinterInfo.Model.QL_810W;\r\n        settings.port = PrinterInfo.Port.NET;\r\n        settings.ipAddress = address;\r\n\r\n        // Print Settings\r\n        settings.paperSize = PrinterInfo.PaperSize.CUSTOM;\r\n        settings.orientation = PrinterInfo.Orientation.LANDSCAPE;\r\n        settings.valign = PrinterInfo.VAlign.MIDDLE;\r\n        settings.align = PrinterInfo.Align.CENTER;\r\n        settings.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\r\n        settings.numberOfCopies = 1;\r\n\r\n        settings.labelNameIndex = LabelInfo.QL700.W52H29.ordinal();\r\n        //settings.labelNameIndex = LabelInfo.QL700.W62.ordinal();\r\n\r\n        settings.isAutoCut = true;\r\n        settings.isCutAtEnd = false;\r\n        settings.isHalfCut = false;\r\n        settings.isSpecialTape = false;\r\n\r\n        printer.setPrinterInfo(settings);\r\n\r\n        bit = new PrinterStatus();\r\n\r\n        if (printer.startCommunication()) {\r\n            bit = printer.printImage(bmpFromBase64(base64));\r\n\r\n            if (bit.errorCode != PrinterInfo.ErrorCode.ERROR_NONE) {\r\n                Log.d(&quot;TAG&quot;, &quot;ERROR - &quot; + bit.errorCode);\r\n                result.error(&quot;ERROR&quot;,bit.errorCode.toString(),&quot;Error when Printing&quot;);\r\n            }\r\n\r\n            printer.endCommunication();\r\n            result.success(0);\r\n\r\n        }\r\n\r\n    }else{\r\n        result.notImplemented();\r\n    }\r\n\r\nAnd this is the code in the flutter side of the app\r\n\r\n    Future&lt;void&gt; printLabel(\r\n      BuildContext context, String _ip, String _bs64) async {\r\n    String printStatus = &#39;&#39;;\r\n\r\n    printText = &#39;$printText\\nPrinter IP: $_ip&#39;;\r\n    try {\r\n      final print = await platform\r\n          .invokeMethod(&#39;print&#39;, {&#39;address&#39;: _ip, &#39;bas64&#39;: _bs64});\r\n      printStatus = &#39;$print&#39;;\r\n    } on PlatformException catch (e) {\r\n      printStatus = &quot;\\nERROR WHEN PRINTING: \\n&#39;$e&#39;&quot;;\r\n    }\r\n\r\n    setState(() {\r\n      printText = &#39;$printText\\n$printStatus&#39;;\r\n    });\r\n    }\r\n\r\nWhen I try testing the code, I get the following error in the console of the MainActivity.java file. I have tried searching online, but I am unsure of the problem as I seem to be doing the right things as mentioned online.\r\n\r\n    &#39;PlatformException(error, null, null, android.os.NetworkOnMainThreadException\r\n\tat android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1605)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n\tat java.net.Socket.connect(Socket.java:621)\r\n\tat java.net.Socket.connect(Socket.java:570)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:450)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:250)\r\n\tat com.brother.ptouch.sdk.connection.WifiConnection.startConnection(WifiConnection.java:182)\r\n\tat com.brother.ptouch.sdk.connection.WifiConnection.open(WifiConnection.java:47)\r\n\tat com.brother.ptouch.sdk.Printer.init(Printer.java:2065)\r\n\tat com.brother.ptouch.sdk.Printer.startCommunication(Printer.java:2200)\r\n\tat com.abi_selvaraj.fs_date_labels.MainActivity.lambda$configureFlutterEngine$0$MainActivity(MainActivity.java:97)\r\n\tat com.abi_selvaraj.fs_date_labels.-$$Lambda$MainActivity$g9plek86tvIADNk2OgkRVXdFblc.onMethodCall(Unknown Source:2)\r\n\tat io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:233)\r\n\tat io.flutter.embedding.engine.dart.DartMessenger.handleMessageFromDart(DartMessenger.java:84)\r\n\tat io.flutter.embedding.engine.FlutterJNI.handlePlatformMessage(FlutterJNI.java:819)\r\n\tat android.os.MessageQueue.nativePollOnce(Native Method)\r\n\tat android.os.MessageQueue.next(MessageQueue.java:335)\r\n\tat android.os.Looper.loop(Looper.java:183)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8010)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\r\n     )&#39;\r\n\r\nKindly help me find a solution to this problem, as the issue seems to be with communicating with the printer. I have tried multiple codes but end up at the same situation.\r\n","title":"How do I print label on Brother Printer from Flutter app using Native Java SDK?","body":"<p>I am developing an android app to print labels using a Brother Label printer. I am using Flutter and the Native Android SDK for Brother printers, bridging the code between flutter and java using Platform MethodChannel.</p>\n<p>I have set the printer specifics as detailed in the tutorial page for the Brother SDK as follows:</p>\n<pre><code>if (call.method.equals(&quot;print&quot;)) {\n\n    String address = call.argument(&quot;address&quot;);\n    String base64 = call.argument(&quot;bas64&quot;);\n\n    // Specify printer\n    printer = new Printer();\n    settings = new PrinterInfo();\n\n    settings = printer.getPrinterInfo();\n    settings.printerModel = PrinterInfo.Model.QL_810W;\n    settings.port = PrinterInfo.Port.NET;\n    settings.ipAddress = address;\n\n    // Print Settings\n    settings.paperSize = PrinterInfo.PaperSize.CUSTOM;\n    settings.orientation = PrinterInfo.Orientation.LANDSCAPE;\n    settings.valign = PrinterInfo.VAlign.MIDDLE;\n    settings.align = PrinterInfo.Align.CENTER;\n    settings.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\n    settings.numberOfCopies = 1;\n\n    settings.labelNameIndex = LabelInfo.QL700.W52H29.ordinal();\n    //settings.labelNameIndex = LabelInfo.QL700.W62.ordinal();\n\n    settings.isAutoCut = true;\n    settings.isCutAtEnd = false;\n    settings.isHalfCut = false;\n    settings.isSpecialTape = false;\n\n    printer.setPrinterInfo(settings);\n\n    bit = new PrinterStatus();\n\n    if (printer.startCommunication()) {\n        bit = printer.printImage(bmpFromBase64(base64));\n\n        if (bit.errorCode != PrinterInfo.ErrorCode.ERROR_NONE) {\n            Log.d(&quot;TAG&quot;, &quot;ERROR - &quot; + bit.errorCode);\n            result.error(&quot;ERROR&quot;,bit.errorCode.toString(),&quot;Error when Printing&quot;);\n        }\n\n        printer.endCommunication();\n        result.success(0);\n\n    }\n\n}else{\n    result.notImplemented();\n}\n</code></pre>\n<p>And this is the code in the flutter side of the app</p>\n<pre><code>Future&lt;void&gt; printLabel(\n  BuildContext context, String _ip, String _bs64) async {\nString printStatus = '';\n\nprintText = '$printText\\nPrinter IP: $_ip';\ntry {\n  final print = await platform\n      .invokeMethod('print', {'address': _ip, 'bas64': _bs64});\n  printStatus = '$print';\n} on PlatformException catch (e) {\n  printStatus = &quot;\\nERROR WHEN PRINTING: \\n'$e'&quot;;\n}\n\nsetState(() {\n  printText = '$printText\\n$printStatus';\n});\n}\n</code></pre>\n<p>When I try testing the code, I get the following error in the console of the MainActivity.java file. I have tried searching online, but I am unsure of the problem as I seem to be doing the right things as mentioned online.</p>\n<pre><code>'PlatformException(error, null, null, android.os.NetworkOnMainThreadException\nat android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1605)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\nat java.net.Socket.connect(Socket.java:621)\nat java.net.Socket.connect(Socket.java:570)\nat java.net.Socket.&lt;init&gt;(Socket.java:450)\nat java.net.Socket.&lt;init&gt;(Socket.java:250)\nat com.brother.ptouch.sdk.connection.WifiConnection.startConnection(WifiConnection.java:182)\nat com.brother.ptouch.sdk.connection.WifiConnection.open(WifiConnection.java:47)\nat com.brother.ptouch.sdk.Printer.init(Printer.java:2065)\nat com.brother.ptouch.sdk.Printer.startCommunication(Printer.java:2200)\nat com.abi_selvaraj.fs_date_labels.MainActivity.lambda$configureFlutterEngine$0$MainActivity(MainActivity.java:97)\nat com.abi_selvaraj.fs_date_labels.-$$Lambda$MainActivity$g9plek86tvIADNk2OgkRVXdFblc.onMethodCall(Unknown Source:2)\nat io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:233)\nat io.flutter.embedding.engine.dart.DartMessenger.handleMessageFromDart(DartMessenger.java:84)\nat io.flutter.embedding.engine.FlutterJNI.handlePlatformMessage(FlutterJNI.java:819)\nat android.os.MessageQueue.nativePollOnce(Native Method)\nat android.os.MessageQueue.next(MessageQueue.java:335)\nat android.os.Looper.loop(Looper.java:183)\nat android.app.ActivityThread.main(ActivityThread.java:8010)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\n )'\n</code></pre>\n<p>Kindly help me find a solution to this problem, as the issue seems to be with communicating with the printer. I have tried multiple codes but end up at the same situation.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632672908,"creation_date":1632672908,"answer_id":69336732,"question_id":69336440,"body_markdown":"I am having a hard time understanding why you need the second query. With the first one, you would get a set of `Role`s. The `Role` object already contains a set of `Privilege`s which you can simply retrieve using the getter method as follows:\r\n```java\r\nfindByUsers_Login(login).stream()\r\n    .flatMap(role -&gt; role.getPrivileges().stream()).collect(Collectors.toSet());\r\n```","title":"How to find specific roles in many-to-many spring relationship","body":"<p>I am having a hard time understanding why you need the second query. With the first one, you would get a set of <code>Role</code>s. The <code>Role</code> object already contains a set of <code>Privilege</code>s which you can simply retrieve using the getter method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>findByUsers_Login(login).stream()\n    .flatMap(role -&gt; role.getPrivileges().stream()).collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":22865433,"reputation":13,"user_id":17008868,"display_name":"Snopek1337"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69336732,"answer_count":1,"score":1,"last_activity_date":1632686273,"creation_date":1632670685,"question_id":69336440,"body_markdown":"I have following entities\r\n```\r\n@Builder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Entity\r\npublic class Role extends AbstractEntity {\r\n\r\n  private String name;\r\n\r\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\r\n  fetch = FetchType.EAGER)\r\n  @JoinTable(\r\n      name = &quot;privilege_roles&quot;,\r\n      joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\r\n      inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;)})\r\n  @Exclude\r\n  private Set&lt;Privilege&gt; privileges;\r\n\r\n  @ManyToMany(\r\n      cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType},\r\n      fetch = FetchType.LAZY)\r\n  @JoinTable(\r\n      name = &quot;user_roles&quot;,\r\n      joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\r\n      inverseJoinColumns = {@JoinColumn(name = &quot;user_id&quot;)})\r\n  private Set&lt;User&gt; users;\r\n}\r\n\r\n@Builder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Entity\r\npublic class Privilege extends AbstractEntity {\r\n\r\n  private String name;\r\n\r\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE}, fetch = FetchType.EAGER)\r\n  @JoinTable(\r\n      name = &quot;privilege_roles&quot;,\r\n      joinColumns = {@JoinColumn(name = &quot;privilege_id&quot;)},\r\n      inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)})\r\n  private Set&lt;Role&gt; roles;\r\n}\r\n\r\n/** Model uÅ¼ytkownika */\r\n@Builder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Entity\r\npublic class User extends AbstractEntity {\r\n\r\n  private String login;\r\n  private String firstName;\r\n  private String lastName;\r\n\r\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE}, fetch = FetchType.EAGER)\r\n  @JoinTable(\r\n      name = &quot;user_roles&quot;,\r\n      joinColumns = {@JoinColumn(name = &quot;user_id&quot;)},\r\n      inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)})\r\n \r\n  private Set&lt;Role&gt; roles;\r\n}\r\n```\r\nAbstract entity consist of ID&#39;s and so on. My problem is to get priviliges from a specific user, can it be done with one query? At this point, I&#39;ve divided it down into two steps\r\n```\r\n  Set&lt;Role&gt; findByUsers_Login(String login);\r\n```\r\n```\r\n  Set&lt;Privilege&gt; getAllByRolesIdIn(Collection&lt;@Nonnull Integer&gt; roles_id);\r\n```\r\nHow can I achieve my goal, if notice anything related to clean-code or a performance improvement, I would be grateful\r\n\r\n\r\n```\r\nHashSet&lt;PrivilegeDto&gt; authorities = new HashSet&lt;&gt;();\r\nUserDto userDto = userService.findByLogin(login)\r\nSet&lt;Long&gt; rolesId = roleService(findByUserId(userDto.getId().stream()\r\n\t\t.map(AbstractDto::getId)\r\n\t\t.collect(Collectors::toSet());\r\nfor (Long id : rolesId) {\r\n\tSet&lt;PrivilegeDto&gt; privilegesById = privilegeService.getPrivilegesById(id);\r\n\tauthorities.addAll(privilegesById);\r\n}\r\n```\r\n```\r\n@Query(value = &quot;SELECT P.NAME FROM USER_ROLES UR LEFT JOIN PRIVILEGE_ROLES PR ON PR.ROLE_ID = UR.ROLE_ID LEFT JOIN PRIVILEGE P ON PR.PRIVILEGE_ID = P.ID LEFT JOIN USER U ON U.ID = UR.USER_ID WHERE U.LOGIN = :login&quot;,nativeQuery = true)\r\n    Set&lt;Privilege&gt; getAllMyPriviliges(@Param(&quot;login&quot;)String login);\r\n```","title":"How to find specific roles in many-to-many spring relationship","body":"<p>I have following entities</p>\n<pre><code>@Builder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\npublic class Role extends AbstractEntity {\n\n  private String name;\n\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\n  fetch = FetchType.EAGER)\n  @JoinTable(\n      name = &quot;privilege_roles&quot;,\n      joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\n      inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;)})\n  @Exclude\n  private Set&lt;Privilege&gt; privileges;\n\n  @ManyToMany(\n      cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType},\n      fetch = FetchType.LAZY)\n  @JoinTable(\n      name = &quot;user_roles&quot;,\n      joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\n      inverseJoinColumns = {@JoinColumn(name = &quot;user_id&quot;)})\n  private Set&lt;User&gt; users;\n}\n\n@Builder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\npublic class Privilege extends AbstractEntity {\n\n  private String name;\n\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE}, fetch = FetchType.EAGER)\n  @JoinTable(\n      name = &quot;privilege_roles&quot;,\n      joinColumns = {@JoinColumn(name = &quot;privilege_id&quot;)},\n      inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)})\n  private Set&lt;Role&gt; roles;\n}\n\n/** Model uÅ¼ytkownika */\n@Builder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\npublic class User extends AbstractEntity {\n\n  private String login;\n  private String firstName;\n  private String lastName;\n\n  @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE}, fetch = FetchType.EAGER)\n  @JoinTable(\n      name = &quot;user_roles&quot;,\n      joinColumns = {@JoinColumn(name = &quot;user_id&quot;)},\n      inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)})\n \n  private Set&lt;Role&gt; roles;\n}\n</code></pre>\n<p>Abstract entity consist of ID's and so on. My problem is to get priviliges from a specific user, can it be done with one query? At this point, I've divided it down into two steps</p>\n<pre><code>  Set&lt;Role&gt; findByUsers_Login(String login);\n</code></pre>\n<pre><code>  Set&lt;Privilege&gt; getAllByRolesIdIn(Collection&lt;@Nonnull Integer&gt; roles_id);\n</code></pre>\n<p>How can I achieve my goal, if notice anything related to clean-code or a performance improvement, I would be grateful</p>\n<pre><code>HashSet&lt;PrivilegeDto&gt; authorities = new HashSet&lt;&gt;();\nUserDto userDto = userService.findByLogin(login)\nSet&lt;Long&gt; rolesId = roleService(findByUserId(userDto.getId().stream()\n        .map(AbstractDto::getId)\n        .collect(Collectors::toSet());\nfor (Long id : rolesId) {\n    Set&lt;PrivilegeDto&gt; privilegesById = privilegeService.getPrivilegesById(id);\n    authorities.addAll(privilegesById);\n}\n</code></pre>\n<pre><code>@Query(value = &quot;SELECT P.NAME FROM USER_ROLES UR LEFT JOIN PRIVILEGE_ROLES PR ON PR.ROLE_ID = UR.ROLE_ID LEFT JOIN PRIVILEGE P ON PR.PRIVILEGE_ID = P.ID LEFT JOIN USER U ON U.ID = UR.USER_ID WHERE U.LOGIN = :login&quot;,nativeQuery = true)\n    Set&lt;Privilege&gt; getAllMyPriviliges(@Param(&quot;login&quot;)String login);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1352188470,"post_id":13246611,"comment_id":18049137,"body_markdown":"The only way to return a value back to the calling program is to use System.exit.  If, however, you want to access this method from another class, for example, then you should move the contents to another method capable of returning the value you want and then you could this from your main method if you needed to or from another class. In this way, you could use return","body":"The only way to return a value back to the calling program is to use System.exit.  If, however, you want to access this method from another class, for example, then you should move the contents to another method capable of returning the value you want and then you could this from your main method if you needed to or from another class. In this way, you could use return"},{"owner":{"account_id":1986234,"reputation":157,"user_id":1781382,"accept_rate":100,"display_name":"user1781382"},"score":0,"creation_date":1352189126,"post_id":13246611,"comment_id":18049338,"body_markdown":"This is it. Why didn&#39;t you answer, I fixed it.","body":"This is it. Why didn&#39;t you answer, I fixed it."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1352189206,"post_id":13246611,"comment_id":18049373,"body_markdown":"I didn&#39;t answer as the question was a little vague (IMHO), but if you liked the comment, give it a little up vote ;)","body":"I didn&#39;t answer as the question was a little vague (IMHO), but if you liked the comment, give it a little up vote ;)"}],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1352188832,"creation_date":1352188832,"answer_id":13246758,"question_id":13246611,"body_markdown":"As long as you don&#39;t need to return custom exit code (other than 0, as returned by `System.exit(0)`) and don&#39;t start new threads, you can terminate your program by doing \r\n\r\n    return; \r\n\r\nin your `main()` method. Note that there is no value returned, so that you don&#39;t need to change your `main()` method from `void` to `int`.","title":"How can I exit a Java program without System.exit?(From User Input?)","body":"<p>As long as you don't need to return custom exit code (other than 0, as returned by <code>System.exit(0)</code>) and don't start new threads, you can terminate your program by doing </p>\n\n<pre><code>return; \n</code></pre>\n\n<p>in your <code>main()</code> method. Note that there is no value returned, so that you don't need to change your <code>main()</code> method from <code>void</code> to <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":22867039,"reputation":1,"user_id":17010699,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632686115,"creation_date":1632686115,"answer_id":69338466,"question_id":13246611,"body_markdown":"If you wrote your program in a logical manner, where your code flows properly, you don&#39;t need exit() or return, unless the method is supposed to return something at the end, in which case, you would just have one return statement at the end of your method, e.g., use a switch with a case for 0 instead of stacked if constructs which are inefficient anyway. The cases do whatever calculations and output and case 0 does what you have after the loop ends except for the exit() calls, which are not needed. Once the loop ends, the method ends.","title":"How can I exit a Java program without System.exit?(From User Input?)","body":"<p>If you wrote your program in a logical manner, where your code flows properly, you don't need exit() or return, unless the method is supposed to return something at the end, in which case, you would just have one return statement at the end of your method, e.g., use a switch with a case for 0 instead of stacked if constructs which are inefficient anyway. The cases do whatever calculations and output and case 0 does what you have after the loop ends except for the exit() calls, which are not needed. Once the loop ends, the method ends.</p>\n"}],"owner":{"account_id":1986234,"reputation":157,"user_id":1781382,"accept_rate":100,"display_name":"user1781382"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46608,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13246758,"answer_count":2,"score":4,"last_activity_date":1632686115,"creation_date":1352188216,"question_id":13246611,"body_markdown":"Here is my code. I am not sure how to exit the program using a return value. Any ideas? THis is the last step from my assignment.\r\nImportant areas are marked with ///////\r\nI hear return works but when I change void in main to int, the program says main must be void.\r\n\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class CommissionCalculator {\r\n        \r\n        public static void main(String args[]) {\r\n            // Initialize a Scanner to read input from the command line\r\n        \tScanner ItemSelect = new Scanner(System.in);\r\n        \tdouble comp = 200.00;\r\n        \tdouble item1 = 239.99;\r\n        \tdouble item2 = 129.75;\r\n        \tdouble item3 = 99.95;\r\n        \tdouble item4 = 350.89;\r\n        \tdouble comm = 0.09;\r\n        \tint choice;\r\n        \r\n        \t\r\n        \t/* Note that we&#39;ll be doing this at least once and most likely multiple times...\r\n        \t * Prompt the user with a menu of the four items and their values (this information is included in the problem statement)\r\n        \t */\r\n        \tSystem.out.println(&quot;Item\\tValue&quot;);\r\n            System.out.println(&quot;1\\t$239.99&quot;);\r\n            System.out.println(&quot;2\\t$129.75&quot;);\r\n            System.out.println(&quot;3\\t$99.95&quot;);\r\n            System.out.println(&quot;4\\t$350.89&quot;); \r\n        \t/* Display the user&#39;s current compensation */\r\n        \tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n        \t\r\n        \t\r\n        \t/* \r\n        \t * Prompt and take input from the user (you may assume that they will only enter int values)\r\n        \t * They&#39;ll enter an item number (1 - 4) to record its sale or 0 to exit\r\n        \t * \r\n        \t * NOTE: THE U0SER DOES NOT ENTER PRICES DIRECTLY... THEY ENTER ITEM NUMBERS TO INDICATE WHAT WAS SOLD\r\n        \t * NOTE: THE USER MAY ENTER THE SAME ITEM NUMBRER MULTIPLE TIMES\r\n        \t * \r\n        \t * If the user provides invalid input (a value other than 0 - 4) display &quot;ERROR: Invalid input!&quot; and prompt them again\r\n        \t */\r\n        \tdo\r\n        \t{\r\n        \t\t\r\n    \t    \tSystem.out.print(&quot;\\nPlease select an item from the &quot; +\r\n    \t    \t                   &quot;list above (or enter 0 to exit): &quot;);\r\n    \t    \tchoice = ItemSelect.nextInt();\r\n    \t    \t\r\n    \t    \t{\t\r\n    \t    \t\tif (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3 &amp;&amp; choice != 4 &amp;&amp; choice != 0)\r\n    \t    \t\t{\r\n    \t    \t\t\tdo\r\n    \t\t\t\t\t  {\r\n    \t\t\t\t\t    System.out.print(&quot;ERROR: Invalid Input!\\n&quot;);\r\n    \t\t\t\t\t    System.out.println(&quot;Item\\tValue&quot;);\r\n    \t\t\t\t        System.out.println(&quot;1\\t$239.99&quot;);\r\n    \t\t\t\t        System.out.println(&quot;2\\t$129.75&quot;);\r\n    \t\t\t\t        System.out.println(&quot;3\\t$99.95&quot;);\r\n    \t\t\t\t        System.out.println(&quot;4\\t$350.89&quot;);\r\n    \t\t\t\t        System.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t\t\t\t        System.out.print(&quot;\\nPlease select an item from the &quot; +\r\n    \t\t    \t                   &quot;list above (or enter 0 to exit): &quot;);\r\n    \t\t\t\t        choice = ItemSelect.nextInt();\r\n    \t\t\t\t        if (choice == 1)\r\n    \t\t    \t\t\t{\r\n    \t\t    \t\t\t\tcomp += (comm * item1);\r\n    \t\t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t\t    \t\t\t}\r\n    \t\t    \t\t\tif (choice == 2)\r\n    \t\t    \t\t\t{\r\n    \t\t    \t\t\t\tcomp += (comm * item2);\r\n    \t\t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t\t    \t\t\t}\r\n    \t\t    \t\t\tif (choice == 3)\r\n    \t\t    \t\t\t{\r\n    \t\t    \t\t\t\tcomp += (comm * item3);\r\n    \t\t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t\t    \t\t\t}\r\n    \t\t    \t\t\tif (choice == 4)\r\n    \t\t    \t\t\t{\r\n    \t\t    \t\t\t\tcomp += (comm * item4);\r\n    \t\t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t\t    \t\t\t}\r\n    \t\t    \t\t\tif (choice == 0)\r\n    \t\t    \t\t\t{\r\n    \t\t    \t\t\t\tSystem.out.printf(&quot;Total Earnings: $%.2f&quot;, comp);\r\n    \t\t    \t\t\t\tSystem.exit(0); ///////\r\n    \t\t    \t\t\t}\r\n    \t\t\t\t        \r\n    \t\t\t\t\t  }while (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3 &amp;&amp; choice != 4 &amp;&amp; choice != 0); \r\n    \t\t\t\r\n    \t    \t\t}\r\n    \t    \t\telse\r\n    \t    \t\t{\r\n    \t    \t\t\tif (choice == 1)\r\n    \t    \t\t\t{\r\n    \t    \t\t\t\tcomp += (comm * item1);\r\n    \t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t    \t\t\t}\r\n    \t    \t\t\tif (choice == 2)\r\n    \t    \t\t\t{\r\n    \t    \t\t\t\tcomp += (comm * item2);\r\n    \t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t    \t\t\t}\r\n    \t    \t\t\tif (choice == 3)\r\n    \t    \t\t\t{\r\n    \t    \t\t\t\tcomp += (comm * item3);\r\n    \t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t    \t\t\t}\r\n    \t    \t\t\tif (choice == 4)\r\n    \t    \t\t\t{\r\n    \t    \t\t\t\tcomp += (comm * item4);\r\n    \t    \t\t\t\tSystem.out.printf(&quot;Current compensation: $%.2f&quot;, comp);\r\n    \t    \t\t\t}\r\n    \t    \t\t\tif (choice == 0)\r\n    \t    \t\t\t{\r\n    \t    \t\t\t\tSystem.out.printf(&quot;Total Earnings: $%.2f&quot;, comp);\r\n    \t    \t\t\t\tSystem.exit(0);\r\n    \t    \t\t\t}\r\n    \t    \t\t}\r\n    \t    \t\t\t\r\n    \t    \t}\r\n        \t}while (choice != 0);\r\n        \t\r\n        \t/* After the user enters 0, display the salesperson&#39;s earnings in the format &quot;Total earnings: $NNN.NN&quot; and exit\r\n        \t * For example, if the salesperson sold two item 3s this week the final output would be &quot;Total earnings: $217.99&quot;\r\n        \t */\r\n        \tif (choice == 0)\r\n    \t\t{\r\n        \t\tSystem.out.printf(&quot;Total Earnings: $%.2f&quot;, comp);\r\n    \t\t\tSystem.exit(0);   ///////\r\n    \t\t}\r\n        \tItemSelect.close();\r\n        \tSystem.exit(0);    ///////\r\n        }\r\n    }\r\n","title":"How can I exit a Java program without System.exit?(From User Input?)","body":"<p>Here is my code. I am not sure how to exit the program using a return value. Any ideas? THis is the last step from my assignment.\nImportant areas are marked with ///////\nI hear return works but when I change void in main to int, the program says main must be void.</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class CommissionCalculator {\n\n    public static void main(String args[]) {\n        // Initialize a Scanner to read input from the command line\n        Scanner ItemSelect = new Scanner(System.in);\n        double comp = 200.00;\n        double item1 = 239.99;\n        double item2 = 129.75;\n        double item3 = 99.95;\n        double item4 = 350.89;\n        double comm = 0.09;\n        int choice;\n\n\n        /* Note that we'll be doing this at least once and most likely multiple times...\n         * Prompt the user with a menu of the four items and their values (this information is included in the problem statement)\n         */\n        System.out.println(\"Item\\tValue\");\n        System.out.println(\"1\\t$239.99\");\n        System.out.println(\"2\\t$129.75\");\n        System.out.println(\"3\\t$99.95\");\n        System.out.println(\"4\\t$350.89\"); \n        /* Display the user's current compensation */\n        System.out.printf(\"Current compensation: $%.2f\", comp);\n\n\n        /* \n         * Prompt and take input from the user (you may assume that they will only enter int values)\n         * They'll enter an item number (1 - 4) to record its sale or 0 to exit\n         * \n         * NOTE: THE U0SER DOES NOT ENTER PRICES DIRECTLY... THEY ENTER ITEM NUMBERS TO INDICATE WHAT WAS SOLD\n         * NOTE: THE USER MAY ENTER THE SAME ITEM NUMBRER MULTIPLE TIMES\n         * \n         * If the user provides invalid input (a value other than 0 - 4) display \"ERROR: Invalid input!\" and prompt them again\n         */\n        do\n        {\n\n            System.out.print(\"\\nPlease select an item from the \" +\n                               \"list above (or enter 0 to exit): \");\n            choice = ItemSelect.nextInt();\n\n            {   \n                if (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3 &amp;&amp; choice != 4 &amp;&amp; choice != 0)\n                {\n                    do\n                      {\n                        System.out.print(\"ERROR: Invalid Input!\\n\");\n                        System.out.println(\"Item\\tValue\");\n                        System.out.println(\"1\\t$239.99\");\n                        System.out.println(\"2\\t$129.75\");\n                        System.out.println(\"3\\t$99.95\");\n                        System.out.println(\"4\\t$350.89\");\n                        System.out.printf(\"Current compensation: $%.2f\", comp);\n                        System.out.print(\"\\nPlease select an item from the \" +\n                                   \"list above (or enter 0 to exit): \");\n                        choice = ItemSelect.nextInt();\n                        if (choice == 1)\n                        {\n                            comp += (comm * item1);\n                            System.out.printf(\"Current compensation: $%.2f\", comp);\n                        }\n                        if (choice == 2)\n                        {\n                            comp += (comm * item2);\n                            System.out.printf(\"Current compensation: $%.2f\", comp);\n                        }\n                        if (choice == 3)\n                        {\n                            comp += (comm * item3);\n                            System.out.printf(\"Current compensation: $%.2f\", comp);\n                        }\n                        if (choice == 4)\n                        {\n                            comp += (comm * item4);\n                            System.out.printf(\"Current compensation: $%.2f\", comp);\n                        }\n                        if (choice == 0)\n                        {\n                            System.out.printf(\"Total Earnings: $%.2f\", comp);\n                            System.exit(0); ///////\n                        }\n\n                      }while (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3 &amp;&amp; choice != 4 &amp;&amp; choice != 0); \n\n                }\n                else\n                {\n                    if (choice == 1)\n                    {\n                        comp += (comm * item1);\n                        System.out.printf(\"Current compensation: $%.2f\", comp);\n                    }\n                    if (choice == 2)\n                    {\n                        comp += (comm * item2);\n                        System.out.printf(\"Current compensation: $%.2f\", comp);\n                    }\n                    if (choice == 3)\n                    {\n                        comp += (comm * item3);\n                        System.out.printf(\"Current compensation: $%.2f\", comp);\n                    }\n                    if (choice == 4)\n                    {\n                        comp += (comm * item4);\n                        System.out.printf(\"Current compensation: $%.2f\", comp);\n                    }\n                    if (choice == 0)\n                    {\n                        System.out.printf(\"Total Earnings: $%.2f\", comp);\n                        System.exit(0);\n                    }\n                }\n\n            }\n        }while (choice != 0);\n\n        /* After the user enters 0, display the salesperson's earnings in the format \"Total earnings: $NNN.NN\" and exit\n         * For example, if the salesperson sold two item 3s this week the final output would be \"Total earnings: $217.99\"\n         */\n        if (choice == 0)\n        {\n            System.out.printf(\"Total Earnings: $%.2f\", comp);\n            System.exit(0);   ///////\n        }\n        ItemSelect.close();\n        System.exit(0);    ///////\n    }\n}\n</code></pre>\n"},{"tags":["java","hive","google-cloud-dataproc"],"answers":[{"tags":[],"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632686055,"creation_date":1632423166,"answer_id":69305528,"question_id":69299222,"body_markdown":"It seems that the default Tez container and heap sizes set by Dataproc are too small for your job. You can update the following Hive properties to increase them:\r\n\r\n**hive.tez.container.size**: The YARN container size in MB for Tez. If set to &quot;-1&quot; (default value), it picks the value of `mapreduce.map.memory.mb`. Consider increasing the value if the query / Tez app fails with something like &quot;Container is running beyond physical memory limits. Current usage: 4.1 GB of 4 GB physical memory used; 6.0 GB of 20 GB virtual memory used. Killing container.&quot;. Example: `SET hive.tez.container.size=8192` in Hive, or `--properties hive:hive.tez.container.size=8192` when creating the cluster.\r\n\r\n**hive.tez.java.opts**: The JVM options for the Tez YARN application. If not set, it picks the value of `mapreduce.map.java.opts`. This value should be less or equal to the container size. Consider increasing the JVM heap size if the query / Tez app fails with an OOM exception. Example: `SET hive.tez.java.opts=-Xmx8g` or `--properties hive:hive.tez.java.opts=-Xmx8g` when creating the cluster.\r\n\r\nYou can check `/etc/hadoop/conf/mapred-site.xml` to get the value of `mapreduce.map.java.opts`, and `/etc/hive/conf/hive-site.xml` for the 2 Hive properties mentioned above.","title":"Dataproc Hive Job - Tez Java heap OOM","body":"<p>It seems that the default Tez container and heap sizes set by Dataproc are too small for your job. You can update the following Hive properties to increase them:</p>\n<p><strong>hive.tez.container.size</strong>: The YARN container size in MB for Tez. If set to &quot;-1&quot; (default value), it picks the value of <code>mapreduce.map.memory.mb</code>. Consider increasing the value if the query / Tez app fails with something like &quot;Container is running beyond physical memory limits. Current usage: 4.1 GB of 4 GB physical memory used; 6.0 GB of 20 GB virtual memory used. Killing container.&quot;. Example: <code>SET hive.tez.container.size=8192</code> in Hive, or <code>--properties hive:hive.tez.container.size=8192</code> when creating the cluster.</p>\n<p><strong>hive.tez.java.opts</strong>: The JVM options for the Tez YARN application. If not set, it picks the value of <code>mapreduce.map.java.opts</code>. This value should be less or equal to the container size. Consider increasing the JVM heap size if the query / Tez app fails with an OOM exception. Example: <code>SET hive.tez.java.opts=-Xmx8g</code> or <code>--properties hive:hive.tez.java.opts=-Xmx8g</code> when creating the cluster.</p>\n<p>You can check <code>/etc/hadoop/conf/mapred-site.xml</code> to get the value of <code>mapreduce.map.java.opts</code>, and <code>/etc/hive/conf/hive-site.xml</code> for the 2 Hive properties mentioned above.</p>\n"}],"owner":{"account_id":22554734,"reputation":49,"user_id":16743317,"display_name":"prototype sql"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632686055,"creation_date":1632396869,"question_id":69299222,"body_markdown":"I have a problem with my cluster.\r\n\r\nthe cluster have \r\n* 2 worker primary \r\n* 2 secondary worker \r\n* 30 gb di ram\r\n\r\nThe cluster runs correctly and launches the job hives for at least about 10h.\r\n\r\nAfter 10h I have an error of :Java heap space\r\n      \r\n          at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]\r\n            Caused by: java.lang.OutOfMemoryError: Java heap space\r\n            \tat java.util.Arrays.copyOf(Arrays.java:3236) ~[?:1.8.0_292]\r\n            \tat java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:191) ~[?:1.8.0_292]\r\n            \tat org.apache.hadoop.ipc.ResponseBuffer.toByteArray(ResponseBuffer.java:53) ~[hadoop-common-3.2.2.jar:?]\r\n            \tat org.apache.hadoop.ipc.Client$Connection$3.run(Client.java:1159) ~[hadoop-common-3.2.2.jar:?]\r\n            \t... 5 more\r\n            ERROR : FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\r\n            INFO  : Completed executing command(queryId=hive_20210923102707_66b4cd11-7cfb-4910-87bc-7f062ce1b00e); Time taken: 75.101 seconds\r\n            INFO  : Concurrency mode is   disabled, not creating a lock manager\r\n    Error: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask (state=08S01,code=1)\r\n     \r\n\r\ni tried to set this cofiguration but it didn&#39;t help.\r\n\r\n    SET hive.execution.engine = tez; \r\n    SET hive.exec.dynamic.partition = true; \r\n    SET hive.exec.dynamic.partition.mode = nonstrict; \r\n    SET mapreduce.job.reduces=1;\r\n    SET hive.auto.convert.join=false;\r\n    set hive.stats.column.autogather=false; \r\n    set hive.optimize.sort.dynamic.partition=true;\r\n\r\nis there any way to clean the java heap space or I have got some configuration wrong?\r\n\r\nthe problem is solved by restarting the cluster","title":"Dataproc Hive Job - Tez Java heap OOM","body":"<p>I have a problem with my cluster.</p>\n<p>the cluster have</p>\n<ul>\n<li>2 worker primary</li>\n<li>2 secondary worker</li>\n<li>30 gb di ram</li>\n</ul>\n<p>The cluster runs correctly and launches the job hives for at least about 10h.</p>\n<p>After 10h I have an error of :Java heap space</p>\n<pre><code>      at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]\n        Caused by: java.lang.OutOfMemoryError: Java heap space\n            at java.util.Arrays.copyOf(Arrays.java:3236) ~[?:1.8.0_292]\n            at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:191) ~[?:1.8.0_292]\n            at org.apache.hadoop.ipc.ResponseBuffer.toByteArray(ResponseBuffer.java:53) ~[hadoop-common-3.2.2.jar:?]\n            at org.apache.hadoop.ipc.Client$Connection$3.run(Client.java:1159) ~[hadoop-common-3.2.2.jar:?]\n            ... 5 more\n        ERROR : FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask\n        INFO  : Completed executing command(queryId=hive_20210923102707_66b4cd11-7cfb-4910-87bc-7f062ce1b00e); Time taken: 75.101 seconds\n        INFO  : Concurrency mode is   disabled, not creating a lock manager\nError: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.tez.TezTask (state=08S01,code=1)\n \n</code></pre>\n<p>i tried to set this cofiguration but it didn't help.</p>\n<pre><code>SET hive.execution.engine = tez; \nSET hive.exec.dynamic.partition = true; \nSET hive.exec.dynamic.partition.mode = nonstrict; \nSET mapreduce.job.reduces=1;\nSET hive.auto.convert.join=false;\nset hive.stats.column.autogather=false; \nset hive.optimize.sort.dynamic.partition=true;\n</code></pre>\n<p>is there any way to clean the java heap space or I have got some configuration wrong?</p>\n<p>the problem is solved by restarting the cluster</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1632686847,"post_id":69338393,"comment_id":122553839,"body_markdown":"Please [edit] your question to include a description (or maybe even code) on how messages are send and received in your system. Also explain how the whole system is setup and started. Include a description of your emulator as well, how you use it and how it differences from the real thing.","body":"Please <a href=\"https://stackoverflow.com/posts/69338393/edit\">edit</a> your question to include a description (or maybe even code) on how messages are send and received in your system. Also explain how the whole system is setup and started. Include a description of your emulator as well, how you use it and how it differences from the real thing."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632687443,"post_id":69338393,"comment_id":122553973,"body_markdown":"move these to integration tests and don&#39;t run them as part of the usual cycle? We do that with k8s integration tests and `kind`","body":"move these to integration tests and don&#39;t run them as part of the usual cycle? We do that with k8s integration tests and <code>kind</code>"},{"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"score":0,"creation_date":1632765684,"post_id":69338393,"comment_id":122576650,"body_markdown":"@Progman How would that change the answer of the question though. There&#39;s the class `com.google.cloud.pubsub.v1.Subscriber` which polls messages from a server. Upon tests, that server url is on localhost instead of an remote host. That&#39;s not really relevant for the question though. The trigger is a message being ready and then processed. Sending the message is part of the test. The polling is started by Spring boot, as the thread pool starts when spring is started. But the whole processing is async, hence problem with tests","body":"@Progman How would that change the answer of the question though. There&#39;s the class <code>com.google.cloud.pubsub.v1.Subscriber</code> which polls messages from a server. Upon tests, that server url is on localhost instead of an remote host. That&#39;s not really relevant for the question though. The trigger is a message being ready and then processed. Sending the message is part of the test. The polling is started by Spring boot, as the thread pool starts when spring is started. But the whole processing is async, hence problem with tests"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1632767394,"post_id":69338393,"comment_id":122577252,"body_markdown":"@Regyn You might want to add these information to your question, not in a comment. These information are relevant as they might show what is available from an API perspective. As an example, you may be able to replace the (async) thread pool approach with a direct (sync) method call in the unit test. Another possible solution would be to replace (inject) the message queue system by an implementation where the message sent is consumed synchronously on the other end. That way your unit test is blocking while the message is handled. More detailed information (in your question) the better.","body":"@Regyn You might want to add these information to your question, not in a comment. These information are relevant as they might show what is available from an API perspective. As an example, you may be able to replace the (async) thread pool approach with a direct (sync) method call in the unit test. Another possible solution would be to replace (inject) the message queue system by an implementation where the message sent is consumed synchronously on the other end. That way your unit test is blocking while the message is handled. More detailed information (in your question) the better."}],"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632685459,"creation_date":1632685459,"question_id":69338393,"body_markdown":"Assume I&#39;m using pubsub or another message service. When a message is received, some processing is performed and the result written to the db.\r\n\r\nNow in my integration test, I&#39;m starting a pubsub emulator and send a message. Now I want to verify that the processing method is called and the right result in the database. That&#39;s no problem IF the processing happened. Now this might take a while. The only thing I came up with is emit message and then do `await().atMost(5, TimeUnit.SECONDS).until(() -&gt; {...repository.find...}`\r\n\r\nObviously if the test platform is slow, this might fail. Is there another way except setting a high timeout?","title":"How can you perform an integration test on message based processing?","body":"<p>Assume I'm using pubsub or another message service. When a message is received, some processing is performed and the result written to the db.</p>\n<p>Now in my integration test, I'm starting a pubsub emulator and send a message. Now I want to verify that the processing method is called and the right result in the database. That's no problem IF the processing happened. Now this might take a while. The only thing I came up with is emit message and then do <code>await().atMost(5, TimeUnit.SECONDS).until(() -&gt; {...repository.find...}</code></p>\n<p>Obviously if the test platform is slow, this might fail. Is there another way except setting a high timeout?</p>\n"},{"tags":["java","json","mockito","objectmapper"],"owner":{"account_id":22688477,"reputation":41,"user_id":16857728,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632685048,"creation_date":1632685048,"question_id":69338345,"body_markdown":"I am trying to write unit tests for the following snippet\r\n\r\n    &gt;  private List&lt;Car&gt; getCar(SQSEvent.SQSMessage sqsMessage) throws\r\n    &gt; JsonProcessingException {\r\n    &gt;         final JsonNode node = objectMapper.readTree(sqsMessage.getBody());\r\n    &gt;         final String items = StringEscapeUtils.unescapeJava(node.get(&quot;Message&quot;).textValue());\r\n    &gt;         return objectMapper.readValue(items, new TypeReference&lt;List&lt;Car&gt;&gt;() {\r\n    &gt;         });\r\n    &gt;     }\r\n\r\nHere is the test code:\r\n \r\n\r\n    @Test\r\n        public void dummyTest() {\r\n            mockStatic(StringEscapeUtils.class);\r\n            when(mockObjectMapper.readTree(sqsMessage.getBody())).thenReturn(node);\r\n            when(node.get(any(String.class)).textValue()).thenReturn(&quot;node&quot;);\r\n            when(StringEscapeUtils.unescapeJava(anyString())).thenReturn(&quot;Mock&quot;);\r\n     when(mockObjectMapper.readValue(&quot;Mock&quot;, new TypeReference&lt;List&lt;Car&gt;&gt;(){})).thenReturn(carList);\r\n            // call to the method\r\n        }\r\n\r\nI am not able to mock List&lt;Car&gt; returned, it is returning null. Please help. Thanks\r\n","title":"Mocking JasonNode using Mockito","body":"<p>I am trying to write unit tests for the following snippet</p>\n<pre><code>&gt;  private List&lt;Car&gt; getCar(SQSEvent.SQSMessage sqsMessage) throws\n&gt; JsonProcessingException {\n&gt;         final JsonNode node = objectMapper.readTree(sqsMessage.getBody());\n&gt;         final String items = StringEscapeUtils.unescapeJava(node.get(&quot;Message&quot;).textValue());\n&gt;         return objectMapper.readValue(items, new TypeReference&lt;List&lt;Car&gt;&gt;() {\n&gt;         });\n&gt;     }\n</code></pre>\n<p>Here is the test code:</p>\n<pre><code>@Test\n    public void dummyTest() {\n        mockStatic(StringEscapeUtils.class);\n        when(mockObjectMapper.readTree(sqsMessage.getBody())).thenReturn(node);\n        when(node.get(any(String.class)).textValue()).thenReturn(&quot;node&quot;);\n        when(StringEscapeUtils.unescapeJava(anyString())).thenReturn(&quot;Mock&quot;);\n when(mockObjectMapper.readValue(&quot;Mock&quot;, new TypeReference&lt;List&lt;Car&gt;&gt;(){})).thenReturn(carList);\n        // call to the method\n    }\n</code></pre>\n<p>I am not able to mock List returned, it is returning null. Please help. Thanks</p>\n"},{"tags":["java","android","android-recyclerview","textview","indentation"],"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632684250,"creation_date":1632684250,"question_id":69338247,"body_markdown":"I want to indent long sentences and number inside TextView. The TextView is part of RecyclerView. The text is in `strings.xml`.\r\n\r\nI have tried using `LeadingMarginSpan.Standard` and `BulletSpan` but the result is not as expected. Also tried `Html.fromHtml` but the `ol` and `ul` did not show up.\r\n\r\nCurrent Output\r\n\r\n    This is the long sentence which will take more than one line if you see in the mobile phone version of this\r\n    application.\r\n        \r\n    It is happen because :\r\n    1. The screen of the mobile phone is small so the long sentence will automatically break into more than one \r\n    line on the  mobile phone.\r\n    2. You have to able to mak the sentence indent in proper way so the reader of this announcement will not have \r\n    difficulty  reading it.\r\n    a. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi \r\n    repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga \r\n    praesentium optio, eaque rerum! Provident similique accusantium nemo autem.\r\n    b. ...\r\n\r\nExpected Output\r\n\r\n    This is the long sentence which will take more than one line if you see in the mobile phone version of this\r\n    application.\r\n        \r\n    It is happen because :\r\n    1. The screen of the mobile phone is small so the long sentence will automatically break into more than one \r\n       line on the  mobile phone.\r\n    2. You have to able to mak the sentence indent in proper way so the reader of this announcement will not have \r\n       difficulty  reading it.\r\n       a. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi \r\n          repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto \r\n          fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem.\r\n       b. ...\r\n\r\nAny help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Indent Long Sentence and Number Inside TextView of RecyclerView","body":"<p>I want to indent long sentences and number inside TextView. The TextView is part of RecyclerView. The text is in <code>strings.xml</code>.</p>\n<p>I have tried using <code>LeadingMarginSpan.Standard</code> and <code>BulletSpan</code> but the result is not as expected. Also tried <code>Html.fromHtml</code> but the <code>ol</code> and <code>ul</code> did not show up.</p>\n<p>Current Output</p>\n<pre><code>This is the long sentence which will take more than one line if you see in the mobile phone version of this\napplication.\n    \nIt is happen because :\n1. The screen of the mobile phone is small so the long sentence will automatically break into more than one \nline on the  mobile phone.\n2. You have to able to mak the sentence indent in proper way so the reader of this announcement will not have \ndifficulty  reading it.\na. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi \nrepudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga \npraesentium optio, eaque rerum! Provident similique accusantium nemo autem.\nb. ...\n</code></pre>\n<p>Expected Output</p>\n<pre><code>This is the long sentence which will take more than one line if you see in the mobile phone version of this\napplication.\n    \nIt is happen because :\n1. The screen of the mobile phone is small so the long sentence will automatically break into more than one \n   line on the  mobile phone.\n2. You have to able to mak the sentence indent in proper way so the reader of this announcement will not have \n   difficulty  reading it.\n   a. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi \n      repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto \n      fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem.\n   b. ...\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","private","encapsulation"],"comments":[{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":0,"creation_date":1632683381,"post_id":69337882,"comment_id":122553125,"body_markdown":"In case you find it overkill to write simple setter/getter methods, most IDEs have a &quot;generate getter / setter&quot; feature to simply generate all methods for you. If you still find it cumbersome to have all these methods in your class, take a look at the &quot;Lombok&quot; library.","body":"In case you find it overkill to write simple setter/getter methods, most IDEs have a &quot;generate getter / setter&quot; feature to simply generate all methods for you. If you still find it cumbersome to have all these methods in your class, take a look at the &quot;Lombok&quot; library."}],"answers":[{"tags":[],"owner":{"account_id":5221842,"reputation":623,"user_id":4175046,"display_name":"William Hammond"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632682582,"creation_date":1632681872,"answer_id":69337922,"question_id":69337882,"body_markdown":"In the general case, it&#39;ll be the very basic \r\n\r\n```\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n```\r\n\r\nWhere it&#39;s identical to just doing `employee.name = &quot;william hammond&quot;`. But imagine a case where you&#39;d like to do implement something like a `private String normalize(string username)` method where you maybe make it all lower case, check for a valid name or prevent unicode entries. If you make `name` public initially you&#39;ll have users doing `employee.name = &quot;whatever they want :) 123&quot;` and you&#39;ll lose the ability to enforce that constraint. \r\n\r\nAlso see https://stackoverflow.com/questions/1568091/why-use-getters-and-setters-accessors","title":"Use of private data variables in simple POJO","body":"<p>In the general case, it'll be the very basic</p>\n<pre><code>    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>Where it's identical to just doing <code>employee.name = &quot;william hammond&quot;</code>. But imagine a case where you'd like to do implement something like a <code>private String normalize(string username)</code> method where you maybe make it all lower case, check for a valid name or prevent unicode entries. If you make <code>name</code> public initially you'll have users doing <code>employee.name = &quot;whatever they want :) 123&quot;</code> and you'll lose the ability to enforce that constraint.</p>\n<p>Also see <a href=\"https://stackoverflow.com/questions/1568091/why-use-getters-and-setters-accessors\">Why use getters and setters/accessors?</a></p>\n"},{"tags":[],"owner":{"account_id":22860712,"reputation":186,"user_id":17004841,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632682104,"creation_date":1632682104,"answer_id":69337954,"question_id":69337882,"body_markdown":"Using getters/setters is just considered good practice, but it can often be overkill - like in your example.\r\n\r\nIf you have methods that mutate the variable before setting, then it&#39;s nice to have getters/setters for the basic fields as well to maintain consistent code style.\r\n\r\n\r\nHere&#39;s a good article on it:\r\nhttps://dzone.com/articles/getter-setter-use-or-not-use-0","title":"Use of private data variables in simple POJO","body":"<p>Using getters/setters is just considered good practice, but it can often be overkill - like in your example.</p>\n<p>If you have methods that mutate the variable before setting, then it's nice to have getters/setters for the basic fields as well to maintain consistent code style.</p>\n<p>Here's a good article on it:\n<a href=\"https://dzone.com/articles/getter-setter-use-or-not-use-0\" rel=\"nofollow noreferrer\">https://dzone.com/articles/getter-setter-use-or-not-use-0</a></p>\n"},{"tags":[],"owner":{"account_id":9592050,"reputation":845,"user_id":7122582,"display_name":"Gieted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632683656,"creation_date":1632683011,"answer_id":69338090,"question_id":69337882,"body_markdown":"Let&#39;s have an example:\r\n\r\n```java\r\npublic class Example {\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    public Example(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n    \r\n    public String getFullName() {\r\n        return firstName + &quot; &quot; + lastName;\r\n    }\r\n}\r\n```\r\n\r\nThis class has 3 **properties** (firstName, lastName, fullName), but only two **fields** (firstName, lastName). It makes sense, because a full name can be retrieved by combining first and last name.\r\n\r\nHowever, I&#39;ve noticed that I call `getFullName()` a lot of times in my program, but I almost never call `getFirstName()` and `getLastName()`. This slows down my program, because I need to create a new string each time `getFullName()` is called. So, I&#39;ve refactored my code to have a better performance:\r\n\r\n```java\r\npublic class Example {\r\n    private String fullName;\r\n\r\n    public Example(String firstName, String lastName) {\r\n        this.fullName = firstName + &quot; &quot; + lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return fullName.split(&quot; &quot;)[0];\r\n    }\r\n\r\n    public String getLastName() {\r\n        return fullName.split(&quot; &quot;)[1];\r\n    }\r\n    \r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n}\r\n```\r\n\r\nNow my code works faster when calling `getFullName()`, but slower when calling `getFirstName()` and `getLastName()`, however It&#39;s exactly what I needed. From outside the class, nothing really&#39;ve changed.\r\n\r\n\r\n----------------\r\nAs you can see by the given example, **fields** describe how your class uses the computer&#39;s memory, but not necessarily which **properties** your class has. This is why **fields** should be considered an **implementation detail** and therefore be private to a class.","title":"Use of private data variables in simple POJO","body":"<p>Let's have an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    private String firstName;\n    private String lastName;\n\n    public Example(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n    \n    public String getFullName() {\n        return firstName + &quot; &quot; + lastName;\n    }\n}\n</code></pre>\n<p>This class has 3 <strong>properties</strong> (firstName, lastName, fullName), but only two <strong>fields</strong> (firstName, lastName). It makes sense, because a full name can be retrieved by combining first and last name.</p>\n<p>However, I've noticed that I call <code>getFullName()</code> a lot of times in my program, but I almost never call <code>getFirstName()</code> and <code>getLastName()</code>. This slows down my program, because I need to create a new string each time <code>getFullName()</code> is called. So, I've refactored my code to have a better performance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    private String fullName;\n\n    public Example(String firstName, String lastName) {\n        this.fullName = firstName + &quot; &quot; + lastName;\n    }\n\n    public String getFirstName() {\n        return fullName.split(&quot; &quot;)[0];\n    }\n\n    public String getLastName() {\n        return fullName.split(&quot; &quot;)[1];\n    }\n    \n    public String getFullName() {\n        return fullName;\n    }\n}\n</code></pre>\n<p>Now my code works faster when calling <code>getFullName()</code>, but slower when calling <code>getFirstName()</code> and <code>getLastName()</code>, however It's exactly what I needed. From outside the class, nothing really've changed.</p>\n<hr />\n<p>As you can see by the given example, <strong>fields</strong> describe how your class uses the computer's memory, but not necessarily which <strong>properties</strong> your class has. This is why <strong>fields</strong> should be considered an <strong>implementation detail</strong> and therefore be private to a class.</p>\n"}],"owner":{"account_id":7400444,"reputation":23,"user_id":5631072,"display_name":"Shubham Rathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632683184,"answer_count":3,"score":0,"last_activity_date":1632683656,"creation_date":1632681480,"question_id":69337882,"body_markdown":"Recently I was going through the concept of Encapsulation in Java. I was wondering if making data variables private along with public setter methods really make sense in simple POJO class? Please refer below POJO:\r\n\r\n```\r\npublic class Employee{\r\n    \r\n    private String id;\r\n    private String name;\r\n    private String department;\r\n    private int age;\r\n    \r\n    public Employee(){        \r\n    }\r\n\r\n    public Employee(String id, String name, String department, int age){\r\n        this.id = id;\r\n        this.name = name;\r\n        this.department = department;\r\n        this.age = age;\r\n    }\r\n \r\n    public String getId() {\r\n        return id;\r\n    }\r\n \r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n \r\n    public String getName() {\r\n        return name;\r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n \r\n    public String getDepartment() {\r\n        return department;\r\n    }\r\n \r\n    public void setDepartment(String department) {\r\n        this.department = department;\r\n    }\r\n    \r\n    public int getAge() {\r\n        return age;\r\n    }\r\n \r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n  \r\n}\r\n```\r\nI mean why am I making the name variable private when I can anyway change it using the setter method?","title":"Use of private data variables in simple POJO","body":"<p>Recently I was going through the concept of Encapsulation in Java. I was wondering if making data variables private along with public setter methods really make sense in simple POJO class? Please refer below POJO:</p>\n<pre><code>public class Employee{\n    \n    private String id;\n    private String name;\n    private String department;\n    private int age;\n    \n    public Employee(){        \n    }\n\n    public Employee(String id, String name, String department, int age){\n        this.id = id;\n        this.name = name;\n        this.department = department;\n        this.age = age;\n    }\n \n    public String getId() {\n        return id;\n    }\n \n    public void setId(String id) {\n        this.id = id;\n    }\n \n    public String getName() {\n        return name;\n    }\n \n    public void setName(String name) {\n        this.name = name;\n    }\n \n    public String getDepartment() {\n        return department;\n    }\n \n    public void setDepartment(String department) {\n        this.department = department;\n    }\n    \n    public int getAge() {\n        return age;\n    }\n \n    public void setAge(int age) {\n        this.age = age;\n    }\n  \n}\n</code></pre>\n<p>I mean why am I making the name variable private when I can anyway change it using the setter method?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1633943531,"post_id":69337548,"comment_id":122885535,"body_markdown":"Does my answer fix your issue ?","body":"Does my answer fix your issue ?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632683311,"creation_date":1632683311,"answer_id":69338134,"question_id":69337548,"body_markdown":"I just tried it, and it works... with few edits.\r\n\r\nWhen you unlog or if you scoreboard change, the task will continue to run ask create error. You currently make one task for each player. So, I suggest you to do this :\r\n\r\n```java\r\n@Override\r\npublic void onEnable() {\r\n   // this will update for all online players.\r\n   // So don&#39;t create for offline&#39;s one that do not longer have scoreboard\r\n   Bukkit.getScheduler().scheduleSyncRepeatingTask(this, () -&gt; {\r\n      Bukkit.getOnlinePlayers().forEach(PlayerScoreboard::updateDamage);\r\n   }, 20, 20);\r\n}\r\n```\r\n\r\nThen, if the team isn&#39;t found, you can just create a new one instead of throwing error. This can be better to prevent player to have empty scoreboard.\r\n\r\nAlso, you seems to never add the team&#39;s informations as score. I already made an answer about [how to make a good scoreboard that not flicker](https://stackoverflow.com/a/69033362/10952503). You forget something like `objective.getScore(ChatColor.DARK_RED + &quot;&quot; + ChatColor.BLUE).setScore(mySlot);`\r\n\r\nFinally, I don&#39;t know what&#39;s your server version but be carefull: you can reach the max length of scoreboard size. ([Spigot&#39;s thread about this](https://www.spigotmc.org/threads/scoreboard-maximum-line-length.368663/))","title":"Scoreboard not updating even with scheduler","body":"<p>I just tried it, and it works... with few edits.</p>\n<p>When you unlog or if you scoreboard change, the task will continue to run ask create error. You currently make one task for each player. So, I suggest you to do this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEnable() {\n   // this will update for all online players.\n   // So don't create for offline's one that do not longer have scoreboard\n   Bukkit.getScheduler().scheduleSyncRepeatingTask(this, () -&gt; {\n      Bukkit.getOnlinePlayers().forEach(PlayerScoreboard::updateDamage);\n   }, 20, 20);\n}\n</code></pre>\n<p>Then, if the team isn't found, you can just create a new one instead of throwing error. This can be better to prevent player to have empty scoreboard.</p>\n<p>Also, you seems to never add the team's informations as score. I already made an answer about <a href=\"https://stackoverflow.com/a/69033362/10952503\">how to make a good scoreboard that not flicker</a>. You forget something like <code>objective.getScore(ChatColor.DARK_RED + &quot;&quot; + ChatColor.BLUE).setScore(mySlot);</code></p>\n<p>Finally, I don't know what's your server version but be carefull: you can reach the max length of scoreboard size. (<a href=\"https://www.spigotmc.org/threads/scoreboard-maximum-line-length.368663/\" rel=\"nofollow noreferrer\">Spigot's thread about this</a>)</p>\n"}],"owner":{"account_id":22845622,"reputation":1,"user_id":16992002,"display_name":"amxyargaming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632683311,"creation_date":1632679244,"question_id":69337548,"body_markdown":"This is the code but it doesnt update even with the scheduler and it gives me error in console and i tried to fix some stuff like before it didnt show the Damage dealt: and also didnt show the statistics but now it shows it but doesnt want to update\r\n\r\n```\r\npublic class PlayerScoreboard {\r\n    static Plugin p;\r\n\r\n    public static void setPlugin(Plugin plugin) {\r\n        p = plugin;\r\n    }\r\n    public static void showScoreboard(Player p) {\r\n        ScoreboardManager manager = Bukkit.getScoreboardManager();\r\n        if (manager == null) return;\r\n        Scoreboard board = manager.getNewScoreboard();\r\n\r\n        Objective objective = board.registerNewObjective(&quot;servername&quot;, &quot;dummy&quot;, ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, &quot;&amp;e&amp;lRAY&#39;S &amp;b&amp;lSERVER&quot;));\r\n        objective.setDisplaySlot(DisplaySlot.SIDEBAR);\r\n\r\n        objective.getScore(&quot;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;).setScore(4);\r\n        objective.getScore(&quot;&quot;).setScore(3);\r\n        objective.getScore(&quot;&#167;cDamage dealt: &quot; +ChatColor.GREEN+p.getStatistic(Statistic.DAMAGE_DEALT)).setScore(2); // damage\r\n        objective.getScore(&quot; &quot;).setScore(1);\r\n\r\n        Team damage = board.registerNewTeam(&quot;damage&quot;);\r\n        damage.addEntry(ChatColor.DARK_RED + &quot;&quot; + ChatColor.BLUE);\r\n        damage.setPrefix(ChatColor.RED + &quot;Damage dealt: &quot; + ChatColor.GREEN + p.getStatistic(Statistic.DAMAGE_DEALT));\r\n\r\n\r\n        p.setScoreboard(board);\r\n        Bukkit.getScheduler().scheduleSyncRepeatingTask(Testing.getPlugin(Testing.class), () -&gt; {\r\n            try {\r\n                updateDamage(p);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, 0L, 20L);\r\n    }\r\n    // call this when you need to update the damage\r\n    public static void updateDamage(Player p) throws IllegalAccessException {\r\n        Team team = p.getScoreboard().getTeam(&quot;damage&quot;);\r\n        if (team == null) {\r\n            System.out.println(&quot;damage Team was either deleted, or doesn&#39;t exist&quot;);\r\n            throw new IllegalAccessException(&quot;Damage cannot be null&quot;);\r\n        }\r\n\r\n        team.setPrefix(ChatColor.RED + &quot;Damage dealt: &quot; + ChatColor.GREEN + p.getStatistic(Statistic.DAMAGE_DEALT));\r\n\r\n    }\r\n```\r\nThis is the error message in the console\r\n```\r\n[00:11:54] [Server thread/INFO]: [CoolPluginTest] [STDOUT] damage Team was either deleted, or doesn&#39;t exist\r\n[00:11:54] [Server thread/WARN]: java.lang.IllegalAccessException: Damage cannot be null\r\n[00:11:54] [Server thread/WARN]: \tat testing-1.0.jar//me.amxyargaming.testing.PlayerScoreboard.updateDamage(PlayerScoreboard.java:48)\r\n[00:11:54] [Server thread/WARN]: \tat testing-1.0.jar//me.amxyargaming.testing.PlayerScoreboard.lambda$showScoreboard$0(PlayerScoreboard.java:37)\r\n[00:11:54] [Server thread/WARN]: \tat org.bukkit.craftbukkit.v1_17_R1.scheduler.CraftTask.run(CraftTask.java:101)\r\n[00:11:54] [Server thread/WARN]: \tat org.bukkit.craftbukkit.v1_17_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483)\r\n[00:11:54] [Server thread/WARN]: \tat net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1559)\r\n[00:11:54] [Server thread/WARN]: \tat net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:479)\r\n[00:11:54] [Server thread/WARN]: \tat net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1475)\r\n[00:11:54] [Server thread/WARN]: \tat net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1274)\r\n[00:11:54] [Server thread/WARN]: \tat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:319)\r\n[00:11:54] [Server thread/WARN]: \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nif you can help that would be great!","title":"Scoreboard not updating even with scheduler","body":"<p>This is the code but it doesnt update even with the scheduler and it gives me error in console and i tried to fix some stuff like before it didnt show the Damage dealt: and also didnt show the statistics but now it shows it but doesnt want to update</p>\n<pre><code>public class PlayerScoreboard {\n    static Plugin p;\n\n    public static void setPlugin(Plugin plugin) {\n        p = plugin;\n    }\n    public static void showScoreboard(Player p) {\n        ScoreboardManager manager = Bukkit.getScoreboardManager();\n        if (manager == null) return;\n        Scoreboard board = manager.getNewScoreboard();\n\n        Objective objective = board.registerNewObjective(&quot;servername&quot;, &quot;dummy&quot;, ChatColor.translateAlternateColorCodes('&amp;', &quot;&amp;e&amp;lRAY'S &amp;b&amp;lSERVER&quot;));\n        objective.setDisplaySlot(DisplaySlot.SIDEBAR);\n\n        objective.getScore(&quot;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;).setScore(4);\n        objective.getScore(&quot;&quot;).setScore(3);\n        objective.getScore(&quot;Â§cDamage dealt: &quot; +ChatColor.GREEN+p.getStatistic(Statistic.DAMAGE_DEALT)).setScore(2); // damage\n        objective.getScore(&quot; &quot;).setScore(1);\n\n        Team damage = board.registerNewTeam(&quot;damage&quot;);\n        damage.addEntry(ChatColor.DARK_RED + &quot;&quot; + ChatColor.BLUE);\n        damage.setPrefix(ChatColor.RED + &quot;Damage dealt: &quot; + ChatColor.GREEN + p.getStatistic(Statistic.DAMAGE_DEALT));\n\n\n        p.setScoreboard(board);\n        Bukkit.getScheduler().scheduleSyncRepeatingTask(Testing.getPlugin(Testing.class), () -&gt; {\n            try {\n                updateDamage(p);\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }, 0L, 20L);\n    }\n    // call this when you need to update the damage\n    public static void updateDamage(Player p) throws IllegalAccessException {\n        Team team = p.getScoreboard().getTeam(&quot;damage&quot;);\n        if (team == null) {\n            System.out.println(&quot;damage Team was either deleted, or doesn't exist&quot;);\n            throw new IllegalAccessException(&quot;Damage cannot be null&quot;);\n        }\n\n        team.setPrefix(ChatColor.RED + &quot;Damage dealt: &quot; + ChatColor.GREEN + p.getStatistic(Statistic.DAMAGE_DEALT));\n\n    }\n</code></pre>\n<p>This is the error message in the console</p>\n<pre><code>[00:11:54] [Server thread/INFO]: [CoolPluginTest] [STDOUT] damage Team was either deleted, or doesn't exist\n[00:11:54] [Server thread/WARN]: java.lang.IllegalAccessException: Damage cannot be null\n[00:11:54] [Server thread/WARN]:    at testing-1.0.jar//me.amxyargaming.testing.PlayerScoreboard.updateDamage(PlayerScoreboard.java:48)\n[00:11:54] [Server thread/WARN]:    at testing-1.0.jar//me.amxyargaming.testing.PlayerScoreboard.lambda$showScoreboard$0(PlayerScoreboard.java:37)\n[00:11:54] [Server thread/WARN]:    at org.bukkit.craftbukkit.v1_17_R1.scheduler.CraftTask.run(CraftTask.java:101)\n[00:11:54] [Server thread/WARN]:    at org.bukkit.craftbukkit.v1_17_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483)\n[00:11:54] [Server thread/WARN]:    at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1559)\n[00:11:54] [Server thread/WARN]:    at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:479)\n[00:11:54] [Server thread/WARN]:    at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1475)\n[00:11:54] [Server thread/WARN]:    at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1274)\n[00:11:54] [Server thread/WARN]:    at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:319)\n[00:11:54] [Server thread/WARN]:    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>if you can help that would be great!</p>\n"},{"tags":["java","arrays","intellij-idea","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":5221842,"reputation":623,"user_id":4175046,"display_name":"William Hammond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632682934,"creation_date":1632682934,"answer_id":69338072,"question_id":69337993,"body_markdown":"I think this should do it\r\n```\r\n    private static void printArrayEven(int[][] theArray) {\r\n        for (int i = 0; i &lt; theArray.length; i++) {\r\n            for (int j = 0; j &lt; theArray[i].length; j++) {\r\n                if ((theArray[i][j]) % 2 == 0) {\r\n                    display(theArray[i][j]);\r\n                } else {\r\n                    System.out.print(&quot;* &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n ```\r\n\r\n`System.out.println()` adds a newline at the end of the print statement so you need to use `System.out.print()` for the individual characters and print the new line after a row","title":"How to print out the 2D Array in a certain order?","body":"<p>I think this should do it</p>\n<pre><code>    private static void printArrayEven(int[][] theArray) {\n        for (int i = 0; i &lt; theArray.length; i++) {\n            for (int j = 0; j &lt; theArray[i].length; j++) {\n                if ((theArray[i][j]) % 2 == 0) {\n                    display(theArray[i][j]);\n                } else {\n                    System.out.print(&quot;* &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n<p><code>System.out.println()</code> adds a newline at the end of the print statement so you need to use <code>System.out.print()</code> for the individual characters and print the new line after a row</p>\n"}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69338072,"answer_count":1,"score":0,"last_activity_date":1632682934,"creation_date":1632682427,"question_id":69337993,"body_markdown":"So I&#39;m working on this file where we have to print out a 2D Array that has the odd numbers replaced with stars. But I can&#39;t seem to get the order right\r\n\r\n    public class TwoDimArray {\r\n        public static int[][] myArray = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n    \r\n        public static void main(String[] args) {\r\n            printArray(myArray);\r\n            System.out.println(&quot;______________________________&quot;);\r\n            printArrayEven(myArray);\r\n        }\r\n    \r\n        private static void printArray(int[][] theArray) {\r\n            for (int i = 0; i &lt; theArray.length; i++) {\r\n                for (int j = 0; j &lt; theArray[i].length; j++)\r\n                    display(theArray[i][j]);\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        private static void display(int num) {\r\n            System.out.print(num + &quot; &quot;);\r\n        }\r\n    \r\n        private static void printArrayEven(int[][] theArray) {\r\n            for (int i = 0; i &lt; theArray.length; i++) {\r\n                for (int j = 0; j &lt; theArray[i].length; j++)\r\n                    if ((theArray[i][j]) % 2 == 0) {\r\n                        display(theArray[i][j]);\r\n                        System.out.println();\r\n    \r\n                    } else {\r\n                        System.out.println(&quot;*&quot;);\r\n                    }\r\n    \r\n            }\r\n        }\r\n    } \r\n\r\n The first method prints out the order that I am looking for but the second one prints everything vertically.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WfwD0.png\r\n\r\n\r\nHow do I get the second method to print the same as the first method? Thanks.","title":"How to print out the 2D Array in a certain order?","body":"<p>So I'm working on this file where we have to print out a 2D Array that has the odd numbers replaced with stars. But I can't seem to get the order right</p>\n<pre><code>public class TwoDimArray {\n    public static int[][] myArray = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n\n    public static void main(String[] args) {\n        printArray(myArray);\n        System.out.println(&quot;______________________________&quot;);\n        printArrayEven(myArray);\n    }\n\n    private static void printArray(int[][] theArray) {\n        for (int i = 0; i &lt; theArray.length; i++) {\n            for (int j = 0; j &lt; theArray[i].length; j++)\n                display(theArray[i][j]);\n            System.out.println();\n        }\n    }\n\n    private static void display(int num) {\n        System.out.print(num + &quot; &quot;);\n    }\n\n    private static void printArrayEven(int[][] theArray) {\n        for (int i = 0; i &lt; theArray.length; i++) {\n            for (int j = 0; j &lt; theArray[i].length; j++)\n                if ((theArray[i][j]) % 2 == 0) {\n                    display(theArray[i][j]);\n                    System.out.println();\n\n                } else {\n                    System.out.println(&quot;*&quot;);\n                }\n\n        }\n    }\n} \n</code></pre>\n<p>The first method prints out the order that I am looking for but the second one prints everything vertically.</p>\n<p><a href=\"https://i.stack.imgur.com/WfwD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WfwD0.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get the second method to print the same as the first method? Thanks.</p>\n"},{"tags":["java","arrays","average"],"comments":[{"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"score":0,"creation_date":1632679038,"post_id":69337460,"comment_id":122552128,"body_markdown":"Can you provide some info about the StdOut / StdIn class?","body":"Can you provide some info about the StdOut / StdIn class?"},{"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"score":0,"creation_date":1632679096,"post_id":69337460,"comment_id":122552147,"body_markdown":"In normal java syntax we would use the System.in input stream and the System.out output stream","body":"In normal java syntax we would use the System.in input stream and the System.out output stream"},{"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"score":0,"creation_date":1632679467,"post_id":69337460,"comment_id":122552256,"body_markdown":"StdOut/StdIn are used in the same way that Scanner is used to read input from a user. If you look within my post, you can see where my input is what comes before the Ctrl-z. The computer should then automatically output what comes after Ctrl-z.","body":"StdOut/StdIn are used in the same way that Scanner is used to read input from a user. If you look within my post, you can see where my input is what comes before the Ctrl-z. The computer should then automatically output what comes after Ctrl-z."},{"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"score":0,"creation_date":1632682059,"post_id":69337460,"comment_id":122552848,"body_markdown":"I don&#39;t know if that&#39;s the problem, but something that comes to my mind is that numbers can be read as strings, thus `StdIn.readAllStrings()` might be reading in all of the numbers too?","body":"I don&#39;t know if that&#39;s the problem, but something that comes to my mind is that numbers can be read as strings, thus <code>StdIn.readAllStrings()</code> might be reading in all of the numbers too?"},{"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"score":0,"creation_date":1632682188,"post_id":69337460,"comment_id":122552865,"body_markdown":"So instead of reading the names I&#39;m typing, it&#39;s only reading the numbers I enter?","body":"So instead of reading the names I&#39;m typing, it&#39;s only reading the numbers I enter?"},{"owner":{"account_id":22815323,"reputation":518,"user_id":16966037,"display_name":"alonkh2"},"score":0,"creation_date":1632682774,"post_id":69337460,"comment_id":122552991,"body_markdown":"the opposite way - wouldn&#39;t it be reading *all* of it as strings?","body":"the opposite way - wouldn&#39;t it be reading <i>all</i> of it as strings?"},{"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"score":0,"creation_date":1632685209,"post_id":69337460,"comment_id":122553486,"body_markdown":"I thought it would be reading all the names I type and assign the value to my string array, but I guess I&#39;m misunderstanding this function. I&#39;m changing some things around now.","body":"I thought it would be reading all the names I type and assign the value to my string array, but I guess I&#39;m misunderstanding this function. I&#39;m changing some things around now."},{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1632693017,"post_id":69337460,"comment_id":122555057,"body_markdown":"@gizmo.java, if `StdIn.readAllStrings()` is the same as in [StdIn.readAllStrings()](https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdIn.html#readAllStrings--) then the function will read all the strings input by the user, but the values will still need to be mapped (somehow manually or with a function) to each of the names.","body":"@gizmo.java, if <code>StdIn.readAllStrings()</code> is the same as in <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdIn.html#readAllStrings--\" rel=\"nofollow noreferrer\">StdIn.readAllStrings()</a> then the function will read all the strings input by the user, but the values will still need to be mapped (somehow manually or with a function) to each of the names."}],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632682096,"creation_date":1632682096,"answer_id":69337953,"question_id":69337460,"body_markdown":"    Scanner scanner = new Scanner(System.in);\r\n    scanner.useDelimiter(Pattern.compile(&quot;\\n&quot;));\r\n    scanner.forEachRemaining(s -&gt; {\r\n      if(s.replace(&quot; &quot;,&quot;&quot;).equals(&quot;&quot;))return;\r\n      System.out.println(s+&quot; &quot;+Arrays.stream(s.split(&quot; &quot;)).skip(1).mapToInt(Integer::parseInt).average().orElse(0));\r\n    });","title":"Using Strings and Double Arrays","body":"<pre><code>Scanner scanner = new Scanner(System.in);\nscanner.useDelimiter(Pattern.compile(&quot;\\n&quot;));\nscanner.forEachRemaining(s -&gt; {\n  if(s.replace(&quot; &quot;,&quot;&quot;).equals(&quot;&quot;))return;\n  System.out.println(s+&quot; &quot;+Arrays.stream(s.split(&quot; &quot;)).skip(1).mapToInt(Integer::parseInt).average().orElse(0));\n});\n</code></pre>\n"}],"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632682096,"creation_date":1632678657,"question_id":69337460,"body_markdown":"I&#39;m brand new to programming, so please bear with me. I need to create a program using while loops, one String array, and three double arrays. My output should be something like this:\r\njava Average 4\r\n\r\nJoe 3 5 2\r\n\r\nTim 4 1 5\r\n\r\nJane 6 3 2\r\n\r\nJack 8 3 5\r\n\r\nJill 5 4 9\r\n\r\nMike 6 7 3\r\n\r\nCtrl-Z\r\n\r\nJoe 3 5 2 3.33\r\n\r\nTim 4 1 5 3.33\r\n\r\nJane 6 3 2 3.67\r\n\r\nJack 8 3 5 5.33\r\n\r\nI&#39;m basically needing a program to read input with names, and three numbers. The output should print the names and numbers I inputted and then the average of each set of numbers. I&#39;m able to create a class file, but after I press Ctrl+z, the program doesn&#39;t output anything. \r\n```\r\npublic class Average { \r\n    public static void main(String[] args) { \r\n\t\tint n = Integer.parseInt(args[0]);\r\n\t\t\r\n\t\t\r\n\t\tString [] names = new String [n];\r\n\t\t\r\n\t\r\n\t\tdouble [] a = new double [n];\r\n\t\tdouble [] b = new double [n];\r\n\t\tdouble [] c = new double [n];\r\n\t\t\r\n\t\tint counter = 0;\r\n\t\t\r\n\t\twhile (counter &lt; n) {\r\n\t\t\tString [] run = StdIn.readAllStrings();\r\n\t\t\tdouble [] value = StdIn.readAllDoubles();\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\t\r\n\t\tint i = 0;\r\n\t\tdouble sum = 0.0;\r\n\r\n        while (!StdIn.isEmpty()) {\r\n\t\tdouble value = StdIn.readDouble();\r\n\t\t\tsum += value;\r\n\t\t\tn++;\r\n\t\t\t\r\n\t\t\tdouble average = sum / n;\r\n\t\t\t\r\n\t\tStdOut.print(names);\r\n\t\tStdOut.print(value);\r\n\t\tStdOut.printf(&quot;%.2f&quot;, average);\r\n       \r\n        \r\n\t\t}\r\n    }\r\n}\r\n```","title":"Using Strings and Double Arrays","body":"<p>I'm brand new to programming, so please bear with me. I need to create a program using while loops, one String array, and three double arrays. My output should be something like this:\njava Average 4</p>\n<p>Joe 3 5 2</p>\n<p>Tim 4 1 5</p>\n<p>Jane 6 3 2</p>\n<p>Jack 8 3 5</p>\n<p>Jill 5 4 9</p>\n<p>Mike 6 7 3</p>\n<p>Ctrl-Z</p>\n<p>Joe 3 5 2 3.33</p>\n<p>Tim 4 1 5 3.33</p>\n<p>Jane 6 3 2 3.67</p>\n<p>Jack 8 3 5 5.33</p>\n<p>I'm basically needing a program to read input with names, and three numbers. The output should print the names and numbers I inputted and then the average of each set of numbers. I'm able to create a class file, but after I press Ctrl+z, the program doesn't output anything.</p>\n<pre><code>public class Average { \n    public static void main(String[] args) { \n        int n = Integer.parseInt(args[0]);\n        \n        \n        String [] names = new String [n];\n        \n    \n        double [] a = new double [n];\n        double [] b = new double [n];\n        double [] c = new double [n];\n        \n        int counter = 0;\n        \n        while (counter &lt; n) {\n            String [] run = StdIn.readAllStrings();\n            double [] value = StdIn.readAllDoubles();\n            counter++;\n        }\n        \n        int i = 0;\n        double sum = 0.0;\n\n        while (!StdIn.isEmpty()) {\n        double value = StdIn.readDouble();\n            sum += value;\n            n++;\n            \n            double average = sum / n;\n            \n        StdOut.print(names);\n        StdOut.print(value);\n        StdOut.printf(&quot;%.2f&quot;, average);\n       \n        \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","optimization","data-structures","hashmap","cpu"],"comments":[{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":1,"creation_date":1538764444,"post_id":52671362,"comment_id":92272690,"body_markdown":"That `HashMap` should only have to resize once, from an initial capacity of 128, to a final capacity of 256. How have you measured the number of times it has resized during your code execution?","body":"That <code>HashMap</code> should only have to resize once, from an initial capacity of 128, to a final capacity of 256. How have you measured the number of times it has resized during your code execution?"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1538764808,"post_id":52671362,"comment_id":92272863,"body_markdown":"@CarlosHeuberger I compiled the source code, for java 1.8 (revision 181)","body":"@CarlosHeuberger I compiled the source code, for java 1.8 (revision 181)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1538764884,"post_id":52671362,"comment_id":92272899,"body_markdown":"maybe debugging shows what is happening... kind of strange since resizing should double the size (java 11)","body":"maybe debugging shows what is happening... kind of strange since resizing should double the size (java 11)"},{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":3,"creation_date":1538765224,"post_id":52671362,"comment_id":92273051,"body_markdown":"It&#39;s still not clear how you&#39;ve counted twenty-one calls to `resize()` during the execution of this specific chunk of code. Just compiling the code will surely not show you how many times the loop causes the actual `HashMap` object to be resized. What means have you used to count the actual number of times a resize occurs?","body":"It&#39;s still not clear how you&#39;ve counted twenty-one calls to <code>resize()</code> during the execution of this specific chunk of code. Just compiling the code will surely not show you how many times the loop causes the actual <code>HashMap</code> object to be resized. What means have you used to count the actual number of times a resize occurs?"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1538765705,"post_id":52671362,"comment_id":92273267,"body_markdown":"@Bobulous You are right, ***my*** hashmap is getting resized only twice -- see my updated answer. (2 is still unacceptable for my case)","body":"@Bobulous You are right, <b><i>my</i></b> hashmap is getting resized only twice -- see my updated answer. (2 is still unacceptable for my case)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1538765874,"post_id":52671362,"comment_id":92273340,"body_markdown":"What is the problem of it being called 2 times? first = first creation; second = because load factor 0.75 - if you know how many elements, change load factor  to 1.0 (or devide number of elements by the load factor to get initial capacity)","body":"What is the problem of it being called 2 times? first = first creation; second = because load factor 0.75 - if you know how many elements, change load factor  to 1.0 (or devide number of elements by the load factor to get initial capacity)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1538766012,"post_id":52671362,"comment_id":92273408,"body_markdown":"If you don&#39;t want it to resize twice (technically once), then either specify a larger intial size (~134), or create it with a higher load factor, which BTW, is something which you should not tweak without carefully considering described in its documentation.","body":"If you don&#39;t want it to resize twice (technically once), then either specify a larger intial size (~134), or create it with a higher load factor, which BTW, is something which you should not tweak without carefully considering described in its documentation."},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1538766021,"post_id":52671362,"comment_id":92273415,"body_markdown":"@CarlosHeuberger because my applications cpu profiling shows a large percentage of time being spent in hashmap.resize(), and these hashmaps are initialized with an initial capacity that is equal to the number of elements inside of it (we know this beforehand). Therefore, to optimize this, we need to reduce the calls to resize(). Do you agree?","body":"@CarlosHeuberger because my applications cpu profiling shows a large percentage of time being spent in hashmap.resize(), and these hashmaps are initialized with an initial capacity that is equal to the number of elements inside of it (we know this beforehand). Therefore, to optimize this, we need to reduce the calls to resize(). Do you agree?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1538766106,"post_id":52671362,"comment_id":92273458,"body_markdown":"And you don&#39;t need to know the internals intimately, you just need to read the API documentation. This behavior is part of its contract, it is not just an implementation detail.","body":"And you don&#39;t need to know the internals intimately, you just need to read the API documentation. This behavior is part of its contract, it is not just an implementation detail."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1538766156,"post_id":52671362,"comment_id":92273475,"body_markdown":"I don;t have enough information to agree or not... well, kind of hard to believe that 2 times will do that much harm...","body":"I don;t have enough information to agree or not... well, kind of hard to believe that 2 times will do that much harm..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1538766586,"post_id":52671362,"comment_id":92273642,"body_markdown":"and the first call is just part of the (postponed) creation of the map, no way to avoid that one","body":"and the first call is just part of the (postponed) creation of the map, no way to avoid that one"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1538766716,"post_id":52671362,"comment_id":92273690,"body_markdown":"Hmmm... it&#39;s not clear that setting the initial capacity to `(expected_size*4.0/3.0)+1` will make your app run faster, or spend a lower amount of CPU time. You should consider other aspects, i.e. do you add and remove elements many times? This might cause many resize calls when size is about 75 (for 100 entries)...","body":"Hmmm... it&#39;s not clear that setting the initial capacity to <code>(expected_size*4.0&#47;3.0)+1</code> will make your app run faster, or spend a lower amount of CPU time. You should consider other aspects, i.e. do you add and remove elements many times? This might cause many resize calls when size is about 75 (for 100 entries)..."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1538766943,"post_id":52671362,"comment_id":92273786,"body_markdown":"@JamesWierzba If CPU shows large percentage of time being spent in hashmap.resize(), it&#39;s likely because the `hashCode()` methods of the keys are slow. Any chance of optimizing those (too)? Sure, `initialCapacity = expectedSize * 4/3 + 1` will eliminate the 75% full resizing, but if `hashCode()` is slow, you might be able to improve initial `put()` performance too.","body":"@JamesWierzba If CPU shows large percentage of time being spent in hashmap.resize(), it&#39;s likely because the <code>hashCode()</code> methods of the keys are slow. Any chance of optimizing those (too)? Sure, <code>initialCapacity = expectedSize * 4&#47;3 + 1</code> will eliminate the 75% full resizing, but if <code>hashCode()</code> is slow, you might be able to improve initial <code>put()</code> performance too."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1538767112,"post_id":52671362,"comment_id":92273835,"body_markdown":"@Andreas and while not that ridiculous (we use it internally), when keys are *known* and hashCode is rather expensive - we *cache* it, on an absolutely serious note.","body":"@Andreas and while not that ridiculous (we use it internally), when keys are <i>known</i> and hashCode is rather expensive - we <i>cache</i> it, on an absolutely serious note."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1538767183,"post_id":52671362,"comment_id":92273863,"body_markdown":"@Eugene Exactly like `String` is doing, specifically because calculating hash of a long string is expensive. Of course, it requires the object to be immutable, *or* for mutations to clear the hash cache. But then again, the hash of an object must be immutable while the object is a key in a `HashMap`, so that&#39;s not really a tough restraint to live with.","body":"@Eugene Exactly like <code>String</code> is doing, specifically because calculating hash of a long string is expensive. Of course, it requires the object to be immutable, <i>or</i> for mutations to clear the hash cache. But then again, the hash of an object must be immutable while the object is a key in a <code>HashMap</code>, so that&#39;s not really a tough restraint to live with."},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1538767928,"post_id":52671362,"comment_id":92274185,"body_markdown":"If you really care about lookup cost more than space cost then consider using a lower load factor to decrease the probability of hash collisions even more, but certainly test and measure performance impacts.","body":"If you really care about lookup cost more than space cost then consider using a lower load factor to decrease the probability of hash collisions even more, but certainly test and measure performance impacts."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1538767993,"post_id":52671362,"comment_id":92274222,"body_markdown":"@Andreas How have you come to the conclusion that having a slow `hashCode()` method for the keys will make the app spend a large amount of time in `resize()`? I don&#39;t see that `hashCode()` is being called from `resize()`...","body":"@Andreas How have you come to the conclusion that having a slow <code>hashCode()</code> method for the keys will make the app spend a large amount of time in <code>resize()</code>? I don&#39;t see that <code>hashCode()</code> is being called from <code>resize()</code>..."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1538768520,"post_id":52671362,"comment_id":92274454,"body_markdown":"@FedericoPeraltaSchaffner well, that clears it, `resize` is potentially expensive when there&#39;s a `Tree` involved and entries move drastically around, and keys have hash collisions and keys don&#39;t implement `Comparable`, and... I think you get the picture","body":"@FedericoPeraltaSchaffner well, that clears it, <code>resize</code> is potentially expensive when there&#39;s a <code>Tree</code> involved and entries move drastically around, and keys have hash collisions and keys don&#39;t implement <code>Comparable</code>, and... I think you get the picture"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1538764496,"creation_date":1538764496,"answer_id":52671483,"question_id":52671362,"body_markdown":"The default Load Factor is `0.75`, i.e. `3/4`, which means that the internal hash table will be resized when 75 of the 100 values have been added.\r\n\r\n*FYI:* **`resize()` is only called twice**. Once when the first value is added, and once when it gets to 75% full.\r\n\r\nTo prevent resizing, you need to ensure that the 100th value will not cause resizing, i.e. `size &lt;= capacity * 0.75` aka `size &lt;= capacity * 3/4` aka `size * 4/3 &lt;= capacity`, so to be sure:\r\n\r\n    capacity = size * 4/3 + 1\r\n\r\nWith `size = 100`, that means `capacity = 134`.","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p>The default Load Factor is <code>0.75</code>, i.e. <code>3/4</code>, which means that the internal hash table will be resized when 75 of the 100 values have been added.</p>\n\n<p><em>FYI:</em> <strong><code>resize()</code> is only called twice</strong>. Once when the first value is added, and once when it gets to 75% full.</p>\n\n<p>To prevent resizing, you need to ensure that the 100th value will not cause resizing, i.e. <code>size &lt;= capacity * 0.75</code> aka <code>size &lt;= capacity * 3/4</code> aka <code>size * 4/3 &lt;= capacity</code>, so to be sure:</p>\n\n<pre><code>capacity = size * 4/3 + 1\n</code></pre>\n\n<p>With <code>size = 100</code>, that means <code>capacity = 134</code>.</p>\n"},{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1538767288,"creation_date":1538764511,"answer_id":52671492,"question_id":52671362,"body_markdown":"When in doubt read the Documentation. The docs for `HashMap` explain the trade offs of `initial capacity` and `load-factor` quite well.\r\n\r\nAccording to the documentation if `initCapacity = (maxEntries / loadFactor) + 1` then no rehash operations will occur upon adding entries. Where in this case, the `maxEntries` is `100` as you specify and the `loadFactor` would be the default load factor of `.75`.\r\n\r\nBut aside from just setting an initial size to avoid a rehash (`resize()`) you should carefully read the documentation of `HashMap` in order to tune it properly, taking both initial capacity and load factor into account.\r\n\r\nIf you care about lookup cost more than space, then perhaps try with a lower `loadFactor`s like `.5` or lower if you like. In that case you would create your hash map with both parameters like this:\r\n\r\n    final float loadFactor = 0.5;\r\n    final int maxEntries   = 100;\r\n    final int initCapacity = (int) maxEntries / loadFactor + 1;\r\n    new HashMap&lt;&gt;(initCapacity, loadFactor);\r\n\r\n---\r\n(emphasis mine)\r\n\r\n&gt; An instance of HashMap has two parameters that affect its performance: initial capacity and load factor. The capacity is the number of buckets in the hash table, and the initial capacity is simply the capacity at the time the hash table is created. The load factor is a measure of how full the hash table is allowed to get before its capacity is automatically increased. When the number of entries in the hash table exceeds the product of the load factor and the current capacity, the hash table is rehashed (that is, internal datastructures are rebuilt) so that the hash table has approximately twice the number of buckets.  \r\n...  \r\n&gt;As a general rule, the **default load factor (.75)** offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. **If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.**","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p>When in doubt read the Documentation. The docs for <code>HashMap</code> explain the trade offs of <code>initial capacity</code> and <code>load-factor</code> quite well.</p>\n\n<p>According to the documentation if <code>initCapacity = (maxEntries / loadFactor) + 1</code> then no rehash operations will occur upon adding entries. Where in this case, the <code>maxEntries</code> is <code>100</code> as you specify and the <code>loadFactor</code> would be the default load factor of <code>.75</code>.</p>\n\n<p>But aside from just setting an initial size to avoid a rehash (<code>resize()</code>) you should carefully read the documentation of <code>HashMap</code> in order to tune it properly, taking both initial capacity and load factor into account.</p>\n\n<p>If you care about lookup cost more than space, then perhaps try with a lower <code>loadFactor</code>s like <code>.5</code> or lower if you like. In that case you would create your hash map with both parameters like this:</p>\n\n<pre><code>final float loadFactor = 0.5;\nfinal int maxEntries   = 100;\nfinal int initCapacity = (int) maxEntries / loadFactor + 1;\nnew HashMap&lt;&gt;(initCapacity, loadFactor);\n</code></pre>\n\n<hr>\n\n<p>(emphasis mine)</p>\n\n<blockquote>\n  <p>An instance of HashMap has two parameters that affect its performance: initial capacity and load factor. The capacity is the number of buckets in the hash table, and the initial capacity is simply the capacity at the time the hash table is created. The load factor is a measure of how full the hash table is allowed to get before its capacity is automatically increased. When the number of entries in the hash table exceeds the product of the load factor and the current capacity, the hash table is rehashed (that is, internal datastructures are rebuilt) so that the hash table has approximately twice the number of buckets.<br>\n  ...<br>\n  As a general rule, the <strong>default load factor (.75)</strong> offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. <strong>If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538767430,"creation_date":1538766618,"answer_id":52671958,"question_id":52671362,"body_markdown":"This is easy to prove:\r\n\r\n\r\n    private static &lt;K, V&gt; void debugResize(Map&lt;K, V&gt; map, K key, V value) throws Throwable {\r\n\r\n        Field table = map.getClass().getDeclaredField(&quot;table&quot;);\r\n        AccessibleObject.setAccessible(new Field[] { table }, true);\r\n        Object[] nodes = ((Object[]) table.get(map));\r\n\r\n        // first put\r\n        if (nodes == null) {\r\n            map.put(key, value);\r\n            return;\r\n        }\r\n\r\n        map.put(key, value);\r\n\r\n        Field field = map.getClass().getDeclaredField(&quot;table&quot;);\r\n        AccessibleObject.setAccessible(new Field[] { field }, true);\r\n        int x = ((Object[]) field.get(map)).length;\r\n        if (nodes.length != x) {\r\n            ++currentResizeCalls;\r\n        }\r\n    }\r\n\r\nAnd some usage:\r\n        \r\n    static int currentResizeCalls = 0;\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n\r\n        int size = 100;\r\n        Map&lt;Integer, String&gt; m = new HashMap&lt;&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            DeleteMe.debugResize(m, i, String.valueOf(i));\r\n        }\r\n\r\n        System.out.println(DeleteMe.currentResizeCalls);\r\n    }     \r\n\r\nI am only logging the times it takes when `resize` *actually* resizes, because the first call is initializing; as the documentation stipulates:\r\n\r\n&gt; Initializes or doubles table size\r\n\r\n---\r\n**The second of your points is far more interesting.** A `HashMap` defines `capacity`, now what capacity is? And this is not that obvious:\r\n\r\nFor `HashMap`, `capacity` is the number of `buckets` before a resize happens, for `ConcurrentHashMap` it&#39;s the number of entries before resize is performed.\r\n\r\nThus, not to call resize internally, in case of `HashMap` use the formula:\r\n\r\n\r\n    (int)(1.0 + (long)initialCapacity / LOAD_FACTOR)\r\n\r\nBut this is by far not ideal, say you want `1024` entries without a resize, by using that formula you get to `1367` buckets, which internally are rounded to a power of two, thus `2048` - well, a lot more than you asked for. \r\n\r\nFor `CHM` specify the size *directly*. Easy to prove using one single modification in the previous code:\r\n\r\n\r\n     // use CHM instead of HashMap\r\n     Map&lt;Integer, String&gt; m = new ConcurrentHashMap&lt;&gt;(size);\r\n\r\nThis will result in `zero` resizes that actually double the array. But sometimes even `CHM` internal code is [confusing][1] and requires little patching. \r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8202422","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p>This is easy to prove:</p>\n\n<pre><code>private static &lt;K, V&gt; void debugResize(Map&lt;K, V&gt; map, K key, V value) throws Throwable {\n\n    Field table = map.getClass().getDeclaredField(\"table\");\n    AccessibleObject.setAccessible(new Field[] { table }, true);\n    Object[] nodes = ((Object[]) table.get(map));\n\n    // first put\n    if (nodes == null) {\n        map.put(key, value);\n        return;\n    }\n\n    map.put(key, value);\n\n    Field field = map.getClass().getDeclaredField(\"table\");\n    AccessibleObject.setAccessible(new Field[] { field }, true);\n    int x = ((Object[]) field.get(map)).length;\n    if (nodes.length != x) {\n        ++currentResizeCalls;\n    }\n}\n</code></pre>\n\n<p>And some usage:</p>\n\n<pre><code>static int currentResizeCalls = 0;\n\npublic static void main(String[] args) throws Throwable {\n\n    int size = 100;\n    Map&lt;Integer, String&gt; m = new HashMap&lt;&gt;(size);\n    for (int i = 0; i &lt; size; i++) {\n        DeleteMe.debugResize(m, i, String.valueOf(i));\n    }\n\n    System.out.println(DeleteMe.currentResizeCalls);\n}     \n</code></pre>\n\n<p>I am only logging the times it takes when <code>resize</code> <em>actually</em> resizes, because the first call is initializing; as the documentation stipulates:</p>\n\n<blockquote>\n  <p>Initializes or doubles table size</p>\n</blockquote>\n\n<hr>\n\n<p><strong>The second of your points is far more interesting.</strong> A <code>HashMap</code> defines <code>capacity</code>, now what capacity is? And this is not that obvious:</p>\n\n<p>For <code>HashMap</code>, <code>capacity</code> is the number of <code>buckets</code> before a resize happens, for <code>ConcurrentHashMap</code> it's the number of entries before resize is performed.</p>\n\n<p>Thus, not to call resize internally, in case of <code>HashMap</code> use the formula:</p>\n\n<pre><code>(int)(1.0 + (long)initialCapacity / LOAD_FACTOR)\n</code></pre>\n\n<p>But this is by far not ideal, say you want <code>1024</code> entries without a resize, by using that formula you get to <code>1367</code> buckets, which internally are rounded to a power of two, thus <code>2048</code> - well, a lot more than you asked for. </p>\n\n<p>For <code>CHM</code> specify the size <em>directly</em>. Easy to prove using one single modification in the previous code:</p>\n\n<pre><code> // use CHM instead of HashMap\n Map&lt;Integer, String&gt; m = new ConcurrentHashMap&lt;&gt;(size);\n</code></pre>\n\n<p>This will result in <code>zero</code> resizes that actually double the array. But sometimes even <code>CHM</code> internal code is <a href=\"https://bugs.openjdk.java.net/browse/JDK-8202422\" rel=\"nofollow noreferrer\">confusing</a> and requires little patching. </p>\n"},{"tags":[],"owner":{"account_id":2058631,"reputation":13975,"user_id":1835769,"accept_rate":94,"display_name":"displayName"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538769199,"creation_date":1538769199,"answer_id":52672492,"question_id":52671362,"body_markdown":"* Resizing is an essential part of a hashmap&#39;s working to keep the load factor low.\r\n\r\n* Load factor needs to be low because the hashing function of the hashmap will inevitably start having collisions when hashmap&#39;s buckets are maxing out. The collisions can start from second entry itself if your entries hash to an occupied bucket every time.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, in your particular case, collision is not a problem, only hashmap&#39;s resizing is.\r\n\r\nHashmap is generally resized at 0.75 ( = 3/4 in the fraction) load factor. Using this information, you can set up a hashmap of 4/3 times the count of the entries you need to store.\r\n\r\n\r\n----------\r\n**Regarding your dissent with breaking encapsulation:**\r\n\r\n&lt;strike&gt;I agree with you&lt;/strike&gt; It is debatable.\r\n\r\nYou can say that it would be better if `capacity` represented the count of entries until which the resize does not happen, rather than the count of maximum possible entries that could be stored in the hashmap - and I tend to agree with you.\r\n\r\nBut someone else could also argue the other side as to why the hashmap is occupying more space than it was instructed to reserve.\r\n\r\nThe solution to this problem lies in Java&#39;s domain. Java can provide two constructors which are explicit enough about what they will do and then the developers can have their pick during their hashmap&#39;s initialization.","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<ul>\n<li><p>Resizing is an essential part of a hashmap's working to keep the load factor low.</p></li>\n<li><p>Load factor needs to be low because the hashing function of the hashmap will inevitably start having collisions when hashmap's buckets are maxing out. The collisions can start from second entry itself if your entries hash to an occupied bucket every time.</p></li>\n</ul>\n\n<hr>\n\n<p>However, in your particular case, collision is not a problem, only hashmap's resizing is.</p>\n\n<p>Hashmap is generally resized at 0.75 ( = 3/4 in the fraction) load factor. Using this information, you can set up a hashmap of 4/3 times the count of the entries you need to store.</p>\n\n<hr>\n\n<p><strong>Regarding your dissent with breaking encapsulation:</strong></p>\n\n<p><strike>I agree with you</strike> It is debatable.</p>\n\n<p>You can say that it would be better if <code>capacity</code> represented the count of entries until which the resize does not happen, rather than the count of maximum possible entries that could be stored in the hashmap - and I tend to agree with you.</p>\n\n<p>But someone else could also argue the other side as to why the hashmap is occupying more space than it was instructed to reserve.</p>\n\n<p>The solution to this problem lies in Java's domain. Java can provide two constructors which are explicit enough about what they will do and then the developers can have their pick during their hashmap's initialization.</p>\n"},{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538785981,"creation_date":1538781178,"answer_id":52674306,"question_id":52671362,"body_markdown":"There are a lot of wonderful answers here. I greatly appreciate the contributions.\r\n\r\nI have decided to not re-invent this wheel, because it appears google has already solved this problem.\r\n\r\nI am going to use the utility method `Maps.newHashMapWithExpectedSize(int)` from [Google&#39;s guava library][1]\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize(int)","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p>There are a lot of wonderful answers here. I greatly appreciate the contributions.</p>\n\n<p>I have decided to not re-invent this wheel, because it appears google has already solved this problem.</p>\n\n<p>I am going to use the utility method <code>Maps.newHashMapWithExpectedSize(int)</code> from <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize(int)\" rel=\"nofollow noreferrer\">Google's guava library</a></p>\n"},{"tags":[],"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632681808,"creation_date":1632680755,"answer_id":69337788,"question_id":52671362,"body_markdown":"Java has many distributions and versions, so you have to test it yourself.\r\n\r\n- In Oracle JDK 7, `HashMap` gives unpredictable resizing results because it has `2` conditions for resizing to take place (`(size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])`). First, size must be `&gt;=` threshold (cap * load factor). Second, the current bucket must already have an entry, which implies a collision.\r\n    - Run the code below and see for yourself.\r\n        - When capacity is `4`, resizing takes place when the `5`th entry is put.\r\n        - When capacity is `8`, resizing takes place when the `9`th entry is put.\r\n        - When capacity is `16`, resizing takes place when the `16`th entry is put (**not `17`th**).\r\n        - When capacity is `32`, resizing takes place when the `32`th entry is put (**not `33`th**).\r\n        - When capacity is `64`, resizing takes place when the `64`th entry is put (**not `65`th**).\r\n- In Oracle JDK 8, `HashMap` resizes when the size is `&gt;` threshold (capacity * load factor).\r\n    - With capacity of `16` and default load factor of `0.75`, resizing (to capacity of `32`) takes place when the `13`th entry is put.\r\n    - Run the code below and see for yourself.\r\n        - When capacity is `4`, resizing takes place when the `4`th entry is put.\r\n        - When capacity is `8`, resizing takes place when the `7`th entry is put.\r\n        - When capacity is `16`, resizing takes place when the `13`th entry is put.\r\n        - When capacity is `32`, resizing takes place when the `25`th entry is put.\r\n        - When capacity is `64`, resizing takes place when the `49`th entry is put.\r\n\r\n```java\r\npublic class HashMapTest {\r\n\r\n    public static void main(String[] args) {\r\n        int cap = 4;\r\n        int size = 64;\r\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(cap);\r\n\r\n        for (int i=1; i&lt;=size; i++) {\r\n            map.put(i, i+&quot;&quot;);\r\n            print(map);\r\n        }\r\n    }\r\n\r\n    public static void print(Map map) {\r\n        try {\r\n            Class&lt;?&gt; mapType = map.getClass();\r\n            Method capacity = mapType.getDeclaredMethod(&quot;capacity&quot;);\r\n            capacity.setAccessible(true);\r\n            System.out.println(&quot;capacity : &quot; + capacity.invoke(map) + &quot;    size : &quot; + map.size());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p>Java has many distributions and versions, so you have to test it yourself.</p>\n<ul>\n<li>In Oracle JDK 7, <code>HashMap</code> gives unpredictable resizing results because it has <code>2</code> conditions for resizing to take place (<code>(size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])</code>). First, size must be <code>&gt;=</code> threshold (cap * load factor). Second, the current bucket must already have an entry, which implies a collision.\n<ul>\n<li>Run the code below and see for yourself.\n<ul>\n<li>When capacity is <code>4</code>, resizing takes place when the <code>5</code>th entry is put.</li>\n<li>When capacity is <code>8</code>, resizing takes place when the <code>9</code>th entry is put.</li>\n<li>When capacity is <code>16</code>, resizing takes place when the <code>16</code>th entry is put (<strong>not <code>17</code>th</strong>).</li>\n<li>When capacity is <code>32</code>, resizing takes place when the <code>32</code>th entry is put (<strong>not <code>33</code>th</strong>).</li>\n<li>When capacity is <code>64</code>, resizing takes place when the <code>64</code>th entry is put (<strong>not <code>65</code>th</strong>).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>In Oracle JDK 8, <code>HashMap</code> resizes when the size is <code>&gt;</code> threshold (capacity * load factor).\n<ul>\n<li>With capacity of <code>16</code> and default load factor of <code>0.75</code>, resizing (to capacity of <code>32</code>) takes place when the <code>13</code>th entry is put.</li>\n<li>Run the code below and see for yourself.\n<ul>\n<li>When capacity is <code>4</code>, resizing takes place when the <code>4</code>th entry is put.</li>\n<li>When capacity is <code>8</code>, resizing takes place when the <code>7</code>th entry is put.</li>\n<li>When capacity is <code>16</code>, resizing takes place when the <code>13</code>th entry is put.</li>\n<li>When capacity is <code>32</code>, resizing takes place when the <code>25</code>th entry is put.</li>\n<li>When capacity is <code>64</code>, resizing takes place when the <code>49</code>th entry is put.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class HashMapTest {\n\n    public static void main(String[] args) {\n        int cap = 4;\n        int size = 64;\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(cap);\n\n        for (int i=1; i&lt;=size; i++) {\n            map.put(i, i+&quot;&quot;);\n            print(map);\n        }\n    }\n\n    public static void print(Map map) {\n        try {\n            Class&lt;?&gt; mapType = map.getClass();\n            Method capacity = mapType.getDeclaredMethod(&quot;capacity&quot;);\n            capacity.setAccessible(true);\n            System.out.println(&quot;capacity : &quot; + capacity.invoke(map) + &quot;    size : &quot; + map.size());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7287,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"answer_count":6,"score":10,"last_activity_date":1632681808,"creation_date":1538763958,"question_id":52671362,"body_markdown":"**Code speaks more than words, so:**\r\n\r\n    final int size = 100;\r\n\tMap&lt;Integer, String&gt; m = new HashMap&lt;&gt;(size);\r\n\tfor (int i = 0; i &lt; size; i++) m.put(i, String.valueOf(i));\r\n\r\n**Why is the HashMap internally calling `resize()` &lt;s&gt;`21`&lt;/s&gt; `2` times!** (Credit to Andreas for identifying that the JVM uses HashMaps internally, 19 of the 21 cals were from other processes)\r\n\r\nTwo `resize()` calls is still not acceptable for my application. I need to optimize this.\r\n\r\nIf I am a new java developer, my first intuitive guess at what &quot;capacity&quot; means in the HashMap constructor is that it is the capacity for the number of elements that I (the consumer of  HashMap) am going to put into the Map. But this is not true.\r\n\r\nIf I want to optimize my usage of HashMap so that it does not need to resize itself at all, then I need to know the internals of HashMap intimately enough to know exactly how sparse the HashMap bucket array needs to be. This is strange in my opinion. HashMap should implicitly do this for you. It is the whole point of encapsulation in OOP.\r\n\r\n*Note: I have confirmed that resize() is the bottleneck for my applications use case, so that is why my goal is to reduce the number of calls to resize().*\r\n\r\n**The question:**\r\n\r\nIf I know the exact quantity of entries I am going to put into the map beforehand. What capacity do I chose, to prevent ***any*** extra calls `resize()` operations? Something like `size * 10`? I would also like some background on why `HashMap` is designed this way.\r\n\r\n*Edit: I am getting asked a lot why this optimization is necassary. My application is spending a non-trivial amount of CPU time in hashmap.resize(). The hashmaps my application uses are initialized with a capacity equal to the number of elements that we put into it. Therefore, if we can reduce the resize() calls (by choosing a better initial capacity), then my application performance is improved.*","title":"Why does HashMap resize() again, when specifying a precise capacity?","body":"<p><strong>Code speaks more than words, so:</strong></p>\n\n<pre><code>final int size = 100;\nMap&lt;Integer, String&gt; m = new HashMap&lt;&gt;(size);\nfor (int i = 0; i &lt; size; i++) m.put(i, String.valueOf(i));\n</code></pre>\n\n<p><strong>Why is the HashMap internally calling <code>resize()</code> <s><code>21</code></s> <code>2</code> times!</strong> (Credit to Andreas for identifying that the JVM uses HashMaps internally, 19 of the 21 cals were from other processes)</p>\n\n<p>Two <code>resize()</code> calls is still not acceptable for my application. I need to optimize this.</p>\n\n<p>If I am a new java developer, my first intuitive guess at what \"capacity\" means in the HashMap constructor is that it is the capacity for the number of elements that I (the consumer of  HashMap) am going to put into the Map. But this is not true.</p>\n\n<p>If I want to optimize my usage of HashMap so that it does not need to resize itself at all, then I need to know the internals of HashMap intimately enough to know exactly how sparse the HashMap bucket array needs to be. This is strange in my opinion. HashMap should implicitly do this for you. It is the whole point of encapsulation in OOP.</p>\n\n<p><em>Note: I have confirmed that resize() is the bottleneck for my applications use case, so that is why my goal is to reduce the number of calls to resize().</em></p>\n\n<p><strong>The question:</strong></p>\n\n<p>If I know the exact quantity of entries I am going to put into the map beforehand. What capacity do I chose, to prevent <strong><em>any</em></strong> extra calls <code>resize()</code> operations? Something like <code>size * 10</code>? I would also like some background on why <code>HashMap</code> is designed this way.</p>\n\n<p><em>Edit: I am getting asked a lot why this optimization is necassary. My application is spending a non-trivial amount of CPU time in hashmap.resize(). The hashmaps my application uses are initialized with a capacity equal to the number of elements that we put into it. Therefore, if we can reduce the resize() calls (by choosing a better initial capacity), then my application performance is improved.</em></p>\n"},{"tags":["java","module","dependencies","bukkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632919795,"post_id":69285794,"comment_id":122622639,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":9592050,"reputation":845,"user_id":7122582,"display_name":"Gieted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632681656,"creation_date":1632681656,"answer_id":69337899,"question_id":69285794,"body_markdown":"The **Class Loaders** allow you to dynamically load classes into a JVM process. `URLClassLoader` is a class loader that loads classes from a given URL e.g. external jar on the file system. \r\n\r\nJust call `ClassLoader#loadClass(String name)` with the fully qualified class name, e.g: `Class&lt;*&gt; theClass = classLoader.loadClass(&quot;com.packagename.ClassName&quot;);` and you will receive a `Class`. Then you&#39;ll have to get a constructor which you want to use to create this class&#39;s instance, e.g. `Constructor&lt;*&gt; theConstructor = theClass.getConstructor(String.class);` Finally invoke the constructor using `Constructor#newInstance(Object... initargs)` providing arguments required by the constructor.\r\n\r\nMost likely, you will also want to set your plugin&#39;s class loader as a parent class loader.\r\n\r\nFull example:\r\n```java\r\nURL[] jars = new URL[1];\r\njars[0] = new File(&quot;path/to/file.jar&quot;).toURI().toURL();\r\nURLClassLoader classLoader = new URLClassLoader(jars, YourPlugin.java.getClassLoader());\r\nClass&lt;*&gt; loadedClass = classLoader.loadClass(&quot;com.example.ClassName&quot;);\r\nObject classInstance = loadedClass.getConstructor().newInstance();\r\n```","title":"Externalize classes in multiple jars","body":"<p>The <strong>Class Loaders</strong> allow you to dynamically load classes into a JVM process. <code>URLClassLoader</code> is a class loader that loads classes from a given URL e.g. external jar on the file system.</p>\n<p>Just call <code>ClassLoader#loadClass(String name)</code> with the fully qualified class name, e.g: <code>Class&lt;*&gt; theClass = classLoader.loadClass(&quot;com.packagename.ClassName&quot;);</code> and you will receive a <code>Class</code>. Then you'll have to get a constructor which you want to use to create this class's instance, e.g. <code>Constructor&lt;*&gt; theConstructor = theClass.getConstructor(String.class);</code> Finally invoke the constructor using <code>Constructor#newInstance(Object... initargs)</code> providing arguments required by the constructor.</p>\n<p>Most likely, you will also want to set your plugin's class loader as a parent class loader.</p>\n<p>Full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL[] jars = new URL[1];\njars[0] = new File(&quot;path/to/file.jar&quot;).toURI().toURL();\nURLClassLoader classLoader = new URLClassLoader(jars, YourPlugin.java.getClassLoader());\nClass&lt;*&gt; loadedClass = classLoader.loadClass(&quot;com.example.ClassName&quot;);\nObject classInstance = loadedClass.getConstructor().newInstance();\n</code></pre>\n"}],"owner":{"account_id":22769045,"reputation":11,"user_id":16926716,"display_name":"Stormer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632681656,"creation_date":1632319235,"question_id":69285794,"body_markdown":"  So i&#39;ve been working on a project of mine which works in modules. A module is simply an abstract class which all the modules extend from and replace the empty methods they need to. No modules have public functions that arent defined in the abstract class and each function is called depending on specific events.\r\n\r\nWhat i&#39;d like to do is externalize each module (for this exemple ill refer to Autorole as an exemple module) into its own jar that the main class will fetch and use. That would allow for Autorole to be hotswapped/hot updated by simply replacing it&#39;s old jar file with the new one and reload the main program (rescan the jars in the modules folder and load them, without turning off the main program)\r\n\r\nEdit1 : Very much like craftBukkit loads it&#39;s plugins\r\n\r\n  Currently my approach is to export each module as an executable jar and start it with a command using the runtime environment of the main program. (java -jar Autorole.jar for eg) \r\n\r\nThe main function of each module simply adds an instance of their module (here Autorole extended from the module class) into a static list in the main class of the main jar. And it works fine, its able to execute the Autorole jar properly and use it like it used to when everything was in the same jar.\r\n\r\nBut here comes the problem. \r\nAutorole depends on the main class and thus has it as a dependency, and i dont know how to make it able to recognize the main file as their dependency, meaning right now i need to have a copy of the main class for each module which is far from convenient or optimized.\r\n\r\nWhat i wanted to try at first was specify the path the main file is in but i got stuck rather quickly. The path cant be hardcoded since the main file has versions and modules arent version specific, plus the name might not be the exact same as expected, so i thought of passing the path of the main jar as a java arg, and that&#39;s where i&#39;m at as i dont know what to do once i have the string in hands\r\n\r\ntl-dr:\r\nHow can i load a jar from another like craftBukkit loads it&#39;s plugins","title":"Externalize classes in multiple jars","body":"<p>So i've been working on a project of mine which works in modules. A module is simply an abstract class which all the modules extend from and replace the empty methods they need to. No modules have public functions that arent defined in the abstract class and each function is called depending on specific events.</p>\n<p>What i'd like to do is externalize each module (for this exemple ill refer to Autorole as an exemple module) into its own jar that the main class will fetch and use. That would allow for Autorole to be hotswapped/hot updated by simply replacing it's old jar file with the new one and reload the main program (rescan the jars in the modules folder and load them, without turning off the main program)</p>\n<p>Edit1 : Very much like craftBukkit loads it's plugins</p>\n<p>Currently my approach is to export each module as an executable jar and start it with a command using the runtime environment of the main program. (java -jar Autorole.jar for eg)</p>\n<p>The main function of each module simply adds an instance of their module (here Autorole extended from the module class) into a static list in the main class of the main jar. And it works fine, its able to execute the Autorole jar properly and use it like it used to when everything was in the same jar.</p>\n<p>But here comes the problem.\nAutorole depends on the main class and thus has it as a dependency, and i dont know how to make it able to recognize the main file as their dependency, meaning right now i need to have a copy of the main class for each module which is far from convenient or optimized.</p>\n<p>What i wanted to try at first was specify the path the main file is in but i got stuck rather quickly. The path cant be hardcoded since the main file has versions and modules arent version specific, plus the name might not be the exact same as expected, so i thought of passing the path of the main jar as a java arg, and that's where i'm at as i dont know what to do once i have the string in hands</p>\n<p>tl-dr:\nHow can i load a jar from another like craftBukkit loads it's plugins</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8202963,"reputation":461,"user_id":6173702,"display_name":"R G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1516439051,"creation_date":1516439051,"answer_id":48354307,"question_id":48354251,"body_markdown":"It might be issue of resolution. Even I was getting error of resolution while I was displaying image from uri.\r\n\r\nI used below code and It worked for me : \r\n\r\n    Uri imageUri = Uri.parse(imagePath);\r\n                            BitmapFactory.Options options = new BitmapFactory.Options();\r\n                            options.inJustDecodeBounds = true;\r\n                            BitmapFactory.decodeFile(new File(imageUri.getPath()).getAbsolutePath(), options);\r\n                            int imageHeight = options.outHeight;\r\n                            int imageWidth = options.outWidth;\r\n                            if (imageHeight &gt; 4096 || imageWidth &gt; 4096) {\r\n                                BitmapFactory.Options opts = new BitmapFactory.Options();\r\n                                opts.inSampleSize = 4;\r\n                                Bitmap bitmap = BitmapFactory.decodeFile(imageUri.toString(), opts);\r\n                                viewHolder.imgAvatarLogoList3.setImageBitmap(bitmap);\r\n                            } else {\r\n                                Picasso.with(context)\r\n                                        .load(new File(imageUri.getPath())) // Uri of the picture\r\n                                        .into(viewHolder.imgAvatarLogoList3);\r\n                            }","title":"SetImageUri showing no Image","body":"<p>It might be issue of resolution. Even I was getting error of resolution while I was displaying image from uri.</p>\n\n<p>I used below code and It worked for me : </p>\n\n<pre><code>Uri imageUri = Uri.parse(imagePath);\n                        BitmapFactory.Options options = new BitmapFactory.Options();\n                        options.inJustDecodeBounds = true;\n                        BitmapFactory.decodeFile(new File(imageUri.getPath()).getAbsolutePath(), options);\n                        int imageHeight = options.outHeight;\n                        int imageWidth = options.outWidth;\n                        if (imageHeight &gt; 4096 || imageWidth &gt; 4096) {\n                            BitmapFactory.Options opts = new BitmapFactory.Options();\n                            opts.inSampleSize = 4;\n                            Bitmap bitmap = BitmapFactory.decodeFile(imageUri.toString(), opts);\n                            viewHolder.imgAvatarLogoList3.setImageBitmap(bitmap);\n                        } else {\n                            Picasso.with(context)\n                                    .load(new File(imageUri.getPath())) // Uri of the picture\n                                    .into(viewHolder.imgAvatarLogoList3);\n                        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9899777,"reputation":1892,"user_id":9255006,"display_name":"Zankrut Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516967628,"creation_date":1516945637,"answer_id":48456336,"question_id":48354251,"body_markdown":"Addition to this answer [https://stackoverflow.com/a/48354307/9255006]\r\nIn that rotation bug define the image orientation for the image using ExifInterface.\r\n\r\nHere is the code\r\n\r\n    private void SetOrientation(){\r\n\r\n        try {\r\n            ExifInterface exif=new ExifInterface(photoURI.getPath());\r\n            int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION,ExifInterface.ORIENTATION_UNDEFINED);\r\n\r\n            if (orientation == ExifInterface.ORIENTATION_ROTATE_90) { orientationInDegrees=90; }\r\n            else if (orientation == ExifInterface.ORIENTATION_ROTATE_180) { orientationInDegrees=180; }\r\n            else if (orientation == ExifInterface.ORIENTATION_ROTATE_270) { orientationInDegrees=270; }\r\n            else { orientationInDegrees=0; }\r\n\r\n            Toast.makeText(this, String.valueOf(orientationInDegrees), Toast.LENGTH_SHORT).show();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nYou can then set this orientation to your image.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48354307/9255006","title":"SetImageUri showing no Image","body":"<p>Addition to this answer [<a href=\"https://stackoverflow.com/a/48354307/9255006]\">https://stackoverflow.com/a/48354307/9255006]</a>\nIn that rotation bug define the image orientation for the image using ExifInterface.</p>\n\n<p>Here is the code</p>\n\n<pre><code>private void SetOrientation(){\n\n    try {\n        ExifInterface exif=new ExifInterface(photoURI.getPath());\n        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION,ExifInterface.ORIENTATION_UNDEFINED);\n\n        if (orientation == ExifInterface.ORIENTATION_ROTATE_90) { orientationInDegrees=90; }\n        else if (orientation == ExifInterface.ORIENTATION_ROTATE_180) { orientationInDegrees=180; }\n        else if (orientation == ExifInterface.ORIENTATION_ROTATE_270) { orientationInDegrees=270; }\n        else { orientationInDegrees=0; }\n\n        Toast.makeText(this, String.valueOf(orientationInDegrees), Toast.LENGTH_SHORT).show();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>You can then set this orientation to your image.</p>\n"},{"tags":[],"owner":{"account_id":22414218,"reputation":1,"user_id":16622521,"display_name":"Ali Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632681251,"creation_date":1632603572,"answer_id":69329990,"question_id":48354251,"body_markdown":"This happens when the image has a very high resolution that the system needs some additional milliseconds to display, and since this happens in the UI thread `onDraw()` of the image view will draw it as an empty.\r\nThe easiest way I found for this issue is to use the Picasso library this way:\r\n\r\n    Picasso.get().load(imgUri).fit().centerCrop()\r\n   .into(imageview);\r\n\r\nThe reason behind those two methods (`fit()`, `centerCrop()`)\r\nIs that fit make sure that the image fit the bound container and then crop the image which force the system to redraw the image but this time with the convenient resolution (because of fit and crop).","title":"SetImageUri showing no Image","body":"<p>This happens when the image has a very high resolution that the system needs some additional milliseconds to display, and since this happens in the UI thread <code>onDraw()</code> of the image view will draw it as an empty.\nThe easiest way I found for this issue is to use the Picasso library this way:</p>\n<pre><code>Picasso.get().load(imgUri).fit().centerCrop()\n</code></pre>\n<p>.into(imageview);</p>\n<p>The reason behind those two methods (<code>fit()</code>, <code>centerCrop()</code>)\nIs that fit make sure that the image fit the bound container and then crop the image which force the system to redraw the image but this time with the convenient resolution (because of fit and crop).</p>\n"}],"owner":{"account_id":8517136,"reputation":75,"user_id":6385231,"accept_rate":44,"display_name":"Jochem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48354307,"answer_count":3,"score":0,"last_activity_date":1632681251,"creation_date":1516438581,"question_id":48354251,"body_markdown":"I want to let a image on my phone to show up in the Imageview. But in the ANdroid Studio emulator it is working but not on my own phone.\r\n\r\n    String imgPath = getIntent().getExtras().getString(&quot;imgPath&quot;);\r\n        System.out.println(imgPath);\r\n        \r\n        \r\n        if(!imgPath.equals(&quot;?&quot;))\r\n        {\r\n            File img_file = new File(imgPath);\r\n            ImageView imgView = findViewById(R.id.show_image_war);\r\n            imgView.setImageURI(Uri.fromFile(img_file));\r\n        }\r\n\r\nThe path is /storage/emulated/0/imagesWarranty/img_MyWarranty_ID1.jpg . Both on the image in my phone and the path in my code where I get the image.\r\n","title":"SetImageUri showing no Image","body":"<p>I want to let a image on my phone to show up in the Imageview. But in the ANdroid Studio emulator it is working but not on my own phone.</p>\n\n<pre><code>String imgPath = getIntent().getExtras().getString(\"imgPath\");\n    System.out.println(imgPath);\n\n\n    if(!imgPath.equals(\"?\"))\n    {\n        File img_file = new File(imgPath);\n        ImageView imgView = findViewById(R.id.show_image_war);\n        imgView.setImageURI(Uri.fromFile(img_file));\n    }\n</code></pre>\n\n<p>The path is /storage/emulated/0/imagesWarranty/img_MyWarranty_ID1.jpg . Both on the image in my phone and the path in my code where I get the image.</p>\n"},{"tags":["java","string","recursion"],"answers":[{"tags":[],"owner":{"account_id":1251593,"reputation":10353,"user_id":1211906,"display_name":"Marc Baumbach"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632681191,"creation_date":1632681191,"answer_id":69337847,"question_id":69337690,"body_markdown":"You&#39;ll want to prepend the string you&#39;re reversing with the first character as well. Something like this should work:\r\n\r\n```java\r\npublic String reverse(String str) {\r\n\tif (null == str) {\r\n\t\treturn null;\r\n\t}\r\n\tif (str.length() &lt;= 1) {\r\n\t\treturn str + str;\r\n\t}\r\n\treturn str.charAt(0) + reverse(str.substring(1)) + str.charAt(0);\r\n}\r\n```\r\nWithout prepending the first character, the recursion would just produce a reverse of the string. Similarly, appending the whole string twice when you are at the last character is needed as well (e.g., &quot;a&quot; reversed using this logic seems like it should produce &quot;aa&quot;)","title":"Recursive method to combine a string and its reverse","body":"<p>You'll want to prepend the string you're reversing with the first character as well. Something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String reverse(String str) {\n    if (null == str) {\n        return null;\n    }\n    if (str.length() &lt;= 1) {\n        return str + str;\n    }\n    return str.charAt(0) + reverse(str.substring(1)) + str.charAt(0);\n}\n</code></pre>\n<p>Without prepending the first character, the recursion would just produce a reverse of the string. Similarly, appending the whole string twice when you are at the last character is needed as well (e.g., &quot;a&quot; reversed using this logic seems like it should produce &quot;aa&quot;)</p>\n"}],"owner":{"account_id":21990905,"reputation":17,"user_id":16264305,"display_name":"ameaturatlife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1632681191,"creation_date":1632680126,"question_id":69337690,"body_markdown":"everyone. I am very new to java so I hope my question does not sound dumb, but I am encountering trouble with an online exercise.\r\n\r\nBasically, I need to write a recursive method, in java, called reverse that accepts a String parameter and returns a string concatenated with its reverse. So, for example, if the string was &quot;Java&quot; it returns it as &quot;JavaavaJ&quot;\r\n\r\nI worked out most of the code, but cannot figure out how to combine the two in the return method.\r\n\r\n```\r\npublic static String reverse(String str) {\r\n    if ((null == str) || (str.length() &lt;= 1)) {\r\n        return str;\r\n    }\r\n    return reverse(str.substring(1)) + str.charAt(0);\r\n}\r\n```","title":"Recursive method to combine a string and its reverse","body":"<p>everyone. I am very new to java so I hope my question does not sound dumb, but I am encountering trouble with an online exercise.</p>\n<p>Basically, I need to write a recursive method, in java, called reverse that accepts a String parameter and returns a string concatenated with its reverse. So, for example, if the string was &quot;Java&quot; it returns it as &quot;JavaavaJ&quot;</p>\n<p>I worked out most of the code, but cannot figure out how to combine the two in the return method.</p>\n<pre><code>public static String reverse(String str) {\n    if ((null == str) || (str.length() &lt;= 1)) {\n        return str;\n    }\n    return reverse(str.substring(1)) + str.charAt(0);\n}\n</code></pre>\n"},{"tags":["java","oop","arraylist"],"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1631896217,"post_id":69226696,"comment_id":122356222,"body_markdown":"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"<a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1631898487,"post_id":69226696,"comment_id":122357033,"body_markdown":"@GriffeyDog oh yeah i found the solution thanks :D","body":"@GriffeyDog oh yeah i found the solution thanks :D"}],"answers":[{"tags":[],"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1631898586,"creation_date":1631898586,"answer_id":69227228,"question_id":69226696,"body_markdown":"try to put \r\n\r\n```\r\nin.nextLine();\r\n```\r\n\r\nafter \r\n\r\n```\r\nint limiter = in.nextInt();\r\n```\r\n\r\nin your code. The first one in your code is taking just &quot;&quot; as input.","title":"Adding multiple objects with loop for java","body":"<p>try to put</p>\n<pre><code>in.nextLine();\n</code></pre>\n<p>after</p>\n<pre><code>int limiter = in.nextInt();\n</code></pre>\n<p>in your code. The first one in your code is taking just &quot;&quot; as input.</p>\n"},{"tags":[],"owner":{"account_id":9500469,"reputation":328,"user_id":7061796,"display_name":"Umer Khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632681018,"creation_date":1632681018,"answer_id":69337829,"question_id":69226696,"body_markdown":"Or you can do is, parse the limiter value to integer like this\r\n\r\n    int limiter = Integer.parseInt(in.nextLine());\r\n\r\n**Output**:\r\n\r\n3\r\n\r\nfried chicken\r\n\r\nburger\r\n\r\nsushi\r\n\r\n[food: fried chicken, food: burger, food: sushi]","title":"Adding multiple objects with loop for java","body":"<p>Or you can do is, parse the limiter value to integer like this</p>\n<pre><code>int limiter = Integer.parseInt(in.nextLine());\n</code></pre>\n<p><strong>Output</strong>:</p>\n<p>3</p>\n<p>fried chicken</p>\n<p>burger</p>\n<p>sushi</p>\n<p>[food: fried chicken, food: burger, food: sushi]</p>\n"}],"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69227228,"answer_count":2,"score":2,"last_activity_date":1632681018,"creation_date":1631895777,"question_id":69226696,"body_markdown":"I&#39;m trying to learn oop and couldn&#39;t find the solution for my problem. In this case I want to insert multiple food objects into an arraylist. The result I expected is when I input for example 3 into limiter, it should print whatever I input afterwards, instead it created some sort of extra object on index 0 as a blank.\r\n\r\nCurrent output:\r\n```\r\n3\r\nfried chicken\r\nburger\r\n[food: , food: fried chicken, food: burger]\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nExpected output should be:\r\n```\r\n3\r\nfried chicken\r\nburger\r\nsushi\r\n[food: fried chicken , food: burger, food: sushi]\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nHere is main:\r\n```\r\npackage FoodRecommendation;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        ArrayList&lt;food&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        int limiter = in.nextInt();\r\n        for (int j = 0; j &lt; limiter ; j++) {\r\n            arrayList.add(new food(in.nextLine()));\r\n        }\r\n        System.out.println(arrayList);\r\n    }\r\n}\r\n``` \r\nand here is food:\r\n```\r\npackage FoodRecommendation;\r\n\r\npublic class food {\r\n    private String food;\r\n\r\n    public food(String food) {\r\n        this.food = food;\r\n    }\r\n\r\n    public String getFood() {\r\n        return food;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;food: &quot; + this.food;\r\n    }\r\n}\r\n```\r\n\r\nI do have an idea as to why this could happen, it&#39;s because when &quot;(new food(in.nextLine()))&quot; is inserted onto a loop it always creates a blank on index 0. But I just couldn&#39;t find the workaround for it. I hope someone could help me :D","title":"Adding multiple objects with loop for java","body":"<p>I'm trying to learn oop and couldn't find the solution for my problem. In this case I want to insert multiple food objects into an arraylist. The result I expected is when I input for example 3 into limiter, it should print whatever I input afterwards, instead it created some sort of extra object on index 0 as a blank.</p>\n<p>Current output:</p>\n<pre><code>3\nfried chicken\nburger\n[food: , food: fried chicken, food: burger]\n\nProcess finished with exit code 0\n</code></pre>\n<p>Expected output should be:</p>\n<pre><code>3\nfried chicken\nburger\nsushi\n[food: fried chicken , food: burger, food: sushi]\n\nProcess finished with exit code 0\n</code></pre>\n<p>Here is main:</p>\n<pre><code>package FoodRecommendation;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;food&gt; arrayList = new ArrayList&lt;&gt;();\n\n        int limiter = in.nextInt();\n        for (int j = 0; j &lt; limiter ; j++) {\n            arrayList.add(new food(in.nextLine()));\n        }\n        System.out.println(arrayList);\n    }\n}\n</code></pre>\n<p>and here is food:</p>\n<pre><code>package FoodRecommendation;\n\npublic class food {\n    private String food;\n\n    public food(String food) {\n        this.food = food;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;food: &quot; + this.food;\n    }\n}\n</code></pre>\n<p>I do have an idea as to why this could happen, it's because when &quot;(new food(in.nextLine()))&quot; is inserted onto a loop it always creates a blank on index 0. But I just couldn't find the workaround for it. I hope someone could help me :D</p>\n"},{"tags":["java","memory-leaks","heap-memory"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1241736348,"post_id":837351,"comment_id":645771,"body_markdown":"try upping XXMaxPermSize as well","body":"try upping XXMaxPermSize as well"}],"answers":[{"tags":[],"owner":{"account_id":192113,"reputation":931,"user_id":433078,"accept_rate":75,"display_name":"grayger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241756119,"creation_date":1241756119,"answer_id":838207,"question_id":837351,"body_markdown":"You can monitor memory usages with JConsole. \r\n\r\nThe [jstat][1] also will help.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstat.html","title":"How do I Save the Heap (Dump to a File) in Eclipse?","body":"<p>You can monitor memory usages with JConsole. </p>\n\n<p>The <a href=\"http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstat.html\" rel=\"nofollow noreferrer\">jstat</a> also will help.</p>\n"},{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1241758582,"creation_date":1241758582,"answer_id":838298,"question_id":837351,"body_markdown":"There are a number of ways to get heap dumps.  Here are some I&#39;ve used:\r\n\r\n 1. `-XX:+HeapDumpOnOutOfMemoryError` *should* get you dump if you hit your OOM.\r\n 2. Connect with [VisualVM][1] (free) and use its GUI to force a heap dump\r\n 3. Use one of the many good commercial profilers (JProfiler, YourKit, ...)\r\n 4. Use jmap (see below) to force a dump from a running process\r\n\r\nIf you&#39;re running Java 6, [jmap][3] should work on Windows.  This might be useful if you want to dump the heap and you haven&#39;t hit your OOM.  Use Windows Task Manager to find the pid of your Java app, and in a console run this:\r\n\r\n    jmap -dump:format=b,file=c:\\heap.bin &lt;pid&gt;\r\n\r\nIn addition to VisualVM, the [Eclipse Memory Analyzer][2] (also free) can help you analyze what&#39;s eating up all the space once you&#39;ve got the dump.\r\n\r\n  [1]: https://visualvm.dev.java.net/\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://java.sun.com/javase/6/docs/technotes/tools/share/jmap.html","title":"How do I Save the Heap (Dump to a File) in Eclipse?","body":"<p>There are a number of ways to get heap dumps.  Here are some I've used:</p>\n\n<ol>\n<li><code>-XX:+HeapDumpOnOutOfMemoryError</code> <em>should</em> get you dump if you hit your OOM.</li>\n<li>Connect with <a href=\"https://visualvm.dev.java.net/\" rel=\"noreferrer\">VisualVM</a> (free) and use its GUI to force a heap dump</li>\n<li>Use one of the many good commercial profilers (JProfiler, YourKit, ...)</li>\n<li>Use jmap (see below) to force a dump from a running process</li>\n</ol>\n\n<p>If you're running Java 6, <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jmap.html\" rel=\"noreferrer\">jmap</a> should work on Windows.  This might be useful if you want to dump the heap and you haven't hit your OOM.  Use Windows Task Manager to find the pid of your Java app, and in a console run this:</p>\n\n<pre><code>jmap -dump:format=b,file=c:\\heap.bin &lt;pid&gt;\n</code></pre>\n\n<p>In addition to VisualVM, the <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse Memory Analyzer</a> (also free) can help you analyze what's eating up all the space once you've got the dump.</p>\n"},{"tags":[],"owner":{"account_id":1955858,"reputation":21,"user_id":1758880,"display_name":"dave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350639725,"creation_date":1350639252,"answer_id":12971353,"question_id":837351,"body_markdown":"`-XX:+HeapDumpOnOutOfMemoryError` should be put in &quot;`VM Arguments`&quot; not &quot;`Program Arguments`&quot;\r\n","title":"How do I Save the Heap (Dump to a File) in Eclipse?","body":"<p><code>-XX:+HeapDumpOnOutOfMemoryError</code> should be put in \"<code>VM Arguments</code>\" not \"<code>Program Arguments</code>\"</p>\n"}],"owner":{"account_id":18727,"reputation":143,"user_id":43199,"accept_rate":100,"display_name":"Dave Babbitt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15822,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":838298,"answer_count":3,"score":5,"last_activity_date":1632680705,"creation_date":1241734639,"question_id":837351,"body_markdown":"I&#39;m getting this error when I run or debug my GA/AI from MyEclipse:\r\n\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\r\neclipse.ini looks like this:\r\n\r\n    -showsplash com.genuitec.myeclipse.product\r\n    --launcher.XXMaxPermSize 256m\r\n    -vmargs\r\n    -Xms128m\r\n    -Xmx512m\r\n    -Duser.language=en \r\n    -XX:PermSize=128M \r\n    -XX:MaxPermSize=256M\r\n\r\nMyEclipse is called like this:\r\n\r\n    &quot;C:\\Program Files\\MyEclipse 6.0\\eclipse\\eclipse.exe&quot; -vm &quot;C:\\Program Files\\MyEclipse 6.0\\jre\\bin\\javaw.exe&quot;  -vmargs -Xms1448M -Xmx1448M\r\n\r\nbumping the vm settings up from this:\r\n\r\n    &quot;C:\\Program Files\\MyEclipse 6.0\\eclipse\\eclipse.exe&quot; -vm &quot;C:\\Program Files\\MyEclipse 6.0\\jre\\bin\\javaw.exe&quot;  -vmargs -Xms80M -Xmx1024M\r\n\r\nhas had no effect. So I&#39;m trying to get it to dump the heap to a file, but placing these:\r\n\r\n    -XX:+HeapDumpOnCtrlBreak\r\n    -XX:+HeapDumpOnOutOfMemoryError\r\n\r\nin the Program arguments has had no effect. How do I get something to work with more memory usage analysis? jstack, for instance, is not currently available on Windows platforms. And using SendSignal has no effect that I can see.\r\n\r\n![a screen shot][1]\r\n\r\n\r\n  [1]: http://imgur.com/KV4d.jpg","title":"How do I Save the Heap (Dump to a File) in Eclipse?","body":"<p>I'm getting this error when I run or debug my GA/AI from MyEclipse:</p>\n\n<p>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space</p>\n\n<p>eclipse.ini looks like this:</p>\n\n<pre><code>-showsplash com.genuitec.myeclipse.product\n--launcher.XXMaxPermSize 256m\n-vmargs\n-Xms128m\n-Xmx512m\n-Duser.language=en \n-XX:PermSize=128M \n-XX:MaxPermSize=256M\n</code></pre>\n\n<p>MyEclipse is called like this:</p>\n\n<pre><code>\"C:\\Program Files\\MyEclipse 6.0\\eclipse\\eclipse.exe\" -vm \"C:\\Program Files\\MyEclipse 6.0\\jre\\bin\\javaw.exe\"  -vmargs -Xms1448M -Xmx1448M\n</code></pre>\n\n<p>bumping the vm settings up from this:</p>\n\n<pre><code>\"C:\\Program Files\\MyEclipse 6.0\\eclipse\\eclipse.exe\" -vm \"C:\\Program Files\\MyEclipse 6.0\\jre\\bin\\javaw.exe\"  -vmargs -Xms80M -Xmx1024M\n</code></pre>\n\n<p>has had no effect. So I'm trying to get it to dump the heap to a file, but placing these:</p>\n\n<pre><code>-XX:+HeapDumpOnCtrlBreak\n-XX:+HeapDumpOnOutOfMemoryError\n</code></pre>\n\n<p>in the Program arguments has had no effect. How do I get something to work with more memory usage analysis? jstack, for instance, is not currently available on Windows platforms. And using SendSignal has no effect that I can see.</p>\n\n<p><img src=\"https://imgur.com/KV4d.jpg\" alt=\"a screen shot\"></p>\n"},{"tags":["java","debugging","memory-leaks","heap-memory","jmap"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1246889693,"post_id":1087177,"comment_id":900795,"body_markdown":"Array of string should be _[Ljava/lang/String;_.","body":"Array of string should be <i>[Ljava/lang/String;</i>."},{"owner":{"account_id":4892,"reputation":28982,"user_id":7581,"accept_rate":84,"display_name":"itsadok"},"score":0,"creation_date":1246890765,"post_id":1087177,"comment_id":900926,"body_markdown":"In my defense, googling led me to an article on java.sun.com which contains this line: &quot;The String and Character array objects, [S and [C, are always going to be high on this list&quot;. Somewhat misleading.","body":"In my defense, googling led me to an article on java.sun.com which contains this line: &quot;The String and Character array objects, [S and [C, are always going to be high on this list&quot;. Somewhat misleading."},{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":0,"creation_date":1402574501,"post_id":1087177,"comment_id":37330389,"body_markdown":"This site also has some good information: https://communities.ca.com/web/ca-wily-global-user-community/wiki/-/wiki/Main/JNI+Signatures/contactLink","body":"This site also has some good information: <a href=\"https://communities.ca.com/web/ca-wily-global-user-community/wiki/-/wiki/Main/JNI+Signatures/contactLink\" rel=\"nofollow noreferrer\">communities.ca.com/web/ca-wily-global-user-community/wiki/-/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":148631,"reputation":488,"user_id":360557,"accept_rate":27,"display_name":"Mike Stoddart"},"score":0,"creation_date":1548963099,"post_id":1087177,"comment_id":95743800,"body_markdown":"This link is broken. I hate to post links, but I&#39;ll post the updated link for the previous comment - https://communities.ca.com/docs/DOC-99575135.","body":"This link is broken. I hate to post links, but I&#39;ll post the updated link for the previous comment - <a href=\"https://communities.ca.com/docs/DOC-99575135\" rel=\"nofollow noreferrer\">communities.ca.com/docs/DOC-99575135</a>."}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1246889448,"creation_date":1246889448,"answer_id":1087190,"question_id":1087177,"body_markdown":"it is an array of objects as specified by [JVM Specifications][1] for internal representation of class names:\r\n\r\n  - a single [ means **an array of**\r\n  - L followed by a fully qualified class name (e.g. java/lang/Object) is the **class name** terminated by semicolon ;\r\n\r\nso **[Ljava.lang.object;** means **Object[]**\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#14757","title":"What do those strange class names in a java heap dump mean?","body":"<p>it is an array of objects as specified by <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#14757\" rel=\"noreferrer\">JVM Specifications</a> for internal representation of class names:</p>\n\n<ul>\n<li>a single [ means <strong>an array of</strong></li>\n<li>L followed by a fully qualified class name (e.g. java/lang/Object) is the <strong>class name</strong> terminated by semicolon ;</li>\n</ul>\n\n<p>so <strong>[Ljava.lang.object;</strong> means <strong>Object[]</strong></p>\n"},{"tags":[],"owner":{"account_id":10677,"reputation":9521,"user_id":20277,"accept_rate":75,"display_name":"omerkudat"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1246889533,"creation_date":1246889533,"answer_id":1087196,"question_id":1087177,"body_markdown":"Means Object[]","title":"What do those strange class names in a java heap dump mean?","body":"<p>Means Object[]</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246889645,"creation_date":1246889645,"answer_id":1087206,"question_id":1087177,"body_markdown":"The rules are listed in the API doc of [Class.getName()][1].\r\n\r\n`[Ljava.lang.Object;` would be an instance of `Object[]`. Note that multidimensional arrays\r\nare displayed with multiple opening braces.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getName()","title":"What do those strange class names in a java heap dump mean?","body":"<p>The rules are listed in the API doc of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getName()\" rel=\"noreferrer\">Class.getName()</a>.</p>\n\n<p><code>[Ljava.lang.Object;</code> would be an instance of <code>Object[]</code>. Note that multidimensional arrays\nare displayed with multiple opening braces.</p>\n"},{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"down_vote_count":1,"up_vote_count":73,"is_accepted":true,"score":72,"last_activity_date":1319706634,"creation_date":1246889712,"answer_id":1087215,"question_id":1087177,"body_markdown":"You&#39;ll find the complete list documented under [Class.getName()][1]:\r\n\r\n&gt; If this class object represents a\r\n&gt; reference type that is not an array\r\n&gt; type then the binary name of the class\r\n&gt; is returned, as specified by the *Javaâ„¢\r\n&gt; Language Specification, Second\r\n&gt; Edition*.\r\n&gt; \r\n&gt; If this class object represents a\r\n&gt; primitive type or void, then the name\r\n&gt; returned is a `String` equal to the Java\r\n&gt; language keyword corresponding to the\r\n&gt; primitive type or void.\r\n&gt; \r\n&gt; If this class object represents a\r\n&gt; class of arrays, then the internal\r\n&gt; form of the name consists of the name\r\n&gt; of the element type preceded by one or\r\n&gt; more &#39;[&#39; characters representing the\r\n&gt; depth of the array nesting. The\r\n&gt; encoding of element type names is as\r\n&gt; follows:\r\n&gt;\r\n&gt;&lt;pre&gt;\r\n&gt; Element Type        Encoding\r\n&gt; boolean             Z\r\n&gt; byte                B\r\n&gt; char                C\r\n&gt; class or interface  L&lt;i&gt;classname&lt;/i&gt;;\r\n&gt; double              D\r\n&gt; float               F\r\n&gt; int                 I\r\n&gt; long                J\r\n&gt; short               S \r\n&gt;&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getName()","title":"What do those strange class names in a java heap dump mean?","body":"<p>You'll find the complete list documented under <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getName()\" rel=\"noreferrer\">Class.getName()</a>:</p>\n\n<blockquote>\n  <p>If this class object represents a\n  reference type that is not an array\n  type then the binary name of the class\n  is returned, as specified by the <em>Javaâ„¢\n  Language Specification, Second\n  Edition</em>.</p>\n  \n  <p>If this class object represents a\n  primitive type or void, then the name\n  returned is a <code>String</code> equal to the Java\n  language keyword corresponding to the\n  primitive type or void.</p>\n  \n  <p>If this class object represents a\n  class of arrays, then the internal\n  form of the name consists of the name\n  of the element type preceded by one or\n  more '[' characters representing the\n  depth of the array nesting. The\n  encoding of element type names is as\n  follows:</p>\n\n<pre>\nElement Type        Encoding\nboolean             Z\nbyte                B\nchar                C\nclass or interface  L<i>classname</i>;\ndouble              D\nfloat               F\nint                 I\nlong                J\nshort               S \n</pre>\n</blockquote>\n"}],"owner":{"account_id":4892,"reputation":28982,"user_id":7581,"accept_rate":84,"display_name":"itsadok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20814,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":1087215,"answer_count":4,"score":42,"last_activity_date":1632680669,"creation_date":1246889324,"question_id":1087177,"body_markdown":"I&#39;m trying to track down a memory leak in a java process, using [jmap][1] and [jhat][2]. Every time I do this I see those weird notation for specific object types, like `[S` for string arrays and `[C` for Character arrays. I never remember what means what, and it&#39;s very hard to google this stuff.\r\n\r\n(**EDIT**: to prove my point, it turns out that `[S` is array of short and `[C` is array of char.)\r\n\r\nAnyone care to make a table listing all the different class names and what they mean? Or point me to such table?\r\n\r\nSpecifically I&#39;d like to know what `[Ljava.lang.Object;` means.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/share/jmap.html\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html","title":"What do those strange class names in a java heap dump mean?","body":"<p>I'm trying to track down a memory leak in a java process, using <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jmap.html\" rel=\"noreferrer\">jmap</a> and <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"noreferrer\">jhat</a>. Every time I do this I see those weird notation for specific object types, like <code>[S</code> for string arrays and <code>[C</code> for Character arrays. I never remember what means what, and it's very hard to google this stuff.</p>\n\n<p>(<strong>EDIT</strong>: to prove my point, it turns out that <code>[S</code> is array of short and <code>[C</code> is array of char.)</p>\n\n<p>Anyone care to make a table listing all the different class names and what they mean? Or point me to such table?</p>\n\n<p>Specifically I'd like to know what <code>[Ljava.lang.Object;</code> means.</p>\n"},{"tags":["java","memory-leaks","jvm","heap-memory","jhat"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1517850102,"post_id":1835743,"comment_id":84252281,"body_markdown":"See also https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps","body":"See also <a href=\"https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps\" title=\"tool for analyzing large java heap dumps\">stackoverflow.com/questions/7254017/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1259787718,"creation_date":1259787718,"answer_id":1835782,"question_id":1835743,"body_markdown":"What flags are you passing to jhat?  Make sure that you&#39;re in 64-bit mode and you&#39;re setting the heap size large enough.","title":"Loading a large hprof into jhat","body":"<p>What flags are you passing to jhat?  Make sure that you're in 64-bit mode and you're setting the heap size large enough.</p>\n"},{"tags":[],"owner":{"account_id":30553,"reputation":4986,"user_id":83354,"accept_rate":88,"display_name":"broschb"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1259791135,"creation_date":1259791135,"answer_id":1836126,"question_id":1835743,"body_markdown":"I would take a look at the [eclipse memory analyzer][1].  This tool is great, and I have looked at several Gig heaps w/ this tool.  The nice thing about the tool is it creates indexes on the dump so it is not all in memory at once.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"Loading a large hprof into jhat","body":"<p>I would take a look at the <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">eclipse memory analyzer</a>.  This tool is great, and I have looked at several Gig heaps w/ this tool.  The nice thing about the tool is it creates indexes on the dump so it is not all in memory at once.</p>\n"},{"tags":[],"owner":{"account_id":146925,"reputation":1993,"user_id":357698,"display_name":"Joel Hoff"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1474286115,"creation_date":1291337502,"answer_id":4341527,"question_id":1835743,"body_markdown":"Use the equivalent of `jhat -J-d64 -J-mx16g myheap.hprof` as a command to launch jhat, i.e., this will start jhat in 64-bit mode with a maximum heap size of 16 gigabytes.\r\n\r\nIf the JVM on your platform defaults to 64-bit-mode operation, then the `-J-d64` option should be unnecessary.","title":"Loading a large hprof into jhat","body":"<p>Use the equivalent of <code>jhat -J-d64 -J-mx16g myheap.hprof</code> as a command to launch jhat, i.e., this will start jhat in 64-bit mode with a maximum heap size of 16 gigabytes.</p>\n\n<p>If the JVM on your platform defaults to 64-bit-mode operation, then the <code>-J-d64</code> option should be unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":913856,"reputation":67,"user_id":947116,"display_name":"vimil"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1316099621,"creation_date":1316099621,"answer_id":7433211,"question_id":1835743,"body_markdown":"I had to load a 11 GB hprof file and couldn&#39;t with eclipse memory analyzer. What I ended up doing was to write a program to reduce the size of the hprof file by randomly removing instance information. Once I got the size of the hprof file down to 1GB, I could open it with eclipse memory analyzer and get a clue on what was causing the memory leak.","title":"Loading a large hprof into jhat","body":"<p>I had to load a 11 GB hprof file and couldn't with eclipse memory analyzer. What I ended up doing was to write a program to reduce the size of the hprof file by randomly removing instance information. Once I got the size of the hprof file down to 1GB, I could open it with eclipse memory analyzer and get a clue on what was causing the memory leak.</p>\n"}],"owner":{"account_id":44895,"reputation":3850,"user_id":131989,"accept_rate":89,"display_name":"liam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29510,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":1836126,"answer_count":4,"score":25,"last_activity_date":1632680656,"creation_date":1259787314,"question_id":1835743,"body_markdown":"I have a 6.5GB Hprof file that was dumped by a 64-bit JVM using the `-XX:-HeapDumpOnOutOfMemoryError` option. I have it sitting on a 16GB 64-bit machine, and am trying to get it into jhat, but it keeps running out of memory. I have tried passing in jvm args for minimum settings, but it rejects any minimum, and seems to run out of memory before hitting the maximum.\r\n\r\nIt seems kind of silly that a jvm running out of memory dumps a heap so large that it can&#39;t be loaded on a box with twice as much ram. Are there any ways of getting this running, or possibly amortizing the analysis?","title":"Loading a large hprof into jhat","body":"<p>I have a 6.5GB Hprof file that was dumped by a 64-bit JVM using the <code>-XX:-HeapDumpOnOutOfMemoryError</code> option. I have it sitting on a 16GB 64-bit machine, and am trying to get it into jhat, but it keeps running out of memory. I have tried passing in jvm args for minimum settings, but it rejects any minimum, and seems to run out of memory before hitting the maximum.</p>\n\n<p>It seems kind of silly that a jvm running out of memory dumps a heap so large that it can't be loaded on a box with twice as much ram. Are there any ways of getting this running, or possibly amortizing the analysis?</p>\n"},{"tags":["java","memory-leaks","heap-memory","oql","jhat"],"comments":[{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":0,"creation_date":1272535255,"post_id":2692745,"comment_id":2764487,"body_markdown":"What is the &quot;it&quot; in classof(it)?","body":"What is the &quot;it&quot; in classof(it)?"},{"owner":{"account_id":87886,"reputation":4994,"user_id":243456,"accept_rate":81,"display_name":"Scruffers"},"score":0,"creation_date":1273579449,"post_id":2692745,"comment_id":2848860,"body_markdown":"&#39;it&#39; is a filter variable provided implicitly by the filter(..) method representing the item to accept/reject.","body":"&#39;it&#39; is a filter variable provided implicitly by the filter(..) method representing the item to accept/reject."}],"answers":[{"tags":[],"owner":{"account_id":57302,"reputation":2615,"user_id":171585,"display_name":"JB-"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1297954402,"creation_date":1297954402,"answer_id":5030506,"question_id":2692745,"body_markdown":"In jhat based OQL implementations (jHat, VisualVM) you can exploit the fact that you are not limited to the SQL like syntax but you have a complete javascript engine at your hands.\r\n\r\nThe following piece of code would do the trick\r\n\r\n    var containerSuperClass = &quot;javax.servlet.http.HttpSession&quot;\r\n    var elementSuperClass = &quot;foo.bar.Cacheable&quot;\r\n    // find the container class by name\r\n    var alClz = heap.findClass(elementSuperClass)\r\n    // retrieve all subclasses\r\n    var subClzs = alClz.subclasses()\r\n    \r\n    // filter the list of objects reachables from instances of the container super class\r\n    // and all its subclasses so it contains only objects of classes from subClzs\r\n    map(heap.objects(containerSuperClass), &#39;filter(reachables(it), &quot;it != null &amp;&amp; contains(subClzs, containsClause(it))&quot;)&#39;)\r\n    \r\n    // we need to externalize the contains clause because of clash in naming the closure parameter &#39;it&#39;\r\n    function containsClause(rcbl) {\r\n        return function(it) {\r\n            if (rcbl == null || it == null) return false;\r\n            return it.name.equals(classof(rcbl).name)\r\n        }\r\n    }","title":"OQL query to find all instances and sub-instances of a given class referred to from a session","body":"<p>In jhat based OQL implementations (jHat, VisualVM) you can exploit the fact that you are not limited to the SQL like syntax but you have a complete javascript engine at your hands.</p>\n\n<p>The following piece of code would do the trick</p>\n\n<pre><code>var containerSuperClass = \"javax.servlet.http.HttpSession\"\nvar elementSuperClass = \"foo.bar.Cacheable\"\n// find the container class by name\nvar alClz = heap.findClass(elementSuperClass)\n// retrieve all subclasses\nvar subClzs = alClz.subclasses()\n\n// filter the list of objects reachables from instances of the container super class\n// and all its subclasses so it contains only objects of classes from subClzs\nmap(heap.objects(containerSuperClass), 'filter(reachables(it), \"it != null &amp;&amp; contains(subClzs, containsClause(it))\")')\n\n// we need to externalize the contains clause because of clash in naming the closure parameter 'it'\nfunction containsClause(rcbl) {\n    return function(it) {\n        if (rcbl == null || it == null) return false;\n        return it.name.equals(classof(rcbl).name)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":87886,"reputation":4994,"user_id":243456,"accept_rate":81,"display_name":"Scruffers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4113,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5030506,"answer_count":1,"score":5,"last_activity_date":1632680643,"creation_date":1271954550,"question_id":2692745,"body_markdown":"I&#39;m trying to use jhat/OQL to trace a memory leak in our Tomcat container. The question I want to ask is:\r\n\r\n&lt;i&gt;&quot;Show me all the instances (and sub-instances) of foo.bar.Cacheable class that are reachable from javax.servlet.http.HttpSession&quot;&lt;/i&gt;\r\n\r\nI managed to come up with the following, but this doesn&#39;t show subclasses of &lt;i&gt;foo.bar.Cacheable&lt;/i&gt; (which is important since this is infact an interface).\r\n\r\n    select filter(reachables(s), &quot;/foo.bar.Cacheable/(classof(it).name)&quot;) from javax.servlet.http.HttpSession s\r\n\r\nI tried various permutations of the concept below, but just keep getting errors (&quot;foo&quot; is not defined).\r\n\r\n    select filter(reachables(s), classof(it) instanceof foo.bar.Cacheable) from javax.servlet.http.HttpSession s\r\n\r\nCan anyone help me out with what I&#39;m doing wrong to pose this question through OQL?\r\n","title":"OQL query to find all instances and sub-instances of a given class referred to from a session","body":"<p>I'm trying to use jhat/OQL to trace a memory leak in our Tomcat container. The question I want to ask is:</p>\n\n<p><i>\"Show me all the instances (and sub-instances) of foo.bar.Cacheable class that are reachable from javax.servlet.http.HttpSession\"</i></p>\n\n<p>I managed to come up with the following, but this doesn't show subclasses of <i>foo.bar.Cacheable</i> (which is important since this is infact an interface).</p>\n\n<pre><code>select filter(reachables(s), \"/foo.bar.Cacheable/(classof(it).name)\") from javax.servlet.http.HttpSession s\n</code></pre>\n\n<p>I tried various permutations of the concept below, but just keep getting errors (\"foo\" is not defined).</p>\n\n<pre><code>select filter(reachables(s), classof(it) instanceof foo.bar.Cacheable) from javax.servlet.http.HttpSession s\n</code></pre>\n\n<p>Can anyone help me out with what I'm doing wrong to pose this question through OQL?</p>\n"},{"tags":["java","memory-leaks","out-of-memory","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287327730,"creation_date":1287327730,"answer_id":3953756,"question_id":3953726,"body_markdown":"Visual VM will show you that the perm gen is filled, which means OOM error.\r\n\r\nWhen you get that [heap dump][1], you&#39;ll be able to see the object with the most instances.  That should give you a clue as to the culprit.\r\n\r\n\r\n  [1]: https://visualvm.dev.java.net/heapdump.html","title":"How to pin point a memory leak in a heap dump using jhat/jvisualvm tool?","body":"<p>Visual VM will show you that the perm gen is filled, which means OOM error.</p>\n\n<p>When you get that <a href=\"https://visualvm.dev.java.net/heapdump.html\" rel=\"nofollow\">heap dump</a>, you'll be able to see the object with the most instances.  That should give you a clue as to the culprit.</p>\n"}],"owner":{"account_id":138070,"reputation":157,"user_id":342752,"display_name":"kumarasvn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632680629,"creation_date":1287327354,"question_id":3953726,"body_markdown":"How to  pin point a memory leak in a heap dump using jhat/jvisualvm tool?\r\n\r\nI have a heap dump of our application generated using jmap during an &quot;OutOfMemoryError:Java Heap Space error&quot;. I used jhat to analyse the dump but the info is too huge and I could not find where the memory leak occurred.Please help me in pin-pointing the objects that caused memory leaks.\r\n ","title":"How to pin point a memory leak in a heap dump using jhat/jvisualvm tool?","body":"<p>How to  pin point a memory leak in a heap dump using jhat/jvisualvm tool?</p>\n\n<p>I have a heap dump of our application generated using jmap during an \"OutOfMemoryError:Java Heap Space error\". I used jhat to analyse the dump but the info is too huge and I could not find where the memory leak occurred.Please help me in pin-pointing the objects that caused memory leaks.</p>\n"},{"tags":["java","lambda","java-8","anonymous-class"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":5,"creation_date":1395758672,"post_id":22637900,"comment_id":34476598,"body_markdown":"Sure, for all those anonymous classes that provide methods with side effects.","body":"Sure, for all those anonymous classes that provide methods with side effects."},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":12,"creation_date":1395759330,"post_id":22637900,"comment_id":34477168,"body_markdown":"Just for your info, you can also construct the comparator as: `Comparator.comparing(Person::getFirstName)`, if `getFirstName()` would be a method returning `firstName`.","body":"Just for your info, you can also construct the comparator as: <code>Comparator.comparing(Person::getFirstName)</code>, if <code>getFirstName()</code> would be a method returning <code>firstName</code>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1395761213,"post_id":22637900,"comment_id":34478655,"body_markdown":"Or anonymous classes with multiple methods, or ...","body":"Or anonymous classes with multiple methods, or ..."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1395761345,"post_id":22637900,"comment_id":34478751,"body_markdown":"I am tempted to vote for close as too broad, especially due to the additional questions after _**EDIT**_.","body":"I am tempted to vote for close as too broad, especially due to the additional questions after <i><b>EDIT</b></i>."},{"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"score":1,"creation_date":1482417315,"post_id":22637900,"comment_id":69772830,"body_markdown":"A nice in-depth article on this topic: https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood","body":"A nice in-depth article on this topic: <a href=\"https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood\" rel=\"nofollow noreferrer\">infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood</a>"},{"owner":{"account_id":256682,"reputation":171,"user_id":537569,"accept_rate":44,"display_name":"Abhishek Parikh"},"score":0,"creation_date":1487221504,"post_id":22637900,"comment_id":71687521,"body_markdown":"Another Article which gives a detailed comparison on this topic can be found here: [Lamda vs Anonymous Inner Class](http://www.techbyapro.com/lambda-vs-anonymous-inner-class.html)","body":"Another Article which gives a detailed comparison on this topic can be found here: <a href=\"http://www.techbyapro.com/lambda-vs-anonymous-inner-class.html\" rel=\"nofollow noreferrer\">Lamda vs Anonymous Inner Class</a>"},{"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"score":0,"creation_date":1510509983,"post_id":22637900,"comment_id":81454473,"body_markdown":"One more info. `Collections.sort(personList, (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName));`  you can directly pass the object `p1` and `p2` directly, instead of `Person p1, Person p2`. It will work","body":"One more info. <code>Collections.sort(personList, (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName));</code>  you can directly pass the object <code>p1</code> and <code>p2</code> directly, instead of <code>Person p1, Person p2</code>. It will work"}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1395759525,"creation_date":1395758684,"answer_id":22637993,"question_id":22637900,"body_markdown":"Lambdas though a great feature, will only work with SAM types. That is, interfaces with only a single abstract method. It would fail as soon as your interface contains more than 1 abstract method. That is where anonymous classes will be useful.\r\n\r\nSo, no we cannot just ignore anonymous classes. And just FYI, your `sort()` method can be more simplified, by skipping the type declaration for `p1` and `p2`:\r\n\r\n    Collections.sort(personList, (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName));\r\n\r\nYou can also use method reference here. Either you add a `compareByFirstName()` method in `Person` class, and use:\r\n\r\n    Collections.sort(personList, Person::compareByFirstName);\r\n\r\nor, add a getter for `firstName`, directly get the `Comparator` from [`Comparator.comparing()`][1] method:\r\n\r\n    Collections.sort(personList, Comparator.comparing(Person::getFirstName));\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Java8 Lambdas vs Anonymous classes","body":"<p>Lambdas though a great feature, will only work with SAM types. That is, interfaces with only a single abstract method. It would fail as soon as your interface contains more than 1 abstract method. That is where anonymous classes will be useful.</p>\n\n<p>So, no we cannot just ignore anonymous classes. And just FYI, your <code>sort()</code> method can be more simplified, by skipping the type declaration for <code>p1</code> and <code>p2</code>:</p>\n\n<pre><code>Collections.sort(personList, (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName));\n</code></pre>\n\n<p>You can also use method reference here. Either you add a <code>compareByFirstName()</code> method in <code>Person</code> class, and use:</p>\n\n<pre><code>Collections.sort(personList, Person::compareByFirstName);\n</code></pre>\n\n<p>or, add a getter for <code>firstName</code>, directly get the <code>Comparator</code> from <a href=\"http://download.java.net/jdk8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\"><code>Comparator.comparing()</code></a> method:</p>\n\n<pre><code>Collections.sort(personList, Comparator.comparing(Person::getFirstName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":119,"is_accepted":true,"score":119,"last_activity_date":1596788045,"creation_date":1395764472,"answer_id":22640484,"question_id":22637900,"body_markdown":"An anonymous inner class (AIC) can be used to create a subclass of an abstract class or a concrete class. An AIC can also provide a concrete implementation of an interface, including the addition of state (fields). An instance of an AIC can be referred to using `this` in its method bodies, so further methods can be called on it, its state can be mutated over time, etc. None of these apply to lambdas.\r\n\r\nI&#39;d guess that the majority of uses of AICs were to provide stateless implementations of single functions and so can be replaced with lambda expressions, but there are other uses of AICs for which lambdas cannot be used. AICs are here to stay.\r\n\r\n**UPDATE**\r\n\r\nAnother difference between AICs and lambda expressions is that AICs introduce a new scope. That is, names are resolved from the AIC&#39;s superclasses and interfaces and can shadow names that occur in the lexically enclosing environment. For lambdas, all names are resolved lexically.","title":"Java8 Lambdas vs Anonymous classes","body":"<p>An anonymous inner class (AIC) can be used to create a subclass of an abstract class or a concrete class. An AIC can also provide a concrete implementation of an interface, including the addition of state (fields). An instance of an AIC can be referred to using <code>this</code> in its method bodies, so further methods can be called on it, its state can be mutated over time, etc. None of these apply to lambdas.</p>\n<p>I'd guess that the majority of uses of AICs were to provide stateless implementations of single functions and so can be replaced with lambda expressions, but there are other uses of AICs for which lambdas cannot be used. AICs are here to stay.</p>\n<p><strong>UPDATE</strong></p>\n<p>Another difference between AICs and lambda expressions is that AICs introduce a new scope. That is, names are resolved from the AIC's superclasses and interfaces and can shadow names that occur in the lexically enclosing environment. For lambdas, all names are resolved lexically.</p>\n"},{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1439451316,"creation_date":1439451316,"answer_id":31982211,"question_id":22637900,"body_markdown":"Lambda&#39;s in java 8 was introduced for functional programming. Where you can avoid boilerplate code. I came across this interesting article on lambda&#39;s.\n\nhttp://radar.oreilly.com/2014/04/whats-new-in-java-8-lambdas.html\n\nIt&#39;s advisable to use lambda functions for simple logics. If implementing complex logic using lambdas will be a overhead in debugging the code in case of issue.","title":"Java8 Lambdas vs Anonymous classes","body":"<p>Lambda's in java 8 was introduced for functional programming. Where you can avoid boilerplate code. I came across this interesting article on lambda's.</p>\n\n<p><a href=\"http://radar.oreilly.com/2014/04/whats-new-in-java-8-lambdas.html\" rel=\"nofollow\">http://radar.oreilly.com/2014/04/whats-new-in-java-8-lambdas.html</a></p>\n\n<p>It's advisable to use lambda functions for simple logics. If implementing complex logic using lambdas will be a overhead in debugging the code in case of issue.</p>\n"},{"tags":[],"owner":{"account_id":7325554,"reputation":459,"user_id":5580045,"display_name":"Dmitriy Kuzkin"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1448293382,"creation_date":1448293382,"answer_id":33874965,"question_id":22637900,"body_markdown":"**Lambda performance with Anonymous classes**\r\n\r\nWhen application is launched each class file must be loaded and verified.\r\n\r\nAnonymous classes are processed by compiler as a new subtype for the given class or interface, so there will be generated a new class file for each.\r\n\r\nLambdas are different at bytecode generation, they are more efficient, used invokedynamic instruction that comes with JDK7.\r\n\r\nFor Lambdas this instruction is used to delay translate lambda expression in bytecode untill runtime. (instruction will be invoked for the first time only)\r\n\r\nAs result Lambda expression will becomes a static method(created at runtime).\r\n(There is a small difference with stateles and statefull cases, they are resolved via generated method arguments)\r\n \r\n\r\n\r\n\r\n","title":"Java8 Lambdas vs Anonymous classes","body":"<p><strong>Lambda performance with Anonymous classes</strong></p>\n\n<p>When application is launched each class file must be loaded and verified.</p>\n\n<p>Anonymous classes are processed by compiler as a new subtype for the given class or interface, so there will be generated a new class file for each.</p>\n\n<p>Lambdas are different at bytecode generation, they are more efficient, used invokedynamic instruction that comes with JDK7.</p>\n\n<p>For Lambdas this instruction is used to delay translate lambda expression in bytecode untill runtime. (instruction will be invoked for the first time only)</p>\n\n<p>As result Lambda expression will becomes a static method(created at runtime).\n(There is a small difference with stateles and statefull cases, they are resolved via generated method arguments)</p>\n"},{"tags":[],"owner":{"account_id":2749095,"reputation":971,"user_id":2368848,"accept_rate":64,"display_name":"atom217"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1504451247,"creation_date":1504451247,"answer_id":46024789,"question_id":22637900,"body_markdown":"There are following differences: \r\n\r\n**1)  Syntax**\r\n\r\nLambda expressions looks neat as compared to Anonymous Inner Class (AIC)\r\n\r\n    public static void main(String[] args) {\r\n    \tRunnable r = new Runnable() {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;in run&quot;);\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tThread t = new Thread(r);\r\n    \tt.start(); \r\n    }\r\n     \r\n    //syntax of lambda expression \r\n    public static void main(String[] args) {\r\n    \tRunnable r = ()-&gt;{System.out.println(&quot;in run&quot;);};\r\n    \tThread t = new Thread(r);\r\n    \tt.start();\r\n    }\r\n\r\n**2)Scope**\r\n\r\nAn anonymous inner class is a class, which means that it has scope for variable defined inside the inner class. \r\n\r\nWhereas,**lambda expression is not a scope of its own, but is part of the enclosing scope.**  \r\n\r\nSimilar rule applies for **super** and **this** keyword when using inside anonymous inner class and lambda expression. In case of anonymous inner class this keyword refers to local scope and super keyword refers to the anonymous classâ€™s super class. While in case of lambda expression this keyword refers to the object of the enclosing type and super will refer to the enclosing classâ€™s super class.\r\n\r\n\r\n    //AIC\r\n        public static void main(String[] args) {\r\n        \tfinal int cnt = 0; \r\n        \tRunnable r = new Runnable() {\r\n        \t\t@Override\r\n        \t\tpublic void run() {\r\n        \t\t\tint cnt = 5;\t\r\n        \t\t\tSystem.out.println(&quot;in run&quot; + cnt);\r\n        \t\t}\r\n        \t};\r\n        \t\r\n        \tThread t = new Thread(r);\r\n        \tt.start();\r\n        }\r\n    \r\n    //Lambda\r\n        public static void main(String[] args) {\r\n        \tfinal int cnt = 0; \r\n        \tRunnable r = ()-&gt;{\r\n        \t\tint cnt = 5; //compilation error\r\n        \t\tSystem.out.println(&quot;in run&quot;+cnt);};\r\n        \tThread t = new Thread(r);\r\n        \tt.start();\r\n        }\r\n\r\n**3) Performance**\r\n\r\nAt runtime anonymous inner classes require class loading, memory allocation and object initialization and invocation of a non-static method while lambda expression is pure compile time activity and donâ€™t incur extra cost during runtime. So performance of lambda expression is better as compare to anonymous inner classes.**\r\n\r\n**I do realize that this point is not entirely true . Please refer following question for details.  https://stackoverflow.com/questions/24764118/lambda-vs-anonymous-inner-class-performance-reducing-the-load-on-the-classloade","title":"Java8 Lambdas vs Anonymous classes","body":"<p>There are following differences: </p>\n\n<p><strong>1)  Syntax</strong></p>\n\n<p>Lambda expressions looks neat as compared to Anonymous Inner Class (AIC)</p>\n\n<pre><code>public static void main(String[] args) {\n    Runnable r = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(\"in run\");\n        }\n    };\n\n    Thread t = new Thread(r);\n    t.start(); \n}\n\n//syntax of lambda expression \npublic static void main(String[] args) {\n    Runnable r = ()-&gt;{System.out.println(\"in run\");};\n    Thread t = new Thread(r);\n    t.start();\n}\n</code></pre>\n\n<p><strong>2)Scope</strong></p>\n\n<p>An anonymous inner class is a class, which means that it has scope for variable defined inside the inner class. </p>\n\n<p>Whereas,<strong>lambda expression is not a scope of its own, but is part of the enclosing scope.</strong>  </p>\n\n<p>Similar rule applies for <strong>super</strong> and <strong>this</strong> keyword when using inside anonymous inner class and lambda expression. In case of anonymous inner class this keyword refers to local scope and super keyword refers to the anonymous classâ€™s super class. While in case of lambda expression this keyword refers to the object of the enclosing type and super will refer to the enclosing classâ€™s super class.</p>\n\n<pre><code>//AIC\n    public static void main(String[] args) {\n        final int cnt = 0; \n        Runnable r = new Runnable() {\n            @Override\n            public void run() {\n                int cnt = 5;    \n                System.out.println(\"in run\" + cnt);\n            }\n        };\n\n        Thread t = new Thread(r);\n        t.start();\n    }\n\n//Lambda\n    public static void main(String[] args) {\n        final int cnt = 0; \n        Runnable r = ()-&gt;{\n            int cnt = 5; //compilation error\n            System.out.println(\"in run\"+cnt);};\n        Thread t = new Thread(r);\n        t.start();\n    }\n</code></pre>\n\n<p><strong>3) Performance</strong></p>\n\n<p>At runtime anonymous inner classes require class loading, memory allocation and object initialization and invocation of a non-static method while lambda expression is pure compile time activity and donâ€™t incur extra cost during runtime. So performance of lambda expression is better as compare to anonymous inner classes.**</p>\n\n<p>**I do realize that this point is not entirely true . Please refer following question for details.  <a href=\"https://stackoverflow.com/questions/24764118/lambda-vs-anonymous-inner-class-performance-reducing-the-load-on-the-classloade\">Lambda vs anonymous inner class performance: reducing the load on the ClassLoader?</a></p>\n"},{"tags":[],"owner":{"account_id":1913170,"reputation":19646,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549980500,"creation_date":1549980500,"answer_id":54651915,"question_id":22637900,"body_markdown":" - lambda syntax does not require to write the obvious code that java can infer.\r\n - By using `invoke dynamic`, **lambda are not converted back to the anonymous classes** during compile time (Java do not have to go through creating objects, just care about signature of the method, can bind to method without creating object\r\n - lambda put more emphasis on what we want to do instead what we have to do before we can do it","title":"Java8 Lambdas vs Anonymous classes","body":"<ul>\n<li>lambda syntax does not require to write the obvious code that java can infer.</li>\n<li>By using <code>invoke dynamic</code>, <strong>lambda are not converted back to the anonymous classes</strong> during compile time (Java do not have to go through creating objects, just care about signature of the method, can bind to method without creating object</li>\n<li>lambda put more emphasis on what we want to do instead what we have to do before we can do it</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13680653,"reputation":579,"user_id":9871091,"display_name":"spidy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556262691,"creation_date":1556262691,"answer_id":55862514,"question_id":22637900,"body_markdown":"Anonymous class are there to stay because lambda is good for functions with single abstract methods but for all other cases anonymous inner classes are your saviour.","title":"Java8 Lambdas vs Anonymous classes","body":"<p>Anonymous class are there to stay because lambda is good for functions with single abstract methods but for all other cases anonymous inner classes are your saviour.</p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604989599,"creation_date":1604989599,"answer_id":64763885,"question_id":22637900,"body_markdown":"    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    |                                  |                                       Lambdas            |              Anonymous classes              |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    | Definition                       | An anonymous method that can be created without belonging| An inner class without a name.              |\r\n    |                                  | to any class                                             |                                             |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    | Scope of variables of main class | Available                                                | Not available                               |\r\n    | (this and super keywords also)   |                                                          |                                             |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    | Lines of codes                   | Reduced the lines of code. Itâ€™s a short form of          | Have more lines of code compared to lambdas |\r\n    |                                  | anonymous class.                                         |                                             |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    | Criteria for creating            | Needs to be Functional Interface, ie interface with      | Can use interfaces(including Functional     |\r\n    |\t\t\t\t\t\t\t\t   | only one abstract method. Example : Runnable Interface   | interfaces) and abstract classes to create. |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+\r\n    | Example:                         | Runnable r = ()-&gt;{System.out.println(&quot;Hello World&quot;);};   | Runnable r = new Runnable() {               |\r\n    |                                  |                                                          |  \t\t@Override                           |\r\n    |                                  |                                                          |  \t\tpublic void run() {                 |\r\n    |                                  |                                                          |  \t\t System.out.println(&quot;Hello World&quot;); |\r\n    |                                  |                                                          |                                        }    |\r\n    |                                  |                                                          | \t};                                      |\r\n    +----------------------------------+----------------------------------------------------------+---------------------------------------------+","title":"Java8 Lambdas vs Anonymous classes","body":"<pre><code>+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n|                                  |                                       Lambdas            |              Anonymous classes              |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n| Definition                       | An anonymous method that can be created without belonging| An inner class without a name.              |\n|                                  | to any class                                             |                                             |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n| Scope of variables of main class | Available                                                | Not available                               |\n| (this and super keywords also)   |                                                          |                                             |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n| Lines of codes                   | Reduced the lines of code. Itâ€™s a short form of          | Have more lines of code compared to lambdas |\n|                                  | anonymous class.                                         |                                             |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n| Criteria for creating            | Needs to be Functional Interface, ie interface with      | Can use interfaces(including Functional     |\n|                                  | only one abstract method. Example : Runnable Interface   | interfaces) and abstract classes to create. |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n| Example:                         | Runnable r = ()-&gt;{System.out.println(&quot;Hello World&quot;);};   | Runnable r = new Runnable() {               |\n|                                  |                                                          |         @Override                           |\n|                                  |                                                          |         public void run() {                 |\n|                                  |                                                          |          System.out.println(&quot;Hello World&quot;); |\n|                                  |                                                          |                                        }    |\n|                                  |                                                          |     };                                      |\n+----------------------------------+----------------------------------------------------------+---------------------------------------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11398719,"reputation":111,"user_id":8356245,"accept_rate":0,"display_name":"akhil singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632680610,"creation_date":1632680610,"answer_id":69337766,"question_id":22637900,"body_markdown":"Lambdas Expression covers only a very specific case of the Anonymous Inner classes. You can consider like Anonymous Inner classes is the superset of Lambdas Expression\r\n\r\n    Lambdas Expression âŠ‚ Anonymous Inner classes\r\n\r\nThere are some scenario in which Anno. inner class can be replaced by Lambda Expression:\r\n1) If the the inner classes to be implemented is a functional Interface (having only one abstract method)\r\n\r\nex:\r\n\r\n    Interface A{\r\n     public void m1();\r\n     public void m2();\r\n    }\r\n\r\n    Interface B{\r\n     public void m();\r\n    }\r\n\r\n    Class Temp{\r\n     public static void main(String[] args){\r\n      // Anonymous inner class implementation\r\n      A a = new A()\r\n      {\r\n       public void m1(){\r\n        //\r\n       }\r\n       public void m2(){\r\n        //\r\n       }\r\n      };\r\n      a.m1(); or a.m2();\r\n     \r\n      // Here B is a functional Interface so we can replace the anonymous class to Lambda Expression\r\n      B b = () =&gt; { ... }\r\n      b.m();\r\n      \r\n     }\r\n    }\r\n\r\nApart from that there are some differences on the compiling style of both. For the Lambda Expression compiler do not generate any another class but it generates for the Anon. Inner class","title":"Java8 Lambdas vs Anonymous classes","body":"<p>Lambdas Expression covers only a very specific case of the Anonymous Inner classes. You can consider like Anonymous Inner classes is the superset of Lambdas Expression</p>\n<pre><code>Lambdas Expression âŠ‚ Anonymous Inner classes\n</code></pre>\n<p>There are some scenario in which Anno. inner class can be replaced by Lambda Expression:</p>\n<ol>\n<li>If the the inner classes to be implemented is a functional Interface (having only one abstract method)</li>\n</ol>\n<p>ex:</p>\n<pre><code>Interface A{\n public void m1();\n public void m2();\n}\n\nInterface B{\n public void m();\n}\n\nClass Temp{\n public static void main(String[] args){\n  // Anonymous inner class implementation\n  A a = new A()\n  {\n   public void m1(){\n    //\n   }\n   public void m2(){\n    //\n   }\n  };\n  a.m1(); or a.m2();\n \n  // Here B is a functional Interface so we can replace the anonymous class to Lambda Expression\n  B b = () =&gt; { ... }\n  b.m();\n  \n }\n}\n</code></pre>\n<p>Apart from that there are some differences on the compiling style of both. For the Lambda Expression compiler do not generate any another class but it generates for the Anon. Inner class</p>\n"}],"owner":{"account_id":1864007,"reputation":4453,"user_id":1687972,"accept_rate":64,"display_name":"Amin Abu-Taleb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78022,"favorite_count":0,"down_vote_count":1,"up_vote_count":126,"accepted_answer_id":22640484,"answer_count":9,"score":125,"last_activity_date":1632680610,"creation_date":1395758478,"question_id":22637900,"body_markdown":"Since Java8 has been recently released and its brand new lambda expressions looks to be really cool, I was wondering if this means the demise of the Anonymous classes that we were so used to.\r\n\r\nI&#39;ve been researching a bit about this and found some cool examples about how Lambda expressions will systematically replace those classes, such the Collection&#39;s sort method, which used to get an Anonymous instance of Comparator to perform the sort: \r\n\r\n    Collections.sort(personList, new Comparator&lt;Person&gt;(){\r\n      public int compare(Person p1, Person p2){\r\n        return p1.firstName.compareTo(p2.firstName);\r\n      }\r\n    });\r\n\r\nNow can be done using Lambdas: \r\n\r\n    Collections.sort(personList, (Person p1, Person p2) -&gt; p1.firstName.compareTo(p2.firstName));\r\n\r\nAnd looks surprisingly concise. So my question is, is there any reason to keep using those classes in Java8 instead of Lambdas?\r\n\r\n**EDIT**\r\n\r\nSame question but in the opposite direction, what are the benefits of using Lambdas instead of Anonymous classes, since Lambdas can only be used with single method interfaces, is this new feature only a shortcut only used in few cases or is it really useful?","title":"Java8 Lambdas vs Anonymous classes","body":"<p>Since Java8 has been recently released and its brand new lambda expressions looks to be really cool, I was wondering if this means the demise of the Anonymous classes that we were so used to.</p>\n\n<p>I've been researching a bit about this and found some cool examples about how Lambda expressions will systematically replace those classes, such the Collection's sort method, which used to get an Anonymous instance of Comparator to perform the sort: </p>\n\n<pre><code>Collections.sort(personList, new Comparator&lt;Person&gt;(){\n  public int compare(Person p1, Person p2){\n    return p1.firstName.compareTo(p2.firstName);\n  }\n});\n</code></pre>\n\n<p>Now can be done using Lambdas: </p>\n\n<pre><code>Collections.sort(personList, (Person p1, Person p2) -&gt; p1.firstName.compareTo(p2.firstName));\n</code></pre>\n\n<p>And looks surprisingly concise. So my question is, is there any reason to keep using those classes in Java8 instead of Lambdas?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Same question but in the opposite direction, what are the benefits of using Lambdas instead of Anonymous classes, since Lambdas can only be used with single method interfaces, is this new feature only a shortcut only used in few cases or is it really useful?</p>\n"},{"tags":["java","memory-leaks","out-of-memory","heap-memory","visualvm"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1297103423,"post_id":4924619,"comment_id":5488082,"body_markdown":"possible duplicate of [How do I analyze a .hprof file?](http://stackoverflow.com/questions/185893/how-do-i-analyze-a-hprof-file)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/185893/how-do-i-analyze-a-hprof-file\">How do I analyze a .hprof file?</a>"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1297103476,"post_id":4924619,"comment_id":5488089,"body_markdown":"also related: http://stackoverflow.com/questions/2064456/how-much-memory-does-jprofiler-need-to-analyze-a-heap-dump-of-size-x\n , http://stackoverflow.com/questions/1795778/are-there-tools-to-analyse-large-java-heap-dumps-without-loading-the-complete-hpr , http://stackoverflow.com/questions/2422868/how-to-analyze-heap-dumps","body":"also related: <a href=\"http://stackoverflow.com/questions/2064456/how-much-memory-does-jprofiler-need-to-analyze-a-heap-dump-of-size-x\" title=\"how much memory does jprofiler need to analyze a heap dump of size x\">stackoverflow.com/questions/2064456/&hellip;</a>  , <a href=\"http://stackoverflow.com/questions/1795778/are-there-tools-to-analyse-large-java-heap-dumps-without-loading-the-complete-hpr\" title=\"are there tools to analyse large java heap dumps without loading the complete hpr\">stackoverflow.com/questions/1795778/&hellip;</a> , <a href=\"http://stackoverflow.com/questions/2422868/how-to-analyze-heap-dumps\" title=\"how to analyze heap dumps\">stackoverflow.com/questions/2422868/how-to-analyze-heap-dump&zwnj;&#8203;s</a>"},{"owner":{"account_id":228183,"reputation":2187,"user_id":490337,"accept_rate":90,"display_name":"katura"},"score":0,"creation_date":1297106793,"post_id":4924619,"comment_id":5488813,"body_markdown":"My question was aimed at using VisualVM to pinpoint a memory leak. This product that comes with the JDK should be able to, no? I appreciate the suggestions to use other types of software, but since I have VisualVM, I&#39;d like to stick with it. Has anyone used VisualVM to find a memory leak?","body":"My question was aimed at using VisualVM to pinpoint a memory leak. This product that comes with the JDK should be able to, no? I appreciate the suggestions to use other types of software, but since I have VisualVM, I&#39;d like to stick with it. Has anyone used VisualVM to find a memory leak?"}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297101681,"creation_date":1297101681,"answer_id":4924733,"question_id":4924619,"body_markdown":"Using VisualVM to analyze heap dumps and pin-point memory leaks is not easy, and I wouldn&#39;t recommend using this tool if this is your first time working on this type of problem.  Consider downloading [HPjmeter][1] and letting it do the work for you.\r\n\r\nAfter opening the dump file, select the Sorted Reference Graph Subtree option.  This will show you all of the objects in your webapp sorted by size.  In most memory leak scenarios, you are leaking one type of Object that balloons over time in the heap.  HPjmeter will help you identify this case quickly.\r\n\r\n\r\n  [1]: http://www.hpjmeter.com","title":"OutOfMemory Exception - how does VisualVM help locate the memory leak with heapdump file?","body":"<p>Using VisualVM to analyze heap dumps and pin-point memory leaks is not easy, and I wouldn't recommend using this tool if this is your first time working on this type of problem.  Consider downloading <a href=\"http://www.hpjmeter.com\" rel=\"nofollow\">HPjmeter</a> and letting it do the work for you.</p>\n\n<p>After opening the dump file, select the Sorted Reference Graph Subtree option.  This will show you all of the objects in your webapp sorted by size.  In most memory leak scenarios, you are leaking one type of Object that balloons over time in the heap.  HPjmeter will help you identify this case quickly.</p>\n"},{"tags":[],"owner":{"account_id":105481,"reputation":6059,"user_id":281460,"accept_rate":74,"display_name":"jwir3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1297117014,"creation_date":1297101718,"answer_id":4924738,"question_id":4924619,"body_markdown":"Here&#39;s a couple of links I found helpful when debugging memory leaks:\r\n\r\nhttp://olex.openlogic.com/wazi/2009/how-to-fix-memory-leaks-in-java/\r\n\r\nhttp://www.ibm.com/developerworks/rational/library/05/0816_GuptaPalanki/\r\n\r\n**Edit:**\r\n\r\nYou might also want to try:\r\nhttp://rejeev.blogspot.com/2009/04/analyzing-memory-leak-in-java.html\r\n\r\n","title":"OutOfMemory Exception - how does VisualVM help locate the memory leak with heapdump file?","body":"<p>Here's a couple of links I found helpful when debugging memory leaks:</p>\n\n<p><a href=\"http://olex.openlogic.com/wazi/2009/how-to-fix-memory-leaks-in-java/\" rel=\"nofollow\">http://olex.openlogic.com/wazi/2009/how-to-fix-memory-leaks-in-java/</a></p>\n\n<p><a href=\"http://www.ibm.com/developerworks/rational/library/05/0816_GuptaPalanki/\" rel=\"nofollow\">http://www.ibm.com/developerworks/rational/library/05/0816_GuptaPalanki/</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>You might also want to try:\n<a href=\"http://rejeev.blogspot.com/2009/04/analyzing-memory-leak-in-java.html\" rel=\"nofollow\">http://rejeev.blogspot.com/2009/04/analyzing-memory-leak-in-java.html</a></p>\n"}],"owner":{"account_id":228183,"reputation":2187,"user_id":490337,"accept_rate":90,"display_name":"katura"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9448,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4924738,"answer_count":2,"score":4,"last_activity_date":1632680578,"creation_date":1297100894,"question_id":4924619,"body_markdown":"I&#39;ve been testing my webapp locally on my pc and monitoring it with VisualVM. I recently also started using JMeter, as it was suggested that I should do some load testing since I suspected that I have a slow memory leak somewhere.\r\n\r\nToday my webapp finally threw the &lt;code&gt;OutOfMemory&lt;/code&gt; exception. I had the &lt;code&gt;HeapDumpOnOutOfMemoryError&lt;/code&gt; and &lt;code&gt;HeapDumpPath&lt;/code&gt; params set in case this ever happened. A heap dump file was generated. \r\n\r\nI opened this file (java_pid2760.hprof) in VisualVM, and honestly, I don&#39;t understand how I&#39;m supposed to be able to pinpoint the culprit of this memory leak...\r\n\r\nHow do you use VisualVM to analyze a heap dump and find the class/instance that is generating the memory leak?","title":"OutOfMemory Exception - how does VisualVM help locate the memory leak with heapdump file?","body":"<p>I've been testing my webapp locally on my pc and monitoring it with VisualVM. I recently also started using JMeter, as it was suggested that I should do some load testing since I suspected that I have a slow memory leak somewhere.</p>\n\n<p>Today my webapp finally threw the <code>OutOfMemory</code> exception. I had the <code>HeapDumpOnOutOfMemoryError</code> and <code>HeapDumpPath</code> params set in case this ever happened. A heap dump file was generated. </p>\n\n<p>I opened this file (java_pid2760.hprof) in VisualVM, and honestly, I don't understand how I'm supposed to be able to pinpoint the culprit of this memory leak...</p>\n\n<p>How do you use VisualVM to analyze a heap dump and find the class/instance that is generating the memory leak?</p>\n"},{"tags":["java","eclipse","memory-leaks","eclipse-rcp","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":42507,"reputation":4899,"user_id":123844,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1297268652,"creation_date":1297268652,"answer_id":4947586,"question_id":4935193,"body_markdown":"While I don&#39;t have any experience with using Eclipse for finding leaks, I would ask a question first:  How sure are you that you have a memory leak?  From your question, it doesn&#39;t sound like you are sure you have a leak, but you are testing to see if you do have one.  The simplest way to test that would be to start your application, note how much memory it is consuming, have JMeter hit it continuously for 24 hours, and see how much memory it is consuming (probably after executing GC).  If your application is consuming a significantly large portion of memory, or has died from an `OutOfMemoryError`, then you have a memory leak.\r\n\r\nIf you find that you actually do have a memory leak, then I would first suggest running your application through FindBugs to see if it can find the memory leaks through a quick static analysis.  If that doesn&#39;t work, then [this article](http://www.ibm.com/developerworks/rational/library/05/0816_GuptaPalanki/) (although it is rather old) might help you understand the results given to you by Eclipse.","title":"Eclipse Memory Analyzer - Leak Suspects Report doesn&#39;t point to MY classes - why?","body":"<p>While I don't have any experience with using Eclipse for finding leaks, I would ask a question first:  How sure are you that you have a memory leak?  From your question, it doesn't sound like you are sure you have a leak, but you are testing to see if you do have one.  The simplest way to test that would be to start your application, note how much memory it is consuming, have JMeter hit it continuously for 24 hours, and see how much memory it is consuming (probably after executing GC).  If your application is consuming a significantly large portion of memory, or has died from an <code>OutOfMemoryError</code>, then you have a memory leak.</p>\n\n<p>If you find that you actually do have a memory leak, then I would first suggest running your application through FindBugs to see if it can find the memory leaks through a quick static analysis.  If that doesn't work, then <a href=\"http://www.ibm.com/developerworks/rational/library/05/0816_GuptaPalanki/\" rel=\"nofollow\">this article</a> (although it is rather old) might help you understand the results given to you by Eclipse.</p>\n"}],"owner":{"account_id":228183,"reputation":2187,"user_id":490337,"accept_rate":90,"display_name":"katura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4214,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4947586,"answer_count":1,"score":7,"last_activity_date":1632680565,"creation_date":1297180252,"question_id":4935193,"body_markdown":"I&#39;m trying to determine whether or not I have a memory leak in my webapp. I&#39;m using VisualVM and JMeter to load test and watch the heap. \r\n\r\nI saved a heap dump to file and downloaded Eclipse Memory Analyzer yesterday...after much frustration with VisualVM, I thought Eclipse would pinpoint the leak, if any, better than VisualVM.\r\n\r\nI opened the heap file in Eclipse and ran what they call a Leak Suspects Report. I thought it would point to a particular class in my webapp, but it doesn&#39;t. So I have no clue how to use the info its provided in order to find out where in any particular class of mine the leak suspect is.\r\n\r\nHere&#39;s the results of the Leak Suspect Report for one of my heap dump files.\r\n\r\n&lt;pre&gt;\r\nOne instance of &quot;org.apache.catalina.session.StandardManager&quot; loaded by &quot;org.apache.catalina.loader.StandardClassLoader @ 0x261bdac0&quot; occupies 16,977,376 (48.54%) bytes. The memory is accumulated in one instance of &quot;java.util.concurrent.ConcurrentHashMap$Segment[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.\r\n\r\n\r\nKeywords\r\norg.apache.catalina.loader.StandardClassLoader @ 0x261bdac0\r\norg.apache.catalina.session.StandardManager\r\njava.util.concurrent.ConcurrentHashMap$Segment[]\r\n&lt;/pre&gt;\r\n\r\nThe rest of the Details in the report are as shown in the attached image. I hope the image can be expanded for a closer look....\r\n![enter image description here][1]\r\n\r\nI know that Eclipse is supposed to be really good software. This is my last attempt to use something like this to find a memory leak - I just have very, very, limited knowledge in HOW this software can be used for such. Tutorial and help pages describe things as though you should know what to do after a few clicks... I need more help than that.\r\n\r\n  [1]: http://i.stack.imgur.com/arWGK.gif","title":"Eclipse Memory Analyzer - Leak Suspects Report doesn&#39;t point to MY classes - why?","body":"<p>I'm trying to determine whether or not I have a memory leak in my webapp. I'm using VisualVM and JMeter to load test and watch the heap. </p>\n\n<p>I saved a heap dump to file and downloaded Eclipse Memory Analyzer yesterday...after much frustration with VisualVM, I thought Eclipse would pinpoint the leak, if any, better than VisualVM.</p>\n\n<p>I opened the heap file in Eclipse and ran what they call a Leak Suspects Report. I thought it would point to a particular class in my webapp, but it doesn't. So I have no clue how to use the info its provided in order to find out where in any particular class of mine the leak suspect is.</p>\n\n<p>Here's the results of the Leak Suspect Report for one of my heap dump files.</p>\n\n<pre>\nOne instance of \"org.apache.catalina.session.StandardManager\" loaded by \"org.apache.catalina.loader.StandardClassLoader @ 0x261bdac0\" occupies 16,977,376 (48.54%) bytes. The memory is accumulated in one instance of \"java.util.concurrent.ConcurrentHashMap$Segment[]\" loaded by \"\".\n\n\nKeywords\norg.apache.catalina.loader.StandardClassLoader @ 0x261bdac0\norg.apache.catalina.session.StandardManager\njava.util.concurrent.ConcurrentHashMap$Segment[]\n</pre>\n\n<p>The rest of the Details in the report are as shown in the attached image. I hope the image can be expanded for a closer look....\n<img src=\"https://i.stack.imgur.com/arWGK.gif\" alt=\"enter image description here\"></p>\n\n<p>I know that Eclipse is supposed to be really good software. This is my last attempt to use something like this to find a memory leak - I just have very, very, limited knowledge in HOW this software can be used for such. Tutorial and help pages describe things as though you should know what to do after a few clicks... I need more help than that.</p>\n"},{"tags":["java","android","memory-leaks","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"score":0,"creation_date":1305729232,"post_id":6046424,"comment_id":6995272,"body_markdown":"The tracer in the DDMS (very accessible in eclipse) allows the programmer to monitor memory allocation.","body":"The tracer in the DDMS (very accessible in eclipse) allows the programmer to monitor memory allocation."}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1305729859,"creation_date":1305729473,"answer_id":6046505,"question_id":6046424,"body_markdown":"Remember that in a JVM (and even in an I-can&#39;t-believe-it&#39;s-not-a-JVM like Davlik) there are many items which you use which aren&#39;t exactly under your control.  So, the correct approach is to find a way to verify that your code doesn&#39;t memory leak, and then you will know that if memory blooms, it is likely some external subsystem, or some intended consequence of the application&#39;s actual memory needs.\r\n\r\nFrom your description, it could easily be that the display rendering is simply keeping a lazily built cached memory buffer for each screen orientation.\r\n\r\nI only mention this because you have already (from your post) compared heap dumps, and if the heaps don&#39;t show a trend in object accumulation, then it is likely some item contained within a library implementation.  I know this is a very general rule of thumb, and doesn&#39;t apply to most programs (as they probably do contain true memory leaks), but it is something that might be investigated when other options are exhausted.\r\n\r\nIf you really want to verify that a particular library is keeping a cached copy of the screen orientation, you can always write up a small &quot;test&quot; program which is missing all of the confounding factors (like the rest of your program) and see how it performs on screen orientation shifts.\r\n\r\nAs far as using VisualVM, it is excellent for detecting user space memory leaks; however, as it is running on a different architecture and implementation, it might miss platform specific library issues.","title":"How to find root of memory leaks?","body":"<p>Remember that in a JVM (and even in an I-can't-believe-it's-not-a-JVM like Davlik) there are many items which you use which aren't exactly under your control.  So, the correct approach is to find a way to verify that your code doesn't memory leak, and then you will know that if memory blooms, it is likely some external subsystem, or some intended consequence of the application's actual memory needs.</p>\n\n<p>From your description, it could easily be that the display rendering is simply keeping a lazily built cached memory buffer for each screen orientation.</p>\n\n<p>I only mention this because you have already (from your post) compared heap dumps, and if the heaps don't show a trend in object accumulation, then it is likely some item contained within a library implementation.  I know this is a very general rule of thumb, and doesn't apply to most programs (as they probably do contain true memory leaks), but it is something that might be investigated when other options are exhausted.</p>\n\n<p>If you really want to verify that a particular library is keeping a cached copy of the screen orientation, you can always write up a small \"test\" program which is missing all of the confounding factors (like the rest of your program) and see how it performs on screen orientation shifts.</p>\n\n<p>As far as using VisualVM, it is excellent for detecting user space memory leaks; however, as it is running on a different architecture and implementation, it might miss platform specific library issues.</p>\n"},{"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305729632,"creation_date":1305729632,"answer_id":6046548,"question_id":6046424,"body_markdown":"VisualVM http://visualvm.java.net/&lt;br&gt;\r\nIt&#39;s in JDK distribution since some version of 1.6","title":"How to find root of memory leaks?","body":"<p>VisualVM <a href=\"http://visualvm.java.net/\" rel=\"nofollow\">http://visualvm.java.net/</a><br>\nIt's in JDK distribution since some version of 1.6</p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305729856,"creation_date":1305729856,"answer_id":6046609,"question_id":6046424,"body_markdown":"This specific scenario was covered in a [Google I|O 2011 conference presentation][1]. I recommend watching the presentation, as it may help you find your problem better using MAT.\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=_CruQY55HOk","title":"How to find root of memory leaks?","body":"<p>This specific scenario was covered in a <a href=\"http://www.youtube.com/watch?v=_CruQY55HOk\" rel=\"nofollow\">Google I|O 2011 conference presentation</a>. I recommend watching the presentation, as it may help you find your problem better using MAT.</p>\n"},{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305729876,"creation_date":1305729876,"answer_id":6046616,"question_id":6046424,"body_markdown":"If your application is an image editor and you are seeing this type of behavior then I expect that you are not recycling the Bitmap memory (see http://developer.android.com/reference/android/graphics/Bitmap.html#recycle%28%29). \r\n\r\nWhen your orientation changes and the Activity gets destroyed you will need to locate any large Bitmaps in use by your Views and then either call `recycle` on them or use the `onRetainNonConfigurationInstance` method (see http://developer.android.com/reference/android/app/Activity.html#onRetainNonConfigurationInstance%28%29) to pass it to the new Activity instance.","title":"How to find root of memory leaks?","body":"<p>If your application is an image editor and you are seeing this type of behavior then I expect that you are not recycling the Bitmap memory (see <a href=\"http://developer.android.com/reference/android/graphics/Bitmap.html#recycle%28%29\" rel=\"nofollow\">http://developer.android.com/reference/android/graphics/Bitmap.html#recycle%28%29</a>). </p>\n\n<p>When your orientation changes and the Activity gets destroyed you will need to locate any large Bitmaps in use by your Views and then either call <code>recycle</code> on them or use the <code>onRetainNonConfigurationInstance</code> method (see <a href=\"http://developer.android.com/reference/android/app/Activity.html#onRetainNonConfigurationInstance%28%29\" rel=\"nofollow\">http://developer.android.com/reference/android/app/Activity.html#onRetainNonConfigurationInstance%28%29</a>) to pass it to the new Activity instance.</p>\n"},{"tags":[],"owner":{"account_id":196530,"reputation":23872,"user_id":440010,"accept_rate":68,"display_name":"NickT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305732859,"creation_date":1305732859,"answer_id":6047295,"question_id":6046424,"body_markdown":"My application was suffering from a a bad leak, and whilst I found the MAT tool useful, I found that the main cause was my not managing the activity stack correctly. I think the most useful way of checking this was from the command line using:\r\n\r\nadb shell dumpsys meminfo your.package.name\r\n\r\nYou&#39;ll get an output like \r\n\r\n    adb shell dumpsys meminfo your.package.name\r\n    Currently running services:\r\n      meminfo\r\n    -------------------------------------------------------------------------------\r\n    DUMP OF SERVICE meminfo:\r\n    Applications Memory Usage (kB):\r\n    Uptime: 150876 Realtime: 150875\r\n    \r\n    ** MEMINFO in pid 253 [your.package.name] **\r\n                        native   dalvik    other    total\r\n                size:     5404     4103      N/A     9507\r\n           allocated:     5294     3110      N/A     8404\r\n                free:      101      993      N/A     1094\r\n               (Pss):     2346     3737     2198     8281\r\n      (shared dirty):     1964     4644     1480     8088\r\n        (priv dirty):     2204     1856      956     5016\r\n    \r\n     Objects\r\n               Views:       30        ViewRoots:        2\r\n         AppContexts:        3       Activities:        2\r\n              Assets:        2    AssetManagers:        2\r\n       Local Binders:       13    Proxy Binders:       16\r\n    Death Recipients:        2\r\n     OpenSSL Sockets:        0\r\n    \r\n     SQL\r\n                heap:        0          dbFiles:        0\r\n           numPagers:        0   inactivePageKB:        0\r\n        activePageKB:        0\r\n\r\nCheck on the activities count and watch the heap size change as you change orientations, etc. Make sure you are not starting copies of already running activities. You can control the stack with the flags you give to the intent on starting an activity.","title":"How to find root of memory leaks?","body":"<p>My application was suffering from a a bad leak, and whilst I found the MAT tool useful, I found that the main cause was my not managing the activity stack correctly. I think the most useful way of checking this was from the command line using:</p>\n\n<p>adb shell dumpsys meminfo your.package.name</p>\n\n<p>You'll get an output like </p>\n\n<pre><code>adb shell dumpsys meminfo your.package.name\nCurrently running services:\n  meminfo\n-------------------------------------------------------------------------------\nDUMP OF SERVICE meminfo:\nApplications Memory Usage (kB):\nUptime: 150876 Realtime: 150875\n\n** MEMINFO in pid 253 [your.package.name] **\n                    native   dalvik    other    total\n            size:     5404     4103      N/A     9507\n       allocated:     5294     3110      N/A     8404\n            free:      101      993      N/A     1094\n           (Pss):     2346     3737     2198     8281\n  (shared dirty):     1964     4644     1480     8088\n    (priv dirty):     2204     1856      956     5016\n\n Objects\n           Views:       30        ViewRoots:        2\n     AppContexts:        3       Activities:        2\n          Assets:        2    AssetManagers:        2\n   Local Binders:       13    Proxy Binders:       16\nDeath Recipients:        2\n OpenSSL Sockets:        0\n\n SQL\n            heap:        0          dbFiles:        0\n       numPagers:        0   inactivePageKB:        0\n    activePageKB:        0\n</code></pre>\n\n<p>Check on the activities count and watch the heap size change as you change orientations, etc. Make sure you are not starting copies of already running activities. You can control the stack with the flags you give to the intent on starting an activity.</p>\n"}],"owner":{"account_id":208293,"reputation":1603,"user_id":458678,"accept_rate":80,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6046505,"answer_count":5,"score":4,"last_activity_date":1632680551,"creation_date":1305729139,"question_id":6046424,"body_markdown":"My app is basicly and image editor. There is a welcome page which opens main activity with an intent. If orientation changes when main activity is working the memory consumption simply doubles up and remains that way. If i close the main activity turn back to welcome activity and start main activity again same problem does not occur. I think all these indicates memory leak, i have investigated myself but couldn&#39;t find why app is leaking memory. I am using Application contexts and there is no static field in my app. I have tried to dump heap and analyze it with MAT, however i couldn&#39;t find anything good. I was hoping someone could show me right direction to find the roots of memory leak or other possible explanation of the problem. ","title":"How to find root of memory leaks?","body":"<p>My app is basicly and image editor. There is a welcome page which opens main activity with an intent. If orientation changes when main activity is working the memory consumption simply doubles up and remains that way. If i close the main activity turn back to welcome activity and start main activity again same problem does not occur. I think all these indicates memory leak, i have investigated myself but couldn't find why app is leaking memory. I am using Application contexts and there is no static field in my app. I have tried to dump heap and analyze it with MAT, however i couldn't find anything good. I was hoping someone could show me right direction to find the roots of memory leak or other possible explanation of the problem. </p>\n"},{"tags":["java","memory-leaks","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317743955,"creation_date":1317743600,"answer_id":7650635,"question_id":7650505,"body_markdown":"AFAIK, heapdumps are only automatically generated if you specify that option, at least in Oracle&#39;s JVM (don&#39;t know about the others, but I doubt they do it automatically).\r\n\r\nIn most cases you have to trigger heap dump generation manually.\r\n\r\nThere are also ways to programmatically create a heap dump, but those are JVM specific and depend on how and when the programmer calls them. If that option is used then you&#39;d have to look for that as it could be anywhere.","title":"heap dump when it will get generated","body":"<p>AFAIK, heapdumps are only automatically generated if you specify that option, at least in Oracle's JVM (don't know about the others, but I doubt they do it automatically).</p>\n\n<p>In most cases you have to trigger heap dump generation manually.</p>\n\n<p>There are also ways to programmatically create a heap dump, but those are JVM specific and depend on how and when the programmer calls them. If that option is used then you'd have to look for that as it could be anywhere.</p>\n"}],"owner":{"account_id":220904,"reputation":3016,"user_id":478587,"accept_rate":55,"display_name":"Ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632680540,"creation_date":1317742997,"question_id":7650505,"body_markdown":"In my Java application a heap dump file gets generated when I read from the `OutputStream` of a script. I am sure about a memory leak in my application. But even after the heap dump got generated, the thread which is causing the memory leak is not coming out. I am not catching Throwable, Exception, Error etc in the run method.\r\n\r\nI want to know when the Heap Dump file will get generated when I have not specified any special VM argument like \r\n\r\n\r\n    -XX:+HeapDumpOnOutOfMemoryError","title":"heap dump when it will get generated","body":"<p>In my Java application a heap dump file gets generated when I read from the <code>OutputStream</code> of a script. I am sure about a memory leak in my application. But even after the heap dump got generated, the thread which is causing the memory leak is not coming out. I am not catching Throwable, Exception, Error etc in the run method.</p>\n\n<p>I want to know when the Heap Dump file will get generated when I have not specified any special VM argument like </p>\n\n<pre><code>-XX:+HeapDumpOnOutOfMemoryError\n</code></pre>\n"},{"tags":["java","mysql","jdbc","memory-leaks","heap-memory"],"comments":[{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":0,"creation_date":1321651658,"post_id":8189348,"comment_id":10061417,"body_markdown":"Increase the heap? Or what is the problem?","body":"Increase the heap? Or what is the problem?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1321651658,"post_id":8189348,"comment_id":10061418,"body_markdown":"Do you close them in end of every loop?","body":"Do you close them in end of every loop?"},{"owner":{"account_id":459510,"reputation":15017,"user_id":860034,"accept_rate":75,"display_name":"gview"},"score":3,"creation_date":1321651664,"post_id":8189348,"comment_id":10061421,"body_markdown":"Seems pretty clear -- JVM ran out of memory.","body":"Seems pretty clear -- JVM ran out of memory."},{"owner":{"account_id":960111,"reputation":568,"user_id":984666,"accept_rate":100,"display_name":"rana"},"score":0,"creation_date":1321651734,"post_id":8189348,"comment_id":10061442,"body_markdown":"@BalusC by closing u mean the connection?","body":"@BalusC by closing u mean the connection?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1321651789,"post_id":8189348,"comment_id":10061468,"body_markdown":"No, the statement and the resultset.","body":"No, the statement and the resultset."},{"owner":{"account_id":960111,"reputation":568,"user_id":984666,"accept_rate":100,"display_name":"rana"},"score":0,"creation_date":1321651873,"post_id":8189348,"comment_id":10061492,"body_markdown":"@BalusC assigning to them to null is not the same?","body":"@BalusC assigning to them to null is not the same?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1321651928,"post_id":8189348,"comment_id":10061507,"body_markdown":"**Definitely** not. The underlying resources will then still be open until you close the connection which created the statements. Better is to close each statement (and resultset) individually.","body":"<b>Definitely</b> not. The underlying resources will then still be open until you close the connection which created the statements. Better is to close each statement (and resultset) individually."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1321662582,"creation_date":1321651885,"answer_id":8189422,"question_id":8189348,"body_markdown":"Based on the comments, you seem to be creating the `Statement` and `ResultSet` inside the loop but never closing them. You need to close them in the loop as well. This will free up internal resources.\r\n\r\nAlso, you are not really taking benefit of the DB cache of the prepared statement. Right now you are string-concatenating the parameter in the SQL string which causes 2M String objects being created instead of 1 String object. Better prepare the statement before the loop.\r\n\r\n    try {\r\n        // ...\r\n        statement = connection.prepareStatement(&quot;select NAME from TABLE_NAME where FIELD=?&quot;);\r\n    \r\n        for ( /* 2M times? */ ) {\r\n            statement.setInt(1, id);\r\n           \r\n            try {\r\n                resultSet = statement.executeQuery();\r\n                // ...\r\n            } finally {\r\n                if (resultSet != null) try { resultSet.close(); } catch (SQLException ignore) {}\r\n            }\r\n        }\r\n    } finally {\r\n        if (statement != null) try { statement.close(); } catch (SQLException ignore) {}\r\n    }\r\n\r\nAlternatively, you can also consider to use an `IN` clause instead. E.g.\r\n\r\n    WHERE field IN (1,2,3,4,5);\r\n\r\nThis is however trickier with placeholders. See also: https://stackoverflow.com/questions/2861230/what-is-the-best-approach-using-jdbc-for-parameterizing-an-in-clause/2861510#2861510\r\n\r\nOr as a completely different alternative, if necessary with help of a more experienced DB admin / SQL ninja, rewrite the entire thing so that you get **exactly** the results you need with only **one** SQL query. Ask if necessary a separate question about that on [tag:sql] here on SO.","title":"What is the reason for OutOfMemoryError: Java heap space in the following case?","body":"<p>Based on the comments, you seem to be creating the <code>Statement</code> and <code>ResultSet</code> inside the loop but never closing them. You need to close them in the loop as well. This will free up internal resources.</p>\n\n<p>Also, you are not really taking benefit of the DB cache of the prepared statement. Right now you are string-concatenating the parameter in the SQL string which causes 2M String objects being created instead of 1 String object. Better prepare the statement before the loop.</p>\n\n<pre><code>try {\n    // ...\n    statement = connection.prepareStatement(\"select NAME from TABLE_NAME where FIELD=?\");\n\n    for ( /* 2M times? */ ) {\n        statement.setInt(1, id);\n\n        try {\n            resultSet = statement.executeQuery();\n            // ...\n        } finally {\n            if (resultSet != null) try { resultSet.close(); } catch (SQLException ignore) {}\n        }\n    }\n} finally {\n    if (statement != null) try { statement.close(); } catch (SQLException ignore) {}\n}\n</code></pre>\n\n<p>Alternatively, you can also consider to use an <code>IN</code> clause instead. E.g.</p>\n\n<pre><code>WHERE field IN (1,2,3,4,5);\n</code></pre>\n\n<p>This is however trickier with placeholders. See also: <a href=\"https://stackoverflow.com/questions/2861230/what-is-the-best-approach-using-jdbc-for-parameterizing-an-in-clause/2861510#2861510\">What is the best approach using JDBC for parameterizing an IN clause?</a></p>\n\n<p>Or as a completely different alternative, if necessary with help of a more experienced DB admin / SQL ninja, rewrite the entire thing so that you get <strong>exactly</strong> the results you need with only <strong>one</strong> SQL query. Ask if necessary a separate question about that on <a href=\"/questions/tagged/sql\" class=\"post-tag\" title=\"show questions tagged &#39;sql&#39;\" rel=\"tag\">sql</a> here on SO.</p>\n"},{"tags":[],"owner":{"account_id":467927,"reputation":4327,"user_id":873601,"accept_rate":89,"display_name":"Vishal Biyani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321652149,"creation_date":1321651934,"answer_id":8189433,"question_id":8189348,"body_markdown":"After you are done with while loop a &lt;code&gt;rs2.close() &lt;/code&gt; &amp; &lt;code&gt;stmt2.close() &lt;/code&gt; would help.","title":"What is the reason for OutOfMemoryError: Java heap space in the following case?","body":"<p>After you are done with while loop a <code>rs2.close() </code> &amp; <code>stmt2.close() </code> would help.</p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321677644,"creation_date":1321677644,"answer_id":8191949,"question_id":8189348,"body_markdown":"I wish to clarify some things concerning JDBC resources using.\r\n\r\n1. The best practice for all resourses to close them in finally block. Youv&#39;e been giving examples with `ResultSet` and `PreparedStatement` already. \r\n\r\n2. If your application does not use connection pool and you invoke connecion.close(), actually it should close both `ResultSet` and `PreparedStatement` objects. Connection implementations as a rule keep all these objects inside and even if you create them in the loop, they will be closed.\r\n\r\n3. If connection pool is used, then, when you invoke connection.close() you don&#39;t close physical connection itself, you just release it back to the pool. As a result `ResultSet` and `PreparedStatement` objects are not closed. I strongly recommend you to read the following article about it [Plug memory leaks in enterprise Java applications][1]\r\n\r\n4. In Java7 both `Statement` and `ResultSet` extend AutoCloseable, so you also may not worry about closing them. (Again, if you use connection pools, I don&#39; think Java 7 will be able to close them automatically)\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-03-2006/jw-0313-leak.html?page=2","title":"What is the reason for OutOfMemoryError: Java heap space in the following case?","body":"<p>I wish to clarify some things concerning JDBC resources using.</p>\n\n<ol>\n<li><p>The best practice for all resourses to close them in finally block. Youv'e been giving examples with <code>ResultSet</code> and <code>PreparedStatement</code> already. </p></li>\n<li><p>If your application does not use connection pool and you invoke connecion.close(), actually it should close both <code>ResultSet</code> and <code>PreparedStatement</code> objects. Connection implementations as a rule keep all these objects inside and even if you create them in the loop, they will be closed.</p></li>\n<li><p>If connection pool is used, then, when you invoke connection.close() you don't close physical connection itself, you just release it back to the pool. As a result <code>ResultSet</code> and <code>PreparedStatement</code> objects are not closed. I strongly recommend you to read the following article about it <a href=\"http://www.javaworld.com/javaworld/jw-03-2006/jw-0313-leak.html?page=2\" rel=\"nofollow\">Plug memory leaks in enterprise Java applications</a></p></li>\n<li><p>In Java7 both <code>Statement</code> and <code>ResultSet</code> extend AutoCloseable, so you also may not worry about closing them. (Again, if you use connection pools, I don' think Java 7 will be able to close them automatically)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2775763,"reputation":41,"user_id":2389373,"display_name":"limlighten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368698987,"creation_date":1368698987,"answer_id":16584620,"question_id":8189348,"body_markdown":"There are another resolve method, if you don&#39;t want to upping your JVM heap size.\r\n\r\nFirst, your MySQL version should newer than 5.0.\r\n\r\nSecond, Statement.getResultSetType() should be TYPE_FORWARD_ONLY and ResultSetConcurrency should be CONCUR_READ_ONLY(default).\r\n\r\nThird, include ONE of these lines:\r\n    1).statement.setFetchSize(Integer.MIN_VALUE);\r\n    2).((com.mysql.jdbc.Statement)stat).enableStreamingResults();\r\n\r\nnow you will fetch result rows one by one ","title":"What is the reason for OutOfMemoryError: Java heap space in the following case?","body":"<p>There are another resolve method, if you don't want to upping your JVM heap size.</p>\n\n<p>First, your MySQL version should newer than 5.0.</p>\n\n<p>Second, Statement.getResultSetType() should be TYPE_FORWARD_ONLY and ResultSetConcurrency should be CONCUR_READ_ONLY(default).</p>\n\n<p>Third, include ONE of these lines:\n    1).statement.setFetchSize(Integer.MIN_VALUE);\n    2).((com.mysql.jdbc.Statement)stat).enableStreamingResults();</p>\n\n<p>now you will fetch result rows one by one </p>\n"}],"owner":{"account_id":960111,"reputation":568,"user_id":984666,"accept_rate":100,"display_name":"rana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11261,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8189422,"answer_count":4,"score":4,"last_activity_date":1632680512,"creation_date":1321651492,"question_id":8189348,"body_markdown":"The following code sample is inside a for loop that runs about 2 million times.\r\n               \r\n    List&lt;String&gt; parameters = new LinkedList&lt;String&gt;();\r\n    stmt2 = null;\r\n    rs2= null;\r\n\r\n    //This is line 472\r\n    stmt2 = con.prepareStatement(&quot;select NAME from TABLE_NAME where FIELD=&quot;+ strId);\r\n    rs2 = stmt2.executeQuery();\r\n\r\n    while (rs2.next()) {\r\n        parameters.add(rs2.getString(&quot;NAME&quot;));\r\n    }\r\n\r\nstack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at com.mysql.jdbc.PreparedStatement.&lt;init&gt;(PreparedStatement.java:437)\r\n        at com.mysql.jdbc.Connection.clientPrepareStatement(Connection.java:2185)\r\n        at com.mysql.jdbc.Connection.prepareStatement(Connection.java:4782)\r\n        at com.mysql.jdbc.Connection.prepareStatement(Connection.java:4687)\r\n        at consistencyCheck.ConsistencyCheck.parameterCheck(ConsistencyCheck.java:472)\r\n        at consistencyCheck.ConsistencyCheck.performConsistencyCheck(ConsistencyCheck.java:316)\r\n        at consistencyCheck.ConsistencyCheck.main(ConsistencyCheck.java:198)\r\n\r\nPlease let me know if more information is required.\r\n\r\nThank you.\r\n\r\n**Thanks everyone for the answers. I will accept BalusC&#39;s answer since he answered first. Unfortunately I cant upvote any other answers due to not enough reputation :(**\r\n\r\n***Just a side note to all who suggested to increase memory heap. Increasing the memory heap is something you should never do unless you are 100 % sure that is the only solution to your problem. For example in my problem increasing the heap might &#39;solve&#39; the problem, but the underlying blunder still remains.***\r\n","title":"What is the reason for OutOfMemoryError: Java heap space in the following case?","body":"<p>The following code sample is inside a for loop that runs about 2 million times.</p>\n\n<pre><code>List&lt;String&gt; parameters = new LinkedList&lt;String&gt;();\nstmt2 = null;\nrs2= null;\n\n//This is line 472\nstmt2 = con.prepareStatement(\"select NAME from TABLE_NAME where FIELD=\"+ strId);\nrs2 = stmt2.executeQuery();\n\nwhile (rs2.next()) {\n    parameters.add(rs2.getString(\"NAME\"));\n}\n</code></pre>\n\n<p>stack trace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at com.mysql.jdbc.PreparedStatement.&lt;init&gt;(PreparedStatement.java:437)\n    at com.mysql.jdbc.Connection.clientPrepareStatement(Connection.java:2185)\n    at com.mysql.jdbc.Connection.prepareStatement(Connection.java:4782)\n    at com.mysql.jdbc.Connection.prepareStatement(Connection.java:4687)\n    at consistencyCheck.ConsistencyCheck.parameterCheck(ConsistencyCheck.java:472)\n    at consistencyCheck.ConsistencyCheck.performConsistencyCheck(ConsistencyCheck.java:316)\n    at consistencyCheck.ConsistencyCheck.main(ConsistencyCheck.java:198)\n</code></pre>\n\n<p>Please let me know if more information is required.</p>\n\n<p>Thank you.</p>\n\n<p><strong>Thanks everyone for the answers. I will accept BalusC's answer since he answered first. Unfortunately I cant upvote any other answers due to not enough reputation :(</strong></p>\n\n<p><em><strong>Just a side note to all who suggested to increase memory heap. Increasing the memory heap is something you should never do unless you are 100 % sure that is the only solution to your problem. For example in my problem increasing the heap might 'solve' the problem, but the underlying blunder still remains.</em></strong></p>\n"},{"tags":["java","memory-leaks","heap-memory","jconsole"],"answers":[{"tags":[],"owner":{"account_id":2075051,"reputation":2171,"user_id":1848662,"display_name":"pabrantes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1354375111,"creation_date":1354375111,"answer_id":13660772,"question_id":13659865,"body_markdown":"In my opinion I don&#39;t think that `UsageThreashold` parameter is the most helpful for you to detect memory leaks (but if someone knows some tricks with it, please do share). In my experience that parameter is more helpful to visually understand if my application is getting way too near my max heap size and I&#39;m in danger of getting an `OutOfMemoryException`.\r\n\r\nStill regarding using `JConsole` to search for memory leaks, I don&#39;t think there&#39;s a silver bullet for the process. But what I usually do is the following: \r\n\r\nIf exists a memory leak, it means that the objects (the ones that are leaking) won&#39;t get collected, hence, your `Tenured Generation` won&#39;t fully recover after any amount of GCs.\r\n\r\nWith the application running I connect `JConsole` and try to spot a leak by observing the memory tab, if after several computations of my application and also after various GCs occurring (including pressing the `Perform GC` button, which will result in a __full gc__) the memory never goes below, or at least to the memory value, it started tracking there&#39;s a great possibility that something is leaking. When the leak is big, you can even see a &quot;stair graph&quot; pattern in your memory. \r\n\r\nKeep in mind that if your application has long computations running, which may consume memory this analyzes must be done carefully. You must understand when those processes have finished. For example, just run one of those computations and track the total evolution of memory, before, during and afterwards.\r\n\r\nAlso, I suggest you to try [visualVM][1] instead, because it also allows you to create heap dumps, which you can use in order to understand which objects are still in memory and explore the references graph to understand why they are not being collected.\r\n\r\n\r\n  [1]: http://visualvm.java.net/","title":"UsageMemory threashold in JConsole","body":"<p>In my opinion I don't think that <code>UsageThreashold</code> parameter is the most helpful for you to detect memory leaks (but if someone knows some tricks with it, please do share). In my experience that parameter is more helpful to visually understand if my application is getting way too near my max heap size and I'm in danger of getting an <code>OutOfMemoryException</code>.</p>\n\n<p>Still regarding using <code>JConsole</code> to search for memory leaks, I don't think there's a silver bullet for the process. But what I usually do is the following: </p>\n\n<p>If exists a memory leak, it means that the objects (the ones that are leaking) won't get collected, hence, your <code>Tenured Generation</code> won't fully recover after any amount of GCs.</p>\n\n<p>With the application running I connect <code>JConsole</code> and try to spot a leak by observing the memory tab, if after several computations of my application and also after various GCs occurring (including pressing the <code>Perform GC</code> button, which will result in a <strong>full gc</strong>) the memory never goes below, or at least to the memory value, it started tracking there's a great possibility that something is leaking. When the leak is big, you can even see a \"stair graph\" pattern in your memory. </p>\n\n<p>Keep in mind that if your application has long computations running, which may consume memory this analyzes must be done carefully. You must understand when those processes have finished. For example, just run one of those computations and track the total evolution of memory, before, during and afterwards.</p>\n\n<p>Also, I suggest you to try <a href=\"http://visualvm.java.net/\" rel=\"nofollow\">visualVM</a> instead, because it also allows you to create heap dumps, which you can use in order to understand which objects are still in memory and explore the references graph to understand why they are not being collected.</p>\n"},{"tags":[],"owner":{"account_id":4239951,"reputation":11,"user_id":3470134,"display_name":"LiozMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395953737,"creation_date":1395953737,"answer_id":22699002,"question_id":13659865,"body_markdown":"you can use JMAP to see the histogram and/or to create heap dumps and study your memory consumption with tools like Eclipse MAT or YourKit.\r\nJConsole is used more for monitoring and running MBeans and less for analysis and in my expirence JVisualvm is better for that since you can use it for sampling your code and see what methods are CPU consuming.","title":"UsageMemory threashold in JConsole","body":"<p>you can use JMAP to see the histogram and/or to create heap dumps and study your memory consumption with tools like Eclipse MAT or YourKit.\nJConsole is used more for monitoring and running MBeans and less for analysis and in my expirence JVisualvm is better for that since you can use it for sampling your code and see what methods are CPU consuming.</p>\n"}],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13660772,"answer_count":2,"score":0,"last_activity_date":1632680413,"creation_date":1354368269,"question_id":13659865,"body_markdown":"I am looking into how to use `JConsole` to detect memory leaks.  \r\nI see that in `Memory Pool` in my `MBeans` I can define `UsageThreashold` for my `Tenured Generation`.  \r\nSo if my application exceeds this threashold the heap memory becomes red in the Memory tab.  \r\n\r\n**Question:** How does this help? I mean how am I supposed to use this setting to analyze my memory? How am I supposed to figure out this value?","title":"UsageMemory threashold in JConsole","body":"<p>I am looking into how to use <code>JConsole</code> to detect memory leaks.<br>\nI see that in <code>Memory Pool</code> in my <code>MBeans</code> I can define <code>UsageThreashold</code> for my <code>Tenured Generation</code>.<br>\nSo if my application exceeds this threashold the heap memory becomes red in the Memory tab.  </p>\n\n<p><strong>Question:</strong> How does this help? I mean how am I supposed to use this setting to analyze my memory? How am I supposed to figure out this value?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"score":5,"creation_date":1632679488,"post_id":69337553,"comment_id":122552263,"body_markdown":"The problem is `==` doesn&#39;t work on strings. You already did it correctly with `name.equals(&quot;Dean&quot;)`, this is how it should be with the rest as well. See [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java) for more info.","body":"The problem is <code>==</code> doesn&#39;t work on strings. You already did it correctly with <code>name.equals(&quot;Dean&quot;)</code>, this is how it should be with the rest as well. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a> for more info."}],"answers":[{"tags":[],"owner":{"account_id":20050652,"reputation":65,"user_id":14699413,"display_name":"el07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632679551,"creation_date":1632679551,"answer_id":69337594,"question_id":69337553,"body_markdown":"Java does not work for string to string comparision with == symbol. You should use &quot;equals&quot; to compare like you did in the first if.","title":"How to fix if statement?","body":"<p>Java does not work for string to string comparision with == symbol. You should use &quot;equals&quot; to compare like you did in the first if.</p>\n"},{"tags":[],"owner":{"account_id":21408688,"reputation":23,"user_id":15769399,"display_name":"AmirH.Najafizadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632679840,"creation_date":1632679840,"answer_id":69337642,"question_id":69337553,"body_markdown":"You see, in java strings are immutable objects, the JVM can optimize the amount of memory allocated for them by storing only one copy of each literal String in the pool called **string pool**. This process is called interning.\r\n\r\nWhen we create a String variable and assign a value to it, the JVM searches the pool for a String of equal value.\r\n\r\nIf found, the Java compiler will simply return a reference to its memory address, without allocating additional memory. \r\n\r\nHense whenever you are using &#39;==&#39; to check the equality, it will check for string reference in the string pool. So if you want to check their values, you need to use **equals()** method.","title":"How to fix if statement?","body":"<p>You see, in java strings are immutable objects, the JVM can optimize the amount of memory allocated for them by storing only one copy of each literal String in the pool called <strong>string pool</strong>. This process is called interning.</p>\n<p>When we create a String variable and assign a value to it, the JVM searches the pool for a String of equal value.</p>\n<p>If found, the Java compiler will simply return a reference to its memory address, without allocating additional memory.</p>\n<p>Hense whenever you are using '==' to check the equality, it will check for string reference in the string pool. So if you want to check their values, you need to use <strong>equals()</strong> method.</p>\n"},{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632680169,"creation_date":1632680169,"answer_id":69337697,"question_id":69337553,"body_markdown":"in your example we use the switch instead of thousands of if statements, in java you should always use .equals method for objects. Only primitives like int double char etc. are &quot;==&quot; safe.\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print( &quot;Type 1 to enter a number or 2 to enter a name: &quot; ) ;\r\n        int number = scanner.nextInt() ;\r\n        System.out.print(&quot;Enter player &quot;);\r\n        switch (number){\r\n          case 1:\r\n            System.out.println(&quot;number: &quot;);\r\n            switch (scanner.nextInt()){\r\n              case 42: System.out.print\r\n                  (&quot;Which player wears number 42 on his jersey?&quot;);\r\n              break;\r\n              case 11: System.out.print\r\n                  (&quot;Which player wears number 11 on his jersey?&quot;);\r\n              break;\r\n              case 6: System.out.print\r\n                  (&quot;Which player wears number 6 on his jersey?&quot;);\r\n              break;\r\n              case 4: System.out.print(&quot;Which player wears number 4 on his jersey?&quot;);\r\n              break;\r\n            }\r\n            break;\r\n          case 2:\r\n            System.out.println(&quot;name: &quot;);\r\n            switch (scanner.nextLine()){\r\n              case &quot;Dean&quot;: System.out.print\r\n                  (&quot;What number does Dean wear?&quot;);\r\n              break;\r\n              case &quot;Alleyne&quot;:\r\n                System.out.print\r\n                    (&quot;What number does Alleyne wear&quot;);\r\n                break;\r\n              case &quot;Shaw&quot;:\r\n                System.out.print\r\n                    (&quot;What number does Shaw wear&quot;);\r\n                break;\r\n              case &quot;Costes&quot;:\r\n                System.out.print\r\n                    (&quot;What number does Costes wear&quot;);\r\n                break;\r\n            }\r\n            break;\r\n          default: throw new IllegalArgumentException(&quot;invalid input&quot;);\r\n        }\r\n    \r\n      }","title":"How to fix if statement?","body":"<p>in your example we use the switch instead of thousands of if statements, in java you should always use .equals method for objects. Only primitives like int double char etc. are &quot;==&quot; safe.</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.print( &quot;Type 1 to enter a number or 2 to enter a name: &quot; ) ;\n    int number = scanner.nextInt() ;\n    System.out.print(&quot;Enter player &quot;);\n    switch (number){\n      case 1:\n        System.out.println(&quot;number: &quot;);\n        switch (scanner.nextInt()){\n          case 42: System.out.print\n              (&quot;Which player wears number 42 on his jersey?&quot;);\n          break;\n          case 11: System.out.print\n              (&quot;Which player wears number 11 on his jersey?&quot;);\n          break;\n          case 6: System.out.print\n              (&quot;Which player wears number 6 on his jersey?&quot;);\n          break;\n          case 4: System.out.print(&quot;Which player wears number 4 on his jersey?&quot;);\n          break;\n        }\n        break;\n      case 2:\n        System.out.println(&quot;name: &quot;);\n        switch (scanner.nextLine()){\n          case &quot;Dean&quot;: System.out.print\n              (&quot;What number does Dean wear?&quot;);\n          break;\n          case &quot;Alleyne&quot;:\n            System.out.print\n                (&quot;What number does Alleyne wear&quot;);\n            break;\n          case &quot;Shaw&quot;:\n            System.out.print\n                (&quot;What number does Shaw wear&quot;);\n            break;\n          case &quot;Costes&quot;:\n            System.out.print\n                (&quot;What number does Costes wear&quot;);\n            break;\n        }\n        break;\n      default: throw new IllegalArgumentException(&quot;invalid input&quot;);\n    }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":22866382,"reputation":1,"user_id":17010062,"display_name":"Remonade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1632682561,"answer_count":3,"score":-1,"last_activity_date":1632680169,"creation_date":1632679284,"question_id":69337553,"body_markdown":"I am new to coding and am struggling to understand why this code is not working. I am trying to make a simple if &quot; name = String&quot; statement but have been having many problems. Please take a look and help me understand what is wrong. The problems are the if name statements at the bottom. Thanks\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class MarylandBaseball {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print( &quot;Type 1 to enter a number or 2 to enter a name: &quot; ) ;\r\n\t\tint number = scanner.nextInt() ;\r\n\t\r\n\t\tif (number == 1)\r\n\t\tSystem.out.print(&quot;Enter player number: &quot;);\r\n\t\tif (number == 2)\r\n\t\tSystem.out.print(&quot;Enter player name: &quot;);\r\n\t\tint jersey = scanner.nextInt() ;\r\n\t\tString name = scanner.nextLine();\r\n\t\t\r\n\t\tif (jersey == 42) System.out.print\r\n\t\t(&quot;Which player wears number 42 on his jersey?&quot;); \r\n\t\tif (jersey == 11) System.out.print\r\n\t\t(&quot;Which player wears number 11 on his jersey?&quot;); \r\n\t\tif (jersey == 6) System.out.print\r\n\t\t(&quot;Which player wears number 6 on his jersey?&quot;); \r\n\t\tif (jersey == 4) System.out.print\r\n\t\t(&quot;Which player wears number 4 on his jersey?&quot;); \r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tif (name.equals (&quot;Dean&quot;)) { System.out.print\r\n\t\t(&quot;What number does Dean wear?&quot;);\r\n\t\t}; \r\n\t\tif (name == &quot;Alleyne&quot;) System.out.print\r\n\t\t(&quot;What number does Alleyne wear&quot;); \r\n\t\tif (name == &quot;Shaw&quot;) System.out.print\r\n\t\t(&quot;What number does Shaw wear&quot;); \r\n\t\tif (name == &quot;Costes&quot;) System.out.print\r\n\t\t(&quot;What number does Costes wear&quot;); \r\n\t}\r\n\t}\r\n\r\n\r\n","title":"How to fix if statement?","body":"<p>I am new to coding and am struggling to understand why this code is not working. I am trying to make a simple if &quot; name = String&quot; statement but have been having many problems. Please take a look and help me understand what is wrong. The problems are the if name statements at the bottom. Thanks</p>\n<p>import java.util.Scanner;</p>\n<p>public class MarylandBaseball {</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner scanner = new Scanner(System.in);\n    System.out.print( &quot;Type 1 to enter a number or 2 to enter a name: &quot; ) ;\n    int number = scanner.nextInt() ;\n\n    if (number == 1)\n    System.out.print(&quot;Enter player number: &quot;);\n    if (number == 2)\n    System.out.print(&quot;Enter player name: &quot;);\n    int jersey = scanner.nextInt() ;\n    String name = scanner.nextLine();\n    \n    if (jersey == 42) System.out.print\n    (&quot;Which player wears number 42 on his jersey?&quot;); \n    if (jersey == 11) System.out.print\n    (&quot;Which player wears number 11 on his jersey?&quot;); \n    if (jersey == 6) System.out.print\n    (&quot;Which player wears number 6 on his jersey?&quot;); \n    if (jersey == 4) System.out.print\n    (&quot;Which player wears number 4 on his jersey?&quot;); \n    \n    \n    \n    if (name.equals (&quot;Dean&quot;)) { System.out.print\n    (&quot;What number does Dean wear?&quot;);\n    }; \n    if (name == &quot;Alleyne&quot;) System.out.print\n    (&quot;What number does Alleyne wear&quot;); \n    if (name == &quot;Shaw&quot;) System.out.print\n    (&quot;What number does Shaw wear&quot;); \n    if (name == &quot;Costes&quot;) System.out.print\n    (&quot;What number does Costes wear&quot;); \n}\n}\n</code></pre>\n"},{"tags":["java","json","spring","refresh","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":7003534,"reputation":61,"user_id":5368761,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632680033,"creation_date":1632680033,"answer_id":69337670,"question_id":69293742,"body_markdown":"While I am not sure why you want to create bean of all students, below are my suggestions.\r\n```\r\nDefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();\r\nregistry.destroySingleton({yourbean}) //destroys the bean object\r\nregistry.registerSingleton({yourbeanname}, {newbeanobject}) //add to singleton beans cache\r\n```\r\nhttps://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\r\n\r\nA better approach will be to store them in a noSql database and return the list or if you want to read from file override DataSource to read from file.","title":"Reflect env variable reload to java bean","body":"<p>While I am not sure why you want to create bean of all students, below are my suggestions.</p>\n<pre><code>DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();\nregistry.destroySingleton({yourbean}) //destroys the bean object\nregistry.registerSingleton({yourbeanname}, {newbeanobject}) //add to singleton beans cache\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\">How to reinitialize a Spring Bean?</a></p>\n<p>A better approach will be to store them in a noSql database and return the list or if you want to read from file override DataSource to read from file.</p>\n"}],"owner":{"account_id":2488265,"reputation":93,"user_id":2166286,"accept_rate":29,"display_name":"supraja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632680033,"creation_date":1632368554,"question_id":69293742,"body_markdown":"  \r\n  \r\n\r\n    public static final String STUDENTS = &quot;studentsInfo&quot;;\r\n         @Bean(name = &quot;students&quot;)\r\n          public List&lt;Student&gt; getStudents() {\r\n            String configuredStudents = env.getProperty(&quot;studentsInfo&quot;); //JSON having list of students info\r\n            List&lt;Student&gt; students;\r\n            if (configuredStudents != null) {\r\n              try {\r\n                students =\r\n                    Arrays.asList(\r\n                        JsonUtilFactory.getInstance(JsonUtilFactory.JsonUtilType.LOCAL)\r\n                            .toObject(configuredStudents, Student[].class));\r\n              } catch (Exception e) {\r\n               \r\n              }\r\n            }\r\n            return students;\r\n          }\r\n\r\n1. I&#39;m able to refresh env variable [i.e without system restart ```@RefreshScope``` and ```spring-cloud-starter-kubernetes-config```]. How to make those changes to bean students ?\r\n2. Also if I have to partially update JSON [say add a new student], what would be the right approach? ","title":"Reflect env variable reload to java bean","body":"<pre><code>public static final String STUDENTS = &quot;studentsInfo&quot;;\n     @Bean(name = &quot;students&quot;)\n      public List&lt;Student&gt; getStudents() {\n        String configuredStudents = env.getProperty(&quot;studentsInfo&quot;); //JSON having list of students info\n        List&lt;Student&gt; students;\n        if (configuredStudents != null) {\n          try {\n            students =\n                Arrays.asList(\n                    JsonUtilFactory.getInstance(JsonUtilFactory.JsonUtilType.LOCAL)\n                        .toObject(configuredStudents, Student[].class));\n          } catch (Exception e) {\n           \n          }\n        }\n        return students;\n      }\n</code></pre>\n<ol>\n<li>I'm able to refresh env variable [i.e without system restart <code>@RefreshScope</code> and <code>spring-cloud-starter-kubernetes-config</code>]. How to make those changes to bean students ?</li>\n<li>Also if I have to partially update JSON [say add a new student], what would be the right approach?</li>\n</ol>\n"},{"tags":["python","java","postgresql","scala","geometry"],"comments":[{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":0,"creation_date":1632558298,"post_id":69324242,"comment_id":122529424,"body_markdown":"You define a center and an arc : what is the rectangle ?","body":"You define a center and an arc : what is the rectangle ?"},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632558508,"post_id":69324242,"comment_id":122529463,"body_markdown":"@PtitXav yes, i have got doc only for circle. please help me out to create rectangle in azimuth direction by +/- some degree let say 35 degree of some distance.","body":"@PtitXav yes, i have got doc only for circle. please help me out to create rectangle in azimuth direction by +/- some degree let say 35 degree of some distance."},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632558662,"post_id":69324242,"comment_id":122529495,"body_markdown":"@PtitXav i am new in Geometry. please help me in some direction what i need to set .","body":"@PtitXav i am new in Geometry. please help me in some direction what i need to set ."},{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":0,"creation_date":1632558871,"post_id":69324242,"comment_id":122529530,"body_markdown":"Try to make a drawing with a point, an azimuth , draw lines +-degrees from point, then distance circle. Finally what are the corner of the rectangle you want to define ? Pay attention to fact that longitude line are not // in geographic view.","body":"Try to make a drawing with a point, an azimuth , draw lines +-degrees from point, then distance circle. Finally what are the corner of the rectangle you want to define ? Pay attention to fact that longitude line are not // in geographic view."},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632559250,"post_id":69324242,"comment_id":122529595,"body_markdown":"@PtitXav Suppose point/ azimuth is 45 degree corner range would be -35 and + 35 degree range.","body":"@PtitXav Suppose point/ azimuth is 45 degree corner range would be -35 and + 35 degree range."},{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":0,"creation_date":1632559864,"post_id":69324242,"comment_id":122529710,"body_markdown":"May I do not understand but a rectangle is defined by 4 points : you give item point and an azimuth and 2 directions with a range which give 2 other points. Where is the 4th point ?","body":"May I do not understand but a rectangle is defined by 4 points : you give item point and an azimuth and 2 directions with a range which give 2 other points. Where is the 4th point ?"},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632560023,"post_id":69324242,"comment_id":122529742,"body_markdown":"@PtitXav , after that just either we can draw circle , so that we have all closed point polygoan.","body":"@PtitXav , after that just either we can draw circle , so that we have all closed point polygoan."},{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":0,"creation_date":1632560189,"post_id":69324242,"comment_id":122529775,"body_markdown":"Could you make a picture of what you mean ?","body":"Could you make a picture of what you mean ?"},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632560680,"post_id":69324242,"comment_id":122529872,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/237480/discussion-between-dev-and-ptit-xav).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/237480/discussion-between-dev-and-ptit-xav\">continue this discussion in chat</a>."},{"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"score":0,"creation_date":1632560923,"post_id":69324242,"comment_id":122529917,"body_markdown":"@PtitXav shared image on above chat link","body":"@PtitXav shared image on above chat link"}],"answers":[{"tags":[],"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632679993,"creation_date":1632679993,"answer_id":69337664,"question_id":69324242,"body_markdown":"You need to create a function that compute a point from another point in an certain azimuth and at a certain distance (see [geographic distance and azimuth](https://www.codeguru.com/cplusplus/geographic-distance-and-azimuth-calculations/) chapter 1C]Then call the function :\n- loop from item point to azimuth - delta on azimuth at distance \n- loop from azimuth - delta azimuth to azimuth + delta azimuth at distance\n- loop from azimuth + delta at distance to item point :\n\n    \nCode : \n    \n    import math\n    \n    earthRadius = 6371.0 # earth radius in km\n    \n    # utility functions working in degrees\n    def cos(d):\n        return math.cos(math.radians(d))\n    \n    def sin(d):\n        return math.sin(math.radians(d))\n    \n    def arccos(d):\n        return math.degrees(math.acos(d))\n    \n    def arcsin(d):\n        return math.degrees(math.asin(d))\n    \n    def printLatLon(lat,lon,prefix=&quot;&quot;,sep=&quot; &quot;):\n        print(str.format(&quot;{}{:10.8}{}{:11.9}&quot;,prefix,lat,sep,lon))\n    \n    # function to compute a point at some distance in some direction\n    def pointFrom(lat1, lon1, azimuth, distance):\n        b = math.degrees(distance / earthRadius)\n        a = arccos(cos(b)*cos(90 - lat1) + sin(90 - lat1)*sin(b)*cos(azimuth))\n        B = arcsin(sin(b)*sin(azimuth)/sin(a))\n        lat2 = 90 - a\n        lon2 = B + lon1\n    \n    # set initial point\n    p0Lat = 18.3965 # latitude in degrees \n    p0Lon = 74.7274 # longitude in degrees \n    azimuth = 20.0 # azumuth in degrees \n    distance = 2.0 # distance in km (sane unit as earth radius)\n    deltaAzimuth = 35.0\n    \npList = [[p0Lat,p0Lon]]\n    \n    # conpute arc from point 0 to azimuth - 35\n    nbPoints = 5\n    deltaDistance = distance / nbPoints\n    print(str.format(&quot;delta distance {:.3} km&quot;,deltaDistance))\n    azi = azimuth - deltaAzimuth\n    for i in range(1,nbPoints+1):\n        disti = deltaDistance * i\n        #print(&quot;disti = &quot;+str(disti))\n        piLat,piLon = pointFrom(p0Lat,p0Lon,azi,disti)\n        printLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,disti))\n        pList.append([piLat,piLon])\n    \n    # compute n points point at distance from azimuth - 35 to aximuth + 35\n    deltaAzPoint  = 5.0\n    nbPoints = int(2.0  * deltaAzimuth / deltaAzPoint)\n    \n    print(str.format(&quot;delta azimuth {:.3} deg&quot;,deltaAzPoint))\n    az0 = azimuth - deltaAzimuth\n    for i in range(1,nbPoints+1):\n        azi = az0 + i*deltaAzPoint\n        #print(&quot;az : &quot;+str(azi))\n        piLat,piLon =  pointFrom(p0Lat,p0Lon,azi,distance)\n    printLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,distance))\n        pList.append([piLat,piLon])\n    \n    # compute points from distance to 0 (p0) for azimuth + 35\n    nbPoints = 5\n    print(str.format(&quot;delta distance {:.3} km&quot;,deltaDistance))\n    azi = azimuth + deltaAzimuth\n    for i in range(nbPoints-1,0,-1):\n        disti = deltaDistance * i\n        piLat,piLon = pointFrom(p0Lat,p0Lon,azi,disti)\n        printLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,disti))\n        pList.append([piLat,piLon])\n    \n    # return to origin\n    pList.append([p0Lat,p0Lon])\n    \n    # print result\n    for latLon in pList:\n        printLatLon(latLon[0],latLon[1])\n","title":"How to create a rectangle for azimuth direction for n kilimeter","body":"<p>You need to create a function that compute a point from another point in an certain azimuth and at a certain distance (see <a href=\"https://www.codeguru.com/cplusplus/geographic-distance-and-azimuth-calculations/\" rel=\"nofollow noreferrer\">geographic distance and azimuth</a> chapter 1C]Then call the function :</p>\n<ul>\n<li>loop from item point to azimuth - delta on azimuth at distance</li>\n<li>loop from azimuth - delta azimuth to azimuth + delta azimuth at distance</li>\n<li>loop from azimuth + delta at distance to item point :</li>\n</ul>\n<p>Code :</p>\n<pre><code>import math\n\nearthRadius = 6371.0 # earth radius in km\n\n# utility functions working in degrees\ndef cos(d):\n    return math.cos(math.radians(d))\n\ndef sin(d):\n    return math.sin(math.radians(d))\n\ndef arccos(d):\n    return math.degrees(math.acos(d))\n\ndef arcsin(d):\n    return math.degrees(math.asin(d))\n\ndef printLatLon(lat,lon,prefix=&quot;&quot;,sep=&quot; &quot;):\n    print(str.format(&quot;{}{:10.8}{}{:11.9}&quot;,prefix,lat,sep,lon))\n\n# function to compute a point at some distance in some direction\ndef pointFrom(lat1, lon1, azimuth, distance):\n    b = math.degrees(distance / earthRadius)\n    a = arccos(cos(b)*cos(90 - lat1) + sin(90 - lat1)*sin(b)*cos(azimuth))\n    B = arcsin(sin(b)*sin(azimuth)/sin(a))\n    lat2 = 90 - a\n    lon2 = B + lon1\n\n# set initial point\np0Lat = 18.3965 # latitude in degrees \np0Lon = 74.7274 # longitude in degrees \nazimuth = 20.0 # azumuth in degrees \ndistance = 2.0 # distance in km (sane unit as earth radius)\ndeltaAzimuth = 35.0\n</code></pre>\n<p>pList = [[p0Lat,p0Lon]]</p>\n<pre><code># conpute arc from point 0 to azimuth - 35\nnbPoints = 5\ndeltaDistance = distance / nbPoints\nprint(str.format(&quot;delta distance {:.3} km&quot;,deltaDistance))\nazi = azimuth - deltaAzimuth\nfor i in range(1,nbPoints+1):\n    disti = deltaDistance * i\n    #print(&quot;disti = &quot;+str(disti))\n    piLat,piLon = pointFrom(p0Lat,p0Lon,azi,disti)\n    printLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,disti))\n    pList.append([piLat,piLon])\n\n# compute n points point at distance from azimuth - 35 to aximuth + 35\ndeltaAzPoint  = 5.0\nnbPoints = int(2.0  * deltaAzimuth / deltaAzPoint)\n\nprint(str.format(&quot;delta azimuth {:.3} deg&quot;,deltaAzPoint))\naz0 = azimuth - deltaAzimuth\nfor i in range(1,nbPoints+1):\n    azi = az0 + i*deltaAzPoint\n    #print(&quot;az : &quot;+str(azi))\n    piLat,piLon =  pointFrom(p0Lat,p0Lon,azi,distance)\nprintLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,distance))\n    pList.append([piLat,piLon])\n\n# compute points from distance to 0 (p0) for azimuth + 35\nnbPoints = 5\nprint(str.format(&quot;delta distance {:.3} km&quot;,deltaDistance))\nazi = azimuth + deltaAzimuth\nfor i in range(nbPoints-1,0,-1):\n    disti = deltaDistance * i\n    piLat,piLon = pointFrom(p0Lat,p0Lon,azi,disti)\n    printLatLon(piLat,piLon,prefix=str.format(&quot;{:.3} {:.3} : &quot;,azi,disti))\n    pList.append([piLat,piLon])\n\n# return to origin\npList.append([p0Lat,p0Lon])\n\n# print result\nfor latLon in pList:\n    printLatLon(latLon[0],latLon[1])\n</code></pre>\n"}],"owner":{"account_id":19019362,"reputation":148,"user_id":13883723,"display_name":"Smith"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69337664,"answer_count":1,"score":-3,"last_activity_date":1632679993,"creation_date":1632556912,"question_id":69324242,"body_markdown":"Suppose I have three four columns like item,item_latitude,item_longitude and azimuth.\r\n\r\nI am trying to create a rectangle for each lat and long in the azimuth direction for +/-35 degree and 2 Kilometer.\r\n\r\nExample . There is a azimuth of site x is 45 degree so +35 and -35 degree to 45 degree would be\r\n15 degree and 80 degree and distance would be 2 KM\r\n\r\ni am trying to get all polygon for that area.I have used jts.util.GeometricShapeFactory  Library but it always create a circle like below .I have used scala with jts.util.GeometricShapeFactory Library. \r\n\r\n\r\n    def generatePolygoan(lat:String,long:String,diameterINKM:Double):Option[String] = {\r\n        val latitude = lat.toDouble\r\n        val longitude = long.toDouble\r\n        val diameterInMeters = diameterINKM * 1000\r\n        val shapeFactory = new GeometricShapeFactory()\r\n        //shapeFactory.setNumPoints(64) // adjustable\r\n        shapeFactory.setCentre(new Coordinate(latitude, longitude))\r\n        // Length in meters of 1&#176; of latitude = always 111.32 km\r\n        shapeFactory.setWidth(diameterInMeters / 111320d)\r\n        // Length in meters of 1&#176; of longitude = 40075 km * cos( latitude ) / 360\r\n        shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360))\r\n        val circle = shapeFactory.createCircle()\r\n        Some(circle.toString)\r\n      }\r\n\r\nThe above code create the circle around the lat and long, but i need to create the rectangle in the direction of azimuth only +/- 35 degree.\r\n\r\nPlease help me i am new in Geometry. The code may be in any programming like JAVA/SCALA/PHP/PYTHON/MYSQL/POSTGRES/MONGODB or even mathematics pseudo code\r\n\r\n \r\n\r\n","title":"How to create a rectangle for azimuth direction for n kilimeter","body":"<p>Suppose I have three four columns like item,item_latitude,item_longitude and azimuth.</p>\n<p>I am trying to create a rectangle for each lat and long in the azimuth direction for +/-35 degree and 2 Kilometer.</p>\n<p>Example . There is a azimuth of site x is 45 degree so +35 and -35 degree to 45 degree would be\n15 degree and 80 degree and distance would be 2 KM</p>\n<p>i am trying to get all polygon for that area.I have used jts.util.GeometricShapeFactory  Library but it always create a circle like below .I have used scala with jts.util.GeometricShapeFactory Library.</p>\n<pre><code>def generatePolygoan(lat:String,long:String,diameterINKM:Double):Option[String] = {\n    val latitude = lat.toDouble\n    val longitude = long.toDouble\n    val diameterInMeters = diameterINKM * 1000\n    val shapeFactory = new GeometricShapeFactory()\n    //shapeFactory.setNumPoints(64) // adjustable\n    shapeFactory.setCentre(new Coordinate(latitude, longitude))\n    // Length in meters of 1Â° of latitude = always 111.32 km\n    shapeFactory.setWidth(diameterInMeters / 111320d)\n    // Length in meters of 1Â° of longitude = 40075 km * cos( latitude ) / 360\n    shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360))\n    val circle = shapeFactory.createCircle()\n    Some(circle.toString)\n  }\n</code></pre>\n<p>The above code create the circle around the lat and long, but i need to create the rectangle in the direction of azimuth only +/- 35 degree.</p>\n<p>Please help me i am new in Geometry. The code may be in any programming like JAVA/SCALA/PHP/PYTHON/MYSQL/POSTGRES/MONGODB or even mathematics pseudo code</p>\n"},{"tags":["java","algorithm","time-complexity","divide-and-conquer"],"answers":[{"tags":[],"owner":{"account_id":4652336,"reputation":18522,"user_id":3768871,"accept_rate":70,"display_name":"OmG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632677724,"creation_date":1632677724,"answer_id":69337329,"question_id":69337283,"body_markdown":"The size of the input array in each branch of the code is half of the original input array into the function. Hence, if `T(n)` is the time complexity of the function, we can write:\r\n\r\n```\r\nT(n) = T(n/2) + 1\r\n```\r\n\r\n`1` shows the comparison in branches, and `T(n/2)` is for any selected branch. Hence, `T(n)` is in `O(log(n))`.","title":"what&#39;s the growth order of &quot;find a peak&quot; algorithm","body":"<p>The size of the input array in each branch of the code is half of the original input array into the function. Hence, if <code>T(n)</code> is the time complexity of the function, we can write:</p>\n<pre><code>T(n) = T(n/2) + 1\n</code></pre>\n<p><code>1</code> shows the comparison in branches, and <code>T(n/2)</code> is for any selected branch. Hence, <code>T(n)</code> is in <code>O(log(n))</code>.</p>\n"},{"tags":[],"owner":{"account_id":17749451,"reputation":193,"user_id":12887981,"display_name":"Ravindu Rathugama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632679960,"creation_date":1632678414,"answer_id":69337432,"question_id":69337283,"body_markdown":"It should be O(logn). For simplicity (also an easy way to think) think of this as creating a binary tree. In each function call it divide the input array into two halves (creating nodes in a binary tree). So if the number of input are `n` then the binary tree has `log(n)` levels (one level -&gt; one function call).\r\n\r\nAlso note that in one function call only one recursive call happen( either in if block or else block but not both). This might made you feel it like `o(n)` growth.   ","title":"what&#39;s the growth order of &quot;find a peak&quot; algorithm","body":"<p>It should be O(logn). For simplicity (also an easy way to think) think of this as creating a binary tree. In each function call it divide the input array into two halves (creating nodes in a binary tree). So if the number of input are <code>n</code> then the binary tree has <code>log(n)</code> levels (one level -&gt; one function call).</p>\n<p>Also note that in one function call only one recursive call happen( either in if block or else block but not both). This might made you feel it like <code>o(n)</code> growth.</p>\n"}],"owner":{"account_id":15379126,"reputation":1,"user_id":11095027,"display_name":"sith69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69337432,"answer_count":2,"score":-1,"last_activity_date":1632679960,"creation_date":1632677411,"question_id":69337283,"body_markdown":" hello i need to apply an algorithm similar to this but the problem is that i need the complexity to be O(logn). the complexity of the code below is said to be O(logn) but from what i understand a recursive method has the growth order of O(n). so the question is what is the growth order of the code below.\r\n\r\n \r\n\r\n      public static int findPeak(int[] array, int start, int end) {\r\n            int index = start + (end - start) / 2;\r\n        \r\n            if (index - 1 &gt;= 0 &amp;&amp; array[index] &lt; array[index - 1]) {\r\n                return findPeak(array, start, index - 1);\r\n            } else if (index + 1 &lt;= array.length - 1 &amp;&amp; array[index] &lt; array[index + 1]) {\r\n                return findPeak(array, index + 1, end);\r\n            } else {\r\n                return array[index];\r\n            }\r\n        }\r\n\r\n","title":"what&#39;s the growth order of &quot;find a peak&quot; algorithm","body":"<p>hello i need to apply an algorithm similar to this but the problem is that i need the complexity to be O(logn). the complexity of the code below is said to be O(logn) but from what i understand a recursive method has the growth order of O(n). so the question is what is the growth order of the code below.</p>\n<pre><code>  public static int findPeak(int[] array, int start, int end) {\n        int index = start + (end - start) / 2;\n    \n        if (index - 1 &gt;= 0 &amp;&amp; array[index] &lt; array[index - 1]) {\n            return findPeak(array, start, index - 1);\n        } else if (index + 1 &lt;= array.length - 1 &amp;&amp; array[index] &lt; array[index + 1]) {\n            return findPeak(array, index + 1, end);\n        } else {\n            return array[index];\n        }\n    }\n</code></pre>\n"},{"tags":["java","netbeans","ant","heroku-cli"],"comments":[{"owner":{"account_id":2036169,"reputation":1553,"user_id":1818469,"accept_rate":50,"display_name":"Steve"},"score":2,"creation_date":1632728488,"post_id":69337640,"comment_id":122561341,"body_markdown":"I&#39;m not familiar with Heroku, but just as a note: code (including error messages) should be inserted as text and formatted accordingly. If you make the effort, your post will be more searchable - unlike a screenshot.","body":"I&#39;m not familiar with Heroku, but just as a note: code (including error messages) should be inserted as text and formatted accordingly. If you make the effort, your post will be more searchable - unlike a screenshot."},{"owner":{"account_id":6386919,"reputation":8069,"user_id":5737950,"display_name":"nima"},"score":0,"creation_date":1632735061,"post_id":69337640,"comment_id":122564068,"body_markdown":"Welcome to StackOverflow! Please avoid uploading code as an image. \nhttps://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question  . Good luck &#128578;","body":"Welcome to StackOverflow! Please avoid uploading code as an image.  <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>  . Good luck ðŸ™‚"}],"owner":{"account_id":22866444,"reputation":1,"user_id":17010138,"display_name":"Kp4ws"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632679833,"creation_date":1632679833,"question_id":69337640,"body_markdown":"I&#39;m trying to deploy my Java Ant web application (built in NetBeans IDE) to Heroku and I keep getting this error code: [Error Code][1]\r\n\r\nI&#39;ve deployed an application previously to Heroku and I had no problem with it back then. But I cannot get it to work now. Can someone please help? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blIbU.png","title":"Heroku CLI unhandled error event at events.js:291 when deploying Java Web Application","body":"<p>I'm trying to deploy my Java Ant web application (built in NetBeans IDE) to Heroku and I keep getting this error code: <a href=\"https://i.stack.imgur.com/blIbU.png\" rel=\"nofollow noreferrer\">Error Code</a></p>\n<p>I've deployed an application previously to Heroku and I had no problem with it back then. But I cannot get it to work now. Can someone please help?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632680536,"post_id":69337619,"comment_id":122552515,"body_markdown":"Is there any special reason to keep XML configuration? You should be able to do whatever um have in XML with JavaConfig counterparts. Still, check if this helps â€”&gt; https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50","body":"Is there any special reason to keep XML configuration? You should be able to do whatever um have in XML with JavaConfig counterparts. Still, check if this helps â€”&gt; <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1632682576,"post_id":69337619,"comment_id":122552942,"body_markdown":"did you make sure the context configuration did not get lost and you are calling the right url?","body":"did you make sure the context configuration did not get lost and you are calling the right url?"},{"owner":{"account_id":22828003,"reputation":1,"user_id":16976975,"display_name":"DDas"},"score":0,"creation_date":1632691080,"post_id":69337619,"comment_id":122554721,"body_markdown":"@wemu - Could you please elaborate, I didn&#39;t understand what makes you think the context configuration is lost? There are no changes made, it was an existing application","body":"@wemu - Could you please elaborate, I didn&#39;t understand what makes you think the context configuration is lost? There are no changes made, it was an existing application"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1632726023,"post_id":69337619,"comment_id":122560516,"body_markdown":"just a wild guess. 404 could mean the restcontrollers are not picked up or you are calling a url that does not exist. often in that case the context is not what one thinks it is. I would start the boot app in debug logging mode, as all the context information and controllers that are picked up are logged.","body":"just a wild guess. 404 could mean the restcontrollers are not picked up or you are calling a url that does not exist. often in that case the context is not what one thinks it is. I would start the boot app in debug logging mode, as all the context information and controllers that are picked up are logged."}],"owner":{"account_id":22828003,"reputation":1,"user_id":16976975,"display_name":"DDas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632679716,"creation_date":1632679716,"question_id":69337619,"body_markdown":"My team member trying to convert Spring MVC 4 to Spring MVC 5. Now what is happening is it is throwing 404 error with exception logging as &quot;*No mapping found for GET request*&quot;. I saw on a few of the forums to use **@EnableWebMvc** in the Java Configuration class and declare a **&lt;mvc:annotation-driven /&gt;** member in XML.\r\nThe 404 is not fixed yet we will try those options. \r\n\r\nAppreciate it if you can let me know if there is anything more to be changed. It is a Spring MVC application with XML configuration. I was wondering do we have any step-by-step best approach which can be followed for migrating Spring MVC 4 to Spring MVC 5. I was more curious to validate all checkpoints.\r\n\r\nThanks\r\n","title":"Converting Spring MVC 4 to Spring MVC 5","body":"<p>My team member trying to convert Spring MVC 4 to Spring MVC 5. Now what is happening is it is throwing 404 error with exception logging as &quot;<em>No mapping found for GET request</em>&quot;. I saw on a few of the forums to use <strong>@EnableWebMvc</strong> in the Java Configuration class and declare a <strong>&lt;mvc:annotation-driven /&gt;</strong> member in XML.\nThe 404 is not fixed yet we will try those options.</p>\n<p>Appreciate it if you can let me know if there is anything more to be changed. It is a Spring MVC application with XML configuration. I was wondering do we have any step-by-step best approach which can be followed for migrating Spring MVC 4 to Spring MVC 5. I was more curious to validate all checkpoints.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1632668409,"post_id":69336064,"comment_id":122549606,"body_markdown":"You cannot start an activity from the background on modern versions of Android.","body":"You cannot start an activity from the background on modern versions of Android."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1632669092,"post_id":69336064,"comment_id":122549769,"body_markdown":"https://developer.android.com/guide/components/activities/background-starts","body":"<a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7538388,"reputation":1412,"user_id":5723943,"display_name":"Rediska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632679704,"creation_date":1632679704,"answer_id":69337615,"question_id":69336064,"body_markdown":"First of all, apps that have never been started in some way do not receive system broadcasts. So you need some activity of your app to start before you receive ACTION_BOOT_COMPLETED.\r\nSecond, as noted in the comments, it is no longer allowed to start an activity from a receiver unless some conditions are met. The preferred way to do it is to show a notification with a pending intent for the activity you need to start. This approach will be less intrusive for the user.","title":"How to start an app on boot completed in android?","body":"<p>First of all, apps that have never been started in some way do not receive system broadcasts. So you need some activity of your app to start before you receive ACTION_BOOT_COMPLETED.\nSecond, as noted in the comments, it is no longer allowed to start an activity from a receiver unless some conditions are met. The preferred way to do it is to show a notification with a pending intent for the activity you need to start. This approach will be less intrusive for the user.</p>\n"}],"owner":{"account_id":21361852,"reputation":505,"user_id":15730315,"display_name":"Bekzhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632679704,"creation_date":1632667873,"question_id":69336064,"body_markdown":"I have tried every solution on the internet. But none of them worked for me. Could you check where I am doing wrong? \r\nMaybe it no longer works in higher Api.\r\nHere is my broadcastReceiver class : \r\n```\r\npublic class ReceiverToStartAnApp extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(final Context context, Intent intent) {\r\n        Toast.makeText(context, &quot;Home Task 3 Version &quot;, Toast.LENGTH_LONG).show();\r\n        Intent myIntent = new Intent(context, CameraRecorderActivity.class);\r\n        myIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.startActivity(myIntent);\r\n    }\r\n}\r\n```\r\nHere is my manifest file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.hometaskversion3&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.HomeTaskVersion3&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.CameraRecorderActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;service android:name=&quot;.service.RecorderService&quot; /&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.receiver.ReceiverToStartAnApp&quot;\r\n            android:directBootAware=&quot;true&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;1000&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n","title":"How to start an app on boot completed in android?","body":"<p>I have tried every solution on the internet. But none of them worked for me. Could you check where I am doing wrong?\nMaybe it no longer works in higher Api.\nHere is my broadcastReceiver class :</p>\n<pre><code>public class ReceiverToStartAnApp extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(final Context context, Intent intent) {\n        Toast.makeText(context, &quot;Home Task 3 Version &quot;, Toast.LENGTH_LONG).show();\n        Intent myIntent = new Intent(context, CameraRecorderActivity.class);\n        myIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(myIntent);\n    }\n}\n</code></pre>\n<p>Here is my manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.hometaskversion3&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.HomeTaskVersion3&quot;&gt;\n        &lt;activity\n            android:name=&quot;.ui.CameraRecorderActivity&quot;\n            android:launchMode=&quot;singleTask&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;service android:name=&quot;.service.RecorderService&quot; /&gt;\n        &lt;receiver\n            android:name=&quot;.receiver.ReceiverToStartAnApp&quot;\n            android:directBootAware=&quot;true&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter android:priority=&quot;1000&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":["java","string","spring-boot","get"],"answers":[{"tags":[],"owner":{"display_name":"user17003756"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632672064,"creation_date":1632672064,"answer_id":69336617,"question_id":69336242,"body_markdown":"Your problem is most likely caused by using the default scope, which is singleton, when creating your Spring components.\r\n\r\nSpring provides the following scopes for creating beans\r\n([source](https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#beans-factory-scopes)):\r\n\r\n&gt; - singleton (default):  Scopes a single bean definition to a single object instance for each Spring IoC container\r\n&gt; - prototype: Scopes a single bean definition to any number of object instances.\r\n&gt; - request: Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance\r\n&gt; of a bean created off the back of a single bean definition. Only valid\r\n&gt; in the context of a web-aware Spring ApplicationContext.\r\n&gt; - session: Scopes a single bean definition to the lifecycle of an HTTP Session. Only valid in the context of a web-aware Spring\r\n&gt; ApplicationContext.\r\n&gt; - application: Scopes a single bean definition to the lifecycle of a ServletContext. Only valid in the context of a web-aware Spring\r\n&gt; ApplicationContext.\r\n&gt; - websocket: \t Scopes a single bean definition to the lifecycle of a WebSocket. Only valid in the context of a web-aware Spring\r\n&gt; ApplicationContext.\r\n\r\nIf we don&#39;t specify any scope explicitly, the default singleton scope is used. This means that the service/component is shared between multiple injections, hence it is reused for multiple `GET` requests.\r\n\r\nIn order to get rid of this behavior, we might use something like request scope, although in this case we have to take care of thread-safety as well. \r\n\r\nOther solution is to not use member variables and try to use local variables for things such as `GET_SETS`.","title":"string being in previous state even after triggering a new request java","body":"<p>Your problem is most likely caused by using the default scope, which is singleton, when creating your Spring components.</p>\n<p>Spring provides the following scopes for creating beans\n(<a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/core.html#beans-factory-scopes\" rel=\"nofollow noreferrer\">source</a>):</p>\n<blockquote>\n<ul>\n<li>singleton (default):  Scopes a single bean definition to a single object instance for each Spring IoC container</li>\n<li>prototype: Scopes a single bean definition to any number of object instances.</li>\n<li>request: Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance\nof a bean created off the back of a single bean definition. Only valid\nin the context of a web-aware Spring ApplicationContext.</li>\n<li>session: Scopes a single bean definition to the lifecycle of an HTTP Session. Only valid in the context of a web-aware Spring\nApplicationContext.</li>\n<li>application: Scopes a single bean definition to the lifecycle of a ServletContext. Only valid in the context of a web-aware Spring\nApplicationContext.</li>\n<li>websocket:   Scopes a single bean definition to the lifecycle of a WebSocket. Only valid in the context of a web-aware Spring\nApplicationContext.</li>\n</ul>\n</blockquote>\n<p>If we don't specify any scope explicitly, the default singleton scope is used. This means that the service/component is shared between multiple injections, hence it is reused for multiple <code>GET</code> requests.</p>\n<p>In order to get rid of this behavior, we might use something like request scope, although in this case we have to take care of thread-safety as well.</p>\n<p>Other solution is to not use member variables and try to use local variables for things such as <code>GET_SETS</code>.</p>\n"}],"owner":{"account_id":18963822,"reputation":538,"user_id":16134191,"display_name":"rudeTool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632679669,"creation_date":1632669148,"question_id":69336242,"body_markdown":"I am working on a spring boot api where I have used a query string and doing some replace operations on it on every get request but even after I trigger a new request the string is in the same state as that of previous `GET` call and the query gets messed up.\r\n\r\nHere&#39;s my code:\r\n\r\n     private static String GET_SETS = &quot;Select * from table #check#&quot;;\r\n\r\nNow I have 1 method in the same repository which gets called on a get request:\r\n\r\n    public PagedList getSets(Map params) {\r\n        if (!StringCheck.isEmpty(flattenMap.get(&quot;entity_name&quot;))) {\r\n            GET_SETS = GET_CODE_SETS.replace(&quot;#check#&quot;, &quot; WHERE e.#entity_name# = ?&quot;);\r\n            values.add((String)flattenMap.get(&quot;entity_name&quot;));\r\n        } else {\r\n            GET_SETS = GET_SETS.replace(&quot;#check# #status_check#&quot;, &quot;&quot;);\r\n        }\r\n    }\r\n\r\nNow whenever a `GET` request is triggered,some changes are done to `GET_SETS` string according to map values,and again in the next requests the same changes are there.\r\n\r\nHow to solve this? I want the query string to be whats defined at the start on every request. Thanks","title":"string being in previous state even after triggering a new request java","body":"<p>I am working on a spring boot api where I have used a query string and doing some replace operations on it on every get request but even after I trigger a new request the string is in the same state as that of previous <code>GET</code> call and the query gets messed up.</p>\n<p>Here's my code:</p>\n<pre><code> private static String GET_SETS = &quot;Select * from table #check#&quot;;\n</code></pre>\n<p>Now I have 1 method in the same repository which gets called on a get request:</p>\n<pre><code>public PagedList getSets(Map params) {\n    if (!StringCheck.isEmpty(flattenMap.get(&quot;entity_name&quot;))) {\n        GET_SETS = GET_CODE_SETS.replace(&quot;#check#&quot;, &quot; WHERE e.#entity_name# = ?&quot;);\n        values.add((String)flattenMap.get(&quot;entity_name&quot;));\n    } else {\n        GET_SETS = GET_SETS.replace(&quot;#check# #status_check#&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n<p>Now whenever a <code>GET</code> request is triggered,some changes are done to <code>GET_SETS</code> string according to map values,and again in the next requests the same changes are there.</p>\n<p>How to solve this? I want the query string to be whats defined at the start on every request. Thanks</p>\n"},{"tags":["java","hibernate","jpa","hashcode"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1632679277,"post_id":69337537,"comment_id":122552201,"body_markdown":"`List.contains` uses `equals`, not `hashCode`.","body":"<code>List.contains</code> uses <code>equals</code>, not <code>hashCode</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632679919,"post_id":69337537,"comment_id":122552380,"body_markdown":"How should it not be possible? Breaking a contract *may* lead to false results but does not *guarantee* false results.","body":"How should it not be possible? Breaking a contract <i>may</i> lead to false results but does not <i>guarantee</i> false results."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632680282,"post_id":69337537,"comment_id":122552460,"body_markdown":"Did I get the question? At the time of `reviews.contains(r)` I take your comments to mean that `r` has ID 1 and `reviews` contains a review from the database, presumably with ID 1. And now youâ€™re asking how `contains()` can return `true`, is that it?","body":"Did I get the question? At the time of <code>reviews.contains(r)</code> I take your comments to mean that <code>r</code> has ID 1 and <code>reviews</code> contains a review from the database, presumably with ID 1. And now youâ€™re asking how <code>contains()</code> can return <code>true</code>, is that it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632680352,"post_id":69337537,"comment_id":122552481,"body_markdown":"Also where is the broken hash code contract? I donâ€™t see any.","body":"Also where is the broken hash code contract? I donâ€™t see any."},{"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1632751956,"post_id":69337537,"comment_id":122571119,"body_markdown":"@OleV.V. the `id` property, before statement `em.persist(r);` is `null`. After `persist` this will assign a value to that `id` (`1` , because it is the first, but that doesn&#39;t metter). So here -&gt; the state has changed. The id changed from null to 1. The contract of object consistency (which the `hashCode() and Equals()` requires) has been broken.","body":"@OleV.V. the <code>id</code> property, before statement <code>em.persist(r);</code> is <code>null</code>. After <code>persist</code> this will assign a value to that <code>id</code> (<code>1</code> , because it is the first, but that doesn&#39;t metter). So here -&gt; the state has changed. The id changed from null to 1. The contract of object consistency (which the <code>hashCode() and Equals()</code> requires) has been broken."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632766681,"post_id":69337537,"comment_id":122576987,"body_markdown":"Which contract are you referring to? I canâ€™t remember that in my 23 years of Java programming I have read that an object must not change state in a way that changes the return values from `hashCode()` and `equals()`.","body":"Which contract are you referring to? I canâ€™t remember that in my 23 years of Java programming I have read that an object must not change state in a way that changes the return values from <code>hashCode()</code> and <code>equals()</code>."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632679387,"creation_date":1632679387,"answer_id":69337569,"question_id":69337537,"body_markdown":"According to the Javadoc of [`List.contains`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#contains-java.lang.Object-):\r\n\r\n&gt; returns true if and only if this list contains at least one element e such that `(o==null ? e==null : o.equals(e))`.\r\n\r\nSo, it doesn&#39;t matter if `hashCode` is inconsistent with `equals`.\r\n\r\nGranted, `Set.contains` has the same in its documentation, and there it does matter that `hashCode` is implemented consistently.\r\n\r\nThe difference arises in how the two are implemented: a `HashSet` uses the `hashCode` to work out &quot;where to look&quot; for the element, and thus may not find an element with an inconsistent hash code; a `List` such as an `ArrayList` will just linearly probe over all elements to find it, without bothering to check the hash code first.","title":"List.contains() returns true for object that violated hashCode contract","body":"<p>According to the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#contains-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>List.contains</code></a>:</p>\n<blockquote>\n<p>returns true if and only if this list contains at least one element e such that <code>(o==null ? e==null : o.equals(e))</code>.</p>\n</blockquote>\n<p>So, it doesn't matter if <code>hashCode</code> is inconsistent with <code>equals</code>.</p>\n<p>Granted, <code>Set.contains</code> has the same in its documentation, and there it does matter that <code>hashCode</code> is implemented consistently.</p>\n<p>The difference arises in how the two are implemented: a <code>HashSet</code> uses the <code>hashCode</code> to work out &quot;where to look&quot; for the element, and thus may not find an element with an inconsistent hash code; a <code>List</code> such as an <code>ArrayList</code> will just linearly probe over all elements to find it, without bothering to check the hash code first.</p>\n"}],"owner":{"account_id":18876645,"reputation":2071,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69337569,"answer_count":1,"score":-1,"last_activity_date":1632679387,"creation_date":1632679186,"question_id":69337537,"body_markdown":"Having these entities:\r\n\r\n*Review.java*:\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    public class Review {\r\n        @Id @GeneratedValue\r\n        private Long id;\r\n        private String comment;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;fk_book&quot;)\r\n        private Book book;\r\n    \r\n        public Review() {\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Review review = (Review) o;\r\n            return Objects.equals(id, review.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    }\r\n\r\n\r\n*Book.java*:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Book {\r\n        @Id @GeneratedValue\r\n        private Long id;\r\n        private String title;\r\n        @OneToMany(mappedBy = &quot;book&quot;)\r\n        private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\r\n    \r\n        public Book() {\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Book book = (Book) o;\r\n            return Objects.equals(id, book.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    }\r\n\r\nand finally *Main.java*:\r\n\r\n    public class Main {\r\n        private static EntityManagerFactory getEmf(){\r\n            return Persistence.createEntityManagerFactory(&quot;h0&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EntityManager em = getEmf().createEntityManager();\r\n            em.getTransaction().begin();\r\n    \r\n            Book b = em.find(Book.class, 1);\r\n    \r\n            Review r = new Review();\r\n            r.setComment(&quot;This is a comment&quot;);\r\n            r.setBook(b);\r\n\r\n            //Object STATE 1\r\n            //before the `r` is added, its r.getId() == `null`\r\n            b.getReviews().add(r);\r\n    \r\n            //Object STATE 2\r\n            //contract violation: now its r.getId() == `1`\r\n            em.persist(r);\r\n    \r\n            em.getTransaction().commit();\r\n            em.close();\r\n    \r\n            em = getEmf().createEntityManager();\r\n            em.getTransaction().begin();\r\n    \r\n            b = em.find(Book.class, 1);\r\n    \r\n            List&lt;Review&gt; reviews = b.getReviews();\r\n            System.out.println(reviews.get(0).getBook().getTitle());\r\n\r\n            //Object with STATE 2\r\n            //yet the contains() method returns true even with changed id\r\n            System.out.println(reviews.contains(r));\r\n    \r\n            em.getTransaction().commit();\r\n            em.close();\r\n        }\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    Some Book\r\n    true\r\n\r\nHow is it possible that `contains()` method of class `List` returns true when the state of its object (the Review `r`, which is using its `id` in hashCode calculation used for reading/writing into that collection) has changed? And thus the violation of the hashCode contract has occured?","title":"List.contains() returns true for object that violated hashCode contract","body":"<p>Having these entities:</p>\n<p><em>Review.java</em>:</p>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class Review {\n    @Id @GeneratedValue\n    private Long id;\n    private String comment;\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_book&quot;)\n    private Book book;\n\n    public Review() {\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Review review = (Review) o;\n        return Objects.equals(id, review.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n</code></pre>\n<p><em>Book.java</em>:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Book {\n    @Id @GeneratedValue\n    private Long id;\n    private String title;\n    @OneToMany(mappedBy = &quot;book&quot;)\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\n\n    public Book() {\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Book book = (Book) o;\n        return Objects.equals(id, book.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n</code></pre>\n<p>and finally <em>Main.java</em>:</p>\n<pre><code>public class Main {\n    private static EntityManagerFactory getEmf(){\n        return Persistence.createEntityManagerFactory(&quot;h0&quot;);\n    }\n\n    public static void main(String[] args) {\n        EntityManager em = getEmf().createEntityManager();\n        em.getTransaction().begin();\n\n        Book b = em.find(Book.class, 1);\n\n        Review r = new Review();\n        r.setComment(&quot;This is a comment&quot;);\n        r.setBook(b);\n\n        //Object STATE 1\n        //before the `r` is added, its r.getId() == `null`\n        b.getReviews().add(r);\n\n        //Object STATE 2\n        //contract violation: now its r.getId() == `1`\n        em.persist(r);\n\n        em.getTransaction().commit();\n        em.close();\n\n        em = getEmf().createEntityManager();\n        em.getTransaction().begin();\n\n        b = em.find(Book.class, 1);\n\n        List&lt;Review&gt; reviews = b.getReviews();\n        System.out.println(reviews.get(0).getBook().getTitle());\n\n        //Object with STATE 2\n        //yet the contains() method returns true even with changed id\n        System.out.println(reviews.contains(r));\n\n        em.getTransaction().commit();\n        em.close();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Some Book\ntrue\n</code></pre>\n<p>How is it possible that <code>contains()</code> method of class <code>List</code> returns true when the state of its object (the Review <code>r</code>, which is using its <code>id</code> in hashCode calculation used for reading/writing into that collection) has changed? And thus the violation of the hashCode contract has occured?</p>\n"},{"tags":["java","android","android-studio","android-notifications","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":7538388,"reputation":1412,"user_id":5723943,"display_name":"Rediska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632679016,"creation_date":1632679016,"answer_id":69337515,"question_id":69337409,"body_markdown":"This happens because your notifications have the same id.\r\nWhen you call `NotificationManagerCompat.notify(id,notification)`,\r\nuse a different id for different notifications.","title":"Adding new notification without deleting the old notification for my app in android studio","body":"<p>This happens because your notifications have the same id.\nWhen you call <code>NotificationManagerCompat.notify(id,notification)</code>,\nuse a different id for different notifications.</p>\n"},{"tags":[],"owner":{"account_id":22670121,"reputation":42,"user_id":16841989,"display_name":"Aabhas Amol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632679232,"creation_date":1632679232,"answer_id":69337543,"question_id":69337409,"body_markdown":"I&#39;m assuming, each notification replaces the previous one rather than generating its&#39; own id. Fix that and you&#39;ll be on your way.","title":"Adding new notification without deleting the old notification for my app in android studio","body":"<p>I'm assuming, each notification replaces the previous one rather than generating its' own id. Fix that and you'll be on your way.</p>\n"}],"owner":{"account_id":22866136,"reputation":436,"user_id":17009742,"display_name":"Daniel Jebarson K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69337543,"answer_count":2,"score":0,"last_activity_date":1632679232,"creation_date":1632678254,"question_id":69337409,"body_markdown":"I am creating a TODO list app which accepts Notification time and date. Whenever i add a new scheduled notification my old notification get cancelled and the notification which i entered last alone works. \r\nFor example:\r\nif i set a notification on 1,2,3 minute respectively i only get the final notification that is only one notification after 3 minutes.\r\nCan someone explain how to clear this problem. If someone can pls share the code of broadcast and  the defining and calling part of notification","title":"Adding new notification without deleting the old notification for my app in android studio","body":"<p>I am creating a TODO list app which accepts Notification time and date. Whenever i add a new scheduled notification my old notification get cancelled and the notification which i entered last alone works.\nFor example:\nif i set a notification on 1,2,3 minute respectively i only get the final notification that is only one notification after 3 minutes.\nCan someone explain how to clear this problem. If someone can pls share the code of broadcast and  the defining and calling part of notification</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":7194584,"reputation":1487,"user_id":5493813,"accept_rate":91,"display_name":"st.huber"},"score":0,"creation_date":1633338151,"post_id":69333876,"comment_id":122723527,"body_markdown":"Welcome to stackoverflow. Did you take [the tour](https://stackoverflow.com/tour) and read [how to ask a good question](https://stackoverflow.com/help/how-to-ask)?","body":"Welcome to stackoverflow. Did you take <a href=\"https://stackoverflow.com/tour\">the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>?"}],"answers":[{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632651630,"creation_date":1632651630,"answer_id":69333930,"question_id":69333876,"body_markdown":"You&#39;re trying to access `child view` without inflating it or that child view does not exist.\r\n set adapter to recycler view\r\n\r\n    recyclerView.adapter=adapter","title":"Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.removeViewAt(int)&#39; on a null object reference","body":"<p>You're trying to access <code>child view</code> without inflating it or that child view does not exist.\nset adapter to recycler view</p>\n<pre><code>recyclerView.adapter=adapter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16384867,"reputation":249,"user_id":11835023,"display_name":"shrimpcolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632678862,"creation_date":1632653520,"answer_id":69334179,"question_id":69333876,"body_markdown":"    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void \r\n    androidx.recyclerview.widget.RecyclerView.removeViewAt (int)&#39; on a null \r\n    object reference\r\n\r\nIt means that the property of `recyclerView` isn&#39;t initiated before you use it. Regards this, you need to check the code more carefully.","title":"Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.removeViewAt(int)&#39; on a null object reference","body":"<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void \nandroidx.recyclerview.widget.RecyclerView.removeViewAt (int)' on a null \nobject reference\n</code></pre>\n<p>It means that the property of <code>recyclerView</code> isn't initiated before you use it. Regards this, you need to check the code more carefully.</p>\n"}],"owner":{"account_id":22847499,"reputation":11,"user_id":17007234,"display_name":"andrey1004"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1632678862,"creation_date":1632651157,"question_id":69333876,"body_markdown":"**Error:**\r\n\r\n```\r\n     java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.removeViewAt (int)&#39; on a null object reference\r\n     W / System.err: at com.arvicapps.geomitric_wallpapers.FavoriteFullImageActivity $ 5.onFavoriteChanged (FavoriteFullImageActivity.java:533)\r\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.updateFavoriteButton (MaterialFavoriteButton.java:324)\r\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.setFavorite (MaterialFavoriteButton.java:257)\r\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.toggleFavorite (MaterialFavoriteButton.java:292)\r\n     W / System.err: at com.github.ivbaranov.mfb.MaterialFavoriteButton $ 1.onClick (MaterialFavoriteButton.java:152)\r\n             at android.view.View.performClick (View.java:6659)\r\n             at android.view.View.performClickInternal (View.java:6631)\r\n             at android.view.View.access $ 3100 (View.java:790)\r\n             at android.view.View $ PerformClick.run (View.java:26187)\r\n             at android.os.Handler.handleCallback (Handler.java:907)\r\n```\r\n **Here are parts of the code from FavoriteFullImageActivity.java:**\r\n```\r\n@Override protected void onCreate (Bundle savedInstanceState) {super.onCreate (savedInstanceState);  setContentView (R.layout.activity_favorite_full_image);  getSupportActionBar (). hide ();  RecyclerView recyclerView = findViewById (R.id.FavoriteCategoryView);  }\r\n```\r\n```\r\n try {\r\n  recyclerView.removeViewAt (position);  recyclerView.notifyAll ();\r\n myDbHelper.closeDb ();\r\n myDbHelper.close ();\r\n myDbHelper.notifyAll ();\r\n } catch (NullPointerException nullPointerException) {nullPointerException.printStackTrace ();\r\n  }\r\n```\r\n\r\n **How to solve?**","title":"Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.removeViewAt(int)&#39; on a null object reference","body":"<p><strong>Error:</strong></p>\n<pre><code>     java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.removeViewAt (int)' on a null object reference\n     W / System.err: at com.arvicapps.geomitric_wallpapers.FavoriteFullImageActivity $ 5.onFavoriteChanged (FavoriteFullImageActivity.java:533)\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.updateFavoriteButton (MaterialFavoriteButton.java:324)\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.setFavorite (MaterialFavoriteButton.java:257)\n             at com.github.ivbaranov.mfb.MaterialFavoriteButton.toggleFavorite (MaterialFavoriteButton.java:292)\n     W / System.err: at com.github.ivbaranov.mfb.MaterialFavoriteButton $ 1.onClick (MaterialFavoriteButton.java:152)\n             at android.view.View.performClick (View.java:6659)\n             at android.view.View.performClickInternal (View.java:6631)\n             at android.view.View.access $ 3100 (View.java:790)\n             at android.view.View $ PerformClick.run (View.java:26187)\n             at android.os.Handler.handleCallback (Handler.java:907)\n</code></pre>\n<p><strong>Here are parts of the code from FavoriteFullImageActivity.java:</strong></p>\n<pre><code>@Override protected void onCreate (Bundle savedInstanceState) {super.onCreate (savedInstanceState);  setContentView (R.layout.activity_favorite_full_image);  getSupportActionBar (). hide ();  RecyclerView recyclerView = findViewById (R.id.FavoriteCategoryView);  }\n</code></pre>\n<pre><code> try {\n  recyclerView.removeViewAt (position);  recyclerView.notifyAll ();\n myDbHelper.closeDb ();\n myDbHelper.close ();\n myDbHelper.notifyAll ();\n } catch (NullPointerException nullPointerException) {nullPointerException.printStackTrace ();\n  }\n</code></pre>\n<p><strong>How to solve?</strong></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1360182145,"creation_date":1360182145,"answer_id":14738078,"question_id":14737996,"body_markdown":"Here is your answer :\r\n\r\n    File dir = getFilesDir();\r\n    File file = new File(dir, &quot;my_filename&quot;);\r\n    boolean deleted = file.delete();","title":"android deleting a file from internal storage","body":"<p>Here is your answer :</p>\n\n<pre><code>File dir = getFilesDir();\nFile file = new File(dir, \"my_filename\");\nboolean deleted = file.delete();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112485,"reputation":11802,"user_id":296677,"accept_rate":97,"display_name":"Terrance"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360182160,"creation_date":1360182160,"answer_id":14738086,"question_id":14737996,"body_markdown":"You can try getting the instance pointing to the file and deleting it like in \r\n&lt;a href=&quot;https://stackoverflow.com/questions/5486529/android-delete-file-from-internal-storage&quot;&gt;this answer&lt;/a&gt;\r\nor &lt;a href=&quot;https://stackoverflow.com/questions/5486529/android-delete-file-from-internal-storage&quot;&gt;this one&lt;/a&gt;","title":"android deleting a file from internal storage","body":"<p>You can try getting the instance pointing to the file and deleting it like in \n<a href=\"https://stackoverflow.com/questions/5486529/android-delete-file-from-internal-storage\">this answer</a>\nor <a href=\"https://stackoverflow.com/questions/5486529/android-delete-file-from-internal-storage\">this one</a></p>\n"}],"owner":{"account_id":2302300,"reputation":1324,"user_id":2022349,"accept_rate":78,"display_name":"Malfunction"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33843,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":14738078,"answer_count":2,"score":22,"last_activity_date":1632678677,"creation_date":1360181903,"question_id":14737996,"body_markdown":"I have created a file stored on internal storage from an activity. How can I delete this file from another activity? \r\n\r\nI&#39;m thinking I&#39;ll have to get the file&#39;s directory (which I&#39;m not sure how to) and delete it. I tried using \r\n\r\n    context.deleteFile(); \r\n\r\nbut it won&#39;t work because I&#39;m trying to call it from a non-static method.","title":"android deleting a file from internal storage","body":"<p>I have created a file stored on internal storage from an activity. How can I delete this file from another activity? </p>\n\n<p>I'm thinking I'll have to get the file's directory (which I'm not sure how to) and delete it. I tried using </p>\n\n<pre><code>context.deleteFile(); \n</code></pre>\n\n<p>but it won't work because I'm trying to call it from a non-static method.</p>\n"},{"tags":["java","methods","types"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1632678487,"post_id":69337425,"comment_id":122552002,"body_markdown":"you have to override toString() method","body":"you have to override toString() method"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632680543,"post_id":69337425,"comment_id":122552520,"body_markdown":"What did your search turn up? Did it seem to lead some of the way? What are you still missing?","body":"What did your search turn up? Did it seem to lead some of the way? What are you still missing?"},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1632747159,"post_id":69337425,"comment_id":122568897,"body_markdown":"Iâ€™m voting to close this question because it is a homework assignment","body":"Iâ€™m voting to close this question because it is a homework assignment"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632781588,"post_id":69337425,"comment_id":122581573,"body_markdown":"@flup Please donâ€™t. Homework questions are welcome on Stack Overflow. [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"@flup Please donâ€™t. Homework questions are welcome on Stack Overflow. <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1632815176,"post_id":69337425,"comment_id":122588151,"body_markdown":"@OleV.V. if you read the recommendations in that meta post, this question does not meet them","body":"@OleV.V. if you read the recommendations in that meta post, this question does not meet them"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632845569,"post_id":69337425,"comment_id":122601778,"body_markdown":"@flup Agree, it does not. To help this new user learn how to use Stack Overflow we could close the question because it doesnâ€™t show search and research effort or because it is not specific enough (needs focus). Closing because itâ€™s a homework question would be misleading and guide the user in the wrong direction.","body":"@flup Agree, it does not. To help this new user learn how to use Stack Overflow we could close the question because it doesnâ€™t show search and research effort or because it is not specific enough (needs focus). Closing because itâ€™s a homework question would be misleading and guide the user in the wrong direction."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632678656,"creation_date":1632678656,"answer_id":69337458,"question_id":69337425,"body_markdown":"You have do declare a constructor without any parameters and override toString method:\r\n\r\n    public class Students{\r\n    \t\tprivate String Name;\r\n    \t\tprivate int Grade;\r\n    \t\tprivate double CGPA;\r\n    \t\tpublic Students(String Name, int Grade, double CGPA){\r\n    \t\t\tthis.Name = Name;\r\n    \t\t\tthis.Grade = Grade;\r\n    \t\t\tthis.CGPA = CGPA;\r\n    \t\t}\r\n    \t\tpublic Students(){ // empty constructor\r\n    \t\t}\r\n    \t\tpublic String getName(){\r\n    \t\t\treturn Name;\r\n    \t\t}\r\n    \t\tpublic void setName(String Name){\r\n    \t\t\tthis.Name = Name;\r\n    \t\t}\r\n    \t\tpublic int getGrade(){\r\n    \t\t\treturn Grade;\r\n    \t\t}\r\n    \t\tpublic void setGrade(int Grade){\r\n    \t\t\tthis.Grade = Grade;\r\n    \t\t}\r\n    \t\tpublic double getCGPA(){\r\n    \t\t\treturn CGPA;\r\n    \t\t}\r\n    \t\tpublic void setCGPA(double CGPA){\r\n    \t\t\tthis.CGPA = CGPA;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Students{&quot; +\r\n    \t\t\t\t\t&quot;Name=&#39;&quot; + Name + &#39;\\&#39;&#39; +\r\n    \t\t\t\t\t&quot;, Grade=&quot; + Grade +\r\n    \t\t\t\t\t&quot;, CGPA=&quot; + CGPA +\r\n    \t\t\t\t\t&#39;}&#39;;\r\n    \t\t} // toString() for printing your three fields\r\n    \t}","title":"define constructors in java","body":"<p>You have do declare a constructor without any parameters and override toString method:</p>\n<pre><code>public class Students{\n        private String Name;\n        private int Grade;\n        private double CGPA;\n        public Students(String Name, int Grade, double CGPA){\n            this.Name = Name;\n            this.Grade = Grade;\n            this.CGPA = CGPA;\n        }\n        public Students(){ // empty constructor\n        }\n        public String getName(){\n            return Name;\n        }\n        public void setName(String Name){\n            this.Name = Name;\n        }\n        public int getGrade(){\n            return Grade;\n        }\n        public void setGrade(int Grade){\n            this.Grade = Grade;\n        }\n        public double getCGPA(){\n            return CGPA;\n        }\n        public void setCGPA(double CGPA){\n            this.CGPA = CGPA;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Students{&quot; +\n                    &quot;Name='&quot; + Name + '\\'' +\n                    &quot;, Grade=&quot; + Grade +\n                    &quot;, CGPA=&quot; + CGPA +\n                    '}';\n        } // toString() for printing your three fields\n    }\n</code></pre>\n"}],"owner":{"account_id":22813789,"reputation":45,"user_id":16964694,"display_name":"adnanadel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69337458,"answer_count":1,"score":1,"last_activity_date":1632678656,"creation_date":1632678373,"question_id":69337425,"body_markdown":"I am working on a java code to create a class Students and I should define two constructors and one has to be with parameters and one without parameters I have already done the one with parameters but I am having a problem understanding how to do the one without parameters This is what I have to do: \r\n**setStudent()that takes three parameters: a string name, an integer grade, and a double cgpa value. \r\nIt stores these parameters into the three member variables of the class.\r\n getNamethat returns the value stored in the member variable name.\r\n getGradethat returns the value stored in the member variable grade.\r\n getCGPAthat returns the value stored in the member variable cgpa.\r\n printStudent that displays the values of the three member variables.**\r\nI have done most but I do not know what to do with the last thing printStudent.\r\n\r\n    My class :\r\n    \r\n        public class Students{\r\n           private String Name;\r\n           private int Grade;\r\n           private double CGPA;\r\n           public Students(String Name, int Grade, double CGPA){\r\n              this.Name = Name;\r\n              this.Grade = Grade;\r\n              this.CGPA = CGPA;\r\n           }\r\n           public String getName(){\r\n              return Name;\r\n           }\r\n           public void setName(String Name){\r\n              this.Name = Name;\r\n           }\r\n           public int getGrade(){\r\n              return Grade;\r\n           }\r\n           public void setGrade(int Grade){\r\n              this.Grade = Grade;\r\n           }\r\n           public double getCGPA(){\r\n              return CGPA;\r\n           }\r\n           public void setCGPA(double CGPA){\r\n              this.CGPA = CGPA;\r\n           }\r\n        }\r\n    \r\n    and that is my main :\r\n    \r\n        public class LAB4EX1{\r\n           public static void main(String [] args){\r\n              Students student1 = new Students(&quot;Nasser&quot;, 90, 3.4);\r\n              Students student2 = new Students(&quot;Adnan&quot;, 92, 3.72);\r\n              Students student3 = new Students(&quot;Mohammed&quot;, 91, 3.5);\r\n           }\r\n        }\r\n\r\nI need to make it print the output for me.\r\nAny help would be really appreciated.\r\n","title":"define constructors in java","body":"<p>I am working on a java code to create a class Students and I should define two constructors and one has to be with parameters and one without parameters I have already done the one with parameters but I am having a problem understanding how to do the one without parameters This is what I have to do:\n<strong>setStudent()that takes three parameters: a string name, an integer grade, and a double cgpa value.\nIt stores these parameters into the three member variables of the class.\ngetNamethat returns the value stored in the member variable name.\ngetGradethat returns the value stored in the member variable grade.\ngetCGPAthat returns the value stored in the member variable cgpa.\nprintStudent that displays the values of the three member variables.</strong>\nI have done most but I do not know what to do with the last thing printStudent.</p>\n<pre><code>My class :\n\n    public class Students{\n       private String Name;\n       private int Grade;\n       private double CGPA;\n       public Students(String Name, int Grade, double CGPA){\n          this.Name = Name;\n          this.Grade = Grade;\n          this.CGPA = CGPA;\n       }\n       public String getName(){\n          return Name;\n       }\n       public void setName(String Name){\n          this.Name = Name;\n       }\n       public int getGrade(){\n          return Grade;\n       }\n       public void setGrade(int Grade){\n          this.Grade = Grade;\n       }\n       public double getCGPA(){\n          return CGPA;\n       }\n       public void setCGPA(double CGPA){\n          this.CGPA = CGPA;\n       }\n    }\n\nand that is my main :\n\n    public class LAB4EX1{\n       public static void main(String [] args){\n          Students student1 = new Students(&quot;Nasser&quot;, 90, 3.4);\n          Students student2 = new Students(&quot;Adnan&quot;, 92, 3.72);\n          Students student3 = new Students(&quot;Mohammed&quot;, 91, 3.5);\n       }\n    }\n</code></pre>\n<p>I need to make it print the output for me.\nAny help would be really appreciated.</p>\n"},{"tags":["java","hibernate","jpa","recursion"],"answers":[{"tags":[],"owner":{"account_id":17678227,"reputation":29,"user_id":12832787,"display_name":"K Shashank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632677092,"creation_date":1632677092,"answer_id":69337253,"question_id":69335059,"body_markdown":"Are u returning **Entity** from controller?\r\n\r\nIf u are doing so please change that, add DTO&#39;s and send DTO from controller.","title":"JPA one-to-one recursive mapping","body":"<p>Are u returning <strong>Entity</strong> from controller?</p>\n<p>If u are doing so please change that, add DTO's and send DTO from controller.</p>\n"}],"owner":{"account_id":9285458,"reputation":121,"user_id":6895485,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632678298,"creation_date":1632660370,"question_id":69335059,"body_markdown":"I know there&#39;s a bunch of documentation around this but I&#39;m still a bit confused. I have the following:\r\n```java\r\n@Entity\r\npublic class ParentEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @JsonManagedReference\r\n    private ChildEntity child;\r\n}\r\n\r\n@Entity\r\npublic class ChildEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToOne(mappedBy = &quot;child&quot;)\r\n    @JsonBackReference\r\n    private ParentEntity parent;\r\n}\r\n```\r\n\r\nSo the response I get is fine: \r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;ric&quot;,\r\n    &quot;child&quot;: {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Soph&quot;\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I enter debug I&#39;m seeing recursive behaviour.. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vLS94l.png\r\n\r\n**Why is there recursive behaviour in the entity models themselves? Is this a performance issue? Also, am I doing something wrong here?**","title":"JPA one-to-one recursive mapping","body":"<p>I know there's a bunch of documentation around this but I'm still a bit confused. I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class ParentEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    private String name;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonManagedReference\n    private ChildEntity child;\n}\n\n@Entity\npublic class ChildEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    private String name;\n\n    @OneToOne(mappedBy = &quot;child&quot;)\n    @JsonBackReference\n    private ParentEntity parent;\n}\n</code></pre>\n<p>So the response I get is fine:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;ric&quot;,\n    &quot;child&quot;: {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Soph&quot;\n    }\n}\n</code></pre>\n<p>However, when I enter debug I'm seeing recursive behaviour..</p>\n<p><a href=\"https://i.stack.imgur.com/vLS94l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLS94l.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Why is there recursive behaviour in the entity models themselves? Is this a performance issue? Also, am I doing something wrong here?</strong></p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":2,"creation_date":1632678733,"post_id":69337376,"comment_id":122552061,"body_markdown":"In a normal gradle setup, parent projects won&#39;t have any source code (so you won&#39;t apply the java plugin to parent projects). Instead, a parent project should just be a logical grouping of child projects (it might apply &quot;common&quot; build logic to it&#39;s children). In your example, ProjectA and ProjectB should be siblings, not parent/child","body":"In a normal gradle setup, parent projects won&#39;t have any source code (so you won&#39;t apply the java plugin to parent projects). Instead, a parent project should just be a logical grouping of child projects (it might apply &quot;common&quot; build logic to it&#39;s children). In your example, ProjectA and ProjectB should be siblings, not parent/child"}],"owner":{"account_id":22446186,"reputation":21,"user_id":16650076,"display_name":"M Kumail Raza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632678054,"creation_date":1632678054,"question_id":69337376,"body_markdown":"ProjectA is parent and where ProjecB is subproject or child in hierarchy.\r\n\r\nProjectA\r\n\r\n&gt; setting.gralde (include &quot;ProjectB&quot;)\r\n\r\nNow ProjectB need to instantiate a class of ProjectA. But no success.\r\n\r\nI tried in build.gradle of ProjectB \r\n\r\n&gt; implementation project(&quot;:ProjectA&quot;)\r\n\r\n\r\n\r\n  ","title":"in gradle how to include parent project in subproject?","body":"<p>ProjectA is parent and where ProjecB is subproject or child in hierarchy.</p>\n<p>ProjectA</p>\n<blockquote>\n<p>setting.gralde (include &quot;ProjectB&quot;)</p>\n</blockquote>\n<p>Now ProjectB need to instantiate a class of ProjectA. But no success.</p>\n<p>I tried in build.gradle of ProjectB</p>\n<blockquote>\n<p>implementation project(&quot;:ProjectA&quot;)</p>\n</blockquote>\n"},{"tags":["java","android","slide"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632637718,"creation_date":1632637718,"answer_id":69332381,"question_id":69332332,"body_markdown":"I can&#39;t see any of Glide related code in your code showed there.\r\n\r\nAt least in my app, I use `clearDiskCache` method to clear Glide&#39;s disk cache.\r\n\r\n    Glide.get(context).clearDiskCache();","title":"Clear glide image cache Android Studio","body":"<p>I can't see any of Glide related code in your code showed there.</p>\n<p>At least in my app, I use <code>clearDiskCache</code> method to clear Glide's disk cache.</p>\n<pre><code>Glide.get(context).clearDiskCache();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632638400,"creation_date":1632638400,"answer_id":69332440,"question_id":69332332,"body_markdown":"For clearing glide&#39;s disk cache, there is a `clearDiskCache()` method which will clear out all the cached items in the disk cache. \r\n\r\nIt must be called on a background thread.\r\n\r\n       Glide.get(context).clearDiskCache();\r\n\r\n\r\nFor clearing glide&#39;s memory cache, there is a `clearMemory()` method which will clear out all the cached items from the memory.\r\n\r\nIt must be called on the main thread.\r\n\r\n    Glide.get(context).clearMemory();\r\n\r\n\r\nGlide recommends not using `clearMemory()` very often.\r\n\r\n&gt; Clearing all memory isnâ€™t particularly efficient and should be avoided whenever possible to avoid jank and increased loading times.","title":"Clear glide image cache Android Studio","body":"<p>For clearing glide's disk cache, there is a <code>clearDiskCache()</code> method which will clear out all the cached items in the disk cache.</p>\n<p>It must be called on a background thread.</p>\n<pre><code>   Glide.get(context).clearDiskCache();\n</code></pre>\n<p>For clearing glide's memory cache, there is a <code>clearMemory()</code> method which will clear out all the cached items from the memory.</p>\n<p>It must be called on the main thread.</p>\n<pre><code>Glide.get(context).clearMemory();\n</code></pre>\n<p>Glide recommends not using <code>clearMemory()</code> very often.</p>\n<blockquote>\n<p>Clearing all memory isnâ€™t particularly efficient and should be avoided whenever possible to avoid jank and increased loading times.</p>\n</blockquote>\n"}],"owner":{"account_id":22862176,"reputation":1,"user_id":17006059,"display_name":"Carlos Vanegas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632678053,"creation_date":1632637119,"question_id":69332332,"body_markdown":"Please help me to know if there is any way to clear the image cache of this slider object, I have to update the image every day, using the same link, but the `glide` is caching the image, \r\n\r\nI&#39;ve used `glide` with an `imageView` earlier and `glide` does have a cache clean method but with this object, I&#39;m not able to use it. thanks in advance.\r\n  \r\n\r\n    package com.xperiaplayy1.LoteriaPanamaEnVivo;\r\n        \r\n        import android.os.Bundle;\r\n        import android.widget.ImageView;\r\n        \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        \r\n        import com.bumptech.glide.Glide;\r\n        import com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n        import com.bumptech.glide.request.RequestOptions;\r\n        import com.denzcoskun.imageslider.ImageSlider;\r\n        import com.denzcoskun.imageslider.models.SlideModel;\r\n        \r\n        import java.io.File;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        \r\n        \r\n        \r\n        public class Slider extends AppCompatActivity {\r\n        \r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_image_slider);\r\n                ImageSlider imageSlider = findViewById(R.id.slider);\r\n                List&lt;SlideModel&gt;slideModels = new ArrayList&lt;&gt;();\r\n                slideModels.add(new SlideModel(&quot;https://www.codeproject.com/KB/testing/1002904/Test-URL-Redirects-HttpWebRequest.jpg&quot;,&quot;Piramide 1&quot;));\r\n                slideModels.add(new SlideModel(&quot;https://shortpixel.com/img/robot_lookleft_wink_big.png&quot;,&quot;Piramide 2&quot;));\r\n                slideModels.add(new SlideModel(&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png&quot;,&quot;Piramide 3&quot;));\r\n                slideModels.add(new SlideModel(&quot;https://static.remove.bg/remove-bg-web/8fb1a6ef22fefc0b0866661b4c9b922515be4ae9/assets/start_remove-c851bdf8d3127a24e2d137a55b1b427378cd17385b01aec6e59d5d4b5f39d2ec.png&quot;,&quot;Piramide 4&quot;));\r\n                slideModels.add(new SlideModel(&quot;https://media.istockphoto.com/photos/colored-powder-explosion-abstract-closeup-dust-on-backdrop-colorful-picture-id1072093690?k=20&amp;m=1072093690&amp;s=612x612&amp;w=0&amp;h=Ns3WeEm1VrIHhZOmhiGY_fYKvIlbJrVADLqfxyPQVPM=&quot;,&quot;Piramide 5&quot;));\r\n                imageSlider.setImageList(slideModels,true);\r\n        \r\n            }\r\n        \r\n        }\r\n\r\n\r\n","title":"Clear glide image cache Android Studio","body":"<p>Please help me to know if there is any way to clear the image cache of this slider object, I have to update the image every day, using the same link, but the <code>glide</code> is caching the image,</p>\n<p>I've used <code>glide</code> with an <code>imageView</code> earlier and <code>glide</code> does have a cache clean method but with this object, I'm not able to use it. thanks in advance.</p>\n<pre><code>package com.xperiaplayy1.LoteriaPanamaEnVivo;\n    \n    import android.os.Bundle;\n    import android.widget.ImageView;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.recyclerview.widget.RecyclerView;\n    \n    import com.bumptech.glide.Glide;\n    import com.bumptech.glide.load.engine.DiskCacheStrategy;\n    import com.bumptech.glide.request.RequestOptions;\n    import com.denzcoskun.imageslider.ImageSlider;\n    import com.denzcoskun.imageslider.models.SlideModel;\n    \n    import java.io.File;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    \n    \n    \n    public class Slider extends AppCompatActivity {\n    \n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_image_slider);\n            ImageSlider imageSlider = findViewById(R.id.slider);\n            List&lt;SlideModel&gt;slideModels = new ArrayList&lt;&gt;();\n            slideModels.add(new SlideModel(&quot;https://www.codeproject.com/KB/testing/1002904/Test-URL-Redirects-HttpWebRequest.jpg&quot;,&quot;Piramide 1&quot;));\n            slideModels.add(new SlideModel(&quot;https://shortpixel.com/img/robot_lookleft_wink_big.png&quot;,&quot;Piramide 2&quot;));\n            slideModels.add(new SlideModel(&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png&quot;,&quot;Piramide 3&quot;));\n            slideModels.add(new SlideModel(&quot;https://static.remove.bg/remove-bg-web/8fb1a6ef22fefc0b0866661b4c9b922515be4ae9/assets/start_remove-c851bdf8d3127a24e2d137a55b1b427378cd17385b01aec6e59d5d4b5f39d2ec.png&quot;,&quot;Piramide 4&quot;));\n            slideModels.add(new SlideModel(&quot;https://media.istockphoto.com/photos/colored-powder-explosion-abstract-closeup-dust-on-backdrop-colorful-picture-id1072093690?k=20&amp;m=1072093690&amp;s=612x612&amp;w=0&amp;h=Ns3WeEm1VrIHhZOmhiGY_fYKvIlbJrVADLqfxyPQVPM=&quot;,&quot;Piramide 5&quot;));\n            imageSlider.setImageList(slideModels,true);\n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632677601,"creation_date":1632677601,"answer_id":69337306,"question_id":69337293,"body_markdown":"Try casting : \r\n\r\n    Integer postId = (Integer) groupsPostId.get(1);\r\n\r\n","title":"get integer from dictionary, incompatible types","body":"<p>Try casting :</p>\n<pre><code>Integer postId = (Integer) groupsPostId.get(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632678007,"creation_date":1632678007,"answer_id":69337365,"question_id":69337293,"body_markdown":"You should replace the synchronized class &quot;Hashtable&quot; with an unsynchronized one such as &quot;HashMap&quot;. Nobody doesn&#39;t use Hashtable since java 1.5 I think.\r\nAlso, your snippet doesn&#39;t make any problem when I put its in my IDE","title":"get integer from dictionary, incompatible types","body":"<p>You should replace the synchronized class &quot;Hashtable&quot; with an unsynchronized one such as &quot;HashMap&quot;. Nobody doesn't use Hashtable since java 1.5 I think.\nAlso, your snippet doesn't make any problem when I put its in my IDE</p>\n"}],"owner":{"account_id":22143004,"reputation":59,"user_id":16392757,"display_name":"andtompoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69337306,"answer_count":2,"score":-1,"last_activity_date":1632678007,"creation_date":1632677525,"question_id":69337293,"body_markdown":"How do I get integer from the dictionary? Thanks for help !\r\n\r\n```\r\nHashtable&lt;Integer, Integer&gt; groupsPostId = new Hashtable&lt;Integer, Integer&gt;();\r\ngroupsPostId.put(1, 100);\r\n\r\nInteger postId = groupsPostId.get(1);\r\n\r\nError: error: incompatible types: Object cannot be converted to Integer\r\n```","title":"get integer from dictionary, incompatible types","body":"<p>How do I get integer from the dictionary? Thanks for help !</p>\n<pre><code>Hashtable&lt;Integer, Integer&gt; groupsPostId = new Hashtable&lt;Integer, Integer&gt;();\ngroupsPostId.put(1, 100);\n\nInteger postId = groupsPostId.get(1);\n\nError: error: incompatible types: Object cannot be converted to Integer\n</code></pre>\n"},{"tags":["java","linux","sublimetext3"],"comments":[{"owner":{"account_id":431024,"reputation":21718,"user_id":814803,"display_name":"OdatNurd"},"score":0,"creation_date":1632404267,"post_id":69286279,"comment_id":122487180,"body_markdown":"The question you want to be asking is &quot;How do I make javac generate files to a specific folder&quot;; there&#39;s nothing magic about what Sublime does when it executes a build, it just runs what you tell it. It&#39;s up to you to craft a command that does what you want.","body":"The question you want to be asking is &quot;How do I make javac generate files to a specific folder&quot;; there&#39;s nothing magic about what Sublime does when it executes a build, it just runs what you tell it. It&#39;s up to you to craft a command that does what you want."},{"owner":{"display_name":"user13592496"},"score":0,"creation_date":1632430526,"post_id":69286279,"comment_id":122497774,"body_markdown":"I see. Well, how do I do that?","body":"I see. Well, how do I do that?"}],"answers":[{"tags":[],"owner":{"display_name":"user13592496"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632677798,"creation_date":1632677798,"answer_id":69337335,"question_id":69286279,"body_markdown":"Ok, so I managed to figure out how to extract it to a single sub-dir but not to sub-dirs in sub-dirs:\r\n```\r\n    &quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;.:../../.././dir:../dir:../../dir\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot; \\&quot;$file_name\\&quot; &quot;],\r\n    &quot;shell&quot;: &quot;true&quot;,\r\n    &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,   \r\n    &quot;selector&quot;: &quot;source.java&quot;, \r\n    &quot;variants&quot;:\r\n    [\r\n      {\r\n        &quot;name&quot;: &quot;Run&quot;,\r\n        &quot;cmd&quot;: [&quot;java -cp .:../../.././dir:../dir:../../dir $file_base_name &quot;],\r\n        &quot;shell&quot;: &quot;true&quot;\r\n      }\r\n    ]\r\n  }  \r\n```","title":"How can I make Sublime compile files to a specific directory?","body":"<p>Ok, so I managed to figure out how to extract it to a single sub-dir but not to sub-dirs in sub-dirs:</p>\n<pre><code>    &quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;.:../../.././dir:../dir:../../dir\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot; \\&quot;$file_name\\&quot; &quot;],\n    &quot;shell&quot;: &quot;true&quot;,\n    &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,   \n    &quot;selector&quot;: &quot;source.java&quot;, \n    &quot;variants&quot;:\n    [\n      {\n        &quot;name&quot;: &quot;Run&quot;,\n        &quot;cmd&quot;: [&quot;java -cp .:../../.././dir:../dir:../../dir $file_base_name &quot;],\n        &quot;shell&quot;: &quot;true&quot;\n      }\n    ]\n  }  \n</code></pre>\n"}],"owner":{"display_name":"user13592496"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69337335,"answer_count":1,"score":0,"last_activity_date":1632677798,"creation_date":1632321109,"question_id":69286279,"body_markdown":"My teacher has given us a script he&#39;s written himself for us to use to compile Java. I have organized the folders a specific way (different from our teacher&#39;s) because I like my own way of organising things.\r\n\r\nMy folder structure:\r\n```\r\nprg/\r\nâ”œâ”€ EasyGraphics.java\r\nâ”œâ”€ class/\r\nâ”‚  â”œâ”€ lab/\r\nâ”‚     â”œâ”€ lesson/\r\nâ”‚        â”œâ”€ GraphicsLesson.java\r\nâ”œâ”€ libraries/\r\n   â”œâ”€ eg/\r\n```\r\nThe script he gave us:\r\n```\r\n  {\r\n    &quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;.:..\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot; \\&quot;$file_name\\&quot; &quot;],   \r\n    &quot;shell&quot;: &quot;true&quot;,\r\n    &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,   \r\n    &quot;selector&quot;: &quot;source.java&quot;, \r\n    &quot;variants&quot;:\r\n    [\r\n      {\r\n        &quot;name&quot;: &quot;Run&quot;,\r\n        &quot;cmd&quot;: [&quot;java \\&quot;-cp\\&quot; \\&quot;.:..\\&quot; \\&quot;$file_base_name\\&quot; &quot;],\r\n        &quot;shell&quot;: &quot;true&quot;\r\n      }\r\n    ]\r\n  }  \r\n```\r\nThe script gave me trouble for when I put EasyGraphics in a different folder, so I edited it to this:\r\n```\r\n&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\r\n```\r\n```\r\n&quot;cmd&quot;: [&quot;java \\&quot;-cp\\&quot; \\&quot;./../../../.\\&quot; \\&quot;$file_base_name\\&quot; &quot;]\r\n```\r\nWhen I compile `GraphicsLesson.java` it creates a large amount of files in the `prg` dir but I&#39;d like to have them created in `/libraries/eg` - how can I achieve this?\r\n\r\nSo far I&#39;ve tried:\r\n```\r\n&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.:libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\r\n```\r\n```\r\n&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.:/libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\r\n```\r\n```\r\n&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.\\/libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\r\n```\r\nAnd more, but nothing seems to work.\r\n\r\nAny help is greatly appreciated. Thanks.","title":"How can I make Sublime compile files to a specific directory?","body":"<p>My teacher has given us a script he's written himself for us to use to compile Java. I have organized the folders a specific way (different from our teacher's) because I like my own way of organising things.</p>\n<p>My folder structure:</p>\n<pre><code>prg/\nâ”œâ”€ EasyGraphics.java\nâ”œâ”€ class/\nâ”‚  â”œâ”€ lab/\nâ”‚     â”œâ”€ lesson/\nâ”‚        â”œâ”€ GraphicsLesson.java\nâ”œâ”€ libraries/\n   â”œâ”€ eg/\n</code></pre>\n<p>The script he gave us:</p>\n<pre><code>  {\n    &quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;.:..\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot; \\&quot;$file_name\\&quot; &quot;],   \n    &quot;shell&quot;: &quot;true&quot;,\n    &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,   \n    &quot;selector&quot;: &quot;source.java&quot;, \n    &quot;variants&quot;:\n    [\n      {\n        &quot;name&quot;: &quot;Run&quot;,\n        &quot;cmd&quot;: [&quot;java \\&quot;-cp\\&quot; \\&quot;.:..\\&quot; \\&quot;$file_base_name\\&quot; &quot;],\n        &quot;shell&quot;: &quot;true&quot;\n      }\n    ]\n  }  \n</code></pre>\n<p>The script gave me trouble for when I put EasyGraphics in a different folder, so I edited it to this:</p>\n<pre><code>&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\n</code></pre>\n<pre><code>&quot;cmd&quot;: [&quot;java \\&quot;-cp\\&quot; \\&quot;./../../../.\\&quot; \\&quot;$file_base_name\\&quot; &quot;]\n</code></pre>\n<p>When I compile <code>GraphicsLesson.java</code> it creates a large amount of files in the <code>prg</code> dir but I'd like to have them created in <code>/libraries/eg</code> - how can I achieve this?</p>\n<p>So far I've tried:</p>\n<pre><code>&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.:libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\n</code></pre>\n<pre><code>&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.:/libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\n</code></pre>\n<pre><code>&quot;cmd&quot;: [&quot;javac \\&quot;-Xlint:none\\&quot; \\&quot;-cp\\&quot; \\&quot;./../../../.\\/libraries/eg\\&quot; \\&quot;-encoding\\&quot; \\&quot;utf8\\&quot;\n</code></pre>\n<p>And more, but nothing seems to work.</p>\n<p>Any help is greatly appreciated. Thanks.</p>\n"},{"tags":["java","cryptography","digital-signature","smartcard","javacard"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1632733308,"post_id":69337265,"comment_id":122563315,"body_markdown":"If you can access the source code, you can since scalar multiplication includes the point addition...","body":"If you can access the source code, you can since scalar multiplication includes the point addition..."},{"owner":{"account_id":4122618,"reputation":2617,"user_id":3382542,"accept_rate":75,"display_name":"Paul Bastian"},"score":0,"creation_date":1632736286,"post_id":69337265,"comment_id":122564589,"body_markdown":"Nxp has a proprietary lib for this on some jcop cards","body":"Nxp has a proprietary lib for this on some jcop cards"},{"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"score":0,"creation_date":1632750705,"post_id":69337265,"comment_id":122570503,"body_markdown":"Yeah but I don&#39;t have access to the source code...","body":"Yeah but I don&#39;t have access to the source code..."}],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632677186,"creation_date":1632677186,"question_id":69337265,"body_markdown":"For Java Card 3.0.5, are there any methods/workarounds to add two discrete points together? For example, for scalar multiplication the method I found is `ALG_EC_SVDP_DH_PLAIN_XY`. Is there something like this for discrete point addition? I&#39;m aware of `ALG_EC_PACE_GM` which does `sG + H`. But that isn&#39;t really discrete point addition since I would need to know some `s` for which `sG` would result in the point I need. \r\n\r\nThe reason I&#39;m asking is because I want to make a Schnorr signature implementation (since it doesn&#39;t exist for Java Card natively) and for that I would need EC point addition.\r\n\r\n**OR ALTERNATIVELY**, if anyone has any links to existing opensource implementations of the Schnorr signature for Java Card, I&#39;d love that also.\r\n\r\nI am aware of JCMathLib, but its rather heavy.","title":"Elliptic point addition on Java Cards?","body":"<p>For Java Card 3.0.5, are there any methods/workarounds to add two discrete points together? For example, for scalar multiplication the method I found is <code>ALG_EC_SVDP_DH_PLAIN_XY</code>. Is there something like this for discrete point addition? I'm aware of <code>ALG_EC_PACE_GM</code> which does <code>sG + H</code>. But that isn't really discrete point addition since I would need to know some <code>s</code> for which <code>sG</code> would result in the point I need.</p>\n<p>The reason I'm asking is because I want to make a Schnorr signature implementation (since it doesn't exist for Java Card natively) and for that I would need EC point addition.</p>\n<p><strong>OR ALTERNATIVELY</strong>, if anyone has any links to existing opensource implementations of the Schnorr signature for Java Card, I'd love that also.</p>\n<p>I am aware of JCMathLib, but its rather heavy.</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":9151411,"reputation":517,"user_id":6805866,"display_name":"NikolaS"},"score":0,"creation_date":1698220471,"post_id":8847377,"comment_id":136375999,"body_markdown":"Are these methods located in the same class?","body":"Are these methods located in the same class?"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1326446301,"creation_date":1326443235,"answer_id":8847746,"question_id":8847377,"body_markdown":"Looks like some kind of dead lock, two transactions, the outer (from `A`) and the inner (from `B`) have a lock/try to lock the same resource.","title":"Propagation.REQUIRES_NEW causing LockWaitTimeOutException","body":"<p>Looks like some kind of dead lock, two transactions, the outer (from <code>A</code>) and the inner (from <code>B</code>) have a lock/try to lock the same resource.</p>\n"},{"tags":[],"owner":{"account_id":13808968,"reputation":417,"user_id":9967174,"display_name":"Ayoub Anbara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632677019,"creation_date":1632675745,"answer_id":69337101,"question_id":8847377,"body_markdown":"I had the same problem and this was my solution:&lt;br&gt;\r\nSince I didn&#39;t care to execute method `B()` immediately, I used annotation `@Async` from org.springframework.scheduling.annotation with function `B()` to make it executed in a separate thread.&lt;br&gt;\r\nPS: I hadn&#39;t `value=Constants.READ_WRITE _REQUEST` in my code","title":"Propagation.REQUIRES_NEW causing LockWaitTimeOutException","body":"<p>I had the same problem and this was my solution:<br>\nSince I didn't care to execute method <code>B()</code> immediately, I used annotation <code>@Async</code> from org.springframework.scheduling.annotation with function <code>B()</code> to make it executed in a separate thread.<br>\nPS: I hadn't <code>value=Constants.READ_WRITE _REQUEST</code> in my code</p>\n"}],"owner":{"account_id":897936,"reputation":2966,"user_id":934796,"accept_rate":71,"display_name":"instanceOfObject"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8847746,"answer_count":2,"score":5,"last_activity_date":1632677019,"creation_date":1326440653,"question_id":8847377,"body_markdown":"There are two functions A and B which are defined with Transactional annotation.\r\n\r\nI am calling B from A.\r\n\r\n    @Transactional(value=Constants.READ_WRITE_REQUEST)\r\n    public int A(....){\r\n        B();\r\n    }\r\n\r\n    @Transactional(propagation=Propagation.REQUIRES_NEW,value=Constants.READ_WRITE_REQUEST)\r\n    public int B(....){\r\n         C();        \r\n    }\r\n\r\n    @Transactional(value=Constants.READ_WRITE_REQUEST)\r\n    public int C(....){\r\n        ...\r\n    }\r\n\r\nIt was resulting into \r\n\r\n    Caused by: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction\r\n\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)\r\n\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)\r\n\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)\r\n\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)\r\n\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)\r\n\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2542)\r\n\r\n\r\nI removed the Propagation.REQUIRES_NEW from the function B and problem got resolved.\r\n\r\nIs it because old transaction was holding the lock and new one was created?\r\nAny thoughts on this?\r\n","title":"Propagation.REQUIRES_NEW causing LockWaitTimeOutException","body":"<p>There are two functions A and B which are defined with Transactional annotation.</p>\n\n<p>I am calling B from A.</p>\n\n<pre><code>@Transactional(value=Constants.READ_WRITE_REQUEST)\npublic int A(....){\n    B();\n}\n\n@Transactional(propagation=Propagation.REQUIRES_NEW,value=Constants.READ_WRITE_REQUEST)\npublic int B(....){\n     C();        \n}\n\n@Transactional(value=Constants.READ_WRITE_REQUEST)\npublic int C(....){\n    ...\n}\n</code></pre>\n\n<p>It was resulting into </p>\n\n<pre><code>Caused by: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction\n\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)\n\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)\n\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)\n\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)\n\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)\n\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2542)\n</code></pre>\n\n<p>I removed the Propagation.REQUIRES_NEW from the function B and problem got resolved.</p>\n\n<p>Is it because old transaction was holding the lock and new one was created?\nAny thoughts on this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1572806343,"post_id":58683090,"comment_id":103666169,"body_markdown":"java is to javascript what car is to carpet, please don&#39;t add irrelevant tags to your question, javascript doesnt seem to have anything to do with this particular question","body":"java is to javascript what car is to carpet, please don&#39;t add irrelevant tags to your question, javascript doesnt seem to have anything to do with this particular question"},{"owner":{"account_id":16069383,"reputation":616,"user_id":11598177,"display_name":"L2_Paver"},"score":0,"creation_date":1572831052,"post_id":58683090,"comment_id":103671239,"body_markdown":"what button that have an `android:id=&quot;@+id/playAgainButton&quot;` thats the button that trigger the error not the one you post above","body":"what button that have an <code>android:id=&quot;@+id&#47;playAgainButton&quot;</code> thats the button that trigger the error not the one you post above"},{"owner":{"account_id":16069383,"reputation":616,"user_id":11598177,"display_name":"L2_Paver"},"score":0,"creation_date":1572831252,"post_id":58683090,"comment_id":103671270,"body_markdown":"the error basically tell you that it cannot find the method `playAgain` once you click the button with an id `playAgainButton`, probably your activity class and layout is not  align with its content.","body":"the error basically tell you that it cannot find the method <code>playAgain</code> once you click the button with an id <code>playAgainButton</code>, probably your activity class and layout is not  align with its content."}],"answers":[{"tags":[],"owner":{"account_id":19927377,"reputation":11,"user_id":14601767,"display_name":"ReCodeR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604868841,"creation_date":1604862864,"answer_id":64742084,"question_id":58683090,"body_markdown":"Try to get a reference to `Button`instead of `LinearLayout`:\r\n\r\nSo, instead of:\r\n \r\n    LinearLayout layout = (LinearLayout) findViewById(R.id.playAgainLayout);\r\n    layout.setVisibility(View.INVISIBLE);\r\n\r\nTry:\r\n\r\n    Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\r\n    playAgainButton.setVisibility(View.INVISIBLE);\r\n","title":"Java android studio connect 3 game","body":"<p>Try to get a reference to <code>Button</code>instead of <code>LinearLayout</code>:</p>\n<p>So, instead of:</p>\n<pre><code>LinearLayout layout = (LinearLayout) findViewById(R.id.playAgainLayout);\nlayout.setVisibility(View.INVISIBLE);\n</code></pre>\n<p>Try:</p>\n<pre><code>Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\nplayAgainButton.setVisibility(View.INVISIBLE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22866076,"reputation":1,"user_id":17009677,"display_name":"Abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632676278,"creation_date":1632676278,"answer_id":69337164,"question_id":58683090,"body_markdown":" \r\n\r\n    \r\n\r\n \r\n    public void playAgain(View view){\r\n        Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\r\n        TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\r\n        //... Make the Button and Text View Visible .....\r\n        playAgainButton.setVisibility(View.INVISIBLE);\r\n        winnerTextView.setVisibility(View.INVISIBLE);\r\n\r\n\r\n        GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\r\n\r\n        for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\r\n            ImageView imageView = (ImageView) gridLayout.getChildAt(i);\r\n            imageView.setImageDrawable(null);\r\n        }\r\n        for (int i = 0; i &lt; gameState.length; i++) {\r\n\r\n            gameState[i] = 2;\r\n        }\r\n        activePayer = 0 ; //... 0 :  for yellow , 1 :  for Red...\r\n        //... create a variable to stop the game ........\r\n        gameActive = true;\r\n\r\n\r\n    }","title":"Java android studio connect 3 game","body":"<pre><code>public void playAgain(View view){\n    Button playAgainButton = (Button) findViewById(R.id.playAgainButton);\n    TextView winnerTextView = (TextView) findViewById(R.id.winnerTextView);\n    //... Make the Button and Text View Visible .....\n    playAgainButton.setVisibility(View.INVISIBLE);\n    winnerTextView.setVisibility(View.INVISIBLE);\n\n\n    GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\n\n    for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\n        ImageView imageView = (ImageView) gridLayout.getChildAt(i);\n        imageView.setImageDrawable(null);\n    }\n    for (int i = 0; i &lt; gameState.length; i++) {\n\n        gameState[i] = 2;\n    }\n    activePayer = 0 ; //... 0 :  for yellow , 1 :  for Red...\n    //... create a variable to stop the game ........\n    gameActive = true;\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":17025363,"reputation":11,"user_id":12316778,"display_name":"Sorin Bumba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632676278,"creation_date":1572804157,"question_id":58683090,"body_markdown":"I&#39;m trying to create a tic tac toe game, and when I&#39;m trying to play again by pressing the button, the app crashes and doesn&#39;t refresh the table. Other than that, working fine. But I can&#39;t find where I&#39;m wrong with this crash. This is the code of my button.\r\n\r\n    public void playAgain(View view) {\r\n\r\n        gameIsActive = true;\r\n\r\n        LinearLayout layout = (LinearLayout) findViewById(R.id.playAgainLayout);\r\n\r\n        layout.setVisibility(View.INVISIBLE);\r\n\r\n        activePlayer = 0;\r\n\r\n\r\n        for (int i = 0; i &lt; gameState.length; i++) {\r\n\r\n            gameState[i] = 2;\r\n        }\r\n\r\n        GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\r\n\r\n        for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\r\n\r\n            ((ImageView) gridLayout.getChildAt(i)).setImageResource(0);\r\n        }\r\n\r\n    }\r\n\r\n\r\nMy Button Attributes\r\n\r\n     &lt;Button\r\n                android:id=&quot;@+id/playAgain&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:onClick=&quot;playAgain&quot;\r\n                android:text=&quot;PlayAgain&quot; /&gt;\r\n\r\n```\r\n2019-11-03 15:43:41.534 19463-19463/com.example.connect3game E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.connect3game, PID: 19463\r\n    java.lang.IllegalStateException: Could not find method playAgain(View) in a parent or ancestor Context for android:onClick attribute defined on view class androidx.appcompat.widget.AppCompatButton with id &#39;playAgainButton&#39;\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:424)\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:381)\r\n        at android.view.View.performClick(View.java:7125)\r\n        at android.view.View.performClickInternal(View.java:7102)\r\n        at android.view.View.access$3500(View.java:801)\r\n        at android.view.View$PerformClick.run(View.java:27336)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n2019-11-03 15:43:41.556 19463-19463/com.example.connect3game I/Process: Sending signal. PID: 19463 SIG: 9\r\n\r\n```","title":"Java android studio connect 3 game","body":"<p>I'm trying to create a tic tac toe game, and when I'm trying to play again by pressing the button, the app crashes and doesn't refresh the table. Other than that, working fine. But I can't find where I'm wrong with this crash. This is the code of my button.</p>\n\n<pre><code>public void playAgain(View view) {\n\n    gameIsActive = true;\n\n    LinearLayout layout = (LinearLayout) findViewById(R.id.playAgainLayout);\n\n    layout.setVisibility(View.INVISIBLE);\n\n    activePlayer = 0;\n\n\n    for (int i = 0; i &lt; gameState.length; i++) {\n\n        gameState[i] = 2;\n    }\n\n    GridLayout gridLayout = (GridLayout) findViewById(R.id.gridLayout);\n\n    for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\n\n        ((ImageView) gridLayout.getChildAt(i)).setImageResource(0);\n    }\n\n}\n</code></pre>\n\n<p>My Button Attributes</p>\n\n<pre><code> &lt;Button\n            android:id=\"@+id/playAgain\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerHorizontal=\"true\"\n            android:onClick=\"playAgain\"\n            android:text=\"PlayAgain\" /&gt;\n</code></pre>\n\n<pre><code>2019-11-03 15:43:41.534 19463-19463/com.example.connect3game E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.connect3game, PID: 19463\n    java.lang.IllegalStateException: Could not find method playAgain(View) in a parent or ancestor Context for android:onClick attribute defined on view class androidx.appcompat.widget.AppCompatButton with id 'playAgainButton'\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:424)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:381)\n        at android.view.View.performClick(View.java:7125)\n        at android.view.View.performClickInternal(View.java:7102)\n        at android.view.View.access$3500(View.java:801)\n        at android.view.View$PerformClick.run(View.java:27336)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n2019-11-03 15:43:41.556 19463-19463/com.example.connect3game I/Process: Sending signal. PID: 19463 SIG: 9\n\n</code></pre>\n"},{"tags":["java","asynchronous","completable-future"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632676051,"post_id":69336536,"comment_id":122551441,"body_markdown":"you mean if you call `dedicatedExecutorService.shutDownNow()`? If so, this is trivial to find out?","body":"you mean if you call <code>dedicatedExecutorService.shutDownNow()</code>? If so, this is trivial to find out?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1632676573,"post_id":69336536,"comment_id":122551564,"body_markdown":"In general, `CompletableFuture` has a method `cancel`, but it does not &quot;interrupt&quot; anything (read its documentation carefully). On the other hand `shutDownNow` on an executor will interrupt the worker thread, _if_ such an interrupt is supported. So if your logic in the `doHeavyWork` supports interrupts you can call that method; but that will open new problems.","body":"In general, <code>CompletableFuture</code> has a method <code>cancel</code>, but it does not &quot;interrupt&quot; anything (read its documentation carefully). On the other hand <code>shutDownNow</code> on an executor will interrupt the worker thread, <i>if</i> such an interrupt is supported. So if your logic in the <code>doHeavyWork</code> supports interrupts you can call that method; but that will open new problems."}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632676064,"creation_date":1632676064,"answer_id":69337143,"question_id":69336536,"body_markdown":"Short answer: no. The somewhat longer answer is that there is no good way to terminate a thread in Java unless it cooperates. [Thread#stop][1] should not be used and is not available on [ExecutorService][2]. When you shutdown an executor service it can ask jobs to stop by interrupting them, but it cannot force them to stop. If `doHeavyWork` handles interrupts and stops, then it will exit gracefully or with an exception (depending on how you have designed it) and the next stage can proceed.\r\n\r\nHonestly I&#39;m not sure if the code in `thenApply` will run if the executor service has been stopped. Personally I would stop and interrupt `doHeavyWork` without stopping the pool. Then you are in full control and can keep the executor service for other tasks.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#stop()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"Complete exceptionnally a middle CompletableStage","body":"<p>Short answer: no. The somewhat longer answer is that there is no good way to terminate a thread in Java unless it cooperates. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#stop()\" rel=\"nofollow noreferrer\">Thread#stop</a> should not be used and is not available on <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a>. When you shutdown an executor service it can ask jobs to stop by interrupting them, but it cannot force them to stop. If <code>doHeavyWork</code> handles interrupts and stops, then it will exit gracefully or with an exception (depending on how you have designed it) and the next stage can proceed.</p>\n<p>Honestly I'm not sure if the code in <code>thenApply</code> will run if the executor service has been stopped. Personally I would stop and interrupt <code>doHeavyWork</code> without stopping the pool. Then you are in full control and can keep the executor service for other tasks.</p>\n"}],"owner":{"account_id":7603126,"reputation":195,"user_id":5766957,"display_name":"qnhant5010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69337143,"answer_count":1,"score":1,"last_activity_date":1632676064,"creation_date":1632671545,"question_id":69336536,"body_markdown":"I&#39;m performing some heavy work as follows:\r\n````java\r\ntry {\r\n    Input in = initInput(param);\r\n    Result re = doHeavyWork(in);\r\n    saveResultSomewhereElse(re);\r\n} catch (Exception e) {\r\n    logExecutionError(e);\r\n}\r\n````\r\nFurthermore, sometimes the `doHeavyWork` takes too long that we ought to kill it manually to save resources. Nevertheless, I&#39;d like to do `logExecutionError` in that case.\r\n\r\nTransforming the code block above into `CompletableFuture`, we might get:\r\n````java\r\nCompletableFuture.completedFuture(param)\r\n                 .thenApply(initInput)\r\n                 .thenApplyAsync(doHeavyWork, dedicatedExecutorService)\r\n                 .thenApply(saveResultSomewhereElse)\r\n                 .exceptionally(logExecutionError);\r\n````\r\nMy question is that if I terminate the `dedicatedExecutorService`, will the heavy work be really killed and the `logExecutionError` is guaranteed to execute?","title":"Complete exceptionnally a middle CompletableStage","body":"<p>I'm performing some heavy work as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Input in = initInput(param);\n    Result re = doHeavyWork(in);\n    saveResultSomewhereElse(re);\n} catch (Exception e) {\n    logExecutionError(e);\n}\n</code></pre>\n<p>Furthermore, sometimes the <code>doHeavyWork</code> takes too long that we ought to kill it manually to save resources. Nevertheless, I'd like to do <code>logExecutionError</code> in that case.</p>\n<p>Transforming the code block above into <code>CompletableFuture</code>, we might get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.completedFuture(param)\n                 .thenApply(initInput)\n                 .thenApplyAsync(doHeavyWork, dedicatedExecutorService)\n                 .thenApply(saveResultSomewhereElse)\n                 .exceptionally(logExecutionError);\n</code></pre>\n<p>My question is that if I terminate the <code>dedicatedExecutorService</code>, will the heavy work be really killed and the <code>logExecutionError</code> is guaranteed to execute?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632675775,"creation_date":1632675775,"answer_id":69337108,"question_id":69327708,"body_markdown":"One possibility could be hiding this complexity in the `User` class itself by adding an `update(UserRequest userRequest)` method. No more `User` being passed around into private methods (which could be considerer to have side effects).\r\n\r\nIf you don&#39;t want to add logic to your entity class, another possibility to make it less &quot;awkward&quot; would be to have all the `updateXXXX()` methods returning the updated `User`. Of course, this changes nothing in practical terms but it hints that the `User` was indeed updated in the method, reducing a little bit the &quot;methods with side-effect&quot; feeling.","title":"Passing an entity into private methods for updating from request DTO","body":"<p>One possibility could be hiding this complexity in the <code>User</code> class itself by adding an <code>update(UserRequest userRequest)</code> method. No more <code>User</code> being passed around into private methods (which could be considerer to have side effects).</p>\n<p>If you don't want to add logic to your entity class, another possibility to make it less &quot;awkward&quot; would be to have all the <code>updateXXXX()</code> methods returning the updated <code>User</code>. Of course, this changes nothing in practical terms but it hints that the <code>User</code> was indeed updated in the method, reducing a little bit the &quot;methods with side-effect&quot; feeling.</p>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69337108,"answer_count":1,"score":0,"last_activity_date":1632675775,"creation_date":1632584689,"question_id":69327708,"body_markdown":"My Spring Boot application implements a `Service` class which is passed a request object from a `RestController`. This service method is responsible for updating an entity.\r\n\r\nAs there are a lot of fields to be updated, I separated the updating logic into several private methods for better readability like this:\r\n\r\n```java\r\n@Transactional\r\npublic void updateUser(UserRequest userRequest) {}\r\n    final User user = userRepository.findById(userRequest.getId).orElseThrow(() -&gt; new EntityNotFoundException()));\r\n    updateUserFromRequest(user, userRequest);\r\n}\r\n\r\nprivate void updateUserFromRequest(User user, UserRequest userRequest) {\r\n    updateUserMainData(user, userRequest);    \r\n    updateUserAdditionalData(user, userRequest);\r\n}\r\n\r\nprivate void updateUserMainData(User user, UserRequest userRequest) {\r\n  user.setProperty1(userRequest.getProperty1());\r\n  user.setProperty2(userRequest.getProperty2());\r\n  user.setProperty3(userRequest.getProperty3());\r\n}\r\n\r\nprivate void updateUserAdditionalData(User user, UserRequest userRequest) {\r\n  user.setProperty4(userRequest.getProperty4());\r\n  user.setProperty5(userRequest.getProperty5());\r\n  user.setProperty6(userRequest.getProperty6());\r\n}\r\n```\r\n\r\nWhile this works just fine, it feels &quot;awkward&quot; to pass around the `User` object into private methods. Is this apporach considered &quot;good practice&quot; or are there any other patterns?","title":"Passing an entity into private methods for updating from request DTO","body":"<p>My Spring Boot application implements a <code>Service</code> class which is passed a request object from a <code>RestController</code>. This service method is responsible for updating an entity.</p>\n<p>As there are a lot of fields to be updated, I separated the updating logic into several private methods for better readability like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void updateUser(UserRequest userRequest) {}\n    final User user = userRepository.findById(userRequest.getId).orElseThrow(() -&gt; new EntityNotFoundException()));\n    updateUserFromRequest(user, userRequest);\n}\n\nprivate void updateUserFromRequest(User user, UserRequest userRequest) {\n    updateUserMainData(user, userRequest);    \n    updateUserAdditionalData(user, userRequest);\n}\n\nprivate void updateUserMainData(User user, UserRequest userRequest) {\n  user.setProperty1(userRequest.getProperty1());\n  user.setProperty2(userRequest.getProperty2());\n  user.setProperty3(userRequest.getProperty3());\n}\n\nprivate void updateUserAdditionalData(User user, UserRequest userRequest) {\n  user.setProperty4(userRequest.getProperty4());\n  user.setProperty5(userRequest.getProperty5());\n  user.setProperty6(userRequest.getProperty6());\n}\n</code></pre>\n<p>While this works just fine, it feels &quot;awkward&quot; to pass around the <code>User</code> object into private methods. Is this apporach considered &quot;good practice&quot; or are there any other patterns?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":1,"creation_date":1632604406,"post_id":69329421,"comment_id":122539326,"body_markdown":"Do yourself a huge favor and use Maven or Gradle - you will save loads of time and do not have to chase dependencies and dependencies of dependencies and dependencies of dependencies of dependencies to get your project to work...","body":"Do yourself a huge favor and use Maven or Gradle - you will save loads of time and do not have to chase dependencies and dependencies of dependencies and dependencies of dependencies of dependencies to get your project to work..."}],"answers":[{"tags":[],"owner":{"account_id":22753551,"reputation":11,"user_id":16913343,"display_name":"Roger Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632602933,"creation_date":1632602933,"answer_id":69329910,"question_id":69329421,"body_markdown":"This seems like a classic Maven Project with a `.jar` downloaded not installed via `mvn` command.\r\n\r\nIf `ClassNotFoundException` raises in runtime, its because your project can&#39;t find the library after compiled.\r\n\r\nIs this the case? If so, you must add the `.jar` via `mvn install` and declare him in your pom.xml. A better solution it&#39;s just adding the maven dependency directly:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"can&#39;t find apache poi libraries","body":"<p>This seems like a classic Maven Project with a <code>.jar</code> downloaded not installed via <code>mvn</code> command.</p>\n<p>If <code>ClassNotFoundException</code> raises in runtime, its because your project can't find the library after compiled.</p>\n<p>Is this the case? If so, you must add the <code>.jar</code> via <code>mvn install</code> and declare him in your pom.xml. A better solution it's just adding the maven dependency directly:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21734433,"reputation":181,"user_id":16042641,"display_name":"Matteo Pagliarello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632675387,"creation_date":1632598627,"question_id":69329421,"body_markdown":"i&#39;m trying for the first time the apache poi library to manage Execel files. I follow this steps to import apache poi:  https://stackoverflow.com/questions/28024502/import-apache-poi-in-intellij-for-java.\r\nThe code compile without error but when i run it give me this error messages: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\r\n\tat Test.main(Test.java:16)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 1 more\r\n\r\n \r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            try {\r\n                File file = new File(&quot;C:\\\\Users\\\\Huawei\\\\IdeaProjects\\\\untitled\\\\src\\\\TEST.xlsx&quot;);\r\n                FileInputStream fis = new FileInputStream(file);\r\n                XSSFWorkbook wb = new XSSFWorkbook(fis);\r\n                XSSFSheet sheet = wb.getSheetAt(0);\r\n                Iterator&lt;Row&gt; itr = sheet.iterator();\r\n                while(itr.hasNext()){\r\n                    Row row = itr.next();\r\n                    Iterator&lt;Cell&gt; celliterator = row.cellIterator();\r\n                    while(celliterator.hasNext()){\r\n                        Cell cell = celliterator.next();\r\n                        switch (cell.getCellType()){\r\n                            case STRING:    //field that represents string cell type\r\n                                System.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\r\n                                break;\r\n                            case NUMERIC:    //field that represents number cell type\r\n                                System.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\r\n                                break;\r\n                            default:\r\n                                System.out.println(&quot;NOT NUMERIC AND NOT STRING&quot;);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }catch (Exception e ){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            }\r\n        }\r\n\r\n","title":"can&#39;t find apache poi libraries","body":"<p>i'm trying for the first time the apache poi library to manage Execel files. I follow this steps to import apache poi:  <a href=\"https://stackoverflow.com/questions/28024502/import-apache-poi-in-intellij-for-java\">Import Apache POI in Intellij for JAVA</a>.\nThe code compile without error but when i run it give me this error messages:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\nat Test.main(Test.java:16)\nCaused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n... 1 more</p>\n</blockquote>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class Test {\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;C:\\\\Users\\\\Huawei\\\\IdeaProjects\\\\untitled\\\\src\\\\TEST.xlsx&quot;);\n            FileInputStream fis = new FileInputStream(file);\n            XSSFWorkbook wb = new XSSFWorkbook(fis);\n            XSSFSheet sheet = wb.getSheetAt(0);\n            Iterator&lt;Row&gt; itr = sheet.iterator();\n            while(itr.hasNext()){\n                Row row = itr.next();\n                Iterator&lt;Cell&gt; celliterator = row.cellIterator();\n                while(celliterator.hasNext()){\n                    Cell cell = celliterator.next();\n                    switch (cell.getCellType()){\n                        case STRING:    //field that represents string cell type\n                            System.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\n                            break;\n                        case NUMERIC:    //field that represents number cell type\n                            System.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\n                            break;\n                        default:\n                            System.out.println(&quot;NOT NUMERIC AND NOT STRING&quot;);\n                    }\n                }\n            }\n\n        }catch (Exception e ){\n            e.printStackTrace();\n        }\n\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1510775968,"post_id":47316123,"comment_id":81583266,"body_markdown":"Oh dear. New to everything, you&#39;re going to have a hard time with this (if you even manage to get it working). However, the default source/target is `1.5`, so you need to [change that](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html) to solve one of your many problems.","body":"Oh dear. New to everything, you&#39;re going to have a hard time with this (if you even manage to get it working). However, the default source/target is <code>1.5</code>, so you need to <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">change that</a> to solve one of your many problems."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1510835034,"post_id":47316123,"comment_id":81609766,"body_markdown":"What happens [if you take the full Parsing Example class, not just the method snippet](https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/ParsingExample.java) ?","body":"What happens <a href=\"https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/ParsingExample.java\" rel=\"nofollow noreferrer\">if you take the full Parsing Example class, not just the method snippet</a> ?"},{"owner":{"display_name":"user8947093"},"score":0,"creation_date":1510875525,"post_id":47316123,"comment_id":81634210,"body_markdown":"Thank you all. I think I solved the problem on my own by having a look on some other example code. It&#39;s not necessary to play with the source/target version. I just used 1.8 - works. Also I have a way better understanding of how to interpret this snippet example.\n@Kayaman I think your entire comment led me in the wrong direction, sorry.","body":"Thank you all. I think I solved the problem on my own by having a look on some other example code. It&#39;s not necessary to play with the source/target version. I just used 1.8 - works. Also I have a way better understanding of how to interpret this snippet example. @Kayaman I think your entire comment led me in the wrong direction, sorry."},{"owner":{"display_name":"user8947093"},"score":0,"creation_date":1510875545,"post_id":47316123,"comment_id":81634218,"body_markdown":"@Gagravarr Oh yes, that would had helped me before, really. Man, I did not know this source - only the snippet. The bigger picture brought by you would had clarified a lot. I would vote it up as solution. But now it&#39;s still quite useful. Thanks!","body":"@Gagravarr Oh yes, that would had helped me before, really. Man, I did not know this source - only the snippet. The bigger picture brought by you would had clarified a lot. I would vote it up as solution. But now it&#39;s still quite useful. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1510939334,"creation_date":1510939334,"answer_id":47356118,"question_id":47316123,"body_markdown":"Promoting a comment to an answer. All of the [code examples on the Apache Tika website](https://tika.apache.org/1.16/examples.html) are pulled from [here in the Tika source tree](https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/)\r\n\r\nSpecifically, the parsing example [comes from this complete example file](https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/ParsingExample.java)\r\n\r\nThe reference to `ParsingExample.class` is a reference to the example class itself that the method you&#39;re copying is taken from. You should either replace that with the name of your own class, or replace the whole line with your own preferred way of getting your input file into Tika","title":"How to get Apache Tika (as Maven Dependency) runnning in Java for a first Test using Eclipse?","body":"<p>Promoting a comment to an answer. All of the <a href=\"https://tika.apache.org/1.16/examples.html\" rel=\"nofollow noreferrer\">code examples on the Apache Tika website</a> are pulled from <a href=\"https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/\" rel=\"nofollow noreferrer\">here in the Tika source tree</a></p>\n\n<p>Specifically, the parsing example <a href=\"https://svn.apache.org/repos/asf/tika/trunk/tika-example/src/main/java/org/apache/tika/example/ParsingExample.java\" rel=\"nofollow noreferrer\">comes from this complete example file</a></p>\n\n<p>The reference to <code>ParsingExample.class</code> is a reference to the example class itself that the method you're copying is taken from. You should either replace that with the name of your own class, or replace the whole line with your own preferred way of getting your input file into Tika</p>\n"}],"owner":{"display_name":"user8947093"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47356118,"answer_count":1,"score":1,"last_activity_date":1632675338,"creation_date":1510775544,"question_id":47316123,"body_markdown":"I am new to Java, Maven, Tika, Eclipse. I want to try Tika. As far as I can see I have made it to set up Tika as a Maven dependency. I added this to my projects pom.xml: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I used the following code from [https://tika.apache.org/1.16/examples.html]\r\n\r\n    public String parseToStringExample() throws IOException, SAXException, TikaException {\r\n        Tika tika = new Tika();\r\n        try (InputStream stream = ParsingExample.class.getResourceAsStream(&quot;test.txt&quot;)) {\r\n            return tika.parseToString(stream);\r\n        }\r\n    }\r\n\r\nI think I imported all needed libraries. Eclipse still shows me 2 Errors in the line: \r\n\r\n    ParsingExample.class.getResourceAsStream(&quot;test.txt&quot;))\r\n\r\nThe Errors:\r\n\r\n 1. Parsing Example cannot be resolved to a type\r\n 2. Resource Specification not allowed here for source level below 1.7\r\n\r\nWhere does &quot;ParsingExample&quot; come from or by what should it be replaced? \r\n\r\nIn the context of Java syntax - what does the &quot;.class&quot; mean, behind &quot;ParsingExample&quot;? Is it something like a implicit defined class? Where does &quot;.class&quot; come from? \r\n\r\nIs it really necessary to change the source level to 1.7 - why?\r\n\r\nThe file test.txt has to be in the same directory as the java file where this code lives, right?! \r\n\r\nWhat else do I have to consider to make these lines of code running? \r\n\r\nSorry, that there are so many questions. Thanks in advance.","title":"How to get Apache Tika (as Maven Dependency) runnning in Java for a first Test using Eclipse?","body":"<p>I am new to Java, Maven, Tika, Eclipse. I want to try Tika. As far as I can see I have made it to set up Tika as a Maven dependency. I added this to my projects pom.xml: </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n  &lt;version&gt;1.16&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I used the following code from [<a href=\"https://tika.apache.org/1.16/examples.html]\" rel=\"nofollow noreferrer\">https://tika.apache.org/1.16/examples.html]</a></p>\n\n<pre><code>public String parseToStringExample() throws IOException, SAXException, TikaException {\n    Tika tika = new Tika();\n    try (InputStream stream = ParsingExample.class.getResourceAsStream(\"test.txt\")) {\n        return tika.parseToString(stream);\n    }\n}\n</code></pre>\n\n<p>I think I imported all needed libraries. Eclipse still shows me 2 Errors in the line: </p>\n\n<pre><code>ParsingExample.class.getResourceAsStream(\"test.txt\"))\n</code></pre>\n\n<p>The Errors:</p>\n\n<ol>\n<li>Parsing Example cannot be resolved to a type</li>\n<li>Resource Specification not allowed here for source level below 1.7</li>\n</ol>\n\n<p>Where does \"ParsingExample\" come from or by what should it be replaced? </p>\n\n<p>In the context of Java syntax - what does the \".class\" mean, behind \"ParsingExample\"? Is it something like a implicit defined class? Where does \".class\" come from? </p>\n\n<p>Is it really necessary to change the source level to 1.7 - why?</p>\n\n<p>The file test.txt has to be in the same directory as the java file where this code lives, right?! </p>\n\n<p>What else do I have to consider to make these lines of code running? </p>\n\n<p>Sorry, that there are so many questions. Thanks in advance.</p>\n"},{"tags":["java","elasticsearch","aws-elasticsearch","elasticsearch-opendistro"],"answers":[{"tags":[],"owner":{"account_id":6017434,"reputation":464,"user_id":4725739,"display_name":"Dhiresh Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632674664,"creation_date":1632674664,"answer_id":69336947,"question_id":68555202,"body_markdown":"You are confusing two concepts here. You can refer to the below concepts and decide which use case suits you best.\r\n\r\n**Fine grained access control** provides you with internal database authentication mechanism by which you can create multiple users (having their own username/password) and attach roles/action groups to these users - so each user can have different permissions. Thereafter, each customer can be provided with a different username/password.\r\n\r\n**Tenants** is a concept existing in Kibana system (with above security enabled), where a tenant can be used to store kibana related objects such as dashboards and visualisations. There are two defaults tenants - `global` which is shared between all users, and `private` tenant which is exclusive to each customer. You can create your own custom tenant, and configure it to be accessed by a group of users, so that these users can share kibana related objects.\r\n\r\nMore on tenants here: https://opendistro.github.io/for-elasticsearch-docs/docs/security/access-control/multi-tenancy/","title":"How to authenticate Elasticsearch with multiple users","body":"<p>You are confusing two concepts here. You can refer to the below concepts and decide which use case suits you best.</p>\n<p><strong>Fine grained access control</strong> provides you with internal database authentication mechanism by which you can create multiple users (having their own username/password) and attach roles/action groups to these users - so each user can have different permissions. Thereafter, each customer can be provided with a different username/password.</p>\n<p><strong>Tenants</strong> is a concept existing in Kibana system (with above security enabled), where a tenant can be used to store kibana related objects such as dashboards and visualisations. There are two defaults tenants - <code>global</code> which is shared between all users, and <code>private</code> tenant which is exclusive to each customer. You can create your own custom tenant, and configure it to be accessed by a group of users, so that these users can share kibana related objects.</p>\n<p>More on tenants here: <a href=\"https://opendistro.github.io/for-elasticsearch-docs/docs/security/access-control/multi-tenancy/\" rel=\"nofollow noreferrer\">https://opendistro.github.io/for-elasticsearch-docs/docs/security/access-control/multi-tenancy/</a></p>\n"}],"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632675263,"creation_date":1627452493,"question_id":68555202,"body_markdown":"We are trying create manage Elastic above AWS separate tenant (customer) and assign each tenant to a different index.\r\n\r\nEach customer will have their user name/password or similar like token, etc.\r\n\r\nWe setup a managed ES on AWS and did integration with native Elastic sdk HighRestClient\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n    &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nEverything works fine, all our actions performed from Java code like creating index/manage/searches, etc.\r\n\r\nThis piece of code simulates the basic auth as described here\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/_basic_authentication.html\r\n\r\n```java\r\nfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\ncredentialsProvider.setCredentials(AuthScope.ANY,\r\n\t\tnew UsernamePasswordCredentials(settings.getEsUserName(), settings.getEsUserPass()));\r\nrestClientBuilder.setHttpClientConfigCallback(builder -&gt; builder.setDefaultCredentialsProvider(credentialsProvider));\r\n```\r\n\r\nNow we creating different index on each customer which is OK, but the problem is that now all our customers will have the same username/password.\r\n\r\nIs it possible somehow to do this on multiple users, have multiple username/password?\r\n\r\nSo each user can interact only with his index authenticated with password.\r\n\r\n\r\nI saw this case - https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/fgac.html#fgac-walkthrough-basic\r\n\r\n\r\nAs I understand from reading they are talking about multi tenancy on Kibana users.\r\n\r\nAm I missing something, is it possible to achieve our goal in different ways?\r\n\r\n\r\n","title":"How to authenticate Elasticsearch with multiple users","body":"<p>We are trying create manage Elastic above AWS separate tenant (customer) and assign each tenant to a different index.</p>\n<p>Each customer will have their user name/password or similar like token, etc.</p>\n<p>We setup a managed ES on AWS and did integration with native Elastic sdk HighRestClient</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n    &lt;version&gt;7.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Everything works fine, all our actions performed from Java code like creating index/manage/searches, etc.</p>\n<p>This piece of code simulates the basic auth as described here\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/_basic_authentication.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/_basic_authentication.html</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\ncredentialsProvider.setCredentials(AuthScope.ANY,\n        new UsernamePasswordCredentials(settings.getEsUserName(), settings.getEsUserPass()));\nrestClientBuilder.setHttpClientConfigCallback(builder -&gt; builder.setDefaultCredentialsProvider(credentialsProvider));\n</code></pre>\n<p>Now we creating different index on each customer which is OK, but the problem is that now all our customers will have the same username/password.</p>\n<p>Is it possible somehow to do this on multiple users, have multiple username/password?</p>\n<p>So each user can interact only with his index authenticated with password.</p>\n<p>I saw this case - <a href=\"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/fgac.html#fgac-walkthrough-basic\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/fgac.html#fgac-walkthrough-basic</a></p>\n<p>As I understand from reading they are talking about multi tenancy on Kibana users.</p>\n<p>Am I missing something, is it possible to achieve our goal in different ways?</p>\n"},{"tags":["java","substring","filereader","keyword"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1632590331,"post_id":69328301,"comment_id":122536441,"body_markdown":"Your question is unclear. Do you want to split your lines somehow? Are you looking for specific substrings in the whole file? What does the code that you already have do? What should it do instead?","body":"Your question is unclear. Do you want to split your lines somehow? Are you looking for specific substrings in the whole file? What does the code that you already have do? What should it do instead?"}],"answers":[{"tags":[],"owner":{"account_id":22788324,"reputation":46,"user_id":16943061,"display_name":"Thor Odinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632590663,"creation_date":1632590663,"answer_id":69328480,"question_id":69328301,"body_markdown":"Yes. I think you should do that before concatenating the next line from scanner to the input.\r\n\r\n    try {\r\n            while (scan.hasNextLine()) {\r\n                String nextLine = scan.nextLine();\r\n                //now find 55901\r\n                String keyword = &quot;55901&quot;\r\n                if(nextLine.startsWith(keyword){\r\n                    //go ahead and extract the content you want from nextLine\r\n                    buyer = nextLine.substring(5, 13);\r\n                }\r\n                input = input.concat(nextLine + &quot;\\n&quot;);\r\n            }\r\n        }","title":"Output a part of a String if the beginning of the String starts with a keyword","body":"<p>Yes. I think you should do that before concatenating the next line from scanner to the input.</p>\n<pre><code>try {\n        while (scan.hasNextLine()) {\n            String nextLine = scan.nextLine();\n            //now find 55901\n            String keyword = &quot;55901&quot;\n            if(nextLine.startsWith(keyword){\n                //go ahead and extract the content you want from nextLine\n                buyer = nextLine.substring(5, 13);\n            }\n            input = input.concat(nextLine + &quot;\\n&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7500016,"reputation":23,"user_id":5698788,"display_name":"Niklas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632674948,"creation_date":1632674948,"answer_id":69336981,"question_id":69328301,"body_markdown":"Thank you very much, that worked like a charm but i ran in to anotheer problem that i cant seem to find the answer to. I extract 12 substrings with this method but the last 2 strings is always empty. Also when i add an else if to find the next 55401 row it doesnt contain any values.\r\n\r\nFrom the code below i get the following, the Strings 6 &amp; 7 dosnt get vales.\r\nShip 210924 | QTY 000000462\r\nShip 210927 | QTY 000000000\r\nShip 210928 | QTY 000000000\r\nShip 210929 | QTY 000000000\r\nShip 210930 | QTY 000000000\r\nShip  | QTY \r\nShip  | QTY \r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        File file = new File(&quot;C:\\\\Users\\\\Mail\\\\Desktop\\\\VDA Reader\\\\VDA.txt&quot;);\r\n        Scanner scan = new Scanner(file);\r\n        String input = &quot;&quot;;\r\n        String shipDate1 = &quot;&quot;;\r\n        String qty1 = &quot;&quot;;\r\n        String shipDate2 = &quot;&quot;;\r\n        String qty2 = &quot;&quot;;\r\n        String shipDate3 = &quot;&quot;;\r\n        String qty3 = &quot;&quot;;\r\n        String shipDate4 = &quot;&quot;;\r\n        String qty4 = &quot;&quot;;\r\n        String shipDate5 = &quot;&quot;;\r\n        String qty5 = &quot;&quot;;\r\n        String shipDate6 = &quot;&quot;;\r\n        String qty6 = &quot;&quot;;\r\n        String shipDate7 = &quot;&quot;;\r\n        String qty7 = &quot;&quot;;\r\n        String callOffs = &quot;55401&quot;;\r\n        //Scan next line if exists\r\n        try {\r\n            while (scan.hasNextLine()) {\r\n                String outPut = scan.nextLine();\r\n                if(outPut.startsWith(callOffs)){\r\n                    shipDate1 =     outPut.substring(5, 11);\r\n                    qty1 =          outPut.substring(15, 24);\r\n                    shipDate2 =     outPut.substring(25, 31);\r\n                    qty2 =          outPut.substring(35, 44);\r\n                    shipDate3 =     outPut.substring(45, 51);\r\n                    qty3 =          outPut.substring(55, 64);\r\n                    shipDate4 =     outPut.substring(65, 71);\r\n                    qty4 =          outPut.substring(75, 84);\r\n                    shipDate5 =     outPut.substring(85, 91);\r\n                    qty5 =          outPut.substring(95, 104);\r\n                    shipDate6 =     outPut.substring(105, 101);\r\n                    qty6 =          outPut.substring(115, 124);\r\n                }\r\n                if (outPut.startsWith(callOffs + shipDate1)){\r\n                    shipDate7 =     outPut.substring(5, 11);\r\n                    qty7 =          outPut.substring(15, 24);\r\n\r\n                }\r\n                input = input.concat(outPut + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        catch (Exception e){\r\n        }\r\n        scan.close();\r\n        System.out.println(&quot;Ship &quot;+shipDate1 + &quot; | QTY &quot; + qty1);\r\n        System.out.println(&quot;Ship &quot;+shipDate2 + &quot; | QTY &quot; + qty2);\r\n        System.out.println(&quot;Ship &quot;+shipDate3 + &quot; | QTY &quot; + qty3);\r\n        System.out.println(&quot;Ship &quot;+shipDate4 + &quot; | QTY &quot; + qty4);\r\n        System.out.println(&quot;Ship &quot;+shipDate5 + &quot; | QTY &quot; + qty5);\r\n        System.out.println(&quot;Ship &quot;+shipDate6 + &quot; | QTY &quot; + qty6);\r\n        System.out.println(&quot;Ship &quot;+shipDate7 + &quot; | QTY &quot; + qty7);","title":"Output a part of a String if the beginning of the String starts with a keyword","body":"<p>Thank you very much, that worked like a charm but i ran in to anotheer problem that i cant seem to find the answer to. I extract 12 substrings with this method but the last 2 strings is always empty. Also when i add an else if to find the next 55401 row it doesnt contain any values.</p>\n<p>From the code below i get the following, the Strings 6 &amp; 7 dosnt get vales.\nShip 210924 | QTY 000000462\nShip 210927 | QTY 000000000\nShip 210928 | QTY 000000000\nShip 210929 | QTY 000000000\nShip 210930 | QTY 000000000\nShip  | QTY\nShip  | QTY</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    File file = new File(&quot;C:\\\\Users\\\\Mail\\\\Desktop\\\\VDA Reader\\\\VDA.txt&quot;);\n    Scanner scan = new Scanner(file);\n    String input = &quot;&quot;;\n    String shipDate1 = &quot;&quot;;\n    String qty1 = &quot;&quot;;\n    String shipDate2 = &quot;&quot;;\n    String qty2 = &quot;&quot;;\n    String shipDate3 = &quot;&quot;;\n    String qty3 = &quot;&quot;;\n    String shipDate4 = &quot;&quot;;\n    String qty4 = &quot;&quot;;\n    String shipDate5 = &quot;&quot;;\n    String qty5 = &quot;&quot;;\n    String shipDate6 = &quot;&quot;;\n    String qty6 = &quot;&quot;;\n    String shipDate7 = &quot;&quot;;\n    String qty7 = &quot;&quot;;\n    String callOffs = &quot;55401&quot;;\n    //Scan next line if exists\n    try {\n        while (scan.hasNextLine()) {\n            String outPut = scan.nextLine();\n            if(outPut.startsWith(callOffs)){\n                shipDate1 =     outPut.substring(5, 11);\n                qty1 =          outPut.substring(15, 24);\n                shipDate2 =     outPut.substring(25, 31);\n                qty2 =          outPut.substring(35, 44);\n                shipDate3 =     outPut.substring(45, 51);\n                qty3 =          outPut.substring(55, 64);\n                shipDate4 =     outPut.substring(65, 71);\n                qty4 =          outPut.substring(75, 84);\n                shipDate5 =     outPut.substring(85, 91);\n                qty5 =          outPut.substring(95, 104);\n                shipDate6 =     outPut.substring(105, 101);\n                qty6 =          outPut.substring(115, 124);\n            }\n            if (outPut.startsWith(callOffs + shipDate1)){\n                shipDate7 =     outPut.substring(5, 11);\n                qty7 =          outPut.substring(15, 24);\n\n            }\n            input = input.concat(outPut + &quot;\\n&quot;);\n        }\n    }\n    catch (Exception e){\n    }\n    scan.close();\n    System.out.println(&quot;Ship &quot;+shipDate1 + &quot; | QTY &quot; + qty1);\n    System.out.println(&quot;Ship &quot;+shipDate2 + &quot; | QTY &quot; + qty2);\n    System.out.println(&quot;Ship &quot;+shipDate3 + &quot; | QTY &quot; + qty3);\n    System.out.println(&quot;Ship &quot;+shipDate4 + &quot; | QTY &quot; + qty4);\n    System.out.println(&quot;Ship &quot;+shipDate5 + &quot; | QTY &quot; + qty5);\n    System.out.println(&quot;Ship &quot;+shipDate6 + &quot; | QTY &quot; + qty6);\n    System.out.println(&quot;Ship &quot;+shipDate7 + &quot; | QTY &quot; + qty7);\n</code></pre>\n"}],"owner":{"account_id":7500016,"reputation":23,"user_id":5698788,"display_name":"Niklas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69328480,"answer_count":2,"score":1,"last_activity_date":1632674948,"creation_date":1632589353,"question_id":69328301,"body_markdown":"So, i started learning Java and its superfun and confusing at the same time.\r\n\r\nI use filereader to read the content of a file with no problem, and also output it in another file and output a substring on a given place in the String. *(Yes, for those that know EDI you know its a VDA file)*\r\n\r\nHowever, i want to read the beginning of a line and then output several substrings based on the position in the row..\r\n\r\n**Desired output:\r\nFind 55901, then Stringname = substringname(5, 12) Stringname = substringname(13, 20) Etc.**\r\n\r\nThis is what im reading in to the inputString, every line is 128 chars long Ì¶bÌ¶Ì¶uÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶iÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶hÌ¶Ì¶aÌ¶Ì¶sÌ¶Ì¶ Ì¶Ì¶bÌ¶Ì¶eÌ¶Ì¶eÌ¶Ì¶nÌ¶Ì¶ Ì¶Ì¶tÌ¶Ì¶rÌ¶Ì¶iÌ¶Ì¶mÌ¶Ì¶eÌ¶Ì¶dÌ¶Ì¶ Ì¶Ì¶iÌ¶Ì¶nÌ¶Ì¶ Ì¶Ì¶tÌ¶Ì¶hÌ¶Ì¶eÌ¶Ì¶ Ì¶Ì¶pÌ¶Ì¶oÌ¶Ì¶sÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶aÌ¶Ì¶uÌ¶Ì¶tÌ¶Ì¶oÌ¶Ì¶mÌ¶Ì¶aÌ¶Ì¶tÌ¶Ì¶iÌ¶Ì¶cÌ¶Ì¶aÌ¶Ì¶lÌ¶Ì¶lÌ¶Ì¶yÌ¶:\r\n\r\n    55101BUYX     SELLLX    0022200223210924                                                                                        \r\n    55201XQ 000897350210924  PARTNUMERXXX                            ZZ           S000000V            0000000000                  \r\n    55301000000000000000000000000000000000000000000I                                                                               \r\n    554012109240000000000462 2109270000000000000 2109280000000000000 2109290000000000000 2109300000000000000 2110010000000000000   \r\n    554012110040000000000000 2110050000000000000 2110060000000000000 2110070000000000000 0000000000000000000 0000000000000000000   \r\n    55701                                                                                                    JP010 ASDFGHJK         \r\n    55901_output000000200000020000004000000000000020000001\r\n\r\n                                                                          \r\n\r\nThis is what i have so far:\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\nimport java.lang.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;C:\\\\Users\\\\Mail\\\\Desktop\\\\VDA Reader\\\\VDA.txt&quot;);\r\n        Scanner scan = new Scanner(file);\r\n        String input = &quot;&quot;;\r\n        String buyer = &quot;&quot;;\r\n        //Scan next line if exists\r\n        try {\r\n            while (scan.hasNextLine()) {\r\n                input = input.concat(scan.nextLine() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;Error in the code&quot;);\r\n        }\r\n        scan.close();\r\n        buyer = input.substring(5, 13);\r\n        System.out.println(&quot;Buyer &quot;+buyer);\r\n\r\n    }\r\n}\r\n```","title":"Output a part of a String if the beginning of the String starts with a keyword","body":"<p>So, i started learning Java and its superfun and confusing at the same time.</p>\n<p>I use filereader to read the content of a file with no problem, and also output it in another file and output a substring on a given place in the String. <em>(Yes, for those that know EDI you know its a VDA file)</em></p>\n<p>However, i want to read the beginning of a line and then output several substrings based on the position in the row..</p>\n<p><strong>Desired output:\nFind 55901, then Stringname = substringname(5, 12) Stringname = substringname(13, 20) Etc.</strong></p>\n<p>This is what im reading in to the inputString, every line is 128 chars long Ì¶bÌ¶Ì¶uÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶iÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶hÌ¶Ì¶aÌ¶Ì¶sÌ¶Ì¶ Ì¶Ì¶bÌ¶Ì¶eÌ¶Ì¶eÌ¶Ì¶nÌ¶Ì¶ Ì¶Ì¶tÌ¶Ì¶rÌ¶Ì¶iÌ¶Ì¶mÌ¶Ì¶eÌ¶Ì¶dÌ¶Ì¶ Ì¶Ì¶iÌ¶Ì¶nÌ¶Ì¶ Ì¶Ì¶tÌ¶Ì¶hÌ¶Ì¶eÌ¶Ì¶ Ì¶Ì¶pÌ¶Ì¶oÌ¶Ì¶sÌ¶Ì¶tÌ¶Ì¶ Ì¶Ì¶aÌ¶Ì¶uÌ¶Ì¶tÌ¶Ì¶oÌ¶Ì¶mÌ¶Ì¶aÌ¶Ì¶tÌ¶Ì¶iÌ¶Ì¶cÌ¶Ì¶aÌ¶Ì¶lÌ¶Ì¶lÌ¶Ì¶yÌ¶:</p>\n<pre><code>55101BUYX     SELLLX    0022200223210924                                                                                        \n55201XQ 000897350210924  PARTNUMERXXX                            ZZ           S000000V            0000000000                  \n55301000000000000000000000000000000000000000000I                                                                               \n554012109240000000000462 2109270000000000000 2109280000000000000 2109290000000000000 2109300000000000000 2110010000000000000   \n554012110040000000000000 2110050000000000000 2110060000000000000 2110070000000000000 0000000000000000000 0000000000000000000   \n55701                                                                                                    JP010 ASDFGHJK         \n55901_output000000200000020000004000000000000020000001\n\n                                                                      \n</code></pre>\n<p>This is what i have so far:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.lang.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(&quot;C:\\\\Users\\\\Mail\\\\Desktop\\\\VDA Reader\\\\VDA.txt&quot;);\n        Scanner scan = new Scanner(file);\n        String input = &quot;&quot;;\n        String buyer = &quot;&quot;;\n        //Scan next line if exists\n        try {\n            while (scan.hasNextLine()) {\n                input = input.concat(scan.nextLine() + &quot;\\n&quot;);\n            }\n        }\n        catch (Exception e){\n            System.out.println(&quot;Error in the code&quot;);\n        }\n        scan.close();\n        buyer = input.substring(5, 13);\n        System.out.println(&quot;Buyer &quot;+buyer);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","jfoenix"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":1,"creation_date":1632680390,"post_id":69336961,"comment_id":122552487,"body_markdown":"No, it is a &quot;date picker,&quot; not a month/year picker. You would need to either build your own or find a library that offers such a control. You would also need to implement your own data model for the value since Java does not include a `MonthYear` or similar object.","body":"No, it is a &quot;date picker,&quot; not a month/year picker. You would need to either build your own or find a library that offers such a control. You would also need to implement your own data model for the value since Java does not include a <code>MonthYear</code> or similar object."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":6,"creation_date":1632684175,"post_id":69336961,"comment_id":122553293,"body_markdown":"Itâ€™s hard for me to imagine a user interface for this that would be any better than just a combo box for the month and a spinner for the year.","body":"Itâ€™s hard for me to imagine a user interface for this that would be any better than just a combo box for the month and a spinner for the year."},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1632811054,"post_id":69336961,"comment_id":122586649,"body_markdown":"@James_D Here is another [option](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/month)","body":"@James_D Here is another <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/month\" rel=\"nofollow noreferrer\">option</a>"}],"owner":{"account_id":20387470,"reputation":53,"user_id":14956112,"display_name":"Sithum Dilshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632674787,"creation_date":1632674787,"question_id":69336961,"body_markdown":"I&#39;m working on a project and i want to make my jfoenix date picker to pick only year and month is anyone knows how done this ?","title":"JavaFX DatePicker: can it be Year and Month only, without Days?","body":"<p>I'm working on a project and i want to make my jfoenix date picker to pick only year and month is anyone knows how done this ?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632667843,"post_id":69335990,"comment_id":122549457,"body_markdown":"AFAIK, Oracle OpenJDK as a distribution release is new with Java 17.","body":"AFAIK, Oracle OpenJDK as a distribution release is new with Java 17."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1632668552,"post_id":69335990,"comment_id":122549636,"body_markdown":"I suspect you&#39;re looking for the old java.net releases. They&#39;re archived [here](https://jdk.java.net/archive/). But you should probably prefer more maintained releases in general.","body":"I suspect you&#39;re looking for the old java.net releases. They&#39;re archived <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">here</a>. But you should probably prefer more maintained releases in general."}],"owner":{"account_id":6260973,"reputation":265,"user_id":4868132,"display_name":"enhancedJack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632674260,"creation_date":1632667334,"question_id":69335990,"body_markdown":"I&#39;m trying to download **Oracle OpenJDK version 11** through my **IDEA 2021.2.2** Community Edition but it won&#39;t work!\r\n\r\nI&#39;m using **Project Settings/Platform Settings/SDKs/+/Download JDK** dialog box. Whenever I choose **version 11 and vendor Oracle OpenJDK**, the options in the dialog box **automatically switch to version 17 Oracle OpenJDK**. However, there&#39;s no problem if I choose any other vendor (eg Zulu, AdobeOpenJDK, etc.) for version 11.\r\nIt is as if IDEA was saying it makes no sense to download version 11 for Oracle OpenJDK. \r\n\r\nDoes it have anything to do with the fact that there&#39;s **already** OpenJDK version 11.0.12 in my IDEA installation directory \r\nIDEA-C/ch-0/212.5284.40/jbr/bin?! \r\n\r\nIn IDEA&#39;s docs I found that I should **not** use this bundled JDK for my projects and I should install **a standalone JDK**. \r\nSo why does IDEA not let me download another Oracle OpenJDK version 11 \r\nbut version 17 is ok?!\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/JbuAZ.png\r\n  [2]: https://i.stack.imgur.com/yLV1c.png\r\n ","title":"IDEA 2021 will not allow to download Open JDK 11 in the Project Settings dialog box","body":"<p>I'm trying to download <strong>Oracle OpenJDK version 11</strong> through my <strong>IDEA 2021.2.2</strong> Community Edition but it won't work!</p>\n<p>I'm using <strong>Project Settings/Platform Settings/SDKs/+/Download JDK</strong> dialog box. Whenever I choose <strong>version 11 and vendor Oracle OpenJDK</strong>, the options in the dialog box <strong>automatically switch to version 17 Oracle OpenJDK</strong>. However, there's no problem if I choose any other vendor (eg Zulu, AdobeOpenJDK, etc.) for version 11.\nIt is as if IDEA was saying it makes no sense to download version 11 for Oracle OpenJDK.</p>\n<p>Does it have anything to do with the fact that there's <strong>already</strong> OpenJDK version 11.0.12 in my IDEA installation directory\nIDEA-C/ch-0/212.5284.40/jbr/bin?!</p>\n<p>In IDEA's docs I found that I should <strong>not</strong> use this bundled JDK for my projects and I should install <strong>a standalone JDK</strong>.\nSo why does IDEA not let me download another Oracle OpenJDK version 11\nbut version 17 is ok?!</p>\n<p><a href=\"https://i.stack.imgur.com/JbuAZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbuAZ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/yLV1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLV1c.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632673419,"creation_date":1632673419,"answer_id":69336793,"question_id":69335913,"body_markdown":"Your professor wants you to avoid typing duplicate code. They want you to minimize the amount of code you have to repeatedly type. For example, look at the `main` method from your `DayOfTheWeek` class.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\r\n    int year = input.nextInt();\r\n    System.out.print(&quot;Enter Month: 1-12: &quot;);\r\n    int month = input.nextInt();\r\n    System.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\r\n    int day = input.nextInt();\r\n    //After this is more code below that we don&#39;t care about for now\r\n}\r\n```\r\n\r\nYou had to do 3 `System.out.print()` calls. You also did 3 `input.nextInt()` calls. That&#39;s 6 calls total.\r\n\r\nNotice how there is a `System.out.print()` call, and then a `input.nextInt()` call immediately after? We can slim that down to something like this.\r\n\r\n```\r\npublic static int fetchInput(Scanner input, String message) {\r\n    System.out.print(message);\r\n    return input.nextInt();\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    int year = fetchInput(input, &quot;Enter Year: (e.g., 2012): &quot;);\r\n    int month = fetchInput(input, &quot;Enter Month: 1-12: &quot;);\r\n    int day = fetchInput(input, &quot;Enter the Day of the month: 1-31:&quot;);\r\n    //After this is more code below that we don&#39;t care about for now\r\n}\r\n```\r\n\r\nNow, we only have to type `fetchInput()` 3 times, which has a call to both `System.out.print()` and `input.nextInt()`, giving us a total of 5 calls.\r\n\r\nSo, 5 is less than 6, which means we have made progress towards our goal, but since it is only one less call, it may not seem significant. But in reality, there&#39;s a lot more repeats in your code - I just handed you one of them. On top of that, your professor is teaching you good habits that will help you if you ever become a programmer. What if instead of fetching 3 things, you needed to fetch 20? This is common in the real world, by the way. Using your old style, you would have had to type 20 `System.out.print()` and 20 `input.nextInt()` calls at least, putting you at around 40 calls. But doing it this new way, you would only need to type 20 `fetchInput()` calls, which has a `System.out.print()` call and an `input.nextInt()` call within it, putting our total at 22 calls for the new method. 40 vs 22 things to type is an easier to see example of how writing code that minimizes retyping the same thing saves you time.","title":"What to revise to make it implement modularization using methods","body":"<p>Your professor wants you to avoid typing duplicate code. They want you to minimize the amount of code you have to repeatedly type. For example, look at the <code>main</code> method from your <code>DayOfTheWeek</code> class.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\n    int year = input.nextInt();\n    System.out.print(&quot;Enter Month: 1-12: &quot;);\n    int month = input.nextInt();\n    System.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\n    int day = input.nextInt();\n    //After this is more code below that we don't care about for now\n}\n</code></pre>\n<p>You had to do 3 <code>System.out.print()</code> calls. You also did 3 <code>input.nextInt()</code> calls. That's 6 calls total.</p>\n<p>Notice how there is a <code>System.out.print()</code> call, and then a <code>input.nextInt()</code> call immediately after? We can slim that down to something like this.</p>\n<pre><code>public static int fetchInput(Scanner input, String message) {\n    System.out.print(message);\n    return input.nextInt();\n}\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    \n    int year = fetchInput(input, &quot;Enter Year: (e.g., 2012): &quot;);\n    int month = fetchInput(input, &quot;Enter Month: 1-12: &quot;);\n    int day = fetchInput(input, &quot;Enter the Day of the month: 1-31:&quot;);\n    //After this is more code below that we don't care about for now\n}\n</code></pre>\n<p>Now, we only have to type <code>fetchInput()</code> 3 times, which has a call to both <code>System.out.print()</code> and <code>input.nextInt()</code>, giving us a total of 5 calls.</p>\n<p>So, 5 is less than 6, which means we have made progress towards our goal, but since it is only one less call, it may not seem significant. But in reality, there's a lot more repeats in your code - I just handed you one of them. On top of that, your professor is teaching you good habits that will help you if you ever become a programmer. What if instead of fetching 3 things, you needed to fetch 20? This is common in the real world, by the way. Using your old style, you would have had to type 20 <code>System.out.print()</code> and 20 <code>input.nextInt()</code> calls at least, putting you at around 40 calls. But doing it this new way, you would only need to type 20 <code>fetchInput()</code> calls, which has a <code>System.out.print()</code> call and an <code>input.nextInt()</code> call within it, putting our total at 22 calls for the new method. 40 vs 22 things to type is an easier to see example of how writing code that minimizes retyping the same thing saves you time.</p>\n"}],"owner":{"account_id":21985865,"reputation":21,"user_id":16260143,"display_name":"Cyrtus. Cy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632673419,"creation_date":1632666782,"question_id":69335913,"body_markdown":"I already have these 3 codes made but our prof said to revise it again using methods now. Can you help or can you show me what to revise in each code?\r\n1.)\r\n```java\r\npublic class HeadsOrTails {\r\n\tpublic static void main(String[] args) {\r\n\t\tint Heads = 0;\r\n\t\tint Tails = 0;\r\n\t\t\r\n\t\tfor(long simulation = 1; simulation &lt;= 2000000; simulation += 1)\r\n\t\t{\r\n\t\t\tint FlipResult = FlipCoin();\r\n\t\t\tif(FlipResult == 1)\r\n\t\t\t{\r\n\t\t\t\tHeads += 1;\r\n\t\t\t}\r\n\t\t\telse if(FlipResult == 0)\r\n\t\t\t{\r\n\t\t\t\tTails += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Numer of heads appeared: &quot; + Heads);\r\n\t\tSystem.out.println(&quot;Numer of tails appeared: &quot; + Tails);\r\n\t}\r\n\tprivate static int FlipCoin() \r\n\t{\r\n\t\treturn (int) (Math.random() + 0.5);\r\n\t}\r\n}\r\n```\r\n\r\n2.)\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class DecToHex {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input =\tnew Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a decimal number: &quot;);\r\n\t\tint number = input.nextInt();\r\n\t\tint rem;\r\n\t\t\r\n\t\tString result = &quot;&quot;;\r\n\t\tchar \r\n\t\thex[]= {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n\t\twhile(number &gt; 0)\r\n\t\t{\r\n\t\t\trem = number % 16;\r\n\t\t\tresult = hex[rem]+result;\r\n\t\t\tnumber = number/16;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Hexadecimal Number: &quot;+result);\r\n\t}\r\n}\r\n```\r\n\r\n3.) \r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class DayOfTheWeek {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\r\n\t\tint year = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter Month: 1-12: &quot;);\r\n\t\tint month = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\r\n\t\tint day = input.nextInt();\r\n\t\tString DayOfTheWeek = ZCAlgo(day, month, year);\r\n\t\tSystem.out.println(&quot;Day of the week is &quot;+DayOfTheWeek);\r\n\t}\r\n\r\n\tpublic static String ZCAlgo(int day, int month, int year)\r\n\t{\r\n\t\tif (month == 1)\r\n\t\t{\r\n\t\t\tmonth = 13;\r\n\t\t\tyear--;\r\n\t\t}\r\n\t\tif (month == 2)\r\n\t\t{\r\n\t\t\tmonth = 14;\r\n\t\t\tyear--;\r\n\t\t}\r\n\t\tint q = day;\r\n\t\tint m = month;\r\n\t\tint k = year % 100;\r\n\t\tint j = year / 100;\r\n\t\tint h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\r\n\t\th = h % 7;\r\n\t\tswitch (h)\r\n\t\t{\r\n\t\t\tcase 0: return &quot;Saturday&quot;;\r\n\t\t\tcase 1: return &quot;Sunday&quot;;\r\n\t\t\tcase 2: return &quot;Monday&quot;;\r\n\t\t\tcase 3: return &quot;Tuesday&quot;;\r\n\t\t\tcase 4: return &quot;Wednesday&quot;;\r\n\t\t\tcase 5: return &quot;Thurday&quot;;\r\n\t\t\tcase 6: return &quot;Friday&quot;;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n3.)\r\n\r\n```java\r\nimport java.util.Scanner;\r\npublic class DayOfTheWeek {\r\n\t/* *****************************************************************************\r\n\t METHOD NAME\t: main\r\n\t DESCRIPTION\t: Executes the main program to test the class \r\n\t                  DayOfTheWeek\r\n\t********************************************************************************/\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\r\n\t\tint year = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter Month: 1-12: &quot;);\r\n\t\tint month = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\r\n\t\tint day = input.nextInt();\r\n\t\tString DayOfTheWeek = ZCAlgo(day, month, year);\r\n\t\tSystem.out.println(&quot;Day of the week is &quot;+DayOfTheWeek);\r\n\t}\r\n\r\n\tpublic static String ZCAlgo(int day, int month, int year)\r\n\t{\r\n\t\tif (month == 1)\r\n\t\t{\r\n\t\t\tmonth = 13;\r\n\t\t\tyear--;\r\n\t\t}\r\n\t\tif (month == 2)\r\n\t\t{\r\n\t\t\tmonth = 14;\r\n\t\t\tyear--;\r\n\t\t}\r\n\t\tint q = day;\r\n\t\tint m = month;\r\n\t\tint k = year % 100;\r\n\t\tint j = year / 100;\r\n\t\tint h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\r\n\t\th = h % 7;\r\n\t\tswitch (h)\r\n\t\t{\r\n\t\t\tcase 0: return &quot;Saturday&quot;;\r\n\t\t\tcase 1: return &quot;Sunday&quot;;\r\n\t\t\tcase 2: return &quot;Monday&quot;;\r\n\t\t\tcase 3: return &quot;Tuesday&quot;;\r\n\t\t\tcase 4: return &quot;Wednesday&quot;;\r\n\t\t\tcase 5: return &quot;Thurday&quot;;\r\n\t\t\tcase 6: return &quot;Friday&quot;;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n","title":"What to revise to make it implement modularization using methods","body":"<p>I already have these 3 codes made but our prof said to revise it again using methods now. Can you help or can you show me what to revise in each code?\n1.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeadsOrTails {\n    public static void main(String[] args) {\n        int Heads = 0;\n        int Tails = 0;\n        \n        for(long simulation = 1; simulation &lt;= 2000000; simulation += 1)\n        {\n            int FlipResult = FlipCoin();\n            if(FlipResult == 1)\n            {\n                Heads += 1;\n            }\n            else if(FlipResult == 0)\n            {\n                Tails += 1;\n            }\n        }\n        System.out.println(&quot;Numer of heads appeared: &quot; + Heads);\n        System.out.println(&quot;Numer of tails appeared: &quot; + Tails);\n    }\n    private static int FlipCoin() \n    {\n        return (int) (Math.random() + 0.5);\n    }\n}\n</code></pre>\n<p>2.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class DecToHex {\n    \n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter a decimal number: &quot;);\n        int number = input.nextInt();\n        int rem;\n        \n        String result = &quot;&quot;;\n        char \n        hex[]= {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n        while(number &gt; 0)\n        {\n            rem = number % 16;\n            result = hex[rem]+result;\n            number = number/16;\n        }\n        System.out.println(&quot;Hexadecimal Number: &quot;+result);\n    }\n}\n</code></pre>\n<p>3.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class DayOfTheWeek {\n    \n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\n        int year = input.nextInt();\n        System.out.print(&quot;Enter Month: 1-12: &quot;);\n        int month = input.nextInt();\n        System.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\n        int day = input.nextInt();\n        String DayOfTheWeek = ZCAlgo(day, month, year);\n        System.out.println(&quot;Day of the week is &quot;+DayOfTheWeek);\n    }\n\n    public static String ZCAlgo(int day, int month, int year)\n    {\n        if (month == 1)\n        {\n            month = 13;\n            year--;\n        }\n        if (month == 2)\n        {\n            month = 14;\n            year--;\n        }\n        int q = day;\n        int m = month;\n        int k = year % 100;\n        int j = year / 100;\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\n        h = h % 7;\n        switch (h)\n        {\n            case 0: return &quot;Saturday&quot;;\n            case 1: return &quot;Sunday&quot;;\n            case 2: return &quot;Monday&quot;;\n            case 3: return &quot;Tuesday&quot;;\n            case 4: return &quot;Wednesday&quot;;\n            case 5: return &quot;Thurday&quot;;\n            case 6: return &quot;Friday&quot;;\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>3.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class DayOfTheWeek {\n    /* *****************************************************************************\n     METHOD NAME    : main\n     DESCRIPTION    : Executes the main program to test the class \n                      DayOfTheWeek\n    ********************************************************************************/\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter Year: (e.g., 2012): &quot;);\n        int year = input.nextInt();\n        System.out.print(&quot;Enter Month: 1-12: &quot;);\n        int month = input.nextInt();\n        System.out.print(&quot;Enter the Day of the month: 1-31:&quot;);\n        int day = input.nextInt();\n        String DayOfTheWeek = ZCAlgo(day, month, year);\n        System.out.println(&quot;Day of the week is &quot;+DayOfTheWeek);\n    }\n\n    public static String ZCAlgo(int day, int month, int year)\n    {\n        if (month == 1)\n        {\n            month = 13;\n            year--;\n        }\n        if (month == 2)\n        {\n            month = 14;\n            year--;\n        }\n        int q = day;\n        int m = month;\n        int k = year % 100;\n        int j = year / 100;\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\n        h = h % 7;\n        switch (h)\n        {\n            case 0: return &quot;Saturday&quot;;\n            case 1: return &quot;Sunday&quot;;\n            case 2: return &quot;Monday&quot;;\n            case 3: return &quot;Tuesday&quot;;\n            case 4: return &quot;Wednesday&quot;;\n            case 5: return &quot;Thurday&quot;;\n            case 6: return &quot;Friday&quot;;\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr"],"answers":[{"tags":[],"owner":{"account_id":4842762,"reputation":3093,"user_id":3907364,"accept_rate":91,"display_name":"Raven"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516279976,"creation_date":1516279976,"answer_id":48321850,"question_id":48320054,"body_markdown":"The problem is that you are indirectly declaring a lexer rule matching `\\n\\n` by using `&#39;\\n\\n&#39;` in a parser rule.  \r\n  \r\nThis &quot;new&quot; lexer rule is specified before all other lexer rules (as they are specified after the `&#39;...&#39;`-construct in the source code) which causes it to be consulted first.  \r\n  \r\nTherefore the input `\\n\\n` will not produce two `Break`-tokens but one single token corresponding to the indirectly specified lexer rule.  \r\n  \r\nAs the parser does only care about token-type and not about it&#39;s content it will tell you that it doesn&#39;t know what to do with it (as it was expecting one or two `Break` tokens but got one &quot;other&quot; token). Thus it complains.  \r\n   \r\nThis is the reason why you should **never** use those indirect lexer rule specifications outside of really small (testing-) grammars. Always create a separate lexer rule so you will always see what token-types there are going to be in your grammar.","title":"Unused parser rule is causing an error, depending on the definition - WHY?","body":"<p>The problem is that you are indirectly declaring a lexer rule matching <code>\\n\\n</code> by using <code>'\\n\\n'</code> in a parser rule.  </p>\n\n<p>This \"new\" lexer rule is specified before all other lexer rules (as they are specified after the <code>'...'</code>-construct in the source code) which causes it to be consulted first.  </p>\n\n<p>Therefore the input <code>\\n\\n</code> will not produce two <code>Break</code>-tokens but one single token corresponding to the indirectly specified lexer rule.  </p>\n\n<p>As the parser does only care about token-type and not about it's content it will tell you that it doesn't know what to do with it (as it was expecting one or two <code>Break</code> tokens but got one \"other\" token). Thus it complains.  </p>\n\n<p>This is the reason why you should <strong>never</strong> use those indirect lexer rule specifications outside of really small (testing-) grammars. Always create a separate lexer rule so you will always see what token-types there are going to be in your grammar.</p>\n"}],"owner":{"display_name":"user8947093"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48321850,"answer_count":1,"score":1,"last_activity_date":1632672732,"creation_date":1516274316,"question_id":48320054,"body_markdown":"I got an error that I don&#39;t understand and it&#39;s about the &quot;testRule&quot; below. \r\n\r\n    grammar MyTest;\r\n    \r\n    myTest: line+ EOF;\r\n    \r\n    testRule: &#39;\\n\\n&#39; ; //this produces an error - WHY?\r\n    //testRule: &#39;\\n\\n\\n\\n&#39; ; //no error\r\n    //testRule: Break Break ; //no error","title":"Unused parser rule is causing an error, depending on the definition - WHY?","body":"<p>I got an error that I don't understand and it's about the &quot;testRule&quot; below.</p>\n<pre><code>grammar MyTest;\n\nmyTest: line+ EOF;\n\ntestRule: '\\n\\n' ; //this produces an error - WHY?\n//testRule: '\\n\\n\\n\\n' ; //no error\n//testRule: Break Break ; //no error\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632672368,"post_id":69336356,"comment_id":122550560,"body_markdown":"What is â€œ100hp gareenâ€?","body":"What is â€œ100hp gareenâ€?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632674277,"post_id":69336356,"comment_id":122551042,"body_markdown":"@Basil from what I can glean, Gareen is the character, hp is health points, and 100 is the number of health points Gareen starts with.","body":"@Basil from what I can glean, Gareen is the character, hp is health points, and 100 is the number of health points Gareen starts with."}],"answers":[{"tags":[],"owner":{"account_id":22860712,"reputation":186,"user_id":17004841,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632672452,"creation_date":1632672452,"answer_id":69336677,"question_id":69336356,"body_markdown":"There is no guarantee that threads execute in a set order. You would just use standard synchronous code for that. \r\n\r\nIf you just want to make the health code down in a linear fashion outside the main thread, then use 1 Thread and execute all code within that. Example: \r\n\r\n```\r\n        Thread t1 = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; N; i++) {\r\n                gareen.hurt();\r\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\r\n                try{\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e){\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\r\n            }\r\n        });\r\n        t1.start();\r\n        System.out.println(t1.getName() + &quot; started&quot;);\r\n```\r\n\r\nThis would achieve the result of reducing the health on a background thread so that you can simultaneously update the UI, sounds, etc\r\n\r\n----\r\n\r\nAnother solution would be to use a Singleton for the Hero object - https://refactoring.guru/design-patterns/singleton and a synchronized lock on the object. However this would not produce a significantly different result from the first solution.\r\n\r\n---- \r\n\r\n&gt;  don&#39;t understand why the join() always end after which called thread ends\r\n\r\n`Thread.join()` in your scenario is used to block the main thread until the thread you called `.join()` on completes.","title":"Why these threads no started and ended orderly?how to fix it?","body":"<p>There is no guarantee that threads execute in a set order. You would just use standard synchronous code for that.</p>\n<p>If you just want to make the health code down in a linear fashion outside the main thread, then use 1 Thread and execute all code within that. Example:</p>\n<pre><code>        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; N; i++) {\n                gareen.hurt();\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\n                try{\n                    Thread.sleep(3000);\n                } catch (InterruptedException e){\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\n            }\n        });\n        t1.start();\n        System.out.println(t1.getName() + &quot; started&quot;);\n</code></pre>\n<p>This would achieve the result of reducing the health on a background thread so that you can simultaneously update the UI, sounds, etc</p>\n<hr />\n<p>Another solution would be to use a Singleton for the Hero object - <a href=\"https://refactoring.guru/design-patterns/singleton\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/singleton</a> and a synchronized lock on the object. However this would not produce a significantly different result from the first solution.</p>\n<hr />\n<blockquote>\n<p>don't understand why the join() always end after which called thread ends</p>\n</blockquote>\n<p><code>Thread.join()</code> in your scenario is used to block the main thread until the thread you called <code>.join()</code> on completes.</p>\n"}],"owner":{"account_id":16833850,"reputation":29,"user_id":12171086,"display_name":"Tracker647"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1632672880,"accepted_answer_id":69336677,"answer_count":1,"score":-1,"last_activity_date":1632672452,"creation_date":1632670092,"question_id":69336356,"body_markdown":"I&#39;m a newbie in Java multiply Thread and I stuck in my research for a exercise what I find from a tutorial:\r\n\r\nImagine this scene: I have an 100hp gareen, and it have been attacked by 10 times,and my code is:\r\n\r\n    public class Hero{\r\n        public String name;\r\n        public float hp;\r\n        public int damage;\r\n    \r\n        public Hero(){\r\n            \r\n        }\r\n        public Hero(String name,float hp,int damage){\r\n            this.name = name;\r\n            this.hp = hp;\r\n            this.damage = damage;\r\n        }\r\n    \r\n        public synchronized void hurt(){\r\n                this.hp -= 1;\r\n        }\r\n    \r\n        public void recover(){\r\n                this.hp += 1;\r\n        }\r\n    \r\n        public void attackHero(Hero h) {\r\n            try {\r\n    \r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            h.hp-=damage;\r\n            System.out.format(&quot;%s attacked %s, %s&#39;hp become %.0f%n&quot;,name,h.name,h.name,h.hp);\r\n    \r\n            if(h.isDead())\r\n                System.out.println(h.name +&quot;deadï¼&quot;);\r\n        }\r\n    \r\n        public boolean isDead() {\r\n            return 0&gt;=hp?true:false;\r\n        }\r\n    \r\n    }\r\n\r\n```\r\npublic class TestHero {\r\n    public static void main(String[] args) {\r\n        Hero gareen = new Hero(&quot;Gareen&quot;, 100, 10);\r\n        System.out.printf(&quot;Initial HP of Gareen: %f\\n&quot;,gareen.hp);\r\n        int N = 10;\r\n        Thread[] hurtThreads = new Thread[N];\r\n        Thread[] coverThreads = new Thread[N];\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n            Thread t1 = new Thread(() -&gt; {\r\n                gareen.hurt();\r\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\r\n                try{\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e){\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\r\n            });\r\n\r\n            t1.start();\r\n            System.out.println(t1.getName() + &quot; started&quot;);\r\n            hurtThreads[i] = t1;\r\n        }\r\n\r\n// In this time, all threads have been spawned and unstart\r\n        for(Thread t : hurtThreads){\r\n            try {\r\n                t.join();\r\n                System.out.println(t.getName() + &quot; joined &quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Now, Gareen&#39;s HP: &quot; + gareen.hp);\r\n\t\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nIn my imagine, it should be likeï¼ˆI spaced the result () for readabilityï¼‰:\r\n\r\n```\r\nInitial HP of Gareen: 100.000000\r\n// started and joined will be printed first because they all are sychronized code\r\nThread-0 started\r\nThread-1 started\r\nThread-2 started\r\nThread-3 started\r\nThread-4 started\r\nThread-5 started\r\nThread-6 started\r\nThread-7 started\r\nThread-8 started\r\nThread-9 started\r\n//\r\nThread-0 joined \r\nThread-1 joined \r\nThread-2 joined \r\nThread-3 joined \r\nThread-4 joined \r\nThread-5 joined \r\nThread-6 joined \r\nThread-7 joined \r\nThread-8 joined \r\nThread-9 joined \r\n//\r\n// the thread will be started and ended orderly\r\nThread-0: Gareen lost 1 HP,now his HP: 99.0\r\nThread-1: Gareen lost 1 HP,now his HP: 98.0\r\nThread-2: Gareen lost 1 HP,now his HP: 97.0\r\nThread-3: Gareen lost 1 HP,now his HP: 96.0\r\nThread-5: Gareen lost 1 HP,now his HP: 95.0\r\nThread-6: Gareen lost 1 HP,now his HP: 94.0\r\nThread-7: Gareen lost 1 HP,now his HP: 93.0\r\nThread-8: Gareen lost 1 HP,now his HP: 92.0\r\nThread-9: Gareen lost 1 HP,now his HP: 91.0\r\nThread-10: Gareen lost 1 HP,now his HP: 90.0\r\n//\r\nThread-0 ended\r\nThread-1 ended\r\nThread-2 ended\r\nThread-3 ended\r\nThread-4 ended\r\nThread-5 ended\r\nThread-6 ended\r\nThread-7 ended\r\nThread-8 ended\r\nThread-9 ended\r\n//\r\nNow, Gareen&#39;s HP: 90.0\r\n```\r\n\r\n\r\n\r\nBut the reality is(same, spaced for readability):\r\n\r\n```java\r\nInitial HP of Gareen: 100.000000\r\nThread-0 started\r\nThread-1 started\r\nThread-2 started\r\nThread-3 started\r\nThread-4 started\r\nThread-5 started\r\nThread-6 started\r\nThread-7 started\r\nThread-8 started\r\nThread-9 started\r\n    \r\nThread-3: Gareen lost 1 HP,now his HP: 96.0\r\nThread-7: Gareen lost 1 HP,now his HP: 92.0\r\nThread-2: Gareen lost 1 HP,now his HP: 97.0\r\nThread-4: Gareen lost 1 HP,now his HP: 95.0\r\nThread-1: Gareen lost 1 HP,now his HP: 98.0\r\nThread-6: Gareen lost 1 HP,now his HP: 93.0\r\nThread-0: Gareen lost 1 HP,now his HP: 99.0\r\nThread-9: Gareen lost 1 HP,now his HP: 90.0\r\nThread-8: Gareen lost 1 HP,now his HP: 91.0\r\nThread-5: Gareen lost 1 HP,now his HP: 94.0\r\n    \r\nThread-3 ended\r\nThread-6 ended\r\nThread-2 ended\r\nThread-4 ended\r\nThread-1 ended\r\nThread-7 ended\r\nThread-9 ended\r\nThread-8 ended\r\nThread-0 ended\r\nThread-5 ended\r\n    \r\nThread-0 joined \r\nThread-1 joined \r\nThread-2 joined \r\nThread-3 joined \r\nThread-4 joined \r\nThread-5 joined \r\nThread-6 joined \r\nThread-7 joined \r\nThread-8 joined \r\nThread-9 joined \r\nNow, Gareen&#39;s HP: 90.0\r\n\r\n```\r\n\r\nI don&#39;t understand **why the join() always end after which called thread ends** but know that it blocked the last statement `System.out.println(&quot;Now, Gareen&#39;s HP: &quot; + gareen.hp);\r\n \t`\r\n\r\nto make sure it will be printed at the end. \r\n\r\nAccording printed result, seems like though **every threads start in almost same time, but their do things and ends are all different.**  Another weird part is I find that the changed HP is correctly cope with the thread tag like `t0 - 99`,`t2 - 98`, ...`t9 - 90`, but their don&#39;t print in descend orderly, I spent very long time to realized a possible reason:  **What message the system prints don&#39;t match what actually the threads doing,**\r\n\r\n \r\n\r\n I even find that the two print statements in defined Thread don&#39;t run orderly when I delete the `Thread.sleep`() , seems like **the code in Threads actually don&#39;t run in order. I&#39;m always think that Thread just a function that don&#39;t run orderly with synchronize code outside.**\r\n\r\n\r\n\r\n```java\r\n for (int i = 0; i &lt; N; i++) {\r\n            Thread t1 = new Thread(() -&gt; {\r\n                gareen.hurt();\r\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\r\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\r\n            });\r\n          \r\n\r\n            t1.start();\r\n            System.out.println(t1.getName() + &quot; started&quot;);\r\n            hurtThreads[i] = t1;\r\n        }\r\n```\r\n\r\n\r\n\r\n```java\r\nInitial HP of Gareen: 100.000000\r\nThread-0 started\r\nThread-1 started\r\nThread-2 started\r\nThread-3 started\r\nThread-4 started\r\nThread-5 started\r\nThread-6 started\r\nThread-7 started\r\nThread-8 started\r\nThread-9 started\r\n    \r\nThread-5: Gareen lost 1 HP,now his HP: 94.0\r\nThread-5 ended\r\nThread-3: Gareen lost 1 HP,now his HP: 96.0\r\nThread-8: Gareen lost 1 HP,now his HP: 91.0\r\nThread-9: Gareen lost 1 HP,now his HP: 90.0\r\nThread-9 ended\r\nThread-7: Gareen lost 1 HP,now his HP: 92.0\r\nThread-7 ended\r\nThread-0: Gareen lost 1 HP,now his HP: 99.0\r\nThread-0 ended\r\nThread-3 ended\r\nThread-8 ended\r\nThread-2: Gareen lost 1 HP,now his HP: 97.0\r\nThread-6: Gareen lost 1 HP,now his HP: 93.0\r\nThread-4: Gareen lost 1 HP,now his HP: 95.0\r\nThread-6 ended\r\nThread-1: Gareen lost 1 HP,now his HP: 98.0\r\nThread-0 joined \r\nThread-2 ended\r\nThread-1 ended\r\nThread-4 ended\r\n    \r\nThread-1 joined \r\nThread-2 joined \r\nThread-3 joined \r\nThread-4 joined \r\nThread-5 joined \r\nThread-6 joined \r\nThread-7 joined \r\nThread-8 joined \r\nThread-9 joined \r\nNow, Gareen&#39;s HP: 90.0\r\n\r\nProcess finished with exit code 0\r\n\r\n\r\n```\r\n\r\n\r\n\r\nNow I&#39;m completely confused,  what cause these phenomenon, and can I possible to realize the scene I imagined ?","title":"Why these threads no started and ended orderly?how to fix it?","body":"<p>I'm a newbie in Java multiply Thread and I stuck in my research for a exercise what I find from a tutorial:</p>\n<p>Imagine this scene: I have an 100hp gareen, and it have been attacked by 10 times,and my code is:</p>\n<pre><code>public class Hero{\n    public String name;\n    public float hp;\n    public int damage;\n\n    public Hero(){\n        \n    }\n    public Hero(String name,float hp,int damage){\n        this.name = name;\n        this.hp = hp;\n        this.damage = damage;\n    }\n\n    public synchronized void hurt(){\n            this.hp -= 1;\n    }\n\n    public void recover(){\n            this.hp += 1;\n    }\n\n    public void attackHero(Hero h) {\n        try {\n\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        h.hp-=damage;\n        System.out.format(&quot;%s attacked %s, %s'hp become %.0f%n&quot;,name,h.name,h.name,h.hp);\n\n        if(h.isDead())\n            System.out.println(h.name +&quot;deadï¼&quot;);\n    }\n\n    public boolean isDead() {\n        return 0&gt;=hp?true:false;\n    }\n\n}\n</code></pre>\n<pre><code>public class TestHero {\n    public static void main(String[] args) {\n        Hero gareen = new Hero(&quot;Gareen&quot;, 100, 10);\n        System.out.printf(&quot;Initial HP of Gareen: %f\\n&quot;,gareen.hp);\n        int N = 10;\n        Thread[] hurtThreads = new Thread[N];\n        Thread[] coverThreads = new Thread[N];\n\n        for (int i = 0; i &lt; N; i++) {\n            Thread t1 = new Thread(() -&gt; {\n                gareen.hurt();\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\n                try{\n                    Thread.sleep(3000);\n                } catch (InterruptedException e){\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\n            });\n\n            t1.start();\n            System.out.println(t1.getName() + &quot; started&quot;);\n            hurtThreads[i] = t1;\n        }\n\n// In this time, all threads have been spawned and unstart\n        for(Thread t : hurtThreads){\n            try {\n                t.join();\n                System.out.println(t.getName() + &quot; joined &quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        System.out.println(&quot;Now, Gareen's HP: &quot; + gareen.hp);\n    \n    }\n}\n\n\n\n</code></pre>\n<p>In my imagine, it should be likeï¼ˆI spaced the result () for readabilityï¼‰:</p>\n<pre><code>Initial HP of Gareen: 100.000000\n// started and joined will be printed first because they all are sychronized code\nThread-0 started\nThread-1 started\nThread-2 started\nThread-3 started\nThread-4 started\nThread-5 started\nThread-6 started\nThread-7 started\nThread-8 started\nThread-9 started\n//\nThread-0 joined \nThread-1 joined \nThread-2 joined \nThread-3 joined \nThread-4 joined \nThread-5 joined \nThread-6 joined \nThread-7 joined \nThread-8 joined \nThread-9 joined \n//\n// the thread will be started and ended orderly\nThread-0: Gareen lost 1 HP,now his HP: 99.0\nThread-1: Gareen lost 1 HP,now his HP: 98.0\nThread-2: Gareen lost 1 HP,now his HP: 97.0\nThread-3: Gareen lost 1 HP,now his HP: 96.0\nThread-5: Gareen lost 1 HP,now his HP: 95.0\nThread-6: Gareen lost 1 HP,now his HP: 94.0\nThread-7: Gareen lost 1 HP,now his HP: 93.0\nThread-8: Gareen lost 1 HP,now his HP: 92.0\nThread-9: Gareen lost 1 HP,now his HP: 91.0\nThread-10: Gareen lost 1 HP,now his HP: 90.0\n//\nThread-0 ended\nThread-1 ended\nThread-2 ended\nThread-3 ended\nThread-4 ended\nThread-5 ended\nThread-6 ended\nThread-7 ended\nThread-8 ended\nThread-9 ended\n//\nNow, Gareen's HP: 90.0\n</code></pre>\n<p>But the reality is(same, spaced for readability):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Initial HP of Gareen: 100.000000\nThread-0 started\nThread-1 started\nThread-2 started\nThread-3 started\nThread-4 started\nThread-5 started\nThread-6 started\nThread-7 started\nThread-8 started\nThread-9 started\n    \nThread-3: Gareen lost 1 HP,now his HP: 96.0\nThread-7: Gareen lost 1 HP,now his HP: 92.0\nThread-2: Gareen lost 1 HP,now his HP: 97.0\nThread-4: Gareen lost 1 HP,now his HP: 95.0\nThread-1: Gareen lost 1 HP,now his HP: 98.0\nThread-6: Gareen lost 1 HP,now his HP: 93.0\nThread-0: Gareen lost 1 HP,now his HP: 99.0\nThread-9: Gareen lost 1 HP,now his HP: 90.0\nThread-8: Gareen lost 1 HP,now his HP: 91.0\nThread-5: Gareen lost 1 HP,now his HP: 94.0\n    \nThread-3 ended\nThread-6 ended\nThread-2 ended\nThread-4 ended\nThread-1 ended\nThread-7 ended\nThread-9 ended\nThread-8 ended\nThread-0 ended\nThread-5 ended\n    \nThread-0 joined \nThread-1 joined \nThread-2 joined \nThread-3 joined \nThread-4 joined \nThread-5 joined \nThread-6 joined \nThread-7 joined \nThread-8 joined \nThread-9 joined \nNow, Gareen's HP: 90.0\n\n</code></pre>\n<p>I don't understand <strong>why the join() always end after which called thread ends</strong> but know that it blocked the last statement <code>System.out.println(&quot;Now, Gareen's HP: &quot; + gareen.hp); </code></p>\n<p>to make sure it will be printed at the end.</p>\n<p>According printed result, seems like though <strong>every threads start in almost same time, but their do things and ends are all different.</strong>  Another weird part is I find that the changed HP is correctly cope with the thread tag like <code>t0 - 99</code>,<code>t2 - 98</code>, ...<code>t9 - 90</code>, but their don't print in descend orderly, I spent very long time to realized a possible reason:  <strong>What message the system prints don't match what actually the threads doing,</strong></p>\n<p>I even find that the two print statements in defined Thread don't run orderly when I delete the <code>Thread.sleep</code>() , seems like <strong>the code in Threads actually don't run in order. I'm always think that Thread just a function that don't run orderly with synchronize code outside.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> for (int i = 0; i &lt; N; i++) {\n            Thread t1 = new Thread(() -&gt; {\n                gareen.hurt();\n                System.out.println(Thread.currentThread().getName() + &quot;: Gareen lost 1 HP,now his HP: &quot; + gareen.hp);\n                System.out.println(Thread.currentThread().getName() + &quot; ended&quot;);\n            });\n          \n\n            t1.start();\n            System.out.println(t1.getName() + &quot; started&quot;);\n            hurtThreads[i] = t1;\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Initial HP of Gareen: 100.000000\nThread-0 started\nThread-1 started\nThread-2 started\nThread-3 started\nThread-4 started\nThread-5 started\nThread-6 started\nThread-7 started\nThread-8 started\nThread-9 started\n    \nThread-5: Gareen lost 1 HP,now his HP: 94.0\nThread-5 ended\nThread-3: Gareen lost 1 HP,now his HP: 96.0\nThread-8: Gareen lost 1 HP,now his HP: 91.0\nThread-9: Gareen lost 1 HP,now his HP: 90.0\nThread-9 ended\nThread-7: Gareen lost 1 HP,now his HP: 92.0\nThread-7 ended\nThread-0: Gareen lost 1 HP,now his HP: 99.0\nThread-0 ended\nThread-3 ended\nThread-8 ended\nThread-2: Gareen lost 1 HP,now his HP: 97.0\nThread-6: Gareen lost 1 HP,now his HP: 93.0\nThread-4: Gareen lost 1 HP,now his HP: 95.0\nThread-6 ended\nThread-1: Gareen lost 1 HP,now his HP: 98.0\nThread-0 joined \nThread-2 ended\nThread-1 ended\nThread-4 ended\n    \nThread-1 joined \nThread-2 joined \nThread-3 joined \nThread-4 joined \nThread-5 joined \nThread-6 joined \nThread-7 joined \nThread-8 joined \nThread-9 joined \nNow, Gareen's HP: 90.0\n\nProcess finished with exit code 0\n\n\n</code></pre>\n<p>Now I'm completely confused,  what cause these phenomenon, and can I possible to realize the scene I imagined ?</p>\n"},{"tags":["java","spring-boot","swagger","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1627288458,"post_id":68507320,"comment_id":121106402,"body_markdown":"Try setting [`springdoc.swagger-ui.defaultModelsExpandDepth`](https://springdoc.org/properties.html#_swagger_ui_properties) (Model**s** not Model) to -1.","body":"Try setting <a href=\"https://springdoc.org/properties.html#_swagger_ui_properties\" rel=\"nofollow noreferrer\"><code>springdoc.swagger-ui.defaultModelsExpandDepth</code></a> (Model<b>s</b> not Model) to -1."}],"answers":[{"tags":[],"owner":{"account_id":12500940,"reputation":1877,"user_id":9099423,"display_name":"W Kenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632672049,"creation_date":1632666050,"answer_id":69335814,"question_id":68507320,"body_markdown":"Try use to one in the Docket, it works!\r\n\r\n    Dockek()...\r\n    .ignoredParameterTypes(ModleName.class)\r\n\r\n","title":"Open API UI 3.0.0 Hide Schema at the bottom without removing them from the API endpoint documentation","body":"<p>Try use to one in the Docket, it works!</p>\n<pre><code>Dockek()...\n.ignoredParameterTypes(ModleName.class)\n</code></pre>\n"}],"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632672049,"creation_date":1627105272,"question_id":68507320,"body_markdown":"I have been working with open api ui 3.0.0 and when I give annotations on API endpoints the APIs are shown on swagger endpoint. But interestingly there is a list of schemas that shows DTOs used in the endpoints. I need to remove those endpoints. So I tried setting `content = @Content(schema = @Schema(hidden = true)` on `@ApiResponse`.\r\n\r\nIt seems that the models used in endpoints annotated with these annotations are not shown except for endpoints where a DTO is used in request structure that is shown no matter what and the problem with others is that the response content seems to be shown empty with just response code and descritpion.\r\n\r\nIs there any proper way of doing this in spring boot. Most of the standard API documentations doesn&#39;t shows this schemas and some of the DTOs are even something that I don&#39;t want to show the consumers of swagger documentation.\r\n\r\n","title":"Open API UI 3.0.0 Hide Schema at the bottom without removing them from the API endpoint documentation","body":"<p>I have been working with open api ui 3.0.0 and when I give annotations on API endpoints the APIs are shown on swagger endpoint. But interestingly there is a list of schemas that shows DTOs used in the endpoints. I need to remove those endpoints. So I tried setting <code>content = @Content(schema = @Schema(hidden = true)</code> on <code>@ApiResponse</code>.</p>\n<p>It seems that the models used in endpoints annotated with these annotations are not shown except for endpoints where a DTO is used in request structure that is shown no matter what and the problem with others is that the response content seems to be shown empty with just response code and descritpion.</p>\n<p>Is there any proper way of doing this in spring boot. Most of the standard API documentations doesn't shows this schemas and some of the DTOs are even something that I don't want to show the consumers of swagger documentation.</p>\n"},{"tags":["java","for-loop","token"],"comments":[{"owner":{"account_id":12215167,"reputation":412,"user_id":8915836,"display_name":"mayamar"},"score":0,"creation_date":1632600982,"post_id":69329588,"comment_id":122538612,"body_markdown":"The variable j is not used inside the loop. What is the inner loop for?","body":"The variable j is not used inside the loop. What is the inner loop for?"},{"owner":{"account_id":21248726,"reputation":11,"user_id":15631184,"display_name":"Yang"},"score":0,"creation_date":1632602967,"post_id":69329588,"comment_id":122538990,"body_markdown":"as I mentioned, the inner loop is for scanning every character in ip[i]: For ex, in this case: ip[0] would be 34. The inner loop will scan through 34 from j to the length of it which is 2.","body":"as I mentioned, the inner loop is for scanning every character in ip[i]: For ex, in this case: ip[0] would be 34. The inner loop will scan through 34 from j to the length of it which is 2."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633284781,"post_id":69329588,"comment_id":122713529,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632671811,"creation_date":1632612921,"answer_id":69330788,"question_id":69329588,"body_markdown":"This alternative approach might be close to doing the job.\r\n\r\nFor working character-by-character, use [code point][1] integer numbers. \r\n\r\nThe Unicode Consortium has identified over 140,000 characters across various languages, plus symbols and emojis. To each of these the Consortium has permanently assigned a specific number as an identifier. That number is known as a *code point*. \r\n\r\nAvoid `char` and its wrapper class `Character` to represent individual characters. The `char` type in Java is legacy, essentially broken, unable to represent most characters.\r\n\r\n\r\n\r\n```java\r\npackage work.basil.text;\r\n\r\npublic class App6\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App6 app = new App6();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ()\r\n    {\r\n        String input = &quot;A1&#128567;+&quot;;\r\n        input.codePoints().forEach(\r\n                App6 :: report\r\n        );\r\n    }\r\n\r\n    public static void report ( int codePoint )\r\n    {\r\n        if ( Character.isJavaIdentifierPart( codePoint ) )\r\n        {\r\n            System.out.println( &quot;Java Identifier part: &quot; + Character.toString( codePoint ) );\r\n        } else if ( Character.isDigit( codePoint ) )\r\n        {\r\n            System.out.println( &quot;Digit: &quot; + Character.toString( codePoint ) );\r\n        } else if ( Character.getType( codePoint ) == Character.MATH_SYMBOL )\r\n        {\r\n            System.out.println( &quot;Math symbol: &quot; + Character.toString( codePoint ) );\r\n        } else\r\n        {\r\n            System.out.println( &quot;Something else: &quot; + Character.toString( codePoint ) + &quot; (code point &quot; + codePoint + &quot;).&quot; );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nJava Identifier part: A\r\nJava Identifier part: 1\r\nSomething else: &#128567; (code point 128567).\r\nMath symbol: +\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point","title":"Problem to scan through every character in java","body":"<p>This alternative approach might be close to doing the job.</p>\n<p>For working character-by-character, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<p>The Unicode Consortium has identified over 140,000 characters across various languages, plus symbols and emojis. To each of these the Consortium has permanently assigned a specific number as an identifier. That number is known as a <em>code point</em>.</p>\n<p>Avoid <code>char</code> and its wrapper class <code>Character</code> to represent individual characters. The <code>char</code> type in Java is legacy, essentially broken, unable to represent most characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.text;\n\npublic class App6\n{\n    public static void main ( String[] args )\n    {\n        App6 app = new App6();\n        app.demo();\n    }\n\n    private void demo ()\n    {\n        String input = &quot;A1ðŸ˜·+&quot;;\n        input.codePoints().forEach(\n                App6 :: report\n        );\n    }\n\n    public static void report ( int codePoint )\n    {\n        if ( Character.isJavaIdentifierPart( codePoint ) )\n        {\n            System.out.println( &quot;Java Identifier part: &quot; + Character.toString( codePoint ) );\n        } else if ( Character.isDigit( codePoint ) )\n        {\n            System.out.println( &quot;Digit: &quot; + Character.toString( codePoint ) );\n        } else if ( Character.getType( codePoint ) == Character.MATH_SYMBOL )\n        {\n            System.out.println( &quot;Math symbol: &quot; + Character.toString( codePoint ) );\n        } else\n        {\n            System.out.println( &quot;Something else: &quot; + Character.toString( codePoint ) + &quot; (code point &quot; + codePoint + &quot;).&quot; );\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Java Identifier part: A\nJava Identifier part: 1\nSomething else: ðŸ˜· (code point 128567).\nMath symbol: +\n</code></pre>\n"}],"owner":{"account_id":21248726,"reputation":11,"user_id":15631184,"display_name":"Yang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632671811,"creation_date":1632600052,"question_id":69329588,"body_markdown":"so I&#39;m doing a token scanner that scans through a text file and identifies each of the tokens in that text file to either it is identifier or number or symbol. Here is my code:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n\r\n    public class Main {\r\n\r\n    public static void main(String args[]) throws FileNotFoundException {\r\n    \r\n    //Create a pattern to see if it matches the string\r\n    String IDENTIFIER = &quot;([a-z]|[A-Z])([a-z]|[A-Z]|[0-9])*&quot;;\r\n    String SYMBOL = &quot;\\\\*|\\\\+|\\\\(|\\\\)|\\\\/|\\\\-&quot;;\r\n    String NUMBER = &quot;\\\\d+&quot;;\r\n\r\n    //Scan the text input file\r\n    Scanner input = new Scanner(new File(&quot;input.txt&quot;));\r\n   \r\n    while(input.hasNext()){\r\n      String token = input.nextLine();\r\n      String ip[] = token.split(&quot;\\\\s+&quot;);\r\n      System.out.println(&quot;Line: &quot; + token);\r\n\r\n      for(int i = 0 ; i&lt; ip.length; i++){\r\n        for(int j = 0; j &lt;ip[i].length(); j++){\r\n          if(ip[i].substring(0,ip[i].length()).matches(IDENTIFIER)){\r\n                System.out.println(ip[i] + &quot; : IDENTIFIER&quot;);\r\n          }else if(ip[i].substring(0,ip[i].length()).matches(NUMBER)){\r\n                System.out.println(ip[i]+ &quot; : NUMBER&quot;);\r\n          }else if(ip[i].substring(0,ip[i].length()).matches(SYMBOL)){\r\n                System.out.println(ip[i] + &quot; : SYMBOL&quot;);\r\n          }else \r\n                System.out.println(&quot;ERROR READING&quot; + &quot;&#39;&quot; + ip[i] + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n  \r\n\r\n\r\nOn the double for loop, the outer one scans through every single element in the array and the inner one scans through every single character of the element in the array. But it doesn&#39;t seem to work. Let&#39;s say the input file is:\r\n34 + 89&amp; - x * y23 / 56n34\r\n\r\nthe output I got is: \r\nLine: 34 + 89&amp; - x * y23 / 56n34\r\n34 : NUMBER\r\n34 : NUMBER\r\n+ : SYMBOL\r\nERROR READING&#39;89&amp;&#39;\r\nERROR READING&#39;89&amp;&#39;\r\nERROR READING&#39;89&amp;&#39;\r\n- : SYMBOL\r\nx : IDENTIFIER\r\n* : SYMBOL\r\ny23 : IDENTIFIER\r\ny23 : IDENTIFIER\r\ny23 : IDENTIFIER\r\n/ : SYMBOL\r\nERROR READING&#39;56n34&#39;\r\nERROR READING&#39;56n34&#39;\r\nERROR READING&#39;56n34&#39;\r\nERROR READING&#39;56n34&#39;\r\nERROR READING&#39;56n34&#39;\r\n\r\nthe out put that I expected:\r\nLine: 34 + 89&amp; - x * y23 / 56n34\r\n34 : NUMBER\r\n+ : SYMBOL\r\n89: NUMBER\r\nERROR READING&#39;&amp;&#39;\r\n- : SYMBOL\r\nx : IDENTIFIER\r\n* : SYMBOL\r\ny23 : IDENTIFIER\r\n/ : SYMBOL\r\n56: NUMBER\r\nn34: IDENTIFIER\r\n\r\nAnyone knows what is the problem what my for loop. Thanks\r\n\r\n\r\n\r\n\r\n    \r\n      \r\n    \r\n    ","title":"Problem to scan through every character in java","body":"<p>so I'm doing a token scanner that scans through a text file and identifies each of the tokens in that text file to either it is identifier or number or symbol. Here is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Main {\n\npublic static void main(String args[]) throws FileNotFoundException {\n\n//Create a pattern to see if it matches the string\nString IDENTIFIER = &quot;([a-z]|[A-Z])([a-z]|[A-Z]|[0-9])*&quot;;\nString SYMBOL = &quot;\\\\*|\\\\+|\\\\(|\\\\)|\\\\/|\\\\-&quot;;\nString NUMBER = &quot;\\\\d+&quot;;\n\n//Scan the text input file\nScanner input = new Scanner(new File(&quot;input.txt&quot;));\n\nwhile(input.hasNext()){\n  String token = input.nextLine();\n  String ip[] = token.split(&quot;\\\\s+&quot;);\n  System.out.println(&quot;Line: &quot; + token);\n\n  for(int i = 0 ; i&lt; ip.length; i++){\n    for(int j = 0; j &lt;ip[i].length(); j++){\n      if(ip[i].substring(0,ip[i].length()).matches(IDENTIFIER)){\n            System.out.println(ip[i] + &quot; : IDENTIFIER&quot;);\n      }else if(ip[i].substring(0,ip[i].length()).matches(NUMBER)){\n            System.out.println(ip[i]+ &quot; : NUMBER&quot;);\n      }else if(ip[i].substring(0,ip[i].length()).matches(SYMBOL)){\n            System.out.println(ip[i] + &quot; : SYMBOL&quot;);\n      }else \n            System.out.println(&quot;ERROR READING&quot; + &quot;'&quot; + ip[i] + &quot;'&quot;);\n    }\n  }\n}\n</code></pre>\n<p>}\n}</p>\n<p>On the double for loop, the outer one scans through every single element in the array and the inner one scans through every single character of the element in the array. But it doesn't seem to work. Let's say the input file is:\n34 + 89&amp; - x * y23 / 56n34</p>\n<p>the output I got is:\nLine: 34 + 89&amp; - x * y23 / 56n34\n34 : NUMBER\n34 : NUMBER</p>\n<ul>\n<li>: SYMBOL\nERROR READING'89&amp;'\nERROR READING'89&amp;'\nERROR READING'89&amp;'</li>\n</ul>\n<ul>\n<li>: SYMBOL\nx : IDENTIFIER</li>\n</ul>\n<ul>\n<li>: SYMBOL\ny23 : IDENTIFIER\ny23 : IDENTIFIER\ny23 : IDENTIFIER\n/ : SYMBOL\nERROR READING'56n34'\nERROR READING'56n34'\nERROR READING'56n34'\nERROR READING'56n34'\nERROR READING'56n34'</li>\n</ul>\n<p>the out put that I expected:\nLine: 34 + 89&amp; - x * y23 / 56n34\n34 : NUMBER</p>\n<ul>\n<li>: SYMBOL\n89: NUMBER\nERROR READING'&amp;'</li>\n</ul>\n<ul>\n<li>: SYMBOL\nx : IDENTIFIER</li>\n</ul>\n<ul>\n<li>: SYMBOL\ny23 : IDENTIFIER\n/ : SYMBOL\n56: NUMBER\nn34: IDENTIFIER</li>\n</ul>\n<p>Anyone knows what is the problem what my for loop. Thanks</p>\n"},{"tags":["java","android","maven"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1402952066,"post_id":24251952,"comment_id":37461924,"body_markdown":"pom should be at the root folder, run `mvn3 clean install` as shown in your tutorial to create an apk file.","body":"pom should be at the root folder, run <code>mvn3 clean install</code> as shown in your tutorial to create an apk file."},{"owner":{"account_id":4598936,"reputation":111,"user_id":3730244,"accept_rate":50,"display_name":"user3730244"},"score":0,"creation_date":1402953127,"post_id":24251952,"comment_id":37462437,"body_markdown":"do i run mvn3 clean install  from dos ? if so , where to I point my dos to.. ? i mean I know i need to do a cd  to some directory.. right ?","body":"do i run mvn3 clean install  from dos ? if so , where to I point my dos to.. ? i mean I know i need to do a cd  to some directory.. right ?"}],"answers":[{"tags":[],"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402952022,"creation_date":1402952022,"answer_id":24252025,"question_id":24251952,"body_markdown":"You should use the defaul project layout:\r\n\r\nhttp://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\r\n\r\nThe pom.xml is placed in the projects root-folder.","title":"Where do I place the pom.xml file?","body":"<p>You should use the defaul project layout:</p>\n\n<p><a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></p>\n\n<p>The pom.xml is placed in the projects root-folder.</p>\n"},{"tags":[],"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402953963,"creation_date":1402953963,"answer_id":24252492,"question_id":24251952,"body_markdown":"Maven commands that execute on a POM need to be executed in the current working directory of your project. Say your project is in `c:\\myproject`. That means your pom file would be located at `c:\\myproject\\pom.xml`. When you run a maven command in the command line you need to set your current working directory to `c:\\myproject`. \r\n\r\nIn windows if you hold down `shift` then right click on the open folder, you will see an additional menu item called `Open command window here`.\r\n\r\nAlternatively you can always open your command window and type in `cd &lt;path to your project&gt;`.\r\n\r\nOnce there type in your maven commands such as `mvn3 clean install`\r\n\r\n\r\nHeres a screenshot of the drop down for windows\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Hfwtc.jpg","title":"Where do I place the pom.xml file?","body":"<p>Maven commands that execute on a POM need to be executed in the current working directory of your project. Say your project is in <code>c:\\myproject</code>. That means your pom file would be located at <code>c:\\myproject\\pom.xml</code>. When you run a maven command in the command line you need to set your current working directory to <code>c:\\myproject</code>. </p>\n\n<p>In windows if you hold down <code>shift</code> then right click on the open folder, you will see an additional menu item called <code>Open command window here</code>.</p>\n\n<p>Alternatively you can always open your command window and type in <code>cd &lt;path to your project&gt;</code>.</p>\n\n<p>Once there type in your maven commands such as <code>mvn3 clean install</code></p>\n\n<p>Heres a screenshot of the drop down for windows\n<img src=\"https://i.stack.imgur.com/Hfwtc.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632671416,"creation_date":1632671416,"answer_id":69336524,"question_id":24251952,"body_markdown":"This occurred due to change of a project name, and the old project name of a module keep showing in a bracket beside the new project name. if you want to remove the old name in the bracket[. . . .], go to your projects settings.gradle file or use short cut Ctrl+Shift+F to get the file. You will see old module project name. \r\n         \r\n\r\n - include &#39;:app&#39;\r\n \r\n - rootProject.name = &quot;the old project name of a module&quot;\r\n\r\nIn rootProject.name=&quot;....&quot; Renamed it with your new project name and synced the project, then the root module name will be updated and the old module project name in the bracket will be gone. ","title":"Where do I place the pom.xml file?","body":"<p>This occurred due to change of a project name, and the old project name of a module keep showing in a bracket beside the new project name. if you want to remove the old name in the bracket[. . . .], go to your projects settings.gradle file or use short cut Ctrl+Shift+F to get the file. You will see old module project name.</p>\n<ul>\n<li><p>include ':app'</p>\n</li>\n<li><p>rootProject.name = &quot;the old project name of a module&quot;</p>\n</li>\n</ul>\n<p>In rootProject.name=&quot;....&quot; Renamed it with your new project name and synced the project, then the root module name will be updated and the old module project name in the bracket will be gone.</p>\n"}],"owner":{"account_id":4598936,"reputation":111,"user_id":3730244,"accept_rate":50,"display_name":"user3730244"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11907,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1632671416,"creation_date":1402951699,"question_id":24251952,"body_markdown":"I have been going through [this tutorial][1] and got maven installed, created my environment variables, created a new android project but i do not know where to place the pom.xml file ?\r\n\r\nalso, how do I run my maven build so a new .apk file is created ?\r\n\r\n\r\n  [1]: http://www.vogella.com/tutorials/AndroidBuildMaven/article.html","title":"Where do I place the pom.xml file?","body":"<p>I have been going through <a href=\"http://www.vogella.com/tutorials/AndroidBuildMaven/article.html\" rel=\"noreferrer\">this tutorial</a> and got maven installed, created my environment variables, created a new android project but i do not know where to place the pom.xml file ?</p>\n\n<p>also, how do I run my maven build so a new .apk file is created ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":252240,"reputation":18364,"user_id":530160,"accept_rate":69,"display_name":"Nick ODell"},"score":4,"creation_date":1307080964,"post_id":6223477,"comment_id":7249353,"body_markdown":"You&#39;ve defined an array of zero length. You want a datastructure that can change size on the fly, like ArrayList.","body":"You&#39;ve defined an array of zero length. You want a datastructure that can change size on the fly, like ArrayList."}],"answers":[{"tags":[],"owner":{"account_id":396855,"reputation":15238,"user_id":760656,"display_name":"Ramesh PVK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307161604,"creation_date":1307080864,"answer_id":6223523,"question_id":6223477,"body_markdown":"A Working example\r\n\r\n    public class Main\r\n    {\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(factorsOf(24));\r\n    }\r\n\r\n    static List&lt;Integer&gt; factorsOf (int val) {\r\n\r\n          List&lt;Integer&gt; factors  = new ArrayList&lt;Integer&gt;();\r\n          for(int i=1; i &lt;= val/2; i++)\r\n          {\r\n              if(val % i == 0)\r\n              {\r\n                  factors.add(i);\r\n              }\r\n          }\r\n\r\n          return factors;\r\n\r\n      }\r\n\r\n      }\r\n","title":"how to factor a number java","body":"<p>A Working example</p>\n\n<pre><code>public class Main\n{\npublic static void main(String[] args)\n{\n    System.out.println(factorsOf(24));\n}\n\nstatic List&lt;Integer&gt; factorsOf (int val) {\n\n      List&lt;Integer&gt; factors  = new ArrayList&lt;Integer&gt;();\n      for(int i=1; i &lt;= val/2; i++)\n      {\n          if(val % i == 0)\n          {\n              factors.add(i);\n          }\n      }\n\n      return factors;\n\n  }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":287569,"reputation":695,"user_id":587465,"accept_rate":65,"display_name":"Nik"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1516348658,"creation_date":1307080873,"answer_id":6223525,"question_id":6223477,"body_markdown":"You just missed one step in `if`. Following code would be correct:\r\n\r\n    System.out.println(&quot;\\nThe factors of &quot; + val + &quot; are:&quot;);\r\n\r\nYou can take a square root of val for comparison and start iterator by value 2\r\n \r\n\r\n    if(val % i == 0)\r\n    {   \r\n       numArray1 [index] = i;\r\n       val=val/i; //add this\r\n      index++;\r\n    }\r\n\r\nbut here you need to check if index is 2,it is `prime`.\r\n","title":"how to factor a number java","body":"<p>You just missed one step in <code>if</code>. Following code would be correct:</p>\n\n<pre><code>System.out.println(\"\\nThe factors of \" + val + \" are:\");\n</code></pre>\n\n<p>You can take a square root of val for comparison and start iterator by value 2</p>\n\n<pre><code>if(val % i == 0)\n{   \n   numArray1 [index] = i;\n   val=val/i; //add this\n  index++;\n}\n</code></pre>\n\n<p>but here you need to check if index is 2,it is <code>prime</code>.</p>\n"},{"tags":[],"owner":{"account_id":333234,"reputation":566,"user_id":658991,"display_name":"user658991"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1307082339,"creation_date":1307081333,"answer_id":6223587,"question_id":6223477,"body_markdown":"You have a few errors, you cannot create int array without size. I used array list instead.\r\n\r\n\tstatic Integer[] factorsOf(int val) {\r\n\t\tList&lt;Integer&gt; numArray = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tSystem.out.println(&quot;\\nThe factors of &quot; + val + &quot; are:&quot;);\r\n\t\tfor (int i = 2; i &lt;= Math.ceil(Math.sqrt(val)); i++) {\r\n\t\t\tif (val % i == 0) {\r\n\t\t\t\tnumArray.add(i);\r\n\t\t\t\tval /= i;\r\n\t\t\t\tSystem.out.print(i + &quot;, &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnumArray.add(val);\r\n\t\tSystem.out.print(val);\r\n\t\treturn numArray.toArray(new Integer[numArray.size()]);\r\n\t}\r\n\r\n\r\nFull program using int[] according to your request.\r\n\r\n    public class Test2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint val = 5;\r\n    \t\tint [] result = factorsOf(val);\r\n    \t\tSystem.out.println(&quot;\\nThe factors of &quot; + val + &quot; are:&quot;);\r\n    \t\tfor(int i = 0; i &lt; result.length &amp;&amp; result[i] != 0; i ++){\r\n    \t\t\tSystem.out.println(result[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic int[] factorsOf(int val) {\r\n    \t\tint limit = (int) Math.ceil(Math.sqrt(val));\r\n    \t\tint [] numArray = new int[limit];\r\n    \t\tint index = 0;\r\n    \r\n    \t\tfor (int i = 1; i &lt;= limit; i++) {\r\n    \t\t\tif (val % i == 0) {\r\n    \t\t\t\tnumArray[index++] = i;\r\n    \t\t\t\tval /= i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tnumArray[index] = val;\r\n    \t\treturn numArray;\r\n    \t}\r\n    }\r\n\r\n","title":"how to factor a number java","body":"<p>You have a few errors, you cannot create int array without size. I used array list instead.</p>\n\n<pre><code>static Integer[] factorsOf(int val) {\n    List&lt;Integer&gt; numArray = new ArrayList&lt;Integer&gt;();\n\n    System.out.println(\"\\nThe factors of \" + val + \" are:\");\n    for (int i = 2; i &lt;= Math.ceil(Math.sqrt(val)); i++) {\n        if (val % i == 0) {\n            numArray.add(i);\n            val /= i;\n            System.out.print(i + \", \");\n        }\n    }\n    numArray.add(val);\n    System.out.print(val);\n    return numArray.toArray(new Integer[numArray.size()]);\n}\n</code></pre>\n\n<p>Full program using int[] according to your request.</p>\n\n<pre><code>public class Test2 {\n    public static void main(String[] args) {\n        int val = 5;\n        int [] result = factorsOf(val);\n        System.out.println(\"\\nThe factors of \" + val + \" are:\");\n        for(int i = 0; i &lt; result.length &amp;&amp; result[i] != 0; i ++){\n            System.out.println(result[i] + \" \");\n        }\n    }\n\n    static int[] factorsOf(int val) {\n        int limit = (int) Math.ceil(Math.sqrt(val));\n        int [] numArray = new int[limit];\n        int index = 0;\n\n        for (int i = 1; i &lt;= limit; i++) {\n            if (val % i == 0) {\n                numArray[index++] = i;\n                val /= i;\n            }\n        }\n        numArray[index] = val;\n        return numArray;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411067,"reputation":1716,"user_id":783280,"accept_rate":100,"display_name":"if_zero_equals_one"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307137934,"creation_date":1307137934,"answer_id":6233030,"question_id":6223477,"body_markdown":"    public int[] primeFactors(int num)\r\n    {\r\n        ArrayList&lt;Integer&gt; factors = new ArrayList&lt;Integer&gt;();\r\n        factors.add(1);\r\n        for (int a = 2;  num&gt;1; )\r\n            if (num%a==0)\r\n            {\r\n                factors.add(a);\r\n                num/=a;\r\n            }\r\n            else\r\n                a++;\r\n        int[] out = new int[factors.size()];\r\n        for (int a = 0; a &lt; out.length; a++)\r\n            out[a] = factors.get(a);\r\n        return out;\r\n    }","title":"how to factor a number java","body":"<pre><code>public int[] primeFactors(int num)\n{\n    ArrayList&lt;Integer&gt; factors = new ArrayList&lt;Integer&gt;();\n    factors.add(1);\n    for (int a = 2;  num&gt;1; )\n        if (num%a==0)\n        {\n            factors.add(a);\n            num/=a;\n        }\n        else\n            a++;\n    int[] out = new int[factors.size()];\n    for (int a = 0; a &lt; out.length; a++)\n        out[a] = factors.get(a);\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380575051,"creation_date":1380575051,"answer_id":19103802,"question_id":6223477,"body_markdown":"Are you looking a more faster way?:\r\n\r\n\tstatic int[] getFactors(int value) {\r\n        int[] a = new int[31]; // 2^31\r\n        int i = 0, j;\r\n        int num = value;\r\n        while (num % 2 == 0) {\r\n            a[i++] = 2;\r\n            num /= 2;\r\n        }\r\n        j = 3;\r\n        while (j &lt;= Math.sqrt(num) + 1) {\r\n            if (num % j == 0) {\r\n                a[i++] = j;\r\n                num /= j;\r\n            } else {\r\n                j += 2;\r\n            }\r\n        }\r\n        if (num &gt; 1) {\r\n            a[i++] = num;\r\n        }\r\n        int[] b = Arrays.copyOf(a, i);\r\n        return b;\r\n    }","title":"how to factor a number java","body":"<p>Are you looking a more faster way?:</p>\n\n<pre><code>static int[] getFactors(int value) {\n    int[] a = new int[31]; // 2^31\n    int i = 0, j;\n    int num = value;\n    while (num % 2 == 0) {\n        a[i++] = 2;\n        num /= 2;\n    }\n    j = 3;\n    while (j &lt;= Math.sqrt(num) + 1) {\n        if (num % j == 0) {\n            a[i++] = j;\n            num /= j;\n        } else {\n            j += 2;\n        }\n    }\n    if (num &gt; 1) {\n        a[i++] = num;\n    }\n    int[] b = Arrays.copyOf(a, i);\n    return b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6923017,"reputation":821,"user_id":5314958,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551002217,"creation_date":1551002217,"answer_id":54850704,"question_id":6223477,"body_markdown":"Most of the approaches suggested here have 0(n) time complexity. This can be easily resolved using binary search approach with **0(log n)** time complexity.\r\n\r\nWhat do you basically are looking for is called **Prime Factors** (although 1 is not considered among prime factors).\r\n\r\n\r\n    //finding any occurrence of the no by binary search\r\n    static int[] primeFactors(int number) {\r\n        List&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n        //since you wanted 1 in the res adn every no will be divided by 1;\r\n        al.add(1); \r\n        \r\n        for(int i = 2; i&lt; number; i++) {\r\n         while(number%i == 0) {\r\n            al.add(i);\r\n            number = number/i;\r\n         }\r\n      }\r\n      if(number &gt;2) \r\n         al.add(number);\r\n         \r\n      int[] res = new int[al.size()];\r\n      for(int i=0; i&lt;al.size(); i++)\r\n        res[i] = al.get(i);\r\n     \r\n      return res;\r\n    }\r\n\r\nSay input is 24, we keep dividing the input by 2 till all multiples of 2 are gone, the increase i to 3\r\n\r\nHere is a link to the working code: http://tpcg.io/AWH2TJ\r\n\r\n\r\n","title":"how to factor a number java","body":"<p>Most of the approaches suggested here have 0(n) time complexity. This can be easily resolved using binary search approach with <strong>0(log n)</strong> time complexity.</p>\n\n<p>What do you basically are looking for is called <strong>Prime Factors</strong> (although 1 is not considered among prime factors).</p>\n\n<pre><code>//finding any occurrence of the no by binary search\nstatic int[] primeFactors(int number) {\n    List&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n    //since you wanted 1 in the res adn every no will be divided by 1;\n    al.add(1); \n\n    for(int i = 2; i&lt; number; i++) {\n     while(number%i == 0) {\n        al.add(i);\n        number = number/i;\n     }\n  }\n  if(number &gt;2) \n     al.add(number);\n\n  int[] res = new int[al.size()];\n  for(int i=0; i&lt;al.size(); i++)\n    res[i] = al.get(i);\n\n  return res;\n}\n</code></pre>\n\n<p>Say input is 24, we keep dividing the input by 2 till all multiples of 2 are gone, the increase i to 3</p>\n\n<p>Here is a link to the working code: <a href=\"http://tpcg.io/AWH2TJ\" rel=\"nofollow noreferrer\">http://tpcg.io/AWH2TJ</a></p>\n"},{"tags":[],"owner":{"account_id":19953558,"reputation":1,"user_id":14622688,"display_name":"Ð”Ð¼Ð¸Ñ‚Ñ€Ð¸Ð¹ ÐšÐ¾Ð²Ð°Ð»ÑŒÑ‡ÑƒÐº"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632670992,"creation_date":1632656713,"answer_id":69334577,"question_id":6223477,"body_markdown":"Rework an algorithm for working with big numbers using BigInteger class. Try this:\r\n\r\n~~~java\r\nimport java.math.BigInteger;\r\n\r\nclass NumbersFactorization {\r\n\tpublic void printPrimeNumbers(String bigNumber) {\r\n\t\tBigInteger number = new BigInteger(bigNumber);\r\n\t\tfor (BigInteger i = BigInteger.TWO; i.compareTo(number) &lt;= 0; i = i.add(BigInteger.ONE)) {\r\n\t\t\twhile(number.remainder(i) == BigInteger.ZERO) {\r\n\t\t\t\tSystem.out.print(i + &quot; &quot;);\r\n\t\t\t\tnumber = number.divide(i);\r\n\t\t     }\r\n\t\t}\r\n\t\tif (number.compareTo(BigInteger.TWO) &gt; 0)  System.out.println(number);\r\n\t}\r\n}\r\n~~~","title":"how to factor a number java","body":"<p>Rework an algorithm for working with big numbers using BigInteger class. Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\n\nclass NumbersFactorization {\n    public void printPrimeNumbers(String bigNumber) {\n        BigInteger number = new BigInteger(bigNumber);\n        for (BigInteger i = BigInteger.TWO; i.compareTo(number) &lt;= 0; i = i.add(BigInteger.ONE)) {\n            while(number.remainder(i) == BigInteger.ZERO) {\n                System.out.print(i + &quot; &quot;);\n                number = number.divide(i);\n             }\n        }\n        if (number.compareTo(BigInteger.TWO) &gt; 0)  System.out.println(number);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":251400,"reputation":2741,"user_id":528750,"accept_rate":33,"display_name":"Charles Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20993,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":7,"score":5,"last_activity_date":1632670992,"creation_date":1307080440,"question_id":6223477,"body_markdown":"I need to factorize a number like 24 to 1,2,2,2,3. My method for that:\r\n  \r\n\r\n    static int[] factorsOf (int val) {\r\n              int index = 0;\r\n    \t  int []numArray = new int[index];\r\n    \t  \r\n    \t  System.out.println(&quot;\\nThe factors of &quot; + val + &quot; are:&quot;);\r\n    \t  for(int i=1; i &lt;= val/2; i++)\r\n    \t  {\r\n    \t\t  if(val % i == 0)\r\n    \t\t  {\t  \r\n    \t\t\t  numArray1 [index] = i;\r\n    \t\t\t  index++;\r\n    \t\t  }\r\n    \t  }\r\n    \t  \r\n    \t  return numArray;\r\n    \r\n      }\r\n\r\nhowever, it is not working. Can anyone help me for that?\r\n","title":"how to factor a number java","body":"<p>I need to factorize a number like 24 to 1,2,2,2,3. My method for that:</p>\n\n<pre><code>static int[] factorsOf (int val) {\n          int index = 0;\n      int []numArray = new int[index];\n\n      System.out.println(\"\\nThe factors of \" + val + \" are:\");\n      for(int i=1; i &lt;= val/2; i++)\n      {\n          if(val % i == 0)\n          {   \n              numArray1 [index] = i;\n              index++;\n          }\n      }\n\n      return numArray;\n\n  }\n</code></pre>\n\n<p>however, it is not working. Can anyone help me for that?</p>\n"},{"tags":["java","html","spring-boot"],"owner":{"account_id":22013046,"reputation":115,"user_id":16283006,"display_name":"LEGENDRYzZzZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632669720,"creation_date":1632505189,"question_id":69319163,"body_markdown":"I have a post method which simply update something to my database but there is loophole \r\nI have settled this method to button with onclick using javascript and when button clicked it blocks button for other 10 seconds \r\nbut when I tried with direct URL it doesn&#39;t disables button for 30 seconds why ?\r\n\r\nhere is my post mapping code\r\n\r\n    @RequestMapping(value = &quot;/Balnce_add&quot;, method ={RequestMethod.POST, RequestMethod.GET})\r\n\tpublic ModelAndView GoesUp(@AuthenticationPrincipal CustomUserDetails currentuser) throws IOException {\r\n\t\tif (isAuthenticated()) {\r\n\t\tint x=currentuser.getBalance() +10;\r\n\t\tcurrentuser.setBalance(x);\r\n\t\trepo.setUserInfoById(x,currentuser.getId());\r\n\t\trepoofdata.setDataInfoById(x,currentuser.getId());\r\n\t\tSystem.out.println(currentuser.getName()+&quot; (new balance) ==&gt; &quot; +currentuser.getBalance());\r\n\t\treturn new ModelAndView(&quot;redirect:&quot;+&quot;/game1&quot;);    // here game1 is HTML page with getmapping\r\n\t\t }\r\n\t\treturn new ModelAndView(&quot;redirect:&quot;+&quot;/signin&quot;);   // here signing is HTML page with getmapping\r\n\t}\r\n\r\nand here is my HTML code with on click javascript function \r\n\r\n    \t&lt;button  id=&quot;upside&quot; onclick=&quot;up(true)&quot; type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Up&lt;/button&gt;\r\n\r\n\r\n","title":"How can i redirect to some url if user directly enters the link. Also, if button already exists to a specific url (in spring boot)","body":"<p>I have a post method which simply update something to my database but there is loophole\nI have settled this method to button with onclick using javascript and when button clicked it blocks button for other 10 seconds\nbut when I tried with direct URL it doesn't disables button for 30 seconds why ?</p>\n<p>here is my post mapping code</p>\n<pre><code>@RequestMapping(value = &quot;/Balnce_add&quot;, method ={RequestMethod.POST, RequestMethod.GET})\npublic ModelAndView GoesUp(@AuthenticationPrincipal CustomUserDetails currentuser) throws IOException {\n    if (isAuthenticated()) {\n    int x=currentuser.getBalance() +10;\n    currentuser.setBalance(x);\n    repo.setUserInfoById(x,currentuser.getId());\n    repoofdata.setDataInfoById(x,currentuser.getId());\n    System.out.println(currentuser.getName()+&quot; (new balance) ==&gt; &quot; +currentuser.getBalance());\n    return new ModelAndView(&quot;redirect:&quot;+&quot;/game1&quot;);    // here game1 is HTML page with getmapping\n     }\n    return new ModelAndView(&quot;redirect:&quot;+&quot;/signin&quot;);   // here signing is HTML page with getmapping\n}\n</code></pre>\n<p>and here is my HTML code with on click javascript function</p>\n<pre><code>    &lt;button  id=&quot;upside&quot; onclick=&quot;up(true)&quot; type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Up&lt;/button&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1632666702,"post_id":69335866,"comment_id":122549217,"body_markdown":"`totalPrice-= parts.get(index).getPrice();` you need to do this _before_ removing the object. Otherwise you get a crash if you remove the last object or you deduct the wrong price for any other object removed. Also, you should learn to debug your program to find this kind of issue yourself.","body":"<code>totalPrice-= parts.get(index).getPrice();</code> you need to do this <i>before</i> removing the object. Otherwise you get a crash if you remove the last object or you deduct the wrong price for any other object removed. Also, you should learn to debug your program to find this kind of issue yourself."},{"owner":{"account_id":21728233,"reputation":5,"user_id":16037354,"display_name":"Madhav"},"score":0,"creation_date":1632667162,"post_id":69335866,"comment_id":122549307,"body_markdown":"@JoakimDanielson u mean debugging using breakpoints?","body":"@JoakimDanielson u mean debugging using breakpoints?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1632667227,"post_id":69335866,"comment_id":122549322,"body_markdown":"@Madhav Debugging with either break points or `System.out.println()` are both fine. In this case, you should look at the rest of the stack trace that you didn&#39;t post here and find where it mentions a line in your own code. Add some output just before that line to determine why it is crashing.","body":"@Madhav Debugging with either break points or <code>System.out.println()</code> are both fine. In this case, you should look at the rest of the stack trace that you didn&#39;t post here and find where it mentions a line in your own code. Add some output just before that line to determine why it is crashing."}],"answers":[{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1632669479,"creation_date":1632669479,"answer_id":69336281,"question_id":69335866,"body_markdown":"Inside `removeComputerPart()` method _first deduct the price of part_ then _remove that parts_ from the list. **removeComputerPart()** method will be as follows-\r\n\r\n    public void removeComputerPart(int index){\r\n        totalPrice-= parts.get(index).getPrice();   // first line\r\n        parts.remove(index);                        // second line\r\n    }","title":"I am getting outofbound error while removing from the ArrayList even the size of the arraylist is correct","body":"<p>Inside <code>removeComputerPart()</code> method <em>first deduct the price of part</em> then <em>remove that parts</em> from the list. <strong>removeComputerPart()</strong> method will be as follows-</p>\n<pre><code>public void removeComputerPart(int index){\n    totalPrice-= parts.get(index).getPrice();   // first line\n    parts.remove(index);                        // second line\n}\n</code></pre>\n"}],"owner":{"account_id":21728233,"reputation":5,"user_id":16037354,"display_name":"Madhav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1633361483,"accepted_answer_id":69336281,"answer_count":1,"score":-1,"last_activity_date":1632669479,"creation_date":1632666471,"question_id":69335866,"body_markdown":"this is the way I am adding the data to the arrayList\r\n```\r\nSystem.out.println(&quot;please select part/s (-1 for return to the main menu)&quot;);\r\n\r\n//array to store multiple inputs\r\nString[] part = scanner.nextLine().split(&quot;,&quot;);\r\n\r\n//adding customer computer parts to its order\r\nfor (int k = 0; k &lt; part.length; k++) {\r\n    if (Integer.parseInt(part[k]) == -1) {\r\n       //thats just to break the loop but its not creating any problem\r\n        bool = false;\r\n    } else {\r\n        os.ord.addComputerPart(os.computerParts.get(Integer.parseInt(part[k])));\r\n    }\r\n}\r\n```\r\n\r\nhere is the method to add the inputs the ArrayList\r\n```\r\npublic void addComputerPart(ComputerPart computerpart ){\r\n    parts.add(computerpart);\r\n    totalPrice += computerpart.getPrice();\r\n}\r\n```\r\nNow here is the method to remove the data from the arrayList\r\n```\r\n//os is the class object and ord is the order class object which is the seperate class and order class contains the parts arraylist \r\nSystem.out.println( os.ord.getParts().size());\r\n\r\n//printing the information about the customer and the order\r\nSystem.out.println(&quot;here is the summary of your current order&quot;);\r\n\r\nSystem.out.println(os.ord);\r\n\r\nScanner scxx = new Scanner(System.in);\r\n\r\n//using the array to take more than one inputs\r\nSystem.out.println(&quot;Please select part/s to be removed from the order (-1 for return to the main menu)&quot;);\r\nString[] part = scxx.nextLine().split(&quot;,&quot;);\r\n\r\n//deleting customer computer parts from  its order                                    \r\nfor (int k = 0; k &lt; part.length; k++) {\r\n    if (Integer.parseInt(part[k]) == -1) {\r\n       delete = false;\r\n    } else {\r\n       os.ord.removeComputerPart(Integer.parseInt(part[k]));\r\n    }\r\n}\r\n```\r\nNow in again order class I have a method to remove the data from the arrayList which removes the data\r\n```\r\npublic void removeComputerPart(int index){\r\n    parts.remove(index);\r\n    totalPrice-= parts.get(index).getPrice();\r\n}\r\n```\r\nNow problem is that when i remove the element from the arraylist it give me indexoutofbound error\r\n\r\n\r\n```\r\n4 --&gt; as u can see that while printing the size of the arraylist i am getting 4 elements but when i delete the 4th element it gives me error \r\nhere is the summary of your current order\r\n\r\n(0): Product ID : INTCPU94496  Brand : INT  Model : 9700K  Price : 462.0  Core : i7\r\n  Socket : Intel\r\nnot compatible with : \r\n(1): Product ID : INTCPU12673  Brand : INT  Model : 9700F  Price : 396.0  Core : i7\r\n  Socket : Intel\r\nnot compatible with : \r\n(2): Product ID : INTCPU72675  Brand : INT  Model : 9900K  Price : 591.0  Core : i9\r\n  Socket : Intel\r\nnot compatible with : \r\n(3): Product ID : AMDCPU54823  Brand : AMD  Model : Ryzen 2200  Price : 200.0  Core : 4\r\n  Socket : AMD\r\nnot compatible with : \r\n\r\nOrder Id : O104181 Total Price : $1649.0\r\n Member customer discount : $82.45 total price after discount : $1566.55\r\nPlease select part/s to be removed from the order (-1 for return to the main menu)\r\n3\r\n\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n```","title":"I am getting outofbound error while removing from the ArrayList even the size of the arraylist is correct","body":"<p>this is the way I am adding the data to the arrayList</p>\n<pre><code>System.out.println(&quot;please select part/s (-1 for return to the main menu)&quot;);\n\n//array to store multiple inputs\nString[] part = scanner.nextLine().split(&quot;,&quot;);\n\n//adding customer computer parts to its order\nfor (int k = 0; k &lt; part.length; k++) {\n    if (Integer.parseInt(part[k]) == -1) {\n       //thats just to break the loop but its not creating any problem\n        bool = false;\n    } else {\n        os.ord.addComputerPart(os.computerParts.get(Integer.parseInt(part[k])));\n    }\n}\n</code></pre>\n<p>here is the method to add the inputs the ArrayList</p>\n<pre><code>public void addComputerPart(ComputerPart computerpart ){\n    parts.add(computerpart);\n    totalPrice += computerpart.getPrice();\n}\n</code></pre>\n<p>Now here is the method to remove the data from the arrayList</p>\n<pre><code>//os is the class object and ord is the order class object which is the seperate class and order class contains the parts arraylist \nSystem.out.println( os.ord.getParts().size());\n\n//printing the information about the customer and the order\nSystem.out.println(&quot;here is the summary of your current order&quot;);\n\nSystem.out.println(os.ord);\n\nScanner scxx = new Scanner(System.in);\n\n//using the array to take more than one inputs\nSystem.out.println(&quot;Please select part/s to be removed from the order (-1 for return to the main menu)&quot;);\nString[] part = scxx.nextLine().split(&quot;,&quot;);\n\n//deleting customer computer parts from  its order                                    \nfor (int k = 0; k &lt; part.length; k++) {\n    if (Integer.parseInt(part[k]) == -1) {\n       delete = false;\n    } else {\n       os.ord.removeComputerPart(Integer.parseInt(part[k]));\n    }\n}\n</code></pre>\n<p>Now in again order class I have a method to remove the data from the arrayList which removes the data</p>\n<pre><code>public void removeComputerPart(int index){\n    parts.remove(index);\n    totalPrice-= parts.get(index).getPrice();\n}\n</code></pre>\n<p>Now problem is that when i remove the element from the arraylist it give me indexoutofbound error</p>\n<pre><code>4 --&gt; as u can see that while printing the size of the arraylist i am getting 4 elements but when i delete the 4th element it gives me error \nhere is the summary of your current order\n\n(0): Product ID : INTCPU94496  Brand : INT  Model : 9700K  Price : 462.0  Core : i7\n  Socket : Intel\nnot compatible with : \n(1): Product ID : INTCPU12673  Brand : INT  Model : 9700F  Price : 396.0  Core : i7\n  Socket : Intel\nnot compatible with : \n(2): Product ID : INTCPU72675  Brand : INT  Model : 9900K  Price : 591.0  Core : i9\n  Socket : Intel\nnot compatible with : \n(3): Product ID : AMDCPU54823  Brand : AMD  Model : Ryzen 2200  Price : 200.0  Core : 4\n  Socket : AMD\nnot compatible with : \n\nOrder Id : O104181 Total Price : $1649.0\n Member customer discount : $82.45 total price after discount : $1566.55\nPlease select part/s to be removed from the order (-1 for return to the main menu)\n3\n\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-container","docker-image"],"comments":[{"owner":{"account_id":1927464,"reputation":5476,"user_id":1895328,"display_name":"RoninDev"},"score":3,"creation_date":1590986452,"post_id":62125794,"comment_id":109876980,"body_markdown":"you should specify port like -p 8080:8080 (using colon, not slash)","body":"you should specify port like -p 8080:8080 (using colon, not slash)"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1591008932,"post_id":62125794,"comment_id":109884954,"body_markdown":"The [Docker run reference](https://docs.docker.com/engine/reference/run/#expose-incoming-ports) and [Container networking](https://docs.docker.com/config/containers/container-networking/) Docker documentation explain the `-p` syntax.","body":"The <a href=\"https://docs.docker.com/engine/reference/run/#expose-incoming-ports\" rel=\"nofollow noreferrer\">Docker run reference</a> and <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">Container networking</a> Docker documentation explain the <code>-p</code> syntax."}],"answers":[{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1590987185,"creation_date":1590986762,"answer_id":62125852,"question_id":62125794,"body_markdown":"The `-p` option is used to expose the ports that are used for the image instance. The first one is the hostport and the second parameter after the &quot;:&quot; `fullcolon` is the container port to which it should be mapped . For more details read [doc][1].\r\n\r\nThe error that you received while launching the instance using docker run tells us that the image name that you provided with the command is not locally available on the machine that you are using, it might also be an issue with the way that you provided the ports using &#39;/&#39; instead of &quot;:&quot; .So , to be safe, use `docker pull` first to pull the latest image from repo and then run it with proper syntax.\r\n\r\n\r\n&gt; --expose=[]: Expose a port or a range of ports inside the container.\r\n&gt;               These are additional to those exposed by the `EXPOSE` instruction\r\n\r\n&gt; -P         : Publish all exposed ports to the host interfaces\r\n\r\n&gt; -p=[]      : Publish a container&#39;s port or a range of ports to the host\r\n&gt;                format: ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort | containerPort\r\n&gt;                Both hostPort and containerPort can be specified as a\r\n&gt;                range of ports. When specifying ranges for both, the\r\n&gt;                number of container ports in the range must match the\r\n&gt;                number of host ports in the range, for example:\r\n&gt;                    -p 1234-1236:1234-1236/tcp\r\n&gt;                When specifying a range for hostPort only, the\r\n&gt;                containerPort must not be a range.  In this case the\r\n&gt;                container port is published somewhere within the\r\n&gt;                specified hostPort range. (e.g., `-p 1234-1236:1234/tcp`)\r\n&gt;                (use &#39;docker port&#39; to see the actual mapping)\r\n&gt; \r\n\r\n&gt; --link=&quot;&quot;  : Add link to another container (&lt;name or id&gt;:alias or &lt;name or id&gt;)\r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/run/#expose-incoming-ports","title":"Docker run -p ?/? (what are this two port numbers and what they represents )","body":"<p>The <code>-p</code> option is used to expose the ports that are used for the image instance. The first one is the hostport and the second parameter after the \":\" <code>fullcolon</code> is the container port to which it should be mapped . For more details read <a href=\"https://docs.docker.com/engine/reference/run/#expose-incoming-ports\" rel=\"noreferrer\">doc</a>.</p>\n\n<p>The error that you received while launching the instance using docker run tells us that the image name that you provided with the command is not locally available on the machine that you are using, it might also be an issue with the way that you provided the ports using '/' instead of \":\" .So , to be safe, use <code>docker pull</code> first to pull the latest image from repo and then run it with proper syntax.</p>\n\n<blockquote>\n  <p>--expose=[]: Expose a port or a range of ports inside the container.\n                These are additional to those exposed by the <code>EXPOSE</code> instruction</p>\n  \n  <p>-P         : Publish all exposed ports to the host interfaces</p>\n  \n  <p>-p=[]      : Publish a container's port or a range of ports to the host\n                 format: ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort | containerPort\n                 Both hostPort and containerPort can be specified as a\n                 range of ports. When specifying ranges for both, the\n                 number of container ports in the range must match the\n                 number of host ports in the range, for example:\n                     -p 1234-1236:1234-1236/tcp\n                 When specifying a range for hostPort only, the\n                 containerPort must not be a range.  In this case the\n                 container port is published somewhere within the\n                 specified hostPort range. (e.g., <code>-p 1234-1236:1234/tcp</code>)\n                 (use 'docker port' to see the actual mapping)</p>\n  \n  <p>--link=\"\"  : Add link to another container (:alias or )</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18730730,"reputation":486,"user_id":13656191,"display_name":"Imad Salki"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1610994469,"creation_date":1590987120,"answer_id":62125889,"question_id":62125794,"body_markdown":"Replace this &quot; **-p 8080/8080** &quot; by this &quot; **-p 8080:8080** &quot;\r\n- The first port : the Docker host ( you can use this port to access to your container) to access to the container from the **outside**.\r\n- the second one : is the port used by your application.\r\n\r\nExample : I want to run tomcat server in a docker container, the default port of tomcat is **8080** and I want to expose my docker on port **9000** so i have to write :\r\n\r\n    docker run -p 9000:8080 --name myTomcatContainer tomcat \r\n\r\n So with this configuration I can access to Tomcat from outside using :\r\nhttp://host-ip:9000","title":"Docker run -p ?/? (what are this two port numbers and what they represents )","body":"<p>Replace this &quot; <strong>-p 8080/8080</strong> &quot; by this &quot; <strong>-p 8080:8080</strong> &quot;</p>\n<ul>\n<li>The first port : the Docker host ( you can use this port to access to your container) to access to the container from the <strong>outside</strong>.</li>\n<li>the second one : is the port used by your application.</li>\n</ul>\n<p>Example : I want to run tomcat server in a docker container, the default port of tomcat is <strong>8080</strong> and I want to expose my docker on port <strong>9000</strong> so i have to write :</p>\n<pre><code>docker run -p 9000:8080 --name myTomcatContainer tomcat \n</code></pre>\n<p>So with this configuration I can access to Tomcat from outside using :\nhttp://host-ip:9000</p>\n"},{"tags":[],"owner":{"account_id":9324325,"reputation":173,"user_id":6922143,"display_name":"wellthatdidn&#39;twork"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632669452,"creation_date":1632669452,"answer_id":69336279,"question_id":62125794,"body_markdown":"Just to add a little to the already good answers here, I like to use the analogy of finding a friends apartment in a city to explain port numbers.\r\n\r\nIn this analogy, the \r\n\r\n- Host OS == neighborhood where the apartment complex is\r\n\r\n- Your application == the apartment complex\r\n\r\n- Exposed port **within** the application == the specific apartment in the complex\r\n\r\nIf you&#39;re trying to find someone&#39;s address, you&#39;ll find the neighborhood of the user (in this case it would be the URL, most likely `http://localhost` if developing locally)\r\n\r\nBut then you need the street number of the apartment complex, that number is the first number in something like **5000**:8080, so your application is exposed on the host OS at port 5000, the friends street address is 5000, localHost street. \r\n\r\nBut once you get to the apartment complex, you still need to know which door to knock on. You&#39;ve arrived at the apartment complex (your application), but where does your friend live specifically? That&#39;s the second number, the 5000:**8080**. \r\n\r\nSo your friend&#39;s network address is the combination of the URL, port within the host OS (if you&#39;re developing locally, this is your computer, if not, it&#39;s whatever server the app is running on) and port exposed within the application. \r\n\r\nNote that an apartment complex usually has more than one apartment, but it&#39;s still at the same address, so it&#39;s very possible that your application exposes more than one port, something like `5000:8081`, or `5000:9000`. \r\n\r\nIt&#39;s also possible that two apartments in different buildings will have the same apartment number, so we can have `5000:8080`, as well as `8080:8080`, neither this nor the previous situation will cause a conflict in network traffic.\r\n\r\nThis image is an example of the last case I mentioned\r\n\r\n[![ports on a host machine][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qHw4W.png","title":"Docker run -p ?/? (what are this two port numbers and what they represents )","body":"<p>Just to add a little to the already good answers here, I like to use the analogy of finding a friends apartment in a city to explain port numbers.</p>\n<p>In this analogy, the</p>\n<ul>\n<li><p>Host OS == neighborhood where the apartment complex is</p>\n</li>\n<li><p>Your application == the apartment complex</p>\n</li>\n<li><p>Exposed port <strong>within</strong> the application == the specific apartment in the complex</p>\n</li>\n</ul>\n<p>If you're trying to find someone's address, you'll find the neighborhood of the user (in this case it would be the URL, most likely <code>http://localhost</code> if developing locally)</p>\n<p>But then you need the street number of the apartment complex, that number is the first number in something like <strong>5000</strong>:8080, so your application is exposed on the host OS at port 5000, the friends street address is 5000, localHost street.</p>\n<p>But once you get to the apartment complex, you still need to know which door to knock on. You've arrived at the apartment complex (your application), but where does your friend live specifically? That's the second number, the 5000:<strong>8080</strong>.</p>\n<p>So your friend's network address is the combination of the URL, port within the host OS (if you're developing locally, this is your computer, if not, it's whatever server the app is running on) and port exposed within the application.</p>\n<p>Note that an apartment complex usually has more than one apartment, but it's still at the same address, so it's very possible that your application exposes more than one port, something like <code>5000:8081</code>, or <code>5000:9000</code>.</p>\n<p>It's also possible that two apartments in different buildings will have the same apartment number, so we can have <code>5000:8080</code>, as well as <code>8080:8080</code>, neither this nor the previous situation will cause a conflict in network traffic.</p>\n<p>This image is an example of the last case I mentioned</p>\n<p><a href=\"https://i.stack.imgur.com/qHw4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qHw4W.png\" alt=\"ports on a host machine\" /></a></p>\n"}],"owner":{"account_id":11630056,"reputation":255,"user_id":8518595,"display_name":"Raj  Kommawar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27524,"favorite_count":0,"down_vote_count":4,"up_vote_count":24,"accepted_answer_id":62125889,"answer_count":3,"score":20,"last_activity_date":1632669452,"creation_date":1590986315,"question_id":62125794,"body_markdown":"I used command &quot;docker run -p 8080/8080 --name my_local_image ....&quot; and it failed saying Unable to find image &#39;8080/8080:latest&#39; locally\r\n\r\n8080/8080 = what this two port represents exactly ?","title":"Docker run -p ?/? (what are this two port numbers and what they represents )","body":"<p>I used command \"docker run -p 8080/8080 --name my_local_image ....\" and it failed saying Unable to find image '8080/8080:latest' locally</p>\n\n<p>8080/8080 = what this two port represents exactly ?</p>\n"},{"tags":["java","heroku","websocket","java-ee-7","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1631961369,"post_id":69232762,"comment_id":122368189,"body_markdown":"In your JavaScript you use `/download` as URI path for your websocket. It should be rather `/&lt;context-path&gt;/download` if you want it to work regardless of how the application is deployed. You can retrieve it with the EL expression `${pageContext.request.contextPath}` if you rename `index.html` to `index.jsp`.","body":"In your JavaScript you use <code>&#47;download</code> as URI path for your websocket. It should be rather <code>&#47;&lt;context-path&gt;&#47;download</code> if you want it to work regardless of how the application is deployed. You can retrieve it with the EL expression <code>${pageContext.request.contextPath}</code> if you rename <code>index.html</code> to <code>index.jsp</code>."},{"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"score":0,"creation_date":1631962221,"post_id":69232762,"comment_id":122368360,"body_markdown":"@PiotrP.Karwasz Is there any chance  to solve the issue without converting to a .jsp file?","body":"@PiotrP.Karwasz Is there any chance  to solve the issue without converting to a .jsp file?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1631962752,"post_id":69232762,"comment_id":122368482,"body_markdown":"You can compute the context path in JavaScript, e.g. `location.pathname.substring(0, location.pathname.lastIndexOf(&#39;/&#39;))`.","body":"You can compute the context path in JavaScript, e.g. <code>location.pathname.substring(0, location.pathname.lastIndexOf(&#39;&#47;&#39;))</code>."},{"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"score":0,"creation_date":1631963918,"post_id":69232762,"comment_id":122368747,"body_markdown":"@PiotrP.Karwasz Tried `location.pathname.substring(0, location.pathname.lastIndexOf(&#39;/&#39;))`. The same issue persisted.","body":"@PiotrP.Karwasz Tried <code>location.pathname.substring(0, location.pathname.lastIndexOf(&#39;&#47;&#39;))</code>. The same issue persisted."},{"owner":{"account_id":2237928,"reputation":5592,"user_id":1973735,"accept_rate":90,"display_name":"Rahul Sharma"},"score":0,"creation_date":1632491773,"post_id":69232762,"comment_id":122514548,"body_markdown":"@coderodde Can you paste the logs using `heroku logs --tail` when you try to connect to the websocket?","body":"@coderodde Can you paste the logs using <code>heroku logs --tail</code> when you try to connect to the websocket?"}],"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632669429,"creation_date":1631952064,"question_id":69232762,"body_markdown":"I have [this small web app](https://gist.github.com/coderodde/544f570eb35f1160224d0b8090f39bd6). My symptoms are: when I run the web app locally, the connection to the local Tomcat WebSocket facilities is well established. However, if I deploy it on Heroku, open connection to the WebSocket, it goes straight to `readyState` 3. \r\n\r\n**Edit**\r\n\r\nUpon an attempt to connect to Heroku, `heroku logs --tail` gives:\r\n```\r\n2021-09-26T10:14:20.686213+00:00 heroku[router]: at=info method=GET path=&quot;/download&quot; host=rodioning-backend.herokuapp.com request_id=257ec5e3-2ecb-486d-b05e-b905cb624f1f fwd=&quot;86.115.191.105&quot; dyno=web.1 connect=0ms service=24ms status=404 bytes=1215 protocol=https\r\n2021-09-26T10:14:59.319236+00:00 heroku[router]: at=info method=GET path=&quot;/download&quot; host=rodioning-backend.herokuapp.com request_id=009f5d8c-935a-4acc-ae0b-0665bb54616b fwd=&quot;86.115.191.105&quot; dyno=web.1 connect=0ms service=4ms status=404 bytes=1215 protocol=http\r\n```","title":"WebSocket app runs on localhost but not on Heroku","body":"<p>I have <a href=\"https://gist.github.com/coderodde/544f570eb35f1160224d0b8090f39bd6\" rel=\"nofollow noreferrer\">this small web app</a>. My symptoms are: when I run the web app locally, the connection to the local Tomcat WebSocket facilities is well established. However, if I deploy it on Heroku, open connection to the WebSocket, it goes straight to <code>readyState</code> 3.</p>\n<p><strong>Edit</strong></p>\n<p>Upon an attempt to connect to Heroku, <code>heroku logs --tail</code> gives:</p>\n<pre><code>2021-09-26T10:14:20.686213+00:00 heroku[router]: at=info method=GET path=&quot;/download&quot; host=rodioning-backend.herokuapp.com request_id=257ec5e3-2ecb-486d-b05e-b905cb624f1f fwd=&quot;86.115.191.105&quot; dyno=web.1 connect=0ms service=24ms status=404 bytes=1215 protocol=https\n2021-09-26T10:14:59.319236+00:00 heroku[router]: at=info method=GET path=&quot;/download&quot; host=rodioning-backend.herokuapp.com request_id=009f5d8c-935a-4acc-ae0b-0665bb54616b fwd=&quot;86.115.191.105&quot; dyno=web.1 connect=0ms service=4ms status=404 bytes=1215 protocol=http\n</code></pre>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":1095931,"reputation":2143,"user_id":1089532,"accept_rate":28,"display_name":"Ilkar"},"score":0,"creation_date":1361198937,"post_id":14938823,"comment_id":20965172,"body_markdown":"I have webserwice, which provide informations, is user exist. I have to pass login and password to this webserwice.","body":"I have webserwice, which provide informations, is user exist. I have to pass login and password to this webserwice."},{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1361214117,"post_id":14938823,"comment_id":20972977,"body_markdown":"You should probably read the [FAQ](http://static.springsource.org/spring-security/site/faq/faq.html#faq-what-is-userdetailservice) and the [documentation](http://static.springsource.org/spring-security/site/docs/3.2.x/reference/springsecurity-single.html#tech-userdetailsservice) on `UserDetailsService` and what it is for. It is only for loading data into the framework.","body":"You should probably read the <a href=\"http://static.springsource.org/spring-security/site/faq/faq.html#faq-what-is-userdetailservice\" rel=\"nofollow noreferrer\">FAQ</a> and the <a href=\"http://static.springsource.org/spring-security/site/docs/3.2.x/reference/springsecurity-single.html#tech-userdetailsservice\" rel=\"nofollow noreferrer\">documentation</a> on <code>UserDetailsService</code> and what it is for. It is only for loading data into the framework."},{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1530705265,"post_id":14938823,"comment_id":89328826,"body_markdown":"Not answering your question, but whenever you&#39;ve got a constructor that takes a whole lot of random arguments, it&#39;s a sign of a builder pattern. For example: User.builder().accountExpired(false).accountLocked(false).credentialsExpired(false).roles(&quot;ROLE_USER&quot;).disabled(false).build(); is better than new User(...)","body":"Not answering your question, but whenever you&#39;ve got a constructor that takes a whole lot of random arguments, it&#39;s a sign of a builder pattern. For example: User.builder().accountExpired(false).accountLocked(false).cr&zwnj;&#8203;edentialsExpired(fal&zwnj;&#8203;se).roles(&quot;ROLE_USER&zwnj;&#8203;&quot;).disabled(false).b&zwnj;&#8203;uild(); is better than new User(...)"}],"answers":[{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361198774,"creation_date":1361198774,"answer_id":14938926,"question_id":14938823,"body_markdown":"the `loadUserByUsername(String name)` is a method defined on an interface (userServicedetails I think), which your service implements. You have to write the implementation.\r\n\r\nJust as you have to write the implementation for getPassword() or similar ... spring does not provide that. I imagine the password is stored in your user object, but you wrote that ... did you create a `getPassword()` method ?","title":"SpringSecurity UserDetailsService get password","body":"<p>the <code>loadUserByUsername(String name)</code> is a method defined on an interface (userServicedetails I think), which your service implements. You have to write the implementation.</p>\n\n<p>Just as you have to write the implementation for getPassword() or similar ... spring does not provide that. I imagine the password is stored in your user object, but you wrote that ... did you create a <code>getPassword()</code> method ?</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361199032,"creation_date":1361199032,"answer_id":14939013,"question_id":14938823,"body_markdown":"I believe a `UserDetailsService` is supposed to be used to acquire a `UserDetails` object from some back end storage, database, flat file, etc. Once you have that `UserDetails`, spring security (or you) have to compare it to the username (or other principals) and password (the credentials) provided by the user in order to authenticate that user.\r\n\r\nI don&#39;t think you are using it the way it is intended.\r\n","title":"SpringSecurity UserDetailsService get password","body":"<p>I believe a <code>UserDetailsService</code> is supposed to be used to acquire a <code>UserDetails</code> object from some back end storage, database, flat file, etc. Once you have that <code>UserDetails</code>, spring security (or you) have to compare it to the username (or other principals) and password (the credentials) provided by the user in order to authenticate that user.</p>\n\n<p>I don't think you are using it the way it is intended.</p>\n"},{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1361199755,"creation_date":1361199378,"answer_id":14939133,"question_id":14938823,"body_markdown":"If you look at the [User][1] object, the second parameter in the constructor is the password.\r\n\r\nThe [UserDetailsService][2] is used to load the user from a back-end structure like database. The [loadUserByUsername][3] method is called when a user tries to login with a username and password, then it is the responsibility of the service to load the user definition and return it to the security framework. The required details includes data like `username`, `password`, `accountNonExpired`, `credentialsNonExpired`, `accountNonLocked` and `authorities`.\r\n\r\nOnce the spring security receives the user object, it will validate the user against the password entered by the user and other data like user account status (accountNonExpired, credentialsNonExpired etc)\r\n\r\n\r\n  [1]: http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\r\n  [2]: http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/UserDetailsService.html\r\n  [3]: http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/UserDetailsService.html#loadUserByUsername%28java.lang.String%29","title":"SpringSecurity UserDetailsService get password","body":"<p>If you look at the <a href=\"http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\" rel=\"noreferrer\">User</a> object, the second parameter in the constructor is the password.</p>\n\n<p>The <a href=\"http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/UserDetailsService.html\" rel=\"noreferrer\">UserDetailsService</a> is used to load the user from a back-end structure like database. The <a href=\"http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/UserDetailsService.html#loadUserByUsername%28java.lang.String%29\" rel=\"noreferrer\">loadUserByUsername</a> method is called when a user tries to login with a username and password, then it is the responsibility of the service to load the user definition and return it to the security framework. The required details includes data like <code>username</code>, <code>password</code>, <code>accountNonExpired</code>, <code>credentialsNonExpired</code>, <code>accountNonLocked</code> and <code>authorities</code>.</p>\n\n<p>Once the spring security receives the user object, it will validate the user against the password entered by the user and other data like user account status (accountNonExpired, credentialsNonExpired etc)</p>\n"},{"tags":[],"owner":{"account_id":1168076,"reputation":5143,"user_id":1145904,"accept_rate":50,"display_name":"Robin Rizvi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1443470601,"creation_date":1443470601,"answer_id":32830871,"question_id":14938823,"body_markdown":"Some of the standard (out-of-the-box) mechanisms to retrieve the user information and provide authentication information are:\r\n\r\n - **inMemoryAuthentication** \r\n - **jdbcAuthentication**\r\n - **ldapAuthentication**\r\n - **userDetailsService**\r\n\r\nIf the above does not suit your purpose and you need to have a custom solution, you can create and configure a new authentication provider like so:\r\n\r\n**Security Configuration:**\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        @Autowired\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(new CustomAuthenticationProvider());\r\n        }\r\n    \r\n        ....\r\n    }\r\n\r\n**Authentication Provider:**\r\n\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication)\r\n    \t\t\tthrows AuthenticationException {\r\n    \t\tString name = authentication.getName();\r\n            // You can get the password here\r\n    \t\tString password = authentication.getCredentials().toString();\r\n    \r\n    \t\t// Your custom authentication logic here\r\n    \t\tif (name.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;pwd&quot;)) {\r\n    \t\t\tAuthentication auth = new UsernamePasswordAuthenticationToken(name,\r\n    \t\t\t\t\tpassword);\r\n    \r\n    \t\t\treturn auth;\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n    \t\treturn authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n    \t}\r\n    \r\n    }","title":"SpringSecurity UserDetailsService get password","body":"<p>Some of the standard (out-of-the-box) mechanisms to retrieve the user information and provide authentication information are:</p>\n\n<ul>\n<li><strong>inMemoryAuthentication</strong> </li>\n<li><strong>jdbcAuthentication</strong></li>\n<li><strong>ldapAuthentication</strong></li>\n<li><strong>userDetailsService</strong></li>\n</ul>\n\n<p>If the above does not suit your purpose and you need to have a custom solution, you can create and configure a new authentication provider like so:</p>\n\n<p><strong>Security Configuration:</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(new CustomAuthenticationProvider());\n    }\n\n    ....\n}\n</code></pre>\n\n<p><strong>Authentication Provider:</strong></p>\n\n<pre><code>public class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Override\n    public Authentication authenticate(Authentication authentication)\n            throws AuthenticationException {\n        String name = authentication.getName();\n        // You can get the password here\n        String password = authentication.getCredentials().toString();\n\n        // Your custom authentication logic here\n        if (name.equals(\"admin\") &amp;&amp; password.equals(\"pwd\")) {\n            Authentication auth = new UsernamePasswordAuthenticationToken(name,\n                    password);\n\n            return auth;\n        }\n\n        return null;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3035556,"reputation":2872,"user_id":2573744,"display_name":"Siva Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470832658,"creation_date":1470827229,"answer_id":38871720,"question_id":14938823,"body_markdown":"  \r\nXML Implementation: \r\n \r\n\r\n    &lt;authentication-manager  alias=&quot;loginAuthenticationManager&quot;&gt;\r\n        &lt;authentication-provider ref=&quot;loginAuthenticationProvider&quot; /&gt;\r\n    &lt;/authentication-manager&gt;\r\n        \t\r\n\t&lt;!-- Bean implementing AuthenticationProvider of Spring Security --&gt;\r\n\t&lt;beans:bean id=&quot;loginAuthenticationProvider&quot; class=&quot;com.config.LoginAuthenticationProvider&quot;&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nAuthenticationProvider:\r\n\r\n    public class LoginAuthenticationProvider implements AuthenticationProvider {\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication)\r\n                throws AuthenticationException {\r\n            String name = authentication.getName();\r\n            // You can get the password here\r\n            String password = authentication.getCredentials().toString();\r\n    \r\n            // Your custom authentication logic here\r\n            if (name.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;pwd&quot;)) {\r\n                List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n\t            grantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n\t            return new UsernamePasswordAuthenticationToken(name, password, grantedAuths);\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }","title":"SpringSecurity UserDetailsService get password","body":"<p>XML Implementation: </p>\n\n<pre><code>&lt;authentication-manager  alias=\"loginAuthenticationManager\"&gt;\n    &lt;authentication-provider ref=\"loginAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;!-- Bean implementing AuthenticationProvider of Spring Security --&gt;\n&lt;beans:bean id=\"loginAuthenticationProvider\" class=\"com.config.LoginAuthenticationProvider\"&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>AuthenticationProvider:</p>\n\n<pre><code>public class LoginAuthenticationProvider implements AuthenticationProvider {\n    @Override\n    public Authentication authenticate(Authentication authentication)\n            throws AuthenticationException {\n        String name = authentication.getName();\n        // You can get the password here\n        String password = authentication.getCredentials().toString();\n\n        // Your custom authentication logic here\n        if (name.equals(\"admin\") &amp;&amp; password.equals(\"pwd\")) {\n            List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n            grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_USER\"));\n            return new UsernamePasswordAuthenticationToken(name, password, grantedAuths);\n        }\n        return null;\n    }\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6886654,"reputation":2078,"user_id":5291494,"display_name":"xxg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632669026,"creation_date":1542851215,"answer_id":53422809,"question_id":14938823,"body_markdown":"Get password in `UserDetailsService` implementation by `request.getParameter(&quot;password&quot;)`: \r\n\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n            String password = request.getParameter(&quot;password&quot;); // get from request parameter\r\n            ......\r\n        }\r\n    }\r\n\r\n`RequestContextHolder` is base on `ThreadLocal`.\r\n\r\nIf your project is base on Spring Framework (not Spring Boot), add `RequestContextListener` to web.xml\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;","title":"SpringSecurity UserDetailsService get password","body":"<p>Get password in <code>UserDetailsService</code> implementation by <code>request.getParameter(&quot;password&quot;)</code>:</p>\n<pre><code>public class MyUserDetailsService implements UserDetailsService {\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n        String password = request.getParameter(&quot;password&quot;); // get from request parameter\n        ......\n    }\n}\n</code></pre>\n<p><code>RequestContextHolder</code> is base on <code>ThreadLocal</code>.</p>\n<p>If your project is base on Spring Framework (not Spring Boot), add <code>RequestContextListener</code> to web.xml</p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"}],"owner":{"account_id":1095931,"reputation":2143,"user_id":1089532,"accept_rate":28,"display_name":"Ilkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25834,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1632669026,"creation_date":1361198449,"question_id":14938823,"body_markdown":"I&#39;m creating authentication service in Spring.\r\n\r\nI&#39;m using UserDetailsService to get form variables, but i found that loadUserByUsername has only one variable - userName.\r\n\r\nHow to get password ?\r\n\r\n    public class userAuthentication implements UserDetailsService{\r\n    \r\n        private @Autowired\r\n        ASPWebServicesUtils aspWebServicesUtils;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String name) throws UsernameNotFoundException {\r\n\r\n            //how to get password ?\r\n\r\n            User user = new User(&quot;test&quot;, &quot;test&quot;, true, true, true, true, getAuthorities(true));\r\n            \r\n            return user;  \r\n    \r\n        }\r\n    \r\n        private List&lt;GrantedAuthority&gt; getAuthorities(boolean isAdmin){\r\n    \r\n            List&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;GrantedAuthority&gt;(2);\r\n            authorityList.add(new SimpleGrantedAuthority(&quot;USER_ROLE&quot;));\r\n            if(isAdmin){\r\n                authorityList.add(new SimpleGrantedAuthority(&quot;ADMIN_ROLE&quot;));\r\n            }\r\n            return authorityList;\r\n    \r\n        }\r\n    //...\r\n    }\r\n\r\nThanks","title":"SpringSecurity UserDetailsService get password","body":"<p>I'm creating authentication service in Spring.</p>\n\n<p>I'm using UserDetailsService to get form variables, but i found that loadUserByUsername has only one variable - userName.</p>\n\n<p>How to get password ?</p>\n\n<pre><code>public class userAuthentication implements UserDetailsService{\n\n    private @Autowired\n    ASPWebServicesUtils aspWebServicesUtils;\n\n    @Override\n    public UserDetails loadUserByUsername(String name) throws UsernameNotFoundException {\n\n        //how to get password ?\n\n        User user = new User(\"test\", \"test\", true, true, true, true, getAuthorities(true));\n\n        return user;  \n\n    }\n\n    private List&lt;GrantedAuthority&gt; getAuthorities(boolean isAdmin){\n\n        List&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;GrantedAuthority&gt;(2);\n        authorityList.add(new SimpleGrantedAuthority(\"USER_ROLE\"));\n        if(isAdmin){\n            authorityList.add(new SimpleGrantedAuthority(\"ADMIN_ROLE\"));\n        }\n        return authorityList;\n\n    }\n//...\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","graphics","object-detection","tensorflow-lite","google-mlkit"],"comments":[{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1628998994,"post_id":68784696,"comment_id":121568634,"body_markdown":"Probably you have created a scaled Bitmap let&#39;s say 300x300 and then you fed your network with that. Your network outputs a RectF with 4 points based on that (300x300). The thing here is to place these 4 points to a streched screen. One way to do it is https://stackoverflow.com/questions/62373305/how-to-draw-a-rectangle-on-the-screen-using-coordinates-with-texture-view/62373555#62373555 and the other to use a Matrix  with postScale and postTranslate like","body":"Probably you have created a scaled Bitmap let&#39;s say 300x300 and then you fed your network with that. Your network outputs a RectF with 4 points based on that (300x300). The thing here is to place these 4 points to a streched screen. One way to do it is <a href=\"https://stackoverflow.com/questions/62373305/how-to-draw-a-rectangle-on-the-screen-using-coordinates-with-texture-view/62373555#62373555\" title=\"how to draw a rectangle on the screen using coordinates with texture view\">stackoverflow.com/questions/62373305/&hellip;</a> and the other to use a Matrix  with postScale and postTranslate like"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1628999018,"post_id":68784696,"comment_id":121568636,"body_markdown":"https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/env/ImageUtils.java#L168 in the original Object detection project.","body":"<a href=\"https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/env/ImageUtils.java#L168\" rel=\"nofollow noreferrer\">github.com/tensorflow/examples/blob/master/lite/examples/&hellip;</a> in the original Object detection project."},{"owner":{"account_id":19352105,"reputation":67,"user_id":14149296,"display_name":"RunMildew"},"score":0,"creation_date":1629210256,"post_id":68784696,"comment_id":121623422,"body_markdown":"Actually I have not used a scaled Bitmap, in my MainActivity.java, I have used a `media.Image` which is being streamed straight from my device camera. What would be the solution in this case?","body":"Actually I have not used a scaled Bitmap, in my MainActivity.java, I have used a <code>media.Image</code> which is being streamed straight from my device camera. What would be the solution in this case?"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1629211132,"post_id":68784696,"comment_id":121623792,"body_markdown":"You have to build this project https://github.com/tensorflow/examples/tree/master/lite/examples/object_detection/android and see how you can use getTransformationMatrix . Unfortunately is not straightforward. You can also see here where Sayan uses directly the media.Image from CameraX instead of bitmap https://github.com/sayannath/examples/tree/master/lite/examples/object_detection/android . This project is on its way to be merged to the original tensorflow lite repo","body":"You have to build this project <a href=\"https://github.com/tensorflow/examples/tree/master/lite/examples/object_detection/android\" rel=\"nofollow noreferrer\">github.com/tensorflow/examples/tree/master/lite/examples/&hellip;</a> and see how you can use getTransformationMatrix . Unfortunately is not straightforward. You can also see here where Sayan uses directly the media.Image from CameraX instead of bitmap <a href=\"https://github.com/sayannath/examples/tree/master/lite/examples/object_detection/android\" rel=\"nofollow noreferrer\">github.com/sayannath/examples/tree/master/lite/examples/&hellip;</a> . This project is on its way to be merged to the original tensorflow lite repo"}],"answers":[{"tags":[],"owner":{"account_id":3456687,"reputation":648,"user_id":2895045,"display_name":"Orcun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629899981,"creation_date":1629899981,"answer_id":68924319,"question_id":68784696,"body_markdown":"As stated in in the model description;\r\n\r\n&gt; Image data: ByteBuffer sized 192 x 192 x 3 x PIXEL_DEPTH, where PIXEL_DEPTH is 4 for float model, and 1 for quantized model.\r\n\r\nMake sure your `media.Image` has same resolution. if you are giving a different image data this could result in wrong bounding box and detections. this might very well be reason why it is detected as spatula in the first place.\r\nYou can set your `ImageAnalysis` config to send you images with this resolution or you will have to resize the image before giving it as an input to your model.\r\n\r\nAnd remember, the output bounding box will be according to 192 x 192 image. Now you will need to translate this coordinates to your preview view&#39;s coordinates. For that, there are a lot of solutions but you can use [this][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/camerax/transform-output#coordinates","title":"Fixing incorrect boundingBox coordinates?","body":"<p>As stated in in the model description;</p>\n<blockquote>\n<p>Image data: ByteBuffer sized 192 x 192 x 3 x PIXEL_DEPTH, where PIXEL_DEPTH is 4 for float model, and 1 for quantized model.</p>\n</blockquote>\n<p>Make sure your <code>media.Image</code> has same resolution. if you are giving a different image data this could result in wrong bounding box and detections. this might very well be reason why it is detected as spatula in the first place.\nYou can set your <code>ImageAnalysis</code> config to send you images with this resolution or you will have to resize the image before giving it as an input to your model.</p>\n<p>And remember, the output bounding box will be according to 192 x 192 image. Now you will need to translate this coordinates to your preview view's coordinates. For that, there are a lot of solutions but you can use <a href=\"https://developer.android.com/training/camerax/transform-output#coordinates\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":19352105,"reputation":67,"user_id":14149296,"display_name":"RunMildew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632667354,"creation_date":1628954862,"question_id":68784696,"body_markdown":"I&#39;m working on an object detection application for Android (in Java) using Google ML and CameraX. I&#39;m also using a Tensorflow model, which can be found [here](https://tfhub.dev/tensorflow/lite-model/mobilenet_v1_0.75_192_quantized/1/metadata/1). My issue is that the coordinates of my boundingBox are so slightly misaligned, as demonstrated in the following image. Please ignore the fact that it&#39;s being detected as a spatula, my issue currently is focused on capturing the image within the graphic displayed on the screen.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the following class that was used to draw the graphicOverlay;\r\n\r\n## DrawGraphic.java; ##\r\n\r\n```\r\npublic class DrawGraphic extends View {\r\n\r\n    Paint borderPaint, textPaint;\r\n    Rect rect;\r\n    String text;\r\n\r\n    ImageProxy imageProxy;\r\n    PreviewView previewView;\r\n\r\n\r\n    public DrawGraphic(Context context, Rect rect, String text, ImageProxy imageProxy, PreviewView previewView) {\r\n        super(context);\r\n        this.rect = rect;\r\n        this.text = text;\r\n\r\n        borderPaint = new Paint();\r\n        borderPaint.setColor(Color.WHITE);\r\n        borderPaint.setStrokeWidth(10f);\r\n        borderPaint.setStyle(Paint.Style.STROKE);\r\n\r\n        textPaint = new Paint();\r\n        textPaint.setColor(Color.WHITE);\r\n        textPaint.setStrokeWidth(50f);\r\n        textPaint.setTextSize(32f);\r\n        textPaint.setStyle(Paint.Style.FILL);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.setMatrix(getMappingMatrix(imageProxy, previewView));\r\n        canvas.concat(getMappingMatrix(imageProxy, previewView));\r\n        canvas.drawText(text, rect.centerX(), rect.centerY(), textPaint);\r\n        canvas.drawRect(rect.left, rect.bottom, rect.right, rect.top, borderPaint);\r\n\r\n        ImageProxy imageProxy;\r\n        PreviewView previewView;\r\n    }\r\n\r\n    Matrix getMappingMatrix(ImageProxy imageProxy, PreviewView previewView) {\r\n        Rect cropRect = imageProxy.getCropRect();\r\n        int rotationDegrees = imageProxy.getImageInfo().getRotationDegrees();\r\n        Matrix matrix = new Matrix();\r\n\r\n        float[] source = {\r\n                cropRect.left,\r\n                cropRect.top,\r\n                cropRect.right,\r\n                cropRect.top,\r\n                cropRect.right,\r\n                cropRect.bottom,\r\n                cropRect.left,\r\n                cropRect.bottom\r\n        };\r\n\r\n        float[] destination = {\r\n                0f,\r\n                0f,\r\n                previewView.getWidth(),\r\n                0f,\r\n                previewView.getWidth(),\r\n                previewView.getHeight(),\r\n                0f,\r\n                previewView.getHeight()\r\n        };\r\n\r\n        int vertexSize = 2;\r\n\r\n        int shiftOffset = rotationDegrees / 90 * vertexSize;\r\n        float[] tempArray = destination.clone();\r\n        for (int toIndex = 0; toIndex &lt; source.length; toIndex++) {\r\n            int fromIndex = (toIndex + shiftOffset) % source.length;\r\n            destination[toIndex] = tempArray[fromIndex];\r\n        }\r\n        matrix.setPolyToPoly(source, 0, destination, 0, 4);\r\n        return matrix;\r\n    }\r\n}\r\n```\r\n\r\n## MainActivity.java ##\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSIONS_REQUEST = 1;\r\n\r\n    private static final String PERMISSION_CAMERA = Manifest.permission.CAMERA;\r\n\r\n    public static final Size DESIRED_PREVIEW_SIZE = new Size(640, 480);\r\n\r\n    private PreviewView previewView;\r\n\r\n    ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        previewView = findViewById(R.id.previewView);\r\n\r\n        if (hasPermission()) {\r\n            // Start CameraX\r\n            startCamera();\r\n        } else {\r\n            requestPermission();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n    private void startCamera() {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            // Camera provider is now guaranteed to be available\r\n            try {\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n\r\n                // Set up the view finder use case to display camera preview\r\n                Preview preview = new Preview.Builder().build();\r\n\r\n                // Choose the camera by requiring a lens facing\r\n                CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                        .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                        .build();\r\n\r\n                // Image Analysis\r\n                ImageAnalysis imageAnalysis =\r\n                        new ImageAnalysis.Builder()\r\n                                .setTargetResolution(DESIRED_PREVIEW_SIZE)\r\n                                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                                .build();\r\n\r\n                imageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), imageProxy -&gt; {\r\n                    // Define rotation Degrees of the imageProxy\r\n                    int rotationDegrees = imageProxy.getImageInfo().getRotationDegrees();\r\n                    Log.v(&quot;ImageAnalysis_degrees&quot;, String.valueOf(rotationDegrees));\r\n\r\n                    @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image mediaImage = imageProxy.getImage();\r\n                    if (mediaImage != null) {\r\n                        InputImage image =\r\n                                InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n                        //Pass image to an ML Kit Vision API\r\n                        //...\r\n\r\n                        LocalModel localModel =\r\n                                new LocalModel.Builder()\r\n                                        .setAssetFilePath(&quot;mobilenet_v1_0.75_192_quantized_1_metadata_1.tflite&quot;)\r\n                                        .build();\r\n\r\n                        CustomObjectDetectorOptions customObjectDetectorOptions =\r\n                                new CustomObjectDetectorOptions.Builder(localModel)\r\n                                        .setDetectorMode(CustomObjectDetectorOptions.STREAM_MODE)\r\n                                        .enableClassification()\r\n                                        .setClassificationConfidenceThreshold(0.5f)\r\n                                        .setMaxPerObjectLabelCount(3)\r\n                                        .build();\r\n\r\n                        ObjectDetector objectDetector =\r\n                                ObjectDetection.getClient(customObjectDetectorOptions);\r\n\r\n                        objectDetector.process(image)\r\n                                .addOnSuccessListener(detectedObjects -&gt; {\r\n                                    getObjectResults(detectedObjects);\r\n                                    Log.d(&quot;TAG&quot;, &quot;onSuccess&quot; + detectedObjects.size());\r\n                                    for (DetectedObject detectedObject : detectedObjects) {\r\n                                        Rect boundingBox = detectedObject.getBoundingBox();\r\n\r\n                                        Integer trackingId = detectedObject.getTrackingId();\r\n                                        for (DetectedObject.Label label : detectedObject.getLabels()) {\r\n                                            String text = label.getText();\r\n                                            int index = label.getIndex();\r\n                                            float confidence = label.getConfidence();\r\n                                        }\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(e -&gt; Log.e(&quot;TAG&quot;, e.getLocalizedMessage()))\r\n                                .addOnCompleteListener(result -&gt; imageProxy.close());\r\n                    }\r\n\r\n                });\r\n\r\n                // Connect the preview use case to the previewView\r\n                preview.setSurfaceProvider(\r\n                        previewView.getSurfaceProvider());\r\n\r\n                // Attach use cases to the camera with the same lifecycle owner\r\n                if (cameraProvider != null) {\r\n                    Camera camera = cameraProvider.bindToLifecycle(\r\n                            this,\r\n                            cameraSelector,\r\n                            imageAnalysis,\r\n                            preview);\r\n                }\r\n\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        }, ContextCompat.getMainExecutor(this));\r\n    }\r\n\r\n    private void getObjectResults(List&lt;DetectedObject&gt; detectedObjects) {\r\n        for (DetectedObject object : detectedObjects) {\r\n            if (binding.parentlayout.getChildCount() &gt; 1) {\r\n                binding.parentlayout.removeViewAt(1);\r\n            }\r\n            Rect rect = object.getBoundingBox();\r\n            String text = &quot;Undefined&quot;;\r\n            if (object.getLabels().size() != 0) {\r\n                text = object.getLabels().get(0).getText();\r\n            }\r\n\r\n            DrawGraphic drawGraphic = new DrawGraphic(this, rect, text);\r\n            binding.parentlayout.addView(drawGraphic);\r\n        }\r\n    }\r\n\r\n    private boolean hasPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            return checkSelfPermission(PERMISSION_CAMERA) == PackageManager.PERMISSION_GRANTED;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    private void requestPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (shouldShowRequestPermissionRationale(PERMISSION_CAMERA)) {\r\n                Toast.makeText(\r\n                        this,\r\n                        &quot;Camera permission is required for this demo&quot;,\r\n                        Toast.LENGTH_LONG)\r\n                        .show();\r\n            }\r\n            requestPermissions(new String[]{PERMISSION_CAMERA}, PERMISSIONS_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(\r\n            final int requestCode, final String[] permissions, final int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == PERMISSIONS_REQUEST) {\r\n            if (allPermissionsGranted(grantResults)) {\r\n                // Start CameraX\r\n                startCamera();\r\n            } else {\r\n                requestPermission();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static boolean allPermissionsGranted(final int[] grantResults) {\r\n        for (int result : grantResults) {\r\n            if (result != PackageManager.PERMISSION_GRANTED) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nThis all leads to my question on why the boundingBox is slightly &quot;off&quot;. Any further information required to supplement this question will be provided upon request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fer3Hm.jpg","title":"Fixing incorrect boundingBox coordinates?","body":"<p>I'm working on an object detection application for Android (in Java) using Google ML and CameraX. I'm also using a Tensorflow model, which can be found <a href=\"https://tfhub.dev/tensorflow/lite-model/mobilenet_v1_0.75_192_quantized/1/metadata/1\" rel=\"nofollow noreferrer\">here</a>. My issue is that the coordinates of my boundingBox are so slightly misaligned, as demonstrated in the following image. Please ignore the fact that it's being detected as a spatula, my issue currently is focused on capturing the image within the graphic displayed on the screen.</p>\n<p><a href=\"https://i.stack.imgur.com/Fer3Hm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fer3Hm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the following class that was used to draw the graphicOverlay;</p>\n<h2>DrawGraphic.java;</h2>\n<pre><code>public class DrawGraphic extends View {\n\n    Paint borderPaint, textPaint;\n    Rect rect;\n    String text;\n\n    ImageProxy imageProxy;\n    PreviewView previewView;\n\n\n    public DrawGraphic(Context context, Rect rect, String text, ImageProxy imageProxy, PreviewView previewView) {\n        super(context);\n        this.rect = rect;\n        this.text = text;\n\n        borderPaint = new Paint();\n        borderPaint.setColor(Color.WHITE);\n        borderPaint.setStrokeWidth(10f);\n        borderPaint.setStyle(Paint.Style.STROKE);\n\n        textPaint = new Paint();\n        textPaint.setColor(Color.WHITE);\n        textPaint.setStrokeWidth(50f);\n        textPaint.setTextSize(32f);\n        textPaint.setStyle(Paint.Style.FILL);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.setMatrix(getMappingMatrix(imageProxy, previewView));\n        canvas.concat(getMappingMatrix(imageProxy, previewView));\n        canvas.drawText(text, rect.centerX(), rect.centerY(), textPaint);\n        canvas.drawRect(rect.left, rect.bottom, rect.right, rect.top, borderPaint);\n\n        ImageProxy imageProxy;\n        PreviewView previewView;\n    }\n\n    Matrix getMappingMatrix(ImageProxy imageProxy, PreviewView previewView) {\n        Rect cropRect = imageProxy.getCropRect();\n        int rotationDegrees = imageProxy.getImageInfo().getRotationDegrees();\n        Matrix matrix = new Matrix();\n\n        float[] source = {\n                cropRect.left,\n                cropRect.top,\n                cropRect.right,\n                cropRect.top,\n                cropRect.right,\n                cropRect.bottom,\n                cropRect.left,\n                cropRect.bottom\n        };\n\n        float[] destination = {\n                0f,\n                0f,\n                previewView.getWidth(),\n                0f,\n                previewView.getWidth(),\n                previewView.getHeight(),\n                0f,\n                previewView.getHeight()\n        };\n\n        int vertexSize = 2;\n\n        int shiftOffset = rotationDegrees / 90 * vertexSize;\n        float[] tempArray = destination.clone();\n        for (int toIndex = 0; toIndex &lt; source.length; toIndex++) {\n            int fromIndex = (toIndex + shiftOffset) % source.length;\n            destination[toIndex] = tempArray[fromIndex];\n        }\n        matrix.setPolyToPoly(source, 0, destination, 0, 4);\n        return matrix;\n    }\n}\n</code></pre>\n<h2>MainActivity.java</h2>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final int PERMISSIONS_REQUEST = 1;\n\n    private static final String PERMISSION_CAMERA = Manifest.permission.CAMERA;\n\n    public static final Size DESIRED_PREVIEW_SIZE = new Size(640, 480);\n\n    private PreviewView previewView;\n\n    ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        previewView = findViewById(R.id.previewView);\n\n        if (hasPermission()) {\n            // Start CameraX\n            startCamera();\n        } else {\n            requestPermission();\n        }\n    }\n\n    @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n    private void startCamera() {\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n        cameraProviderFuture.addListener(() -&gt; {\n            // Camera provider is now guaranteed to be available\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n\n                // Set up the view finder use case to display camera preview\n                Preview preview = new Preview.Builder().build();\n\n                // Choose the camera by requiring a lens facing\n                CameraSelector cameraSelector = new CameraSelector.Builder()\n                        .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                        .build();\n\n                // Image Analysis\n                ImageAnalysis imageAnalysis =\n                        new ImageAnalysis.Builder()\n                                .setTargetResolution(DESIRED_PREVIEW_SIZE)\n                                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                                .build();\n\n                imageAnalysis.setAnalyzer(ContextCompat.getMainExecutor(this), imageProxy -&gt; {\n                    // Define rotation Degrees of the imageProxy\n                    int rotationDegrees = imageProxy.getImageInfo().getRotationDegrees();\n                    Log.v(&quot;ImageAnalysis_degrees&quot;, String.valueOf(rotationDegrees));\n\n                    @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image mediaImage = imageProxy.getImage();\n                    if (mediaImage != null) {\n                        InputImage image =\n                                InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n                        //Pass image to an ML Kit Vision API\n                        //...\n\n                        LocalModel localModel =\n                                new LocalModel.Builder()\n                                        .setAssetFilePath(&quot;mobilenet_v1_0.75_192_quantized_1_metadata_1.tflite&quot;)\n                                        .build();\n\n                        CustomObjectDetectorOptions customObjectDetectorOptions =\n                                new CustomObjectDetectorOptions.Builder(localModel)\n                                        .setDetectorMode(CustomObjectDetectorOptions.STREAM_MODE)\n                                        .enableClassification()\n                                        .setClassificationConfidenceThreshold(0.5f)\n                                        .setMaxPerObjectLabelCount(3)\n                                        .build();\n\n                        ObjectDetector objectDetector =\n                                ObjectDetection.getClient(customObjectDetectorOptions);\n\n                        objectDetector.process(image)\n                                .addOnSuccessListener(detectedObjects -&gt; {\n                                    getObjectResults(detectedObjects);\n                                    Log.d(&quot;TAG&quot;, &quot;onSuccess&quot; + detectedObjects.size());\n                                    for (DetectedObject detectedObject : detectedObjects) {\n                                        Rect boundingBox = detectedObject.getBoundingBox();\n\n                                        Integer trackingId = detectedObject.getTrackingId();\n                                        for (DetectedObject.Label label : detectedObject.getLabels()) {\n                                            String text = label.getText();\n                                            int index = label.getIndex();\n                                            float confidence = label.getConfidence();\n                                        }\n                                    }\n                                })\n                                .addOnFailureListener(e -&gt; Log.e(&quot;TAG&quot;, e.getLocalizedMessage()))\n                                .addOnCompleteListener(result -&gt; imageProxy.close());\n                    }\n\n                });\n\n                // Connect the preview use case to the previewView\n                preview.setSurfaceProvider(\n                        previewView.getSurfaceProvider());\n\n                // Attach use cases to the camera with the same lifecycle owner\n                if (cameraProvider != null) {\n                    Camera camera = cameraProvider.bindToLifecycle(\n                            this,\n                            cameraSelector,\n                            imageAnalysis,\n                            preview);\n                }\n\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n\n\n        }, ContextCompat.getMainExecutor(this));\n    }\n\n    private void getObjectResults(List&lt;DetectedObject&gt; detectedObjects) {\n        for (DetectedObject object : detectedObjects) {\n            if (binding.parentlayout.getChildCount() &gt; 1) {\n                binding.parentlayout.removeViewAt(1);\n            }\n            Rect rect = object.getBoundingBox();\n            String text = &quot;Undefined&quot;;\n            if (object.getLabels().size() != 0) {\n                text = object.getLabels().get(0).getText();\n            }\n\n            DrawGraphic drawGraphic = new DrawGraphic(this, rect, text);\n            binding.parentlayout.addView(drawGraphic);\n        }\n    }\n\n    private boolean hasPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            return checkSelfPermission(PERMISSION_CAMERA) == PackageManager.PERMISSION_GRANTED;\n        } else {\n            return true;\n        }\n    }\n\n    private void requestPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (shouldShowRequestPermissionRationale(PERMISSION_CAMERA)) {\n                Toast.makeText(\n                        this,\n                        &quot;Camera permission is required for this demo&quot;,\n                        Toast.LENGTH_LONG)\n                        .show();\n            }\n            requestPermissions(new String[]{PERMISSION_CAMERA}, PERMISSIONS_REQUEST);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(\n            final int requestCode, final String[] permissions, final int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == PERMISSIONS_REQUEST) {\n            if (allPermissionsGranted(grantResults)) {\n                // Start CameraX\n                startCamera();\n            } else {\n                requestPermission();\n            }\n        }\n    }\n\n    private static boolean allPermissionsGranted(final int[] grantResults) {\n        for (int result : grantResults) {\n            if (result != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>This all leads to my question on why the boundingBox is slightly &quot;off&quot;. Any further information required to supplement this question will be provided upon request.</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3272821,"reputation":1695,"user_id":2755755,"display_name":"LucasP"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1484057809,"creation_date":1484057809,"answer_id":41570973,"question_id":41570821,"body_markdown":"You will have to name the bean, and then use the `@Qualifier` annotation when autowiring referencing that name.\r\n\r\nExample:\r\n\r\n**Config.java**\r\n\r\n    public class Config {\r\n        private final String p = &quot;Prop&quot;;\r\n        \r\n        @Bean(name=&quot;p&quot;)\r\n        public String getP(){return p;}\r\n    }\r\n\r\n**SomeC.java**\r\n\r\n    public class SomeC {\r\n        private String p;\r\n    \r\n        @Autowired\r\n        public SomeC(@Qualifier(&quot;p&quot;) String p) {\r\n            this. p = p;\r\n        }\r\n    }\r\n","title":"Spring: How to inject a String bean to the constructor?","body":"<p>You will have to name the bean, and then use the <code>@Qualifier</code> annotation when autowiring referencing that name.</p>\n\n<p>Example:</p>\n\n<p><strong>Config.java</strong></p>\n\n<pre><code>public class Config {\n    private final String p = \"Prop\";\n\n    @Bean(name=\"p\")\n    public String getP(){return p;}\n}\n</code></pre>\n\n<p><strong>SomeC.java</strong></p>\n\n<pre><code>public class SomeC {\n    private String p;\n\n    @Autowired\n    public SomeC(@Qualifier(\"p\") String p) {\n        this. p = p;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6337817,"reputation":502,"user_id":4920729,"accept_rate":78,"display_name":"Stefan Helmerichs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484057909,"creation_date":1484057909,"answer_id":41571001,"question_id":41570821,"body_markdown":"You should use `@Autowired` either like this:\r\n\r\n    @Autowired\r\n    public SomeC(String p){\r\n      this.p = p;\r\n    }\r\n\r\nor like this:\r\n\r\n    public class SomeC {\r\n    \r\n      @Autowired\r\n      private String p;\r\n\r\n    }\r\n\r\nI prefer the second approach, but this makes the classes more difficult to test, since the dependencies are not visible from the outside, so use with caution.","title":"Spring: How to inject a String bean to the constructor?","body":"<p>You should use <code>@Autowired</code> either like this:</p>\n\n<pre><code>@Autowired\npublic SomeC(String p){\n  this.p = p;\n}\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>public class SomeC {\n\n  @Autowired\n  private String p;\n\n}\n</code></pre>\n\n<p>I prefer the second approach, but this makes the classes more difficult to test, since the dependencies are not visible from the outside, so use with caution.</p>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - å‡ºç¾½å’Œä¹‹"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612643181,"creation_date":1612642109,"answer_id":66081422,"question_id":41570821,"body_markdown":"If there is only one `String`-type bean, you can it without any changes. Injection by type is usable.\r\n\r\n```java\r\n@Configuration\r\npublic class Config {\r\n    private final String p = &quot;Prop&quot;;\r\n\r\n    @Bean\r\n    public String getP() {\r\n        return p;\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class SomeC {\r\n\r\n    private String p;\r\n\r\n    public SomeC(String p) {\r\n        this.p = p;\r\n    }\r\n}\r\n```\r\n\r\nIf there are multiple `String`-type beans, you can inject by name.\r\n```java\r\n@Configuration\r\npublic class Config {\r\n    private final String p = &quot;Prop&quot;;\r\n    private final String q = &quot;AnotherProp&quot;;\r\n\r\n    @Bean\r\n    public String getP() {\r\n        return p;\r\n    }\r\n    \r\n    @Bean\r\n    public String getQ() {\r\n        return q;\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class SomeC {\r\n\r\n    @Resource(name = &quot;getP&quot;)\r\n    private String p;\r\n```\r\n\r\nDefault bean name is method name `getP`.\r\nYou can rename by `@Bean(&quot;customName&quot;)` annotation.\r\n\r\nNote:\r\n- [1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers](https://docs.spring.io/spring-framework/docs/5.3.3/reference/html/core.html#beans-autowired-annotation-qualifiers)\r\n\r\n&gt; if you intend to express annotation-driven injection by name, do not primarily use `@Autowired` (snip). Instead, use the JSR-250 `@Resource` annotation\r\n\r\n&gt; `@Resource` is supported only for fields and bean property setter methods with a single argument. \r\n\r\nInjection by qualifier is available for constructor injection.\r\n\r\n```java\r\n@Configuration\r\npublic class Config {\r\n    private final String p = &quot;Prop&quot;;\r\n    private final String q = &quot;AnotherProp&quot;;\r\n\r\n    @Bean\r\n    @Qualifier(&quot;p&quot;)\r\n    public String getP() {\r\n        return p;\r\n    }\r\n\r\n    @Bean\r\n    @Qualifier(&quot;q&quot;)\r\n    public String getQ() {\r\n        return q;\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class SomeC {\r\n\r\n    private String p;\r\n\r\n    public SomeC(@Qualifier(&quot;p&quot;) String p) {\r\n        this.p = p;\r\n    }\r\n}\r\n```\r\n\r\n[This answer](https://stackoverflow.com/a/41570973/4506703) is a fallback behavior. Name and qualifier are different one.\r\n\r\n- [1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers](https://docs.spring.io/spring-framework/docs/5.3.3/reference/html/core.html#beans-autowired-annotation-qualifiers)\r\n\r\n&gt; For a fallback match, the bean name is considered a default qualifier value. ","title":"Spring: How to inject a String bean to the constructor?","body":"<p>If there is only one <code>String</code>-type bean, you can it without any changes. Injection by type is usable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    private final String p = &quot;Prop&quot;;\n\n    @Bean\n    public String getP() {\n        return p;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SomeC {\n\n    private String p;\n\n    public SomeC(String p) {\n        this.p = p;\n    }\n}\n</code></pre>\n<p>If there are multiple <code>String</code>-type beans, you can inject by name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    private final String p = &quot;Prop&quot;;\n    private final String q = &quot;AnotherProp&quot;;\n\n    @Bean\n    public String getP() {\n        return p;\n    }\n    \n    @Bean\n    public String getQ() {\n        return q;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SomeC {\n\n    @Resource(name = &quot;getP&quot;)\n    private String p;\n</code></pre>\n<p>Default bean name is method name <code>getP</code>.\nYou can rename by <code>@Bean(&quot;customName&quot;)</code> annotation.</p>\n<p>Note:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/5.3.3/reference/html/core.html#beans-autowired-annotation-qualifiers\" rel=\"nofollow noreferrer\">1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers</a></li>\n</ul>\n<blockquote>\n<p>if you intend to express annotation-driven injection by name, do not primarily use <code>@Autowired</code> (snip). Instead, use the JSR-250 <code>@Resource</code> annotation</p>\n</blockquote>\n<blockquote>\n<p><code>@Resource</code> is supported only for fields and bean property setter methods with a single argument.</p>\n</blockquote>\n<p>Injection by qualifier is available for constructor injection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    private final String p = &quot;Prop&quot;;\n    private final String q = &quot;AnotherProp&quot;;\n\n    @Bean\n    @Qualifier(&quot;p&quot;)\n    public String getP() {\n        return p;\n    }\n\n    @Bean\n    @Qualifier(&quot;q&quot;)\n    public String getQ() {\n        return q;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SomeC {\n\n    private String p;\n\n    public SomeC(@Qualifier(&quot;p&quot;) String p) {\n        this.p = p;\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/41570973/4506703\">This answer</a> is a fallback behavior. Name and qualifier are different one.</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/5.3.3/reference/html/core.html#beans-autowired-annotation-qualifiers\" rel=\"nofollow noreferrer\">1.9.4. Fine-tuning Annotation-based Autowiring with Qualifiers</a></li>\n</ul>\n<blockquote>\n<p>For a fallback match, the bean name is considered a default qualifier value.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1434828,"reputation":197,"user_id":1356473,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632666960,"creation_date":1632666960,"answer_id":69335941,"question_id":41570821,"body_markdown":"    public class SomeC {\r\n      private String p;\r\n\r\n      public SomeC(@Value(&quot;prop&quot;) String p) {\r\n        this. p = p;\r\n      }\r\n    }\r\n","title":"Spring: How to inject a String bean to the constructor?","body":"<pre><code>public class SomeC {\n  private String p;\n\n  public SomeC(@Value(&quot;prop&quot;) String p) {\n    this. p = p;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9991146,"reputation":2615,"user_id":7390408,"accept_rate":41,"display_name":"wesleyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23278,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":41570973,"answer_count":4,"score":11,"last_activity_date":1632666960,"creation_date":1484057376,"question_id":41570821,"body_markdown":"I have a class `Config`:\r\n\r\n**Config.java**\r\n\r\n    public class Config {\r\n        private final String p = &quot;Prop&quot;;\r\n        \r\n        @Bean\r\n        public String getP(){return p;}\r\n    }\r\n\r\nHow do I inject this to some constructor, ie:\r\n\r\n    public class SomeC {\r\n        private String p;\r\n    \r\n        public SomeC(String p) {\r\n            this. p = p;\r\n        }\r\n    }\r\n\r\nI want this String `p` to have injected value from Config. Is that possible?","title":"Spring: How to inject a String bean to the constructor?","body":"<p>I have a class <code>Config</code>:</p>\n\n<p><strong>Config.java</strong></p>\n\n<pre><code>public class Config {\n    private final String p = \"Prop\";\n\n    @Bean\n    public String getP(){return p;}\n}\n</code></pre>\n\n<p>How do I inject this to some constructor, ie:</p>\n\n<pre><code>public class SomeC {\n    private String p;\n\n    public SomeC(String p) {\n        this. p = p;\n    }\n}\n</code></pre>\n\n<p>I want this String <code>p</code> to have injected value from Config. Is that possible?</p>\n"},{"tags":["java","android","google-maps-api-3","android-volley"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":1,"creation_date":1632423710,"post_id":69304920,"comment_id":122495526,"body_markdown":"You are asking a lot of questions on the same post, you need to focus on one problem.","body":"You are asking a lot of questions on the same post, you need to focus on one problem."},{"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"score":0,"creation_date":1632454765,"post_id":69304920,"comment_id":122502033,"body_markdown":"@javdromero updated the questions to be specific","body":"@javdromero updated the questions to be specific"},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1632488999,"post_id":69304920,"comment_id":122513352,"body_markdown":"This answer shows how to build a `LatLngBounds` and use it to zoom programmatically: https://stackoverflow.com/a/14828739/2711811","body":"This answer shows how to build a <code>LatLngBounds</code> and use it to zoom programmatically: <a href=\"https://stackoverflow.com/a/14828739/2711811\">stackoverflow.com/a/14828739/2711811</a>"},{"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"score":0,"creation_date":1632550497,"post_id":69304920,"comment_id":122528161,"body_markdown":"@Andy I have followed the answer and updated my code but that only provides the pan and zoom but now the markers are not visible","body":"@Andy I have followed the answer and updated my code but that only provides the pan and zoom but now the markers are not visible"},{"owner":{"display_name":"user2711811"},"score":1,"creation_date":1632573999,"post_id":69304920,"comment_id":122532524,"body_markdown":"In reference to your updated code, it looks like you simply forgot to add the markers to the map (in the `jsonArray` loop) - might be easiest to just add it in the `showAllMarkers` loop: `googleMap.addMarker(m);`","body":"In reference to your updated code, it looks like you simply forgot to add the markers to the map (in the <code>jsonArray</code> loop) - might be easiest to just add it in the <code>showAllMarkers</code> loop: <code>googleMap.addMarker(m);</code>"}],"answers":[{"tags":[],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632666934,"creation_date":1632666934,"answer_id":69335934,"question_id":69304920,"body_markdown":"After numerous searches and following some of the helpful advise in the comments, I solved the problem and here is the code that worked just incase someone has the same problem in future.\r\nOnce the map is ready, retrieve the serve information using volley, then iterate through the response array and add markers to the markersoption arraylist\r\n\r\n          \r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        banPoint =BitmapDescriptorFactory.fromResource(R.drawable.pincode);\r\n\r\n        final String TAG = ItemisedMapsActivity.class.getSimpleName();\r\n\r\n        StringRequest strReq = new StringRequest(Request.Method.POST, Link.URL_PROVIDER, response -&gt; {\r\n            try {\r\n                JSONObject jsonObject;\r\n                JSONObject drinkObject = new JSONObject(response);\r\n                JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\r\n                for(int i=0; i&lt;jsonArray.length();i++){\r\n                    jsonObject = jsonArray.getJSONObject(i);\r\n                    LatLng vnr = new      LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;));\r\n                    MarkerOptions vnrMarker = new MarkerOptions();\r\n                    vnrMarker.position(vnr);\r\n                    vnrMarker.title(jsonObject.getString(&quot;name&quot;));\r\n                    vnrMarker.snippet(&quot;Mama fua service provider&quot;);\r\n                    vnrMarker.icon(banPoint);\r\n                    markerList.add(vnrMarker);\r\n                }\r\n                showAllMarkers(mMap);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, error -&gt; {\r\n            Log.e(TAG, &quot;Request Error: &quot; + error.getMessage());\r\n            Toast.makeText(this, &quot; An error has occurred &quot;+error.getMessage(), Toast.LENGTH_LONG).show();\r\n        }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                // Posting params to register url\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;town&quot;, town);\r\n                return params;\r\n            }\r\n        };\r\n        // Adding request to request queue\r\n        RequestQueue providerRequestQue = Volley.newRequestQueue(this);\r\n        providerRequestQue.add(strReq);\r\n    }\r\nThen create a method to use to calculate the position of all the markers and zoom to their points showing all of them in the map\r\n \r\n          private void showAllMarkers(GoogleMap mMap) {\r\n        LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n        for (MarkerOptions m : markerList) {\r\n            builder.include(m.getPosition());\r\n            // add the parkers to the map\r\n            mMap.addMarker(m);\r\n        }\r\n        LatLngBounds bounds = builder.build();\r\n        int width = getResources().getDisplayMetrics().widthPixels;\r\n        int height = getResources().getDisplayMetrics().heightPixels;\r\n        int padding = (int) (width * 0.30);\r\n        // Zoom and animate the google map to show all markers\r\n        CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);\r\n        mMap.animateCamera(cu);\r\n    }","title":"Adding multiple markers to google maps API from volley repose in android Java","body":"<p>After numerous searches and following some of the helpful advise in the comments, I solved the problem and here is the code that worked just incase someone has the same problem in future.\nOnce the map is ready, retrieve the serve information using volley, then iterate through the response array and add markers to the markersoption arraylist</p>\n<pre><code>public void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    banPoint =BitmapDescriptorFactory.fromResource(R.drawable.pincode);\n\n    final String TAG = ItemisedMapsActivity.class.getSimpleName();\n\n    StringRequest strReq = new StringRequest(Request.Method.POST, Link.URL_PROVIDER, response -&gt; {\n        try {\n            JSONObject jsonObject;\n            JSONObject drinkObject = new JSONObject(response);\n            JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\n            for(int i=0; i&lt;jsonArray.length();i++){\n                jsonObject = jsonArray.getJSONObject(i);\n                LatLng vnr = new      LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;));\n                MarkerOptions vnrMarker = new MarkerOptions();\n                vnrMarker.position(vnr);\n                vnrMarker.title(jsonObject.getString(&quot;name&quot;));\n                vnrMarker.snippet(&quot;Mama fua service provider&quot;);\n                vnrMarker.icon(banPoint);\n                markerList.add(vnrMarker);\n            }\n            showAllMarkers(mMap);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }, error -&gt; {\n        Log.e(TAG, &quot;Request Error: &quot; + error.getMessage());\n        Toast.makeText(this, &quot; An error has occurred &quot;+error.getMessage(), Toast.LENGTH_LONG).show();\n    }) {\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n            // Posting params to register url\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;town&quot;, town);\n            return params;\n        }\n    };\n    // Adding request to request queue\n    RequestQueue providerRequestQue = Volley.newRequestQueue(this);\n    providerRequestQue.add(strReq);\n}\n</code></pre>\n<p>Then create a method to use to calculate the position of all the markers and zoom to their points showing all of them in the map</p>\n<pre><code>      private void showAllMarkers(GoogleMap mMap) {\n    LatLngBounds.Builder builder = new LatLngBounds.Builder();\n    for (MarkerOptions m : markerList) {\n        builder.include(m.getPosition());\n        // add the parkers to the map\n        mMap.addMarker(m);\n    }\n    LatLngBounds bounds = builder.build();\n    int width = getResources().getDisplayMetrics().widthPixels;\n    int height = getResources().getDisplayMetrics().heightPixels;\n    int padding = (int) (width * 0.30);\n    // Zoom and animate the google map to show all markers\n    CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);\n    mMap.animateCamera(cu);\n}\n</code></pre>\n"}],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69335934,"answer_count":1,"score":-1,"last_activity_date":1632666934,"creation_date":1632420136,"question_id":69304920,"body_markdown":"I am new to Google Maps API for android but I would like to create a view in my android app to show the locations of some providers form the database.\r\nSo far I have done the following:\r\n\r\n          public void onResponse(String response) {\r\n                Log.d(TAG, &quot;Response: &quot; + response);\r\n                try {\r\n                    JSONObject jsonObject;\r\n                    JSONObject drinkObject = new JSONObject(response);\r\n                    JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\r\n                    for(int i=0; i&lt;jsonArray.length();i++){\r\n                        jsonObject = jsonArray.getJSONObject(i);\r\n                        latlngs.add(new LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;)));\r\n                    }\r\n                    for (LatLng point : latlngs) {\r\n                        options.position(point);\r\n                        options.title(&quot;mama fua service provider&quot;);\r\n                        options.snippet(&quot;someDesc&quot;);\r\n                        googleMap.addMarker(options);\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\nWith this I have been able to add the markers but they are all grouped together into a whole page map of the world as seen here\r\n[![output][1]][1]\r\nThis means that for a user to view the other makers he has to manually zoom in.\r\nHow can I achieve this? what changes do I have to make to my code or can someone point me to the right direction?\r\nAfter following an answer on a similar question as suggested by @Andy, I have updated my code to\r\n\r\n          \r\n    public void onMapReady(GoogleMap googleMap) {\r\n\r\n        final String TAG = ItemisedMapsActivity.class.getSimpleName();\r\n\r\n        StringRequest strReq = new StringRequest(Request.Method.POST, Link.URL_PROVIDER, response -&gt; {\r\n            Log.d(TAG, &quot;Response: &quot; + response);\r\n            try {\r\n                JSONObject jsonObject;\r\n                JSONObject drinkObject = new JSONObject(response);\r\n                JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\r\n                for(int i=0; i&lt;jsonArray.length();i++){\r\n                    jsonObject = jsonArray.getJSONObject(i);\r\n                    LatLng vnr = new LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;));\r\n                    MarkerOptions vnrMarker = new MarkerOptions();\r\n                    vnrMarker.position(vnr);\r\n                    vnrMarker.title(jsonObject.getString(&quot;name&quot;));\r\n                    vnrMarker.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_RED));\r\n                    markerList.add(vnrMarker);\r\n                }\r\n                showAllMarkers(googleMap);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, error -&gt; {\r\n            Log.e(TAG, &quot;Request Error: &quot; + error.getMessage());\r\n            Toast.makeText(this, &quot; An error has occurred &quot;+error.getMessage(), Toast.LENGTH_LONG).show();\r\n        }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                // Posting params to register url\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;town&quot;, town);\r\n                return params;\r\n            }\r\n        };\r\n        // Adding request to request queue\r\n        RequestQueue providerRequestQue = Volley.newRequestQueue(this);\r\n        providerRequestQue.add(strReq);\r\n    }\r\n\r\n    private void showAllMarkers(GoogleMap googleMap) {\r\n        LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n        for (MarkerOptions m : markerList) {\r\n            builder.include(m.getPosition());\r\n        }\r\n        LatLngBounds bounds = builder.build();\r\n        int width = getResources().getDisplayMetrics().widthPixels;\r\n        int height = getResources().getDisplayMetrics().heightPixels;\r\n        int padding = (int) (width * 0.30);\r\n        // Zoom and animate the google map to show all markers\r\n        CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);\r\n        googleMap.animateCamera(cu);\r\n    }\r\nThis does zoom in to what is actually the position of the markers except that the markers are not shown on the map \r\n[![new output ][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kkig4.png\r\n  [2]: https://i.stack.imgur.com/RVT7T.png","title":"Adding multiple markers to google maps API from volley repose in android Java","body":"<p>I am new to Google Maps API for android but I would like to create a view in my android app to show the locations of some providers form the database.\nSo far I have done the following:</p>\n<pre><code>      public void onResponse(String response) {\n            Log.d(TAG, &quot;Response: &quot; + response);\n            try {\n                JSONObject jsonObject;\n                JSONObject drinkObject = new JSONObject(response);\n                JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\n                for(int i=0; i&lt;jsonArray.length();i++){\n                    jsonObject = jsonArray.getJSONObject(i);\n                    latlngs.add(new LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;)));\n                }\n                for (LatLng point : latlngs) {\n                    options.position(point);\n                    options.title(&quot;mama fua service provider&quot;);\n                    options.snippet(&quot;someDesc&quot;);\n                    googleMap.addMarker(options);\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>With this I have been able to add the markers but they are all grouped together into a whole page map of the world as seen here\n<a href=\"https://i.stack.imgur.com/Kkig4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kkig4.png\" alt=\"output\" /></a>\nThis means that for a user to view the other makers he has to manually zoom in.\nHow can I achieve this? what changes do I have to make to my code or can someone point me to the right direction?\nAfter following an answer on a similar question as suggested by @Andy, I have updated my code to</p>\n<pre><code>public void onMapReady(GoogleMap googleMap) {\n\n    final String TAG = ItemisedMapsActivity.class.getSimpleName();\n\n    StringRequest strReq = new StringRequest(Request.Method.POST, Link.URL_PROVIDER, response -&gt; {\n        Log.d(TAG, &quot;Response: &quot; + response);\n        try {\n            JSONObject jsonObject;\n            JSONObject drinkObject = new JSONObject(response);\n            JSONArray jsonArray = drinkObject.getJSONArray(&quot;vendors&quot;);\n            for(int i=0; i&lt;jsonArray.length();i++){\n                jsonObject = jsonArray.getJSONObject(i);\n                LatLng vnr = new LatLng(jsonObject.getDouble(&quot;latitude&quot;), jsonObject.getDouble(&quot;longitude&quot;));\n                MarkerOptions vnrMarker = new MarkerOptions();\n                vnrMarker.position(vnr);\n                vnrMarker.title(jsonObject.getString(&quot;name&quot;));\n                vnrMarker.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_RED));\n                markerList.add(vnrMarker);\n            }\n            showAllMarkers(googleMap);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }, error -&gt; {\n        Log.e(TAG, &quot;Request Error: &quot; + error.getMessage());\n        Toast.makeText(this, &quot; An error has occurred &quot;+error.getMessage(), Toast.LENGTH_LONG).show();\n    }) {\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n            // Posting params to register url\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;town&quot;, town);\n            return params;\n        }\n    };\n    // Adding request to request queue\n    RequestQueue providerRequestQue = Volley.newRequestQueue(this);\n    providerRequestQue.add(strReq);\n}\n\nprivate void showAllMarkers(GoogleMap googleMap) {\n    LatLngBounds.Builder builder = new LatLngBounds.Builder();\n    for (MarkerOptions m : markerList) {\n        builder.include(m.getPosition());\n    }\n    LatLngBounds bounds = builder.build();\n    int width = getResources().getDisplayMetrics().widthPixels;\n    int height = getResources().getDisplayMetrics().heightPixels;\n    int padding = (int) (width * 0.30);\n    // Zoom and animate the google map to show all markers\n    CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, width, height, padding);\n    googleMap.animateCamera(cu);\n}\n</code></pre>\n<p>This does zoom in to what is actually the position of the markers except that the markers are not shown on the map\n<a href=\"https://i.stack.imgur.com/RVT7T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RVT7T.png\" alt=\"new output \" /></a></p>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":533454,"reputation":3270,"user_id":903163,"accept_rate":100,"display_name":"frostmatthew"},"score":1,"creation_date":1427136099,"post_id":29217923,"comment_id":46644758,"body_markdown":"It would probably be useful to include which operating system you are running this on.","body":"It would probably be useful to include which operating system you are running this on."},{"owner":{"account_id":4326760,"reputation":50849,"user_id":3533365,"accept_rate":100,"display_name":"Saad"},"score":0,"creation_date":1427136192,"post_id":29217923,"comment_id":46644811,"body_markdown":"@Exupery I&#39;m assuming he&#39;s on Windows since he is using command prompt.","body":"@Exupery I&#39;m assuming he&#39;s on Windows since he is using command prompt."},{"owner":{"account_id":533454,"reputation":3270,"user_id":903163,"accept_rate":100,"display_name":"frostmatthew"},"score":2,"creation_date":1427136709,"post_id":29217923,"comment_id":46645100,"body_markdown":"Does CTRL+C not work on Windows?","body":"Does CTRL+C not work on Windows?"},{"owner":{"account_id":1977393,"reputation":515,"user_id":1774883,"accept_rate":79,"display_name":"Hermes Trismegistus"},"score":0,"creation_date":1427136822,"post_id":29217923,"comment_id":46645164,"body_markdown":"Yes, thank you! I never heard of CTRL+C always used CTRL+BREAK.","body":"Yes, thank you! I never heard of CTRL+C always used CTRL+BREAK."}],"answers":[{"tags":[],"owner":{"account_id":3244691,"reputation":1702,"user_id":2736638,"accept_rate":50,"display_name":"Manish Kothari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427138465,"creation_date":1427138465,"answer_id":29218638,"question_id":29217923,"body_markdown":"Use `CTRL + C` to break the program.","title":"Break JAVA program from the Windows command prompt","body":"<p>Use <code>CTRL + C</code> to break the program.</p>\n"},{"tags":[],"owner":{"account_id":10953392,"reputation":1,"user_id":8049021,"display_name":"bobby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632666557,"creation_date":1632666557,"answer_id":69335885,"question_id":29217923,"body_markdown":"the first thing to do, you will have to write the code that you want to run and save that as a java executable file.\r\n \r\nyou should also make sure of proper intentions since as &#39;java&#39; file and as a &#39;.txt&#39; file. \r\nIn other to do so, check here&gt;&gt; https://www.thewindowsclub.com/how-to-run-a-java-program-from-the-command-prompt\r\n\r\nnow open the command prompt and run as administrator. make use of the &#39;cd&#39; command to change the operating directory on the command prompt to the one you wat your java program is restored.\r\n\r\nrun the following command line:\r\n\r\n    cd Folder-destination [Java-program-flder] ","title":"Break JAVA program from the Windows command prompt","body":"<p>the first thing to do, you will have to write the code that you want to run and save that as a java executable file.</p>\n<p>you should also make sure of proper intentions since as 'java' file and as a '.txt' file.\nIn other to do so, check here&gt;&gt; <a href=\"https://www.thewindowsclub.com/how-to-run-a-java-program-from-the-command-prompt\" rel=\"nofollow noreferrer\">https://www.thewindowsclub.com/how-to-run-a-java-program-from-the-command-prompt</a></p>\n<p>now open the command prompt and run as administrator. make use of the 'cd' command to change the operating directory on the command prompt to the one you wat your java program is restored.</p>\n<p>run the following command line:</p>\n<pre><code>cd Folder-destination [Java-program-flder] \n</code></pre>\n"}],"owner":{"account_id":1977393,"reputation":515,"user_id":1774883,"accept_rate":79,"display_name":"Hermes Trismegistus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632666557,"creation_date":1427136011,"question_id":29217923,"body_markdown":"I am running Windows 7. Is there any way to break a program running from the command prompt? \r\n\r\nFor example, I run a Java program that has multiple threads. In one of the threads, there is an exception, but the program continues to run.\r\n\r\nI want to use the &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Break&lt;/kbd&gt; command that I use for other programs, but for some reason this will not work. Any shortcuts to stop the program from the console?","title":"Break JAVA program from the Windows command prompt","body":"<p>I am running Windows 7. Is there any way to break a program running from the command prompt? </p>\n\n<p>For example, I run a Java program that has multiple threads. In one of the threads, there is an exception, but the program continues to run.</p>\n\n<p>I want to use the <kbd>Ctrl</kbd>+<kbd>Break</kbd> command that I use for other programs, but for some reason this will not work. Any shortcuts to stop the program from the console?</p>\n"},{"tags":["java","apache-poi","xssf"],"answers":[{"tags":[],"owner":{"account_id":1090405,"reputation":645,"user_id":1085157,"display_name":"Lakhwinder Sharma"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1474683535,"creation_date":1474681870,"answer_id":39671739,"question_id":39670382,"body_markdown":"Add commons-collections4-x.x.jar file in your build path and try it again.\r\nIt will work.\r\n\r\nYou can download it from https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.0\r\n","title":"Apache POI error loading XSSFWorkbook class","body":"<p>Add commons-collections4-x.x.jar file in your build path and try it again.\nIt will work.</p>\n\n<p>You can download it from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.0\">https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.0</a></p>\n"},{"tags":[],"owner":{"account_id":9347578,"reputation":201,"user_id":6938373,"display_name":"Bharath Nadukatla"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1515011518,"creation_date":1476715793,"answer_id":40089521,"question_id":39670382,"body_markdown":"Hurrah! Adding commons-collections jar files to my project resolved this problem. Two thumbs up to Lucky Sharma.\r\n\r\nSolution: Add commons-collections4-4.1.jar file in your build path and try it again. It will work.\r\n\r\nYou can download it from https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1\r\n","title":"Apache POI error loading XSSFWorkbook class","body":"<p>Hurrah! Adding commons-collections jar files to my project resolved this problem. Two thumbs up to Lucky Sharma.</p>\n\n<p>Solution: Add commons-collections4-4.1.jar file in your build path and try it again. It will work.</p>\n\n<p>You can download it from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1</a></p>\n"},{"tags":[],"owner":{"account_id":6014368,"reputation":407,"user_id":4723766,"display_name":"Anshu kumar"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1484048868,"creation_date":1484048868,"answer_id":41568120,"question_id":39670382,"body_markdown":"commons-collections4-x.x.jar  definitely solve this problem but Apache has removed the Interface ListValuedMap from commons-Collections4-4.0.jar so use updated version 4.1 it has the required classes and Interfaces.\r\n\r\nRefer here if you want to read Excel (2003 or 2007+) using java code.\r\n\r\nhttp://www.codejava.net/coding/how-to-read-excel-files-in-java-using-apache-poi","title":"Apache POI error loading XSSFWorkbook class","body":"<p>commons-collections4-x.x.jar  definitely solve this problem but Apache has removed the Interface ListValuedMap from commons-Collections4-4.0.jar so use updated version 4.1 it has the required classes and Interfaces.</p>\n\n<p>Refer here if you want to read Excel (2003 or 2007+) using java code.</p>\n\n<p><a href=\"http://www.codejava.net/coding/how-to-read-excel-files-in-java-using-apache-poi\" rel=\"noreferrer\">http://www.codejava.net/coding/how-to-read-excel-files-in-java-using-apache-poi</a></p>\n"},{"tags":[],"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1497420455,"creation_date":1497420455,"answer_id":44536728,"question_id":39670382,"body_markdown":"Please note that 4.0 is not sufficient since ListValuedMap, was introduced in version 4.1.\r\n\r\nYou need to use [this maven repository link][1] for version 4.1.\r\nReplicated below for convenience\r\n    \r\n     &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1","title":"Apache POI error loading XSSFWorkbook class","body":"<p>Please note that 4.0 is not sufficient since ListValuedMap, was introduced in version 4.1.</p>\n\n<p>You need to use <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1\" rel=\"noreferrer\">this maven repository link</a> for version 4.1.\nReplicated below for convenience</p>\n\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n   &lt;version&gt;4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11995545,"reputation":51,"user_id":8777213,"display_name":"Swetha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1508011371,"creation_date":1508011371,"answer_id":46748837,"question_id":39670382,"body_markdown":"Yeah, resolved the exception by adding commons-collections4-4.1 jar file to the CLASSPATH user varible of system.\r\nDownloaded from https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1","title":"Apache POI error loading XSSFWorkbook class","body":"<p>Yeah, resolved the exception by adding commons-collections4-4.1 jar file to the CLASSPATH user varible of system.\nDownloaded from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1</a></p>\n"},{"tags":[],"owner":{"account_id":5410952,"reputation":21,"user_id":4307756,"display_name":"Mostafiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578768728,"creation_date":1578768728,"answer_id":59697593,"question_id":39670382,"body_markdown":"If you have downloaded pio-3.17\r\nOn eclipse: right click on the project folder -&gt; build path -&gt; configure build path -&gt; libraries -&gt; add external jars -&gt; add all the commons jar file from the &quot;lib&quot;. It&#39;s worked for me. ","title":"Apache POI error loading XSSFWorkbook class","body":"<p>If you have downloaded pio-3.17\nOn eclipse: right click on the project folder -> build path -> configure build path -> libraries -> add external jars -> add all the commons jar file from the \"lib\". It's worked for me. </p>\n"},{"tags":[],"owner":{"account_id":12492547,"reputation":49,"user_id":9093637,"display_name":"Sunil Kumar Suman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631011834,"creation_date":1631010919,"answer_id":69086632,"question_id":39670382,"body_markdown":"you have to add jars in your project class classpath - \r\n1. poi-3.17.jar\r\n2. poi-excelant-3.17.jar\r\n3. poi-ooxml-3.17.jar\r\n4. common-collections-4.4.jar\r\n5. xmlbeans-2.3.0.jar\r\n6. poi-ooxml-scehmas-3.17.jar\r\n7. common-compress.jar\r\n\r\nThere is the following example of your code. \r\n\r\n    package com.sks.xssbook;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    /**\r\n     * @author ssuman\r\n     *\r\n     */\r\n    public class XssBook1 {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry{\r\n    \t\tXSSFWorkbook workBook = new XSSFWorkbook();\r\n    \t\tXSSFSheet shhet = workBook.createSheet(&quot;sheet1&quot;);\r\n    \t\tFile f1 = new File(&quot;sks.xlsx&quot;);\r\n    \t\tFileOutputStream fileOop = new FileOutputStream(f1);\r\n    \t\tworkBook.write(fileOop);\r\n    \t\tworkBook.close();\r\n    \t\tSystem.out.println(&quot;File created !!!!!&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception ex) {\r\n    \t\t\tSystem.err.println(&quot;Error ---- &quot;+ex);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"Apache POI error loading XSSFWorkbook class","body":"<p>you have to add jars in your project class classpath -</p>\n<ol>\n<li>poi-3.17.jar</li>\n<li>poi-excelant-3.17.jar</li>\n<li>poi-ooxml-3.17.jar</li>\n<li>common-collections-4.4.jar</li>\n<li>xmlbeans-2.3.0.jar</li>\n<li>poi-ooxml-scehmas-3.17.jar</li>\n<li>common-compress.jar</li>\n</ol>\n<p>There is the following example of your code.</p>\n<pre><code>package com.sks.xssbook;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n/**\n * @author ssuman\n *\n */\npublic class XssBook1 {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        try{\n        XSSFWorkbook workBook = new XSSFWorkbook();\n        XSSFSheet shhet = workBook.createSheet(&quot;sheet1&quot;);\n        File f1 = new File(&quot;sks.xlsx&quot;);\n        FileOutputStream fileOop = new FileOutputStream(f1);\n        workBook.write(fileOop);\n        workBook.close();\n        System.out.println(&quot;File created !!!!!&quot;);\n        }\n        catch(Exception ex) {\n            System.err.println(&quot;Error ---- &quot;+ex);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10798870,"reputation":1184,"user_id":7943583,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632666102,"creation_date":1632666102,"answer_id":69335819,"question_id":39670382,"body_markdown":"XSSFWorkbook class is only available in poi-ooxml dependency. \r\nPlease check if you are using poi or poi-ooxml.\r\n\r\nimplementation &#39;org.apache.poi:poi:5.0.0&#39; -&gt; HSSFWorkbook\r\n\r\nimplementation &#39;org.apache.poi:poi-ooxml:5.0.0&#39; -&gt; XSSFWorkbook","title":"Apache POI error loading XSSFWorkbook class","body":"<p>XSSFWorkbook class is only available in poi-ooxml dependency.\nPlease check if you are using poi or poi-ooxml.</p>\n<p>implementation 'org.apache.poi:poi:5.0.0' -&gt; HSSFWorkbook</p>\n<p>implementation 'org.apache.poi:poi-ooxml:5.0.0' -&gt; XSSFWorkbook</p>\n"}],"owner":{"account_id":9252777,"reputation":581,"user_id":6872729,"display_name":"Cameron Zach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136701,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":8,"score":58,"last_activity_date":1632666102,"creation_date":1474669474,"question_id":39670382,"body_markdown":"I&#39;m trying to write a program that works with Excel docs, but the HSSF format is too small for my requirements. I&#39;m attempting to move to XSSF, but I keep getting errors when trying to use it.\r\n\r\nI managed to solve the first two by adding xmlbeans-2.3.0.jar and dom4j-1.6.jar to my program, but now this error is coming up, which doesn&#39;t seem to be resolved by adding the Apache commons jar available on the Apache website.\r\n\r\nThe error is as follows:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/collections4/ListValuedMap\r\n    \tat hot.memes.ExcelCreator.main(ExcelCreator.java:66)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.collections4.ListValuedMap\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 1 more\r\n","title":"Apache POI error loading XSSFWorkbook class","body":"<p>I'm trying to write a program that works with Excel docs, but the HSSF format is too small for my requirements. I'm attempting to move to XSSF, but I keep getting errors when trying to use it.</p>\n\n<p>I managed to solve the first two by adding xmlbeans-2.3.0.jar and dom4j-1.6.jar to my program, but now this error is coming up, which doesn't seem to be resolved by adding the Apache commons jar available on the Apache website.</p>\n\n<p>The error is as follows:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/commons/collections4/ListValuedMap\n    at hot.memes.ExcelCreator.main(ExcelCreator.java:66)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.collections4.ListValuedMap\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n"},{"tags":["java","math","bit-shift"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632652903,"post_id":69333348,"comment_id":122546193,"body_markdown":"Can you give some context on what you are trying to achieve, and what you&#39;ve tried so far?","body":"Can you give some context on what you are trying to achieve, and what you&#39;ve tried so far?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1632663730,"post_id":69333348,"comment_id":122548545,"body_markdown":"Evidently `50381044488375 &gt; 630` is not stating or asking if  50381044488375 is greater than 630. So what does it mean?","body":"Evidently <code>50381044488375 &gt; 630</code> is not stating or asking if  50381044488375 is greater than 630. So what does it mean?"}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632665892,"creation_date":1632659258,"answer_id":69334919,"question_id":69333348,"body_markdown":"If you need a [Boolean Expression][1], you simply could derive the truth table (one for every output bit) using some library as [LogicNG][2]. The process to follow is\r\n\r\n - name every input bit `x0`, `x1`, ... (for `long` values up to `x63`).\r\n - for every output bit `r0`, `r1`, ... get a boolean expression as follows\r\n     - use every input number `N` to form a row of the [Truth Table][3]\r\n     - the bit result for that row is the `r-th` bit for the result value for the input `N`\r\n - once you get every `r-th` boolean expression from the truth tables, join all of them using `OR` replacing every `x-th` variable with `(x &lt;&lt; th)` and you&#39;ll get one unique boolean expression.\r\n\r\nNote: your example is `0x270L | (15 &amp; (n / 449 - n / 763))`, yes, dividing by a constant is &quot;directly&quot; transformable to a bit operation https://embeddedgurus.com/stack-overflow/2009/06/division-of-integers-by-constants/\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Boolean_expression\r\n  [2]: https://github.com/logic-ng/LogicNG\r\n  [3]: https://en.wikipedia.org/wiki/Truth_table","title":"How to find bitshift between two numbers","body":"<p>If you need a <a href=\"https://en.wikipedia.org/wiki/Boolean_expression\" rel=\"nofollow noreferrer\">Boolean Expression</a>, you simply could derive the truth table (one for every output bit) using some library as <a href=\"https://github.com/logic-ng/LogicNG\" rel=\"nofollow noreferrer\">LogicNG</a>. The process to follow is</p>\n<ul>\n<li>name every input bit <code>x0</code>, <code>x1</code>, ... (for <code>long</code> values up to <code>x63</code>).</li>\n<li>for every output bit <code>r0</code>, <code>r1</code>, ... get a boolean expression as follows\n<ul>\n<li>use every input number <code>N</code> to form a row of the <a href=\"https://en.wikipedia.org/wiki/Truth_table\" rel=\"nofollow noreferrer\">Truth Table</a></li>\n<li>the bit result for that row is the <code>r-th</code> bit for the result value for the input <code>N</code></li>\n</ul>\n</li>\n<li>once you get every <code>r-th</code> boolean expression from the truth tables, join all of them using <code>OR</code> replacing every <code>x-th</code> variable with <code>(x &lt;&lt; th)</code> and you'll get one unique boolean expression.</li>\n</ul>\n<p>Note: your example is <code>0x270L | (15 &amp; (n / 449 - n / 763))</code>, yes, dividing by a constant is &quot;directly&quot; transformable to a bit operation <a href=\"https://embeddedgurus.com/stack-overflow/2009/06/division-of-integers-by-constants/\" rel=\"nofollow noreferrer\">https://embeddedgurus.com/stack-overflow/2009/06/division-of-integers-by-constants/</a></p>\n"},{"tags":[],"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632661028,"creation_date":1632661028,"answer_id":69335145,"question_id":69333348,"body_markdown":"Most of the bits for these numbers are the same, so let&#39;s start by writing them out in binary, and highlighting all the bits where they are different:\r\n\r\n10110111010**010**0100000001**0**00010100110**001**01**101**11 â†’ 100111**0110**\r\n10110111010**001**0100000001**0**00010100110**001**01**100**11 â†’ 100111**0101**\r\n10110111010**110**0100000001**0**00010100110**001**01**011**11 â†’ 100111**0100**\r\n10110111010**100**0100000001**1**00010100110**110**01**100**11 â†’ 100111**1000**\r\n\r\nWe would like to find shifts which map columns from the left onto columns on the right. The first and second columns on the right (01,01,01,10) can be found on the left, as can the fourth column on the right (0,1,0,0), but the third column on the right (1,0,0,0) does not exist on the left, so we will need to form it by some operation on two columns on the left. Fortunately we can find two columns (1,1,0,1) and (1,0,1,0) whose bitwise `&amp;` is what we require.\r\n\r\nSo a full solution is like this:\r\n\r\n```java\r\nlong mapping(long x) {\r\n    return 0b1001110000                // the constant output bits\r\n        | (x &gt;&gt; 5) &amp; 0b1100            // first two output bits\r\n        | (x &gt;&gt; 3) &amp; (x &gt;&gt; 1) &amp; 0b0010 // third output bit\r\n        | (x &gt;&gt; 32) &amp; 0b0001;          // fourth output bit\r\n}\r\n```","title":"How to find bitshift between two numbers","body":"<p>Most of the bits for these numbers are the same, so let's start by writing them out in binary, and highlighting all the bits where they are different:</p>\n<p>10110111010<strong>010</strong>0100000001<strong>0</strong>00010100110<strong>001</strong>01<strong>101</strong>11 â†’ 100111<strong>0110</strong>\n10110111010<strong>001</strong>0100000001<strong>0</strong>00010100110<strong>001</strong>01<strong>100</strong>11 â†’ 100111<strong>0101</strong>\n10110111010<strong>110</strong>0100000001<strong>0</strong>00010100110<strong>001</strong>01<strong>011</strong>11 â†’ 100111<strong>0100</strong>\n10110111010<strong>100</strong>0100000001<strong>1</strong>00010100110<strong>110</strong>01<strong>100</strong>11 â†’ 100111<strong>1000</strong></p>\n<p>We would like to find shifts which map columns from the left onto columns on the right. The first and second columns on the right (01,01,01,10) can be found on the left, as can the fourth column on the right (0,1,0,0), but the third column on the right (1,0,0,0) does not exist on the left, so we will need to form it by some operation on two columns on the left. Fortunately we can find two columns (1,1,0,1) and (1,0,1,0) whose bitwise <code>&amp;</code> is what we require.</p>\n<p>So a full solution is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long mapping(long x) {\n    return 0b1001110000                // the constant output bits\n        | (x &gt;&gt; 5) &amp; 0b1100            // first two output bits\n        | (x &gt;&gt; 3) &amp; (x &gt;&gt; 1) &amp; 0b0010 // third output bit\n        | (x &gt;&gt; 32) &amp; 0b0001;          // fourth output bit\n}\n</code></pre>\n"}],"owner":{"account_id":22723816,"reputation":95,"user_id":16887933,"display_name":"asdasd31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1632847513,"answer_count":2,"score":-1,"last_activity_date":1632665892,"creation_date":1632647184,"question_id":69333348,"body_markdown":"I am trying to find the bitshift operators required to do a specific transformation\r\n\r\n```\r\n50381044488375 &gt; 630\r\n50376749521075 &gt; 629\r\n50398224357551 &gt; 628\r\n50389636520755 &gt; 632\r\n```\r\n\r\nAll of these transformations are done with the same bithift/bitoperator. `50389636520755L &gt;&gt; 3 &amp; 0x7FF` was suppose to work but it is giving me 870.  Am I able to find the proper bitshift between these numbers?","title":"How to find bitshift between two numbers","body":"<p>I am trying to find the bitshift operators required to do a specific transformation</p>\n<pre><code>50381044488375 &gt; 630\n50376749521075 &gt; 629\n50398224357551 &gt; 628\n50389636520755 &gt; 632\n</code></pre>\n<p>All of these transformations are done with the same bithift/bitoperator. <code>50389636520755L &gt;&gt; 3 &amp; 0x7FF</code> was suppose to work but it is giving me 870.  Am I able to find the proper bitshift between these numbers?</p>\n"},{"tags":["java","linux","shell","log4j"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632665575,"creation_date":1632509911,"answer_id":69319943,"question_id":69318755,"body_markdown":"The property `logging.config` is used by [Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.logging.config).\r\n\r\nLog4j 1.2 uses the `log4j.configuration` system property (cf. [documentation](https://logging.apache.org/log4j/1.2/manual.html#Default_Initialization_Procedure)). Therefore you want to use:\r\n\r\n```lang-sh\r\njava -Dlog4j.configuration=file:../conf/log4j.properties ...\r\n```","title":"Externalize log4j.properties file using command line Java","body":"<p>The property <code>logging.config</code> is used by <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.logging.config\" rel=\"nofollow noreferrer\">Spring Boot</a>.</p>\n<p>Log4j 1.2 uses the <code>log4j.configuration</code> system property (cf. <a href=\"https://logging.apache.org/log4j/1.2/manual.html#Default_Initialization_Procedure\" rel=\"nofollow noreferrer\">documentation</a>). Therefore you want to use:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -Dlog4j.configuration=file:../conf/log4j.properties ...\n</code></pre>\n"}],"owner":{"account_id":13656001,"reputation":93,"user_id":9852484,"display_name":"Jainesh kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632665575,"creation_date":1632502924,"question_id":69318755,"body_markdown":"I am trying to externalize the `log4j.properties` file. I am using `-Dlogging.config` Java argument but It is not working. Also there is no other `log4j.properties` file in jar file also. I am not sure what i am doing wrong. At console I am getting below error and no log file is getting generated at the specified location defined in `log4j.properties` file.\r\n\r\nconsole error:\r\n\r\n    log4j:WARN No appenders could be found for logger (com.techburps.gdriveconnect.GdriveConnectApplication).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nLinux Shell command (run from .sh file):\r\n\r\n    java -Dlogging.config=&quot;file:..conf/log4j.properties&quot; -cp ../conf/*:../lib/* com.techburps.gdriveconnect.GdriveConnectApplication $DUMP_FILE\r\n\r\nwhat am I doing wrong here?\r\n\r\n\r\n","title":"Externalize log4j.properties file using command line Java","body":"<p>I am trying to externalize the <code>log4j.properties</code> file. I am using <code>-Dlogging.config</code> Java argument but It is not working. Also there is no other <code>log4j.properties</code> file in jar file also. I am not sure what i am doing wrong. At console I am getting below error and no log file is getting generated at the specified location defined in <code>log4j.properties</code> file.</p>\n<p>console error:</p>\n<pre><code>log4j:WARN No appenders could be found for logger (com.techburps.gdriveconnect.GdriveConnectApplication).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n<p>Linux Shell command (run from .sh file):</p>\n<pre><code>java -Dlogging.config=&quot;file:..conf/log4j.properties&quot; -cp ../conf/*:../lib/* com.techburps.gdriveconnect.GdriveConnectApplication $DUMP_FILE\n</code></pre>\n<p>what am I doing wrong here?</p>\n"},{"tags":["java","javafx","canvas","png"],"comments":[{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1632520947,"post_id":69321301,"comment_id":122524460,"body_markdown":"@jewelsea I&#39;m keeping the entire code so that everything would be clear","body":"@jewelsea I&#39;m keeping the entire code so that everything would be clear"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1632523980,"post_id":69321301,"comment_id":122524948,"body_markdown":"[mcve] please ..  mind the __M__! (f.i. redo/undo are unrelated as are visual gimmicks to the buttons) - nevertheless be certain to make it reproducible","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please ..  mind the <b>M</b>! (f.i. redo/undo are unrelated as are visual gimmicks to the buttons) - nevertheless be certain to make it reproducible"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1632541010,"post_id":69321301,"comment_id":122526980,"body_markdown":"I don&#39;t really understand your problem description. I&#39;m interpreting it two different ways. (1) If you mean the file name does not end in `.png`, then note the extension does not determine the format of the file. For example, you could have a file whose extension is `.png` but internally the bytes are actually a PDF. (2) If you mean the actual bytes in the file are not in PNG formatâ€”though not sure how you manage to load it if this is the caseâ€”then does anything change if you use `&quot;png&quot;` instead of `&quot;.png&quot;` when you call `ImageIO.write`?","body":"I don&#39;t really understand your problem description. I&#39;m interpreting it two different ways. (1) If you mean the file name does not end in <code>.png</code>, then note the extension does not determine the format of the file. For example, you could have a file whose extension is <code>.png</code> but internally the bytes are actually a PDF. (2) If you mean the actual bytes in the file are not in PNG formatâ€”though not sure how you manage to load it if this is the caseâ€”then does anything change if you use <code>&quot;png&quot;</code> instead of <code>&quot;.png&quot;</code> when you call <code>ImageIO.write</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1632590711,"creation_date":1632590711,"answer_id":69328489,"question_id":69321301,"body_markdown":"A [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of the problem you are trying to solve could be as simple as : \r\n\t\r\n\timport java.awt.image.RenderedImage;\r\n\timport java.io.*;\r\n\timport javax.imageio.ImageIO;\r\n\timport javafx.application.Application;\r\n\timport javafx.embed.swing.SwingFXUtils;\r\n\timport javafx.scene.*;\r\n\timport javafx.scene.canvas.*;\r\n\timport javafx.scene.control.Button;\r\n\timport javafx.scene.image.*;\r\n\timport javafx.scene.layout.*;\r\n\timport javafx.stage.FileChooser;\r\n\timport javafx.stage.Stage;\r\n\t\r\n\tpublic class Main extends Application {\r\n\t\r\n\t\tprivate static final int CANVAS_SIZE = 200;\r\n\t\tprivate static final String FISH_IMAGE = &quot;https://www.shareicon.net/data/128x128/2015/03/28/14104_animal_256x256.png&quot;;\r\n\t\t@Override\r\n\t\tpublic void start(Stage primaryStage) {\r\n\t\r\n\t\t\tImage image = new Image(FISH_IMAGE,100,100,false,false);\r\n\t\t\tButton save = new Button(&quot;Save&quot;);\r\n\t\t\tVBox btns = new VBox(save);\r\n\t\r\n\t\t\t/* ----------Draw Canvas---------- */\r\n\t\t\tCanvas canvas = new Canvas(CANVAS_SIZE, CANVAS_SIZE);\r\n\t\t\tGraphicsContext gc  = canvas.getGraphicsContext2D();\r\n\t\t\tgc.drawImage(image, 50, 50);\r\n\t\r\n\t\t\t// Save\r\n\t\t\tsave.setOnAction((e)-&gt;{\r\n\t\t\t\tFileChooser savefile = new FileChooser();\r\n\t\t\t\tsavefile.setTitle(&quot;Save File&quot;);\r\n\t\r\n\t\t\t\tFile file = savefile.showSaveDialog(primaryStage);\r\n\t\t\t\tSystem.out.println(&quot;is file null ? &quot;+ file);\r\n\t\t\t\tif (file != null) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tWritableImage writableImage = new WritableImage(CANVAS_SIZE, CANVAS_SIZE);\r\n\t\t\t\t\t\tcanvas.snapshot(null, writableImage);\r\n\t\t\t\t\t\tRenderedImage renderedImage = SwingFXUtils.fromFXImage(writableImage, null);\r\n\t\t\t\t\t\tImageIO.write(renderedImage, &quot;png&quot;, file);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Error!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\tBorderPane pane = new BorderPane();\r\n\t\t\tpane.setLeft(btns);\r\n\t\t\tpane.setCenter(canvas);\r\n\t\r\n\t\t\tScene scene = new Scene(pane);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tlaunch(args);\r\n\t\t}\r\n\t}\r\n\r\nThis makes isolatng the problem and helping way easier.&lt;br&gt;\r\nTo overwrite a PNG file you only have to select it with the filechooder.&lt;br&gt;\r\nTo create a new file you need to type its name **and** its extension: `name.png` &lt;br&gt;\r\nYou can have the extension applied automatically by adding an `ExtensionFilter` to the `FileChooser` &lt;br&gt;\r\n\r\n\tFileChooser savefile = new FileChooser();\r\n\tsavefile.setTitle(&quot;Save File&quot;);\r\n    // Set extension filter\r\n    FileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;PNG files&quot;, &quot;*.PNG&quot;);\r\n\tsavefile.getExtensionFilters().add(extFilter);\r\n\r\n \r\n","title":"JavaFX - save canvas to png file","body":"<p>A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the problem you are trying to solve could be as simple as :</p>\n<pre><code>import java.awt.image.RenderedImage;\nimport java.io.*;\nimport javax.imageio.ImageIO;\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.*;\nimport javafx.scene.canvas.*;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private static final int CANVAS_SIZE = 200;\n    private static final String FISH_IMAGE = &quot;https://www.shareicon.net/data/128x128/2015/03/28/14104_animal_256x256.png&quot;;\n    @Override\n    public void start(Stage primaryStage) {\n\n        Image image = new Image(FISH_IMAGE,100,100,false,false);\n        Button save = new Button(&quot;Save&quot;);\n        VBox btns = new VBox(save);\n\n        /* ----------Draw Canvas---------- */\n        Canvas canvas = new Canvas(CANVAS_SIZE, CANVAS_SIZE);\n        GraphicsContext gc  = canvas.getGraphicsContext2D();\n        gc.drawImage(image, 50, 50);\n\n        // Save\n        save.setOnAction((e)-&gt;{\n            FileChooser savefile = new FileChooser();\n            savefile.setTitle(&quot;Save File&quot;);\n\n            File file = savefile.showSaveDialog(primaryStage);\n            System.out.println(&quot;is file null ? &quot;+ file);\n            if (file != null) {\n                try {\n                    WritableImage writableImage = new WritableImage(CANVAS_SIZE, CANVAS_SIZE);\n                    canvas.snapshot(null, writableImage);\n                    RenderedImage renderedImage = SwingFXUtils.fromFXImage(writableImage, null);\n                    ImageIO.write(renderedImage, &quot;png&quot;, file);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                    System.out.println(&quot;Error!&quot;);\n                }\n            }\n        });\n\n        BorderPane pane = new BorderPane();\n        pane.setLeft(btns);\n        pane.setCenter(canvas);\n\n        Scene scene = new Scene(pane);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This makes isolatng the problem and helping way easier.<br>\nTo overwrite a PNG file you only have to select it with the filechooder.<br>\nTo create a new file you need to type its name <strong>and</strong> its extension: <code>name.png</code> <br>\nYou can have the extension applied automatically by adding an <code>ExtensionFilter</code> to the <code>FileChooser</code> <br></p>\n<pre><code>FileChooser savefile = new FileChooser();\nsavefile.setTitle(&quot;Save File&quot;);\n// Set extension filter\nFileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;PNG files&quot;, &quot;*.PNG&quot;);\nsavefile.getExtensionFilters().add(extFilter);\n</code></pre>\n"}],"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2762,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69328489,"answer_count":1,"score":2,"last_activity_date":1632665362,"creation_date":1632519175,"question_id":69321301,"body_markdown":"I&#39;ve created a simple drawing program which just basically prints pictures on a canvas by choosing from 3 pictures and then the user can save the image that he created and open a previous image , the program works perfectly good , but I&#39;m facing a problem :\r\n\r\n - when I save the image , the image is not being saved as a png ,it&#39;s\r\n   rather getting saved as a file (not sure though) but even when it&#39;s\r\n   not being saved as a png , the image is getting saved and the user\r\n   can open it and it opens as it was saved.\r\n\r\nHere&#39;s the code :\r\n\r\n    package sample;\r\n    import java.awt.image.RenderedImage;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Stack;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.embed.swing.SwingFXUtils;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Cursor;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.image.WritableImage;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Line;\r\n    import javafx.scene.shape.Shape;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        Stack&lt;Shape&gt; undoHistory = new Stack();\r\n        Stack&lt;Shape&gt; redoHistory = new Stack();\r\n\r\n        Image image1 = new \r\n      Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\imgbin_clicker-stickers- \r\n      telegram- \r\n      decal-vkontakte-png.png&quot;,100,100,false,false);\r\n        Image image2 = new \r\n      Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\favpng_sticker-decal-telegram- \r\n      emoticon-adhesive.png&quot;,100,100,false,false);\r\n        Image image3 = new \r\n      Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\favpng_donald-duck-telegram- \r\n      sticker.png&quot;,100,100,false,false);\r\n        ImageView view1 = new ImageView(image1);\r\n        view1.setFitHeight(80);\r\n        view1.setPreserveRatio(true);\r\n        ImageView view2 = new ImageView(image2);\r\n        view2.setFitHeight(80);\r\n        view2.setPreserveRatio(true);\r\n        ImageView view3 = new ImageView(image3);\r\n        view3.setFitHeight(80);\r\n        view3.setPreserveRatio(true);\r\n\r\n        /* ----------btns---------- */\r\n        ToggleButton button1 = new ToggleButton();\r\n        ToggleButton button2 = new ToggleButton();\r\n        ToggleButton button3 = new ToggleButton();\r\n\r\n        button1.setGraphic(view1);\r\n        button2.setGraphic(view2);\r\n        button3.setGraphic(view3);\r\n\r\n        ToggleButton[] toolsArr = {button1, button2, button3};\r\n\r\n        ToggleGroup tools = new ToggleGroup();\r\n\r\n        for (ToggleButton tool : toolsArr) {\r\n            tool.setMinWidth(90);\r\n            tool.setToggleGroup(tools);\r\n            tool.setCursor(Cursor.HAND);\r\n        }\r\n\r\n\r\n        Button undo = new Button(&quot;Undo&quot;);\r\n        Button redo = new Button(&quot;Redo&quot;);\r\n        Button save = new Button(&quot;Save&quot;);\r\n        Button open = new Button(&quot;Open&quot;);\r\n        Button createNew = new Button(&quot;Create New&quot;);\r\n\r\n        Button[] basicArr = {save, open,createNew,undo,redo};\r\n\r\n        for(Button btn : basicArr) {\r\n            btn.setMinWidth(90);\r\n            btn.setCursor(Cursor.HAND);\r\n            btn.setTextFill(Color.WHITE);\r\n            btn.setStyle(&quot;-fx-background-color: #666;&quot;);\r\n        }\r\n        save.setStyle(&quot;-fx-background-color: #80334d;&quot;);\r\n        open.setStyle(&quot;-fx-background-color: #80334d;&quot;);\r\n        createNew.setStyle(&quot;-fx-background-color: #80334d;&quot;);\r\n        undo.setStyle(&quot;-fx-background-color: #80334d;&quot;);\r\n        redo.setStyle(&quot;-fx-background-color: #80334d;&quot;);\r\n\r\n        VBox btns = new VBox(10);\r\n        btns.getChildren().addAll(button1, button2, button3, open, save,createNew,undo,redo);\r\n        btns.setPadding(new Insets(5));\r\n        btns.setStyle(&quot;-fx-background-color: #999&quot;);\r\n        btns.setPrefWidth(100);\r\n\r\n        /* ----------Draw Canvas---------- */\r\n        Canvas canvas = new Canvas(1080, 790);\r\n        GraphicsContext gc;\r\n        gc = canvas.getGraphicsContext2D();\r\n        gc.setLineWidth(1);\r\n\r\n        canvas.setOnMouseClicked(e-&gt;{\r\n            if(button1.isSelected()) {\r\n                gc.drawImage(image1, e.getX(), e.getY());\r\n            }\r\n            else if(button2.isSelected()) {\r\n                gc.drawImage(image2,e.getX(), e.getY());\r\n            }\r\n            else if(button3.isSelected()) {\r\n                gc.drawImage(image3,e.getX(), e.getY());\r\n            }\r\n        });\r\n\r\n        /*------- Create New Paint ------*/\r\n        //Create\r\n        createNew.setOnAction((e) -&gt;{\r\n            gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n        });\r\n\r\n        /*------- Save &amp; Open ------*/\r\n        // Open\r\n        open.setOnAction((e)-&gt;{\r\n            FileChooser openFile = new FileChooser();\r\n            openFile.setTitle(&quot;Open File&quot;);\r\n            File file = openFile.showOpenDialog(primaryStage);\r\n            if (file != null) {\r\n                try {\r\n                    InputStream io = new FileInputStream(file);\r\n                    Image img = new Image(io);\r\n                    gc.drawImage(img, 0, 0);\r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error!&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Save\r\n        save.setOnAction((e)-&gt;{\r\n            FileChooser savefile = new FileChooser();\r\n            savefile.setTitle(&quot;Save File&quot;);\r\n\r\n            File file = savefile.showSaveDialog(primaryStage);\r\n            if (file != null) {\r\n                try {\r\n                    WritableImage writableImage = new WritableImage(1080, 790);\r\n                    canvas.snapshot(null, writableImage);\r\n                    RenderedImage renderedImage = SwingFXUtils.fromFXImage(writableImage, null);\r\n                    ImageIO.write(renderedImage, &quot;.png&quot;, file);\r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error!&quot;);\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        /* ----------UNDO &amp; REDO---------- */\r\n\r\n\r\n        /* ----------STAGE &amp; SCENE---------- */\r\n        BorderPane pane = new BorderPane();\r\n        pane.setLeft(btns);\r\n        pane.setCenter(canvas);\r\n\r\n        Scene scene = new Scene(pane, 1200, 800);\r\n\r\n        primaryStage.setTitle(&quot;Stickers&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    }","title":"JavaFX - save canvas to png file","body":"<p>I've created a simple drawing program which just basically prints pictures on a canvas by choosing from 3 pictures and then the user can save the image that he created and open a previous image , the program works perfectly good , but I'm facing a problem :</p>\n<ul>\n<li>when I save the image , the image is not being saved as a png ,it's\nrather getting saved as a file (not sure though) but even when it's\nnot being saved as a png , the image is getting saved and the user\ncan open it and it opens as it was saved.</li>\n</ul>\n<p>Here's the code :</p>\n<pre><code>package sample;\nimport java.awt.image.RenderedImage;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Stack;\n\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.geometry.Insets;\nimport javafx.scene.Cursor;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\nimport javax.imageio.ImageIO;\n\npublic class Main extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n\n    Stack&lt;Shape&gt; undoHistory = new Stack();\n    Stack&lt;Shape&gt; redoHistory = new Stack();\n\n    Image image1 = new \n  Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\imgbin_clicker-stickers- \n  telegram- \n  decal-vkontakte-png.png&quot;,100,100,false,false);\n    Image image2 = new \n  Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\favpng_sticker-decal-telegram- \n  emoticon-adhesive.png&quot;,100,100,false,false);\n    Image image3 = new \n  Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\stickers\\\\src\\\\resources\\\\favpng_donald-duck-telegram- \n  sticker.png&quot;,100,100,false,false);\n    ImageView view1 = new ImageView(image1);\n    view1.setFitHeight(80);\n    view1.setPreserveRatio(true);\n    ImageView view2 = new ImageView(image2);\n    view2.setFitHeight(80);\n    view2.setPreserveRatio(true);\n    ImageView view3 = new ImageView(image3);\n    view3.setFitHeight(80);\n    view3.setPreserveRatio(true);\n\n    /* ----------btns---------- */\n    ToggleButton button1 = new ToggleButton();\n    ToggleButton button2 = new ToggleButton();\n    ToggleButton button3 = new ToggleButton();\n\n    button1.setGraphic(view1);\n    button2.setGraphic(view2);\n    button3.setGraphic(view3);\n\n    ToggleButton[] toolsArr = {button1, button2, button3};\n\n    ToggleGroup tools = new ToggleGroup();\n\n    for (ToggleButton tool : toolsArr) {\n        tool.setMinWidth(90);\n        tool.setToggleGroup(tools);\n        tool.setCursor(Cursor.HAND);\n    }\n\n\n    Button undo = new Button(&quot;Undo&quot;);\n    Button redo = new Button(&quot;Redo&quot;);\n    Button save = new Button(&quot;Save&quot;);\n    Button open = new Button(&quot;Open&quot;);\n    Button createNew = new Button(&quot;Create New&quot;);\n\n    Button[] basicArr = {save, open,createNew,undo,redo};\n\n    for(Button btn : basicArr) {\n        btn.setMinWidth(90);\n        btn.setCursor(Cursor.HAND);\n        btn.setTextFill(Color.WHITE);\n        btn.setStyle(&quot;-fx-background-color: #666;&quot;);\n    }\n    save.setStyle(&quot;-fx-background-color: #80334d;&quot;);\n    open.setStyle(&quot;-fx-background-color: #80334d;&quot;);\n    createNew.setStyle(&quot;-fx-background-color: #80334d;&quot;);\n    undo.setStyle(&quot;-fx-background-color: #80334d;&quot;);\n    redo.setStyle(&quot;-fx-background-color: #80334d;&quot;);\n\n    VBox btns = new VBox(10);\n    btns.getChildren().addAll(button1, button2, button3, open, save,createNew,undo,redo);\n    btns.setPadding(new Insets(5));\n    btns.setStyle(&quot;-fx-background-color: #999&quot;);\n    btns.setPrefWidth(100);\n\n    /* ----------Draw Canvas---------- */\n    Canvas canvas = new Canvas(1080, 790);\n    GraphicsContext gc;\n    gc = canvas.getGraphicsContext2D();\n    gc.setLineWidth(1);\n\n    canvas.setOnMouseClicked(e-&gt;{\n        if(button1.isSelected()) {\n            gc.drawImage(image1, e.getX(), e.getY());\n        }\n        else if(button2.isSelected()) {\n            gc.drawImage(image2,e.getX(), e.getY());\n        }\n        else if(button3.isSelected()) {\n            gc.drawImage(image3,e.getX(), e.getY());\n        }\n    });\n\n    /*------- Create New Paint ------*/\n    //Create\n    createNew.setOnAction((e) -&gt;{\n        gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\n    });\n\n    /*------- Save &amp; Open ------*/\n    // Open\n    open.setOnAction((e)-&gt;{\n        FileChooser openFile = new FileChooser();\n        openFile.setTitle(&quot;Open File&quot;);\n        File file = openFile.showOpenDialog(primaryStage);\n        if (file != null) {\n            try {\n                InputStream io = new FileInputStream(file);\n                Image img = new Image(io);\n                gc.drawImage(img, 0, 0);\n            } catch (IOException ex) {\n                System.out.println(&quot;Error!&quot;);\n            }\n        }\n    });\n\n    // Save\n    save.setOnAction((e)-&gt;{\n        FileChooser savefile = new FileChooser();\n        savefile.setTitle(&quot;Save File&quot;);\n\n        File file = savefile.showSaveDialog(primaryStage);\n        if (file != null) {\n            try {\n                WritableImage writableImage = new WritableImage(1080, 790);\n                canvas.snapshot(null, writableImage);\n                RenderedImage renderedImage = SwingFXUtils.fromFXImage(writableImage, null);\n                ImageIO.write(renderedImage, &quot;.png&quot;, file);\n            } catch (IOException ex) {\n                System.out.println(&quot;Error!&quot;);\n            }\n        }\n\n    });\n\n    /* ----------UNDO &amp; REDO---------- */\n\n\n    /* ----------STAGE &amp; SCENE---------- */\n    BorderPane pane = new BorderPane();\n    pane.setLeft(btns);\n    pane.setCenter(canvas);\n\n    Scene scene = new Scene(pane, 1200, 800);\n\n    primaryStage.setTitle(&quot;Stickers&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n}\n</code></pre>\n"},{"tags":["java","swing","resize","jpanel","jtextarea"],"comments":[{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":0,"creation_date":1632430079,"post_id":69306684,"comment_id":122497635,"body_markdown":"Hey welcome to stackoverflow, can u post a minimal reproducible example (https://stackoverflow.com/help/minimal-reproducible-example) ?","body":"Hey welcome to stackoverflow, can u post a minimal reproducible example (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>) ?"},{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":0,"creation_date":1632430264,"post_id":69306684,"comment_id":122497690,"body_markdown":"Maybe try invoking `setPreferredSize(content.getPreferredSize());` and `validate();` afterwards.","body":"Maybe try invoking <code>setPreferredSize(content.getPreferredSize());</code> and <code>validate();</code> afterwards."},{"owner":{"account_id":21726174,"reputation":1,"user_id":16035590,"display_name":"Chippi_5"},"score":0,"creation_date":1632430449,"post_id":69306684,"comment_id":122497750,"body_markdown":"no that doesn&#39;t make any differece","body":"no that doesn&#39;t make any differece"},{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":0,"creation_date":1632441415,"post_id":69306684,"comment_id":122499993,"body_markdown":"Do you have to set a preferredSize? If I remove the preferredSize and minimumSize it works fine for me.","body":"Do you have to set a preferredSize? If I remove the preferredSize and minimumSize it works fine for me."},{"owner":{"account_id":21726174,"reputation":1,"user_id":16035590,"display_name":"Chippi_5"},"score":0,"creation_date":1632461386,"post_id":69306684,"comment_id":122503087,"body_markdown":"But then die Textarea doesnâ€™t resize. It should be wider and â€žinfiniteâ€œ long. When I leave the maximum, than thereâ€™s a limit for the size of the textarea","body":"But then die Textarea doesnâ€™t resize. It should be wider and â€žinfiniteâ€œ long. When I leave the maximum, than thereâ€™s a limit for the size of the textarea"}],"owner":{"account_id":21726174,"reputation":1,"user_id":16035590,"display_name":"Chippi_5"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632665086,"creation_date":1632429826,"question_id":69306684,"body_markdown":"I&#39;m stuck at this problem for a couple of hours now. I want a `JPanel` to be the size of the `JTextArea`, which is in it. So here is my idea at which I need help. I want to program a messenger and I want to display my messages in a panel. My messages are panels that have a text area inside where the content of the message is shown. Now I want the panel to be the same size as the text area where the content is shown. The panel must have a maximum width but need to be smaller than this. Here is my code:\r\n\r\n    public class Message extends JPanel{\r\n\t\r\n\tprivate NetworkMessage data;\r\n\t\r\n\tprivate JTextArea content = new JTextArea();\r\n\t\r\n\tpublic Message(NetworkMessage pData) {\r\n\t\t\r\n\t\tdata = pData;\r\n\t\t\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tcontent.setText(&quot;Hallo&quot;);\r\n\t\t\r\n\t\t\r\n\t\tcontent.setAlignmentX(LEFT_ALIGNMENT);\r\n\r\n\t\tcontent.setLineWrap(true);\r\n\t\tcontent.getWrapStyleWord();\r\n\t\tcontent.setFont(new Font(&quot;Sans Serif&quot;, Font.PLAIN, 15));\r\n\r\n\t\t\r\n\t\tthis.setAlignmentX(LEFT_ALIGNMENT);\r\n\t\tthis.setPreferredSize(new Dimension(0, 0));\r\n\t\tthis.setMaximumSize(new Dimension(Main.messengerFrame.getChatPanel().getWidth()/2 , 500));\r\n\t\t\r\n\t\tthis.add(content, BorderLayout.CENTER);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic NetworkMessage getData() {\r\n\t\t\r\n\t\treturn data;}}\r\nAnd here is what my program looks like right now: [screenshot][1]\r\n\r\nHere is a Minimal, Reproducible Example:\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame jf = new JFrame();\r\n\t\tjf.setSize(new Dimension(500, 500));\r\n\t\tjf.setVisible(true);\r\n\r\n\t\tJPanel jp = new JPanel();\r\n\t\tjp.setBackground(new Color(255, 0 , 0));\r\n\t\tjp.setOpaque(true);\r\n\t\tjp.setVisible(true);\r\n\r\n\t\tJPanel jp2 = new JPanel();\r\n\t\tjp2.setBackground(new Color(0, 255 , 0));\r\n\t\tjp2.setOpaque(true);\r\n\t\tjp2.setVisible(true);\r\n\t\t\r\n\t\tjp2.setPreferredSize(new Dimension(300, 800));\r\n\t\tjp2.setMinimumSize(jp.getPreferredSize());\r\n\t\tjp2.setMaximumSize(jp.getPreferredSize());\r\n\r\n\t\tJTextArea jta = new JTextArea();\r\n\t\tjta.setLineWrap(true);\r\n\t\tjta.setWrapStyleWord(true);\r\n\t\t\r\n\t\tjta.setText(&quot;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.&quot;);\r\n\t\t\r\n\t\tjp2.add(jta);\r\n\t\tjp.add(jp2);\r\n\t\tjf.add(jp);\r\n\t\tjf.validate();\r\n\t}\r\n    }\r\n\r\nAnd here is what the Minimal, Reproducible Example looks like: [screenshot form Minimal, Reproducible Example][2]\r\n\r\nI want the green panel (`jp2`) to be the same size as the `JTextArea`. But the panel should have a maximum width and if the text area is wider than the maximum width, the text should have line breaks so that it gets longer but not wider.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DDN8k.png\r\n  [2]: https://i.stack.imgur.com/Fd5ec.png","title":"Make JPanel to the size of the child JTextArea","body":"<p>I'm stuck at this problem for a couple of hours now. I want a <code>JPanel</code> to be the size of the <code>JTextArea</code>, which is in it. So here is my idea at which I need help. I want to program a messenger and I want to display my messages in a panel. My messages are panels that have a text area inside where the content of the message is shown. Now I want the panel to be the same size as the text area where the content is shown. The panel must have a maximum width but need to be smaller than this. Here is my code:</p>\n<pre><code>public class Message extends JPanel{\n\nprivate NetworkMessage data;\n\nprivate JTextArea content = new JTextArea();\n\npublic Message(NetworkMessage pData) {\n    \n    data = pData;\n    \n    this.setLayout(new BorderLayout());\n    \n    content.setText(&quot;Hallo&quot;);\n    \n    \n    content.setAlignmentX(LEFT_ALIGNMENT);\n\n    content.setLineWrap(true);\n    content.getWrapStyleWord();\n    content.setFont(new Font(&quot;Sans Serif&quot;, Font.PLAIN, 15));\n\n    \n    this.setAlignmentX(LEFT_ALIGNMENT);\n    this.setPreferredSize(new Dimension(0, 0));\n    this.setMaximumSize(new Dimension(Main.messengerFrame.getChatPanel().getWidth()/2 , 500));\n    \n    this.add(content, BorderLayout.CENTER);\n    \n}\n\npublic NetworkMessage getData() {\n    \n    return data;}}\n</code></pre>\n<p>And here is what my program looks like right now: <a href=\"https://i.stack.imgur.com/DDN8k.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>Here is a Minimal, Reproducible Example:</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    JFrame jf = new JFrame();\n    jf.setSize(new Dimension(500, 500));\n    jf.setVisible(true);\n\n    JPanel jp = new JPanel();\n    jp.setBackground(new Color(255, 0 , 0));\n    jp.setOpaque(true);\n    jp.setVisible(true);\n\n    JPanel jp2 = new JPanel();\n    jp2.setBackground(new Color(0, 255 , 0));\n    jp2.setOpaque(true);\n    jp2.setVisible(true);\n    \n    jp2.setPreferredSize(new Dimension(300, 800));\n    jp2.setMinimumSize(jp.getPreferredSize());\n    jp2.setMaximumSize(jp.getPreferredSize());\n\n    JTextArea jta = new JTextArea();\n    jta.setLineWrap(true);\n    jta.setWrapStyleWord(true);\n    \n    jta.setText(&quot;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.&quot;);\n    \n    jp2.add(jta);\n    jp.add(jp2);\n    jf.add(jp);\n    jf.validate();\n}\n}\n</code></pre>\n<p>And here is what the Minimal, Reproducible Example looks like: <a href=\"https://i.stack.imgur.com/Fd5ec.png\" rel=\"nofollow noreferrer\">screenshot form Minimal, Reproducible Example</a></p>\n<p>I want the green panel (<code>jp2</code>) to be the same size as the <code>JTextArea</code>. But the panel should have a maximum width and if the text area is wider than the maximum width, the text should have line breaks so that it gets longer but not wider.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7997,"page":1995,"page_size":100}
