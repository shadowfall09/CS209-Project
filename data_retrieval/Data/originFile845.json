{"items":[{"tags":["java","json","xml","parsing","document"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669729577,"post_id":74614793,"comment_id":131705108,"body_markdown":"[mcve] please .. and put some effort into formatting code propery (and not plain text as code ;)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. and put some effort into formatting code propery (and not plain text as code ;)"},{"owner":{"account_id":27085090,"reputation":11,"user_id":20633722,"display_name":"Priyanka T"},"score":0,"creation_date":1669731311,"post_id":74614793,"comment_id":131705790,"body_markdown":"XML.toJSONObject(output) here output is the string value which is obtained by converting xml to doc and doc to string.","body":"XML.toJSONObject(output) here output is the string value which is obtained by converting xml to doc and doc to string."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669796790,"post_id":74614793,"comment_id":131722108,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1671642459,"post_id":74614793,"comment_id":132144311,"body_markdown":"Underscore-java library has static method U.jsonToXml(json).","body":"Underscore-java library has static method U.jsonToXml(json)."}],"owner":{"account_id":27085090,"reputation":11,"user_id":20633722,"display_name":"Priyanka T"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669802283,"creation_date":1669728331,"question_id":74614793,"body_markdown":"i&#39;m new with Java and was working with a java class which will convert the json file to xml doc and vice verse for Sterling IBM .But the thing is am able to create the class with that functionality but they are expecting the class accept only doc and yfs environment and return only `doc`,so i want to convert `JSONObject` to Document can any one help me to get `doc` from `JsonObject`.\r\n\r\n```\r\nJSONObject jsonObj = XML.toJSONObject(output);\r\n\t\t\tDocument doc1 = Document.parse( jsonObj.toString() );\r\n```\r\nHere is what i tried with but it giving error as the method parse(string) is undefined for document.\r\nAny other way through which it can be done?\r\n\r\n","title":"JSON object to document doc","body":"<p>i'm new with Java and was working with a java class which will convert the json file to xml doc and vice verse for Sterling IBM .But the thing is am able to create the class with that functionality but they are expecting the class accept only doc and yfs environment and return only <code>doc</code>,so i want to convert <code>JSONObject</code> to Document can any one help me to get <code>doc</code> from <code>JsonObject</code>.</p>\n<pre><code>JSONObject jsonObj = XML.toJSONObject(output);\n            Document doc1 = Document.parse( jsonObj.toString() );\n</code></pre>\n<p>Here is what i tried with but it giving error as the method parse(string) is undefined for document.\nAny other way through which it can be done?</p>\n"},{"tags":["java","asynchronous","ejb","java-ee-8","payara-micro"],"answers":[{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669802113,"creation_date":1669802113,"answer_id":74625776,"question_id":74625666,"body_markdown":"Your method invocation will be truly asynchronous if you actually invoke the method of an EJB. The call in your sample is a local method call, completely bypassing the container and its annotation processing.\r\n\r\nA proper EJB invocation would require an actual EJB:\r\n\r\n```lang-java\r\n@Stateless\r\nclass MyEJB {\r\n\r\n  @Asynchronous\r\n  public void doSomething() {\r\n    try {\r\n      System.out.println(&quot;Long task started&quot;);\r\n      Thread.sleep(2000);\r\n      System.out.println(&quot;Long task ended&quot;);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(&quot;Long task failed&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n... and the method invocation in your resource class:\r\n\r\n```lang-java\r\nclass MyResource {\r\n\r\n@Inject MyEJB myEJB;\r\n\r\n@Path(&quot;foo&quot;)\r\npublic class FooResource {\r\n  @GET\r\n  public String get() {\r\n    System.out.println(&quot;Request started&quot;);\r\n    myEJB.doSomething(); // &lt;-- This is the important change!\r\n    System.out.println(&quot;Request ended&quot;);\r\n    return &quot;Hello world! &quot;;\r\n  }\r\n}\r\n```","title":"Payara @Asynchronous not asynchronous","body":"<p>Your method invocation will be truly asynchronous if you actually invoke the method of an EJB. The call in your sample is a local method call, completely bypassing the container and its annotation processing.</p>\n<p>A proper EJB invocation would require an actual EJB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\nclass MyEJB {\n\n  @Asynchronous\n  public void doSomething() {\n    try {\n      System.out.println(&quot;Long task started&quot;);\n      Thread.sleep(2000);\n      System.out.println(&quot;Long task ended&quot;);\n    } catch (InterruptedException e) {\n      System.out.println(&quot;Long task failed&quot;);\n    }\n  }\n}\n</code></pre>\n<p>... and the method invocation in your resource class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyResource {\n\n@Inject MyEJB myEJB;\n\n@Path(&quot;foo&quot;)\npublic class FooResource {\n  @GET\n  public String get() {\n    System.out.println(&quot;Request started&quot;);\n    myEJB.doSomething(); // &lt;-- This is the important change!\n    System.out.println(&quot;Request ended&quot;);\n    return &quot;Hello world! &quot;;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8371967,"reputation":105,"user_id":6286793,"display_name":"Calcimicium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74625776,"answer_count":1,"score":0,"last_activity_date":1669802113,"creation_date":1669801637,"question_id":74625666,"body_markdown":"I&#39;m working on a project powered by Payara Micro and it is configured by a domain.xml file.\r\n\r\nI&#39;m facing an issue with the `@Asynchronous` annotation. \r\n\r\nWhile the Oracle documentation explains this: \r\n\r\n&gt; Clients calling asynchronous methods, however, immediately have control returned to them by the enterprise bean container.\r\n&gt; \r\n&gt; https://docs.oracle.com/javaee/7/tutorial/ejb-async001.htm\r\n\r\nMy `@Asynchronous` annotated method does not return immediately.\r\n\r\n``` lang-java\r\n@Path(&quot;foo&quot;)\r\npublic class FooResource {\r\n  @GET\r\n  public String get() {\r\n    System.out.println(&quot;Request started&quot;);\r\n    this.doSomething();\r\n    System.out.println(&quot;Request ended&quot;);\r\n    return &quot;Hello world! &quot;;\r\n  }\r\n\r\n  @Asynchronous\r\n  public void doSomething() {\r\n    try {\r\n      System.out.println(&quot;Long task started&quot;);\r\n      Thread.sleep(2000);\r\n      System.out.println(&quot;Long task ended&quot;);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(&quot;Long task failed&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn my mind it should result in:\r\n\r\n```\r\nRequest started\r\nLong task started\r\nRequest ended\r\nLong task ended\r\n```\r\n\r\nbut it results in:\r\n\r\n```\r\nRequest started\r\nLong task started\r\nLong task ended\r\nRequest ended\r\n```\r\n\r\nI published on Github a simple Gradle project to reproduce the behavior [here][1].\r\n\r\n\r\n  [1]: https://github.com/Calcimicium/payarasynchronous","title":"Payara @Asynchronous not asynchronous","body":"<p>I'm working on a project powered by Payara Micro and it is configured by a domain.xml file.</p>\n<p>I'm facing an issue with the <code>@Asynchronous</code> annotation.</p>\n<p>While the Oracle documentation explains this:</p>\n<blockquote>\n<p>Clients calling asynchronous methods, however, immediately have control returned to them by the enterprise bean container.</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/tutorial/ejb-async001.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/tutorial/ejb-async001.htm</a></p>\n</blockquote>\n<p>My <code>@Asynchronous</code> annotated method does not return immediately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;foo&quot;)\npublic class FooResource {\n  @GET\n  public String get() {\n    System.out.println(&quot;Request started&quot;);\n    this.doSomething();\n    System.out.println(&quot;Request ended&quot;);\n    return &quot;Hello world! &quot;;\n  }\n\n  @Asynchronous\n  public void doSomething() {\n    try {\n      System.out.println(&quot;Long task started&quot;);\n      Thread.sleep(2000);\n      System.out.println(&quot;Long task ended&quot;);\n    } catch (InterruptedException e) {\n      System.out.println(&quot;Long task failed&quot;);\n    }\n  }\n}\n</code></pre>\n<p>In my mind it should result in:</p>\n<pre><code>Request started\nLong task started\nRequest ended\nLong task ended\n</code></pre>\n<p>but it results in:</p>\n<pre><code>Request started\nLong task started\nLong task ended\nRequest ended\n</code></pre>\n<p>I published on Github a simple Gradle project to reproduce the behavior <a href=\"https://github.com/Calcimicium/payarasynchronous\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","eclipse","spring","maven"],"comments":[{"owner":{"account_id":207231,"reputation":909,"user_id":456990,"accept_rate":70,"display_name":"Manish"},"score":0,"creation_date":1476154944,"post_id":39969837,"comment_id":67219129,"body_markdown":"Your build still seems to be invoking maven-assembly-plugin and for that you need an assembly file.","body":"Your build still seems to be invoking maven-assembly-plugin and for that you need an assembly file."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1476167452,"post_id":39969837,"comment_id":67222306,"body_markdown":"First you are using an extreme old version of [appassembler-maven-plugin](http://www.mojohaus.org/appassembler/appassembler-maven-plugin/) current version is 1.10...","body":"First you are using an extreme old version of <a href=\"http://www.mojohaus.org/appassembler/appassembler-maven-plugin/\" rel=\"nofollow noreferrer\">appassembler-maven-plugin</a> current version is 1.10..."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1476170679,"post_id":39969837,"comment_id":67223597,"body_markdown":"*I have a appassembler-maven-plugin in my pom file and it used to work [...] by running mvn assembly:assembly.* This isn&#39;t possible. `mvn assembly:assembly` will use the `maven-assembly-plugin`, not the `appassembler-maven-plugin`. It will also use a deprecated goal of the Assembly Plugin. And if you&#39;re using Spring Boot, [take care of this](http://stackoverflow.com/a/39932921/1743880). You probably don&#39;t need either of them.","body":"<i>I have a appassembler-maven-plugin in my pom file and it used to work [...] by running mvn assembly:assembly.</i> This isn&#39;t possible. <code>mvn assembly:assembly</code> will use the <code>maven-assembly-plugin</code>, not the <code>appassembler-maven-plugin</code>. It will also use a deprecated goal of the Assembly Plugin. And if you&#39;re using Spring Boot, <a href=\"http://stackoverflow.com/a/39932921/1743880\">take care of this</a>. You probably don&#39;t need either of them."}],"answers":[{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669801980,"creation_date":1669801980,"answer_id":74625747,"question_id":39969837,"body_markdown":"For those hitting this page from a search engine:\r\n\r\nThe `appassembler-maven-plugin` is abandoned since 2015.\r\n\r\nPlease use the `maven-assembly-plugin`.\r\n\r\nBelow are 2 examples - with an explicit descriptor file, and one relying on a pre-defined descriptor.\r\n\r\n            &lt;!-- The executable JAR(s) --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;&lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;assembleDistZip&lt;/id&gt;&lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;&lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;finalName&gt;${project.artifactId}-${project.version}-dist&lt;/finalName&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                                    &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptors&gt;&lt;descriptor&gt;src/build/assembly-dist.xml&lt;/descriptor&gt;&lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;&lt;phase&gt;package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\r\n                            &lt;descriptorRefs&gt;&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;&lt;/descriptorRefs&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt; &lt;!-- Jar - MANIFEST.MF options. --&gt;\r\n                                    &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                                    &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;/manifest&gt;\r\n                                &lt;manifestEntries&gt;\r\n                                    &lt;Release-Version&gt;${project.version}&lt;/Release-Version&gt;\r\n                                &lt;/manifestEntries&gt;\r\n                            &lt;/archive&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"appassembler-maven-plugin vs maven-assembly-plugin","body":"<p>For those hitting this page from a search engine:</p>\n<p>The <code>appassembler-maven-plugin</code> is abandoned since 2015.</p>\n<p>Please use the <code>maven-assembly-plugin</code>.</p>\n<p>Below are 2 examples - with an explicit descriptor file, and one relying on a pre-defined descriptor.</p>\n<pre><code>        &lt;!-- The executable JAR(s) --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;&lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;assembleDistZip&lt;/id&gt;&lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;&lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;finalName&gt;${project.artifactId}-${project.version}-dist&lt;/finalName&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                                &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptors&gt;&lt;descriptor&gt;src/build/assembly-dist.xml&lt;/descriptor&gt;&lt;/descriptors&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;&lt;phase&gt;package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\n                        &lt;descriptorRefs&gt;&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;&lt;/descriptorRefs&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt; &lt;!-- Jar - MANIFEST.MF options. --&gt;\n                                &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                                &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;/manifest&gt;\n                            &lt;manifestEntries&gt;\n                                &lt;Release-Version&gt;${project.version}&lt;/Release-Version&gt;\n                            &lt;/manifestEntries&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669801980,"creation_date":1476154600,"question_id":39969837,"body_markdown":"I have a appassembler-maven-plugin in my pom file and it used to work just fine - I can create a deployable package foe both windows and unix by running mvn assembly:assembly.\r\n\r\nHowever it stop working for the new Spring boot project, complaining:\r\n\r\n    \r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.6:single (default) on project rest: Failed to create assembly: Error creating assembly archive bin: You must set at least one file. -&gt; [Help 1]\r\n\r\nwhat went wrong? and what&#39;s difference b/w appassembler-maven-plugin and maven-assembly-plugin? I tried the latter, it seems throwing the same error (I don&#39;t recall the error details for that).\r\n\r\nthe plugin in my pom looks like:\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;assemble&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt; \r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;configurationSourceDirectory&gt;src/main/resources&lt;/configurationSourceDirectory&gt;\r\n\t\t\t\t\t&lt;configurationDirectory&gt;config&lt;/configurationDirectory&gt;\r\n\t\t\t\t\t&lt;copyConfigurationDirectory&gt;true&lt;/copyConfigurationDirectory&gt;\r\n\t\t\t\t\t&lt;includeConfigurationDirectoryInClasspath&gt;true&lt;/includeConfigurationDirectoryInClasspath&gt;\r\n\t\t\t\t\t&lt;assembleDirectory&gt;${project.build.directory}/${project.name}&lt;/assembleDirectory&gt;\r\n\t\t\t\t\t&lt;extraJvmArguments&gt;\r\n\t\t\t\t\t\t-Xms128m -Xmx128m \r\n\t\t\t\t\t&lt;/extraJvmArguments&gt;\r\n\t\t\t\t\t&lt;platforms&gt;\r\n                \t  &lt;platform&gt;unix&lt;/platform&gt;\r\n\t\t\t\t\t&lt;/platforms&gt;\r\n             \r\n\t\t\t\t\t&lt;programs&gt;\r\n\t\t\t\t\t\t&lt;program&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.mycompany.Application&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;gs_rest.sh&lt;/name&gt;\r\n\t\t\t\t\t\t&lt;/program&gt;\r\n\t\t\t\t\t&lt;/programs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt; \r\n","title":"appassembler-maven-plugin vs maven-assembly-plugin","body":"<p>I have a appassembler-maven-plugin in my pom file and it used to work just fine - I can create a deployable package foe both windows and unix by running mvn assembly:assembly.</p>\n\n<p>However it stop working for the new Spring boot project, complaining:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.6:single (default) on project rest: Failed to create assembly: Error creating assembly archive bin: You must set at least one file. -&gt; [Help 1]\n</code></pre>\n\n<p>what went wrong? and what's difference b/w appassembler-maven-plugin and maven-assembly-plugin? I tried the latter, it seems throwing the same error (I don't recall the error details for that).</p>\n\n<p>the plugin in my pom looks like:</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt; \n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;configurationSourceDirectory&gt;src/main/resources&lt;/configurationSourceDirectory&gt;\n                &lt;configurationDirectory&gt;config&lt;/configurationDirectory&gt;\n                &lt;copyConfigurationDirectory&gt;true&lt;/copyConfigurationDirectory&gt;\n                &lt;includeConfigurationDirectoryInClasspath&gt;true&lt;/includeConfigurationDirectoryInClasspath&gt;\n                &lt;assembleDirectory&gt;${project.build.directory}/${project.name}&lt;/assembleDirectory&gt;\n                &lt;extraJvmArguments&gt;\n                    -Xms128m -Xmx128m \n                &lt;/extraJvmArguments&gt;\n                &lt;platforms&gt;\n                  &lt;platform&gt;unix&lt;/platform&gt;\n                &lt;/platforms&gt;\n\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;com.mycompany.Application&lt;/mainClass&gt;\n                        &lt;name&gt;gs_rest.sh&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n</code></pre>\n"},{"tags":["java","arrays","count"],"comments":[{"owner":{"account_id":2058164,"reputation":71291,"user_id":1835379,"accept_rate":86,"display_name":"Cerbrus"},"score":1,"creation_date":1669628720,"post_id":74598649,"comment_id":131677156,"body_markdown":"Java and JavaScript are two _different_ programming languages. Don&#39;t add the JavaScript tag to Java questions.","body":"Java and JavaScript are two <i>different</i> programming languages. Don&#39;t add the JavaScript tag to Java questions."},{"owner":{"account_id":8999591,"reputation":159,"user_id":6708657,"display_name":"darkash"},"score":0,"creation_date":1669628774,"post_id":74598649,"comment_id":131677174,"body_markdown":"Not sure how is the java way to do this, but you could create a Map object which stores the occurence of the number and increment it each time the randomized number appears.","body":"Not sure how is the java way to do this, but you could create a Map object which stores the occurence of the number and increment it each time the randomized number appears."}],"answers":[{"tags":[],"owner":{"account_id":10164332,"reputation":399,"user_id":11119684,"display_name":"Bas van der Linden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669630558,"creation_date":1669628967,"answer_id":74598742,"question_id":74598649,"body_markdown":"To keep track of the random number you generate you can use a array. The array starts out as all 0&#39;s and is of size 10 (because there are 10 numbers between 0-9).\r\n\r\n```java\r\nint size = 10;\r\nint numbers_counter[] = new int[size];\r\n\r\n// initialize the values\r\nfor(int i = 0; i &lt; size; i++){\r\n    numbers_counter[i] = 0;\r\n}\r\n\r\n// count some random numbers\r\nfor(int i = 0; i &lt; 100; i++){\r\n    numbers_counter[(int)(Math.random() * size)] += 1;\r\n}\r\n\r\n// print how many times each number accured\r\nfor(int i = 0; i &lt; size; i++){\r\n    System.out.println(&quot;&quot; + i + &quot; occured: &quot; + numbers_counter[i] + &quot; times&quot;);\r\n}\r\n```\r\n\r\nYou can apply this method to your code.","title":"How can I make the script that counts which number occurred most often and counts how many times do each of the 10 random numbers occur","body":"<p>To keep track of the random number you generate you can use a array. The array starts out as all 0's and is of size 10 (because there are 10 numbers between 0-9).</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 10;\nint numbers_counter[] = new int[size];\n\n// initialize the values\nfor(int i = 0; i &lt; size; i++){\n    numbers_counter[i] = 0;\n}\n\n// count some random numbers\nfor(int i = 0; i &lt; 100; i++){\n    numbers_counter[(int)(Math.random() * size)] += 1;\n}\n\n// print how many times each number accured\nfor(int i = 0; i &lt; size; i++){\n    System.out.println(&quot;&quot; + i + &quot; occured: &quot; + numbers_counter[i] + &quot; times&quot;);\n}\n</code></pre>\n<p>You can apply this method to your code.</p>\n"},{"tags":[],"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669629646,"creation_date":1669629272,"answer_id":74598813,"question_id":74598649,"body_markdown":"The `arrNum` variable will contain an array of all occurences of each number. So if you want to count, for example, how many times 4 occurred in this, you can do this:\r\n\r\n    Arrays.stream(arrNum).filter(n -&gt; n == 4).count()\r\n\r\nFor 7 you can do this:\r\n\r\n    Arrays.stream(arrNum).filter(n -&gt; n == 7).count()\r\n\r\nAnd you can do the same for other digits (1 to 10).\r\n\r\nThis would be a simple/straight-forward way of doing it. You can also improve it by creating a method that returns this count:\r\n\r\n    public static int getCount(int[] arr, int num) {\r\n        return Arrays.stream(arr).filter(n -&gt; n == num).count();\r\n    }\r\nAnd then call this in a loop:\r\n\r\n    for(int i=1; i&lt;=10; i++) {\r\n        System.out.println(&quot;Count for &quot; + i + &quot;: &quot; + getCount(arrNum, i));\r\n    }","title":"How can I make the script that counts which number occurred most often and counts how many times do each of the 10 random numbers occur","body":"<p>The <code>arrNum</code> variable will contain an array of all occurences of each number. So if you want to count, for example, how many times 4 occurred in this, you can do this:</p>\n<pre><code>Arrays.stream(arrNum).filter(n -&gt; n == 4).count()\n</code></pre>\n<p>For 7 you can do this:</p>\n<pre><code>Arrays.stream(arrNum).filter(n -&gt; n == 7).count()\n</code></pre>\n<p>And you can do the same for other digits (1 to 10).</p>\n<p>This would be a simple/straight-forward way of doing it. You can also improve it by creating a method that returns this count:</p>\n<pre><code>public static int getCount(int[] arr, int num) {\n    return Arrays.stream(arr).filter(n -&gt; n == num).count();\n}\n</code></pre>\n<p>And then call this in a loop:</p>\n<pre><code>for(int i=1; i&lt;=10; i++) {\n    System.out.println(&quot;Count for &quot; + i + &quot;: &quot; + getCount(arrNum, i));\n}\n</code></pre>\n"}],"owner":{"account_id":26433438,"reputation":1,"user_id":20079200,"display_name":"Soohyun Kang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669801529,"creation_date":1669628447,"question_id":74598649,"body_markdown":"To explain about the program that I am making, it is program that asks the user how many times he would like his coin to flip. In this program, the coin of the head is even, and the odd is the tail. \r\n\r\nI created a script that randomizes numbers from 1 to 10 based on the number you entered. And also I&#39;ve made the script that how many odd and even numbers had come out, but I don&#39;t know how to make a script that shows how many times do each of the 10 random numbers occur and which number occurred most often.\r\n\r\nHere is the script that I have made:\r\n```\r\nimport java.util.*;\r\n\r\npublic class GreatCoinFlipping {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;How many times do you want to flip the coin? : &quot;);\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint amount = sc.nextInt();\r\n\r\n\t\tint[] arrNum = new int[amount];\r\n\t\tint even = 0, odd = 0;\r\n\t\tfor (int i = 0; i &lt; amount ; i++) {\r\n\t\t\tarrNum[i] = (int)(Math.random() * 10 + 1);\r\n\t\t\tSystem.out.println(arrNum[i]);\r\n\t\t\tif (arrNum[i] % 2 == 0)\teven++;\r\n\t\t\telse\t\t\t\t\todd++;\r\n\t\t}//end for\r\n\t\tSystem.out.println(&quot;Head: &quot; + even + &quot;, Tail: &quot; + odd);\r\n\t}//end main\r\n\t\r\n}//end class\r\n```\r\n\r\n\r\nWhat I am expecting on this script that that I want to make the script that shows how many times do each of the 10 random numbers occur and which number occurred most often and I want to make it by the count method. But the ramdon number part has to be in array method. Can someone please help me with this problem?","title":"How can I make the script that counts which number occurred most often and counts how many times do each of the 10 random numbers occur","body":"<p>To explain about the program that I am making, it is program that asks the user how many times he would like his coin to flip. In this program, the coin of the head is even, and the odd is the tail.</p>\n<p>I created a script that randomizes numbers from 1 to 10 based on the number you entered. And also I've made the script that how many odd and even numbers had come out, but I don't know how to make a script that shows how many times do each of the 10 random numbers occur and which number occurred most often.</p>\n<p>Here is the script that I have made:</p>\n<pre><code>import java.util.*;\n\npublic class GreatCoinFlipping {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;How many times do you want to flip the coin? : &quot;);\n\n        Scanner sc = new Scanner(System.in);\n        int amount = sc.nextInt();\n\n        int[] arrNum = new int[amount];\n        int even = 0, odd = 0;\n        for (int i = 0; i &lt; amount ; i++) {\n            arrNum[i] = (int)(Math.random() * 10 + 1);\n            System.out.println(arrNum[i]);\n            if (arrNum[i] % 2 == 0) even++;\n            else                    odd++;\n        }//end for\n        System.out.println(&quot;Head: &quot; + even + &quot;, Tail: &quot; + odd);\n    }//end main\n    \n}//end class\n</code></pre>\n<p>What I am expecting on this script that that I want to make the script that shows how many times do each of the 10 random numbers occur and which number occurred most often and I want to make it by the count method. But the ramdon number part has to be in array method. Can someone please help me with this problem?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":1,"creation_date":1669798693,"post_id":74625079,"comment_id":131722670,"body_markdown":"why do you want to have self reference? Isn&#39;t `perform` method working without `me`?","body":"why do you want to have self reference? Isn&#39;t <code>perform</code> method working without <code>me</code>?"},{"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"score":0,"creation_date":1669799412,"post_id":74625079,"comment_id":131722915,"body_markdown":"The perform() method for each service extending the abstract method has a specific @Transactional. Does it work if first service calls the performService() that does not have this annotation and if this method calls perform() method that has @Transactional? The aim is to have a transaction opened for each call to perform() method.","body":"The perform() method for each service extending the abstract method has a specific @Transactional. Does it work if first service calls the performService() that does not have this annotation and if this method calls perform() method that has @Transactional? The aim is to have a transaction opened for each call to perform() method."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1669800173,"post_id":74625079,"comment_id":131723161,"body_markdown":"then just create a separate bean to handle this transactional stuff","body":"then just create a separate bean to handle this transactional stuff"}],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669801219,"creation_date":1669801219,"answer_id":74625576,"question_id":74625079,"body_markdown":"I faced a similar issue and fixed it as follows. Created ServiceManager as a bean, autowired all the services involved in cycle(s) within it. And then retrieved the services via getters from the serviceManager. The serviceManager itself is to be retrieved via @Autowire where it is needed.","title":"Circular reference issue with abstract class","body":"<p>I faced a similar issue and fixed it as follows. Created ServiceManager as a bean, autowired all the services involved in cycle(s) within it. And then retrieved the services via getters from the serviceManager. The serviceManager itself is to be retrieved via @Autowire where it is needed.</p>\n"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669801219,"creation_date":1669798618,"question_id":74625079,"body_markdown":"After an upgrade of one of our app in Spring Boot v2.7.6, I have an issue about a circular reference.\r\n\r\nI have an abstract class like this:\r\n\r\n    public abstract class AbstractTransactionalService&lt;Request, Response, Exception&gt; {\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationContext applicationContext;\r\n    \r\n    \tprivate AbstractTransactionalService&lt;Request, Response, Exception&gt; me;\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@PostConstruct\r\n    \tpublic void init() {\r\n    \t\tme = applicationContext.getBean(this.getClass());\r\n    \t}\r\n    \r\n    \tpublic Response performService(final Request request, final Class&lt;Exception&gt; exceptionClass)\r\n    \t\t\tthrows Exception {\r\n    \t\ttry {\r\n    \t\t\tfinal Response response = this.me.perform(request);\r\n    \t\t\treturn response;\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\t...\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic abstract Response perform(Request request) throws Exception;\r\n    }\r\n\r\n\r\nA service 2 extends AbstractTransactionalService and implements the perform() method. This service 2 is used in an other service 1 (injected with @Autowired and a call to performService() method is done).\r\n\r\nI have a circular reference issue with the service that calls the service 2 extending the abstract class at server startup. When the service 1 does @Autowired for the service 2 extending the abstract class, the service 2 extending the abstract class is in creation. It seems that when the call to ApplicationContext.getBean() is done in the abstract class, it causes the circular reference error because he current bean is in creation.\r\n\r\nI do not know how to solve it. Do you have an idea please?","title":"Circular reference issue with abstract class","body":"<p>After an upgrade of one of our app in Spring Boot v2.7.6, I have an issue about a circular reference.</p>\n<p>I have an abstract class like this:</p>\n<pre><code>public abstract class AbstractTransactionalService&lt;Request, Response, Exception&gt; {\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    private AbstractTransactionalService&lt;Request, Response, Exception&gt; me;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @PostConstruct\n    public void init() {\n        me = applicationContext.getBean(this.getClass());\n    }\n\n    public Response performService(final Request request, final Class&lt;Exception&gt; exceptionClass)\n            throws Exception {\n        try {\n            final Response response = this.me.perform(request);\n            return response;\n        } catch (final Exception e) {\n            ...\n        }\n    }\n\n    public abstract Response perform(Request request) throws Exception;\n}\n</code></pre>\n<p>A service 2 extends AbstractTransactionalService and implements the perform() method. This service 2 is used in an other service 1 (injected with @Autowired and a call to performService() method is done).</p>\n<p>I have a circular reference issue with the service that calls the service 2 extending the abstract class at server startup. When the service 1 does @Autowired for the service 2 extending the abstract class, the service 2 extending the abstract class is in creation. It seems that when the call to ApplicationContext.getBean() is done in the abstract class, it causes the circular reference error because he current bean is in creation.</p>\n<p>I do not know how to solve it. Do you have an idea please?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669801104,"creation_date":1669801104,"answer_id":74625558,"question_id":74624454,"body_markdown":"There is a mismatch between property &quot;course&quot; an class User and the &quot;mappedBy&quot; value of &quot;courses&quot; in class courses:\r\n\r\nClass User:\r\n\r\n```java\r\n@OneToOne\r\n@JoinColumn(name = &quot;id&quot;)\r\ncourses course;\r\n```\r\n\r\nClass courses:\r\n\r\n```java\r\n@OneToOne(mappedBy = &quot;courses&quot;)\r\nUser user;\r\n```\r\n\r\nThe mappedBy value should have a value of &quot;course&quot;. \r\n\r\nPS: You should refactor the class &quot;courses&quot; to &quot;Courses&quot; to follow the Java conventions.\r\n\r\nPS: Your domain model looks suspicious, as I&#39;d would assume a ManyToMany relationship between a User and a Course. ","title":"MySQL Failed to initialize JPA EntityManagerFactory. I want to create two table in which users table is main table which has foreign key for courses","body":"<p>There is a mismatch between property &quot;course&quot; an class User and the &quot;mappedBy&quot; value of &quot;courses&quot; in class courses:</p>\n<p>Class User:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToOne\n@JoinColumn(name = &quot;id&quot;)\ncourses course;\n</code></pre>\n<p>Class courses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToOne(mappedBy = &quot;courses&quot;)\nUser user;\n</code></pre>\n<p>The mappedBy value should have a value of &quot;course&quot;.</p>\n<p>PS: You should refactor the class &quot;courses&quot; to &quot;Courses&quot; to follow the Java conventions.</p>\n<p>PS: Your domain model looks suspicious, as I'd would assume a ManyToMany relationship between a User and a Course.</p>\n"}],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74625558,"answer_count":1,"score":0,"last_activity_date":1669801104,"creation_date":1669794900,"question_id":74624454,"body_markdown":"    // User Entity\r\n    package example.registrationlogindemo.entity;\r\n\r\n    import jakarta.persistence.*;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User\r\n    {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToOne\r\n\t@JoinColumn(name = &quot;id&quot;)\r\n\tcourses course;\r\n    \r\n    @Column(nullable=false)\r\n    private String name;\r\n\r\n    @Column(nullable=false, unique=true)\r\n    private String email;\r\n\r\n    @Column(nullable=false)\r\n    private String password;\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\r\n    @JoinTable(\r\n            name=&quot;users_roles&quot;,\r\n            joinColumns={@JoinColumn(name=&quot;USER_ID&quot;, referencedColumnName=&quot;ID&quot;)},\r\n            inverseJoinColumns={@JoinColumn(name=&quot;ROLE_ID&quot;, referencedColumnName=&quot;ID&quot;)})\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic courses getCourse() {\r\n\t\treturn course;\r\n\t}\r\n\r\n\tpublic void setCourse(courses course) {\r\n\t\tthis.course = course;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic List&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n    }\r\n\r\n    //courses entity\r\n    package example.registrationlogindemo.entity;\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.OneToOne;\r\n    import jakarta.persistence.PrimaryKeyJoinColumn;\r\n    import jakarta.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name = &quot;courses&quot;)\r\n    public class courses {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;user_id&quot;)\r\n\tprivate Long user_id;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;courses&quot;)\r\n\tUser user;\r\n\t\r\n\t@Column(nullable=false)\r\n\tprivate Long java;\r\n\r\n\tpublic Long getUser_id() {\r\n\t\treturn user_id;\r\n\t}\r\n\r\n\tpublic void setUser_id(Long user_id) {\r\n\t\tthis.user_id = user_id;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic Long getJava() {\r\n\t\treturn java;\r\n\t}\r\n\r\n\tpublic void setJava(Long java) {\r\n\t\tthis.java = java;\r\n\t}\r\n    }\r\n\r\nError:\r\n     Failed to initialize JPA EntityManagerFactory: Unknown mappedBy in: \r\n     example.registrationlogindemo.entity.courses.user, referenced property unknown: \r\n     example.registrationlogindemo.entity.User.courses\r\n     Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown mappedBy in: example.registrationlogindemo.entity.User.course, referenced property unknown: example.registrationlogindemo.entity.courses.users\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat example.registrationlogindemo.RegistrationLoginDemoApplication.main(RegistrationLoginDemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.hibernate.AnnotationException: Unknown mappedBy in: example.registrationlogindemo.entity.User.course, referenced property unknown: example.registrationlogindemo.entity.courses.users\r\n\tat org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:170) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1781) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1738) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\t... 16 common frames omitted\r\n\r\n","title":"MySQL Failed to initialize JPA EntityManagerFactory. I want to create two table in which users table is main table which has foreign key for courses","body":"<pre><code>// User Entity\npackage example.registrationlogindemo.entity;\n\nimport jakarta.persistence.*;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;users&quot;)\npublic class User\n{\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@OneToOne\n@JoinColumn(name = &quot;id&quot;)\ncourses course;\n\n@Column(nullable=false)\nprivate String name;\n\n@Column(nullable=false, unique=true)\nprivate String email;\n\n@Column(nullable=false)\nprivate String password;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\n@JoinTable(\n        name=&quot;users_roles&quot;,\n        joinColumns={@JoinColumn(name=&quot;USER_ID&quot;, referencedColumnName=&quot;ID&quot;)},\n        inverseJoinColumns={@JoinColumn(name=&quot;ROLE_ID&quot;, referencedColumnName=&quot;ID&quot;)})\nprivate List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic courses getCourse() {\n    return course;\n}\n\npublic void setCourse(courses course) {\n    this.course = course;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic List&lt;Role&gt; getRoles() {\n    return roles;\n}\n\npublic void setRoles(List&lt;Role&gt; roles) {\n    this.roles = roles;\n}\n\n}\n\n//courses entity\npackage example.registrationlogindemo.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.PrimaryKeyJoinColumn;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;courses&quot;)\npublic class courses {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;user_id&quot;)\nprivate Long user_id;\n\n@OneToOne(mappedBy = &quot;courses&quot;)\nUser user;\n\n@Column(nullable=false)\nprivate Long java;\n\npublic Long getUser_id() {\n    return user_id;\n}\n\npublic void setUser_id(Long user_id) {\n    this.user_id = user_id;\n}\n\npublic User getUser() {\n    return user;\n}\n\npublic void setUser(User user) {\n    this.user = user;\n}\n\npublic Long getJava() {\n    return java;\n}\n\npublic void setJava(Long java) {\n    this.java = java;\n}\n}\n</code></pre>\n<p>Error:\nFailed to initialize JPA EntityManagerFactory: Unknown mappedBy in:\nexample.registrationlogindemo.entity.courses.user, referenced property unknown:\nexample.registrationlogindemo.entity.User.courses\nError creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown mappedBy in: example.registrationlogindemo.entity.User.course, referenced property unknown: example.registrationlogindemo.entity.courses.users\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat example.registrationlogindemo.RegistrationLoginDemoApplication.main(RegistrationLoginDemoApplication.java:10) ~[classes/:na]\nCaused by: org.hibernate.AnnotationException: Unknown mappedBy in: example.registrationlogindemo.entity.User.course, referenced property unknown: example.registrationlogindemo.entity.courses.users\nat org.hibernate.cfg.OneToOneSecondPass.doSecondPass(OneToOneSecondPass.java:170) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1781) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1738) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.1.Final.jar:6.1.1.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n... 16 common frames omitted</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582479948,"creation_date":1582479948,"answer_id":60365065,"question_id":60356537,"body_markdown":"If you want to fetch only id, title and tags of the Question entity, you can use [CriteriaQuery with Tuple][1].\r\n\r\nTry the following code:\r\n\r\n       CriteriaQuery&lt;Tuple&gt; query = getCriteriaBuilder().createTupleQuery();\r\n       Root&lt;Question&gt; question = query.from(Question.class);\r\n       query.multiselect(question.get(&quot;id&quot;), question.get(&quot;title&quot;), question.get(&quot;tags&quot;));\r\n       List&lt;Tuple&gt; questionList = entityManager.createQuery(query).getResultList();\r\n\r\n  [1]: https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-tuple.html","title":"Hibernate criteria multi select query with join","body":"<p>If you want to fetch only id, title and tags of the Question entity, you can use <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-tuple.html\" rel=\"nofollow noreferrer\">CriteriaQuery with Tuple</a>.</p>\n\n<p>Try the following code:</p>\n\n<pre><code>   CriteriaQuery&lt;Tuple&gt; query = getCriteriaBuilder().createTupleQuery();\n   Root&lt;Question&gt; question = query.from(Question.class);\n   query.multiselect(question.get(\"id\"), question.get(\"title\"), question.get(\"tags\"));\n   List&lt;Tuple&gt; questionList = entityManager.createQuery(query).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582788918,"creation_date":1582491505,"answer_id":60366779,"question_id":60356537,"body_markdown":"You can use a [tuple criteria query](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#criteria-tuple):\r\n\r\n``` java\r\nCriteriaBuilder builder = session.getCriteriaBuilder();\r\nCriteriaQuery&lt;Tuple&gt; criteria = builder.createTupleQuery();\r\nRoot&lt;Question&gt; root = criteria.from(Question.class);\r\nPath&lt;Long&gt; qId = root.get(&quot;id&quot;);\r\nPath&lt;String&gt; qTitle = root.get(&quot;title&quot;);\r\nJoin&lt;Question, Tag&gt; qTag = root.join(&quot;tags&quot;, JoinType.INNER);\r\n      \r\ncriteria.multiselect(qId, qTitle, qTag);\r\nList&lt;Tuple&gt; tuples = session.createQuery(criteria).getResultList();\r\nfor (Tuple tuple : tuples)\r\n{\r\n   Long id = tuple.get(qId);\r\n   String title = tuple.get(qTitle);\r\n   Tag tag = tuple.get(qTag);\r\n}\r\n```\r\n\r\n[Another alternative](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#criteria-typedquery-wrapper) to selecting multiple values is select an object that will &quot;wrap&quot; the multiple values. For this approach you should declare a wrapper class:\r\n\r\n``` java\r\npublic class QuestionTag\r\n{\r\n   private final Long id;\r\n   private final String title;\r\n   private final Tag tag;\r\n   \r\n   public QuestionTag(Long id, String title, Tag tag)\r\n   {\r\n      this.id = id;\r\n      this.title = title;\r\n      this.tag = tag;\r\n   }\r\n\r\n   public Long getId()\r\n   {\r\n      return id;\r\n   }\r\n\r\n   public String getTitle()\r\n   {\r\n      return title;\r\n   }\r\n\r\n   public Tag getTag()\r\n   {\r\n      return tag;\r\n   }\r\n}\r\n```\r\n\r\nAnd then use it in the query:\r\n\r\n``` java\r\nCriteriaBuilder builder = session.getCriteriaBuilder();\r\nCriteriaQuery&lt;QuestionTag&gt; criteria = builder.createQuery(QuestionTag.class);\r\nRoot&lt;Question&gt; root = criteria.from(Question.class);\r\nPath&lt;Long&gt; qId = root.get(&quot;id&quot;);\r\nPath&lt;String&gt; qTitle = root.get(&quot;title&quot;);\r\nJoin&lt;Question, Tag&gt; qTag = root.join(&quot;tags&quot;, JoinType.INNER);\r\ncriteria.select(builder.construct(QuestionTag.class, qId, qTitle, qTag));\r\n      \r\nList&lt;QuestionTag&gt; wrappers = session.createQuery(criteria).getResultList();\r\n```","title":"Hibernate criteria multi select query with join","body":"<p>You can use a <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#criteria-tuple\" rel=\"nofollow noreferrer\">tuple criteria query</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder builder = session.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; criteria = builder.createTupleQuery();\nRoot&lt;Question&gt; root = criteria.from(Question.class);\nPath&lt;Long&gt; qId = root.get(\"id\");\nPath&lt;String&gt; qTitle = root.get(\"title\");\nJoin&lt;Question, Tag&gt; qTag = root.join(\"tags\", JoinType.INNER);\n\ncriteria.multiselect(qId, qTitle, qTag);\nList&lt;Tuple&gt; tuples = session.createQuery(criteria).getResultList();\nfor (Tuple tuple : tuples)\n{\n   Long id = tuple.get(qId);\n   String title = tuple.get(qTitle);\n   Tag tag = tuple.get(qTag);\n}\n</code></pre>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#criteria-typedquery-wrapper\" rel=\"nofollow noreferrer\">Another alternative</a> to selecting multiple values is select an object that will \"wrap\" the multiple values. For this approach you should declare a wrapper class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class QuestionTag\n{\n   private final Long id;\n   private final String title;\n   private final Tag tag;\n\n   public QuestionTag(Long id, String title, Tag tag)\n   {\n      this.id = id;\n      this.title = title;\n      this.tag = tag;\n   }\n\n   public Long getId()\n   {\n      return id;\n   }\n\n   public String getTitle()\n   {\n      return title;\n   }\n\n   public Tag getTag()\n   {\n      return tag;\n   }\n}\n</code></pre>\n\n<p>And then use it in the query:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder builder = session.getCriteriaBuilder();\nCriteriaQuery&lt;QuestionTag&gt; criteria = builder.createQuery(QuestionTag.class);\nRoot&lt;Question&gt; root = criteria.from(Question.class);\nPath&lt;Long&gt; qId = root.get(\"id\");\nPath&lt;String&gt; qTitle = root.get(\"title\");\nJoin&lt;Question, Tag&gt; qTag = root.join(\"tags\", JoinType.INNER);\ncriteria.select(builder.construct(QuestionTag.class, qId, qTitle, qTag));\n\nList&lt;QuestionTag&gt; wrappers = session.createQuery(criteria).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26386615,"reputation":26,"user_id":20039041,"display_name":"Jayasuriya "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669800989,"creation_date":1669800989,"answer_id":74625537,"question_id":60356537,"body_markdown":"Use criteriabuilder to construct the value. Note(generate constructor using that fields in the QuestionPojo class so that it will map). Hope it helps\r\n\r\n\t\r\n\t@Autowired\r\n\tEntityManager manager;\r\n\t\r\n\tCriteriaBuilder cb = manager.getCriteriaBuilder();\t\r\n\tCriteriaQuery&lt;QuestionPojo&gt; query = cb.createQuery(QuestionPojo.class);\t\r\n    Root&lt;Question&gt; question = query.from(Question.class);\r\n    query.select(getSelection(question,cb)); \r\n\tList&lt;QuestionPojo&gt; res = manager.createQuery(query).setFirstResult(pageNo * pageSize).setMaxResults(pageSize).getResultList();\t\t\r\n\t\r\n\t\r\n\tprivate static Selection&lt;QuestionPojo&gt; getSelection(Root&lt;Question&gt; question,CriteriaBuilder builder) {\r\n\t\treturn builder.construct(QuestionPojo.class,question.get(&quot;id&quot;), question.get(&quot;title&quot;), question.get(&quot;tags&quot;));\r\n\t}","title":"Hibernate criteria multi select query with join","body":"<p>Use criteriabuilder to construct the value. Note(generate constructor using that fields in the QuestionPojo class so that it will map). Hope it helps</p>\n<pre><code>@Autowired\nEntityManager manager;\n\nCriteriaBuilder cb = manager.getCriteriaBuilder();  \nCriteriaQuery&lt;QuestionPojo&gt; query = cb.createQuery(QuestionPojo.class); \nRoot&lt;Question&gt; question = query.from(Question.class);\nquery.select(getSelection(question,cb)); \nList&lt;QuestionPojo&gt; res = manager.createQuery(query).setFirstResult(pageNo * pageSize).setMaxResults(pageSize).getResultList();      \n\n\nprivate static Selection&lt;QuestionPojo&gt; getSelection(Root&lt;Question&gt; question,CriteriaBuilder builder) {\n    return builder.construct(QuestionPojo.class,question.get(&quot;id&quot;), question.get(&quot;title&quot;), question.get(&quot;tags&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":16818504,"reputation":103,"user_id":12161063,"display_name":"Aashish Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10325,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1669800989,"creation_date":1582403676,"question_id":60356537,"body_markdown":"Below is my entity class where I am retrieving this entity using criteria builder but I need to fetch only `id`, `title` and `tags`.\r\n\r\n**Question.java**\r\n``` java\r\n@Entity\r\n@Table(name = &quot;QUESTION_TITLE&quot;)\r\npublic class Question {\r\n    \r\n   @Id\r\n   @Column(name = &quot;id&quot;)\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private Long id;\r\n    \r\n   @Column(name = &quot;title&quot;)\r\n   private String title;\r\n    \r\n   @OneToOne(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL)\r\n   private Body body;\r\n    \r\n   @ManyToMany\r\n   @JoinTable(name = &quot;QUESTION_TAGS&quot;, joinColumns = @JoinColumn(name = &quot;question_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;id&quot;))\r\n   private Collection&lt;Tags&gt; tags;\r\n\r\n   @ManyToOne(targetEntity = Registration.class, fetch = FetchType.LAZY)\r\n   @JoinColumn(nullable = false, name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n   private Registration registration;\r\n}\r\n```\r\n\r\nbelow is my code to fetch.i am don&#39;t know how would project Tags table.\r\n\r\n``` java\r\njavax.persistence.criteria.CriteriaQuery&lt;Question&gt; query = getCriteriaBuilder().createQuery(Question.class);\r\nRoot&lt;Question&gt; question = query.from(Question.class);\r\nquery.multiselect(question.get(&quot;id&quot;), question.get(&quot;title&quot;), question.get(&quot;tags&quot;));\r\nList&lt;Question&gt; questionList = entityManager.createQuery(query).getResultList();\r\n```","title":"Hibernate criteria multi select query with join","body":"<p>Below is my entity class where I am retrieving this entity using criteria builder but I need to fetch only <code>id</code>, <code>title</code> and <code>tags</code>.</p>\n\n<p><strong>Question.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"QUESTION_TITLE\")\npublic class Question {\n\n   @Id\n   @Column(name = \"id\")\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(name = \"title\")\n   private String title;\n\n   @OneToOne(mappedBy = \"question\", cascade = CascadeType.ALL)\n   private Body body;\n\n   @ManyToMany\n   @JoinTable(name = \"QUESTION_TAGS\", joinColumns = @JoinColumn(name = \"question_id\", referencedColumnName = \"id\"), inverseJoinColumns = @JoinColumn(name = \"tag_id\", referencedColumnName = \"id\"))\n   private Collection&lt;Tags&gt; tags;\n\n   @ManyToOne(targetEntity = Registration.class, fetch = FetchType.LAZY)\n   @JoinColumn(nullable = false, name = \"user_id\", referencedColumnName = \"id\")\n   private Registration registration;\n}\n</code></pre>\n\n<p>below is my code to fetch.i am don't know how would project Tags table.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>javax.persistence.criteria.CriteriaQuery&lt;Question&gt; query = getCriteriaBuilder().createQuery(Question.class);\nRoot&lt;Question&gt; question = query.from(Question.class);\nquery.multiselect(question.get(\"id\"), question.get(\"title\"), question.get(\"tags\"));\nList&lt;Question&gt; questionList = entityManager.createQuery(query).getResultList();\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":19824827,"reputation":49,"user_id":14520572,"display_name":"Ajay J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669800875,"creation_date":1669744198,"answer_id":74618246,"question_id":74617559,"body_markdown":"Don&#39;t pass null in insert query.\r\n\r\n    PreparedStatement ps=con.prepareStatement(&quot;insert into itemsList (name,amt,expire) values (?,?,?);&quot;)\r\n   \r\n    ps.setString(1,name);\r\n    ps.setDouble(2,amt);\r\n    ps.setString(3,exp);","title":"My Id is autoIncrement and other than Id from 1st position, I want to insert the name,price","body":"<p>Don't pass null in insert query.</p>\n<pre><code>PreparedStatement ps=con.prepareStatement(&quot;insert into itemsList (name,amt,expire) values (?,?,?);&quot;)\n\nps.setString(1,name);\nps.setDouble(2,amt);\nps.setString(3,exp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669800890,"creation_date":1669744492,"answer_id":74618294,"question_id":74617559,"body_markdown":"You define 4 columns in your statement, one is using an invalid column name `null`. And accordingly you define 4 placeholders, waiting for values to be assigned. \r\n\r\nBut you only supply 3. That‘s the cause for the error.  \r\n\r\nSolution is to fix the SQL statement and assign values to placeholders at their new position:\r\n\r\n```java\r\nPreparedStatement ps=con\r\n  .prepareStatement(&quot;insert into itemsList (name,amt,expire) values (?,?,?)&quot;);\r\n\r\nps.setString(1,name);\r\nps.setDouble(2,amt);\r\nps.setString(3,exp);\r\n```\r\n","title":"My Id is autoIncrement and other than Id from 1st position, I want to insert the name,price","body":"<p>You define 4 columns in your statement, one is using an invalid column name <code>null</code>. And accordingly you define 4 placeholders, waiting for values to be assigned.</p>\n<p>But you only supply 3. That‘s the cause for the error.</p>\n<p>Solution is to fix the SQL statement and assign values to placeholders at their new position:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps=con\n  .prepareStatement(&quot;insert into itemsList (name,amt,expire) values (?,?,?)&quot;);\n\nps.setString(1,name);\nps.setDouble(2,amt);\nps.setString(3,exp);\n</code></pre>\n"}],"owner":{"display_name":"user17282548"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669800890,"creation_date":1669741021,"question_id":74617559,"body_markdown":"This is the code where I&#39;m trying to use the insert query:\r\n\r\n```\r\nint insertItems(String name,double amt,String exp)throws Exception{\r\nConnection con=getConnection();\r\n    PreparedStatement ps=con.prepareStatement(&quot;insert into itemsList (null,name,amt,expire) values (?,?,?,?);&quot;);//when I use the 4?s it displays [Exception in thread &quot;main&quot; java.sql.SQLException: No value specified for parameter 1] and if I use 3?s it shows out of range.\r\n\t\t\r\n\t\t//ps.setInt(1,id);//I declared the id as auto-Increment and primary key\r\n\t\tps.setString(2,name);\r\n\t\tps.setDouble(3,amt);\r\n\t\tps.setString(4,exp);\r\n\t\t\r\n\t\tint n=ps.executeUpdate();\r\n\t\t\r\n\t\treturn n;\r\n\t\t\r\n\t}\r\n```\r\n\r\nI don&#39;t understand that where I&#39;m going wrong please help me to understand it.\r\n\r\ngetConnection() is where I created the JDBC driver, driver manager till connection and it is returning the connection object to other methods\r\n\r\nI can read data easily but when it comes to exp line its shows exception\r\n\r\n```none\r\nChoose Option :\r\n1.Add Item              2.View all Items\r\n3.Place Order           4.NA\r\n5.View Orders           6.Exit\r\n-------------------------------------------------------------------------------------------\r\n1\r\nChoose type of Item :\r\n1.Normal item   2.Food\r\n2\r\nEnter Item name :\r\ndragon\r\nEnter the Price :\r\n70\r\nEnter the Expire date :\r\n12/11\r\nException in thread &quot;main&quot; java.sql.SQLException: No value specified for parameter 1\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1084)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n        at com.fixitytech.isodb.ItemDAO.insertItems(ItemDAO.java:37)\r\n        at com.fixitytech.isodb.ShopdbUI.main(ShopdbUI.java:90)\r\n```","title":"My Id is autoIncrement and other than Id from 1st position, I want to insert the name,price","body":"<p>This is the code where I'm trying to use the insert query:</p>\n<pre><code>int insertItems(String name,double amt,String exp)throws Exception{\nConnection con=getConnection();\n    PreparedStatement ps=con.prepareStatement(&quot;insert into itemsList (null,name,amt,expire) values (?,?,?,?);&quot;);//when I use the 4?s it displays [Exception in thread &quot;main&quot; java.sql.SQLException: No value specified for parameter 1] and if I use 3?s it shows out of range.\n        \n        //ps.setInt(1,id);//I declared the id as auto-Increment and primary key\n        ps.setString(2,name);\n        ps.setDouble(3,amt);\n        ps.setString(4,exp);\n        \n        int n=ps.executeUpdate();\n        \n        return n;\n        \n    }\n</code></pre>\n<p>I don't understand that where I'm going wrong please help me to understand it.</p>\n<p>getConnection() is where I created the JDBC driver, driver manager till connection and it is returning the connection object to other methods</p>\n<p>I can read data easily but when it comes to exp line its shows exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>Choose Option :\n1.Add Item              2.View all Items\n3.Place Order           4.NA\n5.View Orders           6.Exit\n-------------------------------------------------------------------------------------------\n1\nChoose type of Item :\n1.Normal item   2.Food\n2\nEnter Item name :\ndragon\nEnter the Price :\n70\nEnter the Expire date :\n12/11\nException in thread &quot;main&quot; java.sql.SQLException: No value specified for parameter 1\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1084)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n        at com.fixitytech.isodb.ItemDAO.insertItems(ItemDAO.java:37)\n        at com.fixitytech.isodb.ShopdbUI.main(ShopdbUI.java:90)\n</code></pre>\n"},{"tags":["java","awt","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1669543207,"post_id":74589009,"comment_id":131660917,"body_markdown":"Please see [How do I ask a good question](https://stackoverflow.com/help/how-to-ask).","body":"Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question</a>."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1669631047,"post_id":74589009,"comment_id":131677973,"body_markdown":"I believe this is a Java bug, and needs to be reported (along with the code necessary to reproduce it) to the OpenJDK project.","body":"I believe this is a Java bug, and needs to be reported (along with the code necessary to reproduce it) to the OpenJDK project."},{"owner":{"account_id":18096655,"reputation":444,"user_id":13154828,"display_name":"tsgrgo"},"score":1,"creation_date":1669741567,"post_id":74589009,"comment_id":131709833,"body_markdown":"Are you modifying the BufferedImage with multiple threads?","body":"Are you modifying the BufferedImage with multiple threads?"}],"answers":[{"tags":[],"owner":{"account_id":27061233,"reputation":11,"user_id":20613226,"display_name":"GZY_mingbai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669800787,"creation_date":1669800787,"answer_id":74625483,"question_id":74589009,"body_markdown":"I solved this problem through the synchronous lock.\r\n\r\n ","title":"Java Graphics2D drawRect throw &quot;sg2d.loops&quot; is null","body":"<p>I solved this problem through the synchronous lock.</p>\n"}],"owner":{"account_id":27061233,"reputation":11,"user_id":20613226,"display_name":"GZY_mingbai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669800787,"creation_date":1669542723,"question_id":74589009,"body_markdown":"```\r\njava.lang.NullPointerException: Cannot read field &quot;fillParallelogramLoop&quot; because &quot;sg2d.loops&quot; is null\r\n        at java.desktop/sun.java2d.pipe.LoopPipe.fillParallelogram(LoopPipe.java:355)\r\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawGeneralLine(PixelToParallelogramConverter.java:287)\r\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawLine(PixelToParallelogramConverter.java:80)\r\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawRect(PixelToParallelogramConverter.java:103)\r\n        at java.desktop/sun.java2d.SunGraphics2D.drawRect(SunGraphics2D.java:2410)\r\n```\r\n\r\nI just used Graphics2D to draw something on the BufferedImage.","title":"Java Graphics2D drawRect throw &quot;sg2d.loops&quot; is null","body":"<pre><code>java.lang.NullPointerException: Cannot read field &quot;fillParallelogramLoop&quot; because &quot;sg2d.loops&quot; is null\n        at java.desktop/sun.java2d.pipe.LoopPipe.fillParallelogram(LoopPipe.java:355)\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawGeneralLine(PixelToParallelogramConverter.java:287)\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawLine(PixelToParallelogramConverter.java:80)\n        at java.desktop/sun.java2d.pipe.PixelToParallelogramConverter.drawRect(PixelToParallelogramConverter.java:103)\n        at java.desktop/sun.java2d.SunGraphics2D.drawRect(SunGraphics2D.java:2410)\n</code></pre>\n<p>I just used Graphics2D to draw something on the BufferedImage.</p>\n"},{"tags":["java","multithreading","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669798645,"post_id":74622369,"comment_id":131722656,"body_markdown":"Don&#39;t please don&#39;t. You are making things overly complex. Use springs async support and annotate the method with `@Async` instead of messing around with the executor yourself. \\","body":"Don&#39;t please don&#39;t. You are making things overly complex. Use springs async support and annotate the method with <code>@Async</code> instead of messing around with the executor yourself. \\"},{"owner":{"account_id":27092337,"reputation":1,"user_id":20639928,"display_name":"Saransh"},"score":0,"creation_date":1669799905,"post_id":74622369,"comment_id":131723076,"body_markdown":"Thank you, exactly what I was looking for. I went through the spring&#39;s tutorial and it&#39;ll work like a charm for me.  Thanks again, now I feel like what a dumb question this was :(.","body":"Thank you, exactly what I was looking for. I went through the spring&#39;s tutorial and it&#39;ll work like a charm for me.  Thanks again, now I feel like what a dumb question this was :(."}],"owner":{"account_id":27092337,"reputation":1,"user_id":20639928,"display_name":"Saransh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669800705,"creation_date":1669776852,"question_id":74622369,"body_markdown":"I have a service which processes several files in a for loop, file can fall in one of 5 categories and the processing is mostly done via reading file, using a rest call to update some details in a database. Each category has a different rest endpoint and they aren&#39;t all that fast.\r\n\r\nCode Structure Before: (Single Thread execution)\r\n\r\n\r\nParent Class\r\n\r\n``` java\r\npublic class Parent  {\r\n\r\n    public static final String SUCCESS_MESSAGE = &quot;Successfully processed your files&quot;;\r\n    private static final String SPRING_PROFILES_ACTIVE = &quot;spring.profiles.active&quot;;\r\n    private static final String LINE_SEPERATOR = System.getProperty(&quot;line.separator&quot;);\r\n\r\n    @Autowired\r\n    private ChildService1 childservice1;\r\n    @Autowired\r\n    private ChildService2 childservice2;\r\n    @Autowired\r\n    private ChildService3 childservice3;\r\n    @Autowired\r\n    private ChildService4 childservice4;\r\n\r\n\r\n    /**\r\n     * The processFiles function is used to process the files downloaded from the FTP server.\r\n     * It checks for all the files in a directory and then processes them accordingly.\r\n     *\r\n     * @return A string\r\n     */\r\n    @Override\r\n    public String processFiles()  {\r\n\r\n        for (File file : files) {\r\n          \r\n            try {\r\n                if (file.getName().contains(&quot;svalue1))\r\n                    childservice1.processFile(file);\r\n                else if (file.getName().contains(&quot;svalue2))\r\n                    childservice2.processFile(file);\r\n                else if (file.getName().contains(&quot;value3))\r\n                    childservice3.processFile(file);\r\n                else if (file.getName().contains(&quot;value4))\r\n                   childservice4.processFile(file);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Exception occurred when processing file {}, the cause was {}&quot;, file.getName(), e.getLocalizedMessage(), e);\r\n            }\r\n        }\r\n        return SUCCESS_MESSAGE;\r\n    }\r\n```\r\n\r\nChild class Structure\r\n\r\n``` java\r\n@Service\r\n@Slf4j\r\npublic class ChildService {\r\n    @Autowired\r\n    private ReadCSVService&lt;ChildServiceCSV&gt; readCSVService;\r\n\r\n    @Autowired\r\n    private Mapper mapperUtil;\r\n\r\n    @Autowired\r\n    private ChildRepository repository;\r\n\r\n    /**\r\n     * The processFile function takes a file as an input and reads the contents of the file.\r\n     * It then maps each line to a ChildServiceCSV object, which is then mapped to\r\n     * a rest call model. The model is then updated in the database using repository&#39;s update method\r\n     *\r\n     * @param file Get the absolute path of the file\r\n     * @return Void\r\n     */\r\n    public void processFile(File file) {\r\n        Iterator&lt;ChildServiceCSV&gt; iterator = readCSVService.mapToCSVIterator(file.getAbsolutePath(), ChildServiceCSV.class);\r\n        while (iterator.hasNext()) {\r\n            ChildServiceCSVcsvModel csvModel = iterator.next();\r\n            RESTModel restModel = mapperUtil.mapCsvModelToMDMModel(csvModel);\r\n            repository.update(restModel );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nSo I figured to make this process falster by using```ExecutorService``` , create a @Bean  and Autowire it in a the Parent class that has the for loop and then call  processFIle in separate threads.\r\n\r\nThe issue I&#39;m facing here is a design problem, my method in child services takes the file as an input ```processFile(file)```, if I make it implement Runnable how do I call the method that expects file in its argument. \r\n\r\nOne way would be to create constructor of Child service that takes in file as input and assigns value to a member variable, and then I wouldn&#39;t have any problems accessing the variable(file) in my run method, but then I wouldn&#39;t be able to Autowire the child service in my Parent class, and would need to create new instances every Time. I need some sort of way to be able to do following \r\n```\r\nfor (File file : files) {\r\n      if (file.getName().contains(&quot;svalue1))\r\n                    executerService.execute(childservice1.processFile(file));\r\n```\r\n\r\nBelow I what I was able to implement, need suggestions on how to make this better and use @Autowire with child class while still having this threadPoolExecutor functionality. Thanks.\r\n\r\n\r\n\r\n\r\n\r\nOne possible workaround without auto-Wiring the child classes:\r\n\r\n\r\n``` java\r\n@Bean\r\npublic ExecutorService getExecuted(){\r\n   return Executors.newFixedThreadPool(10);\r\n}\r\n```\r\n\r\nParent Class\r\n\r\n``` Java\r\npublic class Parent  {\r\n\r\n   @Autowired\r\n   ExecutorService executorService;\r\n\r\n    public String processFiles()  {\r\n\r\n        for (File file : files) {\r\n          \r\n                if (file.getName().contains(&quot;svalue1))\r\n                    executorService.execute( new ChildService1(file));\r\n               //repeat same for other child services\r\n        }\r\n        executorService.shutDown();\r\n        return SUCCESS_MESSAGE;\r\n    }\r\n```\r\n\r\nChild Class\r\n\r\n\r\n``` java\r\n@Service\r\n@Slf4j\r\npublic class ChildService implements Runnable {\r\n    @Autowired\r\n    private ReadCSVService&lt;ChildServiceCSV&gt; readCSVService;\r\n\r\n    @Autowired\r\n    private Mapper mapperUtil;\r\n\r\n    @Autowired\r\n    private ChildRepository repository;\r\n\r\n    private File file;\r\n\r\n    ChildService (File file){\r\n       this.file=file;\r\n    }\r\n\r\n    /**\r\n     * The processFile function takes a file as an input and reads the contents of the file.\r\n     * It then maps each line to a ChildServiceCSV object, which is then mapped to\r\n     * a rest call model. The model is then updated in the database using repository&#39;s update method\r\n     *\r\n     * @param file Get the absolute path of the file\r\n     * @return Void\r\n     */\r\n    public void processFile(File file) {\r\n        Iterator&lt;ChildServiceCSV&gt; iterator = readCSVService.mapToCSVIterator(file.getAbsolutePath(), ChildServiceCSV.class);\r\n        while (iterator.hasNext()) {\r\n            ChildServiceCSVcsvModel csvModel = iterator.next();\r\n            RESTModel restModel = mapperUtil.mapCsvModelToMDMModel(csvModel);\r\n            repository.update(restModel);\r\n        }\r\n    }\r\n\r\n\r\n   @Override\r\n   public void run() {\r\n      this.processFile(file);\r\n    }\r\n\r\n\r\n}\r\n```\r\n## Update Solved ##\r\n\r\nUsed @EnableAsync and @Async annotation \r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class CreateTaskConsoleApplication implements CommandLineRunner {\r\n\t@Bean\r\n\tpublic Executor taskExecutor() {\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(10);\r\n\t\texecutor.setMaxPoolSize(10);\r\n\t\texecutor.setQueueCapacity(500);\r\n\t\texecutor.setThreadNamePrefix(&quot;Thread-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}\r\n//..... come code here\r\n}\r\n```\r\nused ```@Async``` on my child class&#39;s method, made it return a ```CompletableFuture&lt;String&gt;``` instead of void.\r\n\r\nAdded following in parent Class\r\n\r\n```\r\n    List&lt;CompletableFuture&lt;String&gt;&gt; futuresList = new ArrayList&lt;&gt;();\r\n     for (File file : files) {\r\n          \r\n            try {\r\n                if (file.getName().contains(&quot;svalue1))\r\n                    futuresList.add(childservice1.processFile(file));\r\n                else if (file.getName().contains(&quot;svalue2))\r\n                    futuresList.add(childservice2.processFile(file));\r\n                else if (file.getName().contains(&quot;value3))\r\n                    futuresList.add(childservice3.processFile(file));\r\n                else if (file.getName().contains(&quot;value4))\r\n                    futuresList.add(childservice4.processFile(file));\r\n            } catch (Exception e) {\r\n                log.error(&quot;Exception occurred when processing file {}, the cause was {}&quot;, file.getName(), e.getLocalizedMessage(), e);\r\n            }\r\n        }\r\n        CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[futuresList.size()])).join();\r\n        return SUCCESS_MESSAGE;\r\n}\r\n```","title":"Autowire a class which implements Runnable","body":"<p>I have a service which processes several files in a for loop, file can fall in one of 5 categories and the processing is mostly done via reading file, using a rest call to update some details in a database. Each category has a different rest endpoint and they aren't all that fast.</p>\n<p>Code Structure Before: (Single Thread execution)</p>\n<p>Parent Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Parent  {\n\n    public static final String SUCCESS_MESSAGE = &quot;Successfully processed your files&quot;;\n    private static final String SPRING_PROFILES_ACTIVE = &quot;spring.profiles.active&quot;;\n    private static final String LINE_SEPERATOR = System.getProperty(&quot;line.separator&quot;);\n\n    @Autowired\n    private ChildService1 childservice1;\n    @Autowired\n    private ChildService2 childservice2;\n    @Autowired\n    private ChildService3 childservice3;\n    @Autowired\n    private ChildService4 childservice4;\n\n\n    /**\n     * The processFiles function is used to process the files downloaded from the FTP server.\n     * It checks for all the files in a directory and then processes them accordingly.\n     *\n     * @return A string\n     */\n    @Override\n    public String processFiles()  {\n\n        for (File file : files) {\n          \n            try {\n                if (file.getName().contains(&quot;svalue1))\n                    childservice1.processFile(file);\n                else if (file.getName().contains(&quot;svalue2))\n                    childservice2.processFile(file);\n                else if (file.getName().contains(&quot;value3))\n                    childservice3.processFile(file);\n                else if (file.getName().contains(&quot;value4))\n                   childservice4.processFile(file);\n            } catch (Exception e) {\n                log.error(&quot;Exception occurred when processing file {}, the cause was {}&quot;, file.getName(), e.getLocalizedMessage(), e);\n            }\n        }\n        return SUCCESS_MESSAGE;\n    }\n</code></pre>\n<p>Child class Structure</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class ChildService {\n    @Autowired\n    private ReadCSVService&lt;ChildServiceCSV&gt; readCSVService;\n\n    @Autowired\n    private Mapper mapperUtil;\n\n    @Autowired\n    private ChildRepository repository;\n\n    /**\n     * The processFile function takes a file as an input and reads the contents of the file.\n     * It then maps each line to a ChildServiceCSV object, which is then mapped to\n     * a rest call model. The model is then updated in the database using repository's update method\n     *\n     * @param file Get the absolute path of the file\n     * @return Void\n     */\n    public void processFile(File file) {\n        Iterator&lt;ChildServiceCSV&gt; iterator = readCSVService.mapToCSVIterator(file.getAbsolutePath(), ChildServiceCSV.class);\n        while (iterator.hasNext()) {\n            ChildServiceCSVcsvModel csvModel = iterator.next();\n            RESTModel restModel = mapperUtil.mapCsvModelToMDMModel(csvModel);\n            repository.update(restModel );\n        }\n    }\n}\n</code></pre>\n<p>So I figured to make this process falster by using<code>ExecutorService</code> , create a @Bean  and Autowire it in a the Parent class that has the for loop and then call  processFIle in separate threads.</p>\n<p>The issue I'm facing here is a design problem, my method in child services takes the file as an input <code>processFile(file)</code>, if I make it implement Runnable how do I call the method that expects file in its argument.</p>\n<p>One way would be to create constructor of Child service that takes in file as input and assigns value to a member variable, and then I wouldn't have any problems accessing the variable(file) in my run method, but then I wouldn't be able to Autowire the child service in my Parent class, and would need to create new instances every Time. I need some sort of way to be able to do following</p>\n<pre><code>for (File file : files) {\n      if (file.getName().contains(&quot;svalue1))\n                    executerService.execute(childservice1.processFile(file));\n</code></pre>\n<p>Below I what I was able to implement, need suggestions on how to make this better and use @Autowire with child class while still having this threadPoolExecutor functionality. Thanks.</p>\n<p>One possible workaround without auto-Wiring the child classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ExecutorService getExecuted(){\n   return Executors.newFixedThreadPool(10);\n}\n</code></pre>\n<p>Parent Class</p>\n<pre><code>public class Parent  {\n\n   @Autowired\n   ExecutorService executorService;\n\n    public String processFiles()  {\n\n        for (File file : files) {\n          \n                if (file.getName().contains(&quot;svalue1))\n                    executorService.execute( new ChildService1(file));\n               //repeat same for other child services\n        }\n        executorService.shutDown();\n        return SUCCESS_MESSAGE;\n    }\n</code></pre>\n<p>Child Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class ChildService implements Runnable {\n    @Autowired\n    private ReadCSVService&lt;ChildServiceCSV&gt; readCSVService;\n\n    @Autowired\n    private Mapper mapperUtil;\n\n    @Autowired\n    private ChildRepository repository;\n\n    private File file;\n\n    ChildService (File file){\n       this.file=file;\n    }\n\n    /**\n     * The processFile function takes a file as an input and reads the contents of the file.\n     * It then maps each line to a ChildServiceCSV object, which is then mapped to\n     * a rest call model. The model is then updated in the database using repository's update method\n     *\n     * @param file Get the absolute path of the file\n     * @return Void\n     */\n    public void processFile(File file) {\n        Iterator&lt;ChildServiceCSV&gt; iterator = readCSVService.mapToCSVIterator(file.getAbsolutePath(), ChildServiceCSV.class);\n        while (iterator.hasNext()) {\n            ChildServiceCSVcsvModel csvModel = iterator.next();\n            RESTModel restModel = mapperUtil.mapCsvModelToMDMModel(csvModel);\n            repository.update(restModel);\n        }\n    }\n\n\n   @Override\n   public void run() {\n      this.processFile(file);\n    }\n\n\n}\n</code></pre>\n<h2>Update Solved</h2>\n<p>Used @EnableAsync and @Async annotation</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class CreateTaskConsoleApplication implements CommandLineRunner {\n    @Bean\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;Thread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n//..... come code here\n}\n</code></pre>\n<p>used <code>@Async</code> on my child class's method, made it return a <code>CompletableFuture&lt;String&gt;</code> instead of void.</p>\n<p>Added following in parent Class</p>\n<pre><code>    List&lt;CompletableFuture&lt;String&gt;&gt; futuresList = new ArrayList&lt;&gt;();\n     for (File file : files) {\n          \n            try {\n                if (file.getName().contains(&quot;svalue1))\n                    futuresList.add(childservice1.processFile(file));\n                else if (file.getName().contains(&quot;svalue2))\n                    futuresList.add(childservice2.processFile(file));\n                else if (file.getName().contains(&quot;value3))\n                    futuresList.add(childservice3.processFile(file));\n                else if (file.getName().contains(&quot;value4))\n                    futuresList.add(childservice4.processFile(file));\n            } catch (Exception e) {\n                log.error(&quot;Exception occurred when processing file {}, the cause was {}&quot;, file.getName(), e.getLocalizedMessage(), e);\n            }\n        }\n        CompletableFuture.allOf(futuresList.toArray(new CompletableFuture[futuresList.size()])).join();\n        return SUCCESS_MESSAGE;\n}\n</code></pre>\n"},{"tags":["java","jenkins","groovy","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669800294,"creation_date":1669718025,"answer_id":74612661,"question_id":74609639,"body_markdown":"You could write a method like this, which takes a Closure that returns `true` if successful:\r\n\r\n```\r\ndef waitUntil(int sleep = 1, int maxRetries = 10, Closure&lt;Boolean&gt; test) {\r\n    int retries = 0\r\n    while (retries++ &lt; maxRetries &amp;&amp; !test()) {\r\n        println &quot;Failed at attempt $retries/$maxRetries, sleeping for $sleep ms before retrying&quot;\r\n        Thread.sleep(sleep)\r\n    }\r\n}\r\n```\r\n\r\nThen, you could call it like so:\r\n\r\n```\r\nwaitUntil {\r\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\r\n}\r\n```\r\n\r\nOr make it sleep longer with:\r\n\r\n```\r\nwaitUntil(100) {\r\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\r\n}\r\n```\r\n\r\nOr make it sleep longer between retries, and only retry 5 times:\r\n\r\n```\r\nwaitUntil(100, 5) {\r\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\r\n}\r\n```\r\n\r\nIs that what you meant?\r\n\r\n### Edit\r\n\r\nAs pointed out, this creates a list each time the closure is called, so for long-running fast looping tasks this could (maybe) create a lot of dead objects for the Garbage Collector to pick up.\r\n\r\nA way to fix this, is to pass the expected values in to the main method, and pass this as an argument to the closure.\r\n\r\nWe then only get one list created:\r\n\r\n```\r\ndef waitUntil(expectedResult, int sleep = 1, int maxRetries = 10, Closure&lt;Boolean&gt; test) {\r\n    int retries = 0\r\n    while (retries++ &lt; maxRetries &amp;&amp; !test(expectedResult)) {\r\n        println &quot;Failed at attempt $retries/$maxRetries, sleeping for $sleep ms before retrying&quot;\r\n        Thread.sleep(sleep)\r\n    }\r\n}\r\n\r\nwaitUntil([&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]) {\r\n    getResult() in it\r\n}\r\n```","title":"How to combine two similar methods into one?","body":"<p>You could write a method like this, which takes a Closure that returns <code>true</code> if successful:</p>\n<pre><code>def waitUntil(int sleep = 1, int maxRetries = 10, Closure&lt;Boolean&gt; test) {\n    int retries = 0\n    while (retries++ &lt; maxRetries &amp;&amp; !test()) {\n        println &quot;Failed at attempt $retries/$maxRetries, sleeping for $sleep ms before retrying&quot;\n        Thread.sleep(sleep)\n    }\n}\n</code></pre>\n<p>Then, you could call it like so:</p>\n<pre><code>waitUntil {\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\n}\n</code></pre>\n<p>Or make it sleep longer with:</p>\n<pre><code>waitUntil(100) {\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\n}\n</code></pre>\n<p>Or make it sleep longer between retries, and only retry 5 times:</p>\n<pre><code>waitUntil(100, 5) {\n    getResult() in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\n}\n</code></pre>\n<p>Is that what you meant?</p>\n<h3>Edit</h3>\n<p>As pointed out, this creates a list each time the closure is called, so for long-running fast looping tasks this could (maybe) create a lot of dead objects for the Garbage Collector to pick up.</p>\n<p>A way to fix this, is to pass the expected values in to the main method, and pass this as an argument to the closure.</p>\n<p>We then only get one list created:</p>\n<pre><code>def waitUntil(expectedResult, int sleep = 1, int maxRetries = 10, Closure&lt;Boolean&gt; test) {\n    int retries = 0\n    while (retries++ &lt; maxRetries &amp;&amp; !test(expectedResult)) {\n        println &quot;Failed at attempt $retries/$maxRetries, sleeping for $sleep ms before retrying&quot;\n        Thread.sleep(sleep)\n    }\n}\n\nwaitUntil([&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]) {\n    getResult() in it\n}\n</code></pre>\n"}],"owner":{"account_id":27080722,"reputation":13,"user_id":20629914,"display_name":"Chris Ragner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74612661,"answer_count":1,"score":1,"last_activity_date":1669800294,"creation_date":1669700963,"question_id":74609639,"body_markdown":"I have two similar methods that differs in their check conditions. Give two similar methods, how can i combine these two into one? Is this possible with closures?\r\n\r\n```\r\ndef someCondition = false\r\n\r\ndef method1() {\r\n    while(!someCondition) {\r\n        def connectionStatus = getConnectionStatus() // return 200, 404, etc.\r\n        if (connectionStatus == 200) {\r\n            someCondition = true\r\n        } else {\r\n            println &quot;repeat until connection is 200&quot;\r\n            sleep 15\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\ndef someCondition = false\r\n\r\ndef method2(){\r\n    while(!someCondition) {\r\n        def result = getResult() // A, B, C, etc. \r\n        if (result in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]) {\r\n            someCondition = true\r\n        } else {\r\n            println &quot;waiting until result is either A, B, or C&quot;\r\n            sleep 15\r\n            result = getResult() // call again to check if result changed\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI could try making it into one method and have different cases where it waits on different if condition depending on the case, but that is no different than just using two different methods. Is there any elegant way to solve this problem in Groovy?","title":"How to combine two similar methods into one?","body":"<p>I have two similar methods that differs in their check conditions. Give two similar methods, how can i combine these two into one? Is this possible with closures?</p>\n<pre><code>def someCondition = false\n\ndef method1() {\n    while(!someCondition) {\n        def connectionStatus = getConnectionStatus() // return 200, 404, etc.\n        if (connectionStatus == 200) {\n            someCondition = true\n        } else {\n            println &quot;repeat until connection is 200&quot;\n            sleep 15\n        }\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>def someCondition = false\n\ndef method2(){\n    while(!someCondition) {\n        def result = getResult() // A, B, C, etc. \n        if (result in [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]) {\n            someCondition = true\n        } else {\n            println &quot;waiting until result is either A, B, or C&quot;\n            sleep 15\n            result = getResult() // call again to check if result changed\n        }\n    }\n}\n</code></pre>\n<p>I could try making it into one method and have different cases where it waits on different if condition depending on the case, but that is no different than just using two different methods. Is there any elegant way to solve this problem in Groovy?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":2,"creation_date":1408715466,"post_id":25448560,"comment_id":39706871,"body_markdown":"`rs.close()` will throw a `NullPointerException` in the case of `rs = null`, and will also need to handle or declare to throw `SQLException`. Presumably `DatabaseUtil.closeResultSet(ResultSet)` takes care of both of those aspects for you.","body":"<code>rs.close()</code> will throw a <code>NullPointerException</code> in the case of <code>rs = null</code>, and will also need to handle or declare to throw <code>SQLException</code>. Presumably <code>DatabaseUtil.closeResultSet(ResultSet)</code> takes care of both of those aspects for you."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408738869,"creation_date":1408715472,"answer_id":25448649,"question_id":25448560,"body_markdown":"Closing the resultSet doesn&#39;t close the database connection. You need to do that separately.\r\n\r\nTypically you would want to close a resource like this:\r\n\r\n    if (resultSet != null) {\r\n         try {\r\n             resultSet.close();\r\n         } catch (SQLException e) {\r\n             log.info(&quot;closing resultset caused exception&quot;, e);\r\n         }\r\n    }\r\n\r\nIf that is what your DatabaseUtil does, then that would be preferable.\r\n\r\nUsing try-with-resources results in prettier code, but be aware that the behavior for one edge case is very different. If an exception is thrown while closing the resultSet (after everything else has proceeded without a problem) then with the above code it is not propagated, so it doesn&#39;t stop the rest of the transaction from completing. However, if you use try-with-resources, the exception thrown by the close method will get propagated. The exception thrown while closing a resultSet or statement is only about freeing database resources (that will get freed eventually anyway, it&#39;s not a crisis), it doesn&#39;t indicate any data problems and it doesn&#39;t seem like a reason to torpedo the database operation. \r\n\r\nYou should close the database connection after closing the resultSet. Make sure you use a finally block so that closing the connection happens regardless of what exceptions are thrown (including exceptions thrown while closing statements or resultSets).\r\n\r\nThe [code in this question][1] is one example of how *not* to do it (it&#39;s likely the OP wanted to minimize the boilerplate in the example, since closing things is not the focus of the question, so it may be this way in order to be kept short, not because the OP doesn&#39;t know not to do this), it demonstrates a common error that happens in real life:\r\n\r\n    Class Class1&lt;T&gt;\r\n    {\r\n      public T getColumn(DataSource ds)\r\n      {\r\n        T value = null;\r\n        Connection con = null;\r\n        Statement st = null;\r\n        \r\n        try\r\n        {\r\n          con = ds.getConnection();\r\n          st = con.createStatement();\r\n          ResultSet rs = st.executeQuery(&quot;select 1 from dual&quot;);\r\n          rs.next();\r\n          Object o = rs.getObject(1); // I want an Integer but a BigDecimal is created!\r\n          value = (T) o; // ClassCastException here!\r\n        }\r\n        finally\r\n        {\r\n          if (st != null) { st.close(); }\r\n          if (con != null) { con.close(); }\r\n        }\r\n        \r\n        return i;\r\n      }\r\n    }\r\n\r\nIf the statement.close throws a SQLException, then the following line in the finally block never gets called, the connection will not get closed, and the database connection will hang around unused until it times out. This may not seem bad since it&#39;s only one connection, but every other connection may see the same behavior and under the right circumstances you can bring your whole application down this way (throwing away all your database connections). See [Michael Nygard&#39;s book *Release It!*][2] for a story describing a very expensive and painful enterprise application outage that was traced back to code exactly like this.\r\n\r\nHaving to cut-and-paste this resource-closing code is ugly, it would be an improvement to introduce something like a template method that passes in a resultset mapper, so that the closing is done in only one place. But that puts you on the road to reinventing [spring-jdbc][3], which has already done all this for you. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25435403/217324\r\n  [2]: http://www.amazon.com/Release-It-Production-Ready-Pragmatic-Programmers/dp/0978739213\r\n  [3]: http://docs.spring.io/autorepo/docs/spring/3.0.6.RELEASE/spring-framework-reference/html/jdbc.html","title":"What is the suitable way to close the database connection in Java?","body":"<p>Closing the resultSet doesn't close the database connection. You need to do that separately.</p>\n\n<p>Typically you would want to close a resource like this:</p>\n\n<pre><code>if (resultSet != null) {\n     try {\n         resultSet.close();\n     } catch (SQLException e) {\n         log.info(\"closing resultset caused exception\", e);\n     }\n}\n</code></pre>\n\n<p>If that is what your DatabaseUtil does, then that would be preferable.</p>\n\n<p>Using try-with-resources results in prettier code, but be aware that the behavior for one edge case is very different. If an exception is thrown while closing the resultSet (after everything else has proceeded without a problem) then with the above code it is not propagated, so it doesn't stop the rest of the transaction from completing. However, if you use try-with-resources, the exception thrown by the close method will get propagated. The exception thrown while closing a resultSet or statement is only about freeing database resources (that will get freed eventually anyway, it's not a crisis), it doesn't indicate any data problems and it doesn't seem like a reason to torpedo the database operation. </p>\n\n<p>You should close the database connection after closing the resultSet. Make sure you use a finally block so that closing the connection happens regardless of what exceptions are thrown (including exceptions thrown while closing statements or resultSets).</p>\n\n<p>The <a href=\"https://stackoverflow.com/q/25435403/217324\">code in this question</a> is one example of how <em>not</em> to do it (it's likely the OP wanted to minimize the boilerplate in the example, since closing things is not the focus of the question, so it may be this way in order to be kept short, not because the OP doesn't know not to do this), it demonstrates a common error that happens in real life:</p>\n\n<pre><code>Class Class1&lt;T&gt;\n{\n  public T getColumn(DataSource ds)\n  {\n    T value = null;\n    Connection con = null;\n    Statement st = null;\n\n    try\n    {\n      con = ds.getConnection();\n      st = con.createStatement();\n      ResultSet rs = st.executeQuery(\"select 1 from dual\");\n      rs.next();\n      Object o = rs.getObject(1); // I want an Integer but a BigDecimal is created!\n      value = (T) o; // ClassCastException here!\n    }\n    finally\n    {\n      if (st != null) { st.close(); }\n      if (con != null) { con.close(); }\n    }\n\n    return i;\n  }\n}\n</code></pre>\n\n<p>If the statement.close throws a SQLException, then the following line in the finally block never gets called, the connection will not get closed, and the database connection will hang around unused until it times out. This may not seem bad since it's only one connection, but every other connection may see the same behavior and under the right circumstances you can bring your whole application down this way (throwing away all your database connections). See <a href=\"https://rads.stackoverflow.com/amzn/click/com/0978739213\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Michael Nygard's book <em>Release It!</em></a> for a story describing a very expensive and painful enterprise application outage that was traced back to code exactly like this.</p>\n\n<p>Having to cut-and-paste this resource-closing code is ugly, it would be an improvement to introduce something like a template method that passes in a resultset mapper, so that the closing is done in only one place. But that puts you on the road to reinventing <a href=\"http://docs.spring.io/autorepo/docs/spring/3.0.6.RELEASE/spring-framework-reference/html/jdbc.html\" rel=\"nofollow noreferrer\">spring-jdbc</a>, which has already done all this for you. </p>\n"},{"tags":[],"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408715546,"creation_date":1408715546,"answer_id":25448674,"question_id":25448560,"body_markdown":"The jdbc api tells us that closing the connection will close result sets and statements. Closing statements will close the result set. But I always close every result set and every statement myself because I ran into problems not doing so.\r\nJust use the close method provided by you result set, statement and connection.","title":"What is the suitable way to close the database connection in Java?","body":"<p>The jdbc api tells us that closing the connection will close result sets and statements. Closing statements will close the result set. But I always close every result set and every statement myself because I ran into problems not doing so.\nJust use the close method provided by you result set, statement and connection.</p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408715605,"creation_date":1408715605,"answer_id":25448694,"question_id":25448560,"body_markdown":"I think the best way is do everything within a [try-with-resources](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)\r\n\r\n    try(conn=openConnection()){\r\n      try(rs=conn.getResultSet()){\r\n      }\r\n    }\r\n\r\nSo that you be entirely sure the resources will be properly closed at the end.","title":"What is the suitable way to close the database connection in Java?","body":"<p>I think the best way is do everything within a <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">try-with-resources</a></p>\n\n<pre><code>try(conn=openConnection()){\n  try(rs=conn.getResultSet()){\n  }\n}\n</code></pre>\n\n<p>So that you be entirely sure the resources will be properly closed at the end.</p>\n"},{"tags":[],"owner":{"account_id":4927279,"reputation":1,"user_id":3968211,"display_name":"Hubert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408715615,"creation_date":1408715615,"answer_id":25448697,"question_id":25448560,"body_markdown":"Both ways works, but I prefer the first rs.close(); , without forgeting to check if rs is not null and to enclose your call by a try..catch statement so you have to close your connection in the finaly block even if Java7 close all for you.\r\n\r\n\r\n\r\ncheck https://stackoverflow.com/questions/11160557/java-jdbc-best-design-pattern-to-close-database-connection-when-exception-occ\r\n\r\n","title":"What is the suitable way to close the database connection in Java?","body":"<p>Both ways works, but I prefer the first rs.close(); , without forgeting to check if rs is not null and to enclose your call by a try..catch statement so you have to close your connection in the finaly block even if Java7 close all for you.</p>\n\n<p>check <a href=\"https://stackoverflow.com/questions/11160557/java-jdbc-best-design-pattern-to-close-database-connection-when-exception-occ\">Java / JDBC: Best design pattern to close database connection when exception occurs</a></p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669800288,"creation_date":1408715640,"answer_id":25448703,"question_id":25448560,"body_markdown":"Those methods only close the `ResultSet`. You still have to close all `Statement` and `Connection` instances. I recommend doing so in a `finally` block. Something like,\r\n\r\n    Connection conn = null;\r\n    Statement stmt = null;\r\n    ResultSet rs = null;\r\n    try {\r\n      conn = getConnection();\r\n      stmt = conn.prepareStatement(sql);\r\n      stmt.setString(1, &quot;Hello&quot;); \r\n      rs = stmt.executeQuery();\r\n      while (rs.next()) {\r\n        // ...\r\n      }\r\n    } catch (SQLException se) {\r\n      se.printStackTrace();\r\n    } finally {\r\n      if (rs != null) {\r\n        try {\r\n          rs.close();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n      if (stmt != null) {\r\n        try {\r\n          stmt.close();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n      if (conn != null) {\r\n        try {\r\n          conn.close();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\nIf you use my [`Close` utility](http://www.frischcode.com/2013/11/clean-up-after-yourself.html) the finally block could be,\r\n\r\n    } finally {\r\n      Close.close(rs, stmt, conn);\r\n    }","title":"What is the suitable way to close the database connection in Java?","body":"<p>Those methods only close the <code>ResultSet</code>. You still have to close all <code>Statement</code> and <code>Connection</code> instances. I recommend doing so in a <code>finally</code> block. Something like,</p>\n<pre><code>Connection conn = null;\nStatement stmt = null;\nResultSet rs = null;\ntry {\n  conn = getConnection();\n  stmt = conn.prepareStatement(sql);\n  stmt.setString(1, &quot;Hello&quot;); \n  rs = stmt.executeQuery();\n  while (rs.next()) {\n    // ...\n  }\n} catch (SQLException se) {\n  se.printStackTrace();\n} finally {\n  if (rs != null) {\n    try {\n      rs.close();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n  if (stmt != null) {\n    try {\n      stmt.close();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n  if (conn != null) {\n    try {\n      conn.close();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>If you use my <a href=\"http://www.frischcode.com/2013/11/clean-up-after-yourself.html\" rel=\"nofollow noreferrer\"><code>Close</code> utility</a> the finally block could be,</p>\n<pre><code>} finally {\n  Close.close(rs, stmt, conn);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408716233,"creation_date":1408716233,"answer_id":25448887,"question_id":25448560,"body_markdown":"Normal code would look like this:\r\n\r\n    Connection connection = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    ResultSet rs2 = null;\r\n    try {\r\n      connection = getConnection();\r\n      stmt = connection.prepareStatement(&quot;...&quot;);\r\n\r\n      stmt.setString(&quot;:foobar&quot;, &quot;Foobar&quot;);\r\n      rs = stmt.execute ... ; // I don&#39;t remember the method return ResultSet\r\n    \r\n      while (rs.next()) {\r\n        ...\r\n      }\r\n\r\n      stmt.setString(&quot;:foobar&quot;, &quot;Barfoo&quot;);\r\n      rs2 = stmt.execute ... ; \r\n\r\n\r\n    } finally {\r\n      if (null != rs2) try {rs2.close();} catch (Exception e)\r\n      if (null != rs) try {rs.close();} catch (Exception e) {...}\r\n      if (null != stmt) try {stmt.close();} catch (Exception e) {...}\r\n      if (null != connection) try {connection.close();} catch (Exception e) {...}\r\n    }\r\n\r\nOr, in Java 7, using the *try-with-resources* (the previous code is almost the same):\r\n\r\n    try (Connection connection = getConnection();\r\n         PreparedStatement stmt = connection.prepareStatement(&quot;...&quot;)) {\r\n\r\n      stmt.setString(&quot;:foobar&quot;, &quot;Foobar&quot;);\r\n      try (ResultSet rs = stmt.executeQuery()) {\r\n        while (rs.next()) {\r\n            ...\r\n        }\r\n      }\r\n      stmt.setString(&quot;:foobar&quot;, &quot;Barfoo&quot;);\r\n      try (ResultSet rs2 = stmt.executeQuery()) {\r\n        while (rs2.next()) {\r\n            ...\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThe difference is simple:\r\n\r\n- you close the `ResultSet` - to free the resource associated. In this example, I used a `PreparedStatement`: you could have parameters, hence different `ResultSet`. Because it takes memory and resources, you need to close them after you are done with them, otherwise that the garbage collector that will do that, and it will do it only to reclaim memory.\r\n- you close the `PreparedStatement` or `Statement` when you no longer need it. Closing the statement close the associated `ResultSet`.\r\n- you close the `Connection` when you no longer need it. Closing the connection close the `Statement`s (and their `ResultSet`).\r\n\r\nDepending on your need (eg: a batch versus a web server), you might not have to close the connection at it would be when Java exit, but it is better to free resources when you no longer need them (whether them being JDBC resources or file resources ...).\r\n\r\n","title":"What is the suitable way to close the database connection in Java?","body":"<p>Normal code would look like this:</p>\n\n<pre><code>Connection connection = null;\nPreparedStatement stmt = null;\nResultSet rs = null;\nResultSet rs2 = null;\ntry {\n  connection = getConnection();\n  stmt = connection.prepareStatement(\"...\");\n\n  stmt.setString(\":foobar\", \"Foobar\");\n  rs = stmt.execute ... ; // I don't remember the method return ResultSet\n\n  while (rs.next()) {\n    ...\n  }\n\n  stmt.setString(\":foobar\", \"Barfoo\");\n  rs2 = stmt.execute ... ; \n\n\n} finally {\n  if (null != rs2) try {rs2.close();} catch (Exception e)\n  if (null != rs) try {rs.close();} catch (Exception e) {...}\n  if (null != stmt) try {stmt.close();} catch (Exception e) {...}\n  if (null != connection) try {connection.close();} catch (Exception e) {...}\n}\n</code></pre>\n\n<p>Or, in Java 7, using the <em>try-with-resources</em> (the previous code is almost the same):</p>\n\n<pre><code>try (Connection connection = getConnection();\n     PreparedStatement stmt = connection.prepareStatement(\"...\")) {\n\n  stmt.setString(\":foobar\", \"Foobar\");\n  try (ResultSet rs = stmt.executeQuery()) {\n    while (rs.next()) {\n        ...\n    }\n  }\n  stmt.setString(\":foobar\", \"Barfoo\");\n  try (ResultSet rs2 = stmt.executeQuery()) {\n    while (rs2.next()) {\n        ...\n    }\n  }\n}\n</code></pre>\n\n<p>The difference is simple:</p>\n\n<ul>\n<li>you close the <code>ResultSet</code> - to free the resource associated. In this example, I used a <code>PreparedStatement</code>: you could have parameters, hence different <code>ResultSet</code>. Because it takes memory and resources, you need to close them after you are done with them, otherwise that the garbage collector that will do that, and it will do it only to reclaim memory.</li>\n<li>you close the <code>PreparedStatement</code> or <code>Statement</code> when you no longer need it. Closing the statement close the associated <code>ResultSet</code>.</li>\n<li>you close the <code>Connection</code> when you no longer need it. Closing the connection close the <code>Statement</code>s (and their <code>ResultSet</code>).</li>\n</ul>\n\n<p>Depending on your need (eg: a batch versus a web server), you might not have to close the connection at it would be when Java exit, but it is better to free resources when you no longer need them (whether them being JDBC resources or file resources ...).</p>\n"},{"tags":[],"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408716536,"creation_date":1408716536,"answer_id":25448979,"question_id":25448560,"body_markdown":"Closing the resultSet doesn&#39;t close the database connection. We should close the connection as like given below.\r\nBefore closing the connection you should close the other instance like ResultSet, PreparedStatement and Statement instances.\r\n\r\nfor example \r\n\r\n\r\n     Connection con = DBUtils.getConnection();\r\n     ....\r\n     PreparedStatemet pstmt = con.getPreparedStatement();\r\n     ResultSet rs = pstmt.execute();\r\n    \r\n     while(rs.next())\r\n     {\r\n     }\r\n\r\n// Once you done the ResultSet... It&#39;s time to close/release the Instances.\r\n\r\n\r\n\r\n        if (resultSet != null) {\r\n        try {\r\n        resultSet.close();\r\n        resultSet = null;\r\n        } catch (SQLException e) {\r\n          // ignore the exceptions.\r\n        }\r\n        }\r\n    \r\n        // Close the Prepared Statement\r\n        if(theStatement != null)\r\n        {\r\n        try\r\n        {\r\n        theStatement.close();\r\n        theStatement = null;\r\n        }\r\n        catch(Exception ignored)\r\n        {\r\n        }\r\n        \r\n    // Close the Connection\r\n        if(theConnection != null)\r\n        {\r\n        try\r\n        {\r\n        theConnection.close();\r\n        theConnection = null;\r\n        }\r\n        catch(Exception ignored)\r\n        {\r\n        }\r\n    ","title":"What is the suitable way to close the database connection in Java?","body":"<p>Closing the resultSet doesn't close the database connection. We should close the connection as like given below.\nBefore closing the connection you should close the other instance like ResultSet, PreparedStatement and Statement instances.</p>\n\n<p>for example </p>\n\n<pre><code> Connection con = DBUtils.getConnection();\n ....\n PreparedStatemet pstmt = con.getPreparedStatement();\n ResultSet rs = pstmt.execute();\n\n while(rs.next())\n {\n }\n</code></pre>\n\n<p>// Once you done the ResultSet... It's time to close/release the Instances.</p>\n\n<pre><code>    if (resultSet != null) {\n    try {\n    resultSet.close();\n    resultSet = null;\n    } catch (SQLException e) {\n      // ignore the exceptions.\n    }\n    }\n\n    // Close the Prepared Statement\n    if(theStatement != null)\n    {\n    try\n    {\n    theStatement.close();\n    theStatement = null;\n    }\n    catch(Exception ignored)\n    {\n    }\n\n// Close the Connection\n    if(theConnection != null)\n    {\n    try\n    {\n    theConnection.close();\n    theConnection = null;\n    }\n    catch(Exception ignored)\n    {\n    }\n</code></pre>\n"}],"owner":{"account_id":4522732,"reputation":23,"user_id":3675425,"display_name":"ArunPrabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25448703,"answer_count":7,"score":2,"last_activity_date":1669800288,"creation_date":1408715208,"question_id":25448560,"body_markdown":"I tried to close the DB connection.But had a bit of confusion, say \r\n\r\n    ResultSet rs = null \r\n\r\nWhether I have to it close by\r\n\r\n    rs.close();\r\n\r\nOr\r\n\r\n    DatabaseUtil.closeResultSet(rs);\r\n\r\nWhat is difference between those?","title":"What is the suitable way to close the database connection in Java?","body":"<p>I tried to close the DB connection.But had a bit of confusion, say </p>\n\n<pre><code>ResultSet rs = null \n</code></pre>\n\n<p>Whether I have to it close by</p>\n\n<pre><code>rs.close();\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>DatabaseUtil.closeResultSet(rs);\n</code></pre>\n\n<p>What is difference between those?</p>\n"},{"tags":["java","jdbc","jndi","hikaricp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669779993,"post_id":74622621,"comment_id":131718610,"body_markdown":"You have leakDetectionThreshold set to 300s. Try setting it much lower, say 10000ms. What do you see in the logs? Look for &quot;Apparent connection leak detected&quot;","body":"You have leakDetectionThreshold set to 300s. Try setting it much lower, say 10000ms. What do you see in the logs? Look for &quot;Apparent connection leak detected&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669781408,"post_id":74622621,"comment_id":131718832,"body_markdown":"And why is your maximum pool size only 1?","body":"And why is your maximum pool size only 1?"},{"owner":{"account_id":3414347,"reputation":1,"user_id":2863655,"display_name":"LiveGrios"},"score":0,"creation_date":1669783906,"post_id":74622621,"comment_id":131719184,"body_markdown":"Sorry, maximum pool size was the last value with I tried to check the connection availability. I tried with value up to 30.","body":"Sorry, maximum pool size was the last value with I tried to check the connection availability. I tried with value up to 30."},{"owner":{"account_id":3414347,"reputation":1,"user_id":2863655,"display_name":"LiveGrios"},"score":0,"creation_date":1669791891,"post_id":74622621,"comment_id":131720747,"body_markdown":"You are right, setting leakDetectionThreshold to 10000ms, when I call &quot;executeUpdate()&quot; method from CallableStatement, next message appears:\nADVERTENCIA [HikariPool-22 housekeeper] com.zaxxer.hikari.pool.ProxyLeakTask.run Connection leak detection triggered for com.mysql.cj.jdbc.ConnectionImpl@7650f9ec on thread HikariPool-24 connection adder, stack trace follows\n\tjava.lang.Exception: Apparent connection leak detected.\n\n\nI do not understand the cause since I&#39;m calling close() method on database objects correctly.","body":"You are right, setting leakDetectionThreshold to 10000ms, when I call &quot;executeUpdate()&quot; method from CallableStatement, next message appears: ADVERTENCIA [HikariPool-22 housekeeper] com.zaxxer.hikari.pool.ProxyLeakTask.run Connection leak detection triggered for com.mysql.cj.jdbc.ConnectionImpl@7650f9ec on thread HikariPool-24 connection adder, stack trace follows \tjava.lang.Exception: Apparent connection leak detected.   I do not understand the cause since I&#39;m calling close() method on database objects correctly."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1669800122,"post_id":74622621,"comment_id":131723143,"body_markdown":"You need to use try-with-resources to ensure you correctly close the connection (and other resources). In your current code there is no guarantee you actually close the connection if an exception occurs.","body":"You need to use try-with-resources to ensure you correctly close the connection (and other resources). In your current code there is no guarantee you actually close the connection if an exception occurs."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669800479,"post_id":74622621,"comment_id":131723256,"body_markdown":"As an aside, if you want to connect to MySQL 8 with MySQL Connector/J 5.1.x, you need to use a more recent version (5.1.47 or later IIRC).","body":"As an aside, if you want to connect to MySQL 8 with MySQL Connector/J 5.1.x, you need to use a more recent version (5.1.47 or later IIRC)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669802409,"post_id":74622621,"comment_id":131723881,"body_markdown":"Look at the complete stack trace. It is recorded when the connection is acquired, so it shows which acquisition you are not closing. Please add the complete stack trace to your question.","body":"Look at the complete stack trace. It is recorded when the connection is acquired, so it shows which acquisition you are not closing. Please add the complete stack trace to your question."},{"owner":{"account_id":3414347,"reputation":1,"user_id":2863655,"display_name":"LiveGrios"},"score":0,"creation_date":1669821475,"post_id":74622621,"comment_id":131731021,"body_markdown":"@tgdavies, you are right, thank you to your advise, I enable the HikariCP logging level programatically and found the Connection leak in a validation controller that checks the user permisions before to call my persistence controllers. On that permissions checking, the connection was not closed, forcing to create new ones on each check. OMG, it was a very stupid error.\n\nNow the application is working as expected.\n\nThank you -tgdavies !!!","body":"@tgdavies, you are right, thank you to your advise, I enable the HikariCP logging level programatically and found the Connection leak in a validation controller that checks the user permisions before to call my persistence controllers. On that permissions checking, the connection was not closed, forcing to create new ones on each check. OMG, it was a very stupid error.  Now the application is working as expected.  Thank you -tgdavies !!!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669845146,"post_id":74622621,"comment_id":131738692,"body_markdown":"Glad to help. And as @MarkRotteveel says, just always use try-with -resources, or patterns where the connection provider calls your function, giving it a connection which you do not need to close at all, such as https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#execute(org.springframework.jdbc.core.ConnectionCallback) or https://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/Session.html#doReturningWork-org.hibernate.jdbc.ReturningWork-","body":"Glad to help. And as @MarkRotteveel says, just always use try-with -resources, or patterns where the connection provider calls your function, giving it a connection which you do not need to close at all, such as <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#execute(org.springframework.jdbc.core.ConnectionCallback)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> or <a href=\"https://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/Session.html#doReturningWork-org.hibernate.jdbc.ReturningWork-\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/&hellip;</a>"}],"owner":{"account_id":3414347,"reputation":1,"user_id":2863655,"display_name":"LiveGrios"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669800336,"answer_count":0,"score":0,"last_activity_date":1669800064,"creation_date":1669779395,"question_id":74622621,"body_markdown":"I&#39;m developing a Java-based WebApp which runs on top of JDK-17 and Tomcat 10.0.5 connected to a MySQL 8.0.27 database with mysql-connector-j-8.0.31. There is not problem opening and closing &quot;physical&quot; connections through JDBC. However, when HikariCP is managing connections, I&#39;m falling in errors related with connections availability when I run query updates through CallableStatement and PreparedStatement objects. It is important to mention that I can manage the webapp with no problems using the *executeQuery()* method from PreparedStatement. The problem occurs with *executeUpdate()* of PreparedStatement and CallableStatement objects.\r\n\r\nThis is my JNDI-Resource setup (edited for setting the max pool size and minimum idle with sugested values):\r\n\r\n```xml\r\n&lt;Resource   name=&quot;jdbc/MySQLHikari&quot; \r\n            auth=&quot;Container&quot;\r\n            factory=&quot;com.zaxxer.hikari.HikariJNDIFactory&quot;\r\n            type=&quot;javax.sql.DataSource&quot;\r\n            \r\n            minimumIdle=&quot;5&quot; \r\n            maximumPoolSize=&quot;10&quot;\r\n            \r\n            idleTimeout=&quot;120000&quot;\r\n            connectionTimeout=&quot;300000&quot;\r\n            leakDetectionThreshold=&quot;300000&quot;                \r\n            \r\n            dataSourceClassName=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;\r\n            \r\n            dataSource.serverName=&quot;127.0.0.1&quot;\r\n            dataSource.port=&quot;3307&quot; \r\n            dataSource.databaseName=&quot;optica?useSSL=false&amp;#38;useUnicode=true&amp;#38;characterEncoding=utf-8&quot;\r\n            dataSource.user=&quot;root&quot;\r\n            dataSource.password=&quot;root&quot;\r\n            \r\n            dataSource.cachePrepStmts=&quot;true&quot;\r\n            dataSource.prepStmtCacheSize=&quot;250&quot;\r\n            dataSource.prepStmtCacheSqlLimit=&quot;2048&quot;\r\n            dataSource.useServerPrepStmts=&quot;true&quot;\r\n            dataSource.useLocalSessionState=&quot;true&quot;\r\n            dataSource.rewriteBatchedStatements=&quot;true&quot;\r\n            dataSource.cacheResultSetMetadata=&quot;true&quot;\r\n            dataSource.cacheServerConfiguration=&quot;true&quot;\r\n            dataSource.elideSetAutoCommits=&quot;true&quot;\r\n            dataSource.maintainTimeStats=&quot;false&quot;\r\n    /&gt;\r\n```\r\n\r\nHere is my sample code on how I acquire DB connections from HikariCP:\r\n\r\n```java\r\npublic class ConexionMySQLProvider\r\n{\r\n    private static HikariDataSource hikariDataSource;\r\n    \r\n    private static void buildContext()\r\n    {\r\n        try\r\n        {\r\n            Context context = (Context) new InitialContext().lookup(&quot;java:/comp/env&quot;);\r\n            DataSource dataSource = (DataSource) context.lookup(&quot;jdbc/MySQLHikari&quot;);\r\n            HikariConfig config = new HikariConfig();\r\n            config.setDataSource(dataSource);\r\n            hikariDataSource = new HikariDataSource(config);\r\n        } \r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static Connection getFromPool() throws Exception\r\n    {\r\n        if (hikariDataSource == null)\r\n        {\r\n            buildContext();\r\n        }\r\n        \r\n        return hikariDataSource.getConnection();\r\n    } \r\n}\r\n```\r\n\r\nAnd this is an extract of my persistence controller when the problem occurs:\r\n\r\n```java\r\npublic class ControllerCliente\r\n{\r\n    public int insert(Cliente c) throws Exception\r\n    {        \r\n        String sql =    &quot;{call insertarCliente(?, ?, ?, ?, ?, ?, ?, &quot; + \r\n                                              &quot;?, ?, ?, ?, ?, ?, ?, ?, &quot; +\r\n                                              &quot;?, ?, ?)}&quot;;\r\n                        \r\n        Connection conn = ConexionMySQLProvider.getFromPool();\r\n                \r\n        CallableStatement cstmt = conn.prepareCall(sql);\r\n        \r\n        int idClienteGenerado = -1;\r\n        \r\n        //Next, I fill each required value in the CallableStatement object:\r\n        cstmt.setString(1, c.getPersona().getNombre());\r\n        ...\r\n        \r\n        //Execution of the query:\r\n        cstmt.executeUpdate();\r\n        \r\n        //Recovering of generated ID&#39;s:        \r\n        int idClienteGenerado = -1;\r\n        ...\r\n        \r\n        //A        \r\n        cstmt.close();\r\n        conn.close();\r\n        \r\n        //Devolvemos el ID de Cliente generado:\r\n        return idClienteGenerado;\r\n    }\r\n    \r\n    public void delete(int id) throws Exception\r\n    {\r\n        String sql = &quot;UPDATE cliente SET estatus=0 WHERE idCliente=?&quot;;\r\n        \r\n        Connection conn = ConexionMySQLProvider.getFromPool();\r\n        \r\n        PreparedStatement pstmt = conn.prepareStatement(sql)\r\n        \r\n        pstmt.setInt(1, id);\r\n        pstmt.executeUpdate();\r\n        \r\n        pstmt.close();\r\n        conn.close();\r\n    }\r\n    \r\n    public List&lt;Cliente&gt; getAll(String filtro) throws Exception\r\n    {\r\n        String sql = &quot;SELECT * FROM v_clientes WHERE estatus=1&quot;;        \r\n        Connection conn = ConexionMySQLProvider.getFromPool();\r\n        PreparedStatement pstmt = conn.prepareStatement(sql);\r\n        ResultSet rs = pstmt.executeQuery();        \r\n        List&lt;Cliente&gt; clientes = new ArrayList&lt;&gt;();\r\n        while (rs.next())\r\n            clientes.add(fill(rs));\r\n        rs.close();\r\n        pstmt.close();\r\n        conn.close();        \r\n        return clientes;\r\n    }\r\n    \r\n    private Cliente fill(ResultSet rs) throws Exception\r\n    {\r\n        Cliente c = new Cliente();\r\n        \r\n        //Fill Cliente from ResultSet\r\n        ...\r\n        \r\n        return c;\r\n    }\r\n}\r\n```\r\n\r\nAt the moment of this question:\r\n- I already have read about HikariCP and how to configure it.\r\n- I tried the try-catch with resources approach with the same result.\r\n- I downgraded to mysql-connector 5.1.36 but I was unable to connect with MySQL 8.0.27.\r\n- I tried with the MariaDB JDBC driver with the same result.\r\n- I switched to C3P0 but result is the same: unavailable connections after several executeUpdate() method calls. So, I continue using and exploring HikariCP 5.0.1.\r\n\r\nConstraints:\r\n- I must to use MySQL 8.X.\r\n- I need to keep the webapp in top of Java 17 considering a future migration to Java 19.\r\n\r\nI hope that you can help me because I was not be able to find information about this issue.\r\n\r\n\r\n","title":"HikariCP 5.0.1 with MySQL 8.0.27 and Connector-J-8.0.31 closing connection problem","body":"<p>I'm developing a Java-based WebApp which runs on top of JDK-17 and Tomcat 10.0.5 connected to a MySQL 8.0.27 database with mysql-connector-j-8.0.31. There is not problem opening and closing &quot;physical&quot; connections through JDBC. However, when HikariCP is managing connections, I'm falling in errors related with connections availability when I run query updates through CallableStatement and PreparedStatement objects. It is important to mention that I can manage the webapp with no problems using the <em>executeQuery()</em> method from PreparedStatement. The problem occurs with <em>executeUpdate()</em> of PreparedStatement and CallableStatement objects.</p>\n<p>This is my JNDI-Resource setup (edited for setting the max pool size and minimum idle with sugested values):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Resource   name=&quot;jdbc/MySQLHikari&quot; \n            auth=&quot;Container&quot;\n            factory=&quot;com.zaxxer.hikari.HikariJNDIFactory&quot;\n            type=&quot;javax.sql.DataSource&quot;\n            \n            minimumIdle=&quot;5&quot; \n            maximumPoolSize=&quot;10&quot;\n            \n            idleTimeout=&quot;120000&quot;\n            connectionTimeout=&quot;300000&quot;\n            leakDetectionThreshold=&quot;300000&quot;                \n            \n            dataSourceClassName=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;\n            \n            dataSource.serverName=&quot;127.0.0.1&quot;\n            dataSource.port=&quot;3307&quot; \n            dataSource.databaseName=&quot;optica?useSSL=false&amp;#38;useUnicode=true&amp;#38;characterEncoding=utf-8&quot;\n            dataSource.user=&quot;root&quot;\n            dataSource.password=&quot;root&quot;\n            \n            dataSource.cachePrepStmts=&quot;true&quot;\n            dataSource.prepStmtCacheSize=&quot;250&quot;\n            dataSource.prepStmtCacheSqlLimit=&quot;2048&quot;\n            dataSource.useServerPrepStmts=&quot;true&quot;\n            dataSource.useLocalSessionState=&quot;true&quot;\n            dataSource.rewriteBatchedStatements=&quot;true&quot;\n            dataSource.cacheResultSetMetadata=&quot;true&quot;\n            dataSource.cacheServerConfiguration=&quot;true&quot;\n            dataSource.elideSetAutoCommits=&quot;true&quot;\n            dataSource.maintainTimeStats=&quot;false&quot;\n    /&gt;\n</code></pre>\n<p>Here is my sample code on how I acquire DB connections from HikariCP:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConexionMySQLProvider\n{\n    private static HikariDataSource hikariDataSource;\n    \n    private static void buildContext()\n    {\n        try\n        {\n            Context context = (Context) new InitialContext().lookup(&quot;java:/comp/env&quot;);\n            DataSource dataSource = (DataSource) context.lookup(&quot;jdbc/MySQLHikari&quot;);\n            HikariConfig config = new HikariConfig();\n            config.setDataSource(dataSource);\n            hikariDataSource = new HikariDataSource(config);\n        } \n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public static Connection getFromPool() throws Exception\n    {\n        if (hikariDataSource == null)\n        {\n            buildContext();\n        }\n        \n        return hikariDataSource.getConnection();\n    } \n}\n</code></pre>\n<p>And this is an extract of my persistence controller when the problem occurs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ControllerCliente\n{\n    public int insert(Cliente c) throws Exception\n    {        \n        String sql =    &quot;{call insertarCliente(?, ?, ?, ?, ?, ?, ?, &quot; + \n                                              &quot;?, ?, ?, ?, ?, ?, ?, ?, &quot; +\n                                              &quot;?, ?, ?)}&quot;;\n                        \n        Connection conn = ConexionMySQLProvider.getFromPool();\n                \n        CallableStatement cstmt = conn.prepareCall(sql);\n        \n        int idClienteGenerado = -1;\n        \n        //Next, I fill each required value in the CallableStatement object:\n        cstmt.setString(1, c.getPersona().getNombre());\n        ...\n        \n        //Execution of the query:\n        cstmt.executeUpdate();\n        \n        //Recovering of generated ID's:        \n        int idClienteGenerado = -1;\n        ...\n        \n        //A        \n        cstmt.close();\n        conn.close();\n        \n        //Devolvemos el ID de Cliente generado:\n        return idClienteGenerado;\n    }\n    \n    public void delete(int id) throws Exception\n    {\n        String sql = &quot;UPDATE cliente SET estatus=0 WHERE idCliente=?&quot;;\n        \n        Connection conn = ConexionMySQLProvider.getFromPool();\n        \n        PreparedStatement pstmt = conn.prepareStatement(sql)\n        \n        pstmt.setInt(1, id);\n        pstmt.executeUpdate();\n        \n        pstmt.close();\n        conn.close();\n    }\n    \n    public List&lt;Cliente&gt; getAll(String filtro) throws Exception\n    {\n        String sql = &quot;SELECT * FROM v_clientes WHERE estatus=1&quot;;        \n        Connection conn = ConexionMySQLProvider.getFromPool();\n        PreparedStatement pstmt = conn.prepareStatement(sql);\n        ResultSet rs = pstmt.executeQuery();        \n        List&lt;Cliente&gt; clientes = new ArrayList&lt;&gt;();\n        while (rs.next())\n            clientes.add(fill(rs));\n        rs.close();\n        pstmt.close();\n        conn.close();        \n        return clientes;\n    }\n    \n    private Cliente fill(ResultSet rs) throws Exception\n    {\n        Cliente c = new Cliente();\n        \n        //Fill Cliente from ResultSet\n        ...\n        \n        return c;\n    }\n}\n</code></pre>\n<p>At the moment of this question:</p>\n<ul>\n<li>I already have read about HikariCP and how to configure it.</li>\n<li>I tried the try-catch with resources approach with the same result.</li>\n<li>I downgraded to mysql-connector 5.1.36 but I was unable to connect with MySQL 8.0.27.</li>\n<li>I tried with the MariaDB JDBC driver with the same result.</li>\n<li>I switched to C3P0 but result is the same: unavailable connections after several executeUpdate() method calls. So, I continue using and exploring HikariCP 5.0.1.</li>\n</ul>\n<p>Constraints:</p>\n<ul>\n<li>I must to use MySQL 8.X.</li>\n<li>I need to keep the webapp in top of Java 17 considering a future migration to Java 19.</li>\n</ul>\n<p>I hope that you can help me because I was not be able to find information about this issue.</p>\n"},{"tags":["java","window","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1669718843,"post_id":74606335,"comment_id":131701358,"body_markdown":"Please don&#39;t use images to present code or JSON data. See https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors for an explanation.","body":"Please don&#39;t use images to present code or JSON data. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a> for an explanation."}],"answers":[{"tags":[],"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669720008,"creation_date":1669676844,"answer_id":74607433,"question_id":74606335,"body_markdown":"try .allowedLateness(Time.seconds(2)) after window()\r\n\r\n**Edit**: See David`s note below.","title":"What happens when a window closes before finishing reading the data?","body":"<p>try .allowedLateness(Time.seconds(2)) after window()</p>\n<p><strong>Edit</strong>: See David`s note below.</p>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669800013,"creation_date":1669719097,"answer_id":74612872,"question_id":74606335,"body_markdown":"I believe the problem is that `TumblingProcessingTimeWindows` are aligned to the system clock. Sometimes you are going to be unlucky, and an event will arrive at 11:48:09.988 (for example), right before the end of one window and the beginning of another. Some of the tuples created from it will fall into one window, and the rest into the following window.\r\n\r\n---\r\n\r\nFlink&#39;s DataStream windowing API just isn&#39;t a good match for this use case. It will be easier to solve this by either going up or down in the API stack.\r\n\r\nIf you go up a level to the Table API, then you can use [over windows](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/table/sql/queries/over-agg/), which allow grouping over a time interval relative to a specific event.\r\n\r\nAnd if you go down a level and use a KeyedProcessFunction, then you can work with state and time directly. E.g., you could key the stream as you are doing now, and then gather together in ListState all of the events that arrive in a 10-second interval.\r\n\r\n","title":"What happens when a window closes before finishing reading the data?","body":"<p>I believe the problem is that <code>TumblingProcessingTimeWindows</code> are aligned to the system clock. Sometimes you are going to be unlucky, and an event will arrive at 11:48:09.988 (for example), right before the end of one window and the beginning of another. Some of the tuples created from it will fall into one window, and the rest into the following window.</p>\n<hr />\n<p>Flink's DataStream windowing API just isn't a good match for this use case. It will be easier to solve this by either going up or down in the API stack.</p>\n<p>If you go up a level to the Table API, then you can use <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/table/sql/queries/over-agg/\" rel=\"nofollow noreferrer\">over windows</a>, which allow grouping over a time interval relative to a specific event.</p>\n<p>And if you go down a level and use a KeyedProcessFunction, then you can work with state and time directly. E.g., you could key the stream as you are doing now, and then gather together in ListState all of the events that arrive in a 10-second interval.</p>\n"}],"owner":{"account_id":25009856,"reputation":1,"user_id":19017280,"display_name":"sergio garcia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669800013,"creation_date":1669668649,"question_id":74606335,"body_markdown":"We are using Apache Flink to read a Kafka topic which contains an Id and a list of objects as follows: \r\n\r\n    {\r\n    \tId: &quot;12345&quot;,\r\n    \tObjetcs: [\r\n    \t\t{\r\n    \t\t\tfatherId: &quot;1a&quot;,\r\n    \t\t\tid: &quot;111&quot;,\r\n    \t\t\tname: &quot;aabc&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\tfatherId: &quot;1b&quot;,\r\n    \t\t\tid: &quot;222&quot;,\r\n    \t\t\tname: &quot;abffc&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\tfatherId: &quot;1a&quot;,\r\n    \t\t\tid: &quot;333&quot;,\r\n    \t\t\tname: &quot;gfds&quot;\r\n    \t\t},\r\n    \t\t...\r\n    \t]\r\n    }\r\n\r\nThen we convert it to a data stream of tuples containing the listId and the product. Finally we do a KeyBy and a TumblingProcessingTimeWindows of 10 seconds to group the data by the listId and fhaterId and convert the result of grouping the data to a string as follows: \r\n“{ \\[ {fhaterId: “1a”, id: “222”, name: “aabc”}, {fhaterId: “1a”, id: “333”, name: “gfds”} \\], \\[ {fhaterId: “1a ”, id: “222”, name: “aabc”} \\] }”\r\n\r\nThe problem is that in some tests, we send 5 lists with 128,000 data each, where the expected result should be 5 string, but there are times when 6 arrive because one of the messages is divided.\r\nIn the example above it would be something like:\r\nString 1: “{\\[{fhaterId: “1a”, id: “222”, name: “aabc”}\\], \\[{fhaterId: “1a”, id: “222”, name: “aabc”}\\]}”\r\nString 2: “{\\[{fhaterId: “1a”, id: “333”, name: “gfds”}\\]}”\r\n\r\nWhen the expected response is a single string.\r\n\r\nwhat could be the reason?\r\n\r\nThe flow code is as follows:\r\n\r\n    DataStream&lt;Result&gt; sourceNegotiation = listNegotiationProducts\r\n                    .flatMap(new FlatMapFunction&lt;ListNegotiationProduct, Tuple2&lt;UUID, NegotiationProduct&gt;&gt;() {\r\n                        @Override\r\n                        public void flatMap(ListNegotiationProduct listNegotiationProduct, Collector&lt;Tuple2&lt;UUID, NegotiationProduct&gt;&gt; out) throws Exception {\r\n                            listNegotiationProduct.getProducts().forEach(lnp -&gt; {\r\n                                Tuple2&lt;UUID, NegotiationProduct&gt; response = new Tuple2&lt;&gt;(listNegotiationProduct.getTransactionId(), lnp);\r\n                                out.collect(response);\r\n                            });\r\n                        }\r\n                    })\r\n                    .keyBy(new KeySelector&lt;Tuple2&lt;UUID, NegotiationProduct&gt;, Tuple2&lt;UUID, Integer&gt;&gt;() {\r\n                        @Override\r\n                        public Tuple2&lt;UUID, Integer&gt; getKey(Tuple2&lt;UUID, NegotiationProduct&gt; value) throws Exception {\r\n                            return Tuple2.of(value.f0, value.f1.getNegotiationId());\r\n                        }\r\n                    })\r\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\r\n                    .allowedLateness(Time.seconds(1))\r\n                    .apply(new WindowFunction&lt;Tuple2&lt;UUID, NegotiationProduct&gt;, Tuple2&lt;UUID, Negotiation&gt;, Tuple2&lt;UUID, Integer&gt;, TimeWindow&gt;() {\r\n                        @Override\r\n                        public void apply(Tuple2&lt;UUID, Integer&gt; uuidIntegerTuple2, TimeWindow window, Iterable&lt;Tuple2&lt;UUID, NegotiationProduct&gt;&gt; iterable, Collector&lt;Tuple2&lt;UUID, Negotiation&gt;&gt; collector) throws Exception {\r\n                            Negotiation negotiation = new Negotiation();\r\n                            Tuple2&lt;UUID, Negotiation&gt; response = new Tuple2&lt;&gt;();\r\n    \r\n                            List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\r\n    \r\n                            iterable.iterator().forEachRemaining(negotiationProduct -&gt; {\r\n    \r\n                                negotiation.setNegotiationId(negotiationProduct.f1.getNegotiationId());\r\n                                response.setField(negotiationProduct.f0, 0);\r\n    \r\n                                List&lt;String&gt; observationList = new ArrayList&lt;&gt;();\r\n    \r\n                                observationList.add(negotiationProduct.f1.getObservation());\r\n    \r\n                                productList.add(Product\r\n                                        .builder()\r\n                                        .productGtin(negotiationProduct.f1.getProductGtin())\r\n                                        .state(negotiationProduct.f1.getState())\r\n                                        .observation(observationList)\r\n                                        .retailerCode(negotiationProduct.f1.getRetailerCode()).build());\r\n                            });\r\n    \r\n                            negotiation.setNegotiationProgressProducts(productList);\r\n    \r\n                            response.setField(negotiation, 1);\r\n                            collector.collect(response);\r\n                        }\r\n                    })\r\n                    .keyBy(t -&gt; t.f0)\r\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\r\n                    .allowedLateness(Time.seconds(1))\r\n                    .apply(new WindowFunction&lt;Tuple2&lt;UUID, Negotiation&gt;, Result, UUID, TimeWindow&gt;() {\r\n                        @Override\r\n                        public void apply(UUID uuid, TimeWindow window, Iterable&lt;Tuple2&lt;UUID, Negotiation&gt;&gt; iterable, Collector&lt;Result&gt; collector) throws Exception {\r\n                            List&lt;Negotiation&gt; negotiations = new ArrayList&lt;&gt;();\r\n                            iterable.iterator().forEachRemaining(n -&gt; {\r\n                                negotiations.add(n.f1);\r\n                            });\r\n                            collector.collect(BuildResult.build(new Payload(negotiations), uuid));\r\n                        }\r\n                    })\r\n                    .returns(Result.class);","title":"What happens when a window closes before finishing reading the data?","body":"<p>We are using Apache Flink to read a Kafka topic which contains an Id and a list of objects as follows:</p>\n<pre><code>{\n    Id: &quot;12345&quot;,\n    Objetcs: [\n        {\n            fatherId: &quot;1a&quot;,\n            id: &quot;111&quot;,\n            name: &quot;aabc&quot;\n        },\n        {\n            fatherId: &quot;1b&quot;,\n            id: &quot;222&quot;,\n            name: &quot;abffc&quot;\n        },\n        {\n            fatherId: &quot;1a&quot;,\n            id: &quot;333&quot;,\n            name: &quot;gfds&quot;\n        },\n        ...\n    ]\n}\n</code></pre>\n<p>Then we convert it to a data stream of tuples containing the listId and the product. Finally we do a KeyBy and a TumblingProcessingTimeWindows of 10 seconds to group the data by the listId and fhaterId and convert the result of grouping the data to a string as follows:\n“{ [ {fhaterId: “1a”, id: “222”, name: “aabc”}, {fhaterId: “1a”, id: “333”, name: “gfds”} ], [ {fhaterId: “1a ”, id: “222”, name: “aabc”} ] }”</p>\n<p>The problem is that in some tests, we send 5 lists with 128,000 data each, where the expected result should be 5 string, but there are times when 6 arrive because one of the messages is divided.\nIn the example above it would be something like:\nString 1: “{[{fhaterId: “1a”, id: “222”, name: “aabc”}], [{fhaterId: “1a”, id: “222”, name: “aabc”}]}”\nString 2: “{[{fhaterId: “1a”, id: “333”, name: “gfds”}]}”</p>\n<p>When the expected response is a single string.</p>\n<p>what could be the reason?</p>\n<p>The flow code is as follows:</p>\n<pre><code>DataStream&lt;Result&gt; sourceNegotiation = listNegotiationProducts\n                .flatMap(new FlatMapFunction&lt;ListNegotiationProduct, Tuple2&lt;UUID, NegotiationProduct&gt;&gt;() {\n                    @Override\n                    public void flatMap(ListNegotiationProduct listNegotiationProduct, Collector&lt;Tuple2&lt;UUID, NegotiationProduct&gt;&gt; out) throws Exception {\n                        listNegotiationProduct.getProducts().forEach(lnp -&gt; {\n                            Tuple2&lt;UUID, NegotiationProduct&gt; response = new Tuple2&lt;&gt;(listNegotiationProduct.getTransactionId(), lnp);\n                            out.collect(response);\n                        });\n                    }\n                })\n                .keyBy(new KeySelector&lt;Tuple2&lt;UUID, NegotiationProduct&gt;, Tuple2&lt;UUID, Integer&gt;&gt;() {\n                    @Override\n                    public Tuple2&lt;UUID, Integer&gt; getKey(Tuple2&lt;UUID, NegotiationProduct&gt; value) throws Exception {\n                        return Tuple2.of(value.f0, value.f1.getNegotiationId());\n                    }\n                })\n                .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\n                .allowedLateness(Time.seconds(1))\n                .apply(new WindowFunction&lt;Tuple2&lt;UUID, NegotiationProduct&gt;, Tuple2&lt;UUID, Negotiation&gt;, Tuple2&lt;UUID, Integer&gt;, TimeWindow&gt;() {\n                    @Override\n                    public void apply(Tuple2&lt;UUID, Integer&gt; uuidIntegerTuple2, TimeWindow window, Iterable&lt;Tuple2&lt;UUID, NegotiationProduct&gt;&gt; iterable, Collector&lt;Tuple2&lt;UUID, Negotiation&gt;&gt; collector) throws Exception {\n                        Negotiation negotiation = new Negotiation();\n                        Tuple2&lt;UUID, Negotiation&gt; response = new Tuple2&lt;&gt;();\n\n                        List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\n\n                        iterable.iterator().forEachRemaining(negotiationProduct -&gt; {\n\n                            negotiation.setNegotiationId(negotiationProduct.f1.getNegotiationId());\n                            response.setField(negotiationProduct.f0, 0);\n\n                            List&lt;String&gt; observationList = new ArrayList&lt;&gt;();\n\n                            observationList.add(negotiationProduct.f1.getObservation());\n\n                            productList.add(Product\n                                    .builder()\n                                    .productGtin(negotiationProduct.f1.getProductGtin())\n                                    .state(negotiationProduct.f1.getState())\n                                    .observation(observationList)\n                                    .retailerCode(negotiationProduct.f1.getRetailerCode()).build());\n                        });\n\n                        negotiation.setNegotiationProgressProducts(productList);\n\n                        response.setField(negotiation, 1);\n                        collector.collect(response);\n                    }\n                })\n                .keyBy(t -&gt; t.f0)\n                .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\n                .allowedLateness(Time.seconds(1))\n                .apply(new WindowFunction&lt;Tuple2&lt;UUID, Negotiation&gt;, Result, UUID, TimeWindow&gt;() {\n                    @Override\n                    public void apply(UUID uuid, TimeWindow window, Iterable&lt;Tuple2&lt;UUID, Negotiation&gt;&gt; iterable, Collector&lt;Result&gt; collector) throws Exception {\n                        List&lt;Negotiation&gt; negotiations = new ArrayList&lt;&gt;();\n                        iterable.iterator().forEachRemaining(n -&gt; {\n                            negotiations.add(n.f1);\n                        });\n                        collector.collect(BuildResult.build(new Payload(negotiations), uuid));\n                    }\n                })\n                .returns(Result.class);\n</code></pre>\n"},{"tags":["java","jdbc","sonarqube","sql-injection"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1669761217,"post_id":74604538,"comment_id":131715540,"body_markdown":"Have you tried refactoring the code so that you extract the query into a `final String` variable?","body":"Have you tried refactoring the code so that you extract the query into a <code>final String</code> variable?"}],"answers":[{"tags":[],"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669799704,"creation_date":1669718886,"answer_id":74612830,"question_id":74604538,"body_markdown":"SQL injection rule was raised because you don&#39;t use **Parameterized Query.**\r\n\r\n[Here you can find more details about it.][1]\r\n\r\n\r\n  [1]: https://jsparrow.github.io/rules/use-parameterized-query.html#description","title":"SonarQube false positive SQL injection","body":"<p>SQL injection rule was raised because you don't use <strong>Parameterized Query.</strong></p>\n<p><a href=\"https://jsparrow.github.io/rules/use-parameterized-query.html#description\" rel=\"nofollow noreferrer\">Here you can find more details about it.</a></p>\n"}],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669799704,"creation_date":1669657488,"question_id":74604538,"body_markdown":"I have a query whose exact value depends on several input parameters. It looks a bit like this:\r\n\r\n    final String otherColumns = includeExtras ? &quot;, baz&quot; : &quot;&quot;;\r\n    final String otherRestriction = name.equals(&quot;fred&quot;) ? &quot; and bar = baz&quot; : &quot;&quot;;\r\n    PreparedStatement stmt = conn.prepareStatement(\r\n            &quot;select foo, bar&quot; + otherColumns + &quot;from t where x = y&quot; + otherRestriction);\r\n\r\nSonarQube reports that this is vulnerable to SQL injection, but in fact it is obvious that all &quot;injections&quot; come from source code and not directly from parameters, therefore there is no vulnerability.\r\n\r\nIs there a flag or setting to get SonarQube to spend more time doing data flow analysis so that it can see that there is no vulnerability here?","title":"SonarQube false positive SQL injection","body":"<p>I have a query whose exact value depends on several input parameters. It looks a bit like this:</p>\n<pre><code>final String otherColumns = includeExtras ? &quot;, baz&quot; : &quot;&quot;;\nfinal String otherRestriction = name.equals(&quot;fred&quot;) ? &quot; and bar = baz&quot; : &quot;&quot;;\nPreparedStatement stmt = conn.prepareStatement(\n        &quot;select foo, bar&quot; + otherColumns + &quot;from t where x = y&quot; + otherRestriction);\n</code></pre>\n<p>SonarQube reports that this is vulnerable to SQL injection, but in fact it is obvious that all &quot;injections&quot; come from source code and not directly from parameters, therefore there is no vulnerability.</p>\n<p>Is there a flag or setting to get SonarQube to spend more time doing data flow analysis so that it can see that there is no vulnerability here?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1669792109,"post_id":74623956,"comment_id":131720811,"body_markdown":"Please specify problem in detail","body":"Please specify problem in detail"},{"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"score":0,"creation_date":1669794277,"post_id":74623956,"comment_id":131721391,"body_markdown":"I want response data in map object.","body":"I want response data in map object."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669792566,"creation_date":1669792566,"answer_id":74624068,"question_id":74623956,"body_markdown":"You can get a reference to the input stream from the connection and read the contents. See the link below for an example where it explains both GET and POST requests \r\n\r\nhttps://www.digitalocean.com/community/tutorials/java-httpurlconnection-example-java-http-request-get-post","title":"How to parse Response from HttpURLConnection object in java","body":"<p>You can get a reference to the input stream from the connection and read the contents. See the link below for an example where it explains both GET and POST requests</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/java-httpurlconnection-example-java-http-request-get-post\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-httpurlconnection-example-java-http-request-get-post</a></p>\n"}],"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624068,"answer_count":1,"score":0,"last_activity_date":1669798901,"creation_date":1669791898,"question_id":74623956,"body_markdown":"I am trying to validate OTP via 2Factor API but don&#39;t know how to parse response data in java code.\r\ntested on Postman `\r\n\r\n```java\r\nURL url = new URL(&quot;https://2factor.in/API/V1/{api_key}/SMS/VERIFY/{session_id}/{otp_entered_by_user}&quot;);\r\n\t\tHttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.connect();\r\n```\r\n\r\ntested the above API in postman and getting response like this,\r\n\r\n```json\r\n{\r\n    &quot;Status&quot;: &quot;Success&quot;,\r\n    &quot;Details&quot;: &quot;OTP Matched&quot;\r\n}\r\n```","title":"How to parse Response from HttpURLConnection object in java","body":"<p>I am trying to validate OTP via 2Factor API but don't know how to parse response data in java code.\ntested on Postman `</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://2factor.in/API/V1/{api_key}/SMS/VERIFY/{session_id}/{otp_entered_by_user}&quot;);\n        HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.connect();\n</code></pre>\n<p>tested the above API in postman and getting response like this,</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Status&quot;: &quot;Success&quot;,\n    &quot;Details&quot;: &quot;OTP Matched&quot;\n}\n</code></pre>\n"},{"tags":["java","arraylist","insert"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1413554317,"post_id":26426688,"comment_id":41498213,"body_markdown":"JavaDocs are your friend. Check out [`List.add(int, E)`](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(int,%20E)).","body":"JavaDocs are your friend. Check out <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(int,%20E)\" rel=\"nofollow noreferrer\"><code>List.add(int, E)</code></a>."},{"owner":{"account_id":1303061,"reputation":1069,"user_id":1252603,"accept_rate":60,"display_name":"Baderous"},"score":0,"creation_date":1413554512,"post_id":26426688,"comment_id":41498352,"body_markdown":"ArrayList class will take care of rearranging the elements after an insert (in whichever position you want). You&#39;d have to do it yourself if you were using static arrays.","body":"ArrayList class will take care of rearranging the elements after an insert (in whichever position you want). You&#39;d have to do it yourself if you were using static arrays."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1413554471,"creation_date":1413554471,"answer_id":26426752,"question_id":26426688,"body_markdown":"You could use [`List.add(0, E)`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add%28int,%20E%29) like\r\n\r\n\tList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5, 6));\r\n\tal.add(0, 7);\r\n\tSystem.out.println(al);\r\n\r\nOutput is (as requested)\r\n\r\n    [7, 1, 3, 5, 6]\r\n","title":"Adding an element to the begining of an ArrayList in java","body":"<p>You could use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add%28int,%20E%29\" rel=\"noreferrer\"><code>List.add(0, E)</code></a> like</p>\n\n<pre><code>List&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5, 6));\nal.add(0, 7);\nSystem.out.println(al);\n</code></pre>\n\n<p>Output is (as requested)</p>\n\n<pre><code>[7, 1, 3, 5, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669798863,"creation_date":1669797897,"answer_id":74624945,"question_id":26426688,"body_markdown":"Functionally:\r\n\r\n```java\r\nInteger toPrepend = 7;\r\nList&lt;Integer&gt; initial = List.of(1,  3,  5,  6);\r\n\r\nStream.concat(Stream.of(toPrepend), initial.stream()).collect(Collectors.toList())\r\n```","title":"Adding an element to the begining of an ArrayList in java","body":"<p>Functionally:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer toPrepend = 7;\nList&lt;Integer&gt; initial = List.of(1,  3,  5,  6);\n\nStream.concat(Stream.of(toPrepend), initial.stream()).collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":4232795,"reputation":1255,"user_id":3464772,"accept_rate":50,"display_name":"Cyberflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26426752,"answer_count":2,"score":0,"last_activity_date":1669798863,"creation_date":1413554265,"question_id":26426688,"body_markdown":"Just wondering what&#39;s the proper concept to add an element at the first position of a list ?\r\n\r\nFor example : \r\n\r\nThe primary list has these elements :\r\n\r\n    1 3 5 6\r\n\r\nAnd id like to add this element at the beginning `(position 0)` : `7`\r\n\r\nSo it would be like this at the final : \r\n\r\n    7 1 3 5 6\r\n\r\nDo i need to copy all the elements in a temporary Arraylist and re-insert everything one at a time ?","title":"Adding an element to the begining of an ArrayList in java","body":"<p>Just wondering what's the proper concept to add an element at the first position of a list ?</p>\n\n<p>For example : </p>\n\n<p>The primary list has these elements :</p>\n\n<pre><code>1 3 5 6\n</code></pre>\n\n<p>And id like to add this element at the beginning <code>(position 0)</code> : <code>7</code></p>\n\n<p>So it would be like this at the final : </p>\n\n<pre><code>7 1 3 5 6\n</code></pre>\n\n<p>Do i need to copy all the elements in a temporary Arraylist and re-insert everything one at a time ?</p>\n"},{"tags":["java","spring","software-design","onion-architecture"],"owner":{"account_id":1275298,"reputation":3439,"user_id":1230694,"accept_rate":80,"display_name":"berimbolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669798593,"creation_date":1669796978,"question_id":74624811,"body_markdown":"Is there any difference between the onion architecture and a pattern where the controller only has services or DAO&#39;s wired into it and all business logic is encapsulated within services, DAO&#39;s contain only the data access code and are used by services and controllers (its layered but open), the controller is the only entry point for requests, a mapper pattern is used to map data access objects to model objects and everything is auto-wired and using inversion of control and interfaces?\r\n\r\nWhat I have described is a pretty common pattern when using the spring framework for java and when reading [this blog post](https://jeffreypalermo.com/2008/08/the-onion-architecture-part-3/) and looking at the flattened diagram it does not (to me) look any different.\r\n\r\nIs this spring pattern, which I have never heard a formal name other than MVC or MVCS for actually the onion architecture?\r\n\r\n","title":"Is there a difference between onion architecture and using controller, service and DAO with IoC?","body":"<p>Is there any difference between the onion architecture and a pattern where the controller only has services or DAO's wired into it and all business logic is encapsulated within services, DAO's contain only the data access code and are used by services and controllers (its layered but open), the controller is the only entry point for requests, a mapper pattern is used to map data access objects to model objects and everything is auto-wired and using inversion of control and interfaces?</p>\n<p>What I have described is a pretty common pattern when using the spring framework for java and when reading <a href=\"https://jeffreypalermo.com/2008/08/the-onion-architecture-part-3/\" rel=\"nofollow noreferrer\">this blog post</a> and looking at the flattened diagram it does not (to me) look any different.</p>\n<p>Is this spring pattern, which I have never heard a formal name other than MVC or MVCS for actually the onion architecture?</p>\n"},{"tags":["java","hashmap","sonarqube"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1623682480,"post_id":67972517,"comment_id":120141680,"body_markdown":"It is duplicate code because you essentially do the same thing. A (logical) way to fix this would be to create a method for that and call this method multiple times. Things that differ can be parameters and things that are the same every time can be inserted directly in the method.","body":"It is duplicate code because you essentially do the same thing. A (logical) way to fix this would be to create a method for that and call this method multiple times. Things that differ can be parameters and things that are the same every time can be inserted directly in the method."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1623683206,"post_id":67972517,"comment_id":120141994,"body_markdown":"You have actually posted one code snippet as example. Please post the other code block that the sonar warns as a `duplicate` of the above code, but which you feel is not a duplicate.","body":"You have actually posted one code snippet as example. Please post the other code block that the sonar warns as a <code>duplicate</code> of the above code, but which you feel is not a duplicate."},{"owner":{"account_id":13595784,"reputation":305,"user_id":9807884,"display_name":"TechGnome"},"score":0,"creation_date":1623690811,"post_id":67972517,"comment_id":120145167,"body_markdown":"@GauthamM - Yeah, that&#39;s the rub... that IS the &quot;duplicated code&quot; ... So in that example Sonar is reporting lines 1-7 are duplicates of lines 3-9 ... same block...","body":"@GauthamM - Yeah, that&#39;s the rub... that IS the &quot;duplicated code&quot; ... So in that example Sonar is reporting lines 1-7 are duplicates of lines 3-9 ... same block..."},{"owner":{"account_id":13595784,"reputation":305,"user_id":9807884,"display_name":"TechGnome"},"score":0,"creation_date":1623690902,"post_id":67972517,"comment_id":120145189,"body_markdown":"@dan1st - I get that, but that&#39;s effectively what we are doing, as far as I can tell. It&#39;s all inside a constructor that sets up a read only mapping structure. If we move it all to a method, then everywhere we create this map, we&#39;d have to follow it up with a call to the method that fills it.","body":"@dan1st - I get that, but that&#39;s effectively what we are doing, as far as I can tell. It&#39;s all inside a constructor that sets up a read only mapping structure. If we move it all to a method, then everywhere we create this map, we&#39;d have to follow it up with a call to the method that fills it."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1623691942,"post_id":67972517,"comment_id":120145562,"body_markdown":"@TechGnome This is not the sonar warning for `duplicate literal` right?","body":"@TechGnome This is not the sonar warning for <code>duplicate literal</code> right?"},{"owner":{"account_id":13595784,"reputation":305,"user_id":9807884,"display_name":"TechGnome"},"score":0,"creation_date":1623700148,"post_id":67972517,"comment_id":120148374,"body_markdown":"@GauthamM - No, that one I recognize and know how to deal with - Had to deal with a few of those as well. This is completely different. It&#39;s quite befuddling... and everything I come across seems to end up pointing right back at https://docs.sonarqube.org/latest/project-administration/narrowing-the-focus/ which doesn&#39;t really help either. I&#39;m about to just add it to the sonar exempt list and call it a day.","body":"@GauthamM - No, that one I recognize and know how to deal with - Had to deal with a few of those as well. This is completely different. It&#39;s quite befuddling... and everything I come across seems to end up pointing right back at <a href=\"https://docs.sonarqube.org/latest/project-administration/narrowing-the-focus/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/project-administration/&hellip;</a> which doesn&#39;t really help either. I&#39;m about to just add it to the sonar exempt list and call it a day."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1623709370,"post_id":67972517,"comment_id":120150985,"body_markdown":"No, you are doing multiple things in each line. You are not only creating an object (calling the constructor) but you also execute the `put` method. An improvement would be to e.g. use another method like this: `someOtherMethod(2350L &quot;Another Value&quot;));` and infer the other parameters in that method.","body":"No, you are doing multiple things in each line. You are not only creating an object (calling the constructor) but you also execute the <code>put</code> method. An improvement would be to e.g. use another method like this: <code>someOtherMethod(2350L &quot;Another Value&quot;));</code> and infer the other parameters in that method."}],"answers":[{"tags":[],"owner":{"account_id":7412226,"reputation":11,"user_id":5639251,"display_name":"Jaikish Pai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669798550,"creation_date":1669798508,"answer_id":74625051,"question_id":67972517,"body_markdown":"May be if you cannot absolutely avoid the duplicated code snippet you can annotate using `@SupressWarnings(&quot;Duplicates&quot;)` ","title":"Ignore duplicate lines in Sonar (False Positive)","body":"<p>May be if you cannot absolutely avoid the duplicated code snippet you can annotate using <code>@SupressWarnings(&quot;Duplicates&quot;)</code></p>\n"}],"owner":{"account_id":13595784,"reputation":305,"user_id":9807884,"display_name":"TechGnome"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7792,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669798550,"creation_date":1623682276,"question_id":67972517,"body_markdown":"I&#39;ve got a Java class that extends a HashMap to hold some objects in a key/value pair fashion. In the constructor, we populate this map with all the values it needs to hold... a few hundred. For some reason somewhere around line 90ish, Sonar has decided that lines 90-120 are duplicates of lines 108-124, even though you can clearly see they are different. And yes, that block over laps. This also doesn&#39;t happen just once or twice, no it&#39;s reporting 10 such duplicate blocks, some overlap, some don&#39;t. \r\nI&#39;ve tried adding \r\n\r\n```@SuppressWarnings(&#39;Duplicates&#39;)```\r\n\r\n```@SuppressWarnings(&#39;all&#39;)```\r\n\r\n```@SuppressWarnings(&#39;common-java:DuplicateBlocks&#39;)```\r\n\r\nTo the constructor and the class, no joy. I tried adding ```//NOSONAR``` directly to some of the lines affected, still no joy. When I comment out the lines above it, it also doesn&#39;t make a difference. \r\nI found this post https://stackoverflow.com/questions/52865737/how-do-i-ignore-duplicated-code-report-in-sonar Tried to follow what&#39;s in there, but it wasn&#39;t much help either. We&#39;re not running SonarCube in the cloud, but locally, so marking it in the UI isn&#39;t going to help. It needs to be marked as excluded in the code. Short of excluding it in the POM file, what else is there? I know the ```@SuppressWarnings(&#39;Duplicates&#39;)``` should work, as we&#39;ve used it to exclude other code in other classes where there is legit duplicated code. But in this case, the code really isn&#39;t duplicated. \r\n\r\nExample of the code in question:\r\n\r\n```        this.put(862L,   new MyObject(862L,   &quot;SomeValue, &quot;Value 2&quot;));\r\n        this.put(2350L,  new MyObject(2350L,  &quot;Another Value&quot;, &quot;Value 2&quot;));\r\n        this.put(2351L,  new MyObject(2350L,  &quot;Another Value&quot;, &quot;Value 2&quot;));\r\n        this.put(32633L, new MyObject(32633L, &quot;Another Value&quot;, &quot;Value 2&quot;));\r\n        this.put(38907L, new MyObject(38907L, &quot;Some Value&quot;, &quot;Value 2&quot;));\r\n        this.put(38908L, new MyObject(38908L, &quot;Another Value&quot;, &quot;Value 2&quot;));\r\n        this.put(38909L, new MyObject(38909L, &quot;Another Vaue&quot;, &quot;Value 2&quot;));\r\n        this.put(38910L, new MyObject(38910L, &quot;Some Value&quot;, &quot;Value 2&quot;));\r\n        this.put(38911L, new MyObject(38911L, &quot;Some Value&quot;, &quot;Value 2&quot;));\r\n        this.put(38912L, new MyObject(38912L, &quot;Some Value&quot;, &quot;Value 2&quot;));\r\n```\r\n\r\nSonar has been less than helpful as to why it thinks this is duplicate code.","title":"Ignore duplicate lines in Sonar (False Positive)","body":"<p>I've got a Java class that extends a HashMap to hold some objects in a key/value pair fashion. In the constructor, we populate this map with all the values it needs to hold... a few hundred. For some reason somewhere around line 90ish, Sonar has decided that lines 90-120 are duplicates of lines 108-124, even though you can clearly see they are different. And yes, that block over laps. This also doesn't happen just once or twice, no it's reporting 10 such duplicate blocks, some overlap, some don't.\nI've tried adding</p>\n<p><code>@SuppressWarnings('Duplicates')</code></p>\n<p><code>@SuppressWarnings('all')</code></p>\n<p><code>@SuppressWarnings('common-java:DuplicateBlocks')</code></p>\n<p>To the constructor and the class, no joy. I tried adding <code>//NOSONAR</code> directly to some of the lines affected, still no joy. When I comment out the lines above it, it also doesn't make a difference.\nI found this post <a href=\"https://stackoverflow.com/questions/52865737/how-do-i-ignore-duplicated-code-report-in-sonar\">How do I ignore duplicated code report in Sonar?</a> Tried to follow what's in there, but it wasn't much help either. We're not running SonarCube in the cloud, but locally, so marking it in the UI isn't going to help. It needs to be marked as excluded in the code. Short of excluding it in the POM file, what else is there? I know the <code>@SuppressWarnings('Duplicates')</code> should work, as we've used it to exclude other code in other classes where there is legit duplicated code. But in this case, the code really isn't duplicated.</p>\n<p>Example of the code in question:</p>\n<pre><code>        this.put(2350L,  new MyObject(2350L,  &quot;Another Value&quot;, &quot;Value 2&quot;));\n        this.put(2351L,  new MyObject(2350L,  &quot;Another Value&quot;, &quot;Value 2&quot;));\n        this.put(32633L, new MyObject(32633L, &quot;Another Value&quot;, &quot;Value 2&quot;));\n        this.put(38907L, new MyObject(38907L, &quot;Some Value&quot;, &quot;Value 2&quot;));\n        this.put(38908L, new MyObject(38908L, &quot;Another Value&quot;, &quot;Value 2&quot;));\n        this.put(38909L, new MyObject(38909L, &quot;Another Vaue&quot;, &quot;Value 2&quot;));\n        this.put(38910L, new MyObject(38910L, &quot;Some Value&quot;, &quot;Value 2&quot;));\n        this.put(38911L, new MyObject(38911L, &quot;Some Value&quot;, &quot;Value 2&quot;));\n        this.put(38912L, new MyObject(38912L, &quot;Some Value&quot;, &quot;Value 2&quot;));\n</code></pre>\n<p>Sonar has been less than helpful as to why it thinks this is duplicate code.</p>\n"},{"tags":["java","database","jdbc","sharding"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1669788169,"post_id":74622110,"comment_id":131719908,"body_markdown":"Why is this tagged with `[mysql]`?","body":"Why is this tagged with <code>[mysql]</code>?"},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1669788652,"post_id":74622110,"comment_id":131720013,"body_markdown":"removed tag, could appy to any dialect","body":"removed tag, could appy to any dialect"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669798137,"creation_date":1669773657,"question_id":74622110,"body_markdown":"I&#39;m implementing the TableRuleConfiguration in Apache ShardingSphere and I&#39;m having problems with IN statements, I&#39;ve noticed that matching the strategy with shardingValue by using OR condition in the doSharding method override (match at least one value) won&#39;t route to the default strategy when the match is incomplete (Only one of many values is matched) while repacing IN with multiple ORs will route to the default strategy as well when at least one doesn&#39;t match any strategy.\r\n\r\nI&#39;ve tried adding the default strategy when the patch is incomplete but when routing table I don&#39;t know whether the datasource matches as well since they are handled separately, so I get more matches than needed.\r\n\r\nHow is this supposed to be handled?","title":"Apache ShardingSphere IN statements routing","body":"<p>I'm implementing the TableRuleConfiguration in Apache ShardingSphere and I'm having problems with IN statements, I've noticed that matching the strategy with shardingValue by using OR condition in the doSharding method override (match at least one value) won't route to the default strategy when the match is incomplete (Only one of many values is matched) while repacing IN with multiple ORs will route to the default strategy as well when at least one doesn't match any strategy.</p>\n<p>I've tried adding the default strategy when the patch is incomplete but when routing table I don't know whether the datasource matches as well since they are handled separately, so I get more matches than needed.</p>\n<p>How is this supposed to be handled?</p>\n"},{"tags":["java","java-module","java-17"],"answers":[{"tags":[],"owner":{"account_id":11148187,"reputation":181,"user_id":8182287,"display_name":"Herv&#233; Guillemet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669798132,"creation_date":1669798132,"answer_id":74624984,"question_id":74622207,"body_markdown":"That&#39;s it, as long as your jar is organized as follows:\r\n\r\n```lang-none\r\nmodule-info.class\r\norg\r\n foo\r\n  bar\r\n   pkgname\r\n    X.class\r\n    Y.class\r\n```\r\nA jar with a module-info.class at top level is a module.\r\nYou can check your module with:\r\n```shell\r\njar --describe-module --file bar.jar\r\n```","title":"How do I create a simple module in Java?","body":"<p>That's it, as long as your jar is organized as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>module-info.class\norg\n foo\n  bar\n   pkgname\n    X.class\n    Y.class\n</code></pre>\n<p>A jar with a module-info.class at top level is a module.\nYou can check your module with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jar --describe-module --file bar.jar\n</code></pre>\n"}],"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624984,"answer_count":1,"score":0,"last_activity_date":1669798132,"creation_date":1669774961,"question_id":74622207,"body_markdown":"I have a very simple library with classes in one package. As far as I know, it only depends on things in java.base. I added a module-info.java to the top level directory that exports this package.\r\n\r\ne.g.\r\n```\r\nmodule org.foo.bar {\r\n    exports org.foo.bar.pkgname;\r\n}\r\n```\r\n\r\nI then just built a simple jar file with my classes and the module-info class. \r\n\r\nIs that it, or is there more that I need to do?\r\n\r\n","title":"How do I create a simple module in Java?","body":"<p>I have a very simple library with classes in one package. As far as I know, it only depends on things in java.base. I added a module-info.java to the top level directory that exports this package.</p>\n<p>e.g.</p>\n<pre><code>module org.foo.bar {\n    exports org.foo.bar.pkgname;\n}\n</code></pre>\n<p>I then just built a simple jar file with my classes and the module-info class.</p>\n<p>Is that it, or is there more that I need to do?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1669792073,"post_id":74623144,"comment_id":131720799,"body_markdown":"Is these solutions not suitable? https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot","body":"Is these solutions not suitable? <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\" title=\"how to access a value defined in the application properties file in spring boot\">stackoverflow.com/questions/30528255/&hellip;</a>"},{"owner":{"account_id":5770399,"reputation":69,"user_id":4553986,"display_name":"David Buddrige"},"score":0,"creation_date":1669797786,"post_id":74623144,"comment_id":131722389,"body_markdown":"Thanks heaps Rustam! that gave me the clues I needed. :-)","body":"Thanks heaps Rustam! that gave me the clues I needed. :-)"}],"answers":[{"tags":[],"owner":{"account_id":5770399,"reputation":69,"user_id":4553986,"display_name":"David Buddrige"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669798078,"creation_date":1669797758,"answer_id":74624923,"question_id":74623144,"body_markdown":"Ok - many, many thanks to &lt;a href=&quot;https://stackoverflow.com/users/15322661/rustam&quot;&gt;Rustam&lt;/a&gt; who gave me the clues I needed. The way that I resolved this was thus:\r\n\r\nIn the src/main/resources/applicationContext.xml I have the following line:\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:myapp.properties&quot; /&gt;\r\n\r\nThen in the src/main/resources/myapp.properties file I have the following lines:\r\n\r\n    myservice.url=tcp://someservice:4002\r\n    myservice.queue=myqueue.service.txt.v1.q\r\n\r\nThen I have a class as follows:\r\n\r\n    package my.app.util;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    public class ConfigInformation \r\n    {\r\n        public ConfigInformation()\r\n        {\r\n           // Empty constructor needed to instantiate beans\r\n        }\r\n    \r\n        @Value(&quot;${myservice.url}&quot;)\r\n        private String _myServiceUrl;\r\n        public String getMyServiceUrl()\r\n        {\r\n            return _myServiceUrl;\r\n        }\r\n    \r\n        @Value(&quot;${myservice.queue}&quot;)\r\n        private String _myServiceQueue;\r\n        public String getMyServiceQueue()\r\n        {\r\n            return _myServiceQueue;\r\n        }\r\n    }\r\n\r\nThen, I have the following declaration in my applicationContext.xml:\r\n\r\n    &lt;bean name=&quot;configInformation&quot; class=&quot;my.app.util.ConfigInformation&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nAfter I have done this, I am able to use the following lines in my code:\r\n   \r\n    WebApplicationContext ctx = FacesContextUtils.getWebApplicationContext(FacesContext.getCurrentInstance());\r\n    ConfigInformation configInfo = (ConfigInformation) ctx.getBean(&quot;configInformation&quot;);\r\n\r\nAnd consequently, the configInfo object, is populated with the values assigned to &quot;myservice.url&quot; and &quot;myservice.queue&quot; which can be retrieved with the method calls:\r\n\r\n    configInfo.getMyServiceUrl()\r\n\r\nand\r\n\r\n    configInfo.getMyServiceQueue()\r\n\r\n","title":"How to retrieve values from a properties file using spring","body":"<p>Ok - many, many thanks to <a href=\"https://stackoverflow.com/users/15322661/rustam\">Rustam</a> who gave me the clues I needed. The way that I resolved this was thus:</p>\n<p>In the src/main/resources/applicationContext.xml I have the following line:</p>\n<pre><code>&lt;context:property-placeholder location=&quot;classpath:myapp.properties&quot; /&gt;\n</code></pre>\n<p>Then in the src/main/resources/myapp.properties file I have the following lines:</p>\n<pre><code>myservice.url=tcp://someservice:4002\nmyservice.queue=myqueue.service.txt.v1.q\n</code></pre>\n<p>Then I have a class as follows:</p>\n<pre><code>package my.app.util;\nimport org.springframework.beans.factory.annotation.Value;\n\npublic class ConfigInformation \n{\n    public ConfigInformation()\n    {\n       // Empty constructor needed to instantiate beans\n    }\n\n    @Value(&quot;${myservice.url}&quot;)\n    private String _myServiceUrl;\n    public String getMyServiceUrl()\n    {\n        return _myServiceUrl;\n    }\n\n    @Value(&quot;${myservice.queue}&quot;)\n    private String _myServiceQueue;\n    public String getMyServiceQueue()\n    {\n        return _myServiceQueue;\n    }\n}\n</code></pre>\n<p>Then, I have the following declaration in my applicationContext.xml:</p>\n<pre><code>&lt;bean name=&quot;configInformation&quot; class=&quot;my.app.util.ConfigInformation&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>After I have done this, I am able to use the following lines in my code:</p>\n<pre><code>WebApplicationContext ctx = FacesContextUtils.getWebApplicationContext(FacesContext.getCurrentInstance());\nConfigInformation configInfo = (ConfigInformation) ctx.getBean(&quot;configInformation&quot;);\n</code></pre>\n<p>And consequently, the configInfo object, is populated with the values assigned to &quot;myservice.url&quot; and &quot;myservice.queue&quot; which can be retrieved with the method calls:</p>\n<pre><code>configInfo.getMyServiceUrl()\n</code></pre>\n<p>and</p>\n<pre><code>configInfo.getMyServiceQueue()\n</code></pre>\n"}],"owner":{"account_id":5770399,"reputation":69,"user_id":4553986,"display_name":"David Buddrige"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624923,"answer_count":1,"score":0,"last_activity_date":1669798078,"creation_date":1669785047,"question_id":74623144,"body_markdown":"Main question:\r\n\r\nCould someone advise how I use Spring to retrieve  a value in my Java code to get values out of whatever properties file is specified by the &lt;context:property-placeholder&gt; tag in the applicationContext.xml?\r\n\r\nDetailed description:\r\n\r\nI am very new to Spring.  Trying to use it to retreive configurable properties for my application to connect to a (configurable) JMS queue.\r\n\r\nI have a Java/J2EE web application, using Spring.\r\n\r\nIn the src/main/resources/applicationContext.xml I have the following line:\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:myapp.properties&quot; /&gt;\r\n\r\nThen in the src/main/resources/myapp.properties file I have the following lines:\r\n\r\n    myservice.url=tcp://someservice:4002\r\n    myservice.queue=myqueue.service.txt.v1.q\r\n\r\nThe problem that I am having, is that, for the life of me, I cannot figure out how to get the value of myservice.url that is defined in myapp.properties into my running java code.\r\n\r\nI have tried a static function [to be called around the application]:\r\n\r\n\r\n    public static String getProperty(String propName)\r\n    {\r\n      WebApplicationContext ctx = \r\n          FacesContextUtils.getWebApplicationContext(FacesContext.getCurrentInstance());\r\n      Environment env = ctx.getEnvironment();\r\n      retVal = env.getProperty(propName);\r\n      return retVal;\r\n    }\r\n\r\nHowever, while it returns a populated Environment object &quot;env&quot;, the env.getProperty(propName) method returns null.\r\n\r\n\r\n","title":"How to retrieve values from a properties file using spring","body":"<p>Main question:</p>\n<p>Could someone advise how I use Spring to retrieve  a value in my Java code to get values out of whatever properties file is specified by the context:property-placeholder tag in the applicationContext.xml?</p>\n<p>Detailed description:</p>\n<p>I am very new to Spring.  Trying to use it to retreive configurable properties for my application to connect to a (configurable) JMS queue.</p>\n<p>I have a Java/J2EE web application, using Spring.</p>\n<p>In the src/main/resources/applicationContext.xml I have the following line:</p>\n<pre><code>&lt;context:property-placeholder location=&quot;classpath:myapp.properties&quot; /&gt;\n</code></pre>\n<p>Then in the src/main/resources/myapp.properties file I have the following lines:</p>\n<pre><code>myservice.url=tcp://someservice:4002\nmyservice.queue=myqueue.service.txt.v1.q\n</code></pre>\n<p>The problem that I am having, is that, for the life of me, I cannot figure out how to get the value of myservice.url that is defined in myapp.properties into my running java code.</p>\n<p>I have tried a static function [to be called around the application]:</p>\n<pre><code>public static String getProperty(String propName)\n{\n  WebApplicationContext ctx = \n      FacesContextUtils.getWebApplicationContext(FacesContext.getCurrentInstance());\n  Environment env = ctx.getEnvironment();\n  retVal = env.getProperty(propName);\n  return retVal;\n}\n</code></pre>\n<p>However, while it returns a populated Environment object &quot;env&quot;, the env.getProperty(propName) method returns null.</p>\n"},{"tags":["java","noclassdeffounderror","xstream"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1669798094,"post_id":74624958,"comment_id":131722482,"body_markdown":"can you share complete stacktrace?","body":"can you share complete stacktrace?"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1669798135,"post_id":74624958,"comment_id":131722497,"body_markdown":"and pom/gradle/whatever file manages your dependencies","body":"and pom/gradle/whatever file manages your dependencies"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1669802893,"post_id":74624958,"comment_id":131724048,"body_markdown":"and the bean definition/class","body":"and the bean definition/class"}],"owner":{"account_id":27095852,"reputation":1,"user_id":20643073,"display_name":"knox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669797972,"creation_date":1669797972,"question_id":74624958,"body_markdown":"Error creating bean with name &#39;Client&#39; defined in class path resource [applicationContext.xml]: Bean instantiation via constructor failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class.\r\n\r\nThis error occurs when I try to update xstream dependency from v1.2.2 to 1.4.19. The application is Spring Java 8 \r\n\r\n\r\nI have tried updating xstream lib to latest version 1.4.19 but it fails. Has anyone faced anything similar?","title":"Error creating bean with name &#39;Client&#39; defined in class path resource [applicationContext.xml]","body":"<p>Error creating bean with name 'Client' defined in class path resource [applicationContext.xml]: Bean instantiation via constructor failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class.</p>\n<p>This error occurs when I try to update xstream dependency from v1.2.2 to 1.4.19. The application is Spring Java 8</p>\n<p>I have tried updating xstream lib to latest version 1.4.19 but it fails. Has anyone faced anything similar?</p>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":1,"creation_date":1669794508,"post_id":74624360,"comment_id":131721438,"body_markdown":"Unique identifier of what? And what is the purpose of this identifier (e.g. what properties should it have except being unique)?","body":"Unique identifier of what? And what is the purpose of this identifier (e.g. what properties should it have except being unique)?"},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1669795111,"post_id":74624360,"comment_id":131721622,"body_markdown":"To uniquely identify each records","body":"To uniquely identify each records"},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1669795504,"post_id":74624360,"comment_id":131721716,"body_markdown":"Have you considered row_number window function. https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.htm","body":"Have you considered row_number window function. <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.&zwnj;&#8203;htm</a>"},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1669795571,"post_id":74624360,"comment_id":131721727,"body_markdown":"Use `rowid` or some hash of group of columns that should not change over time","body":"Use <code>rowid</code> or some hash of group of columns that should not change over time"},{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":2,"creation_date":1669797317,"post_id":74624360,"comment_id":131722258,"body_markdown":"Your process needs a rethink..if the data is not static between extract and update then 5th may not be the same for example where 5th in source is deleted or updated. after extract,same applies to any hash key eg if hash includes name and name is updated in source then hash key will have change..","body":"Your process needs a rethink..if the data is not static between extract and update then 5th may not be the same for example where 5th in source is deleted or updated. after extract,same applies to any hash key eg if hash includes name and name is updated in source then hash key will have change.."}],"answers":[{"tags":[],"owner":{"account_id":49167,"reputation":144571,"user_id":146325,"display_name":"APC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669797291,"creation_date":1669796174,"answer_id":74624680,"question_id":74624360,"body_markdown":"Assuming the source database is **entirely static** i.e. read-only you can use a hashing algorithm to generate a fingerprint for each row. The stronger the hash the less likely you are to get a hash collision (but also the longer the extract will take to run, so it&#39;s a trade off).\r\n\r\nYou don&#39;t mention the database version. For later versions using STANDARD_HASH sql function. In earlier versions use DBMS_CRYPTO package. In either case you will need to concatenate all the columns of the source table and apply the hash function to the resultant string. You can write dynamic SQL from USER_TAB_COLUMNS to generate the statements for the required tables.\r\n\r\nIt is important to provide default values for nullable columns, otherwise `&#39;Y&#39;|null` and `null|&#39;Y&#39;` will hash the same, and you don&#39;t want that.\r\n\r\n```\r\nselect  deptno\r\n       ,dname\r\n       ,location\r\n       ,standard_hash(deptno||dname||nvl(location,&#39;@@@&#39;), &#39;SHA256&#39;) as hashkey\r\nfrom dept;\r\n```\r\n\r\n\r\n\r\n----------\r\n\r\nNote: if your source database is in use and rows can be added or changed then you are all out of luck. But then there is no excuse for an Oracle database with no keys. That is just plain poor practice.  \r\n\r\n \r\n\r\n","title":"Unique Identifier for Oracle DB to identifying each record uniquely","body":"<p>Assuming the source database is <strong>entirely static</strong> i.e. read-only you can use a hashing algorithm to generate a fingerprint for each row. The stronger the hash the less likely you are to get a hash collision (but also the longer the extract will take to run, so it's a trade off).</p>\n<p>You don't mention the database version. For later versions using STANDARD_HASH sql function. In earlier versions use DBMS_CRYPTO package. In either case you will need to concatenate all the columns of the source table and apply the hash function to the resultant string. You can write dynamic SQL from USER_TAB_COLUMNS to generate the statements for the required tables.</p>\n<p>It is important to provide default values for nullable columns, otherwise <code>'Y'|null</code> and <code>null|'Y'</code> will hash the same, and you don't want that.</p>\n<pre><code>select  deptno\n       ,dname\n       ,location\n       ,standard_hash(deptno||dname||nvl(location,'@@@'), 'SHA256') as hashkey\nfrom dept;\n</code></pre>\n<hr />\n<p>Note: if your source database is in use and rows can be added or changed then you are all out of luck. But then there is no excuse for an Oracle database with no keys. That is just plain poor practice.</p>\n"}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74624680,"answer_count":1,"score":2,"last_activity_date":1669797896,"creation_date":1669794377,"question_id":74624360,"body_markdown":"I have a Oracle db where there are no keys defined (primary, unique) and I can&#39;t use ROWID, and I can&#39;t modify any tables in the db.  I have only read access.\r\n\r\nIs there a way create unique identifier by our own (using Java)?\r\n\r\nI have oracle db and my job is to build the java connector code for oracle db then fetch all the records and publish in Kafka pipeline, then some other team will consume the records and scan it for sensitive info then they will send those records to production team for masking the data in those records. The scanning team found suppose in 5th records sensitive info how they will convey to prod team that mask the 5th records, because there are no key&#39;s defined.\r\n\r\nSo, while publishing the records in Kafka pipeline I need to publish it with some reference if table doesn&#39;t have any keys defined, so that the scanning team will pass those records with reference to prod team for masking. I can only read records from db, and not have access to modify the records/tables.","title":"Unique Identifier for Oracle DB to identifying each record uniquely","body":"<p>I have a Oracle db where there are no keys defined (primary, unique) and I can't use ROWID, and I can't modify any tables in the db.  I have only read access.</p>\n<p>Is there a way create unique identifier by our own (using Java)?</p>\n<p>I have oracle db and my job is to build the java connector code for oracle db then fetch all the records and publish in Kafka pipeline, then some other team will consume the records and scan it for sensitive info then they will send those records to production team for masking the data in those records. The scanning team found suppose in 5th records sensitive info how they will convey to prod team that mask the 5th records, because there are no key's defined.</p>\n<p>So, while publishing the records in Kafka pipeline I need to publish it with some reference if table doesn't have any keys defined, so that the scanning team will pass those records with reference to prod team for masking. I can only read records from db, and not have access to modify the records/tables.</p>\n"},{"tags":["java","selenium","selenide"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1666508043,"post_id":74168406,"comment_id":130950633,"body_markdown":"In Selenium with Python, to prevent the browser from automatically closing, we have use:    options = webdriver.ChromeOptions()\noptions.add_experimental_option(&quot;detach&quot;, True).   Try this logic in Selenide.","body":"In Selenium with Python, to prevent the browser from automatically closing, we have use:    options = webdriver.ChromeOptions() options.add_experimental_option(&quot;detach&quot;, True).   Try this logic in Selenide."}],"answers":[{"tags":[],"owner":{"account_id":16528129,"reputation":1,"user_id":11942220,"display_name":"Anton Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669797896,"creation_date":1669797896,"answer_id":74624943,"question_id":74168406,"body_markdown":"That&#39;s easy, add this configuration. Browser will remain open after test.\r\n\r\n    Configuration.holdBrowserOpen=true","title":"How not to close the browser in Selenide?","body":"<p>That's easy, add this configuration. Browser will remain open after test.</p>\n<pre><code>Configuration.holdBrowserOpen=true\n</code></pre>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669797896,"creation_date":1666494177,"question_id":74168406,"body_markdown":"I want to write code and visually look at the results.\r\nI need to be on the site for an unlimited amount of time.\r\n\r\nCan I somehow disable closing the browser after going to the site?\r\n\r\n```java\r\n        WebDriverManager.chromedriver().setup();\r\n        Configuration.browser = &quot;chrome&quot;;\r\n        Configuration.driverManagerEnabled = true;\r\n        Configuration.browserSize = &quot;1920x1080&quot;;\r\n        Configuration.headless = false;\r\n        Selenide.open(BASE_URL);\r\n        // Here the browser is automatically closed after a couple of seconds\r\n```","title":"How not to close the browser in Selenide?","body":"<p>I want to write code and visually look at the results.\nI need to be on the site for an unlimited amount of time.</p>\n<p>Can I somehow disable closing the browser after going to the site?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        WebDriverManager.chromedriver().setup();\n        Configuration.browser = &quot;chrome&quot;;\n        Configuration.driverManagerEnabled = true;\n        Configuration.browserSize = &quot;1920x1080&quot;;\n        Configuration.headless = false;\n        Selenide.open(BASE_URL);\n        // Here the browser is automatically closed after a couple of seconds\n</code></pre>\n"},{"tags":["java","apache-poi","xssf","sxssf"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669767686,"post_id":74614302,"comment_id":131716815,"body_markdown":"What does this mean? `cant use this solution: because of some itss` - if you don&#39;t like excel-streaming-reader, you could try https://github.com/dhatim/fastexcel","body":"What does this mean? <code>cant use this solution: because of some itss</code> - if you don&#39;t like excel-streaming-reader, you could try <a href=\"https://github.com/dhatim/fastexcel\" rel=\"nofollow noreferrer\">github.com/dhatim/fastexcel</a>"},{"owner":{"account_id":27084504,"reputation":1,"user_id":20633210,"display_name":"tara kantheti"},"score":0,"creation_date":1669783823,"post_id":74614302,"comment_id":131719173,"body_markdown":"Hi @PJ Fanning I can&#39;t use other solutions except for making apache poi to work according to my company norms, so can you help with any other possible solutions","body":"Hi @PJ Fanning I can&#39;t use other solutions except for making apache poi to work according to my company norms, so can you help with any other possible solutions"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669804378,"post_id":74614302,"comment_id":131724537,"body_markdown":"If you absolutely have to use POI and cannot use easier solutions - try https://github.com/dearshor/poi-examples/blob/master/src/main/java/poi/xssf/eventusermodel/examples/FromHowTo.java","body":"If you absolutely have to use POI and cannot use easier solutions - try <a href=\"https://github.com/dearshor/poi-examples/blob/master/src/main/java/poi/xssf/eventusermodel/examples/FromHowTo.java\" rel=\"nofollow noreferrer\">github.com/dearshor/poi-examples/blob/master/src/main/java/p&zwnj;&#8203;oi/&hellip;</a>"}],"owner":{"account_id":27084504,"reputation":1,"user_id":20633210,"display_name":"tara kantheti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669797493,"creation_date":1669725849,"question_id":74614302,"body_markdown":"I am using apache poi for excel read and write. I am able to use it for small size files properly. But now my input file size is &gt;150mb with 200k+ records. Now when the use the same code for reading the file my thread just keeps on stepping and never returns the workbook to perform operations\r\n\r\nfinal thread run debug log:\r\n```\r\n2022-11-29 17:04:33.541 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/pivotCache/_rels/pivotCacheDefinition1.xml.rels\r\n2022-11-29 17:04:33.604 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/pivotTables/_rels/pivotTable1.xml.rels\r\n2022-11-29 17:04:33.631 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/_rels/workbook.xml.rels\r\n2022-11-29 17:04:33.646 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/worksheets/_rels/sheet1.xml.rels\r\n2022-11-29 17:04:33.657 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/worksheets/_rels/sheet2.xml.rels\r\n2022-11-29 17:04:33.672 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /_rels/.rels\r\n2022-11-29 17:04:47.661 DEBUG 33576 --- [ecutor-thread-8] org.apache.poi.ooxml.POIXMLFactory       : using default POIXMLDocumentPart for http://schemas.openxmlformats.org/officeDocument/2006/relationships/printerSettings\r\n2022-11-29 17:04:47.666 DEBUG 33576 --- [ecutor-thread-8] org.apache.poi.ooxml.POIXMLFactory       : using default POIXMLDocumentPart for http://schemas.openxmlformats.org/officeDocument/2006/relationships/printerSettings\r\n```\r\n\r\n**dependencies used:**\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n   &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n   &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n   &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n   &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**solutions tried:**\r\n\r\n```\r\nWorkbook workbook = new XSSFWorkbook(file);\r\n\r\nSXSSFWorkbook workbook = new SXSSFWorkbook(new XSSFWorkbook(file));\r\n\r\nWorkbook workbook = WorkbookFactory.create(f);\r\n```\r\n\r\n\r\n**cant use this solution:** because of it doesnt consider the cells which are blank hence having issue in reading columns and also because of some itss company policies\r\n\r\n\r\n```\r\nInputStream is = new FileInputStream(new File(uploadfilePath.toString()));\r\n\t\t\t\tWorkbook workbook = StreamingReader.builder().rowCacheSize(100).bufferSize(4096).open(is)\r\n```\r\n\r\n\r\ncan anyone please help me with some solutions for creating the workbook successfully\r\n\r\n","title":"While using apache poi to read an excel file the thread is getting stuck after parsing the sheets","body":"<p>I am using apache poi for excel read and write. I am able to use it for small size files properly. But now my input file size is &gt;150mb with 200k+ records. Now when the use the same code for reading the file my thread just keeps on stepping and never returns the workbook to perform operations</p>\n<p>final thread run debug log:</p>\n<pre><code>2022-11-29 17:04:33.541 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/pivotCache/_rels/pivotCacheDefinition1.xml.rels\n2022-11-29 17:04:33.604 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/pivotTables/_rels/pivotTable1.xml.rels\n2022-11-29 17:04:33.631 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/_rels/workbook.xml.rels\n2022-11-29 17:04:33.646 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/worksheets/_rels/sheet1.xml.rels\n2022-11-29 17:04:33.657 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /xl/worksheets/_rels/sheet2.xml.rels\n2022-11-29 17:04:33.672 DEBUG 33576 --- [ecutor-thread-8] o.a.p.o.o.PackageRelationshipCollection  : Parsing relationship: /_rels/.rels\n2022-11-29 17:04:47.661 DEBUG 33576 --- [ecutor-thread-8] org.apache.poi.ooxml.POIXMLFactory       : using default POIXMLDocumentPart for http://schemas.openxmlformats.org/officeDocument/2006/relationships/printerSettings\n2022-11-29 17:04:47.666 DEBUG 33576 --- [ecutor-thread-8] org.apache.poi.ooxml.POIXMLFactory       : using default POIXMLDocumentPart for http://schemas.openxmlformats.org/officeDocument/2006/relationships/printerSettings\n</code></pre>\n<p><strong>dependencies used:</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi&lt;/artifactId&gt;\n   &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n   &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>solutions tried:</strong></p>\n<pre><code>Workbook workbook = new XSSFWorkbook(file);\n\nSXSSFWorkbook workbook = new SXSSFWorkbook(new XSSFWorkbook(file));\n\nWorkbook workbook = WorkbookFactory.create(f);\n</code></pre>\n<p><strong>cant use this solution:</strong> because of it doesnt consider the cells which are blank hence having issue in reading columns and also because of some itss company policies</p>\n<pre><code>InputStream is = new FileInputStream(new File(uploadfilePath.toString()));\n                Workbook workbook = StreamingReader.builder().rowCacheSize(100).bufferSize(4096).open(is)\n</code></pre>\n<p>can anyone please help me with some solutions for creating the workbook successfully</p>\n"},{"tags":["java","android","flutter","unit-testing","testing"],"answers":[{"tags":[],"owner":{"account_id":14467271,"reputation":101,"user_id":10450263,"display_name":"Akash Bisht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669797010,"creation_date":1669787368,"answer_id":74623375,"question_id":74597402,"body_markdown":"Try something like this: \r\n\r\n&gt;      test(\r\n&gt;         &#39;Given: Fake login request with username and password,&#39;\r\n&gt;         &#39;When: Mock login API,&#39;\r\n&gt;         &#39;Then: Successful response from mock api&#39;, () async {\r\n&gt;       // arrange\r\n&gt;       when(\r\n&gt;           mockDio.post(\r\n&gt;            Apiservices().baseurl\r\n&gt;         ),\r\n&gt;       ).thenAnswer((realInvocation) async {\r\n&gt;         return Response(jsonEncode(loginSuccessResponse), 200); //this will create  a response for your api request\r\n&gt;       });\r\n&gt; \r\n&gt;       // act, this will return a fake api response, we created above\r\n&gt;       final resp = await _networkCallMock.post(\r\n&gt;        Apiservices().baseurl\r\n&gt;       );\r\n&gt; \r\n&gt;       // assert, actualResponse we mocked to get from api call, have a actual  \r\n&gt;       // response as expectedResponse, and compare it.\r\n&gt;       final actualResponse = LoginResponse.fromJson(jsonDecode(resp.body));\r\n&gt;       final expectedResponse = LoginResponse.fromJson(loginSuccessResponse);\r\n&gt;       expect(\r\n&gt;         actualResponse,\r\n&gt;         expectedResponse,\r\n&gt;       );\r\n&gt;     });","title":"how to do Unit testing in flutter,Mockito when we make a post request using Dio package?","body":"<p>Try something like this:</p>\n<blockquote>\n<pre><code> test(\n    'Given: Fake login request with username and password,'\n    'When: Mock login API,'\n    'Then: Successful response from mock api', () async {\n  // arrange\n  when(\n      mockDio.post(\n       Apiservices().baseurl\n    ),\n  ).thenAnswer((realInvocation) async {\n    return Response(jsonEncode(loginSuccessResponse), 200); //this will create  a response for your api request\n  });\n\n  // act, this will return a fake api response, we created above\n  final resp = await _networkCallMock.post(\n   Apiservices().baseurl\n  );\n\n  // assert, actualResponse we mocked to get from api call, have a actual  \n  // response as expectedResponse, and compare it.\n  final actualResponse = LoginResponse.fromJson(jsonDecode(resp.body));\n  final expectedResponse = LoginResponse.fromJson(loginSuccessResponse);\n  expect(\n    actualResponse,\n    expectedResponse,\n  );\n});\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":23472524,"reputation":1,"user_id":17525801,"display_name":"Rafi Muhd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669797010,"creation_date":1669621189,"question_id":74597402,"body_markdown":"**Dio request for login authentication**\r\n```\r\n Future&lt;String?&gt; authentication(String mobileNumber, String password, Dio dio) async {\r\n    dynamic data = {\r\n      &quot;username&quot;: mobileNumber,\r\n      &quot;password&quot;: password,\r\n      &quot;grant_type&quot;: &quot;password&quot;,\r\n      &quot;client_id&quot;: &quot;client_id&quot;\r\n    };\r\n\r\n    try {\r\n      final response = await _dio.post(baseurl,\r\n          data: data,\r\n          options: Options(headers: {\r\n            &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\r\n          })); //&#39;Authorization&#39;: &#39;Bearer $token\r\n      if (response.statusCode == 200) {\r\n        accessToken = response.data[&quot;access_token&quot;];\r\n        refreshToken = response.data[&quot;refresh_token&quot;];\r\n        Fluttertoast.showToast(msg: &quot;Successfully Logged in&quot;);\r\n        return accessToken;\r\n      }\r\n    }on DioError catch (e) {\r\n      Fluttertoast.showToast(msg: &quot;Something went wrong&quot;);\r\n      return e.toString();\r\n  }\r\n  return accessToken;\r\n  }\r\n\r\n\r\n```\r\n\r\n**Unit testing **\r\n\r\n```\r\n\r\n MockDio mockDio = MockDio();\r\n\r\n test(&quot;if authentication successfull token will return  &quot;, () async {\r\n \r\n\r\nwhen(mockDio.post(Apiservices().baseurl)).thenAnswer((_)async =&gt;*need return a response????*\r\n  );\r\n\r\n      expect(await service.authentication(&quot;username&quot;, &quot;password&quot;, mockDio),\r\n          isA&lt;String&gt;());\r\n    });\r\n```\r\n\r\n\r\nI need to check the login auth testing using dio and mockito packages.\r\nIt will return a token.\r\nI am not able to do the mocking.\r\n\r\nPlease give a details example of this.\r\nor give me some reference","title":"how to do Unit testing in flutter,Mockito when we make a post request using Dio package?","body":"<p><strong>Dio request for login authentication</strong></p>\n<pre><code> Future&lt;String?&gt; authentication(String mobileNumber, String password, Dio dio) async {\n    dynamic data = {\n      &quot;username&quot;: mobileNumber,\n      &quot;password&quot;: password,\n      &quot;grant_type&quot;: &quot;password&quot;,\n      &quot;client_id&quot;: &quot;client_id&quot;\n    };\n\n    try {\n      final response = await _dio.post(baseurl,\n          data: data,\n          options: Options(headers: {\n            &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\n          })); //'Authorization': 'Bearer $token\n      if (response.statusCode == 200) {\n        accessToken = response.data[&quot;access_token&quot;];\n        refreshToken = response.data[&quot;refresh_token&quot;];\n        Fluttertoast.showToast(msg: &quot;Successfully Logged in&quot;);\n        return accessToken;\n      }\n    }on DioError catch (e) {\n      Fluttertoast.showToast(msg: &quot;Something went wrong&quot;);\n      return e.toString();\n  }\n  return accessToken;\n  }\n\n\n</code></pre>\n<p>**Unit testing **</p>\n<pre><code>\n MockDio mockDio = MockDio();\n\n test(&quot;if authentication successfull token will return  &quot;, () async {\n \n\nwhen(mockDio.post(Apiservices().baseurl)).thenAnswer((_)async =&gt;*need return a response????*\n  );\n\n      expect(await service.authentication(&quot;username&quot;, &quot;password&quot;, mockDio),\n          isA&lt;String&gt;());\n    });\n</code></pre>\n<p>I need to check the login auth testing using dio and mockito packages.\nIt will return a token.\nI am not able to do the mocking.</p>\n<p>Please give a details example of this.\nor give me some reference</p>\n"},{"tags":["java","hashmap","gson","deserialization"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1643376892,"post_id":70894460,"comment_id":125329859,"body_markdown":"You can change your method to be `public static void loadObjsFromDirectory(HashMap&lt;String, Object&gt; map, String directoryPath, Class klass)` and call it this way `Utils.loadObjsFromDirectory(map1, &quot;directoryPath1&quot;, Class1.class);` or whatever class is in the map&#39;s values","body":"You can change your method to be <code>public static void loadObjsFromDirectory(HashMap&lt;String, Object&gt; map, String directoryPath, Class klass)</code> and call it this way <code>Utils.loadObjsFromDirectory(map1, &quot;directoryPath1&quot;, Class1.class);</code> or whatever class is in the map&#39;s values"}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1643799470,"creation_date":1643376887,"answer_id":70894617,"question_id":70894460,"body_markdown":"You can parameterise and mimic the Gson approach and pass in a `Class` parameter:\r\n\r\n    public static &lt;ExpectedType&gt;void loadObjsFromDirectory(Class&lt;ExpectedType&gt; expectedType, HashMap&lt;String, ExpectedType&gt; map, String directoryPath) {\r\n\r\n    //later\r\n    ExpectedType object = gsonDeserializer.fromJson(String.valueOf(file), expectedType);\r\n\r\n`ExpectedType` is a type parameter that applies to the method declaration only. It is not a class that is defined anywhere in your code.\r\n\r\nThe calling code (main method) would become:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        HashMap&lt;String, Class1&gt; map1 = new HashMap&lt;&gt;();\r\n        HashMap&lt;String, Class2&gt; map2 = new HashMap&lt;&gt;();\r\n    \r\n        Utils.loadObjsFromDirectory(Class1.class, map1, &quot;directoryPath1&quot;);\r\n        Utils.loadObjsFromDirectory(Class2.class, map2, &quot;directoryPath2&quot;);\r\n    }","title":"How do I get the class type of Object from HashMap&lt;String, Object&gt;?","body":"<p>You can parameterise and mimic the Gson approach and pass in a <code>Class</code> parameter:</p>\n<pre><code>public static &lt;ExpectedType&gt;void loadObjsFromDirectory(Class&lt;ExpectedType&gt; expectedType, HashMap&lt;String, ExpectedType&gt; map, String directoryPath) {\n\n//later\nExpectedType object = gsonDeserializer.fromJson(String.valueOf(file), expectedType);\n</code></pre>\n<p><code>ExpectedType</code> is a type parameter that applies to the method declaration only. It is not a class that is defined anywhere in your code.</p>\n<p>The calling code (main method) would become:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    HashMap&lt;String, Class1&gt; map1 = new HashMap&lt;&gt;();\n    HashMap&lt;String, Class2&gt; map2 = new HashMap&lt;&gt;();\n\n    Utils.loadObjsFromDirectory(Class1.class, map1, &quot;directoryPath1&quot;);\n    Utils.loadObjsFromDirectory(Class2.class, map2, &quot;directoryPath2&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7131906,"reputation":95,"user_id":5452860,"accept_rate":50,"display_name":"adex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669796580,"creation_date":1669796580,"answer_id":74624748,"question_id":70894460,"body_markdown":"You could use *com.google.gson.reflect.TypeToken*.\r\n\r\nA snippet of my code:\r\n\r\n    Map&lt;String, Object&gt; bodyMap = GSON.fromJson(request.body(), new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType())","title":"How do I get the class type of Object from HashMap&lt;String, Object&gt;?","body":"<p>You could use <em>com.google.gson.reflect.TypeToken</em>.</p>\n<p>A snippet of my code:</p>\n<pre><code>Map&lt;String, Object&gt; bodyMap = GSON.fromJson(request.body(), new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType())\n</code></pre>\n"}],"owner":{"account_id":24023762,"reputation":1,"user_id":18005674,"display_name":"Rainh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1038,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1669796580,"creation_date":1643376117,"question_id":70894460,"body_markdown":"I have 4 different Hashmaps with different class types for their value. \r\n\r\n(Hashmap&lt;String, Class1&gt;, Hashmap&lt;String, Class2&gt;, Hashmap&lt;String, Class3&gt;, Hashmap&lt;String, Class4&gt;)\r\n\r\nEach of these has a respective directory in the resources folder with a set of Json files.\r\nI want to deserialize all of the Json files within the directory as the correct class type and store them in the HashMap inputted as an argument.\r\n\r\nGson requires an input of the class type where I&#39;ve written #OBJECTCLASS# to create an object. How can I obtain this from the HashMap inputted as the method argument?\r\n\r\n```\r\n//load a hashmap with the objects saved in its resource file\r\n    public static void loadObjsFromDirectory(HashMap&lt;String, Object&gt; map, String directoryPath) {\r\n        File[] files = new File(directoryPath).listFiles();\r\n\r\n        //null safety\r\n        if (files == null) {\r\n            System.out.println(filePath + &quot; is empty&quot;);\r\n            return;\r\n        }\r\n\r\n        Gson gsonDeserializer = new Gson();\r\n        //deserialize each json file and put the created object in its map\r\n        for (File file : files) {\r\n            //make sure the Json file is parsed correctly\r\n            try {\r\n                Object object = gsonDeserializer.fromJson(String.valueOf(file), #OBJECTCLASS#);\r\n                map.put(file.getName(), object);\r\n                System.out.println(file.getName() + &quot; is loaded&quot;);\r\n            } catch (JsonParseException e){\r\n                System.out.println(file.getName() + &quot;is incorrectly parsed&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\ne.g.\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    HashMap&lt;String, Class1&gt; map1 = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Class2&gt; map2 = new HashMap&lt;&gt;();\r\n\r\n    Utils.loadObjsFromDirectory(map1, &quot;directoryPath1&quot;);\r\n    Utils.loadObjsFromDirectory(map2, &quot;directoryPath2&quot;);\r\n}\r\n```\r\n\r\nShould create all the files in directoryPath1 as Class1 objects and all the files in directoryPath2 as Class2 objects.","title":"How do I get the class type of Object from HashMap&lt;String, Object&gt;?","body":"<p>I have 4 different Hashmaps with different class types for their value.</p>\n<p>(Hashmap&lt;String, Class1&gt;, Hashmap&lt;String, Class2&gt;, Hashmap&lt;String, Class3&gt;, Hashmap&lt;String, Class4&gt;)</p>\n<p>Each of these has a respective directory in the resources folder with a set of Json files.\nI want to deserialize all of the Json files within the directory as the correct class type and store them in the HashMap inputted as an argument.</p>\n<p>Gson requires an input of the class type where I've written #OBJECTCLASS# to create an object. How can I obtain this from the HashMap inputted as the method argument?</p>\n<pre><code>//load a hashmap with the objects saved in its resource file\n    public static void loadObjsFromDirectory(HashMap&lt;String, Object&gt; map, String directoryPath) {\n        File[] files = new File(directoryPath).listFiles();\n\n        //null safety\n        if (files == null) {\n            System.out.println(filePath + &quot; is empty&quot;);\n            return;\n        }\n\n        Gson gsonDeserializer = new Gson();\n        //deserialize each json file and put the created object in its map\n        for (File file : files) {\n            //make sure the Json file is parsed correctly\n            try {\n                Object object = gsonDeserializer.fromJson(String.valueOf(file), #OBJECTCLASS#);\n                map.put(file.getName(), object);\n                System.out.println(file.getName() + &quot; is loaded&quot;);\n            } catch (JsonParseException e){\n                System.out.println(file.getName() + &quot;is incorrectly parsed&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>e.g.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    HashMap&lt;String, Class1&gt; map1 = new HashMap&lt;&gt;();\n    HashMap&lt;String, Class2&gt; map2 = new HashMap&lt;&gt;();\n\n    Utils.loadObjsFromDirectory(map1, &quot;directoryPath1&quot;);\n    Utils.loadObjsFromDirectory(map2, &quot;directoryPath2&quot;);\n}\n</code></pre>\n<p>Should create all the files in directoryPath1 as Class1 objects and all the files in directoryPath2 as Class2 objects.</p>\n"},{"tags":["java","akka","akka-stream","akka-http"],"answers":[{"tags":[],"owner":{"account_id":75725,"reputation":503,"user_id":217125,"display_name":"earthling paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669795862,"creation_date":1654867167,"answer_id":72575001,"question_id":72563909,"body_markdown":"Assuming you use akka-http and Scala you may use `getFromFile` to stream the entire binary file from a `path` to the `HttpResponse` like this:\r\n\r\n    path(&quot;download&quot;) {\r\n      get {\r\n          entity(as[FileHandle]) { fileHandle: FileHandle =&gt;\r\n          println(s&quot;Server received download request for: ${fileHandle.fileName}&quot;)\r\n          getFromFile(new File(fileHandle.absolutePath), MediaTypes.`application/octet-stream`)\r\n          }\r\n        }\r\n     }\r\n\r\nTaken from this file upload/download roundtrip akka-http example:\r\nhttps://github.com/pbernet/akka_streams_tutorial/blob/f246bc061a8f5a1ed9f79cce3f4c52c3c9e1b57a/src/main/scala/akkahttp/HttpFileEcho.scala#L52\r\n\r\nStreaming the entire file eliminates the need for &quot;manual chunking&quot;, thus the example above will run with limited heap size.\r\n\r\nHowever, if needed manual chunking could be done like this:\r\n\r\n      val fileInputStream = new FileInputStream(fileHandle.absolutePath)\r\n      val chunked: Source[ByteString, Future[IOResult]] = akka.stream.scaladsl.StreamConverters\r\n        .fromInputStream(() =&gt; fileInputStream, chunkSize = 10 * 1024)\r\n          chunked.map(each =&gt; println(each)).runWith(Sink.ignore)","title":"Use akka to stream contents of streaming file as a HttpResponse","body":"<p>Assuming you use akka-http and Scala you may use <code>getFromFile</code> to stream the entire binary file from a <code>path</code> to the <code>HttpResponse</code> like this:</p>\n<pre><code>path(&quot;download&quot;) {\n  get {\n      entity(as[FileHandle]) { fileHandle: FileHandle =&gt;\n      println(s&quot;Server received download request for: ${fileHandle.fileName}&quot;)\n      getFromFile(new File(fileHandle.absolutePath), MediaTypes.`application/octet-stream`)\n      }\n    }\n }\n</code></pre>\n<p>Taken from this file upload/download roundtrip akka-http example:\n<a href=\"https://github.com/pbernet/akka_streams_tutorial/blob/f246bc061a8f5a1ed9f79cce3f4c52c3c9e1b57a/src/main/scala/akkahttp/HttpFileEcho.scala#L52\" rel=\"nofollow noreferrer\">https://github.com/pbernet/akka_streams_tutorial/blob/f246bc061a8f5a1ed9f79cce3f4c52c3c9e1b57a/src/main/scala/akkahttp/HttpFileEcho.scala#L52</a></p>\n<p>Streaming the entire file eliminates the need for &quot;manual chunking&quot;, thus the example above will run with limited heap size.</p>\n<p>However, if needed manual chunking could be done like this:</p>\n<pre><code>  val fileInputStream = new FileInputStream(fileHandle.absolutePath)\n  val chunked: Source[ByteString, Future[IOResult]] = akka.stream.scaladsl.StreamConverters\n    .fromInputStream(() =&gt; fileInputStream, chunkSize = 10 * 1024)\n      chunked.map(each =&gt; println(each)).runWith(Sink.ignore)\n</code></pre>\n"}],"owner":{"account_id":1050987,"reputation":8285,"user_id":1054937,"accept_rate":88,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669795862,"creation_date":1654793053,"question_id":72563909,"body_markdown":"I am reading parts of large file via a Java FileInputStream and would like to stream it&#39;s content back to the client (in the form of an akka HttpResponse). I am wondering if this is possible, and how I would do this?\r\n\r\nFrom my research, EntityStreamingSupport can be used but only supports json or csv data. I will be streaming raw data from the file, which will not be in the form of json or csv.","title":"Use akka to stream contents of streaming file as a HttpResponse","body":"<p>I am reading parts of large file via a Java FileInputStream and would like to stream it's content back to the client (in the form of an akka HttpResponse). I am wondering if this is possible, and how I would do this?</p>\n<p>From my research, EntityStreamingSupport can be used but only supports json or csv data. I will be streaming raw data from the file, which will not be in the form of json or csv.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669794853,"post_id":74624404,"comment_id":131721539,"body_markdown":"It would help if you&#39;d share the relevant portions of the json as well. My guess would be that `&quot;groups&quot;` isn&#39;t an array but a single value.","body":"It would help if you&#39;d share the relevant portions of the json as well. My guess would be that <code>&quot;groups&quot;</code> isn&#39;t an array but a single value."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669795074,"post_id":74624404,"comment_id":131721614,"body_markdown":"have you checked what data.get(&quot;groups&quot;); returns?","body":"have you checked what data.get(&quot;groups&quot;); returns?"},{"owner":{"account_id":27095362,"reputation":1,"user_id":20642646,"display_name":"Karl Parneix"},"score":0,"creation_date":1669796057,"post_id":74624404,"comment_id":131721887,"body_markdown":"@Stultuske data.get(&quot;groups&quot;) return a String, but if there are multiple groups, it should return a string as well ? data in sql: &#39;{&quot;super&quot;:false,&quot;privileges&quot;:[],&quot;groups&quot;:&quot;Group1&quot;,&quot;suffix&quot;:null,&quot;prefix&quot;:null}&#39; .","body":"@Stultuske data.get(&quot;groups&quot;) return a String, but if there are multiple groups, it should return a string as well ? data in sql: &#39;{&quot;super&quot;:false,&quot;privileges&quot;:[],&quot;groups&quot;:&quot;Group1&quot;,&quot;suffix&quot;:n&zwnj;&#8203;ull,&quot;prefix&quot;:null}&#39; ."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669796170,"post_id":74624404,"comment_id":131721921,"body_markdown":"yes, but &quot;hello&quot;, is also a String. Yet it is one that can not be cast into a JSon array.","body":"yes, but &quot;hello&quot;, is also a String. Yet it is one that can not be cast into a JSon array."},{"owner":{"account_id":27095362,"reputation":1,"user_id":20642646,"display_name":"Karl Parneix"},"score":0,"creation_date":1669796594,"post_id":74624404,"comment_id":131722047,"body_markdown":"@Stultuske what is the solution ? Want me to show you the output of data.get(&quot;groups&quot;)?","body":"@Stultuske what is the solution ? Want me to show you the output of data.get(&quot;groups&quot;)?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669797010,"post_id":74624404,"comment_id":131722163,"body_markdown":"the solution is assuming that not all your responses can be cast to a json array. Either test beforehand whether the syntax is valid for a json array, or add a try-catch block around it. or, change it so that you&#39;ll always have a valid json array returned","body":"the solution is assuming that not all your responses can be cast to a json array. Either test beforehand whether the syntax is valid for a json array, or add a try-catch block around it. or, change it so that you&#39;ll always have a valid json array returned"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1669811947,"post_id":74624404,"comment_id":131727203,"body_markdown":"Based on the example in the comments above, the `data.groups` key maps to a String - the example showing `{..,&quot;groups&quot;:&quot;Group1&quot;,..}`.  It is _NOT_ an array so you cannot cast it into one. If the data is supposed to be an array then the form for a single entry should be  `[&quot;Group1&quot;]`.  The String may be a comma-separated list of values but it is just a String in JSON.\n\nConsider adding the sample JSON to the question.","body":"Based on the example in the comments above, the <code>data.groups</code> key maps to a String - the example showing <code>{..,&quot;groups&quot;:&quot;Group1&quot;,..}</code>.  It is <i>NOT</i> an array so you cannot cast it into one. If the data is supposed to be an array then the form for a single entry should be  <code>[&quot;Group1&quot;]</code>.  The String may be a comma-separated list of values but it is just a String in JSON.  Consider adding the sample JSON to the question."}],"owner":{"account_id":27095362,"reputation":1,"user_id":20642646,"display_name":"Karl Parneix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669795803,"creation_date":1669794637,"question_id":74624404,"body_markdown":"I have a problem with JSON, which gives me a casting error on a string. I had already used this code in the past and no error, and I reuse it and boom x)\r\n\r\nHere is the line with error:\r\n\r\n```\r\nJSONArray groups = (JSONArray) data.get(&quot;groups&quot;);\r\n```\r\n\r\nI show you the whole code (the first 3 variables come from a database):\r\n\r\n```\r\nString name = set.getString(&quot;name&quot;);\r\nUUID uuid = UUID.fromString(set.getString(&quot;uuid&quot;));\r\nString json = set.getString(&quot;data&quot;);\r\n\r\nJSONParser parser = new JSONParser();\r\n\r\nObject obj = parser.parse(json);\r\nJSONObject data = (JSONObject) obj;\r\n\r\nString prefix = (String) data.get(&quot;prefix&quot;);\r\nString suffix = (String) data.get(&quot;suffix&quot;);\r\nboolean superUser = (boolean) data.get(&quot;super&quot;);\r\n\r\nJSONArray privileges = (JSONArray) data.get(&quot;privileges&quot;);\r\nJSONArray groups = (JSONArray) data.get(&quot;groups&quot;);\r\n```\r\n\r\nPS: I have already searched the internet for the same problem but it is frequently with JSONObject and not JSONArray.\r\n","title":"String cannot be cast to JSONArray","body":"<p>I have a problem with JSON, which gives me a casting error on a string. I had already used this code in the past and no error, and I reuse it and boom x)</p>\n<p>Here is the line with error:</p>\n<pre><code>JSONArray groups = (JSONArray) data.get(&quot;groups&quot;);\n</code></pre>\n<p>I show you the whole code (the first 3 variables come from a database):</p>\n<pre><code>String name = set.getString(&quot;name&quot;);\nUUID uuid = UUID.fromString(set.getString(&quot;uuid&quot;));\nString json = set.getString(&quot;data&quot;);\n\nJSONParser parser = new JSONParser();\n\nObject obj = parser.parse(json);\nJSONObject data = (JSONObject) obj;\n\nString prefix = (String) data.get(&quot;prefix&quot;);\nString suffix = (String) data.get(&quot;suffix&quot;);\nboolean superUser = (boolean) data.get(&quot;super&quot;);\n\nJSONArray privileges = (JSONArray) data.get(&quot;privileges&quot;);\nJSONArray groups = (JSONArray) data.get(&quot;groups&quot;);\n</code></pre>\n<p>PS: I have already searched the internet for the same problem but it is frequently with JSONObject and not JSONArray.</p>\n"},{"tags":["java","jmeter","jvm","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669795674,"creation_date":1669795674,"answer_id":74624595,"question_id":74624087,"body_markdown":"Most probably you&#39;re seeing so called [Stop-The-World][1]\r\n\r\nThere are garbage collection algorithms like:\r\n\r\n - [ZGC][2]\r\n - [Shenandoah][3]\r\n - [C4][4]\r\n\r\nwhich can work without full stops in incremental way, however this way you might experience lower throughput \r\n\r\nIn general 32 GB of heap space might be an overkill, as per [Optimal Heap Size][5] chapter\r\n\r\n&gt;**If the occupancy of the Java heap is too high, garbage collection occurs frequently. If the occupancy is low, garbage collection is infrequent but lasts longer.**.. Try to keep the memory occupancy of the Java heap between 40% and 70% of the Java heap size... The highest point of occupancy of the Java heap is preferably not above 70% of the maximum heap size, and the average occupancy is between 40% and 70% occupancy. If the occupancy goes over 70%, resize the Java heap\r\n\r\n\r\nThere is no universal recipe, each test is individual and unique and you need to tune JVM parameters for each test separately (just make sure that the tests are still [repeatable][6], to wit use the same JVM configuration for re-running the tests)\r\n\r\nMore information:\r\n\r\n - [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][7]\r\n - [Garbage collection in HotSpot JVM][8] \r\n - [Java Garbage Collection Basics][9]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16695874/why-does-the-jvm-full-gc-need-to-stop-the-world\r\n  [2]: https://openjdk.java.net/jeps/333\r\n  [3]: https://openjdk.java.net/jeps/189\r\n  [4]: http://www.azulsystems.com/sites/default/files/images/c4_paper_acm.pdf\r\n  [5]: https://publib.boulder.ibm.com/httpserv/cookbook/Java.html#Java-Garbage_Collection-Optimal_Heap_Size\r\n  [6]: https://en.wikipedia.org/wiki/Repeatability\r\n  [7]: https://www.blazemeter.com/blog/jmeter-memory-profiling\r\n  [8]: http://blog.ragozin.info/2011/12/garbage-collection-in-hotspot-jvm.html\r\n  [9]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html","title":"Jmeter Injector Heap size","body":"<p>Most probably you're seeing so called <a href=\"https://stackoverflow.com/questions/16695874/why-does-the-jvm-full-gc-need-to-stop-the-world\">Stop-The-World</a></p>\n<p>There are garbage collection algorithms like:</p>\n<ul>\n<li><a href=\"https://openjdk.java.net/jeps/333\" rel=\"nofollow noreferrer\">ZGC</a></li>\n<li><a href=\"https://openjdk.java.net/jeps/189\" rel=\"nofollow noreferrer\">Shenandoah</a></li>\n<li><a href=\"http://www.azulsystems.com/sites/default/files/images/c4_paper_acm.pdf\" rel=\"nofollow noreferrer\">C4</a></li>\n</ul>\n<p>which can work without full stops in incremental way, however this way you might experience lower throughput</p>\n<p>In general 32 GB of heap space might be an overkill, as per <a href=\"https://publib.boulder.ibm.com/httpserv/cookbook/Java.html#Java-Garbage_Collection-Optimal_Heap_Size\" rel=\"nofollow noreferrer\">Optimal Heap Size</a> chapter</p>\n<blockquote>\n<p><strong>If the occupancy of the Java heap is too high, garbage collection occurs frequently. If the occupancy is low, garbage collection is infrequent but lasts longer.</strong>.. Try to keep the memory occupancy of the Java heap between 40% and 70% of the Java heap size... The highest point of occupancy of the Java heap is preferably not above 70% of the maximum heap size, and the average occupancy is between 40% and 70% occupancy. If the occupancy goes over 70%, resize the Java heap</p>\n</blockquote>\n<p>There is no universal recipe, each test is individual and unique and you need to tune JVM parameters for each test separately (just make sure that the tests are still <a href=\"https://en.wikipedia.org/wiki/Repeatability\" rel=\"nofollow noreferrer\">repeatable</a>, to wit use the same JVM configuration for re-running the tests)</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-memory-profiling\" rel=\"nofollow noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a></li>\n<li><a href=\"http://blog.ragozin.info/2011/12/garbage-collection-in-hotspot-jvm.html\" rel=\"nofollow noreferrer\">Garbage collection in HotSpot JVM</a></li>\n<li><a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">Java Garbage Collection Basics</a></li>\n</ul>\n"}],"owner":{"account_id":26161416,"reputation":19,"user_id":19847889,"display_name":"POTL12345"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624595,"answer_count":1,"score":0,"last_activity_date":1669795674,"creation_date":1669792680,"question_id":74624087,"body_markdown":"We have a jmeter injector box which uses 32GB heap size for jmeter jvm. When running load tests we noticed a big dip in injecting load when GC activity happens. Anyone experienced this before? Which GC algorithm we can use here??","title":"Jmeter Injector Heap size","body":"<p>We have a jmeter injector box which uses 32GB heap size for jmeter jvm. When running load tests we noticed a big dip in injecting load when GC activity happens. Anyone experienced this before? Which GC algorithm we can use here??</p>\n"},{"tags":["javascript","java","javafx","javafx-webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669782096,"post_id":74619212,"comment_id":131718942,"body_markdown":"Related [example for Java/WebView JavaScript interaction](https://stackoverflow.com/a/74310505/1155209).","body":"Related <a href=\"https://stackoverflow.com/a/74310505/1155209\">example for Java/WebView JavaScript interaction</a>."},{"owner":{"account_id":9224627,"reputation":1,"user_id":6852811,"display_name":"Izzaz "},"score":1,"creation_date":1669790229,"post_id":74619212,"comment_id":131720373,"body_markdown":"@jewelsea I have fixed the code to make it more minimal and reproducible. Regarding your comment on the styleSheet, it seems to be able to read both stylesheets.","body":"@jewelsea I have fixed the code to make it more minimal and reproducible. Regarding your comment on the styleSheet, it seems to be able to read both stylesheets."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669796969,"post_id":74619212,"comment_id":131722155,"body_markdown":"You don&#39;t need to call `reload` on the `WebEngine`.  Calling `loadContent` with new content alone is enough to have it load a new document.  I don&#39;t think that is your core issue though (I haven&#39;t had a chance to try your code).","body":"You don&#39;t need to call <code>reload</code> on the <code>WebEngine</code>.  Calling <code>loadContent</code> with new content alone is enough to have it load a new document.  I don&#39;t think that is your core issue though (I haven&#39;t had a chance to try your code)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669797369,"post_id":74619212,"comment_id":131722268,"body_markdown":"Do you have a modular app?  Do you define a `module-info.java`?  If so, do you open the module to `javafx.web` as noted in the [`WebEngine` documentation](https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebEngine.html) section &quot;Deploying an Application as a Module&quot;.","body":"Do you have a modular app?  Do you define a <code>module-info.java</code>?  If so, do you open the module to <code>javafx.web</code> as noted in the <a href=\"https://openjfx.io/javadoc/19/javafx.web/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\"><code>WebEngine</code> documentation</a> section &quot;Deploying an Application as a Module&quot;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669797636,"post_id":74619212,"comment_id":131722343,"body_markdown":"You can get [debug info in WebView you can use the (caution internal API) WebConsoleListener](https://stackoverflow.com/questions/57167872/webconsolelistener-illegalaccesserror-in-javafx-12). Also see related info and [JavaFX 8 WebEngine: How to get console.log() from javascript to System.out in java?](https://stackoverflow.com/questions/28687640/javafx-8-webengine-how-to-get-console-log-from-javascript-to-system-out-in-ja). I haven&#39;t tried the solution from the JavaFX 8 question.","body":"You can get <a href=\"https://stackoverflow.com/questions/57167872/webconsolelistener-illegalaccesserror-in-javafx-12\">debug info in WebView you can use the (caution internal API) WebConsoleListener</a>. Also see related info and <a href=\"https://stackoverflow.com/questions/28687640/javafx-8-webengine-how-to-get-console-log-from-javascript-to-system-out-in-ja\">JavaFX 8 WebEngine: How to get console.log() from javascript to System.out in java?</a>. I haven&#39;t tried the solution from the JavaFX 8 question."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1669799075,"post_id":74619212,"comment_id":131722802,"body_markdown":"Maybe the `a` element in the JavaScript is causing the engine to load the anchor (which points to the existing page rather than your newly loaded page), reloading the existing page.  See [Including both href and onclick to HTML &lt;a&gt; tag](https://stackoverflow.com/questions/14867558/including-both-href-and-onclick-to-html-a-tag).  Maybe get rid of the `&lt;a&gt;` element and just put its text directly in the `div` that you defined your `onclick` handler for (I did not try this, just speculating).","body":"Maybe the <code>a</code> element in the JavaScript is causing the engine to load the anchor (which points to the existing page rather than your newly loaded page), reloading the existing page.  See <a href=\"https://stackoverflow.com/questions/14867558/including-both-href-and-onclick-to-html-a-tag\">Including both href and onclick to HTML &lt;a&gt; tag</a>.  Maybe get rid of the <code>&lt;a&gt;</code> element and just put its text directly in the <code>div</code> that you defined your <code>onclick</code> handler for (I did not try this, just speculating)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1669813165,"post_id":74619212,"comment_id":131727616,"body_markdown":"Implementing this in HTML/JS and displaying it in a `WebView` seems a strange way to go. Why not just implement it all in JavaFX? Anyway, either way, please create and post a [mre].","body":"Implementing this in HTML/JS and displaying it in a <code>WebView</code> seems a strange way to go. Why not just implement it all in JavaFX? Anyway, either way, please create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":9224627,"reputation":1,"user_id":6852811,"display_name":"Izzaz "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669795409,"creation_date":1669749580,"question_id":74619212,"body_markdown":"I am creating an AppDrawer (all in one place to launch shortcuts). \r\n\r\nMy `JSCallBack` bridge class has a method that should delete a shortcut, then refresh the page.  But, it is unable to successfully refresh the page.\r\n\r\n*AppDrawerMain.java*\r\n\r\n```\r\npublic class AppDrawerMain extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(AppDrawerMain.class.getResource(&quot;main.fxml&quot;));\r\n        Parent root = (Parent) fxmlLoader.load();\r\n\r\n        Scene scene = new Scene(root, 1280, 720);\r\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n        scene.getStylesheets().add(css);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n*AppDrawerController.java*\r\n\r\n```\r\npublic class AppDrawerController implements Initializable {\r\n    @FXML\r\n    private Button refreshButton;\r\n\r\n    @FXML\r\n    private WebView webView;\r\n\r\n    WebEngine webEngine;\r\n    JSCallBack jsCallBack;\r\n    \r\n    //this function essentially generates the html code for the webview\r\n    public String loadApps(){\r\n        return &quot;&lt;div class=\\&quot;container\\&quot;&gt;&lt;img src=\\&quot;file:/&quot;+imagePath+&quot;\\&quot;/&gt;&lt;p class=\\&quot;title\\&quot;&gt;&quot;+displayName+&quot;&lt;/p&gt;&lt;div class=\\&quot;overlay\\&quot;&gt;&lt;/div&gt;&lt;div class=\\&quot;button-open\\&quot; onclick=\\&quot;app.processOnClickOpen(\\&#39;&quot;+id+&quot;\\&#39;)\\&quot;&gt;&lt;a href=\\&quot;#\\&quot;&gt; Open &lt;/a&gt;&lt;/div&gt;&lt;div class=\\&quot;button-option\\&quot; onclick=\\&quot;app.processOnClickOption(\\&#39;&quot;+id+&quot;\\&#39;)\\&quot;&gt;&lt;a href=\\&quot;#\\&quot;&gt; Edit &lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&quot;\r\n    }\r\n   \r\n    //refresh the page\r\n    private void refreshPage(String html){\r\n        webEngine.loadContent(html);\r\n        webEngine.reload();\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        refreshButton.setOnAction(event -&gt; {\r\n            refreshPage(loadApps());\r\n        });\r\n        webEngine = webView.getEngine();\r\n        webEngine.getLoadWorker().stateProperty().addListener((obs, oldValue, newValue)-&gt; {\r\n            if (newValue == Worker.State.SUCCEEDED) {\r\n                JSObject jsObject = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n                jsCallBack = new JSCallBack(webEngine); //declared this way to avoid GC\r\n                jsObject.setMember(&quot;app&quot;, jsCallBack);\r\n            }\r\n        });\r\n        webEngine.setJavaScriptEnabled(true);\r\n        var html = loadApps();\r\n        webEngine.loadContent(html);\r\n    }\r\n\r\n    //The bridge class\r\n    public class JSCallBack {\r\n        protected JSCallBack() {}\r\n\r\n        //no refresh needed here\r\n        public void processOnClickOpen(String id) {\r\n            log(&quot;Before open&quot;); \r\n            onAppOpen(id);\r\n            log(&quot;After open&quot;);\r\n        }\r\n\r\n        //The part that isnt working\r\n        public void processOnClickOption(String id) {\r\n            //deleting the apps works fine\r\n            webEngine.loadContent(loadApps()+loadApps()); //trying to refresh the page isnt fine\r\n            webEngine.reload();           \r\n        }  \r\n    }\r\n}\r\n```\r\n\r\nThe problem I am having is here:\r\n\r\n```\r\npublic void processOnClickOption(String id) {          \r\n    //refreshPage(loadApps()+loadApps()) (not working either)\r\n    //refreshButton.fire() (not working either)\r\n    webEngine.loadContent(loadApps()+loadApps()); //trying to refresh the page isnt fine\r\n    webEngine.reload(); //not working   \r\n}\r\n```\r\n\r\n1. I tried adding `location.reload()` to the JavaScript function in the script itself, but it did not work. \r\n\r\n2. I tried adding the `refreshButton.fire()` to the `processOnClickOption()`, which should reload the page if clicked on manually, but it did work either. \r\n\r\n3. I tried to set a new WebEngine in the bridge class itself. Also, it did not work.\r\n\r\n4. I added a log to see if there was an issue with threading, but `WebEngine` mentions that it was on the JavaFX Application thread, so that is not the problem either.\r\n\r\nThis is the main `WebView`:\r\n\r\n[![webview][1]][1]\r\n\r\nIf I click on the edit button, it should remove it from the `WebView` and refresh the page like this expected outcome:\r\n\r\n[![outcome][2]][2]\r\n\r\nUnfortunately, after clicking the edit button it will delete the files on the backend side, but the WebView is not refreshed, so the app stays there. I would like to get help on this.\r\n\r\n  [1]: https://i.stack.imgur.com/QliKU.png\r\n  [2]: https://i.stack.imgur.com/y85hr.png","title":"Refresh WebView contents from a JS bridge in JavaFX","body":"<p>I am creating an AppDrawer (all in one place to launch shortcuts).</p>\n<p>My <code>JSCallBack</code> bridge class has a method that should delete a shortcut, then refresh the page.  But, it is unable to successfully refresh the page.</p>\n<p><em>AppDrawerMain.java</em></p>\n<pre><code>public class AppDrawerMain extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(AppDrawerMain.class.getResource(&quot;main.fxml&quot;));\n        Parent root = (Parent) fxmlLoader.load();\n\n        Scene scene = new Scene(root, 1280, 720);\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n        scene.getStylesheets().add(css);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><em>AppDrawerController.java</em></p>\n<pre><code>public class AppDrawerController implements Initializable {\n    @FXML\n    private Button refreshButton;\n\n    @FXML\n    private WebView webView;\n\n    WebEngine webEngine;\n    JSCallBack jsCallBack;\n    \n    //this function essentially generates the html code for the webview\n    public String loadApps(){\n        return &quot;&lt;div class=\\&quot;container\\&quot;&gt;&lt;img src=\\&quot;file:/&quot;+imagePath+&quot;\\&quot;/&gt;&lt;p class=\\&quot;title\\&quot;&gt;&quot;+displayName+&quot;&lt;/p&gt;&lt;div class=\\&quot;overlay\\&quot;&gt;&lt;/div&gt;&lt;div class=\\&quot;button-open\\&quot; onclick=\\&quot;app.processOnClickOpen(\\'&quot;+id+&quot;\\')\\&quot;&gt;&lt;a href=\\&quot;#\\&quot;&gt; Open &lt;/a&gt;&lt;/div&gt;&lt;div class=\\&quot;button-option\\&quot; onclick=\\&quot;app.processOnClickOption(\\'&quot;+id+&quot;\\')\\&quot;&gt;&lt;a href=\\&quot;#\\&quot;&gt; Edit &lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&quot;\n    }\n   \n    //refresh the page\n    private void refreshPage(String html){\n        webEngine.loadContent(html);\n        webEngine.reload();\n    }\n\n    @SneakyThrows\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        refreshButton.setOnAction(event -&gt; {\n            refreshPage(loadApps());\n        });\n        webEngine = webView.getEngine();\n        webEngine.getLoadWorker().stateProperty().addListener((obs, oldValue, newValue)-&gt; {\n            if (newValue == Worker.State.SUCCEEDED) {\n                JSObject jsObject = (JSObject) webEngine.executeScript(&quot;window&quot;);\n                jsCallBack = new JSCallBack(webEngine); //declared this way to avoid GC\n                jsObject.setMember(&quot;app&quot;, jsCallBack);\n            }\n        });\n        webEngine.setJavaScriptEnabled(true);\n        var html = loadApps();\n        webEngine.loadContent(html);\n    }\n\n    //The bridge class\n    public class JSCallBack {\n        protected JSCallBack() {}\n\n        //no refresh needed here\n        public void processOnClickOpen(String id) {\n            log(&quot;Before open&quot;); \n            onAppOpen(id);\n            log(&quot;After open&quot;);\n        }\n\n        //The part that isnt working\n        public void processOnClickOption(String id) {\n            //deleting the apps works fine\n            webEngine.loadContent(loadApps()+loadApps()); //trying to refresh the page isnt fine\n            webEngine.reload();           \n        }  \n    }\n}\n</code></pre>\n<p>The problem I am having is here:</p>\n<pre><code>public void processOnClickOption(String id) {          \n    //refreshPage(loadApps()+loadApps()) (not working either)\n    //refreshButton.fire() (not working either)\n    webEngine.loadContent(loadApps()+loadApps()); //trying to refresh the page isnt fine\n    webEngine.reload(); //not working   \n}\n</code></pre>\n<ol>\n<li><p>I tried adding <code>location.reload()</code> to the JavaScript function in the script itself, but it did not work.</p>\n</li>\n<li><p>I tried adding the <code>refreshButton.fire()</code> to the <code>processOnClickOption()</code>, which should reload the page if clicked on manually, but it did work either.</p>\n</li>\n<li><p>I tried to set a new WebEngine in the bridge class itself. Also, it did not work.</p>\n</li>\n<li><p>I added a log to see if there was an issue with threading, but <code>WebEngine</code> mentions that it was on the JavaFX Application thread, so that is not the problem either.</p>\n</li>\n</ol>\n<p>This is the main <code>WebView</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/QliKU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QliKU.png\" alt=\"webview\" /></a></p>\n<p>If I click on the edit button, it should remove it from the <code>WebView</code> and refresh the page like this expected outcome:</p>\n<p><a href=\"https://i.stack.imgur.com/y85hr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y85hr.png\" alt=\"outcome\" /></a></p>\n<p>Unfortunately, after clicking the edit button it will delete the files on the backend side, but the WebView is not refreshed, so the app stays there. I would like to get help on this.</p>\n"},{"tags":["java","arrays","for-loop","arraylist","methods"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669746463,"creation_date":1669744955,"answer_id":74618385,"question_id":74618192,"body_markdown":"To update the list while iterating over its indices, you can use method [`List.add(int&#160;index, E&#160;element)`][add], which expects an index and a new element to insert.\r\n\r\nWhile iterating, you need to compare two adjacent elements and insert a new one under the following conditions:\r\n\r\n* Left element is less than the right one and difference between them is greater than `1`. A new element should be equal `left + 1`.\r\n\r\n* Left element is greater than the right one, and they differ more than by `1`. A new element should be equal `left - 1`.\r\n\r\nAlso have a look at the nicely illustrated [answer][ansYezper] by *@yezper*. And as a general advice: draw before coding in order to understand the algorithm better.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public static void fillList(List&lt;Integer&gt; list) {\r\n        for (int i = 0; i &lt; list.size() - 1; i++) {\r\n            int left = list.get(i);\r\n            int right = list.get(i + 1);\r\n            if (left &lt; right &amp;&amp; left + 1 != right) {\r\n                list.add(i + 1, left + 1);\r\n            } else if (left &gt; right &amp;&amp; left - 1 != right) {\r\n                list.add(i + 1, left - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(List.of(4, 8, 5, 9));\r\n        fillList(list1);\r\n        System.out.println(list1);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[4, 5, 6, 7, 8, 7, 6, 5, 6, 7, 8, 9]\r\n```\r\n\r\n\r\n\r\n   [add]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(int,E)\r\n\r\n   [ansYezper]: https://stackoverflow.com/a/74618561/17949945","title":"Method that fills the gap between an ArrayList in Java","body":"<p>To update the list while iterating over its indices, you can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(int,E)\" rel=\"nofollow noreferrer\"><code>List.add(int index, E element)</code></a>, which expects an index and a new element to insert.</p>\n<p>While iterating, you need to compare two adjacent elements and insert a new one under the following conditions:</p>\n<ul>\n<li><p>Left element is less than the right one and difference between them is greater than <code>1</code>. A new element should be equal <code>left + 1</code>.</p>\n</li>\n<li><p>Left element is greater than the right one, and they differ more than by <code>1</code>. A new element should be equal <code>left - 1</code>.</p>\n</li>\n</ul>\n<p>Also have a look at the nicely illustrated <a href=\"https://stackoverflow.com/a/74618561/17949945\">answer</a> by <em>@yezper</em>. And as a general advice: draw before coding in order to understand the algorithm better.</p>\n<p>That's how implementation might look like:</p>\n<pre><code>public static void fillList(List&lt;Integer&gt; list) {\n    for (int i = 0; i &lt; list.size() - 1; i++) {\n        int left = list.get(i);\n        int right = list.get(i + 1);\n        if (left &lt; right &amp;&amp; left + 1 != right) {\n            list.add(i + 1, left + 1);\n        } else if (left &gt; right &amp;&amp; left - 1 != right) {\n            list.add(i + 1, left - 1);\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(List.of(4, 8, 5, 9));\n    fillList(list1);\n    System.out.println(list1);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[4, 5, 6, 7, 8, 7, 6, 5, 6, 7, 8, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669795199,"creation_date":1669745847,"answer_id":74618561,"question_id":74618192,"body_markdown":"Great question, I think you can learn alot by working this one out and really understanding every single line. I have made a litte illutration for you, to visualize the problem better. Hope this can help you. General tips:\r\n\r\n - variables are always lowercase by convention so write `list` instead of `List`\r\n - `list.add(5)` will add the number 5 to the **end** of your ArrayList. You can use `list.add(4, 5)` for example to insert the number 5 into the array position 4.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1btC.jpg","title":"Method that fills the gap between an ArrayList in Java","body":"<p>Great question, I think you can learn alot by working this one out and really understanding every single line. I have made a litte illutration for you, to visualize the problem better. Hope this can help you. General tips:</p>\n<ul>\n<li>variables are always lowercase by convention so write <code>list</code> instead of <code>List</code></li>\n<li><code>list.add(5)</code> will add the number 5 to the <strong>end</strong> of your ArrayList. You can use <code>list.add(4, 5)</code> for example to insert the number 5 into the array position 4.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/j1btC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j1btC.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74618385,"answer_count":2,"score":3,"last_activity_date":1669795199,"creation_date":1669743981,"question_id":74618192,"body_markdown":"I&#39;m making a method called fillList. The method will require an arrayList&lt;Integer&gt; in order to work and the output will be void. \r\nWhat the method is supposed to do is to fill the gaps between the numbers of the List. \r\n\r\nExample: \r\n\r\nInput:\r\n```\r\n4 8 5 9\r\n```\r\n\r\nOutput:\r\n```\r\n4 5 6 7 8 7 6 5 6 7 8 9\r\n```\r\n\r\nThe code I have so far is this: \r\n\r\n```\r\npublic static void fillList(ArrayList&lt;Integer&gt; List) {\r\n        for(int i = 0; i &lt; List.size(); i++) {\r\n           if(List.get(i) &lt; List.get(i+1) ) {\r\n             List.add(List.get(i+1));\r\n           }  else if(List.get(i) &gt; List.get(i+1)) {\r\n               List.add(List.get(i-1));\r\n           }\r\n        }\r\n    } \r\n```\r\n\r\nMy idea was to add 1 to the value of the first element if the first element was less than the second element in the List. For example if the first element is ```4``` then the code would add a ```5``` to the list and stop once the number added was equal to one less than the second element. And basically do the opposite if the first element was more than the second element. \r\n\r\nI don&#39;t know how to stop this loop until the numbers that are being added reach the second element of the list. I am not confident about my code as well I&#39;m pretty sure I am making an error I&#39;m not seeing.  \r\n\r\n","title":"Method that fills the gap between an ArrayList in Java","body":"<p>I'm making a method called fillList. The method will require an arrayList in order to work and the output will be void.\nWhat the method is supposed to do is to fill the gaps between the numbers of the List.</p>\n<p>Example:</p>\n<p>Input:</p>\n<pre><code>4 8 5 9\n</code></pre>\n<p>Output:</p>\n<pre><code>4 5 6 7 8 7 6 5 6 7 8 9\n</code></pre>\n<p>The code I have so far is this:</p>\n<pre><code>public static void fillList(ArrayList&lt;Integer&gt; List) {\n        for(int i = 0; i &lt; List.size(); i++) {\n           if(List.get(i) &lt; List.get(i+1) ) {\n             List.add(List.get(i+1));\n           }  else if(List.get(i) &gt; List.get(i+1)) {\n               List.add(List.get(i-1));\n           }\n        }\n    } \n</code></pre>\n<p>My idea was to add 1 to the value of the first element if the first element was less than the second element in the List. For example if the first element is <code>4</code> then the code would add a <code>5</code> to the list and stop once the number added was equal to one less than the second element. And basically do the opposite if the first element was more than the second element.</p>\n<p>I don't know how to stop this loop until the numbers that are being added reach the second element of the list. I am not confident about my code as well I'm pretty sure I am making an error I'm not seeing.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669793544,"post_id":74624204,"comment_id":131721205,"body_markdown":"have you checked the Object class whether or not it has a &#39;getId()&#39; method? your return statement isn&#39;t going through the getClass() and all of that. it just goes looking for that method in the Object class, since that is what item is declared to be","body":"have you checked the Object class whether or not it has a &#39;getId()&#39; method? your return statement isn&#39;t going through the getClass() and all of that. it just goes looking for that method in the Object class, since that is what item is declared to be"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669793633,"post_id":74624204,"comment_id":131721222,"body_markdown":"Proper way would be using an interface enforcing the presence of getId().","body":"Proper way would be using an interface enforcing the presence of getId()."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669793680,"post_id":74624204,"comment_id":131721235,"body_markdown":"You can&#39;t call `item.getId()` on `Object` just like this. If yousing reflection you&#39;d need to use `Method.invoke(item)` to call the method you&#39;ve found. But reflection doesn&#39;t seem like a good solution here, can&#39;t you add a common interface to those classes that exposes the `getId()` method? That way you&#39;d probably not even need that `getObjectId()` method in the first place.","body":"You can&#39;t call <code>item.getId()</code> on <code>Object</code> just like this. If yousing reflection you&#39;d need to use <code>Method.invoke(item)</code> to call the method you&#39;ve found. But reflection doesn&#39;t seem like a good solution here, can&#39;t you add a common interface to those classes that exposes the <code>getId()</code> method? That way you&#39;d probably not even need that <code>getObjectId()</code> method in the first place."},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":0,"creation_date":1669793766,"post_id":74624204,"comment_id":131721261,"body_markdown":"I believe it doesn&#39;t https://developer.classpath.org/doc/java/lang/Object-source.html\n\nHmmm a good point though. Maybe I can rename getId() by an identity function that exists in Object","body":"I believe it doesn&#39;t <a href=\"https://developer.classpath.org/doc/java/lang/Object-source.html\" rel=\"nofollow noreferrer\">developer.classpath.org/doc/java/lang/Object-source.html</a>  Hmmm a good point though. Maybe I can rename getId() by an identity function that exists in Object"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669793891,"post_id":74624204,"comment_id":131721306,"body_markdown":"@JennyR in that case, you change the functionality of your code, and it won&#39;t make sense to have it anymore","body":"@JennyR in that case, you change the functionality of your code, and it won&#39;t make sense to have it anymore"},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":1,"creation_date":1669794222,"post_id":74624204,"comment_id":131721384,"body_markdown":"Hi Bishan, thanks for the suggestion! The incoming items are from a large variety of classes, many of them already had interface or parent classes, not easy to just just add an interface for all.","body":"Hi Bishan, thanks for the suggestion! The incoming items are from a large variety of classes, many of them already had interface or parent classes, not easy to just just add an interface for all."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1669795339,"post_id":74624204,"comment_id":131721680,"body_markdown":"@JennyR Classes can implement multiple interfaces. I wouldn&#39;t be afraid of changing a lot of classes if it is the correct thing to do.","body":"@JennyR Classes can implement multiple interfaces. I wouldn&#39;t be afraid of changing a lot of classes if it is the correct thing to do."}],"answers":[{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669794528,"creation_date":1669793853,"answer_id":74624279,"question_id":74624204,"body_markdown":"when you call `item.getId();` java do not know what is the exact type of your object and as a result it does not know what is your object type. Even you checked it previously using reflection.\r\n 1. If you want to call `getId` method from object, this snippet can help you:\r\n```\r\nMethod getIdMethod = item.getClass().getMethod(&quot;getId&quot;);\r\nObject result = getIdMethod.invoke(item);\r\nreturn result == null? null: result.toString();\r\n```\r\n 2. If all of your objects has `getId()` method, you can change your code without using reflection:\r\n ```\r\npublic interface Identifiable {\r\n\tString getId();\r\n\r\n\tvoid setId(String value);\r\n}\r\n\r\nclass A implements Identifiable {\r\n...\r\n}\r\n\r\nclass B implements Identifiable {\r\n\r\n}\r\n\r\n```\r\nExample of usage:\r\n```\r\nCollection&lt;? extends Identifiable&gt; coll = new ArrayList&lt;&gt;();\r\n...\r\ncoll.stream().map(Identifiable::getId).collect(Collectors.toList());\r\n```","title":"How to call a method from a Java generic object?","body":"<p>when you call <code>item.getId();</code> java do not know what is the exact type of your object and as a result it does not know what is your object type. Even you checked it previously using reflection.</p>\n<ol>\n<li>If you want to call <code>getId</code> method from object, this snippet can help you:</li>\n</ol>\n<pre><code>Method getIdMethod = item.getClass().getMethod(&quot;getId&quot;);\nObject result = getIdMethod.invoke(item);\nreturn result == null? null: result.toString();\n</code></pre>\n<ol start=\"2\">\n<li>If all of your objects has <code>getId()</code> method, you can change your code without using reflection:</li>\n</ol>\n<pre><code>public interface Identifiable {\n   String getId();\n\n   void setId(String value);\n}\n\nclass A implements Identifiable {\n...\n}\n\nclass B implements Identifiable {\n\n}\n\n</code></pre>\n<p>Example of usage:</p>\n<pre><code>Collection&lt;? extends Identifiable&gt; coll = new ArrayList&lt;&gt;();\n...\ncoll.stream().map(Identifiable::getId).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3491975,"reputation":1562,"user_id":2921426,"accept_rate":64,"display_name":"SimonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669794665,"creation_date":1669794665,"answer_id":74624410,"question_id":74624204,"body_markdown":"Too long for comment, so it&#39;ll be an answer.\r\n\r\nIn your case, what I would do, as others have already suggested, is use base types.\r\n\r\nSay you have the following base types (interfaces, abstract classes):\r\n\r\n`IMyInterface`, `MyAbstractClass`, `IGetInfo`.\r\n\r\n```java\r\npackage com.me;\r\n\r\npublic class MyWorker implements IGetInfo {\r\n\r\n    public String getObjectInfo() {\r\n        return &quot;MyWorker&quot;;\r\n    }    \r\n\r\n    public String getObjectInfo(IGetInfo x) {\r\n        return x.getObjectInfo();\r\n    }\r\n\r\n    \r\n    public String getObjectInfo(IMyInterface x) {\r\n        return x.getId();\r\n    }\r\n\r\n    // and so on\r\n\r\n}\r\n```\r\n\r\nThis makes your intent clear in the code. It&#39;s not as DRY as some people would like it, but it definitely makes your code easier to understand and you avoid issues when having to faff about with objects which may or may not have certain expected methods/properties.\r\n\r\nAnother solution would be using reflection to inspect an object, to determine whether or not it implements a given interface/class and then act upon it, or throw an exception.\r\nThat would allow you to continue using `Object` for your method, but reflection can get somewhat complicated and hard to read after a while.","title":"How to call a method from a Java generic object?","body":"<p>Too long for comment, so it'll be an answer.</p>\n<p>In your case, what I would do, as others have already suggested, is use base types.</p>\n<p>Say you have the following base types (interfaces, abstract classes):</p>\n<p><code>IMyInterface</code>, <code>MyAbstractClass</code>, <code>IGetInfo</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.me;\n\npublic class MyWorker implements IGetInfo {\n\n    public String getObjectInfo() {\n        return &quot;MyWorker&quot;;\n    }    \n\n    public String getObjectInfo(IGetInfo x) {\n        return x.getObjectInfo();\n    }\n\n    \n    public String getObjectInfo(IMyInterface x) {\n        return x.getId();\n    }\n\n    // and so on\n\n}\n</code></pre>\n<p>This makes your intent clear in the code. It's not as DRY as some people would like it, but it definitely makes your code easier to understand and you avoid issues when having to faff about with objects which may or may not have certain expected methods/properties.</p>\n<p>Another solution would be using reflection to inspect an object, to determine whether or not it implements a given interface/class and then act upon it, or throw an exception.\nThat would allow you to continue using <code>Object</code> for your method, but reflection can get somewhat complicated and hard to read after a while.</p>\n"}],"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669803765,"accepted_answer_id":74624279,"answer_count":2,"score":0,"last_activity_date":1669794665,"creation_date":1669793353,"question_id":74624204,"body_markdown":"I have a few items from various classes, I would like to write a method taking generic object (**Object** is the superclass of all other classes)\r\n\r\n- verify items all have getId() method\r\n- then collect the getId() value.\r\n\r\nNote the object could really by anything - it cannot be bounded  \r\n  \r\nI tried something like\r\n\r\n```\r\n  String getObjectId(Object item) throws Exception {\r\n    // If the getId() method is not implemented, throw exception\r\n    if (Arrays.stream(item.getClass().getMethods())\r\n        .filter(method -&gt; &quot;getId&quot;.equals(method.getName()))\r\n        .findFirst()\r\n        .isEmpty()) {\r\n      throw new Exception(...);\r\n    }\r\n\r\n    return item.getId();\r\n  }\r\n```\r\n\r\nThe problem is the compiler ignores this verification - i always get this error even though I just verified it has the method\r\n\r\n```\r\n\r\ncannot find symbol\r\n  return item.getId();\r\n                ^\r\n```\r\n\r\nHow can I call a method in this case?","title":"How to call a method from a Java generic object?","body":"<p>I have a few items from various classes, I would like to write a method taking generic object (<strong>Object</strong> is the superclass of all other classes)</p>\n<ul>\n<li>verify items all have getId() method</li>\n<li>then collect the getId() value.</li>\n</ul>\n<p>Note the object could really by anything - it cannot be bounded</p>\n<p>I tried something like</p>\n<pre><code>  String getObjectId(Object item) throws Exception {\n    // If the getId() method is not implemented, throw exception\n    if (Arrays.stream(item.getClass().getMethods())\n        .filter(method -&gt; &quot;getId&quot;.equals(method.getName()))\n        .findFirst()\n        .isEmpty()) {\n      throw new Exception(...);\n    }\n\n    return item.getId();\n  }\n</code></pre>\n<p>The problem is the compiler ignores this verification - i always get this error even though I just verified it has the method</p>\n<pre><code>\ncannot find symbol\n  return item.getId();\n                ^\n</code></pre>\n<p>How can I call a method in this case?</p>\n"},{"tags":["java","loops","if-statement","logic"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1669792761,"post_id":74624069,"comment_id":131720997,"body_markdown":"What language was that program in and can you post the code? In any sensible language, though, the `elseif` branch should _not_ be evaluated if the first `if` condition already evaluated to `true`. Btw, that is less of an issue with logic but language design / control flow.","body":"What language was that program in and can you post the code? In any sensible language, though, the <code>elseif</code> branch should <i>not</i> be evaluated if the first <code>if</code> condition already evaluated to <code>true</code>. Btw, that is less of an issue with logic but language design / control flow."},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1669793035,"post_id":74624069,"comment_id":131721069,"body_markdown":"But only regarding the logic part of that question: If A&amp;&amp;B is true (which means A is true and B is true) then it can be inferred that A||B (= inclusive OR) is also true.","body":"But only regarding the logic part of that question: If A&amp;&amp;B is true (which means A is true and B is true) then it can be inferred that A||B (= inclusive OR) is also true."},{"owner":{"account_id":27056453,"reputation":7,"user_id":20609087,"display_name":"Gui Gui"},"score":0,"creation_date":1669793036,"post_id":74624069,"comment_id":131721070,"body_markdown":"It is a JAVA 19 program.\nThe code is the following :\n`code`\n if(this.zombie &amp;&amp; ennemi.zombie) {\n            System.out.println(&quot;Combat de zombies ! &quot;);\n            int rnd = (int) Math.floor(Math.random()*2);\n            if(rnd == 0 ){\n                this.state = State.Mort;\n            }else ennemi.state = State.Mort ;\n\n        }else if(this.zombie || ennemi.zombie){\n\n            this.zombie = true;\n            this.state = State.Zombie;\n            ennemi.zombie = true;\n            ennemi.state = State.Zombie;\n        }`code`","body":"It is a JAVA 19 program. The code is the following : <code>code</code>  if(this.zombie &amp;&amp; ennemi.zombie) {             System.out.println(&quot;Combat de zombies ! &quot;);             int rnd = (int) Math.floor(Math.random()*2);             if(rnd == 0 ){                 this.state = State.Mort;             }else ennemi.state = State.Mort ;          }else if(this.zombie || ennemi.zombie){              this.zombie = true;             this.state = State.Zombie;             ennemi.zombie = true;             ennemi.state = State.Zombie;         }<code>code</code>"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1669793083,"post_id":74624069,"comment_id":131721090,"body_markdown":"It&#39;s more readable if you [edit] the question and add the code as code-formatted text there. Thank you! ( Did it myself ... :D )","body":"It&#39;s more readable if you <a href=\"https://stackoverflow.com/posts/74624069/edit\">edit</a> the question and add the code as code-formatted text there. Thank you! ( Did it myself ... :D )"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1669793414,"post_id":74624069,"comment_id":131721176,"body_markdown":"I don&#39;t see how this code would cause an infinite loop. There is no loop and no recursion. I also don&#39;t see how both branches could be evaluated. It _should_ work as expected (without having tried, admittedly).","body":"I don&#39;t see how this code would cause an infinite loop. There is no loop and no recursion. I also don&#39;t see how both branches could be evaluated. It <i>should</i> work as expected (without having tried, admittedly)."},{"owner":{"account_id":27056453,"reputation":7,"user_id":20609087,"display_name":"Gui Gui"},"score":0,"creation_date":1669793738,"post_id":74624069,"comment_id":131721253,"body_markdown":"This code won&#39;t cause infinite loop indeed.\n\nBut it will cause the program not to terminate due to the program&#39;s general logic (I could link you the program if interested but that is not the question).","body":"This code won&#39;t cause infinite loop indeed.  But it will cause the program not to terminate due to the program&#39;s general logic (I could link you the program if interested but that is not the question)."},{"owner":{"account_id":27056453,"reputation":7,"user_id":20609087,"display_name":"Gui Gui"},"score":1,"creation_date":1669793779,"post_id":74624069,"comment_id":131721269,"body_markdown":"Anyway, I guess you answered my question so thank you for that !","body":"Anyway, I guess you answered my question so thank you for that !"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1669793917,"post_id":74624069,"comment_id":131721312,"body_markdown":"If you want to try a different approach just for fun/learning/experiment: You can take an `int test = 0;` And then do `test += this.zombie? 1 : 0; test += ennemie.zombie? 1 : 0;` and then switch/case on `test` for cases 2,1 and 0. If that results in the same behavior, then it wasn&#39;t caused by the if/elseif.","body":"If you want to try a different approach just for fun/learning/experiment: You can take an <code>int test = 0;</code> And then do <code>test += this.zombie? 1 : 0; test += ennemie.zombie? 1 : 0;</code> and then switch/case on <code>test</code> for cases 2,1 and 0. If that results in the same behavior, then it wasn&#39;t caused by the if/elseif."},{"owner":{"account_id":27056453,"reputation":7,"user_id":20609087,"display_name":"Gui Gui"},"score":1,"creation_date":1669794205,"post_id":74624069,"comment_id":131721380,"body_markdown":"I think I see what you meant, will try that !","body":"I think I see what you meant, will try that !"}],"answers":[{"tags":[],"owner":{"account_id":27068355,"reputation":26,"user_id":20619360,"display_name":"Nick Boswell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793182,"creation_date":1669793100,"answer_id":74624166,"question_id":74624069,"body_markdown":"When the statement for the IF block is true, Else (and Else If) is not entered or evaluated. In your example above, when A and B are both True, the code inside the IF block will be executed, and then the program will skip the rest of the IF...Else and move onto the next line of code.\r\n\r\nYes. The &quot;If structure&quot; prevails.\r\n\r\nIt looks like a similar question to yours has been answered a lot on a post from a while back: https://stackoverflow.com/questions/4491834/evaluating-else-if-after-an-if-condition-is-true\r\n","title":"Else if Logic question when A == true &amp;&amp; B == true","body":"<p>When the statement for the IF block is true, Else (and Else If) is not entered or evaluated. In your example above, when A and B are both True, the code inside the IF block will be executed, and then the program will skip the rest of the IF...Else and move onto the next line of code.</p>\n<p>Yes. The &quot;If structure&quot; prevails.</p>\n<p>It looks like a similar question to yours has been answered a lot on a post from a while back: <a href=\"https://stackoverflow.com/questions/4491834/evaluating-else-if-after-an-if-condition-is-true\">evaluating else if after an if condition is true</a></p>\n"}],"owner":{"account_id":27056453,"reputation":7,"user_id":20609087,"display_name":"Gui Gui"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669794290,"creation_date":1669792576,"question_id":74624069,"body_markdown":"If the conditions A and B are true at the same time, will the program execute the else if condition in the following code :\r\n\r\n&gt; if(A &amp;&amp; B){\r\n&gt; TODO CODE 1;}\r\n&gt; \r\n&gt; else if(A || B){\r\n&gt; \r\n&gt; TODO CODE 2;}\r\n\r\nI wonder if TODO CODE 2 will be executed.\r\n\r\nIn other words : does the &quot;if&quot; structure prevails or the logic prevails ?\r\n\r\nBecause (A || B ) is true when (A == true &amp;&amp; B == true) right ?\r\n\r\nMany Thanks,\r\n\r\nGuillaume\r\n\r\nI ran a program and fell in an infinite loop due to this problem.\r\n\r\nI could check the answer by debugging with a simple test but I prefer an explanation from someone with experience in logic.\r\n\r\n----\r\nIt is a JAVA 19 program. The code is the following :\r\n\r\n```\r\nif(this.zombie &amp;&amp; ennemi.zombie) { \r\n    System.out.println(&quot;Combat de zombies ! &quot;); \r\n    int rnd = (int) Math.floor(Math.random()*2); \r\n    if(rnd == 0 ){ \r\n        this.state = State.Mort; \r\n    }else \r\n        ennemi.state = State.Mort ; \r\n}else if(this.zombie || ennemi.zombie){ \r\n    this.zombie = true; \r\n    this.state = State.Zombie; \r\n    ennemi.zombie = true; \r\n    ennemi.state = State.Zombie; \r\n}\r\n```","title":"Else if Logic question when A == true &amp;&amp; B == true","body":"<p>If the conditions A and B are true at the same time, will the program execute the else if condition in the following code :</p>\n<blockquote>\n<p>if(A &amp;&amp; B){\nTODO CODE 1;}</p>\n<p>else if(A || B){</p>\n<p>TODO CODE 2;}</p>\n</blockquote>\n<p>I wonder if TODO CODE 2 will be executed.</p>\n<p>In other words : does the &quot;if&quot; structure prevails or the logic prevails ?</p>\n<p>Because (A || B ) is true when (A == true &amp;&amp; B == true) right ?</p>\n<p>Many Thanks,</p>\n<p>Guillaume</p>\n<p>I ran a program and fell in an infinite loop due to this problem.</p>\n<p>I could check the answer by debugging with a simple test but I prefer an explanation from someone with experience in logic.</p>\n<hr />\n<p>It is a JAVA 19 program. The code is the following :</p>\n<pre><code>if(this.zombie &amp;&amp; ennemi.zombie) { \n    System.out.println(&quot;Combat de zombies ! &quot;); \n    int rnd = (int) Math.floor(Math.random()*2); \n    if(rnd == 0 ){ \n        this.state = State.Mort; \n    }else \n        ennemi.state = State.Mort ; \n}else if(this.zombie || ennemi.zombie){ \n    this.zombie = true; \n    this.state = State.Zombie; \n    ennemi.zombie = true; \n    ennemi.state = State.Zombie; \n}\n</code></pre>\n"},{"tags":["java","android","time","hour","minute"],"comments":[{"owner":{"account_id":259908,"reputation":4688,"user_id":543136,"display_name":"TofferJ"},"score":2,"creation_date":1558460551,"post_id":56243594,"comment_id":99106124,"body_markdown":"Have you had a look at the Calendar class? It takes care of most of these things for you. https://developer.android.com/reference/java/util/Calendar.html#add(int,%20int)","body":"Have you had a look at the Calendar class? It takes care of most of these things for you. <a href=\"https://developer.android.com/reference/java/util/Calendar.html#add(int,%20int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15398606,"reputation":7,"user_id":11108855,"display_name":"ashrafkhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558466429,"creation_date":1558463673,"answer_id":56244468,"question_id":56243594,"body_markdown":"May be this code will help you to get the time and get it incremented or decremented properly.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(yourdate);\r\n    int hours = calendar.get(Calendar.HOUR_OF_DAY);\r\n    int minutes = calendar.get(Calendar.MINUTE);\r\n    int seconds = calendar.get(Calendar.SECOND);\r\n    b.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e){\r\n    \t    if(hours&gt;=9)\r\n    \t    {\r\n    \t        hours=hours+1;\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n    \t    else\r\n    \t    {\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n        }\r\n    });\r\n    b1.addActionListener(new ActionListener(){\r\n        public void actionPerformed(ActionEvent e){\r\n    \t    if(hours&gt;=9)\r\n    \t    {\r\n    \t        hours=hours-1;\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n    \t    else\r\n         \t{\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n        }\r\n    });\r\n    b2.addActionListener(new ActionListener(){\r\n        public void actionPerformed(ActionEvent e){\r\n    \t    if(minutes&gt;=9)\r\n    \t    {\r\n    \t        minutes=minutes+1;\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n    \t    else\r\n    \t    {\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n        }\r\n    });\r\n    b3.addActionListener(new ActionListener(){\r\n        public void actionPerformed(ActionEvent e){\r\n    \t    if(minutes&gt;=9)\r\n    \t    {\r\n    \t        minutes=mminutes-1;\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n    \t    else\r\n    \t    {\r\n    \t        textView.setText(hours+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \t    }\r\n        }\r\n    });","title":"How to add and subtract hours and minutes","body":"<p>May be this code will help you to get the time and get it incremented or decremented properly.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.setTime(yourdate);\nint hours = calendar.get(Calendar.HOUR_OF_DAY);\nint minutes = calendar.get(Calendar.MINUTE);\nint seconds = calendar.get(Calendar.SECOND);\nb.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e){\n        if(hours&gt;=9)\n        {\n            hours=hours+1;\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n        else\n        {\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n    }\n});\nb1.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e){\n        if(hours&gt;=9)\n        {\n            hours=hours-1;\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n        else\n        {\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n    }\n});\nb2.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e){\n        if(minutes&gt;=9)\n        {\n            minutes=minutes+1;\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n        else\n        {\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n    }\n});\nb3.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e){\n        if(minutes&gt;=9)\n        {\n            minutes=mminutes-1;\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n        else\n        {\n            textView.setText(hours+\":\"+minutes+\":\"+seconds);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558531478,"creation_date":1558465793,"answer_id":56244981,"question_id":56243594,"body_markdown":"Make use of [`Calendar#add`](https://developer.android.com/reference/java/util/Calendar#add(int,%2520int)) for this. Confusingly, you can use it to both add and subtract.\r\n\r\n```\r\nfinal Calendar calendar = Calendar.getInstance(); //A calendar set to the current time\r\ncalendar.add(Calendar.HOUR_OF_DAY, 1); //Add one hour\r\ncalendar.add(Calendar.HOUR_OF_DAY, -1); //Subtract one hour\r\n```\r\n\r\nWhen it comes to printing times, the default option on API versions &lt; 24 is to uuse a [`DateFormat`](https://developer.android.com/reference/java/text/SimpleDateFormat). So, instead of trying to determine it yourself:\r\n\r\n```\r\nfinal SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm&quot;); //hours and minutes, 24hr clock\r\ntextView.setText(format.format(calendar.getTime());\r\n```\r\nHowever, do note there are issues with `SimpleDateFormat`, particularly when it comes to multithreading. As Ole V.V. has suggested in the comments, you should consider using the [`ThreeTenABP`](https://github.com/JakeWharton/ThreeTenABP) library instead.\r\n\r\nIf you&#39;re targeting API 24+, you can make use of the Java 8 additions around time in the `java.time` package, like `Instant` and `DateTimeFormatter`","title":"How to add and subtract hours and minutes","body":"<p>Make use of <a href=\"https://developer.android.com/reference/java/util/Calendar#add(int,%2520int)\" rel=\"nofollow noreferrer\"><code>Calendar#add</code></a> for this. Confusingly, you can use it to both add and subtract.</p>\n\n<pre><code>final Calendar calendar = Calendar.getInstance(); //A calendar set to the current time\ncalendar.add(Calendar.HOUR_OF_DAY, 1); //Add one hour\ncalendar.add(Calendar.HOUR_OF_DAY, -1); //Subtract one hour\n</code></pre>\n\n<p>When it comes to printing times, the default option on API versions &lt; 24 is to uuse a <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat\" rel=\"nofollow noreferrer\"><code>DateFormat</code></a>. So, instead of trying to determine it yourself:</p>\n\n<pre><code>final SimpleDateFormat format = new SimpleDateFormat(\"HH:mm\"); //hours and minutes, 24hr clock\ntextView.setText(format.format(calendar.getTime());\n</code></pre>\n\n<p>However, do note there are issues with <code>SimpleDateFormat</code>, particularly when it comes to multithreading. As Ole V.V. has suggested in the comments, you should consider using the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><code>ThreeTenABP</code></a> library instead.</p>\n\n<p>If you're targeting API 24+, you can make use of the Java 8 additions around time in the <code>java.time</code> package, like <code>Instant</code> and <code>DateTimeFormatter</code></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558530931,"creation_date":1558530931,"answer_id":56257742,"question_id":56243594,"body_markdown":"## java.time and ThreeTenABP\r\n\r\nAll of this functionality already exists. Use `LocalTime` from java.time, the modern Java date and time API. Here’s a short demonstration with output given in comments:\r\n\r\n\t\tLocalTime time = LocalTime.of(23, 59);\r\n\t\tSystem.out.println(time); // 23:59\r\n\t\ttime = time.minusHours(1);\r\n\t\tSystem.out.println(time); // 22:59\r\n\t\ttime = time.minusMinutes(1);\r\n\t\tSystem.out.println(time); // 22:58\r\n\t\ttime = time.plusHours(1);\r\n\t\tSystem.out.println(time); // 23:58\r\n\t\ttime = time.plusMinutes(1);\r\n\t\tSystem.out.println(time); // 23:59\r\n\t\ttime = time.plusHours(1);\r\n\t\tSystem.out.println(time); // 00:59\r\n\t\ttime = time.plusMinutes(1);\r\n\t\tSystem.out.println(time); // 01:00\r\n\r\n## Question: Can I use java.time on Android?\r\n\r\nYes, java.time works nicely on older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"How to add and subtract hours and minutes","body":"<h2>java.time and ThreeTenABP</h2>\n\n<p>All of this functionality already exists. Use <code>LocalTime</code> from java.time, the modern Java date and time API. Here’s a short demonstration with output given in comments:</p>\n\n<pre><code>    LocalTime time = LocalTime.of(23, 59);\n    System.out.println(time); // 23:59\n    time = time.minusHours(1);\n    System.out.println(time); // 22:59\n    time = time.minusMinutes(1);\n    System.out.println(time); // 22:58\n    time = time.plusHours(1);\n    System.out.println(time); // 23:58\n    time = time.plusMinutes(1);\n    System.out.println(time); // 23:59\n    time = time.plusHours(1);\n    System.out.println(time); // 00:59\n    time = time.plusMinutes(1);\n    System.out.println(time); // 01:00\n</code></pre>\n\n<h2>Question: Can I use java.time on Android?</h2>\n\n<p>Yes, java.time works nicely on older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14949762,"reputation":652,"user_id":10793837,"display_name":"Abdul Waheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793914,"creation_date":1669793914,"answer_id":74624287,"question_id":56243594,"body_markdown":"To add or minus 30 minutes in current time in Kotlin language:\r\n\r\n        val timeFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.US)\r\n        val date = Date()\r\n        val c = Calendar.getInstance()\r\n        c.time = date\r\n        //30 for add 30 minutes or -30 to minus 30 minutes\r\n        c.add(Calendar.MINUTE, -30)\r\n        val timeMinus30 = c.time\r\n        val timeInString = timeFormat.format(timeMinus30)","title":"How to add and subtract hours and minutes","body":"<p>To add or minus 30 minutes in current time in Kotlin language:</p>\n<pre><code>    val timeFormat = SimpleDateFormat(&quot;hh:mm:ss&quot;, Locale.US)\n    val date = Date()\n    val c = Calendar.getInstance()\n    c.time = date\n    //30 for add 30 minutes or -30 to minus 30 minutes\n    c.add(Calendar.MINUTE, -30)\n    val timeMinus30 = c.time\n    val timeInString = timeFormat.format(timeMinus30)\n</code></pre>\n"}],"owner":{"account_id":15668993,"reputation":21,"user_id":11306032,"display_name":"Riarm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4914,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1669793914,"creation_date":1558459835,"question_id":56243594,"body_markdown":"I have some problems. I am a beginner programmer. I need to create an application like a clock with Android Studio and need to add and subtract hours and minutes. When I press the +1H will need to add 1H to take the same with +1M and -1M and I can&#39;t coordinate how can I do that.\r\nI am doing so that when the clock reached 23:59 again, it was 00:00 and so cyclically\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button button,button2,button3,button4;\r\n        private TextView textView;\r\n        int hour = 0;\r\n        int minute = 0;\r\n        int count = 0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button = findViewById(R.id.button);\r\n            button2 = findViewById(R.id.button2);\r\n            button3 = findViewById(R.id.button3);\r\n            button4 = findViewById(R.id.button4);\r\n            textView = findViewById(R.id.res);\r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                        if (hour &gt;= 9) {\r\n                            textView.setText((++hour + &quot;&quot;) + &quot;:&quot; + &quot;00&quot;);\r\n                        } else {\r\n                            textView.setText(&quot;0&quot; + (++hour + &quot;&quot;) + &quot;:&quot; + &quot;00&quot;);\r\n                        }\r\n    \r\n                }\r\n            });\r\n            button2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(hour&gt;=9) {\r\n                        textView.setText((--hour + &quot;&quot;) + &quot;:&quot; + &quot;00&quot;);\r\n                    }else{\r\n                        textView.setText(&quot;0&quot;+(--hour + &quot;&quot;) + &quot;:&quot; + &quot;00&quot;);\r\n                    }\r\n                }\r\n            });\r\n            button3.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(minute&gt;=9) {\r\n                        textView.setText(&quot;00&quot; + &quot;:&quot; + (++minute + &quot;&quot;));\r\n                    }else{\r\n                        textView.setText(&quot;00&quot; + &quot;:&quot; + &quot;0&quot;+(++minute + &quot;&quot;));\r\n                    }\r\n                }\r\n            });\r\n            button4.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(minute&gt;=9) {\r\n                        textView.setText(&quot;00&quot; + &quot;:&quot; + (--minute + &quot;&quot;));\r\n                    }else{\r\n                        textView.setText(&quot;00&quot; + &quot;:&quot; + &quot;0&quot;+(--minute + &quot;&quot;));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to add and subtract hours and minutes","body":"<p>I have some problems. I am a beginner programmer. I need to create an application like a clock with Android Studio and need to add and subtract hours and minutes. When I press the +1H will need to add 1H to take the same with +1M and -1M and I can't coordinate how can I do that.\nI am doing so that when the clock reached 23:59 again, it was 00:00 and so cyclically</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button button,button2,button3,button4;\n    private TextView textView;\n    int hour = 0;\n    int minute = 0;\n    int count = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button = findViewById(R.id.button);\n        button2 = findViewById(R.id.button2);\n        button3 = findViewById(R.id.button3);\n        button4 = findViewById(R.id.button4);\n        textView = findViewById(R.id.res);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                    if (hour &gt;= 9) {\n                        textView.setText((++hour + \"\") + \":\" + \"00\");\n                    } else {\n                        textView.setText(\"0\" + (++hour + \"\") + \":\" + \"00\");\n                    }\n\n            }\n        });\n        button2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(hour&gt;=9) {\n                    textView.setText((--hour + \"\") + \":\" + \"00\");\n                }else{\n                    textView.setText(\"0\"+(--hour + \"\") + \":\" + \"00\");\n                }\n            }\n        });\n        button3.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(minute&gt;=9) {\n                    textView.setText(\"00\" + \":\" + (++minute + \"\"));\n                }else{\n                    textView.setText(\"00\" + \":\" + \"0\"+(++minute + \"\"));\n                }\n            }\n        });\n        button4.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(minute&gt;=9) {\n                    textView.setText(\"00\" + \":\" + (--minute + \"\"));\n                }else{\n                    textView.setText(\"00\" + \":\" + \"0\"+(--minute + \"\"));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","html","servlets"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1669790675,"post_id":74623703,"comment_id":131720474,"body_markdown":"Are you getting error messages on your html form?","body":"Are you getting error messages on your html form?"},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1669793179,"post_id":74623703,"comment_id":131721115,"body_markdown":"How are you validating the form before/on submit? Is there a javascript function or a framework that you are using?","body":"How are you validating the form before/on submit? Is there a javascript function or a framework that you are using?"},{"owner":{"account_id":22610854,"reputation":73,"user_id":16791063,"display_name":"Prince Bhati"},"score":0,"creation_date":1669797020,"post_id":74623703,"comment_id":131722167,"body_markdown":"@ScaryWombat, i&#39;m getting error in my ide and in the application it goes to http://localhost:8080/onlinebookstore/userreg this url ,","body":"@ScaryWombat, i&#39;m getting error in my ide and in the application it goes to <a href=\"http://localhost:8080/onlinebookstore/userreg\" rel=\"nofollow noreferrer\">localhost:8080/onlinebookstore/userreg</a> this url ,"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669793867,"creation_date":1669793867,"answer_id":74624281,"question_id":74623703,"body_markdown":"That is the expected behavior. You may use HTML input elements attributes like „required“ and some frontend libraries to assist/enforce the presence of values, but in the end all validation needs to be done in the backend.\r\n\r\nBecause aside using the browser‘s form submit function, one can still send a malicious HTTP request using cURL or SoapUI, bypassing all frontend validations. ","title":"my servlet accepting the empty input fields through html form","body":"<p>That is the expected behavior. You may use HTML input elements attributes like „required“ and some frontend libraries to assist/enforce the presence of values, but in the end all validation needs to be done in the backend.</p>\n<p>Because aside using the browser‘s form submit function, one can still send a malicious HTTP request using cURL or SoapUI, bypassing all frontend validations.</p>\n"}],"owner":{"account_id":22610854,"reputation":73,"user_id":16791063,"display_name":"Prince Bhati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624281,"answer_count":1,"score":0,"last_activity_date":1669793867,"creation_date":1669790058,"question_id":74623703,"body_markdown":"i&#39;m taking input values through html form and using the servlet to inserting them into the database , but when i don&#39;t put any field in the html form it is also accepting the that input . Although i&#39;ve put the restrictions in my html code for the input fields . \r\nWhen i tried to renter the empty fields , its shows the below error\r\n\r\n**ERROR**\r\n\r\n*Duplicate entry &#39;&#39; for key &#39;users.PRIMARY*\r\nit means its accepting the user name as a empty string . \r\n\r\n**here it is my html form** \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form action=&quot;userreg&quot; method=&quot;post&quot;&gt;\r\n    \t\t\t\t\tUsername : &lt;input type=&quot;text&quot; name=&quot;username&quot; pattern=&quot;.{3,}&quot; title =&quot;must contains more then 3 letters&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tPassword : &lt;input type=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;password must be 8 char long one upper, lower case letter must&quot; pattern=&quot;(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}&quot; title=&quot;Must have 8 chars one lowercase , uppercase&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tFirstName: &lt;input type=&quot;text&quot; pattern=&quot;.{3,}&quot; title=&quot;this field cant be empty&quot; name=&quot;firstname&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tLast Name: &lt;input type=&quot;text&quot; pattern=&quot;.{3,}&quot; title=&quot;this field cant be empty&quot; name=&quot;lastname&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tAddress : &lt;input type=&quot;text&quot;  pattern=&quot;.{3,}&quot; name=&quot;address&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tPhone No : &lt;input type=&quot;text&quot; pattern=&quot;.{3,}&quot; name=&quot;phone&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\tEmail Id : &lt;input type=&quot;text&quot; pattern=&quot;[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$&quot; name=&quot;mailid&quot; placeholder=&quot;xyz@gmail.com&quot; title=&quot;please enter valid mail&quot;&gt;&lt;br/&gt;&lt;br/&gt;\r\n    \t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot; I AGREE FOR ALL TERMS &amp; CONDITIONS ! REGISTER ME &quot;&gt;\r\n    \t\t\t\t&lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nhere is my **userRegistration servlet class** \r\n\r\n    try {\r\n    \t\t\tConnection con = DBConnection.getCon();\r\n    \t\t\tPreparedStatement ps = con\r\n    \t\t\t\t\t.prepareStatement(&quot;insert into &quot; + IUserContants.TABLE_USERS + &quot;  values(?,?,?,?,?,?,?,?)&quot;);\r\n    \t\t\tps.setString(1, uName);\r\n    \t\t\tps.setString(2, pWord);\r\n    \t\t\tps.setString(3, fName);\r\n    \t\t\tps.setString(4, lName);\r\n    \t\t\tps.setString(5, addr);\r\n    \t\t\tps.setString(6, phNo);\r\n    \t\t\tps.setString(7, mailId);\r\n    \t\t\tps.setInt(8, 2);\r\n    \t\t\tint k = ps.executeUpdate();\t\t\t\r\n    \t\t\tif (k==1) {\r\n    \t\t\t\tRequestDispatcher rd = req.getRequestDispatcher(&quot;Sample.html&quot;);\r\n    \t\t\t\trd.include(req, res);\r\n    \t\t\t\tpw.println(&quot;&lt;h3 class=&#39;tab&#39;&gt;User Registered Successfully&lt;/h3&gt;&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\t\t\r\n    \t\t\t\tRequestDispatcher rd = req.getRequestDispatcher(&quot;Sample.html&quot;);\r\n    \t\t\t\tpw.println(&quot;&lt;h3 class=&#39;tab&#39;&gt;Registration failed !, please enter valid details&lt;/h3&gt;&quot;);\r\n    \t\t\t\trd.include(req, res);\t\t\t\t\r\n    \t\t\t\tpw.println(&quot;Sorry for interruption! Register again&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}","title":"my servlet accepting the empty input fields through html form","body":"<p>i'm taking input values through html form and using the servlet to inserting them into the database , but when i don't put any field in the html form it is also accepting the that input . Although i've put the restrictions in my html code for the input fields .\nWhen i tried to renter the empty fields , its shows the below error</p>\n<p><strong>ERROR</strong></p>\n<p><em>Duplicate entry '' for key 'users.PRIMARY</em>\nit means its accepting the user name as a empty string .</p>\n<p><strong>here it is my html form</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"userreg\" method=\"post\"&gt;\n                    Username : &lt;input type=\"text\" name=\"username\" pattern=\".{3,}\" title =\"must contains more then 3 letters\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    Password : &lt;input type=\"password\" name=\"password\" placeholder=\"password must be 8 char long one upper, lower case letter must\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" title=\"Must have 8 chars one lowercase , uppercase\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    FirstName: &lt;input type=\"text\" pattern=\".{3,}\" title=\"this field cant be empty\" name=\"firstname\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    Last Name: &lt;input type=\"text\" pattern=\".{3,}\" title=\"this field cant be empty\" name=\"lastname\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    Address : &lt;input type=\"text\"  pattern=\".{3,}\" name=\"address\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    Phone No : &lt;input type=\"text\" pattern=\".{3,}\" name=\"phone\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    Email Id : &lt;input type=\"text\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" name=\"mailid\" placeholder=\"xyz@gmail.com\" title=\"please enter valid mail\"&gt;&lt;br/&gt;&lt;br/&gt;\n                    &lt;input type=\"submit\" value=\" I AGREE FOR ALL TERMS &amp; CONDITIONS ! REGISTER ME \"&gt;\n                &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>here is my <strong>userRegistration servlet class</strong></p>\n<pre><code>try {\n            Connection con = DBConnection.getCon();\n            PreparedStatement ps = con\n                    .prepareStatement(&quot;insert into &quot; + IUserContants.TABLE_USERS + &quot;  values(?,?,?,?,?,?,?,?)&quot;);\n            ps.setString(1, uName);\n            ps.setString(2, pWord);\n            ps.setString(3, fName);\n            ps.setString(4, lName);\n            ps.setString(5, addr);\n            ps.setString(6, phNo);\n            ps.setString(7, mailId);\n            ps.setInt(8, 2);\n            int k = ps.executeUpdate();         \n            if (k==1) {\n                RequestDispatcher rd = req.getRequestDispatcher(&quot;Sample.html&quot;);\n                rd.include(req, res);\n                pw.println(&quot;&lt;h3 class='tab'&gt;User Registered Successfully&lt;/h3&gt;&quot;);\n            } else {\n                    \n                RequestDispatcher rd = req.getRequestDispatcher(&quot;Sample.html&quot;);\n                pw.println(&quot;&lt;h3 class='tab'&gt;Registration failed !, please enter valid details&lt;/h3&gt;&quot;);\n                rd.include(req, res);               \n                pw.println(&quot;Sorry for interruption! Register again&quot;);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webclient","retrywhen"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1670176014,"post_id":74624266,"comment_id":131809267,"body_markdown":"looks like there is no default place but you can use the api like https://stackoverflow.com/a/58521980/175554","body":"looks like there is no default place but you can use the api like <a href=\"https://stackoverflow.com/a/58521980/175554\">stackoverflow.com/a/58521980/175554</a>"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669793795,"creation_date":1669793795,"question_id":74624266,"body_markdown":"I am new to reactive programming.\r\nwe have a spring boot application, in which we make sync and async calls.\r\nNow I want to put a common retry policy in those calls.\r\n\r\nWe have only 1 place where we create webclient object, and then use it across the code.\r\n\r\nI want to put retry logic on this webclient so that I dont have to change all method calls.\r\n\r\nBut I dont find any api to put retry policy on webclient. all I could see is when we retrieve response, but in this case, I would have to go and modify at each call. Eg : \r\n[![enter image description here][1]][1]\r\nIs there any way where I can make changes to webclient to have a default retry policy.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QvfXr.png","title":"putting retry policy on reactive webclient","body":"<p>I am new to reactive programming.\nwe have a spring boot application, in which we make sync and async calls.\nNow I want to put a common retry policy in those calls.</p>\n<p>We have only 1 place where we create webclient object, and then use it across the code.</p>\n<p>I want to put retry logic on this webclient so that I dont have to change all method calls.</p>\n<p>But I dont find any api to put retry policy on webclient. all I could see is when we retrieve response, but in this case, I would have to go and modify at each call. Eg :\n<a href=\"https://i.stack.imgur.com/QvfXr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QvfXr.png\" alt=\"enter image description here\" /></a>\nIs there any way where I can make changes to webclient to have a default retry policy.</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11763153,"reputation":388,"user_id":8608614,"display_name":"Frandall"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535359940,"creation_date":1535359940,"answer_id":52035699,"question_id":52034981,"body_markdown":"enable Use &quot;CamelHumps&quot; words in Settings | Editor | General | Smart Keys","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>enable Use \"CamelHumps\" words in Settings | Editor | General | Smart Keys</p>\n"},{"tags":[],"owner":{"account_id":16025047,"reputation":199,"user_id":11565523,"display_name":"Saad Mansoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669793789,"creation_date":1669793789,"answer_id":74624264,"question_id":52034981,"body_markdown":"I rather create a shortcut (in keymap) to jump to the capitalLetter.\r\nHere is how you do it:\r\n\r\nSteps:\r\n1. open settins `(CTRL + ALT + S)`\r\n2. search for `camelHump`\r\n3. in keymap, for &quot;Move Caret to the Next word With Selection&quot;\r\n4. set shortcut key as per your desire.\r\n        e.g. i put shortcut as `ALT+SHIFT+rightArrow`, because it is similiar to `ALT+CTRL+rightArrow` (which is used to select whole word)","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>I rather create a shortcut (in keymap) to jump to the capitalLetter.\nHere is how you do it:</p>\n<p>Steps:</p>\n<ol>\n<li>open settins <code>(CTRL + ALT + S)</code></li>\n<li>search for <code>camelHump</code></li>\n<li>in keymap, for &quot;Move Caret to the Next word With Selection&quot;</li>\n<li>set shortcut key as per your desire.\ne.g. i put shortcut as <code>ALT+SHIFT+rightArrow</code>, because it is similiar to <code>ALT+CTRL+rightArrow</code> (which is used to select whole word)</li>\n</ol>\n"}],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1669793789,"creation_date":1535356847,"question_id":52034981,"body_markdown":"Say I have following two strings.\r\n\r\n    String s = &quot;update_user_name&quot;;\r\n    String s = &quot;updateUserName&quot;;\r\n\r\nCurrently I use **`CTRL + SHIFT + (Right/Left Arrow)`** to make whole world selection. \r\n\r\nIs there a shortcut for selecting till next capital letter (in 2nd case). Or for different part of word? \r\n\r\nI hope there is one shortcut that I don&#39;t know.\r\n\r\nSo that when I press that shortcut that select only **update** from these strings. Then on next press it select **update_user/ updateUser**. \r\n\r\n**Please note** this shortcut is expected to work with method names/ strings/ or any text in code.\r\n\r\nI hope you understood me.\r\n","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>Say I have following two strings.</p>\n\n<pre><code>String s = \"update_user_name\";\nString s = \"updateUserName\";\n</code></pre>\n\n<p>Currently I use <strong><code>CTRL + SHIFT + (Right/Left Arrow)</code></strong> to make whole world selection. </p>\n\n<p>Is there a shortcut for selecting till next capital letter (in 2nd case). Or for different part of word? </p>\n\n<p>I hope there is one shortcut that I don't know.</p>\n\n<p>So that when I press that shortcut that select only <strong>update</strong> from these strings. Then on next press it select <strong>update_user/ updateUser</strong>. </p>\n\n<p><strong>Please note</strong> this shortcut is expected to work with method names/ strings/ or any text in code.</p>\n\n<p>I hope you understood me.</p>\n"},{"tags":["java","spring-boot","pom.xml","dependency-management","maven-dependency"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793755,"creation_date":1669793755,"answer_id":74624258,"question_id":74623194,"body_markdown":"From the Maven guide:\r\n\r\n&gt; Imports are most effective when used for defining a &quot;library&quot; of related artifacts that are generally part of a multiproject build. It is fairly common for one project to use one or more artifacts from these libraries. However, it has sometimes been difficult to keep the versions in the project using the artifacts in synch with the versions distributed in the library. The pattern below illustrates how a &quot;bill of materials&quot; (BOM) can be created for use by other projects.\r\n\r\nRead more here: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms\r\n","title":"What is the difference between normal and bom dependencies in pom.xml?","body":"<p>From the Maven guide:</p>\n<blockquote>\n<p>Imports are most effective when used for defining a &quot;library&quot; of related artifacts that are generally part of a multiproject build. It is fairly common for one project to use one or more artifacts from these libraries. However, it has sometimes been difficult to keep the versions in the project using the artifacts in synch with the versions distributed in the library. The pattern below illustrates how a &quot;bill of materials&quot; (BOM) can be created for use by other projects.</p>\n</blockquote>\n<p>Read more here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms</a></p>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669793755,"creation_date":1669785702,"question_id":74623194,"body_markdown":"I see on maven repository, there are two types of dependencies while I was trying to add into my pom.xml of springBoot Application. \r\nartifactId = aws-java-sdk and aws-java-sdk-bom\r\n&lt;/dependency&gt;\r\nWhat&#39;s is the difference between the normal one and the one with the &quot;bom&quot;. How do we know which one is a better fit for our requirement?","title":"What is the difference between normal and bom dependencies in pom.xml?","body":"<p>I see on maven repository, there are two types of dependencies while I was trying to add into my pom.xml of springBoot Application.\nartifactId = aws-java-sdk and aws-java-sdk-bom\n\nWhat's is the difference between the normal one and the one with the &quot;bom&quot;. How do we know which one is a better fit for our requirement?</p>\n"},{"tags":["java","string-formatting","stringbuilder"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669788181,"post_id":74623407,"comment_id":131719912,"body_markdown":"Perhaps a better question to ask would be: How do I join an arbitrary number of strings together, separated by a comma and a space?","body":"Perhaps a better question to ask would be: How do I join an arbitrary number of strings together, separated by a comma and a space?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1669788418,"post_id":74623407,"comment_id":131719967,"body_markdown":"And why did you reject your `String.join` solution -- that&#39;s the right way to do it.","body":"And why did you reject your <code>String.join</code> solution -- that&#39;s the right way to do it."},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1669788813,"post_id":74623407,"comment_id":131720042,"body_markdown":"I have 17 items currently and I started thinking about how long the string would be and how i could format it better. You are right that it worked but I was hoping i could find a way to have three items per line to make it cleaner i guess.","body":"I have 17 items currently and I started thinking about how long the string would be and how i could format it better. You are right that it worked but I was hoping i could find a way to have three items per line to make it cleaner i guess."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1669788852,"post_id":74623407,"comment_id":131720048,"body_markdown":"You certainly can do that, but you&#39;ll need to do some programming to do it -- write a loop that goes through every three items, and handle the remainder somehow.","body":"You certainly can do that, but you&#39;ll need to do some programming to do it -- write a loop that goes through every three items, and handle the remainder somehow."},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1669789119,"post_id":74623407,"comment_id":131720102,"body_markdown":"I assumed, maybe naively, that i could. I am currently working on a loop to do just that but I am just not sure how exactly I am going to do it. Thought maybe someone could point me in the right direction I suppose.","body":"I assumed, maybe naively, that i could. I am currently working on a loop to do just that but I am just not sure how exactly I am going to do it. Thought maybe someone could point me in the right direction I suppose."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669790790,"post_id":74623407,"comment_id":131720491,"body_markdown":"So you are really after some kind of word wrap feature for console output? The only ones I have seen were hand coded.","body":"So you are really after some kind of word wrap feature for console output? The only ones I have seen were hand coded."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669791201,"post_id":74623407,"comment_id":131720591,"body_markdown":"`IntStream.range(0, (inventory.size() + 2) / 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;, &quot;&quot;, &quot;, &quot;))) .collect(Collectors.joining(&quot;\\n&quot;))`. Prints an ugly comma in the end, though, we will need to fix that.","body":"<code>IntStream.range(0, (inventory.size() + 2) &#47; 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;, &quot;&quot;, &quot;, &quot;))) .collect(Collectors.joining(&quot;\\n&quot;))</code>. Prints an ugly comma in the end, though, we will need to fix that."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1669791837,"post_id":74623407,"comment_id":131720730,"body_markdown":"@OleV.V. `IntStream.range(0, (inventory.size() + 2) / 3)\n                .mapToObj(i -&gt; String.join(&quot;, &quot;, inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size()))))\n                .collect(Collectors.joining(&quot;\\n&quot;));`","body":"@OleV.V. <code>IntStream.range(0, (inventory.size() + 2) &#47; 3)                 .mapToObj(i -&gt; String.join(&quot;, &quot;, inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size()))))                 .collect(Collectors.joining(&quot;\\n&quot;));</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669793939,"post_id":74623407,"comment_id":131721318,"body_markdown":"@chptr-one Nice! That gives output that at least I like. Or `IntStream.range(0, (inventory.size() + 2) / 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;))) .collect(Collectors.joining(&quot;,\\n&quot;))` if we want comma after each line except the last.","body":"@chptr-one Nice! That gives output that at least I like. Or <code>IntStream.range(0, (inventory.size() + 2) &#47; 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;))) .collect(Collectors.joining(&quot;,\\n&quot;))</code> if we want comma after each line except the last."}],"answers":[{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669791607,"creation_date":1669791607,"answer_id":74623913,"question_id":74623407,"body_markdown":"Using the `String.join()` you describe in the comments, you get this:\r\n\r\n    List&lt;String&gt; inventory = List.of(\r\n        &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;,\r\n        &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;);\r\n\r\n    public void displayInventory()  {                   \r\n        System.out.println(&quot;Inventory:&quot;);\r\n        for (int i = 0, size = inventory.size(); i &lt; size; i += 3)\r\n            System.out.println(String.join(&quot;, &quot;,\r\n                inventory.subList(i, Math.min(i + 3, size))));\r\n    } \r\n\r\n\r\nand\r\n\r\n    displayInentory();\r\n\r\noutput:\r\n\r\n    Inventory:\r\n    A, B, C\r\n    D, E, F\r\n    G, H, I\r\n    J, K, L\r\n    M, N, O\r\n    P, Q\r\n\r\n","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<p>Using the <code>String.join()</code> you describe in the comments, you get this:</p>\n<pre><code>List&lt;String&gt; inventory = List.of(\n    &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;,\n    &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;);\n\npublic void displayInventory()  {                   \n    System.out.println(&quot;Inventory:&quot;);\n    for (int i = 0, size = inventory.size(); i &lt; size; i += 3)\n        System.out.println(String.join(&quot;, &quot;,\n            inventory.subList(i, Math.min(i + 3, size))));\n} \n</code></pre>\n<p>and</p>\n<pre><code>displayInentory();\n</code></pre>\n<p>output:</p>\n<pre><code>Inventory:\nA, B, C\nD, E, F\nG, H, I\nJ, K, L\nM, N, O\nP, Q\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793405,"creation_date":1669793405,"answer_id":74624211,"question_id":74623407,"body_markdown":"&gt; Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?\r\n\r\nYes, or use a looping method as described in another answer [here](https://stackoverflow.com/a/74623913/3196753).  This is because `PrintStream.format()` doesn&#39;t allow any unused variables.\r\n\r\nBelow is and adaptation of &quot;check[ing] to see if there is a multiple of three items in the players inventory&quot; by manipulating the format string.\r\n\r\n    List inventory = List.of(&quot;Shovel&quot;, &quot;Dirt&quot;, &quot;Magazine&quot;, &quot;Marble&quot;, &quot;Orange&quot;, &quot;Knife&quot;, &quot;Popsicle&quot;);\r\n\r\n    StringBuilder format = new StringBuilder();\r\n    for(int i = 0; i &lt; inventory.size(); i++) {\r\n        if(i == 0) {\r\n            // first item, prepend &quot;Inventory:&quot;\r\n            format.append(&quot;Inventory:%n%s&quot;);\r\n        } else if(i == inventory.size() -1) {\r\n            // last item, don&#39;t prepend or append\r\n            format.append(&quot;%s&quot;);\r\n        } else if(i % 3 == 2) {\r\n            // third item, append newline\r\n            format.append(&quot;%s%n&quot;);\r\n        } else if(i &lt; inventory.size() -1) {\r\n            // 1st or 2nd item, append comma and space\r\n            format.append(&quot;%s, &quot;);\r\n        }\r\n    }\r\n    \r\n    System.out.println(&quot;Format: \\n&quot; + format + &quot;\\n&quot;);\r\n    System.out.format(format.toString(), inventory.toArray());;\r\n\r\n\r\nOutput:\r\n\r\n    Format: \r\n    Inventory:%n%s%s, %s%n%s, %s, %s%n%s\r\n\r\n    Inventory:\r\n    ShovelDirt, Magazine\r\n    Marble, Orange, Knife\r\n    Popsicle\r\n\r\n","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<blockquote>\n<p>Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?</p>\n</blockquote>\n<p>Yes, or use a looping method as described in another answer <a href=\"https://stackoverflow.com/a/74623913/3196753\">here</a>.  This is because <code>PrintStream.format()</code> doesn't allow any unused variables.</p>\n<p>Below is and adaptation of &quot;check[ing] to see if there is a multiple of three items in the players inventory&quot; by manipulating the format string.</p>\n<pre><code>List inventory = List.of(&quot;Shovel&quot;, &quot;Dirt&quot;, &quot;Magazine&quot;, &quot;Marble&quot;, &quot;Orange&quot;, &quot;Knife&quot;, &quot;Popsicle&quot;);\n\nStringBuilder format = new StringBuilder();\nfor(int i = 0; i &lt; inventory.size(); i++) {\n    if(i == 0) {\n        // first item, prepend &quot;Inventory:&quot;\n        format.append(&quot;Inventory:%n%s&quot;);\n    } else if(i == inventory.size() -1) {\n        // last item, don't prepend or append\n        format.append(&quot;%s&quot;);\n    } else if(i % 3 == 2) {\n        // third item, append newline\n        format.append(&quot;%s%n&quot;);\n    } else if(i &lt; inventory.size() -1) {\n        // 1st or 2nd item, append comma and space\n        format.append(&quot;%s, &quot;);\n    }\n}\n\nSystem.out.println(&quot;Format: \\n&quot; + format + &quot;\\n&quot;);\nSystem.out.format(format.toString(), inventory.toArray());;\n</code></pre>\n<p>Output:</p>\n<pre><code>Format: \nInventory:%n%s%s, %s%n%s, %s, %s%n%s\n\nInventory:\nShovelDirt, Magazine\nMarble, Orange, Knife\nPopsicle\n</code></pre>\n"}],"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74623913,"answer_count":2,"score":0,"last_activity_date":1669793405,"creation_date":1669787656,"question_id":74623407,"body_markdown":"I have looked for the past hour at least but to no avail. I&#39;m writing a text based adventure game and I have an ArrayList storing my inventory. I am currently working on a &quot;displayInventory&quot; method which simply prints the inventory to console. \r\n     \r\n    public void displayInventory() \t\r\n\t{   \t\t\t\t\r\n\t\t\r\n\t\tStringBuilder result = new StringBuilder(&quot;Inventory: \\n&quot;);\r\n\r\n\r\n\t\tString format = (&quot;%s, %s, %s %n&quot;); \r\n\t\t\r\n\t\tfor (int i=0; i&lt; inventory.size(); i++)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tresult.append(inventory.get(i));\r\n\t\t}\r\n\t\t\t\r\n\t\t//String result = String.join(&quot;,&quot; inventory);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.format(format, result.toString());;\r\n\t} \r\n\t\r\nNow initially my issue was figuring out how to use it with StringBuilder but now I sort of have that down. But I&#39;ve run into the issue where I&#39;ve set the format to three strings(items from inventory) to be printed to each line. After testing it with only two items I get the errors below (which makes sense).\r\n\r\n\r\n    Inventory: \r\n    Small BottleLarge Bottle, Exception in thread &quot;main&quot; java.util.MissingFormatArgumentException: Format specifier &#39;%s&#39;\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2688)\r\n\tat java.base/java.io.PrintStream.format(PrintStream.java:1209)\r\n\tat wonderland/gameObjects.Player.displayInventory(Player.java:41)\r\n\tat wonderland/gameObjects.Test.main(Test.java:19)\r\n\r\nDo I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?\r\n\r\nThe player could pick three items up, use one, then pick up another two. I need some way of displaying the varying amount of items that could be in their inventory.\r\n\r\nI hate asking questions on SO because they almost always get declared duplicates, despite no case being identical. So I was really hesitant but couldn&#39;t take the head trauma any longer. Thank you in advance for any and all help/answers.","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<p>I have looked for the past hour at least but to no avail. I'm writing a text based adventure game and I have an ArrayList storing my inventory. I am currently working on a &quot;displayInventory&quot; method which simply prints the inventory to console.</p>\n<pre><code>public void displayInventory()  \n{                   \n    \n    StringBuilder result = new StringBuilder(&quot;Inventory: \\n&quot;);\n\n\n    String format = (&quot;%s, %s, %s %n&quot;); \n    \n    for (int i=0; i&lt; inventory.size(); i++)\n    {\n        \n        result.append(inventory.get(i));\n    }\n        \n    //String result = String.join(&quot;,&quot; inventory);\n    \n    \n    System.out.format(format, result.toString());;\n} \n</code></pre>\n<p>Now initially my issue was figuring out how to use it with StringBuilder but now I sort of have that down. But I've run into the issue where I've set the format to three strings(items from inventory) to be printed to each line. After testing it with only two items I get the errors below (which makes sense).</p>\n<pre><code>Inventory: \nSmall BottleLarge Bottle, Exception in thread &quot;main&quot; java.util.MissingFormatArgumentException: Format specifier '%s'\nat java.base/java.util.Formatter.format(Formatter.java:2688)\nat java.base/java.io.PrintStream.format(PrintStream.java:1209)\nat wonderland/gameObjects.Player.displayInventory(Player.java:41)\nat wonderland/gameObjects.Test.main(Test.java:19)\n</code></pre>\n<p>Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?</p>\n<p>The player could pick three items up, use one, then pick up another two. I need some way of displaying the varying amount of items that could be in their inventory.</p>\n<p>I hate asking questions on SO because they almost always get declared duplicates, despite no case being identical. So I was really hesitant but couldn't take the head trauma any longer. Thank you in advance for any and all help/answers.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1648761976,"post_id":71522462,"comment_id":126713953,"body_markdown":"Please see [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822). It looks like there&#39;s an output log in Hackerearth that might tell you what&#39;s wrong.","body":"Please see <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>. It looks like there&#39;s an output log in Hackerearth that might tell you what&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":21647682,"reputation":1,"user_id":15968777,"display_name":"Lingaswamy Dacharam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793203,"creation_date":1669793203,"answer_id":74624182,"question_id":71522462,"body_markdown":"Displayed when a program exits and returns a value other than 0 to the shell\r\n\r\nIn C/C++ \r\n    You forget to add &quot;return 0&quot; at the end of the program. Your program\r\n    threw an exception which was not caught Your program is trying to\r\n    allocate too much memory in a vector\r\n\r\nIn interpreted languages (for e.g. Python)\r\n    Usually means that your program has either crashed or raised an\r\n    uncaught exception Many runtime errors or you are trying to return different variables(in my case).","title":"Runtime error - NZEC Non-zero exit code: This error has occurred because the program has exited after returning a different value from 0 to the shell","body":"<p>Displayed when a program exits and returns a value other than 0 to the shell</p>\n<p>In C/C++\nYou forget to add &quot;return 0&quot; at the end of the program. Your program\nthrew an exception which was not caught Your program is trying to\nallocate too much memory in a vector</p>\n<p>In interpreted languages (for e.g. Python)\nUsually means that your program has either crashed or raised an\nuncaught exception Many runtime errors or you are trying to return different variables(in my case).</p>\n"}],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669793203,"creation_date":1647577454,"question_id":71522462,"body_markdown":"Problem\r\nYou are given an array  of size  that contains integers. Here,  is an even number. You are required to perform the following operations:\r\n\r\nDivide the array of numbers in two equal halves\r\nNote: Here, two equal parts of a test case are created by dividing the array into two equal parts.\r\nTake the first digit of the numbers that are available in the first half of the array (first 50% of the test case)\r\nTake the last digit of the numbers that are available in the second half of the array (second 50% of the test case)\r\nGenerate a number by using the digits that have been selected in the above steps\r\nYour task is to determine whether the newly-generated number is divisible by .\r\n\r\nInput format\r\n\r\nFirst line: A single integer  denoting the size of array \r\nSecond line:  space-separated integers denoting the elements of array \r\nOutput format\r\nIf the newly-generated number is divisible by , then print . Otherwise, print .\r\n\r\nConstraints\r\n \r\n\r\nSample Input\r\n6\r\n15478 8452 8232 874 985 4512\r\nSample Output\r\nOUI\r\nTime Limit: 1\r\nMemory Limit: 256\r\nSource Limit:\r\nExplanation\r\nThe first digit of 15478 is 1.\r\nThe first digit of 8452 is 8.\r\nThe first digit of 8232 is 8.\r\nThe last digit of 874 is 4.\r\nThe last digit of 985 is 5.\r\nThe last digit of 4512 is 2.\r\nThe newly generated number will be 188452 which is divisible by 11.\r\n\r\n [Java Code working in eclipse][1]\r\n\r\n[Error in Hackerearth][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3lhI.png\r\n  [2]: https://i.stack.imgur.com/uZWAk.png","title":"Runtime error - NZEC Non-zero exit code: This error has occurred because the program has exited after returning a different value from 0 to the shell","body":"<p>Problem\nYou are given an array  of size  that contains integers. Here,  is an even number. You are required to perform the following operations:</p>\n<p>Divide the array of numbers in two equal halves\nNote: Here, two equal parts of a test case are created by dividing the array into two equal parts.\nTake the first digit of the numbers that are available in the first half of the array (first 50% of the test case)\nTake the last digit of the numbers that are available in the second half of the array (second 50% of the test case)\nGenerate a number by using the digits that have been selected in the above steps\nYour task is to determine whether the newly-generated number is divisible by .</p>\n<p>Input format</p>\n<p>First line: A single integer  denoting the size of array\nSecond line:  space-separated integers denoting the elements of array\nOutput format\nIf the newly-generated number is divisible by , then print . Otherwise, print .</p>\n<p>Constraints</p>\n<p>Sample Input\n6\n15478 8452 8232 874 985 4512\nSample Output\nOUI\nTime Limit: 1\nMemory Limit: 256\nSource Limit:\nExplanation\nThe first digit of 15478 is 1.\nThe first digit of 8452 is 8.\nThe first digit of 8232 is 8.\nThe last digit of 874 is 4.\nThe last digit of 985 is 5.\nThe last digit of 4512 is 2.\nThe newly generated number will be 188452 which is divisible by 11.</p>\n<p><a href=\"https://i.stack.imgur.com/s3lhI.png\" rel=\"nofollow noreferrer\">Java Code working in eclipse</a></p>\n<p><a href=\"https://i.stack.imgur.com/uZWAk.png\" rel=\"nofollow noreferrer\">Error in Hackerearth</a></p>\n"},{"tags":["java","ssl","tls1.2","tls1.3"],"owner":{"account_id":11254118,"reputation":219,"user_id":8254454,"display_name":"Dimitri Tenenbaum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669792465,"creation_date":1669741459,"question_id":74617657,"body_markdown":"I would like modify sun.security.ssl.SSLSocketImpl and use the customized class, for learning purposes. \r\nI can&#39;t extend it - the class is final. \r\nI can&#39;t copy/paste, because it uses several sun.security.ssl classes that can&#39;t be imported. \r\nAre there any ideas? \r\nA dirty way would be also ok - it&#39;s just for learning and playing.","title":"Customize sun.security.ssl.SSLSocketImpl","body":"<p>I would like modify sun.security.ssl.SSLSocketImpl and use the customized class, for learning purposes.\nI can't extend it - the class is final.\nI can't copy/paste, because it uses several sun.security.ssl classes that can't be imported.\nAre there any ideas?\nA dirty way would be also ok - it's just for learning and playing.</p>\n"},{"tags":["java","spring","neo4j","spring-data","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669792257,"creation_date":1669792257,"answer_id":74624017,"question_id":74615262,"body_markdown":"Params are bound as variables. Variables are interpolated with dollar:\r\n\r\n```\r\n&quot;MATCH(user:User{id:$id})-[watched:WATCHED]-&gt;(movie:Movie{title:$title})&quot;\r\n```","title":"Spring Neo4j Pass Node Property as Parameter","body":"<p>Params are bound as variables. Variables are interpolated with dollar:</p>\n<pre><code>&quot;MATCH(user:User{id:$id})-[watched:WATCHED]-&gt;(movie:Movie{title:$title})&quot;\n</code></pre>\n"}],"owner":{"account_id":26768595,"reputation":5,"user_id":20365354,"display_name":"sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624017,"answer_count":1,"score":0,"last_activity_date":1669792257,"creation_date":1669730357,"question_id":74615262,"body_markdown":"I am trying to pass a property as a parameter.\r\n\r\nI have tried this:\r\n\r\n```\r\nString get_interest=&quot;MATCH(user:User{id:{id}})-[watched:WATCHED]-&gt;(movie:Movie{title:{title}}) &quot; +\r\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\r\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\r\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\r\n        &quot;RETURN similarMovie Limit 20&quot;;\r\n```\r\nBut it fails with this error:\r\n\r\n\r\n```\r\n&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;Cypher execution failed with code &#39;Neo.ClientError.Statement.SyntaxError&#39;: Invalid input &#39;{&#39;: expected \\&quot;+\\&quot; or \\&quot;-\\&quot; (line 1, column 24 (offset: 23))\r\n```\r\n\r\n \r\n\r\nI have tried this and it worked:\r\n\r\n\r\n```\r\nString get_interest=&quot;MATCH(user:User{id:\\&quot;02331\\&quot;})-[watched:WATCHED]-&gt;(movie:Movie{title:\\&quot;The Mask\\&quot;}) &quot; +\r\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\r\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\r\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\r\n        &quot;RETURN similarMovie Limit 20&quot;;\r\n```\r\n\r\nBut I want to pass other User ids and titles.\r\n\r\n\r\nThis is my Repository\r\n```\r\n@Query(get_interest)\r\nCollection&lt;Movie&gt; getMovieByInterest(@Param(&quot;id&quot;) String id,\r\n                                         @Param(&quot;title&quot;) String title);\r\n```\r\n","title":"Spring Neo4j Pass Node Property as Parameter","body":"<p>I am trying to pass a property as a parameter.</p>\n<p>I have tried this:</p>\n<pre><code>String get_interest=&quot;MATCH(user:User{id:{id}})-[watched:WATCHED]-&gt;(movie:Movie{title:{title}}) &quot; +\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\n        &quot;RETURN similarMovie Limit 20&quot;;\n</code></pre>\n<p>But it fails with this error:</p>\n<pre><code>&quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;Cypher execution failed with code 'Neo.ClientError.Statement.SyntaxError': Invalid input '{': expected \\&quot;+\\&quot; or \\&quot;-\\&quot; (line 1, column 24 (offset: 23))\n</code></pre>\n<p>I have tried this and it worked:</p>\n<pre><code>String get_interest=&quot;MATCH(user:User{id:\\&quot;02331\\&quot;})-[watched:WATCHED]-&gt;(movie:Movie{title:\\&quot;The Mask\\&quot;}) &quot; +\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\n        &quot;RETURN similarMovie Limit 20&quot;;\n</code></pre>\n<p>But I want to pass other User ids and titles.</p>\n<p>This is my Repository</p>\n<pre><code>@Query(get_interest)\nCollection&lt;Movie&gt; getMovieByInterest(@Param(&quot;id&quot;) String id,\n                                         @Param(&quot;title&quot;) String title);\n</code></pre>\n"},{"tags":["java","json","jackson","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669792143,"creation_date":1669188677,"answer_id":74543145,"question_id":74542681,"body_markdown":"resolved by\r\n\r\n```\r\n @Bean\r\n  @Primary\r\n  public ObjectMapper objectMapper() {\r\n    return new ObjectMapper()\r\n        .registerModule(new JavaTimeModule();\r\n  }\r\n\r\n","title":"Deserialize OffsetDataTime java 17","body":"<p>resolved by</p>\n<pre><code> @Bean\n  @Primary\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper()\n        .registerModule(new JavaTimeModule();\n  }\n\n</code></pre>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669792143,"creation_date":1669185544,"question_id":74542681,"body_markdown":"I test endpoints&#39; basic security.\r\n```\r\nTest\r\n\r\n mvc.perform(MockMvcRequestBuilders.post(path)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .content(objectMapper.writeValueAsString(OBJECT))\r\n        .params(usersSampleRequestParams)\r\n        .with(httpBasic(user, password)))\r\n        .andExpect(status().isOk());\r\n    enter code here\r\n\r\nController\r\n\r\n@PostMapping(&quot;/path&quot;)\r\n  public void methodSignature(@RequestBody Car car) {}\r\n```\r\n\r\nThe problem is \r\n**com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.OffsetDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: Car field [&quot;DateOfProducing&quot;])**\r\n\r\n\r\nI tried different solutions:\r\n1. to add \r\ncom.fasterxml.jackson.datatype:jackson-datatype-jsr310 to dependencies\r\n2) ``` objectMapper.registerModule(new JavaTimeModule());```\r\n3) ``` JsonMapper.builder()\r\n    .findAndAddModules()\r\n    .build();```\r\n4) tried serialize object through Gson and register TypeAdapter\r\n   ``` GsonBuilder builder = new GsonBuilder();\r\n    builder.registerTypeAdapter(OffsetDateTime.class, new JSON.OffsetDateTimeTypeAdapter());```\r\n\r\nThe service where I write tests uses java 17 but Car Entity is From another repository which uses java 8.\r\nIt seems to me that the problem does&#39;t relate to my test but relates to Car&#39;s repository dependencies.\r\nTQ, for any piece of advice.\r\n\r\n","title":"Deserialize OffsetDataTime java 17","body":"<p>I test endpoints' basic security.</p>\n<pre><code>Test\n\n mvc.perform(MockMvcRequestBuilders.post(path)\n        .contentType(MediaType.APPLICATION_JSON)\n        .content(objectMapper.writeValueAsString(OBJECT))\n        .params(usersSampleRequestParams)\n        .with(httpBasic(user, password)))\n        .andExpect(status().isOk());\n    enter code here\n\nController\n\n@PostMapping(&quot;/path&quot;)\n  public void methodSignature(@RequestBody Car car) {}\n</code></pre>\n<p>The problem is\n<strong>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type <code>java.time.OffsetDateTime</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: Car field [&quot;DateOfProducing&quot;])</strong></p>\n<p>I tried different solutions:</p>\n<ol>\n<li>to add\ncom.fasterxml.jackson.datatype:jackson-datatype-jsr310 to dependencies</li>\n</ol>\n<ol start=\"2\">\n<li><code> objectMapper.registerModule(new JavaTimeModule());</code></li>\n<li>\n<pre><code> .findAndAddModules()\n .build();```\n</code></pre>\n</li>\n<li>tried serialize object through Gson and register TypeAdapter\n<pre><code> builder.registerTypeAdapter(OffsetDateTime.class, new JSON.OffsetDateTimeTypeAdapter());```\n\n</code></pre>\n</li>\n</ol>\n<p>The service where I write tests uses java 17 but Car Entity is From another repository which uses java 8.\nIt seems to me that the problem does't relate to my test but relates to Car's repository dependencies.\nTQ, for any piece of advice.</p>\n"},{"tags":["java","string","lambda","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445686639,"creation_date":1445686639,"answer_id":33317722,"question_id":33317686,"body_markdown":"What you want is to collect elements of a Stream into a String. This can be done using [`Collectors.joining(delimiter)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-):\r\n\r\n    inputText.chars() // get char stream\r\n\t\t     .filter(c -&gt; c != &#39; &#39;) // remove spaces\r\n\t\t\t .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char\r\n\t\t\t .mapToObj(i -&gt; String.format(&quot;%05X&quot;, i &amp; 0xFFFFF)) // to Hex String values\r\n\t\t\t .collect(joining(&quot; &quot;));  // join each value together, separated with a space\r\n\r\nThis has the benefit that:\r\n\r\n - There&#39;s no need to use `forEach` and mutate an external object.\r\n - There&#39;s no need to delete the last character.","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>What you want is to collect elements of a Stream into a String. This can be done using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\"><code>Collectors.joining(delimiter)</code></a>:</p>\n\n<pre><code>inputText.chars() // get char stream\n         .filter(c -&gt; c != ' ') // remove spaces\n         .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char\n         .mapToObj(i -&gt; String.format(\"%05X\", i &amp; 0xFFFFF)) // to Hex String values\n         .collect(joining(\" \"));  // join each value together, separated with a space\n</code></pre>\n\n<p>This has the benefit that:</p>\n\n<ul>\n<li>There's no need to use <code>forEach</code> and mutate an external object.</li>\n<li>There's no need to delete the last character.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27094905,"reputation":1,"user_id":20642232,"display_name":"Ashish Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669792035,"creation_date":1669792035,"answer_id":74623983,"question_id":33317686,"body_markdown":"StringBuilder sb = new StringBuilder(); inputText.chars() // get char stream .filter(c -&gt; c != &#39; &#39;) // remove spaces .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char .boxed() // to Integer stream .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values .forEach(sb::append); if (sb.length() &gt; 0) sb.deleteCharAt(sb.length() - 1); return sb.toString();","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>StringBuilder sb = new StringBuilder(); inputText.chars() // get char stream .filter(c -&gt; c != ' ') // remove spaces .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char .boxed() // to Integer stream .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values .forEach(sb::append); if (sb.length() &gt; 0) sb.deleteCharAt(sb.length() - 1); return sb.toString();</p>\n"}],"owner":{"account_id":5685459,"reputation":3363,"user_id":4495175,"accept_rate":93,"display_name":"Letfar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6453,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33317722,"answer_count":2,"score":4,"last_activity_date":1669792035,"creation_date":1445686413,"question_id":33317686,"body_markdown":"I&#39;m writing a Xor method which ecnrypts some string by adding (as xor operation) random values to its characters. Result should look like as string with hex values of encrypted characters.\r\n\r\n**Example:**\r\n\r\n&quot;*Hello world*&quot; =&gt; &quot;*0006F 00046 00066 00076 0004D 0007F 00047 0007D 00062 0006E*&quot;\r\n\r\n**The code:**\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    inputText.chars()                                      // get char stream\r\n             .filter(c -&gt; c != &#39; &#39;)                         // remove spaces\r\n             .map(c -&gt; c ^ random.nextInt(randBound))       // do xor for each char\r\n             .boxed()                                       // to Integer stream\r\n             .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values\r\n             .forEach(sb::append);\r\n\r\n    if (sb.length() &gt; 0)\r\n        sb.deleteCharAt(sb.length() - 1);\r\n\r\n    return sb.toString();\r\n\r\nAs you see, I&#39;ve formated the result as `&quot;%05X &quot;`, so I&#39;ve got unwanted space in the end of string. And need to use `sb.deleteCharAt(sb.length() - 1);`.\r\n\r\nHow to format the correct result directly in stream?","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>I'm writing a Xor method which ecnrypts some string by adding (as xor operation) random values to its characters. Result should look like as string with hex values of encrypted characters.</p>\n\n<p><strong>Example:</strong></p>\n\n<p>\"<em>Hello world</em>\" => \"<em>0006F 00046 00066 00076 0004D 0007F 00047 0007D 00062 0006E</em>\"</p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n\ninputText.chars()                                      // get char stream\n         .filter(c -&gt; c != ' ')                         // remove spaces\n         .map(c -&gt; c ^ random.nextInt(randBound))       // do xor for each char\n         .boxed()                                       // to Integer stream\n         .map(i -&gt; String.format(\"%05X \", i &amp; 0xFFFFF)) // to Hex String values\n         .forEach(sb::append);\n\nif (sb.length() &gt; 0)\n    sb.deleteCharAt(sb.length() - 1);\n\nreturn sb.toString();\n</code></pre>\n\n<p>As you see, I've formated the result as <code>\"%05X \"</code>, so I've got unwanted space in the end of string. And need to use <code>sb.deleteCharAt(sb.length() - 1);</code>.</p>\n\n<p>How to format the correct result directly in stream?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669293611,"post_id":74557127,"comment_id":131614858,"body_markdown":"If `stud.doj` is a genuine date, you can select between the begining and the end of year : `where doj &gt;= 1/1/2017 and doj &lt; 1/1/2018`.","body":"If <code>stud.doj</code> is a genuine date, you can select between the begining and the end of year : <code>where doj &gt;= 1&#47;1&#47;2017 and doj &lt; 1&#47;1&#47;2018</code>."},{"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"score":0,"creation_date":1669294470,"post_id":74557127,"comment_id":131615163,"body_markdown":"is there any way to extract year in jpql ?","body":"is there any way to extract year in jpql ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669303046,"post_id":74557127,"comment_id":131618109,"body_markdown":"you can find solutions here https://stackoverflow.com/questions/34295105/extract-year-from-date-field-using-jpql-and-jpa","body":"you can find solutions here <a href=\"https://stackoverflow.com/questions/34295105/extract-year-from-date-field-using-jpql-and-jpa\" title=\"extract year from date field using jpql and jpa\">stackoverflow.com/questions/34295105/&hellip;</a>"}],"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669791995,"creation_date":1669275360,"question_id":74557127,"body_markdown":"How to extract full year from date field in jpql ?\r\n\r\nex: 06-SEP-17  -&gt;From this i wanted to get year as 2017\r\n```\r\n@Query(value = &quot;SELECT stud FROM Student stud where stud.doj = &#39;2017&#39; &quot;) //in this query doj is in 06-SEP-17 format, my requirement is to extract full year from this and compare.\r\nList&lt;Student&gt; getStudents()","title":"How to extract year from date in jpql?","body":"<p>How to extract full year from date field in jpql ?</p>\n<p>ex: 06-SEP-17  -&gt;From this i wanted to get year as 2017</p>\n<pre><code>@Query(value = &quot;SELECT stud FROM Student stud where stud.doj = '2017' &quot;) //in this query doj is in 06-SEP-17 format, my requirement is to extract full year from this and compare.\nList&lt;Student&gt; getStudents()\n</code></pre>\n"},{"tags":["java","r","openstreetmap"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668763195,"post_id":74486683,"comment_id":131490113,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":19679759,"reputation":1500,"user_id":14407123,"display_name":"mgrund"},"score":1,"creation_date":1669105979,"post_id":74486683,"comment_id":131562142,"body_markdown":"Do you really need &quot;esri-topo&quot;? If you set e.g. `type = &quot;osm&quot;` it should work.","body":"Do you really need &quot;esri-topo&quot;? If you set e.g. <code>type = &quot;osm&quot;</code> it should work."}],"answers":[{"tags":[],"owner":{"account_id":22629254,"reputation":1,"user_id":16806898,"display_name":"DonQUijote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669791326,"creation_date":1669791326,"answer_id":74623872,"question_id":74486683,"body_markdown":"Problem solved. \r\nI downloaded all the java stuff from this link: \r\nhttps://www.oracle.com/java/technologies/downloads/#jdk19-windows\r\nThen I had to define the Windows JAVA_PATH according to the recipe here: \r\nhttps://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/\r\nThen I had to edit the type-setting in read_osm to type=&quot;osm&quot; as kindly suggested by @mgrund in the comment. \r\nThen my programs worked as before. ","title":"read_osm in tmaptools delivers errors","body":"<p>Problem solved.\nI downloaded all the java stuff from this link:\n<a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a>\nThen I had to define the Windows JAVA_PATH according to the recipe here:\n<a href=\"https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/</a>\nThen I had to edit the type-setting in read_osm to type=&quot;osm&quot; as kindly suggested by @mgrund in the comment.\nThen my programs worked as before.</p>\n"}],"owner":{"account_id":22629254,"reputation":1,"user_id":16806898,"display_name":"DonQUijote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669791326,"creation_date":1668759285,"question_id":74486683,"body_markdown":"The following line in R: \r\n\r\n```\r\nbg = read_osm(bb(c(min(lons)+0.5,min(lats)+0.2,max(lons),max(lats))), type=&#39;esri-topo&#39;)\r\n\r\n```\r\ncreates the error message below. What&#39;s wrong, and how to fix it?\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat edu.cens.spatial.RTileController.getTileValues(RTileController.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat RJavaTools.invokeMethod(RJavaTools.java:399)\r\nError in osmtile(x%%nX, y, zoom, type) : could not obtain tile: 65 36 7\r\n```\r\n\r\nI have loaded the libs: tmaptools, tmap, rnaturalearth, raster, ncdf4\r\nlons and lats are numeric vectors:\r\n lons\r\n [1]  5.042400  5.127200  5.212000  5.296800  5.381600  5.466400  5.551200  5.636000  5.720800  5.805600  5.890400  5.975200\r\n[13]  6.060000  6.144800  6.229600  6.314400  6.399200  6.484000  6.568800  6.653600  6.738400  6.823200  6.908000  6.992800\r\n[25]  7.077600  7.162400  7.247200  7.332000  7.416800  7.501600  7.586400  7.671200  7.756000  7.840800  7.925600  8.010401\r\n[37]  8.095200  8.180000  8.264800  8.349600  8.434401  8.519200  8.604000  8.688801  8.773600  8.858400  8.943200  9.028000\r\n[49]  9.112801  9.197600  9.282400  9.367201  9.452000  9.536800  9.621600  9.706400  9.791201  9.876000  9.960800 10.045601\r\n[61] 10.130400 10.215200 10.300000 10.384800 10.469601 10.554400 10.639200 10.724001 10.808800 10.893600 10.978400 11.063200\r\n[73] 11.148001 11.232800 11.317600 11.402401 11.487200 11.572001 11.656800 11.741600\r\n\r\nlats\r\n [1] 57.02248 57.06742 57.11237 57.15733 57.20227 57.24723 57.29218 57.33712 57.38208 57.42702 57.47197 57.51693 57.56187\r\n[14] 57.60683 57.65178 57.69672 57.74168 57.78662 57.83157 57.87653 57.92147 57.96643 58.01138 58.05632 58.10128 58.14622\r\n[27] 58.19117 58.23613 58.28107 58.32603 58.37098 58.41592 58.46088 58.50583 58.55077 58.59573 58.64067 58.68563 58.73058\r\n[40] 58.77552 58.82048 58.86543 58.91037 58.95533 59.00027 59.04523 59.09018 59.13512 59.18008 59.22503 59.26997 59.31493\r\n[53] 59.35987 59.40483 59.44978 59.49472 59.53968 59.58463 59.62957 59.67453 59.71947 59.76443 59.80938 59.85432 59.89928\r\n[66] 59.94423 59.98917 60.03413 60.07907 60.12403 60.16898 60.21392 60.25888 60.30383 60.34877 60.39373 60.43867 60.48363\r\n[79] 60.52858 60.57352\r\n\r\n\r\n\r\n\r\nhoped to get a map area. didnt work\r\n","title":"read_osm in tmaptools delivers errors","body":"<p>The following line in R:</p>\n<pre><code>bg = read_osm(bb(c(min(lons)+0.5,min(lats)+0.2,max(lons),max(lats))), type='esri-topo')\n\n</code></pre>\n<p>creates the error message below. What's wrong, and how to fix it?</p>\n<pre><code>java.lang.NullPointerException\n    at edu.cens.spatial.RTileController.getTileValues(RTileController.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at RJavaTools.invokeMethod(RJavaTools.java:399)\nError in osmtile(x%%nX, y, zoom, type) : could not obtain tile: 65 36 7\n</code></pre>\n<p>I have loaded the libs: tmaptools, tmap, rnaturalearth, raster, ncdf4\nlons and lats are numeric vectors:\nlons\n[1]  5.042400  5.127200  5.212000  5.296800  5.381600  5.466400  5.551200  5.636000  5.720800  5.805600  5.890400  5.975200\n[13]  6.060000  6.144800  6.229600  6.314400  6.399200  6.484000  6.568800  6.653600  6.738400  6.823200  6.908000  6.992800\n[25]  7.077600  7.162400  7.247200  7.332000  7.416800  7.501600  7.586400  7.671200  7.756000  7.840800  7.925600  8.010401\n[37]  8.095200  8.180000  8.264800  8.349600  8.434401  8.519200  8.604000  8.688801  8.773600  8.858400  8.943200  9.028000\n[49]  9.112801  9.197600  9.282400  9.367201  9.452000  9.536800  9.621600  9.706400  9.791201  9.876000  9.960800 10.045601\n[61] 10.130400 10.215200 10.300000 10.384800 10.469601 10.554400 10.639200 10.724001 10.808800 10.893600 10.978400 11.063200\n[73] 11.148001 11.232800 11.317600 11.402401 11.487200 11.572001 11.656800 11.741600</p>\n<p>lats\n[1] 57.02248 57.06742 57.11237 57.15733 57.20227 57.24723 57.29218 57.33712 57.38208 57.42702 57.47197 57.51693 57.56187\n[14] 57.60683 57.65178 57.69672 57.74168 57.78662 57.83157 57.87653 57.92147 57.96643 58.01138 58.05632 58.10128 58.14622\n[27] 58.19117 58.23613 58.28107 58.32603 58.37098 58.41592 58.46088 58.50583 58.55077 58.59573 58.64067 58.68563 58.73058\n[40] 58.77552 58.82048 58.86543 58.91037 58.95533 59.00027 59.04523 59.09018 59.13512 59.18008 59.22503 59.26997 59.31493\n[53] 59.35987 59.40483 59.44978 59.49472 59.53968 59.58463 59.62957 59.67453 59.71947 59.76443 59.80938 59.85432 59.89928\n[66] 59.94423 59.98917 60.03413 60.07907 60.12403 60.16898 60.21392 60.25888 60.30383 60.34877 60.39373 60.43867 60.48363\n[79] 60.52858 60.57352</p>\n<p>hoped to get a map area. didnt work</p>\n"},{"tags":["java","loops","for-loop","if-statement","arraylist"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1669788116,"post_id":74623450,"comment_id":131719897,"body_markdown":"have you tried debugging your program?","body":"have you tried debugging your program?"},{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":0,"creation_date":1669788328,"post_id":74623450,"comment_id":131719947,"body_markdown":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\n\tat Quiz6.quize103.main(quize103.java:59)","body":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5 \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Precon&zwnj;&#8203;ditions.java:100) \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIn&zwnj;&#8203;dex(Preconditions.ja&zwnj;&#8203;va:106) \tat java.base/jdk.internal.util.Preconditions.checkIndex(Precond&zwnj;&#8203;itions.java:302) \tat java.base/java.util.Objects.checkIndex(Objects.java:359) \tat java.base/java.util.ArrayList.get(ArrayList.java:427) \tat Quiz6.quize103.main(quize103.java:59)"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":1,"creation_date":1669788376,"post_id":74623450,"comment_id":131719954,"body_markdown":"should you start from 1 or 0? \nor you should start from 0, but if it is 0, then you should print &quot;Year 1: No comperison&quot; perhaps? \nshould you compare item at i with item at i+1 or item at i-1? if you compare with item i+1, should you update the for condition where to stop?\nI hope my questions help you to point where your fix should be.","body":"should you start from 1 or 0?  or you should start from 0, but if it is 0, then you should print &quot;Year 1: No comperison&quot; perhaps?  should you compare item at i with item at i+1 or item at i-1? if you compare with item i+1, should you update the for condition where to stop? I hope my questions help you to point where your fix should be."},{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":0,"creation_date":1669789112,"post_id":74623450,"comment_id":131720100,"body_markdown":"Thank you @fauzimh! Your questions helped and I found the problem in my code.","body":"Thank you @fauzimh! Your questions helped and I found the problem in my code."}],"answers":[{"tags":[],"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669789692,"creation_date":1669789692,"answer_id":74623654,"question_id":74623450,"body_markdown":"Thanks to user fauzimh who asked me some insightful questions, I found the answer to my problem. Turned out that by adding when comparing, I would be going over the length of my ArrayList, so all I had to do was subtract.\r\n\r\nHere is the updated code.\r\n&gt;        System.out.println(&quot;Year 1: No comparison&quot;);\r\n&gt;        for (int i = 1; i &lt; revenues.size(); i = i + 1){\r\n&gt;            if (revenues.get(i) &lt; revenues.get(i-1)){\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\r\n&gt;            } else if (revenues.get(i) &gt; revenues.get(i-1)){\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\r\n&gt;            } else {\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\r\n&gt;            }\r\n&gt;        }\r\n\r\nI hope I am right because it seemed to work.","title":"Dose anyone know what I did wrong in this loop?","body":"<p>Thanks to user fauzimh who asked me some insightful questions, I found the answer to my problem. Turned out that by adding when comparing, I would be going over the length of my ArrayList, so all I had to do was subtract.</p>\n<p>Here is the updated code.</p>\n<blockquote>\n<pre><code>   System.out.println(&quot;Year 1: No comparison&quot;);\n   for (int i = 1; i &lt; revenues.size(); i = i + 1){\n       if (revenues.get(i) &lt; revenues.get(i-1)){\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\n       } else if (revenues.get(i) &gt; revenues.get(i-1)){\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\n       } else {\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\n       }\n   }\n</code></pre>\n</blockquote>\n<p>I hope I am right because it seemed to work.</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669791173,"creation_date":1669790444,"answer_id":74623748,"question_id":74623450,"body_markdown":"Some general improvements:\r\n* Store the year you want to compare in a dedicated variable (e.g. `previousYear`)\r\n* Try to loop with an index of `0`, it&#39;s easier to keep track of since that&#39;s what Java Arrays and Java Lists use!\r\n* If you want to show `0` as your `1st` year, just add the `+1` to the lines showing your output.\r\n* `i++` is shorthand for `i = i + 1`\r\n\r\nIn my case, I&#39;ve initialized a variable called `previousYear` as `-1`, which will show an increase the first year no matter what, since there&#39;s nothing to compare to.  Hopefully this helps. :)\r\n\r\n    // Create the list of revenues\r\n    List&lt;Integer&gt; revenues = Arrays.asList(new Integer[]{ 1234, 2345, 2123, 2123 });\r\n\r\n    // Default last years revenue to -1 since we don&#39;t know it yet\r\n    int previousYear = -1;\r\n\r\n    // Compare each year to the previous year\r\n    for (int i = 0; i &lt; revenues.size(); i++){\r\n        // Store the current year&#39;s revenue\r\n        int currentYear = revenues.get(i);\r\n\r\n        // Show comparison to the screen\r\n        if (previousYear == -1) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: no comparison&quot;);\r\n        } else if (currentYear &gt; previousYear) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\r\n        } else if (currentYear &lt; previousYear) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\r\n        } else {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\r\n        }\r\n\r\n        // Store as previous year for next loop\r\n        previousYear = currentYear;\r\n    }","title":"Dose anyone know what I did wrong in this loop?","body":"<p>Some general improvements:</p>\n<ul>\n<li>Store the year you want to compare in a dedicated variable (e.g. <code>previousYear</code>)</li>\n<li>Try to loop with an index of <code>0</code>, it's easier to keep track of since that's what Java Arrays and Java Lists use!</li>\n<li>If you want to show <code>0</code> as your <code>1st</code> year, just add the <code>+1</code> to the lines showing your output.</li>\n<li><code>i++</code> is shorthand for <code>i = i + 1</code></li>\n</ul>\n<p>In my case, I've initialized a variable called <code>previousYear</code> as <code>-1</code>, which will show an increase the first year no matter what, since there's nothing to compare to.  Hopefully this helps. :)</p>\n<pre><code>// Create the list of revenues\nList&lt;Integer&gt; revenues = Arrays.asList(new Integer[]{ 1234, 2345, 2123, 2123 });\n\n// Default last years revenue to -1 since we don't know it yet\nint previousYear = -1;\n\n// Compare each year to the previous year\nfor (int i = 0; i &lt; revenues.size(); i++){\n    // Store the current year's revenue\n    int currentYear = revenues.get(i);\n\n    // Show comparison to the screen\n    if (previousYear == -1) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: no comparison&quot;);\n    } else if (currentYear &gt; previousYear) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\n    } else if (currentYear &lt; previousYear) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\n    } else {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\n    }\n\n    // Store as previous year for next loop\n    previousYear = currentYear;\n}\n</code></pre>\n"}],"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669804500,"accepted_answer_id":74623748,"answer_count":2,"score":1,"last_activity_date":1669791173,"creation_date":1669787909,"question_id":74623450,"body_markdown":"For a project in school, I was asked to write a program that loops through the values in an ArrayList named *revenues* and prints whether or not if the numbers withen *revenues* increased, decreased, or stayed the same while it went through the ArrayList.\r\n\r\nThis is what I wrote\r\n\r\n```\r\n        System.out.println(&quot;Year 1: No comperison&quot;);\r\n        for (int i = 0; i &lt; revenues.size(); i = i + 1){\r\n            if (revenues.get(i) &lt; revenues.get(i+1)){\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: increased&quot;);\r\n            } else if (revenues.get(i) &gt; revenues.get(i+1)){\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: decreased&quot;);\r\n            } else {\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: stayed the same&quot;);\r\n            }\r\n        }\r\n```\r\n\r\nBut whenever I ran the program, it shows me an error message because of this code.\r\n\r\nThis is the error \r\n```\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n```","title":"Dose anyone know what I did wrong in this loop?","body":"<p>For a project in school, I was asked to write a program that loops through the values in an ArrayList named <em>revenues</em> and prints whether or not if the numbers withen <em>revenues</em> increased, decreased, or stayed the same while it went through the ArrayList.</p>\n<p>This is what I wrote</p>\n<pre><code>        System.out.println(&quot;Year 1: No comperison&quot;);\n        for (int i = 0; i &lt; revenues.size(); i = i + 1){\n            if (revenues.get(i) &lt; revenues.get(i+1)){\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: increased&quot;);\n            } else if (revenues.get(i) &gt; revenues.get(i+1)){\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: decreased&quot;);\n            } else {\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: stayed the same&quot;);\n            }\n        }\n</code></pre>\n<p>But whenever I ran the program, it shows me an error message because of this code.</p>\n<p>This is the error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:359)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jsp"],"answers":[{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669790841,"creation_date":1669758181,"answer_id":74620551,"question_id":74619146,"body_markdown":"Usually project has next hierarhy:\r\n```\r\nsrc\r\n     `-- main\r\n         |-- java\r\n         |   `-- ...\r\n         |-- resources\r\n         |   `-- ...\r\n         `-- webapp\r\n             |-- ...\r\n```\r\nAnd it is better to make same hierarhy in your code.\r\nIn this case root is `webapp` folder for `InternalResourceViewResolver`\r\n```\r\ninternalResourceViewResolver.setPrefix(&quot;/view/&quot;)\r\n```\r\nJsp should be in `webapp` hierarhy, due to different behaviour in case of store you jsp in resources folder (war and jar package store this jsp in different places in builder war and jar).","title":"Spring MVC throws 404 NOT_FOUND while looking for JSP files","body":"<p>Usually project has next hierarhy:</p>\n<pre><code>src\n     `-- main\n         |-- java\n         |   `-- ...\n         |-- resources\n         |   `-- ...\n         `-- webapp\n             |-- ...\n</code></pre>\n<p>And it is better to make same hierarhy in your code.\nIn this case root is <code>webapp</code> folder for <code>InternalResourceViewResolver</code></p>\n<pre><code>internalResourceViewResolver.setPrefix(&quot;/view/&quot;)\n</code></pre>\n<p>Jsp should be in <code>webapp</code> hierarhy, due to different behaviour in case of store you jsp in resources folder (war and jar package store this jsp in different places in builder war and jar).</p>\n"}],"owner":{"account_id":15289746,"reputation":15,"user_id":11031613,"display_name":"Lorena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669790841,"creation_date":1669749177,"question_id":74619146,"body_markdown":"In a simple Spring Core MVC Project (No Spring Boot, no XML configuration) I got 404 NOT_FOUND while trying to access to a URL declared in a controller, and it says that cannot find the JSP File.\r\n\r\nHere&#39;s the console output:\r\n\r\n    [http-nio-8080-exec-1] DEBUG DispatcherServlet - GET &quot;/appmutualista/socios/showSocios&quot;, parameters={}\r\n    [http-nio-8080-exec-1] DEBUG RequestMappingHandlerMapping - Mapped to dev.lorena.projects.appmutualista.controller.SocioController#showSocios()\r\n    [http-nio-8080-exec-1] DEBUG JstlView - View name &#39;socios&#39;, model {}\r\n    [http-nio-8080-exec-1] DEBUG JstlView - Forwarding to [/webapp/view/socios.jsp]\r\n    [http-nio-8080-exec-1] DEBUG DispatcherServlet - Completed 404 NOT_FOUND\r\n\r\nThe controller:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/socios&quot;)\r\n    public class SocioController {\r\n    \t\r\n    \t@GetMapping(&quot;/showSocios&quot;)\r\n    \tpublic String showSocios() {\r\n    \t\treturn &quot;socios&quot;;\r\n    \t}\r\n    }\r\n\r\nThe ViewResolver bean in @Configuration class:\r\n\r\n    @Bean\r\n    public ViewResolver internalResourceViewResolver() {\r\n        InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\r\n        internalResourceViewResolver.setPrefix(&quot;/webapp/view/&quot;);\r\n        internalResourceViewResolver.setSuffix(&quot;.jsp&quot;);\r\n        return internalResourceViewResolver;\r\n     }\r\n\r\nAnd the project structure:\r\n\r\n[![The Project Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mL2t1.png\r\n\r\nI am using embedded Tomcat 9 and JDK 8 to run the APP. After hours, I cannot figure out what I am doing wrong.","title":"Spring MVC throws 404 NOT_FOUND while looking for JSP files","body":"<p>In a simple Spring Core MVC Project (No Spring Boot, no XML configuration) I got 404 NOT_FOUND while trying to access to a URL declared in a controller, and it says that cannot find the JSP File.</p>\n<p>Here's the console output:</p>\n<pre><code>[http-nio-8080-exec-1] DEBUG DispatcherServlet - GET &quot;/appmutualista/socios/showSocios&quot;, parameters={}\n[http-nio-8080-exec-1] DEBUG RequestMappingHandlerMapping - Mapped to dev.lorena.projects.appmutualista.controller.SocioController#showSocios()\n[http-nio-8080-exec-1] DEBUG JstlView - View name 'socios', model {}\n[http-nio-8080-exec-1] DEBUG JstlView - Forwarding to [/webapp/view/socios.jsp]\n[http-nio-8080-exec-1] DEBUG DispatcherServlet - Completed 404 NOT_FOUND\n</code></pre>\n<p>The controller:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/socios&quot;)\npublic class SocioController {\n    \n    @GetMapping(&quot;/showSocios&quot;)\n    public String showSocios() {\n        return &quot;socios&quot;;\n    }\n}\n</code></pre>\n<p>The ViewResolver bean in @Configuration class:</p>\n<pre><code>@Bean\npublic ViewResolver internalResourceViewResolver() {\n    InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\n    internalResourceViewResolver.setPrefix(&quot;/webapp/view/&quot;);\n    internalResourceViewResolver.setSuffix(&quot;.jsp&quot;);\n    return internalResourceViewResolver;\n }\n</code></pre>\n<p>And the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mL2t1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mL2t1.png\" alt=\"The Project Structure\" /></a></p>\n<p>I am using embedded Tomcat 9 and JDK 8 to run the APP. After hours, I cannot figure out what I am doing wrong.</p>\n"},{"tags":["java","file","multipart"],"answers":[{"tags":[],"owner":{"account_id":12581210,"reputation":196,"user_id":9151832,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529441250,"creation_date":1529434030,"answer_id":50935113,"question_id":50926887,"body_markdown":"If you upload like that then file will read from local and it will not read when u check-in or run from server.\r\n\r\nUse common Multipart or standard Multipart resolver which may solve your issue.\r\n\r\n\r\nRefer below code.  \r\n\r\n**JSP**  \r\n    method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n\r\n\r\n**Controller:**  \r\n\r\n    Multipart upload;\r\n    byte[] bytes = file.getBytes(); \r\n    Path path=file.get(fileinputstream (upload));\r\n\r\n**Bean:**  \r\n\r\n    private Multipart upload;\r\n    Getter and setter method;\r\n\r\n**Register Bean**\r\n\r\n    @Bean public MultipartResolver multipartResolver() { \r\n        return new StandardServletMultipartResolver(); \r\n    }\r\n\r\n","title":"How to create a Multipart file using java","body":"<p>If you upload like that then file will read from local and it will not read when u check-in or run from server.</p>\n\n<p>Use common Multipart or standard Multipart resolver which may solve your issue.</p>\n\n<p>Refer below code.  </p>\n\n<p><strong>JSP</strong><br>\n    method=\"POST\" enctype=\"multipart/form-data\"> </p>\n\n<p><strong>Controller:</strong>  </p>\n\n<pre><code>Multipart upload;\nbyte[] bytes = file.getBytes(); \nPath path=file.get(fileinputstream (upload));\n</code></pre>\n\n<p><strong>Bean:</strong>  </p>\n\n<pre><code>private Multipart upload;\nGetter and setter method;\n</code></pre>\n\n<p><strong>Register Bean</strong></p>\n\n<pre><code>@Bean public MultipartResolver multipartResolver() { \n    return new StandardServletMultipartResolver(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7949519,"reputation":51,"user_id":6000746,"display_name":"Harshal Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789848,"creation_date":1669789848,"answer_id":74623672,"question_id":50926887,"body_markdown":"You can create Multipart file using MockMultipartFile in java.\r\n\r\nMultipartFile multipartFile = new MockMultipartFile(&quot;sourceFile.tmp&quot;, &quot;Hello World&quot;.getBytes());\r\n","title":"How to create a Multipart file using java","body":"<p>You can create Multipart file using MockMultipartFile in java.</p>\n<p>MultipartFile multipartFile = new MockMultipartFile(&quot;sourceFile.tmp&quot;, &quot;Hello World&quot;.getBytes());</p>\n"}],"owner":{"account_id":9885446,"reputation":175,"user_id":7320094,"accept_rate":14,"display_name":"K.Sumith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15123,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669789848,"creation_date":1529406297,"question_id":50926887,"body_markdown":"I am trying to use create Multipart files and upload these files using my Java Spring MVC web application. I could not find any documentation to create a multipart file using Java, so I tried to create a file and then convert it to a multipart file and then upload it. I use the following code:\r\n\r\n    int randomCode = randomCodeGenerator() ;\r\n    File file1 = new File(&quot;E:\\\\myAccount\\\\voice&quot;+randomCode+&quot;.xml&quot;);\r\n    FileWriter writer = new FileWriter(file1);\r\n    writer.write(response);\r\n    writer.close();\r\n\r\nI am then trying to convert it into a multipart file as follows:\r\n\r\n    DiskFileItem fileItem = new DiskFileItem(&quot;file&quot;, &quot;text/plain&quot;, false, file1.getName(), (int) file1.length() , file1.getParentFile());\r\n    fileItem.getOutputStream();\r\n    MultipartFile multipartFile = new CommonsMultipartFile(fileItem);\r\n    byte[] `filedata` = multipartFile.getBytes();\r\n\r\nNow I always get the `filedata` as 0, which means the multipart file is empty. but I have already written to the file before converting it into multipart.\r\n\r\nI am not sure what I am missing here. Also, I am not sure this approach will work on my server since I am trying to create a file on my disk, which is working for me locally. Is there any way to create a multipart file or convert the file to Multipart file without losing data.","title":"How to create a Multipart file using java","body":"<p>I am trying to use create Multipart files and upload these files using my Java Spring MVC web application. I could not find any documentation to create a multipart file using Java, so I tried to create a file and then convert it to a multipart file and then upload it. I use the following code:</p>\n\n<pre><code>int randomCode = randomCodeGenerator() ;\nFile file1 = new File(\"E:\\\\myAccount\\\\voice\"+randomCode+\".xml\");\nFileWriter writer = new FileWriter(file1);\nwriter.write(response);\nwriter.close();\n</code></pre>\n\n<p>I am then trying to convert it into a multipart file as follows:</p>\n\n<pre><code>DiskFileItem fileItem = new DiskFileItem(\"file\", \"text/plain\", false, file1.getName(), (int) file1.length() , file1.getParentFile());\nfileItem.getOutputStream();\nMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\nbyte[] `filedata` = multipartFile.getBytes();\n</code></pre>\n\n<p>Now I always get the <code>filedata</code> as 0, which means the multipart file is empty. but I have already written to the file before converting it into multipart.</p>\n\n<p>I am not sure what I am missing here. Also, I am not sure this approach will work on my server since I am trying to create a file on my disk, which is working for me locally. Is there any way to create a multipart file or convert the file to Multipart file without losing data.</p>\n"},{"tags":["java","caching"],"answers":[{"tags":[],"owner":{"account_id":2871901,"reputation":1,"user_id":2465051,"display_name":"Emmanuel Sitamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789453,"creation_date":1669789453,"answer_id":74623621,"question_id":74542354,"body_markdown":"To solve your problem , you need to read the line, you input.nextLine() instead of next().\r\nAlso you must create a second object of type scanner for the nextLine() method. \r\nSee Code below\r\n\r\npublic static void main(String[] args) {\r\n\t   \r\n       Scanner in = new Scanner(System.in);\r\n       System.out.print(&quot;Enter cache blocks: &quot;);\r\n       int blockNum = in.nextInt();\r\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\r\n       int setAssoc = in.nextInt();\r\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\r\n       String replacementPolicy = in.next();\r\n       Simulate cache = new Simulate(blockNum, setAssoc, replacementPolicy);\r\n       System.out.println(&quot;Enter reference string:&quot;);\r\n       Scanner inRef = new Scanner(System.in);\r\n       String input = inRef.nextLine();\r\n       String[] references = input.trim().split(&quot; &quot;);\r\n       System.out.println(input);\r\n       int[] refs = new int[references.length];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           refs[i] = Integer.parseInt(references[i]);\r\n       }\r\n       cache.simulate(refs);\r\n   }","title":"Cant get my Cache simulator to run correctly","body":"<p>To solve your problem , you need to read the line, you input.nextLine() instead of next().\nAlso you must create a second object of type scanner for the nextLine() method.\nSee Code below</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>   Scanner in = new Scanner(System.in);\n   System.out.print(&quot;Enter cache blocks: &quot;);\n   int blockNum = in.nextInt();\n   System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\n   int setAssoc = in.nextInt();\n   System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\n   String replacementPolicy = in.next();\n   Simulate cache = new Simulate(blockNum, setAssoc, replacementPolicy);\n   System.out.println(&quot;Enter reference string:&quot;);\n   Scanner inRef = new Scanner(System.in);\n   String input = inRef.nextLine();\n   String[] references = input.trim().split(&quot; &quot;);\n   System.out.println(input);\n   int[] refs = new int[references.length];\n   for (int i = 0; i &lt; references.length; i++) {\n       refs[i] = Integer.parseInt(references[i]);\n   }\n   cache.simulate(refs);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26528823,"reputation":1,"user_id":20161363,"display_name":"deadpanrobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669789453,"creation_date":1669182995,"question_id":74542354,"body_markdown":"So I have been trying to get a program that will simulate how a LRU replacement policy on a simple cache but for some reason when I input the numbers im trying to enter into the reference string for the cache to implement, it only displays the first number entered and displays 0s after that. I need it to add numbers into the cache using the LRU replacement policy that we are learning in class.\r\n\r\nHere is my code\r\n\r\n`\r\n```\r\npackage cacheProject;\r\n\r\nimport java.util.Scanner;\r\npublic class cacheProject {\r\n\r\n   private int numBlocks;\r\n   private int setAssoc;\r\n   private String replacementPolicy;\r\n   public cacheProject(int numBlocks, int setAssoc, String replacementPolicy) {\r\n       this.numBlocks = numBlocks;\r\n       this.setAssoc = setAssoc;\r\n       this.replacementPolicy = replacementPolicy;\r\n   }\r\n   public void simulate(int[] references) {\r\n       int missRate = 0;\r\n       int hits = 0;\r\n       int[] cache = new int[numBlocks];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           int block = references[i];\r\n           // check if block is in cache\r\n           boolean inCache = false;\r\n           for (int j = 0; j &lt; cache.length; j++) {\r\n               if (cache[j] == block) {\r\n                   inCache = true;\r\n                   hits++;\r\n                   break;\r\n               }\r\n           }\r\n           // if not in cache, add it\r\n           if (!inCache) {\r\n               missRate++;\r\n               // if cache is full, remove LRU block\r\n               if (cache[numBlocks - 1] != 0) {\r\n                   int lruBlock = findLRUBlock(cache);\r\n                   cache[lruBlock] = 0;\r\n               }\r\n               // add new block to cache\r\n               for (int j = 0; j &lt; cache.length; j++) {\r\n                   if (cache[j] == 0) {\r\n                       cache[j] = block;\r\n                       break;\r\n                   }\r\n               }\r\n           }\r\n       }\r\n       System.out.println(&quot;Miss rate: &quot; + (double) missRate / references.length);\r\n       System.out.println(&quot;Hits: &quot; + hits);\r\n       System.out.println(&quot;Cache contents:&quot;);\r\n       for (int i = 0; i &lt; cache.length; i++) {\r\n           System.out.print(cache[i] + &quot; &quot;);\r\n       }\r\n       System.out.println();\r\n   }\r\n   public int findLRUBlock(int[] cache) {\r\n       if (replacementPolicy.equals(&quot;LRU&quot;)) {\r\n           int lruBlock = 0;\r\n           int lruTime = Integer.MAX_VALUE;\r\n           for (int i = 0; i &lt; cache.length; i++) {\r\n               int time = 0;\r\n               for (int j = 0; j &lt; cache.length; j++) {\r\n                   if (cache[i] == cache[j]) {\r\n                       time++;\r\n                   }\r\n               }\r\n               if (time &lt; lruTime) {\r\n                   lruBlock = i;\r\n                   lruTime = time;\r\n               }\r\n           }\r\n           return lruBlock;\r\n       }\r\n       return -1;\r\n   }\r\n   public static void main(String[] args) {\r\n       Scanner in = new Scanner(System.in);\r\n       System.out.print(&quot;Enter number of cache blocks: &quot;);\r\n       int numBlocks = in.nextInt();\r\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\r\n       int setAssoc = in.nextInt();\r\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\r\n       String replacementPolicy = in.next();\r\n       cacheProject cache = new cacheProject(numBlocks, setAssoc, replacementPolicy);\r\n       System.out.println(&quot;Enter reference string:&quot;);\r\n       String input = in.next();\r\n       String[] references = input.split(&quot; &quot;);\r\n       int[] refs = new int[references.length];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           refs[i] = Integer.parseInt(references[i]);\r\n       }\r\n       cache.simulate(refs);\r\n   }\r\n}\r\n```\r\n`\r\n\r\n\r\nHere is the output \r\n\r\nEnter number of cache blocks: 5\r\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\r\nEnter replacement policy (FIFO or LRU): LRU\r\nEnter reference string:\r\n3 4 3 5 4 3 5\r\nMiss rate: 1.0\r\nHits: 0\r\nCache contents:\r\n3 0 0 0 0 \r\n\r\nWhat I am expecting is\r\n\r\nEnter number of cache blocks: 5\r\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\r\nEnter replacement policy (FIFO or LRU): LRU\r\nEnter reference string:\r\n3 4 3 5 4\r\nMiss rate: 1.0\r\nHits: 0\r\nCache contents:\r\n3 4 3 5 4","title":"Cant get my Cache simulator to run correctly","body":"<p>So I have been trying to get a program that will simulate how a LRU replacement policy on a simple cache but for some reason when I input the numbers im trying to enter into the reference string for the cache to implement, it only displays the first number entered and displays 0s after that. I need it to add numbers into the cache using the LRU replacement policy that we are learning in class.</p>\n<p>Here is my code</p>\n<p>`</p>\n<pre><code>package cacheProject;\n\nimport java.util.Scanner;\npublic class cacheProject {\n\n   private int numBlocks;\n   private int setAssoc;\n   private String replacementPolicy;\n   public cacheProject(int numBlocks, int setAssoc, String replacementPolicy) {\n       this.numBlocks = numBlocks;\n       this.setAssoc = setAssoc;\n       this.replacementPolicy = replacementPolicy;\n   }\n   public void simulate(int[] references) {\n       int missRate = 0;\n       int hits = 0;\n       int[] cache = new int[numBlocks];\n       for (int i = 0; i &lt; references.length; i++) {\n           int block = references[i];\n           // check if block is in cache\n           boolean inCache = false;\n           for (int j = 0; j &lt; cache.length; j++) {\n               if (cache[j] == block) {\n                   inCache = true;\n                   hits++;\n                   break;\n               }\n           }\n           // if not in cache, add it\n           if (!inCache) {\n               missRate++;\n               // if cache is full, remove LRU block\n               if (cache[numBlocks - 1] != 0) {\n                   int lruBlock = findLRUBlock(cache);\n                   cache[lruBlock] = 0;\n               }\n               // add new block to cache\n               for (int j = 0; j &lt; cache.length; j++) {\n                   if (cache[j] == 0) {\n                       cache[j] = block;\n                       break;\n                   }\n               }\n           }\n       }\n       System.out.println(&quot;Miss rate: &quot; + (double) missRate / references.length);\n       System.out.println(&quot;Hits: &quot; + hits);\n       System.out.println(&quot;Cache contents:&quot;);\n       for (int i = 0; i &lt; cache.length; i++) {\n           System.out.print(cache[i] + &quot; &quot;);\n       }\n       System.out.println();\n   }\n   public int findLRUBlock(int[] cache) {\n       if (replacementPolicy.equals(&quot;LRU&quot;)) {\n           int lruBlock = 0;\n           int lruTime = Integer.MAX_VALUE;\n           for (int i = 0; i &lt; cache.length; i++) {\n               int time = 0;\n               for (int j = 0; j &lt; cache.length; j++) {\n                   if (cache[i] == cache[j]) {\n                       time++;\n                   }\n               }\n               if (time &lt; lruTime) {\n                   lruBlock = i;\n                   lruTime = time;\n               }\n           }\n           return lruBlock;\n       }\n       return -1;\n   }\n   public static void main(String[] args) {\n       Scanner in = new Scanner(System.in);\n       System.out.print(&quot;Enter number of cache blocks: &quot;);\n       int numBlocks = in.nextInt();\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\n       int setAssoc = in.nextInt();\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\n       String replacementPolicy = in.next();\n       cacheProject cache = new cacheProject(numBlocks, setAssoc, replacementPolicy);\n       System.out.println(&quot;Enter reference string:&quot;);\n       String input = in.next();\n       String[] references = input.split(&quot; &quot;);\n       int[] refs = new int[references.length];\n       for (int i = 0; i &lt; references.length; i++) {\n           refs[i] = Integer.parseInt(references[i]);\n       }\n       cache.simulate(refs);\n   }\n}\n</code></pre>\n<p>`</p>\n<p>Here is the output</p>\n<p>Enter number of cache blocks: 5\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\nEnter replacement policy (FIFO or LRU): LRU\nEnter reference string:\n3 4 3 5 4 3 5\nMiss rate: 1.0\nHits: 0\nCache contents:\n3 0 0 0 0</p>\n<p>What I am expecting is</p>\n<p>Enter number of cache blocks: 5\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\nEnter replacement policy (FIFO or LRU): LRU\nEnter reference string:\n3 4 3 5 4\nMiss rate: 1.0\nHits: 0\nCache contents:\n3 4 3 5 4</p>\n"},{"tags":["java","android-studio","android-recyclerview","grid-layout","gridlayoutmanager"],"answers":[{"tags":[],"owner":{"account_id":9640946,"reputation":1,"user_id":7155210,"display_name":"Umesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669705911,"creation_date":1669705911,"answer_id":74610286,"question_id":74604248,"body_markdown":"I think it can be work reverse you array before initialize your adapter.\r\nLike this: \r\n\r\n     Collections.reverse(uri);\r\n    adapter = new RecyclerAdapter(uri);\r\n       ","title":"Android Studio GridLayout reverse not working","body":"<p>I think it can be work reverse you array before initialize your adapter.\nLike this:</p>\n<pre><code> Collections.reverse(uri);\nadapter = new RecyclerAdapter(uri);\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18291879,"reputation":21,"user_id":13318514,"display_name":"yashvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789332,"creation_date":1669789332,"answer_id":74623604,"question_id":74604248,"body_markdown":"You Can Reverse this Layout Manager\r\n\r\nStep1- goto your **ArrayList**\r\n\r\nStep2- Reverse **Collections.reverse(mArrayList);**\r\n\r\nStep3- Set **Adapter**","title":"Android Studio GridLayout reverse not working","body":"<p>You Can Reverse this Layout Manager</p>\n<p>Step1- goto your <strong>ArrayList</strong></p>\n<p>Step2- Reverse <strong>Collections.reverse(mArrayList);</strong></p>\n<p>Step3- Set <strong>Adapter</strong></p>\n"}],"owner":{"account_id":27051204,"reputation":1,"user_id":20604535,"display_name":"Vinz Jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669789332,"creation_date":1669655859,"question_id":74604248,"body_markdown":"I&#39;m currently making a instagram type of app in Android Studio, my app only shows the newest pic at the bottom of the grid. The Collections.reverse(arrayList) is not working\r\n\r\nhere&#39;s my main.java\r\n\r\n```\r\npackage com.example.mygram;\r\n\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.mygram.utils.SpacingItemDecoder;\r\n\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int IMAGE_PICK_CODE=1000;\r\n    private static final int PERMISSION_CODE=1001;\r\n\r\n    RecyclerView recyclerView;\r\n    TextView textView;\r\n    Button pick, gallery;\r\n    CircleImageView profpic;\r\n\r\n    ArrayList &lt;Uri&gt; uri = new ArrayList&lt;&gt;();\r\n\r\n    RecyclerAdapter adapter ;\r\n\r\n    private static final int Read_Permission = 101;\r\n    private static final int PICK_IMAGE = 1;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        profpic = findViewById(R.id.profile_image);\r\n        gallery = findViewById(R.id.select);\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(&quot;image/*&quot;);\r\n                galleryActivityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        textView = findViewById(R.id.totalPhotos);\r\n        recyclerView = findViewById(R.id.recyclerView_Gallery_Images);\r\n        pick = findViewById(R.id.pick);\r\n\r\n        adapter = new RecyclerAdapter(uri);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\r\n        SpacingItemDecoder itemDecorator = new SpacingItemDecoder(10);\r\n        recyclerView.addItemDecoration(itemDecorator);\r\n        recyclerView.setAdapter(adapter);\r\n        Collections.reverse(uri);\r\n\r\n\r\n        pick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, Read_Permission);\r\n\r\n                    return;\r\n                }\r\n\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                if  (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2){\r\n                    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                }\r\n                //intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\r\n            }\r\n        });\r\n    }\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; galleryActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        Uri imageUri = data.getData();\r\n\r\n                        profpic.setImageURI(imageUri);\r\n                    }\r\n                    else{\r\n                        Toast.makeText(MainActivity.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\r\n            if(data.getClipData()!=null){\r\n\r\n                int countofImages = data.getClipData().getItemCount();\r\n                for(int i=0; i&lt;countofImages; i++){\r\n                    Uri imageuri = data.getClipData().getItemAt(i).getUri();\r\n                    uri.add(imageuri);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n                textView.setText(&quot;&quot;);\r\n            }else{\r\n                Uri imageuri = data.getData();\r\n                uri.add(imageuri);\r\n            }\r\n            adapter.notifyDataSetChanged();\r\n            textView.setText(&quot;&quot;);\r\n        }else{\r\n            Toast.makeText(this, &quot;You haven&#39;t pick any images&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nhere&#39;s my adapter.java\r\n\r\n```\r\npackage com.example.mygram;\r\n\r\nimport android.media.Image;\r\nimport android.net.Uri;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;Uri&gt; uriArrayList;\r\n\r\n    public RecyclerAdapter(ArrayList&lt;Uri&gt; uriArrayList) {\r\n        this.uriArrayList = uriArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.custom_single_image,parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n        holder.imageView.setImageURI(uriArrayList.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return uriArrayList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView imageView;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.image);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want my app to display the last selected images at the top and first grid. I dont know what code should I use and where to put it. Please help, thank you!","title":"Android Studio GridLayout reverse not working","body":"<p>I'm currently making a instagram type of app in Android Studio, my app only shows the newest pic at the bottom of the grid. The Collections.reverse(arrayList) is not working</p>\n<p>here's my main.java</p>\n<pre><code>package com.example.mygram;\n\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.mygram.utils.SpacingItemDecoder;\n\n\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int IMAGE_PICK_CODE=1000;\n    private static final int PERMISSION_CODE=1001;\n\n    RecyclerView recyclerView;\n    TextView textView;\n    Button pick, gallery;\n    CircleImageView profpic;\n\n    ArrayList &lt;Uri&gt; uri = new ArrayList&lt;&gt;();\n\n    RecyclerAdapter adapter ;\n\n    private static final int Read_Permission = 101;\n    private static final int PICK_IMAGE = 1;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        profpic = findViewById(R.id.profile_image);\n        gallery = findViewById(R.id.select);\n        gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK);\n                intent.setType(&quot;image/*&quot;);\n                galleryActivityResultLauncher.launch(intent);\n            }\n        });\n\n        textView = findViewById(R.id.totalPhotos);\n        recyclerView = findViewById(R.id.recyclerView_Gallery_Images);\n        pick = findViewById(R.id.pick);\n\n        adapter = new RecyclerAdapter(uri);\n        recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\n        SpacingItemDecoder itemDecorator = new SpacingItemDecoder(10);\n        recyclerView.addItemDecoration(itemDecorator);\n        recyclerView.setAdapter(adapter);\n        Collections.reverse(uri);\n\n\n        pick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, Read_Permission);\n\n                    return;\n                }\n\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                if  (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2){\n                    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                }\n                //intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\n            }\n        });\n    }\n\n    private ActivityResultLauncher&lt;Intent&gt; galleryActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK){\n                        Intent data = result.getData();\n                        Uri imageUri = data.getData();\n\n                        profpic.setImageURI(imageUri);\n                    }\n                    else{\n                        Toast.makeText(MainActivity.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n    );\n\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\n            if(data.getClipData()!=null){\n\n                int countofImages = data.getClipData().getItemCount();\n                for(int i=0; i&lt;countofImages; i++){\n                    Uri imageuri = data.getClipData().getItemAt(i).getUri();\n                    uri.add(imageuri);\n                }\n                adapter.notifyDataSetChanged();\n                textView.setText(&quot;&quot;);\n            }else{\n                Uri imageuri = data.getData();\n                uri.add(imageuri);\n            }\n            adapter.notifyDataSetChanged();\n            textView.setText(&quot;&quot;);\n        }else{\n            Toast.makeText(this, &quot;You haven't pick any images&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n}\n</code></pre>\n<p>here's my adapter.java</p>\n<pre><code>package com.example.mygram;\n\nimport android.media.Image;\nimport android.net.Uri;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;Uri&gt; uriArrayList;\n\n    public RecyclerAdapter(ArrayList&lt;Uri&gt; uriArrayList) {\n        this.uriArrayList = uriArrayList;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.custom_single_image,parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n        holder.imageView.setImageURI(uriArrayList.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return uriArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView imageView;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView = itemView.findViewById(R.id.image);\n        }\n    }\n}\n</code></pre>\n<p>I want my app to display the last selected images at the top and first grid. I dont know what code should I use and where to put it. Please help, thank you!</p>\n"},{"tags":["java","selenium","selenium-webdriver","testing"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669706248,"creation_date":1669706248,"answer_id":74610349,"question_id":74610200,"body_markdown":"Use css (example with class = submitButton):\r\n```\r\nBy.css(&quot;.submitButton::before&quot;)\r\n```","title":"Cannot write an xpath for a pseudo element","body":"<p>Use css (example with class = submitButton):</p>\n<pre><code>By.css(&quot;.submitButton::before&quot;)\n</code></pre>\n"}],"owner":{"account_id":21664991,"reputation":1,"user_id":15983543,"display_name":"SousaKarl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669722521,"answer_count":1,"score":0,"last_activity_date":1669788585,"creation_date":1669705443,"question_id":74610200,"body_markdown":"I need your help in trying to write the Xpath for a pseudo element in selenium.. I have attached the code snippet  below.\r\n\r\nI need to write an xpath for the ::before element which is a check box and needs to be clicked?\r\n\r\n\r\n\r\nThanks in advance for your help.\r\n\r\nCode:\r\n[Code Snippet][1]\r\n\r\n\r\n\r\nI am trying to click on the check box.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/geW1y.png","title":"Cannot write an xpath for a pseudo element","body":"<p>I need your help in trying to write the Xpath for a pseudo element in selenium.. I have attached the code snippet  below.</p>\n<p>I need to write an xpath for the ::before element which is a check box and needs to be clicked?</p>\n<p>Thanks in advance for your help.</p>\n<p>Code:\n<a href=\"https://i.stack.imgur.com/geW1y.png\" rel=\"nofollow noreferrer\">Code Snippet</a></p>\n<p>I am trying to click on the check box.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3918586,"reputation":458,"user_id":3241790,"accept_rate":20,"display_name":"Zaher88abd"},"score":0,"creation_date":1669740134,"post_id":74617242,"comment_id":131709344,"body_markdown":"Please, check this question [link](https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery).","body":"Please, check this question <a href=\"https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery\">link</a>."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":1,"creation_date":1669740387,"post_id":74617242,"comment_id":131709432,"body_markdown":"Does this answer your question? [Select multiple images from android gallery](https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery\">Select multiple images from android gallery</a>"}],"answers":[{"tags":[],"owner":{"account_id":11922497,"reputation":36,"user_id":8724629,"display_name":"Fahim Fahad Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669742396,"creation_date":1669742396,"answer_id":74617846,"question_id":74617242,"body_markdown":"Ok you need to understand a few things. Firstly, if you want to limit the number of items user can pick from intent don&#39;t use default method like you used. Instead create an activity then customize it. Secondly, If you want to use default system, let user select as much as user wants but take only those which you want from the **ActivityResultLauncher**.\r\n\r\n         Intent intent = new Intent();\r\n            intent.setType(&quot;*/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n            intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            someActivityResultLauncher.launch(intent);\r\n\r\nUse this above code in onClick method and \r\n\r\n          ArrayList&lt;Uri&gt; files;\r\n        someActivityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        if (null != result.getData()) {\r\n                            files = new ArrayList&lt;&gt;();\r\n                            if (null != result.getData().getClipData()) {\r\n                                int count = result.getData().getClipData().getItemCount();\r\n                                if (count &gt;= 10) {\r\n                                    showSweetAlertError(this, &quot;Error&quot;, &quot;Maximum 10 photo.&quot;);\r\n                                }\r\n                                for (int i = 0; i &lt; Math.min(count, 10); i++) {\r\n                                    Uri uri = result.getData().getClipData().getItemAt(i).getUri();\r\n                                    files.add(uri);\r\n                                }\r\n                            } else {\r\n                                Uri uri = result.getData().getData();\r\n                                files.add(uri);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\nCreate `ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher` globally\r\nthen in onCreate write the above code. This should work.\r\n\r\n**Note:**  If user selects a single photo then `result.getData().getData()` code will be executed. If user select multiple photos then `result.getData().getClipData()` code will be executed. So the if statement is important.","title":"how I can select multiple images from gallery in android studio","body":"<p>Ok you need to understand a few things. Firstly, if you want to limit the number of items user can pick from intent don't use default method like you used. Instead create an activity then customize it. Secondly, If you want to use default system, let user select as much as user wants but take only those which you want from the <strong>ActivityResultLauncher</strong>.</p>\n<pre><code>     Intent intent = new Intent();\n        intent.setType(&quot;*/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        someActivityResultLauncher.launch(intent);\n</code></pre>\n<p>Use this above code in onClick method and</p>\n<pre><code>      ArrayList&lt;Uri&gt; files;\n    someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    if (null != result.getData()) {\n                        files = new ArrayList&lt;&gt;();\n                        if (null != result.getData().getClipData()) {\n                            int count = result.getData().getClipData().getItemCount();\n                            if (count &gt;= 10) {\n                                showSweetAlertError(this, &quot;Error&quot;, &quot;Maximum 10 photo.&quot;);\n                            }\n                            for (int i = 0; i &lt; Math.min(count, 10); i++) {\n                                Uri uri = result.getData().getClipData().getItemAt(i).getUri();\n                                files.add(uri);\n                            }\n                        } else {\n                            Uri uri = result.getData().getData();\n                            files.add(uri);\n                        }\n                    }\n                }\n            });\n</code></pre>\n<p>Create <code>ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher</code> globally\nthen in onCreate write the above code. This should work.</p>\n<p><strong>Note:</strong>  If user selects a single photo then <code>result.getData().getData()</code> code will be executed. If user select multiple photos then <code>result.getData().getClipData()</code> code will be executed. So the if statement is important.</p>\n"}],"owner":{"account_id":27087173,"reputation":3,"user_id":20635504,"display_name":"Ahmad bustanji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74617846,"answer_count":1,"score":-1,"last_activity_date":1669787861,"creation_date":1669739423,"question_id":74617242,"body_markdown":"This is my code:- \r\n\r\n```\r\nIntent intent = new Intent();\r\nintent.setType(&quot;image/*&quot;);\r\nintent.setAction(Intent.ACTION_GET_CONTENT);\r\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\nstartActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), 1);\r\n```\r\n\r\n\r\nI tried using a set of libraries, but I could not add a limit that makes the user select a maximum of 10 images","title":"how I can select multiple images from gallery in android studio","body":"<p>This is my code:-</p>\n<pre><code>Intent intent = new Intent();\nintent.setType(&quot;image/*&quot;);\nintent.setAction(Intent.ACTION_GET_CONTENT);\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\nstartActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), 1);\n</code></pre>\n<p>I tried using a set of libraries, but I could not add a limit that makes the user select a maximum of 10 images</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1669735114,"post_id":74616157,"comment_id":131707272,"body_markdown":"What is the reason why you want to do this?","body":"What is the reason why you want to do this?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669785819,"post_id":74616157,"comment_id":131719503,"body_markdown":"Can you provide a specific example or describe your problem in detail? What do you expect to achieve? What now?","body":"Can you provide a specific example or describe your problem in detail? What do you expect to achieve? What now?"},{"owner":{"account_id":1403541,"reputation":87,"user_id":1331859,"accept_rate":83,"display_name":"JackoBongo"},"score":0,"creation_date":1669799237,"post_id":74616157,"comment_id":131722853,"body_markdown":"@JFabianMeier it&#39;s a huge project and this module (legacy stuff that is barely used) takes a long time to compile. To speed up debugging session, it&#39;s much faster to ignore this module and use the JAR instead.","body":"@JFabianMeier it&#39;s a huge project and this module (legacy stuff that is barely used) takes a long time to compile. To speed up debugging session, it&#39;s much faster to ignore this module and use the JAR instead."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669787833,"creation_date":1669787833,"answer_id":74623441,"question_id":74616157,"body_markdown":"You can add the `.jar` package through the plus sign on the right side of **Referenced Libraries** under the **JAVA PROJECTS** panel.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWpp8.png","title":"How replace ignore a Maven module and reference a JAR in VS Code","body":"<p>You can add the <code>.jar</code> package through the plus sign on the right side of <strong>Referenced Libraries</strong> under the <strong>JAVA PROJECTS</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/BWpp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWpp8.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1403541,"reputation":87,"user_id":1331859,"accept_rate":83,"display_name":"JackoBongo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669787833,"creation_date":1669734595,"question_id":74616157,"body_markdown":"I&#39;m currently running a multi-modules Maven project in VS Code and I would like to ignore a module in the IDE and use its JAR instead, without modifying the `pom.xml` files.\r\n\r\nIt&#39;s easily achievable on IntelliJ (`Project Structure` &gt; `Modules` &gt; delete the module then go in `Librairies` &gt; `New Project Library` and select the JAR).\r\n\r\nIs there something similar achievable under VS Code?","title":"How replace ignore a Maven module and reference a JAR in VS Code","body":"<p>I'm currently running a multi-modules Maven project in VS Code and I would like to ignore a module in the IDE and use its JAR instead, without modifying the <code>pom.xml</code> files.</p>\n<p>It's easily achievable on IntelliJ (<code>Project Structure</code> &gt; <code>Modules</code> &gt; delete the module then go in <code>Librairies</code> &gt; <code>New Project Library</code> and select the JAR).</p>\n<p>Is there something similar achievable under VS Code?</p>\n"},{"tags":["java","grpc","grpc-java"],"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1676923788,"post_id":74622741,"comment_id":133231377,"body_markdown":"Exaclty same thing: https://github.com/grpc/grpc-java/issues/9903 \nI had to make client reconnect manually though I thought it should be done under the hood.","body":"Exaclty same thing: <a href=\"https://github.com/grpc/grpc-java/issues/9903\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/9903</a>  I had to make client reconnect manually though I thought it should be done under the hood."}],"owner":{"account_id":27093159,"reputation":11,"user_id":20640659,"display_name":"Shivani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669786612,"creation_date":1669780772,"question_id":74622741,"body_markdown":"I am new to grpc. I am trying to implement a new short-lived stream feature in our java application. I used maximum connection age method of NettyServerBuilder.\r\n\r\n```\r\nprivate Server buildGrpcServer(int port) {\r\n   return NettyServerBuilder.forPort(port)\r\n         .addService(ServerInterceptors.intercept(routingServiceImpl,\r\n               Arrays.asList(requestHeaderInterceptor, responseHeaderInterceptor)))\r\n         .addService(healthCheckServiceImpl).intercept(exceptionHandler)\r\n         .permitKeepAliveTime(keepAliveTime, TimeUnit.SECONDS).permitKeepAliveWithoutCalls(true)\r\n         .maxConnectionAge(grpcMaxConnectionAgeSeconds, TimeUnit.SECONDS)\r\n         .maxConnectionAgeGrace(grpcMaxConnectionAgeGraceSeconds, TimeUnit.SECONDS)\r\n         .build();\r\n}\r\n```\r\nGoal is to keep connection open for streams for a specific time and then terminate gracefully.\r\n\r\nHowever, I am getting below error on client side:\r\n\r\n\r\n```\r\nio.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR\r\nReceived Goaway\r\nmax_age\r\n\tat io.grpc.Status.asRuntimeException(Status.java:533)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:460)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426)\r\n\tat io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\nServer side error:\r\n```\r\nCANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception&quot;,&quot;stack_trace&quot;:&quot;io.grpc.StatusRuntimeException: CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:526)\r\n\tat io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:366)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.sendMessageToClient(EventBrokerConsumerHandler.java:688)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBiDirectionalEventLocally(EventBrokerConsumerHandler.java:633)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBidirectionalEvent(EventBrokerConsumerHandler.java:477)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.handleBidirectionalEvent(EventBrokerConsumerHandler.java:313)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processMessage(EventBrokerConsumerHandler.java:273)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.onMessage(EventBrokerConsumerHandler.java:178)\r\n\tat io.nats.client.impl.NatsDispatcher.run(NatsDispatcher.java:98)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nTrying to implement short lived streams using max connection age and grace","title":"grpc: Implementing shortLived streams using MaxConnectionAge. Getting io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR Receiv","body":"<p>I am new to grpc. I am trying to implement a new short-lived stream feature in our java application. I used maximum connection age method of NettyServerBuilder.</p>\n<pre><code>private Server buildGrpcServer(int port) {\n   return NettyServerBuilder.forPort(port)\n         .addService(ServerInterceptors.intercept(routingServiceImpl,\n               Arrays.asList(requestHeaderInterceptor, responseHeaderInterceptor)))\n         .addService(healthCheckServiceImpl).intercept(exceptionHandler)\n         .permitKeepAliveTime(keepAliveTime, TimeUnit.SECONDS).permitKeepAliveWithoutCalls(true)\n         .maxConnectionAge(grpcMaxConnectionAgeSeconds, TimeUnit.SECONDS)\n         .maxConnectionAgeGrace(grpcMaxConnectionAgeGraceSeconds, TimeUnit.SECONDS)\n         .build();\n}\n</code></pre>\n<p>Goal is to keep connection open for streams for a specific time and then terminate gracefully.</p>\n<p>However, I am getting below error on client side:</p>\n<pre><code>io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR\nReceived Goaway\nmax_age\n    at io.grpc.Status.asRuntimeException(Status.java:533)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:460)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426)\n    at io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>Server side error:</p>\n<pre><code>CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception&quot;,&quot;stack_trace&quot;:&quot;io.grpc.StatusRuntimeException: CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception\n    at io.grpc.Status.asRuntimeException(Status.java:526)\n    at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:366)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.sendMessageToClient(EventBrokerConsumerHandler.java:688)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBiDirectionalEventLocally(EventBrokerConsumerHandler.java:633)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBidirectionalEvent(EventBrokerConsumerHandler.java:477)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.handleBidirectionalEvent(EventBrokerConsumerHandler.java:313)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processMessage(EventBrokerConsumerHandler.java:273)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.onMessage(EventBrokerConsumerHandler.java:178)\n    at io.nats.client.impl.NatsDispatcher.run(NatsDispatcher.java:98)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Trying to implement short lived streams using max connection age and grace</p>\n"},{"tags":["java","android","admob","native"],"comments":[{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502830376,"post_id":45701271,"comment_id":78361032,"body_markdown":"What all position you should show..? and add your listv.xml layout","body":"What all position you should show..? and add your listv.xml layout"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502830426,"post_id":45701271,"comment_id":78361044,"body_markdown":"@MuthukrishnanRajendran sorry I don&#39;t understand :/","body":"@MuthukrishnanRajendran sorry I don&#39;t understand :/"},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502830445,"post_id":45701271,"comment_id":78361054,"body_markdown":"You want to show in every position..?","body":"You want to show in every position..?"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502830605,"post_id":45701271,"comment_id":78361122,"body_markdown":"@MuthukrishnanRajendran no only in the 3rd index position 3. thanks","body":"@MuthukrishnanRajendran no only in the 3rd index position 3. thanks"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502831292,"post_id":45701271,"comment_id":78361430,"body_markdown":"@MuthukrishnanRajendran I have added the listv.xml thanks","body":"@MuthukrishnanRajendran I have added the listv.xml thanks"}],"answers":[{"tags":[],"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502832917,"creation_date":1502831690,"answer_id":45701653,"question_id":45701271,"body_markdown":"You can try like this,\r\n\r\n    public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\r\n   \r\n    \r\n        private NativeExpressAdView adView;\r\n    \r\n        private NativeExpressAdView getAddView() {\r\n            if (adView != null) {\r\n                return adView;\r\n            }\r\n            adView = new NativeExpressAdView(context);\r\n           \r\n            adView.setAdUnitId(&quot;[your unit id]&quot;);\r\n            adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));\r\n    \r\n            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n            adView.setLayoutParams(layoutParams);\r\n            AdRequest request = new AdRequest.Builder().build();\r\n            adView.loadAd(request);\r\n    \r\n            return adView;\r\n        }\r\n    \r\n        public View getView(int position, View view, ViewGroup parent) {\r\n            LayoutInflater inflater = context.getLayoutInflater();\r\n            View rowView = inflater.inflate(R.layout.layout_add, null, true);\r\n    \r\n    //        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\r\n    \r\n            LinearLayout linearLayout = (LinearLayout) rowView.findViewById(R.id.addView);\r\n    \r\n            linearLayout.removeAllViews();\r\n            TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\r\n            ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\r\n            TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\r\n    \r\n    \r\n            txtTitle.setText(numbers[position]);\r\n            imageView.setImageResource(imgid[position]);\r\n            extratxt.setText(&quot;Number: &quot; + numbers[position]);\r\n    \r\n            if (position == 2) {\r\n                linearLayout.addView(getAddView());\r\n                linearLayout.setVisibility(View.VISIBLE);\r\n            } else {\r\n                linearLayout.removeAllViews();\r\n                linearLayout.setVisibility(View.GONE);\r\n            }\r\n    \r\n            return rowView;\r\n    \r\n        }\r\n    \r\n        ;\r\n    }\r\n\r\nLayour xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgid&quot;\r\n                android:layout_width=&quot;60dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:padding=&quot;5dp&quot;/&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/number&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                    android:textColor=&quot;#4CBE99&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/addView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;&lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"Native Ad Admob to Custom List Adapter in Android","body":"<p>You can try like this,</p>\n\n<pre><code>public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\n\n\n    private NativeExpressAdView adView;\n\n    private NativeExpressAdView getAddView() {\n        if (adView != null) {\n            return adView;\n        }\n        adView = new NativeExpressAdView(context);\n\n        adView.setAdUnitId(\"[your unit id]\");\n        adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));\n\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        adView.setLayoutParams(layoutParams);\n        AdRequest request = new AdRequest.Builder().build();\n        adView.loadAd(request);\n\n        return adView;\n    }\n\n    public View getView(int position, View view, ViewGroup parent) {\n        LayoutInflater inflater = context.getLayoutInflater();\n        View rowView = inflater.inflate(R.layout.layout_add, null, true);\n\n//        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\n\n        LinearLayout linearLayout = (LinearLayout) rowView.findViewById(R.id.addView);\n\n        linearLayout.removeAllViews();\n        TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\n        TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\n\n\n        txtTitle.setText(numbers[position]);\n        imageView.setImageResource(imgid[position]);\n        extratxt.setText(\"Number: \" + numbers[position]);\n\n        if (position == 2) {\n            linearLayout.addView(getAddView());\n            linearLayout.setVisibility(View.VISIBLE);\n        } else {\n            linearLayout.removeAllViews();\n            linearLayout.setVisibility(View.GONE);\n        }\n\n        return rowView;\n\n    }\n\n    ;\n}\n</code></pre>\n\n<p>Layour xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    &gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imgid\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            android:padding=\"5dp\"/&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/number\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"10dp\"\n                android:layout_marginTop=\"5dp\"\n                android:padding=\"2dp\"\n                android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                android:textColor=\"#4CBE99\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"10dp\"/&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/addView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45701653,"answer_count":1,"score":1,"last_activity_date":1669786567,"creation_date":1502829969,"question_id":45701271,"body_markdown":"I&#39;m struggling to find a way to add a native ad within my app on Android. \r\n\r\n\r\nMainActivity Class: \r\n\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.tab1, container, false);\r\n    \r\n            final String[] numbers = {&quot;one&quot;,&quot;two&quot;, &quot;&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;,&quot;six&quot;,&quot;seven&quot; &quot;eight&quot;,&quot;nine&quot;, &quot;ten&quot; &quot;eleven&quot;,&quot;twelve&quot;, &quot;thirteen&quot;};\r\n    \r\n    \r\n            Integer[] images = {0,1,2,3,4,5,6,7,8,9,10,11,12,13\r\n            };\r\n    \r\n            CustomListAdapter adapter=new CustomListAdapter(this.getActivity(), mobileArray, images);\r\n    \r\n            NativeExpressAdView adView = (NativeExpressAdView) rootView.findViewById(R.id.adView);\r\n            AdRequest request = new AdRequest.Builder().build();\r\n            adView.loadAd(request);\r\n    \r\n            list=(ListView) rootView.findViewById(R.id.list_view);\r\n            list.setAdapter(adapter);\r\n\r\n\r\n\r\nCustomListAdapter Class:\r\n\r\n    public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\r\n    \r\n        private final Activity context;\r\n        private final String[] numbers;\r\n        private final Integer[] imgid;\r\n    \r\n        public CustomListAdapter(Activity context, String[] numbers, Integer[] imgid) {\r\n            super(context, R.layout.listv, itemname);\r\n            // TODO Auto-generated constructor stub\r\n    \r\n            this.context=context;\r\n            this.numbers=numbers;\r\n            this.imgid=imgid;\r\n        }\r\n    \r\n        public View getView(int position,View view,ViewGroup parent) {\r\n            LayoutInflater inflater=context.getLayoutInflater();\r\n            View rowView=inflater.inflate(R.layout.listv, null,true);\r\n    \r\n            NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\r\n            TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\r\n            ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\r\n            TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\r\n    \r\n        \r\n            txtTitle.setText(numbers[position]);\r\n            imageView.setImageResource(imgid[position]);\r\n            extratxt.setText(&quot;Number: &quot;numbers[position]);\r\n    \r\n            return rowView;\r\n    \r\n        };\r\n    }\r\n\r\nI want to add the native add within a particular index in array, ideally where it shows &quot;&quot;. I&#39;m trying to add the adView into the adapter but unsure how to do this.\r\n\r\nEdit:\r\n\r\nlistv layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imgid&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:padding=&quot;5dp&quot; /&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/number&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:padding=&quot;2dp&quot;\r\n                android:textColor=&quot;#4CBE99&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.gms.ads.NativeExpressAdView\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        ads:adSize=&quot;345x80&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/2793859312&quot;&gt;&lt;/com.google.android.gms.ads.NativeExpressAdView&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Native Ad Admob to Custom List Adapter in Android","body":"<p>I'm struggling to find a way to add a native ad within my app on Android. </p>\n\n<p>MainActivity Class: </p>\n\n<pre><code> public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.tab1, container, false);\n\n        final String[] numbers = {\"one\",\"two\", \"\", \"three\", \"four\", \"five\",\"six\",\"seven\" \"eight\",\"nine\", \"ten\" \"eleven\",\"twelve\", \"thirteen\"};\n\n\n        Integer[] images = {0,1,2,3,4,5,6,7,8,9,10,11,12,13\n        };\n\n        CustomListAdapter adapter=new CustomListAdapter(this.getActivity(), mobileArray, images);\n\n        NativeExpressAdView adView = (NativeExpressAdView) rootView.findViewById(R.id.adView);\n        AdRequest request = new AdRequest.Builder().build();\n        adView.loadAd(request);\n\n        list=(ListView) rootView.findViewById(R.id.list_view);\n        list.setAdapter(adapter);\n</code></pre>\n\n<p>CustomListAdapter Class:</p>\n\n<pre><code>public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\n\n    private final Activity context;\n    private final String[] numbers;\n    private final Integer[] imgid;\n\n    public CustomListAdapter(Activity context, String[] numbers, Integer[] imgid) {\n        super(context, R.layout.listv, itemname);\n        // TODO Auto-generated constructor stub\n\n        this.context=context;\n        this.numbers=numbers;\n        this.imgid=imgid;\n    }\n\n    public View getView(int position,View view,ViewGroup parent) {\n        LayoutInflater inflater=context.getLayoutInflater();\n        View rowView=inflater.inflate(R.layout.listv, null,true);\n\n        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\n        TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\n        TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\n\n\n        txtTitle.setText(numbers[position]);\n        imageView.setImageResource(imgid[position]);\n        extratxt.setText(\"Number: \"numbers[position]);\n\n        return rowView;\n\n    };\n}\n</code></pre>\n\n<p>I want to add the native add within a particular index in array, ideally where it shows \"\". I'm trying to add the adView into the adapter but unsure how to do this.</p>\n\n<p>Edit:</p>\n\n<p>listv layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgid\"\n        android:layout_width=\"60dp\"\n        android:layout_height=\"60dp\"\n        android:padding=\"5dp\" /&gt;\n    &lt;LinearLayout android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/number\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textAppearance=\"?android:attr/textAppearanceMedium\"\n            android:layout_marginLeft=\"10dp\"\n            android:layout_marginTop=\"5dp\"\n            android:padding=\"2dp\"\n            android:textColor=\"#4CBE99\" /&gt;\n        &lt;TextView\n            android:id=\"@+id/textView1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"10dp\"/&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;com.google.android.gms.ads.NativeExpressAdView\n    android:id=\"@+id/adView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:visibility=\"visible\"\n    android:layout_gravity=\"center\"\n    ads:adSize=\"345x80\"\n    ads:adUnitId=\"ca-app-pub-3940256099942544/2793859312\"&gt;&lt;/com.google.android.gms.ads.NativeExpressAdView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","teradata"],"comments":[{"owner":{"account_id":2977058,"reputation":59763,"user_id":2527905,"display_name":"dnoeth"},"score":0,"creation_date":1669284938,"post_id":74558124,"comment_id":131611911,"body_markdown":"It&#39;s not stored like this in Teradata. Quick guess: Might be based on the session character set, 10 digits + plus 10 spaces, Java expects 10 UTF-16, but gets 10 UTF-8 characters and fills with spcaes?","body":"It&#39;s not stored like this in Teradata. Quick guess: Might be based on the session character set, 10 digits + plus 10 spaces, Java expects 10 UTF-16, but gets 10 UTF-8 characters and fills with spcaes?"},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1669290804,"post_id":74558124,"comment_id":131613934,"body_markdown":"The screenshots are from Teradata studio ide and this is pretty much read only data. So there&#39;s no involvement of java at this point.","body":"The screenshots are from Teradata studio ide and this is pretty much read only data. So there&#39;s no involvement of java at this point."},{"owner":{"account_id":2977058,"reputation":59763,"user_id":2527905,"display_name":"dnoeth"},"score":1,"creation_date":1669296834,"post_id":74558124,"comment_id":131615955,"body_markdown":"Well, Studio is Java based. Try switching the session charset to UTF16....","body":"Well, Studio is Java based. Try switching the session charset to UTF16...."}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669786139,"creation_date":1669280776,"question_id":74558124,"body_markdown":"I&#39;m having an issue with data in Teradata where extra spaces are added beyond the specifies column limit. This is true for all the character type columns everywhere. Please look at the below screenshots.\r\n\r\nWe are having to trim the contents in our Java logic layer or sometimes in the sql query itself which is not convenient. I couldn&#39;t find much in the documentations as well. Has anyone else faced this issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lc17a.png\r\n  [2]: https://i.stack.imgur.com/LZqsv.png","title":"Teradata storing extra spaces beyond the column&#39;s character limit","body":"<p>I'm having an issue with data in Teradata where extra spaces are added beyond the specifies column limit. This is true for all the character type columns everywhere. Please look at the below screenshots.</p>\n<p>We are having to trim the contents in our Java logic layer or sometimes in the sql query itself which is not convenient. I couldn't find much in the documentations as well. Has anyone else faced this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/lc17a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lc17a.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LZqsv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LZqsv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-poi","headless","netbsd"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1449420716,"post_id":34118478,"comment_id":55988770,"body_markdown":"How did you install the JVM? Was it from a package? Did you skip any dependencies? Do you have freetype installed?","body":"How did you install the JVM? Was it from a package? Did you skip any dependencies? Do you have freetype installed?"},{"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"score":0,"creation_date":1449421915,"post_id":34118478,"comment_id":55989227,"body_markdown":"I am not the administrator of the target machine so unfortunately I cannot give you such details aboute the JVM installation.  Freetype seems to be installed because `freetype-config` is available.","body":"I am not the administrator of the target machine so unfortunately I cannot give you such details aboute the JVM installation.  Freetype seems to be installed because <code>freetype-config</code> is available."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1449645108,"post_id":34118478,"comment_id":56092339,"body_markdown":"You likely need to install the missing libraries on that machine to make it work.","body":"You likely need to install the missing libraries on that machine to make it work."},{"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"score":0,"creation_date":1449661543,"post_id":34118478,"comment_id":56102402,"body_markdown":"@centic Is is possible to do this as non-root?","body":"@centic Is is possible to do this as non-root?"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1449731826,"post_id":34118478,"comment_id":56137319,"body_markdown":"Usually this will require root-access as installing these adds system libraries. You could try installing them manually somewhere in the user-directory and adjusting the LD_LIBRARY_PATH to include these, but it sounds like a hack for a very common library which is usually required to have a fully working Java JRE installation.","body":"Usually this will require root-access as installing these adds system libraries. You could try installing them manually somewhere in the user-directory and adjusting the LD_LIBRARY_PATH to include these, but it sounds like a hack for a very common library which is usually required to have a fully working Java JRE installation."}],"answers":[{"tags":[],"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450055311,"creation_date":1450047781,"answer_id":34257466,"question_id":34118478,"body_markdown":"I found an older library version in the system:\r\n\r\n    bash-4.3$ find /usr -name &quot;libfreetype.*&quot;\r\n    find: /usr/games/hide: Permission denied\r\n    /usr/pkg/lib/libfreetype.la\r\n    /usr/pkg/lib/libfreetype.a\r\n    /usr/pkg/lib/libfreetype.so\r\n    /usr/pkg/lib/libfreetype.so.6\r\n    /usr/pkg/lib/libfreetype.so.6.11.3\r\n\r\nThen I created a symbolic link for the lastest available version as if it would be version 7:\r\n\r\n    ln -s /usr/pkg/lib/libfreetype.so.6.11.3 ~/tmp/lib/libfreetype.so.7\r\n\r\nAnd start now my jar file with an environment variable:\r\n\r\n    LD_LIBRARY_PATH=~/tmp/lib java -jar -Xmx200m -Djava.awt.headless=true myJar.jar","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I found an older library version in the system:</p>\n\n<pre><code>bash-4.3$ find /usr -name \"libfreetype.*\"\nfind: /usr/games/hide: Permission denied\n/usr/pkg/lib/libfreetype.la\n/usr/pkg/lib/libfreetype.a\n/usr/pkg/lib/libfreetype.so\n/usr/pkg/lib/libfreetype.so.6\n/usr/pkg/lib/libfreetype.so.6.11.3\n</code></pre>\n\n<p>Then I created a symbolic link for the lastest available version as if it would be version 7:</p>\n\n<pre><code>ln -s /usr/pkg/lib/libfreetype.so.6.11.3 ~/tmp/lib/libfreetype.so.7\n</code></pre>\n\n<p>And start now my jar file with an environment variable:</p>\n\n<pre><code>LD_LIBRARY_PATH=~/tmp/lib java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13706618,"reputation":1211,"user_id":9890027,"display_name":"Ders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621952325,"creation_date":1621952325,"answer_id":67689895,"question_id":34118478,"body_markdown":"I had an issue similar to this. [Danny&#39;s answer](https://stackoverflow.com/questions/34118478/apache-poi-missing-dynamic-library-libfreetype-so#answer-34257466) pointed me in the right direction. Basically, if the app is inside a [Tomcat Docker](https://hub.docker.com/_/tomcat) container, make sure you are not using the slim version.\r\n\r\nUsing `tomcat:9.0.24-jdk11-openjdk-slim`, `find /usr -name libfreetype.*` shows that [FreeType `libfreetype`](https://sourceforge.net/projects/freetype/) was not included in the JVM. Updating the base image to `tomcat:9.0.24-jdk11-openjdk` resolved this.","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I had an issue similar to this. <a href=\"https://stackoverflow.com/questions/34118478/apache-poi-missing-dynamic-library-libfreetype-so#answer-34257466\">Danny's answer</a> pointed me in the right direction. Basically, if the app is inside a <a href=\"https://hub.docker.com/_/tomcat\" rel=\"nofollow noreferrer\">Tomcat Docker</a> container, make sure you are not using the slim version.</p>\n<p>Using <code>tomcat:9.0.24-jdk11-openjdk-slim</code>, <code>find /usr -name libfreetype.*</code> shows that <a href=\"https://sourceforge.net/projects/freetype/\" rel=\"nofollow noreferrer\">FreeType <code>libfreetype</code></a> was not included in the JVM. Updating the base image to <code>tomcat:9.0.24-jdk11-openjdk</code> resolved this.</p>\n"},{"tags":[],"owner":{"account_id":16443641,"reputation":1,"user_id":11879125,"display_name":"gunjan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669786015,"creation_date":1669785649,"answer_id":74623190,"question_id":34118478,"body_markdown":"First, update your apt using RUN `apt update`;\r\nand then install fontconfig libfreetype6 through the below command.\r\n\r\n    apt install -y fontconfig libfreetype6\r\n\r\nI faced this for jdk11.","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>First, update your apt using RUN <code>apt update</code>;\nand then install fontconfig libfreetype6 through the below command.</p>\n<pre><code>apt install -y fontconfig libfreetype6\n</code></pre>\n<p>I faced this for jdk11.</p>\n"}],"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34257466,"answer_count":3,"score":3,"last_activity_date":1669786015,"creation_date":1449412029,"question_id":34118478,"body_markdown":"I use Apache POI to write out a spreadsheet. The problematic line is where I invoke `Sheet#autoSizeColumn(int column)`. If I run it on a unix shell with no graphical environment, the following exception appears:\r\n\r\n    Exception in thread &quot;Thread-3&quot; java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/xawt/libmawt.so: Shared object &quot;libXext.so.7&quot; not found\r\n\r\nAccording to [apache&#39;s quick guide][1] there is a property which should be set to signalize headless environment, so I try the following call:\r\n\r\n     java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\r\n\r\nBut I get then another exception for the same line:\r\n\r\n    Exception in thread &quot;Thread-3&quot; java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/libfontmanager.so: Shared object &quot;libfreetype.so.7&quot; not found\r\n\r\nThe above apache guide also says &quot;I should ensure that the fonts I use in your workbook are available to Java&quot;. I really don&#39;t use any specific fonts, the one and only thing I do with fonts is\r\n\r\n    XSSFFont boldFont = (XSSFFont) wb.createFont();\r\n    boldFont.setBold(true);\r\n    titleRowStyle.setFont(boldFont);\r\n\r\nThe unix shell runs\r\n\r\n    openjdk version &quot;1.7.0-internal&quot;\r\n    OpenJDK Runtime Environment (build 1.7.0-internal-pkgsrc_2015_01_06_05_56-b00)\r\n    OpenJDK 64-Bit Server VM (build 24.71-b01, mixed mode)\r\n\r\nand\r\n\r\n    NetBSD *** 6.1.5 NetBSD 6.1.5 (jajo) #1: Sun Jun 21 09:13:03 UTC 2015  spaj@***:/usr/src/sys/arch/amd64/compile/jajo amd64\r\n\r\n\r\nIs it possible to fix this issue?\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/quick-guide.html#Autofit","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I use Apache POI to write out a spreadsheet. The problematic line is where I invoke <code>Sheet#autoSizeColumn(int column)</code>. If I run it on a unix shell with no graphical environment, the following exception appears:</p>\n\n<pre><code>Exception in thread \"Thread-3\" java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/xawt/libmawt.so: Shared object \"libXext.so.7\" not found\n</code></pre>\n\n<p>According to <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Autofit\" rel=\"nofollow\">apache's quick guide</a> there is a property which should be set to signalize headless environment, so I try the following call:</p>\n\n<pre><code> java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\n</code></pre>\n\n<p>But I get then another exception for the same line:</p>\n\n<pre><code>Exception in thread \"Thread-3\" java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/libfontmanager.so: Shared object \"libfreetype.so.7\" not found\n</code></pre>\n\n<p>The above apache guide also says \"I should ensure that the fonts I use in your workbook are available to Java\". I really don't use any specific fonts, the one and only thing I do with fonts is</p>\n\n<pre><code>XSSFFont boldFont = (XSSFFont) wb.createFont();\nboldFont.setBold(true);\ntitleRowStyle.setFont(boldFont);\n</code></pre>\n\n<p>The unix shell runs</p>\n\n<pre><code>openjdk version \"1.7.0-internal\"\nOpenJDK Runtime Environment (build 1.7.0-internal-pkgsrc_2015_01_06_05_56-b00)\nOpenJDK 64-Bit Server VM (build 24.71-b01, mixed mode)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>NetBSD *** 6.1.5 NetBSD 6.1.5 (jajo) #1: Sun Jun 21 09:13:03 UTC 2015  spaj@***:/usr/src/sys/arch/amd64/compile/jajo amd64\n</code></pre>\n\n<p>Is it possible to fix this issue?</p>\n"},{"tags":["java","hibernate","quarkus","hana","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669785325,"creation_date":1669785325,"answer_id":74623168,"question_id":74306585,"body_markdown":"Since Hibernate supports SAP HANA, Quarkus does so as well in JVM mode at least. If you want support for native image, you will have to contact SAP so that they make sure their JDBC driver works in native mode.","title":"Does Quarkus (panache) support SAP HANA db access?","body":"<p>Since Hibernate supports SAP HANA, Quarkus does so as well in JVM mode at least. If you want support for native image, you will have to contact SAP so that they make sure their JDBC driver works in native mode.</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669785325,"creation_date":1667493342,"question_id":74306585,"body_markdown":"I plan to build a platform which i want to use Quarkus for (for the first time, coming from Spring Boot). The platform will use PostgreSQL as persistent storages, however there may be cases where a microservices has to connect to SAP HANA storages to read data from. I know there are java drivers for SAP HANA, but does Quarkus cause issues with this or is there some kind of &quot;lack&quot; of integration for this when for example using the panache module from Quarkus? I don&#39;t think i saw it on the list of supported databases. I only found one example on github of someone claiming using sap hana integration, but it was just a private person nothing official. Does anyone know or has done that and seen whether this causes issues in any way? ","title":"Does Quarkus (panache) support SAP HANA db access?","body":"<p>I plan to build a platform which i want to use Quarkus for (for the first time, coming from Spring Boot). The platform will use PostgreSQL as persistent storages, however there may be cases where a microservices has to connect to SAP HANA storages to read data from. I know there are java drivers for SAP HANA, but does Quarkus cause issues with this or is there some kind of &quot;lack&quot; of integration for this when for example using the panache module from Quarkus? I don't think i saw it on the list of supported databases. I only found one example on github of someone claiming using sap hana integration, but it was just a private person nothing official. Does anyone know or has done that and seen whether this causes issues in any way?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669784055,"creation_date":1669783495,"answer_id":74622992,"question_id":74614610,"body_markdown":"You could use [commandLine][1] to run the main method in MyClass which could call postBuild:\r\n\r\n    commandLine &#39;java&#39; &#39;&lt;pathToSrc&gt;/&lt;mypackage&gt;.MyClass&#39;\r\n\r\n\r\nBe careful to set the package name and source location properly. The path should point to the location (minus package directory tree) of the MyClass.class file, **not MyClass.java**. If your class is not compiled or it changes often, you could call javac to compile it each time before you run it (optionally using a shell script / batch file) to bundle both commands and simplify the gradle call and help you test the setup directly.\r\n\r\n\r\nIf your class uses code from libraries ensure you add them to the classpath:\r\n\r\n    &#39;-classpath&#39; &#39;mylib1.jar:mylib2.jar&#39;\r\n\r\nIf you use java in the build process you might also have a look at [scar][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46959783/running-shell-command-from-gradle-script\r\n  [2]: https://github.com/EsotericSoftware/scar","title":"Android - Run a Java method in Gradle after an apk build","body":"<p>You could use <a href=\"https://stackoverflow.com/questions/46959783/running-shell-command-from-gradle-script\">commandLine</a> to run the main method in MyClass which could call postBuild:</p>\n<pre><code>commandLine 'java' '&lt;pathToSrc&gt;/&lt;mypackage&gt;.MyClass'\n</code></pre>\n<p>Be careful to set the package name and source location properly. The path should point to the location (minus package directory tree) of the MyClass.class file, <strong>not MyClass.java</strong>. If your class is not compiled or it changes often, you could call javac to compile it each time before you run it (optionally using a shell script / batch file) to bundle both commands and simplify the gradle call and help you test the setup directly.</p>\n<p>If your class uses code from libraries ensure you add them to the classpath:</p>\n<pre><code>'-classpath' 'mylib1.jar:mylib2.jar'\n</code></pre>\n<p>If you use java in the build process you might also have a look at <a href=\"https://github.com/EsotericSoftware/scar\" rel=\"nofollow noreferrer\">scar</a></p>\n"}],"owner":{"account_id":12564826,"reputation":33,"user_id":9141190,"display_name":"The_Cuber7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74622992,"answer_count":1,"score":1,"last_activity_date":1669784055,"creation_date":1669727410,"question_id":74614610,"body_markdown":"I&#39;m currently building a Android application, and I would like to do some processing after the apk is built.\r\n\r\nI&#39;ve already succeeded to launch a gradle task after the build:\r\n\r\n```\r\ntasks.whenTaskAdded {\r\n        task -&gt;\r\n            if(task.name == &#39;assembleRelease&#39;){\r\n                task.finalizedBy postApkProcess\r\n            }\r\n    }\r\n\r\n    task postApkProcess{\r\n        doLast {\r\n           println &#39;OK&#39;\r\n        }\r\n    }\r\n```\r\n\r\nBut I struggle to launch a method inside that task. What I would like to do is to call something like `new MyClass().postBuild()` inside the class (or if it is not possible, run the main method of a Java class), but I don&#39;t find a way to do it. \r\n\r\nI&#39;ve tried to build a task `task postProcess(type: JavaExec)`, but the line `apply plugin: &#39;java&#39;`conflicts with the Android plugin.\r\n\r\n\r\nIs there a way to do it ?","title":"Android - Run a Java method in Gradle after an apk build","body":"<p>I'm currently building a Android application, and I would like to do some processing after the apk is built.</p>\n<p>I've already succeeded to launch a gradle task after the build:</p>\n<pre><code>tasks.whenTaskAdded {\n        task -&gt;\n            if(task.name == 'assembleRelease'){\n                task.finalizedBy postApkProcess\n            }\n    }\n\n    task postApkProcess{\n        doLast {\n           println 'OK'\n        }\n    }\n</code></pre>\n<p>But I struggle to launch a method inside that task. What I would like to do is to call something like <code>new MyClass().postBuild()</code> inside the class (or if it is not possible, run the main method of a Java class), but I don't find a way to do it.</p>\n<p>I've tried to build a task <code>task postProcess(type: JavaExec)</code>, but the line <code>apply plugin: 'java'</code>conflicts with the Android plugin.</p>\n<p>Is there a way to do it ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667361966,"creation_date":1667360738,"answer_id":74284141,"question_id":74283148,"body_markdown":"You can parse a JSON response and get a particular field/fields from Response by customising it.\r\n\r\nThe other option is to use `@JsonIgnore` annotation on the fields which you don&#39;t want them to be part of response.","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>You can parse a JSON response and get a particular field/fields from Response by customising it.</p>\n<p>The other option is to use <code>@JsonIgnore</code> annotation on the fields which you don't want them to be part of response.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669783220,"creation_date":1669783220,"answer_id":74622969,"question_id":74283148,"body_markdown":"You can solve this by creating DTOs for your use cases and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Student.class)\r\n    public interface StudentDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        Set&lt;CourseDto&gt; getCourses();\r\n\r\n        @EntityView(Course.class)\r\n        interface CourseDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`StudentDto a = entityViewManager.find(entityManager, StudentDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;StudentDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>You can solve this by creating DTOs for your use cases and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Student.class)\npublic interface StudentDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    Set&lt;CourseDto&gt; getCourses();\n\n    @EntityView(Course.class)\n    interface CourseDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>StudentDto a = entityViewManager.find(entityManager, StudentDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;StudentDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":13044340,"reputation":485,"user_id":11079729,"display_name":"Girbson BIJOU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669783220,"creation_date":1667348788,"question_id":74283148,"body_markdown":"I have a springboot Application with 10 Tables in my database. When i make a get request on one table,  it returns a response with in all the tables having any related records in all the 10 tables. I use Lazy fetch, the problems does not solve. I need to return only response  expectated by front end app. For example, if the client wants only students then the REST API should return only students (not its child entities). How can i solve this problem.\r\n","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>I have a springboot Application with 10 Tables in my database. When i make a get request on one table,  it returns a response with in all the tables having any related records in all the 10 tables. I use Lazy fetch, the problems does not solve. I need to return only response  expectated by front end app. For example, if the client wants only students then the REST API should return only students (not its child entities). How can i solve this problem.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1669781050,"post_id":74622761,"comment_id":131718781,"body_markdown":"How about reading the javadocs for File::renameTo - https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)","body":"How about reading the javadocs for File::renameTo - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669781239,"post_id":74622761,"comment_id":131718805,"body_markdown":"Just change `finalPath` to whatever you want, before you call `Files.write`.","body":"Just change <code>finalPath</code> to whatever you want, before you call <code>Files.write</code>."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669782784,"creation_date":1669782784,"answer_id":74622927,"question_id":74622761,"body_markdown":"Replace your code with this and update your &quot;CustomName_ABC&quot; with your new fileName.\r\n\r\n    String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\r\n    String finalPath = localPath + &quot;CustomName_ABC&quot;;\r\n\r\n    File uploadPath = new File(finalPath);\r\n    if (!uploadPath.getParentFile().exists()) {\r\n        uploadPath.getParentFile().mkdirs();\r\n    }\r\n    Files.copy(file.toPath(), uploadPath.toPath());\r\n\r\nYou can copy your old file to a new filePath (directory) by using **Files.copy()** method. It will take two parameters:\r\n    \r\n 1. Old file path\r\n 2. New file path\r\n\r\n","title":"How to rename a file before insert to a path Java?","body":"<p>Replace your code with this and update your &quot;CustomName_ABC&quot; with your new fileName.</p>\n<pre><code>String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\nString finalPath = localPath + &quot;CustomName_ABC&quot;;\n\nFile uploadPath = new File(finalPath);\nif (!uploadPath.getParentFile().exists()) {\n    uploadPath.getParentFile().mkdirs();\n}\nFiles.copy(file.toPath(), uploadPath.toPath());\n</code></pre>\n<p>You can copy your old file to a new filePath (directory) by using <strong>Files.copy()</strong> method. It will take two parameters:</p>\n<ol>\n<li>Old file path</li>\n<li>New file path</li>\n</ol>\n"}],"owner":{"account_id":22377078,"reputation":177,"user_id":16591189,"display_name":"Foody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669782784,"creation_date":1669780931,"question_id":74622761,"body_markdown":"I need to insert a file to a path. However, the file name need to change to a specific name before inserted.\r\n\r\nHow can I change the name of the file **before** insert to path? As many resources online only able to change the file name after inserted. [Online Resource for rename file][1]\r\n\r\n**My code currently**\r\n\r\n    String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\r\n\r\n    String finalPath = localPath + file.getOriginalFilename();\r\n\r\n    File uploadPath = new File(finalPath);\r\n    if (!uploadPath.getParentFile().exists()) {\r\n        uploadPath.getParentFile().mkdirs();\r\n    }\r\n\r\n    //I think need to rename the file here before insert to path\r\n\r\n    byte[] bytes = file.getBytes();\r\n    Path path = Paths.get(finalPath);\r\n    Files.write(path, bytes);\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-program-to-rename-a-file/","title":"How to rename a file before insert to a path Java?","body":"<p>I need to insert a file to a path. However, the file name need to change to a specific name before inserted.</p>\n<p>How can I change the name of the file <strong>before</strong> insert to path? As many resources online only able to change the file name after inserted. <a href=\"https://www.geeksforgeeks.org/java-program-to-rename-a-file/\" rel=\"nofollow noreferrer\">Online Resource for rename file</a></p>\n<p><strong>My code currently</strong></p>\n<pre><code>String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\n\nString finalPath = localPath + file.getOriginalFilename();\n\nFile uploadPath = new File(finalPath);\nif (!uploadPath.getParentFile().exists()) {\n    uploadPath.getParentFile().mkdirs();\n}\n\n//I think need to rename the file here before insert to path\n\nbyte[] bytes = file.getBytes();\nPath path = Paths.get(finalPath);\nFiles.write(path, bytes);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669782188,"creation_date":1669782188,"answer_id":74622876,"question_id":74621829,"body_markdown":"I would think the best solution (even though it might take some rework) separate module 2 into two separate modules, one for the core classes and another for the application. Then module 3 can easily import module 2 classes as the module 2 application is no longer in there.\r\n\r\nIf this isn&#39;t an option then you will need to define the main class in the pom file when building your war file config. See this related link: https://stackoverflow.com/questions/29061346/using-maven-to-create-runnable-war\r\n","title":"Spring Boot module as a dependency gets started as its own app when in a war","body":"<p>I would think the best solution (even though it might take some rework) separate module 2 into two separate modules, one for the core classes and another for the application. Then module 3 can easily import module 2 classes as the module 2 application is no longer in there.</p>\n<p>If this isn't an option then you will need to define the main class in the pom file when building your war file config. See this related link: <a href=\"https://stackoverflow.com/questions/29061346/using-maven-to-create-runnable-war\">Using Maven to create &quot;runnable WAR&quot;</a></p>\n"}],"owner":{"account_id":5238787,"reputation":134,"user_id":4186547,"display_name":"20kLeagues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74622876,"answer_count":1,"score":0,"last_activity_date":1669782188,"creation_date":1669770132,"question_id":74621829,"body_markdown":"My application is structured as such:\r\n- root\r\n  - module 1 (pure classes)\r\n  - module 2 (spring boot app) -&gt; has module 1 as a dependency\r\n  - module 3 (sprint boot app) -&gt; has module 2 as a dependency \r\n\r\nWhen I package module 3 as a war and deploy it on tomcat, for some reason the module 2 app also starts up. I only want to use the module 2 classes in module 3, and not have the Spring app start up from module 2.\r\n\r\nI package module 2 using the maven-war plugin:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n                    &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nand import the jar in module 3 via:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;module2&lt;artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have tried using the spring boot plugin to package as well, but I am unable to prevent the module 2 application from starting in module 3. ","title":"Spring Boot module as a dependency gets started as its own app when in a war","body":"<p>My application is structured as such:</p>\n<ul>\n<li>root\n<ul>\n<li>module 1 (pure classes)</li>\n<li>module 2 (spring boot app) -&gt; has module 1 as a dependency</li>\n<li>module 3 (sprint boot app) -&gt; has module 2 as a dependency</li>\n</ul>\n</li>\n</ul>\n<p>When I package module 3 as a war and deploy it on tomcat, for some reason the module 2 app also starts up. I only want to use the module 2 classes in module 3, and not have the Spring app start up from module 2.</p>\n<p>I package module 2 using the maven-war plugin:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n                    &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and import the jar in module 3 via:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\n            &lt;artifactId&gt;module2&lt;artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have tried using the spring boot plugin to package as well, but I am unable to prevent the module 2 application from starting in module 3.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1669789309,"post_id":74622566,"comment_id":131720150,"body_markdown":"Please show us what did you try?","body":"Please show us what did you try?"}],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669781105,"creation_date":1669781105,"answer_id":74622782,"question_id":74622566,"body_markdown":"Like this\r\n\r\n    LinkedHashMap&lt;City,Port&gt; nearestPortsFromCity=new LinkedHashMap&lt;City,Port&gt;();\r\n        for(City city : cities){\r\n            nearestPortsFromCity.put(city,getNearestAgent(findAll(main.ports,p-&gt;p.city.equals(city)));\r\n        }\r\n\r\nWith that done, now you can access the nearest port from a city by doing\r\n\r\n    Port nearest=nearestPortsFromCity.get(theCity);","title":"How to calculate the shortest distance between agents in a gis map","body":"<p>Like this</p>\n<pre><code>LinkedHashMap&lt;City,Port&gt; nearestPortsFromCity=new LinkedHashMap&lt;City,Port&gt;();\n    for(City city : cities){\n        nearestPortsFromCity.put(city,getNearestAgent(findAll(main.ports,p-&gt;p.city.equals(city)));\n    }\n</code></pre>\n<p>With that done, now you can access the nearest port from a city by doing</p>\n<pre><code>Port nearest=nearestPortsFromCity.get(theCity);\n</code></pre>\n"}],"owner":{"account_id":27019974,"reputation":1,"user_id":20578112,"display_name":"LeticiaMello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669781105,"creation_date":1669778865,"question_id":74622566,"body_markdown":"I&#39;m trying to implement a model in which vehicles move from a City agent ``` Cidade ``` to a Port agent ``` Porto ```.\r\n\r\nThe parameters are loaded from a database - Ports: ```latitude```  and ```longitude```; City: ```cidades```. There is a ```City``` agent type embedded in Main called ```cidades```and there is a population of Port agents in Main called ```portoes```. \r\n\r\nThose parameters are used to define the position of the ```City``` and ```Ports``` agents in a ```gis map``` so that it is possible to map the distances between them\r\n\r\nI&#39;m using the ```getNearestAgent``` function to get the nearest agent from the collection. The body of the function is defined as ```return getNearestAgent(main.portoes);```.\r\n\r\nThe function is returning the value of the nearest ```Port``` in relation to the first element of the ```City``` agent. What I&#39;m trying to do in sequence is calculate the nearest ```Port``` to every ```City``` element, but I&#39;m not sure how.\r\n","title":"How to calculate the shortest distance between agents in a gis map","body":"<p>I'm trying to implement a model in which vehicles move from a City agent <code>Cidade</code> to a Port agent <code>Porto</code>.</p>\n<p>The parameters are loaded from a database - Ports: <code>latitude</code>  and <code>longitude</code>; City: <code>cidades</code>. There is a <code>City</code> agent type embedded in Main called <code>cidades</code>and there is a population of Port agents in Main called <code>portoes</code>.</p>\n<p>Those parameters are used to define the position of the <code>City</code> and <code>Ports</code> agents in a <code>gis map</code> so that it is possible to map the distances between them</p>\n<p>I'm using the <code>getNearestAgent</code> function to get the nearest agent from the collection. The body of the function is defined as <code>return getNearestAgent(main.portoes);</code>.</p>\n<p>The function is returning the value of the nearest <code>Port</code> in relation to the first element of the <code>City</code> agent. What I'm trying to do in sequence is calculate the nearest <code>Port</code> to every <code>City</code> element, but I'm not sure how.</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669713874,"post_id":74610754,"comment_id":131699564,"body_markdown":"intent.getData().toString().","body":"intent.getData().toString()."}],"answers":[{"tags":[],"owner":{"account_id":20577530,"reputation":21,"user_id":15104361,"display_name":"xist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669780254,"creation_date":1669780254,"answer_id":74622688,"question_id":74610754,"body_markdown":"getdata was null too\r\n\r\ni found it in:\r\nintent.getClipData().getItemAt(0).coerceToText(this).toString();","title":"android get shared text file from files","body":"<p>getdata was null too</p>\n<p>i found it in:\nintent.getClipData().getItemAt(0).coerceToText(this).toString();</p>\n"}],"owner":{"account_id":20577530,"reputation":21,"user_id":15104361,"display_name":"xist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669780254,"creation_date":1669708594,"question_id":74610754,"body_markdown":"im trying to get a text files contents. it is a file shared from the files browser ive narrowed it down to its a bundle that i can get from getextras.\r\n\r\nbut how do i get the data inside. the functions for retrieving require a key? i didn&#39;t create the intent. All the examples show both the send and receive therefore don&#39;t answer the question about what the key is.\r\n\r\n```\r\nintent.getExtras()\r\n```\r\nIntent { act=android.intent.action.SEND cat=[android.intent.category.DEFAULT] typ=text/plain flg=0x1b080001 cmp=com.psymblyb.noter/.MainActivity clip={text/plain U:content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Fsample.txt} (has extras)\r\n\r\n\r\n```\r\nintent.getExtras().toString()\r\n```\r\nBundle[mParcelledData.dataSize=416]","title":"android get shared text file from files","body":"<p>im trying to get a text files contents. it is a file shared from the files browser ive narrowed it down to its a bundle that i can get from getextras.</p>\n<p>but how do i get the data inside. the functions for retrieving require a key? i didn't create the intent. All the examples show both the send and receive therefore don't answer the question about what the key is.</p>\n<pre><code>intent.getExtras()\n</code></pre>\n<p>Intent { act=android.intent.action.SEND cat=[android.intent.category.DEFAULT] typ=text/plain flg=0x1b080001 cmp=com.psymblyb.noter/.MainActivity clip={text/plain U:content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Fsample.txt} (has extras)</p>\n<pre><code>intent.getExtras().toString()\n</code></pre>\n<p>Bundle[mParcelledData.dataSize=416]</p>\n"},{"tags":["java","windows","netbeans","unicenta"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1669403790,"post_id":74576532,"comment_id":131641133,"body_markdown":"A mix of JDK versions. What get you with `java -version`?","body":"A mix of JDK versions. What get you with <code>java -version</code>?"},{"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"score":0,"creation_date":1669433995,"post_id":74576532,"comment_id":131645419,"body_markdown":"Thanks for the clue, I am getting: C:\\Users\\Carlos&gt;java -version\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)","body":"Thanks for the clue, I am getting: C:\\Users\\Carlos&gt;java -version java version &quot;19.0.1&quot; 2022-10-18 Java(TM) SE Runtime Environment (build 19.0.1+10-21) Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1669454702,"post_id":74576532,"comment_id":131647554,"body_markdown":"Try to compile+run with JDK8. Probably, the POS lib is not compatible with Java 19.","body":"Try to compile+run with JDK8. Probably, the POS lib is not compatible with Java 19."},{"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"score":0,"creation_date":1669780170,"post_id":74576532,"comment_id":131718630,"body_markdown":"To PeterMmm: Thanks for your interest. You helped me. And yes, they&#39;re not compatible, and the 19th version does not supersede correctly the 8th one. I solved the problem by uninstalling every Java in my PC, and then reinstalling the JRE only. I then could run uniCenta, which is critical for my family business. Thanks","body":"To PeterMmm: Thanks for your interest. You helped me. And yes, they&#39;re not compatible, and the 19th version does not supersede correctly the 8th one. I solved the problem by uninstalling every Java in my PC, and then reinstalling the JRE only. I then could run uniCenta, which is critical for my family business. Thanks"}],"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669780079,"creation_date":1669399632,"question_id":74576532,"body_markdown":"I had installed the Point of Sale program called: uniCenta oPOS, which requires the installation of jre. It was running fine. But later I installed NetBeans, which uses jdk, to develop the uniCenta version with source code. After that my uniCenta program stopped launching, that is, the compiled, installed and executable uniCenta that I downloaded from the uniCenta webpage wont load anymore.\r\nIt seems to me that the NetBeans installation changed something in Windows 10 because I cannot run the jar file anymore. And I tried a lot of options, like uninstalling NetBeans, uninstalling jre and reinstalling it, and uninstalling and reinstalling uniCenta. Nothing works.\r\nWhen I tried to run the uniCenta jar in cmd window, it doesn&#39;t run either and produces the following report:\r\n\r\n    C:\\Program Files (x86)\\unicentaopos-4.6.1&gt;java -jar unicentaopos.jar\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/logback-classic-1.2.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/posapps-client-1.4.8-exe.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/weblaf-1.2.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/slf4j-simple-1.7.24.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n    08:22:20.214 | java.lang.ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError: null\r\n            at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\r\n            at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\r\n            at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @414d77e\r\n            at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n            at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n            at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n            ... 35 common frames omitted\r\n    08:22:20.230 | java.lang.ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError: null\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.xstream.XStream.processAnnotations(java.lang.Class)&quot; because the return value of &quot;com.alee.utils.XmlUtils.getXStream()&quot; is null\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            ... 25 common frames omitted\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: Could not initialize class com.alee.managers.style.StyleManager\r\n            at com.alee.laf.label.WebLabelUI.uninstallUI(WebLabelUI.java:122)\r\n            at java.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:730)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:471)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.NullPointerException [in thread &quot;AWT-EventQueue-0&quot;]\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            ... 21 more\r\n\r\nThat report comes from a program that runs perfectly in other computers. And it&#39;s an already installed and executable program, so errors make no sense.\r\n\r\nWhat could be the problem? Any ideas? Thanks.\r\n\r\n\r\nSolved: The solution was actually easy. Several Java versions were installed in my Window$ 10 PC at the same time (8, 17 and 19) and I had JRE and JDK. I supposed that they didn&#39;t interfere because they come from the same company (Oracle), but they did interfere.\r\nSo I went to Apps &amp; Features in Windows 10 Configuration section and uninstalled everything related to Java, which went smoothly. Then I reinstalled JRE so now I only have this Java version. UniCenta recognizes this Java without problems and now starts normally. After deleting 2 protocols to link with the DataBase, uniCenta loads now completely and normally.\r\nIf one wanted to develop Java with NetBeans (JDK) and at the same time install uniCenta oPOS (JRE) in the Windows PC, turns out that the JDK doesn&#39;t supersede correctly the JRE subset. Shame on Oracle.","title":"After installing NetBeans in Windows 10, I cannot run uniCenta oPOS which is a jar file (solved)","body":"<p>I had installed the Point of Sale program called: uniCenta oPOS, which requires the installation of jre. It was running fine. But later I installed NetBeans, which uses jdk, to develop the uniCenta version with source code. After that my uniCenta program stopped launching, that is, the compiled, installed and executable uniCenta that I downloaded from the uniCenta webpage wont load anymore.\nIt seems to me that the NetBeans installation changed something in Windows 10 because I cannot run the jar file anymore. And I tried a lot of options, like uninstalling NetBeans, uninstalling jre and reinstalling it, and uninstalling and reinstalling uniCenta. Nothing works.\nWhen I tried to run the uniCenta jar in cmd window, it doesn't run either and produces the following report:</p>\n<pre><code>C:\\Program Files (x86)\\unicentaopos-4.6.1&gt;java -jar unicentaopos.jar\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/logback-classic-1.2.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/posapps-client-1.4.8-exe.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/weblaf-1.2.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/slf4j-simple-1.7.24.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n08:22:20.214 | java.lang.ExceptionInInitializerError\njava.lang.ExceptionInInitializerError: null\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\n        at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\n        at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @414d77e\n        at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n        ... 35 common frames omitted\n08:22:20.230 | java.lang.ExceptionInInitializerError\njava.lang.ExceptionInInitializerError: null\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.xstream.XStream.processAnnotations(java.lang.Class)&quot; because the return value of &quot;com.alee.utils.XmlUtils.getXStream()&quot; is null\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        ... 25 common frames omitted\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: Could not initialize class com.alee.managers.style.StyleManager\n        at com.alee.laf.label.WebLabelUI.uninstallUI(WebLabelUI.java:122)\n        at java.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:730)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:471)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.NullPointerException [in thread &quot;AWT-EventQueue-0&quot;]\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        ... 21 more\n</code></pre>\n<p>That report comes from a program that runs perfectly in other computers. And it's an already installed and executable program, so errors make no sense.</p>\n<p>What could be the problem? Any ideas? Thanks.</p>\n<p>Solved: The solution was actually easy. Several Java versions were installed in my Window$ 10 PC at the same time (8, 17 and 19) and I had JRE and JDK. I supposed that they didn't interfere because they come from the same company (Oracle), but they did interfere.\nSo I went to Apps &amp; Features in Windows 10 Configuration section and uninstalled everything related to Java, which went smoothly. Then I reinstalled JRE so now I only have this Java version. UniCenta recognizes this Java without problems and now starts normally. After deleting 2 protocols to link with the DataBase, uniCenta loads now completely and normally.\nIf one wanted to develop Java with NetBeans (JDK) and at the same time install uniCenta oPOS (JRE) in the Windows PC, turns out that the JDK doesn't supersede correctly the JRE subset. Shame on Oracle.</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1669777092,"post_id":74622082,"comment_id":131718214,"body_markdown":"bytecode version 61.0 is for class files compiled with jdk17 compiler, so maybe you could clean and rebuild whole project to resolve that.","body":"bytecode version 61.0 is for class files compiled with jdk17 compiler, so maybe you could clean and rebuild whole project to resolve that."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669778787,"post_id":74622082,"comment_id":131718440,"body_markdown":"What version of Spring are you using?  Spring 6.x.x **requires** Java 17.","body":"What version of Spring are you using?  Spring 6.x.x <b>requires</b> Java 17."},{"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"score":0,"creation_date":1669779697,"post_id":74622082,"comment_id":131718574,"body_markdown":"@MNEMO I have tried clean the lifecycle of the maven then rebuild it. but the problem remains","body":"@MNEMO I have tried clean the lifecycle of the maven then rebuild it. but the problem remains"},{"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"score":0,"creation_date":1669779730,"post_id":74622082,"comment_id":131718578,"body_markdown":"@StephenC I have edit my question with my pom file and my Spring should 3.0.0","body":"@StephenC I have edit my question with my pom file and my Spring should 3.0.0"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669780262,"post_id":74622082,"comment_id":131718651,"body_markdown":"Ah yes.  I see you originally said Spring but you are actually using SpringBoot ... which is versioned differently.","body":"Ah yes.  I see you originally said Spring but you are actually using SpringBoot ... which is versioned differently."}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669780037,"creation_date":1669780037,"answer_id":74622668,"question_id":74622082,"body_markdown":"Spring Boot 3.0.0 requires Java 17 and upwards to be compatible with the new features. If you really want to use Java 1.8 I would suggest downgrading the Spring Boot version to the previous stable version which is `2.7.6`","title":"The JVM level keep changed to the version that I don&#39;t want when building spring project","body":"<p>Spring Boot 3.0.0 requires Java 17 and upwards to be compatible with the new features. If you really want to use Java 1.8 I would suggest downgrading the Spring Boot version to the previous stable version which is <code>2.7.6</code></p>\n"}],"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74622668,"answer_count":1,"score":1,"last_activity_date":1669780037,"creation_date":1669773310,"question_id":74622082,"body_markdown":"I am currently in the need to create a Spring project with Java version 8. I have set Java to the version 8 and the JDK is 1.8. However, when I build it - I got this notification\r\n[![enter image description here][1]][1]\r\n\r\nWhich indeed turn my Java into 17 in my pom.xml . I tried to change the version from my pom and synced it but when I rebuild my project again I got this error\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSW5D.png\r\n  [2]: https://i.stack.imgur.com/dZ6p2.png\r\n\r\nUpgrading my java version to above 8 is not an option. How to fix this?\r\n\r\n//edit:\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"The JVM level keep changed to the version that I don&#39;t want when building spring project","body":"<p>I am currently in the need to create a Spring project with Java version 8. I have set Java to the version 8 and the JDK is 1.8. However, when I build it - I got this notification\n<a href=\"https://i.stack.imgur.com/eSW5D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSW5D.png\" alt=\"enter image description here\" /></a></p>\n<p>Which indeed turn my Java into 17 in my pom.xml . I tried to change the version from my pom and synced it but when I rebuild my project again I got this error\n<a href=\"https://i.stack.imgur.com/dZ6p2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZ6p2.png\" alt=\"enter image description here\" /></a></p>\n<p>Upgrading my java version to above 8 is not an option. How to fix this?</p>\n<p>//edit:\npom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","gradle","run-configuration"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1669730836,"post_id":74615098,"comment_id":131705622,"body_markdown":"Eclispe doesn&#39;t use JAVA_HOME and I don&#39;t know what might be setting that `stringAttribute` in the launch config. Please edit the question to include the full .launch file and show screen shots of the launch config edit window.","body":"Eclispe doesn&#39;t use JAVA_HOME and I don&#39;t know what might be setting that <code>stringAttribute</code> in the launch config. Please edit the question to include the full .launch file and show screen shots of the launch config edit window."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1669733312,"post_id":74615098,"comment_id":131706538,"body_markdown":"I don&#39;t know if variables are resolved in a Gradle run configuration in the _Java home_ field, but if so, it has to be `${env_var:JAVA_HOME}`.","body":"I don&#39;t know if variables are resolved in a Gradle run configuration in the <i>Java home</i> field, but if so, it has to be <code>${env_var:JAVA_HOME}</code>."},{"owner":{"account_id":18152963,"reputation":3,"user_id":13205410,"display_name":"Hari"},"score":0,"creation_date":1669811232,"post_id":74615098,"comment_id":131726961,"body_markdown":"So, does that mean that we cannot include runConfiguration&#39;s launch file in our project repo so others could use it?","body":"So, does that mean that we cannot include runConfiguration&#39;s launch file in our project repo so others could use it?"}],"owner":{"account_id":18152963,"reputation":3,"user_id":13205410,"display_name":"Hari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669779998,"creation_date":1669729611,"question_id":74615098,"body_markdown":"I&#39;ve been trying to create a runConfiguration within Eclipse for a gradle project I&#39;m working on. When I tried saving it as a local file which created a .launch file, it has a parameter\r\n```\r\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\r\n```\r\n\r\nIs it possible to have value as ${JAVA_HOME} instead of using my local directory? \r\n\r\nEdit: Adding the full launch config file. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;launchConfiguration type=&quot;org.eclipse.buildship.core.launch.runconfiguration&quot;&gt;\r\n    &lt;listAttribute key=&quot;arguments&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;build_scans_enabled&quot; value=&quot;false&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;gradle_distribution&quot; value=&quot;GRADLE_DISTRIBUTION(LOCAL_INSTALLATION(/opt/gradle/gradle-7.3.3))&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;gradle_user_home&quot; value=&quot;/Users/harishankarv/.gradle&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\r\n    &lt;listAttribute key=&quot;jvm_arguments&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;offline_mode&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;override_workspace_settings&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;show_console_view&quot; value=&quot;true&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;show_execution_view&quot; value=&quot;true&quot;/&gt;\r\n    &lt;listAttribute key=&quot;tasks&quot;&gt;\r\n        &lt;listEntry value=&quot;installJars&quot;/&gt;\r\n    &lt;/listAttribute&gt;\r\n    &lt;stringAttribute key=&quot;working_dir&quot; value=&quot;${workspace_loc:/project_name}&quot;/&gt;\r\n&lt;/launchConfiguration&gt;\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8v15.png","title":"Setting Eclipse&#39;s runConfiguration to use JAVA_HOME environment variables instead of local directory","body":"<p>I've been trying to create a runConfiguration within Eclipse for a gradle project I'm working on. When I tried saving it as a local file which created a .launch file, it has a parameter</p>\n<pre><code>    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\n</code></pre>\n<p>Is it possible to have value as ${JAVA_HOME} instead of using my local directory?</p>\n<p>Edit: Adding the full launch config file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;launchConfiguration type=&quot;org.eclipse.buildship.core.launch.runconfiguration&quot;&gt;\n    &lt;listAttribute key=&quot;arguments&quot;/&gt;\n    &lt;booleanAttribute key=&quot;build_scans_enabled&quot; value=&quot;false&quot;/&gt;\n    &lt;stringAttribute key=&quot;gradle_distribution&quot; value=&quot;GRADLE_DISTRIBUTION(LOCAL_INSTALLATION(/opt/gradle/gradle-7.3.3))&quot;/&gt;\n    &lt;stringAttribute key=&quot;gradle_user_home&quot; value=&quot;/Users/harishankarv/.gradle&quot;/&gt;\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\n    &lt;listAttribute key=&quot;jvm_arguments&quot;/&gt;\n    &lt;booleanAttribute key=&quot;offline_mode&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;override_workspace_settings&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;show_console_view&quot; value=&quot;true&quot;/&gt;\n    &lt;booleanAttribute key=&quot;show_execution_view&quot; value=&quot;true&quot;/&gt;\n    &lt;listAttribute key=&quot;tasks&quot;&gt;\n        &lt;listEntry value=&quot;installJars&quot;/&gt;\n    &lt;/listAttribute&gt;\n    &lt;stringAttribute key=&quot;working_dir&quot; value=&quot;${workspace_loc:/project_name}&quot;/&gt;\n&lt;/launchConfiguration&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/m8v15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8v15.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","backtracking","sudoku"],"comments":[{"owner":{"account_id":18655075,"reputation":2482,"user_id":13597675,"display_name":"Aziz Sonawalla"},"score":0,"creation_date":1590675230,"post_id":62063330,"comment_id":109774510,"body_markdown":"What&#39;s the value of EMPTY? In the else condition of ``if(solver(board, count) &gt; count)`` you should use EMPTY as well rather than 0. If EMPTY is something other than 0, then this will throw your code off","body":"What&#39;s the value of EMPTY? In the else condition of <code>if(solver(board, count) &gt; count)</code> you should use EMPTY as well rather than 0. If EMPTY is something other than 0, then this will throw your code off"},{"owner":{"display_name":"user13634030"},"score":0,"creation_date":1590675611,"post_id":62063330,"comment_id":109774732,"body_markdown":"Thanks for asking, EMPTY is 0. Do you also have an idea how to solve the main problem?","body":"Thanks for asking, EMPTY is 0. Do you also have an idea how to solve the main problem?"}],"answers":[{"tags":[],"owner":{"account_id":18655075,"reputation":2482,"user_id":13597675,"display_name":"Aziz Sonawalla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590676000,"creation_date":1590676000,"answer_id":62067181,"question_id":62063330,"body_markdown":"The issue with your code is that it stops after it finds the first solution - more specifically, your code will never change an assigned value to a cell unless it is wrong. This is standard backtracking that you&#39;ve implemented. What you need to do is, once you find one solution, you need to force your code to use other values and see if it also returns a valid solution. \r\n\r\nLet&#39;s say this is the last row of your sudoku (where you&#39;re missing the last value), and your count is currently 0 (i.e. no solution so far):\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 0 |\r\n\r\nYour code will try all values from 1-9 for that last cell, and once it finds out that 9 is the correct value, it will fill it in and make a recursive call.\r\n\r\nOn the recursive call, your code will not find any empty values so it will increment count by 1  (so count is now 1) and return, specifically this line: ``return count + 1;``Because you&#39;re not making any further recursive calls at this point, the incremented count will be passed up the recursive stack and and you&#39;ll end up with a value of 1.\r\n\r\nWhat you need to do is, once you&#39;ve found one solution, you need to backtrack again and force increment one of the values. Your last line in the solution you found looks like this:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |\r\n\r\nYou cannot increment the last cell because it&#39;s already at 9, so you set it to 0 / EMPTY and go to the previous value. The previous value is 8, which can be incremented to 9, so you do that and then solve that board:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 9 | 0 |\r\n\r\nMaybe this doesn&#39;t return a solution, so you go back one more (setting the second last cell to 0 and increment the previous cell:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 0 | 0 |\r\n\r\nNow see if this gives you a solution. And so on...\r\n\r\nTLDR: once you find a solution, you need to feed it back to your code with tighter constraints (i.e. force increment one of the valid values and see if it still gives you another solution).","title":"Sudoku Backtracking with Solution Counter","body":"<p>The issue with your code is that it stops after it finds the first solution - more specifically, your code will never change an assigned value to a cell unless it is wrong. This is standard backtracking that you've implemented. What you need to do is, once you find one solution, you need to force your code to use other values and see if it also returns a valid solution. </p>\n\n<p>Let's say this is the last row of your sudoku (where you're missing the last value), and your count is currently 0 (i.e. no solution so far):</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 0 |\n</code></pre>\n\n<p>Your code will try all values from 1-9 for that last cell, and once it finds out that 9 is the correct value, it will fill it in and make a recursive call.</p>\n\n<p>On the recursive call, your code will not find any empty values so it will increment count by 1  (so count is now 1) and return, specifically this line: <code>return count + 1;</code>Because you're not making any further recursive calls at this point, the incremented count will be passed up the recursive stack and and you'll end up with a value of 1.</p>\n\n<p>What you need to do is, once you've found one solution, you need to backtrack again and force increment one of the values. Your last line in the solution you found looks like this:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |\n</code></pre>\n\n<p>You cannot increment the last cell because it's already at 9, so you set it to 0 / EMPTY and go to the previous value. The previous value is 8, which can be incremented to 9, so you do that and then solve that board:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 9 | 0 |\n</code></pre>\n\n<p>Maybe this doesn't return a solution, so you go back one more (setting the second last cell to 0 and increment the previous cell:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 8 | 0 | 0 |\n</code></pre>\n\n<p>Now see if this gives you a solution. And so on...</p>\n\n<p>TLDR: once you find a solution, you need to feed it back to your code with tighter constraints (i.e. force increment one of the valid values and see if it still gives you another solution).</p>\n"},{"tags":[],"owner":{"display_name":"user13634030"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590689593,"creation_date":1590679597,"answer_id":62068452,"question_id":62063330,"body_markdown":"Thanks to [this][1] answer by Aziz Sonawalla, I think I figured it out.\r\n\r\nThe following implementation was able to solve the uniquely solveable sudoku given [here][2]. Also the algorithm is now able to solve sudokus with more than one solution ([example][3]) and recognize that there is more than one solution. If this is the case, the program will give only one of the possible solutions.\r\n\r\nThe code looks like this:\r\n\r\n```Java\r\n// Backtracking-Algorithm\r\npublic int[][] board2 = new int[GRID_SIZE][GRID_SIZE];\r\n\r\npublic int solver(int[][] board, int count) { // Starts with count = 0\r\n \r\n    for (int i = 0; i &lt; GRID_SIZE; i++) { //GRID_SIZE = 9\r\n\r\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\r\n\r\n        /*\r\n         * Only empty fields will be changed\r\n         */\r\n\r\n        if (board[i][j] == EMPTY) { //EMPTY = 0\r\n\r\n          /*\r\n           * Try all numbers between 1 and 9\r\n           */\r\n\r\n          for (int n = 1; n &lt;= GRID_SIZE &amp;&amp; count &lt; 2; n++) {\r\n\r\n            /*\r\n             * Is number n safe?\r\n             */\r\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n\r\n              board[i][j] = n;\r\n              int cache = solver(board, count);\r\n              if (cache &gt; count) {\r\n                count = cache;\r\n                for (int k = 0; k &lt; board.length; k++) {\r\n                  for (int l = 0; l &lt; board.length; l++) {\r\n                    if (board[k][l] != EMPTY) {\r\n                      board2[k][l] = board[k][l];\r\n                    }\r\n\r\n                  }\r\n                }\r\n                \r\n                board[i][j] = EMPTY;\r\n                \r\n              } else {\r\n                board[i][j] = EMPTY;\r\n              }\r\n\r\n            }\r\n          }\r\n          return count;\r\n        }\r\n      }\r\n    }\r\n    return count + 1;\r\n}\r\n```\r\n\r\nThe solution is saved in the array `board2` now. \r\n\r\nThis implementation is working as intended (as far as I know). If you find any mistakes, please leave a comment.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62067181/13634030\r\n  [2]: https://www.baeldung.com/java-sudoku\r\n  [3]: https://sandwalk.blogspot.com/2007/06/i-knew-it-there-can-be-more-than-one.html","title":"Sudoku Backtracking with Solution Counter","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/62067181/13634030\">this</a> answer by Aziz Sonawalla, I think I figured it out.</p>\n\n<p>The following implementation was able to solve the uniquely solveable sudoku given <a href=\"https://www.baeldung.com/java-sudoku\" rel=\"nofollow noreferrer\">here</a>. Also the algorithm is now able to solve sudokus with more than one solution (<a href=\"https://sandwalk.blogspot.com/2007/06/i-knew-it-there-can-be-more-than-one.html\" rel=\"nofollow noreferrer\">example</a>) and recognize that there is more than one solution. If this is the case, the program will give only one of the possible solutions.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>// Backtracking-Algorithm\npublic int[][] board2 = new int[GRID_SIZE][GRID_SIZE];\n\npublic int solver(int[][] board, int count) { // Starts with count = 0\n\n    for (int i = 0; i &lt; GRID_SIZE; i++) { //GRID_SIZE = 9\n\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\n\n        /*\n         * Only empty fields will be changed\n         */\n\n        if (board[i][j] == EMPTY) { //EMPTY = 0\n\n          /*\n           * Try all numbers between 1 and 9\n           */\n\n          for (int n = 1; n &lt;= GRID_SIZE &amp;&amp; count &lt; 2; n++) {\n\n            /*\n             * Is number n safe?\n             */\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n\n              board[i][j] = n;\n              int cache = solver(board, count);\n              if (cache &gt; count) {\n                count = cache;\n                for (int k = 0; k &lt; board.length; k++) {\n                  for (int l = 0; l &lt; board.length; l++) {\n                    if (board[k][l] != EMPTY) {\n                      board2[k][l] = board[k][l];\n                    }\n\n                  }\n                }\n\n                board[i][j] = EMPTY;\n\n              } else {\n                board[i][j] = EMPTY;\n              }\n\n            }\n          }\n          return count;\n        }\n      }\n    }\n    return count + 1;\n}\n</code></pre>\n\n<p>The solution is saved in the array <code>board2</code> now. </p>\n\n<p>This implementation is working as intended (as far as I know). If you find any mistakes, please leave a comment.</p>\n"},{"tags":[],"owner":{"account_id":27092484,"reputation":23,"user_id":20640049,"display_name":"hobbes18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669777429,"creation_date":1669777429,"answer_id":74622422,"question_id":62063330,"body_markdown":"i have the exact same problem to find number of multiple solutions but I have a different code, how would you modify the code that it finds all possible solutions and gives out the number of solutions?\r\nThank you! :)\r\n\r\n\r\n\r\ncode:\r\n\r\n```\r\n\r\nboard = [\r\n    [7,8,0,4,0,0,1,2,0],\r\n    [6,0,0,0,7,5,0,0,9],\r\n    [0,0,0,6,0,1,0,7,8],\r\n    [0,0,7,0,4,0,2,6,0],\r\n    [0,0,1,0,5,0,9,3,0],\r\n    [9,0,4,0,6,0,0,0,5],\r\n    [0,7,0,3,0,0,0,1,2],\r\n    [1,2,0,0,0,7,4,0,0],\r\n    [0,4,9,2,0,6,0,0,7]\r\n]\r\n\r\n\r\ndef solve(bo):\r\n    find = find_empty(bo)\r\n    if not find:\r\n        return True\r\n    else:\r\n        row, col = find\r\n\r\n    for num in range(1,10):\r\n        if valid(bo, num, (row, col)):\r\n            bo[row][col] = num          \r\n\r\n            if solve(bo):                 \r\n                return True\r\n\r\n            bo[row][col] = 0              \r\n\r\n    return False\r\n\r\n\r\ndef valid(bo, num, pos):\r\n    # Check row\r\n    for field in range(len(bo[0])):                     \r\n        if bo[pos[0]][field] == num and pos[1] != field:\r\n            return False\r\n\r\n    # Check column\r\n    for line in range(len(bo)):\r\n        if bo[line][pos[1]] == num and pos[0] != line:\r\n            return False\r\n\r\n    # Check box\r\n    box_x = pos[1] // 3\r\n    box_y = pos[0] // 3\r\n\r\n    for i in range(box_y*3, box_y*3 + 3):\r\n        for j in range(box_x * 3, box_x*3 + 3):\r\n            if bo[i][j] == num and (i,j) != pos:\r\n                return False\r\n\r\n    return True\r\n\r\n\r\ndef print_board(bo):\r\n    for i in range(len(bo)):\r\n        if i % 3 == 0 and i != 0:\r\n            print(&quot;- - - - - - - - - - - - - &quot;)\r\n\r\n        for j in range(len(bo[0])):\r\n            if j % 3 == 0 and j != 0:\r\n                print(&quot; | &quot;, end=&quot;&quot;)\r\n\r\n            if j == 8:\r\n                print(bo[i][j])\r\n            else:\r\n                print(str(bo[i][j]) + &quot; &quot;, end=&quot;&quot;)\r\n\r\n\r\ndef find_empty(bo):\r\n    for i in range(len(bo)):\r\n        for j in range(len(bo[0])):\r\n            if bo[i][j] == 0:\r\n                return (i, j)  # row, col\r\n\r\n    return None\r\nif __name__ == &quot;__main__&quot;:\r\n    print_board(board)\r\n    solve(board)\r\n    print(&quot;___________________&quot;)\r\n    print(&quot;&quot;)\r\n    print_board(board)\r\n\r\n\r\n```\r\n\r\n   ","title":"Sudoku Backtracking with Solution Counter","body":"<p>i have the exact same problem to find number of multiple solutions but I have a different code, how would you modify the code that it finds all possible solutions and gives out the number of solutions?\nThank you! :)</p>\n<p>code:</p>\n<pre><code>\nboard = [\n    [7,8,0,4,0,0,1,2,0],\n    [6,0,0,0,7,5,0,0,9],\n    [0,0,0,6,0,1,0,7,8],\n    [0,0,7,0,4,0,2,6,0],\n    [0,0,1,0,5,0,9,3,0],\n    [9,0,4,0,6,0,0,0,5],\n    [0,7,0,3,0,0,0,1,2],\n    [1,2,0,0,0,7,4,0,0],\n    [0,4,9,2,0,6,0,0,7]\n]\n\n\ndef solve(bo):\n    find = find_empty(bo)\n    if not find:\n        return True\n    else:\n        row, col = find\n\n    for num in range(1,10):\n        if valid(bo, num, (row, col)):\n            bo[row][col] = num          \n\n            if solve(bo):                 \n                return True\n\n            bo[row][col] = 0              \n\n    return False\n\n\ndef valid(bo, num, pos):\n    # Check row\n    for field in range(len(bo[0])):                     \n        if bo[pos[0]][field] == num and pos[1] != field:\n            return False\n\n    # Check column\n    for line in range(len(bo)):\n        if bo[line][pos[1]] == num and pos[0] != line:\n            return False\n\n    # Check box\n    box_x = pos[1] // 3\n    box_y = pos[0] // 3\n\n    for i in range(box_y*3, box_y*3 + 3):\n        for j in range(box_x * 3, box_x*3 + 3):\n            if bo[i][j] == num and (i,j) != pos:\n                return False\n\n    return True\n\n\ndef print_board(bo):\n    for i in range(len(bo)):\n        if i % 3 == 0 and i != 0:\n            print(&quot;- - - - - - - - - - - - - &quot;)\n\n        for j in range(len(bo[0])):\n            if j % 3 == 0 and j != 0:\n                print(&quot; | &quot;, end=&quot;&quot;)\n\n            if j == 8:\n                print(bo[i][j])\n            else:\n                print(str(bo[i][j]) + &quot; &quot;, end=&quot;&quot;)\n\n\ndef find_empty(bo):\n    for i in range(len(bo)):\n        for j in range(len(bo[0])):\n            if bo[i][j] == 0:\n                return (i, j)  # row, col\n\n    return None\nif __name__ == &quot;__main__&quot;:\n    print_board(board)\n    solve(board)\n    print(&quot;___________________&quot;)\n    print(&quot;&quot;)\n    print_board(board)\n\n\n</code></pre>\n"}],"owner":{"display_name":"user13634030"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62068452,"answer_count":3,"score":4,"last_activity_date":1669777429,"creation_date":1590664464,"question_id":62063330,"body_markdown":"**Background**\r\n\r\nI&#39;ve implemented a sudoku-solver algorithm (backtracking) that looks like this:\r\n```Java\r\n//Backtracking-Algorithm\r\npublic static boolean solver(int[][] board) {\r\n    for (int i = 0; i &lt; 9; i++) {\r\n        for (int j = 0; j &lt; 9; j++) {\r\n            if (board[i][j] == 0) {\r\n                for (int n = 1; n &lt; 10; n++) {\r\n                    if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n                        board[i][j] = n;\r\n                        if (!solver(board)) {\r\n                            board[i][j] = 0;\r\n                        } else {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\nThis solution is working fine (it can solve sudokus).\r\n\r\n**What I try to achieve**\r\n\r\nI now want to achieve that the algorithm tells me, whether there is only one solution or more solutions. \r\n\r\n**What I&#39;ve tried**\r\n\r\nI tried to achieve my goal, by changing the return type to an int and count the possible solutions (stops at 2, because if there are two solutions, I can say there are &quot;multiple&quot; solutions). So basically, I just want to know whether there is no, one, or many solution(s):\r\n\r\n```Java\r\n// Backtracking-Algorithm\r\npublic int solver(int[][] board, int count) { //Starts with count = 0\r\n  if (count &lt; 2) {\r\n    for (int i = 0; i &lt; GRID_SIZE; i++) {\r\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\r\n        /*\r\n         * Only empty fields will be changed\r\n         */\r\n        if (board[i][j] == EMPTY) {\r\n          /*\r\n           * Try all numbers between 1 and 9\r\n           */\r\n          for (int n = 1; n &lt;= GRID_SIZE; n++) {\r\n            /*\r\n             * Is number n safe?\r\n             */\r\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n              board[i][j] = n;\r\n              if (solver(board, count) &gt; count) {\r\n                count++;\r\n              } else {\r\n                board[i][j] = 0;\r\n              }\r\n            }\r\n          }\r\n          return count;\r\n        }\r\n      }\r\n    }\r\n    return count + 1;\r\n  }\r\n  return count;\r\n}\r\n```\r\n\r\nThe problem is that `count` always goes to &quot;1&quot; and then the algorithm stops. \r\n\r\n**Question**\r\n\r\nWhat changes in the code are necessary to make it work?","title":"Sudoku Backtracking with Solution Counter","body":"<p><strong>Background</strong></p>\n\n<p>I've implemented a sudoku-solver algorithm (backtracking) that looks like this:</p>\n\n<pre><code>//Backtracking-Algorithm\npublic static boolean solver(int[][] board) {\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            if (board[i][j] == 0) {\n                for (int n = 1; n &lt; 10; n++) {\n                    if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n                        board[i][j] = n;\n                        if (!solver(board)) {\n                            board[i][j] = 0;\n                        } else {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This solution is working fine (it can solve sudokus).</p>\n\n<p><strong>What I try to achieve</strong></p>\n\n<p>I now want to achieve that the algorithm tells me, whether there is only one solution or more solutions. </p>\n\n<p><strong>What I've tried</strong></p>\n\n<p>I tried to achieve my goal, by changing the return type to an int and count the possible solutions (stops at 2, because if there are two solutions, I can say there are \"multiple\" solutions). So basically, I just want to know whether there is no, one, or many solution(s):</p>\n\n<pre><code>// Backtracking-Algorithm\npublic int solver(int[][] board, int count) { //Starts with count = 0\n  if (count &lt; 2) {\n    for (int i = 0; i &lt; GRID_SIZE; i++) {\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\n        /*\n         * Only empty fields will be changed\n         */\n        if (board[i][j] == EMPTY) {\n          /*\n           * Try all numbers between 1 and 9\n           */\n          for (int n = 1; n &lt;= GRID_SIZE; n++) {\n            /*\n             * Is number n safe?\n             */\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n              board[i][j] = n;\n              if (solver(board, count) &gt; count) {\n                count++;\n              } else {\n                board[i][j] = 0;\n              }\n            }\n          }\n          return count;\n        }\n      }\n    }\n    return count + 1;\n  }\n  return count;\n}\n</code></pre>\n\n<p>The problem is that <code>count</code> always goes to \"1\" and then the algorithm stops. </p>\n\n<p><strong>Question</strong></p>\n\n<p>What changes in the code are necessary to make it work?</p>\n"},{"tags":["java","aws-lambda","micronaut"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669776637,"creation_date":1669776637,"answer_id":74622353,"question_id":74622197,"body_markdown":"Your HTTP client sends inacceptable data. In your test you send `dto.class` but you actually should send an instance of `AwsProxyRequestContext`.\r\n\r\n```java\r\n  @Test\r\n  void testHello1() {\r\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\r\n    http.toBlocking().exchange(request, new AwsProxyRequestContext(/* initialise instance properly with your data */));\r\n  }\r\n```","title":"Integration test in JUNIT for REST endpoint inside Lambda function?","body":"<p>Your HTTP client sends inacceptable data. In your test you send <code>dto.class</code> but you actually should send an instance of <code>AwsProxyRequestContext</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testHello1() {\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\n    http.toBlocking().exchange(request, new AwsProxyRequestContext(/* initialise instance properly with your data */));\n  }\n</code></pre>\n"}],"owner":{"account_id":4752457,"reputation":33,"user_id":3842125,"display_name":"user3842125"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669776637,"creation_date":1669774837,"question_id":74622197,"body_markdown":"I have a Micronaut Controller API configured inside Lambda. I am able to test this via Postman using a bearer token. \r\n\r\nController:\r\n```java\r\n  @Get(&quot;v1/path&quot;)\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public dto testApi(AwsProxyRequestContext context) {\r\n    /// Some logic on the context.\r\n  }\r\n```\r\n\r\nIntegration test:\r\n\r\n```java\r\n  @Inject\r\n  @Client(&quot;/&quot;)\r\n  HttpClient http;\r\n\r\n  @Test\r\n  void testHello1() {\r\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\r\n    http.toBlocking().exchange(request, dto.class);\r\n  }\r\n```\r\n\r\n\r\nThe test returns `Bad Request`, but if I remove the `AwsProxyRequestContext context` in the API, this `test works`.\r\n\r\nPlease help on what else should I pass in with the request to get this test working with the `AwsProxyRequestContext context`.\r\n","title":"Integration test in JUNIT for REST endpoint inside Lambda function?","body":"<p>I have a Micronaut Controller API configured inside Lambda. I am able to test this via Postman using a bearer token.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Get(&quot;v1/path&quot;)\n  @Produces(MediaType.APPLICATION_JSON)\n  public dto testApi(AwsProxyRequestContext context) {\n    /// Some logic on the context.\n  }\n</code></pre>\n<p>Integration test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Inject\n  @Client(&quot;/&quot;)\n  HttpClient http;\n\n  @Test\n  void testHello1() {\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\n    http.toBlocking().exchange(request, dto.class);\n  }\n</code></pre>\n<p>The test returns <code>Bad Request</code>, but if I remove the <code>AwsProxyRequestContext context</code> in the API, this <code>test works</code>.</p>\n<p>Please help on what else should I pass in with the request to get this test working with the <code>AwsProxyRequestContext context</code>.</p>\n"},{"tags":["java","memory","httpclient","heap-memory","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1668531567,"post_id":74439514,"comment_id":131426092,"body_markdown":"Needs more info. How much memory is assigned to the jvm? How much memory is it spiking to? What buffer are you using","body":"Needs more info. How much memory is assigned to the jvm? How much memory is it spiking to? What buffer are you using"},{"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"score":0,"creation_date":1668534088,"post_id":74439514,"comment_id":131427033,"body_markdown":"8 GB is assigned to JVM, The memory is spiking to 7 GB by when 120000 (in 4 mns) requests are made. Vertx buffer is used","body":"8 GB is assigned to JVM, The memory is spiking to 7 GB by when 120000 (in 4 mns) requests are made. Vertx buffer is used"}],"answers":[{"tags":[],"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669776632,"creation_date":1669776632,"answer_id":74622352,"question_id":74439514,"body_markdown":"This is resolved. I feel silly to answer this.\r\n\r\nThe issue was because miss configuration of threadpool.\r\nAfter changing **keepAlive** to true, it worked. Along with some minor changes on the \r\n\r\n&gt; maxPoolSize, keelAliveTimeout, idleTimeout\r\n\r\n it worked perfectly fine.","title":"Memory spike for 30K RPM with 100KB payload each","body":"<p>This is resolved. I feel silly to answer this.</p>\n<p>The issue was because miss configuration of threadpool.\nAfter changing <strong>keepAlive</strong> to true, it worked. Along with some minor changes on the</p>\n<blockquote>\n<p>maxPoolSize, keelAliveTimeout, idleTimeout</p>\n</blockquote>\n<p>it worked perfectly fine.</p>\n"}],"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669776632,"creation_date":1668473300,"question_id":74439514,"body_markdown":"While testing with 30K RPM with 100 KB payload size on vert.x httpclient. I am noticing a spike in memory and it goes up until the system crashes, no GC collection in between.\r\n\r\n    httpClient\r\n                    .request(requestOpts)\r\n                    .onSuccess(\r\n                        request -&gt; {\r\n                            request.send(payload);\r\n                        }\r\n                    );\r\n\r\nWhile running the same for 2 minutes Average response time was - 71.26 and average throughput was 499.26. But running the same over 3 minutes the system crashes.\r\n\r\nNOTE: requests payload is converted into String (Base 64)and then bytes. Since direct conversion was not allowed on Buffer.","title":"Memory spike for 30K RPM with 100KB payload each","body":"<p>While testing with 30K RPM with 100 KB payload size on vert.x httpclient. I am noticing a spike in memory and it goes up until the system crashes, no GC collection in between.</p>\n<pre><code>httpClient\n                .request(requestOpts)\n                .onSuccess(\n                    request -&gt; {\n                        request.send(payload);\n                    }\n                );\n</code></pre>\n<p>While running the same for 2 minutes Average response time was - 71.26 and average throughput was 499.26. But running the same over 3 minutes the system crashes.</p>\n<p>NOTE: requests payload is converted into String (Base 64)and then bytes. Since direct conversion was not allowed on Buffer.</p>\n"},{"tags":["java","file","sockets","client","transfer"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1542062401,"post_id":53269682,"comment_id":93425817,"body_markdown":"What transfer do you not know how to make? The file transfer proceeds like every other socket connection, you must have one peer act as the client and initiate a connection to the other peer which must act as the server, listening on a port that the client knows and waiting for the connection.","body":"What transfer do you not know how to make? The file transfer proceeds like every other socket connection, you must have one peer act as the client and initiate a connection to the other peer which must act as the server, listening on a port that the client knows and waiting for the connection."},{"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"score":0,"creation_date":1542063615,"post_id":53269682,"comment_id":93426157,"body_markdown":"hmm....the client who owns the file should open a seversocket so the one who wants the file can connect to it just like the server then? Can a client connect to more than one serversocket at a time?","body":"hmm....the client who owns the file should open a seversocket so the one who wants the file can connect to it just like the server then? Can a client connect to more than one serversocket at a time?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1542066463,"post_id":53269682,"comment_id":93426918,"body_markdown":"Of course, a client can (and does) have numerous connections open at a time.","body":"Of course, a client can (and does) have numerous connections open at a time."},{"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"score":1,"creation_date":1542140119,"post_id":53269682,"comment_id":93459603,"body_markdown":"@JamesKPolk you sir helped me a lot with this useful information! I was able to transfer from one client to another easily! Next estep, shared transfer and then I can fix and organize my code!","body":"@JamesKPolk you sir helped me a lot with this useful information! I was able to transfer from one client to another easily! Next estep, shared transfer and then I can fix and organize my code!"}],"answers":[{"tags":[],"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542140300,"creation_date":1542140300,"answer_id":53288861,"question_id":53269682,"body_markdown":"I was able to make a transfer between two clients easily with the information provided and a little research on stackOverflow to understand more about out/inputStreams!\r\nThis post also helped me a lot: https://stackoverflow.com/questions/26569288/sending-a-file-with-java-sockets-losing-data\r\nnext step is the shared transfer","title":"File transfer Client to Client in JAVA","body":"<p>I was able to make a transfer between two clients easily with the information provided and a little research on stackOverflow to understand more about out/inputStreams!\nThis post also helped me a lot: <a href=\"https://stackoverflow.com/questions/26569288/sending-a-file-with-java-sockets-losing-data\">Sending a file with Java Sockets, losing data</a>\nnext step is the shared transfer</p>\n"}],"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53288861,"answer_count":1,"score":1,"last_activity_date":1669776325,"creation_date":1542054803,"question_id":53269682,"body_markdown":"I need to implement a program to transfer files. I decided to make it using a chat template I&#39;ve made about 1 month ago so I would have a chat with file transfer option.\r\nThe transfer should follow the following points:  \r\n\r\n1- Server only keeps a list of all files provided by connected clients (No file are actually located in the server, only their names)\r\n\r\n2- Client &quot;1&quot; requests file &quot;A&quot; then: \r\n\r\n   if file &quot;A&quot; is located ONLY in client &quot;2&quot;, then client &quot;2&quot; should send 100% of the file to client &quot;1&quot;\r\n\r\n   if file &quot;A&quot; is located in client &quot;2&quot; and client &quot;3&quot; also has file &quot;A&quot;, then client &quot;2&quot; should send 50% of the file to client &quot;1&quot; and client &quot;3&quot; should send the other 50%.\r\n\r\n(if the file is located in 4 clients it should be 25% each....and so it goes...)\r\n\r\nI&#39;ve already managed to make the server find out which client is requesting the file and which clients have it. But now I&#39;m stuck, I don&#39;t know how to make the transfer. \r\n\r\nCould someone give me an example of how to do it? or point me through the right direction? \r\n\r\n[I&#39;m aware my code has some flaws and I will fix it later, right now I need to make the transfer happen before working on fixes, so please, unless it&#39;s related, try to focus on that] \r\n\r\n**Server:**\r\n\r\n    package tor;\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class Server extends Thread {\r\n\r\n\tprivate String cname;\r\n\tprivate Socket client;\r\n\tpublic static Vector&lt;PrintStream&gt; clients;\r\n\tpublic static Vector&lt;String&gt; clientnames;\r\n\tpublic static Vector&lt;String&gt; archives;\r\n\tpublic Server(Socket client) {\r\n\t\tthis.client = client;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tclients = new Vector&lt;PrintStream&gt;();\r\n\t\tclientnames = new Vector&lt;String&gt;();\r\n\t\tarchives = new Vector&lt;String&gt;();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tServerSocket server = new ServerSocket(2391);\r\n\t\t\tSystem.out.println(&quot;Server Started!!\\n&quot;);\r\n\t\t\twhile (true) {\r\n\t\t\t\tSocket client = server.accept();\r\n\t\t\t\tServer s = new Server(client);\r\n\t\t\t\ts.start();\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Server could not start &quot;);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n\t\t\tPrintStream out = new PrintStream(client.getOutputStream());\r\n\t\t\tcname = in.readLine();\r\n\t\t\tSystem.out.println(cname + &quot; Connected --- SERVER!&quot;);\r\n\r\n\t\t\tif (cname == null) {\r\n\t\t\t\tSystem.out.println(&quot;Unknown Name&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclientnames.add(cname);\r\n\t\t\tclients.add(out);\r\n\t\t\tconnected(&quot; ********** [&quot;, cname, &quot;] Connected! **********&quot;);\r\n\r\n\t\t\tString arq;\r\n\t\t\tint size = in.read();\r\n\t\t\tSystem.out.println(size);\r\n\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\t\tarq = in.readLine();\r\n\t\t\t\tarchives.add(arq);\r\n\t\t\t}\r\n\t\t\tString msg = in.readLine();\r\n\t\t\tString selected;\r\n\t\t\twhile (true) {\r\n\t\t\t\twhile (!(msg).equals(&quot;/exit&quot;) &amp;&amp; !(msg).equals(&quot;/Exit&quot;) &amp;&amp; !(msg).equals(&quot;/EXIT&quot;)) {\r\n\r\n\t\t\t\t\tif ((msg).equals(&quot;/list&quot;) || (msg).equals(&quot;/List&quot;) || (msg).equals(&quot;/list&quot;)) {\r\n\t\t\t\t\t\tout.println(&quot;-------- Archives List --------&quot;);\r\n\t\t\t\t\t\tfor (int i = 0; i &lt; archives.size(); i++) {\r\n\t\t\t\t\t\t\tout.println(i+&quot;- &quot;+archives.get(i));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tout.println(&quot;-------- ******************* --------&quot;);\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t} else if (msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))){\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t\tint gnum = Integer.parseInt(msg);\r\n\t\t\t\t\t\tselected=archives.get(gnum);\r\n\t\t\t\t\t\treturnAll(&quot;[&quot;, out, &quot;]: &quot;, &quot;idreq&quot;);\r\n\t\t\t\t\t\tout.println(&quot;1&quot;);\r\n\t\t\t\t\t\treqAll(selected);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// I BELIVE HERE IS THE RIGHT PLACE TO MAKE DE TRANSFER CODE\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturnAll(&quot;[&quot;, out, &quot;]: &quot;, msg);\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmsg = in.readLine();\r\n\t\t\t\tsize = Integer.parseInt(msg);\r\n\t\t\t\tfor (int i = 0; i &lt;= size; i++) {\r\n\t\t\t\t\tarq = in.readLine();\r\n\t\t\t\t\tfor(int j=0;j&lt;archives.size();j++) {\r\n\t\t\t\t\tif (archives.get(j).equals(arq)) {\r\n\t\t\t\t\t\tarchives.remove(j);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturnAll(&quot; ********** [&quot;, out, &quot;] disconnected &quot;, &quot; ********** &quot;);\r\n\t\t\t\tclients.remove(out);\r\n\t\t\t\tclientnames.remove(cname);\r\n\t\t\t\tclient.close();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;A Client disconnected &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// METHOD TO SEND CONNECTION MESSAGE\r\n\tpublic void connected(String msg1, String cname, String msg2) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(msg1 + cname + msg2);\r\n\t\t}\r\n\t}\r\n\r\n\t// METHOD TO RETURN MESSAGE TO ALL CLIENTS\r\n\tpublic void returnAll(String msg1, PrintStream saida, String ac, String msg2) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(msg1 + cname + ac + msg2);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void reqAll(String req) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(req);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n    }\r\n\r\n**Client:**\r\n\r\n    package tor;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Client extends Thread {\r\n    \tprivate Socket con;\r\n    \tprivate static boolean done = false;\r\n    \tstatic ArrayList&lt;String&gt; localArq = new ArrayList&lt;String&gt;();\r\n    \tstatic int c=0;\r\n\t\r\n\tpublic Client(Socket s) {\r\n\t\tcon = s;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\r\n\t\ttry {\r\n\t    \tString ip;\r\n\t\t\tScanner s = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter Server&#39;s IP: &quot;);\r\n\t\t\tip =s.next();\r\n\t\t\tSocket con = new Socket(ip, 2391);\r\n\t\t\tPrintStream out = new PrintStream(con.getOutputStream());\r\n\t\t\tSystem.out.println(&quot;Connected to Server!&quot;);\r\n\t\t\tSystem.out.print(&quot;Enter your Nickname: &quot;);\r\n\t\t\tBufferedReader scan = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tString cname = scan.readLine();\r\n\t\t\tout.println(cname);\r\n\t\t\tString dir=&quot;C:\\\\javator\\\\&quot;+cname;\r\n\t\t\tThread t = new Client(con);\r\n\t\t\tt.start();\r\n\t\t\t\r\n\t\t\tFile folder = new File(dir);\r\n\t\t\tfolder.mkdir();\r\n\t\t\tFile[] listOfFiles = folder.listFiles();\r\n\t\t\tfor (int i = 0; i &lt; listOfFiles.length; i++) {\r\n\t\t\t  if (listOfFiles[i].isFile()) {\r\n\t\t\t    localArq.add(listOfFiles[i].getName());\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\tint size=localArq.size();\r\n\t\t\tout.write(size);\r\n\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\tout.println(localArq.get(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString msg;\r\n\t\t\twhile (true) {\r\n\t\t\t\tSystem.out.print(&quot;&quot;);\r\n\t\t\t\tmsg = scan.readLine();\r\n\t\t\t\tif(msg.equals(&quot;/ll&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;-------- LOCAL LIST --------&quot;);\r\n\t\t\t\tfor (int i = 0; i &lt; localArq.size(); i++) {\r\n\t\t\t\t\tSystem.out.println(localArq.get(i));\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;-------- ******************* --------&quot;);\r\n\t\t\t\tmsg = scan.readLine();\r\n\t\t\t\t}else if(msg.equals(&quot;/exit&quot;) || (msg.equals(&quot;/Exit&quot;)) || (msg.equals(&quot;/EXIT&quot;))) {\r\n\t\t\t\t\tout.println(msg);\r\n\t\t\t\t\tsize=localArq.size();\r\n\t\t\t\t\tout.println(size);\r\n\t\t\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\t\t\tout.println(localArq.get(i));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))) {\r\n\t\t\t\t\tSystem.out.println(&quot;Chose file&#39;s number to /get: &quot;);\r\n\t\t\t\tc++;\r\n\t\t\t\t}\r\n\t\t\t\tif (done == true) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tout.println(msg);\r\n\t\t}\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\t\t\tString rmsg;\r\n\t\t\tString req;\r\n\t\t\t\r\n\t\t\twhile (true) {\r\n\t\t\t\trmsg = in.readLine();\r\n\t\t\t\tif (rmsg == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;Connection Terminated&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else if(rmsg.substring(rmsg.length() - 5).equals(&quot;idreq&quot;)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\treq = in.readLine();\r\n\t\t\t\t\tfor(int i=0;i&lt;localArq.size();i++) { //IDENTIFIES WHO OWNS THE REQUESTED FILE\r\n\t\t\t\t\t\tif(localArq.get(i).equals(req)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Owns requested file&quot;);\r\n\t\t\t\t\t\t\tSocket requester = new Socket(&quot;192.168.3.114&quot;, 2007);\r\n\t\t\t\t\t\t\tObjectOutputStream outputr = new ObjectOutputStream(requester.getOutputStream());\r\n\t\t\t\t\t\t\tObjectInputStream inputr = new ObjectInputStream(requester.getInputStream());\r\n\t\t\t\t\t\t    Object mens= inputr.readObject();\r\n\t\t\t\t\t\t    System.out.println(mens);\r\n\t\t\t\t\t\t    outputr.writeObject(&quot;OWNER FOUND&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(c==1) { //IDENTIFIES WHO WANTS THE FILE\r\n\t\t\t\t\trmsg = in.readLine();\r\n\t\t\t\t\tc= Integer.parseInt(rmsg);\r\n\t\t\t\t\tSystem.out.println(&quot;file: &quot;+req);\r\n\t\t\t\t\t\r\n\t\t\t\t\tServerSocket peer = new ServerSocket(2007);\r\n\t\t\t\t\tSystem.out.println(&quot;OPEN FOR CONNECTIONS\\n&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tSocket client = peer.accept();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Client connected: &quot; + client.getInetAddress().getHostAddress());\r\n\t\t\t\t\t\tObjectOutputStream outputo = new ObjectOutputStream(client.getOutputStream());\r\n\t\t\t\t\t\tObjectInputStream inputo = new ObjectInputStream(client.getInputStream());\r\n\t\t\t\t\t\toutputo.flush();\r\n\t\t\t\t\t\toutputo.writeObject(&quot;Connected to requester&quot;);\r\n\t\t\t\t        Object mens= inputo.readObject();\r\n\t\t\t\t\t    System.out.println(mens);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t else {\r\n\t\t\t\tSystem.out.println(rmsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdone = true;\r\n\t}\r\n    }","title":"File transfer Client to Client in JAVA","body":"<p>I need to implement a program to transfer files. I decided to make it using a chat template I've made about 1 month ago so I would have a chat with file transfer option.\nThe transfer should follow the following points:</p>\n<p>1- Server only keeps a list of all files provided by connected clients (No file are actually located in the server, only their names)</p>\n<p>2- Client &quot;1&quot; requests file &quot;A&quot; then:</p>\n<p>if file &quot;A&quot; is located ONLY in client &quot;2&quot;, then client &quot;2&quot; should send 100% of the file to client &quot;1&quot;</p>\n<p>if file &quot;A&quot; is located in client &quot;2&quot; and client &quot;3&quot; also has file &quot;A&quot;, then client &quot;2&quot; should send 50% of the file to client &quot;1&quot; and client &quot;3&quot; should send the other 50%.</p>\n<p>(if the file is located in 4 clients it should be 25% each....and so it goes...)</p>\n<p>I've already managed to make the server find out which client is requesting the file and which clients have it. But now I'm stuck, I don't know how to make the transfer.</p>\n<p>Could someone give me an example of how to do it? or point me through the right direction?</p>\n<p>[I'm aware my code has some flaws and I will fix it later, right now I need to make the transfer happen before working on fixes, so please, unless it's related, try to focus on that]</p>\n<p><strong>Server:</strong></p>\n<pre><code>package tor;\n\nimport java.util.*;\nimport java.io.*;\nimport java.net.*;\n\npublic class Server extends Thread {\n\nprivate String cname;\nprivate Socket client;\npublic static Vector&lt;PrintStream&gt; clients;\npublic static Vector&lt;String&gt; clientnames;\npublic static Vector&lt;String&gt; archives;\npublic Server(Socket client) {\n    this.client = client;\n\n}\n\npublic static void main(String[] args) {\n    clients = new Vector&lt;PrintStream&gt;();\n    clientnames = new Vector&lt;String&gt;();\n    archives = new Vector&lt;String&gt;();\n\n    try {\n\n        ServerSocket server = new ServerSocket(2391);\n        System.out.println(&quot;Server Started!!\\n&quot;);\n        while (true) {\n            Socket client = server.accept();\n            Server s = new Server(client);\n            s.start();\n        }\n\n    } catch (IOException e) {\n        System.out.println(&quot;Server could not start &quot;);\n\n    }\n\n}\n\n\n@Override\npublic void run() {\n\n    try {\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        PrintStream out = new PrintStream(client.getOutputStream());\n        cname = in.readLine();\n        System.out.println(cname + &quot; Connected --- SERVER!&quot;);\n\n        if (cname == null) {\n            System.out.println(&quot;Unknown Name&quot;);\n            return;\n        }\n        clientnames.add(cname);\n        clients.add(out);\n        connected(&quot; ********** [&quot;, cname, &quot;] Connected! **********&quot;);\n\n        String arq;\n        int size = in.read();\n        System.out.println(size);\n        for (int i = 0; i &lt; size; i++) {\n            arq = in.readLine();\n            archives.add(arq);\n        }\n        String msg = in.readLine();\n        String selected;\n        while (true) {\n            while (!(msg).equals(&quot;/exit&quot;) &amp;&amp; !(msg).equals(&quot;/Exit&quot;) &amp;&amp; !(msg).equals(&quot;/EXIT&quot;)) {\n\n                if ((msg).equals(&quot;/list&quot;) || (msg).equals(&quot;/List&quot;) || (msg).equals(&quot;/list&quot;)) {\n                    out.println(&quot;-------- Archives List --------&quot;);\n                    for (int i = 0; i &lt; archives.size(); i++) {\n                        out.println(i+&quot;- &quot;+archives.get(i));\n                    }\n                    out.println(&quot;-------- ******************* --------&quot;);\n                    msg = in.readLine();\n                } else if (msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))){\n                    msg = in.readLine();\n                    int gnum = Integer.parseInt(msg);\n                    selected=archives.get(gnum);\n                    returnAll(&quot;[&quot;, out, &quot;]: &quot;, &quot;idreq&quot;);\n                    out.println(&quot;1&quot;);\n                    reqAll(selected);\n                    \n                    // I BELIVE HERE IS THE RIGHT PLACE TO MAKE DE TRANSFER CODE\n                    \n                    \n                    msg = in.readLine();\n                } else {\n                    returnAll(&quot;[&quot;, out, &quot;]: &quot;, msg);\n                    msg = in.readLine();\n                }\n            }\n            msg = in.readLine();\n            size = Integer.parseInt(msg);\n            for (int i = 0; i &lt;= size; i++) {\n                arq = in.readLine();\n                for(int j=0;j&lt;archives.size();j++) {\n                if (archives.get(j).equals(arq)) {\n                    archives.remove(j);\n                }\n                }\n            }\n            returnAll(&quot; ********** [&quot;, out, &quot;] disconnected &quot;, &quot; ********** &quot;);\n            clients.remove(out);\n            clientnames.remove(cname);\n            client.close();\n            break;\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;A Client disconnected &quot;);\n    }\n\n}\n\n// METHOD TO SEND CONNECTION MESSAGE\npublic void connected(String msg1, String cname, String msg2) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(msg1 + cname + msg2);\n    }\n}\n\n// METHOD TO RETURN MESSAGE TO ALL CLIENTS\npublic void returnAll(String msg1, PrintStream saida, String ac, String msg2) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(msg1 + cname + ac + msg2);\n    }\n}\n\npublic void reqAll(String req) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(req);\n    }\n}\n\n\n}\n</code></pre>\n<p><strong>Client:</strong></p>\n<pre><code>package tor;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class Client extends Thread {\n    private Socket con;\n    private static boolean done = false;\n    static ArrayList&lt;String&gt; localArq = new ArrayList&lt;String&gt;();\n    static int c=0;\n\npublic Client(Socket s) {\n    con = s;\n}\n\npublic static void main(String[] args) {\n\n\n    try {\n        String ip;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter Server's IP: &quot;);\n        ip =s.next();\n        Socket con = new Socket(ip, 2391);\n        PrintStream out = new PrintStream(con.getOutputStream());\n        System.out.println(&quot;Connected to Server!&quot;);\n        System.out.print(&quot;Enter your Nickname: &quot;);\n        BufferedReader scan = new BufferedReader(new InputStreamReader(System.in));\n        String cname = scan.readLine();\n        out.println(cname);\n        String dir=&quot;C:\\\\javator\\\\&quot;+cname;\n        Thread t = new Client(con);\n        t.start();\n        \n        File folder = new File(dir);\n        folder.mkdir();\n        File[] listOfFiles = folder.listFiles();\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n          if (listOfFiles[i].isFile()) {\n            localArq.add(listOfFiles[i].getName());\n          }\n        }\n        int size=localArq.size();\n        out.write(size);\n        for(int i=0;i&lt;size;i++) {\n            out.println(localArq.get(i));\n        }\n        \n        \n        String msg;\n        while (true) {\n            System.out.print(&quot;&quot;);\n            msg = scan.readLine();\n            if(msg.equals(&quot;/ll&quot;)) {\n            System.out.println(&quot;-------- LOCAL LIST --------&quot;);\n            for (int i = 0; i &lt; localArq.size(); i++) {\n                System.out.println(localArq.get(i));\n            }\n            System.out.println(&quot;-------- ******************* --------&quot;);\n            msg = scan.readLine();\n            }else if(msg.equals(&quot;/exit&quot;) || (msg.equals(&quot;/Exit&quot;)) || (msg.equals(&quot;/EXIT&quot;))) {\n                out.println(msg);\n                size=localArq.size();\n                out.println(size);\n                for(int i=0;i&lt;size;i++) {\n                    out.println(localArq.get(i));\n                }\n                \n            }\n            else if(msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))) {\n                System.out.println(&quot;Chose file's number to /get: &quot;);\n            c++;\n            }\n            if (done == true) {\n                break;\n            }\n            out.println(msg);\n    }\n    } catch (UnknownHostException e) {\n        System.out.println(e.getMessage());\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n    }\n}\n\n@Override\npublic void run() {\n    try {\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String rmsg;\n        String req;\n        \n        while (true) {\n            rmsg = in.readLine();\n            if (rmsg == null) {\n                System.out.println(&quot;Connection Terminated&quot;);\n                break;\n            }else if(rmsg.substring(rmsg.length() - 5).equals(&quot;idreq&quot;)) {\n                \n                req = in.readLine();\n                for(int i=0;i&lt;localArq.size();i++) { //IDENTIFIES WHO OWNS THE REQUESTED FILE\n                    if(localArq.get(i).equals(req)) {\n                        \n                        System.out.println(&quot;Owns requested file&quot;);\n                        Socket requester = new Socket(&quot;192.168.3.114&quot;, 2007);\n                        ObjectOutputStream outputr = new ObjectOutputStream(requester.getOutputStream());\n                        ObjectInputStream inputr = new ObjectInputStream(requester.getInputStream());\n                        Object mens= inputr.readObject();\n                        System.out.println(mens);\n                        outputr.writeObject(&quot;OWNER FOUND&quot;);\n                    }\n                }\n                if(c==1) { //IDENTIFIES WHO WANTS THE FILE\n                rmsg = in.readLine();\n                c= Integer.parseInt(rmsg);\n                System.out.println(&quot;file: &quot;+req);\n                \n                ServerSocket peer = new ServerSocket(2007);\n                System.out.println(&quot;OPEN FOR CONNECTIONS\\n&quot;);\n                \n                    Socket client = peer.accept();\n                    System.out.println(&quot;Client connected: &quot; + client.getInetAddress().getHostAddress());\n                    ObjectOutputStream outputo = new ObjectOutputStream(client.getOutputStream());\n                    ObjectInputStream inputo = new ObjectInputStream(client.getInputStream());\n                    outputo.flush();\n                    outputo.writeObject(&quot;Connected to requester&quot;);\n                    Object mens= inputo.readObject();\n                    System.out.println(mens);\n                \n                }\n                \n            }\n             else {\n            System.out.println(rmsg);\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    done = true;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661980886,"creation_date":1661980886,"answer_id":73562007,"question_id":73559543,"body_markdown":"To override this shortcoming, I&#39;d to refere to the implementation class in the code (instead of depending on the auto configuration of spring boot)\r\n\r\n```java\r\n@Bean\r\npublic Client feignClient(HttpClient httpClient) {\r\n\tvar client = new ApacheHttpClient(httpClient);\r\n\treturn (request, options) -&gt; convertResponse(client.execute(request, options));\r\n}\r\n\r\nprivate Response convertResponse(Response response) throws IOException {\r\n\r\n\t// ...\r\n}\r\n    \r\n```","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p>To override this shortcoming, I'd to refere to the implementation class in the code (instead of depending on the auto configuration of spring boot)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Client feignClient(HttpClient httpClient) {\n    var client = new ApacheHttpClient(httpClient);\n    return (request, options) -&gt; convertResponse(client.execute(request, options));\n}\n\nprivate Response convertResponse(Response response) throws IOException {\n\n    // ...\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12087033,"reputation":1,"user_id":8835358,"display_name":"user8835358"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669775071,"creation_date":1669775071,"answer_id":74622224,"question_id":73559543,"body_markdown":"**SynchronousMethodHandler** uses **feign.Logger** to print logs before and after the feign request process unless the log level is NONE. The calling sequence is as follows: &lt;br&gt;\r\n1. `logger.logResuest(configKey, logLevel, request)`\r\n2. `response = client.execute(request, options)`\r\n3. `response = logger.logAndRebufferResponse(configKey, logLevel, response, elapsedTime)` \r\n\r\nThis logger is created by **DefaultFeignLoggerFactory#create()**. If you define your own logger and register it as a SringBean,  **DefaultFeignLoggerFactory** should use your own logger to print logs, you can see it in `FeignClientsConfigurations` that the logger is `@Autowired(required = false)`.\r\nSo you should define your own logger, for example:\r\n```java\r\npublic class MyFeignLogger extends Slf4jLogger {\r\n\r\n    @Override\r\n    protected Response logAndRebufferResponse(String configKey, Logger.Level logLevel, Response response, long elapsedTime) {\r\n        Response rsp = super.logAndRebufferResponse(configKey, logLevel, response, elapsedTime);\r\n        //you can change response status here by java reflect. \r\n        if(xxxx) {\r\n            ReflectUtil.setFieldValue(rsp, &quot;status&quot;, 400);\r\n        }\r\n        return rsp;\r\n    }\r\n}\r\n```\r\n\r\nThen register this class as Bean:\r\n```java\r\n@Configuration\r\n@AutoConfiguration(FeignClientsConfiguration.class)\r\npublic class MyFeignConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public Logger.Level feignLoggerLevel() {\r\n        return Logger.Level.FULL;\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public Logger feignLogger() {\r\n        return new MyFeignLogger();\r\n    }\r\n}\r\n```\r\nIt works.","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p><strong>SynchronousMethodHandler</strong> uses <strong>feign.Logger</strong> to print logs before and after the feign request process unless the log level is NONE. The calling sequence is as follows: <br></p>\n<ol>\n<li><code>logger.logResuest(configKey, logLevel, request)</code></li>\n<li><code>response = client.execute(request, options)</code></li>\n<li><code>response = logger.logAndRebufferResponse(configKey, logLevel, response, elapsedTime)</code></li>\n</ol>\n<p>This logger is created by <strong>DefaultFeignLoggerFactory#create()</strong>. If you define your own logger and register it as a SringBean,  <strong>DefaultFeignLoggerFactory</strong> should use your own logger to print logs, you can see it in <code>FeignClientsConfigurations</code> that the logger is <code>@Autowired(required = false)</code>.\nSo you should define your own logger, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFeignLogger extends Slf4jLogger {\n\n    @Override\n    protected Response logAndRebufferResponse(String configKey, Logger.Level logLevel, Response response, long elapsedTime) {\n        Response rsp = super.logAndRebufferResponse(configKey, logLevel, response, elapsedTime);\n        //you can change response status here by java reflect. \n        if(xxxx) {\n            ReflectUtil.setFieldValue(rsp, &quot;status&quot;, 400);\n        }\n        return rsp;\n    }\n}\n</code></pre>\n<p>Then register this class as Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@AutoConfiguration(FeignClientsConfiguration.class)\npublic class MyFeignConfiguration {\n\n    @Bean\n    @Primary\n    public Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n\n    @Bean\n    @Primary\n    public Logger feignLogger() {\n        return new MyFeignLogger();\n    }\n}\n</code></pre>\n<p>It works.</p>\n"}],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73562007,"answer_count":2,"score":0,"last_activity_date":1669775071,"creation_date":1661965866,"question_id":73559543,"body_markdown":"I need to intercept HTTP response and alter HTTP status code. \r\nfor example, I might change 200 to 400 (based on the response object itself) so that the ErrorDecoder should be invoked.\r\n\r\nI need to do this without extending the `feign.Client` class! (in fact, the `feign.httpclient.ApacheHttpClient ` which I am using is final!)\r\n\r\nI tried to provide an implementation for `ResponseMapper` but it seems the response mapper (and the `Decoder` that I used to override) isn&#39;t invoked until the HTTP status check is done inside `AsyncResponseHandler#handleResponse`!\r\n\r\nI am talking mainly here about how the implementation of [SynchronousMethodHandler][1] and [AsyncResponseHandler][2] works.\r\n\r\n***To sum it up***, my main issue is that `AsyncResponseHandler#handleResponse` doesn&#39;t invoke the `Decoder` (hence the `ResponseMapper`) before the `ErrorDecoder`, and if it does then the `ResponseMapper` can do the HTTP status code I need.\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/SynchronousMethodHandler.java\r\n  [2]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/AsyncResponseHandler.java","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p>I need to intercept HTTP response and alter HTTP status code.\nfor example, I might change 200 to 400 (based on the response object itself) so that the ErrorDecoder should be invoked.</p>\n<p>I need to do this without extending the <code>feign.Client</code> class! (in fact, the <code>feign.httpclient.ApacheHttpClient </code> which I am using is final!)</p>\n<p>I tried to provide an implementation for <code>ResponseMapper</code> but it seems the response mapper (and the <code>Decoder</code> that I used to override) isn't invoked until the HTTP status check is done inside <code>AsyncResponseHandler#handleResponse</code>!</p>\n<p>I am talking mainly here about how the implementation of <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/SynchronousMethodHandler.java\" rel=\"nofollow noreferrer\">SynchronousMethodHandler</a> and <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/AsyncResponseHandler.java\" rel=\"nofollow noreferrer\">AsyncResponseHandler</a> works.</p>\n<p><em><strong>To sum it up</strong></em>, my main issue is that <code>AsyncResponseHandler#handleResponse</code> doesn't invoke the <code>Decoder</code> (hence the <code>ResponseMapper</code>) before the <code>ErrorDecoder</code>, and if it does then the <code>ResponseMapper</code> can do the HTTP status code I need.</p>\n"},{"tags":["java","spring-boot","ubuntu","pdf"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1669771171,"post_id":74621898,"comment_id":131717360,"body_markdown":"This would depend on the locales of the server and client.  Are they different?","body":"This would depend on the locales of the server and client.  Are they different?"},{"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"score":0,"creation_date":1669771238,"post_id":74621898,"comment_id":131717376,"body_markdown":"How an I determine the locales?","body":"How an I determine the locales?"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":1,"creation_date":1669771893,"post_id":74621898,"comment_id":131717467,"body_markdown":"Just a guess, but I think that it&#39;s more likely that the problem exists in the code that generates the PDF content.","body":"Just a guess, but I think that it&#39;s more likely that the problem exists in the code that generates the PDF content."},{"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"score":0,"creation_date":1669772438,"post_id":74621898,"comment_id":131717556,"body_markdown":"But what would explain the difference between running it locally (and getting the correct $ in PDF) vs running it on Ubuntu (and getting the currency symbol)?","body":"But what would explain the difference between running it locally (and getting the correct $ in PDF) vs running it on Ubuntu (and getting the currency symbol)?"}],"answers":[{"tags":[],"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772889,"creation_date":1669772889,"answer_id":74622051,"question_id":74621898,"body_markdown":"It turns out the problem was locale.  Thanks, Jim Garrison.  I fixed the issue by adding the following statement to the endpoint method:\r\n\r\n```\r\nLocale.setDefault(Locale.US);\r\n```","title":"Spring Boot web app deployed to Ubuntu returning PDF containing a currency symbol (&#164;) rather than a dollar sign ($)","body":"<p>It turns out the problem was locale.  Thanks, Jim Garrison.  I fixed the issue by adding the following statement to the endpoint method:</p>\n<pre><code>Locale.setDefault(Locale.US);\n</code></pre>\n"}],"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669772889,"creation_date":1669770949,"question_id":74621898,"body_markdown":"I have a Spring Boot web app that generates a PDF (as a ByteArrayOutputStream) and returns it (ByteArrayInputStream) as an attachment from an endpoint.  When running the app locally (MacOS) the PDF correctly contains dollar signs ($).  I have deployed the web to an Ubuntu server on AWS.  When calling the endpoint from the Ubuntu deployment, the PDF contains a currency symbol (&#164;) instead of a dollar sign ($) for each occurrence.  I cannot determine why this is happening.\r\n\r\nUbuntu version: ```Linux ip-172-31-92-87 5.15.0-1023-aws #27-Ubuntu SMP Thu Oct 20 16:44:17 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux```\r\n\r\nThe currency symbol showing up in the pdf: [https://www.compart.com/en/unicode/U+00A4][1]\r\n\r\nRelevant java endpoint code:\r\n\r\n```\r\n@PostMapping(value = &quot;/invoice/upload&quot;, produces = { &quot;application/pdf&quot; })\r\n    public ResponseEntity&lt;Object&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n...\r\n) { \r\n   // ...code that generates pdf...\r\n   String contentDispositionValue = &quot;attachment; filename=\\&quot;&quot; + simpleFilename + &quot;\\&quot;&quot;;\r\n\r\n        ByteArrayInputStream pdfInputStream = new ByteArrayInputStream(pdfOutputStream.toByteArray());\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;content-disposition&quot;, contentDispositionValue);\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .headers(headers)\r\n                .contentLength(pdfOutputStream.size())\r\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n                .body(new InputStreamResource(pdfInputStream));\r\n\r\n    }\r\n```\r\n\r\nI have tried adding a header &quot;Content-Type: application/pdf; charset=utf-8&quot; but that didn&#39;t work either.\r\n\r\nI am using the following dependency in the pom.xml that is used to generate the pdf:\r\n\r\n```\r\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.7&lt;/version&gt;\r\n```\r\n\r\nCan anyone explain why this is happening?  And how can I prevent the currency symbol from showing up in the PDF and have it use dollar signs as intended.  Thanks in advance!\r\n\r\n\r\n  [1]: https://www.compart.com/en/unicode/U+00A4","title":"Spring Boot web app deployed to Ubuntu returning PDF containing a currency symbol (&#164;) rather than a dollar sign ($)","body":"<p>I have a Spring Boot web app that generates a PDF (as a ByteArrayOutputStream) and returns it (ByteArrayInputStream) as an attachment from an endpoint.  When running the app locally (MacOS) the PDF correctly contains dollar signs ($).  I have deployed the web to an Ubuntu server on AWS.  When calling the endpoint from the Ubuntu deployment, the PDF contains a currency symbol (¤) instead of a dollar sign ($) for each occurrence.  I cannot determine why this is happening.</p>\n<p>Ubuntu version: <code>Linux ip-172-31-92-87 5.15.0-1023-aws #27-Ubuntu SMP Thu Oct 20 16:44:17 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</code></p>\n<p>The currency symbol showing up in the pdf: <a href=\"https://www.compart.com/en/unicode/U+00A4\" rel=\"nofollow noreferrer\">https://www.compart.com/en/unicode/U+00A4</a></p>\n<p>Relevant java endpoint code:</p>\n<pre><code>@PostMapping(value = &quot;/invoice/upload&quot;, produces = { &quot;application/pdf&quot; })\n    public ResponseEntity&lt;Object&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\n...\n) { \n   // ...code that generates pdf...\n   String contentDispositionValue = &quot;attachment; filename=\\&quot;&quot; + simpleFilename + &quot;\\&quot;&quot;;\n\n        ByteArrayInputStream pdfInputStream = new ByteArrayInputStream(pdfOutputStream.toByteArray());\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;content-disposition&quot;, contentDispositionValue);\n\n        return ResponseEntity\n                .ok()\n                .headers(headers)\n                .contentLength(pdfOutputStream.size())\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                .body(new InputStreamResource(pdfInputStream));\n\n    }\n</code></pre>\n<p>I have tried adding a header &quot;Content-Type: application/pdf; charset=utf-8&quot; but that didn't work either.</p>\n<p>I am using the following dependency in the pom.xml that is used to generate the pdf:</p>\n<pre><code>            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n</code></pre>\n<p>Can anyone explain why this is happening?  And how can I prevent the currency symbol from showing up in the PDF and have it use dollar signs as intended.  Thanks in advance!</p>\n"},{"tags":["java","for-loop","arraylist","integer","max"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1514697314,"post_id":48040197,"comment_id":83050785,"body_markdown":"What are you defining as the first max value in the loop?","body":"What are you defining as the first max value in the loop?"},{"owner":{"account_id":6807639,"reputation":25999,"user_id":5238915,"accept_rate":100,"display_name":"RoadRunner"},"score":0,"creation_date":1514700562,"post_id":48040197,"comment_id":83051212,"body_markdown":"You just use a `HashMap` for this, as seen [here](https://ideone.com/hsWro8).","body":"You just use a <code>HashMap</code> for this, as seen <a href=\"https://ideone.com/hsWro8\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514697940,"creation_date":1514697940,"answer_id":48040254,"question_id":48040197,"body_markdown":"You seem to have forgotten to access the **element** at the `maxIndex` in your comparison. And you set the **index** to the *value* of the element in your `if` (instead of the *`index`*). I think you wanted,\r\n\r\n    public int findIndexOfMax() {\r\n        int maxIndex = 0;\r\n        for (int k = 1; k &lt; myFreqs.size(); k++) {\r\n            if (myFreqs.get(k) &gt; myFreqs.get(maxIndex)) {\r\n                maxIndex = k;\r\n            }\r\n        }\r\n        return maxIndex;\r\n    }","title":"How to return first max value in a Java ArrayList","body":"<p>You seem to have forgotten to access the <strong>element</strong> at the <code>maxIndex</code> in your comparison. And you set the <strong>index</strong> to the <em>value</em> of the element in your <code>if</code> (instead of the <em><code>index</code></em>). I think you wanted,</p>\n\n<pre><code>public int findIndexOfMax() {\n    int maxIndex = 0;\n    for (int k = 1; k &lt; myFreqs.size(); k++) {\n        if (myFreqs.get(k) &gt; myFreqs.get(maxIndex)) {\n            maxIndex = k;\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12591043,"reputation":1,"user_id":9157737,"display_name":"Rahul Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514702222,"creation_date":1514702222,"answer_id":48040543,"question_id":48040197,"body_markdown":"I think you are using the integers on the left as index for the Strings on the right and when you use 3 as index for the second time it is overlapping the value &quot;a&quot; with &quot;test&quot;.","title":"How to return first max value in a Java ArrayList","body":"<p>I think you are using the integers on the left as index for the Strings on the right and when you use 3 as index for the second time it is overlapping the value \"a\" with \"test\".</p>\n"},{"tags":[],"owner":{"account_id":16747509,"reputation":1,"user_id":12105330,"display_name":"Tia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772721,"creation_date":1669772721,"answer_id":74622038,"question_id":48040197,"body_markdown":"\r\n\r\n**since there is a tie between &quot;a&quot; and &quot;test.&quot; Frequencies, you want to return the first value which is &quot;a&quot; with the occurrence of 3**\r\n\r\n\r\nto do so, you need to find the max value and its position in myFreqs and then get the value of the other ArrayList containing the words at the index of the position of the max value.\r\n\r\n    int maxElement = 0;\r\n    int maxPosition = 0;\r\n    for(int i = 0; i &lt; this.myFreqs.size(); i++){\r\n        if(this.freqs.get(i) &gt; maxElement){\r\n            maxElement = this.freqs.get(i);\r\n            maxPosition = i;\r\n        }\r\n    }\r\n    return maxPosition;\r\n   \r\n\r\nnow you can simply find the first most frequent word in the arrayList of the words:\r\n\r\n    words.get(maxFreq)\r\n    \r\n\r\n","title":"How to return first max value in a Java ArrayList","body":"<p><strong>since there is a tie between &quot;a&quot; and &quot;test.&quot; Frequencies, you want to return the first value which is &quot;a&quot; with the occurrence of 3</strong></p>\n<p>to do so, you need to find the max value and its position in myFreqs and then get the value of the other ArrayList containing the words at the index of the position of the max value.</p>\n<pre><code>int maxElement = 0;\nint maxPosition = 0;\nfor(int i = 0; i &lt; this.myFreqs.size(); i++){\n    if(this.freqs.get(i) &gt; maxElement){\n        maxElement = this.freqs.get(i);\n        maxPosition = i;\n    }\n}\nreturn maxPosition;\n</code></pre>\n<p>now you can simply find the first most frequent word in the arrayList of the words:</p>\n<pre><code>words.get(maxFreq)\n</code></pre>\n"}],"owner":{"account_id":11756295,"reputation":187,"user_id":8603883,"accept_rate":64,"display_name":"charlie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48040254,"answer_count":3,"score":0,"last_activity_date":1669772721,"creation_date":1514697148,"question_id":48040197,"body_markdown":"I&#39;m trying to return the first index of the max value of an `ArrayList&lt;Integer&gt;`. The code below finds the second maximum instead of the first. How do I return the first max value encountered by the loop?\r\n\r\n\tpublic int findIndexOfMax() {\r\n\t\tint maxIndex = 0;\r\n\t\tfor (int k = 0; k &lt; myFreqs.size(); k++) {\r\n\t\t\tif (myFreqs.get(k) &gt; maxIndex) {\r\n\t\t\t\tmaxIndex = myFreqs.get(k);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxIndex;\r\n\t}\r\n\r\nWhat gets returned is &#39;test. 3&#39;. But it should be the first max which is 3 for the letter &#39;a&#39;.\r\n\r\n    Number of unique words: 7\r\n    1\tthis\r\n    1\tis\r\n    3\ta\r\n    3\ttest.\r\n    1\tyes\r\n    1\ttest\r\n    1\tof\r\n    The word that occurs most often and its count are: test. 3","title":"How to return first max value in a Java ArrayList","body":"<p>I'm trying to return the first index of the max value of an <code>ArrayList&lt;Integer&gt;</code>. The code below finds the second maximum instead of the first. How do I return the first max value encountered by the loop?</p>\n\n<pre><code>public int findIndexOfMax() {\n    int maxIndex = 0;\n    for (int k = 0; k &lt; myFreqs.size(); k++) {\n        if (myFreqs.get(k) &gt; maxIndex) {\n            maxIndex = myFreqs.get(k);\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n\n<p>What gets returned is 'test. 3'. But it should be the first max which is 3 for the letter 'a'.</p>\n\n<pre><code>Number of unique words: 7\n1   this\n1   is\n3   a\n3   test.\n1   yes\n1   test\n1   of\nThe word that occurs most often and its count are: test. 3\n</code></pre>\n"},{"tags":["java","algorithm","graph","breadth-first-search"],"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669763717,"post_id":74621070,"comment_id":131716141,"body_markdown":"@AlexanderIvanchenko I just shared it.","body":"@AlexanderIvanchenko I just shared it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669767165,"creation_date":1669766003,"answer_id":74621509,"question_id":74621070,"body_markdown":"It&#39;s a good idea to use a `Map` to construct the path between nodes. But the probless is that you&#39;re overriding Values since there couldn&#39;t more than one entry with same Key (`4 -&gt; 6` has been overridden with `4 -&gt; 5`, and you received an incorrect result).\r\n\r\nTo solve this issue we can reverse the Map, i.e. the *Keys* would represent sibling-nodes (*keys are unique*), and *Values* - parent-nodes (values can be duplicated). And when the `destination` node was found (or all nodes has been visited) the path would be constructed in restored in reversed order, i.e. from `destination` to `source` (we would need to reverse the list).\r\n\r\nAlso **note** that a `HashSet` of visited nodes is redundant since this information is already reflected in the Map.\r\n\r\nThat how BFS implementation might look like:\r\n\r\n    public static List&lt;Node&gt; getDirections(Node source, Node destination) {\r\n        Map&lt;Node, Node&gt; paths = new HashMap&lt;&gt;(); // Map of paths also allows to track the visited nodes\r\n        Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;();  // is more performant than LinkedList\r\n        queue.add(source);\r\n        paths.put(source, null); // the starting point of the path\r\n        \r\n        boolean isFound = false;\r\n        \r\n        while (!isFound &amp;&amp; !queue.isEmpty()) {\r\n            Node current = queue.remove();\r\n            \r\n            for (Node sibling : current.getSiblingNodes()) {\r\n                if (paths.containsKey(sibling)) continue;\r\n                // update the Map of paths\r\n                paths.put(sibling, current);\r\n                // the target node was found\r\n                if (sibling.equals(destination)) {\r\n                    isFound = true; // we need to terminate the search, no need to explore all nodes if the path is found\r\n                    break;\r\n                }\r\n                queue.add(sibling); // adding the sibling to the queue\r\n            }\r\n        }\r\n        return getPath(source, destination, paths);\r\n    }\r\n\r\nHelper method for generating the path:\r\n    \r\n    public static List&lt;Node&gt; getPath(Node start, Node end, Map&lt;Node, Node&gt; paths) {\r\n        List&lt;Node&gt; path = new ArrayList&lt;&gt;();\r\n        Node current = end;\r\n        path.add(current);\r\n        while (current != start &amp;&amp; current != null) { // if there&#39;s no path from start to end current eventually will become null\r\n            path.add(paths.get(current));\r\n            current = paths.get(current);\r\n        }\r\n        Collections.reverse(path);\r\n        return current != null ? path : Collections.emptyList();\r\n    }\r\n\r\n***Note** `equals()` implementation in the `Node` class actually doesn&#39;t override `java.lang.Object.equals()` because the signature doesn&#39;t match. Also, implementation of `hashCode()` is missing, which goes against the contract of the [`equals()`][equals]. Therefore, in hash-based collections, default implementations for both `equals` and `hashCode` would be used. It didn&#39;t cause troubles in the original code, only because OP was using literally the same objects.*\r\n\r\nHere&#39;s an example of correct implementation:\r\n\r\n    public class Node {\r\n        private final int value;\r\n        private final Set&lt;Node&gt; siblingNodes = new HashSet&lt;&gt;();\r\n        \r\n        // constructor, getters, addSiblingNode(), etc.\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o instanceof Node other &amp;&amp; value == other.value;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(value);\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        // sample data from the question\r\n        \r\n        List&lt;Node&gt; shortestPath = getDirections(node0, node7);\r\n        \r\n        String path = shortestPath.stream()\r\n            .map(Node::getValue)\r\n            .map(String::valueOf)\r\n            .collect(Collectors.joining(&quot; -&gt; &quot;));\r\n    \r\n        System.out.println(path);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 6 -&gt; 7\r\n```\r\n\r\n\r\n   [equals]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>It's a good idea to use a <code>Map</code> to construct the path between nodes. But the probless is that you're overriding Values since there couldn't more than one entry with same Key (<code>4 -&gt; 6</code> has been overridden with <code>4 -&gt; 5</code>, and you received an incorrect result).</p>\n<p>To solve this issue we can reverse the Map, i.e. the <em>Keys</em> would represent sibling-nodes (<em>keys are unique</em>), and <em>Values</em> - parent-nodes (values can be duplicated). And when the <code>destination</code> node was found (or all nodes has been visited) the path would be constructed in restored in reversed order, i.e. from <code>destination</code> to <code>source</code> (we would need to reverse the list).</p>\n<p>Also <strong>note</strong> that a <code>HashSet</code> of visited nodes is redundant since this information is already reflected in the Map.</p>\n<p>That how BFS implementation might look like:</p>\n<pre><code>public static List&lt;Node&gt; getDirections(Node source, Node destination) {\n    Map&lt;Node, Node&gt; paths = new HashMap&lt;&gt;(); // Map of paths also allows to track the visited nodes\n    Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;();  // is more performant than LinkedList\n    queue.add(source);\n    paths.put(source, null); // the starting point of the path\n    \n    boolean isFound = false;\n    \n    while (!isFound &amp;&amp; !queue.isEmpty()) {\n        Node current = queue.remove();\n        \n        for (Node sibling : current.getSiblingNodes()) {\n            if (paths.containsKey(sibling)) continue;\n            // update the Map of paths\n            paths.put(sibling, current);\n            // the target node was found\n            if (sibling.equals(destination)) {\n                isFound = true; // we need to terminate the search, no need to explore all nodes if the path is found\n                break;\n            }\n            queue.add(sibling); // adding the sibling to the queue\n        }\n    }\n    return getPath(source, destination, paths);\n}\n</code></pre>\n<p>Helper method for generating the path:</p>\n<pre><code>public static List&lt;Node&gt; getPath(Node start, Node end, Map&lt;Node, Node&gt; paths) {\n    List&lt;Node&gt; path = new ArrayList&lt;&gt;();\n    Node current = end;\n    path.add(current);\n    while (current != start &amp;&amp; current != null) { // if there's no path from start to end current eventually will become null\n        path.add(paths.get(current));\n        current = paths.get(current);\n    }\n    Collections.reverse(path);\n    return current != null ? path : Collections.emptyList();\n}\n</code></pre>\n<p><em><strong>Note</strong> <code>equals()</code> implementation in the <code>Node</code> class actually doesn't override <code>java.lang.Object.equals()</code> because the signature doesn't match. Also, implementation of <code>hashCode()</code> is missing, which goes against the contract of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a>. Therefore, in hash-based collections, default implementations for both <code>equals</code> and <code>hashCode</code> would be used. It didn't cause troubles in the original code, only because OP was using literally the same objects.</em></p>\n<p>Here's an example of correct implementation:</p>\n<pre><code>public class Node {\n    private final int value;\n    private final Set&lt;Node&gt; siblingNodes = new HashSet&lt;&gt;();\n    \n    // constructor, getters, addSiblingNode(), etc.\n    \n    @Override\n    public boolean equals(Object o) {\n        return o instanceof Node other &amp;&amp; value == other.value;\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(value);\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    // sample data from the question\n    \n    List&lt;Node&gt; shortestPath = getDirections(node0, node7);\n    \n    String path = shortestPath.stream()\n        .map(Node::getValue)\n        .map(String::valueOf)\n        .collect(Collectors.joining(&quot; -&gt; &quot;));\n\n    System.out.println(path);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 6 -&gt; 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772482,"creation_date":1669772482,"answer_id":74622023,"question_id":74621070,"body_markdown":"Your `getDirections()` implementation seems correct. But there is a problem with the `Node` class. You should add the following two methods to `Node`.\r\nThese are needed to store `Node` objects in a `Map` or `Set`.\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return obj instanceof Node n\r\n                &amp;&amp; n.value == value;\r\n        }\r\n\r\n\r\noutput:\r\n\r\n    0\r\n    2\r\n    3\r\n    4\r\n    6\r\n    7\r\n\r\n","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>Your <code>getDirections()</code> implementation seems correct. But there is a problem with the <code>Node</code> class. You should add the following two methods to <code>Node</code>.\nThese are needed to store <code>Node</code> objects in a <code>Map</code> or <code>Set</code>.</p>\n<pre><code>    @Override\n    public int hashCode() {\n        return value;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Node n\n            &amp;&amp; n.value == value;\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>0\n2\n3\n4\n6\n7\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669772482,"creation_date":1669762109,"question_id":74621070,"body_markdown":"I have a problem in calculating the shortest path through BFS algorithm in Java.\r\n\r\nWhen I tried to define a path from Node 0 to Node 7 , I got this result. `(0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5)`\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my Node Class\r\n\r\n    public class Node {\r\n      private final int value;\r\n      private final Set&lt;Node&gt; siblingNodes;\r\n    \r\n      public Node(int value) {\r\n        this.value = value;\r\n        siblingNodes = new HashSet&lt;Node&gt;();\r\n      }\r\n    \r\n      public Set&lt;Node&gt; getSiblingNodes() {\r\n        return siblingNodes;\r\n      }\r\n    \r\n      public boolean equals(Node compareTo) {\r\n        return (compareTo.getValue() == value);\r\n      }\r\n    \r\n      public int getValue() {\r\n        return value;\r\n      }\r\n    \r\n      public void addSiblingNode(Node node) {\r\n        siblingNodes.add(node); \r\n      }\r\n    }\r\n\r\n\r\nHere is the code snippets shown below.\r\n\r\n      public static void main(String[] args) {\r\n    \t/**\r\n    \t *\r\n    \t *        1             -&gt; 5\r\n    \t * 0 -&gt;           -&gt; 4\r\n    \t *        2 -&gt; 3        -&gt; 6    -&gt; 7\r\n    \t *\r\n    \t */\r\n    \t    Node node0 = new Node(0);\r\n    \r\n    \t    Node node1 = new Node(1);\r\n    \t    Node node2 = new Node(2);\r\n    \t    node0.addSiblingNode(node1);\r\n    \t    node0.addSiblingNode(node2);    \r\n    \r\n    \t    Node node3 = new Node(3);\r\n    \t    node2.addSiblingNode(node3);\r\n    \r\n    \t    Node node4 = new Node(4);\r\n    \t    node3.addSiblingNode(node4);\r\n    \r\n    \t    Node node5 = new Node(5);\r\n    \t    Node node6 = new Node(6);\r\n    \t    node4.addSiblingNode(node5);\r\n    \t    node4.addSiblingNode(node6);\r\n    \t    \r\n    \t    Node node7 = new Node(7);\r\n    \t    node6.addSiblingNode(node7);\r\n    \r\n    \t    List&lt;Node&gt; shortestPath = getDirections(node0, node7);\r\n    \t    for(Node node : shortestPath) {\r\n    \t      System.out.println(node.getValue());\r\n    \t    }\r\n    \t  }\r\n    \r\n    \t  public static List&lt;Node&gt; getDirections(Node sourceNode, Node destinationNode) {\r\n    \t    // Initialization.\r\n    \t    Map&lt;Node, Node&gt; nextNodeMap = new HashMap&lt;Node, Node&gt;();\r\n    \t    Node currentNode = sourceNode;\r\n    \t    Node previousNode = sourceNode;\r\n    \r\n    \t    // Queue\r\n    \t    Queue&lt;Node&gt; queue = new LinkedList&lt;Node&gt;();\r\n    \t    queue.add(currentNode);\r\n    \r\n    \t\t/*\r\n    \t\t * The set of visited nodes doesn&#39;t have to be a Map, and, since order\r\n    \t\t * is not important, an ordered collection is not needed. HashSet is \r\n    \t\t * fast for add and lookup, if configured properly.\r\n    \t\t */\r\n    \t    Set&lt;Node&gt; visitedNodes = new HashSet&lt;Node&gt;();\r\n    \t    visitedNodes.add(currentNode);\r\n    \r\n    \t    //Search.\r\n    \t    while (!queue.isEmpty()) {\r\n    \t      currentNode = queue.remove();\r\n    \t      if (currentNode.equals(destinationNode)) {\r\n    \t        // Handle case where the node leading to the destinatino node\r\n    \t        // itself pointed to multiple nodes. In this case,\r\n    \t        // nextNodeMap is incorrect and we need to rely on the previously\r\n    \t        // seen node.\r\n    \t        // Also need to check for edge-case of start node == end node.\r\n    \t        if (!previousNode.equals(currentNode)) {\r\n    \t          nextNodeMap.put(previousNode, currentNode);\r\n    \t        }\r\n    \t        break;\r\n    \t      } else {\r\n    \t        for (Node nextNode : currentNode.getSiblingNodes()) {\r\n    \t          if (!visitedNodes.contains(nextNode)) {\r\n    \t            queue.add(nextNode);\r\n    \t            visitedNodes.add(nextNode);\r\n    \r\n    \t            // Look up of next node instead of previous.\r\n    \t            nextNodeMap.put(currentNode, nextNode);\r\n    \t            previousNode = currentNode;\r\n    \t          }\r\n    \t        }\r\n    \t      }\r\n    \t    }\r\n    \r\n    \t    // If all nodes are explored and the destination node hasn&#39;t been found.\r\n    \t    if (!currentNode.equals(destinationNode)) {\r\n    \t        throw new RuntimeException(&quot;No feasible path.&quot;);\r\n    \t    }\r\n    \r\n    \t    // Reconstruct path. No need to reverse.\r\n    \t    List&lt;Node&gt; directions = new LinkedList&lt;Node&gt;();\r\n    \t    for (Node node = sourceNode; node != null; node = nextNodeMap.get(node)) {\r\n    \t        directions.add(node);\r\n    \t    }\r\n    \r\n    \t    return directions;\r\n    \t  }\r\n    \t}\r\n","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>I have a problem in calculating the shortest path through BFS algorithm in Java.</p>\n<p>When I tried to define a path from Node 0 to Node 7 , I got this result. <code>(0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5)</code></p>\n<p>How can I fix the issue?</p>\n<p>Here is my Node Class</p>\n<pre><code>public class Node {\n  private final int value;\n  private final Set&lt;Node&gt; siblingNodes;\n\n  public Node(int value) {\n    this.value = value;\n    siblingNodes = new HashSet&lt;Node&gt;();\n  }\n\n  public Set&lt;Node&gt; getSiblingNodes() {\n    return siblingNodes;\n  }\n\n  public boolean equals(Node compareTo) {\n    return (compareTo.getValue() == value);\n  }\n\n  public int getValue() {\n    return value;\n  }\n\n  public void addSiblingNode(Node node) {\n    siblingNodes.add(node); \n  }\n}\n</code></pre>\n<p>Here is the code snippets shown below.</p>\n<pre><code>  public static void main(String[] args) {\n    /**\n     *\n     *        1             -&gt; 5\n     * 0 -&gt;           -&gt; 4\n     *        2 -&gt; 3        -&gt; 6    -&gt; 7\n     *\n     */\n        Node node0 = new Node(0);\n\n        Node node1 = new Node(1);\n        Node node2 = new Node(2);\n        node0.addSiblingNode(node1);\n        node0.addSiblingNode(node2);    \n\n        Node node3 = new Node(3);\n        node2.addSiblingNode(node3);\n\n        Node node4 = new Node(4);\n        node3.addSiblingNode(node4);\n\n        Node node5 = new Node(5);\n        Node node6 = new Node(6);\n        node4.addSiblingNode(node5);\n        node4.addSiblingNode(node6);\n        \n        Node node7 = new Node(7);\n        node6.addSiblingNode(node7);\n\n        List&lt;Node&gt; shortestPath = getDirections(node0, node7);\n        for(Node node : shortestPath) {\n          System.out.println(node.getValue());\n        }\n      }\n\n      public static List&lt;Node&gt; getDirections(Node sourceNode, Node destinationNode) {\n        // Initialization.\n        Map&lt;Node, Node&gt; nextNodeMap = new HashMap&lt;Node, Node&gt;();\n        Node currentNode = sourceNode;\n        Node previousNode = sourceNode;\n\n        // Queue\n        Queue&lt;Node&gt; queue = new LinkedList&lt;Node&gt;();\n        queue.add(currentNode);\n\n        /*\n         * The set of visited nodes doesn't have to be a Map, and, since order\n         * is not important, an ordered collection is not needed. HashSet is \n         * fast for add and lookup, if configured properly.\n         */\n        Set&lt;Node&gt; visitedNodes = new HashSet&lt;Node&gt;();\n        visitedNodes.add(currentNode);\n\n        //Search.\n        while (!queue.isEmpty()) {\n          currentNode = queue.remove();\n          if (currentNode.equals(destinationNode)) {\n            // Handle case where the node leading to the destinatino node\n            // itself pointed to multiple nodes. In this case,\n            // nextNodeMap is incorrect and we need to rely on the previously\n            // seen node.\n            // Also need to check for edge-case of start node == end node.\n            if (!previousNode.equals(currentNode)) {\n              nextNodeMap.put(previousNode, currentNode);\n            }\n            break;\n          } else {\n            for (Node nextNode : currentNode.getSiblingNodes()) {\n              if (!visitedNodes.contains(nextNode)) {\n                queue.add(nextNode);\n                visitedNodes.add(nextNode);\n\n                // Look up of next node instead of previous.\n                nextNodeMap.put(currentNode, nextNode);\n                previousNode = currentNode;\n              }\n            }\n          }\n        }\n\n        // If all nodes are explored and the destination node hasn't been found.\n        if (!currentNode.equals(destinationNode)) {\n            throw new RuntimeException(&quot;No feasible path.&quot;);\n        }\n\n        // Reconstruct path. No need to reverse.\n        List&lt;Node&gt; directions = new LinkedList&lt;Node&gt;();\n        for (Node node = sourceNode; node != null; node = nextNodeMap.get(node)) {\n            directions.add(node);\n        }\n\n        return directions;\n      }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1669772843,"post_id":74621992,"comment_id":131717609,"body_markdown":"See: [Android detect or block floating/overlaying apps](https://stackoverflow.com/q/36923301/295004) and [How do apps detect that SAW permission is currently being used?](https://stackoverflow.com/q/66681440/295004)","body":"See: <a href=\"https://stackoverflow.com/q/36923301/295004\">Android detect or block floating/overlaying apps</a> and <a href=\"https://stackoverflow.com/q/66681440/295004\">How do apps detect that SAW permission is currently being used?</a>"}],"owner":{"account_id":10859890,"reputation":35,"user_id":7985066,"display_name":"Deki Kurnia Hadi Permana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669772109,"creation_date":1669772109,"question_id":74621992,"body_markdown":"I&#39;m building a broswer app on android for school exams. now the application is able to minimize cheating because the application requires users to allow drawing over other apps. However, currently the application is still found to have loopholes, namely by using floating windows / floating apps. Is there a way to block or disable floating apps or floating windows on Android?","title":"How to disable the floating window feature or floating application on android?","body":"<p>I'm building a broswer app on android for school exams. now the application is able to minimize cheating because the application requires users to allow drawing over other apps. However, currently the application is still found to have loopholes, namely by using floating windows / floating apps. Is there a way to block or disable floating apps or floating windows on Android?</p>\n"},{"tags":["java","docker","ip","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1669768200,"post_id":74618238,"comment_id":131716896,"body_markdown":"I would say that&#39;s a problem of container, not a Keycloak. Please share docker configuration `docker info`. How did you start Keycloak container? Did you enable IPv6 for Docker daemon https://docs.docker.com/config/daemon/ipv6/ ?","body":"I would say that&#39;s a problem of container, not a Keycloak. Please share docker configuration <code>docker info</code>. How did you start Keycloak container? Did you enable IPv6 for Docker daemon <a href=\"https://docs.docker.com/config/daemon/ipv6/\" rel=\"nofollow noreferrer\">docs.docker.com/config/daemon/ipv6</a> ?"},{"owner":{"account_id":370159,"reputation":4890,"user_id":717932,"accept_rate":91,"display_name":"dardo"},"score":0,"creation_date":1669771537,"post_id":74618238,"comment_id":131717427,"body_markdown":"It seems to be for sure, I’ve tried connecting to the same database with both quarkus and spring boot via container and get the same error. Yes I have ipv6 enabled on the daemon. I think that’s more for listening on IPv6 than anything, however.","body":"It seems to be for sure, I’ve tried connecting to the same database with both quarkus and spring boot via container and get the same error. Yes I have ipv6 enabled on the daemon. I think that’s more for listening on IPv6 than anything, however."},{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1669790043,"post_id":74618238,"comment_id":131720326,"body_markdown":"You can try stupid workaround: start container in the host network explicitly, not in default network.","body":"You can try stupid workaround: start container in the host network explicitly, not in default network."}],"owner":{"account_id":370159,"reputation":4890,"user_id":717932,"accept_rate":91,"display_name":"dardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669771784,"creation_date":1669744180,"question_id":74618238,"body_markdown":"I&#39;m attempting to create a Docker container using `quay.io/keycloak/keycloak:20.0.1` image the that will connect to a Postgres Database listening on IPv6. Working with a downloaded zip of Keycloak, the application is able to make a connection if I export JAVA_OPTS as follows:\r\n\r\n`$ export JAVA_OPTS=-Djava.net.preferIPv6Addresses=true`\r\n\r\nIf I attempt to do the same within Docker, however, I receive java.net.UnknownHostException. I&#39;ve tried both the hostname which should resolve, as well as the IP that is behind the hostname.\r\n\r\nIf I try to use the IP within the Docker container, I receive:\r\n\r\n`Caused by: java.net.SocketException: Protocol family unavailable`\r\n\r\nI&#39;m not sure how to proceed from here, thanks!\r\n\r\nUPDATE: This seems to extend beyond just Keycloak, I’ve attempted connecting to the same DB via container using both Spring Boot and Quarkus and receive the same error.\r\n\r\n","title":"Keycloak Docker Postgres with IPv6 UnknownHostException","body":"<p>I'm attempting to create a Docker container using <code>quay.io/keycloak/keycloak:20.0.1</code> image the that will connect to a Postgres Database listening on IPv6. Working with a downloaded zip of Keycloak, the application is able to make a connection if I export JAVA_OPTS as follows:</p>\n<p><code>$ export JAVA_OPTS=-Djava.net.preferIPv6Addresses=true</code></p>\n<p>If I attempt to do the same within Docker, however, I receive java.net.UnknownHostException. I've tried both the hostname which should resolve, as well as the IP that is behind the hostname.</p>\n<p>If I try to use the IP within the Docker container, I receive:</p>\n<p><code>Caused by: java.net.SocketException: Protocol family unavailable</code></p>\n<p>I'm not sure how to proceed from here, thanks!</p>\n<p>UPDATE: This seems to extend beyond just Keycloak, I’ve attempted connecting to the same DB via container using both Spring Boot and Quarkus and receive the same error.</p>\n"},{"tags":["java","selenium","cucumber","pageobjects"],"comments":[{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1568023135,"post_id":57851412,"comment_id":102129993,"body_markdown":"Add the stack trace . Are you using cucumber-picocontainer ?","body":"Add the stack trace . Are you using cucumber-picocontainer ?"},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568023714,"post_id":57851412,"comment_id":102130249,"body_markdown":"@Rahul L yes. I am using cucumber-picoconatiner.","body":"@Rahul L yes. I am using cucumber-picoconatiner."},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568023843,"post_id":57851412,"comment_id":102130304,"body_markdown":"java.lang.NullPointerException\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:92)\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:79)\n\tat Pages.LoginPage.&lt;init&gt;(LoginPage.java:20)\n\tat Steps.MyStepdefs.the_user_login_to_the_application(MyStepdefs.java:35)","body":"java.lang.NullPointerException \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:103) \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:92) \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:79) \tat Pages.LoginPage.&lt;init&gt;(LoginPage.java:20) \tat Steps.MyStepdefs.the_user_login_to_the_application(MyStepdef&zwnj;&#8203;s.java:35)"},{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1568024802,"post_id":57851412,"comment_id":102130752,"body_markdown":"In login page constructor change this line - PageFactory.initElements(driver, this);","body":"In login page constructor change this line - PageFactory.initElements(driver, this);"},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568025716,"post_id":57851412,"comment_id":102131154,"body_markdown":"@Rahul it still gives me an error. I tried debugging to find out the problem. In my Before method in Hooks, I am able to instantiate driver and wait for Page class. For the first instance it associates a value like WebDriverWait as 3353 but then it calls again the constructor and assigns another value to WebDriver wait as 3327 . I am sure that there is some sort of mistake in the Page class constructor. I also tried changing here as this.wait = wait but it does not help. NPE always!","body":"@Rahul it still gives me an error. I tried debugging to find out the problem. In my Before method in Hooks, I am able to instantiate driver and wait for Page class. For the first instance it associates a value like WebDriverWait as 3353 but then it calls again the constructor and assigns another value to WebDriver wait as 3327 . I am sure that there is some sort of mistake in the Page class constructor. I also tried changing here as this.wait = wait but it does not help. NPE always!"}],"answers":[{"tags":[],"owner":{"account_id":5814859,"reputation":11,"user_id":4584841,"display_name":"Satish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669768323,"creation_date":1669768323,"answer_id":74621692,"question_id":57851412,"body_markdown":"I had the same issue. My driver was null in the arguments being passed to webdriver wait. I put if statement to check if driver is null and it is. so initiated the page class where driver was setup and it is fixed. Message me if still stuck","title":"Cucumber - WebDriverWait null pointer exception - Java","body":"<p>I had the same issue. My driver was null in the arguments being passed to webdriver wait. I put if statement to check if driver is null and it is. so initiated the page class where driver was setup and it is fixed. Message me if still stuck</p>\n"}],"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669768323,"creation_date":1568021896,"question_id":57851412,"body_markdown":"I am trying to integrate Cucumber Framework to existing automation framework. Something that I can&#39;t understand that each call the method WaitForElement, it gives me a null pointer exception. Maybe someone can explain where I am doing it wrong.\r\n\r\nFollowing is my TestStep class\r\n\r\n\r\n    package Steps;\r\n    import TestFramework.*;\r\n    import io.cucumber.java.en.*;\r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class MyStepdefs extends BaseStep{\r\n    private WebDriver driver = null;\r\n    private Hooks lHooks;\r\n    private SceanarioContext sceanarioContext;\r\n    private WebDriverWait wait;\r\n\r\n\r\n    public MyStepdefs(Hooks lHooks, Hooks lwait, SceanarioContext sceanarioContext) {\r\n        this.driver = lHooks.driver;\r\n        this.wait=new WebDriverWait(driver,10);\r\n        this.sceanarioContext=sceanarioContext;\r\n    }\r\n\r\n    @Given(&quot;The user login to the application&quot;)\r\n    public void the_user_login_to_the_application() {\r\n        LoginPage loginObject = new LoginPage(driver,wait);\r\n        resultValue = loginObject.VerifyUrl();\r\n        resultMessage = &quot;URL is verified&quot;;\r\n        Assert.assertTrue(resultMessage,resultValue);\r\n    }    \r\n    }\r\n\r\n\r\nFollowing is my BaseStep class which is extended by Mysteps. \r\n\r\n    package Steps;\r\n\r\n    import Pages.BasePage;\r\n    import io.cucumber.datatable.DataTable;\r\n    import org.apache.log4j.Logger;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n     public class BaseStep{\r\n    public WebDriver driver = null;\r\n    public long explicitWaitValue = 10;\r\n    public WaitHelper wait;\r\n    public Boolean resultValue;\r\n    public final static Logger logger = Logger.getLogger(BasePage.class);\r\n    public String resultMessage=&quot;&quot;;\r\n    public Object scenarioContextObject;\r\n\r\n    public String GetTableValues(String headerValue, DataTable dataTable) {\r\n        List&lt;Map&lt;String, String&gt;&gt; data = dataTable.asMaps(String.class, String.class);\r\n        String value = data.get(0).get(headerValue);\r\n        return value;\r\n    }\r\n    }\r\n\r\n\r\nFollowing is my Hooks class which does the browser and driver instantiation. I have declared Pages in this class which is in the src/Pages packages to share the instantiation of the Webdriver and WebdriverWait class. I cannot extend Hooks class in BaseStep class as it does not allow me to do so.\r\n\r\n\r\n    package Steps;\r\n\r\n    import Pages.Page;\r\n    import TestFramework.ConfigFileReader;\r\n    import TestFramework.ManageWebDriver;\r\n    import io.cucumber.core.api.Scenario;\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Before;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.xhtmlrenderer.css.parser.property.PrimitivePropertyBuilders;\r\n\r\n    public class Hooks {\r\n    protected static WebDriver driver = null;\r\n    public static WebDriverWait wait =null;\r\n    protected static Page page;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        ConfigFileReader configFileReader = new ConfigFileReader();\r\n        String browserName = configFileReader.getDefaultBrowser();\r\n        ManageWebDriver manage = new ManageWebDriver();\r\n        this.driver = manage.GetBrowser(browserName);\r\n        driver.get(configFileReader.getApplicationUrl());\r\n        wait = new WebDriverWait(driver,10);\r\n        page = new Page(driver,wait);\r\n    }\r\n    @After\r\n    public void tearDown(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            final byte[] screenshot = ((TakesScreenshot) driver)\r\n                    .getScreenshotAs(OutputType.BYTES);\r\n            scenario.embed(screenshot, &quot;image/png&quot;); //stick it in the report\r\n        }\r\n        driver.close();\r\n    }\r\n\r\n    }\r\n\r\nFollowing is my LoginPage class which is called in my Steps to perform functionalities\r\n\r\n    package Pages;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.How;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    public class LoginPage extends BasePage{\r\n\r\n\r\n    WebDriver driver;\r\n    WebDriverWait wait;\r\n    Boolean url = false;\r\n\r\n\r\n    public LoginPage(WebDriver driver,WebDriverWait wait) {\r\n        super(driver,wait);\r\n        this.driver = driver;\r\n        this.wait=wait;\r\n        PageFactory.initElements(driver, wait);\r\n    }\r\n\r\n    @FindBy(how = How.ID, using = &quot;username&quot;)\r\n    private WebElement loginEmail;\r\n    public boolean VerifyUrl(){\r\n        WaitUntilElement(loginEmail);\r\n        if(driver.getCurrentUrl().contains(&quot;auth&quot;))\r\n            return url=true;\r\n        return false;\r\n    }\r\n    }\r\n\r\nFollowing is my BasePage class which is extended by the LoginPage. This is where the problem happens. I do get a value for wait when I debug. But when the WaitUntilElement is called, it gives a Null Pointer exception\r\n\r\n    package Pages;\r\n    import org.apache.log4j.Logger;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.support.ui.*;\r\n\r\n    public class BasePage extends Page {\r\n    public WebDriver driver = null;\r\n    public long explicitWaitValue = 10;\r\n    public Boolean resultValue;\r\n    public final static Logger logger = Logger.getLogger(BasePage.class);\r\n    public String resultMessage=&quot;&quot;;\r\n    public Object scenarioContextObject;\r\n\r\n    public BasePage(WebDriver driver,WebDriverWait wait) {\r\n        super(driver,wait);\r\n        this.driver = driver;\r\n        this.wait=wait;\r\n    }\r\n    public void WaitUntilElement(WebElement element){\r\n        wait.until(ExpectedConditions.visibilityOf(element));\r\n    }\r\n    }\r\n\r\n\r\n\r\nFollowing is the Page class which gets the value of driver and wait when it is instantiated in the Hooks class. This in turn is extended by BasePage\r\n\r\n    package Pages;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    public class Page {\r\n    public WebDriver driver;\r\n    public WebDriverWait wait;\r\n\r\n    public Page(WebDriver driver, WebDriverWait wait){\r\n        this.driver = driver;\r\n        this.wait = new WebDriverWait(driver,10);\r\n    }\r\n    }\r\n\r\nI have tried instantiating the WebDriver in BasePage and Page as well. But somehow it gives me a null pointer exception always.\r\n\r\nI am new to the implementation of Cucumber with Java hence maybe I am missing something minute or maybe something major which I am not able to find out. It would be brilliant to know where I am making the mistake.","title":"Cucumber - WebDriverWait null pointer exception - Java","body":"<p>I am trying to integrate Cucumber Framework to existing automation framework. Something that I can't understand that each call the method WaitForElement, it gives me a null pointer exception. Maybe someone can explain where I am doing it wrong.</p>\n\n<p>Following is my TestStep class</p>\n\n<pre><code>package Steps;\nimport TestFramework.*;\nimport io.cucumber.java.en.*;\nimport org.junit.Assert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MyStepdefs extends BaseStep{\nprivate WebDriver driver = null;\nprivate Hooks lHooks;\nprivate SceanarioContext sceanarioContext;\nprivate WebDriverWait wait;\n\n\npublic MyStepdefs(Hooks lHooks, Hooks lwait, SceanarioContext sceanarioContext) {\n    this.driver = lHooks.driver;\n    this.wait=new WebDriverWait(driver,10);\n    this.sceanarioContext=sceanarioContext;\n}\n\n@Given(\"The user login to the application\")\npublic void the_user_login_to_the_application() {\n    LoginPage loginObject = new LoginPage(driver,wait);\n    resultValue = loginObject.VerifyUrl();\n    resultMessage = \"URL is verified\";\n    Assert.assertTrue(resultMessage,resultValue);\n}    \n}\n</code></pre>\n\n<p>Following is my BaseStep class which is extended by Mysteps. </p>\n\n<pre><code>package Steps;\n\nimport Pages.BasePage;\nimport io.cucumber.datatable.DataTable;\nimport org.apache.log4j.Logger;\nimport org.openqa.selenium.WebDriver;\n\nimport java.util.List;\nimport java.util.Map;\n\n public class BaseStep{\npublic WebDriver driver = null;\npublic long explicitWaitValue = 10;\npublic WaitHelper wait;\npublic Boolean resultValue;\npublic final static Logger logger = Logger.getLogger(BasePage.class);\npublic String resultMessage=\"\";\npublic Object scenarioContextObject;\n\npublic String GetTableValues(String headerValue, DataTable dataTable) {\n    List&lt;Map&lt;String, String&gt;&gt; data = dataTable.asMaps(String.class, String.class);\n    String value = data.get(0).get(headerValue);\n    return value;\n}\n}\n</code></pre>\n\n<p>Following is my Hooks class which does the browser and driver instantiation. I have declared Pages in this class which is in the src/Pages packages to share the instantiation of the Webdriver and WebdriverWait class. I cannot extend Hooks class in BaseStep class as it does not allow me to do so.</p>\n\n<pre><code>package Steps;\n\nimport Pages.Page;\nimport TestFramework.ConfigFileReader;\nimport TestFramework.ManageWebDriver;\nimport io.cucumber.core.api.Scenario;\nimport io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.xhtmlrenderer.css.parser.property.PrimitivePropertyBuilders;\n\npublic class Hooks {\nprotected static WebDriver driver = null;\npublic static WebDriverWait wait =null;\nprotected static Page page;\n\n@Before\npublic void setUp() throws Exception {\n    ConfigFileReader configFileReader = new ConfigFileReader();\n    String browserName = configFileReader.getDefaultBrowser();\n    ManageWebDriver manage = new ManageWebDriver();\n    this.driver = manage.GetBrowser(browserName);\n    driver.get(configFileReader.getApplicationUrl());\n    wait = new WebDriverWait(driver,10);\n    page = new Page(driver,wait);\n}\n@After\npublic void tearDown(Scenario scenario) {\n    if (scenario.isFailed()) {\n        final byte[] screenshot = ((TakesScreenshot) driver)\n                .getScreenshotAs(OutputType.BYTES);\n        scenario.embed(screenshot, \"image/png\"); //stick it in the report\n    }\n    driver.close();\n}\n\n}\n</code></pre>\n\n<p>Following is my LoginPage class which is called in my Steps to perform functionalities</p>\n\n<pre><code>package Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.How;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class LoginPage extends BasePage{\n\n\nWebDriver driver;\nWebDriverWait wait;\nBoolean url = false;\n\n\npublic LoginPage(WebDriver driver,WebDriverWait wait) {\n    super(driver,wait);\n    this.driver = driver;\n    this.wait=wait;\n    PageFactory.initElements(driver, wait);\n}\n\n@FindBy(how = How.ID, using = \"username\")\nprivate WebElement loginEmail;\npublic boolean VerifyUrl(){\n    WaitUntilElement(loginEmail);\n    if(driver.getCurrentUrl().contains(\"auth\"))\n        return url=true;\n    return false;\n}\n}\n</code></pre>\n\n<p>Following is my BasePage class which is extended by the LoginPage. This is where the problem happens. I do get a value for wait when I debug. But when the WaitUntilElement is called, it gives a Null Pointer exception</p>\n\n<pre><code>package Pages;\nimport org.apache.log4j.Logger;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.support.ui.*;\n\npublic class BasePage extends Page {\npublic WebDriver driver = null;\npublic long explicitWaitValue = 10;\npublic Boolean resultValue;\npublic final static Logger logger = Logger.getLogger(BasePage.class);\npublic String resultMessage=\"\";\npublic Object scenarioContextObject;\n\npublic BasePage(WebDriver driver,WebDriverWait wait) {\n    super(driver,wait);\n    this.driver = driver;\n    this.wait=wait;\n}\npublic void WaitUntilElement(WebElement element){\n    wait.until(ExpectedConditions.visibilityOf(element));\n}\n}\n</code></pre>\n\n<p>Following is the Page class which gets the value of driver and wait when it is instantiated in the Hooks class. This in turn is extended by BasePage</p>\n\n<pre><code>package Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Page {\npublic WebDriver driver;\npublic WebDriverWait wait;\n\npublic Page(WebDriver driver, WebDriverWait wait){\n    this.driver = driver;\n    this.wait = new WebDriverWait(driver,10);\n}\n}\n</code></pre>\n\n<p>I have tried instantiating the WebDriver in BasePage and Page as well. But somehow it gives me a null pointer exception always.</p>\n\n<p>I am new to the implementation of Cucumber with Java hence maybe I am missing something minute or maybe something major which I am not able to find out. It would be brilliant to know where I am making the mistake.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1669517907,"post_id":74586446,"comment_id":131657888,"body_markdown":"debug=true helped me in similar scenarios. Also share us the application properties. If it is possible, a GitHub repository to help you","body":"debug=true helped me in similar scenarios. Also share us the application properties. If it is possible, a GitHub repository to help you"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669518222,"post_id":74586446,"comment_id":131657914,"body_markdown":"How are you running the app? Shell or Eclipse?","body":"How are you running the app? Shell or Eclipse?"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669567827,"post_id":74586446,"comment_id":131665639,"body_markdown":"My &quot;application properties&quot; file is completely empty in this miniature project of the original. I am running the app in Eclips (actually in STS). Will set debug to true and upload the code on GitHub when I get home. Thanks.","body":"My &quot;application properties&quot; file is completely empty in this miniature project of the original. I am running the app in Eclips (actually in STS). Will set debug to true and upload the code on GitHub when I get home. Thanks."},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669768342,"post_id":74586446,"comment_id":131716917,"body_markdown":"@JRichardsz: I updated the original post with error message I see in console after activating the debug flag","body":"@JRichardsz: I updated the original post with error message I see in console after activating the debug flag"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669846675,"post_id":74586446,"comment_id":131739108,"body_markdown":"Share us the code and I will fix it. I think the problem is in your package","body":"Share us the code and I will fix it. I think the problem is in your package"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669863025,"post_id":74586446,"comment_id":131741701,"body_markdown":"Here is the code::\nhttps://github.com/ramy670/TestProject","body":"Here is the code:: <a href=\"https://github.com/ramy670/TestProject\" rel=\"nofollow noreferrer\">github.com/ramy670/TestProject</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669904582,"post_id":74586446,"comment_id":131752677,"body_markdown":"Repository is empty or dont exist","body":"Repository is empty or dont exist"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669933571,"post_id":74586446,"comment_id":131762027,"body_markdown":"Forgot to make it public, sorry about that. Repo is now public.","body":"Forgot to make it public, sorry about that. Repo is now public."},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1670090782,"post_id":74586446,"comment_id":131794371,"body_markdown":"Did you found that everything was as it should? (i.e nothing to correct)","body":"Did you found that everything was as it should? (i.e nothing to correct)"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1670164052,"post_id":74586446,"comment_id":131806441,"body_markdown":"Not related to the question but your github code has one error in the main: SpringApplication.run(Application.class, args);.. it should be **TestApplication**. Also I downloaded your code and ran it. Rest controllers work as expected:  https://user-images.githubusercontent.com/3322836/205496303-767b3bfc-ed2f-4a2d-be15-6f3ee0f2a8a9.png  Are you on windows? Try on linue, try with eclipse instead STS, try with shell mvn spring-boot:run  Share the result updating the question, not as comments","body":"Not related to the question but your github code has one error in the main: SpringApplication.run(Application.class, args);.. it should be <b>TestApplication</b>. Also I downloaded your code and ran it. Rest controllers work as expected:  <a href=\"https://user-images.githubusercontent.com/3322836/205496303-767b3bfc-ed2f-4a2d-be15-6f3ee0f2a8a9.png\" rel=\"nofollow noreferrer\">user-images.githubusercontent.com/3322836/&hellip;</a>  Are you on windows? Try on linue, try with eclipse instead STS, try with shell mvn spring-boot:run  Share the result updating the question, not as comments"}],"answers":[{"tags":[],"owner":{"account_id":10462154,"reputation":26,"user_id":7712561,"display_name":"Mahesh Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669637543,"creation_date":1669637543,"answer_id":74600399,"question_id":74586446,"body_markdown":"Did you tried making call to the endpoint via postman ? If so, can you try again after removing @ResponseBody annotation.","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>Did you tried making call to the endpoint via postman ? If so, can you try again after removing @ResponseBody annotation.</p>\n"},{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669638052,"creation_date":1669638052,"answer_id":74600481,"question_id":74586446,"body_markdown":"Instead of @Controller use @RestController","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>Instead of @Controller use @RestController</p>\n"}],"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669768277,"creation_date":1669506193,"question_id":74586446,"body_markdown":"I have a Spring REST project that is redirecting all requests to error page, even if they are mapped in the controller.\r\n\r\nI reduced the code to the smallest possible version that produces the error:\r\n\r\nHere is the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the Application class (The imports are removed to make the thread easier to read):\r\n\r\n    package com.example.demo;\r\n\t\r\n\t@Controller\r\n\t@SpringBootApplication\r\n\tpublic class TestApplication {\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(Application.class, args);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t@GetMapping(&quot;/greeting&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic String greeting() {\r\n\t\t\treturn &quot;greeting&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\nOriginally I hade a sperate controller from the App class, but moved the controller code to the app class to make sure that this is not a project structure problem\r\nHere is the controller code (Tried with and without it, and received the same error):\r\n\r\n\t@Controller\r\n\t@SpringBootApplication\r\n\tpublic class TestApplication {\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(Application.class, args);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t@GetMapping(&quot;/hello&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic String greeting() {\r\n\t\t\treturn &quot;greeting&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n(Both  http://localhost:8080/greeting as well as well http://localhost:8080/hello return the same error page)\r\n\r\nDependencies and plugins from the pom file: \r\n\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\r\n(Tried with and without tomcat as dependency and nothing changed)\r\n\r\nAnd lastly here is the error message I receive in the browser when I visit the links (http://localhost:8080/greeting and http://localhost:8080/hello):\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Sun Nov 27 00:16:08 CET 2022\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\n**Edit:**\r\nAfter setting debug to true in project.properties, here is the error message I see in console (Worth mentioning that the project ran with no issues when I tried it on another system (Same OS)):\r\n\r\n     GET &quot;/greeting&quot;, parameters={}\r\n     Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n     Resource not found\r\n     Completed 404 NOT_FOUND\r\n     &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n\r\n(Timestamps are removed to make reading easier)\r\n\r\n [1]: https://i.stack.imgur.com/lEYg9.png","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>I have a Spring REST project that is redirecting all requests to error page, even if they are mapped in the controller.</p>\n<p>I reduced the code to the smallest possible version that produces the error:</p>\n<p>Here is the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/lEYg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEYg9.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Application class (The imports are removed to make the thread easier to read):</p>\n<pre><code>package com.example.demo;\n\n@Controller\n@SpringBootApplication\npublic class TestApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n\n    @GetMapping(&quot;/greeting&quot;)\n    @ResponseBody\n    public String greeting() {\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>Originally I hade a sperate controller from the App class, but moved the controller code to the app class to make sure that this is not a project structure problem\nHere is the controller code (Tried with and without it, and received the same error):</p>\n<pre><code>@Controller\n@SpringBootApplication\npublic class TestApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    public String greeting() {\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>(Both  http://localhost:8080/greeting as well as well http://localhost:8080/hello return the same error page)</p>\n<p>Dependencies and plugins from the pom file:</p>\n<pre><code>        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n    \n</code></pre>\n<p>(Tried with and without tomcat as dependency and nothing changed)</p>\n<p>And lastly here is the error message I receive in the browser when I visit the links (http://localhost:8080/greeting and http://localhost:8080/hello):</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Nov 27 00:16:08 CET 2022\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p><strong>Edit:</strong>\nAfter setting debug to true in project.properties, here is the error message I see in console (Worth mentioning that the project ran with no issues when I tried it on another system (Same OS)):</p>\n<pre><code> GET &quot;/greeting&quot;, parameters={}\n Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n Resource not found\n Completed 404 NOT_FOUND\n &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n</code></pre>\n<p>(Timestamps are removed to make reading easier)</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1666177947,"post_id":74102833,"comment_id":130872643,"body_markdown":"It sounds like a problem with your class loader. Have you configured the application, including Hibernate, to use it?","body":"It sounds like a problem with your class loader. Have you configured the application, including Hibernate, to use it?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1666278959,"post_id":74102833,"comment_id":130903802,"body_markdown":"I have configured the application, but how would I set the ClassLoaderService of Hibernate through Spring @AndyWilkinson","body":"I have configured the application, but how would I set the ClassLoaderService of Hibernate through Spring @AndyWilkinson"}],"answers":[{"tags":[],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666787187,"creation_date":1666787187,"answer_id":74207770,"question_id":74102833,"body_markdown":"The solution was based upon my failed solution and involved injecting a custom Class Loader Service into hibernate. Link for complete answer: https://stackoverflow.com/questions/74160078/how-do-i-inject-hibernate-classloaderservice-into-spring-boot","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>The solution was based upon my failed solution and involved injecting a custom Class Loader Service into hibernate. Link for complete answer: <a href=\"https://stackoverflow.com/questions/74160078/how-do-i-inject-hibernate-classloaderservice-into-spring-boot\">How do I inject Hibernate ClassLoaderService into Spring Boot?</a></p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669767468,"creation_date":1669767468,"answer_id":74621613,"question_id":74102833,"body_markdown":"To solve:\r\n&gt;I have to load the `@Entity` classes from the Plugins into Spring, so that it recognizes the `@Entity` classes as &quot;Managed Types&quot;.\r\n\r\nWhen entities are in in the classpath of underlying spring-boot application (assuming in `package com.example.plugin;`), then it comes down to annotate your application/configuration with:\r\n```\r\n@EntityScan({&quot;com.example.plugin&quot; /*, ... */})\r\n```\r\n... to &quot;manage&quot; them in terms of JPA.\r\n\r\nWhen we also want to load ([tag:spring-data]) &quot;jpa repositories&quot;, then (also/alternatively(?)):\r\n```\r\n@EnableJpaRepositories({&quot;package.of.repository&quot;/*, ...*/})\r\n```\r\n\r\n- https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html\r\n- https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>To solve:</p>\n<blockquote>\n<p>I have to load the <code>@Entity</code> classes from the Plugins into Spring, so that it recognizes the <code>@Entity</code> classes as &quot;Managed Types&quot;.</p>\n</blockquote>\n<p>When entities are in in the classpath of underlying spring-boot application (assuming in <code>package com.example.plugin;</code>), then it comes down to annotate your application/configuration with:</p>\n<pre><code>@EntityScan({&quot;com.example.plugin&quot; /*, ... */})\n</code></pre>\n<p>... to &quot;manage&quot; them in terms of JPA.</p>\n<p>When we also want to load (<a href=\"/questions/tagged/spring-data\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data&#39;\" aria-label=\"show questions tagged &#39;spring-data&#39;\" rel=\"tag\" aria-labelledby=\"spring-data-container\">spring-data</a>) &quot;jpa repositories&quot;, then (also/alternatively(?)):</p>\n<pre><code>@EnableJpaRepositories({&quot;package.of.repository&quot;/*, ...*/})\n</code></pre>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html</a></li>\n</ul>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74207770,"answer_count":2,"score":0,"last_activity_date":1669767468,"creation_date":1666038099,"question_id":74102833,"body_markdown":"Hello I am have a project with the general following structure:\r\n1. Core Spring Application, which has an API integrated into it.\r\n2. Plugins, which are built based on the API.\r\n\r\nThe Plugins are compiled independently and stored in a folder named &quot;plugins&quot;, which is generated in the directory in which the Core Application runs.\r\n\r\nThe Plugins contain `@Entity` classes which extend a Super Class from the API.\r\n\r\nThe Core Spring Application can successfully read and load any classes from the plugins, when loaded independently from Spring. (I have written my own ClassLoader and ClassLoaderManager)\r\n\r\n**My issue:** I have to load the `@Entity` classes from the Plugins into Spring, so that it recognizes the `@Entity` classes as &quot;Managed Types&quot;.\r\n\r\n**Failed Solution:**\r\nI have attempted to remedy this problem by using this Bean:\r\n```java\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\r\n    LocalContainerEntityManagerFactoryBean bean = new  LocalContainerEntityManagerFactoryBean();\r\n    bean.setDataSource(dataSource);\r\n    bean.setPackagesToScan(// I inject the packages here);\r\n    bean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n    CustomUnitPostProcessor postProcessor = new CustomPostProcessor(&quot;base package&quot;);\r\n    bean.setPersistenceUnitPostProcessors(postProcessor);\r\n    return bean;\r\n}\r\n\r\npublic class CustomUnitPostProcessor extends ClasspathScanningPersistenceUnitPostProcessor {\r\n\r\n    public CustomUnitPostProcessor(String basePackage) {\r\n        super(basePackage);\r\n    }\r\n\r\n    @Override\r\n    public void postProcessPersistenceUnitInfo(MutablePersistenceUnitInfo pui) {\r\n        // Adding Jar File Package URLs to PUI via pui.addJarFileURL();\r\n        super.postProcessPersistenceUnitInfo(pui);\r\n    }\r\n}\r\n```\r\nUnfortunately, this method fails due to the `org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [// Class which is supposed to be loaded]`. Which breaks the `EntityManagerFactory`.\r\n\r\n\r\nI am open to any solutions which would either fix my failed solution, or would achieve the same result.\r\n\r\n-AwesomeDude091","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>Hello I am have a project with the general following structure:</p>\n<ol>\n<li>Core Spring Application, which has an API integrated into it.</li>\n<li>Plugins, which are built based on the API.</li>\n</ol>\n<p>The Plugins are compiled independently and stored in a folder named &quot;plugins&quot;, which is generated in the directory in which the Core Application runs.</p>\n<p>The Plugins contain <code>@Entity</code> classes which extend a Super Class from the API.</p>\n<p>The Core Spring Application can successfully read and load any classes from the plugins, when loaded independently from Spring. (I have written my own ClassLoader and ClassLoaderManager)</p>\n<p><strong>My issue:</strong> I have to load the <code>@Entity</code> classes from the Plugins into Spring, so that it recognizes the <code>@Entity</code> classes as &quot;Managed Types&quot;.</p>\n<p><strong>Failed Solution:</strong>\nI have attempted to remedy this problem by using this Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\n    LocalContainerEntityManagerFactoryBean bean = new  LocalContainerEntityManagerFactoryBean();\n    bean.setDataSource(dataSource);\n    bean.setPackagesToScan(// I inject the packages here);\n    bean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n    CustomUnitPostProcessor postProcessor = new CustomPostProcessor(&quot;base package&quot;);\n    bean.setPersistenceUnitPostProcessors(postProcessor);\n    return bean;\n}\n\npublic class CustomUnitPostProcessor extends ClasspathScanningPersistenceUnitPostProcessor {\n\n    public CustomUnitPostProcessor(String basePackage) {\n        super(basePackage);\n    }\n\n    @Override\n    public void postProcessPersistenceUnitInfo(MutablePersistenceUnitInfo pui) {\n        // Adding Jar File Package URLs to PUI via pui.addJarFileURL();\n        super.postProcessPersistenceUnitInfo(pui);\n    }\n}\n</code></pre>\n<p>Unfortunately, this method fails due to the <code>org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [// Class which is supposed to be loaded]</code>. Which breaks the <code>EntityManagerFactory</code>.</p>\n<p>I am open to any solutions which would either fix my failed solution, or would achieve the same result.</p>\n<p>-AwesomeDude091</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":0,"creation_date":1679198104,"post_id":74613614,"comment_id":133677243,"body_markdown":"`missing type id property &#39;@class&#39;` means that `OAuth2AuthorizationRequest` was not serialized properly. Check your JSON. It should start with this: `{&quot;@class&quot;:&quot;org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest&quot;,&quot;authorizationUri&quot;:&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;,&quot;authorizationGrantType&quot;:{&quot;value&quot;:&quot;authorization_code&quot;}...` and not with this: `{&quot;authorizationUri&quot;:&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;,&quot;responseType&quot;:{&quot;value&quot;:&quot;code&quot;},...` It&#39;s probably because you didn&#39;t register Spring Security modules (see `SecurityJackson2Modules`).","body":"<code>missing type id property &#39;@class&#39;</code> means that <code>OAuth2AuthorizationRequest</code> was not serialized properly. Check your JSON. It should start with this: <code>{&quot;@class&quot;:&quot;org.springframework.security.oauth2.core.endpoint&zwnj;&#8203;.OAuth2Authorization&zwnj;&#8203;Request&quot;,&quot;authorizat&zwnj;&#8203;ionUri&quot;:&quot;https:&#47;&#47;acc&zwnj;&#8203;ounts.google.com&#47;o&#47;o&zwnj;&#8203;auth2&#47;v2&#47;auth&quot;,&quot;auth&zwnj;&#8203;orizationGrantType&quot;:&zwnj;&#8203;{&quot;value&quot;:&quot;authorizat&zwnj;&#8203;ion_code&quot;}...</code> and not with this: <code>{&quot;authorizationUri&quot;:&quot;https:&#47;&#47;accounts.google.com&#47;o&#47;oauth2&#47;v2&zwnj;&#8203;&#47;auth&quot;,&quot;responseType&zwnj;&#8203;&quot;:{&quot;value&quot;:&quot;code&quot;},.&zwnj;&#8203;..</code> It&#39;s probably because you didn&#39;t register Spring Security modules (see <code>SecurityJackson2Modules</code>)."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669766347,"creation_date":1669756008,"answer_id":74620244,"question_id":74613614,"body_markdown":"In OAuth2 wording, REST APIs are **resource-servers**, not clients.\r\n\r\nWhat you can do is have\r\n- your proxy be transparent to OAuth2 (forward requests with their JWT access-token authorization header and responses status code)\r\n- configure each REST API as resource-server. Tutorials there: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials.\r\n- add an OAuth2 client library to your Angular app to handle tokens and authorize requests. My favorite is [angular-auth-oidc-client][1]\r\n- probably use an intermediate authorization-server for identity federation (Google, Facebook, etc., but also internal DB, LDAP, or whatever is needed), roles management, MFA,... Keycloak is a famous &quot;on premise&quot; solution, but you can search for &quot;OIDC authorization-server&quot; in your favorite search engine and have plenty of alternate choices, including SaaS like Auth0 or Amazon Cognito. \r\n\r\nThis is fully compatible with distributed architectures and micro-services (session-less is the default configuration  for resource-servers in the tutorials I linked).\r\n\r\nTwo cases for a micro-service delegating some of its processing to another resource-server:\r\n- the &quot;child&quot; request is made on behalf of the user who initiated the request =&gt; retrieve original access-token from `Authentication` instance in security-context and forward it (set it as Bearer authorization header for the sub-request)\r\n- the &quot;child&quot; request is not made on behalf of a user =&gt; client-credentials must be used (the micro-services acquires a new access-token in its own name to authorize the sub request). Refer to `spring-boot-oauth2-client` and your preferred REST client docs for details (`WebClient`, `@FeignClient`, `RestTemplate`). \r\n\r\n\r\n  [1]: https://github.com/damienbod/angular-auth-oidc-client","title":"How to use Spring OAuth2 Client in SPA and multi-node application?","body":"<p>In OAuth2 wording, REST APIs are <strong>resource-servers</strong>, not clients.</p>\n<p>What you can do is have</p>\n<ul>\n<li>your proxy be transparent to OAuth2 (forward requests with their JWT access-token authorization header and responses status code)</li>\n<li>configure each REST API as resource-server. Tutorials there: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a>.</li>\n<li>add an OAuth2 client library to your Angular app to handle tokens and authorize requests. My favorite is <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a></li>\n<li>probably use an intermediate authorization-server for identity federation (Google, Facebook, etc., but also internal DB, LDAP, or whatever is needed), roles management, MFA,... Keycloak is a famous &quot;on premise&quot; solution, but you can search for &quot;OIDC authorization-server&quot; in your favorite search engine and have plenty of alternate choices, including SaaS like Auth0 or Amazon Cognito.</li>\n</ul>\n<p>This is fully compatible with distributed architectures and micro-services (session-less is the default configuration  for resource-servers in the tutorials I linked).</p>\n<p>Two cases for a micro-service delegating some of its processing to another resource-server:</p>\n<ul>\n<li>the &quot;child&quot; request is made on behalf of the user who initiated the request =&gt; retrieve original access-token from <code>Authentication</code> instance in security-context and forward it (set it as Bearer authorization header for the sub-request)</li>\n<li>the &quot;child&quot; request is not made on behalf of a user =&gt; client-credentials must be used (the micro-services acquires a new access-token in its own name to authorize the sub request). Refer to <code>spring-boot-oauth2-client</code> and your preferred REST client docs for details (<code>WebClient</code>, <code>@FeignClient</code>, <code>RestTemplate</code>).</li>\n</ul>\n"}],"owner":{"account_id":5297359,"reputation":473,"user_id":4784969,"accept_rate":17,"display_name":"Politechniczny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669766347,"creation_date":1669722444,"question_id":74613614,"body_markdown":"I want to implement a feature that user connects his account with external applications (similar feature is in Facebook). User has to log in to external application and grant permission to access data by my application.\r\n\r\nOnce user connected an external app, data will be exchanged in background using access and refresh tokens.\r\n\r\nApplication architecture is:\r\n- SPA front-end (Angular)\r\n- REST API (Spring), multiple nodes\r\n- ScyllaDB\r\n- Envoy proxy (with JWT verification)\r\n\r\nThe first idea is to use Spring OAuth2 Client. However, some changes need to be made:\r\n- there is no Principal because JWT is verified by Envoy proxy and X-USER-ID header is added\r\n- REST API is stateless and we shouldn&#39;t store authorization code in session\r\n- even with sessions, there are multiple nodes and we need to share authorization code between nodes\r\n- custom URL, e.g. /app_name/connect instead of /oauth2/authorization/app_name\r\n- redirect URL may be invalid (but it&#39;s verified by Spring&#39;s filter)\r\n\r\nHow this could work:\r\n- user click &quot;Connect with app&quot; in SPA\r\n- SPA redirects user to /oauth2/authorization/app_name (or custom URL)\r\n- Spring redirects user to external app&#39;s authentication server\r\n- user authenticates and grants permissions\r\n- external app redirects user back to Spring (or straight to SPA?)\r\n- Spring redirects user back to SPA (or SPA sends access token to REST API?)\r\n\r\nDespite Spring Security components can be replaced, many of them are coupled and you need to rewrite OAuth2 Client flow almost from scratch. Maybe I&#39;m doing something wrong and it can be achieved easier.\r\n\r\nWhat I already did:\r\n\r\n```java\r\nhttp\r\n      .cors().and()\r\n      .csrf().disable()\r\n      .authorizeRequests().anyRequest().permitAll().and()\r\n      .oauth2Client(); // get rid of these two filters?\r\n```\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class OAuth2ClientConfig {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n\r\n  // overriding original client service - we need to store tokens in database\r\n  @Bean\r\n  public OAuth2AuthorizedClientService authorizedClientService(\r\n    CassandraTemplate cassandraTemplate,\r\n    ClientRegistrationRepository clientRegistrationRepository) {\r\n    return new ScyllaOAuth2AuthorizedClientService(cassandraTemplate, clientRegistrationRepository);\r\n  }\r\n\r\n  // configure client provider to use authorization code with refresh token\r\n  @Bean\r\n  public OAuth2AuthorizedClientManager authorizedClientManager(\r\n    ClientRegistrationRepository clientRegistrationRepository,\r\n    OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n\r\n    var authorizedClientProvider =\r\n      OAuth2AuthorizedClientProviderBuilder.builder()\r\n        .authorizationCode()\r\n        .refreshToken()\r\n        .build();\r\n\r\n    var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\r\n      clientRegistrationRepository,\r\n      authorizedClientRepository);\r\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n    return authorizedClientManager;\r\n  }\r\n\r\n  // the specs recommend to use WebClient for exchanging data instead of RestTemplate\r\n  @Bean\r\n  public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n      new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n    return WebClient.builder()\r\n      .apply(oauth2Client.oauth2Configuration())\r\n      .build();\r\n  }\r\n\r\n  // override request repository - and I&#39;m stuck there\r\n  @Bean\r\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository() {\r\n    return new ScyllaOAuth2AuthorizationRequestRepository(cassandraTemplate);\r\n  }\r\n\r\n}\r\n```\r\n\r\nBecause there are multiple nodes of REST API, we can&#39;t use sessions. We need to store request somewhere, e.g. ScyllaDB, Redis, Hazelcast, etc. I decided to store it as JSON in ScyllaDB but I ran into trouble.\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic final class ScyllaOAuth2AuthorizationRequestRepository implements AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n  private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n  @Override\r\n  public OAuth2AuthorizationRequest loadAuthorizationRequest(HttpServletRequest request) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    var stateParameter = this.getStateParameter(request);\r\n    if (stateParameter == null) {\r\n      return null;\r\n    }\r\n    return this.getAuthorizationRequest(request, stateParameter);\r\n  }\r\n\r\n  @Override\r\n  public void saveAuthorizationRequest(OAuth2AuthorizationRequest authorizationRequest, HttpServletRequest request,\r\n                                       HttpServletResponse response) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    Assert.notNull(response, &quot;response cannot be null&quot;);\r\n    if (authorizationRequest == null) {\r\n      this.removeAuthorizationRequest(request, response);\r\n      return;\r\n    }\r\n    var state = authorizationRequest.getState();\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    Assert.hasText(state, &quot;authorizationRequest.state cannot be empty&quot;);\r\n    try {\r\n      // serialization of Auth2AuthorizationRequest to JSON works\r\n      cassandraTemplate.getCqlOperations().execute(&quot;insert into oauth2_requests (user_id,state,data) values (?,?,?)&quot;,\r\n        userId, state, objectMapper.writeValueAsString(authorizationRequest));\r\n    } catch (JsonProcessingException e) {\r\n      log.warn(&quot;Unable to save authorization request&quot;, e);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public OAuth2AuthorizationRequest removeAuthorizationRequest(HttpServletRequest request) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    var stateParameter = this.getStateParameter(request);\r\n    if (stateParameter == null) {\r\n      return null;\r\n    }\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    var originalRequest = this.getAuthorizationRequest(request, stateParameter);\r\n    cassandraTemplate.getCqlOperations().execute(&quot;delete from oauth2_requests where user_id=? and state=?&quot;,\r\n      userId, stateParameter);\r\n    return originalRequest;\r\n  }\r\n\r\n  private String getStateParameter(HttpServletRequest request) {\r\n    return request.getParameter(OAuth2ParameterNames.STATE);\r\n  }\r\n\r\n  private UUID getUserId(HttpServletRequest request) {\r\n    return UUID.fromString(request.getHeader(Constants.USER_ID));\r\n  }\r\n\r\n  private OAuth2AuthorizationRequest getAuthorizationRequest(HttpServletRequest request, String state) {\r\n    var userId = getUserId(request);\r\n    var jsonRequest = cassandraTemplate.getCqlOperations().queryForObject(\r\n      &quot;select data from oauth2_requests where user_id=? and state=?&quot;, String.class, userId, state);\r\n    if (StringUtils.isNotBlank(jsonRequest)) {\r\n      try {\r\n        // trying to mess with OAuth2ClientJackson2Module\r\n        var objectMapper = new Jackson2ObjectMapperBuilder().autoDetectFields(true)\r\n          .autoDetectGettersSetters(true)\r\n          .modules(new OAuth2ClientJackson2Module())\r\n          .visibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY)\r\n          .build();\r\n        return objectMapper.readValue(jsonRequest, OAuth2AuthorizationRequest.class);\r\n      } catch (JsonProcessingException e) {\r\n        log.warn(&quot;Error decoding authentication request&quot;, e);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n```\r\n\r\nI get error when trying to deserialize JSON to OAuth2AuthorizationRequest:\r\n\r\n```\r\nMissing type id when trying to resolve subtype of [simple type, class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest]: missing type id property &#39;@class&#39;\r\n```\r\n\r\nWithout adding OAuth2ClientJackson2Module there is another error:\r\n\r\n```\r\nCannot construct instance of `org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationResponseType` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\nBy the way, OAuth2ClientJackson2Module seems never used in original filters.\r\n\r\nMaybe it&#39;s better to serialize this object Java way and store it as BLOB or do not store request in database but somewhere other.\r\n\r\nAnother part is the controller action:\r\n\r\n```java\r\n  // it had to be /apps/app_name/connect but in Spring OAuth2 Client it&#39;s hardcoded to append provider name at the end\r\n  @GetMapping(&quot;/apps/connect/app_name&quot;)\r\n  public void connect(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    userAppService.authorize(request, response, &quot;app_name&quot;);\r\n  }\r\n```\r\n\r\nTo get rid of filters which verify redirect URL and have many things hardcoded:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserAppService {\r\n\r\n  private final HttpSecurity httpSecurity;\r\n  private final AuthenticationDetailsSource&lt;HttpServletRequest, ?&gt; authenticationDetailsSource = new WebAuthenticationDetailsSource();\r\n  private final AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository;\r\n  private final ClientRegistrationRepository clientRegistrationRepository;\r\n  private final OAuth2AuthorizedClientManager authorizedClientManager;\r\n  private final OAuth2AuthorizedClientRepository authorizedClientRepository;\r\n  private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n  public void authorize(HttpServletRequest request, HttpServletResponse response, String appName) throws IOException {\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    var authorizeRequest = OAuth2AuthorizeRequest\r\n      .withClientRegistrationId(appName)\r\n      .principal(UUIDPrincipal.fromUserId(userId))\r\n      .build();\r\n    if (isAuthorizationResponse(request)) {\r\n      var authorizationRequest = this.authorizationRequestRepository.loadAuthorizationRequest(request);\r\n      if (authorizationRequest != null) {\r\n        processAuthorizationRequest(request, response);\r\n      }\r\n    } else {\r\n      try {\r\n        OAuth2AuthorizedClient authorizedClient = authorizedClientManager.authorize(authorizeRequest);\r\n        if (authorizedClient != null) {\r\n          OAuth2AccessToken accessToken = authorizedClient.getAccessToken();\r\n          System.out.println(accessToken);\r\n        }\r\n      } catch (ClientAuthorizationException e) {\r\n        // in this URL provider name is appended at the end and no way to change this behavior\r\n        var authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository,\r\n          &quot;/apps/connect&quot;);\r\n        var authorizationRequest = authorizationRequestResolver.resolve(request);\r\n        this.authorizationRequestRepository.saveAuthorizationRequest(authorizationRequest, request, response);\r\n        this.redirectStrategy.sendRedirect(request, response, authorizationRequest.getAuthorizationRequestUri());\r\n      }\r\n    }\r\n  }\r\n\r\n  private void processAuthorizationRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    var authorizationRequest = this.authorizationRequestRepository.removeAuthorizationRequest(request, response);\r\n    var registrationId = (String) authorizationRequest.getAttribute(OAuth2ParameterNames.REGISTRATION_ID);\r\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(registrationId);\r\n    var params = toMultiMap(request.getParameterMap());\r\n    var redirectUri = UrlUtils.buildFullRequestUrl(request);\r\n    var authorizationResponse = convert(params, redirectUri);\r\n    var authenticationRequest = new OAuth2AuthorizationCodeAuthenticationToken(\r\n      clientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\r\n    authenticationRequest.setDetails(this.authenticationDetailsSource.buildDetails(request));\r\n    OAuth2AuthorizationCodeAuthenticationToken authenticationResult;\r\n    try {\r\n      var authenticationManager = httpSecurity.getSharedObject(AuthenticationManager.class);\r\n      authenticationResult = (OAuth2AuthorizationCodeAuthenticationToken) authenticationManager\r\n        .authenticate(authenticationRequest);\r\n    } catch (OAuth2AuthorizationException ex) {\r\n      OAuth2Error error = ex.getError();\r\n      UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(authorizationRequest.getRedirectUri())\r\n        .queryParam(OAuth2ParameterNames.ERROR, error.getErrorCode());\r\n      if (!StringUtils.hasText(error.getDescription())) {\r\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_DESCRIPTION, error.getDescription());\r\n      }\r\n      if (!StringUtils.hasText(error.getUri())) {\r\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_URI, error.getUri());\r\n      }\r\n      this.redirectStrategy.sendRedirect(request, response, uriBuilder.build().encode().toString());\r\n      return;\r\n    }\r\n    // just copy-paste of original filter - trying to understand what&#39;s happening there\r\n    Authentication currentAuthentication = SecurityContextHolder.getContext().getAuthentication();\r\n    String principalName = (currentAuthentication != null) ? currentAuthentication.getName() : &quot;anonymousUser&quot;;\r\n    OAuth2AuthorizedClient authorizedClient = new OAuth2AuthorizedClient(\r\n      authenticationResult.getClientRegistration(), principalName, authenticationResult.getAccessToken(),\r\n      authenticationResult.getRefreshToken());\r\n    this.authorizedClientRepository.saveAuthorizedClient(authorizedClient, currentAuthentication, request,\r\n      response);\r\n    String redirectUrl = authorizationRequest.getRedirectUri();\r\n    this.redirectStrategy.sendRedirect(request, response, redirectUrl);\r\n  }\r\n\r\n  private static boolean isAuthorizationResponse(HttpServletRequest request) {\r\n    return isAuthorizationResponseSuccess(request) || isAuthorizationResponseError(request);\r\n  }\r\n\r\n  private static boolean isAuthorizationResponseSuccess(HttpServletRequest request) {\r\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.CODE))\r\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\r\n  }\r\n\r\n  private static boolean isAuthorizationResponseError(HttpServletRequest request) {\r\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.ERROR))\r\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\r\n  }\r\n\r\n  // copy paste - not tested this code yet\r\n  static MultiValueMap&lt;String, String&gt; toMultiMap(Map&lt;String, String[]&gt; map) {\r\n    MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;(map.size());\r\n    map.forEach((key, values) -&gt; {\r\n      if (values.length &gt; 0) {\r\n        for (String value : values) {\r\n          params.add(key, value);\r\n        }\r\n      }\r\n    });\r\n    return params;\r\n  }\r\n\r\n  static OAuth2AuthorizationResponse convert(MultiValueMap&lt;String, String&gt; request, String redirectUri) {\r\n    String code = request.getFirst(OAuth2ParameterNames.CODE);\r\n    String errorCode = request.getFirst(OAuth2ParameterNames.ERROR);\r\n    String state = request.getFirst(OAuth2ParameterNames.STATE);\r\n    if (StringUtils.hasText(code)) {\r\n      return OAuth2AuthorizationResponse.success(code).redirectUri(redirectUri).state(state).build();\r\n    }\r\n    String errorDescription = request.getFirst(OAuth2ParameterNames.ERROR_DESCRIPTION);\r\n    String errorUri = request.getFirst(OAuth2ParameterNames.ERROR_URI);\r\n    return OAuth2AuthorizationResponse.error(errorCode)\r\n      .redirectUri(redirectUri)\r\n      .errorDescription(errorDescription)\r\n      .errorUri(errorUri)\r\n      .state(state)\r\n      .build();\r\n  }\r\n\r\n}\r\n```\r\n\r\nClient service to stored authorized clients in database:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class ScyllaOAuth2AuthorizedClientService implements OAuth2AuthorizedClientService {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n  private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n  @Override\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public OAuth2AuthorizedClient loadAuthorizedClient(String clientRegistrationId, String principal) {\r\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\r\n    var userApp = cassandraTemplate.selectOneById(id, UserApp.class);\r\n    if (userApp != null) {\r\n      var clientRegistration = getClientRegistration(clientRegistrationId);\r\n      var accessToken = getAccessToken(userApp);\r\n      var refreshToken = getRefreshToken(userApp);\r\n      return new OAuth2AuthorizedClient(clientRegistration, principal, accessToken, refreshToken);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void saveAuthorizedClient(OAuth2AuthorizedClient authorizedClient, Authentication principal) {\r\n    Assert.notNull(authorizedClient, &quot;authorizedClient cannot be null&quot;);\r\n    Assert.notNull(principal, &quot;principal cannot be null&quot;);\r\n    var userApp = new UserApp();\r\n    userApp.setUserId((UUID) principal.getPrincipal());\r\n    userApp.setAppCode(authorizedClient.getClientRegistration().getClientId());\r\n    if (authorizedClient.getAccessToken() != null) {\r\n      userApp.setAccessToken(authorizedClient.getAccessToken().getTokenValue());\r\n      userApp.setAccessTokenType(OAuth2AccessToken.TokenType.BEARER.getValue());\r\n      userApp.setAccessTokenScopes(authorizedClient.getAccessToken().getScopes());\r\n      userApp.setAccessTokenIssuedAt(authorizedClient.getAccessToken().getIssuedAt());\r\n      userApp.setAccessTokenExpiresAt(authorizedClient.getAccessToken().getExpiresAt());\r\n    }\r\n    if (authorizedClient.getRefreshToken() != null) {\r\n      userApp.setRefreshToken(authorizedClient.getRefreshToken().getTokenValue());\r\n      userApp.setRefreshTokenIssuedAt(authorizedClient.getRefreshToken().getIssuedAt());\r\n      userApp.setRefreshTokenExpiresAt(authorizedClient.getRefreshToken().getExpiresAt());\r\n    }\r\n    cassandraTemplate.insert(userApp);\r\n  }\r\n\r\n  @Override\r\n  public void removeAuthorizedClient(String clientRegistrationId, String principal) {\r\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\r\n    cassandraTemplate.deleteById(id, UserApp.class);\r\n  }\r\n\r\n  private ClientRegistration getClientRegistration(String clientRegistrationId) {\r\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(clientRegistrationId);\r\n    if (clientRegistration == null) {\r\n      throw new DataRetrievalFailureException(\r\n        &quot;The ClientRegistration with id &#39;&quot; + clientRegistrationId + &quot;&#39; exists in the data source, &quot;\r\n          + &quot;however, it was not found in the ClientRegistrationRepository.&quot;);\r\n    }\r\n    return clientRegistration;\r\n  }\r\n\r\n  private OAuth2AccessToken getAccessToken(UserApp userApp) {\r\n    return new OAuth2AccessToken(\r\n      OAuth2AccessToken.TokenType.BEARER,\r\n      userApp.getAccessToken(),\r\n      userApp.getAccessTokenIssuedAt(),\r\n      userApp.getAccessTokenExpiresAt(),\r\n      userApp.getAccessTokenScopes());\r\n  }\r\n\r\n  private OAuth2RefreshToken getRefreshToken(UserApp userApp) {\r\n    return new OAuth2RefreshToken(userApp.getRefreshToken(), userApp.getRefreshTokenIssuedAt());\r\n  }\r\n}\r\n```\r\n\r\nToo much code overwrite. I need to make it as simple as possible.\r\n\r\nCurrently I&#39;m struggling with storing authorize request in database.\r\n\r\nHow to do it Spring way but to keep the app architecture given at the beginning of this question?\r\n\r\nAny way to configure OAuth2 Client without hardcoded URL like /oauth2/authorization/provider_name?\r\n\r\nMaybe it&#39;s better to do the whole OAuth2 flow client-side (within SPA) and the SPA should send access and request token to REST API (to store the tokens in order to be able to exchange data with external app)?","title":"How to use Spring OAuth2 Client in SPA and multi-node application?","body":"<p>I want to implement a feature that user connects his account with external applications (similar feature is in Facebook). User has to log in to external application and grant permission to access data by my application.</p>\n<p>Once user connected an external app, data will be exchanged in background using access and refresh tokens.</p>\n<p>Application architecture is:</p>\n<ul>\n<li>SPA front-end (Angular)</li>\n<li>REST API (Spring), multiple nodes</li>\n<li>ScyllaDB</li>\n<li>Envoy proxy (with JWT verification)</li>\n</ul>\n<p>The first idea is to use Spring OAuth2 Client. However, some changes need to be made:</p>\n<ul>\n<li>there is no Principal because JWT is verified by Envoy proxy and X-USER-ID header is added</li>\n<li>REST API is stateless and we shouldn't store authorization code in session</li>\n<li>even with sessions, there are multiple nodes and we need to share authorization code between nodes</li>\n<li>custom URL, e.g. /app_name/connect instead of /oauth2/authorization/app_name</li>\n<li>redirect URL may be invalid (but it's verified by Spring's filter)</li>\n</ul>\n<p>How this could work:</p>\n<ul>\n<li>user click &quot;Connect with app&quot; in SPA</li>\n<li>SPA redirects user to /oauth2/authorization/app_name (or custom URL)</li>\n<li>Spring redirects user to external app's authentication server</li>\n<li>user authenticates and grants permissions</li>\n<li>external app redirects user back to Spring (or straight to SPA?)</li>\n<li>Spring redirects user back to SPA (or SPA sends access token to REST API?)</li>\n</ul>\n<p>Despite Spring Security components can be replaced, many of them are coupled and you need to rewrite OAuth2 Client flow almost from scratch. Maybe I'm doing something wrong and it can be achieved easier.</p>\n<p>What I already did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n      .cors().and()\n      .csrf().disable()\n      .authorizeRequests().anyRequest().permitAll().and()\n      .oauth2Client(); // get rid of these two filters?\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class OAuth2ClientConfig {\n\n  private final CassandraTemplate cassandraTemplate;\n\n  // overriding original client service - we need to store tokens in database\n  @Bean\n  public OAuth2AuthorizedClientService authorizedClientService(\n    CassandraTemplate cassandraTemplate,\n    ClientRegistrationRepository clientRegistrationRepository) {\n    return new ScyllaOAuth2AuthorizedClientService(cassandraTemplate, clientRegistrationRepository);\n  }\n\n  // configure client provider to use authorization code with refresh token\n  @Bean\n  public OAuth2AuthorizedClientManager authorizedClientManager(\n    ClientRegistrationRepository clientRegistrationRepository,\n    OAuth2AuthorizedClientRepository authorizedClientRepository) {\n\n    var authorizedClientProvider =\n      OAuth2AuthorizedClientProviderBuilder.builder()\n        .authorizationCode()\n        .refreshToken()\n        .build();\n\n    var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\n      clientRegistrationRepository,\n      authorizedClientRepository);\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n    return authorizedClientManager;\n  }\n\n  // the specs recommend to use WebClient for exchanging data instead of RestTemplate\n  @Bean\n  public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n      new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    return WebClient.builder()\n      .apply(oauth2Client.oauth2Configuration())\n      .build();\n  }\n\n  // override request repository - and I'm stuck there\n  @Bean\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository() {\n    return new ScyllaOAuth2AuthorizationRequestRepository(cassandraTemplate);\n  }\n\n}\n</code></pre>\n<p>Because there are multiple nodes of REST API, we can't use sessions. We need to store request somewhere, e.g. ScyllaDB, Redis, Hazelcast, etc. I decided to store it as JSON in ScyllaDB but I ran into trouble.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic final class ScyllaOAuth2AuthorizationRequestRepository implements AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; {\n\n  private final CassandraTemplate cassandraTemplate;\n  private final ObjectMapper objectMapper = new ObjectMapper();\n\n  @Override\n  public OAuth2AuthorizationRequest loadAuthorizationRequest(HttpServletRequest request) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    var stateParameter = this.getStateParameter(request);\n    if (stateParameter == null) {\n      return null;\n    }\n    return this.getAuthorizationRequest(request, stateParameter);\n  }\n\n  @Override\n  public void saveAuthorizationRequest(OAuth2AuthorizationRequest authorizationRequest, HttpServletRequest request,\n                                       HttpServletResponse response) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    Assert.notNull(response, &quot;response cannot be null&quot;);\n    if (authorizationRequest == null) {\n      this.removeAuthorizationRequest(request, response);\n      return;\n    }\n    var state = authorizationRequest.getState();\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    Assert.hasText(state, &quot;authorizationRequest.state cannot be empty&quot;);\n    try {\n      // serialization of Auth2AuthorizationRequest to JSON works\n      cassandraTemplate.getCqlOperations().execute(&quot;insert into oauth2_requests (user_id,state,data) values (?,?,?)&quot;,\n        userId, state, objectMapper.writeValueAsString(authorizationRequest));\n    } catch (JsonProcessingException e) {\n      log.warn(&quot;Unable to save authorization request&quot;, e);\n    }\n  }\n\n  @Override\n  public OAuth2AuthorizationRequest removeAuthorizationRequest(HttpServletRequest request) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    var stateParameter = this.getStateParameter(request);\n    if (stateParameter == null) {\n      return null;\n    }\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    var originalRequest = this.getAuthorizationRequest(request, stateParameter);\n    cassandraTemplate.getCqlOperations().execute(&quot;delete from oauth2_requests where user_id=? and state=?&quot;,\n      userId, stateParameter);\n    return originalRequest;\n  }\n\n  private String getStateParameter(HttpServletRequest request) {\n    return request.getParameter(OAuth2ParameterNames.STATE);\n  }\n\n  private UUID getUserId(HttpServletRequest request) {\n    return UUID.fromString(request.getHeader(Constants.USER_ID));\n  }\n\n  private OAuth2AuthorizationRequest getAuthorizationRequest(HttpServletRequest request, String state) {\n    var userId = getUserId(request);\n    var jsonRequest = cassandraTemplate.getCqlOperations().queryForObject(\n      &quot;select data from oauth2_requests where user_id=? and state=?&quot;, String.class, userId, state);\n    if (StringUtils.isNotBlank(jsonRequest)) {\n      try {\n        // trying to mess with OAuth2ClientJackson2Module\n        var objectMapper = new Jackson2ObjectMapperBuilder().autoDetectFields(true)\n          .autoDetectGettersSetters(true)\n          .modules(new OAuth2ClientJackson2Module())\n          .visibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY)\n          .build();\n        return objectMapper.readValue(jsonRequest, OAuth2AuthorizationRequest.class);\n      } catch (JsonProcessingException e) {\n        log.warn(&quot;Error decoding authentication request&quot;, e);\n      }\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>I get error when trying to deserialize JSON to OAuth2AuthorizationRequest:</p>\n<pre><code>Missing type id when trying to resolve subtype of [simple type, class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest]: missing type id property '@class'\n</code></pre>\n<p>Without adding OAuth2ClientJackson2Module there is another error:</p>\n<pre><code>Cannot construct instance of `org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationResponseType` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>By the way, OAuth2ClientJackson2Module seems never used in original filters.</p>\n<p>Maybe it's better to serialize this object Java way and store it as BLOB or do not store request in database but somewhere other.</p>\n<p>Another part is the controller action:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // it had to be /apps/app_name/connect but in Spring OAuth2 Client it's hardcoded to append provider name at the end\n  @GetMapping(&quot;/apps/connect/app_name&quot;)\n  public void connect(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    userAppService.authorize(request, response, &quot;app_name&quot;);\n  }\n</code></pre>\n<p>To get rid of filters which verify redirect URL and have many things hardcoded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class UserAppService {\n\n  private final HttpSecurity httpSecurity;\n  private final AuthenticationDetailsSource&lt;HttpServletRequest, ?&gt; authenticationDetailsSource = new WebAuthenticationDetailsSource();\n  private final AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository;\n  private final ClientRegistrationRepository clientRegistrationRepository;\n  private final OAuth2AuthorizedClientManager authorizedClientManager;\n  private final OAuth2AuthorizedClientRepository authorizedClientRepository;\n  private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n  public void authorize(HttpServletRequest request, HttpServletResponse response, String appName) throws IOException {\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    var authorizeRequest = OAuth2AuthorizeRequest\n      .withClientRegistrationId(appName)\n      .principal(UUIDPrincipal.fromUserId(userId))\n      .build();\n    if (isAuthorizationResponse(request)) {\n      var authorizationRequest = this.authorizationRequestRepository.loadAuthorizationRequest(request);\n      if (authorizationRequest != null) {\n        processAuthorizationRequest(request, response);\n      }\n    } else {\n      try {\n        OAuth2AuthorizedClient authorizedClient = authorizedClientManager.authorize(authorizeRequest);\n        if (authorizedClient != null) {\n          OAuth2AccessToken accessToken = authorizedClient.getAccessToken();\n          System.out.println(accessToken);\n        }\n      } catch (ClientAuthorizationException e) {\n        // in this URL provider name is appended at the end and no way to change this behavior\n        var authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository,\n          &quot;/apps/connect&quot;);\n        var authorizationRequest = authorizationRequestResolver.resolve(request);\n        this.authorizationRequestRepository.saveAuthorizationRequest(authorizationRequest, request, response);\n        this.redirectStrategy.sendRedirect(request, response, authorizationRequest.getAuthorizationRequestUri());\n      }\n    }\n  }\n\n  private void processAuthorizationRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    var authorizationRequest = this.authorizationRequestRepository.removeAuthorizationRequest(request, response);\n    var registrationId = (String) authorizationRequest.getAttribute(OAuth2ParameterNames.REGISTRATION_ID);\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(registrationId);\n    var params = toMultiMap(request.getParameterMap());\n    var redirectUri = UrlUtils.buildFullRequestUrl(request);\n    var authorizationResponse = convert(params, redirectUri);\n    var authenticationRequest = new OAuth2AuthorizationCodeAuthenticationToken(\n      clientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\n    authenticationRequest.setDetails(this.authenticationDetailsSource.buildDetails(request));\n    OAuth2AuthorizationCodeAuthenticationToken authenticationResult;\n    try {\n      var authenticationManager = httpSecurity.getSharedObject(AuthenticationManager.class);\n      authenticationResult = (OAuth2AuthorizationCodeAuthenticationToken) authenticationManager\n        .authenticate(authenticationRequest);\n    } catch (OAuth2AuthorizationException ex) {\n      OAuth2Error error = ex.getError();\n      UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(authorizationRequest.getRedirectUri())\n        .queryParam(OAuth2ParameterNames.ERROR, error.getErrorCode());\n      if (!StringUtils.hasText(error.getDescription())) {\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_DESCRIPTION, error.getDescription());\n      }\n      if (!StringUtils.hasText(error.getUri())) {\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_URI, error.getUri());\n      }\n      this.redirectStrategy.sendRedirect(request, response, uriBuilder.build().encode().toString());\n      return;\n    }\n    // just copy-paste of original filter - trying to understand what's happening there\n    Authentication currentAuthentication = SecurityContextHolder.getContext().getAuthentication();\n    String principalName = (currentAuthentication != null) ? currentAuthentication.getName() : &quot;anonymousUser&quot;;\n    OAuth2AuthorizedClient authorizedClient = new OAuth2AuthorizedClient(\n      authenticationResult.getClientRegistration(), principalName, authenticationResult.getAccessToken(),\n      authenticationResult.getRefreshToken());\n    this.authorizedClientRepository.saveAuthorizedClient(authorizedClient, currentAuthentication, request,\n      response);\n    String redirectUrl = authorizationRequest.getRedirectUri();\n    this.redirectStrategy.sendRedirect(request, response, redirectUrl);\n  }\n\n  private static boolean isAuthorizationResponse(HttpServletRequest request) {\n    return isAuthorizationResponseSuccess(request) || isAuthorizationResponseError(request);\n  }\n\n  private static boolean isAuthorizationResponseSuccess(HttpServletRequest request) {\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.CODE))\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\n  }\n\n  private static boolean isAuthorizationResponseError(HttpServletRequest request) {\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.ERROR))\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\n  }\n\n  // copy paste - not tested this code yet\n  static MultiValueMap&lt;String, String&gt; toMultiMap(Map&lt;String, String[]&gt; map) {\n    MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;(map.size());\n    map.forEach((key, values) -&gt; {\n      if (values.length &gt; 0) {\n        for (String value : values) {\n          params.add(key, value);\n        }\n      }\n    });\n    return params;\n  }\n\n  static OAuth2AuthorizationResponse convert(MultiValueMap&lt;String, String&gt; request, String redirectUri) {\n    String code = request.getFirst(OAuth2ParameterNames.CODE);\n    String errorCode = request.getFirst(OAuth2ParameterNames.ERROR);\n    String state = request.getFirst(OAuth2ParameterNames.STATE);\n    if (StringUtils.hasText(code)) {\n      return OAuth2AuthorizationResponse.success(code).redirectUri(redirectUri).state(state).build();\n    }\n    String errorDescription = request.getFirst(OAuth2ParameterNames.ERROR_DESCRIPTION);\n    String errorUri = request.getFirst(OAuth2ParameterNames.ERROR_URI);\n    return OAuth2AuthorizationResponse.error(errorCode)\n      .redirectUri(redirectUri)\n      .errorDescription(errorDescription)\n      .errorUri(errorUri)\n      .state(state)\n      .build();\n  }\n\n}\n</code></pre>\n<p>Client service to stored authorized clients in database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class ScyllaOAuth2AuthorizedClientService implements OAuth2AuthorizedClientService {\n\n  private final CassandraTemplate cassandraTemplate;\n  private final ClientRegistrationRepository clientRegistrationRepository;\n\n  @Override\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public OAuth2AuthorizedClient loadAuthorizedClient(String clientRegistrationId, String principal) {\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\n    var userApp = cassandraTemplate.selectOneById(id, UserApp.class);\n    if (userApp != null) {\n      var clientRegistration = getClientRegistration(clientRegistrationId);\n      var accessToken = getAccessToken(userApp);\n      var refreshToken = getRefreshToken(userApp);\n      return new OAuth2AuthorizedClient(clientRegistration, principal, accessToken, refreshToken);\n    } else {\n      return null;\n    }\n  }\n\n  @Override\n  public void saveAuthorizedClient(OAuth2AuthorizedClient authorizedClient, Authentication principal) {\n    Assert.notNull(authorizedClient, &quot;authorizedClient cannot be null&quot;);\n    Assert.notNull(principal, &quot;principal cannot be null&quot;);\n    var userApp = new UserApp();\n    userApp.setUserId((UUID) principal.getPrincipal());\n    userApp.setAppCode(authorizedClient.getClientRegistration().getClientId());\n    if (authorizedClient.getAccessToken() != null) {\n      userApp.setAccessToken(authorizedClient.getAccessToken().getTokenValue());\n      userApp.setAccessTokenType(OAuth2AccessToken.TokenType.BEARER.getValue());\n      userApp.setAccessTokenScopes(authorizedClient.getAccessToken().getScopes());\n      userApp.setAccessTokenIssuedAt(authorizedClient.getAccessToken().getIssuedAt());\n      userApp.setAccessTokenExpiresAt(authorizedClient.getAccessToken().getExpiresAt());\n    }\n    if (authorizedClient.getRefreshToken() != null) {\n      userApp.setRefreshToken(authorizedClient.getRefreshToken().getTokenValue());\n      userApp.setRefreshTokenIssuedAt(authorizedClient.getRefreshToken().getIssuedAt());\n      userApp.setRefreshTokenExpiresAt(authorizedClient.getRefreshToken().getExpiresAt());\n    }\n    cassandraTemplate.insert(userApp);\n  }\n\n  @Override\n  public void removeAuthorizedClient(String clientRegistrationId, String principal) {\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\n    cassandraTemplate.deleteById(id, UserApp.class);\n  }\n\n  private ClientRegistration getClientRegistration(String clientRegistrationId) {\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(clientRegistrationId);\n    if (clientRegistration == null) {\n      throw new DataRetrievalFailureException(\n        &quot;The ClientRegistration with id '&quot; + clientRegistrationId + &quot;' exists in the data source, &quot;\n          + &quot;however, it was not found in the ClientRegistrationRepository.&quot;);\n    }\n    return clientRegistration;\n  }\n\n  private OAuth2AccessToken getAccessToken(UserApp userApp) {\n    return new OAuth2AccessToken(\n      OAuth2AccessToken.TokenType.BEARER,\n      userApp.getAccessToken(),\n      userApp.getAccessTokenIssuedAt(),\n      userApp.getAccessTokenExpiresAt(),\n      userApp.getAccessTokenScopes());\n  }\n\n  private OAuth2RefreshToken getRefreshToken(UserApp userApp) {\n    return new OAuth2RefreshToken(userApp.getRefreshToken(), userApp.getRefreshTokenIssuedAt());\n  }\n}\n</code></pre>\n<p>Too much code overwrite. I need to make it as simple as possible.</p>\n<p>Currently I'm struggling with storing authorize request in database.</p>\n<p>How to do it Spring way but to keep the app architecture given at the beginning of this question?</p>\n<p>Any way to configure OAuth2 Client without hardcoded URL like /oauth2/authorization/provider_name?</p>\n<p>Maybe it's better to do the whole OAuth2 flow client-side (within SPA) and the SPA should send access and request token to REST API (to store the tokens in order to be able to exchange data with external app)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669765025,"post_id":74621344,"comment_id":131716384,"body_markdown":"The terrible `java.sql.Timestamp` class was replaced years ago by the modern *java.time* classes defined in JSR 310. Furthermore, for benchmarking you should be using `System.nanoTime()` rather than date-time classes.","body":"The terrible <code>java.sql.Timestamp</code> class was replaced years ago by the modern <i>java.time</i> classes defined in JSR 310. Furthermore, for benchmarking you should be using <code>System.nanoTime()</code> rather than date-time classes."},{"owner":{"account_id":17019221,"reputation":87,"user_id":12312246,"display_name":"behanep757"},"score":0,"creation_date":1669765725,"post_id":74621344,"comment_id":131716509,"body_markdown":"@BasilBourque both using `System.nanoTime()` standalone and subtracting the 2 values and `java.time.Instant` combined with `java.time.Duration` seem to be working correctly. However, the `System.nanoTime()` seems to be more consistent, and _java.time_ seemed to be more for comparing dates, so I don&#39;t know how accurate they are in the nano seconds. Which one should I be using (is more accurate)?","body":"@BasilBourque both using <code>System.nanoTime()</code> standalone and subtracting the 2 values and <code>java.time.Instant</code> combined with <code>java.time.Duration</code> seem to be working correctly. However, the <code>System.nanoTime()</code> seems to be more consistent, and <i>java.time</i> seemed to be more for comparing dates, so I don&#39;t know how accurate they are in the nano seconds. Which one should I be using (is more accurate)?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669765827,"post_id":74621344,"comment_id":131716528,"body_markdown":"I deleted my Comment. I was having a brain spasm. Obviously subtracting a later and greater count of `System.nanoTime` from an earlier lesser one will always return a negative. My bad.","body":"I deleted my Comment. I was having a brain spasm. Obviously subtracting a later and greater count of <code>System.nanoTime</code> from an earlier lesser one will always return a negative. My bad."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669766034,"post_id":74621344,"comment_id":131716559,"body_markdown":"You can indeed use `Duration` class if you wish, though it adds no values for a small number of nanoseconds. The `Duration` class holds a count of whole seconds plus a count of nanoseconds for a fractional second. See [the source code](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java). You should get same results from `endNano - startNano` as from `Duration.ofNanos( endNano - startNano ).toNanos()`","body":"You can indeed use <code>Duration</code> class if you wish, though it adds no values for a small number of nanoseconds. The <code>Duration</code> class holds a count of whole seconds plus a count of nanoseconds for a fractional second. See <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java\" rel=\"nofollow noreferrer\">the source code</a>. You should get same results from <code>endNano - startNano</code> as from <code>Duration.ofNanos( endNano - startNano ).toNanos()</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669766393,"post_id":74621344,"comment_id":131716622,"body_markdown":"As @user16320675 says, the `getNano` method accesses the internally-stored fractional second kept as a count of nanoseconds. The existence of this `getNano` (&amp; `getSeconds`)  method is one of the few flaws in the design of the otherwise brilliant *java.time* classes. Both `getNano` &amp; `getSeconds` methods unnecessarily reveal internal implementation details, breaking encapsulation. They really should be deprecated. Avoid the `getNano` method, and instead use only the `to…` methods: `toNanos()` for total length (if not exceeding the limit of a `long`) and `toNanosPart` for fractional second.","body":"As @user16320675 says, the <code>getNano</code> method accesses the internally-stored fractional second kept as a count of nanoseconds. The existence of this <code>getNano</code> (&amp; <code>getSeconds</code>)  method is one of the few flaws in the design of the otherwise brilliant <i>java.time</i> classes. Both <code>getNano</code> &amp; <code>getSeconds</code> methods unnecessarily reveal internal implementation details, breaking encapsulation. They really should be deprecated. Avoid the <code>getNano</code> method, and instead use only the <code>to…</code> methods: <code>toNanos()</code> for total length (if not exceeding the limit of a <code>long</code>) and <code>toNanosPart</code> for fractional second."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669766905,"post_id":74621344,"comment_id":131716701,"body_markdown":"It&#39;s quite possible for `System.currentTimeMillis` to go backwards as it corrects for clock inaccuracy.","body":"It&#39;s quite possible for <code>System.currentTimeMillis</code> to go backwards as it corrects for clock inaccuracy."}],"owner":{"account_id":17019221,"reputation":87,"user_id":12312246,"display_name":"behanep757"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1669764467,"answer_count":0,"score":0,"last_activity_date":1669765748,"creation_date":1669764322,"question_id":74621344,"body_markdown":"I&#39;m trying to see how long a snippet of codes takes to execute, however, as mentioned in the title, I get a negative value returned in the terminal.\r\n\r\nI&#39;ve searched stack overflow for this problem, and there were multiple questions the exact same of mine [(1)][1] [(2)][2], and all of them had the same answers: The clock counters on the different CPU cores could slightly differ from each other, resulting in this strange behavior.\r\n\r\nHowever, these answers were from back in 2010, and since then both windows and java have developed a lot. Since this issue was already fixed back in 2010 on linux, I thought maybe this was also fixed on windows 10 now and my issue might come from a different problem.\r\n\r\nThat&#39;s why I&#39;ve created this new thread, since there might be a new/different solution.\r\n\r\nI&#39;m using windows 10 and openjdk-19, and am using the following code\r\n\r\n    import java.sql.Timestamp;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            // gets the time in the beginning\r\n            Timestamp begin = new Timestamp(System.currentTimeMillis());\r\n            // assigns the number of iterations in the for loop and o to zero\r\n            long times = 1000000000;\r\n            int o = 0;\r\n            // keeps adding 1 to o for &quot;times&quot; times\r\n            for (int i = 0; i &lt; times; i++) {\r\n                o++;\r\n            }\r\n            // prints the result of o\r\n            System.out.println(o);\r\n            // get the end time\r\n            Timestamp end = new Timestamp(System.currentTimeMillis());\r\n            // compare the 2 times and print it out in milliseconds\r\n            System.out.println((end.getNanos() - begin.getNanos()) / 1000000);\r\n        }\r\n    }\r\n\r\nand this is an example of an unexpected result:\r\n\r\n```\r\n1000000000\r\n-298\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nEDIT:\r\n\r\nThe question has been marked as duplicate, where the answer indicates that ```System.currentTimeMillis()``` causes a +- 15ms difference, but this doesn&#39;t answer the fact that it becomes negative and the difference is larger than what was said. Further more, they say to use ```System.nanoTime()``` instead, but this also causes negative results, and only gives numbers in the hundreds like 300 or -200.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7866206/why-i-get-a-negative-elapsed-time-using-system-nanotime\r\n  [2]: https://stackoverflow.com/questions/3274892/why-is-my-system-nanotime-broken","title":"elapsed times returns negative value","body":"<p>I'm trying to see how long a snippet of codes takes to execute, however, as mentioned in the title, I get a negative value returned in the terminal.</p>\n<p>I've searched stack overflow for this problem, and there were multiple questions the exact same of mine <a href=\"https://stackoverflow.com/questions/7866206/why-i-get-a-negative-elapsed-time-using-system-nanotime\">(1)</a> <a href=\"https://stackoverflow.com/questions/3274892/why-is-my-system-nanotime-broken\">(2)</a>, and all of them had the same answers: The clock counters on the different CPU cores could slightly differ from each other, resulting in this strange behavior.</p>\n<p>However, these answers were from back in 2010, and since then both windows and java have developed a lot. Since this issue was already fixed back in 2010 on linux, I thought maybe this was also fixed on windows 10 now and my issue might come from a different problem.</p>\n<p>That's why I've created this new thread, since there might be a new/different solution.</p>\n<p>I'm using windows 10 and openjdk-19, and am using the following code</p>\n<pre><code>import java.sql.Timestamp;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // gets the time in the beginning\n        Timestamp begin = new Timestamp(System.currentTimeMillis());\n        // assigns the number of iterations in the for loop and o to zero\n        long times = 1000000000;\n        int o = 0;\n        // keeps adding 1 to o for &quot;times&quot; times\n        for (int i = 0; i &lt; times; i++) {\n            o++;\n        }\n        // prints the result of o\n        System.out.println(o);\n        // get the end time\n        Timestamp end = new Timestamp(System.currentTimeMillis());\n        // compare the 2 times and print it out in milliseconds\n        System.out.println((end.getNanos() - begin.getNanos()) / 1000000);\n    }\n}\n</code></pre>\n<p>and this is an example of an unexpected result:</p>\n<pre><code>1000000000\n-298\n\nProcess finished with exit code 0\n</code></pre>\n<p>EDIT:</p>\n<p>The question has been marked as duplicate, where the answer indicates that <code>System.currentTimeMillis()</code> causes a +- 15ms difference, but this doesn't answer the fact that it becomes negative and the difference is larger than what was said. Further more, they say to use <code>System.nanoTime()</code> instead, but this also causes negative results, and only gives numbers in the hundreds like 300 or -200.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1669763772,"post_id":74621272,"comment_id":131716153,"body_markdown":"? `private int x; private int y;` ? and then `myArray[x][y]`, ... perhaps. I&#39;m not really sure what you&#39;re asking.","body":"? <code>private int x; private int y;</code> ? and then <code>myArray[x][y]</code>, ... perhaps. I&#39;m not really sure what you&#39;re asking."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1669768061,"post_id":74621272,"comment_id":131716872,"body_markdown":"This sounds like an [XY Problem](http://xyproblem.info)","body":"This sounds like an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669769414,"post_id":74621272,"comment_id":131717094,"body_markdown":"@JimGarrison: agree, one that would benefit from inclusion of more key information","body":"@JimGarrison: agree, one that would benefit from inclusion of more key information"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669764688,"creation_date":1669763977,"answer_id":74621310,"question_id":74621272,"body_markdown":"# Write a class\r\n\r\nWrite a class to represent the coordinate location within your matrix.\r\n\r\nUse [records][1] to declare a class whose purpose is to communicate data transparently and immutably. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\n    record MatrixCoordinate( int rowIndex , int columnIndex ) { }\r\n\r\nInstantiate like any class.\r\n\r\n    MatrixCoordinate mc = new MatrixCoordinate( 1 , 2 );\r\n\r\nCollect such objects for multiple coordinates.\r\n\r\n```java\r\nList &lt; MatrixCoordinate &gt; coordinates =\r\n        List.of(\r\n                new MatrixCoordinate( 1 , 2 ) ,\r\n                new MatrixCoordinate( 0 , 1 )\r\n        );\r\n```\r\n\r\nTo access the coordinates, call the implicitly defined accessor (getter) methods. The accessor name by default is the name of the field property.\r\n\r\nComplete example.\r\n\r\n```java\r\npackage work.basil.example.recs;\r\n\r\nimport java.util.List;\r\n\r\npublic class App2\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        record MatrixCoordinate( int rowIndex , int columnIndex ) { }\r\n        List &lt; MatrixCoordinate &gt; coordinates =\r\n                List.of(\r\n                        new MatrixCoordinate( 1 , 2 ) ,\r\n                        new MatrixCoordinate( 0 , 1 )\r\n                );\r\n\r\n        int[][] arr =\r\n                {\r\n                        { 1 , 2 , 3 } ,\r\n                        { 4 , 3 , 6 } ,\r\n                        { 7 , 8 , 9 }\r\n                };\r\n\r\n        for ( MatrixCoordinate coordinate : coordinates )\r\n        {\r\n            int x = arr[ coordinate.rowIndex ][ coordinate.columnIndex ];\r\n            System.out.println( coordinate + &quot; = &quot; + x );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nMatrixCoordinate[rowIndex=1, columnIndex=2] = 6\r\nMatrixCoordinate[rowIndex=0, columnIndex=1] = 2\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"Separating 2d array value into separate variables","body":"<h1>Write a class</h1>\n<p>Write a class to represent the coordinate location within your matrix.</p>\n<p>Use <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> to declare a class whose purpose is to communicate data transparently and immutably. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record MatrixCoordinate( int rowIndex , int columnIndex ) { }\n</code></pre>\n<p>Instantiate like any class.</p>\n<pre><code>MatrixCoordinate mc = new MatrixCoordinate( 1 , 2 );\n</code></pre>\n<p>Collect such objects for multiple coordinates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; MatrixCoordinate &gt; coordinates =\n        List.of(\n                new MatrixCoordinate( 1 , 2 ) ,\n                new MatrixCoordinate( 0 , 1 )\n        );\n</code></pre>\n<p>To access the coordinates, call the implicitly defined accessor (getter) methods. The accessor name by default is the name of the field property.</p>\n<p>Complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.recs;\n\nimport java.util.List;\n\npublic class App2\n{\n    public static void main ( String[] args )\n    {\n        record MatrixCoordinate( int rowIndex , int columnIndex ) { }\n        List &lt; MatrixCoordinate &gt; coordinates =\n                List.of(\n                        new MatrixCoordinate( 1 , 2 ) ,\n                        new MatrixCoordinate( 0 , 1 )\n                );\n\n        int[][] arr =\n                {\n                        { 1 , 2 , 3 } ,\n                        { 4 , 3 , 6 } ,\n                        { 7 , 8 , 9 }\n                };\n\n        for ( MatrixCoordinate coordinate : coordinates )\n        {\n            int x = arr[ coordinate.rowIndex ][ coordinate.columnIndex ];\n            System.out.println( coordinate + &quot; = &quot; + x );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MatrixCoordinate[rowIndex=1, columnIndex=2] = 6\nMatrixCoordinate[rowIndex=0, columnIndex=1] = 2\n</code></pre>\n"}],"owner":{"account_id":16304422,"reputation":166,"user_id":11774730,"display_name":"Benjamin McDowell"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1669778357,"answer_count":1,"score":-3,"last_activity_date":1669764688,"creation_date":1669763555,"question_id":74621272,"body_markdown":"I have a 2D array in Java.\r\n\r\nFor example, ```[[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;],[&#39;d&#39;,&#39;e&#39;,&#39;f&#39;],[&#39;g&#39;,&#39;h&#39;,&#39;i&#39;]].```\r\n\r\nAnd let&#39;s say I wanted to access element `&#39;f&#39;` which would be represented as element ```[1][2]```.\r\n\r\nHow would I split the `1` and `2` up so  that they can be stored in separate variables (e.g. `int x` and `int y`)?","title":"Separating 2d array value into separate variables","body":"<p>I have a 2D array in Java.</p>\n<p>For example, <code>[['a','b','c'],['d','e','f'],['g','h','i']].</code></p>\n<p>And let's say I wanted to access element <code>'f'</code> which would be represented as element <code>[1][2]</code>.</p>\n<p>How would I split the <code>1</code> and <code>2</code> up so  that they can be stored in separate variables (e.g. <code>int x</code> and <code>int y</code>)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":254596,"reputation":20919,"user_id":534109,"display_name":"Tieson T."},"score":0,"creation_date":1304658969,"post_id":5907037,"comment_id":6799650,"body_markdown":"So what steps have you previously taken to solve this yourself?","body":"So what steps have you previously taken to solve this yourself?"},{"owner":{"account_id":162132,"reputation":95999,"user_id":383402,"accept_rate":60,"display_name":"Borealid"},"score":6,"creation_date":1304659182,"post_id":5907037,"comment_id":6799679,"body_markdown":"I think your connection timed out. That&#39;s what it looks like to me.","body":"I think your connection timed out. That&#39;s what it looks like to me."},{"owner":{"account_id":272537,"reputation":2753,"user_id":563673,"accept_rate":43,"display_name":"Ankit"},"score":0,"creation_date":1304659483,"post_id":5907037,"comment_id":6799732,"body_markdown":"Just ping the site https://www.verisign.com/ and  see you can connect or not, or is it using much time to connect.","body":"Just ping the site <a href=\"https://www.verisign.com/\" rel=\"nofollow noreferrer\">verisign.com</a> and  see you can connect or not, or is it using much time to connect."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1669763746,"creation_date":1304660481,"answer_id":5907240,"question_id":5907037,"body_markdown":"We can&#39;t diagnose your networks for you.  You need to do it yourself, or get your local admins to look at.  \r\n\r\nThings you should check **before** you bug your admins:\r\n\r\n  - can you `ping` the host?\r\n  - can you connect to `http://www.verisign.com` using a web browser?\r\n  - can you connect to `https://www.verisign.com` using a web browser?\r\n  - can you connect to `http://www.verisign.com` using your program?\r\n  - can you connect to *anything* using your program?\r\n\r\nThe chances are that your problem is firewall related.  My first guess would be that you don&#39;t have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests.  \r\n\r\nIf it is not a problem with your settings, you will need to get help from someone local who can help you diagnose the problem.","title":"Connection timed out. Why?","body":"<p>We can't diagnose your networks for you.  You need to do it yourself, or get your local admins to look at.</p>\n<p>Things you should check <strong>before</strong> you bug your admins:</p>\n<ul>\n<li>can you <code>ping</code> the host?</li>\n<li>can you connect to <code>http://www.verisign.com</code> using a web browser?</li>\n<li>can you connect to <code>https://www.verisign.com</code> using a web browser?</li>\n<li>can you connect to <code>http://www.verisign.com</code> using your program?</li>\n<li>can you connect to <em>anything</em> using your program?</li>\n</ul>\n<p>The chances are that your problem is firewall related.  My first guess would be that you don't have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests.</p>\n<p>If it is not a problem with your settings, you will need to get help from someone local who can help you diagnose the problem.</p>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28733,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1674720378,"accepted_answer_id":5907240,"answer_count":1,"score":6,"last_activity_date":1669763746,"creation_date":1304658815,"question_id":5907037,"body_markdown":"I get an exception when I run this code. Why?\r\n\r\n\r\n&gt;Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class MainClass {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;java.protocol.handler.pkgs&quot;, &quot;com.sun.net.ssl.internal.www.protocol&quot;);\r\n    \r\n        URL url = new URL(&quot;https://www.verisign.com/&quot;);\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n    \r\n        String line;\r\n        while ((line = in.readLine()) != null) {\r\n          System.out.println(line);\r\n        }\r\n        in.close();\r\n      }\r\n    }\r\n\r\n\r\nException:    \r\n    \r\n    Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n    \tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\r\n    \tat java.net.Socket.connect(Socket.java:525)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:550)\r\n    \tat com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:163)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:394)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:529)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:801)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1049)\r\n    \tat com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl.getInputStream(HttpsURLConnectionOldImpl.java:204)\r\n    \tat java.net.URL.openStream(URL.java:1010)\r\n    \tat https.ssl.MainClass.main(MainClass.java:13)\r\n\r\n\r\n","title":"Connection timed out. Why?","body":"<p>I get an exception when I run this code. Why?</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.net.ConnectException: Connection timed out: connect</p>\n</blockquote>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class MainClass {\n\n  public static void main(String[] args) throws Exception {\n    System.setProperty(\"java.protocol.handler.pkgs\", \"com.sun.net.ssl.internal.www.protocol\");\n\n    URL url = new URL(\"https://www.verisign.com/\");\n    BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n\n    String line;\n    while ((line = in.readLine()) != null) {\n      System.out.println(line);\n    }\n    in.close();\n  }\n}\n</code></pre>\n\n<p>Exception:    </p>\n\n<pre><code>Exception in thread \"main\" java.net.ConnectException: Connection timed out: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\n    at java.net.Socket.connect(Socket.java:525)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:550)\n    at com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:163)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:529)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:801)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1049)\n    at com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl.getInputStream(HttpsURLConnectionOldImpl.java:204)\n    at java.net.URL.openStream(URL.java:1010)\n    at https.ssl.MainClass.main(MainClass.java:13)\n</code></pre>\n"},{"tags":["java","testing","mockito","mockito-inline"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1669838219,"post_id":74621180,"comment_id":131736767,"body_markdown":"I would check the following: 1. Is there ONLY mockito-inline on your classpath (mockito-core may interfere if you have it) 2. Imports: particularly eq static 3. readFromFile returns correct value?","body":"I would check the following: 1. Is there ONLY mockito-inline on your classpath (mockito-core may interfere if you have it) 2. Imports: particularly eq static 3. readFromFile returns correct value?"},{"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"score":0,"creation_date":1669838934,"post_id":74621180,"comment_id":131736986,"body_markdown":"1. I have only mockito-inline in my pom.xml file. 2. readFromFile is returning a value, I noticed after PowerMockito.mockStatic(Util.class); or MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class) my previous values are reseting to null, that&#39;s why I am getting null... but I don&#39;t know why is setting null","body":"1. I have only mockito-inline in my pom.xml file. 2. readFromFile is returning a value, I noticed after PowerMockito.mockStatic(Util.class); or MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class) my previous values are reseting to null, that&#39;s why I am getting null... but I don&#39;t know why is setting null"}],"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669762947,"creation_date":1669762947,"question_id":74621180,"body_markdown":"I am using MockedStatic in static Util.parse(string, class) method but when I am running is not mocking and its printing NULL, basically it should give me a static file as a response that I loaded before, for that I am using MockedStatic 3.4.4, or I am doing something wrong, if someone can help me with that.\r\n\r\n    public List&lt;ServiceRecord&gt; getListServices(Services.Type type, String env) throws Exception {\r\n    \r\n            Swagger swagger2 = Util.parse(&quot;{ss}&quot;, Swagger.class);\r\n            System.out.println(swagger2);\r\n\r\nthis is my test class:\r\n\r\n   \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class RemoteServicesTest {\r\n    ...     \r\n    @Test\r\n     public void getListServicesLegacyTest() throws Exception {\r\n    \r\n            Swagger swaggerMock = IoUtil.readFromFile(&quot;mock.json&quot;, Swagger.class);\r\n    \r\n    \r\n            try(MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class)) {\r\n                mockUtil2.when(() -&gt; Util.parse(eq(&quot;{ss}&quot;), eq(Swagger.class))).thenReturn(swaggerMock);\r\n                List&lt;ServiceRecord&gt; serviceRecordList2 = remoteCloudLegacyServices.getListServices(Services.Type.LEGACY, environment.getEnv());\r\n            }\r\n\r\nmy pom.xml\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"MockedStatic is not mocking one static method","body":"<p>I am using MockedStatic in static Util.parse(string, class) method but when I am running is not mocking and its printing NULL, basically it should give me a static file as a response that I loaded before, for that I am using MockedStatic 3.4.4, or I am doing something wrong, if someone can help me with that.</p>\n<pre><code>public List&lt;ServiceRecord&gt; getListServices(Services.Type type, String env) throws Exception {\n\n        Swagger swagger2 = Util.parse(&quot;{ss}&quot;, Swagger.class);\n        System.out.println(swagger2);\n</code></pre>\n<p>this is my test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class RemoteServicesTest {\n...     \n@Test\n public void getListServicesLegacyTest() throws Exception {\n\n        Swagger swaggerMock = IoUtil.readFromFile(&quot;mock.json&quot;, Swagger.class);\n\n\n        try(MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class)) {\n            mockUtil2.when(() -&gt; Util.parse(eq(&quot;{ss}&quot;), eq(Swagger.class))).thenReturn(swaggerMock);\n            List&lt;ServiceRecord&gt; serviceRecordList2 = remoteCloudLegacyServices.getListServices(Services.Type.LEGACY, environment.getEnv());\n        }\n</code></pre>\n<p>my pom.xml</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":7384995,"reputation":5496,"user_id":5620297,"accept_rate":93,"display_name":"Kaspar Lee"},"score":0,"creation_date":1459280184,"post_id":36293548,"comment_id":60212284,"body_markdown":"Can you give us an example of what the string should become?","body":"Can you give us an example of what the string should become?"},{"owner":{"display_name":"user2705585"},"score":0,"creation_date":1459280238,"post_id":36293548,"comment_id":60212324,"body_markdown":"What&#39;s expected output ? What about `12-10` ?","body":"What&#39;s expected output ? What about <code>12-10</code> ?"},{"owner":{"account_id":10388280,"reputation":135,"user_id":7660499,"accept_rate":60,"display_name":"shikhar"},"score":0,"creation_date":1570458533,"post_id":36293548,"comment_id":102910189,"body_markdown":"Check out my solution in C++ without regular expressions and works for every possible case. I am inserting space instead of &#39;-&#39; https://codeshare.io/5ZRWJ7","body":"Check out my solution in C++ without regular expressions and works for every possible case. I am inserting space instead of &#39;-&#39; <a href=\"https://codeshare.io/5ZRWJ7\" rel=\"nofollow noreferrer\">codeshare.io/5ZRWJ7</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1459282610,"creation_date":1459280239,"answer_id":36293610,"question_id":36293548,"body_markdown":"You can use a `\\G` within a lookbehind based regex:\r\n\r\n    String abc = &quot;12-10 23 5555 8361&quot;;\r\n    String hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n   \tSystem.out.println(hello.replaceAll(&quot;(?&lt;=\\\\G\\\\d{3})&quot;, &quot;-&quot;));\r\n    // =&gt; 121-023-555-583-61\r\n\r\nSee the [IDEONE demo][1]\r\n\r\nThe `(?&lt;=\\\\G\\\\d{3})` regex contains just a zero-width assertion that matches a position at the start of the string or at the end of the last successful match (`\\G`) that is followed with 3 digits (`\\d{3}`). In Java regex, this pattern works fine in the current scenario (i.e. `\\G` moves the regex index from within lookbehind). This won&#39;t work in Android though.\r\n\r\n**UPDATE**:\r\n\r\nFor the updated requirements, you can use a several step approach like\r\n\r\n    public static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t String s = &quot;0 - 22 1985--324&quot;; // =&gt; 022-198-53-24\r\n\t\t run(s);\r\n\t\t s = &quot;555372654&quot;;  // =&gt; 555-372-654\r\n\t\t run(s);\r\n\t\t s = &quot;12-10 23 5555 8361&quot;; // =&gt; 121-023-555-583-61\r\n\t\t run(s);\r\n\t}\r\n\tpublic static void run(String abc) {\r\n    \tString hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n   \t\thello = hello.replaceAll(&quot;(?&lt;=\\\\G\\\\d{3})(?!$)&quot;, &quot;-&quot;);\r\n   \t\tSystem.out.println(hello.replaceAll(&quot;\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$&quot;, &quot;$1-$2$3&quot;));\r\n\t}\r\n\r\nSee [another IDEONE demo][2]\r\n\r\nThe regex is updated with `(?!$)` at the end that fails the match at the end of the string.\r\n\r\nThe `.replaceAll(&quot;\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$&quot;, &quot;$1-$2$3&quot;)` is necessary to re-arrange the 2 last digit groups at the end: if there are 3 or more digits followed with a hyphen and then just 1 digit, we need to move the hyphen after the first 2 digits, and move the other digits right after this hyphen.\r\n\r\n  [1]: http://ideone.com/36efro\r\n  [2]: http://ideone.com/am1Sp7","title":"Split a string into blocks of three?","body":"<p>You can use a <code>\\G</code> within a lookbehind based regex:</p>\n\n<pre><code>String abc = \"12-10 23 5555 8361\";\nString hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(hello.replaceAll(\"(?&lt;=\\\\G\\\\d{3})\", \"-\"));\n// =&gt; 121-023-555-583-61\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/36efro\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>The <code>(?&lt;=\\\\G\\\\d{3})</code> regex contains just a zero-width assertion that matches a position at the start of the string or at the end of the last successful match (<code>\\G</code>) that is followed with 3 digits (<code>\\d{3}</code>). In Java regex, this pattern works fine in the current scenario (i.e. <code>\\G</code> moves the regex index from within lookbehind). This won't work in Android though.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>For the updated requirements, you can use a several step approach like</p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n     String s = \"0 - 22 1985--324\"; // =&gt; 022-198-53-24\n     run(s);\n     s = \"555372654\";  // =&gt; 555-372-654\n     run(s);\n     s = \"12-10 23 5555 8361\"; // =&gt; 121-023-555-583-61\n     run(s);\n}\npublic static void run(String abc) {\n    String hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\n    hello = hello.replaceAll(\"(?&lt;=\\\\G\\\\d{3})(?!$)\", \"-\");\n    System.out.println(hello.replaceAll(\"\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$\", \"$1-$2$3\"));\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/am1Sp7\" rel=\"nofollow\">another IDEONE demo</a></p>\n\n<p>The regex is updated with <code>(?!$)</code> at the end that fails the match at the end of the string.</p>\n\n<p>The <code>.replaceAll(\"\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$\", \"$1-$2$3\")</code> is necessary to re-arrange the 2 last digit groups at the end: if there are 3 or more digits followed with a hyphen and then just 1 digit, we need to move the hyphen after the first 2 digits, and move the other digits right after this hyphen.</p>\n"},{"tags":[],"owner":{"display_name":"user2705585"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459280474,"creation_date":1459280474,"answer_id":36293664,"question_id":36293548,"body_markdown":"You could also group three digits and replace with captured group and `-`.\r\n\r\n**Regex:** `(\\d{3})`\r\n\r\n**Replacement to do:** Replace with `\\1-`\r\n\r\n**Java Code**\r\n\r\n    String abc = &quot;12-10 23 5555 8361&quot;;\r\n\tString hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n\tSystem.out.println(hello.replaceAll(&quot;(\\\\d{3})&quot;, &quot;$1-&quot;));\r\n\r\n**[Regex101 Demo][1]**\r\n\r\n**[Ideone Demo][2]**\r\n\r\n\r\n  [1]: https://regex101.com/r/tF2aS0/1\r\n  [2]: http://ideone.com/juSraC","title":"Split a string into blocks of three?","body":"<p>You could also group three digits and replace with captured group and <code>-</code>.</p>\n\n<p><strong>Regex:</strong> <code>(\\d{3})</code></p>\n\n<p><strong>Replacement to do:</strong> Replace with <code>\\1-</code></p>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>String abc = \"12-10 23 5555 8361\";\nString hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(hello.replaceAll(\"(\\\\d{3})\", \"$1-\"));\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/tF2aS0/1\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n\n<p><strong><a href=\"http://ideone.com/juSraC\" rel=\"nofollow\">Ideone Demo</a></strong></p>\n"}],"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36293610,"answer_count":2,"score":3,"last_activity_date":1669762440,"creation_date":1459280061,"question_id":36293548,"body_markdown":"I have a String of digits. I need to group those digits in block of length three and separate by single dash. If necessary, the final block or the last two blocks can be of length two.\r\n\r\n        String abc = &quot;12-10 23 5555 8361&quot;;\r\n        String hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n\r\n\r\nNow, how can I group them in blocks of length three?\r\n\r\nExpected result is\r\n\r\n    121-023-555-583-61","title":"Split a string into blocks of three?","body":"<p>I have a String of digits. I need to group those digits in block of length three and separate by single dash. If necessary, the final block or the last two blocks can be of length two.</p>\n\n<pre><code>    String abc = \"12-10 23 5555 8361\";\n    String hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\n</code></pre>\n\n<p>Now, how can I group them in blocks of length three?</p>\n\n<p>Expected result is</p>\n\n<pre><code>121-023-555-583-61\n</code></pre>\n"},{"tags":["java","android","networking","android-intent","android-service"],"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1346149064,"post_id":12157130,"comment_id":16267516,"body_markdown":"This other Q&amp;A could help:\r\n\r\nhttp://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-timeouts","body":"This other Q&amp;A could help:    <a href=\"http://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-timeouts\" title=\"how to check internet access on android inetaddress never timeouts\">stackoverflow.com/questions/1560788/&hellip;</a>"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1416899905,"post_id":12157130,"comment_id":42742542,"body_markdown":"http://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html","body":"<a href=\"http://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1933468,"reputation":677,"user_id":1742374,"display_name":"pepan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491304787,"creation_date":1491304787,"answer_id":43205741,"question_id":12157130,"body_markdown":"The code from Chirag Raval above certainly works. The trouble is that the listener will get invoked even when the application is not running in foreground. \r\n\r\nIMHO, the better approach is to register / unregister the receiver in the `onResume()` / `onPause()` methods of all your application activities. This code should do it:\r\n\r\n    private final NetworkStateReceiver stateReceiver = new NetworkStateReceiver();\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        IntentFilter filter = new IntentFilter();\r\n        filter.addAction(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;);\r\n        registerReceiver(stateReceiver, filter);\r\n    }\r\n    \r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterReceiver(stateReceiver);\r\n    }\r\n\r\nObviously, remove the registration from `AndroidManifest.xml` file.\r\n\r\nUsing this solution, the receiver will be called also when switching between activities of your application (assuming you are closing them). In such a case, use a static flag (being shared between all your activities) like in the example below (called `online`):\r\n\r\n    public class NetworkStateReceiver extends BroadcastReceiver {\r\n    \r\n        private static boolean online = true;  // we expect the app being online when starting\r\n    \r\n        public static final String TAG = NetworkStateReceiver.class.getSimpleName();\r\n    \r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.d(TAG,&quot;Network connectivity change&quot;);\r\n            ConnectivityManager manager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo ni = manager.getActiveNetworkInfo();\r\n            if (ni == null || ni.getState() != NetworkInfo.State.CONNECTED) {\r\n                Log.d(TAG,&quot;There&#39;s no network connectivity&quot;);\r\n                if (online) // don&#39;t show the message if already offline\r\n                    Toast.makeText(context, R.string.noInternet, Toast.LENGTH_SHORT).show();\r\n                online = false;\r\n            } else {\r\n                Log.d(TAG,&quot;Network &quot;+ni.getTypeName()+&quot; connected&quot;);\r\n                if (!online)  // don&#39;t show the message if already online\r\n                    Toast.makeText(context, R.string.backOnline, Toast.LENGTH_SHORT).show();\r\n                online = true;\r\n            }\r\n        }\r\n    }\r\n\r\nIf starting your app when being offline, the Toast message will appear; otherwise it appears only when losing / re-establishing the connection .\r\n","title":"Internet listener Android example","body":"<p>The code from Chirag Raval above certainly works. The trouble is that the listener will get invoked even when the application is not running in foreground. </p>\n\n<p>IMHO, the better approach is to register / unregister the receiver in the <code>onResume()</code> / <code>onPause()</code> methods of all your application activities. This code should do it:</p>\n\n<pre><code>private final NetworkStateReceiver stateReceiver = new NetworkStateReceiver();\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    IntentFilter filter = new IntentFilter();\n    filter.addAction(\"android.net.conn.CONNECTIVITY_CHANGE\");\n    registerReceiver(stateReceiver, filter);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    unregisterReceiver(stateReceiver);\n}\n</code></pre>\n\n<p>Obviously, remove the registration from <code>AndroidManifest.xml</code> file.</p>\n\n<p>Using this solution, the receiver will be called also when switching between activities of your application (assuming you are closing them). In such a case, use a static flag (being shared between all your activities) like in the example below (called <code>online</code>):</p>\n\n<pre><code>public class NetworkStateReceiver extends BroadcastReceiver {\n\n    private static boolean online = true;  // we expect the app being online when starting\n\n    public static final String TAG = NetworkStateReceiver.class.getSimpleName();\n\n    public void onReceive(Context context, Intent intent) {\n        Log.d(TAG,\"Network connectivity change\");\n        ConnectivityManager manager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo ni = manager.getActiveNetworkInfo();\n        if (ni == null || ni.getState() != NetworkInfo.State.CONNECTED) {\n            Log.d(TAG,\"There's no network connectivity\");\n            if (online) // don't show the message if already offline\n                Toast.makeText(context, R.string.noInternet, Toast.LENGTH_SHORT).show();\n            online = false;\n        } else {\n            Log.d(TAG,\"Network \"+ni.getTypeName()+\" connected\");\n            if (!online)  // don't show the message if already online\n                Toast.makeText(context, R.string.backOnline, Toast.LENGTH_SHORT).show();\n            online = true;\n        }\n    }\n}\n</code></pre>\n\n<p>If starting your app when being offline, the Toast message will appear; otherwise it appears only when losing / re-establishing the connection .</p>\n"}],"owner":{"account_id":1295520,"reputation":852,"user_id":1246683,"accept_rate":57,"display_name":"Zeeshan Chaudhry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32285,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1669762302,"answer_count":1,"score":25,"last_activity_date":1669762269,"creation_date":1346148774,"question_id":12157130,"body_markdown":"I am working on an Android app that will continuously remain connected to Internet. If Internet is dow, it should give an appropriate message to the User.\r\n\r\nIs there any thing like Internet Listener? Or how to implement this event that whenever Internet connection is not available it should give alert.\r\n","title":"Internet listener Android example","body":"<p>I am working on an Android app that will continuously remain connected to Internet. If Internet is dow, it should give an appropriate message to the User.</p>\n\n<p>Is there any thing like Internet Listener? Or how to implement this event that whenever Internet connection is not available it should give alert.</p>\n"},{"tags":["java","properties","apache-commons-config"],"comments":[{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":1,"creation_date":1327341314,"post_id":8975908,"comment_id":11244894,"body_markdown":"Can you please clarify, i&#39;m not sure what you are trying to do","body":"Can you please clarify, i&#39;m not sure what you are trying to do"},{"owner":{"account_id":1193129,"reputation":1261,"user_id":1165463,"display_name":"Uhkkgjhfjf Jgkjkhj"},"score":1,"creation_date":1327342010,"post_id":8975908,"comment_id":11245140,"body_markdown":"I have a property what has a multi line valie, eg:\nkey1 = val1,\\\n       val2,\\\n       val3\nkey2 = hello\n\nval1,val2,val3 are in separate lines, but when PropertiesConfigurations writes them to a file, it will write them in one line","body":"I have a property what has a multi line valie, eg: key1 = val1,\\        val2,\\        val3 key2 = hello  val1,val2,val3 are in separate lines, but when PropertiesConfigurations writes them to a file, it will write them in one line"},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1327342161,"post_id":8975908,"comment_id":11245196,"body_markdown":"ah you are talking about how it writes it... ok","body":"ah you are talking about how it writes it... ok"}],"answers":[{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1327349860,"creation_date":1327349860,"answer_id":8977996,"question_id":8975908,"body_markdown":"Check the [User Guide for Properties files](http://commons.apache.org/configuration/userguide/howto_properties.html):\r\n\r\n[Special Characters and Escaping](http://commons.apache.org/configuration/userguide/howto_properties.html#Special_Characters_and_Escaping):\r\n&gt; If you need a special character in a property like a line feed, a\r\n&gt; tabulation or an unicode character, you can specify it with the same\r\n&gt; escaped notation used for Java Strings. The list separator (&quot;,&quot; by\r\n&gt; default), can also be escaped:\r\n&gt; \r\n&gt; `key = This \\n string \\t contains \\, escaped \\\\ characters \\u0020`\r\n\r\nBackslashes are more difficult.\r\n\r\n[Lists and arrays](http://commons.apache.org/configuration/userguide/howto_properties.html#Lists_and_arrays):\r\n\r\n&gt; You can specify a list of values in your properties file by using the\r\n&gt; same key on several lines:\r\n&gt; \r\n&gt;     # chart colors\r\n&gt;     colors.pie = #FF0000;\r\n&gt;     colors.pie = #00FF00;\r\n&gt;     colors.pie = #0000FF;\r\n\r\n\r\n","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>Check the <a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html\" rel=\"noreferrer\">User Guide for Properties files</a>:</p>\n\n<p><a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html#Special_Characters_and_Escaping\" rel=\"noreferrer\">Special Characters and Escaping</a>:</p>\n\n<blockquote>\n  <p>If you need a special character in a property like a line feed, a\n  tabulation or an unicode character, you can specify it with the same\n  escaped notation used for Java Strings. The list separator (\",\" by\n  default), can also be escaped:</p>\n  \n  <p><code>key = This \\n string \\t contains \\, escaped \\\\ characters \\u0020</code></p>\n</blockquote>\n\n<p>Backslashes are more difficult.</p>\n\n<p><a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html#Lists_and_arrays\" rel=\"noreferrer\">Lists and arrays</a>:</p>\n\n<blockquote>\n  <p>You can specify a list of values in your properties file by using the\n  same key on several lines:</p>\n\n<pre><code># chart colors\ncolors.pie = #FF0000;\ncolors.pie = #00FF00;\ncolors.pie = #0000FF;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1327355410,"creation_date":1327352595,"answer_id":8978515,"question_id":8975908,"body_markdown":"If you mean the following; that just relies on backslash + end-of-line. I just found it documented in:\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\r\n\r\n    primes = 2,\\\r\n        3,\\\r\n        5,\\\r\n        7,\\\r\n        11","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>If you mean the following; that just relies on backslash + end-of-line. I just found it documented in:\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html</a></p>\n\n<pre><code>primes = 2,\\\n    3,\\\n    5,\\\n    7,\\\n    11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1471279999,"creation_date":1471279999,"answer_id":38959408,"question_id":8975908,"body_markdown":"You need to combine the `\\n` character inside the content and the line continuation escape (`\\&lt;eol&gt;` at end of line) to get a multi line property actually be represented in the properties file and in the returned value:\r\n\r\n    KEY1=first line\\n\\\r\n    second line\\n\\\r\n    last line\r\n    KEY2=another key\r\n\r\nNot sure if commons-configuration can be configured to actually use this syntax for writing.","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>You need to combine the <code>\\n</code> character inside the content and the line continuation escape (<code>\\&lt;eol&gt;</code> at end of line) to get a multi line property actually be represented in the properties file and in the returned value:</p>\n\n<pre><code>KEY1=first line\\n\\\nsecond line\\n\\\nlast line\nKEY2=another key\n</code></pre>\n\n<p>Not sure if commons-configuration can be configured to actually use this syntax for writing.</p>\n"},{"tags":[],"owner":{"account_id":307033,"reputation":309,"user_id":5416366,"display_name":"Mikhail Fursov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528218080,"creation_date":1528218080,"answer_id":50705403,"question_id":8975908,"body_markdown":"Another option could be is to use one of properties formats that is  designed to support multi-line values.\r\n\r\nXML can handle multi-line properties well, but it has a lot of noise.\r\n\r\nMProps: is an example of the format with almost no special formatting required: https://github.com/mprops/mprops-java","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>Another option could be is to use one of properties formats that is  designed to support multi-line values.</p>\n\n<p>XML can handle multi-line properties well, but it has a lot of noise.</p>\n\n<p>MProps: is an example of the format with almost no special formatting required: <a href=\"https://github.com/mprops/mprops-java\" rel=\"nofollow noreferrer\">https://github.com/mprops/mprops-java</a></p>\n"}],"owner":{"account_id":1193129,"reputation":1261,"user_id":1165463,"display_name":"Uhkkgjhfjf Jgkjkhj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110352,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"answer_count":4,"score":126,"last_activity_date":1669762163,"creation_date":1327339686,"question_id":8975908,"body_markdown":"I have a properties file where a property has a comma-separated list value. How can I write these property values so that they span multiple lines? (Maybe a backslash after the comma?)\r\n\r\nI can&#39;t find anything about this or at least about escaping comma to comma and backslash.","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>I have a properties file where a property has a comma-separated list value. How can I write these property values so that they span multiple lines? (Maybe a backslash after the comma?)</p>\n<p>I can't find anything about this or at least about escaping comma to comma and backslash.</p>\n"},{"tags":["java","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":38846,"reputation":29745,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":6,"creation_date":1271076163,"post_id":2621701,"comment_id":2634400,"body_markdown":"It looks like there&#39;s some discussion of adding this to slf4j 2.0 on the dev mailing list: http://www.qos.ch/pipermail/slf4j-dev/2010-March/002865.html","body":"It looks like there&#39;s some discussion of adding this to slf4j 2.0 on the dev mailing list: <a href=\"http://www.qos.ch/pipermail/slf4j-dev/2010-March/002865.html\" rel=\"nofollow noreferrer\">qos.ch/pipermail/slf4j-dev/2010-March/002865.html</a>"},{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":1,"creation_date":1373888608,"post_id":2621701,"comment_id":25708730,"body_markdown":"take a look at Marker, this is custom data you can pass to log chain.","body":"take a look at Marker, this is custom data you can pass to log chain."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1378347363,"post_id":2621701,"comment_id":27421335,"body_markdown":"@tuxSlayer can you please elaborate how to use Marker in this case?","body":"@tuxSlayer can you please elaborate how to use Marker in this case?"},{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":0,"creation_date":1378721205,"post_id":2621701,"comment_id":27542176,"body_markdown":"Probably its not the best idea for &quot;logging&quot; but you can use several markers for log entry &quot;priority&quot; (high|low|normal, info|warn|fatal) and use filtering in logback or custom appender to consume markers and drive log entries into separate channels (log info, email fatal etc). However, the more straight way is to have a facade for this as was pointed in answers below.","body":"Probably its not the best idea for &quot;logging&quot; but you can use several markers for log entry &quot;priority&quot; (high|low|normal, info|warn|fatal) and use filtering in logback or custom appender to consume markers and drive log entries into separate channels (log info, email fatal etc). However, the more straight way is to have a facade for this as was pointed in answers below."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":2,"creation_date":1558594342,"post_id":2621701,"comment_id":99154062,"body_markdown":"This feature is supposed to be part of `slf4j 2.0`. https://jira.qos.ch/browse/SLF4J-124 See my answer for details and for a possible `slf4j 1.x`-workaround.","body":"This feature is supposed to be part of <code>slf4j 2.0</code>. <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/SLF4J-124</a> See my answer for details and for a possible <code>slf4j 1.x</code>-workaround."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1669761255,"post_id":2621701,"comment_id":131715550,"body_markdown":"The Logger.atLevel() introduced in SLF4J 2.0 provides the desired functionality.","body":"The Logger.atLevel() introduced in SLF4J 2.0 provides the desired functionality."}],"answers":[{"tags":[],"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1271072565,"creation_date":1271072565,"answer_id":2621718,"question_id":2621701,"body_markdown":"no, it has a number of methods, info(), debug(), warn(), etc (this replaces the priority field)\r\n\r\nhave a look at http://www.slf4j.org/api/org/slf4j/Logger.html for the full Logger api.","title":"Setting log level of message at runtime in slf4j","body":"<p>no, it has a number of methods, info(), debug(), warn(), etc (this replaces the priority field)</p>\n\n<p>have a look at <a href=\"http://www.slf4j.org/api/org/slf4j/Logger.html\" rel=\"nofollow noreferrer\">http://www.slf4j.org/api/org/slf4j/Logger.html</a> for the full Logger api.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1652443285,"creation_date":1271075811,"answer_id":2622044,"question_id":2621701,"body_markdown":"There is no way to do this with slf4j 1.x.\r\n\r\nI imagine that the reason that this functionality is missing is that it is next to impossible to construct a `Level` type for slf4j that can be efficiently mapped to the `Level` (or equivalent) type used in all of the possible logging implementations behind the facade.  Alternatively, the designers decided that [your use-case is too unusual][1] to justify the overheads of supporting it.\r\n\r\nConcerning [@ripper234][2]&#39;s [use-case][3] (unit testing), I think the pragmatic solution is modify the unit test(s) to hard-wire knowledge of what logging system is behind the slf4j facade ... when running the unit tests.\r\n\r\n------------------\r\n\r\n**UPDATE** \r\n\r\nThey intend to implement piecemeal construction of logging events (with dynamic logging levels) in slf4j 2.0; see https://jira.qos.ch/browse/SLF4J-124.  According to @Ceki (see comments), it is implemented in the 2.0.0-alpha2 release.\r\n\r\n\r\n  [1]: http://jira.qos.ch/browse/SLF4J-124\r\n  [2]: https://stackoverflow.com/users/11236/ripper234\r\n  [3]: http://jira.qos.ch/browse/SLF4J-197","title":"Setting log level of message at runtime in slf4j","body":"<p>There is no way to do this with slf4j 1.x.</p>\n<p>I imagine that the reason that this functionality is missing is that it is next to impossible to construct a <code>Level</code> type for slf4j that can be efficiently mapped to the <code>Level</code> (or equivalent) type used in all of the possible logging implementations behind the facade.  Alternatively, the designers decided that <a href=\"http://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">your use-case is too unusual</a> to justify the overheads of supporting it.</p>\n<p>Concerning <a href=\"https://stackoverflow.com/users/11236/ripper234\">@ripper234</a>'s <a href=\"http://jira.qos.ch/browse/SLF4J-197\" rel=\"nofollow noreferrer\">use-case</a> (unit testing), I think the pragmatic solution is modify the unit test(s) to hard-wire knowledge of what logging system is behind the slf4j facade ... when running the unit tests.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>They intend to implement piecemeal construction of logging events (with dynamic logging levels) in slf4j 2.0; see <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">https://jira.qos.ch/browse/SLF4J-124</a>.  According to @Ceki (see comments), it is implemented in the 2.0.0-alpha2 release.</p>\n"},{"tags":[],"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306360013,"creation_date":1306360013,"answer_id":6131369,"question_id":2621701,"body_markdown":"This can be done with an `enum` and a helper method:\r\n\r\n    enum LogLevel {\r\n        TRACE,\r\n        DEBUG,\r\n        INFO,\r\n        WARN,\r\n        ERROR,\r\n    }\r\n\r\n    public static void log(Logger logger, LogLevel level, String format, Object[] argArray) {\r\n        switch (level) {\r\n            case TRACE:\r\n                logger.trace(format, argArray);\r\n                break;\r\n            case DEBUG:\r\n                logger.debug(format, argArray);\r\n                break;\r\n            case INFO:\r\n                logger.info(format, argArray);\r\n                break;\r\n            case WARN:\r\n                logger.warn(format, argArray);\r\n                break;\r\n            case ERROR:\r\n                logger.error(format, argArray);\r\n                break;\r\n        }\r\n    }\r\n    \r\n    // example usage:\r\n    private static final Logger logger = ...\r\n    final LogLevel level = ...\r\n    log(logger, level, &quot;Something bad happened&quot;, ...);\r\n\r\nYou could add other variants of `log`, say if you wanted generic equivalents of SLF4J&#39;s 1-parameter or 2-parameter `warn`/`error`/etc. methods.\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>This can be done with an <code>enum</code> and a helper method:</p>\n\n<pre><code>enum LogLevel {\n    TRACE,\n    DEBUG,\n    INFO,\n    WARN,\n    ERROR,\n}\n\npublic static void log(Logger logger, LogLevel level, String format, Object[] argArray) {\n    switch (level) {\n        case TRACE:\n            logger.trace(format, argArray);\n            break;\n        case DEBUG:\n            logger.debug(format, argArray);\n            break;\n        case INFO:\n            logger.info(format, argArray);\n            break;\n        case WARN:\n            logger.warn(format, argArray);\n            break;\n        case ERROR:\n            logger.error(format, argArray);\n            break;\n    }\n}\n\n// example usage:\nprivate static final Logger logger = ...\nfinal LogLevel level = ...\nlog(logger, level, \"Something bad happened\", ...);\n</code></pre>\n\n<p>You could add other variants of <code>log</code>, say if you wanted generic equivalents of SLF4J's 1-parameter or 2-parameter <code>warn</code>/<code>error</code>/etc. methods.</p>\n"},{"tags":[],"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1319068085,"creation_date":1319067678,"answer_id":7829534,"question_id":2621701,"body_markdown":"Richard Fearn has the right idea, so I wrote up the full class based on his skeleton code. It&#39;s hopefully short enough to post here. Copy &amp; paste for enjoyment. I should probably add some magic incantation, too: &quot;This code is released to the public domain&quot;\r\n\r\n\r\n    import org.slf4j.Logger;\r\n    \r\n    public class LogLevel {\r\n    \r\n        /**\r\n         * Allowed levels, as an enum. Import using &quot;import [package].LogLevel.Level&quot;\r\n         * Every logging implementation has something like this except SLF4J.\r\n         */\r\n    \r\n        public static enum Level {\r\n            TRACE, DEBUG, INFO, WARN, ERROR\r\n        }\r\n    \r\n        /**\r\n         * This class cannot be instantiated, why would you want to?\r\n         */\r\n    \r\n        private LogLevel() {\r\n            // Unreachable\r\n        }\r\n    \r\n        /**\r\n         * Log at the specified level. If the &quot;logger&quot; is null, nothing is logged.\r\n         * If the &quot;level&quot; is null, nothing is logged. If the &quot;txt&quot; is null,\r\n         * behaviour depends on the SLF4J implementation.\r\n         */\r\n    \r\n        public static void log(Logger logger, Level level, String txt) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(txt);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(txt);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(txt);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(txt);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(txt);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Log at the specified level. If the &quot;logger&quot; is null, nothing is logged.\r\n         * If the &quot;level&quot; is null, nothing is logged. If the &quot;format&quot; or the &quot;argArray&quot;\r\n         * are null, behaviour depends on the SLF4J-backing implementation.\r\n         */\r\n    \r\n        public static void log(Logger logger, Level level, String format, Object[] argArray) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(format, argArray);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(format, argArray);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(format, argArray);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(format, argArray);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(format, argArray);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Log at the specified level, with a Throwable on top. If the &quot;logger&quot; is null,\r\n         * nothing is logged. If the &quot;level&quot; is null, nothing is logged. If the &quot;format&quot; or\r\n         * the &quot;argArray&quot; or the &quot;throwable&quot; are null, behaviour depends on the SLF4J-backing\r\n         * implementation.\r\n         */\r\n        \r\n        public static void log(Logger logger, Level level, String txt, Throwable throwable) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(txt, throwable);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(txt, throwable);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(txt, throwable);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(txt, throwable);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(txt, throwable);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Check whether a SLF4J logger is enabled for a certain loglevel. \r\n         * If the &quot;logger&quot; or the &quot;level&quot; is null, false is returned.\r\n         */\r\n    \r\n        public static boolean isEnabledFor(Logger logger, Level level) {\r\n            boolean res = false;\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    res = logger.isTraceEnabled();\r\n                    break;\r\n                case DEBUG:\r\n                    res = logger.isDebugEnabled();\r\n                    break;\r\n                case INFO:\r\n                    res = logger.isInfoEnabled();\r\n                    break;\r\n                case WARN:\r\n                    res = logger.isWarnEnabled();\r\n                    break;\r\n                case ERROR:\r\n                    res = logger.isErrorEnabled();\r\n                    break;\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>Richard Fearn has the right idea, so I wrote up the full class based on his skeleton code. It's hopefully short enough to post here. Copy &amp; paste for enjoyment. I should probably add some magic incantation, too: \"This code is released to the public domain\"</p>\n\n<pre><code>import org.slf4j.Logger;\n\npublic class LogLevel {\n\n    /**\n     * Allowed levels, as an enum. Import using \"import [package].LogLevel.Level\"\n     * Every logging implementation has something like this except SLF4J.\n     */\n\n    public static enum Level {\n        TRACE, DEBUG, INFO, WARN, ERROR\n    }\n\n    /**\n     * This class cannot be instantiated, why would you want to?\n     */\n\n    private LogLevel() {\n        // Unreachable\n    }\n\n    /**\n     * Log at the specified level. If the \"logger\" is null, nothing is logged.\n     * If the \"level\" is null, nothing is logged. If the \"txt\" is null,\n     * behaviour depends on the SLF4J implementation.\n     */\n\n    public static void log(Logger logger, Level level, String txt) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(txt);\n                break;\n            case DEBUG:\n                logger.debug(txt);\n                break;\n            case INFO:\n                logger.info(txt);\n                break;\n            case WARN:\n                logger.warn(txt);\n                break;\n            case ERROR:\n                logger.error(txt);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Log at the specified level. If the \"logger\" is null, nothing is logged.\n     * If the \"level\" is null, nothing is logged. If the \"format\" or the \"argArray\"\n     * are null, behaviour depends on the SLF4J-backing implementation.\n     */\n\n    public static void log(Logger logger, Level level, String format, Object[] argArray) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(format, argArray);\n                break;\n            case DEBUG:\n                logger.debug(format, argArray);\n                break;\n            case INFO:\n                logger.info(format, argArray);\n                break;\n            case WARN:\n                logger.warn(format, argArray);\n                break;\n            case ERROR:\n                logger.error(format, argArray);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Log at the specified level, with a Throwable on top. If the \"logger\" is null,\n     * nothing is logged. If the \"level\" is null, nothing is logged. If the \"format\" or\n     * the \"argArray\" or the \"throwable\" are null, behaviour depends on the SLF4J-backing\n     * implementation.\n     */\n\n    public static void log(Logger logger, Level level, String txt, Throwable throwable) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(txt, throwable);\n                break;\n            case DEBUG:\n                logger.debug(txt, throwable);\n                break;\n            case INFO:\n                logger.info(txt, throwable);\n                break;\n            case WARN:\n                logger.warn(txt, throwable);\n                break;\n            case ERROR:\n                logger.error(txt, throwable);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Check whether a SLF4J logger is enabled for a certain loglevel. \n     * If the \"logger\" or the \"level\" is null, false is returned.\n     */\n\n    public static boolean isEnabledFor(Logger logger, Level level) {\n        boolean res = false;\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                res = logger.isTraceEnabled();\n                break;\n            case DEBUG:\n                res = logger.isDebugEnabled();\n                break;\n            case INFO:\n                res = logger.isInfoEnabled();\n                break;\n            case WARN:\n                res = logger.isWarnEnabled();\n                break;\n            case ERROR:\n                res = logger.isErrorEnabled();\n                break;\n            }\n        }\n        return res;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1441479,"reputation":21,"user_id":1361505,"display_name":"massimo virgilio"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1335541510,"creation_date":1335541510,"answer_id":10353716,"question_id":2621701,"body_markdown":"using java introspection you can do it, for example:\r\n\r\n\tprivate void changeRootLoggerLevel(int level) {\r\n\r\n\t\tif (logger instanceof org.slf4j.impl.Log4jLoggerAdapter) {\r\n\t\t\ttry {\r\n\t\t\t\tClass loggerIntrospected = logger.getClass();\r\n\t\t\t\tField fields[] = loggerIntrospected.getDeclaredFields();\r\n\t\t\t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n\t\t\t\t\tString fieldName = fields[i].getName();\r\n\t\t\t\t\tif (fieldName.equals(&quot;logger&quot;)) {\r\n\t\t\t\t\t\tfields[i].setAccessible(true);\r\n\t\t\t\t\t\torg.apache.log4j.Logger loggerImpl = (org.apache.log4j.Logger) fields[i]\r\n\t\t\t\t\t\t\t\t.get(logger);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (level == DIAGNOSTIC_LEVEL) {\r\n\t\t\t\t\t\t\tloggerImpl.setLevel(Level.DEBUG);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tloggerImpl.setLevel(org.apache.log4j.Logger.getRootLogger().getLevel());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// fields[i].setAccessible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\torg.apache.log4j.Logger.getLogger(LoggerSLF4JImpl.class).error(&quot;An error was thrown while changing the Logger level&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}","title":"Setting log level of message at runtime in slf4j","body":"<p>using java introspection you can do it, for example:</p>\n\n<pre><code>private void changeRootLoggerLevel(int level) {\n\n    if (logger instanceof org.slf4j.impl.Log4jLoggerAdapter) {\n        try {\n            Class loggerIntrospected = logger.getClass();\n            Field fields[] = loggerIntrospected.getDeclaredFields();\n            for (int i = 0; i &lt; fields.length; i++) {\n                String fieldName = fields[i].getName();\n                if (fieldName.equals(\"logger\")) {\n                    fields[i].setAccessible(true);\n                    org.apache.log4j.Logger loggerImpl = (org.apache.log4j.Logger) fields[i]\n                            .get(logger);\n\n                    if (level == DIAGNOSTIC_LEVEL) {\n                        loggerImpl.setLevel(Level.DEBUG);\n                    } else {\n                        loggerImpl.setLevel(org.apache.log4j.Logger.getRootLogger().getLevel());\n                    }\n\n                    // fields[i].setAccessible(false);\n                }\n            }\n        } catch (Exception e) {\n            org.apache.log4j.Logger.getLogger(LoggerSLF4JImpl.class).error(\"An error was thrown while changing the Logger level\", e);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"down_vote_count":12,"up_vote_count":33,"is_accepted":false,"score":21,"last_activity_date":1484353230,"creation_date":1358515218,"answer_id":14399850,"question_id":2621701,"body_markdown":"Try switching to Logback and use\r\n\r\n\tch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger)LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\r\n\trootLogger.setLevel(Level.toLevel(&quot;info&quot;));\r\n\r\nI believe this will be the only call to Logback and the rest of your code will remain unchanged. Logback uses SLF4J and the migration will be painless, just the xml config files will have to be changed.\r\n\r\nRemember to set the log level back after you&#39;re done.","title":"Setting log level of message at runtime in slf4j","body":"<p>Try switching to Logback and use</p>\n\n<pre><code>ch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger)LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\nrootLogger.setLevel(Level.toLevel(\"info\"));\n</code></pre>\n\n<p>I believe this will be the only call to Logback and the rest of your code will remain unchanged. Logback uses SLF4J and the migration will be painless, just the xml config files will have to be changed.</p>\n\n<p>Remember to set the log level back after you're done.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1396012488,"creation_date":1396012488,"answer_id":22713932,"question_id":2621701,"body_markdown":"Anyone wanting a drop-in fully SLF4J compatible solution to this problem might want to check out [Lidalia SLF4J Extensions](http://projects.lidalia.org.uk/lidalia-slf4j-ext/) - it&#39;s on Maven Central.","title":"Setting log level of message at runtime in slf4j","body":"<p>Anyone wanting a drop-in fully SLF4J compatible solution to this problem might want to check out <a href=\"http://projects.lidalia.org.uk/lidalia-slf4j-ext/\" rel=\"noreferrer\">Lidalia SLF4J Extensions</a> - it's on Maven Central.</p>\n"},{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1402457587,"creation_date":1402457587,"answer_id":24154212,"question_id":2621701,"body_markdown":"I have just encountered a similar need.\r\nIn my case, slf4j is configured with the java logging adapter (the jdk14 one).\r\nUsing the following code snippet I have managed to change the debug level at runtime:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;testing&quot;);\r\n    java.util.logging.Logger julLogger = java.util.logging.Logger.getLogger(&quot;testing&quot;);\r\n    julLogger.setLevel(java.util.logging.Level.FINE);\r\n    logger.debug(&quot;hello world&quot;);\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>I have just encountered a similar need.\nIn my case, slf4j is configured with the java logging adapter (the jdk14 one).\nUsing the following code snippet I have managed to change the debug level at runtime:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(\"testing\");\njava.util.logging.Logger julLogger = java.util.logging.Logger.getLogger(\"testing\");\njulLogger.setLevel(java.util.logging.Level.FINE);\nlogger.debug(\"hello world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456317591,"creation_date":1456317591,"answer_id":35602473,"question_id":2621701,"body_markdown":"Based on the answer of massimo virgilio, I&#39;ve also managed to do it with slf4j-log4j using introspection. HTH.\r\n\r\n\tLogger LOG = LoggerFactory.getLogger(MyOwnClass.class);\r\n\r\n\torg.apache.logging.slf4j.Log4jLogger LOGGER = (org.apache.logging.slf4j.Log4jLogger) LOG;\r\n\r\n\ttry {\r\n        Class loggerIntrospected = LOGGER.getClass();\r\n        Field fields[] = loggerIntrospected.getDeclaredFields();\r\n        for (int i = 0; i &lt; fields.length; i++) {\r\n            String fieldName = fields[i].getName();\r\n            if (fieldName.equals(&quot;logger&quot;)) {\r\n                fields[i].setAccessible(true);\r\n                org.apache.logging.log4j.core.Logger loggerImpl = (org.apache.logging.log4j.core.Logger) fields[i].get(LOGGER);\r\n                loggerImpl.setLevel(Level.DEBUG);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;ERROR :&quot; + e.getMessage());\r\n    }","title":"Setting log level of message at runtime in slf4j","body":"<p>Based on the answer of massimo virgilio, I've also managed to do it with slf4j-log4j using introspection. HTH.</p>\n\n<pre><code>Logger LOG = LoggerFactory.getLogger(MyOwnClass.class);\n\norg.apache.logging.slf4j.Log4jLogger LOGGER = (org.apache.logging.slf4j.Log4jLogger) LOG;\n\ntry {\n    Class loggerIntrospected = LOGGER.getClass();\n    Field fields[] = loggerIntrospected.getDeclaredFields();\n    for (int i = 0; i &lt; fields.length; i++) {\n        String fieldName = fields[i].getName();\n        if (fieldName.equals(\"logger\")) {\n            fields[i].setAccessible(true);\n            org.apache.logging.log4j.core.Logger loggerImpl = (org.apache.logging.log4j.core.Logger) fields[i].get(LOGGER);\n            loggerImpl.setLevel(Level.DEBUG);\n        }\n    }\n} catch (Exception e) {\n    System.out.println(\"ERROR :\" + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10135,"reputation":14538,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1457629266,"creation_date":1457629266,"answer_id":35922732,"question_id":2621701,"body_markdown":"You can implement this using Java 8 lambdas.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.event.Level;\r\n    \r\n    public class LevelLogger {\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(LevelLogger.class);\r\n    \tprivate static final Map&lt;Level, LoggingFunction&gt; map;\r\n    \r\n    \tstatic {\r\n    \t\tmap = new HashMap&lt;&gt;();\r\n    \t\tmap.put(Level.TRACE, (o) -&gt; LOGGER.trace(o));\r\n    \t\tmap.put(Level.DEBUG, (o) -&gt; LOGGER.debug(o));\r\n    \t\tmap.put(Level.INFO, (o) -&gt; LOGGER.info(o));\r\n    \t\tmap.put(Level.WARN, (o) -&gt; LOGGER.warn(o));\r\n    \t\tmap.put(Level.ERROR, (o) -&gt; LOGGER.error(o));\r\n    \t}\r\n    \t\r\n    \tpublic static void log(Level level, String s) {\r\n    \t\tmap.get(level).log(s);\r\n    \t}\r\n    \t\r\n    \t@FunctionalInterface\r\n    \tprivate interface LoggingFunction {\r\n    \t\tpublic void log(String arg);\r\n    \t}\r\n    }","title":"Setting log level of message at runtime in slf4j","body":"<p>You can implement this using Java 8 lambdas.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.event.Level;\n\npublic class LevelLogger {\n    private static final Logger LOGGER = LoggerFactory.getLogger(LevelLogger.class);\n    private static final Map&lt;Level, LoggingFunction&gt; map;\n\n    static {\n        map = new HashMap&lt;&gt;();\n        map.put(Level.TRACE, (o) -&gt; LOGGER.trace(o));\n        map.put(Level.DEBUG, (o) -&gt; LOGGER.debug(o));\n        map.put(Level.INFO, (o) -&gt; LOGGER.info(o));\n        map.put(Level.WARN, (o) -&gt; LOGGER.warn(o));\n        map.put(Level.ERROR, (o) -&gt; LOGGER.error(o));\n    }\n\n    public static void log(Level level, String s) {\n        map.get(level).log(s);\n    }\n\n    @FunctionalInterface\n    private interface LoggingFunction {\n        public void log(String arg);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469784645,"creation_date":1469784645,"answer_id":38655293,"question_id":2621701,"body_markdown":"Here&#39;s a lambda solution not as user-friendly as @Paul Croarkin&#39;s in one way (the level is effectively passed twice). But I think (a) the user should pass the Logger; and (b) AFAIU the original question was not asking for a convenient way for everywhere in the application, only a situation with few usages inside a library.\r\n\r\n\tpackage test.lambda;\r\n\timport java.util.function.*;\r\n\timport org.slf4j.*;\r\n\t\r\n\tpublic class LoggerLambda {\r\n\t\tprivate static final Logger LOG = LoggerFactory.getLogger(LoggerLambda.class);\r\n\t\r\n\t\tprivate LoggerLambda() {}\r\n\t\r\n\t\tpublic static void log(BiConsumer&lt;? super String, ? super Object[]&gt; logFunc, Supplier&lt;Boolean&gt; logEnabledPredicate, \r\n\t\t\t\tString format, Object... args) {\r\n\t\t\tif (logEnabledPredicate.get()) {\r\n\t\t\t\tlogFunc.accept(format, args);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint a = 1, b = 2, c = 3;\r\n\t\t\tThrowable e = new Exception(&quot;something went wrong&quot;, new IllegalArgumentException());\r\n\t\t\tlog(LOG::info, LOG::isInfoEnabled, &quot;a = {}, b = {}, c = {}&quot;, a, b, c);\r\n\t\t\t\r\n\t\t\t// warn(String, Object...) instead of warn(String, Throwable), but prints stacktrace nevertheless\r\n\t\t\tlog(LOG::warn, LOG::isWarnEnabled, &quot;error doing something: {}&quot;, e, e);\r\n\t\t}\r\n\t}\r\n\r\nSince slf4j [allows a Throwable (whose stack trace should be logged) inside the varargs param](http://www.slf4j.org/faq.html#paramException), I think there is no need for overloading the `log` helper method for other consumers than `(String, Object[])`.","title":"Setting log level of message at runtime in slf4j","body":"<p>Here's a lambda solution not as user-friendly as @Paul Croarkin's in one way (the level is effectively passed twice). But I think (a) the user should pass the Logger; and (b) AFAIU the original question was not asking for a convenient way for everywhere in the application, only a situation with few usages inside a library.</p>\n\n<pre><code>package test.lambda;\nimport java.util.function.*;\nimport org.slf4j.*;\n\npublic class LoggerLambda {\n    private static final Logger LOG = LoggerFactory.getLogger(LoggerLambda.class);\n\n    private LoggerLambda() {}\n\n    public static void log(BiConsumer&lt;? super String, ? super Object[]&gt; logFunc, Supplier&lt;Boolean&gt; logEnabledPredicate, \n            String format, Object... args) {\n        if (logEnabledPredicate.get()) {\n            logFunc.accept(format, args);\n        }\n    }\n\n    public static void main(String[] args) {\n        int a = 1, b = 2, c = 3;\n        Throwable e = new Exception(\"something went wrong\", new IllegalArgumentException());\n        log(LOG::info, LOG::isInfoEnabled, \"a = {}, b = {}, c = {}\", a, b, c);\n\n        // warn(String, Object...) instead of warn(String, Throwable), but prints stacktrace nevertheless\n        log(LOG::warn, LOG::isWarnEnabled, \"error doing something: {}\", e, e);\n    }\n}\n</code></pre>\n\n<p>Since slf4j <a href=\"http://www.slf4j.org/faq.html#paramException\" rel=\"nofollow\">allows a Throwable (whose stack trace should be logged) inside the varargs param</a>, I think there is no need for overloading the <code>log</code> helper method for other consumers than <code>(String, Object[])</code>.</p>\n"},{"tags":[],"owner":{"account_id":202116,"reputation":1645,"user_id":448978,"display_name":"youurayy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498006205,"creation_date":1498006205,"answer_id":44665169,"question_id":2621701,"body_markdown":"I was able to do this for the JDK14 binding by first requesting the SLF4J Logger instance and _then_ setting the level on the binding -- you may try this for the Log4J binding.\r\n\r\n    private void setLevel(Class loggerClass, java.util.logging.Level level) {\r\n      org.slf4j.LoggerFactory.getLogger(loggerClass);\r\n      java.util.logging.Logger.getLogger(loggerClass.getName()).setLevel(level);\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>I was able to do this for the JDK14 binding by first requesting the SLF4J Logger instance and <em>then</em> setting the level on the binding -- you may try this for the Log4J binding.</p>\n\n<pre><code>private void setLevel(Class loggerClass, java.util.logging.Level level) {\n  org.slf4j.LoggerFactory.getLogger(loggerClass);\n  java.util.logging.Logger.getLogger(loggerClass.getName()).setLevel(level);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12159655,"reputation":41,"user_id":8877602,"display_name":"Glenn Inn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550278011,"creation_date":1550278011,"answer_id":54718800,"question_id":2621701,"body_markdown":"The method I use is to import the ch.qos.logback modules and then type-cast the slf4j Logger instance to a ch.qos.logback.classic.Logger. This instance includes a setLevel() method.  \r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    Logger levelSet = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n    // Now you can set the desired logging-level\r\n    levelSet.setLevel( Level.OFF );\r\n\r\n\r\nTo find out the possible Logging-levels, you can explode the ch.qos.logback class to see all the possible values for **Level**:\r\n\r\n    prompt$ javap -cp logback-classic-1.2.3.jar ch.qos.logback.classic.Level\r\n\r\nThe results are the following:\r\n\r\n    {\r\n       // ...skipping\r\n       public static final ch.qos.logback.classic.Level OFF;\r\n       public static final ch.qos.logback.classic.Level ERROR;\r\n       public static final ch.qos.logback.classic.Level WARN;\r\n       public static final ch.qos.logback.classic.Level INFO;\r\n       public static final ch.qos.logback.classic.Level DEBUG;\r\n       public static final ch.qos.logback.classic.Level TRACE;\r\n       public static final ch.qos.logback.classic.Level ALL;\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>The method I use is to import the ch.qos.logback modules and then type-cast the slf4j Logger instance to a ch.qos.logback.classic.Logger. This instance includes a setLevel() method.  </p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\nLogger levelSet = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n\n// Now you can set the desired logging-level\nlevelSet.setLevel( Level.OFF );\n</code></pre>\n\n<p>To find out the possible Logging-levels, you can explode the ch.qos.logback class to see all the possible values for <strong>Level</strong>:</p>\n\n<pre><code>prompt$ javap -cp logback-classic-1.2.3.jar ch.qos.logback.classic.Level\n</code></pre>\n\n<p>The results are the following:</p>\n\n<pre><code>{\n   // ...skipping\n   public static final ch.qos.logback.classic.Level OFF;\n   public static final ch.qos.logback.classic.Level ERROR;\n   public static final ch.qos.logback.classic.Level WARN;\n   public static final ch.qos.logback.classic.Level INFO;\n   public static final ch.qos.logback.classic.Level DEBUG;\n   public static final ch.qos.logback.classic.Level TRACE;\n   public static final ch.qos.logback.classic.Level ALL;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5694248,"reputation":113,"user_id":4501221,"display_name":"Kamil Nowak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556188590,"creation_date":1556188590,"answer_id":55847315,"question_id":2621701,"body_markdown":"I&#39;ve just needed something like that and came up with:\r\n\r\n\t@RequiredArgsConstructor //lombok annotation\r\n\tpublic enum LogLevel{\r\n\t\t\r\n\t\tTRACE(l -&gt; l::trace),\r\n\t\tINFO (l -&gt; l::info),\r\n\t\tWARN (l -&gt; l::warn),\r\n\t\tERROR(l -&gt; l::error);\r\n\t\t\r\n\t\tprivate final Function&lt;Logger, Consumer&lt;String&gt;&gt; function;\r\n\t\t\r\n\t\tpublic void log(Logger logger, String message) {\r\n\t\t\tfunction.apply(logger).accept(message);\r\n\t\t}\r\n\t}\r\n\r\nusage:\r\n\r\n\t\tLogLevel level = LogLevel.TRACE;\r\n    \tlevel.log(logger, &quot;message&quot;);\r\n\r\nLogger is passed during invocation, so the class info should be ok, and it works nicely with @Slf4j lombok annotation.","title":"Setting log level of message at runtime in slf4j","body":"<p>I've just needed something like that and came up with:</p>\n\n<pre><code>@RequiredArgsConstructor //lombok annotation\npublic enum LogLevel{\n\n    TRACE(l -&gt; l::trace),\n    INFO (l -&gt; l::info),\n    WARN (l -&gt; l::warn),\n    ERROR(l -&gt; l::error);\n\n    private final Function&lt;Logger, Consumer&lt;String&gt;&gt; function;\n\n    public void log(Logger logger, String message) {\n        function.apply(logger).accept(message);\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>    LogLevel level = LogLevel.TRACE;\n    level.log(logger, \"message\");\n</code></pre>\n\n<p>Logger is passed during invocation, so the class info should be ok, and it works nicely with @Slf4j lombok annotation.</p>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558605916,"creation_date":1558430859,"answer_id":56235230,"question_id":2621701,"body_markdown":"It is **not** possible to specify a log level in sjf4j `1.x` out of the box. But there is hope for slf4j `2.0` to fix [the issue][1]. In 2.0 it might look like this:\r\n\r\n    // POTENTIAL 2.0 SOLUTION\r\n    import org.slf4j.helpers.Util;\r\n    import static org.slf4j.spi.LocationAwareLogger.*;\r\n\r\n    // does not work with slf4j 1.x\r\n    Util.log(logger, DEBUG_INT, &quot;hello world!&quot;);\r\n\r\n\r\nIn the meanwhile, for slf4j 1.x, you can use this workaround:\r\n\r\nCopy this class into your classpath:\r\n\r\n    import org.slf4j.Logger;\r\n    import java.util.function.Function;\r\n    \r\n    public enum LogLevel {\r\n    \r\n        TRACE(l -&gt; l::trace, Logger::isTraceEnabled),\r\n        DEBUG(l -&gt; l::debug, Logger::isDebugEnabled),\r\n        INFO(l -&gt; l::info, Logger::isInfoEnabled),\r\n        WARN(l -&gt; l::warn, Logger::isWarnEnabled),\r\n        ERROR(l -&gt; l::error, Logger::isErrorEnabled);\r\n    \r\n        interface LogMethod {\r\n            void log(String format, Object... arguments);\r\n        }\r\n    \r\n        private final Function&lt;Logger, LogMethod&gt; logMethod;\r\n        private final Function&lt;Logger, Boolean&gt; isEnabledMethod;\r\n    \r\n        LogLevel(Function&lt;Logger, LogMethod&gt; logMethod, Function&lt;Logger, Boolean&gt; isEnabledMethod) {\r\n            this.logMethod = logMethod;\r\n            this.isEnabledMethod = isEnabledMethod;\r\n        }\r\n    \r\n        public LogMethod prepare(Logger logger) {\r\n            return logMethod.apply(logger);\r\n        }\r\n    \r\n        public boolean isEnabled(Logger logger) {\r\n            return isEnabledMethod.apply(logger);\r\n        }\r\n    }\r\n\r\nThen you can use it like this:\r\n\r\n    Logger logger = LoggerFactory.getLogger(Application.class);\r\n\r\n    LogLevel level = LogLevel.ERROR;\r\n    level.prepare(logger).log(&quot;It works!&quot;); // just message, without parameter\r\n    level.prepare(logger).log(&quot;Hello {}!&quot;, &quot;world&quot;); // with slf4j&#39;s parameter replacing\r\n\r\n    try {\r\n        throw new RuntimeException(&quot;Oops&quot;);\r\n    } catch (Throwable t) {\r\n        level.prepare(logger).log(&quot;Exception&quot;, t);\r\n    }\r\n\r\n    if (level.isEnabled(logger)) {\r\n        level.prepare(logger).log(&quot;logging is enabled&quot;);\r\n    }\r\n\r\nThis will output a log like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [main] ERROR Application - It works!\r\n    [main] ERROR Application - Hello world!\r\n    [main] ERROR Application - Exception\r\n    java.lang.RuntimeException: Oops\r\n    \tat Application.main(Application.java:14)\r\n    [main] ERROR Application - logging is enabled\r\n\r\nIs it worth it?\r\n\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; It keeps the **source code location** (class names, method names, line numbers will point to *your* code)\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; You can easily define **variables**, parameters and return types as `LogLevel`\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; Your business code stays short and easy to read, and no additional **dependencies** required.\r\n\r\nThe source code as minimal example is hosted [on GitHub][2].\r\n\r\n\r\n  [1]: https://jira.qos.ch/browse/SLF4J-124\r\n  [2]: https://github.com/slartidan/slf4jloglevel/tree/master/src/main/java","title":"Setting log level of message at runtime in slf4j","body":"<p>It is <strong>not</strong> possible to specify a log level in sjf4j <code>1.x</code> out of the box. But there is hope for slf4j <code>2.0</code> to fix <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"noreferrer\">the issue</a>. In 2.0 it might look like this:</p>\n\n<pre><code>// POTENTIAL 2.0 SOLUTION\nimport org.slf4j.helpers.Util;\nimport static org.slf4j.spi.LocationAwareLogger.*;\n\n// does not work with slf4j 1.x\nUtil.log(logger, DEBUG_INT, \"hello world!\");\n</code></pre>\n\n<p>In the meanwhile, for slf4j 1.x, you can use this workaround:</p>\n\n<p>Copy this class into your classpath:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport java.util.function.Function;\n\npublic enum LogLevel {\n\n    TRACE(l -&gt; l::trace, Logger::isTraceEnabled),\n    DEBUG(l -&gt; l::debug, Logger::isDebugEnabled),\n    INFO(l -&gt; l::info, Logger::isInfoEnabled),\n    WARN(l -&gt; l::warn, Logger::isWarnEnabled),\n    ERROR(l -&gt; l::error, Logger::isErrorEnabled);\n\n    interface LogMethod {\n        void log(String format, Object... arguments);\n    }\n\n    private final Function&lt;Logger, LogMethod&gt; logMethod;\n    private final Function&lt;Logger, Boolean&gt; isEnabledMethod;\n\n    LogLevel(Function&lt;Logger, LogMethod&gt; logMethod, Function&lt;Logger, Boolean&gt; isEnabledMethod) {\n        this.logMethod = logMethod;\n        this.isEnabledMethod = isEnabledMethod;\n    }\n\n    public LogMethod prepare(Logger logger) {\n        return logMethod.apply(logger);\n    }\n\n    public boolean isEnabled(Logger logger) {\n        return isEnabledMethod.apply(logger);\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(Application.class);\n\nLogLevel level = LogLevel.ERROR;\nlevel.prepare(logger).log(\"It works!\"); // just message, without parameter\nlevel.prepare(logger).log(\"Hello {}!\", \"world\"); // with slf4j's parameter replacing\n\ntry {\n    throw new RuntimeException(\"Oops\");\n} catch (Throwable t) {\n    level.prepare(logger).log(\"Exception\", t);\n}\n\nif (level.isEnabled(logger)) {\n    level.prepare(logger).log(\"logging is enabled\");\n}\n</code></pre>\n\n<p>This will output a log like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[main] ERROR Application - It works!\n[main] ERROR Application - Hello world!\n[main] ERROR Application - Exception\njava.lang.RuntimeException: Oops\n    at Application.main(Application.java:14)\n[main] ERROR Application - logging is enabled\n</code></pre>\n\n<p>Is it worth it?</p>\n\n<ul>\n<li><kbd>Pro</kbd> It keeps the <strong>source code location</strong> (class names, method names, line numbers will point to <em>your</em> code)</li>\n<li><kbd>Pro</kbd> You can easily define <strong>variables</strong>, parameters and return types as <code>LogLevel</code></li>\n<li><kbd>Pro</kbd> Your business code stays short and easy to read, and no additional <strong>dependencies</strong> required.</li>\n</ul>\n\n<p>The source code as minimal example is hosted <a href=\"https://github.com/slartidan/slf4jloglevel/tree/master/src/main/java\" rel=\"noreferrer\">on GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":2596982,"reputation":33,"user_id":2250433,"display_name":"pablo127"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566117303,"creation_date":1566117303,"answer_id":57542934,"question_id":2621701,"body_markdown":"It is not possible with slf4j API to dynamically change log level but you can configure logback (if you use this) by your own. In that case create factory class for your logger and implement root logger with configuration that you need. \r\n\r\n\r\n    LoggerContext loggerContext = new LoggerContext();\r\n    ch.qos.logback.classic.Logger root = loggerContext.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\r\n    \r\n    // Configure appender\r\n    final TTLLLayout layout = new TTLLLayout();\r\n    layout.start(); // default layout of logging messages (the form that message displays \r\n    // e.g. 10:26:49.113 [main] INFO com.yourpackage.YourClazz - log message\r\n\r\n    final LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;&gt;();\r\n    encoder.setCharset(StandardCharsets.UTF_8);\r\n    encoder.setLayout(layout);\r\n    \r\n    final ConsoleAppender&lt;ILoggingEvent&gt; appender = new ConsoleAppender&lt;&gt;();\r\n    appender.setContext(loggerContext);\r\n    appender.setEncoder(encoder);\r\n    appender.setName(&quot;console&quot;);\r\n    appender.start();\r\n\r\n    root.addAppender(appender);\r\n\r\n\r\nAfter you configure root logger (only once is enough) you can delegate getting new logger by\r\n\r\n    final ch.qos.logback.classic.Logger logger = loggerContext.getLogger(clazz);\r\n\r\nRemember to use the same `loggerContext`.\r\n\r\nChanging log level is easy to do with root logger given from `loggerContext`.\r\n\r\n    root.setLevel(Level.DEBUG);\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>It is not possible with slf4j API to dynamically change log level but you can configure logback (if you use this) by your own. In that case create factory class for your logger and implement root logger with configuration that you need. </p>\n\n<pre><code>LoggerContext loggerContext = new LoggerContext();\nch.qos.logback.classic.Logger root = loggerContext.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\n\n// Configure appender\nfinal TTLLLayout layout = new TTLLLayout();\nlayout.start(); // default layout of logging messages (the form that message displays \n// e.g. 10:26:49.113 [main] INFO com.yourpackage.YourClazz - log message\n\nfinal LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;&gt;();\nencoder.setCharset(StandardCharsets.UTF_8);\nencoder.setLayout(layout);\n\nfinal ConsoleAppender&lt;ILoggingEvent&gt; appender = new ConsoleAppender&lt;&gt;();\nappender.setContext(loggerContext);\nappender.setEncoder(encoder);\nappender.setName(\"console\");\nappender.start();\n\nroot.addAppender(appender);\n</code></pre>\n\n<p>After you configure root logger (only once is enough) you can delegate getting new logger by</p>\n\n<pre><code>final ch.qos.logback.classic.Logger logger = loggerContext.getLogger(clazz);\n</code></pre>\n\n<p>Remember to use the same <code>loggerContext</code>.</p>\n\n<p>Changing log level is easy to do with root logger given from <code>loggerContext</code>.</p>\n\n<pre><code>root.setLevel(Level.DEBUG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10050309,"reputation":445,"user_id":7430325,"display_name":"Torino"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589454478,"creation_date":1589454478,"answer_id":61795855,"question_id":2621701,"body_markdown":"Confirm answer [Ondrej Skopek][1]\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    var rootLogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n    rootLogger.setLevel(Level.TRACE);\r\n\r\nYou will get result:\r\n\r\n&gt; 2020-05-14 14:01:16,644 TRACE [] [o.a.k.c.m.Metrics] Test worker\r\n&gt; Registered metric named MetricName [name=bufferpool-wait-time-total,\r\n&gt; group=producer-metrics, description=The total time an appender waits\r\n&gt; for space allocation., tags={client-id=producer-2}]\r\n\r\n  [1]: https://stackoverflow.com/a/14399850/7430325","title":"Setting log level of message at runtime in slf4j","body":"<p>Confirm answer <a href=\"https://stackoverflow.com/a/14399850/7430325\">Ondrej Skopek</a></p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport org.slf4j.LoggerFactory;\n\nvar rootLogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\nrootLogger.setLevel(Level.TRACE);\n</code></pre>\n\n<p>You will get result:</p>\n\n<blockquote>\n  <p>2020-05-14 14:01:16,644 TRACE [] [o.a.k.c.m.Metrics] Test worker\n  Registered metric named MetricName [name=bufferpool-wait-time-total,\n  group=producer-metrics, description=The total time an appender waits\n  for space allocation., tags={client-id=producer-2}]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669760838,"creation_date":1625000639,"answer_id":68185612,"question_id":2621701,"body_markdown":"The fluent API in SLF4J v2.0 introduces a new method, namely `Logger.atLevel(Level)` which an be used to accomplish the desired outcome.\r\n\r\nExample code:\r\n\r\n    public void logAMessageAtGivenLevel(Level aLevel, String aMessage) {\r\n      Logger logger = .. // some slf4j logger of choice\r\n      logger.atLevel(aLevel).log(aMessage);\r\n    }\r\n\r\nThe default implementation will return the singleton instance of `NOPLoggingEventBuilder` if the logger is disabled for the given `Level`. This implementation of the `LoggingEventBuilder` interface, as the name NOP indicates, does nothing, preserving nanosecond execution time for disabled log messages.\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>The fluent API in SLF4J v2.0 introduces a new method, namely <code>Logger.atLevel(Level)</code> which an be used to accomplish the desired outcome.</p>\n<p>Example code:</p>\n<pre><code>public void logAMessageAtGivenLevel(Level aLevel, String aMessage) {\n  Logger logger = .. // some slf4j logger of choice\n  logger.atLevel(aLevel).log(aMessage);\n}\n</code></pre>\n<p>The default implementation will return the singleton instance of <code>NOPLoggingEventBuilder</code> if the logger is disabled for the given <code>Level</code>. This implementation of the <code>LoggingEventBuilder</code> interface, as the name NOP indicates, does nothing, preserving nanosecond execution time for disabled log messages.</p>\n"}],"owner":{"account_id":38846,"reputation":29745,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178937,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"accepted_answer_id":2622044,"answer_count":18,"score":133,"last_activity_date":1669761436,"creation_date":1271072359,"question_id":2621701,"body_markdown":"When using log4j, the `Logger.log(Priority p, Object message)` method is available and can be used to log a message at a log level determined at runtime. We&#39;re using this fact and [this tip][1] to redirect stderr to a logger at a specific log level.\r\n\r\nslf4j doesn&#39;t have a generic `log()` method that I can find. Does that mean there&#39;s no way to implement the above?\r\n\r\n**Update:** As of SLF4J version 2.0, it is possible to use the `Logger.atLevel()` method. For example:\r\n\r\n    import org.slf4j.event.Level;\r\n    import org.slf4j.Logger;\r\n    ...\r\n    Logger logger = ... // some slf4j logger of choice\r\n    logger.atLevel(Level.Info).log(&quot;hello world&quot;);\r\n\r\n\r\n  [1]: http://www.mail-archive.com/log4j-user@logging.apache.org/msg05005.html\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>When using log4j, the <code>Logger.log(Priority p, Object message)</code> method is available and can be used to log a message at a log level determined at runtime. We're using this fact and <a href=\"http://www.mail-archive.com/log4j-user@logging.apache.org/msg05005.html\" rel=\"noreferrer\">this tip</a> to redirect stderr to a logger at a specific log level.</p>\n<p>slf4j doesn't have a generic <code>log()</code> method that I can find. Does that mean there's no way to implement the above?</p>\n<p><strong>Update:</strong> As of SLF4J version 2.0, it is possible to use the <code>Logger.atLevel()</code> method. For example:</p>\n<pre><code>import org.slf4j.event.Level;\nimport org.slf4j.Logger;\n...\nLogger logger = ... // some slf4j logger of choice\nlogger.atLevel(Level.Info).log(&quot;hello world&quot;);\n</code></pre>\n"},{"tags":["java","regex","date","parsing"],"comments":[{"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":6,"creation_date":1264620555,"post_id":2149680,"comment_id":2092153,"body_markdown":"Do you want to allow any year, and also invalid numbers for months and days? 9999-99-99 for example? What about invalid dates like 2009-02-29?","body":"Do you want to allow any year, and also invalid numbers for months and days? 9999-99-99 for example? What about invalid dates like 2009-02-29?"},{"owner":{"account_id":5267,"reputation":12414,"user_id":8384,"accept_rate":62,"display_name":"McKay"},"score":0,"creation_date":1376569168,"post_id":2149680,"comment_id":26764850,"body_markdown":"Related question, Regex only: http://stackoverflow.com/q/8647893/8384","body":"Related question, Regex only: <a href=\"http://stackoverflow.com/q/8647893/8384\">stackoverflow.com/q/8647893/8384</a>"}],"answers":[{"tags":[],"owner":{"account_id":42267,"reputation":135899,"user_id":123109,"accept_rate":55,"display_name":"Greg Bacon"},"down_vote_count":4,"up_vote_count":118,"is_accepted":true,"score":114,"last_activity_date":1662221733,"creation_date":1264620464,"answer_id":2149692,"question_id":2149680,"body_markdown":"Use the following regular expression:\r\n\r\n    ^\\d{4}-\\d{2}-\\d{2}$\r\n\r\nas in\r\n\r\n    if (str.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;)) {\r\n        ...\r\n    }\r\n\r\nWith the `matches` method, the anchors `^` and `$` (beginning and end of string, respectively) are present implicitly.\r\n\r\nThe pattern above checks conformance with the general “shape” of a date, but it will accept more invalid than valid dates. You may be surprised to learn that checking for valid dates — including leap years! — is *possible* using a regular expression, but not advisable. Borrowing from [an answer elsewhere by Kuldeep][0], we can all find amusement and admiration for persistence in\r\n\r\n    ((18|19|20)[0-9]{2}[\\-.](0[13578]|1[02])[\\-.](0[1-9]|[12][0-9]|3[01]))|(18|19|20)[0-9]{2}[\\-.](0[469]|11)[\\-.](0[1-9]|[12][0-9]|30)|(18|19|20)[0-9]{2}[\\-.](02)[\\-.](0[1-9]|1[0-9]|2[0-8])|(((18|19|20)(04|08|[2468][048]|[13579][26]))|2000)[\\-.](02)[\\-.]29\r\n\r\nIn a production context, your colleagues will appreciate a more straightforward implementation. Remember, the first rule of optimization is Don’t!\r\n\r\n[0]: https://stackoverflow.com/a/38059380/123109","title":"Regex date format validation on Java","body":"<p>Use the following regular expression:</p>\n<pre><code>^\\d{4}-\\d{2}-\\d{2}$\n</code></pre>\n<p>as in</p>\n<pre><code>if (str.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;)) {\n    ...\n}\n</code></pre>\n<p>With the <code>matches</code> method, the anchors <code>^</code> and <code>$</code> (beginning and end of string, respectively) are present implicitly.</p>\n<p>The pattern above checks conformance with the general “shape” of a date, but it will accept more invalid than valid dates. You may be surprised to learn that checking for valid dates — including leap years! — is <em>possible</em> using a regular expression, but not advisable. Borrowing from <a href=\"https://stackoverflow.com/a/38059380/123109\">an answer elsewhere by Kuldeep</a>, we can all find amusement and admiration for persistence in</p>\n<pre><code>((18|19|20)[0-9]{2}[\\-.](0[13578]|1[02])[\\-.](0[1-9]|[12][0-9]|3[01]))|(18|19|20)[0-9]{2}[\\-.](0[469]|11)[\\-.](0[1-9]|[12][0-9]|30)|(18|19|20)[0-9]{2}[\\-.](02)[\\-.](0[1-9]|1[0-9]|2[0-8])|(((18|19|20)(04|08|[2468][048]|[13579][26]))|2000)[\\-.](02)[\\-.]29\n</code></pre>\n<p>In a production context, your colleagues will appreciate a more straightforward implementation. Remember, the first rule of optimization is Don’t!</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1453649219,"creation_date":1264620518,"answer_id":2149698,"question_id":2149680,"body_markdown":"You need more than a `regex`, for example &quot;9999-99-00&quot; isn&#39;t a valid date. There&#39;s a `SimpleDateFormat` class that&#39;s built to do this. More heavyweight, but more comprehensive.\r\n\r\ne.g. \r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        \r\n    boolean isValidDate(string input) {\r\n         try {\r\n              format.parse(input);\r\n              return true;\r\n         }\r\n         catch(ParseException e){\r\n              return false;\r\n         }\r\n    }\r\n\r\nUnfortunately, `SimpleDateFormat` is both heavyweight and not thread-safe. ","title":"Regex date format validation on Java","body":"<p>You need more than a <code>regex</code>, for example \"9999-99-00\" isn't a valid date. There's a <code>SimpleDateFormat</code> class that's built to do this. More heavyweight, but more comprehensive.</p>\n\n<p>e.g. </p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nboolean isValidDate(string input) {\n     try {\n          format.parse(input);\n          return true;\n     }\n     catch(ParseException e){\n          return false;\n     }\n}\n</code></pre>\n\n<p>Unfortunately, <code>SimpleDateFormat</code> is both heavyweight and not thread-safe. </p>\n"},{"tags":[],"owner":{"account_id":93306,"reputation":556,"user_id":255337,"display_name":"Keilly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264620586,"creation_date":1264620586,"answer_id":2149704,"question_id":2149680,"body_markdown":"Construct a SimpleDateFormat with the mask, and then call:\r\nSimpleDateFormat.parse(String s, ParsePosition p)\r\n","title":"Regex date format validation on Java","body":"<p>Construct a SimpleDateFormat with the mask, and then call:\nSimpleDateFormat.parse(String s, ParsePosition p)</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264628323,"creation_date":1264628323,"answer_id":2150441,"question_id":2149680,"body_markdown":"For fine control, consider an [InputVerifier](http://java.sun.com/javase/6/docs/api/javax/swing/InputVerifier.html) using the `SimpleDateFormat(&quot;YYYY-MM-dd&quot;)` suggested by Steve B.","title":"Regex date format validation on Java","body":"<p>For fine control, consider an <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/InputVerifier.html\" rel=\"nofollow noreferrer\">InputVerifier</a> using the <code>SimpleDateFormat(\"YYYY-MM-dd\")</code> suggested by Steve B.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1264703514,"creation_date":1264637021,"answer_id":2151338,"question_id":2149680,"body_markdown":"Putting it all together:  \r\n\r\n* `REGEX` doesn&#39;t validate values (like &quot;2010-19-19&quot;)  \r\n* `SimpleDateFormat` does not check format (&quot;2010-1-2&quot;, &quot;1-0002-003&quot; are accepted)  \r\n\r\nit&#39;s necessary to use both to validate format and value:  \r\n\r\n    public static boolean isValid(String text) {\r\n        if (text == null || !text.matches(&quot;\\\\d{4}-[01]\\\\d-[0-3]\\\\d&quot;))\r\n            return false;\r\n        SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        df.setLenient(false);\r\n        try {\r\n            df.parse(text);\r\n            return true;\r\n        } catch (ParseException ex) {\r\n            return false;\r\n        }\r\n    }\r\n&lt;br/&gt; \r\n&lt;hr/&gt;\r\nA ThreadLocal can be used to avoid the creation of a new SimpleDateFormat for each call.  \r\nIt is needed in a multithread context since the SimpleDateFormat is not thread safe:\r\n\r\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; format = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n        @Override\r\n        protected SimpleDateFormat initialValue() {\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            df.setLenient(false);\r\n            System.out.println(&quot;created&quot;);\r\n            return df;\r\n        }\r\n    };\r\n    \r\n    public static boolean isValid(String text) {\r\n        if (text == null || !text.matches(&quot;\\\\d{4}-[01]\\\\d-[0-3]\\\\d&quot;))\r\n            return false;\r\n        try {\r\n            format.get().parse(text);\r\n            return true;\r\n        } catch (ParseException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n(same can be done for a Matcher, that also is not thread safe)","title":"Regex date format validation on Java","body":"<p>Putting it all together:  </p>\n\n<ul>\n<li><code>REGEX</code> doesn't validate values (like \"2010-19-19\")  </li>\n<li><code>SimpleDateFormat</code> does not check format (\"2010-1-2\", \"1-0002-003\" are accepted)  </li>\n</ul>\n\n<p>it's necessary to use both to validate format and value:  </p>\n\n<pre><code>public static boolean isValid(String text) {\n    if (text == null || !text.matches(\"\\\\d{4}-[01]\\\\d-[0-3]\\\\d\"))\n        return false;\n    SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n    df.setLenient(false);\n    try {\n        df.parse(text);\n        return true;\n    } catch (ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p><br/> \n<hr/>\nA ThreadLocal can be used to avoid the creation of a new SimpleDateFormat for each call.<br>\nIt is needed in a multithread context since the SimpleDateFormat is not thread safe:</p>\n\n<pre><code>private static final ThreadLocal&lt;SimpleDateFormat&gt; format = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n        df.setLenient(false);\n        System.out.println(\"created\");\n        return df;\n    }\n};\n\npublic static boolean isValid(String text) {\n    if (text == null || !text.matches(\"\\\\d{4}-[01]\\\\d-[0-3]\\\\d\"))\n        return false;\n    try {\n        format.get().parse(text);\n        return true;\n    } catch (ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>(same can be done for a Matcher, that also is not thread safe)</p>\n"},{"tags":[],"owner":{"account_id":716295,"reputation":161,"user_id":641969,"display_name":"CKuharski"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324634056,"creation_date":1299100494,"answer_id":5173576,"question_id":2149680,"body_markdown":"This will do it regex: `&quot;^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$&quot;`\r\nThis will take care of valid formats and valid dates.  It will not validate the correct days of the month i.e. leap year.\r\n\r\n\r\n\r\n    String regex = &quot;^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$&quot;;\r\n    \r\n    Assert.assertTrue(&quot;Date: matched.&quot;, Pattern.matches(regex, &quot;2011-1-1&quot;));\r\n    Assert.assertFalse(&quot;Date (month): not matched.&quot;, Pattern.matches(regex, &quot;2011-13-1&quot;));\r\n\r\n\r\nGood luck!","title":"Regex date format validation on Java","body":"<p>This will do it regex: <code>\"^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$\"</code>\nThis will take care of valid formats and valid dates.  It will not validate the correct days of the month i.e. leap year.</p>\n\n<pre><code>String regex = \"^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$\";\n\nAssert.assertTrue(\"Date: matched.\", Pattern.matches(regex, \"2011-1-1\"));\nAssert.assertFalse(\"Date (month): not matched.\", Pattern.matches(regex, \"2011-13-1\"));\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1376568420,"creation_date":1376567378,"answer_id":18252071,"question_id":2149680,"body_markdown":"I would go with a simple regex which will check that days doesn&#39;t have more than 31 days and months no more than 12. Something like:  \r\n\r\n    (0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\r\n\r\nThis is the format &quot;dd-MM-yyyy&quot;. You can tweak it to your needs (for example take off the ? to make the leading 0 required - now its optional), and then use a custom logic to cut down to the specific rules like leap years February number of days case, and other months number of days cases. See the DateChecker code below.  \r\n\r\nI am choosing this approach since I tested that this is the best one when performance is taken into account. I checked this (1st) approach versus 2nd approach of validating a date against a regex that takes care of the other use cases, and 3rd approach of using the same simple regex above in combination with SimpleDateFormat.parse(date).  \r\n**The 1st approach was 4 times faster than the 2nd approach, and 8 times faster than the 3rd approach.** See the self contained date checker and performance tester main class at the bottom.\r\nOne thing that I left unchecked is the joda time approach(s). (The more efficient date/time library).\r\n\r\nDate checker code:\r\n\r\n\tclass DateChecker {\r\n\r\n\t\tprivate Matcher matcher;\r\n\t\tprivate Pattern pattern;\r\n\r\n\t\tpublic DateChecker(String regex) {\r\n\t\t\tpattern = Pattern.compile(regex);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Checks if the date format is a valid.\r\n\t\t * Uses the regex pattern to match the date first. \r\n\t\t * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\r\n\t\t * \r\n\t\t * @param date the date that needs to be checked.\r\n\t\t * @return if the date is of an valid format or not.\r\n\t\t */\r\n\t\tpublic boolean check(final String date) {\r\n\t\t\tmatcher = pattern.matcher(date);\r\n\t\t\tif (matcher.matches()) {\r\n\t\t\t\tmatcher.reset();\r\n\t\t\t\tif (matcher.find()) {\r\n\t\t\t\t\tint day = Integer.parseInt(matcher.group(1));\r\n\t\t\t\t\tint month = Integer.parseInt(matcher.group(2));\r\n\t\t\t\t\tint year = Integer.parseInt(matcher.group(3));\r\n\r\n\t\t\t\t\tswitch (month) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\tcase 10:\r\n\t\t\t\t\tcase 12: return day &lt; 32;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\tcase 11: return day &lt; 31;\r\n\t\t\t\t\tcase 2: \r\n\t\t\t\t\t\tint modulo100 = year % 100;\r\n\t\t\t\t\t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n\t\t\t\t\t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n\t\t\t\t\t\t\t//its a leap year\r\n\t\t\t\t\t\t\treturn day &lt; 30;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn day &lt; 29;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getRegex() {\r\n\t\t\treturn pattern.pattern();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nDate checking/testing and performance testing:  \r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Tester {\r\n    \r\n    \tprivate static final String[] validDateStrings = new String[]{\r\n    \t\t&quot;1-1-2000&quot;, //leading 0s for day and month optional\r\n    \t\t&quot;01-1-2000&quot;, //leading 0 for month only optional\r\n    \t\t&quot;1-01-2000&quot;, //leading 0 for day only optional\r\n    \t\t&quot;01-01-1800&quot;, //first accepted date\r\n    \t\t&quot;31-12-2199&quot;, //last accepted date\r\n    \t\t&quot;31-01-2000&quot;, //January has 31 days\r\n    \t\t&quot;31-03-2000&quot;, //March has 31 days\r\n    \t\t&quot;31-05-2000&quot;, //May has 31 days\r\n    \t\t&quot;31-07-2000&quot;, //July has 31 days\r\n    \t\t&quot;31-08-2000&quot;, //August has 31 days\r\n    \t\t&quot;31-10-2000&quot;, //October has 31 days\r\n    \t\t&quot;31-12-2000&quot;, //December has 31 days\r\n    \t\t&quot;30-04-2000&quot;, //April has 30 days\r\n    \t\t&quot;30-06-2000&quot;, //June has 30 days\r\n    \t\t&quot;30-09-2000&quot;, //September has 30 days\r\n    \t\t&quot;30-11-2000&quot;, //November has 30 days\r\n    \t};\r\n    \tprivate static final String[] invalidDateStrings = new String[]{\r\n    \t\t&quot;00-01-2000&quot;, //there is no 0-th day\r\n    \t\t&quot;01-00-2000&quot;, //there is no 0-th month\r\n    \t\t&quot;31-12-1799&quot;, //out of lower boundary date\r\n    \t\t&quot;01-01-2200&quot;, //out of high boundary date\r\n    \t\t&quot;32-01-2000&quot;, //January doesn&#39;t have 32 days\r\n    \t\t&quot;32-03-2000&quot;, //March doesn&#39;t have 32 days\r\n    \t\t&quot;32-05-2000&quot;, //May doesn&#39;t have 32 days\r\n    \t\t&quot;32-07-2000&quot;, //July doesn&#39;t have 32 days\r\n    \t\t&quot;32-08-2000&quot;, //August doesn&#39;t have 32 days\r\n    \t\t&quot;32-10-2000&quot;, //October doesn&#39;t have 32 days\r\n    \t\t&quot;32-12-2000&quot;, //December doesn&#39;t have 32 days\r\n    \t\t&quot;31-04-2000&quot;, //April doesn&#39;t have 31 days\r\n    \t\t&quot;31-06-2000&quot;, //June doesn&#39;t have 31 days\r\n    \t\t&quot;31-09-2000&quot;, //September doesn&#39;t have 31 days\r\n    \t\t&quot;31-11-2000&quot;, //November doesn&#39;t have 31 days\r\n    \t\t&quot;001-02-2000&quot;, //SimpleDateFormat valid date (day with leading 0s) even with lenient set to false\r\n    \t\t&quot;1-0002-2000&quot;, //SimpleDateFormat valid date (month with leading 0s) even with lenient set to false\r\n    \t\t&quot;01-02-0003&quot;, //SimpleDateFormat valid date (year with leading 0s) even with lenient set to false\r\n    \t\t&quot;01.01-2000&quot;, //. invalid separator between day and month\r\n    \t\t&quot;01-01.2000&quot;, //. invalid separator between month and year\r\n    \t\t&quot;01/01-2000&quot;, /// invalid separator between day and month\r\n    \t\t&quot;01-01/2000&quot;, /// invalid separator between month and year\r\n    \t\t&quot;01_01-2000&quot;, //_ invalid separator between day and month\r\n    \t\t&quot;01-01_2000&quot;, //_ invalid separator between month and year\r\n    \t\t&quot;01-01-2000-12345&quot;, //only whole string should be matched\r\n    \t\t&quot;01-13-2000&quot;, //month bigger than 13\r\n    \t};\r\n    \t\r\n    \t/**\r\n    \t * These constants will be used to generate the valid and invalid boundary dates for the leap years. (For no leap year, Feb. 28 valid and Feb. 29 invalid; for a leap year Feb. 29 valid and Feb. 30 invalid)   \r\n    \t */\r\n    \tprivate static final int LEAP_STEP = 4;\r\n    \tprivate static final int YEAR_START = 1800;\r\n    \tprivate static final int YEAR_END = 2199;\r\n    \t\r\n    \t/**\r\n    \t * This date regex will find matches for valid dates between 1800 and 2199 in the format of &quot;dd-MM-yyyy&quot;.\r\n    \t * The leading 0 is optional.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX = &quot;((0?[1-9]|[12][0-9]|3[01])-(0?[13578]|1[02])-(18|19|20|21)[0-9]{2})|((0?[1-9]|[12][0-9]|30)-(0?[469]|11)-(18|19|20|21)[0-9]{2})|((0?[1-9]|1[0-9]|2[0-8])-(0?2)-(18|19|20|21)[0-9]{2})|(29-(0?2)-(((18|19|20|21)(04|08|[2468][048]|[13579][26]))|2000))&quot;;\r\n    \t\r\n    \t/**\r\n    \t * This date regex is similar to the first one, but with the difference of matching only the whole string. So &quot;01-01-2000-12345&quot; won&#39;t pass with a match.\r\n    \t * Keep in mind that String.matches tries to match only the whole string.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_ONLY_WHOLE_STRING = &quot;^&quot; + DATE_REGEX + &quot;$&quot;;\r\n    \t\r\n    \t/**\r\n    \t * The simple regex (without checking for 31 day months and leap years):\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_SIMPLE = &quot;(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)&quot;;\r\n    \t\r\n    \t/**\r\n    \t * This date regex is similar to the first one, but with the difference of matching only the whole string. So &quot;01-01-2000-12345&quot; won&#39;t pass with a match.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING = &quot;^&quot; + DATE_REGEX_SIMPLE + &quot;$&quot;;\r\n    \t\r\n    \tprivate static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \tstatic {\r\n    \t\tSDF.setLenient(false);\r\n    \t}\r\n    \t\r\n    \tprivate static final DateChecker dateValidatorSimple = new DateChecker(DATE_REGEX_SIMPLE);\r\n    \tprivate static final DateChecker dateValidatorSimpleOnlyWholeString = new DateChecker(DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\r\n    \t\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeStatistics dateTimeStatistics = new DateTimeStatistics();\r\n    \t\tboolean shouldMatch = true;\r\n    \t\tfor (int i = 0; i &lt; validDateStrings.length; i++) {\r\n    \t\t\tString validDate = validDateStrings[i];\r\n    \t\t\tmatchAssertAndPopulateTimes(\r\n    \t\t\t\t\tdateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, validDate);\r\n    \t\t}\r\n    \r\n    \t\tshouldMatch = false;\r\n    \t\tfor (int i = 0; i &lt; invalidDateStrings.length; i++) {\r\n    \t\t\tString invalidDate = invalidDateStrings[i];\r\n    \t\t\t\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, invalidDate);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int year = YEAR_START; year &lt; (YEAR_END + 1); year++) {\r\n    \t\t\tFebruaryBoundaryDates februaryBoundaryDates = createValidAndInvalidFebruaryBoundaryDateStringsFromYear(year);\r\n    \t\t\tshouldMatch = true;\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, februaryBoundaryDates.getValidFebruaryBoundaryDateString());\r\n    \t\t\tshouldMatch = false;\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, februaryBoundaryDates.getInvalidFebruaryBoundaryDateString());\r\n    \t\t}\r\n    \t\t\r\n    \t\tdateTimeStatistics.calculateAvarageTimesAndPrint();\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAssertAndPopulateTimes(\r\n    \t\t\tDateTimeStatistics dateTimeStatistics,\r\n    \t\t\tboolean shouldMatch, String date) {\r\n    \t\tdateTimeStatistics.addDate(date);\r\n    \t\tmatchAndPopulateTimeToMatch(date, DATE_REGEX, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegex());\r\n    \t\tmatchAndPopulateTimeToMatch(date, DATE_REGEX_ONLY_WHOLE_STRING, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegexOnlyWholeString());\r\n    \t\tboolean matchesSimpleDateFormat = matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(date, dateTimeStatistics.getTimesTakenWithSimpleDateFormatParse());\r\n    \t\tmatchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\t\tdateTimeStatistics.getTimesTakenWithDateRegexSimple(), shouldMatch,\r\n    \t\t\t\tdate, matchesSimpleDateFormat, DATE_REGEX_SIMPLE);\r\n    \t\tmatchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\t\tdateTimeStatistics.getTimesTakenWithDateRegexSimpleOnlyWholeString(), shouldMatch,\r\n    \t\t\t\tdate, matchesSimpleDateFormat, DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\r\n    \t\t\r\n    \t\tmatchAndPopulateTimeToMatch(date, dateValidatorSimple, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimple());\r\n    \t\tmatchAndPopulateTimeToMatch(date, dateValidatorSimpleOnlyWholeString, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimpleOnlyWholeString());\r\n    \t}\r\n    \r\n    \tprivate static void matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\tList&lt;Long&gt; times,\r\n    \t\t\tboolean shouldMatch, String date, boolean matchesSimpleDateFormat, String regex) {\r\n    \t\tboolean matchesFromRegex = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\r\n    \t\tassert !((matchesSimpleDateFormat &amp;&amp; matchesFromRegex) ^ shouldMatch) : &quot;Parsing with SimpleDateFormat and date:&quot; + date + &quot;\\nregex:&quot; + regex + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAndPopulateTimeToMatch(String date, String regex, boolean shouldMatch, List&lt;Long&gt; times) {\r\n    \t\tboolean matches = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\r\n    \t\tassert !(matches ^ shouldMatch) : &quot;date:&quot; + date + &quot;\\nregex:&quot; + regex + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAndPopulateTimeToMatch(String date, DateChecker dateValidator, boolean shouldMatch, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\tmatches = dateValidator.check(date);\r\n    \t\ttimestampEnd = System.nanoTime();\r\n    \t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\tassert !(matches ^ shouldMatch) : &quot;date:&quot; + date + &quot;\\ndateValidator with regex:&quot; + dateValidator.getRegex() + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static boolean matchAndPopulateTimeToMatchAndReturnMatches(String date, String regex, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\tmatches = date.matches(regex);\r\n    \t\ttimestampEnd = System.nanoTime();\r\n    \t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\treturn matches;\r\n    \t}\r\n    \t\r\n    \tprivate static boolean matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(String date, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches = true;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\ttry {\r\n    \t\t\tSDF.parse(date);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tmatches = false;\r\n    \t\t} finally {\r\n    \t\t\ttimestampEnd = System.nanoTime();\r\n    \t\t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\t}\r\n    \t\treturn matches;\r\n    \t}\r\n    \t\r\n    \tprivate static FebruaryBoundaryDates createValidAndInvalidFebruaryBoundaryDateStringsFromYear(int year) {\r\n    \t\tFebruaryBoundaryDates februaryBoundaryDates;\r\n    \t\tint modulo100 = year % 100;\r\n    \t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n    \t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n    \t\t\tfebruaryBoundaryDates = new FebruaryBoundaryDates(\r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(29, year), \r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(30, year)\r\n    \t\t\t\t\t);\r\n    \t\t} else {\r\n    \t\t\tfebruaryBoundaryDates = new FebruaryBoundaryDates(\r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(28, year), \r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(29, year)\r\n    \t\t\t\t\t);\r\n    \t\t}\r\n    \t\treturn februaryBoundaryDates;\r\n    \t}\r\n    \t\r\n    \tprivate static String createFebruaryDateFromDayAndYear(int day, int year) {\r\n    \t\treturn String.format(&quot;%d-02-%d&quot;, day, year);\r\n    \t}\r\n    \r\n    \tstatic class FebruaryBoundaryDates {\r\n    \t\tprivate String validFebruaryBoundaryDateString;\r\n    \t\tString invalidFebruaryBoundaryDateString;\r\n    \t\tpublic FebruaryBoundaryDates(String validFebruaryBoundaryDateString,\r\n    \t\t\t\tString invalidFebruaryBoundaryDateString) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\r\n    \t\t\tthis.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic String getValidFebruaryBoundaryDateString() {\r\n    \t\t\treturn validFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic void setValidFebruaryBoundaryDateString(\r\n    \t\t\t\tString validFebruaryBoundaryDateString) {\r\n    \t\t\tthis.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic String getInvalidFebruaryBoundaryDateString() {\r\n    \t\t\treturn invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic void setInvalidFebruaryBoundaryDateString(\r\n    \t\t\t\tString invalidFebruaryBoundaryDateString) {\r\n    \t\t\tthis.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic class DateTimeStatistics {\r\n    \t\tprivate List&lt;String&gt; dates = new ArrayList&lt;String&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegex = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexSimple = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithSimpleDateFormatParse = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithdateValidatorSimple = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithdateValidatorSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tpublic List&lt;String&gt; getDates() {\r\n    \t\t\treturn dates;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegex() {\r\n    \t\t\treturn timesTakenWithDateRegex;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithDateRegexOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexSimple() {\r\n    \t\t\treturn timesTakenWithDateRegexSimple;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexSimpleOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithDateRegexSimpleOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithSimpleDateFormatParse() {\r\n    \t\t\treturn timesTakenWithSimpleDateFormatParse;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithdateValidatorSimple() {\r\n    \t\t\treturn timesTakenWithdateValidatorSimple;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithdateValidatorSimpleOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithdateValidatorSimpleOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic void addDate(String date) {\r\n    \t\t\tdates.add(date);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegex(long time) {\r\n    \t\t\ttimesTakenWithDateRegex.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithDateRegexOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexSimple(long time) {\r\n    \t\t\ttimesTakenWithDateRegexSimple.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexSimpleOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithDateRegexSimpleOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithSimpleDateFormatParse(long time) {\r\n    \t\t\ttimesTakenWithSimpleDateFormatParse.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithdateValidatorSimple(long time) {\r\n    \t\t\ttimesTakenWithdateValidatorSimple.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithdateValidatorSimpleOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithdateValidatorSimpleOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void calculateAvarageTimesAndPrint() {\r\n    \t\t\tlong[] sumOfTimes = new long[7];\r\n    \t\t\tint timesSize = timesTakenWithDateRegex.size();\r\n    \t\t\tfor (int i = 0; i &lt; timesSize; i++) {\r\n    \t\t\t\tsumOfTimes[0] += timesTakenWithDateRegex.get(i);\r\n    \t\t\t\tsumOfTimes[1] += timesTakenWithDateRegexOnlyWholeString.get(i);\r\n    \t\t\t\tsumOfTimes[2] += timesTakenWithDateRegexSimple.get(i);\r\n    \t\t\t\tsumOfTimes[3] += timesTakenWithDateRegexSimpleOnlyWholeString.get(i);\r\n    \t\t\t\tsumOfTimes[4] += timesTakenWithSimpleDateFormatParse.get(i);\r\n    \t\t\t\tsumOfTimes[5] += timesTakenWithdateValidatorSimple.get(i);\r\n    \t\t\t\tsumOfTimes[6] += timesTakenWithdateValidatorSimpleOnlyWholeString.get(i);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegex (in nanoseconds):&quot; + (double) sumOfTimes[0] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[1] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimple (in nanoseconds):&quot; + (double) sumOfTimes[2] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimpleOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[3] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) sumOfTimes[4] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimple + timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) (sumOfTimes[2] + sumOfTimes[4]) / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimpleOnlyWholeString + timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) (sumOfTimes[3] + sumOfTimes[4]) / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithdateValidatorSimple (in nanoseconds):&quot; + (double) sumOfTimes[5] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithdateValidatorSimpleOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[6] / timesSize);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic class DateChecker {\r\n    \r\n    \t\tprivate Matcher matcher;\r\n    \t\tprivate Pattern pattern;\r\n    \r\n    \t\tpublic DateChecker(String regex) {\r\n    \t\t\tpattern = Pattern.compile(regex);\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Checks if the date format is a valid.\r\n    \t\t * Uses the regex pattern to match the date first. \r\n    \t\t * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\r\n    \t\t * \r\n    \t\t * @param date the date that needs to be checked.\r\n    \t\t * @return if the date is of an valid format or not.\r\n    \t\t */\r\n    \t\tpublic boolean check(final String date) {\r\n    \t\t\tmatcher = pattern.matcher(date);\r\n    \t\t\tif (matcher.matches()) {\r\n    \t\t\t\tmatcher.reset();\r\n    \t\t\t\tif (matcher.find()) {\r\n    \t\t\t\t\tint day = Integer.parseInt(matcher.group(1));\r\n    \t\t\t\t\tint month = Integer.parseInt(matcher.group(2));\r\n    \t\t\t\t\tint year = Integer.parseInt(matcher.group(3));\r\n    \r\n    \t\t\t\t\tswitch (month) {\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\tcase 7:\r\n    \t\t\t\t\tcase 8:\r\n    \t\t\t\t\tcase 10:\r\n    \t\t\t\t\tcase 12: return day &lt; 32;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\tcase 6:\r\n    \t\t\t\t\tcase 9:\r\n    \t\t\t\t\tcase 11: return day &lt; 31;\r\n    \t\t\t\t\tcase 2: \r\n    \t\t\t\t\t\tint modulo100 = year % 100;\r\n    \t\t\t\t\t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n    \t\t\t\t\t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n    \t\t\t\t\t\t\t//its a leap year\r\n    \t\t\t\t\t\t\treturn day &lt; 30;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\treturn day &lt; 29;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic String getRegex() {\r\n    \t\t\treturn pattern.pattern();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSome useful notes:  \r\n- to enable the assertions (assert checks) you need to use -ea argument when running the tester. (In eclipse this is done by editing the Run/Debug configuration -&gt; Arguments tab -&gt; VM Arguments -&gt; insert &quot;-ea&quot;  \r\n- the regex above is bounded to years 1800 to 2199  \r\n- you don&#39;t need to use ^ at the beginning and $ at the end to match only the whole date string. The String.matches takes care of that.  \r\n- make sure u check the valid and invalid cases and change them according the rules that you have.  \r\n- the &quot;only whole string&quot; version of each regex gives the same speed as the &quot;normal&quot; version (the one without ^ and $). If you see performance differences this is because java &quot;gets used&quot; to processing the same instructions so the time lowers. If you switch the lines where the &quot;normal&quot; and the &quot;only whole string&quot; version execute, you will see this proven.  \r\n\r\nHope this helps someone!  \r\nCheers,  \r\nDespot","title":"Regex date format validation on Java","body":"<p>I would go with a simple regex which will check that days doesn't have more than 31 days and months no more than 12. Something like:  </p>\n\n<pre><code>(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\n</code></pre>\n\n<p>This is the format \"dd-MM-yyyy\". You can tweak it to your needs (for example take off the ? to make the leading 0 required - now its optional), and then use a custom logic to cut down to the specific rules like leap years February number of days case, and other months number of days cases. See the DateChecker code below.  </p>\n\n<p>I am choosing this approach since I tested that this is the best one when performance is taken into account. I checked this (1st) approach versus 2nd approach of validating a date against a regex that takes care of the other use cases, and 3rd approach of using the same simple regex above in combination with SimpleDateFormat.parse(date).<br>\n<strong>The 1st approach was 4 times faster than the 2nd approach, and 8 times faster than the 3rd approach.</strong> See the self contained date checker and performance tester main class at the bottom.\nOne thing that I left unchecked is the joda time approach(s). (The more efficient date/time library).</p>\n\n<p>Date checker code:</p>\n\n<pre><code>class DateChecker {\n\n    private Matcher matcher;\n    private Pattern pattern;\n\n    public DateChecker(String regex) {\n        pattern = Pattern.compile(regex);\n    }\n\n    /**\n     * Checks if the date format is a valid.\n     * Uses the regex pattern to match the date first. \n     * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\n     * \n     * @param date the date that needs to be checked.\n     * @return if the date is of an valid format or not.\n     */\n    public boolean check(final String date) {\n        matcher = pattern.matcher(date);\n        if (matcher.matches()) {\n            matcher.reset();\n            if (matcher.find()) {\n                int day = Integer.parseInt(matcher.group(1));\n                int month = Integer.parseInt(matcher.group(2));\n                int year = Integer.parseInt(matcher.group(3));\n\n                switch (month) {\n                case 1:\n                case 3:\n                case 5:\n                case 7:\n                case 8:\n                case 10:\n                case 12: return day &lt; 32;\n                case 4:\n                case 6:\n                case 9:\n                case 11: return day &lt; 31;\n                case 2: \n                    int modulo100 = year % 100;\n                    //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n                    if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n                        //its a leap year\n                        return day &lt; 30;\n                    } else {\n                        return day &lt; 29;\n                    }\n                default:\n                    break;\n                }\n            }\n        }\n        return false;\n    }\n\n    public String getRegex() {\n        return pattern.pattern();\n    }\n}\n</code></pre>\n\n<p>Date checking/testing and performance testing:  </p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Tester {\n\n    private static final String[] validDateStrings = new String[]{\n        \"1-1-2000\", //leading 0s for day and month optional\n        \"01-1-2000\", //leading 0 for month only optional\n        \"1-01-2000\", //leading 0 for day only optional\n        \"01-01-1800\", //first accepted date\n        \"31-12-2199\", //last accepted date\n        \"31-01-2000\", //January has 31 days\n        \"31-03-2000\", //March has 31 days\n        \"31-05-2000\", //May has 31 days\n        \"31-07-2000\", //July has 31 days\n        \"31-08-2000\", //August has 31 days\n        \"31-10-2000\", //October has 31 days\n        \"31-12-2000\", //December has 31 days\n        \"30-04-2000\", //April has 30 days\n        \"30-06-2000\", //June has 30 days\n        \"30-09-2000\", //September has 30 days\n        \"30-11-2000\", //November has 30 days\n    };\n    private static final String[] invalidDateStrings = new String[]{\n        \"00-01-2000\", //there is no 0-th day\n        \"01-00-2000\", //there is no 0-th month\n        \"31-12-1799\", //out of lower boundary date\n        \"01-01-2200\", //out of high boundary date\n        \"32-01-2000\", //January doesn't have 32 days\n        \"32-03-2000\", //March doesn't have 32 days\n        \"32-05-2000\", //May doesn't have 32 days\n        \"32-07-2000\", //July doesn't have 32 days\n        \"32-08-2000\", //August doesn't have 32 days\n        \"32-10-2000\", //October doesn't have 32 days\n        \"32-12-2000\", //December doesn't have 32 days\n        \"31-04-2000\", //April doesn't have 31 days\n        \"31-06-2000\", //June doesn't have 31 days\n        \"31-09-2000\", //September doesn't have 31 days\n        \"31-11-2000\", //November doesn't have 31 days\n        \"001-02-2000\", //SimpleDateFormat valid date (day with leading 0s) even with lenient set to false\n        \"1-0002-2000\", //SimpleDateFormat valid date (month with leading 0s) even with lenient set to false\n        \"01-02-0003\", //SimpleDateFormat valid date (year with leading 0s) even with lenient set to false\n        \"01.01-2000\", //. invalid separator between day and month\n        \"01-01.2000\", //. invalid separator between month and year\n        \"01/01-2000\", /// invalid separator between day and month\n        \"01-01/2000\", /// invalid separator between month and year\n        \"01_01-2000\", //_ invalid separator between day and month\n        \"01-01_2000\", //_ invalid separator between month and year\n        \"01-01-2000-12345\", //only whole string should be matched\n        \"01-13-2000\", //month bigger than 13\n    };\n\n    /**\n     * These constants will be used to generate the valid and invalid boundary dates for the leap years. (For no leap year, Feb. 28 valid and Feb. 29 invalid; for a leap year Feb. 29 valid and Feb. 30 invalid)   \n     */\n    private static final int LEAP_STEP = 4;\n    private static final int YEAR_START = 1800;\n    private static final int YEAR_END = 2199;\n\n    /**\n     * This date regex will find matches for valid dates between 1800 and 2199 in the format of \"dd-MM-yyyy\".\n     * The leading 0 is optional.\n     */\n    private static final String DATE_REGEX = \"((0?[1-9]|[12][0-9]|3[01])-(0?[13578]|1[02])-(18|19|20|21)[0-9]{2})|((0?[1-9]|[12][0-9]|30)-(0?[469]|11)-(18|19|20|21)[0-9]{2})|((0?[1-9]|1[0-9]|2[0-8])-(0?2)-(18|19|20|21)[0-9]{2})|(29-(0?2)-(((18|19|20|21)(04|08|[2468][048]|[13579][26]))|2000))\";\n\n    /**\n     * This date regex is similar to the first one, but with the difference of matching only the whole string. So \"01-01-2000-12345\" won't pass with a match.\n     * Keep in mind that String.matches tries to match only the whole string.\n     */\n    private static final String DATE_REGEX_ONLY_WHOLE_STRING = \"^\" + DATE_REGEX + \"$\";\n\n    /**\n     * The simple regex (without checking for 31 day months and leap years):\n     */\n    private static final String DATE_REGEX_SIMPLE = \"(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\";\n\n    /**\n     * This date regex is similar to the first one, but with the difference of matching only the whole string. So \"01-01-2000-12345\" won't pass with a match.\n     */\n    private static final String DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING = \"^\" + DATE_REGEX_SIMPLE + \"$\";\n\n    private static final SimpleDateFormat SDF = new SimpleDateFormat(\"dd-MM-yyyy\");\n    static {\n        SDF.setLenient(false);\n    }\n\n    private static final DateChecker dateValidatorSimple = new DateChecker(DATE_REGEX_SIMPLE);\n    private static final DateChecker dateValidatorSimpleOnlyWholeString = new DateChecker(DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        DateTimeStatistics dateTimeStatistics = new DateTimeStatistics();\n        boolean shouldMatch = true;\n        for (int i = 0; i &lt; validDateStrings.length; i++) {\n            String validDate = validDateStrings[i];\n            matchAssertAndPopulateTimes(\n                    dateTimeStatistics,\n                    shouldMatch, validDate);\n        }\n\n        shouldMatch = false;\n        for (int i = 0; i &lt; invalidDateStrings.length; i++) {\n            String invalidDate = invalidDateStrings[i];\n\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, invalidDate);\n        }\n\n        for (int year = YEAR_START; year &lt; (YEAR_END + 1); year++) {\n            FebruaryBoundaryDates februaryBoundaryDates = createValidAndInvalidFebruaryBoundaryDateStringsFromYear(year);\n            shouldMatch = true;\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, februaryBoundaryDates.getValidFebruaryBoundaryDateString());\n            shouldMatch = false;\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, februaryBoundaryDates.getInvalidFebruaryBoundaryDateString());\n        }\n\n        dateTimeStatistics.calculateAvarageTimesAndPrint();\n    }\n\n    private static void matchAssertAndPopulateTimes(\n            DateTimeStatistics dateTimeStatistics,\n            boolean shouldMatch, String date) {\n        dateTimeStatistics.addDate(date);\n        matchAndPopulateTimeToMatch(date, DATE_REGEX, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegex());\n        matchAndPopulateTimeToMatch(date, DATE_REGEX_ONLY_WHOLE_STRING, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegexOnlyWholeString());\n        boolean matchesSimpleDateFormat = matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(date, dateTimeStatistics.getTimesTakenWithSimpleDateFormatParse());\n        matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n                dateTimeStatistics.getTimesTakenWithDateRegexSimple(), shouldMatch,\n                date, matchesSimpleDateFormat, DATE_REGEX_SIMPLE);\n        matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n                dateTimeStatistics.getTimesTakenWithDateRegexSimpleOnlyWholeString(), shouldMatch,\n                date, matchesSimpleDateFormat, DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\n\n        matchAndPopulateTimeToMatch(date, dateValidatorSimple, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimple());\n        matchAndPopulateTimeToMatch(date, dateValidatorSimpleOnlyWholeString, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimpleOnlyWholeString());\n    }\n\n    private static void matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n            List&lt;Long&gt; times,\n            boolean shouldMatch, String date, boolean matchesSimpleDateFormat, String regex) {\n        boolean matchesFromRegex = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\n        assert !((matchesSimpleDateFormat &amp;&amp; matchesFromRegex) ^ shouldMatch) : \"Parsing with SimpleDateFormat and date:\" + date + \"\\nregex:\" + regex + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static void matchAndPopulateTimeToMatch(String date, String regex, boolean shouldMatch, List&lt;Long&gt; times) {\n        boolean matches = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\n        assert !(matches ^ shouldMatch) : \"date:\" + date + \"\\nregex:\" + regex + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static void matchAndPopulateTimeToMatch(String date, DateChecker dateValidator, boolean shouldMatch, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches;\n        timestampStart = System.nanoTime();\n        matches = dateValidator.check(date);\n        timestampEnd = System.nanoTime();\n        times.add(timestampEnd - timestampStart);\n        assert !(matches ^ shouldMatch) : \"date:\" + date + \"\\ndateValidator with regex:\" + dateValidator.getRegex() + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static boolean matchAndPopulateTimeToMatchAndReturnMatches(String date, String regex, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches;\n        timestampStart = System.nanoTime();\n        matches = date.matches(regex);\n        timestampEnd = System.nanoTime();\n        times.add(timestampEnd - timestampStart);\n        return matches;\n    }\n\n    private static boolean matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(String date, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches = true;\n        timestampStart = System.nanoTime();\n        try {\n            SDF.parse(date);\n        } catch (ParseException e) {\n            matches = false;\n        } finally {\n            timestampEnd = System.nanoTime();\n            times.add(timestampEnd - timestampStart);\n        }\n        return matches;\n    }\n\n    private static FebruaryBoundaryDates createValidAndInvalidFebruaryBoundaryDateStringsFromYear(int year) {\n        FebruaryBoundaryDates februaryBoundaryDates;\n        int modulo100 = year % 100;\n        //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n        if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n            februaryBoundaryDates = new FebruaryBoundaryDates(\n                    createFebruaryDateFromDayAndYear(29, year), \n                    createFebruaryDateFromDayAndYear(30, year)\n                    );\n        } else {\n            februaryBoundaryDates = new FebruaryBoundaryDates(\n                    createFebruaryDateFromDayAndYear(28, year), \n                    createFebruaryDateFromDayAndYear(29, year)\n                    );\n        }\n        return februaryBoundaryDates;\n    }\n\n    private static String createFebruaryDateFromDayAndYear(int day, int year) {\n        return String.format(\"%d-02-%d\", day, year);\n    }\n\n    static class FebruaryBoundaryDates {\n        private String validFebruaryBoundaryDateString;\n        String invalidFebruaryBoundaryDateString;\n        public FebruaryBoundaryDates(String validFebruaryBoundaryDateString,\n                String invalidFebruaryBoundaryDateString) {\n            super();\n            this.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\n            this.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\n        }\n        public String getValidFebruaryBoundaryDateString() {\n            return validFebruaryBoundaryDateString;\n        }\n        public void setValidFebruaryBoundaryDateString(\n                String validFebruaryBoundaryDateString) {\n            this.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\n        }\n        public String getInvalidFebruaryBoundaryDateString() {\n            return invalidFebruaryBoundaryDateString;\n        }\n        public void setInvalidFebruaryBoundaryDateString(\n                String invalidFebruaryBoundaryDateString) {\n            this.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\n        }\n    }\n\n    static class DateTimeStatistics {\n        private List&lt;String&gt; dates = new ArrayList&lt;String&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegex = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexOnlyWholeString = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexSimple = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithSimpleDateFormatParse = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithdateValidatorSimple = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithdateValidatorSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\n        public List&lt;String&gt; getDates() {\n            return dates;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegex() {\n            return timesTakenWithDateRegex;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexOnlyWholeString() {\n            return timesTakenWithDateRegexOnlyWholeString;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexSimple() {\n            return timesTakenWithDateRegexSimple;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexSimpleOnlyWholeString() {\n            return timesTakenWithDateRegexSimpleOnlyWholeString;\n        }\n        public List&lt;Long&gt; getTimesTakenWithSimpleDateFormatParse() {\n            return timesTakenWithSimpleDateFormatParse;\n        }\n        public List&lt;Long&gt; getTimesTakenWithdateValidatorSimple() {\n            return timesTakenWithdateValidatorSimple;\n        }\n        public List&lt;Long&gt; getTimesTakenWithdateValidatorSimpleOnlyWholeString() {\n            return timesTakenWithdateValidatorSimpleOnlyWholeString;\n        }\n        public void addDate(String date) {\n            dates.add(date);\n        }\n        public void addTimesTakenWithDateRegex(long time) {\n            timesTakenWithDateRegex.add(time);\n        }\n        public void addTimesTakenWithDateRegexOnlyWholeString(long time) {\n            timesTakenWithDateRegexOnlyWholeString.add(time);\n        }\n        public void addTimesTakenWithDateRegexSimple(long time) {\n            timesTakenWithDateRegexSimple.add(time);\n        }\n        public void addTimesTakenWithDateRegexSimpleOnlyWholeString(long time) {\n            timesTakenWithDateRegexSimpleOnlyWholeString.add(time);\n        }\n        public void addTimesTakenWithSimpleDateFormatParse(long time) {\n            timesTakenWithSimpleDateFormatParse.add(time);\n        }\n        public void addTimesTakenWithdateValidatorSimple(long time) {\n            timesTakenWithdateValidatorSimple.add(time);\n        }\n        public void addTimesTakenWithdateValidatorSimpleOnlyWholeString(long time) {\n            timesTakenWithdateValidatorSimpleOnlyWholeString.add(time);\n        }\n\n        private void calculateAvarageTimesAndPrint() {\n            long[] sumOfTimes = new long[7];\n            int timesSize = timesTakenWithDateRegex.size();\n            for (int i = 0; i &lt; timesSize; i++) {\n                sumOfTimes[0] += timesTakenWithDateRegex.get(i);\n                sumOfTimes[1] += timesTakenWithDateRegexOnlyWholeString.get(i);\n                sumOfTimes[2] += timesTakenWithDateRegexSimple.get(i);\n                sumOfTimes[3] += timesTakenWithDateRegexSimpleOnlyWholeString.get(i);\n                sumOfTimes[4] += timesTakenWithSimpleDateFormatParse.get(i);\n                sumOfTimes[5] += timesTakenWithdateValidatorSimple.get(i);\n                sumOfTimes[6] += timesTakenWithdateValidatorSimpleOnlyWholeString.get(i);\n            }\n            System.out.println(\"AVG from timesTakenWithDateRegex (in nanoseconds):\" + (double) sumOfTimes[0] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[1] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimple (in nanoseconds):\" + (double) sumOfTimes[2] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimpleOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[3] / timesSize);\n            System.out.println(\"AVG from timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) sumOfTimes[4] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimple + timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) (sumOfTimes[2] + sumOfTimes[4]) / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimpleOnlyWholeString + timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) (sumOfTimes[3] + sumOfTimes[4]) / timesSize);\n            System.out.println(\"AVG from timesTakenWithdateValidatorSimple (in nanoseconds):\" + (double) sumOfTimes[5] / timesSize);\n            System.out.println(\"AVG from timesTakenWithdateValidatorSimpleOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[6] / timesSize);\n        }\n    }\n\n    static class DateChecker {\n\n        private Matcher matcher;\n        private Pattern pattern;\n\n        public DateChecker(String regex) {\n            pattern = Pattern.compile(regex);\n        }\n\n        /**\n         * Checks if the date format is a valid.\n         * Uses the regex pattern to match the date first. \n         * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\n         * \n         * @param date the date that needs to be checked.\n         * @return if the date is of an valid format or not.\n         */\n        public boolean check(final String date) {\n            matcher = pattern.matcher(date);\n            if (matcher.matches()) {\n                matcher.reset();\n                if (matcher.find()) {\n                    int day = Integer.parseInt(matcher.group(1));\n                    int month = Integer.parseInt(matcher.group(2));\n                    int year = Integer.parseInt(matcher.group(3));\n\n                    switch (month) {\n                    case 1:\n                    case 3:\n                    case 5:\n                    case 7:\n                    case 8:\n                    case 10:\n                    case 12: return day &lt; 32;\n                    case 4:\n                    case 6:\n                    case 9:\n                    case 11: return day &lt; 31;\n                    case 2: \n                        int modulo100 = year % 100;\n                        //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n                        if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n                            //its a leap year\n                            return day &lt; 30;\n                        } else {\n                            return day &lt; 29;\n                        }\n                    default:\n                        break;\n                    }\n                }\n            }\n            return false;\n        }\n\n        public String getRegex() {\n            return pattern.pattern();\n        }\n    }\n}\n</code></pre>\n\n<p>Some useful notes:<br>\n- to enable the assertions (assert checks) you need to use -ea argument when running the tester. (In eclipse this is done by editing the Run/Debug configuration -> Arguments tab -> VM Arguments -> insert \"-ea\"<br>\n- the regex above is bounded to years 1800 to 2199<br>\n- you don't need to use ^ at the beginning and $ at the end to match only the whole date string. The String.matches takes care of that.<br>\n- make sure u check the valid and invalid cases and change them according the rules that you have.<br>\n- the \"only whole string\" version of each regex gives the same speed as the \"normal\" version (the one without ^ and $). If you see performance differences this is because java \"gets used\" to processing the same instructions so the time lowers. If you switch the lines where the \"normal\" and the \"only whole string\" version execute, you will see this proven.  </p>\n\n<p>Hope this helps someone!<br>\nCheers,<br>\nDespot</p>\n"},{"tags":[],"owner":{"account_id":1766283,"reputation":1821,"user_id":1612093,"accept_rate":89,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525723004,"creation_date":1489765716,"answer_id":42861846,"question_id":2149680,"body_markdown":"# java.time\r\n\r\nThe proper (and easy) way to do date/time validation using Java 8+ is to use the [`java.time.format.DateTimeFormatter`][1] class. Using a regex for validation isn&#39;t really ideal for dates. For the example case in this question:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n    try {\r\n        LocalDate date = formatter.parse(text, LocalDate::from);\r\n    } catch (DateTimeParseException e) {\r\n        // Thrown if text could not be parsed in the specified format\r\n    }\r\n\r\nThis code will parse the text, validate that it is a valid date, and also return the date as a [`LocalDate`][2] object. Note that the `DateTimeFormatter` class has a number of static predefined date formats matching ISO standards if your use case matches any of them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Regex date format validation on Java","body":"<h1>java.time</h1>\n\n<p>The proper (and easy) way to do date/time validation using Java 8+ is to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>java.time.format.DateTimeFormatter</code></a> class. Using a regex for validation isn't really ideal for dates. For the example case in this question:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n\ntry {\n    LocalDate date = formatter.parse(text, LocalDate::from);\n} catch (DateTimeParseException e) {\n    // Thrown if text could not be parsed in the specified format\n}\n</code></pre>\n\n<p>This code will parse the text, validate that it is a valid date, and also return the date as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> object. Note that the <code>DateTimeFormatter</code> class has a number of static predefined date formats matching ISO standards if your use case matches any of them.</p>\n"},{"tags":[],"owner":{"account_id":11518499,"reputation":71,"user_id":8441145,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525721082,"creation_date":1525719905,"answer_id":50220855,"question_id":2149680,"body_markdown":"If you want a simple regex then it won&#39;t be accurate.\r\nhttps://www.freeformatter.com/java-regex-tester.html#ad-output offers a tool to test your Java regex. Also, at the bottom you can find some suggested regexes for validating a date.\r\n\r\nISO date format (yyyy-mm-dd):\r\n\r\n    ^[0-9]{4}-(((0[13578]|(10|12))-(0[1-9]|[1-2][0-9]|3[0-1]))|(02-(0[1-9]|[1-2][0-9]))|((0[469]|11)-(0[1-9]|[1-2][0-9]|30)))$\r\n\r\nISO date format (yyyy-mm-dd) with separators &#39;-&#39; or &#39;/&#39; or &#39;.&#39; or &#39; &#39;. Forces usage of same separator accross date.\r\n\r\n    ^[0-9]{4}([- /.])(((0[13578]|(10|12))\\1(0[1-9]|[1-2][0-9]|3[0-1]))|(02\\1(0[1-9]|[1-2][0-9]))|((0[469]|11)\\1(0[1-9]|[1-2][0-9]|30)))$\r\n\r\nUnited States date format (mm/dd/yyyy)\r\n\r\n    ^(((0[13578]|(10|12))/(0[1-9]|[1-2][0-9]|3[0-1]))|(02/(0[1-9]|[1-2][0-9]))|((0[469]|11)/(0[1-9]|[1-2][0-9]|30)))/[0-9]{4}$\r\n\r\nHours and minutes, 24 hours format (HH:MM):\r\n\r\n    ^(20|21|22|23|[01]\\d|\\d)((:[0-5]\\d){1,2})$\r\n\r\nGood luck","title":"Regex date format validation on Java","body":"<p>If you want a simple regex then it won't be accurate.\n<a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/java-regex-tester.html#ad-output</a> offers a tool to test your Java regex. Also, at the bottom you can find some suggested regexes for validating a date.</p>\n\n<p>ISO date format (yyyy-mm-dd):</p>\n\n<pre><code>^[0-9]{4}-(((0[13578]|(10|12))-(0[1-9]|[1-2][0-9]|3[0-1]))|(02-(0[1-9]|[1-2][0-9]))|((0[469]|11)-(0[1-9]|[1-2][0-9]|30)))$\n</code></pre>\n\n<p>ISO date format (yyyy-mm-dd) with separators '-' or '/' or '.' or ' '. Forces usage of same separator accross date.</p>\n\n<pre><code>^[0-9]{4}([- /.])(((0[13578]|(10|12))\\1(0[1-9]|[1-2][0-9]|3[0-1]))|(02\\1(0[1-9]|[1-2][0-9]))|((0[469]|11)\\1(0[1-9]|[1-2][0-9]|30)))$\n</code></pre>\n\n<p>United States date format (mm/dd/yyyy)</p>\n\n<pre><code>^(((0[13578]|(10|12))/(0[1-9]|[1-2][0-9]|3[0-1]))|(02/(0[1-9]|[1-2][0-9]))|((0[469]|11)/(0[1-9]|[1-2][0-9]|30)))/[0-9]{4}$\n</code></pre>\n\n<p>Hours and minutes, 24 hours format (HH:MM):</p>\n\n<pre><code>^(20|21|22|23|[01]\\d|\\d)((:[0-5]\\d){1,2})$\n</code></pre>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":5028618,"reputation":654,"user_id":4039605,"display_name":"Ramapati Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530099665,"creation_date":1530099665,"answer_id":51061908,"question_id":2149680,"body_markdown":"    \r\n\r\n&gt; Below added code is working for me if you are using pattern\r\n&gt; dd-MM-yyyy.\r\n\r\n    \r\n    public boolean isValidDate(String date) {\r\n            boolean check;\r\n            String date1 = &quot;^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-([12][0-9]{3})$&quot;;\r\n            check = date.matches(date1);\r\n           \r\n            return check;\r\n        }","title":"Regex date format validation on Java","body":"<blockquote>\n  <p>Below added code is working for me if you are using pattern\n  dd-MM-yyyy.</p>\n</blockquote>\n\n<pre><code>public boolean isValidDate(String date) {\n        boolean check;\n        String date1 = \"^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-([12][0-9]{3})$\";\n        check = date.matches(date1);\n\n        return check;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6568360,"reputation":8825,"user_id":5077196,"accept_rate":87,"display_name":"Yahya Hussein"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537793014,"creation_date":1537790345,"answer_id":52478926,"question_id":2149680,"body_markdown":"The following regex will accept YYYY-MM-DD (within the range 1600-2999 year) formatted dates taking into consideration leap years:\r\n\r\n \r\n\r\n     ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\d|2[0-8])$\r\n\r\nExamples:\r\n\r\n[![Date regex examples][1]][1]\r\n\r\nYou can test it [here][2].\r\n\r\nNote: if you want to accept one digit as month or day you can use:\r\n\r\n     ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0?[13578]|1[02])(-)31)|((0?[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)0?2(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0?[1-9])|(?:1[0-2]))(-)(?:0?[1-9]|1\\d|2[0-8])$\r\n\r\nI have created the above regex starting from this [solution][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/heMr1.png\r\n  [2]: https://regexr.com/40156\r\n  [3]: https://stackoverflow.com/a/15504877/5077196","title":"Regex date format validation on Java","body":"<p>The following regex will accept YYYY-MM-DD (within the range 1600-2999 year) formatted dates taking into consideration leap years:</p>\n\n<pre><code> ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\d|2[0-8])$\n</code></pre>\n\n<p>Examples:</p>\n\n<p><a href=\"https://i.stack.imgur.com/heMr1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/heMr1.png\" alt=\"Date regex examples\"></a></p>\n\n<p>You can test it <a href=\"https://regexr.com/40156\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note: if you want to accept one digit as month or day you can use:</p>\n\n<pre><code> ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0?[13578]|1[02])(-)31)|((0?[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)0?2(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0?[1-9])|(?:1[0-2]))(-)(?:0?[1-9]|1\\d|2[0-8])$\n</code></pre>\n\n<p>I have created the above regex starting from this <a href=\"https://stackoverflow.com/a/15504877/5077196\">solution</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669761087,"creation_date":1669761087,"answer_id":74620946,"question_id":2149680,"body_markdown":"The pattern `yyyy-MM-dd` is the [default pattern](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE) used by [`LocalDate#parse`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-). Therefore, all you need to do is to pass your date string to this method and check if it is successfully parsed or some exception has occurred.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] arr = { &quot;2022-11-29&quot;, &quot;0000-00-00&quot;, &quot;2022-1-2&quot;, &quot;2022-02-29&quot; };\r\n            for (String s : arr) {\r\n                try {\r\n                    System.out.println(&quot;================================&quot;);\r\n                    System.out.println(LocalDate.parse(s) + &quot; is a valid date &quot;);\r\n                } catch (DateTimeParseException e) {\r\n                    System.out.println(e.getMessage());\r\n    \r\n                    // Recommended; so that the caller can handle it appropriately\r\n                    // throw new IllegalArgumentException(&quot;Invalid date&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    ================================\r\n    2022-11-29 is a valid date \r\n    ================================\r\n    Text &#39;0000-00-00&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 0\r\n    ================================\r\n    Text &#39;2022-1-2&#39; could not be parsed at index 5\r\n    ================================\r\n    Text &#39;2022-02-29&#39; could not be parsed: Invalid date &#39;February 29&#39; as &#39;2022&#39; is not a leap year\r\n\r\nSome important notes:\r\n--\r\n\r\n 1. `java.time` types follow [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standards and therefore you do need to specify a `DateTimeFormatter` to parse a date-time string which is in ISO 8601 format.\r\n 2. The `java.time` API, released with Java-8 in March 2014, supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. Learn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Regex date format validation on Java","body":"<p>The pattern <code>yyyy-MM-dd</code> is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\">default pattern</a> used by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>LocalDate#parse</code></a>. Therefore, all you need to do is to pass your date string to this method and check if it is successfully parsed or some exception has occurred.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] arr = { &quot;2022-11-29&quot;, &quot;0000-00-00&quot;, &quot;2022-1-2&quot;, &quot;2022-02-29&quot; };\n        for (String s : arr) {\n            try {\n                System.out.println(&quot;================================&quot;);\n                System.out.println(LocalDate.parse(s) + &quot; is a valid date &quot;);\n            } catch (DateTimeParseException e) {\n                System.out.println(e.getMessage());\n\n                // Recommended; so that the caller can handle it appropriately\n                // throw new IllegalArgumentException(&quot;Invalid date&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>================================\n2022-11-29 is a valid date \n================================\nText '0000-00-00' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 0\n================================\nText '2022-1-2' could not be parsed at index 5\n================================\nText '2022-02-29' could not be parsed: Invalid date 'February 29' as '2022' is not a leap year\n</code></pre>\n<h2>Some important notes:</h2>\n<ol>\n<li><code>java.time</code> types follow <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standards and therefore you do need to specify a <code>DateTimeFormatter</code> to parse a date-time string which is in ISO 8601 format.</li>\n<li>The <code>java.time</code> API, released with Java-8 in March 2014, supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API. Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</li>\n</ol>\n"}],"owner":{"account_id":34884,"reputation":2608,"user_id":98644,"accept_rate":91,"display_name":"Sheldon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284860,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":2149692,"answer_count":12,"score":78,"last_activity_date":1669761087,"creation_date":1264620303,"question_id":2149680,"body_markdown":"I&#39;m just wondering if there is a way (maybe with regex) to validate that an input on a Java desktop app is exactly a string formatted as: &quot;YYYY-MM-DD&quot;.","title":"Regex date format validation on Java","body":"<p>I'm just wondering if there is a way (maybe with regex) to validate that an input on a Java desktop app is exactly a string formatted as: &quot;YYYY-MM-DD&quot;.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1669755094,"post_id":74619572,"comment_id":131714007,"body_markdown":"I believe the Log4j2 answer to this is to put your tags into other contexts, rather than the thread context. They provide an extensible mechanism to define contexts based on things other than threads. https://logging.apache.org/log4j/2.x/manual/extending.html#Custom_ContextDataInjector","body":"I believe the Log4j2 answer to this is to put your tags into other contexts, rather than the thread context. They provide an extensible mechanism to define contexts based on things other than threads. <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#Custom_ContextDataInjector\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1669755455,"post_id":74619572,"comment_id":131714104,"body_markdown":"I think you mix two concepts: the `ThreadContext` is basically a `ThreadLocal&lt;Map&lt;String, String&gt;&gt;` to store additional logging metadata. Loggers are associated with logger contexts using a [`ContextSelector`](https://logging.apache.org/log4j/2.x/manual/extending.html#ContextSelector). The default one uses the caller&#39;s classloader, it does not care about threads.","body":"I think you mix two concepts: the <code>ThreadContext</code> is basically a <code>ThreadLocal&lt;Map&lt;String, String&gt;&gt;</code> to store additional logging metadata. Loggers are associated with logger contexts using a <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#ContextSelector\" rel=\"nofollow noreferrer\"><code>ContextSelector</code></a>. The default one uses the caller&#39;s classloader, it does not care about threads."}],"answers":[{"tags":[],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669760612,"creation_date":1669760612,"answer_id":74620884,"question_id":74619572,"body_markdown":"Okay, what I ended up having to do was to add to the ThreadContext for each of the common pool threads that were used in the parallelStream.\r\n\r\n    if (!Thread.currentThread().getName().startsWith(mainThread)) {              \r\n        ThreadContext.put(BATCH_LOGGER_THREAD_CONTEXT_KEY, configuration);\r\n    }\r\nThis allowed the log lines to go to the expected file. I also had to remember to clean up the ThreadContext for the threads after the processing was complete so there wasn&#39;t any leakage into other logs.","title":"Is there a way to add parallelStream threads to existing Log4J2 context?","body":"<p>Okay, what I ended up having to do was to add to the ThreadContext for each of the common pool threads that were used in the parallelStream.</p>\n<pre><code>if (!Thread.currentThread().getName().startsWith(mainThread)) {              \n    ThreadContext.put(BATCH_LOGGER_THREAD_CONTEXT_KEY, configuration);\n}\n</code></pre>\n<p>This allowed the log lines to go to the expected file. I also had to remember to clean up the ThreadContext for the threads after the processing was complete so there wasn't any leakage into other logs.</p>\n"}],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669760612,"creation_date":1669751682,"question_id":74619572,"body_markdown":"I&#39;m working on some large data processing, and am using a parallelStream on a collection to run this. Prior to the processing we have already added a configuration to the Log4J thread context. While it&#39;s running the processing, it is only logging the main thread to the file, but the other threads are not being written there. \r\n\r\nI&#39;m sure there is some way that the additional threads can be added to the same log file, but so far I have been unable to find the solution.\r\n\r\nAll of the processing is working correctly, the log is the last bit that I&#39;m having an issue with, and am trying to resolve.\r\n\r\nThanks!","title":"Is there a way to add parallelStream threads to existing Log4J2 context?","body":"<p>I'm working on some large data processing, and am using a parallelStream on a collection to run this. Prior to the processing we have already added a configuration to the Log4J thread context. While it's running the processing, it is only logging the main thread to the file, but the other threads are not being written there.</p>\n<p>I'm sure there is some way that the additional threads can be added to the same log file, but so far I have been unable to find the solution.</p>\n<p>All of the processing is working correctly, the log is the last bit that I'm having an issue with, and am trying to resolve.</p>\n<p>Thanks!</p>\n"},{"tags":["java","multithreading","sockets","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1669761591,"post_id":74620860,"comment_id":131715640,"body_markdown":"Just a really quick comment: I don&#39;t think you want to declare and initialize the `ThreadPoolExecutor` within the loop; instead move that row outside the loop?","body":"Just a really quick comment: I don&#39;t think you want to declare and initialize the <code>ThreadPoolExecutor</code> within the loop; instead move that row outside the loop?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669762030,"post_id":74620860,"comment_id":131715744,"body_markdown":"You need to learn more about proper use of an executor service. Start by reading the Javadoc of [`ExecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html). Then [The Java Tutorials](https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html) by Oracle, free of cost. After that, search Stack Overflow as this topic has already been addressed many times.","body":"You need to learn more about proper use of an executor service. Start by reading the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. Then <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> by Oracle, free of cost. After that, search Stack Overflow as this topic has already been addressed many times."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669766995,"post_id":74620860,"comment_id":131716717,"body_markdown":"Adding to what Mick said, Every call to `Executors.newFixedThreadPool(10)` creates _ten_ new threads. You certainly don&#39;t want to do that for every new connection. What you want is to create just _one_ thread pool, and then re-use those same ten threads again and again by submitting a new task to the pool for each incoming connection.","body":"Adding to what Mick said, Every call to <code>Executors.newFixedThreadPool(10)</code> creates <i>ten</i> new threads. You certainly don&#39;t want to do that for every new connection. What you want is to create just <i>one</i> thread pool, and then re-use those same ten threads again and again by submitting a new task to the pool for each incoming connection."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1669847443,"post_id":74620860,"comment_id":131739300,"body_markdown":"The executors create threads on demand @SolomonSlow.  It won&#39;t create 10 new threads but just 1 core thread.  That said, he should be using a centrral executor like you and others mention.","body":"The executors create threads on demand @SolomonSlow.  It won&#39;t create 10 new threads but just 1 core thread.  That said, he should be using a centrral executor like you and others mention."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669865176,"post_id":74620860,"comment_id":131741969,"body_markdown":"@Gray, Javadoc for [`Executors.newFixedThreadPool(nThreads)`](https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)) says, &quot;Creates a thread pool that reuses a _fixed number_ of threads.&quot; It creates `nThreads`. If you look in the OpenJDK source, you&#39;ll see that it returns a `new ThreadPoolExecutor(nThreads, nThreads,...)` The pool always has exactly nThreads threads.","body":"@Gray, Javadoc for <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool(nThreads)</code></a> says, &quot;Creates a thread pool that reuses a <i>fixed number</i> of threads.&quot; It creates <code>nThreads</code>. If you look in the OpenJDK source, you&#39;ll see that it returns a <code>new ThreadPoolExecutor(nThreads, nThreads,...)</code> The pool always has exactly nThreads threads."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1669908969,"post_id":74620860,"comment_id":131754405,"body_markdown":"I know the javadocs @SolomonSlow but I also know the code.  Take a look at the `execute()` method of `ThreadPoolExecutor`.  The workers are created on demand.","body":"I know the javadocs @SolomonSlow but I also know the code.  Take a look at the <code>execute()</code> method of <code>ThreadPoolExecutor</code>.  The workers are created on demand."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669910389,"post_id":74620860,"comment_id":131755010,"body_markdown":"@Gray, Well, Smack me down for looking at the source code for the one method without bothering to look at the source for the class that does all of the work. I guess it&#39;s like Uncle Bob says: Only the code can tell you what the code actually does.","body":"@Gray, Well, Smack me down for looking at the source code for the one method without bothering to look at the source for the class that does all of the work. I guess it&#39;s like Uncle Bob says: Only the code can tell you what the code actually does."}],"owner":{"account_id":26688119,"reputation":11,"user_id":20297102,"display_name":"Matthew Watson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669760423,"creation_date":1669760423,"question_id":74620860,"body_markdown":"This is my 2nd ever Post I&#39;m pretty new to Programming.\r\n\r\nI&#39;m working on making my Socket Server Concurrent (Multithreaded) on the Server side. I understand I have to use Threaded Pools after my Socket accepts but I&#39;m just very confused what to do. currently the requests are slower then it was when it was only iterative because its not working correctly. \r\n\r\n\r\n\r\n\r\n```\r\n//MultiClient Class\r\n\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class MultiServer {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;What port should the server be using?&quot;);\r\n\t\tint portNumber = scnr.nextInt();\r\n\t\t\r\n\t\twhile ((portNumber &lt; 1025) ||(portNumber &gt; 4998)) {\r\n\t\t\tSystem.out.println(&quot;Please enter a Port Number between &#39;1025&#39; and &#39;4998&#39;.&quot;);\r\n\t\t\tportNumber = scnr.nextInt();\r\n\t\t}\r\n\t\ttry (ServerSocket serverSock = new ServerSocket(portNumber)){\r\n\t\t\tSystem.out.println(&quot;Server listening on port &quot; + portNumber);\r\n\r\n\twhile(true) {\r\n\t\t  Socket sock = serverSock.accept();\r\n\t\t  MultiServerHandler msh = new MultiServerHandler(sock);\r\n\t\t  ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n\t\t  executor.execute(msh);\r\n\t\t\r\n         \r\n\t}\r\n\t\t\r\n  } catch (IOException ex) {\r\n      System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n      ex.printStackTrace();\r\n  }\r\n\t\t\r\n\t\t}\r\n\t}\r\n```\r\n```\r\n//MultiClientHandler Class\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n\r\npublic class MultiServerHandler extends Thread{\r\n\r\n\tprivate Socket sock;\r\n\t\r\n\tpublic MultiServerHandler(Socket sock) {\r\n\t\tthis.sock = sock;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\t\r\n\t\ttry {\r\n\t\tSystem.out.println(&quot;New client connected&quot;);\r\n\r\n\t\tInputStream input = sock.getInputStream();\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n\r\n\t\tOutputStream output = sock.getOutputStream();\r\n\t\tPrintWriter writer = new PrintWriter(output, true);\r\n\r\n\t\tString command;\r\n\r\n\t\t    command = reader.readLine();\r\n\t\t    Process process = Runtime.getRuntime().exec(command);\r\n\t\t    BufferedReader read = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t    String result;\r\n\t\t    \r\n\t\t    while((result = read.readLine()) != null) {\r\n\t\t  \t  writer.println(result);\r\n\t\t    }\r\n\t\t    sock.close();\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n}\r\n```\r\n\r\n\r\nSo far I just know I have to implement it after the socket accepts but I&#39;m not too sure yet. ","title":"Thread Pooled Concurrent Server (JAVA)","body":"<p>This is my 2nd ever Post I'm pretty new to Programming.</p>\n<p>I'm working on making my Socket Server Concurrent (Multithreaded) on the Server side. I understand I have to use Threaded Pools after my Socket accepts but I'm just very confused what to do. currently the requests are slower then it was when it was only iterative because its not working correctly.</p>\n<pre><code>//MultiClient Class\n\nimport java.util.*;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.net.*;\nimport java.io.*;\n\npublic class MultiServer {\n\n    public static void main(String[] args) throws IOException {\n        Scanner scnr = new Scanner(System.in);\n        \n        System.out.println(&quot;What port should the server be using?&quot;);\n        int portNumber = scnr.nextInt();\n        \n        while ((portNumber &lt; 1025) ||(portNumber &gt; 4998)) {\n            System.out.println(&quot;Please enter a Port Number between '1025' and '4998'.&quot;);\n            portNumber = scnr.nextInt();\n        }\n        try (ServerSocket serverSock = new ServerSocket(portNumber)){\n            System.out.println(&quot;Server listening on port &quot; + portNumber);\n\n    while(true) {\n          Socket sock = serverSock.accept();\n          MultiServerHandler msh = new MultiServerHandler(sock);\n          ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n          executor.execute(msh);\n        \n         \n    }\n        \n  } catch (IOException ex) {\n      System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n      ex.printStackTrace();\n  }\n        \n        }\n    }\n</code></pre>\n<pre><code>//MultiClientHandler Class\n\nimport java.io.*;\nimport java.net.*;\n\n\npublic class MultiServerHandler extends Thread{\n\n    private Socket sock;\n    \n    public MultiServerHandler(Socket sock) {\n        this.sock = sock;\n    }\n    \n    public void run() {\n        \n        try {\n        System.out.println(&quot;New client connected&quot;);\n\n        InputStream input = sock.getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n\n        OutputStream output = sock.getOutputStream();\n        PrintWriter writer = new PrintWriter(output, true);\n\n        String command;\n\n            command = reader.readLine();\n            Process process = Runtime.getRuntime().exec(command);\n            BufferedReader read = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String result;\n            \n            while((result = read.readLine()) != null) {\n              writer.println(result);\n            }\n            sock.close();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    \n}\n</code></pre>\n<p>So far I just know I have to implement it after the socket accepts but I'm not too sure yet.</p>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":6457179,"reputation":2397,"user_id":5002179,"accept_rate":77,"display_name":"MurugananthamS"},"score":0,"creation_date":1573556383,"post_id":58817214,"comment_id":103912000,"body_markdown":"did yu using FCM or some other concept to send notification","body":"did yu using FCM or some other concept to send notification"},{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1573556704,"post_id":58817214,"comment_id":103912165,"body_markdown":"For push notification, you need to use push services like Firebase Cloud Messaging https://firebase.google.com/docs/cloud-messaging, but I will recommend you to use OneSignal https://onesignal.com/ which is easy to implement using API calls.","body":"For push notification, you need to use push services like Firebase Cloud Messaging <a href=\"https://firebase.google.com/docs/cloud-messaging\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging</a>, but I will recommend you to use OneSignal <a href=\"https://onesignal.com/\" rel=\"nofollow noreferrer\">onesignal.com</a> which is easy to implement using API calls."},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573557432,"post_id":58817214,"comment_id":103912531,"body_markdown":"@MurugananthamS no. I just want to create a simple notification but i can send to all users","body":"@MurugananthamS no. I just want to create a simple notification but i can send to all users"},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573557466,"post_id":58817214,"comment_id":103912545,"body_markdown":"@OMiShah will check it! thank you","body":"@OMiShah will check it! thank you"},{"owner":{"account_id":6457179,"reputation":2397,"user_id":5002179,"accept_rate":77,"display_name":"MurugananthamS"},"score":0,"creation_date":1573558886,"post_id":58817214,"comment_id":103913270,"body_markdown":"than you have to implement FCM messaging service https://blog.mindorks.com/pushing-notifications-in-android-using-fcm refer this link","body":"than you have to implement FCM messaging service <a href=\"https://blog.mindorks.com/pushing-notifications-in-android-using-fcm\" rel=\"nofollow noreferrer\">blog.mindorks.com/pushing-notifications-in-android-using-fcm</a> refer this link"},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573563237,"post_id":58817214,"comment_id":103915622,"body_markdown":"@MurugananthamS I have questions, if i implement the FCM Messaging service can I send the notification through apps rather than i have to go to firebase console to send the notification? I want to make a notification than can be send by phone","body":"@MurugananthamS I have questions, if i implement the FCM Messaging service can I send the notification through apps rather than i have to go to firebase console to send the notification? I want to make a notification than can be send by phone"}],"answers":[{"tags":[],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1573575637,"creation_date":1573558445,"answer_id":58817878,"question_id":58817214,"body_markdown":"After Oreo SDK you have to create Notification channel in order to show a notification, check this method for reference:\r\n\r\n\r\n    /**\r\n     *\r\n     * @param context\r\n     * @param title  --&gt; title to show\r\n     * @param message --&gt; details to show\r\n     * @param intent --&gt; What should happen on clicking the notification\r\n     * @param reqCode --&gt; unique code for the notification\r\n     */\r\n\r\n    public void showNotification(Context context, String title, String message, Intent intent, int reqCode) {\r\n        SharedPreferenceManager sharedPreferenceManager = SharedPreferenceManager.getInstance(context);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, reqCode, intent, PendingIntent.FLAG_ONE_SHOT);\r\n        String CHANNEL_ID = &quot;channel_name&quot;;// The id of the channel.\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n                .setSmallIcon(R.mipmap.notification_logo)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setAutoCancel(true)\r\n                .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\r\n                .setContentIntent(pendingIntent);\r\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Channel Name&quot;;// The user-visible name of the channel.\r\n            int importance = NotificationManager.IMPORTANCE_HIGH;\r\n            NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            notificationManager.createNotificationChannel(mChannel);\r\n        }\r\n        notificationManager.notify(reqCode, notificationBuilder.build()); // 0 is the request code, it should be unique id\r\n\r\n        Log.d(&quot;showNotification&quot;, &quot;showNotification: &quot; + reqCode);\r\n    }\r\n\r\n\r\n\r\nHow to use this method:\r\n\r\n        int reqCode = 1;\r\n        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n        showNotification(this, &quot;Title&quot;, &quot;This is the message to display&quot;, intent, reqCode);\r\n\r\n","title":"How to make Notification appear on the phone for Android Studio?","body":"<p>After Oreo SDK you have to create Notification channel in order to show a notification, check this method for reference:</p>\n\n<pre><code>/**\n *\n * @param context\n * @param title  --&gt; title to show\n * @param message --&gt; details to show\n * @param intent --&gt; What should happen on clicking the notification\n * @param reqCode --&gt; unique code for the notification\n */\n\npublic void showNotification(Context context, String title, String message, Intent intent, int reqCode) {\n    SharedPreferenceManager sharedPreferenceManager = SharedPreferenceManager.getInstance(context);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, reqCode, intent, PendingIntent.FLAG_ONE_SHOT);\n    String CHANNEL_ID = \"channel_name\";// The id of the channel.\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setSmallIcon(R.mipmap.notification_logo)\n            .setContentTitle(title)\n            .setContentText(message)\n            .setAutoCancel(true)\n            .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\n            .setContentIntent(pendingIntent);\n    NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = \"Channel Name\";// The user-visible name of the channel.\n        int importance = NotificationManager.IMPORTANCE_HIGH;\n        NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\n        notificationManager.createNotificationChannel(mChannel);\n    }\n    notificationManager.notify(reqCode, notificationBuilder.build()); // 0 is the request code, it should be unique id\n\n    Log.d(\"showNotification\", \"showNotification: \" + reqCode);\n}\n</code></pre>\n\n<p>How to use this method:</p>\n\n<pre><code>    int reqCode = 1;\n    Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n    showNotification(this, \"Title\", \"This is the message to display\", intent, reqCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17402519,"reputation":137,"user_id":12611136,"display_name":"Syeda Soghat Zehra Jaffri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669760131,"creation_date":1669760131,"answer_id":74620819,"question_id":58817214,"body_markdown":"         public void sendNotification (String message, String title ){\r\n    \r\n            Intent intent = new Intent(getApplicationContext(), CampaignActivity.class);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 , intent,\r\n                    PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n    \r\n            String channelId = &quot;some_channel_id&quot;;\r\n            Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, channelId)\r\n                            .setSmallIcon(R.mipmap.ic_launcher_round)\r\n    //                        .setContentTitle(getString(R.string.app_name)\r\n                            .setContentTitle(title)\r\n                            .setContentText(message)\r\n                            .setAutoCancel(true)\r\n                            .setSound(defaultSoundUri)\r\n                            .setContentIntent(pendingIntent);\r\n    \r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            // Since android Oreo notification channel is needed.\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(channelId,\r\n                        &quot;Channel human readable title&quot;,\r\n                        NotificationManager.IMPORTANCE_DEFAULT);\r\n                assert notificationManager != null;\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n    \r\n            assert notificationManager != null;\r\n            notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n        }","title":"How to make Notification appear on the phone for Android Studio?","body":"<pre><code>     public void sendNotification (String message, String title ){\n\n        Intent intent = new Intent(getApplicationContext(), CampaignActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 , intent,\n                PendingIntent.FLAG_IMMUTABLE);\n\n\n        String channelId = &quot;some_channel_id&quot;;\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, channelId)\n                        .setSmallIcon(R.mipmap.ic_launcher_round)\n//                        .setContentTitle(getString(R.string.app_name)\n                        .setContentTitle(title)\n                        .setContentText(message)\n                        .setAutoCancel(true)\n                        .setSound(defaultSoundUri)\n                        .setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // Since android Oreo notification channel is needed.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId,\n                    &quot;Channel human readable title&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        assert notificationManager != null;\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n    }\n</code></pre>\n"}],"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12439,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58817878,"answer_count":2,"score":5,"last_activity_date":1669760131,"creation_date":1573556175,"question_id":58817214,"body_markdown":"I want to create a push notification where Admin can send notification to all users. I found a tutorial and follow it but it doesn&#39;t work. I&#39;m not sure where I did wrong but I got error that said \r\n\r\n`Developer Warning for package &quot;... &quot; Failed to post notification on channel &quot;null&quot;`\r\n\r\n```\r\n b1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String tittle = ed1.getText().toString().trim();\r\n                String subject = ed2.getText().toString().trim();\r\n                String body = ed3.getText().toString().trim();\r\n\r\n                NotificationManager notif = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                Notification notify = new Notification.Builder\r\n                        (getApplicationContext()).setContentTitle(tittle).setContentText(body).\r\n                        setContentTitle(subject).setSmallIcon(R.drawable.ps).build();\r\n\r\n                notify.flags |= Notification.FLAG_AUTO_CANCEL;\r\n                notif.notify(0, notify);\r\n            }\r\n        });\r\n\r\n```","title":"How to make Notification appear on the phone for Android Studio?","body":"<p>I want to create a push notification where Admin can send notification to all users. I found a tutorial and follow it but it doesn't work. I'm not sure where I did wrong but I got error that said </p>\n\n<p><code>Developer Warning for package \"... \" Failed to post notification on channel \"null\"</code></p>\n\n<pre><code> b1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String tittle = ed1.getText().toString().trim();\n                String subject = ed2.getText().toString().trim();\n                String body = ed3.getText().toString().trim();\n\n                NotificationManager notif = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n                Notification notify = new Notification.Builder\n                        (getApplicationContext()).setContentTitle(tittle).setContentText(body).\n                        setContentTitle(subject).setSmallIcon(R.drawable.ps).build();\n\n                notify.flags |= Notification.FLAG_AUTO_CANCEL;\n                notif.notify(0, notify);\n            }\n        });\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":3,"creation_date":1379105617,"post_id":18795041,"comment_id":27715778,"body_markdown":"pretty sure you have to make the constructor private. No annotation is going to stop things from calling the public constructor","body":"pretty sure you have to make the constructor private. No annotation is going to stop things from calling the public constructor"}],"answers":[{"tags":[],"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1379262324,"creation_date":1379105774,"answer_id":18795108,"question_id":18795041,"body_markdown":"No annotation can prevent a class from being instantiated. However, if you plan to implement something like a Dependency Injection framework, or just a simple object factory, then you can use reflection to read the annotation and prevent the class from being instantiated more than once, but I understand this is not the answer you were looking for.\r\n\r\nYou can actually think about dropping the singleton pattern and moving to some more modern solution like a proper DI framework, which can give you the same result - with more flexibility.","title":"How can I implement @Singleton annotation?","body":"<p>No annotation can prevent a class from being instantiated. However, if you plan to implement something like a Dependency Injection framework, or just a simple object factory, then you can use reflection to read the annotation and prevent the class from being instantiated more than once, but I understand this is not the answer you were looking for.</p>\n\n<p>You can actually think about dropping the singleton pattern and moving to some more modern solution like a proper DI framework, which can give you the same result - with more flexibility.</p>\n"},{"tags":[],"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1647859895,"creation_date":1379105887,"answer_id":18795128,"question_id":18795041,"body_markdown":"    public class ASingletonClass {\r\n\r\n        private static ASingletonClass instance = null;\r\n\r\n        private ASingletonClass() {\r\n    \r\n        }\r\n    \r\n        public static ASingletonClass getInstance() {\r\n            if (instance == null) {\r\n                 instance = new ASingletonClass();\r\n            }\r\n\r\n            return instance;\r\n        }\r\n    }\r\n\r\nThis is the right way to implement singleton. The annotation cannot stop people from calling the public constructor. ","title":"How can I implement @Singleton annotation?","body":"<pre><code>public class ASingletonClass {\n\n    private static ASingletonClass instance = null;\n\n    private ASingletonClass() {\n\n    }\n\n    public static ASingletonClass getInstance() {\n        if (instance == null) {\n             instance = new ASingletonClass();\n        }\n\n        return instance;\n    }\n}\n</code></pre>\n<p>This is the right way to implement singleton. The annotation cannot stop people from calling the public constructor.</p>\n"},{"tags":[],"owner":{"account_id":9813913,"reputation":173,"user_id":7271034,"display_name":"Jayant Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540554621,"creation_date":1540554621,"answer_id":53008089,"question_id":18795041,"body_markdown":"You can also use lazy initialization of the class. Example code as below.\r\n\r\n    class LazyInitialization implements PrintStatement {\r\n       private static LazyInitialization instance;\r\n\r\n       private LazyInitialization() {\r\n\r\n       }\r\n\r\n       static LazyInitialization getInstance() {\r\n         if (instance == null)\r\n            instance = new LazyInitialization();\r\n\r\n         return instance;\r\n       }\r\n\r\n       @Override\r\n       public void print() {\r\n          System.out.println(&quot;I am inside&quot;);\r\n       }\r\n    }","title":"How can I implement @Singleton annotation?","body":"<p>You can also use lazy initialization of the class. Example code as below.</p>\n\n<pre><code>class LazyInitialization implements PrintStatement {\n   private static LazyInitialization instance;\n\n   private LazyInitialization() {\n\n   }\n\n   static LazyInitialization getInstance() {\n     if (instance == null)\n        instance = new LazyInitialization();\n\n     return instance;\n   }\n\n   @Override\n   public void print() {\n      System.out.println(\"I am inside\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26195120,"reputation":1,"user_id":19876330,"display_name":"Ethan Graham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669760092,"creation_date":1669760092,"answer_id":74620813,"question_id":18795041,"body_markdown":"It is arguably best to have a stateless singleton:\r\n\r\n    public class Singleton {\r\n        private static final Singleton INSTANCE = new Singleton();\r\n        \r\n        private Singleton() {}\r\n        \r\n        public static Singleton getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    }","title":"How can I implement @Singleton annotation?","body":"<p>It is arguably best to have a stateless singleton:</p>\n<pre><code>public class Singleton {\n    private static final Singleton INSTANCE = new Singleton();\n    \n    private Singleton() {}\n    \n    public static Singleton getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1495402,"reputation":2213,"user_id":1401472,"accept_rate":78,"display_name":"user1401472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42489,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":18795108,"answer_count":4,"score":27,"last_activity_date":1669760092,"creation_date":1379105497,"question_id":18795041,"body_markdown":"Possibly a repeated question. But I need to implement something like \r\n    \r\n    @Singleton\r\n    public class Person {\r\n    }\r\n    \r\nThat will ensure only single instance of Person object. \r\n    \r\nOne way is to make constructor private. But that makes the Singleton annotation redundant. \r\n    \r\nI could not really understand if I can really restrict object creation to single object without making the constructor private.\r\n    \r\nIs that even possible?","title":"How can I implement @Singleton annotation?","body":"<p>Possibly a repeated question. But I need to implement something like </p>\n\n<pre><code>@Singleton\npublic class Person {\n}\n</code></pre>\n\n<p>That will ensure only single instance of Person object. </p>\n\n<p>One way is to make constructor private. But that makes the Singleton annotation redundant. </p>\n\n<p>I could not really understand if I can really restrict object creation to single object without making the constructor private.</p>\n\n<p>Is that even possible?</p>\n"},{"tags":["java","testng","allure"],"answers":[{"tags":[],"owner":{"account_id":27090925,"reputation":1,"user_id":20638734,"display_name":"Kate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669759823,"creation_date":1669759823,"answer_id":74620766,"question_id":71839673,"body_markdown":"My example will be on Java : how to set unknow(pink status) to Step\r\n\r\nAllure.getLifecycle().stopStep();","title":"Trigger Status &#39;unknown&#39; in Allure report","body":"<p>My example will be on Java : how to set unknow(pink status) to Step</p>\n<p>Allure.getLifecycle().stopStep();</p>\n"}],"owner":{"account_id":207741,"reputation":573,"user_id":457788,"accept_rate":44,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669759823,"creation_date":1649753344,"question_id":71839673,"body_markdown":"I&#39;m using TestNG with Allure.\r\n\r\nThrowing **org.testng.SkipException** will trigger status **skipped** (gray color) in the report:\r\n\r\n    if (DateUtils.dayOfMonth() &lt; data.getTagDesMonatsAb()) {\r\n\t\tthrow new SkipException(&quot;Der Test wird nur ab dem &quot; + data.getTagDesMonatsAb() + &quot;. des Monats ausgef&#252;hrt.&quot;);\r\n    }\r\n\r\nBut how can I make the have status **unknown** (pink color)?\r\n","title":"Trigger Status &#39;unknown&#39; in Allure report","body":"<p>I'm using TestNG with Allure.</p>\n<p>Throwing <strong>org.testng.SkipException</strong> will trigger status <strong>skipped</strong> (gray color) in the report:</p>\n<pre><code>if (DateUtils.dayOfMonth() &lt; data.getTagDesMonatsAb()) {\n    throw new SkipException(&quot;Der Test wird nur ab dem &quot; + data.getTagDesMonatsAb() + &quot;. des Monats ausgeführt.&quot;);\n}\n</code></pre>\n<p>But how can I make the have status <strong>unknown</strong> (pink color)?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1669759862,"post_id":74620643,"comment_id":131715215,"body_markdown":"Besides the wrong order numeric vs. alphabetical the recipe &quot;last ID + 1&quot; could with concurrent call result in twice the same ID. Can you not use the DB provided auto-generated sequences?","body":"Besides the wrong order numeric vs. alphabetical the recipe &quot;last ID + 1&quot; could with concurrent call result in twice the same ID. Can you not use the DB provided auto-generated sequences?"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1669762937,"post_id":74620643,"comment_id":131715971,"body_markdown":"your code would work fine if your getLastID to actually got the last id, e.g. `select pID from yourtablename order by -substring_index(pID,&#39;-&#39;) limit 1`.  that would not be very efficient though.  I suggest you ditch the SP- prefix.","body":"your code would work fine if your getLastID to actually got the last id, e.g. <code>select pID from yourtablename order by -substring_index(pID,&#39;-&#39;) limit 1</code>.  that would not be very efficient though.  I suggest you ditch the SP- prefix."}],"answers":[{"tags":[],"owner":{"account_id":18025917,"reputation":329,"user_id":13101880,"display_name":"Charles Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669759274,"creation_date":1669759274,"answer_id":74620685,"question_id":74620643,"body_markdown":"Would not recommend using &quot;SP-&quot; in your primary key. Would recommend an arbitrary id that auto increments. See these docs: https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\r\n\r\nExample:\r\n```\r\nCREATE TABLE users (\r\n    id INT NOT NULL AUTO_INCREMENT,\r\n    pID VARCHAR(20),\r\n    ... -- other columns\r\n    PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nWhen you create a new user, you can then update the pID to be &quot;SP-&quot; + generated_id\r\n\r\n\r\nTables in MySQL maintain insertion order. If you can guarantee that pID will not be updated after being inserted the first time, you can still get the correct lastId by selecting the last element of the unsorted table. Don&#39;t sort, as it&#39;s sorting alphabetically, not numerically. ","title":"Duplicate entry &#39;SP-10&#39; for key &#39;PRIMARY&#39; mySQL on auto generating ID java","body":"<p>Would not recommend using &quot;SP-&quot; in your primary key. Would recommend an arbitrary id that auto increments. See these docs: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html</a></p>\n<p>Example:</p>\n<pre><code>CREATE TABLE users (\n    id INT NOT NULL AUTO_INCREMENT,\n    pID VARCHAR(20),\n    ... -- other columns\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>When you create a new user, you can then update the pID to be &quot;SP-&quot; + generated_id</p>\n<p>Tables in MySQL maintain insertion order. If you can guarantee that pID will not be updated after being inserted the first time, you can still get the correct lastId by selecting the last element of the unsorted table. Don't sort, as it's sorting alphabetically, not numerically.</p>\n"}],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669759274,"creation_date":1669758928,"question_id":74620643,"body_markdown":"I am generating the user IDs(for a table) using java. When I am sort it by descending order, it goes like this. \r\n : \r\n\r\n[![mysql][1]][1]\r\n\r\n\r\nI am using following code to get the next user ID:\r\n\r\n    String tempStID = studentBO.getLastID();\r\n    if (tempStID.equalsIgnoreCase(&quot;&quot;)) {\r\n                lblStID.setText(&quot;SS-&quot; + 1);\r\n            } else {\r\n                String[] array = tempStID.split(&quot;-&quot;);\r\n                int tempNumber = Integer.parseInt(array[1]);\r\n                int finalizeOrderId = tempNumber + 1;\r\n                lblStID.setText(&quot;SS-&quot; + finalizeOrderId);\r\n            }\r\n\r\nAs this code getting the SS-9 as the last ID it generate SS-10 for the next ID, but as it is already there it giving me the duplicate entry error.\r\n\r\n[![error][2]][2]\r\n\r\nAny way to fix this? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K2YNN.png\r\n  [2]: https://i.stack.imgur.com/rg33k.png","title":"Duplicate entry &#39;SP-10&#39; for key &#39;PRIMARY&#39; mySQL on auto generating ID java","body":"<p>I am generating the user IDs(for a table) using java. When I am sort it by descending order, it goes like this.\n:</p>\n<p><a href=\"https://i.stack.imgur.com/K2YNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K2YNN.png\" alt=\"mysql\" /></a></p>\n<p>I am using following code to get the next user ID:</p>\n<pre><code>String tempStID = studentBO.getLastID();\nif (tempStID.equalsIgnoreCase(&quot;&quot;)) {\n            lblStID.setText(&quot;SS-&quot; + 1);\n        } else {\n            String[] array = tempStID.split(&quot;-&quot;);\n            int tempNumber = Integer.parseInt(array[1]);\n            int finalizeOrderId = tempNumber + 1;\n            lblStID.setText(&quot;SS-&quot; + finalizeOrderId);\n        }\n</code></pre>\n<p>As this code getting the SS-9 as the last ID it generate SS-10 for the next ID, but as it is already there it giving me the duplicate entry error.</p>\n<p><a href=\"https://i.stack.imgur.com/rg33k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rg33k.png\" alt=\"error\" /></a></p>\n<p>Any way to fix this?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1565546016,"post_id":57451581,"comment_id":101379341,"body_markdown":"Share the `Tag` also, just in case.","body":"Share the <code>Tag</code> also, just in case."},{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565546773,"post_id":57451581,"comment_id":101379502,"body_markdown":"I&#39;ve added now, thanks","body":"I&#39;ve added now, thanks"}],"answers":[{"tags":[],"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565541649,"creation_date":1565541649,"answer_id":57451800,"question_id":57451581,"body_markdown":"In a native query approach, the SQL is passed exactly to be executed as is what it&#39;s written. And I think the framework could not serialize your collection as the required pattern ```all(array[?, ?, ?, ...])```. In that case, you should convert your parameter before passing to the method or change the approach to not using the native query.","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>In a native query approach, the SQL is passed exactly to be executed as is what it's written. And I think the framework could not serialize your collection as the required pattern <code>all(array[?, ?, ?, ...])</code>. In that case, you should convert your parameter before passing to the method or change the approach to not using the native query.</p>\n"},{"tags":[],"owner":{"account_id":133697,"reputation":63,"user_id":335264,"display_name":"thoomasbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669758881,"creation_date":1669758881,"answer_id":74620637,"question_id":57451581,"body_markdown":"Had the same trouble casting the list&lt;String&gt; to a text[] using spring + hibernate &amp; native query\r\n\r\nSee https://stackoverflow.com/a/55179555/335264 for a working solution\r\n(uses two postgresql functions to do the casting)","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>Had the same trouble casting the list to a text[] using spring + hibernate &amp; native query</p>\n<p>See <a href=\"https://stackoverflow.com/a/55179555/335264\">https://stackoverflow.com/a/55179555/335264</a> for a working solution\n(uses two postgresql functions to do the casting)</p>\n"}],"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1835,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669758881,"creation_date":1565539687,"question_id":57451581,"body_markdown":"I&#39;ve tried to do a native query with Spring Boot using `all(array[])` function, however, I couldn&#39;t make it correctly. I don&#39;t know the quantity of Strings that I&#39;ll pass, it&#39;s a dynamic quantity. Can you guys help me on this, please?\r\n\r\n\r\nI&#39;ve tried using `List&lt;String&gt;`, `String[]` and just `String` as below:\r\n\r\n1. passing `String` and in the query `all(array[:texto])`: no errors, however, no results.\r\n\r\n2. passing `List&lt;String&gt;` and in the query `all(array[:texto])`:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* record\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n```\r\n\r\n3. passing `String[]` and in the query `all(array[:texto])`:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* bytea\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n```\r\n\r\n4. passing `String[]` and in the query `all(array[CAST(:texto AS TEXT)])`: no errors, however, no results.\r\n\r\n``` \r\n@Query(value=&quot;SELECT * FROM Tag WHERE nome ILIKE all(array[:texto])&quot;, nativeQuery=true)\r\npublic List&lt;Tag&gt; findPacotesByTexto(@Param(&quot;texto&quot;) List&lt;String&gt; texto);\r\n```\r\n\r\n**EDITED:**\r\n\r\n```\r\n@Entity\r\npublic class Tag {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate String nome;\r\n\t\r\n\t@ManyToOne\r\n\t@JsonIgnore\r\n    @JoinColumn(name=&quot;pacote_id&quot;)\r\n\tprivate Pacote pacote;\r\n\t\r\n\tTag() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Tag (String nome, Pacote pacote) {\r\n\t\tthis.nome = nome;\r\n\t\tthis.pacote = pacote;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\r\n\tpublic Pacote getPacote() {\r\n\t\treturn pacote;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nHow can I make this work?\r\n\r\nThanks in advance.","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>I've tried to do a native query with Spring Boot using <code>all(array[])</code> function, however, I couldn't make it correctly. I don't know the quantity of Strings that I'll pass, it's a dynamic quantity. Can you guys help me on this, please?</p>\n\n<p>I've tried using <code>List&lt;String&gt;</code>, <code>String[]</code> and just <code>String</code> as below:</p>\n\n<ol>\n<li><p>passing <code>String</code> and in the query <code>all(array[:texto])</code>: no errors, however, no results.</p></li>\n<li><p>passing <code>List&lt;String&gt;</code> and in the query <code>all(array[:texto])</code>:</p></li>\n</ol>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* record\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<ol start=\"3\">\n<li>passing <code>String[]</code> and in the query <code>all(array[:texto])</code>:</li>\n</ol>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* bytea\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<ol start=\"4\">\n<li>passing <code>String[]</code> and in the query <code>all(array[CAST(:texto AS TEXT)])</code>: no errors, however, no results.</li>\n</ol>\n\n<pre><code>@Query(value=\"SELECT * FROM Tag WHERE nome ILIKE all(array[:texto])\", nativeQuery=true)\npublic List&lt;Tag&gt; findPacotesByTexto(@Param(\"texto\") List&lt;String&gt; texto);\n</code></pre>\n\n<p><strong>EDITED:</strong></p>\n\n<pre><code>@Entity\npublic class Tag {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(nullable = false)\n    private String nome;\n\n    @ManyToOne\n    @JsonIgnore\n    @JoinColumn(name=\"pacote_id\")\n    private Pacote pacote;\n\n    Tag() {\n\n    }\n\n    public Tag (String nome, Pacote pacote) {\n        this.nome = nome;\n        this.pacote = pacote;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public Pacote getPacote() {\n        return pacote;\n    }\n\n}\n</code></pre>\n\n<p>How can I make this work?</p>\n\n<p>Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9147,"page":845,"page_size":100}
