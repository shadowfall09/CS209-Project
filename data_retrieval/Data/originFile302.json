{"items":[{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":8,"creation_date":1496055684,"post_id":44239869,"comment_id":75490760,"body_markdown":"`typealias StringArray = Array&lt;String&gt;` ;)","body":"<code>typealias StringArray = Array&lt;String&gt;</code> ;)"}],"answers":[{"tags":[],"owner":{"account_id":5641500,"reputation":86662,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1496052747,"creation_date":1496052747,"answer_id":44239925,"question_id":44239869,"body_markdown":"Those types are there so that you can create arrays of the primitives, and not the boxed types. Since String isn&#39;t a primitive in Java, you can just use `Array&lt;String&gt;` in Kotlin as the equivalent of a Java `String[]`.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>Those types are there so that you can create arrays of the primitives, and not the boxed types. Since String isn't a primitive in Java, you can just use <code>Array&lt;String&gt;</code> in Kotlin as the equivalent of a Java <code>String[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":343582,"reputation":99129,"user_id":675383,"accept_rate":94,"display_name":"nhaarman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496052754,"creation_date":1496052754,"answer_id":44239929,"question_id":44239869,"body_markdown":"For `Strings` and other types, you just use `Array&lt;*&gt;`.\r\nThe reason `IntArray` and others exist is to prevent autoboxing.\r\n\r\nSo `int[]` relates to `IntArray` where `Integer[]` relates to `Array&lt;Int&gt;`.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>For <code>Strings</code> and other types, you just use <code>Array&lt;*&gt;</code>.\nThe reason <code>IntArray</code> and others exist is to prevent autoboxing.</p>\n\n<p>So <code>int[]</code> relates to <code>IntArray</code> where <code>Integer[]</code> relates to <code>Array&lt;Int&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":2,"up_vote_count":318,"is_accepted":true,"score":316,"last_activity_date":1496078398,"creation_date":1496052782,"answer_id":44239940,"question_id":44239869,"body_markdown":"There&#39;s no special case for `String`, because `String` is an ordinary referential type on JVM, in contrast with [Java primitives (`int`, `double`, ...)][1] -- storing them in a reference [`Array&lt;T&gt;`][2] requires [boxing them into objects like `Integer` and `Double`][3]. The purpose of specialized arrays like [`IntArray`][4] in Kotlin is to store non-boxed primitives, getting rid of boxing and unboxing overhead (the same as Java `int[]` instead of `Integer[]`).\r\n\r\nYou can use `Array&lt;String&gt;` (and `Array&lt;String?&gt;` for nullables), which is equivalent to `String[]` in Java:\r\n\r\n    val stringsOrNulls = arrayOfNulls&lt;String&gt;(10) // returns Array&lt;String?&gt;\r\n    val someStrings = Array&lt;String&gt;(5) { &quot;it = $it&quot; }\r\n    val otherStrings = arrayOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)\r\n\r\nSee also: [*Arrays* in the language reference][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\r\n  [5]: https://kotlinlang.org/docs/reference/basic-types.html#arrays","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>There's no special case for <code>String</code>, because <code>String</code> is an ordinary referential type on JVM, in contrast with <a href=\"https://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\">Java primitives (<code>int</code>, <code>double</code>, ...)</a> -- storing them in a reference <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\" rel=\"noreferrer\"><code>Array&lt;T&gt;</code></a> requires <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">boxing them into objects like <code>Integer</code> and <code>Double</code></a>. The purpose of specialized arrays like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\" rel=\"noreferrer\"><code>IntArray</code></a> in Kotlin is to store non-boxed primitives, getting rid of boxing and unboxing overhead (the same as Java <code>int[]</code> instead of <code>Integer[]</code>).</p>\n\n<p>You can use <code>Array&lt;String&gt;</code> (and <code>Array&lt;String?&gt;</code> for nullables), which is equivalent to <code>String[]</code> in Java:</p>\n\n<pre><code>val stringsOrNulls = arrayOfNulls&lt;String&gt;(10) // returns Array&lt;String?&gt;\nval someStrings = Array&lt;String&gt;(5) { \"it = $it\" }\nval otherStrings = arrayOf(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\"><em>Arrays</em> in the language reference</a></p>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1547994010,"creation_date":1544130441,"answer_id":53659700,"question_id":44239869,"body_markdown":"use  *arrayOf*, *arrayOfNulls*, *emptyArray* \r\n\r\n    var colors_1: Array&lt;String&gt; = arrayOf(&quot;green&quot;, &quot;red&quot;, &quot;blue&quot;)\r\n    var colors_2: Array&lt;String?&gt; = arrayOfNulls(3)\r\n    var colors_3: Array&lt;String&gt; = emptyArray()","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>use  <em>arrayOf</em>, <em>arrayOfNulls</em>, <em>emptyArray</em> </p>\n\n<pre><code>var colors_1: Array&lt;String&gt; = arrayOf(\"green\", \"red\", \"blue\")\nvar colors_2: Array&lt;String?&gt; = arrayOfNulls(3)\nvar colors_3: Array&lt;String&gt; = emptyArray()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645875,"reputation":2220,"user_id":2288580,"display_name":"user2288580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549217401,"creation_date":1544821796,"answer_id":53786906,"question_id":44239869,"body_markdown":"This example works perfectly in Android\r\n\r\nIn kotlin you can use a lambda expression for this. The Kotlin Array Constructor definition is:\r\n\r\n    Array(size: Int, init: (Int) -&gt; T)\r\n\r\nWhich evaluates to:\r\n\r\n    skillsSummaryDetailLinesArray = Array(linesLen) {\r\n    \t\ti: Int -&gt; skillsSummaryDetailLines!!.getString(i)\r\n    }\r\n\r\nOr:\r\n\r\n    skillsSummaryDetailLinesArray = Array&lt;String&gt;(linesLen) {\r\n    \t\ti: Int -&gt; skillsSummaryDetailLines!!.getString(i)\r\n    }\r\n\r\nIn this example the field definition was:\r\n\r\n    private var skillsSummaryDetailLinesArray: Array&lt;String&gt;? = null\r\n\r\nHope this helps\r\n\r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>This example works perfectly in Android</p>\n\n<p>In kotlin you can use a lambda expression for this. The Kotlin Array Constructor definition is:</p>\n\n<pre><code>Array(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>Which evaluates to:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array&lt;String&gt;(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>In this example the field definition was:</p>\n\n<pre><code>private var skillsSummaryDetailLinesArray: Array&lt;String&gt;? = null\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":15086085,"reputation":11,"user_id":10887265,"display_name":"Jo&#227;o Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555779540,"creation_date":1555779540,"answer_id":55775769,"question_id":44239869,"body_markdown":"you can use too:\r\n\r\n    val frases = arrayOf(&quot;texto01&quot;,&quot;texto02 &quot;,&quot;anotherText&quot;,&quot;and &quot;)\r\n\r\nfor example.","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>you can use too:</p>\n\n<pre><code>val frases = arrayOf(\"texto01\",\"texto02 \",\"anotherText\",\"and \")\n</code></pre>\n\n<p>for example.</p>\n"},{"tags":[],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1689700588,"creation_date":1555948309,"answer_id":55797139,"question_id":44239869,"body_markdown":"### Kotlin&#39;s array of Strings\r\n\r\nTo create an empty array of Strings in Kotlin, you should use one of the following six approaches:\r\n\r\n---\r\n\r\n    // 01\r\n    var empty = arrayOf&lt;String&gt;()\r\n\r\n---\r\n\r\n    // 02\r\n    var empty = arrayOf(&quot;&quot;,&quot;&quot;,&quot;&quot;)\r\n\r\n--- \r\n\r\n    // 03\r\n    var empty = Array&lt;String?&gt;(3) { null }\r\n\r\n---\r\n\r\n    // 04\r\n    var empty = arrayOfNulls&lt;String&gt;(3)\r\n\r\n---\r\n\r\n    // 05\r\n    var empty = Array&lt;String&gt;(3) { &quot;it = $it&quot; }\r\n\r\n---\r\n\r\n    // 06\r\n    var empty = Array&lt;String&gt;(0, { _ -&gt; &quot;&quot; })\r\n\r\n---\r\n\r\nHowever, if you need an array of characters, use the following method:\r\n\r\n``` lang-kotlin\r\nvar charArr = charArrayOf(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)\r\n```","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<h3>Kotlin's array of Strings</h3>\n<p>To create an empty array of Strings in Kotlin, you should use one of the following six approaches:</p>\n<hr />\n<pre><code>// 01\nvar empty = arrayOf&lt;String&gt;()\n</code></pre>\n<hr />\n<pre><code>// 02\nvar empty = arrayOf(&quot;&quot;,&quot;&quot;,&quot;&quot;)\n</code></pre>\n<hr />\n<pre><code>// 03\nvar empty = Array&lt;String?&gt;(3) { null }\n</code></pre>\n<hr />\n<pre><code>// 04\nvar empty = arrayOfNulls&lt;String&gt;(3)\n</code></pre>\n<hr />\n<pre><code>// 05\nvar empty = Array&lt;String&gt;(3) { &quot;it = $it&quot; }\n</code></pre>\n<hr />\n<pre><code>// 06\nvar empty = Array&lt;String&gt;(0, { _ -&gt; &quot;&quot; })\n</code></pre>\n<hr />\n<p>However, if you need an array of characters, use the following method:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var charArr = charArrayOf('a','b','c')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15705351,"reputation":521,"user_id":11332245,"display_name":"Himanshu Garg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575675873,"creation_date":1575675193,"answer_id":59221635,"question_id":44239869,"body_markdown":"Some of the common ways to create a String array are\r\n\r\n1. **var arr = Array(5){&quot;&quot;}**\r\n\r\nThis will create an array of 5 strings with initial values to be empty string.\r\n\r\n\r\n2. **var arr = arrayOfNulls`&lt;String?&gt;`(5)**\r\n\r\nThis will create an array of size 5 with initial values to be null. You can use String data to modify the array.\r\n\r\n\r\n3. **var arr = arrayOf(&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;)**\r\n\r\nWhen you know the contents of array already then you can initialise the array directly.\r\n\r\n\r\n4. There is an easy way for creating an **multi dimensional array** of strings as well.\r\n\r\n   **var matrix = Array(5){Array(6) {&quot;&quot;}}**\r\n\r\n   This is how you can create a matrix with 5 rows and 6 columns with initial values of \r\n   empty string. \r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>Some of the common ways to create a String array are</p>\n\n<ol>\n<li><strong>var arr = Array(5){\"\"}</strong></li>\n</ol>\n\n<p>This will create an array of 5 strings with initial values to be empty string.</p>\n\n<ol start=\"2\">\n<li><strong>var arr = arrayOfNulls<code>&lt;String?&gt;</code>(5)</strong></li>\n</ol>\n\n<p>This will create an array of size 5 with initial values to be null. You can use String data to modify the array.</p>\n\n<ol start=\"3\">\n<li><strong>var arr = arrayOf(\"zero\", \"one\", \"two\", \"three\")</strong></li>\n</ol>\n\n<p>When you know the contents of array already then you can initialise the array directly.</p>\n\n<ol start=\"4\">\n<li><p>There is an easy way for creating an <strong>multi dimensional array</strong> of strings as well.</p>\n\n<p><strong>var matrix = Array(5){Array(6) {\"\"}}</strong></p>\n\n<p>This is how you can create a matrix with 5 rows and 6 columns with initial values of \nempty string. </p></li>\n</ol>\n"}],"owner":{"account_id":1680463,"reputation":14123,"user_id":1544790,"accept_rate":92,"display_name":"chancyWu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210788,"favorite_count":0,"down_vote_count":1,"up_vote_count":244,"accepted_answer_id":44239940,"answer_count":8,"score":243,"last_activity_date":1689700588,"creation_date":1496052612,"question_id":44239869,"body_markdown":"I see that Kotlin has `ByteArray, ShortArray, IntArray, CharArray, DoubleArray, FloatArray`, which are equivalent to `byte[], short[], int[],char[], double[], float[]` in Java.\r\n\r\nNow I&#39;m wondering, is there any `StringArray` equivalent to Java&#39;s `String[]`?\r\n","title":"What&#39;s the Kotlin equivalent of Java&#39;s String[]?","body":"<p>I see that Kotlin has <code>ByteArray, ShortArray, IntArray, CharArray, DoubleArray, FloatArray</code>, which are equivalent to <code>byte[], short[], int[],char[], double[], float[]</code> in Java.</p>\n\n<p>Now I'm wondering, is there any <code>StringArray</code> equivalent to Java's <code>String[]</code>?</p>\n"},{"tags":["java","maven","automation","bdd","test-runner"],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689699509,"creation_date":1689699509,"question_id":76715051,"body_markdown":"I am trying to create a BDD testing Framework and seem to be getting the following error upon running a Testcase from my StepDefinition File.\r\n\r\nI have tried adding aopaliance.jar as mentioned on another similar thread, but this didn&#39;t work for me. Following is the error:\r\n\r\n```\r\njava.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration], {ExactMatcher:fDisplayName=setReportConfiguration(com.web.automation.runner.TestRunner)], {LeadingIdentifierMatcher:fClassName=com.web.automation.runner.TestRunner,fLeadingIdentifier=setReportConfiguration]] from org.junit.internal.requests.ClassRequest@61a485d2\r\n\tat org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:40)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createFilteredTest(JUnit4TestLoader.java:83)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:74)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\n\r\n[![Step Definition File][1]][1]\r\n\r\n[![Test Runner file][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZLfBo.jpg\r\n  [2]: https://i.stack.imgur.com/xnb0B.jpg\r\n  [3]: https://i.stack.imgur.com/WLoLq.jpg","title":"java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration],","body":"<p>I am trying to create a BDD testing Framework and seem to be getting the following error upon running a Testcase from my StepDefinition File.</p>\n<p>I have tried adding aopaliance.jar as mentioned on another similar thread, but this didn't work for me. Following is the error:</p>\n<pre><code>java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=setReportConfiguration], {ExactMatcher:fDisplayName=setReportConfiguration(com.web.automation.runner.TestRunner)], {LeadingIdentifierMatcher:fClassName=com.web.automation.runner.TestRunner,fLeadingIdentifier=setReportConfiguration]] from org.junit.internal.requests.ClassRequest@61a485d2\n    at org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:40)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createFilteredTest(JUnit4TestLoader.java:83)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:74)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZLfBo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZLfBo.jpg\" alt=\"Step Definition File\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WLoLq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLoLq.jpg\" alt=\"Test Runner file\" /></a></p>\n"},{"tags":["java","spring-boot","kotlin","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1689454759,"post_id":76695578,"comment_id":135216809,"body_markdown":"Are you using the same server.contextPath for production and local?","body":"Are you using the same server.contextPath for production and local?"},{"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"score":0,"creation_date":1689455049,"post_id":76695578,"comment_id":135216848,"body_markdown":"No, both are different.","body":"No, both are different."},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1689455116,"post_id":76695578,"comment_id":135216857,"body_markdown":"What is it for both of them?","body":"What is it for both of them?"},{"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"score":0,"creation_date":1689455377,"post_id":76695578,"comment_id":135216882,"body_markdown":"local : localhost:8080/test/hi     - (where test is controller level route name and hi is function level)\n\nproduction : server.ip:port/context-root/test/hi    - ( context-root is runtime context root name and test and hi as above)","body":"local : localhost:8080/test/hi     - (where test is controller level route name and hi is function level)  production : server.ip:port/context-root/test/hi    - ( context-root is runtime context root name and test and hi as above)"}],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689699339,"creation_date":1689699339,"answer_id":76715037,"question_id":76695578,"body_markdown":"It sounds like the problem is not with your code or your application, but with your production environment. There are many possible reasons why you are getting a 404 error, such as:\r\n\r\n* The network or infrastructure of your service is not set up properly.\r\n* You may need to use a VPN to access your service.\r\n* The wrong port is being used.\r\n* The application is not running in the correct mode.\r\n* The environment variables that are required by your application are not set correctly. (I assume that you are sure that your application running correctly)\r\n\r\nTo troubleshoot this issue, I recommend checking the following:\r\n\r\n* Make sure that the network or infrastructure of your service is set up properly.\r\n* Try using a VPN to access your service, if it&#39;s required.\r\n* Check the port that you are using.\r\n* Check the mode that your application is running in.\r\n* Check the environment variables that are required by your application.\r\n\r\nIf you have checked all of these things and you are still getting a 404 error, then please post more details about your deployment and running environment. \r\n","title":"Spring Boot (3.1.1) Kotlin Application Returns 404 Not Found in Production","body":"<p>It sounds like the problem is not with your code or your application, but with your production environment. There are many possible reasons why you are getting a 404 error, such as:</p>\n<ul>\n<li>The network or infrastructure of your service is not set up properly.</li>\n<li>You may need to use a VPN to access your service.</li>\n<li>The wrong port is being used.</li>\n<li>The application is not running in the correct mode.</li>\n<li>The environment variables that are required by your application are not set correctly. (I assume that you are sure that your application running correctly)</li>\n</ul>\n<p>To troubleshoot this issue, I recommend checking the following:</p>\n<ul>\n<li>Make sure that the network or infrastructure of your service is set up properly.</li>\n<li>Try using a VPN to access your service, if it's required.</li>\n<li>Check the port that you are using.</li>\n<li>Check the mode that your application is running in.</li>\n<li>Check the environment variables that are required by your application.</li>\n</ul>\n<p>If you have checked all of these things and you are still getting a 404 error, then please post more details about your deployment and running environment.</p>\n"}],"owner":{"account_id":15025023,"reputation":16,"user_id":10845168,"display_name":"Shivam Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689699339,"creation_date":1689451296,"question_id":76695578,"body_markdown":"I am using Kotlin in spring boot (version 3.1.1) with maven build system. Application is throwing 404 when i am trying to access my resource(rest api) in production environment but its working fine on localhost with my machine. \r\n\r\n&lt;br&gt; \r\n\r\nLocalhost Url : `localhost:8080/test/hi`\r\n\r\nProduction Url : `server.ip:port/runtime-name/test/hi`\r\n\r\n\r\nApplication Web server : `Wildfly`\r\n\r\n\r\n\r\nCommand for building war file : `mvn package`\r\n\r\n\r\n&lt;br&gt; \r\n\r\nWhat could be possible issue for such problem ?\r\n\r\n&lt;br&gt;\r\n\r\n\r\n*I have tried with java and maven/gradle build system - **Working fine on machine and production***\r\n\r\n&lt;br&gt;\r\n\r\n**It should work after deployment on wildfly/tomcat webserver with `kotlin` and either of `maven`,`gradle` or `gradle-kotlin`.**\r\n\r\n\r\nQuick help is appreciated.\r\n\r\nThanks in advance!!\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n**Code :**\r\n\r\n\r\n```\r\npackage com.example.demo2\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\n\r\n@SpringBootApplication\r\nclass Demo2Application\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n\trunApplication&lt;Demo2Application&gt;(*args)\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.example.demo2\r\n\r\nimport org.springframework.http.HttpStatus\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RequestMapping\r\nimport org.springframework.web.bind.annotation.RestController\r\n\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\nclass TestController {\r\n\r\n    @GetMapping(&quot;/hi&quot;)\r\n    fun hello(): ResponseEntity&lt;String&gt; {\r\n        return ResponseEntity&lt;String&gt;(&quot;Hi There&quot;,HttpStatus.ACCEPTED)\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;kotlin.version&gt;1.8.22&lt;/kotlin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n ","title":"Spring Boot (3.1.1) Kotlin Application Returns 404 Not Found in Production","body":"<p>I am using Kotlin in spring boot (version 3.1.1) with maven build system. Application is throwing 404 when i am trying to access my resource(rest api) in production environment but its working fine on localhost with my machine.</p>\n<br> \n<p>Localhost Url : <code>localhost:8080/test/hi</code></p>\n<p>Production Url : <code>server.ip:port/runtime-name/test/hi</code></p>\n<p>Application Web server : <code>Wildfly</code></p>\n<p>Command for building war file : <code>mvn package</code></p>\n<br> \n<p>What could be possible issue for such problem ?</p>\n<br>\n<p><em>I have tried with java and maven/gradle build system - <strong>Working fine on machine and production</strong></em></p>\n<br>\n<p><strong>It should work after deployment on wildfly/tomcat webserver with <code>kotlin</code> and either of <code>maven</code>,<code>gradle</code> or <code>gradle-kotlin</code>.</strong></p>\n<p>Quick help is appreciated.</p>\n<p>Thanks in advance!!</p>\n<br>\n<br>\n<p><strong>Code :</strong></p>\n<pre><code>package com.example.demo2\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass Demo2Application\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;Demo2Application&gt;(*args)\n}\n\n</code></pre>\n<pre><code>package com.example.demo2\n\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\n@RequestMapping(&quot;/test&quot;)\nclass TestController {\n\n    @GetMapping(&quot;/hi&quot;)\n    fun hello(): ResponseEntity&lt;String&gt; {\n        return ResponseEntity&lt;String&gt;(&quot;Hi There&quot;,HttpStatus.ACCEPTED)\n\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.8.22&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":6,"creation_date":1449043070,"post_id":34037334,"comment_id":55830010,"body_markdown":"I don&#39;t know what your question is, but the reason why it&#39;s not possible to stub `getMessage` is because it&#39;s declared `final` in `AbstractMessageSource`, which is the superclass of `ReloadableResourceBundleMessageSource`.  Mockito can&#39;t stub final methods.","body":"I don&#39;t know what your question is, but the reason why it&#39;s not possible to stub <code>getMessage</code> is because it&#39;s declared <code>final</code> in <code>AbstractMessageSource</code>, which is the superclass of <code>ReloadableResourceBundleMessageSource</code>.  Mockito can&#39;t stub final methods."},{"owner":{"account_id":1196271,"reputation":835,"user_id":1167936,"accept_rate":79,"display_name":"OddBeck"},"score":0,"creation_date":1449054054,"post_id":34037334,"comment_id":55836651,"body_markdown":"Thanks, that explains it!","body":"Thanks, that explains it!"}],"answers":[{"tags":[],"owner":{"account_id":1196271,"reputation":835,"user_id":1167936,"accept_rate":79,"display_name":"OddBeck"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1449054150,"creation_date":1449054150,"answer_id":34041119,"question_id":34037334,"body_markdown":"As David Wallace said:\r\n\r\nMockito can&#39;t stub &quot;final&quot; methods, and as &#39;getMessage&#39; is declared final you can&#39;t mock it.\r\n\r\n","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>As David Wallace said:</p>\n\n<p>Mockito can't stub \"final\" methods, and as 'getMessage' is declared final you can't mock it.</p>\n"},{"tags":[],"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459155733,"creation_date":1459155733,"answer_id":36259113,"question_id":34037334,"body_markdown":"I didn&#39;t want to use PowerMock, and I solved the problem creating a real ReloadableResourceBundleMessageSource bean and injected it into the class I wanted to test\r\n\r\n    // create the real bean\r\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n    messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n    messageSource.setCacheSeconds(-1);\r\n    messageSource.setBasenames(&quot;classpath:conf-test/messages&quot;); // this folder is just for testing and it contains a messages_en.properties file\r\n    \r\n    // inject the bean into the class I wanted to test\r\n    ReflectionTestUtils.setField(service, &quot;messageSource&quot;, messageSource);","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>I didn't want to use PowerMock, and I solved the problem creating a real ReloadableResourceBundleMessageSource bean and injected it into the class I wanted to test</p>\n\n<pre><code>// create the real bean\nReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\nmessageSource.setDefaultEncoding(\"UTF-8\");\nmessageSource.setCacheSeconds(-1);\nmessageSource.setBasenames(\"classpath:conf-test/messages\"); // this folder is just for testing and it contains a messages_en.properties file\n\n// inject the bean into the class I wanted to test\nReflectionTestUtils.setField(service, \"messageSource\", messageSource);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3997109,"reputation":1595,"user_id":3294286,"accept_rate":67,"display_name":"Sebastian D&#39;Agostino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520256901,"creation_date":1520256901,"answer_id":49111678,"question_id":34037334,"body_markdown":"I found a work-around the mockito limitations to mocking final methods in this case.\r\n\r\nInstead of mocking, I set the class after constructing it like this:\r\n\r\n    ReloadableResourceBundleMessageSource bundleMessageSource = new ReloadableResourceBundleMessageSource();\r\n    bundleMessageSource.setUseCodeAsDefaultMessage(true);\r\n\r\nAccording to the [official documentation][1]:\r\n\r\n&gt; Return whether to use the message code as default message instead of\r\n&gt; throwing a NoSuchMessageException. Useful for development and\r\n&gt; debugging. Default is &quot;false&quot;.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/2.5.x/javadoc-api/org/springframework/context/support/AbstractMessageSource.html#isUseCodeAsDefaultMessage()","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>I found a work-around the mockito limitations to mocking final methods in this case.</p>\n\n<p>Instead of mocking, I set the class after constructing it like this:</p>\n\n<pre><code>ReloadableResourceBundleMessageSource bundleMessageSource = new ReloadableResourceBundleMessageSource();\nbundleMessageSource.setUseCodeAsDefaultMessage(true);\n</code></pre>\n\n<p>According to the <a href=\"https://docs.spring.io/spring/docs/2.5.x/javadoc-api/org/springframework/context/support/AbstractMessageSource.html#isUseCodeAsDefaultMessage()\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n\n<blockquote>\n  <p>Return whether to use the message code as default message instead of\n  throwing a NoSuchMessageException. Useful for development and\n  debugging. Default is \"false\".</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2072948,"reputation":302,"user_id":1846989,"display_name":"ElitCenk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568702152,"creation_date":1568702152,"answer_id":57968593,"question_id":34037334,"body_markdown":"Final methods can&#39;t mock. So I write a solution like this.\r\n\r\n\r\n\t\tResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n\t\tmessageSource.setUseCodeAsDefaultMessage(true);\r\n\t\tReflectionTestUtils.setField(service, &quot;messageSource&quot;, messageSource);","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>Final methods can't mock. So I write a solution like this.</p>\n\n<pre><code>    ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n    messageSource.setUseCodeAsDefaultMessage(true);\n    ReflectionTestUtils.setField(service, \"messageSource\", messageSource);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24569973,"reputation":31,"user_id":18476546,"display_name":"Yanis ALLOUCH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661940451,"creation_date":1661940451,"answer_id":73554241,"question_id":34037334,"body_markdown":"I have successfully mocked `ResourceBundleMessageSource` combining Mockito and PowerMockito (according to this [thread](https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object)).\r\n\r\nHere&#39;s an extract of my Unit Test :\r\n\r\n```java\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({..., ResourceBundleMessageSource.class})\r\npublic class ClassUnderTest {\r\n   @Mock\r\n   ResourceBundleMessageSource resourceBundleMessageSourceMock;\r\n\r\n\r\n   @Test\r\n   public void myTest() {\r\n      // Given\r\n      ...;\r\n\r\n      // When\r\n      PowerMockito.mockStatic(ResourceBundleMessageSource.class);\r\n      \r\n      Mockito.when(resourceBundleMessageSourceMock.getMessage(ArgumentMatchers.anyString(), ArgumentMatchers.any(Object[].class),\r\n        ArgumentMatchers.any(Locale.class)).thenReturn(&quot;aString&quot;);\r\n\r\n      // Then\r\n      ...;\r\n   }\r\n\r\n} ","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>I have successfully mocked <code>ResourceBundleMessageSource</code> combining Mockito and PowerMockito (according to this <a href=\"https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object\">thread</a>).</p>\n<p>Here's an extract of my Unit Test :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({..., ResourceBundleMessageSource.class})\npublic class ClassUnderTest {\n   @Mock\n   ResourceBundleMessageSource resourceBundleMessageSourceMock;\n\n\n   @Test\n   public void myTest() {\n      // Given\n      ...;\n\n      // When\n      PowerMockito.mockStatic(ResourceBundleMessageSource.class);\n      \n      Mockito.when(resourceBundleMessageSourceMock.getMessage(ArgumentMatchers.anyString(), ArgumentMatchers.any(Object[].class),\n        ArgumentMatchers.any(Locale.class)).thenReturn(&quot;aString&quot;);\n\n      // Then\n      ...;\n   }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689698944,"creation_date":1689698944,"answer_id":76714992,"question_id":34037334,"body_markdown":"Might be a ClassLoader problem, the Tests run differently.\r\n\r\nIn my case I had multiple maven modules, app and bl. So the Test run in bl and the message.properties was in app/src/main/resource.\r\n\r\nTest your actual Classpath of the Test with:\r\n    \r\n    [...]\r\n    ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n    System.out.println(new File(getClass().getClassLoader().getResource(&quot;.&quot;).getFile()));\r\n    [...]\r\n\r\nThis gave me something like &quot;C:/ws/myapp/bl/target/test-classes&quot;\r\n\r\nSolution in the Test was to set the ClassLoader of the actual test class and copy the resource file to the test resource folder of the bl module.\r\n\r\n      messageSource.setBundleClassLoader(getClass().getClassLoader());\r\n      messageSource.setBasename(&quot;messages&quot;);\r\n\r\n","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>Might be a ClassLoader problem, the Tests run differently.</p>\n<p>In my case I had multiple maven modules, app and bl. So the Test run in bl and the message.properties was in app/src/main/resource.</p>\n<p>Test your actual Classpath of the Test with:</p>\n<pre><code>[...]\nResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\nSystem.out.println(new File(getClass().getClassLoader().getResource(&quot;.&quot;).getFile()));\n[...]\n</code></pre>\n<p>This gave me something like &quot;C:/ws/myapp/bl/target/test-classes&quot;</p>\n<p>Solution in the Test was to set the ClassLoader of the actual test class and copy the resource file to the test resource folder of the bl module.</p>\n<pre><code>  messageSource.setBundleClassLoader(getClass().getClassLoader());\n  messageSource.setBasename(&quot;messages&quot;);\n</code></pre>\n"}],"owner":{"account_id":1196271,"reputation":835,"user_id":1167936,"accept_rate":79,"display_name":"OddBeck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5559,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34041119,"answer_count":6,"score":2,"last_activity_date":1689698944,"creation_date":1449042375,"question_id":34037334,"body_markdown":"I have this simple test, it isn&#39;t even a test as I&#39;m simply trying to mock the messagesource.\r\n\r\nI&#39;m getting this error:\r\n\r\n    org.springframework.context.NoSuchMessageException: No message \r\n    found under code &#39;&#39; for locale &#39;null&#39;.\r\n\r\nCan anyone else verify this behavior?\r\n\r\nThis is a minimum spring boot skeleton test I set up because  `ReloadableResourceBundleMessageSource` didn&#39;t work in another project, so I thought I&#39;ll just try it in the smallest unit possible.\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class DemoApplicationTests {\r\n\r\n    \t@Test\r\n\t    public void contextLoads() {\r\n\r\n\t\tReloadableResourceBundleMessageSource messageSource = \r\n        mock(ReloadableResourceBundleMessageSource.class);\r\n\t\twhen(\r\n           messageSource.getMessage(\r\n               anyString(), \r\n               any(Object[].class), \r\n               any(Locale.class)\r\n             )\r\n           ).thenReturn(&quot;returnValue&quot;);\r\n\r\n\t\tSystem.out.println(&quot;test&quot;);\r\n\r\n\t    } \r\n    }\r\n\r\n\r\nThis is the error I get:\r\n\r\n\r\n    org.springframework.context.NoSuchMessageException: No message \r\n    found under code &#39;&#39; for locale &#39;null&#39;.\r\n\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessage(\r\n    AbstractMessageSource.java:159)\r\n\tat com.example.DemoApplicationTests.contextLoads(\r\n    DemoApplicationTests.java:24)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat ....\r\n    ....\r\n    ....\r\n    ....\r\n    com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(\r\n    JUnit4IdeaTestRunner.java:117)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.\r\n    prepareStreamsAndStart(\r\n    JUnitStarter.java:234)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(\r\n    JUnitStarter.java:74)\r\n\r\n\r\nIt seems to me that it&#39;s not able to mock it properly. I&#39;ve also tried to mock the `MessageSource` interface to no avail.","title":"Mockito and ReloadableResourceBundleMessageSource doesn&#39;t go well together?","body":"<p>I have this simple test, it isn't even a test as I'm simply trying to mock the messagesource.</p>\n\n<p>I'm getting this error:</p>\n\n<pre><code>org.springframework.context.NoSuchMessageException: No message \nfound under code '' for locale 'null'.\n</code></pre>\n\n<p>Can anyone else verify this behavior?</p>\n\n<p>This is a minimum spring boot skeleton test I set up because  <code>ReloadableResourceBundleMessageSource</code> didn't work in another project, so I thought I'll just try it in the smallest unit possible.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class DemoApplicationTests {\n\n    @Test\n    public void contextLoads() {\n\n    ReloadableResourceBundleMessageSource messageSource = \n    mock(ReloadableResourceBundleMessageSource.class);\n    when(\n       messageSource.getMessage(\n           anyString(), \n           any(Object[].class), \n           any(Locale.class)\n         )\n       ).thenReturn(\"returnValue\");\n\n    System.out.println(\"test\");\n\n    } \n}\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>org.springframework.context.NoSuchMessageException: No message \nfound under code '' for locale 'null'.\n\nat org.springframework.context.support.AbstractMessageSource.getMessage(\nAbstractMessageSource.java:159)\nat com.example.DemoApplicationTests.contextLoads(\nDemoApplicationTests.java:24)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat ....\n....\n....\n....\ncom.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(\nJUnit4IdeaTestRunner.java:117)\nat com.intellij.rt.execution.junit.JUnitStarter.\nprepareStreamsAndStart(\nJUnitStarter.java:234)\nat com.intellij.rt.execution.junit.JUnitStarter.main(\nJUnitStarter.java:74)\n</code></pre>\n\n<p>It seems to me that it's not able to mock it properly. I've also tried to mock the <code>MessageSource</code> interface to no avail.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1689698968,"post_id":76714473,"comment_id":135249539,"body_markdown":"Does this answer your question? [Apache POI - Excel Write - Lock Single Cell](https://stackoverflow.com/questions/18777156/apache-poi-excel-write-lock-single-cell)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18777156/apache-poi-excel-write-lock-single-cell\">Apache POI - Excel Write - Lock Single Cell</a>"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1689699386,"post_id":76714473,"comment_id":135249619,"body_markdown":"Try adding sheet.protectSheet(&quot;&quot;);","body":"Try adding sheet.protectSheet(&quot;&quot;);"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689696659,"creation_date":1689694675,"question_id":76714473,"body_markdown":"I am working with `spring boot` project, in which we have to export data into `excel` using `Apache POI`. We were given the requirement to make one column to &quot;non-editable&quot; in complete excel.\r\n\r\nI tried by setting cell style to set locked but it did not work.\r\n\r\n    CellStyle unlockedCellStyle = wb.createCellStyle();\r\n    unlockedCellStyle.setLocked(true); //true or false based on the cell.\r\n    cell.setCellStyle(unlockedCellStyle);\r\n\r\nThen I tried to convert the text to an image. The image is created, but I only need one single path that will work for the entire OS and will be accessible to insert into excel.\r\n\r\nI tried this code to convert text to image :\r\n\r\n    private void convertDateTexttoImage(){\r\n            int width = 300; // Image width\r\n            int height = 100; // Image height\r\n            String text = &quot;Hello, World!&quot;; // Text to be converted to an image\r\n            // Create a BufferedImage object with the specified width and height\r\n            BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            // Get the Graphics2D object from the image\r\n            Graphics2D g2d = image.createGraphics();\r\n            // Set the background color\r\n            g2d.setColor(java.awt.Color.white);\r\n            g2d.fillRect(0, 0, width, height);\r\n            // Set the font and color for the text\r\n            java.awt.Font font = new java.awt.Font(&quot;Arial&quot;, java.awt.Font.BOLD, 24);\r\n            g2d.setFont(font);\r\n            g2d.setColor(java.awt.Color.BLACK);\r\n            // Calculate the position to center the text\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            int x = (width - textWidth) / 2;\r\n            int y = (height - textHeight) / 2 + fm.getAscent();\r\n            // Draw the text on the image\r\n            g2d.drawString(text, x, y);\r\n            g2d.dispose();\r\n            // Save the image to a file\r\n            try {\r\n                File outputFile = new File(&quot;text_image.jpg&quot;);\r\n                ImageIO.write(image, &quot;jpg&quot;, outputFile);            \r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Error saving image: &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\nHow can I get such `accessible path` for creating an image from text, so that I can use it to insert into my excel.\r\n\r\nOr is there any other way so that I can make a non-editable cell in my excel file?","title":"Apache POI : Make non-editable one column cell","body":"<p>I am working with <code>spring boot</code> project, in which we have to export data into <code>excel</code> using <code>Apache POI</code>. We were given the requirement to make one column to &quot;non-editable&quot; in complete excel.</p>\n<p>I tried by setting cell style to set locked but it did not work.</p>\n<pre><code>CellStyle unlockedCellStyle = wb.createCellStyle();\nunlockedCellStyle.setLocked(true); //true or false based on the cell.\ncell.setCellStyle(unlockedCellStyle);\n</code></pre>\n<p>Then I tried to convert the text to an image. The image is created, but I only need one single path that will work for the entire OS and will be accessible to insert into excel.</p>\n<p>I tried this code to convert text to image :</p>\n<pre><code>private void convertDateTexttoImage(){\n        int width = 300; // Image width\n        int height = 100; // Image height\n        String text = &quot;Hello, World!&quot;; // Text to be converted to an image\n        // Create a BufferedImage object with the specified width and height\n        BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        // Get the Graphics2D object from the image\n        Graphics2D g2d = image.createGraphics();\n        // Set the background color\n        g2d.setColor(java.awt.Color.white);\n        g2d.fillRect(0, 0, width, height);\n        // Set the font and color for the text\n        java.awt.Font font = new java.awt.Font(&quot;Arial&quot;, java.awt.Font.BOLD, 24);\n        g2d.setFont(font);\n        g2d.setColor(java.awt.Color.BLACK);\n        // Calculate the position to center the text\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        int x = (width - textWidth) / 2;\n        int y = (height - textHeight) / 2 + fm.getAscent();\n        // Draw the text on the image\n        g2d.drawString(text, x, y);\n        g2d.dispose();\n        // Save the image to a file\n        try {\n            File outputFile = new File(&quot;text_image.jpg&quot;);\n            ImageIO.write(image, &quot;jpg&quot;, outputFile);            \n        } catch (IOException e) {\n            System.out.println(&quot;Error saving image: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>How can I get such <code>accessible path</code> for creating an image from text, so that I can use it to insert into my excel.</p>\n<p>Or is there any other way so that I can make a non-editable cell in my excel file?</p>\n"},{"tags":["java","c++","dll","java-native-interface"],"comments":[{"owner":{"account_id":10677708,"reputation":36201,"user_id":7860670,"accept_rate":60,"display_name":"user7860670"},"score":4,"creation_date":1689671774,"post_id":76711177,"comment_id":135243308,"body_markdown":"You use some C functions such as `LoadLibrary`, `GetProcAddress` or `GetStringUTFChars` but never check whether they succeed. Also there is resource leak since you never bother to unload library or dispose of string buffer.","body":"You use some C functions such as <code>LoadLibrary</code>, <code>GetProcAddress</code> or <code>GetStringUTFChars</code> but never check whether they succeed. Also there is resource leak since you never bother to unload library or dispose of string buffer."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1689695522,"post_id":76711177,"comment_id":135248900,"body_markdown":"It looks like `GetProcAddress` is returning `NULL`.","body":"It looks like <code>GetProcAddress</code> is returning <code>NULL</code>."},{"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"score":0,"creation_date":1689696588,"post_id":76711177,"comment_id":135249108,"body_markdown":"@JornVernee, Yes, you&#39;re right. I&#39;ve updated in my post. But it comes with new problem, how do I set path for `LoadLibrary()` to 3rd party dll file?","body":"@JornVernee, Yes, you&#39;re right. I&#39;ve updated in my post. But it comes with new problem, how do I set path for <code>LoadLibrary()</code> to 3rd party dll file?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1689697497,"post_id":76711177,"comment_id":135249282,"body_markdown":"See: https://learn.microsoft.com/en-us/windows/win32/dlls/dynamic-link-library-search-order","body":"See: <a href=\"https://learn.microsoft.com/en-us/windows/win32/dlls/dynamic-link-library-search-order\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/dlls/&hellip;</a>"},{"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"score":0,"creation_date":1689739235,"post_id":76711177,"comment_id":135254343,"body_markdown":"@JornVernee, I put some code to print out path where my java file executed. It printed `C:\\Program Files\\Java\\[Java version folder]\\bin\\java.exe`. I just copy dll folder into java `bin` directory and it works. Thanks","body":"@JornVernee, I put some code to print out path where my java file executed. It printed <code>C:\\Program Files\\Java\\[Java version folder]\\bin\\java.exe</code>. I just copy dll folder into java <code>bin</code> directory and it works. Thanks"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1689750655,"post_id":76711177,"comment_id":135255674,"body_markdown":"See the note about calling the LoadLibraryEx function with LOAD_WITH_ALTERED_SEARCH_PATH though, it allows you to put that dll next to your JNI dll instead of crapping over the JVM directory.","body":"See the note about calling the LoadLibraryEx function with LOAD_WITH_ALTERED_SEARCH_PATH though, it allows you to put that dll next to your JNI dll instead of crapping over the JVM directory."},{"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"score":0,"creation_date":1689817985,"post_id":76711177,"comment_id":135268400,"body_markdown":"@Botje, I see in document say `The LoadLibraryEx function supports an alternate search order if the call specifies LOAD_WITH_ALTERED_SEARCH_PATH, and the lpFileName parameter specifies an absolute path`. If I use `LoadLibraryEx`, I have to use an absolute path, which seem unavailable if I move to another computer (or I have to have same directory)","body":"@Botje, I see in document say <code>The LoadLibraryEx function supports an alternate search order if the call specifies LOAD_WITH_ALTERED_SEARCH_PATH, and the lpFileName parameter specifies an absolute path</code>. If I use <code>LoadLibraryEx</code>, I have to use an absolute path, which seem unavailable if I move to another computer (or I have to have same directory)"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1689926721,"post_id":76711177,"comment_id":135285117,"body_markdown":"You can compute the absolute path at runtime from either the module path of your jni dll, the paths in your class path, or the current working directory. See `GetModuleFilename` and `GetModuleHandle`","body":"You can compute the absolute path at runtime from either the module path of your jni dll, the paths in your class path, or the current working directory. See <code>GetModuleFilename</code> and <code>GetModuleHandle</code>"}],"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689696506,"creation_date":1689671425,"question_id":76711177,"body_markdown":"I have a Java app which use some funtion from c++ `dll` file. I used Java Native Interface to import dll file.\r\n\r\nThis is my Java class code\r\n\r\n```java\r\npublic class CardEncoder {\r\n    static {\r\n        System.loadLibrary(&quot;CardEncoderJNIWrapper&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CardEncoder cardEncoder = new CardEncoder();\r\n        int status = cardEncoder.CE_ConnectComm(&quot;COM10&quot;);\r\n        System.out.println(&quot;Status: &quot; + status);\r\n    }\r\n\r\n    public native int CE_ConnectComm(String portName);\r\n}\r\n```\r\n\r\nI have create my cpp file to import another DLL file, my cpp file implementation is just call function from 3rd party DLL file (`CardEncoder.dll`)\r\n\r\n```\r\n// Save as CardEncoder.cpp\r\n#include &lt;jni.h&gt;\r\n#include &quot;pch.h&quot;\r\n//#include &quot;CardEncoder.h&quot;\r\n#include &quot;CardEncoderWrapper.h&quot;\r\n\r\n// Load module x86 or x64\r\n#ifdef _M_IX86\r\nHMODULE CardEncoderDll = LoadLibrary(L&quot;32/CardEncoder.dll&quot;);\r\n#else\r\nHMODULE CardEncoderDll = LoadLibrary(L&quot;64/CardEncoder.dll&quot;);\r\n#endif // _M_IX86\r\n\r\ntypedef int (*CECONNECTCOMM)(const char* portName);\r\n\r\nJNIEXPORT jint JNICALL Java_CardEncoder_CE_1ConnectComm\r\n(JNIEnv* env, jobject obj, jstring portName) {\r\n    const char* comm = env-&gt;GetStringUTFChars(portName, 0);\r\n    CECONNECTCOMM CE_ConnectComm = (CECONNECTCOMM)GetProcAddress(CardEncoderDll, &quot;CE_ConnectComm&quot;);\r\n    return CE_ConnectComm(comm);\r\n}\r\n\r\n```\r\n\r\nAnd when I run java app it throw error\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000000000000, pid=26220, tid=1056\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  0x0000000000000000\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n```\r\n\r\nFor full log here: https://justpaste.it/68kzl\r\n\r\nI&#39;ve done some researches, and it seems error come from DLL library file. I remove code called from 3rd party DLL file and return some random value, then it works.\r\n\r\nBut that file is provided from vendor packed as a DLL and cannot be modified. I just want to know if I can fix this error from Java code, or my own c++ code (JNI)?\r\n\r\n--------\r\n#### UPDATE\r\n- I&#39;ve changed some thing in my code to check where problem come from. This is my new code:\r\n\r\n```c++\r\nJNIEXPORT jint JNICALL Java_CardEncoder_CE_1ConnectComm\r\n(JNIEnv* env, jobject obj, jstring portName) {\r\n    HMODULE CardEncoderDll = LoadLibrary(DllPath);\r\n    if (CardEncoderDll == nullptr) {\r\n        return -101;\r\n    }\r\n\r\n    CECONNECTCOMM CE_CE_ConnectComm = (CECONNECTCOMM)GetProcAddress(CardEncoderDll, &quot;CE_ConnectComm&quot;);\r\n    if (CardEncoderDll == nullptr) {\r\n        return -102;\r\n    }\r\n\r\n    const char* comm = env-&gt;GetStringUTFChars(portName, 0);\r\n    int status = CE_ConnectComm(comm);\r\n\r\n    FreeModule(CardEncoderDll);\r\n\r\n    return status;\r\n}\r\n```\r\n\r\nWith this code, error&#39;ve gone and method return `-101`, which mean module file cannot be loaded. I&#39;ve set path to library to `dll/64/CardEncoder.dll`,\r\nbut my dll file cannot find `CardEncoder.dll`\r\nThis is my folder structure\r\n\r\n```\r\n_JavaProject\r\n |_libs\r\n |  |_dll\\64\\CardEncoder.dll (3rd party lib)\r\n |  |_CardEncoderJNIWrapper.dll (my file dll)\r\n |_src\r\n    |_CardEncoder.java (Java file load CardEncoderJNIWrapper.dll)\r\n```\r\n\r\nHow do I set my library path file in `LoadLibrary()` (c++) in my case?\r\n","title":"A fatal error has been detected by the Java Runtime Environment: EXCEPTION_ACCESS_VIOLATION","body":"<p>I have a Java app which use some funtion from c++ <code>dll</code> file. I used Java Native Interface to import dll file.</p>\n<p>This is my Java class code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CardEncoder {\n    static {\n        System.loadLibrary(&quot;CardEncoderJNIWrapper&quot;);\n    }\n\n    public static void main(String[] args) {\n        CardEncoder cardEncoder = new CardEncoder();\n        int status = cardEncoder.CE_ConnectComm(&quot;COM10&quot;);\n        System.out.println(&quot;Status: &quot; + status);\n    }\n\n    public native int CE_ConnectComm(String portName);\n}\n</code></pre>\n<p>I have create my cpp file to import another DLL file, my cpp file implementation is just call function from 3rd party DLL file (<code>CardEncoder.dll</code>)</p>\n<pre><code>// Save as CardEncoder.cpp\n#include &lt;jni.h&gt;\n#include &quot;pch.h&quot;\n//#include &quot;CardEncoder.h&quot;\n#include &quot;CardEncoderWrapper.h&quot;\n\n// Load module x86 or x64\n#ifdef _M_IX86\nHMODULE CardEncoderDll = LoadLibrary(L&quot;32/CardEncoder.dll&quot;);\n#else\nHMODULE CardEncoderDll = LoadLibrary(L&quot;64/CardEncoder.dll&quot;);\n#endif // _M_IX86\n\ntypedef int (*CECONNECTCOMM)(const char* portName);\n\nJNIEXPORT jint JNICALL Java_CardEncoder_CE_1ConnectComm\n(JNIEnv* env, jobject obj, jstring portName) {\n    const char* comm = env-&gt;GetStringUTFChars(portName, 0);\n    CECONNECTCOMM CE_ConnectComm = (CECONNECTCOMM)GetProcAddress(CardEncoderDll, &quot;CE_ConnectComm&quot;);\n    return CE_ConnectComm(comm);\n}\n\n</code></pre>\n<p>And when I run java app it throw error</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000000000000, pid=26220, tid=1056\n#\n# JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\n# Problematic frame:\n# C  0x0000000000000000\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n</code></pre>\n<p>For full log here: <a href=\"https://justpaste.it/68kzl\" rel=\"nofollow noreferrer\">https://justpaste.it/68kzl</a></p>\n<p>I've done some researches, and it seems error come from DLL library file. I remove code called from 3rd party DLL file and return some random value, then it works.</p>\n<p>But that file is provided from vendor packed as a DLL and cannot be modified. I just want to know if I can fix this error from Java code, or my own c++ code (JNI)?</p>\n<hr />\n<h4>UPDATE</h4>\n<ul>\n<li>I've changed some thing in my code to check where problem come from. This is my new code:</li>\n</ul>\n<pre class=\"lang-cpp prettyprint-override\"><code>JNIEXPORT jint JNICALL Java_CardEncoder_CE_1ConnectComm\n(JNIEnv* env, jobject obj, jstring portName) {\n    HMODULE CardEncoderDll = LoadLibrary(DllPath);\n    if (CardEncoderDll == nullptr) {\n        return -101;\n    }\n\n    CECONNECTCOMM CE_CE_ConnectComm = (CECONNECTCOMM)GetProcAddress(CardEncoderDll, &quot;CE_ConnectComm&quot;);\n    if (CardEncoderDll == nullptr) {\n        return -102;\n    }\n\n    const char* comm = env-&gt;GetStringUTFChars(portName, 0);\n    int status = CE_ConnectComm(comm);\n\n    FreeModule(CardEncoderDll);\n\n    return status;\n}\n</code></pre>\n<p>With this code, error've gone and method return <code>-101</code>, which mean module file cannot be loaded. I've set path to library to <code>dll/64/CardEncoder.dll</code>,\nbut my dll file cannot find <code>CardEncoder.dll</code>\nThis is my folder structure</p>\n<pre><code>_JavaProject\n |_libs\n |  |_dll\\64\\CardEncoder.dll (3rd party lib)\n |  |_CardEncoderJNIWrapper.dll (my file dll)\n |_src\n    |_CardEncoder.java (Java file load CardEncoderJNIWrapper.dll)\n</code></pre>\n<p>How do I set my library path file in <code>LoadLibrary()</code> (c++) in my case?</p>\n"},{"tags":["java","android","email","jakarta-mail","verifyerror"],"comments":[{"owner":{"account_id":428382,"reputation":1246,"user_id":810674,"accept_rate":19,"display_name":"gbotha"},"score":1,"creation_date":1604593718,"post_id":64650611,"comment_id":114400304,"body_markdown":"I&#39;ve reported this as a bug to Google.  Here is the link https://issuetracker.google.com/issues/172544275   Go ahead to the link and star the issue - that will let Google know you are affected by it and hopefully it will be address faster.","body":"I&#39;ve reported this as a bug to Google.  Here is the link <a href=\"https://issuetracker.google.com/issues/172544275\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/172544275</a>   Go ahead to the link and star the issue - that will let Google know you are affected by it and hopefully it will be address faster."},{"owner":{"account_id":14900421,"reputation":43,"user_id":10759420,"display_name":"Maitha B"},"score":0,"creation_date":1604695161,"post_id":64650611,"comment_id":114435322,"body_markdown":"@gbotha Starred. Hope it&#39;s resolved soon.","body":"@gbotha Starred. Hope it&#39;s resolved soon."}],"answers":[{"tags":[],"owner":{"account_id":428382,"reputation":1246,"user_id":810674,"accept_rate":19,"display_name":"gbotha"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1604592646,"creation_date":1604592646,"answer_id":64700990,"question_id":64650611,"body_markdown":"I am having the same issue.  What I can tell you is that if you target Android 10 and lower (SDK 29 or lower) it works fine.  I have been using it for years.  However, as soon as I target Android 11 (SDK 30) then I get this error.  My guess is com.sun.mail dependencies need to be updated.  I&#39;m using the latest 1.6.5 and still doesn&#39;t work.  So I suggest targeting SDK 29 for now and see if that helps.","title":"VerifyError rejecting class text_plain from JavaMail API","body":"<p>I am having the same issue.  What I can tell you is that if you target Android 10 and lower (SDK 29 or lower) it works fine.  I have been using it for years.  However, as soon as I target Android 11 (SDK 30) then I get this error.  My guess is com.sun.mail dependencies need to be updated.  I'm using the latest 1.6.5 and still doesn't work.  So I suggest targeting SDK 29 for now and see if that helps.</p>\n"},{"tags":[],"owner":{"account_id":20562907,"reputation":330,"user_id":15093011,"display_name":"radda"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1689696221,"creation_date":1627486229,"answer_id":68563266,"question_id":64650611,"body_markdown":"In your `app/build.gradle` file you need to\r\n\r\n1) Upgrade to newer version of the mail API (at least 1.6.6):\r\n```groovy\r\ndependencies {\r\n    implementation &#39;com.sun.mail:android-mail:1.6.6&#39;\r\n    implementation &#39;com.sun.mail:android-activation:1.6.6&#39;\r\n    ...\r\n}\r\n```\r\n2) exclude these files in packagingOptions:\r\n```groovy\r\nandroid {\r\n    ...\r\n    packagingOptions {\r\n        resources {\r\n            exclude &#39;META-INF/NOTICE.md&#39;\r\n            exclude &#39;META-INF/LICENSE.md&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[source](https://issuetracker.google.com/issues/172544275#comment23)\r\n\r\nUsing Gradle Kotlin DSL with Version Catalog:\r\n\r\n`app/build.gradle.kts`\r\n```kotlin\r\nandroid {\r\n    ...\r\n    packaging {\r\n        resources {\r\n            excludes += listOf(&quot;META-INF/NOTICE.md&quot;, &quot;META-INF/LICENSE.md&quot;)\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(libs.jakarta.mail)\r\n    implementation(libs.jakarta.mail.activation)\r\n    ...\r\n}\r\n```\r\n\r\n`gradle/libs.versions.toml`\r\n```toml\r\n[versions]\r\njakarta-mail = &quot;1.6.6&quot;\r\n...\r\n\r\n[libraries]\r\njakarta-mail = { module = &quot;com.sun.mail:android-mail&quot;, version.ref = &quot;jakarta-mail&quot; }\r\njakarta-mail-activation = { module = &quot;com.sun.mail:android-activation&quot;, version.ref = &quot;jakarta-mail&quot; }\r\n...\r\n```","title":"VerifyError rejecting class text_plain from JavaMail API","body":"<p>In your <code>app/build.gradle</code> file you need to</p>\n<ol>\n<li>Upgrade to newer version of the mail API (at least 1.6.6):</li>\n</ol>\n<pre><code>dependencies {\n    implementation 'com.sun.mail:android-mail:1.6.6'\n    implementation 'com.sun.mail:android-activation:1.6.6'\n    ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>exclude these files in packagingOptions:</li>\n</ol>\n<pre><code>android {\n    ...\n    packagingOptions {\n        resources {\n            exclude 'META-INF/NOTICE.md'\n            exclude 'META-INF/LICENSE.md'\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://issuetracker.google.com/issues/172544275#comment23\" rel=\"nofollow noreferrer\">source</a></p>\n<p>Using Gradle Kotlin DSL with Version Catalog:</p>\n<p><code>app/build.gradle.kts</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>android {\n    ...\n    packaging {\n        resources {\n            excludes += listOf(&quot;META-INF/NOTICE.md&quot;, &quot;META-INF/LICENSE.md&quot;)\n        }\n    }\n}\n\ndependencies {\n    implementation(libs.jakarta.mail)\n    implementation(libs.jakarta.mail.activation)\n    ...\n}\n</code></pre>\n<p><code>gradle/libs.versions.toml</code></p>\n<pre class=\"lang-ini prettyprint-override\"><code>[versions]\njakarta-mail = &quot;1.6.6&quot;\n...\n\n[libraries]\njakarta-mail = { module = &quot;com.sun.mail:android-mail&quot;, version.ref = &quot;jakarta-mail&quot; }\njakarta-mail-activation = { module = &quot;com.sun.mail:android-activation&quot;, version.ref = &quot;jakarta-mail&quot; }\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326654,"reputation":686,"user_id":2041005,"display_name":"Rik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660026092,"creation_date":1651247021,"answer_id":72060469,"question_id":64650611,"body_markdown":"My answer [here](https://stackoverflow.com/a/72038558/2041005), that is in-line with other answers (as that answer explains), does provide a solution (I&#39;ll skip to the content here, details can be read there);\r\n \r\nThe issue:\r\n \r\n &gt; API level 30 adds a new (verifier) feature that verifies that all referenced code actually exists - or fails a build.\r\n\r\nTo resolve:\r\n\r\n1. If you were providing the libraries manually via `/app/libs/mail.jar`, `/app/libs/activation.jar`, and `/app/libs/additionnal.jar` - you can go ahead and remove them; both `google()` and `maven()` repositories are enabled in Android projects, and the latest deps are available there. They include new META-INF files, so we&#39;ll also need to remove them from the build when we update the deps;\r\n\r\n*to your project-level gradle file (`/build.gradle`):*\r\n\r\n```gradle\r\nbuildscript {\r\n    ext {\r\n        // ...\r\n        java_mail_version = &quot;1.6.7&quot;\r\n    }\r\n    // ...\r\n}\r\n\r\n// ...\r\n```\r\n\r\n*to your app/module-level gradle file (`/app/build.gradle`):*\r\n\r\n```gradle\r\n    //...\r\nandroid {\r\n    // ...\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            excludes += &#39;/META-INF/{NOTICE.md,LICENSE.md}&#39; // &lt;-- This line\r\n        }\r\n    }\r\n}\r\n    // ...\r\ndependencies {\r\n    // ...\r\n\r\n    // Dumb Email Sending\r\n    implementation &quot;com.sun.mail:android-mail:$java_mail_version&quot;\r\n\r\n    // REMOVE THESE - DEPS WILL DOWNLOAD AUTOMATICALLY\r\n    //implementation &#39;com.sun.mail:android-activation:1.6.7&#39; // from 1.6.4\r\n    //implementation &#39;com.sun.mail:android-additionnal:1.6.7&#39; // from 1.6.4\r\n}\r\n\r\n// ...\r\n```\r\n\r\nThat&#39;s it, issue resolved on API Level 30 - and no more lugging the `.jar` files around (if you were).","title":"VerifyError rejecting class text_plain from JavaMail API","body":"<p>My answer <a href=\"https://stackoverflow.com/a/72038558/2041005\">here</a>, that is in-line with other answers (as that answer explains), does provide a solution (I'll skip to the content here, details can be read there);</p>\n<p>The issue:</p>\n<blockquote>\n<p>API level 30 adds a new (verifier) feature that verifies that all referenced code actually exists - or fails a build.</p>\n</blockquote>\n<p>To resolve:</p>\n<ol>\n<li>If you were providing the libraries manually via <code>/app/libs/mail.jar</code>, <code>/app/libs/activation.jar</code>, and <code>/app/libs/additionnal.jar</code> - you can go ahead and remove them; both <code>google()</code> and <code>maven()</code> repositories are enabled in Android projects, and the latest deps are available there. They include new META-INF files, so we'll also need to remove them from the build when we update the deps;</li>\n</ol>\n<p><em>to your project-level gradle file (<code>/build.gradle</code>):</em></p>\n<pre><code>buildscript {\n    ext {\n        // ...\n        java_mail_version = &quot;1.6.7&quot;\n    }\n    // ...\n}\n\n// ...\n</code></pre>\n<p><em>to your app/module-level gradle file (<code>/app/build.gradle</code>):</em></p>\n<pre><code>    //...\nandroid {\n    // ...\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n            excludes += '/META-INF/{NOTICE.md,LICENSE.md}' // &lt;-- This line\n        }\n    }\n}\n    // ...\ndependencies {\n    // ...\n\n    // Dumb Email Sending\n    implementation &quot;com.sun.mail:android-mail:$java_mail_version&quot;\n\n    // REMOVE THESE - DEPS WILL DOWNLOAD AUTOMATICALLY\n    //implementation 'com.sun.mail:android-activation:1.6.7' // from 1.6.4\n    //implementation 'com.sun.mail:android-additionnal:1.6.7' // from 1.6.4\n}\n\n// ...\n</code></pre>\n<p>That's it, issue resolved on API Level 30 - and no more lugging the <code>.jar</code> files around (if you were).</p>\n"}],"owner":{"account_id":14900421,"reputation":43,"user_id":10759420,"display_name":"Maitha B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64700990,"answer_count":3,"score":4,"last_activity_date":1689696221,"creation_date":1604339059,"question_id":64650611,"body_markdown":"I&#39;m developing an application that allows the user to contact me by sending an email (the user only inputs the message, sender and receiver emails are both mine). I&#39;m trying to implement this with gmail using the JavaMail API. However, I keep getting this error at the `Transport.send(mimeMessage)` line.\r\n\r\nHere are the error messages:\r\n\r\n&gt; Caused by: java.lang.VerifyError: Rejecting class com.sun.mail.handlers.text_plain that attempts to sub-type erroneous class com.sun.mail.handlers.handler_base (declaration of &#39;com.sun.mail.handlers.text_plain&#39; appears in /data/app/~~T_TRkO9R_v9j4iEdr4K9Yg==/com.example.compusec-dPeAL8DtGJvU45dJpt8xxA==/base.apk)\r\n&gt; \r\n&gt; Caused by: java.lang.VerifyError: Verifier rejected class com.sun.mail.handlers.handler_base: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors() failed to verify: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors(): [0x4]  can&#39;t resolve returned type &#39;Unresolved Reference: java.awt.datatransfer.DataFlavor[]&#39; or &#39;Reference: javax.activation.ActivationDataFlavor[]&#39; (declaration of &#39;com.sun.mail.handlers.handler_base&#39; appears in /data/app/~~T_TRkO9R_v9j4iEdr4K9Yg==/com.example.compusec-dPeAL8DtGJvU45dJpt8xxA==/base.apk)\r\n\r\nHere is my code:\r\n\r\n```java\r\nprotected Void doInBackground(Void... voids) {\r\n    Properties properties = new Properties();\r\n    properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n    properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n\r\n    session = javax.mail.Session.getInstance(properties, new javax.mail.Authenticator(){\r\n        protected PasswordAuthentication getPasswordAuthentication(){\r\n            return new PasswordAuthentication(&quot;sender@gmail.com&quot;,&quot;senderpass&quot;);\r\n        }\r\n    });\r\n\r\n    session.setDebug(true);\r\n\r\n    MimeMessage mimeMessage = new MimeMessage(session);\r\n    try {\r\n        mimeMessage.setFrom(new InternetAddress(&quot;sender@gmail.com&quot;));\r\n        mimeMessage.addRecipients(Message.RecipientType.TO, String.valueOf(new InternetAddress(email)));\r\n        mimeMessage.setSubject(subject);\r\n        mimeMessage.setText(message);\r\n        Transport.send(mimeMessage);\r\n    } catch (MessagingException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\nAnd the gradle script:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    packagingOptions {\r\n        pickFirst &#39;META-INF/LICENSE.txt&#39; // picks the JavaMail license file\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\nrepositories {\r\n    jcenter()\r\n    maven {\r\n        url &quot;https://maven.java.net/content/groups/public/&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    compile &#39;com.sun.mail:android-mail:1.6.2&#39;\r\n    compile &#39;com.sun.mail:android-activation:1.6.2&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n}\r\n```\r\n\r\n","title":"VerifyError rejecting class text_plain from JavaMail API","body":"<p>I'm developing an application that allows the user to contact me by sending an email (the user only inputs the message, sender and receiver emails are both mine). I'm trying to implement this with gmail using the JavaMail API. However, I keep getting this error at the <code>Transport.send(mimeMessage)</code> line.</p>\n<p>Here are the error messages:</p>\n<blockquote>\n<p>Caused by: java.lang.VerifyError: Rejecting class com.sun.mail.handlers.text_plain that attempts to sub-type erroneous class com.sun.mail.handlers.handler_base (declaration of 'com.sun.mail.handlers.text_plain' appears in /data/app/~~T_TRkO9R_v9j4iEdr4K9Yg==/com.example.compusec-dPeAL8DtGJvU45dJpt8xxA==/base.apk)</p>\n<p>Caused by: java.lang.VerifyError: Verifier rejected class com.sun.mail.handlers.handler_base: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors() failed to verify: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors(): [0x4]  can't resolve returned type 'Unresolved Reference: java.awt.datatransfer.DataFlavor[]' or 'Reference: javax.activation.ActivationDataFlavor[]' (declaration of 'com.sun.mail.handlers.handler_base' appears in /data/app/~~T_TRkO9R_v9j4iEdr4K9Yg==/com.example.compusec-dPeAL8DtGJvU45dJpt8xxA==/base.apk)</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Void doInBackground(Void... voids) {\n    Properties properties = new Properties();\n    properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\n    properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n    properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\n\n    session = javax.mail.Session.getInstance(properties, new javax.mail.Authenticator(){\n        protected PasswordAuthentication getPasswordAuthentication(){\n            return new PasswordAuthentication(&quot;sender@gmail.com&quot;,&quot;senderpass&quot;);\n        }\n    });\n\n    session.setDebug(true);\n\n    MimeMessage mimeMessage = new MimeMessage(session);\n    try {\n        mimeMessage.setFrom(new InternetAddress(&quot;sender@gmail.com&quot;));\n        mimeMessage.addRecipients(Message.RecipientType.TO, String.valueOf(new InternetAddress(email)));\n        mimeMessage.setSubject(subject);\n        mimeMessage.setText(message);\n        Transport.send(mimeMessage);\n    } catch (MessagingException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n<p>And the gradle script:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.2&quot;\n\n    packagingOptions {\n        pickFirst 'META-INF/LICENSE.txt' // picks the JavaMail license file\n    }\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdkVersion 23\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\nrepositories {\n    jcenter()\n    maven {\n        url &quot;https://maven.java.net/content/groups/public/&quot;\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    compile 'com.sun.mail:android-mail:1.6.2'\n    compile 'com.sun.mail:android-activation:1.6.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-context"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689694171,"post_id":76714371,"comment_id":135248569,"body_markdown":"You can use the return value of `SpringApplication.run(args);`","body":"You can use the return value of <code>SpringApplication.run(args);</code>"},{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1689694697,"post_id":76714371,"comment_id":135248718,"body_markdown":"thanks @Unmitigated, this solution could be used whenever i need the current spring context ? or i need to get it and store it somewhere when the first time the application runs ?","body":"thanks @Unmitigated, this solution could be used whenever i need the current spring context ? or i need to get it and store it somewhere when the first time the application runs ?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1689694764,"post_id":76714371,"comment_id":135248733,"body_markdown":"You would store it on application startup. Why do you want to avoid Autowired though?","body":"You would store it on application startup. Why do you want to avoid Autowired though?"},{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1689695155,"post_id":76714371,"comment_id":135248817,"body_markdown":"Sometimes i need to access the application context while debugging the code and i find it disappointing to have to inject it through @Autowired every time i need it when debugging","body":"Sometimes i need to access the application context while debugging the code and i find it disappointing to have to inject it through @Autowired every time i need it when debugging"}],"answers":[{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689694743,"creation_date":1689694743,"answer_id":76714481,"question_id":76714371,"body_markdown":"You could do something like this (a bean than has a static reference to the context):\r\n\r\n```java\r\n@Component\r\npublic class StaticSpringApplicationContext implements ApplicationContextAware {\r\n\r\n\tprivate static ApplicationContext context = null;\r\n\r\n\tprivate static void setContext(final ApplicationContext applicationContext) {\r\n\t\tcontext = applicationContext;\r\n\t}\r\n\r\n\tpublic static ApplicationContext getContext() {\r\n\t\treturn context;\r\n\t}\r\n\r\n\t@EventListener\r\n\tpublic static void onApplicationEvent(final ApplicationReadyEvent event) {\r\n\t\tsetContext(event.getApplicationContext());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setApplicationContext(final ApplicationContext applicationContext) throws BeansException {\r\n\t\tsetContext(applicationContext);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand then anywhere in your code when your app is running you can:\r\n\r\n`StaticSpringApplicationContext.getContext()`\r\n\r\nthis bean will initialize the static variable as soon as the application is loaded and this is it&#39;s only purpose :)","title":"Is there a way to get the current spring application context while debugging without using dependency injection nor ApplicationContextAware interface","body":"<p>You could do something like this (a bean than has a static reference to the context):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class StaticSpringApplicationContext implements ApplicationContextAware {\n\n    private static ApplicationContext context = null;\n\n    private static void setContext(final ApplicationContext applicationContext) {\n        context = applicationContext;\n    }\n\n    public static ApplicationContext getContext() {\n        return context;\n    }\n\n    @EventListener\n    public static void onApplicationEvent(final ApplicationReadyEvent event) {\n        setContext(event.getApplicationContext());\n    }\n\n    @Override\n    public void setApplicationContext(final ApplicationContext applicationContext) throws BeansException {\n        setContext(applicationContext);\n    }\n\n}\n</code></pre>\n<p>and then anywhere in your code when your app is running you can:</p>\n<p><code>StaticSpringApplicationContext.getContext()</code></p>\n<p>this bean will initialize the static variable as soon as the application is loaded and this is it's only purpose :)</p>\n"}],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689695568,"creation_date":1689694018,"question_id":76714371,"body_markdown":"What i am looking for is getting the spring application context somehow along the following lines : \r\n\r\n```\r\nApplicationContext ac = SomeSpringClass.getCurrentContext() \r\n// As you may notice, the SomeSpringClass is not real\r\n// it&#39;s just what i am looking for as an example\r\n```\r\n\r\nother solution are welcome as long as the do not use the classic ways to get the application context (@Autowired, implementing ApplicationContextAware, Constructor injection, Setter injection...)-\r\n\r\n\r\n","title":"Is there a way to get the current spring application context while debugging without using dependency injection nor ApplicationContextAware interface","body":"<p>What i am looking for is getting the spring application context somehow along the following lines :</p>\n<pre><code>ApplicationContext ac = SomeSpringClass.getCurrentContext() \n// As you may notice, the SomeSpringClass is not real\n// it's just what i am looking for as an example\n</code></pre>\n<p>other solution are welcome as long as the do not use the classic ways to get the application context (@Autowired, implementing ApplicationContextAware, Constructor injection, Setter injection...)-</p>\n"},{"tags":["java","html","validation","jericho-html-parser"],"answers":[{"tags":[],"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689695459,"creation_date":1390478816,"answer_id":21307681,"question_id":21306385,"body_markdown":"The Jericho API will log all the validations telling you all your flaws and gaps in the constructed HTML you are validating. It does its own version of tag tidying but also logs that information of it&#39;s version of the logger.\r\n\r\nLet&#39;s try to print what Jericho thinks about your `html` tag:\r\n\r\n    PrintWriter writer = new PrintWriter(System.out);\r\n    WriterLogger myLogger = new WriterLogger(writer);\r\n    myLogger.setInfoEnabled(true);\r\n    \t\t\r\n    Source source = new Source(&quot;&lt;input type=\\&quot;test\\&quot; .....&gt;&quot;);\r\n    source.setLogger(myLogger);\r\n    \r\n    try {\r\n    \tsource.getSourceFormatter().writeTo(writer);\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nOutput which I get is:\r\n\r\n&gt; ERROR: StartTag input at (r1,c1,p0) contains attribute name with invalid first character at position (r1,c20,p19)  \r\n&gt; `&lt;input type=&quot;test&quot; .....&gt;`\r\n\r\nThis log entry looks to be parsable and can be used in more than one way.","title":"Validate HTML tag in Java using Jericho","body":"<p>The Jericho API will log all the validations telling you all your flaws and gaps in the constructed HTML you are validating. It does its own version of tag tidying but also logs that information of it's version of the logger.</p>\n<p>Let's try to print what Jericho thinks about your <code>html</code> tag:</p>\n<pre><code>PrintWriter writer = new PrintWriter(System.out);\nWriterLogger myLogger = new WriterLogger(writer);\nmyLogger.setInfoEnabled(true);\n        \nSource source = new Source(&quot;&lt;input type=\\&quot;test\\&quot; .....&gt;&quot;);\nsource.setLogger(myLogger);\n\ntry {\n    source.getSourceFormatter().writeTo(writer);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output which I get is:</p>\n<blockquote>\n<p>ERROR: StartTag input at (r1,c1,p0) contains attribute name with invalid first character at position (r1,c20,p19)<br />\n<code>&lt;input type=&quot;test&quot; .....&gt;</code></p>\n</blockquote>\n<p>This log entry looks to be parsable and can be used in more than one way.</p>\n"}],"owner":{"account_id":1813457,"reputation":6460,"user_id":1649068,"accept_rate":75,"display_name":"AlwaysALearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689695459,"creation_date":1390475259,"question_id":21306385,"body_markdown":"Using the Jericho API, can I validate a given HTML tag like `&lt;input type=&quot;test&quot; .....&gt;`? I was unable to find an API in Jericho that would do so. Is there a way where I could do that using Jericho only?\r\n\r\nI don&#39;t want to tidy or Sanitise the HTML tag. I just want to check for its validity.","title":"Validate HTML tag in Java using Jericho","body":"<p>Using the Jericho API, can I validate a given HTML tag like <code>&lt;input type=&quot;test&quot; .....&gt;</code>? I was unable to find an API in Jericho that would do so. Is there a way where I could do that using Jericho only?</p>\n<p>I don't want to tidy or Sanitise the HTML tag. I just want to check for its validity.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":112953,"reputation":2205,"user_id":297763,"accept_rate":89,"display_name":"Dan Snell"},"score":0,"creation_date":1398445678,"post_id":23291682,"comment_id":35666938,"body_markdown":"Can you provide an example of one of the tests?  This sounds like a timing issue on the execution something that is particularly in issue with IE.","body":"Can you provide an example of one of the tests?  This sounds like a timing issue on the execution something that is particularly in issue with IE."}],"answers":[{"tags":[],"owner":{"account_id":2597407,"reputation":819,"user_id":2250761,"display_name":"autoKarma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1398428450,"creation_date":1398428450,"answer_id":23293027,"question_id":23291682,"body_markdown":"I would suggest making sure that the keywords you are using are not dynamically generated.\r\n\r\nI worked on a site once where all of the ID&#39;s looked like this: &#39;ext-gen123&#39;, then the next run through, the very same element would have the ID: &#39;ext-gen124&#39;, but the run through after that would have the ID back to &#39;ext-gen123&#39;... \r\n\r\nIn this case, you&#39;d have to use some other identifier to locate the element--maybe a CssClass or an XPath.","title":"Selenium Webdriver is very inconsistent during Execution of test scripts","body":"<p>I would suggest making sure that the keywords you are using are not dynamically generated.</p>\n\n<p>I worked on a site once where all of the ID's looked like this: 'ext-gen123', then the next run through, the very same element would have the ID: 'ext-gen124', but the run through after that would have the ID back to 'ext-gen123'... </p>\n\n<p>In this case, you'd have to use some other identifier to locate the element--maybe a CssClass or an XPath.</p>\n"},{"tags":[],"owner":{"account_id":2213565,"reputation":744,"user_id":1954772,"accept_rate":35,"display_name":"Satish"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1398437646,"creation_date":1398437646,"answer_id":23296471,"question_id":23291682,"body_markdown":"Sainath,\r\n\r\nThe Secret to run TestCases efficiently lies in the Way You wrote the TestCases.. Use of **Fluent wait**, Wait before the Element is Visible and Enabled and use of html *ID&#39;s* in Testcases makes the TCs Efficient. IE and Selenium Does not get along almost all time.. i mean,, There are so many Issues with IE and Selenium. \r\n\r\nThe Only way to Achieve Efficiency is by Proper *Handling of Exceptions* and Use of *Wait* statements \r\n\r\n ","title":"Selenium Webdriver is very inconsistent during Execution of test scripts","body":"<p>Sainath,</p>\n\n<p>The Secret to run TestCases efficiently lies in the Way You wrote the TestCases.. Use of <strong>Fluent wait</strong>, Wait before the Element is Visible and Enabled and use of html <em>ID's</em> in Testcases makes the TCs Efficient. IE and Selenium Does not get along almost all time.. i mean,, There are so many Issues with IE and Selenium. </p>\n\n<p>The Only way to Achieve Efficiency is by Proper <em>Handling of Exceptions</em> and Use of <em>Wait</em> statements </p>\n"},{"tags":[],"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689695092,"creation_date":1398456703,"answer_id":23302152,"question_id":23291682,"body_markdown":"Your tests could be brittle because of various reasons.\r\n\r\n **1. Synchronization**- DO NOT USE `Thread.sleep`. You should consider the waiting mechanism in your tests.\r\n   There are two types of waits in WebDriver. Implicit wait and Explicit\r\n   wait.\r\n\r\n   ***a. Implicit wait-*** For example below `WebDriver` will internally poll *at max* for 30 seconds before throwing `NoSuchElementFoundException`\r\n\r\n     driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\r\n***b. Explicit wait***- Here you are telling WebDriver to wait for a certain condition to satisfy. For example, below I am waiting for the link `Account` to be available to click. Once its available WebDriver will return me the `WebElement` so that I can click on it. Take a look at some already implemented useful [ExpectedConditions][1]\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,30/*Timeout in seconds*/);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Account&quot;)));\r\n    element.click();\r\n\r\n**2. Data Dependency**- Make sure your tests are independent of each other and they don&#39;t share data. Tests can collide if they are sharing data which makes them brittle\r\n\r\n**3. Use CSS over Xpaths** - Find my answer [here][2] as to why\r\n\r\n**4. A layer of abstraction**- Make sure you have abstracted test logic from page logic. Use PageObjects and PageFactory technics for better maintenance of your suite\r\n\r\nFinally read Simon Stewarts&#39; blog on [Automated Web Testing: Traps for the Unwary][3] for details. \r\n\r\n  [1]: http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\r\n  [2]: https://stackoverflow.com/questions/16788310/what-is-the-difference-between-css-selector-xpath-which-is-betteraccording-t/16794683#16794683\r\n  [3]: https://conference.eurostarsoftwaretesting.com/liveblogged-automated-web-testing-traps-unwary-simon-stewart/","title":"Selenium Webdriver is very inconsistent during Execution of test scripts","body":"<p>Your tests could be brittle because of various reasons.</p>\n<p><strong>1. Synchronization</strong>- DO NOT USE <code>Thread.sleep</code>. You should consider the waiting mechanism in your tests.\nThere are two types of waits in WebDriver. Implicit wait and Explicit\nwait.</p>\n<p><em><strong>a. Implicit wait-</strong></em> For example below <code>WebDriver</code> will internally poll <em>at max</em> for 30 seconds before throwing <code>NoSuchElementFoundException</code></p>\n<pre><code> driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n</code></pre>\n<p><em><strong>b. Explicit wait</strong></em>- Here you are telling WebDriver to wait for a certain condition to satisfy. For example, below I am waiting for the link <code>Account</code> to be available to click. Once its available WebDriver will return me the <code>WebElement</code> so that I can click on it. Take a look at some already implemented useful <a href=\"http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">ExpectedConditions</a></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,30/*Timeout in seconds*/);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Account&quot;)));\nelement.click();\n</code></pre>\n<p><strong>2. Data Dependency</strong>- Make sure your tests are independent of each other and they don't share data. Tests can collide if they are sharing data which makes them brittle</p>\n<p><strong>3. Use CSS over Xpaths</strong> - Find my answer <a href=\"https://stackoverflow.com/questions/16788310/what-is-the-difference-between-css-selector-xpath-which-is-betteraccording-t/16794683#16794683\">here</a> as to why</p>\n<p><strong>4. A layer of abstraction</strong>- Make sure you have abstracted test logic from page logic. Use PageObjects and PageFactory technics for better maintenance of your suite</p>\n<p>Finally read Simon Stewarts' blog on <a href=\"https://conference.eurostarsoftwaretesting.com/liveblogged-automated-web-testing-traps-unwary-simon-stewart/\" rel=\"nofollow noreferrer\">Automated Web Testing: Traps for the Unwary</a> for details.</p>\n"}],"owner":{"account_id":1031504,"reputation":45,"user_id":3572697,"display_name":"Sainath Rapaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23296471,"answer_count":3,"score":0,"last_activity_date":1689695092,"creation_date":1398425064,"question_id":23291682,"body_markdown":"We have a Keyword driven framework which was developed using Selenium Webdriver.\r\nWhile running the scripts some test cases are getting timed out in the first run. When I do the second run the same test cases which failed last time pass but this time some other test cases fail.\r\n\r\nCan someone please advise if anything needs to be done on the Framework/Configuration part.\r\n\r\nI am using IE9, Java 6, Selenium 2.40 on Windows 7 and IE driver from the official Selenium website.\r\n","title":"Selenium Webdriver is very inconsistent during Execution of test scripts","body":"<p>We have a Keyword driven framework which was developed using Selenium Webdriver.\nWhile running the scripts some test cases are getting timed out in the first run. When I do the second run the same test cases which failed last time pass but this time some other test cases fail.</p>\n\n<p>Can someone please advise if anything needs to be done on the Framework/Configuration part.</p>\n\n<p>I am using IE9, Java 6, Selenium 2.40 on Windows 7 and IE driver from the official Selenium website.</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1689694009,"post_id":76714277,"comment_id":135248515,"body_markdown":"If I&#39;m not mistaken HttpHeaderManager should be part of TestPlan, you can refer this answer https://stackoverflow.com/questions/13032753/jmeter-how-to-send-request-with-content-type-header","body":"If I&#39;m not mistaken HttpHeaderManager should be part of TestPlan, you can refer this answer <a href=\"https://stackoverflow.com/questions/13032753/jmeter-how-to-send-request-with-content-type-header\" title=\"jmeter how to send request with content type header\">stackoverflow.com/questions/13032753/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689694653,"creation_date":1689694653,"answer_id":76714466,"question_id":76714277,"body_markdown":"I don&#39;t have any issues with the following code:\r\n\r\n    HeaderManager headerManager = new HeaderManager();\r\n    headerManager.add(new Header(&quot;Content-Type&quot;,&quot;application/json&quot;));\r\n    headerManager.setName(&quot;HTTP Header Manager&quot;);\r\n    headerManager.setProperty(TestElement.TEST_CLASS,HeaderManager.class.getName());\r\n    headerManager.setProperty(TestElement.GUI_CLASS, HeaderPanel.class.getName());\r\n\r\nso take a look at your `createHeader()` function, most probably the problem is somewhere there. \r\n\r\nYou can also add the following line:\r\n\r\n    SaveService.saveTree(testPlanTree, Files.newOutputStream(Paths.get(&quot;/path/to/test.jmx)));\r\n\r\nand open the `test.jmx` in JMeter GUI and ensure that the [HTTP Header Manager][1] is created and the HTTP Request sampler is in its [scope][2]. \r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/http-header-manager\r\n  [2]: https://jmeter.apache.org/usermanual/test_plan.html#scoping_rules","title":"JMeter overriding the Content-Type in HttpSamplerProxy event after setting using HeaderManager in java","body":"<p>I don't have any issues with the following code:</p>\n<pre><code>HeaderManager headerManager = new HeaderManager();\nheaderManager.add(new Header(&quot;Content-Type&quot;,&quot;application/json&quot;));\nheaderManager.setName(&quot;HTTP Header Manager&quot;);\nheaderManager.setProperty(TestElement.TEST_CLASS,HeaderManager.class.getName());\nheaderManager.setProperty(TestElement.GUI_CLASS, HeaderPanel.class.getName());\n</code></pre>\n<p>so take a look at your <code>createHeader()</code> function, most probably the problem is somewhere there.</p>\n<p>You can also add the following line:</p>\n<pre><code>SaveService.saveTree(testPlanTree, Files.newOutputStream(Paths.get(&quot;/path/to/test.jmx)));\n</code></pre>\n<p>and open the <code>test.jmx</code> in JMeter GUI and ensure that the <a href=\"https://www.blazemeter.com/blog/http-header-manager\" rel=\"nofollow noreferrer\">HTTP Header Manager</a> is created and the HTTP Request sampler is in its <a href=\"https://jmeter.apache.org/usermanual/test_plan.html#scoping_rules\" rel=\"nofollow noreferrer\">scope</a>.</p>\n"}],"owner":{"account_id":9206885,"reputation":11,"user_id":6841767,"display_name":"Syed Iqbal Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689694653,"creation_date":1689693461,"question_id":76714277,"body_markdown":"Setting Content-Type application/json in HeaderManager and passing to Jmeter, but is being overriden while being called as text/plain\r\n```\r\n            HeaderManager headerManager = new HeaderManager();\r\n            headerManager.add(createHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\r\n\r\n            HTTPSamplerProxy httpSampler = new HTTPSamplerProxy();\r\n            httpSampler.setProtocol(&quot;https&quot;);\r\n            httpSampler.setDomain(config.getString(&quot;JMETER_DOMAIN&quot;));\r\n            httpSampler.setPath(api);\r\n            httpSampler.setMethod(method);\r\n\r\n            TestPlan testPlan = new TestPlan(&quot;MY TEST PLAN&quot;);\r\n\r\n            // Add elements to HashTree\r\n            ListedHashTree testPlanTree = new ListedHashTree();\r\n            testPlanTree.add(testPlan);\r\n            ListedHashTree threadGroupTree = new ListedHashTree(threadGroup);\r\n            threadGroupTree.add(httpSampler,headerManager);\r\n            testPlanTree.add(testPlan, threadGroupTree);            \r\n            // Run Test Plan\r\n            jm.configure(testPlanTree);\r\n            jm.run();\r\n```\r\nO/p\r\n\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; POST /auth/Authentication/login HTTP/1.1\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: close\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 33\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: text/plain\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: example.com\r\n    14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.14 (Java/1.8.0_372)\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 415 Unsupported Media Type\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Tue, 18 Jul 2023 14:26:57 GMT\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: application/problem+json; charset=utf-8\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Transfer-Encoding: chunked\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: close\r\n    14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Kestrel\r\n    14:26:57.680 [ 1-1] INFO  org.apache.jmeter.threads.JMeterThread - Thread is done:  1-1\r\n    14:26:57.680 [ 1-1] INFO  org.apache.jmeter.threads.JMeterThread - Thread finished:  1-1\r\n\r\nHow do i change the content-type as per my requirement and avoid jmeter overriding it\r\n\r\nTried using HeaderManager but no luck yet","title":"JMeter overriding the Content-Type in HttpSamplerProxy event after setting using HeaderManager in java","body":"<p>Setting Content-Type application/json in HeaderManager and passing to Jmeter, but is being overriden while being called as text/plain</p>\n<pre><code>            HeaderManager headerManager = new HeaderManager();\n            headerManager.add(createHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\n\n            HTTPSamplerProxy httpSampler = new HTTPSamplerProxy();\n            httpSampler.setProtocol(&quot;https&quot;);\n            httpSampler.setDomain(config.getString(&quot;JMETER_DOMAIN&quot;));\n            httpSampler.setPath(api);\n            httpSampler.setMethod(method);\n\n            TestPlan testPlan = new TestPlan(&quot;MY TEST PLAN&quot;);\n\n            // Add elements to HashTree\n            ListedHashTree testPlanTree = new ListedHashTree();\n            testPlanTree.add(testPlan);\n            ListedHashTree threadGroupTree = new ListedHashTree(threadGroup);\n            threadGroupTree.add(httpSampler,headerManager);\n            testPlanTree.add(testPlan, threadGroupTree);            \n            // Run Test Plan\n            jm.configure(testPlanTree);\n            jm.run();\n</code></pre>\n<p>O/p</p>\n<pre><code>14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; POST /auth/Authentication/login HTTP/1.1\n14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: close\n14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 33\n14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: text/plain\n14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: example.com\n14:26:57.653 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.14 (Java/1.8.0_372)\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 415 Unsupported Media Type\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Tue, 18 Jul 2023 14:26:57 GMT\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: application/problem+json; charset=utf-8\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Transfer-Encoding: chunked\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: close\n14:26:57.672 [ 1-1] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Server: Kestrel\n14:26:57.680 [ 1-1] INFO  org.apache.jmeter.threads.JMeterThread - Thread is done:  1-1\n14:26:57.680 [ 1-1] INFO  org.apache.jmeter.threads.JMeterThread - Thread finished:  1-1\n</code></pre>\n<p>How do i change the content-type as per my requirement and avoid jmeter overriding it</p>\n<p>Tried using HeaderManager but no luck yet</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689686104,"post_id":76713002,"comment_id":135246455,"body_markdown":"Well despite you think the input is correct it isn&#39;t. Check for casing, is it a `varchar` or `char` column. What do you get which expection.","body":"Well despite you think the input is correct it isn&#39;t. Check for casing, is it a <code>varchar</code> or <code>char</code> column. What do you get which expection."},{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689686463,"post_id":76713002,"comment_id":135246543,"body_markdown":"Could you show us your db columns, maybe you&#39;ve got wrong naming or data type.","body":"Could you show us your db columns, maybe you&#39;ve got wrong naming or data type."},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1689688032,"post_id":76713002,"comment_id":135246884,"body_markdown":"You can try to log the query generated by hibernate. This might make it easier to debug. More info on how to do it here : https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/ or here https://mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/","body":"You can try to log the query generated by hibernate. This might make it easier to debug. More info on how to do it here : <a href=\"https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a> or here <a href=\"https://mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/\" rel=\"nofollow noreferrer\">mkyong.com/hibernate/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689695655,"post_id":76713002,"comment_id":135248931,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689694496,"creation_date":1689694496,"answer_id":76714444,"question_id":76713002,"body_markdown":"The way you&#39;ve defined your Member class, there is no way for java to set the field values of your the class even if the query returns some data. You have only defined the getters and a NoArgsConstructor, there is no AllArgsConstructor present, or setters for the individual fields.\r\n\r\nTry adding `@Data` annotation, or other equivalent annotations (`@AllArgsConstructor`, `@Setter`) for java to be able to set these fields in case some data is returned by the query. The code in repository class looks fine to me.","title":"Why does the JPA findBy method return an empty result?","body":"<p>The way you've defined your Member class, there is no way for java to set the field values of your the class even if the query returns some data. You have only defined the getters and a NoArgsConstructor, there is no AllArgsConstructor present, or setters for the individual fields.</p>\n<p>Try adding <code>@Data</code> annotation, or other equivalent annotations (<code>@AllArgsConstructor</code>, <code>@Setter</code>) for java to be able to set these fields in case some data is returned by the query. The code in repository class looks fine to me.</p>\n"}],"owner":{"account_id":29041604,"reputation":1,"user_id":22246354,"display_name":"myev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689694496,"creation_date":1689684950,"question_id":76713002,"body_markdown":"When trying to find a member using the webId field in the Member class, even if the input is correct, it is unable to find the member.\r\nPostman \r\nI would like to know the cause. \r\n\r\nService:\r\n\r\n```\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class OAuthService {\r\n\r\n    private final MemberRepository memberRepository;\r\n\r\n    @Transactional(readOnly = true)\r\n    public LoginWebResDto webLogin(LoginWebReqDto req) throws BaseException {\r\n        Member member = memberRepository.findByWebId(req.getId()).orElseThrow(() -&gt; new BaseException(ErrorCode.LOGIN_ERROR));\r\n\r\n        if (!passwordEncoder.matches(req.getPassword(), member.getWebPassword())) {\r\n            System.out.println(member.getWebPassword());\r\n            throw new BaseException(ErrorCode.LOGIN_ERROR);\r\n        }\r\n\r\n        return new LoginWebResDto(member.getWebId());\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\n@Repository\r\npublic interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {\r\n    Optional&lt;Member&gt; findByEmail(String email);\r\n    Optional&lt;Member&gt; findByWebId(String webId);\r\n    boolean existsByWebId(String webId);\r\n    Member findByWebToken(String webToken);\r\n}\r\n```\r\n\r\nMember:\r\n```\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Entity\r\n@Table(name = &quot;member&quot;)\r\npublic class Member extends BaseTimeEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;member_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;web_id&quot;)\r\n    private String webId;\r\n\r\n    @Column(name = &quot;web_password&quot;)\r\n    private String webPassword;\r\n}\r\n```","title":"Why does the JPA findBy method return an empty result?","body":"<p>When trying to find a member using the webId field in the Member class, even if the input is correct, it is unable to find the member.\nPostman\nI would like to know the cause.</p>\n<p>Service:</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class OAuthService {\n\n    private final MemberRepository memberRepository;\n\n    @Transactional(readOnly = true)\n    public LoginWebResDto webLogin(LoginWebReqDto req) throws BaseException {\n        Member member = memberRepository.findByWebId(req.getId()).orElseThrow(() -&gt; new BaseException(ErrorCode.LOGIN_ERROR));\n\n        if (!passwordEncoder.matches(req.getPassword(), member.getWebPassword())) {\n            System.out.println(member.getWebPassword());\n            throw new BaseException(ErrorCode.LOGIN_ERROR);\n        }\n\n        return new LoginWebResDto(member.getWebId());\n    }\n    ...\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {\n    Optional&lt;Member&gt; findByEmail(String email);\n    Optional&lt;Member&gt; findByWebId(String webId);\n    boolean existsByWebId(String webId);\n    Member findByWebToken(String webToken);\n}\n</code></pre>\n<p>Member:</p>\n<pre><code>@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;member&quot;)\npublic class Member extends BaseTimeEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;member_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;web_id&quot;)\n    private String webId;\n\n    @Column(name = &quot;web_password&quot;)\n    private String webPassword;\n}\n</code></pre>\n"},{"tags":["java","maven","deployment","jar","virtual-machine"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1346829064,"post_id":12265112,"comment_id":16463382,"body_markdown":"This is not a job for Maven. For such purposes better use a script, a CI solution or things like Chef or Puppet.","body":"This is not a job for Maven. For such purposes better use a script, a CI solution or things like Chef or Puppet."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346767625,"creation_date":1346767625,"answer_id":12265241,"question_id":12265112,"body_markdown":"You likely won&#39;t need Ant/Maven deployed remotely.\r\n\r\nCan you instead `ssh`/`scp` onto that machine ? Ant has [sshexec][1] and [scp][2] tasks to allow you to copy and run stuff remotely.\r\n\r\n\r\n  [1]: http://ant.apache.org/manual/Tasks/sshexec.html\r\n  [2]: http://ant.apache.org/manual/Tasks/scp.html","title":"java- how to deploy a jar file which is on a remote machine-with some user defined arguments","body":"<p>You likely won't need Ant/Maven deployed remotely.</p>\n\n<p>Can you instead <code>ssh</code>/<code>scp</code> onto that machine ? Ant has <a href=\"http://ant.apache.org/manual/Tasks/sshexec.html\" rel=\"nofollow\">sshexec</a> and <a href=\"http://ant.apache.org/manual/Tasks/scp.html\" rel=\"nofollow\">scp</a> tasks to allow you to copy and run stuff remotely.</p>\n"},{"tags":[],"owner":{"account_id":1733886,"reputation":1028,"user_id":1586874,"display_name":"Pawel Solarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346769542,"creation_date":1346769542,"answer_id":12265837,"question_id":12265112,"body_markdown":"Best way would be to create shell script that does all you need. If the machine is unix like,\r\nyou can achieve all this with ssh, scp (uses ssh).\r\n\r\nWith ssh you can execute remote shell commands. \r\n\r\nExample (all_in_one.sh):\r\n\r\n    args=$1\r\n    arg2=$2\r\n    etc.\r\n    ssh admin@amazon_instance &lt;&lt; end\r\n    /home/admin/bin/startAmazonVM.sh $arg1\r\n    end\r\n    \r\n    scp mylocal.jar admin@amazon_instance:/home/admin/server/libraries/\r\n\r\n    ssh admin@amazon_instance &lt;&lt; end\r\n    $JAVA_HOME/bin/java -jar /home/admin/server/libraries/mylocal.jar $arg2\r\n    end\r\n\r\nThen you can run e.g. all_in_one.sh &lt;your_arguments&gt; (add &gt;&gt; output.txt to create execution output file, which you may then parse to verify the process)\r\n\r\nIf you are working on Windows, install Cygwin or MinGW, or use ant and spend some more, more time configuring tasks in it to do the things other tools do best.\r\n\r\n ","title":"java- how to deploy a jar file which is on a remote machine-with some user defined arguments","body":"<p>Best way would be to create shell script that does all you need. If the machine is unix like,\nyou can achieve all this with ssh, scp (uses ssh).</p>\n\n<p>With ssh you can execute remote shell commands. </p>\n\n<p>Example (all_in_one.sh):</p>\n\n<pre><code>args=$1\narg2=$2\netc.\nssh admin@amazon_instance &lt;&lt; end\n/home/admin/bin/startAmazonVM.sh $arg1\nend\n\nscp mylocal.jar admin@amazon_instance:/home/admin/server/libraries/\n\nssh admin@amazon_instance &lt;&lt; end\n$JAVA_HOME/bin/java -jar /home/admin/server/libraries/mylocal.jar $arg2\nend\n</code></pre>\n\n<p>Then you can run e.g. all_in_one.sh  (add >> output.txt to create execution output file, which you may then parse to verify the process)</p>\n\n<p>If you are working on Windows, install Cygwin or MinGW, or use ant and spend some more, more time configuring tasks in it to do the things other tools do best.</p>\n"},{"tags":[],"owner":{"account_id":775923,"reputation":10640,"user_id":1050422,"display_name":"Lorand Bendig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689693539,"creation_date":1346784738,"answer_id":12269639,"question_id":12265112,"body_markdown":"If you stick to `Maven`, you can &lt;s&gt;attack&lt;/s&gt; attach the jar uploading process to the `install phase` as follows: &lt;br&gt;\r\n\r\npom.xml :\r\n\r\n    ...\r\n    &lt;plugins&gt;\r\n    ...\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;tasks&gt;\r\n            &lt;scp todir=&quot;${targetNode}:~/&quot; trust=&quot;true&quot; failonerror=&quot;true&quot;\r\n              file=&quot;${project.build.directory}/${project.build.finalName}.jar&quot; /&gt;\r\n          &lt;/tasks&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;upload&lt;/id&gt;\r\n            &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ant-jsch&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.3&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    ...\r\n    &lt;/plugins&gt;\r\n    ...\r\n\r\nThen issue:\r\n\r\n    mvn clean install &quot;-DtargetNode=user:pass@machine&quot;\r\n\r\nOptionally write a script that runs the uploaded jar on the target machine.","title":"java- how to deploy a jar file which is on a remote machine-with some user defined arguments","body":"<p>If you stick to <code>Maven</code>, you can <s>attack</s> attach the jar uploading process to the <code>install phase</code> as follows: <br></p>\n<p>pom.xml :</p>\n<pre><code>...\n&lt;plugins&gt;\n...\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;tasks&gt;\n        &lt;scp todir=&quot;${targetNode}:~/&quot; trust=&quot;true&quot; failonerror=&quot;true&quot;\n          file=&quot;${project.build.directory}/${project.build.finalName}.jar&quot; /&gt;\n      &lt;/tasks&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;upload&lt;/id&gt;\n        &lt;phase&gt;install&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant-jsch&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n...\n&lt;/plugins&gt;\n...\n</code></pre>\n<p>Then issue:</p>\n<pre><code>mvn clean install &quot;-DtargetNode=user:pass@machine&quot;\n</code></pre>\n<p>Optionally write a script that runs the uploaded jar on the target machine.</p>\n"}],"owner":{"account_id":417805,"reputation":6400,"user_id":2606598,"accept_rate":68,"display_name":"Arvind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689693539,"creation_date":1346767115,"question_id":12265112,"body_markdown":"I am pretty new to maven/ant hence please excuse me if my question sounds silly to you...\r\n\r\nIn an application I am working on, I have to initialise a virtual machine (eg Amazon EC2 instance), then upload a JAR file to that machine and finally, run it-- each time I want to run it, the run-time arguments may be different.\r\n\r\nWhat is the best way of doing this? What frameworks/libraries (like maven or ant) will I require to be installed on that virtual machine, in addition to JRE, for this to work?\r\n","title":"java- how to deploy a jar file which is on a remote machine-with some user defined arguments","body":"<p>I am pretty new to maven/ant hence please excuse me if my question sounds silly to you...</p>\n\n<p>In an application I am working on, I have to initialise a virtual machine (eg Amazon EC2 instance), then upload a JAR file to that machine and finally, run it-- each time I want to run it, the run-time arguments may be different.</p>\n\n<p>What is the best way of doing this? What frameworks/libraries (like maven or ant) will I require to be installed on that virtual machine, in addition to JRE, for this to work?</p>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":15325053,"reputation":133,"user_id":11056426,"display_name":"Json"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1689693439,"creation_date":1605246969,"answer_id":64816166,"question_id":64814633,"body_markdown":"I finally resolve the issue and got a chance to learn how Spring AOP works in the background and if it doesn&#39;t works how we can debug this kind of AOP Aspect issue.\r\n\r\n**The root cause**\r\n\r\nThe root cause is that the aspect is not a Bean manged by Spring in project-service. Just add the below in project-service&#39;s Config class will solve the issue:\r\n```\r\n    @Configuration\r\n    public class ServiceConfig {\r\n        ...\r\n\r\n        @Bean\r\n        public RequestServiceSupportAspect requestServiceSupportAspect() {\r\n            return new RequestServiceSupportAspect();\r\n        }\r\n\r\n    }\r\n```\r\nThe reason RequestServiceSupportAspect works in unit tests written in project-common is that we use @Component on the aspect definition and within project-common, there is a RequestServiceSupportAspect bean manged by the Spring, thus the aspect works.\r\n\r\nHowever in another submodule project-service, Aspect Class annotated with @Component will not create a Bean managed by Spring in default, as it is not in the path scanned by the SpringBoot application. You need to either mannually declare a Bean definition in the Config class or you need to define a Aspect bean in project-common and import the Config file or let project-commmon expose it by configuring resources/META-INF/spring.factories like below:\r\n```\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=xxxConfiguration\r\n```\r\n**How AOP works behind the scenes**\r\n\r\nThe above explanation should have solve the problem. But if you are interested how I get there, the below may provides some hints.\r\n\r\n 1. I first start to check if my service bean has been proxied.\r\n    The answer is no, I just see a raw bean, so I start to think how the aspect works at runtime and proxy the direct call to the real service so the aspect can add its action on it.\r\n 2. After some digging, I found out that the BeanPostProcessor is a critical entry point to look into.\r\n    First, we can dive into the below annotation chain:\r\n```\r\n    @EnableAspectJAutoProxy\r\n    --&gt; AspectJAutoProxyRegistrar\r\n    --&gt; AopConfigUtils.registerAspectJAnnotationAutoProxyCreatorIfNecessary\r\n    --&gt; AnnotationAwareAspectJAutoProxyCreator.class\r\n```\r\n   If you see the hierarchy of AnnotationAwareAspectJAutoProxyCreator, it implements BeanPostProcessor interface, it is reasonable because then the Spring will be able to add proxy to the class where there is aspect bound to.\r\n   It has two methods to implement:\r\n```\r\npublic interface BeanPostProcessor {\r\n  \r\n  @Nullable\r\n  default Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n    return bean;\r\n  }\r\n  \r\n  @Nullable\r\n  default Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n    return bean;\r\n  }\r\n}\r\n```\r\n 3. I start to read how AnnotationAwareAspectJAutoProxyCreator implements the method, and I find out that it is its base class AbstractAutoProxyCreator which implement it like below:\r\n```\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName)\r\n    throws BeansException {\r\n      if (bean != null) {\r\n         Object cacheKey = getCacheKey(bean.getClass(), beanName);\r\n         if (!this.earlyProxyReferences.contains(cacheKey)) {\r\n            return **wrapIfNecessary**(bean, beanName, cacheKey);\r\n         }\r\n      }\r\n      return bean;\r\n    }\r\n ```\r\n \r\nIt is very obvious that wrapIfNecessary is the place where aspect proxy are added to Bean.\r\nI make a break point here and check what&#39;s going wrong.\r\n     \r\n  4. In the wrapIfNecessary method, I found that when my service bean is created, it go into the branch of DO_NOT_PROXY.\r\n```\r\nprotected Object wrapIfNecessary(Object bean, String beanName, Object cacheKey) {\r\n  if (StringUtils.hasLength(beanName) &amp;&amp; this.targetSourcedBeans.contains(beanName)) {\r\n      return bean;\r\n  }\r\n  if (Boolean.FALSE.equals(this.advisedBeans.get(cacheKey))) {\r\n      return bean;\r\n  }\r\n  if (isInfrastructureClass(bean.getClass()) || shouldSkip(bean.getClass(), beanName)) {\r\n      this.advisedBeans.put(cacheKey, Boolean.FALSE);\r\n      return bean;\r\n  }\r\n\r\n  // Create proxy if we have advice.\r\n  Object[] specificInterceptors = getAdvicesAndAdvisorsForBean(bean.getClass(), beanName, null);\r\n  if (specificInterceptors != DO_NOT_PROXY) {\r\n      this.advisedBeans.put(cacheKey, Boolean.TRUE);\r\n      Object proxy = createProxy(\r\n          bean.getClass(), beanName, specificInterceptors, new SingletonTargetSource(bean));\r\n      this.proxyTypes.put(cacheKey, proxy.getClass());\r\n      return proxy;\r\n  }\r\n\r\n  this.advisedBeans.put(cacheKey, Boolean.FALSE);\r\n  return bean;\r\n}\r\n```\r\n  The reason for this is getAdvicesAndAdvisorsForBean doesn&#39;t returned the my desired Aspect.\r\n  \r\n  I dig into getAdvicesAndAdvisorsForBean and find out that BeanFactoryAspectJAdvisorsBuilder::buildAspectJAdvisors is the place where all the candidates Bean are being imported.\r\n\r\n  It initialized aspectNames exactly once using code often seen in singleton pattern which will be later used at BeanNameAutoProxyCreator::getAdvicesAndAdvisorsForBean to fetch the aspect you created.\r\n\r\n  Then I find that it is the Aspect Bean not included in this project that makes my Aspect not working.\r\n  \r\n  5. If you look into the wrapIfNecessary method, you will also find the different proxy Spring AOP will create for its bean class\r\n```\r\n  public class DefaultAopProxyFactory implements AopProxyFactory, Serializable {\r\n\r\n  \t@Override\r\n  \tpublic AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException {\r\n  \t\tif (config.isOptimize() || config.isProxyTargetClass() || hasNoUserSuppliedProxyInterfaces(config)) {\r\n  \t\t\tClass&lt;?&gt; targetClass = config.getTargetClass();\r\n  \t\t\tif (targetClass == null) {\r\n  \t\t\t\tthrow new AopConfigException(&quot;TargetSource cannot determine target class: &quot; +\r\n  \t\t\t\t\t\t&quot;Either an interface or a target is required for proxy creation.&quot;);\r\n  \t\t\t}\r\n  \t\t\tif (targetClass.isInterface() || Proxy.isProxyClass(targetClass)) {\r\n  \t\t\t\treturn new JdkDynamicAopProxy(config);\r\n  \t\t\t}\r\n  \t\t\treturn new ObjenesisCglibAopProxy(config);\r\n  \t\t}\r\n  \t\telse {\r\n  \t\t\treturn new JdkDynamicAopProxy(config);\r\n  \t\t}\r\n  \t}\r\n\r\n    ...\r\n  }\r\n```\r\n\r\n**If AOP Aspect is not working, how we can debug the issue**\r\n\r\n  If you find your Aspect is not working, make a break point at the below location:\r\n```\r\n  AbstractAutoProxyCreator::postProcessAfterInitialization() -&gt; wrapIfNecessary\r\n```\r\n  Add conditional breakpoint filter for the service bean you want to add aspect for, step by step executing will leads you to the root cause.\r\n  \r\n**Summary**\r\n\r\nThough the investigation process takes me some time, in the end, the root cause is quite simple and straight-foward. However, in our daily work, some of us may easily overlook it. That&#39;s the reason why I post my answer here so that in the future if anyone encounter with similar issue, the post may save some time for them.\r\n","title":"Spring AOP aspect doesn&#39;t work in multi-module project","body":"<p>I finally resolve the issue and got a chance to learn how Spring AOP works in the background and if it doesn't works how we can debug this kind of AOP Aspect issue.</p>\n<p><strong>The root cause</strong></p>\n<p>The root cause is that the aspect is not a Bean manged by Spring in project-service. Just add the below in project-service's Config class will solve the issue:</p>\n<pre><code>    @Configuration\n    public class ServiceConfig {\n        ...\n\n        @Bean\n        public RequestServiceSupportAspect requestServiceSupportAspect() {\n            return new RequestServiceSupportAspect();\n        }\n\n    }\n</code></pre>\n<p>The reason RequestServiceSupportAspect works in unit tests written in project-common is that we use @Component on the aspect definition and within project-common, there is a RequestServiceSupportAspect bean manged by the Spring, thus the aspect works.</p>\n<p>However in another submodule project-service, Aspect Class annotated with @Component will not create a Bean managed by Spring in default, as it is not in the path scanned by the SpringBoot application. You need to either mannually declare a Bean definition in the Config class or you need to define a Aspect bean in project-common and import the Config file or let project-commmon expose it by configuring resources/META-INF/spring.factories like below:</p>\n<pre><code>    org.springframework.boot.autoconfigure.EnableAutoConfiguration=xxxConfiguration\n</code></pre>\n<p><strong>How AOP works behind the scenes</strong></p>\n<p>The above explanation should have solve the problem. But if you are interested how I get there, the below may provides some hints.</p>\n<ol>\n<li>I first start to check if my service bean has been proxied.\nThe answer is no, I just see a raw bean, so I start to think how the aspect works at runtime and proxy the direct call to the real service so the aspect can add its action on it.</li>\n<li>After some digging, I found out that the BeanPostProcessor is a critical entry point to look into.\nFirst, we can dive into the below annotation chain:</li>\n</ol>\n<pre><code>    @EnableAspectJAutoProxy\n    --&gt; AspectJAutoProxyRegistrar\n    --&gt; AopConfigUtils.registerAspectJAnnotationAutoProxyCreatorIfNecessary\n    --&gt; AnnotationAwareAspectJAutoProxyCreator.class\n</code></pre>\n<p>If you see the hierarchy of AnnotationAwareAspectJAutoProxyCreator, it implements BeanPostProcessor interface, it is reasonable because then the Spring will be able to add proxy to the class where there is aspect bound to.\nIt has two methods to implement:</p>\n<pre><code>public interface BeanPostProcessor {\n  \n  @Nullable\n  default Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n    return bean;\n  }\n  \n  @Nullable\n  default Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n    return bean;\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>I start to read how AnnotationAwareAspectJAutoProxyCreator implements the method, and I find out that it is its base class AbstractAutoProxyCreator which implement it like below:</li>\n</ol>\n<pre><code>    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName)\n    throws BeansException {\n      if (bean != null) {\n         Object cacheKey = getCacheKey(bean.getClass(), beanName);\n         if (!this.earlyProxyReferences.contains(cacheKey)) {\n            return **wrapIfNecessary**(bean, beanName, cacheKey);\n         }\n      }\n      return bean;\n    }\n</code></pre>\n<p>It is very obvious that wrapIfNecessary is the place where aspect proxy are added to Bean.\nI make a break point here and check what's going wrong.</p>\n<ol start=\"4\">\n<li>In the wrapIfNecessary method, I found that when my service bean is created, it go into the branch of DO_NOT_PROXY.</li>\n</ol>\n<pre><code>protected Object wrapIfNecessary(Object bean, String beanName, Object cacheKey) {\n  if (StringUtils.hasLength(beanName) &amp;&amp; this.targetSourcedBeans.contains(beanName)) {\n      return bean;\n  }\n  if (Boolean.FALSE.equals(this.advisedBeans.get(cacheKey))) {\n      return bean;\n  }\n  if (isInfrastructureClass(bean.getClass()) || shouldSkip(bean.getClass(), beanName)) {\n      this.advisedBeans.put(cacheKey, Boolean.FALSE);\n      return bean;\n  }\n\n  // Create proxy if we have advice.\n  Object[] specificInterceptors = getAdvicesAndAdvisorsForBean(bean.getClass(), beanName, null);\n  if (specificInterceptors != DO_NOT_PROXY) {\n      this.advisedBeans.put(cacheKey, Boolean.TRUE);\n      Object proxy = createProxy(\n          bean.getClass(), beanName, specificInterceptors, new SingletonTargetSource(bean));\n      this.proxyTypes.put(cacheKey, proxy.getClass());\n      return proxy;\n  }\n\n  this.advisedBeans.put(cacheKey, Boolean.FALSE);\n  return bean;\n}\n</code></pre>\n<p>The reason for this is getAdvicesAndAdvisorsForBean doesn't returned the my desired Aspect.</p>\n<p>I dig into getAdvicesAndAdvisorsForBean and find out that BeanFactoryAspectJAdvisorsBuilder::buildAspectJAdvisors is the place where all the candidates Bean are being imported.</p>\n<p>It initialized aspectNames exactly once using code often seen in singleton pattern which will be later used at BeanNameAutoProxyCreator::getAdvicesAndAdvisorsForBean to fetch the aspect you created.</p>\n<p>Then I find that it is the Aspect Bean not included in this project that makes my Aspect not working.</p>\n<ol start=\"5\">\n<li>If you look into the wrapIfNecessary method, you will also find the different proxy Spring AOP will create for its bean class</li>\n</ol>\n<pre><code>  public class DefaultAopProxyFactory implements AopProxyFactory, Serializable {\n\n    @Override\n    public AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException {\n        if (config.isOptimize() || config.isProxyTargetClass() || hasNoUserSuppliedProxyInterfaces(config)) {\n            Class&lt;?&gt; targetClass = config.getTargetClass();\n            if (targetClass == null) {\n                throw new AopConfigException(&quot;TargetSource cannot determine target class: &quot; +\n                        &quot;Either an interface or a target is required for proxy creation.&quot;);\n            }\n            if (targetClass.isInterface() || Proxy.isProxyClass(targetClass)) {\n                return new JdkDynamicAopProxy(config);\n            }\n            return new ObjenesisCglibAopProxy(config);\n        }\n        else {\n            return new JdkDynamicAopProxy(config);\n        }\n    }\n\n    ...\n  }\n</code></pre>\n<p><strong>If AOP Aspect is not working, how we can debug the issue</strong></p>\n<p>If you find your Aspect is not working, make a break point at the below location:</p>\n<pre><code>  AbstractAutoProxyCreator::postProcessAfterInitialization() -&gt; wrapIfNecessary\n</code></pre>\n<p>Add conditional breakpoint filter for the service bean you want to add aspect for, step by step executing will leads you to the root cause.</p>\n<p><strong>Summary</strong></p>\n<p>Though the investigation process takes me some time, in the end, the root cause is quite simple and straight-foward. However, in our daily work, some of us may easily overlook it. That's the reason why I post my answer here so that in the future if anyone encounter with similar issue, the post may save some time for them.</p>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605260308,"creation_date":1605260308,"answer_id":64818581,"question_id":64814633,"body_markdown":"Instead of explicitly providing aspects as `@Bean`&#39;s you could just add (or extend)  `@ComponentScan` to make aspect components reachable.\r\n\r\n```java\r\n@ComponentScan(&quot;my.aspect.package&quot;) // &lt;&lt; use relevant package from &#39;project-common&#39;\r\n@Configuration\r\npublic class ServiceConfig {\r\n   ...\r\n}\r\n```","title":"Spring AOP aspect doesn&#39;t work in multi-module project","body":"<p>Instead of explicitly providing aspects as <code>@Bean</code>'s you could just add (or extend)  <code>@ComponentScan</code> to make aspect components reachable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan(&quot;my.aspect.package&quot;) // &lt;&lt; use relevant package from 'project-common'\n@Configuration\npublic class ServiceConfig {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25402047,"reputation":1,"user_id":19211352,"display_name":"da jun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660102768,"creation_date":1660102646,"answer_id":73300353,"question_id":64814633,"body_markdown":"I meet the bug,and solve it by this method\r\nThe project strucutre is like below\r\n\r\n    parent-project\r\n    ----common[Aop.class ,Config.class]\r\n    ----service[Application]\r\nAop.class\r\n\r\n    @Aspect\r\n    @Component\r\n    class Aop {    \r\n    @Around(&quot;@annotation(aop package)&quot;)\r\n    fun around(pjp: ProceedingJoinPoint):Any?{\r\n        do something...\r\n        }\r\n    }\r\n\r\nConfig.class\r\n\r\n    @ComponentScan(&quot;Aop package&quot;)\r\n    @Configuration\r\n    class Config {\r\n    @Bean\r\n    fun createAop(): Aop {        \r\n        return Aop()\r\n    }\r\n    }\r\n\r\nApplication.class\r\n\r\n    @SpringBootApplication\r\n    @Import(value = [Config::class])\r\n    class Application\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n\trunApplication&lt;TagApplication&gt;(*args)\r\n    }","title":"Spring AOP aspect doesn&#39;t work in multi-module project","body":"<p>I meet the bug,and solve it by this method\nThe project strucutre is like below</p>\n<pre><code>parent-project\n----common[Aop.class ,Config.class]\n----service[Application]\n</code></pre>\n<p>Aop.class</p>\n<pre><code>@Aspect\n@Component\nclass Aop {    \n@Around(&quot;@annotation(aop package)&quot;)\nfun around(pjp: ProceedingJoinPoint):Any?{\n    do something...\n    }\n}\n</code></pre>\n<p>Config.class</p>\n<pre><code>@ComponentScan(&quot;Aop package&quot;)\n@Configuration\nclass Config {\n@Bean\nfun createAop(): Aop {        \n    return Aop()\n}\n}\n</code></pre>\n<p>Application.class</p>\n<pre><code>@SpringBootApplication\n@Import(value = [Config::class])\nclass Application\n\nfun main(args: Array&lt;String&gt;) {\nrunApplication&lt;TagApplication&gt;(*args)\n}\n</code></pre>\n"}],"owner":{"account_id":15325053,"reputation":133,"user_id":11056426,"display_name":"Json"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64816166,"answer_count":3,"score":3,"last_activity_date":1689693439,"creation_date":1605234723,"question_id":64814633,"body_markdown":"Let me simplify my question as below:\r\n\r\nI have a Java Maven project called project-parent, in it I have multiple child module projects.\r\n\r\n\r\nOne of the project is called project-common, I put all the self-defined Spring AOP Aspects used across the whole project in there. I have written unit tests in project-common, and the aspect works properly as I expected in unit tests.\r\n\r\n\r\nThen, I want to apply those Aspects in other modules. One of the submodules is called project-service. The aspect I apply to the method in the service should do auth management before and after the service method. However, I found those Aspects not working when the service is running. Also, project-service has a maven dependency on project-common.\r\n\r\nThe project structure is like below\r\n\r\n    project-parent\r\n      -- project-common (in which define the aspect)\r\n      -- project-service (where my aspect is used)\r\n      ...\r\n      -- other submodules omitted for simplicity\r\n\r\nMy Aspect defined is like:\r\n\r\n        @Aspect\r\n        @Component\r\n        public class RequestServiceSupportAspect {\r\n            @Pointcut(value = &quot;@annotation(RequestServiceSupport)&quot;)\r\n            public void matchMethod() {\r\n                // pointcut\r\n            }\r\n    \r\n            @Around(&quot;matchMethod()&quot;)\r\n            public Object basicAuthSupport(ProceedingJoinPoint joinPoint) {\r\n                ...\r\n            }\r\n        }\r\n\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target(ElementType.METHOD)\r\n        public @interface RequestServiceSupport {\r\n        }\r\n\r\nMy Service using the Aspect is like:\r\n\r\n      public class RequestServiceImpl implements RequestService {\r\n          ...\r\n\r\n          @RequestServiceSupport\r\n          public Request addComment(Comment comment) {\r\n              ...\r\n          }\r\n      }\r\n\r\n","title":"Spring AOP aspect doesn&#39;t work in multi-module project","body":"<p>Let me simplify my question as below:</p>\n<p>I have a Java Maven project called project-parent, in it I have multiple child module projects.</p>\n<p>One of the project is called project-common, I put all the self-defined Spring AOP Aspects used across the whole project in there. I have written unit tests in project-common, and the aspect works properly as I expected in unit tests.</p>\n<p>Then, I want to apply those Aspects in other modules. One of the submodules is called project-service. The aspect I apply to the method in the service should do auth management before and after the service method. However, I found those Aspects not working when the service is running. Also, project-service has a maven dependency on project-common.</p>\n<p>The project structure is like below</p>\n<pre><code>project-parent\n  -- project-common (in which define the aspect)\n  -- project-service (where my aspect is used)\n  ...\n  -- other submodules omitted for simplicity\n</code></pre>\n<p>My Aspect defined is like:</p>\n<pre><code>    @Aspect\n    @Component\n    public class RequestServiceSupportAspect {\n        @Pointcut(value = &quot;@annotation(RequestServiceSupport)&quot;)\n        public void matchMethod() {\n            // pointcut\n        }\n\n        @Around(&quot;matchMethod()&quot;)\n        public Object basicAuthSupport(ProceedingJoinPoint joinPoint) {\n            ...\n        }\n    }\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface RequestServiceSupport {\n    }\n</code></pre>\n<p>My Service using the Aspect is like:</p>\n<pre><code>  public class RequestServiceImpl implements RequestService {\n      ...\n\n      @RequestServiceSupport\n      public Request addComment(Comment comment) {\n          ...\n      }\n  }\n</code></pre>\n"},{"tags":["java","javascript","template-engine","google-closure"],"comments":[{"owner":{"account_id":209395,"reputation":1060,"user_id":460378,"accept_rate":100,"display_name":"Johnnycube"},"score":0,"creation_date":1320882470,"post_id":7085741,"comment_id":9892904,"body_markdown":"Just to notice: Google released a new version of closure template library which is now based on guice 3. So my problem vanished ;)","body":"Just to notice: Google released a new version of closure template library which is now based on guice 3. So my problem vanished ;)"}],"answers":[{"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689693160,"creation_date":1313533107,"answer_id":7085754,"question_id":7085741,"body_markdown":"You can take a look at [Mustache][1].\r\n\r\n\r\n  [1]: https://mustache.github.io/","title":"Looking for a template engine which can be used in Java and JavaScript","body":"<p>You can take a look at <a href=\"https://mustache.github.io/\" rel=\"nofollow noreferrer\">Mustache</a>.</p>\n"},{"tags":[],"owner":{"account_id":1860909,"reputation":2157,"user_id":1685510,"accept_rate":92,"display_name":"Tomas Randus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394146455,"creation_date":1394146455,"answer_id":22237939,"question_id":7085741,"body_markdown":"Also [Histone][1] seems to be for both\r\n\r\n\r\nBTW: the same topic is [here][2]\r\n\r\n\r\n  [1]: http://weblab.megafon.ru/histone/en/\r\n  [2]: https://stackoverflow.com/questions/8871425/cross-java-and-javascript-template-language","title":"Looking for a template engine which can be used in Java and JavaScript","body":"<p>Also <a href=\"http://weblab.megafon.ru/histone/en/\" rel=\"nofollow noreferrer\">Histone</a> seems to be for both</p>\n\n<p>BTW: the same topic is <a href=\"https://stackoverflow.com/questions/8871425/cross-java-and-javascript-template-language\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422645074,"creation_date":1422645074,"answer_id":28243002,"question_id":7085741,"body_markdown":"I realize this is an old question, but have you considered firing up a [`javax.script.ScriptEngine`](https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html) and running the same JS templating system in Java as well? That way you can choose the template system you actually want rather than compromising based on what languages implement it. I doubt that embedded JS in Java (Rhino/Nashorn) will perform as a well as a native Java implementation, but depending on your application that might not matter.","title":"Looking for a template engine which can be used in Java and JavaScript","body":"<p>I realize this is an old question, but have you considered firing up a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html\" rel=\"nofollow\"><code>javax.script.ScriptEngine</code></a> and running the same JS templating system in Java as well? That way you can choose the template system you actually want rather than compromising based on what languages implement it. I doubt that embedded JS in Java (Rhino/Nashorn) will perform as a well as a native Java implementation, but depending on your application that might not matter.</p>\n"}],"owner":{"account_id":209395,"reputation":1060,"user_id":460378,"accept_rate":100,"display_name":"Johnnycube"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1688,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1426463079,"accepted_answer_id":7085754,"answer_count":3,"score":5,"last_activity_date":1689693160,"creation_date":1313533006,"question_id":7085741,"body_markdown":"As the title says, I&#39;m currently looking for a template engine that works with Java and Javascript. The idea is that my ajax json objects can use the same template files to render stuff client-side like Java is doing it server-side.\r\n\r\nI know there is google-closure-template but it is working with guice 2.0 and my current project runs under guice 3.0 and both together just create wierd errors and I tried using them but failed for about 2 weeks now...\r\n\r\nSo is there anything apart from google-closure?","title":"Looking for a template engine which can be used in Java and JavaScript","body":"<p>As the title says, I'm currently looking for a template engine that works with Java and Javascript. The idea is that my ajax json objects can use the same template files to render stuff client-side like Java is doing it server-side.</p>\n\n<p>I know there is google-closure-template but it is working with guice 2.0 and my current project runs under guice 3.0 and both together just create wierd errors and I tried using them but failed for about 2 weeks now...</p>\n\n<p>So is there anything apart from google-closure?</p>\n"},{"tags":["java","maven","artifactory"],"comments":[{"owner":{"account_id":17138155,"reputation":266,"user_id":12402748,"display_name":"shaibz"},"score":0,"creation_date":1689693686,"post_id":76714191,"comment_id":135248421,"body_markdown":"Did you enable force authentication on the repository configuration level?\nI see NA which means that the user might be not authenticated - Artifactory maybe doesn&#39;t challenge the client for the token.","body":"Did you enable force authentication on the repository configuration level? I see NA which means that the user might be not authenticated - Artifactory maybe doesn&#39;t challenge the client for the token."},{"owner":{"account_id":10789962,"reputation":65,"user_id":7937803,"display_name":"Acris"},"score":0,"creation_date":1689695409,"post_id":76714191,"comment_id":135248879,"body_markdown":"The Virtual repository does force authentication (in its settings), and is the one that works. I can&#39;t find a similar option for the Local repository, so I&#39;m guessing it&#39;s also enabled. Would make sense.","body":"The Virtual repository does force authentication (in its settings), and is the one that works. I can&#39;t find a similar option for the Local repository, so I&#39;m guessing it&#39;s also enabled. Would make sense."},{"owner":{"account_id":17138155,"reputation":266,"user_id":12402748,"display_name":"shaibz"},"score":0,"creation_date":1689837842,"post_id":76714191,"comment_id":135270586,"body_markdown":"can you add what Artifactory version and the relevant artifactory-request.log entries?","body":"can you add what Artifactory version and the relevant artifactory-request.log entries?"}],"owner":{"account_id":10789962,"reputation":65,"user_id":7937803,"display_name":"Acris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689692817,"creation_date":1689692817,"question_id":76714191,"body_markdown":"Good afternoon,\r\n\r\nI&#39;m trying to download artifacts from my company&#39;s Jfrog Artifactory.\r\nTo do so, I have generated an Identity Token, that can be used as password (as per the documentation).\r\nNow, to simplify, I have one Local Repository on Artifactory, and one Virtual Repository (that aggregates that one Local Repository). Will call them Local and Virtual.\r\n\r\nI have the following things that do work properly:\r\n\r\n - Curl my artifact from Local Repository, using Jfrog&#39;s REST API and my Identity Token\r\n - Curl my artifact from Virtual Repository, using Jfrog&#39;s REST API and my Identity Token\r\n\r\nThese two are just to ensure that my token functions properly.\r\nAlso working:\r\n\r\n - Put Identity Token in `settings.xml` as password for the Virtual Repository, and build my project with maven. Artifact is properly downloaded.\r\n - Same, with encrypted token (through `mvn --encrypt-password`)\r\n\r\nNot working:\r\n - Put Identity Token in `settings.xml` as password for the Local Repository, and build my project with maven. Artifact is not downloaded, with error `Could not find artifact ...`\r\n - Same, with encrypted token (through `mvn --encrypt-password`)\r\n\r\nNow looking at the Artifactory Access Logs, when it works, I get:\r\n`[ACCEPTED DOWNLOAD] virtual:artifact  for client : {X} / {IP Address} [token]`\r\n\r\nWhen it does not, I get:\r\n`[DENIED DOWNLOAD] local:artifact  for client : NA / {IP Address}`\r\n\r\nIt seems that for Local Repository, it no longer recognizes authentication through Identity Token.\r\n\r\nHave I missed something obvious? Is this a (known) bug (that I should report)?\r\n\r\nRegards,\r\n\r\nPS: Yes, I realize I can use that Virtual Repository and be on my way. I mainly don&#39;t want to clutter my list of repositories.","title":"Jfrog Artifactory Access token not working with Local Repository","body":"<p>Good afternoon,</p>\n<p>I'm trying to download artifacts from my company's Jfrog Artifactory.\nTo do so, I have generated an Identity Token, that can be used as password (as per the documentation).\nNow, to simplify, I have one Local Repository on Artifactory, and one Virtual Repository (that aggregates that one Local Repository). Will call them Local and Virtual.</p>\n<p>I have the following things that do work properly:</p>\n<ul>\n<li>Curl my artifact from Local Repository, using Jfrog's REST API and my Identity Token</li>\n<li>Curl my artifact from Virtual Repository, using Jfrog's REST API and my Identity Token</li>\n</ul>\n<p>These two are just to ensure that my token functions properly.\nAlso working:</p>\n<ul>\n<li>Put Identity Token in <code>settings.xml</code> as password for the Virtual Repository, and build my project with maven. Artifact is properly downloaded.</li>\n<li>Same, with encrypted token (through <code>mvn --encrypt-password</code>)</li>\n</ul>\n<p>Not working:</p>\n<ul>\n<li>Put Identity Token in <code>settings.xml</code> as password for the Local Repository, and build my project with maven. Artifact is not downloaded, with error <code>Could not find artifact ...</code></li>\n<li>Same, with encrypted token (through <code>mvn --encrypt-password</code>)</li>\n</ul>\n<p>Now looking at the Artifactory Access Logs, when it works, I get:\n<code>[ACCEPTED DOWNLOAD] virtual:artifact  for client : {X} / {IP Address} [token]</code></p>\n<p>When it does not, I get:\n<code>[DENIED DOWNLOAD] local:artifact  for client : NA / {IP Address}</code></p>\n<p>It seems that for Local Repository, it no longer recognizes authentication through Identity Token.</p>\n<p>Have I missed something obvious? Is this a (known) bug (that I should report)?</p>\n<p>Regards,</p>\n<p>PS: Yes, I realize I can use that Virtual Repository and be on my way. I mainly don't want to clutter my list of repositories.</p>\n"},{"tags":["python","java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":20913081,"reputation":117,"user_id":15363500,"display_name":"Tahar Jaafer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689692579,"creation_date":1689428055,"answer_id":76694004,"question_id":76691359,"body_markdown":"My problem was that i installed dependencies using `pip install networkx` and that will not install the module in the root system instead i added sudo to make that works `sudo pip install networkx`.\r\n\r\nafter that the job executed successfully. \r\n\r\nbut still the results i got are not similar to the ones i got locally by running the scripts so my guess is something related to MapReduce logic i missed. so if anyone there can help me with that and i will make another post for that.\r\n\r\n**UPDATE:** The MapReduce paradigm in Hadoop is primarily designed for batch processing and does not naturally support iterative algorithms like PageRank that require multiple iterations and global communication between nodes.\r\n\r\nIn the case of the PageRank algorithm, where each iteration depends on the results of the previous iteration and requires all the nodes (all my page ids in my input.txt), frameworks like Apache Spark are better suited. Spark provides an in-memory distributed computing model that allows for iterative processing and efficient data sharing across iterations.\r\n ","title":"Running a hadoop streaming and mapreduce job: PipeMapRed.waitOutputThreads() : subprocess failed with code 1","body":"<p>My problem was that i installed dependencies using <code>pip install networkx</code> and that will not install the module in the root system instead i added sudo to make that works <code>sudo pip install networkx</code>.</p>\n<p>after that the job executed successfully.</p>\n<p>but still the results i got are not similar to the ones i got locally by running the scripts so my guess is something related to MapReduce logic i missed. so if anyone there can help me with that and i will make another post for that.</p>\n<p><strong>UPDATE:</strong> The MapReduce paradigm in Hadoop is primarily designed for batch processing and does not naturally support iterative algorithms like PageRank that require multiple iterations and global communication between nodes.</p>\n<p>In the case of the PageRank algorithm, where each iteration depends on the results of the previous iteration and requires all the nodes (all my page ids in my input.txt), frameworks like Apache Spark are better suited. Spark provides an in-memory distributed computing model that allows for iterative processing and efficient data sharing across iterations.</p>\n"}],"owner":{"account_id":20913081,"reputation":117,"user_id":15363500,"display_name":"Tahar Jaafer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76694004,"answer_count":1,"score":0,"last_activity_date":1689692579,"creation_date":1689372467,"question_id":76691359,"body_markdown":"i am using hadoop 3.3.4 and trying to execute a mapreduce program in python that use google page rank algorithm to rank pages.\r\n\r\nI&#39;m trying to run this on my own Hadoop cluster. I ran the job using the following command.\r\n\r\n&gt; mapred streaming -files mapper.py,reducer.py   -input /user/hadoop/input/input.txt   -output /user/hadoop/output   -mapper ./mapper.py   -reducer ./reducer.py\r\n\r\nBut getting the following error!\r\n\r\n```2023-07-14 17:19:00,943 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at Master/192.168.1.10:8032\r\n2023-07-14 17:19:01,076 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at Master/192.168.1.10:8032\r\n2023-07-14 17:19:01,343 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/hadoop/.staging/job_1689368595696_0003\r\n2023-07-14 17:19:01,790 INFO mapred.FileInputFormat: Total input files to process : 1\r\n2023-07-14 17:19:01,934 INFO mapreduce.JobSubmitter: number of splits:20\r\n2023-07-14 17:19:02,149 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1689368595696_0003\r\n2023-07-14 17:19:02,149 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n2023-07-14 17:19:02,293 INFO conf.Configuration: resource-types.xml not found\r\n2023-07-14 17:19:02,294 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n2023-07-14 17:19:02,351 INFO impl.YarnClientImpl: Submitted application application_1689368595696_0003\r\n2023-07-14 17:19:02,408 INFO mapreduce.Job: The url to track the job: http://Master:8088/proxy/application_1689368595696_0003/\r\n2023-07-14 17:19:02,410 INFO mapreduce.Job: Running job: job_1689368595696_0003\r\n2023-07-14 17:19:09,539 INFO mapreduce.Job: Job job_1689368595696_0003 running in uber mode : false\r\n2023-07-14 17:19:09,540 INFO mapreduce.Job:  map 0% reduce 0%\r\n2023-07-14 17:19:33,742 INFO mapreduce.Job: Task Id : attempt_1689368595696_0003_m_000002_0, Status : FAILED\r\n[2023-07-14 17:19:29.868]Container killed on request. Exit code is 137\r\n[2023-07-14 17:19:30.046]Container exited with a non-zero exit code 137. \r\n[2023-07-14 17:19:30.080]Killed by external signal\r\n\r\n2023-07-14 17:19:33,830 INFO mapreduce.Job: Task Id : attempt_1689368595696_0003_m_000000_0, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 1\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:326)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:539)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:466)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:350)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:178)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:172)\r\n```\r\n\r\ni have also added\r\n#! /usr/bin/env python3\r\nat the beginning of my both files mapper.py and reducer.py\r\n\r\nthis is my mapper.py:\r\n\r\n```\r\n#!/usr/bin/env python3\r\n\r\nimport sys\r\nimport networkx as nx\r\n\r\n# Create a directed graph\r\nG = nx.DiGraph()\r\n\r\n# Dictionary to store the mapping of page_id to page_link\r\npage_link_dict = {}\r\n\r\n# Read the input and store lines in a list\r\nlines = sys.stdin.readlines()\r\n\r\n# Process each line\r\nfor line in lines:\r\n    page_infos = line.strip().split(&#39;\\t&#39;)\r\n    page_id = int(page_infos[0])\r\n    page_link = page_infos[2]\r\n    # Add the node to the graph\r\n    G.add_node(page_id)\r\n\r\n    # Store the mapping of page_id to page_link in the dictionary\r\n    page_link_dict[page_id] = page_link\r\n    \r\nfor line in lines:\r\n    page_id, page_title, page_link, links = line.strip().split(&#39;\\t&#39;)\r\n    # Split the links\r\n    pages_links = links.split(&#39;,&#39;)\r\n    for page_link in pages_links:\r\n        # Search for the id of the linked page and add an edge to it\r\n        for linked_page_id, link in page_link_dict.items():\r\n            if page_link == link:\r\n                G.add_edge(int(page_id), linked_page_id)\r\n                \r\n# Output the graph as adjacency list\r\nfor node in G.nodes():\r\n    neighbors = &#39;,&#39;.join(map(str, G.neighbors(node)))\r\n    sys.stdout.write(f&#39;{node}\\t{neighbors}\\n&#39;)\r\n\r\n```\r\nand this is my reducer.py:\r\n\r\n```\r\n#!/usr/bin/env python3\r\n\r\nimport sys\r\nimport networkx as nx\r\n\r\n# Create a directed graph\r\nG = nx.DiGraph()\r\n\r\n# Read the adjacency list from mapper output and add edges to the graph\r\nfor line in sys.stdin:\r\n    page_infos = line.strip().split(&#39;\\t&#39;)\r\n    node_id = page_infos[0]\r\n    node_id = int(node_id)\r\n    G.add_node(node_id)\r\n    if len(page_infos) == 2:\r\n        neighbors = page_infos[1]\r\n        neighbors = neighbors.split(&#39;,&#39;)\r\n        for neighbor_id in neighbors:\r\n            G.add_edge(node_id, int(neighbor_id))\r\n\r\n# Run the PageRank algorithm\r\npagerank_scores = nx.pagerank(G)\r\n\r\n# Write the output to stdout\r\nfor page_id, rank in pagerank_scores.items():\r\n    sys.stdout.write(f&#39;{page_id}\\t{rank}\\n&#39;)\r\n```\r\n\r\ni also tried to test the code locally in my computer by running these commands:\r\n\r\n&gt; cat input.txt  | ./mapper.py &gt; file.txt\r\n\r\n&gt; cat file.txt  | ./reducer.py\r\n\r\nand it worked fine here some result below displaying every page id and its corresponding rank score:\r\n```\r\n10\t8.883661079121364e-05\r\n9\t6.371139303094697e-05\r\n97\t7.724393979460297e-05\r\n152\t0.0002934058532326906\r\n145\t0.00011016393468028126\r\n11\t8.886938479913977e-05\r\n13\t8.887866372994127e-05\r\n12\t6.371139303094697e-05\r\nmore results after that ...\r\n```\r\nfinally, I also tested a small wordcount MapReduce program in python to test my Hadoop configuration and this worked as well and i did install all the dependency packages in my master to run the program and i installed them in my 2 slaves too i don&#39;t know if that would be necessary.\r\n\r\n**UPDATE!!:** i used apache spark framework with graphframes for this project since it&#39;s more compatible with graphs and got the desired resluts thank youu","title":"Running a hadoop streaming and mapreduce job: PipeMapRed.waitOutputThreads() : subprocess failed with code 1","body":"<p>i am using hadoop 3.3.4 and trying to execute a mapreduce program in python that use google page rank algorithm to rank pages.</p>\n<p>I'm trying to run this on my own Hadoop cluster. I ran the job using the following command.</p>\n<blockquote>\n<p>mapred streaming -files mapper.py,reducer.py   -input /user/hadoop/input/input.txt   -output /user/hadoop/output   -mapper ./mapper.py   -reducer ./reducer.py</p>\n</blockquote>\n<p>But getting the following error!</p>\n<pre><code>2023-07-14 17:19:01,076 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at Master/192.168.1.10:8032\n2023-07-14 17:19:01,343 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/hadoop/.staging/job_1689368595696_0003\n2023-07-14 17:19:01,790 INFO mapred.FileInputFormat: Total input files to process : 1\n2023-07-14 17:19:01,934 INFO mapreduce.JobSubmitter: number of splits:20\n2023-07-14 17:19:02,149 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1689368595696_0003\n2023-07-14 17:19:02,149 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2023-07-14 17:19:02,293 INFO conf.Configuration: resource-types.xml not found\n2023-07-14 17:19:02,294 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2023-07-14 17:19:02,351 INFO impl.YarnClientImpl: Submitted application application_1689368595696_0003\n2023-07-14 17:19:02,408 INFO mapreduce.Job: The url to track the job: http://Master:8088/proxy/application_1689368595696_0003/\n2023-07-14 17:19:02,410 INFO mapreduce.Job: Running job: job_1689368595696_0003\n2023-07-14 17:19:09,539 INFO mapreduce.Job: Job job_1689368595696_0003 running in uber mode : false\n2023-07-14 17:19:09,540 INFO mapreduce.Job:  map 0% reduce 0%\n2023-07-14 17:19:33,742 INFO mapreduce.Job: Task Id : attempt_1689368595696_0003_m_000002_0, Status : FAILED\n[2023-07-14 17:19:29.868]Container killed on request. Exit code is 137\n[2023-07-14 17:19:30.046]Container exited with a non-zero exit code 137. \n[2023-07-14 17:19:30.080]Killed by external signal\n\n2023-07-14 17:19:33,830 INFO mapreduce.Job: Task Id : attempt_1689368595696_0003_m_000000_0, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 1\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:326)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:539)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:466)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:350)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:178)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:172)\n</code></pre>\n<p>i have also added\n#! /usr/bin/env python3\nat the beginning of my both files mapper.py and reducer.py</p>\n<p>this is my mapper.py:</p>\n<pre><code>#!/usr/bin/env python3\n\nimport sys\nimport networkx as nx\n\n# Create a directed graph\nG = nx.DiGraph()\n\n# Dictionary to store the mapping of page_id to page_link\npage_link_dict = {}\n\n# Read the input and store lines in a list\nlines = sys.stdin.readlines()\n\n# Process each line\nfor line in lines:\n    page_infos = line.strip().split('\\t')\n    page_id = int(page_infos[0])\n    page_link = page_infos[2]\n    # Add the node to the graph\n    G.add_node(page_id)\n\n    # Store the mapping of page_id to page_link in the dictionary\n    page_link_dict[page_id] = page_link\n    \nfor line in lines:\n    page_id, page_title, page_link, links = line.strip().split('\\t')\n    # Split the links\n    pages_links = links.split(',')\n    for page_link in pages_links:\n        # Search for the id of the linked page and add an edge to it\n        for linked_page_id, link in page_link_dict.items():\n            if page_link == link:\n                G.add_edge(int(page_id), linked_page_id)\n                \n# Output the graph as adjacency list\nfor node in G.nodes():\n    neighbors = ','.join(map(str, G.neighbors(node)))\n    sys.stdout.write(f'{node}\\t{neighbors}\\n')\n\n</code></pre>\n<p>and this is my reducer.py:</p>\n<pre><code>#!/usr/bin/env python3\n\nimport sys\nimport networkx as nx\n\n# Create a directed graph\nG = nx.DiGraph()\n\n# Read the adjacency list from mapper output and add edges to the graph\nfor line in sys.stdin:\n    page_infos = line.strip().split('\\t')\n    node_id = page_infos[0]\n    node_id = int(node_id)\n    G.add_node(node_id)\n    if len(page_infos) == 2:\n        neighbors = page_infos[1]\n        neighbors = neighbors.split(',')\n        for neighbor_id in neighbors:\n            G.add_edge(node_id, int(neighbor_id))\n\n# Run the PageRank algorithm\npagerank_scores = nx.pagerank(G)\n\n# Write the output to stdout\nfor page_id, rank in pagerank_scores.items():\n    sys.stdout.write(f'{page_id}\\t{rank}\\n')\n</code></pre>\n<p>i also tried to test the code locally in my computer by running these commands:</p>\n<blockquote>\n<p>cat input.txt  | ./mapper.py &gt; file.txt</p>\n</blockquote>\n<blockquote>\n<p>cat file.txt  | ./reducer.py</p>\n</blockquote>\n<p>and it worked fine here some result below displaying every page id and its corresponding rank score:</p>\n<pre><code>10  8.883661079121364e-05\n9   6.371139303094697e-05\n97  7.724393979460297e-05\n152 0.0002934058532326906\n145 0.00011016393468028126\n11  8.886938479913977e-05\n13  8.887866372994127e-05\n12  6.371139303094697e-05\nmore results after that ...\n</code></pre>\n<p>finally, I also tested a small wordcount MapReduce program in python to test my Hadoop configuration and this worked as well and i did install all the dependency packages in my master to run the program and i installed them in my 2 slaves too i don't know if that would be necessary.</p>\n<p><strong>UPDATE!!:</strong> i used apache spark framework with graphframes for this project since it's more compatible with graphs and got the desired resluts thank youu</p>\n"},{"tags":["java","android","notifications"],"owner":{"account_id":22418458,"reputation":15,"user_id":16626146,"display_name":"Beginner-K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689691968,"creation_date":1689691968,"question_id":76714075,"body_markdown":"I&#39;m trying to make Direct Reply from Notification for messaging app.\r\n\r\nI just want to cancel/dismiss notification when I replied.\r\nBut in my demo Notification show again when I replied.\r\n\r\nit&#39;s showing again so manager.cancel() doesn&#39;t work I think.\r\n\r\nTell me any solution for me....\r\n\r\n\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private NotificationManager mNotificationManager;\r\n    private static final String PRIMARY_CHANNEL_ID = &quot;test_notification_channel&quot;;\r\n    private static final String KEY_TEXT_REPLY = &quot;key_text_reply&quot;;\r\n    NotificationCompat.Action action;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        createNotificationChannel();\r\n\r\n        Button button = (Button) findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Intent for Clicking Notification\r\n                Intent intent = new Intent(MainActivity.this, SubActivity.class);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    sendNotification(&quot;title&quot;, &quot;message&quot;, &quot;1&quot;, intent);\r\n                }\r\n            }\r\n        });\r\n\r\n        // direct reply action label,RemoteInput\r\n        String replyLabel = &quot;Reply&quot;;\r\n        RemoteInput remoteInput = new RemoteInput.Builder(KEY_TEXT_REPLY)\r\n                .setLabel(replyLabel)\r\n                .build();\r\n\r\n        // intent for Action\r\n        Intent intent = new Intent(MainActivity.this, MyReceiver2.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent replyPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        action = new NotificationCompat.Action.Builder(R.drawable.ic_launcher_foreground, replyLabel, replyPendingIntent)\r\n                .addRemoteInput(remoteInput)\r\n                .build();\r\n\r\n\r\n    }\r\n\r\n    public void createNotificationChannel()\r\n    {\r\n        // Create manager\r\n        mNotificationManager = (NotificationManager)\r\n                getSystemService(NOTIFICATION_SERVICE);\r\n\r\n        // Create Channel\r\n        if(android.os.Build.VERSION.SDK_INT\r\n                &gt;= android.os.Build.VERSION_CODES.O){\r\n            NotificationChannel notificationChannel = new NotificationChannel(PRIMARY_CHANNEL_ID\r\n                    ,&quot;Test Notification&quot;,mNotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.setLightColor(Color.RED);\r\n            notificationChannel.enableVibration(true);\r\n            notificationChannel.setDescription(&quot;Notification&quot;);\r\n            mNotificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public void sendNotification(String title, String message, String code, Intent intent){\r\n        // Builder 생성\r\n        NotificationCompat.Builder notifyBuilder = getNotificationBuilder(title, message, Integer.valueOf(code), intent);\r\n\r\n        // notify with ID : 1\r\n        mNotificationManager.notify(1,notifyBuilder.build());\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    private NotificationCompat.Builder getNotificationBuilder(String title, String message, int code, Intent intent) {\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, code, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder notifyBuilder = new NotificationCompat.Builder(this, PRIMARY_CHANNEL_ID)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setOngoing(true)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n                .addAction(action); // add replying Action\r\n        return notifyBuilder;\r\n    }\r\n}\r\n```\r\n\r\nMyReceiver2.java\r\n```\r\npublic class MyReceiver2 extends BroadcastReceiver {\r\n\r\n    private static final String KEY_TEXT_REPLY = &quot;key_text_reply&quot;;\r\n    private NotificationManager mNotificationManager;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        mNotificationManager = (NotificationManager)\r\n                context.getSystemService(NOTIFICATION_SERVICE);\r\n\r\n        // Get input message\r\n        String answer = String.valueOf(getMessageText(intent));\r\n\r\n        // Want to Cancel Replied Notification\r\n        mNotificationManager.cancel(1);\r\n    }\r\n\r\n    private CharSequence getMessageText(Intent intent) {\r\n        Bundle remoteInput = RemoteInput.getResultsFromIntent(intent);\r\n        if (remoteInput != null) {\r\n            return remoteInput.getCharSequence(KEY_TEXT_REPLY);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```","title":"Android Notification &quot;Direct Reply Action&quot; always show notification again","body":"<p>I'm trying to make Direct Reply from Notification for messaging app.</p>\n<p>I just want to cancel/dismiss notification when I replied.\nBut in my demo Notification show again when I replied.</p>\n<p>it's showing again so manager.cancel() doesn't work I think.</p>\n<p>Tell me any solution for me....</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private NotificationManager mNotificationManager;\n    private static final String PRIMARY_CHANNEL_ID = &quot;test_notification_channel&quot;;\n    private static final String KEY_TEXT_REPLY = &quot;key_text_reply&quot;;\n    NotificationCompat.Action action;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        createNotificationChannel();\n\n        Button button = (Button) findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Intent for Clicking Notification\n                Intent intent = new Intent(MainActivity.this, SubActivity.class);\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    sendNotification(&quot;title&quot;, &quot;message&quot;, &quot;1&quot;, intent);\n                }\n            }\n        });\n\n        // direct reply action label,RemoteInput\n        String replyLabel = &quot;Reply&quot;;\n        RemoteInput remoteInput = new RemoteInput.Builder(KEY_TEXT_REPLY)\n                .setLabel(replyLabel)\n                .build();\n\n        // intent for Action\n        Intent intent = new Intent(MainActivity.this, MyReceiver2.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent replyPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_ONE_SHOT);\n\n        action = new NotificationCompat.Action.Builder(R.drawable.ic_launcher_foreground, replyLabel, replyPendingIntent)\n                .addRemoteInput(remoteInput)\n                .build();\n\n\n    }\n\n    public void createNotificationChannel()\n    {\n        // Create manager\n        mNotificationManager = (NotificationManager)\n                getSystemService(NOTIFICATION_SERVICE);\n\n        // Create Channel\n        if(android.os.Build.VERSION.SDK_INT\n                &gt;= android.os.Build.VERSION_CODES.O){\n            NotificationChannel notificationChannel = new NotificationChannel(PRIMARY_CHANNEL_ID\n                    ,&quot;Test Notification&quot;,mNotificationManager.IMPORTANCE_HIGH);\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.RED);\n            notificationChannel.enableVibration(true);\n            notificationChannel.setDescription(&quot;Notification&quot;);\n            mNotificationManager.createNotificationChannel(notificationChannel);\n        }\n\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    public void sendNotification(String title, String message, String code, Intent intent){\n        // Builder 생성\n        NotificationCompat.Builder notifyBuilder = getNotificationBuilder(title, message, Integer.valueOf(code), intent);\n\n        // notify with ID : 1\n        mNotificationManager.notify(1,notifyBuilder.build());\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    private NotificationCompat.Builder getNotificationBuilder(String title, String message, int code, Intent intent) {\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, code, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n\n        NotificationCompat.Builder notifyBuilder = new NotificationCompat.Builder(this, PRIMARY_CHANNEL_ID)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setOngoing(true)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true)\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\n                .addAction(action); // add replying Action\n        return notifyBuilder;\n    }\n}\n</code></pre>\n<p>MyReceiver2.java</p>\n<pre><code>public class MyReceiver2 extends BroadcastReceiver {\n\n    private static final String KEY_TEXT_REPLY = &quot;key_text_reply&quot;;\n    private NotificationManager mNotificationManager;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        mNotificationManager = (NotificationManager)\n                context.getSystemService(NOTIFICATION_SERVICE);\n\n        // Get input message\n        String answer = String.valueOf(getMessageText(intent));\n\n        // Want to Cancel Replied Notification\n        mNotificationManager.cancel(1);\n    }\n\n    private CharSequence getMessageText(Intent intent) {\n        Bundle remoteInput = RemoteInput.getResultsFromIntent(intent);\n        if (remoteInput != null) {\n            return remoteInput.getCharSequence(KEY_TEXT_REPLY);\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","duplicates"],"comments":[{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":1,"creation_date":1658556417,"post_id":73088293,"comment_id":129085607,"body_markdown":"Post full logcat where the error occur","body":"Post full logcat where the error occur"},{"owner":{"account_id":22418458,"reputation":15,"user_id":16626146,"display_name":"Beginner-K"},"score":1,"creation_date":1658745399,"post_id":73088293,"comment_id":129119192,"body_markdown":"There was no line or something to see where the error occur in my files, but I found some case who had same problem as me.  It&#39;s because of the version of Library.... but I still don&#39;t know why the message that I got said duplicate classes...","body":"There was no line or something to see where the error occur in my files, but I found some case who had same problem as me.  It&#39;s because of the version of Library.... but I still don&#39;t know why the message that I got said duplicate classes..."}],"answers":[{"tags":[],"owner":{"account_id":12891544,"reputation":1283,"user_id":9323369,"display_name":"Rohit Jakhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658560511,"creation_date":1658560511,"answer_id":73088766,"question_id":73088293,"body_markdown":"Use this way to start new activity:\r\n\r\n```startActivity(new Intent(Activity_main.this, Activity_setting.class));```\r\n","title":"Android Studio : dupliacate class found error","body":"<p>Use this way to start new activity:</p>\n<p><code>startActivity(new Intent(Activity_main.this, Activity_setting.class));</code></p>\n"}],"owner":{"account_id":22418458,"reputation":15,"user_id":16626146,"display_name":"Beginner-K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689691436,"creation_date":1658554500,"question_id":73088293,"body_markdown":"I&#39;m learning Android at the moment.  \r\nI made 2 layout file first and 2 java file.  \r\nI connect them but I got error  \r\ncheckDebugDuplicateClasses  \r\ndupliacate class found\r\n\r\nI got just 2 files I can&#39;t find any duplicate classes\r\n\r\n```\r\npackage com.example.fitcord;\r\n\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class Activity_main extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void onClick(View view){\r\n        startActivity(new Intent(&quot;com.example.fitcord.Activity_setting&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example.fitcord;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class Activity_setting extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_setting);\r\n    }\r\n}\r\n```\r\n\r\nThese are my 2 java file&#39;s code\r\n\r\nIs it problem of layout?\r\nor What should I do?","title":"Android Studio : dupliacate class found error","body":"<p>I'm learning Android at the moment.<br />\nI made 2 layout file first and 2 java file.<br />\nI connect them but I got error<br />\ncheckDebugDuplicateClasses<br />\ndupliacate class found</p>\n<p>I got just 2 files I can't find any duplicate classes</p>\n<pre><code>package com.example.fitcord;\n\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class Activity_main extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void onClick(View view){\n        startActivity(new Intent(&quot;com.example.fitcord.Activity_setting&quot;));\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.fitcord;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class Activity_setting extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_setting);\n    }\n}\n</code></pre>\n<p>These are my 2 java file's code</p>\n<p>Is it problem of layout?\nor What should I do?</p>\n"},{"tags":["java","arrays","combinations"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1689690203,"post_id":76713722,"comment_id":135247477,"body_markdown":"Does this answer your question? [Get all subsets of a set](https://stackoverflow.com/questions/14224953/get-all-subsets-of-a-set)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14224953/get-all-subsets-of-a-set\">Get all subsets of a set</a>"},{"owner":{"account_id":27470888,"reputation":109,"user_id":21985288,"display_name":"Antonio De Angelis"},"score":0,"creation_date":1689690402,"post_id":76713722,"comment_id":135247544,"body_markdown":"@Joe, it does not as it gives even null subsets, but I need the 2-element subsets, for example. Generalizing, I would need the N-element subsets.","body":"@Joe, it does not as it gives even null subsets, but I need the 2-element subsets, for example. Generalizing, I would need the N-element subsets."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1689690724,"post_id":76713722,"comment_id":135247614,"body_markdown":"please check leetcode.com tasks - there is something for sure for your case. When you solve, you&#39;ll be able to access other people&#39;s solutions","body":"please check leetcode.com tasks - there is something for sure for your case. When you solve, you&#39;ll be able to access other people&#39;s solutions"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689690866,"creation_date":1689690112,"answer_id":76713784,"question_id":76713722,"body_markdown":"Use nested loop like this:\r\n\r\n        String[] values = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n        Set&lt;String&gt; combinations = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            for (int j = i + 1; j &lt; values.length; j++) {\r\n                combinations.add(values[i] + values[j]);\r\n            }\r\n        }\r\n\r\n        System.out.println(combinations); // [AB, BC, AC]\r\n\r\nThen with recursion you can adjust it to any number of objects in combination:\r\n\r\n    public static void main(String[] args) {\r\n        int permutationLength = 3;\r\n        String[] values = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\r\n        Set&lt;String&gt; combinations = new HashSet&lt;&gt;();\r\n        add(values, permutationLength, 0, new StringBuilder(), combinations);\r\n\r\n        System.out.println(combinations); // [ABC, ACD, BCD, ABD]\r\n    }\r\n\r\n    private static void add(String[] allValues, int lettersToAdd, int startingFromIndex, StringBuilder currentPermutation, Set&lt;String&gt; permutationCollector) {\r\n        if (lettersToAdd == 0) {\r\n            permutationCollector.add(currentPermutation.toString());\r\n        }\r\n        for (int i = startingFromIndex; i &lt; allValues.length; i++) {\r\n            StringBuilder permutation = new StringBuilder(currentPermutation.toString());\r\n            permutation.append(allValues[i]);\r\n            add(allValues, lettersToAdd - 1, i + 1, permutation, permutationCollector);\r\n        }\r\n    }","title":"Combinations of a set in Java","body":"<p>Use nested loop like this:</p>\n<pre><code>    String[] values = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\n    Set&lt;String&gt; combinations = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; values.length; i++) {\n        for (int j = i + 1; j &lt; values.length; j++) {\n            combinations.add(values[i] + values[j]);\n        }\n    }\n\n    System.out.println(combinations); // [AB, BC, AC]\n</code></pre>\n<p>Then with recursion you can adjust it to any number of objects in combination:</p>\n<pre><code>public static void main(String[] args) {\n    int permutationLength = 3;\n    String[] values = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\n    Set&lt;String&gt; combinations = new HashSet&lt;&gt;();\n    add(values, permutationLength, 0, new StringBuilder(), combinations);\n\n    System.out.println(combinations); // [ABC, ACD, BCD, ABD]\n}\n\nprivate static void add(String[] allValues, int lettersToAdd, int startingFromIndex, StringBuilder currentPermutation, Set&lt;String&gt; permutationCollector) {\n    if (lettersToAdd == 0) {\n        permutationCollector.add(currentPermutation.toString());\n    }\n    for (int i = startingFromIndex; i &lt; allValues.length; i++) {\n        StringBuilder permutation = new StringBuilder(currentPermutation.toString());\n        permutation.append(allValues[i]);\n        add(allValues, lettersToAdd - 1, i + 1, permutation, permutationCollector);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27470888,"reputation":109,"user_id":21985288,"display_name":"Antonio De Angelis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76713784,"answer_count":1,"score":0,"last_activity_date":1689690866,"creation_date":1689689739,"question_id":76713722,"body_markdown":"I am trying to give the unique permutations of a set, a.k.a the combinations of a set.\r\n\r\nFor example, the combinations of the set S={A,B,C} are:\r\n\r\nSC={AB, AC, BC}\r\n\r\nBA isn&#39;t valid as AB=BA, for example.\r\n\r\nI tried using tools like the cartesian product but I realized that would be for two sets. I could maybe use it if I did the cartesian product of set S and the same set S, but I think that would be unefficient.\r\n\r\nI am trying to obtain triplet combinations, meaning I would like to extend the previous definition to 3 elements instead of 2, which would mean that, intrapolating, I would have tried to use: `if(arr[i] != arr[j] &amp;&amp; i !=j)`, but this gives the permutations and not the unique ones. However, I think it is important to first understand 2-element combinations.","title":"Combinations of a set in Java","body":"<p>I am trying to give the unique permutations of a set, a.k.a the combinations of a set.</p>\n<p>For example, the combinations of the set S={A,B,C} are:</p>\n<p>SC={AB, AC, BC}</p>\n<p>BA isn't valid as AB=BA, for example.</p>\n<p>I tried using tools like the cartesian product but I realized that would be for two sets. I could maybe use it if I did the cartesian product of set S and the same set S, but I think that would be unefficient.</p>\n<p>I am trying to obtain triplet combinations, meaning I would like to extend the previous definition to 3 elements instead of 2, which would mean that, intrapolating, I would have tried to use: <code>if(arr[i] != arr[j] &amp;&amp; i !=j)</code>, but this gives the permutations and not the unique ones. However, I think it is important to first understand 2-element combinations.</p>\n"},{"tags":["java","spring","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689180034,"post_id":76672748,"comment_id":135178033,"body_markdown":"I guess the error is in the different `DB_HIBERNATE_ENTITYPACKAGE` property, try to debug it on dev server more strictly","body":"I guess the error is in the different <code>DB_HIBERNATE_ENTITYPACKAGE</code> property, try to debug it on dev server more strictly"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1689244468,"post_id":76672748,"comment_id":135187243,"body_markdown":"Please add output from this code: `sessionFactory.getMetamodel().getEntities().forEach(System.out::println);`. Add the code in the method `buildSessionFactory()`.","body":"Please add output from this code: <code>sessionFactory.getMetamodel().getEntities().forEach(System.o&zwnj;&#8203;ut::println);</code>. Add the code in the method <code>buildSessionFactory()</code>."},{"owner":{"account_id":20440902,"reputation":55,"user_id":14997755,"display_name":"Neco"},"score":0,"creation_date":1689258765,"post_id":76672748,"comment_id":135190751,"body_markdown":"@Grim I added that code after sessionFactory = localSessionFactoryBuilder.buildSessionFactory(); there was no output. It seems it can not find my entity package.","body":"@Grim I added that code after sessionFactory = localSessionFactoryBuilder.buildSessionFactory(); there was no output. It seems it can not find my entity package."},{"owner":{"account_id":20440902,"reputation":55,"user_id":14997755,"display_name":"Neco"},"score":0,"creation_date":1689259673,"post_id":76672748,"comment_id":135190989,"body_markdown":"@yahorbarkouski thanks for advice. I checked it several times from elastic logs. property is identical for both environments. as Grim suggested i printed scanned entities but they are not there.","body":"@yahorbarkouski thanks for advice. I checked it several times from elastic logs. property is identical for both environments. as Grim suggested i printed scanned entities but they are not there."},{"owner":{"account_id":20440902,"reputation":55,"user_id":14997755,"display_name":"Neco"},"score":0,"creation_date":1689259790,"post_id":76672748,"comment_id":135191019,"body_markdown":"@Grim fiy, there was no output on the linux server. on my local machine output is: \nGroup\nRole","body":"@Grim fiy, there was no output on the linux server. on my local machine output is:  Group Role"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689264602,"creation_date":1689264602,"answer_id":76681425,"question_id":76672748,"body_markdown":"The value of DB_HIBERNATE_ENTITYPACKAGE does not resolve to the package of entity classes in linux. Either the value is wrong or the classfiles are not present.","title":"Hibernate table is not mapped on server","body":"<p>The value of DB_HIBERNATE_ENTITYPACKAGE does not resolve to the package of entity classes in linux. Either the value is wrong or the classfiles are not present.</p>\n"},{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689690849,"creation_date":1689690849,"answer_id":76713898,"question_id":76672748,"body_markdown":"You can try to create session using the following HibernateUtil class which allows you to add entity classes using `configuration.addAnnotatedClass(YourEntity.class);`\r\n\r\n\r\n\r\n    import java.util.Properties;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class HibernateUtil {\r\n    \r\n        private static SessionFactory sessionFactory;\r\n    \r\n        public static SessionFactory getSessionFactory() {\r\n            if (sessionFactory == null) {\r\n    \r\n                try {\r\n                    Configuration configuration = new Configuration();\r\n    \r\n                    //hibernate settings equivalent to hibernate.cfg.xml properties\r\n                    Properties properties = new Properties();\r\n    \r\n                    properties.put(&quot;hibernate.connection.driver_class&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \t\t        properties.put(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/db_name?useSSL=false&quot;);\r\n    \t\t        properties.put(&quot;hibernate.connection.username&quot;, &quot;db_username&quot;);\r\n    \t\t        properties.put(&quot;hibernate.connection.password&quot;, &quot;db_password&quot;);\r\n    \t\t        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n    \t\t        properties.put(&quot;hibernate.current_session_context_class&quot;, &quot;thread&quot;);\r\n    \t\t        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\r\n    \t\r\n                    configuration.setProperties(properties);\r\n    \r\n                    //Associate/link DB connection with entity objects\r\n                    configuration.addAnnotatedClass(Role.class);\r\n                    configuration.addAnnotatedClass(AnotherEntity.class);\r\n    \r\n                    ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                            .applySettings(configuration.getProperties()).build();\r\n    \r\n                    //System.out.println(&quot;Hibernate java config service Registry created&quot;);\r\n                    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n                    return sessionFactory;\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n    \r\n                }\r\n            }\r\n            return sessionFactory;\r\n        }\r\n    }\r\n\r\n","title":"Hibernate table is not mapped on server","body":"<p>You can try to create session using the following HibernateUtil class which allows you to add entity classes using <code>configuration.addAnnotatedClass(YourEntity.class);</code></p>\n<pre><code>import java.util.Properties;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateUtil {\n\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n\n            try {\n                Configuration configuration = new Configuration();\n\n                //hibernate settings equivalent to hibernate.cfg.xml properties\n                Properties properties = new Properties();\n\n                properties.put(&quot;hibernate.connection.driver_class&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\n                properties.put(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/db_name?useSSL=false&quot;);\n                properties.put(&quot;hibernate.connection.username&quot;, &quot;db_username&quot;);\n                properties.put(&quot;hibernate.connection.password&quot;, &quot;db_password&quot;);\n                properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\n                properties.put(&quot;hibernate.current_session_context_class&quot;, &quot;thread&quot;);\n                properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\n    \n                configuration.setProperties(properties);\n\n                //Associate/link DB connection with entity objects\n                configuration.addAnnotatedClass(Role.class);\n                configuration.addAnnotatedClass(AnotherEntity.class);\n\n                ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                        .applySettings(configuration.getProperties()).build();\n\n                //System.out.println(&quot;Hibernate java config service Registry created&quot;);\n                sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n                return sessionFactory;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20440902,"reputation":55,"user_id":14997755,"display_name":"Neco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689690849,"creation_date":1689179705,"question_id":76672748,"body_markdown":"I can not run queries on Linux (Red Hat) server while everything is fine on local machine (Windows 10)\r\n\r\nRole class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;ROLE&quot;)\r\n    public class Role extends BaseEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ROLE_ID&quot;)\r\n        private Long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String title;\r\n    \r\n        @ManyToMany(cascade = { CascadeType.ALL })\r\n        @JoinTable(\r\n                name = &quot;ROLETREEGROUP&quot;,\r\n                joinColumns = { @JoinColumn(name = &quot;ROLE_ID&quot;) },\r\n                inverseJoinColumns = { @JoinColumn(name = &quot;TREEGROUP_ID&quot;) }\r\n        )\r\n        private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\r\n    \r\n        public Role() { }\r\n    \r\n        public Role(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public Set&lt;Group&gt; getGroups() {\r\n            return groups;\r\n        }\r\n    \r\n        public void setGroups(Set&lt;Group&gt; groups) {\r\n            this.groups = groups;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nBaseDAO:\r\n\r\n    public abstract class BaseDAO&lt;T&gt; {\r\n\r\n        private Class&lt;T&gt; modelClass;\r\n    \r\n        private SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\r\n    \r\n        BaseDAO(Class&lt;T&gt; modelClass) {\r\n            this.modelClass = modelClass;\r\n        }\r\n    \r\n        protected final Session getSession() {\r\n            Session session = null;\r\n            try {\r\n                session = sessionFactory.getCurrentSession();\r\n            } catch (Exception e) {\r\n                \r\n               session = sessionFactory.openSession();\r\n    \r\n            }\r\n    \r\n            return session;\r\n    \r\n        }\r\n    \r\n        protected final Transaction getTransaction(Session session) {\r\n            Transaction tx = session.getTransaction();\r\n            if (!TransactionStatus.ACTIVE.equals(tx.getStatus()))\r\n                tx = session.beginTransaction();\r\n    \r\n            return tx;\r\n        }\r\n    \r\n        public final void save(T obj) {\r\n            Session session = this.getSession();\r\n            Transaction tx = this.getTransaction(session);\r\n            session.persist(obj);\r\n            tx.commit();\r\n        }\r\n    \r\n        public final void delete(T obj) {\r\n            Session session = this.getSession();\r\n            Transaction tx = this.getTransaction(session);\r\n            session.remove(obj);\r\n            tx.commit();\r\n        }\r\n    \r\n        public final void update(T obj) {\r\n            Session session = this.getSession();\r\n            Transaction tx = this.getTransaction(session);\r\n            session.merge(obj);\r\n            tx.commit();\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        protected final List&lt;T&gt; query(String query, Map&lt;String, Object&gt; parameters) {\r\n            Query&lt;T&gt; myQuery = getSession().createQuery(query);\r\n    \r\n            parameters.forEach((key, value) -&gt; {\r\n                if(value instanceof String) {\r\n                    myQuery.setParameter(key, String.valueOf(value));\r\n                }\r\n    \r\n                if(value instanceof List) {\r\n                    myQuery.setParameterList(key, (List) value);\r\n                }\r\n            });\r\n    \r\n            return myQuery.list();\r\n        }\r\n    }\r\n\r\n\r\nRoleDAO: \r\n\r\n    @Transactional\r\n    @Repository\r\n    public class RoleDAO extends BaseDAO&lt;Role&gt; {\r\n    \r\n        public RoleDAO() {\r\n            super(Role.class);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public List&lt;Role&gt; getByTitle(String title) {\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;title&quot;, title);\r\n            return this.query(&quot;select distinct r from Role r left join fetch r.groups where r.title = :title&quot;, params);\r\n        }\r\n    }\r\n\r\nRoleService:\r\n\r\n    public class RoleService {\r\n        private RoleDAO roleDAO;\r\n    \r\n        public RoleService() {\r\n            roleDAO = new RoleDAO();\r\n        }\r\n    \r\n        @Transactional\r\n        public void save(Role role) {\r\n            roleDAO.save(role);\r\n        }\r\n    \r\n        @Transactional\r\n        public void saveAll(Collection&lt;Role&gt; roles) {\r\n            for(Role role: roles) {\r\n                roleDAO.save(role);\r\n            }\r\n        }\r\n    \r\n        @Transactional\r\n        public void update(Role role) {\r\n            roleDAO.update(role);\r\n        }\r\n    \r\n        @Transactional\r\n        public void delete(Role role) {\r\n            roleDAO.delete(role);\r\n        }\r\n   \r\n        @Transactional\r\n        public List&lt;Role&gt; getByTitle(String title) {\r\n            return roleDAO.getByTitle(title);\r\n        }\r\n    \r\n    }\r\n\r\nHibernateUtil:\r\n\r\n    public final class HibernateUtil {\r\n    \r\n        private static SessionFactory sessionFactory;\r\n\r\n    private HibernateUtil() {\r\n        throw new UnsupportedOperationException(&quot;This is a utility class and cannot be instantiated&quot;);\r\n    }\r\n\r\n    public static synchronized SessionFactory getSessionFactory() {\r\n\r\n        if(sessionFactory == null) {\r\n            sessionFactory = buildSessionFactory();\r\n        }\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    private static SessionFactory buildSessionFactory() {\r\n        try {\r\n            \r\n\r\n            LocalSessionFactoryBuilder localSessionFactoryBuilder = new LocalSessionFactoryBuilder(dataSource().createDataSource());\r\n            localSessionFactoryBuilder.scanPackages(SystemProperties.getProperty(DB_HIBERNATE_ENTITYPACKAGE));\r\n\r\n            localSessionFactoryBuilder.addProperties(getHibernateProperties());\r\n\r\n            sessionFactory = localSessionFactoryBuilder.buildSessionFactory();\r\n\r\n            return sessionFactory;\r\n        } catch(Exception e) {\r\n            log.error(&quot;Hibernate initialization error: &quot; + e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n       \r\n    \r\n    }\r\n\r\nError: \r\n\r\n\r\n&gt; java.lang.IllegalArgumentException:\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\r\n&gt; mapped [from Role] \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) .................................................................................\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; ~[?:1.8.0_361] Caused by:\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\r\n&gt; mapped [from Role] \tat\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException.generateQueryException(QuerySyntaxException.java:79)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:112)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \t... 16 more Caused\r\n&gt; by: org.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\r\n&gt; mapped \tat\r\n&gt; org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:170)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:334)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3782)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3671)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:746)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:602)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:112)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \t... 16 more\r\n\r\nAgain, this code works on local environment and configuration properties are same for local and development server. What could have caused this error on server?\r\nAny suggestions? Thanks in advance.\r\n","title":"Hibernate table is not mapped on server","body":"<p>I can not run queries on Linux (Red Hat) server while everything is fine on local machine (Windows 10)</p>\n<p>Role class:</p>\n<pre><code>@Entity\n@Table(name=&quot;ROLE&quot;)\npublic class Role extends BaseEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ROLE_ID&quot;)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String title;\n\n    @ManyToMany(cascade = { CascadeType.ALL })\n    @JoinTable(\n            name = &quot;ROLETREEGROUP&quot;,\n            joinColumns = { @JoinColumn(name = &quot;ROLE_ID&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;TREEGROUP_ID&quot;) }\n    )\n    private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\n\n    public Role() { }\n\n    public Role(String title) {\n        this.title = title;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public Set&lt;Group&gt; getGroups() {\n        return groups;\n    }\n\n    public void setGroups(Set&lt;Group&gt; groups) {\n        this.groups = groups;\n    }\n\n\n}\n</code></pre>\n<p>BaseDAO:</p>\n<pre><code>public abstract class BaseDAO&lt;T&gt; {\n\n    private Class&lt;T&gt; modelClass;\n\n    private SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\n\n    BaseDAO(Class&lt;T&gt; modelClass) {\n        this.modelClass = modelClass;\n    }\n\n    protected final Session getSession() {\n        Session session = null;\n        try {\n            session = sessionFactory.getCurrentSession();\n        } catch (Exception e) {\n            \n           session = sessionFactory.openSession();\n\n        }\n\n        return session;\n\n    }\n\n    protected final Transaction getTransaction(Session session) {\n        Transaction tx = session.getTransaction();\n        if (!TransactionStatus.ACTIVE.equals(tx.getStatus()))\n            tx = session.beginTransaction();\n\n        return tx;\n    }\n\n    public final void save(T obj) {\n        Session session = this.getSession();\n        Transaction tx = this.getTransaction(session);\n        session.persist(obj);\n        tx.commit();\n    }\n\n    public final void delete(T obj) {\n        Session session = this.getSession();\n        Transaction tx = this.getTransaction(session);\n        session.remove(obj);\n        tx.commit();\n    }\n\n    public final void update(T obj) {\n        Session session = this.getSession();\n        Transaction tx = this.getTransaction(session);\n        session.merge(obj);\n        tx.commit();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected final List&lt;T&gt; query(String query, Map&lt;String, Object&gt; parameters) {\n        Query&lt;T&gt; myQuery = getSession().createQuery(query);\n\n        parameters.forEach((key, value) -&gt; {\n            if(value instanceof String) {\n                myQuery.setParameter(key, String.valueOf(value));\n            }\n\n            if(value instanceof List) {\n                myQuery.setParameterList(key, (List) value);\n            }\n        });\n\n        return myQuery.list();\n    }\n}\n</code></pre>\n<p>RoleDAO:</p>\n<pre><code>@Transactional\n@Repository\npublic class RoleDAO extends BaseDAO&lt;Role&gt; {\n\n    public RoleDAO() {\n        super(Role.class);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public List&lt;Role&gt; getByTitle(String title) {\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;title&quot;, title);\n        return this.query(&quot;select distinct r from Role r left join fetch r.groups where r.title = :title&quot;, params);\n    }\n}\n</code></pre>\n<p>RoleService:</p>\n<pre><code>public class RoleService {\n    private RoleDAO roleDAO;\n\n    public RoleService() {\n        roleDAO = new RoleDAO();\n    }\n\n    @Transactional\n    public void save(Role role) {\n        roleDAO.save(role);\n    }\n\n    @Transactional\n    public void saveAll(Collection&lt;Role&gt; roles) {\n        for(Role role: roles) {\n            roleDAO.save(role);\n        }\n    }\n\n    @Transactional\n    public void update(Role role) {\n        roleDAO.update(role);\n    }\n\n    @Transactional\n    public void delete(Role role) {\n        roleDAO.delete(role);\n    }\n\n    @Transactional\n    public List&lt;Role&gt; getByTitle(String title) {\n        return roleDAO.getByTitle(title);\n    }\n\n}\n</code></pre>\n<p>HibernateUtil:</p>\n<pre><code>public final class HibernateUtil {\n\n    private static SessionFactory sessionFactory;\n\nprivate HibernateUtil() {\n    throw new UnsupportedOperationException(&quot;This is a utility class and cannot be instantiated&quot;);\n}\n\npublic static synchronized SessionFactory getSessionFactory() {\n\n    if(sessionFactory == null) {\n        sessionFactory = buildSessionFactory();\n    }\n\n    return sessionFactory;\n}\n\nprivate static SessionFactory buildSessionFactory() {\n    try {\n        \n\n        LocalSessionFactoryBuilder localSessionFactoryBuilder = new LocalSessionFactoryBuilder(dataSource().createDataSource());\n        localSessionFactoryBuilder.scanPackages(SystemProperties.getProperty(DB_HIBERNATE_ENTITYPACKAGE));\n\n        localSessionFactoryBuilder.addProperties(getHibernateProperties());\n\n        sessionFactory = localSessionFactoryBuilder.buildSessionFactory();\n\n        return sessionFactory;\n    } catch(Exception e) {\n        log.error(&quot;Hibernate initialization error: &quot; + e.getMessage());\n        return null;\n    }\n}\n\n   \n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException:\norg.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\nmapped [from Role]    at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) .................................................................................</p>\n</blockquote>\n<blockquote>\n<p>~[?:1.8.0_361] Caused by:\norg.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\nmapped [from Role]    at\norg.hibernate.hql.internal.ast.QuerySyntaxException.generateQueryException(QuerySyntaxException.java:79)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:112)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:73)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   ... 16 more Caused\nby: org.hibernate.hql.internal.ast.QuerySyntaxException: Role is not\nmapped    at\norg.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:170)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:334)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3782)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3671)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:746)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:602)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:112)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:73)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   ... 16 more</p>\n</blockquote>\n<p>Again, this code works on local environment and configuration properties are same for local and development server. What could have caused this error on server?\nAny suggestions? Thanks in advance.</p>\n"},{"tags":["java","casting","double","rounding"],"comments":[{"owner":{"account_id":306715,"reputation":11280,"user_id":617617,"display_name":"qbert220"},"score":7,"creation_date":1308923920,"post_id":6468730,"comment_id":7600158,"body_markdown":"Math.round(double) returns a long, not a double.","body":"Math.round(double) returns a long, not a double."}],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":1,"up_vote_count":112,"is_accepted":true,"score":111,"last_activity_date":1308924106,"creation_date":1308923452,"answer_id":6468757,"question_id":6468730,"body_markdown":"&gt; is there a possibility that casting a double created via `Math.round()` will still result in a truncated down number\n\nNo, `round()` will always round your double to the correct value, and then, it will be cast to an `long` which will truncate any decimal places.  But after rounding, there will not be any fractional parts remaining.\n\nHere are the docs from [`Math.round(double)`][1]:\n\n&gt; Returns the closest long to the argument. The result is rounded to an integer by adding 1/2, taking the floor of the result, and casting the result to type long. In other words, the result is equal to the value of the expression:  \n&gt;\n&gt;     (long)Math.floor(a + 0.5d)\n\n[1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double)","title":"Converting double to integer in Java","body":"<blockquote>\n<p>is there a possibility that casting a double created via <code>Math.round()</code> will still result in a truncated down number</p>\n</blockquote>\n<p>No, <code>round()</code> will always round your double to the correct value, and then, it will be cast to an <code>long</code> which will truncate any decimal places.  But after rounding, there will not be any fractional parts remaining.</p>\n<p>Here are the docs from <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double)\" rel=\"noreferrer\"><code>Math.round(double)</code></a>:</p>\n<blockquote>\n<p>Returns the closest long to the argument. The result is rounded to an integer by adding 1/2, taking the floor of the result, and casting the result to type long. In other words, the result is equal to the value of the expression:</p>\n<pre><code>(long)Math.floor(a + 0.5d)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7614622,"reputation":2916,"user_id":5774498,"accept_rate":40,"display_name":"Charlie"},"down_vote_count":3,"up_vote_count":46,"is_accepted":false,"score":43,"last_activity_date":1689690755,"creation_date":1473167553,"answer_id":39349912,"question_id":6468730,"body_markdown":"For the datatype `Double` to `int`, you can use the following:\r\n\r\n    Double double = 5.00;\r\n\r\n    int integer = double.intValue();\r\n\r\n\r\n---\r\n\r\nThis truncates (floors), and does not round. Use at your own risk.","title":"Converting double to integer in Java","body":"<p>For the datatype <code>Double</code> to <code>int</code>, you can use the following:</p>\n<pre><code>Double double = 5.00;\n\nint integer = double.intValue();\n</code></pre>\n<hr />\n<p>This truncates (floors), and does not round. Use at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":1447024,"reputation":502,"user_id":1365129,"display_name":"Nandkishor Gokhe"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1514681627,"creation_date":1500976701,"answer_id":45299906,"question_id":6468730,"body_markdown":"    Double perValue = 96.57;\r\n    int roundVal= (int) Math.round(perValue);\r\n\r\nSolved my purpose.\r\n","title":"Converting double to integer in Java","body":"<pre><code>Double perValue = 96.57;\nint roundVal= (int) Math.round(perValue);\n</code></pre>\n\n<p>Solved my purpose.</p>\n"}],"owner":{"account_id":773605,"reputation":1639,"user_id":813903,"display_name":"vdMandele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499299,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":6468757,"answer_count":3,"score":144,"last_activity_date":1689690755,"creation_date":1308923309,"question_id":6468730,"body_markdown":"In Java, I want to convert a double to an integer, I know if you do this:\r\n\r\n    double x = 1.5;\r\n    int y = (int)x;\r\n\r\nyou get y=1. If you do this:\r\n\r\n    int y = (int)Math.round(x);\r\n\r\nYou&#39;ll likely get 2. However, I am wondering: since double representations of integers sometimes look like 1.9999999998 or something, is there a possibility that casting a double created via Math.round() will still result in a truncated down number, rather than the rounded number we are looking for (i.e.: 1 instead of 2 in the code as represented) ?\r\n\r\n(and yes, I do mean it as such: Is there *any* value for x, where y will show a result that is a truncated rather than a rounded representation of x?)\r\n\r\nIf so: Is there a better way to make a double into a rounded int without running the risk of truncation?\r\n\r\n-------------------------\r\n\r\nFigured something: Math.round(x) returns a long, not a double. Hence: it is impossible for Math.round() to return a number looking like 3.9999998. Therefore, int(Math.round()) will never need to truncate anything and will always work.\r\n","title":"Converting double to integer in Java","body":"<p>In Java, I want to convert a double to an integer, I know if you do this:</p>\n\n<pre><code>double x = 1.5;\nint y = (int)x;\n</code></pre>\n\n<p>you get y=1. If you do this:</p>\n\n<pre><code>int y = (int)Math.round(x);\n</code></pre>\n\n<p>You'll likely get 2. However, I am wondering: since double representations of integers sometimes look like 1.9999999998 or something, is there a possibility that casting a double created via Math.round() will still result in a truncated down number, rather than the rounded number we are looking for (i.e.: 1 instead of 2 in the code as represented) ?</p>\n\n<p>(and yes, I do mean it as such: Is there <em>any</em> value for x, where y will show a result that is a truncated rather than a rounded representation of x?)</p>\n\n<p>If so: Is there a better way to make a double into a rounded int without running the risk of truncation?</p>\n\n<hr>\n\n<p>Figured something: Math.round(x) returns a long, not a double. Hence: it is impossible for Math.round() to return a number looking like 3.9999998. Therefore, int(Math.round()) will never need to truncate anything and will always work.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1689694157,"post_id":76713848,"comment_id":135248566,"body_markdown":"Are you aware of Gradle [convention plugins](https://docs.gradle.org/current/samples/sample_convention_plugins.html)?","body":"Are you aware of Gradle <a href=\"https://docs.gradle.org/current/samples/sample_convention_plugins.html\" rel=\"nofollow noreferrer\">convention plugins</a>?"}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689690490,"creation_date":1689690490,"question_id":76713848,"body_markdown":"I have a large multi-module Gradle project with 50 microservices and a few shared libraries. Both Scala and Java code is built out of the same gradle project.\r\n\r\nCurrently I have a setup like this (I&#39;ve just listed the gradle files for simplicity):\r\n\r\n    /build-script/java-library.gradle\r\n    /build-script/java-project.gradle\r\n    /build-script/scala-library.gradle\r\n    /build-script/scala-project.gradle\r\n    /java-lib/build.gradle\r\n    /scala-lib/build.gradle\r\n    /java-proj/build.gradle\r\n    /scala-proj/build.gradle\r\n    /build.gradle\r\n\r\n`/build.gradle` is empty\r\n\r\n`/build-script/java-library.gradle` contains:\r\n\r\n    spotless { ... }\r\n    sourceSets { ... }\r\n    test { ... }\r\n    dependencies { ... }\r\n\r\nNote I can&#39;t specify the plugins as its an include file.\r\n\r\n`/build-script/java-project.gradle` contains:\r\n\r\n    apply from: &quot;${project.rootDir}/build-script/java-library.gradle&quot;\r\n\r\n    dependencies { ... }\r\n\r\nNote I can&#39;t specify the plugins as its an include file.\r\n\r\nIn `/java-lib/build.gradle`:\r\n\r\n    plugins {\r\n      id &quot;java-library&quot;\r\n      id &quot;com.diffplug.spotlesss&quot;\r\n    }\r\n    \r\n    apply from: &quot;${project.rootDir}/build-script/java-library.gradle&quot;\r\n    \r\n    dependencies { ... }\r\n\r\nIn `/java-proj/build.gradle`:\r\n\r\n    plugins {\r\n      id &quot;java&quot;\r\n      id &quot;com.diffplug.spotlesss&quot;\r\n    }\r\n    \r\n    apply from: &quot;${project.rootDir}/build-script/java-project.gradle&quot;\r\n    \r\n    dependencies { ... }\r\n\r\nBasically I&#39;m using a load of _include_ files, but I can&#39;t specify the plugin along with the configuration so feels a little &quot;off&quot;.\r\n\r\nWhat is the correct/cannonical way to share gradle configuration between modules in a multi-module gradle project?","title":"Correct way to share configuration between Gradle modules in multi-module project","body":"<p>I have a large multi-module Gradle project with 50 microservices and a few shared libraries. Both Scala and Java code is built out of the same gradle project.</p>\n<p>Currently I have a setup like this (I've just listed the gradle files for simplicity):</p>\n<pre><code>/build-script/java-library.gradle\n/build-script/java-project.gradle\n/build-script/scala-library.gradle\n/build-script/scala-project.gradle\n/java-lib/build.gradle\n/scala-lib/build.gradle\n/java-proj/build.gradle\n/scala-proj/build.gradle\n/build.gradle\n</code></pre>\n<p><code>/build.gradle</code> is empty</p>\n<p><code>/build-script/java-library.gradle</code> contains:</p>\n<pre><code>spotless { ... }\nsourceSets { ... }\ntest { ... }\ndependencies { ... }\n</code></pre>\n<p>Note I can't specify the plugins as its an include file.</p>\n<p><code>/build-script/java-project.gradle</code> contains:</p>\n<pre><code>apply from: &quot;${project.rootDir}/build-script/java-library.gradle&quot;\n\ndependencies { ... }\n</code></pre>\n<p>Note I can't specify the plugins as its an include file.</p>\n<p>In <code>/java-lib/build.gradle</code>:</p>\n<pre><code>plugins {\n  id &quot;java-library&quot;\n  id &quot;com.diffplug.spotlesss&quot;\n}\n\napply from: &quot;${project.rootDir}/build-script/java-library.gradle&quot;\n\ndependencies { ... }\n</code></pre>\n<p>In <code>/java-proj/build.gradle</code>:</p>\n<pre><code>plugins {\n  id &quot;java&quot;\n  id &quot;com.diffplug.spotlesss&quot;\n}\n\napply from: &quot;${project.rootDir}/build-script/java-project.gradle&quot;\n\ndependencies { ... }\n</code></pre>\n<p>Basically I'm using a load of <em>include</em> files, but I can't specify the plugin along with the configuration so feels a little &quot;off&quot;.</p>\n<p>What is the correct/cannonical way to share gradle configuration between modules in a multi-module gradle project?</p>\n"},{"tags":["java","android","google-app-engine","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1480160296,"post_id":40817184,"comment_id":68855309,"body_markdown":"Do you plan to send the images from an App installed on the phones, or from a browser instance (also on the phone)? I guess you mean from an Android App since you refer to java. How are you going to do for iOS?","body":"Do you plan to send the images from an App installed on the phones, or from a browser instance (also on the phone)? I guess you mean from an Android App since you refer to java. How are you going to do for iOS?"},{"owner":{"account_id":5164011,"reputation":505,"user_id":6952763,"accept_rate":92,"display_name":"John Santos"},"score":0,"creation_date":1480164518,"post_id":40817184,"comment_id":68856330,"body_markdown":"I plan to send just the file input stream from Android/iOS and then use my server (Google APP Engine) to upload the images to Google Storage. After that I&#39;ll need to retrieve URLs to send back to Android/iOS which will stream the URL and show to user.","body":"I plan to send just the file input stream from Android/iOS and then use my server (Google APP Engine) to upload the images to Google Storage. After that I&#39;ll need to retrieve URLs to send back to Android/iOS which will stream the URL and show to user."}],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1480182608,"creation_date":1480182608,"answer_id":40821278,"question_id":40817184,"body_markdown":"Based on your answer to my comment above, you could use the method I described in the following Stack Overflow response in order to save the file from your servlet to the Datastore and return the URL: \r\n\r\nhttps://stackoverflow.com/questions/37579767/how-to-return-a-file-with-google-cloud-endpoints/37603225#37603225. \r\n\r\nThe two differences between your requirements and the method described in this response are:\r\n\r\n - The way the file is created: in your case through a file input stream, as you mentionned\r\n - The way you return the URL: since you will probably not use Google\r\n   Endpoints (because of file input stream) you don&#39;t need to return the URL in a string wrapper.","title":"How to Upload Image/Videos to Google Cloud Storage Using Java","body":"<p>Based on your answer to my comment above, you could use the method I described in the following Stack Overflow response in order to save the file from your servlet to the Datastore and return the URL: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/37579767/how-to-return-a-file-with-google-cloud-endpoints/37603225#37603225\">How to return a file with Google Cloud Endpoints?</a>. </p>\n\n<p>The two differences between your requirements and the method described in this response are:</p>\n\n<ul>\n<li>The way the file is created: in your case through a file input stream, as you mentionned</li>\n<li>The way you return the URL: since you will probably not use Google\nEndpoints (because of file input stream) you don't need to return the URL in a string wrapper.</li>\n</ul>\n"}],"owner":{"account_id":5164011,"reputation":505,"user_id":6952763,"accept_rate":92,"display_name":"John Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40821278,"answer_count":1,"score":0,"last_activity_date":1689690146,"creation_date":1480155052,"question_id":40817184,"body_markdown":"I&#39;m developing a server in Java which will provide URLs for images that clients uploaded. Basically the Android/iOS will send some kind of data (I still don&#39;t know which data would be sent for image and videos) then I&#39;ll upload those images/videos to Google Storage and provide URLs which the users (Android/iOS) will be able to stream.\r\n\r\nI&#39;ve just started with Google Storage and I can&#39;t find any example of how to upload an image using Java. All examples I found or are deprecated or it&#39;s in PHP or it&#39;s not clean. \r\n\r\nI think I will need to use the JSON client Library but I can&#39;t find a good example for this library either.\r\n\r\nPlease any help will be VERY appreciate.","title":"How to Upload Image/Videos to Google Cloud Storage Using Java","body":"<p>I'm developing a server in Java which will provide URLs for images that clients uploaded. Basically the Android/iOS will send some kind of data (I still don't know which data would be sent for image and videos) then I'll upload those images/videos to Google Storage and provide URLs which the users (Android/iOS) will be able to stream.</p>\n\n<p>I've just started with Google Storage and I can't find any example of how to upload an image using Java. All examples I found or are deprecated or it's in PHP or it's not clean. </p>\n\n<p>I think I will need to use the JSON client Library but I can't find a good example for this library either.</p>\n\n<p>Please any help will be VERY appreciate.</p>\n"},{"tags":["java","ldap","openldap"],"answers":[{"tags":[],"owner":{"account_id":17612265,"reputation":71,"user_id":14574562,"display_name":"Risto Libera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689689049,"creation_date":1689689049,"answer_id":76713620,"question_id":76710531,"body_markdown":"So it seems that ldap has deprecated some configuration options after version 2.3.\r\nAccording to this page [OpenLDAP using OLC][1] , I use OLC to set olcattributeoptions in cn=config.ldif as:\r\n\r\n**olcAttributeOptions: lang- phonetic**\r\n\r\nThen I can add cn;phonetic attribute to my server.\r\n\r\n\r\n  [1]: https://www.zytrax.com/books/ldap/ch6/slapd-config.html","title":"How do I add cn;phonetic attribute to ldap schema?","body":"<p>So it seems that ldap has deprecated some configuration options after version 2.3.\nAccording to this page <a href=\"https://www.zytrax.com/books/ldap/ch6/slapd-config.html\" rel=\"nofollow noreferrer\">OpenLDAP using OLC</a> , I use OLC to set olcattributeoptions in cn=config.ldif as:</p>\n<p><strong>olcAttributeOptions: lang- phonetic</strong></p>\n<p>Then I can add cn;phonetic attribute to my server.</p>\n"}],"owner":{"account_id":17612265,"reputation":71,"user_id":14574562,"display_name":"Risto Libera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689689049,"creation_date":1689666268,"question_id":76710531,"body_markdown":"My ldap version is 2.4.42.0, when I tried to add an entry, which has an indispensible attribute called cn;phonetic, to the server, I received error code 17.\r\n\r\nAny modification in core.schema around cn is not possible, and when I tried to input some commands to modify the cn attribute like this one:&lt;https://github.com/osixia/docker-openldap/issues/321&gt;, I kept received invalid dn error.\r\n\r\nMy question is, what should I do to make cn;phonetic available on the server?\r\n\r\nBy the way , My root dn is something like cn=testadmin,o=test.com","title":"How do I add cn;phonetic attribute to ldap schema?","body":"<p>My ldap version is 2.4.42.0, when I tried to add an entry, which has an indispensible attribute called cn;phonetic, to the server, I received error code 17.</p>\n<p>Any modification in core.schema around cn is not possible, and when I tried to input some commands to modify the cn attribute like this one:<a href=\"https://github.com/osixia/docker-openldap/issues/321\" rel=\"nofollow noreferrer\">https://github.com/osixia/docker-openldap/issues/321</a>, I kept received invalid dn error.</p>\n<p>My question is, what should I do to make cn;phonetic available on the server?</p>\n<p>By the way , My root dn is something like cn=testadmin,o=test.com</p>\n"},{"tags":["java","string","list","loops","split"],"comments":[{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":4,"creation_date":1689685114,"post_id":76713003,"comment_id":135246204,"body_markdown":"please make an effort, and share your [mcve] in the OP","body":"please make an effort, and share your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the OP"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689698869,"post_id":76713003,"comment_id":135249514,"body_markdown":"Is the `toValue` always going to be the number of strings between slashes?  Your question implies it might be different.  For example, what if `toValue` was`3` but the source string was stlll `A/B/C/D`?","body":"Is the <code>toValue</code> always going to be the number of strings between slashes?  Your question implies it might be different.  For example, what if <code>toValue</code> was<code>3</code> but the source string was stlll <code>A&#47;B&#47;C&#47;D</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689688962,"creation_date":1689685551,"answer_id":76713100,"question_id":76713003,"body_markdown":"You can first build a `List` from splitting the string on `/`. Then, iterate from the starting index to the end of the `List`, concatenating together the first certain number of elements in the `List` with `String.join`.\r\n\r\nFor example:\r\n\r\n```java\r\nvar s = &quot;A/B/C/D&quot;;\r\nint from = 1;\r\nvar parts = List.of(s.split(&quot;/&quot;));\r\nvar res = IntStream.rangeClosed(from, parts.size()).mapToObj(\r\n              i -&gt; i + &quot;/&quot; + String.join(&quot;/&quot;, parts.subList(0, i))).toList();\r\n```","title":"Split a string and make a list in java","body":"<p>You can first build a <code>List</code> from splitting the string on <code>/</code>. Then, iterate from the starting index to the end of the <code>List</code>, concatenating together the first certain number of elements in the <code>List</code> with <code>String.join</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var s = &quot;A/B/C/D&quot;;\nint from = 1;\nvar parts = List.of(s.split(&quot;/&quot;));\nvar res = IntStream.rangeClosed(from, parts.size()).mapToObj(\n              i -&gt; i + &quot;/&quot; + String.join(&quot;/&quot;, parts.subList(0, i))).toList();\n</code></pre>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76713100,"answer_count":1,"score":-2,"last_activity_date":1689688962,"creation_date":1689684952,"question_id":76713003,"body_markdown":"I have a string A/B/C/D in java.\r\nI need to create a list with elements like this.\r\n```\r\n1/A\r\n2/A/B\r\n3/A/B/C\r\n4/A/B/C/D\r\n```\r\n\r\nAlso this should be configurable.\r\ni.e., if fromValue is 2 and toValue is 4 then the elements in the list should be as below.\r\n```\r\n2/A/B\r\n3/A/B/C\r\n4/A/B/C/D\r\n```\r\nCan someone please help on this?","title":"Split a string and make a list in java","body":"<p>I have a string A/B/C/D in java.\nI need to create a list with elements like this.</p>\n<pre><code>1/A\n2/A/B\n3/A/B/C\n4/A/B/C/D\n</code></pre>\n<p>Also this should be configurable.\ni.e., if fromValue is 2 and toValue is 4 then the elements in the list should be as below.</p>\n<pre><code>2/A/B\n3/A/B/C\n4/A/B/C/D\n</code></pre>\n<p>Can someone please help on this?</p>\n"},{"tags":["java","sybase"],"owner":{"account_id":8136234,"reputation":41,"user_id":6127763,"display_name":"MaxPer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689688757,"creation_date":1689688757,"question_id":76713584,"body_markdown":"I&#39;m trying to undersstand how I can receive the Sybase output on the client, so that I can trace the stored procedures that were additioned with several prints. Just to give a more clear need,\r\nI have done\r\ncreate procedure pippo\r\nbegin\r\nprint &#39;Hello wolrd&#39;\r\nend\r\n\r\nand on the client side, connecting using java, I&#39;d like to execute the query that somehow gives me the output of the print.\r\nI know that this is possible, as dbeaver is doing it, I can obtain the output of a querz and the output of the console; that would be very appreciated.\r\nPlease let me know\r\n\r\n\r\n","title":"Receive Output of Sybase ASE on the client","body":"<p>I'm trying to undersstand how I can receive the Sybase output on the client, so that I can trace the stored procedures that were additioned with several prints. Just to give a more clear need,\nI have done\ncreate procedure pippo\nbegin\nprint 'Hello wolrd'\nend</p>\n<p>and on the client side, connecting using java, I'd like to execute the query that somehow gives me the output of the print.\nI know that this is possible, as dbeaver is doing it, I can obtain the output of a querz and the output of the console; that would be very appreciated.\nPlease let me know</p>\n"},{"tags":["java","json","spring","amazon-dynamodb","dynamodb-mapper"],"answers":[{"tags":[],"owner":{"account_id":788593,"reputation":38522,"user_id":856498,"accept_rate":64,"display_name":"cyberwombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689688415,"creation_date":1689688415,"answer_id":76713521,"question_id":76704127,"body_markdown":"You cannot. This is a limitation of DynamoDB. A common recipe is to combine this with Opensearch which you would populate using DynamoDB streams and a lambda. Here&#39;s a [blog post][1] on this.\r\n\r\nDynamoDB has a [limited ability][2] to search data using queries - you can for example use `begins_with` to filter on the sort key but that&#39;s about it.\r\n\r\n\r\n  [1]: https://instil.co/blog/opensearch-with-dynamodb/\r\n  [2]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions","title":"How to search within a JSON document stored in DynamoDB","body":"<p>You cannot. This is a limitation of DynamoDB. A common recipe is to combine this with Opensearch which you would populate using DynamoDB streams and a lambda. Here's a <a href=\"https://instil.co/blog/opensearch-with-dynamodb/\" rel=\"nofollow noreferrer\">blog post</a> on this.</p>\n<p>DynamoDB has a <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions\" rel=\"nofollow noreferrer\">limited ability</a> to search data using queries - you can for example use <code>begins_with</code> to filter on the sort key but that's about it.</p>\n"}],"owner":{"account_id":2066387,"reputation":1448,"user_id":1841823,"accept_rate":45,"display_name":"JiboOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689688415,"creation_date":1689594351,"question_id":76704127,"body_markdown":"There is a DynamoDB table called &#39;Field&#39;, which has &#39;pageId&#39; and &#39;config&#39; fields. The &#39;config&#39; field contains a list of JSON objects.\r\n\r\nField entity\r\n\r\n    @Data\r\n    @DynamoDBTable(tableName = &quot;field&quot;)\r\n    public class Field{\r\n    \r\n      @DynamoDBHashKey(attributeName = &quot;pageId&quot;)\r\n      private String pageId;\r\n      @DynamoDBAttribute(attributeName = &quot;config&quot;)\r\n      private List&lt;Config&gt; config;\r\n    }\r\n\r\nConfig entity\r\n\r\n    @Data\r\n    @DynamoDBDocument\r\n    public class Config{\r\n      @DynamoDBAttribute(attributeName = &quot;fieldName&quot;)\r\n      private String fieldName;\r\n      @DynamoDBAttribute(attributeName = &quot;fieldType&quot;)\r\n      private String fieldType;\r\n    }\r\nThe JSON representation of the data in DynamoDB.\r\n\r\n      {\r\n      &quot;pageId&quot;: {\r\n        &quot;S&quot;: &quot;page_1&quot;\r\n      },\r\n       &quot;config&quot;: {\r\n        &quot;L&quot;: [\r\n          {\r\n            &quot;M&quot;: {\r\n              &quot;fieldName&quot;: {\r\n                &quot;S&quot;: &quot;field_name_1&quot;\r\n              },\r\n              &quot;fieldType&quot;: {\r\n                &quot;S&quot;: &quot;type_2&quot;\r\n              }\r\n            }\r\n          },\r\n          {\r\n            &quot;M&quot;: {\r\n              &quot;fieldName&quot;: {\r\n                &quot;S&quot;: &quot;field_name-2&quot;\r\n              },\r\n              &quot;fieldType&quot;: {\r\n                &quot;S&quot;: &quot;type_1&quot;\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nHow can I write code to directly filter the records in the &#39;field&#39; table based on the &#39;fieldName&#39; property of the &#39;config&#39; field without fetching all the records and filtering them afterwards?\r\n\r\n - javaVersion = 8\r\n - springVersion = &#39;5.1.18.RELEASE&#39;\r\n - springBootVersion = &#39;2.1.6.RELEASE&#39;\r\n - AwsDynamoDBSdk = com.amazonaws:aws-java-sdk-dynamodb:1.11.548\r\n\r\n","title":"How to search within a JSON document stored in DynamoDB","body":"<p>There is a DynamoDB table called 'Field', which has 'pageId' and 'config' fields. The 'config' field contains a list of JSON objects.</p>\n<p>Field entity</p>\n<pre><code>@Data\n@DynamoDBTable(tableName = &quot;field&quot;)\npublic class Field{\n\n  @DynamoDBHashKey(attributeName = &quot;pageId&quot;)\n  private String pageId;\n  @DynamoDBAttribute(attributeName = &quot;config&quot;)\n  private List&lt;Config&gt; config;\n}\n</code></pre>\n<p>Config entity</p>\n<pre><code>@Data\n@DynamoDBDocument\npublic class Config{\n  @DynamoDBAttribute(attributeName = &quot;fieldName&quot;)\n  private String fieldName;\n  @DynamoDBAttribute(attributeName = &quot;fieldType&quot;)\n  private String fieldType;\n}\n</code></pre>\n<p>The JSON representation of the data in DynamoDB.</p>\n<pre><code>  {\n  &quot;pageId&quot;: {\n    &quot;S&quot;: &quot;page_1&quot;\n  },\n   &quot;config&quot;: {\n    &quot;L&quot;: [\n      {\n        &quot;M&quot;: {\n          &quot;fieldName&quot;: {\n            &quot;S&quot;: &quot;field_name_1&quot;\n          },\n          &quot;fieldType&quot;: {\n            &quot;S&quot;: &quot;type_2&quot;\n          }\n        }\n      },\n      {\n        &quot;M&quot;: {\n          &quot;fieldName&quot;: {\n            &quot;S&quot;: &quot;field_name-2&quot;\n          },\n          &quot;fieldType&quot;: {\n            &quot;S&quot;: &quot;type_1&quot;\n          }\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>How can I write code to directly filter the records in the 'field' table based on the 'fieldName' property of the 'config' field without fetching all the records and filtering them afterwards?</p>\n<ul>\n<li>javaVersion = 8</li>\n<li>springVersion = '5.1.18.RELEASE'</li>\n<li>springBootVersion = '2.1.6.RELEASE'</li>\n<li>AwsDynamoDBSdk = com.amazonaws:aws-java-sdk-dynamodb:1.11.548</li>\n</ul>\n"},{"tags":["java","hadoop","mapreduce","word-count"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1689668616,"post_id":76709866,"comment_id":135242571,"body_markdown":"That&#39;s your own error that you&#39;re printing `if (otherArgs.length !=2) {`, you should debug there and see what args you&#39;re actually getting.","body":"That&#39;s your own error that you&#39;re printing <code>if (otherArgs.length !=2) {</code>, you should debug there and see what args you&#39;re actually getting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689674750,"post_id":76709866,"comment_id":135243952,"body_markdown":"A confusing error message (`WordCount` is not the name of your class) but normally speaking, you should be doing something more like: `java -cp /home/wasim/Downloads/jar_files/MapReduceDemo.jar MapReduceDemo.WordCounter /user/inputdata/test.txt /user/output` or `java -jar /home/wasim/Downloads/jar_files/MapReduceDemo.jar /user/inputdata/test.txt /user/output`","body":"A confusing error message (<code>WordCount</code> is not the name of your class) but normally speaking, you should be doing something more like: <code>java -cp &#47;home&#47;wasim&#47;Downloads&#47;jar_files&#47;MapReduceDemo.jar MapReduceDemo.WordCounter &#47;user&#47;inputdata&#47;test.txt &#47;user&#47;output</code> or <code>java -jar &#47;home&#47;wasim&#47;Downloads&#47;jar_files&#47;MapReduceDemo.jar &#47;user&#47;inputdata&#47;test.txt &#47;user&#47;output</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689688321,"post_id":76709866,"comment_id":135246949,"body_markdown":"@g00se That&#39;s not how to submit mapreduce applications to Hadoop.","body":"@g00se That&#39;s not how to submit mapreduce applications to Hadoop."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689688813,"post_id":76709866,"comment_id":135247081,"body_markdown":"@OneCricketeer Right - I wasn&#39;t sure about that, as I have not used hadoop. If all those tokens are in the normal run of Hadoop then I can&#39;t see that being the *actual* command, since there *are* two arguments being passed to the app. Either that or Hadoop is not passing them to the app","body":"@OneCricketeer Right - I wasn&#39;t sure about that, as I have not used hadoop. If all those tokens are in the normal run of Hadoop then I can&#39;t see that being the <i>actual</i> command, since there <i>are</i> two arguments being passed to the app. Either that or Hadoop is not passing them to the app"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689689246,"post_id":76709866,"comment_id":135247204,"body_markdown":"@g00se It&#39;s correct. `hadoop jar &lt;file.jar&gt; &lt;class&gt; [args...]`","body":"@g00se It&#39;s correct. <code>hadoop jar &lt;file.jar&gt; &lt;class&gt; [args...]</code>"},{"owner":{"account_id":29038832,"reputation":1,"user_id":22244066,"display_name":"Wasim_Khan"},"score":0,"creation_date":1689750325,"post_id":76709866,"comment_id":135255614,"body_markdown":"Thanks for everyone&#39;s response. I found the error. I saved the .jar file as runnable jar file, instead of a jar file. Now I am able to run the command.","body":"Thanks for everyone&#39;s response. I found the error. I saved the .jar file as runnable jar file, instead of a jar file. Now I am able to run the command."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689759879,"post_id":76709866,"comment_id":135257618,"body_markdown":"Strange that Hadoop would care that it&#39;s executable. You gave it the full path to the jar and the f.q. name of the main class.","body":"Strange that Hadoop would care that it&#39;s executable. You gave it the full path to the jar and the f.q. name of the main class."}],"owner":{"account_id":29038832,"reputation":1,"user_id":22244066,"display_name":"Wasim_Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689688262,"creation_date":1689659909,"question_id":76709866,"body_markdown":"I am new to Hadoop and followed a WordCount MapReduce example that I found online to run in Ubuntu. I managed to complete all but the final step - i.e. running the job. I uploaded the input file to the cluster and my input file directory is /user/inputdata/test.txt and I intend on using the /user/output directory for the file. With that being said I ran the following command \r\n\r\n    hadoop jar /home/wasim/Downloads/jar_files/MapReduceDemo.jar MapReduceDemo.WordCounter /user/inputdata/test.txt /user/output\r\n\r\nhowever, when I receive the following error\r\n\r\n&gt; usage: WordCount &lt;input_file&gt; &lt;output_directory&gt;\r\n\r\nI know this error stems from my java to ensure that I have the correct arguments when running the hadoop jar. I&#39;ve tried to the command in several other ways but keep on getting the same error. I can&#39;t figure out what I am doing wrong.\r\n\r\n```\r\npackage MapReduceDemo;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Iterator;\r\nimport java.util.StringTokenizer;\r\n\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\nimport org.apache.hadoop.util.GenericOptionsParser;\r\n\r\npublic class WordCounter {\r\n\t\r\n\tpublic static class TokenizeMapper extends Mapper&lt;Object,Text,Text,IntWritable&gt;{\r\n\t\t\r\n\t\tpublic void map(Object key, Text value, Context context) throws IOException, InterruptedException {\r\n\t\t\tStringTokenizer st = new StringTokenizer(value.toString());\r\n\t\t\tText wordOut = new Text();\r\n\t\t\tIntWritable one = new IntWritable(1);\r\n\t\t\twhile(st.hasMoreTokens()){\r\n\t\t\t\twordOut.set(st.nextToken());\r\n\t\t\t\tcontext.write(wordOut, one);\r\n\t\t\t\t\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static class SumReducer extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt;{\r\n\t\tpublic void reduce(Text term,Iterable&lt;IntWritable&gt; ones, Context context) throws IOException, InterruptedException {\r\n\t\t\tint count = 0;\r\n\t\t\tIterator&lt;IntWritable&gt; iterator = ones.iterator();\r\n\t\t\twhile(iterator.hasNext()) {\r\n\t\t\t\tcount++;\r\n\t\t\t\titerator.next();\r\n\t\t\t}\r\n\t\t\tIntWritable output = new IntWritable(count);\r\n\t\t\tcontext.write(term, output);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException {\r\n\t\tConfiguration conf = new Configuration();\r\n\t\tString[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs();\r\n\t\t\r\n\t\tif(otherArgs.length !=2) {\r\n\t\t\tSystem.err.println(&quot;usage: WordCount &lt;input_file&gt; &lt;output_directory&gt;&quot;);\r\n\t\t\tSystem.exit(2);\r\n\t\t}\r\n\t\t\r\n\t\tJob job = Job.getInstance(conf,&quot;Word Count&quot;);\r\n\t\tjob.setJarByClass(WordCounter.class);\r\n\t\tjob.setMapperClass(TokenizeMapper.class);\r\n\t\tjob.setReducerClass(SumReducer.class);\r\n\t\tjob.setNumReduceTasks(10);\r\n\t\tjob.setOutputKeyClass(Text.class);\r\n\t\tjob.setOutputValueClass(IntWritable.class);\r\n\t\t\r\n\t\tFileInputFormat.addInputPath(job,new Path(otherArgs[0]));\r\n\t\tFileOutputFormat.setOutputPath(job,new Path(otherArgs[1]));\r\n\t\tboolean status = job.waitForCompletion(true);\r\n\t\tif(status) {\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Unable to run hadoop jar - incorrect number of arguments","body":"<p>I am new to Hadoop and followed a WordCount MapReduce example that I found online to run in Ubuntu. I managed to complete all but the final step - i.e. running the job. I uploaded the input file to the cluster and my input file directory is /user/inputdata/test.txt and I intend on using the /user/output directory for the file. With that being said I ran the following command</p>\n<pre><code>hadoop jar /home/wasim/Downloads/jar_files/MapReduceDemo.jar MapReduceDemo.WordCounter /user/inputdata/test.txt /user/output\n</code></pre>\n<p>however, when I receive the following error</p>\n<blockquote>\n<p>usage: WordCount &lt;input_file&gt; &lt;output_directory&gt;</p>\n</blockquote>\n<p>I know this error stems from my java to ensure that I have the correct arguments when running the hadoop jar. I've tried to the command in several other ways but keep on getting the same error. I can't figure out what I am doing wrong.</p>\n<pre><code>package MapReduceDemo;\n\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.StringTokenizer;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.util.GenericOptionsParser;\n\npublic class WordCounter {\n    \n    public static class TokenizeMapper extends Mapper&lt;Object,Text,Text,IntWritable&gt;{\n        \n        public void map(Object key, Text value, Context context) throws IOException, InterruptedException {\n            StringTokenizer st = new StringTokenizer(value.toString());\n            Text wordOut = new Text();\n            IntWritable one = new IntWritable(1);\n            while(st.hasMoreTokens()){\n                wordOut.set(st.nextToken());\n                context.write(wordOut, one);\n                \n            }       \n        }\n    }\n    \n    public static class SumReducer extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt;{\n        public void reduce(Text term,Iterable&lt;IntWritable&gt; ones, Context context) throws IOException, InterruptedException {\n            int count = 0;\n            Iterator&lt;IntWritable&gt; iterator = ones.iterator();\n            while(iterator.hasNext()) {\n                count++;\n                iterator.next();\n            }\n            IntWritable output = new IntWritable(count);\n            context.write(term, output);\n        }\n    }\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException {\n        Configuration conf = new Configuration();\n        String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs();\n        \n        if(otherArgs.length !=2) {\n            System.err.println(&quot;usage: WordCount &lt;input_file&gt; &lt;output_directory&gt;&quot;);\n            System.exit(2);\n        }\n        \n        Job job = Job.getInstance(conf,&quot;Word Count&quot;);\n        job.setJarByClass(WordCounter.class);\n        job.setMapperClass(TokenizeMapper.class);\n        job.setReducerClass(SumReducer.class);\n        job.setNumReduceTasks(10);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n        \n        FileInputFormat.addInputPath(job,new Path(otherArgs[0]));\n        FileOutputFormat.setOutputPath(job,new Path(otherArgs[1]));\n        boolean status = job.waitForCompletion(true);\n        if(status) {\n            System.exit(0);\n        }\n        else {\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","jar","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689688215,"creation_date":1689688215,"answer_id":76713488,"question_id":76710591,"body_markdown":"The JDK includes commands to build JAR files, yes, but I recommend you use Maven/Gradle to package your application code, along with its dependencies.\r\n\r\nTransferring to the cluster is not required. For example, `yarn jar` and `spark-submit` both accept local file submissions (but then will copy the file to HDFS) ","title":"EMR cluster: java to jar","body":"<p>The JDK includes commands to build JAR files, yes, but I recommend you use Maven/Gradle to package your application code, along with its dependencies.</p>\n<p>Transferring to the cluster is not required. For example, <code>yarn jar</code> and <code>spark-submit</code> both accept local file submissions (but then will copy the file to HDFS)</p>\n"}],"owner":{"account_id":8121350,"reputation":1,"user_id":6118002,"display_name":"amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1689688233,"creation_date":1689666818,"question_id":76710591,"body_markdown":"I have a java script (for a Map-reduce calculation) and would like to generate a jar file on the amazon \r\nEMR cluster, however I am not sure if this is possible? or do I have to generate the jar file \r\nlocally and then transfer it to the cluster?\r\nAny comment, idea or command for this case is appreciated.","title":"EMR cluster: java to jar","body":"<p>I have a java script (for a Map-reduce calculation) and would like to generate a jar file on the amazon\nEMR cluster, however I am not sure if this is possible? or do I have to generate the jar file\nlocally and then transfer it to the cluster?\nAny comment, idea or command for this case is appreciated.</p>\n"},{"tags":["java","spring-boot","performance","caching","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689686462,"post_id":76712353,"comment_id":135246542,"body_markdown":"Use hibernate 2nd level caching (check the documentation) which will integrate with your JPA provider. If you don&#39;t and use Spring Caching you will have to figure out when to remove stuff from the cache etc. yourself.","body":"Use hibernate 2nd level caching (check the documentation) which will integrate with your JPA provider. If you don&#39;t and use Spring Caching you will have to figure out when to remove stuff from the cache etc. yourself."}],"answers":[{"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689688231,"creation_date":1689685520,"answer_id":76713096,"question_id":76712353,"body_markdown":"You can do it by using SpringBoot CacheManager and use Hazelcast inMemory cache.\r\n\r\n[Oficial documentation][1]\r\n\r\n\r\n  [1]: https://hazelcast.com/blog/spring-boot/\r\n\r\n\r\n    // getting data\r\n    @Cacheable(&quot;Employee&quot;)\r\n    public List&lt;Employee&gt; getEmployees(String department, String activeFlag) \r\n    {\r\n        // Get logic goes here\r\n    }\r\n\r\n\r\nWhen you will save employee Hazelcast will save it in local cache also and when you fetch it will first check in cache.\r\n\r\nAnd you can call this method in your API function. Also make sure to use this class as Bean.\r\n","title":"How to create the Cache for JPA Query in Spring boot","body":"<p>You can do it by using SpringBoot CacheManager and use Hazelcast inMemory cache.</p>\n<p><a href=\"https://hazelcast.com/blog/spring-boot/\" rel=\"nofollow noreferrer\">Oficial documentation</a></p>\n<pre><code>// getting data\n@Cacheable(&quot;Employee&quot;)\npublic List&lt;Employee&gt; getEmployees(String department, String activeFlag) \n{\n    // Get logic goes here\n}\n</code></pre>\n<p>When you will save employee Hazelcast will save it in local cache also and when you fetch it will first check in cache.</p>\n<p>And you can call this method in your API function. Also make sure to use this class as Bean.</p>\n"}],"owner":{"account_id":12005903,"reputation":25,"user_id":8784262,"display_name":"Augustin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689688231,"creation_date":1689680126,"question_id":76712353,"body_markdown":"I have a table called Employee from this table I have a JPA Query to fetch the results\r\n\r\n```\r\npublic List&lt;Employee&gt; findByDepartmentAngActiveFlag(@param(&quot;department&quot;) String department,@param(&quot;activeFlag&quot;) String activeFlag);\r\n```\r\n\r\n I want to create a cache for this method. For each department it has to fetch the records from DB and keep it in Cache ( I have update and fetch api department wise independantly). Same department wise I need to update the cache if any update happens on that department records.I have used this @Cacheable already but I couldn&#39;t able to use it by department wise.\r\n\r\nAny suggestion would be helpfule to achive this.","title":"How to create the Cache for JPA Query in Spring boot","body":"<p>I have a table called Employee from this table I have a JPA Query to fetch the results</p>\n<pre><code>public List&lt;Employee&gt; findByDepartmentAngActiveFlag(@param(&quot;department&quot;) String department,@param(&quot;activeFlag&quot;) String activeFlag);\n</code></pre>\n<p>I want to create a cache for this method. For each department it has to fetch the records from DB and keep it in Cache ( I have update and fetch api department wise independantly). Same department wise I need to update the cache if any update happens on that department records.I have used this @Cacheable already but I couldn't able to use it by department wise.</p>\n<p>Any suggestion would be helpfule to achive this.</p>\n"},{"tags":["java","scheduled-tasks","windows-task-scheduler","java-batch"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689688953,"post_id":76713461,"comment_id":135247116,"body_markdown":"Try filling in that *Start in* dialog to the directory where you expect to find your logs","body":"Try filling in that <i>Start in</i> dialog to the directory where you expect to find your logs"}],"owner":{"account_id":15799530,"reputation":1,"user_id":11400436,"display_name":"anoop michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689688158,"creation_date":1689688092,"question_id":76713461,"body_markdown":"I have java program with Main method for generating file every 1 hour , and a batch program to start this program. When I start this program using batch program from command prompt, application generating file and LOGS files also updating  . All good.\r\n\r\nBut when I start running this application using windows Task scheduler , application generating file , but LOGS are not updating in LOG file.\r\n\r\nRunning this task with logged in user also.\r\n\r\n[enter image description here](https://i.stack.imgur.com/czNr9.png)\r\n\r\nAny permission issue ... \r\n\r\ntried with providing full right permission for the user to the logs file and directory .","title":"Windows Scheduler not writing application logs in to log file","body":"<p>I have java program with Main method for generating file every 1 hour , and a batch program to start this program. When I start this program using batch program from command prompt, application generating file and LOGS files also updating  . All good.</p>\n<p>But when I start running this application using windows Task scheduler , application generating file , but LOGS are not updating in LOG file.</p>\n<p>Running this task with logged in user also.</p>\n<p><a href=\"https://i.stack.imgur.com/czNr9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Any permission issue ...</p>\n<p>tried with providing full right permission for the user to the logs file and directory .</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1267465593,"post_id":2357758,"comment_id":2332277,"body_markdown":"You might be interested into this question: http://stackoverflow.com/questions/1803075/crowdsourcing-a-complete-list-of-common-java-system-properties-and-known-values Unfortunately, I haven&#39;t had time to release my findings as a proper open source project though :(","body":"You might be interested into this question: <a href=\"http://stackoverflow.com/questions/1803075/crowdsourcing-a-complete-list-of-common-java-system-properties-and-known-values\" title=\"crowdsourcing a complete list of common java system properties and known values\">stackoverflow.com/questions/1803075/&hellip;</a> Unfortunately, I haven&#39;t had time to release my findings as a proper open source project though :("},{"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"score":1,"creation_date":1267465755,"post_id":2357758,"comment_id":2332291,"body_markdown":"It&#39;s not an answer, but this is why you should *always* have a default case.","body":"It&#39;s not an answer, but this is why you should <i>always</i> have a default case."},{"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"score":0,"creation_date":1267466016,"post_id":2357758,"comment_id":2332323,"body_markdown":"To C. Ross, there is an else statement, but anyway it fails as it defaults to thinking its a linux","body":"To C. Ross, there is an else statement, but anyway it fails as it defaults to thinking its a linux"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267465409,"creation_date":1267465409,"answer_id":2357792,"question_id":2357758,"body_markdown":"No list, but on Windows7, with a JDK6_u18:\r\n\r\n`os.name` = &quot;Windows 7&quot;\r\n\r\nNote: there was a [bug on JFK6_u14 and before][1], where it displayed:\r\n\r\n&quot;Windows Vista&quot; instead of &quot;Windows 7&quot; (even though the OS was actually &quot;Windows 7&quot;), so be careful!\r\n\r\nAccording to [this HowTo][2], it should be &quot;Windows 2003&quot; for W2003.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886\r\n  [2]: http://www.rgagnon.com/javadetails/java-0150.html","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>No list, but on Windows7, with a JDK6_u18:</p>\n<p><code>os.name</code> = &quot;Windows 7&quot;</p>\n<p>Note: there was a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886\" rel=\"nofollow noreferrer\">bug on JFK6_u14 and before</a>, where it displayed:</p>\n<p>&quot;Windows Vista&quot; instead of &quot;Windows 7&quot; (even though the OS was actually &quot;Windows 7&quot;), so be careful!</p>\n<p>According to <a href=\"http://www.rgagnon.com/javadetails/java-0150.html\" rel=\"nofollow noreferrer\">this HowTo</a>, it should be &quot;Windows 2003&quot; for W2003.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267465604,"creation_date":1267465604,"answer_id":2357819,"question_id":2357758,"body_markdown":"As newer versions should require what the NT line required, it might actually make more sense to check for old versions and else use the NT settings instead of checking for newer versions, something like this:\r\n\r\n    String osName = System.getProperty(&quot;os.name&quot;);\r\n    if (osName.equals(&quot;Windows 95&quot;) || osName.equals(&quot;Windows 98&quot;)\r\n            || osName.equalsIgnoreCase(&quot;Windows ME&quot;)) {\r\n        cmd = new String[3];\r\n        cmd[0] = WINDOWS_9X_ME_COMMAND_1;\r\n        cmd[1] = WINDOWS_9X_ME_COMMAND_2;\r\n        cmd[2] = command;\r\n    } else {\r\n        cmd = new String[3];\r\n        cmd[0] = WINDOWS_NT_2000_COMMAND_1;\r\n        cmd[1] = WINDOWS_NT_2000_COMMAND_2;\r\n        cmd[2] = command;\r\n    }","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>As newer versions should require what the NT line required, it might actually make more sense to check for old versions and else use the NT settings instead of checking for newer versions, something like this:</p>\n\n<pre><code>String osName = System.getProperty(\"os.name\");\nif (osName.equals(\"Windows 95\") || osName.equals(\"Windows 98\")\n        || osName.equalsIgnoreCase(\"Windows ME\")) {\n    cmd = new String[3];\n    cmd[0] = WINDOWS_9X_ME_COMMAND_1;\n    cmd[1] = WINDOWS_9X_ME_COMMAND_2;\n    cmd[2] = command;\n} else {\n    cmd = new String[3];\n    cmd[0] = WINDOWS_NT_2000_COMMAND_1;\n    cmd[1] = WINDOWS_NT_2000_COMMAND_2;\n    cmd[2] = command;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267465646,"creation_date":1267465646,"answer_id":2357829,"question_id":2357758,"body_markdown":"Depends on the version of Java that you&#39;re running, I came across this bug:\r\n\r\n[https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886][1]\r\n\r\nso as long as you use a latter version of the JDK it should return **Windows 7** just fine.  \r\n\r\nNot sure about Windows Server 2008 though, I&#39;m guessing **Windows Server 2008**.\r\n\r\nThere&#39;s a reasonably complete list here:\r\n\r\n[http://mindprod.com/jgloss/properties.html#OSNAME][2]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886\r\n  [2]: http://mindprod.com/jgloss/properties.html#OSNAME","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>Depends on the version of Java that you're running, I came across this bug:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6819886</a></p>\n<p>so as long as you use a latter version of the JDK it should return <strong>Windows 7</strong> just fine.</p>\n<p>Not sure about Windows Server 2008 though, I'm guessing <strong>Windows Server 2008</strong>.</p>\n<p>There's a reasonably complete list here:</p>\n<p><a href=\"http://mindprod.com/jgloss/properties.html#OSNAME\" rel=\"nofollow noreferrer\">http://mindprod.com/jgloss/properties.html#OSNAME</a></p>\n"},{"tags":[],"owner":{"account_id":19938,"reputation":33906,"user_id":47161,"accept_rate":66,"display_name":"erikkallen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1267465697,"creation_date":1267465697,"answer_id":2357834,"question_id":2357758,"body_markdown":"Most likely you could change the code to say\r\n\r\n    if (osName.equals(&quot;Windows 95&quot;) || osName.equals(&quot;Windows 98&quot;) || osName.equalsIgnoreCase(&quot;Windows ME&quot;)) {\r\n        cmd = new String[3];\r\n        cmd[0] = WINDOWS_9X_ME_COMMAND_1;\r\n        cmd[1] = WINDOWS_9X_ME_COMMAND_2;\r\n        cmd[2] = command;\r\n    }\r\n    else {\r\n        cmd = new String[3];\r\n        cmd[0] = WINDOWS_NT_2000_COMMAND_1;\r\n        cmd[1] = WINDOWS_NT_2000_COMMAND_2;\r\n        cmd[2] = command;\r\n    }\r\n","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>Most likely you could change the code to say</p>\n\n<pre><code>if (osName.equals(\"Windows 95\") || osName.equals(\"Windows 98\") || osName.equalsIgnoreCase(\"Windows ME\")) {\n    cmd = new String[3];\n    cmd[0] = WINDOWS_9X_ME_COMMAND_1;\n    cmd[1] = WINDOWS_9X_ME_COMMAND_2;\n    cmd[2] = command;\n}\nelse {\n    cmd = new String[3];\n    cmd[0] = WINDOWS_NT_2000_COMMAND_1;\n    cmd[1] = WINDOWS_NT_2000_COMMAND_2;\n    cmd[2] = command;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1267467930,"creation_date":1267467930,"answer_id":2358048,"question_id":2357758,"body_markdown":"I dealt with this at Symantec when Visual Cafe was still alive... I don&#39;t recommend doing it this way at all.  The problem is that different vendors can supply different strings.  I would suggest using an OS specific way to determine the platform.  \r\n\r\nYou could use the &quot;ver&quot; utility on Windows and &quot;uname&quot; on Unix type systems.\r\n\r\nIt might be better to use &quot;GetNativeSystemInfo&quot; on Windows, but that would require native code.\r\n\r\nThe reason I suggest that way rather then relying on the System.getProperty method is because you then only have to deal with the underlying OS instead of the JVM sitting on top of the OS - and that removes the issue where different VMs report different things for the same platform.\r\n\r\nEDIT: \r\nObviously you would have to try different ways of getting the information as some of them may require running the shell instead of just the command.  But if you stick with bash it should be good.  Basically try running commands until one of them works... not pretty but it would work.\r\n ","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>I dealt with this at Symantec when Visual Cafe was still alive... I don't recommend doing it this way at all.  The problem is that different vendors can supply different strings.  I would suggest using an OS specific way to determine the platform.  </p>\n\n<p>You could use the \"ver\" utility on Windows and \"uname\" on Unix type systems.</p>\n\n<p>It might be better to use \"GetNativeSystemInfo\" on Windows, but that would require native code.</p>\n\n<p>The reason I suggest that way rather then relying on the System.getProperty method is because you then only have to deal with the underlying OS instead of the JVM sitting on top of the OS - and that removes the issue where different VMs report different things for the same platform.</p>\n\n<p>EDIT: \nObviously you would have to try different ways of getting the information as some of them may require running the shell instead of just the command.  But if you stick with bash it should be good.  Basically try running commands until one of them works... not pretty but it would work.</p>\n"},{"tags":[],"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1435564636,"creation_date":1435564636,"answer_id":31110542,"question_id":2357758,"body_markdown":"While this is not a complete solution, you can get a 32-bit JDK and run a simple code printing `os.name` and `os.version` with different compatibility settings.\r\n\r\nHere&#39;re the `os.name`/`os.version` values reported by different JDKs on a *Windows 8.1* box:\r\n\r\n&lt;pre&gt;\r\n&amp;#x2554;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2564;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2557;\r\n&amp;#x2551; Java/OS version &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows 7     &amp;#x2502; Windows 8            &amp;#x2502; Windows 8.1          &amp;#x2551;\r\n&amp;#x255f;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x253c;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2500;&amp;#x2562;\r\n&amp;#x2551; 1.4.2           &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows Vista &amp;#x2502; Windows Vista        &amp;#x2502; Windows Vista        &amp;#x2551;\r\n&amp;#x2551;                 &amp;#x2502;        4.0 &amp;#x2502;       4.10 &amp;#x2502;        5.1 &amp;#x2502;           6.0 &amp;#x2502;           6.1 &amp;#x2502;                  6.2 &amp;#x2502;                  6.2 &amp;#x2551;\r\n&amp;#x2551; 1.5.0           &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows 7     &amp;#x2502; Windows NT (unknown) &amp;#x2502; Windows NT (unknown) &amp;#x2551;\r\n&amp;#x2551;                 &amp;#x2502;        4.0 &amp;#x2502;       4.10 &amp;#x2502;        5.1 &amp;#x2502;           6.0 &amp;#x2502;           6.1 &amp;#x2502;                  6.2 &amp;#x2502;                  6.2 &amp;#x2551;\r\n&amp;#x2551; 1.6.0           &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows 7     &amp;#x2502; Windows 8            &amp;#x2502; Windows 8            &amp;#x2551;\r\n&amp;#x2551;                 &amp;#x2502;        4.0 &amp;#x2502;       4.10 &amp;#x2502;        5.1 &amp;#x2502;           6.0 &amp;#x2502;           6.1 &amp;#x2502;                  6.2 &amp;#x2502;                  6.2 &amp;#x2551;\r\n&amp;#x2551; 1.7.0           &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows 7     &amp;#x2502; Windows 8            &amp;#x2502; Windows 8.1          &amp;#x2551;\r\n&amp;#x2551;                 &amp;#x2502;        4.0 &amp;#x2502;       4.10 &amp;#x2502;        5.1 &amp;#x2502;           6.0 &amp;#x2502;           6.1 &amp;#x2502;                  6.2 &amp;#x2502;                  6.3 &amp;#x2551;\r\n&amp;#x2551; 1.8.0           &amp;#x2502; Windows 95 &amp;#x2502; Windows 98 &amp;#x2502; Windows XP &amp;#x2502; Windows Vista &amp;#x2502; Windows 7     &amp;#x2502; Windows 8            &amp;#x2502; Windows 8.1          &amp;#x2551;\r\n&amp;#x2551;                 &amp;#x2502;        4.0 &amp;#x2502;       4.10 &amp;#x2502;        5.1 &amp;#x2502;           6.0 &amp;#x2502;           6.1 &amp;#x2502;                  6.2 &amp;#x2502;                  6.3 &amp;#x2551;\r\n&amp;#x255A;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2567;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x2550;&amp;#x255D;\r\n&lt;/pre&gt;","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>While this is not a complete solution, you can get a 32-bit JDK and run a simple code printing <code>os.name</code> and <code>os.version</code> with different compatibility settings.</p>\n\n<p>Here're the <code>os.name</code>/<code>os.version</code> values reported by different JDKs on a <em>Windows 8.1</em> box:</p>\n\n<pre>\n&#x2554;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2557;\n&#x2551; Java/OS version &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows 7     &#x2502; Windows 8            &#x2502; Windows 8.1          &#x2551;\n&#x255f;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253c;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2562;\n&#x2551; 1.4.2           &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows Vista &#x2502; Windows Vista        &#x2502; Windows Vista        &#x2551;\n&#x2551;                 &#x2502;        4.0 &#x2502;       4.10 &#x2502;        5.1 &#x2502;           6.0 &#x2502;           6.1 &#x2502;                  6.2 &#x2502;                  6.2 &#x2551;\n&#x2551; 1.5.0           &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows 7     &#x2502; Windows NT (unknown) &#x2502; Windows NT (unknown) &#x2551;\n&#x2551;                 &#x2502;        4.0 &#x2502;       4.10 &#x2502;        5.1 &#x2502;           6.0 &#x2502;           6.1 &#x2502;                  6.2 &#x2502;                  6.2 &#x2551;\n&#x2551; 1.6.0           &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows 7     &#x2502; Windows 8            &#x2502; Windows 8            &#x2551;\n&#x2551;                 &#x2502;        4.0 &#x2502;       4.10 &#x2502;        5.1 &#x2502;           6.0 &#x2502;           6.1 &#x2502;                  6.2 &#x2502;                  6.2 &#x2551;\n&#x2551; 1.7.0           &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows 7     &#x2502; Windows 8            &#x2502; Windows 8.1          &#x2551;\n&#x2551;                 &#x2502;        4.0 &#x2502;       4.10 &#x2502;        5.1 &#x2502;           6.0 &#x2502;           6.1 &#x2502;                  6.2 &#x2502;                  6.3 &#x2551;\n&#x2551; 1.8.0           &#x2502; Windows 95 &#x2502; Windows 98 &#x2502; Windows XP &#x2502; Windows Vista &#x2502; Windows 7     &#x2502; Windows 8            &#x2502; Windows 8.1          &#x2551;\n&#x2551;                 &#x2502;        4.0 &#x2502;       4.10 &#x2502;        5.1 &#x2502;           6.0 &#x2502;           6.1 &#x2502;                  6.2 &#x2502;                  6.3 &#x2551;\n&#x255A;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2567;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x255D;\n</pre>\n"},{"tags":[],"owner":{"account_id":9893052,"reputation":1,"user_id":7325470,"display_name":"parag borah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482325213,"creation_date":1482320128,"answer_id":41261890,"question_id":2357758,"body_markdown":"This code will give you the latest windows OS name like &quot;windows server 2016&quot;\r\n    \r\n    public static String getFullOSName() {\r\n            String cmds =&quot;systeminfo&quot;;\r\n    \t\tString osName = null;\r\n    \t\ttry {``\r\n    \t\t\tBufferedReader bufferedreader = executeCommand(cmds);\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = bufferedreader.readLine()) != null) {\r\n    \t\t\t\tif (line.contains(&quot;OS Name&quot;)) {\r\n    \t\t\t\t\tString services[] = line.split(&quot;:&quot;);\r\n    \t\t\t\t\tosName = services[1].trim();\r\n    \t\t\t\t\treturn osName;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception ex) {\r\n    \t\t   }\r\n    \t\treturn osName;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Execute Command \r\n    \t * \r\n    \t * @param command\r\n    \t * @return\r\n    \t * @throws Exception\r\n    \t */\r\n    \t\r\n    \tprivate static BufferedReader executeCommand(String command) throws Exception {\r\n    \t\tBufferedReader bufferedreader = null;\r\n    \t\ttry {\r\n    \t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\tProcess proc = runtime.exec(command);\r\n    \t\t\tInputStream inputstream = proc.getInputStream();\r\n    \t\t\tInputStreamReader inputstreamreader = new InputStreamReader(inputstream);\r\n    \t\t\tbufferedreader = new BufferedReader(inputstreamreader);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new Exception(&quot;Command Execution failed on windows. command = &quot; + command);\r\n    \t\t}\r\n    \t\treturn bufferedreader;\r\n    \t}","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>This code will give you the latest windows OS name like \"windows server 2016\"</p>\n\n<pre><code>public static String getFullOSName() {\n        String cmds =\"systeminfo\";\n        String osName = null;\n        try {``\n            BufferedReader bufferedreader = executeCommand(cmds);\n            String line;\n            while ((line = bufferedreader.readLine()) != null) {\n                if (line.contains(\"OS Name\")) {\n                    String services[] = line.split(\":\");\n                    osName = services[1].trim();\n                    return osName;\n                }\n            }\n        } catch (Exception ex) {\n           }\n        return osName;\n    }\n\n    /**\n     * Execute Command \n     * \n     * @param command\n     * @return\n     * @throws Exception\n     */\n\n    private static BufferedReader executeCommand(String command) throws Exception {\n        BufferedReader bufferedreader = null;\n        try {\n            Runtime runtime = Runtime.getRuntime();\n            Process proc = runtime.exec(command);\n            InputStream inputstream = proc.getInputStream();\n            InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n            bufferedreader = new BufferedReader(inputstreamreader);\n        } catch (Exception ex) {\n            throw new Exception(\"Command Execution failed on windows. command = \" + command);\n        }\n        return bufferedreader;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689688022,"creation_date":1689684021,"answer_id":76712876,"question_id":2357758,"body_markdown":"Since this came up as the first hit under a different search context, I&#39;ll throw this out there for others who might be searching more generally about this topic:\r\n\r\nI use this to determine broad-scope operating systems (windows vs Mac vs Linux, etc.). It&#39;s an enum where you leverage the different public static methods from anywhere in your program.\r\n\r\npublic enum OS {\r\n\r\n    WIN, MAC, LINUX, SOLARIS, FREEBSD;\r\n\r\n    private static OS thisOS;\r\n\r\n    private static void setThisOS() {\r\n        String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n        if (os.contains(&quot;win&quot;)) {\r\n            thisOS = OS.WIN;\r\n        }\r\n        else if (os.contains(&quot;mac&quot;)) {\r\n            thisOS = OS.MAC;\r\n        }\r\n        else if (os.contains(&quot;linux&quot;)) {\r\n            thisOS = OS.LINUX;\r\n        }\r\n        else if (os.contains(&quot;sun&quot;)) {\r\n            thisOS = OS.SOLARIS;\r\n        }\r\n        else if (os.contains(&quot;free&quot;)) {\r\n            thisOS = OS.FREEBSD;\r\n        }\r\n    }\r\n\r\n    public static boolean isWindows() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.WIN);\r\n    }\r\n\r\n    public static boolean isMac() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.MAC);\r\n    }\r\n\r\n    public static boolean isLinux() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.LINUX);\r\n    }\r\n\r\n    public static boolean isWinMac() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.WIN) || thisOS.equals(OS.MAC);\r\n    }\r\n\r\n    public static boolean isSun() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.SOLARIS);\r\n    }\r\n\r\n    public static boolean isBSD() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.FREEBSD);\r\n    }\r\n\r\n    public static boolean isNix() {\r\n        if (thisOS == null) {\r\n            setThisOS();\r\n        }\r\n        return thisOS.equals(OS.LINUX) || thisOS.equals(OS.SOLARIS) || thisOS.equals(OS.FREEBSD);\r\n    }\r\n\r\n}\r\n","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>Since this came up as the first hit under a different search context, I'll throw this out there for others who might be searching more generally about this topic:</p>\n<p>I use this to determine broad-scope operating systems (windows vs Mac vs Linux, etc.). It's an enum where you leverage the different public static methods from anywhere in your program.</p>\n<p>public enum OS {</p>\n<pre><code>WIN, MAC, LINUX, SOLARIS, FREEBSD;\n\nprivate static OS thisOS;\n\nprivate static void setThisOS() {\n    String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\n    if (os.contains(&quot;win&quot;)) {\n        thisOS = OS.WIN;\n    }\n    else if (os.contains(&quot;mac&quot;)) {\n        thisOS = OS.MAC;\n    }\n    else if (os.contains(&quot;linux&quot;)) {\n        thisOS = OS.LINUX;\n    }\n    else if (os.contains(&quot;sun&quot;)) {\n        thisOS = OS.SOLARIS;\n    }\n    else if (os.contains(&quot;free&quot;)) {\n        thisOS = OS.FREEBSD;\n    }\n}\n\npublic static boolean isWindows() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.WIN);\n}\n\npublic static boolean isMac() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.MAC);\n}\n\npublic static boolean isLinux() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.LINUX);\n}\n\npublic static boolean isWinMac() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.WIN) || thisOS.equals(OS.MAC);\n}\n\npublic static boolean isSun() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.SOLARIS);\n}\n\npublic static boolean isBSD() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.FREEBSD);\n}\n\npublic static boolean isNix() {\n    if (thisOS == null) {\n        setThisOS();\n    }\n    return thisOS.equals(OS.LINUX) || thisOS.equals(OS.SOLARIS) || thisOS.equals(OS.FREEBSD);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47770,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":2357834,"answer_count":8,"score":25,"last_activity_date":1689688022,"creation_date":1267465090,"question_id":2357758,"body_markdown":"some of my code was failing in x64, I start digging and this is due to some code that calls native stuff via Runtime.getRuntime().exec()...\r\n\r\nBut this code is probably some years old, it does not take into account newer OS, and some of the code looks like this:\r\n\r\n    String osName = System.getProperty(&quot;os.name&quot;);\r\n        if (osName.equals(&quot;Windows NT&quot;) || osName.equals(&quot;Windows 2000&quot;) || osName.equals(&quot;Windows XP&quot;)) {\r\n            cmd = new String[3];\r\n            cmd[0] = WINDOWS_NT_2000_COMMAND_1;\r\n            cmd[1] = WINDOWS_NT_2000_COMMAND_2;\r\n            cmd[2] = command;\r\n        } else if (osName.equals(&quot;Windows 95&quot;) || osName.equals(&quot;Windows 98&quot;) || osName.equalsIgnoreCase(&quot;Windows ME&quot;)) {\r\n            cmd = new String[3];\r\n            cmd[0] = WINDOWS_9X_ME_COMMAND_1;\r\n            cmd[1] = WINDOWS_9X_ME_COMMAND_2;\r\n            cmd[2] = command;\r\n\r\n        \r\nI would like to fix this for all new OSs (w2008, windows 7, ...), but I dont have access to a host of each kind, and I don&#39;t want to install in a VM just to see the value, does anybody know of some list somewhere? have not find any yet.\r\n\r\nEDIT: I would need: windows 7, windows 2003, windows 2008, windows 2008R2\r\nAlso, I am no the 1.6u18 so no worries about the bug some guys mentioned.","title":"what does System.getProperty(&quot;os.name&quot;) return in latest Windows OSs","body":"<p>some of my code was failing in x64, I start digging and this is due to some code that calls native stuff via Runtime.getRuntime().exec()...</p>\n\n<p>But this code is probably some years old, it does not take into account newer OS, and some of the code looks like this:</p>\n\n<pre><code>String osName = System.getProperty(\"os.name\");\n    if (osName.equals(\"Windows NT\") || osName.equals(\"Windows 2000\") || osName.equals(\"Windows XP\")) {\n        cmd = new String[3];\n        cmd[0] = WINDOWS_NT_2000_COMMAND_1;\n        cmd[1] = WINDOWS_NT_2000_COMMAND_2;\n        cmd[2] = command;\n    } else if (osName.equals(\"Windows 95\") || osName.equals(\"Windows 98\") || osName.equalsIgnoreCase(\"Windows ME\")) {\n        cmd = new String[3];\n        cmd[0] = WINDOWS_9X_ME_COMMAND_1;\n        cmd[1] = WINDOWS_9X_ME_COMMAND_2;\n        cmd[2] = command;\n</code></pre>\n\n<p>I would like to fix this for all new OSs (w2008, windows 7, ...), but I dont have access to a host of each kind, and I don't want to install in a VM just to see the value, does anybody know of some list somewhere? have not find any yet.</p>\n\n<p>EDIT: I would need: windows 7, windows 2003, windows 2008, windows 2008R2\nAlso, I am no the 1.6u18 so no worries about the bug some guys mentioned.</p>\n"},{"tags":["java","spring","spring-jdbc"],"owner":{"account_id":29040024,"reputation":1,"user_id":22245054,"display_name":"Honphie.Won"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689687232,"creation_date":1689670689,"question_id":76711095,"body_markdown":"I encountered a tricky issue:\r\n\r\nI intentionally commented out the maven dependency &#39;spring-jdbc&#39; in a working Spring test project. In theory, it should directly throw something like &#39;java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate&#39; error. However, in reality, Spring only provided a somewhat irrelevant error message: &#39;Index 0 out of bounds for length 0&#39;. and&#39;Failed to load ApplicationContext&#39;\r\n\r\nI wonder why.\r\n\r\nversion:5.2.21.RELEASE\r\n\r\nAnd Here is the full error message:\r\n```\r\nE:\\java\\bin\\java.exe -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:E:\\IntelliJ IDEA 2023.1.2\\lib\\idea_rt.jar=53447:E:\\IntelliJ IDEA 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;E:\\IntelliJ IDEA 2023.1.2\\lib\\idea_rt.jar;E:\\IntelliJ IDEA 2023.1.2\\plugins\\junit\\lib\\junit5-rt.jar;E:\\IntelliJ IDEA 2023.1.2\\plugins\\junit\\lib\\junit-rt.jar;E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\test-classes;E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes;E:\\Maven\\junit\\junit\\4.13.2\\junit-4.13.2.jar;E:\\Maven\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;E:\\Maven\\org\\springframework\\spring-context\\5.2.21.RELEASE\\spring-context-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-aop\\5.2.21.RELEASE\\spring-aop-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-beans\\5.2.21.RELEASE\\spring-beans-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-core\\5.2.21.RELEASE\\spring-core-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-jcl\\5.2.21.RELEASE\\spring-jcl-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-expression\\5.2.21.RELEASE\\spring-expression-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-test\\5.2.21.RELEASE\\spring-test-5.2.21.RELEASE.jar;E:\\Maven\\org\\mybatis\\mybatis\\3.5.10\\mybatis-3.5.10.jar;E:\\Maven\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;E:\\Maven\\com\\google\\protobuf\\protobuf-java\\3.21.9\\protobuf-java-3.21.9.jar;E:\\Maven\\commons-dbcp\\commons-dbcp\\1.4\\commons-dbcp-1.4.jar;E:\\Maven\\commons-pool\\commons-pool\\1.5.4\\commons-pool-1.5.4.jar;E:\\Maven\\org\\mybatis\\mybatis-spring\\2.1.0\\mybatis-spring-2.1.0.jar;E:\\Maven\\org\\projectlombok\\lombok\\1.18.20\\lombok-1.18.20.jar;E:\\Maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;E:\\Maven\\org\\aspectj\\aspectjweaver\\1.9.4\\aspectjweaver-1.9.4.jar;E:\\Maven\\com\\alibaba\\druid\\druid-wrapper\\0.2.9\\druid-wrapper-0.2.9.jar;E:\\Maven\\com\\alibaba\\druid\\0.2.9\\druid-0.2.9.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.honphie.TestDemo1,test1\r\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.support.AbstractTestContextBootstrapper getDefaultTestExecutionListenerClassNames\r\n信息: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\r\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.support.AbstractTestContextBootstrapper getTestExecutionListeners\r\n信息: Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3891771e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@78ac1102, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2de8284b, org.springframework.test.context.event.EventPublishingTestExecutionListener@396e2f39]\r\n7月 18, 2023 2:21:46 上午 org.springframework.context.support.AbstractApplicationContext refresh\r\n警告: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.TestContextManager prepareTestInstance\r\n严重: Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@78ac1102] to prepare test instance [com.honphie.TestDemo1@5e5d171f]\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\r\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\r\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\r\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    ... 27 more\r\nCaused by: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\r\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    at org.springframework.core.annotation.AnnotationTypeMappings.get(AnnotationTypeMappings.java:159)\r\n    at org.springframework.core.annotation.TypeMappedAnnotation.of(TypeMappedAnnotation.java:599)\r\n    at org.springframework.core.annotation.MergedAnnotation.of(MergedAnnotation.java:610)\r\n    at org.springframework.core.type.classreading.MergedAnnotationReadingVisitor.visitEnd(MergedAnnotationReadingVisitor.java:96)\r\n    at org.springframework.asm.ClassReader.readElementValues(ClassReader.java:2985)\r\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:582)\r\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n    ... 46 more\r\n \r\n \r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n \r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\r\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\r\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\r\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    ... 27 more\r\nCaused by: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\r\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    at org.springframework.core.annotation.AnnotationTypeMappings.get(AnnotationTypeMappings.java:159)\r\n    at org.springframework.core.annotation.TypeMappedAnnotation.of(TypeMappedAnnotation.java:599)\r\n    at org.springframework.core.annotation.MergedAnnotation.of(MergedAnnotation.java:610)\r\n    at org.springframework.core.type.classreading.MergedAnnotationReadingVisitor.visitEnd(MergedAnnotationReadingVisitor.java:96)\r\n    at org.springframework.asm.ClassReader.readElementValues(ClassReader.java:2985)\r\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:582)\r\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n    ... 46 more\r\n```\r\n \r\nIt doesn&#39;t mention any words like &#39;java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate&#39;.\r\n\r\nI intentionally commented out the maven dependency &#39;spring-jdbc&#39; in a working Spring test project. In theory, it should directly throw something like &#39;java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate&#39; error","title":"Not adding spring-jdbc maven dependency. The error message did not mention spring-jdbc, which made it difficult to find the problem","body":"<p>I encountered a tricky issue:</p>\n<p>I intentionally commented out the maven dependency 'spring-jdbc' in a working Spring test project. In theory, it should directly throw something like 'java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate' error. However, in reality, Spring only provided a somewhat irrelevant error message: 'Index 0 out of bounds for length 0'. and'Failed to load ApplicationContext'</p>\n<p>I wonder why.</p>\n<p>version:5.2.21.RELEASE</p>\n<p>And Here is the full error message:</p>\n<pre><code>E:\\java\\bin\\java.exe -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:E:\\IntelliJ IDEA 2023.1.2\\lib\\idea_rt.jar=53447:E:\\IntelliJ IDEA 2023.1.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;E:\\IntelliJ IDEA 2023.1.2\\lib\\idea_rt.jar;E:\\IntelliJ IDEA 2023.1.2\\plugins\\junit\\lib\\junit5-rt.jar;E:\\IntelliJ IDEA 2023.1.2\\plugins\\junit\\lib\\junit-rt.jar;E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\test-classes;E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes;E:\\Maven\\junit\\junit\\4.13.2\\junit-4.13.2.jar;E:\\Maven\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;E:\\Maven\\org\\springframework\\spring-context\\5.2.21.RELEASE\\spring-context-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-aop\\5.2.21.RELEASE\\spring-aop-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-beans\\5.2.21.RELEASE\\spring-beans-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-core\\5.2.21.RELEASE\\spring-core-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-jcl\\5.2.21.RELEASE\\spring-jcl-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-expression\\5.2.21.RELEASE\\spring-expression-5.2.21.RELEASE.jar;E:\\Maven\\org\\springframework\\spring-test\\5.2.21.RELEASE\\spring-test-5.2.21.RELEASE.jar;E:\\Maven\\org\\mybatis\\mybatis\\3.5.10\\mybatis-3.5.10.jar;E:\\Maven\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;E:\\Maven\\com\\google\\protobuf\\protobuf-java\\3.21.9\\protobuf-java-3.21.9.jar;E:\\Maven\\commons-dbcp\\commons-dbcp\\1.4\\commons-dbcp-1.4.jar;E:\\Maven\\commons-pool\\commons-pool\\1.5.4\\commons-pool-1.5.4.jar;E:\\Maven\\org\\mybatis\\mybatis-spring\\2.1.0\\mybatis-spring-2.1.0.jar;E:\\Maven\\org\\projectlombok\\lombok\\1.18.20\\lombok-1.18.20.jar;E:\\Maven\\log4j\\log4j\\1.2.17\\log4j-1.2.17.jar;E:\\Maven\\org\\aspectj\\aspectjweaver\\1.9.4\\aspectjweaver-1.9.4.jar;E:\\Maven\\com\\alibaba\\druid\\druid-wrapper\\0.2.9\\druid-wrapper-0.2.9.jar;E:\\Maven\\com\\alibaba\\druid\\0.2.9\\druid-0.2.9.jar&quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 com.honphie.TestDemo1,test1\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.support.AbstractTestContextBootstrapper getDefaultTestExecutionListenerClassNames\n信息: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.support.AbstractTestContextBootstrapper getTestExecutionListeners\n信息: Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3891771e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@78ac1102, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2de8284b, org.springframework.test.context.event.EventPublishingTestExecutionListener@396e2f39]\n7月 18, 2023 2:21:46 上午 org.springframework.context.support.AbstractApplicationContext refresh\n警告: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n7月 18, 2023 2:21:46 上午 org.springframework.test.context.TestContextManager prepareTestInstance\n严重: Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@78ac1102] to prepare test instance [com.honphie.TestDemo1@5e5d171f]\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 27 more\nCaused by: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at org.springframework.core.annotation.AnnotationTypeMappings.get(AnnotationTypeMappings.java:159)\n    at org.springframework.core.annotation.TypeMappedAnnotation.of(TypeMappedAnnotation.java:599)\n    at org.springframework.core.annotation.MergedAnnotation.of(MergedAnnotation.java:610)\n    at org.springframework.core.type.classreading.MergedAnnotationReadingVisitor.visitEnd(MergedAnnotationReadingVisitor.java:96)\n    at org.springframework.asm.ClassReader.readElementValues(ClassReader.java:2985)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:582)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 46 more\n \n \njava.lang.IllegalStateException: Failed to load ApplicationContext\n \n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\\WithLayui\\Spring_Test\\AopWIthMybatis\\target\\classes\\com\\honphie\\config\\MybatisConfig.class]; nested exception is java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 27 more\nCaused by: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at org.springframework.core.annotation.AnnotationTypeMappings.get(AnnotationTypeMappings.java:159)\n    at org.springframework.core.annotation.TypeMappedAnnotation.of(TypeMappedAnnotation.java:599)\n    at org.springframework.core.annotation.MergedAnnotation.of(MergedAnnotation.java:610)\n    at org.springframework.core.type.classreading.MergedAnnotationReadingVisitor.visitEnd(MergedAnnotationReadingVisitor.java:96)\n    at org.springframework.asm.ClassReader.readElementValues(ClassReader.java:2985)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:582)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 46 more\n</code></pre>\n<p>It doesn't mention any words like 'java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate'.</p>\n<p>I intentionally commented out the maven dependency 'spring-jdbc' in a working Spring test project. In theory, it should directly throw something like 'java.lang.ClassNotFoundException: org.springframework.jdbc.core.JdbcTemplate' error</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"owner":{"account_id":8338753,"reputation":21,"user_id":6264734,"display_name":"Senthil kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689687010,"creation_date":1689675658,"question_id":76711769,"body_markdown":"I have below code.  Initialisation is succeeded.  But when I try to send an message it is timing out.\r\n    \r\nI am trying to send message from kubernetes pod to FCM.  I verified the internet access and it is there.  i tried this url to check the internet connection.\r\n```\r\ncurl -I &quot;https://oauth2.googleapis.com/token&quot;\r\n```\r\nI get &quot;Connection established&quot; message\r\n\r\n\r\nException thrown : \r\n\r\n&gt; com.google.firebase.messaging.FirebaseMessagingException: Timed out while making an API call: Error getting access token for service account: connect timed out, iss: firebase-adminsdk-xxxxx@xxxx-xxxx.iam.gserviceaccount.com\r\n\r\nI have followed the steps exactly in firebase app server settings page.\r\n    \r\n   \r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n                    .setCredentials(GoogleCredentials.fromStream(new ClassPathResource(firebaseConfigPath).getInputStream())).build();\r\n            if (FirebaseApp.getApps().isEmpty()) {\r\n    FirebaseApp.initializeApp(options);\r\n            }\r\n    \r\n       Message message = Message.builder()\r\n                        .putData(&quot;score&quot;, &quot;850&quot;)\r\n                        .putData(&quot;time&quot;, &quot;2:45&quot;)\r\n                        .setToken(request.getToken())\r\n                        .build();\r\n                 response1 = FirebaseMessaging.getInstance().send(message);\r\n    \r\nCan anyone give me pointers?\r\n\r\n","title":"SendMessage in to FCM gives time out","body":"<p>I have below code.  Initialisation is succeeded.  But when I try to send an message it is timing out.</p>\n<p>I am trying to send message from kubernetes pod to FCM.  I verified the internet access and it is there.  i tried this url to check the internet connection.</p>\n<pre><code>curl -I &quot;https://oauth2.googleapis.com/token&quot;\n</code></pre>\n<p>I get &quot;Connection established&quot; message</p>\n<p>Exception thrown :</p>\n<blockquote>\n<p>com.google.firebase.messaging.FirebaseMessagingException: Timed out while making an API call: Error getting access token for service account: connect timed out, iss: firebase-adminsdk-xxxxx@xxxx-xxxx.iam.gserviceaccount.com</p>\n</blockquote>\n<p>I have followed the steps exactly in firebase app server settings page.</p>\n<pre><code>FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(new ClassPathResource(firebaseConfigPath).getInputStream())).build();\n        if (FirebaseApp.getApps().isEmpty()) {\nFirebaseApp.initializeApp(options);\n        }\n\n   Message message = Message.builder()\n                    .putData(&quot;score&quot;, &quot;850&quot;)\n                    .putData(&quot;time&quot;, &quot;2:45&quot;)\n                    .setToken(request.getToken())\n                    .build();\n             response1 = FirebaseMessaging.getInstance().send(message);\n</code></pre>\n<p>Can anyone give me pointers?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":7,"creation_date":1433836859,"post_id":30726189,"comment_id":49509149,"body_markdown":"No you cannot accomplish that. The static block is only for static stuff and will be invoked/executed when the class is loaded. You only have access to static variables not instance variables. The `afterPropertiesSet` or `@PostConstruct` is to initialize a particular object instance and not a class.","body":"No you cannot accomplish that. The static block is only for static stuff and will be invoked/executed when the class is loaded. You only have access to static variables not instance variables. The <code>afterPropertiesSet</code> or <code>@PostConstruct</code> is to initialize a particular object instance and not a class."},{"owner":{"account_id":1249256,"reputation":10253,"user_id":1242842,"accept_rate":70,"display_name":"Alexander Suraphel"},"score":0,"creation_date":1433837114,"post_id":30726189,"comment_id":49509305,"body_markdown":"@M.Deinum you comment qualifies as an answer. You can post it.","body":"@M.Deinum you comment qualifies as an answer. You can post it."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1433837291,"post_id":30726189,"comment_id":49509400,"body_markdown":"@M.Deinum when you post your answer, it is worth covering when the class constructor can and cannot be used to achieve the same goal.","body":"@M.Deinum when you post your answer, it is worth covering when the class constructor can and cannot be used to achieve the same goal."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1433837347,"post_id":30726189,"comment_id":49509439,"body_markdown":"@OP have you tried this? Surely that would be the easiest way to find out the issues with the approach.","body":"@OP have you tried this? Surely that would be the easiest way to find out the issues with the approach."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1527764151,"creation_date":1433838470,"answer_id":30726748,"question_id":30726189,"body_markdown":"Given the following class\r\n\r\n    public class MyClass implements InitializingBean {\r\n\r\n        static { ... } // static initializer\r\n        { ... }  // non-static initializer\r\n\r\n        public void afterPropertiesSet() throws Exception { ... }\r\n    }\r\n\r\nThe **static** initializer block is only executed when the class is loaded by the class loader. There is no instance of that class at that moment and you will only be able to access class level (`static`) variables at that point and not instance variables. \r\n\r\nThe **non-static** initializer block is when the object is constructed but before any properties are injected. The non-static initializer block is actually copied to the constructor.\r\n\r\n&gt; The Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.\r\n\r\n\r\nSee also https://stackoverflow.com/questions/2420389/static-initialization-blocks and http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\r\n\r\nThe `afterPropertiesSet` or `@PostConstruct` annotated method is called after an instance of class is created and all the properties have been set. For instance if you would like to preload some data that can be done in this method as all the dependencies have been set. \r\n\r\nIf you only have mandatory dependencies you might be better of using constructor injection and instead of using `InitializingBean` or `@PostConstruct` put the initializing logic in the constructor. This will only work if all the dependencies are injected through the constructor, if you have optional dependencies set by set methods then you have no choice but to use `@PostConstruct` or `InitializingBean`.\r\n\r\n[1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html#afterPropertiesSet--\r\n[2]: https://stackoverflow.com/questions/2420389/static-initialization-blocks\r\n[3]: http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html","title":"Spring: Why is afterPropertiesSet() of InitializingBean needed when there are static and non-static initializers in Java?","body":"<p>Given the following class</p>\n\n<pre><code>public class MyClass implements InitializingBean {\n\n    static { ... } // static initializer\n    { ... }  // non-static initializer\n\n    public void afterPropertiesSet() throws Exception { ... }\n}\n</code></pre>\n\n<p>The <strong>static</strong> initializer block is only executed when the class is loaded by the class loader. There is no instance of that class at that moment and you will only be able to access class level (<code>static</code>) variables at that point and not instance variables. </p>\n\n<p>The <strong>non-static</strong> initializer block is when the object is constructed but before any properties are injected. The non-static initializer block is actually copied to the constructor.</p>\n\n<blockquote>\n  <p>The Java compiler copies initializer blocks into every constructor. Therefore, this approach can be used to share a block of code between multiple constructors.</p>\n</blockquote>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/2420389/static-initialization-blocks\">Static Initialization Blocks</a> and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html</a></p>\n\n<p>The <code>afterPropertiesSet</code> or <code>@PostConstruct</code> annotated method is called after an instance of class is created and all the properties have been set. For instance if you would like to preload some data that can be done in this method as all the dependencies have been set. </p>\n\n<p>If you only have mandatory dependencies you might be better of using constructor injection and instead of using <code>InitializingBean</code> or <code>@PostConstruct</code> put the initializing logic in the constructor. This will only work if all the dependencies are injected through the constructor, if you have optional dependencies set by set methods then you have no choice but to use <code>@PostConstruct</code> or <code>InitializingBean</code>.</p>\n"},{"tags":[],"owner":{"account_id":1249256,"reputation":10253,"user_id":1242842,"accept_rate":70,"display_name":"Alexander Suraphel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689686700,"creation_date":1689686700,"answer_id":76713258,"question_id":30726189,"body_markdown":"M. Denium&#39;s answer is great. To add a shorter explanation:  \r\n\r\nStatic and non-static initializers are *Java* features and run *before main() is called* and *during object creation* respectively. They cannot be deferred. \r\n\r\n`afterPropertiesSet()` is a *Spring Framework* feature.  It is a function Spring calls after dependency injection is complete for that class. E.g. If you have defined loggerService dependency for that class, you can call `loggerService.log(&quot;MyClass is ready&quot;)` in it. You cannot do it in the initializers as the dependency might not have been injected/set yet.  \r\n\r\n","title":"Spring: Why is afterPropertiesSet() of InitializingBean needed when there are static and non-static initializers in Java?","body":"<p>M. Denium's answer is great. To add a shorter explanation:</p>\n<p>Static and non-static initializers are <em>Java</em> features and run <em>before main() is called</em> and <em>during object creation</em> respectively. They cannot be deferred.</p>\n<p><code>afterPropertiesSet()</code> is a <em>Spring Framework</em> feature.  It is a function Spring calls after dependency injection is complete for that class. E.g. If you have defined loggerService dependency for that class, you can call <code>loggerService.log(&quot;MyClass is ready&quot;)</code> in it. You cannot do it in the initializers as the dependency might not have been injected/set yet.</p>\n"}],"owner":{"account_id":1249256,"reputation":10253,"user_id":1242842,"accept_rate":70,"display_name":"Alexander Suraphel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70617,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":30726748,"answer_count":2,"score":26,"last_activity_date":1689686700,"creation_date":1433836734,"question_id":30726189,"body_markdown":"I have used `afterPropertiesSet()` to initialize class properties in Spring beans. Now I see that this task can be accomplished by Java&#39;s built in static and non-static initializers. What can I do with `afterPropertiesSet()` that I cannot with the initializer blocks?","title":"Spring: Why is afterPropertiesSet() of InitializingBean needed when there are static and non-static initializers in Java?","body":"<p>I have used <code>afterPropertiesSet()</code> to initialize class properties in Spring beans. Now I see that this task can be accomplished by Java's built in static and non-static initializers. What can I do with <code>afterPropertiesSet()</code> that I cannot with the initializer blocks?</p>\n"},{"tags":["java","jar","manifest","program-entry-point"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1331662945,"post_id":9689793,"comment_id":12312650,"body_markdown":"Look for main methods; you can&#39;t rely on class names.","body":"Look for main methods; you can&#39;t rely on class names."},{"owner":{"account_id":872984,"reputation":13945,"user_id":923421,"accept_rate":75,"display_name":"Ewoud"},"score":3,"creation_date":1331664154,"post_id":9689793,"comment_id":12313097,"body_markdown":"I know, but since I only have .class files I can&#39;t really see the methods. Or can I?","body":"I know, but since I only have .class files I can&#39;t really see the methods. Or can I?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1331667460,"post_id":9689793,"comment_id":12314151,"body_markdown":"You aren&#39;t really typing the quotes, are you? In any case, there are a number of ways to see methods, include using `javap`. You might want to un-jar it and look to see if there&#39;s actually no manifest, though.","body":"You aren&#39;t really typing the quotes, are you? In any case, there are a number of ways to see methods, include using <code>javap</code>. You might want to un-jar it and look to see if there&#39;s actually no manifest, though."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1442129827,"post_id":9689793,"comment_id":52951051,"body_markdown":"Related: with dependencies: http://stackoverflow.com/a/23986765/360211","body":"Related: with dependencies: <a href=\"http://stackoverflow.com/a/23986765/360211\">stackoverflow.com/a/23986765/360211</a>"},{"owner":{"account_id":3224325,"reputation":690,"user_id":2721023,"accept_rate":53,"display_name":"Kamini"},"score":0,"creation_date":1496412091,"post_id":9689793,"comment_id":75665528,"body_markdown":"what if I don&#39;t have main class as I am running the code using CommandLineJobRunner","body":"what if I don&#39;t have main class as I am running the code using CommandLineJobRunner"},{"owner":{"account_id":1685084,"reputation":1536,"user_id":1548557,"display_name":"MrMesees"},"score":0,"creation_date":1525394203,"post_id":9689793,"comment_id":87348982,"body_markdown":"I had this problem with a library that had worked previously, simply because I was missing execution declaration steps...","body":"I had this problem with a library that had worked previously, simply because I was missing execution declaration steps..."},{"owner":{"account_id":6104319,"reputation":730,"user_id":4762396,"accept_rate":36,"display_name":"abdul rashid"},"score":0,"creation_date":1592493730,"post_id":9689793,"comment_id":110451669,"body_markdown":"Solution involves adding META-INF to resources directory and few other steps explained here https://www.youtube.com/watch?v=wPGSas_f0ts","body":"Solution involves adding META-INF to resources directory and few other steps explained here <a href=\"https://www.youtube.com/watch?v=wPGSas_f0ts\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wPGSas_f0ts</a>"},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1598194889,"post_id":9689793,"comment_id":112372062,"body_markdown":"I have a task called `buildRepackage` , I think this is what does the task but I can&#39;t make a jar to be runnable with the whole dependency.  Do you know how they work together and how I can get this done for a spring boot application?","body":"I have a task called <code>buildRepackage</code> , I think this is what does the task but I can&#39;t make a jar to be runnable with the whole dependency.  Do you know how they work together and how I can get this done for a spring boot application?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1627842614,"post_id":9689793,"comment_id":121258592,"body_markdown":"Hey @Ewoud I noticed you haven&#39;t selected an answer as the solution. You may have forgotten to so I&#39;m just letting you know.","body":"Hey @Ewoud I noticed you haven&#39;t selected an answer as the solution. You may have forgotten to so I&#39;m just letting you know."},{"owner":{"account_id":416971,"reputation":2653,"user_id":792700,"accept_rate":75,"display_name":"AO_"},"score":0,"creation_date":1634514292,"post_id":9689793,"comment_id":123038064,"body_markdown":"The easiest way is to just [change the Maven/Gradle settings](https://ao.ms/solved-error-no-main-manifest-attribute/) directly","body":"The easiest way is to just <a href=\"https://ao.ms/solved-error-no-main-manifest-attribute/\" rel=\"nofollow noreferrer\">change the Maven/Gradle settings</a> directly"},{"owner":{"account_id":872984,"reputation":13945,"user_id":923421,"accept_rate":75,"display_name":"Ewoud"},"score":0,"creation_date":1634541438,"post_id":9689793,"comment_id":123042637,"body_markdown":"@CausingUnderflowsEverywhere I honestly don&#39;t remember if or how I solved the issue all those years ago. To just pick an answer now, without knowing if it solved my problem would be unethical in my opinion. I think that there&#39;s a lot of useful information here for people that are facing the same or similar problem, and I hope the rating system will help them find the right answer.","body":"@CausingUnderflowsEverywhere I honestly don&#39;t remember if or how I solved the issue all those years ago. To just pick an answer now, without knowing if it solved my problem would be unethical in my opinion. I think that there&#39;s a lot of useful information here for people that are facing the same or similar problem, and I hope the rating system will help them find the right answer."},{"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"score":0,"creation_date":1650123520,"post_id":9689793,"comment_id":127044544,"body_markdown":"The plugin config mentioned in the answer here would help- https://stackoverflow.com/questions/54867295/springboot-no-main-manifest-attribute-maven","body":"The plugin config mentioned in the answer here would help- <a href=\"https://stackoverflow.com/questions/54867295/springboot-no-main-manifest-attribute-maven\" title=\"springboot no main manifest attribute maven\">stackoverflow.com/questions/54867295/&hellip;</a>"},{"owner":{"account_id":19848828,"reputation":431,"user_id":14539774,"display_name":"Supergamer"},"score":0,"creation_date":1680342906,"post_id":9689793,"comment_id":133884865,"body_markdown":"When packaging a jar file specify the main class name by option ```e``` followed by the class name in ```jar.exe``` command line","body":"When packaging a jar file specify the main class name by option <code>e</code> followed by the class name in <code>jar.exe</code> command line"}],"answers":[{"tags":[],"owner":{"account_id":10874,"reputation":13103,"user_id":20734,"display_name":"John M"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1564670546,"creation_date":1331663085,"answer_id":9689837,"question_id":9689793,"body_markdown":"If the jar isn&#39;t following [the rules][1], it&#39;s not an executable jar.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/specs/jar/jar.html#main-attributes","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>If the jar isn't following <a href=\"https://docs.oracle.com/javase/10/docs/specs/jar/jar.html#main-attributes\" rel=\"nofollow noreferrer\">the rules</a>, it's not an executable jar.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":2,"up_vote_count":387,"is_accepted":false,"score":385,"last_activity_date":1331663230,"creation_date":1331663230,"answer_id":9689868,"question_id":9689793,"body_markdown":"That should have been `java -jar app.jar` instead of `java -jar &quot;app&quot;`.\r\n\r\nThe `-jar` option only works if the JAR file is an executable JAR file, which means it must have a manifest file with a `Main-Class` attribute in it. See [Packaging Programs in JAR Files](http://docs.oracle.com/javase/tutorial/deployment/jar/index.html) to learn how to create an executable JAR.\r\n\r\nIf it&#39;s not an executable JAR, then you&#39;ll need to run the program with something like:\r\n\r\n    java -cp app.jar com.somepackage.SomeClass\r\n\r\nwhere `com.somepackage.SomeClass` is the class that contains the `main` method to run the program. (What that class is depends on the program, it&#39;s impossible to tell from the information you&#39;ve supplied).","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>That should have been <code>java -jar app.jar</code> instead of <code>java -jar \"app\"</code>.</p>\n\n<p>The <code>-jar</code> option only works if the JAR file is an executable JAR file, which means it must have a manifest file with a <code>Main-Class</code> attribute in it. See <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/index.html\" rel=\"noreferrer\">Packaging Programs in JAR Files</a> to learn how to create an executable JAR.</p>\n\n<p>If it's not an executable JAR, then you'll need to run the program with something like:</p>\n\n<pre><code>java -cp app.jar com.somepackage.SomeClass\n</code></pre>\n\n<p>where <code>com.somepackage.SomeClass</code> is the class that contains the <code>main</code> method to run the program. (What that class is depends on the program, it's impossible to tell from the information you've supplied).</p>\n"},{"tags":[],"owner":{"account_id":94841,"reputation":50527,"user_id":258689,"accept_rate":88,"display_name":"Olivier Refalo"},"down_vote_count":5,"up_vote_count":1364,"is_accepted":false,"score":1359,"last_activity_date":1617160603,"creation_date":1331663270,"answer_id":9689877,"question_id":9689793,"body_markdown":"First, it&#39;s kind of weird, to see you run `java -jar &quot;app&quot;` and not `java -jar app.jar`\r\n\r\nSecond, to make a jar executable... you need to jar a file called META-INF/MANIFEST.MF\r\n\r\nthe file itself should have (at least) this one liner:\r\n\r\n    Main-Class: com.mypackage.MyClass\r\n\r\n\r\nWhere `com.mypackage.MyClass` is the class holding the *public static void main(String[] args)* entry point.\r\n\r\nNote that there are several ways to get this done either with the CLI, Maven, Ant or Gradle:\r\n\r\n\r\nFor **CLI**, the following command will do: (tks @[dvvrt][1])\r\n```\r\njar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\r\n```\r\n\r\n\r\nFor **Maven**, something like the following snippet should do the trick. Note that this is only the plugin definition, not the full **pom.xml**:\r\n\r\nLatest doc on this plugin: see https://maven.apache.org/plugins/maven-jar-plugin/\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;!-- Build an executable JAR --&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n(Pick a [`&lt;version&gt;`](http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.plugins%22%20AND%20a%3A%22maven-jar-plugin%22) appropriate to your project.)\r\n\r\nFor **Ant**, the snippet below should help:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;jar destfile=&quot;build/main/checksites.jar&quot;&gt;\r\n      &lt;fileset dir=&quot;build/main/classes&quot;/&gt;\r\n      &lt;zipfileset includes=&quot;**/*.class&quot; src=&quot;lib/main/some.jar&quot;/&gt;\r\n      &lt;manifest&gt;\r\n        &lt;attribute name=&quot;Main-Class&quot; value=&quot;com.acme.checksites.Main&quot;/&gt;\r\n      &lt;/manifest&gt;\r\n    &lt;/jar&gt;\r\n\r\nCredits Michael Niemand -\r\n\r\nFor **Gradle**:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.mypackage.MyClass&#39;\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/553718/dvvrt","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>First, it's kind of weird, to see you run <code>java -jar &quot;app&quot;</code> and not <code>java -jar app.jar</code></p>\n<p>Second, to make a jar executable... you need to jar a file called META-INF/MANIFEST.MF</p>\n<p>the file itself should have (at least) this one liner:</p>\n<pre><code>Main-Class: com.mypackage.MyClass\n</code></pre>\n<p>Where <code>com.mypackage.MyClass</code> is the class holding the <em>public static void main(String[] args)</em> entry point.</p>\n<p>Note that there are several ways to get this done either with the CLI, Maven, Ant or Gradle:</p>\n<p>For <strong>CLI</strong>, the following command will do: (tks @<a href=\"https://stackoverflow.com/users/553718/dvvrt\">dvvrt</a>)</p>\n<pre><code>jar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\n</code></pre>\n<p>For <strong>Maven</strong>, something like the following snippet should do the trick. Note that this is only the plugin definition, not the full <strong>pom.xml</strong>:</p>\n<p>Latest doc on this plugin: see <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-jar-plugin/</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;!-- Build an executable JAR --&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>(Pick a <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.plugins%22%20AND%20a%3A%22maven-jar-plugin%22\" rel=\"noreferrer\"><code>&lt;version&gt;</code></a> appropriate to your project.)</p>\n<p>For <strong>Ant</strong>, the snippet below should help:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jar destfile=&quot;build/main/checksites.jar&quot;&gt;\n  &lt;fileset dir=&quot;build/main/classes&quot;/&gt;\n  &lt;zipfileset includes=&quot;**/*.class&quot; src=&quot;lib/main/some.jar&quot;/&gt;\n  &lt;manifest&gt;\n    &lt;attribute name=&quot;Main-Class&quot; value=&quot;com.acme.checksites.Main&quot;/&gt;\n  &lt;/manifest&gt;\n&lt;/jar&gt;\n</code></pre>\n<p>Credits Michael Niemand -</p>\n<p>For <strong>Gradle</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'com.mypackage.MyClass'\n        )\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716930,"reputation":723,"user_id":1573807,"display_name":"Shekh Akther"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344002679,"creation_date":1344002679,"answer_id":11797307,"question_id":9689793,"body_markdown":"Any executable jar file Should run either by clicking or running using command prompt like java -jar app.jar (use &quot;if path of jar contains space&quot; - i.e. java -jar &quot;C:\\folder name\\app.jar&quot;). If your executable jar is not running, which means it is not created properly.\r\n\r\nFor better understanding, extract the jar file (or view using any tool, for windows 7-Zip is nice one) and check the file under /META-INF/MANIFEST.MF. If you find any entry like\r\n\r\nMain-Class: your.package.name.ClaaswithMain - then it&#39;s fine, otherwise you have to provide it.\r\n\r\nBe aware of appending Main-Class entry on MANIFEST.MF file, check where you are saving it! ","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Any executable jar file Should run either by clicking or running using command prompt like java -jar app.jar (use \"if path of jar contains space\" - i.e. java -jar \"C:\\folder name\\app.jar\"). If your executable jar is not running, which means it is not created properly.</p>\n\n<p>For better understanding, extract the jar file (or view using any tool, for windows 7-Zip is nice one) and check the file under /META-INF/MANIFEST.MF. If you find any entry like</p>\n\n<p>Main-Class: your.package.name.ClaaswithMain - then it's fine, otherwise you have to provide it.</p>\n\n<p>Be aware of appending Main-Class entry on MANIFEST.MF file, check where you are saving it! </p>\n"},{"tags":[],"owner":{"account_id":2419640,"reputation":2253,"user_id":2112949,"accept_rate":12,"display_name":"David"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1689627264,"creation_date":1362153973,"answer_id":15161904,"question_id":9689793,"body_markdown":"For maven, this is what solved it (for me, for a Veetle codebase on GitHub):\r\n```maven\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;org.lazydevs.veetle.api.VeetleAPI&lt;/mainClass&gt;\r\n              &lt;/transformer&gt;\r\n            &lt;/transformers&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>For maven, this is what solved it (for me, for a Veetle codebase on GitHub):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;transformers&gt;\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                &lt;mainClass&gt;org.lazydevs.veetle.api.VeetleAPI&lt;/mainClass&gt;\n              &lt;/transformer&gt;\n            &lt;/transformers&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1172565,"reputation":2517,"user_id":1149401,"display_name":"Burhan ARAS"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1405393796,"creation_date":1377243096,"answer_id":18397266,"question_id":9689793,"body_markdown":"Try this command to include the jar: \r\n\r\n    java -cp yourJarName.jar your.package..your.MainClass","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Try this command to include the jar: </p>\n\n<pre><code>java -cp yourJarName.jar your.package..your.MainClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3231325,"reputation":49,"user_id":2726515,"display_name":"satheesh.v"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1432933840,"creation_date":1377712794,"answer_id":18495052,"question_id":9689793,"body_markdown":"You might not have created the jar file properly:\r\n\r\n&gt; ex: missing option m in jar creation\r\n\r\nThe following works:\r\n\r\n    jar -cvfm MyJar.jar Manifest.txt *.class\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>You might not have created the jar file properly:</p>\n\n<blockquote>\n  <p>ex: missing option m in jar creation</p>\n</blockquote>\n\n<p>The following works:</p>\n\n<pre><code>jar -cvfm MyJar.jar Manifest.txt *.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2514540,"reputation":297,"user_id":2186265,"accept_rate":89,"display_name":"Koneri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380344399,"creation_date":1380344399,"answer_id":19063490,"question_id":9689793,"body_markdown":"You Can Simply follow this step \r\n Create a jar file using\r\n\r\n     jar -cfm jarfile-name manifest-filename Class-file name\r\n\r\n While running the jar file simple run like this\r\n    \r\n     java -cp jarfile-name main-classname","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>You Can Simply follow this step \n Create a jar file using</p>\n\n<pre><code> jar -cfm jarfile-name manifest-filename Class-file name\n</code></pre>\n\n<p>While running the jar file simple run like this</p>\n\n<pre><code> java -cp jarfile-name main-classname\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248524,"reputation":3098,"user_id":1981328,"accept_rate":69,"display_name":"Sasanka Panguluri"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1689686695,"creation_date":1380414373,"answer_id":19073153,"question_id":9689793,"body_markdown":"That is because Java cannot find the Main attribute in the MANIFEST.MF file.\r\nThe Main attribute is necessary to tell Java which class it should use as the application&#39;s entry point. Inside the jar file, the MANIFEST.MF file is located in META-INF folder. Wondering how you could look at what&#39;s inside a jar file? Open the jar file with WinRAR.\r\n\r\nThe main attribute inside the MANIFEST.MF looks like this:\r\n\r\n    Main-Class: &lt;packagename&gt;.&lt;classname&gt;\r\n\r\nYou get this &quot;no main manifest attribute&quot; error when this line is missing from the MANIFEST.MF file. \r\n\r\n&lt;strike&gt;It&#39;s really a huge mess to specify this attribute inside the MANIFEST.MF file.&lt;/strike&gt;\r\n\r\n### Update ###\r\n---\r\nI have just found a really neat way to specify the application&#39;s entry point in Eclipse :\r\n\r\n 1. Select File &gt; Export..\r\n 2. Select JAR file then Next\r\n 3. Give it a name in the next window then Next\r\n 4. Select Next again\r\n 5. You&#39;ll see &quot;Select the class of the application entry point&quot;, just pick a class and Eclipse will automatically build a cool MANIFEST.MF for you.\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/9V7F3.png","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>That is because Java cannot find the Main attribute in the MANIFEST.MF file.\nThe Main attribute is necessary to tell Java which class it should use as the application's entry point. Inside the jar file, the MANIFEST.MF file is located in META-INF folder. Wondering how you could look at what's inside a jar file? Open the jar file with WinRAR.</p>\n<p>The main attribute inside the MANIFEST.MF looks like this:</p>\n<pre><code>Main-Class: &lt;packagename&gt;.&lt;classname&gt;\n</code></pre>\n<p>You get this &quot;no main manifest attribute&quot; error when this line is missing from the MANIFEST.MF file.</p>\n<p><strike>It's really a huge mess to specify this attribute inside the MANIFEST.MF file.</strike></p>\n<h3>Update</h3>\n<hr />\n<p>I have just found a really neat way to specify the application's entry point in Eclipse :</p>\n<ol>\n<li>Select File &gt; Export..</li>\n<li>Select JAR file then Next</li>\n<li>Give it a name in the next window then Next</li>\n<li>Select Next again</li>\n<li>You'll see &quot;Select the class of the application entry point&quot;, just pick a class and Eclipse will automatically build a cool MANIFEST.MF for you.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/9V7F3.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":1909975,"reputation":6687,"user_id":1724059,"accept_rate":58,"display_name":"CodeBrew"},"down_vote_count":1,"up_vote_count":178,"is_accepted":false,"score":177,"last_activity_date":1689627085,"creation_date":1419633878,"answer_id":27662742,"question_id":9689793,"body_markdown":"Alternatively, you can use maven-assembly-plugin, as shown in the below example:\r\n```maven\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;single&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n  &lt;configuration&gt;\r\n    &lt;archive&gt;\r\n      &lt;manifest&gt;\r\n\t    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t&lt;mainClass&gt;com.package.MainClass&lt;/mainClass&gt;\r\n\t  &lt;/manifest&gt;\r\n\t&lt;/archive&gt;\r\n    &lt;descriptorRefs&gt;\r\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    &lt;/descriptorRefs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt; \r\n```\r\nIn this example all the dependency jars as specified in &lt;dependencies/&gt; section will be automatically included in your single jar. Note that jar-with-dependencies should be literally put as, not to be replaced with the jar file names you want to include.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Alternatively, you can use maven-assembly-plugin, as shown in the below example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;mainClass&gt;com.package.MainClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n    &lt;descriptorRefs&gt;\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt; \n</code></pre>\n<p>In this example all the dependency jars as specified in  section will be automatically included in your single jar. Note that jar-with-dependencies should be literally put as, not to be replaced with the jar file names you want to include.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1422177323,"creation_date":1422177323,"answer_id":28134909,"question_id":9689793,"body_markdown":"For me, none of the answers really helped - I had the manifest file in correct place, containing the Main-Class and everything. What tripped me over was this:\r\n\r\n&gt; Warning: The text file from which you are creating the manifest must\r\n&gt; end with a new line or carriage return. The last line will not be\r\n&gt; parsed properly if it does not end with a new line or carriage return.\r\n\r\n([source](http://docs.oracle.com/javase/tutorial/deployment/jar/modman.html)). Adding a newline at the end of the manifest fixed it.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>For me, none of the answers really helped - I had the manifest file in correct place, containing the Main-Class and everything. What tripped me over was this:</p>\n\n<blockquote>\n  <p>Warning: The text file from which you are creating the manifest must\n  end with a new line or carriage return. The last line will not be\n  parsed properly if it does not end with a new line or carriage return.</p>\n</blockquote>\n\n<p>(<a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/modman.html\">source</a>). Adding a newline at the end of the manifest fixed it.</p>\n"},{"tags":[],"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447798842,"creation_date":1447798470,"answer_id":33768075,"question_id":9689793,"body_markdown":"You might have the same problem as I do. After creating your .jar file, write `jar xf app.jar META-INF/MANIFEST.MF`. This will create a copy of the file to your current directory so you can read it. If it only says something like:\r\n\r\n&gt; Manifest-Version: 1.0\r\n\r\n&gt; Created-By: 1.8.0_51 (Oracle Corporation)\r\n\r\nand does not contain the &quot;Main-Class&quot; declaration, then I think you found your problem.\r\n\r\nI do not know how to solve it, though. I checked other people with same/similar problems on StackOverflow and couldn&#39;t find an answer. However with this information you can perhaps get some better help (given the fact that you have the same problem as I).\r\n\r\n**Edit: I had tried with a manifest-file but didn&#39;t get it to work, but my mistake was to only name one of the classes when creating the jar-file. I wrote *.class instead and it works now.**\r\n\r\n**Although I don&#39;t know why there is a need to create a manifest-file. But I guess it&#39;s fine as long as it works.**","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>You might have the same problem as I do. After creating your .jar file, write <code>jar xf app.jar META-INF/MANIFEST.MF</code>. This will create a copy of the file to your current directory so you can read it. If it only says something like:</p>\n\n<blockquote>\n  <p>Manifest-Version: 1.0</p>\n  \n  <p>Created-By: 1.8.0_51 (Oracle Corporation)</p>\n</blockquote>\n\n<p>and does not contain the \"Main-Class\" declaration, then I think you found your problem.</p>\n\n<p>I do not know how to solve it, though. I checked other people with same/similar problems on StackOverflow and couldn't find an answer. However with this information you can perhaps get some better help (given the fact that you have the same problem as I).</p>\n\n<p><strong>Edit: I had tried with a manifest-file but didn't get it to work, but my mistake was to only name one of the classes when creating the jar-file. I wrote *.class instead and it works now.</strong></p>\n\n<p><strong>Although I don't know why there is a need to create a manifest-file. But I guess it's fine as long as it works.</strong></p>\n"},{"tags":[],"owner":{"account_id":3661086,"reputation":341,"user_id":3050880,"display_name":"Neeraj Bhatnagar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448606330,"creation_date":1448606330,"answer_id":33951560,"question_id":9689793,"body_markdown":"For me this error occurred simply because I forgot tell Eclipse that I wanted a runnable jar file and not a simple library jar file.  So when you create the jar file in Eclipse make sure that you click the right radio button","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>For me this error occurred simply because I forgot tell Eclipse that I wanted a runnable jar file and not a simple library jar file.  So when you create the jar file in Eclipse make sure that you click the right radio button</p>\n"},{"tags":[],"owner":{"account_id":2108871,"reputation":169,"user_id":1874536,"display_name":"KarthikPon"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1456444953,"creation_date":1456444953,"answer_id":35640852,"question_id":9689793,"body_markdown":"I faced the same issue and it&#39;s fixed now:)\r\nJust follow the below steps and the error could be for anything, but the below steps makes the process smoother. I spend lot of time to find the fix.\r\n\r\n1.Try restart the Eclipse (if you are using Eclipse to built JAR file)\r\n--&gt; Actually this helped my issue in exporting the JAR file properly.\r\n\r\n2.After eclipse restart, try to see if your eclipse is able to recognize the main class/method by your Java project --&gt; right click --&gt; Run as --&gt; Run configurations --&gt; Main --&gt; click Search button to see if your eclipse is able to lookup for your main class in the JAR file.\r\n--&gt; This is for the validation that JAR file will have the entry point to the main class.\r\n\r\n4. After this, export your Java Dynamic project as &quot;Runnable JAR&quot; file and not JAR file.\r\n\r\n5. In Java launch configuration, choose your main class.\r\n\r\n6. Once export the jar file, use the below command to execute.\r\njava -cp [Your JAR].jar [complete package].MainClass\r\neg: java -cp AppleTCRuleAudit.jar com.apple.tcruleaudit.classes.TCRuleAudit\r\n\r\n7. You might face the unsupported java version error. the fix is to change the java_home in your shell bash profile to match the java version used to compile the project in eclipse.\r\n\r\nHope this helps! Kindly let me know if you still have any issues.\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I faced the same issue and it's fixed now:)\nJust follow the below steps and the error could be for anything, but the below steps makes the process smoother. I spend lot of time to find the fix.</p>\n\n<p>1.Try restart the Eclipse (if you are using Eclipse to built JAR file)\n--> Actually this helped my issue in exporting the JAR file properly.</p>\n\n<p>2.After eclipse restart, try to see if your eclipse is able to recognize the main class/method by your Java project --> right click --> Run as --> Run configurations --> Main --> click Search button to see if your eclipse is able to lookup for your main class in the JAR file.\n--> This is for the validation that JAR file will have the entry point to the main class.</p>\n\n<ol start=\"4\">\n<li><p>After this, export your Java Dynamic project as \"Runnable JAR\" file and not JAR file.</p></li>\n<li><p>In Java launch configuration, choose your main class.</p></li>\n<li><p>Once export the jar file, use the below command to execute.\njava -cp [Your JAR].jar [complete package].MainClass\neg: java -cp AppleTCRuleAudit.jar com.apple.tcruleaudit.classes.TCRuleAudit</p></li>\n<li><p>You might face the unsupported java version error. the fix is to change the java_home in your shell bash profile to match the java version used to compile the project in eclipse.</p></li>\n</ol>\n\n<p>Hope this helps! Kindly let me know if you still have any issues.</p>\n"},{"tags":[],"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1462839334,"creation_date":1462839334,"answer_id":37127374,"question_id":9689793,"body_markdown":"\r\nThe Gradle answer is to add a jar/manifest/attributes setting like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.package.app.Class&#39;\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>The Gradle answer is to add a jar/manifest/attributes setting like this:</p>\n\n<pre><code>apply plugin: 'java'\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.package.app.Class'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467727340,"creation_date":1467727340,"answer_id":38205482,"question_id":9689793,"body_markdown":"Check your local .m2 direcory for a sub directory of this artifact.\r\nIf exixts - delete it, and perform Maven update again","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Check your local .m2 direcory for a sub directory of this artifact.\nIf exixts - delete it, and perform Maven update again</p>\n"},{"tags":[],"owner":{"account_id":533845,"reputation":9038,"user_id":903928,"accept_rate":60,"display_name":"morningstar"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1470761507,"creation_date":1470761507,"answer_id":38856446,"question_id":9689793,"body_markdown":"I had this issue when creating a jar using IntelliJ IDEA. See [this discussion][1].\r\n\r\nWhat solved it for me was to re-create the jar artifact, choosing JAR &gt; From modules with dependencies, but not accepting the default Directory for META-INF/MANIFEST.MF. Change it from -/src/main/java to -/src/main/resources.\r\n\r\nOtherwise it was including a manifest file in the jar, but not the one in -/src/main/java that it should have.\r\n\r\n\r\n  [1]: http://www.4answered.com/questions/view/13fb689/Wrong-Manifestmf-in-IntelliJ-IDEA-created-jar","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I had this issue when creating a jar using IntelliJ IDEA. See <a href=\"http://www.4answered.com/questions/view/13fb689/Wrong-Manifestmf-in-IntelliJ-IDEA-created-jar\" rel=\"noreferrer\">this discussion</a>.</p>\n\n<p>What solved it for me was to re-create the jar artifact, choosing JAR > From modules with dependencies, but not accepting the default Directory for META-INF/MANIFEST.MF. Change it from -/src/main/java to -/src/main/resources.</p>\n\n<p>Otherwise it was including a manifest file in the jar, but not the one in -/src/main/java that it should have.</p>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37054,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479603623,"creation_date":1479603623,"answer_id":40699577,"question_id":9689793,"body_markdown":"If you are using the command line to assemble .jar it is possible to point to the main without adding Manifest file. Example:\r\n\r\n    jar cfve app.jar TheNameOfClassWithMainMethod *.class\r\n\r\n(param &quot;e&quot; does that: TheNameOfClassWithMainMethod is a name of the class with the method main()  and app.jar - name of executable .jar and *.class - just all classes files to assemble)","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>If you are using the command line to assemble .jar it is possible to point to the main without adding Manifest file. Example:</p>\n\n<pre><code>jar cfve app.jar TheNameOfClassWithMainMethod *.class\n</code></pre>\n\n<p>(param \"e\" does that: TheNameOfClassWithMainMethod is a name of the class with the method main()  and app.jar - name of executable .jar and *.class - just all classes files to assemble)</p>\n"},{"tags":[],"owner":{"account_id":3039465,"reputation":203,"user_id":2576840,"display_name":"shuang"},"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1479936578,"creation_date":1479936578,"answer_id":40774451,"question_id":9689793,"body_markdown":"If using Maven, include following in the pom\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>If using Maven, include following in the pom</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5913142,"reputation":18650,"user_id":4652706,"accept_rate":100,"display_name":"KARTHIKEYAN.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480812751,"creation_date":1480812751,"answer_id":40954226,"question_id":9689793,"body_markdown":"check your jar file inside MANIFEST.MF Main-Class is available or not\r\n\r\nfirst.java\r\n\r\n    class first\r\n    {\r\n            public static void main (String arg[ ])\r\n            {\r\n               System.out.println(&quot;Welcome to the world of Java&quot;);\r\n            }\r\n    }\r\n\r\n**Before**:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0_80 (Oracle Corporation)\r\n    \r\n    sony@sony-VPCEH25EN:~/Documents$ java -jar first.jar\r\n    no main manifest attribute, in first.jar\r\n\r\n**After:** \r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0_80 (Oracle Corporation)\r\n    Main-Class: first\r\n    \r\n    sony@sony-VPCEH25EN:~/Documents$ java -jar first.jar \r\n    Welcome to the world of Java\r\n\r\n\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>check your jar file inside MANIFEST.MF Main-Class is available or not</p>\n\n<p>first.java</p>\n\n<pre><code>class first\n{\n        public static void main (String arg[ ])\n        {\n           System.out.println(\"Welcome to the world of Java\");\n        }\n}\n</code></pre>\n\n<p><strong>Before</strong>:</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: 1.7.0_80 (Oracle Corporation)\n\nsony@sony-VPCEH25EN:~/Documents$ java -jar first.jar\nno main manifest attribute, in first.jar\n</code></pre>\n\n<p><strong>After:</strong> </p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: 1.7.0_80 (Oracle Corporation)\nMain-Class: first\n\nsony@sony-VPCEH25EN:~/Documents$ java -jar first.jar \nWelcome to the world of Java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5228213,"reputation":1,"user_id":4179547,"display_name":"M.87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482931233,"creation_date":1482930922,"answer_id":41362912,"question_id":9689793,"body_markdown":"*I had a similar issue as you, \r\nin below a syntax to create successfully .war File:-*\r\n\r\n**jar {cvf} [jar-file] [manifest-file]**\r\n\r\n&gt; manifest\r\nWhen creating (c) or updating (u) a JAR file, the manifest operand defines the preexisting manifest files with names and values of attributes to be included in MANIFEST.MF in the JAR file. The manifest operand must be specified if the f option is present &#39;[[1]]&#39;.\r\n\r\n*In order to create manifest file you need to defined a value for some attributes, you could put asterisk after the (.WAR) file name to avoid creating manifest file:-*\r\n\r\n**jar -cvf foo.war ***\r\n\r\nTo be honest with you I don&#39;t know if that is a best practice but it do the work for me :).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jar.html","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p><em>I had a similar issue as you, \nin below a syntax to create successfully .war File:-</em></p>\n\n<p><strong>jar {cvf} [jar-file] [manifest-file]</strong></p>\n\n<blockquote>\n  <p>manifest\n  When creating (c) or updating (u) a JAR file, the manifest operand defines the preexisting manifest files with names and values of attributes to be included in MANIFEST.MF in the JAR file. The manifest operand must be specified if the f option is present '[<a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jar.html\" rel=\"nofollow noreferrer\">1</a>]'.</p>\n</blockquote>\n\n<p><em>In order to create manifest file you need to defined a value for some attributes, you could put asterisk after the (.WAR) file name to avoid creating manifest file:-</em></p>\n\n<p><strong>jar -cvf foo.war *</strong></p>\n\n<p>To be honest with you I don't know if that is a best practice but it do the work for me :).</p>\n"},{"tags":[],"owner":{"account_id":4128825,"reputation":4159,"user_id":3387223,"accept_rate":50,"display_name":"CodeMonkey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484895639,"creation_date":1484895322,"answer_id":41757746,"question_id":9689793,"body_markdown":"I had the same problem. A lot of the solutions mentioned here didn&#39;t give me the whole picture, so I&#39;ll try to give you a summary of how to **pack jar files from the command line**.\r\n\r\n1. If you want to have your `.class` files in packages, add the package in the beginning of the `.java`.\r\n\r\n    **Test.java**\r\n\r\n        package testpackage;\r\n        \r\n        public class Test\r\n        {\r\n            ...\r\n        }\r\n\r\n2. To compile your code with your `.class` files ending up with the structure given by the package name use:\r\n\r\n        javac -d . Test.java\r\n\r\n    The `-d .` makes the compiler create the directory structure you want.\r\n\r\n3. When packaging the `.jar` file, you need to instruct the jar routine on how to pack it. Here we use the option set `cvfeP`. This is to **keep the package structure** (option `P`), **specify the entry point** so that the manifest file contains meaningful information (option `e`). Option `f` lets you specify the file name, option `c` creates an archive and option `v` sets the output to verbose. The important things to note here are `P` and `e`.\r\n\r\n    Then comes the name of the jar we want `test.jar`.\r\n\r\n    Then comes the entry point &lt;packagename&gt;.&lt;classname&gt;\r\n\r\n    And then comes `-C . &lt;packagename&gt;/` to get the class files from that folder, preserving the folder structure.\r\n\r\n        jar cvfeP test.jar testpackage.Test -C . testpackage/\r\n\r\n4. Check your `.jar` file in a zip program. It should have the following structure\r\n\r\n    **test.jar**\r\n\r\n        META-INF\r\n        | MANIFEST.MF\r\n        testpackage\r\n        | Test.class\r\n\r\n    The MANIFEST.MF should contain the following\r\n\r\n        Manifest-Version: 1.0\r\n        Created-By: &lt;JDK Version&gt; (Oracle Corporation)\r\n        Main-Class: testpackage.Test\r\n\r\n   If you edit your manifest by hand **be sure to keep the newline at the end** otherwise java doesn&#39;t recognize it.\r\n        \r\n\r\n5. Execute your `.jar` file with\r\n\r\n        java -jar test.jar\r\n\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I had the same problem. A lot of the solutions mentioned here didn't give me the whole picture, so I'll try to give you a summary of how to <strong>pack jar files from the command line</strong>.</p>\n\n<ol>\n<li><p>If you want to have your <code>.class</code> files in packages, add the package in the beginning of the <code>.java</code>.</p>\n\n<p><strong>Test.java</strong></p>\n\n<pre><code>package testpackage;\n\npublic class Test\n{\n    ...\n}\n</code></pre></li>\n<li><p>To compile your code with your <code>.class</code> files ending up with the structure given by the package name use:</p>\n\n<pre><code>javac -d . Test.java\n</code></pre>\n\n<p>The <code>-d .</code> makes the compiler create the directory structure you want.</p></li>\n<li><p>When packaging the <code>.jar</code> file, you need to instruct the jar routine on how to pack it. Here we use the option set <code>cvfeP</code>. This is to <strong>keep the package structure</strong> (option <code>P</code>), <strong>specify the entry point</strong> so that the manifest file contains meaningful information (option <code>e</code>). Option <code>f</code> lets you specify the file name, option <code>c</code> creates an archive and option <code>v</code> sets the output to verbose. The important things to note here are <code>P</code> and <code>e</code>.</p>\n\n<p>Then comes the name of the jar we want <code>test.jar</code>.</p>\n\n<p>Then comes the entry point .</p>\n\n<p>And then comes <code>-C . &lt;packagename&gt;/</code> to get the class files from that folder, preserving the folder structure.</p>\n\n<pre><code>jar cvfeP test.jar testpackage.Test -C . testpackage/\n</code></pre></li>\n<li><p>Check your <code>.jar</code> file in a zip program. It should have the following structure</p>\n\n<p><strong>test.jar</strong></p>\n\n<pre><code>META-INF\n| MANIFEST.MF\ntestpackage\n| Test.class\n</code></pre>\n\n<p>The MANIFEST.MF should contain the following</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: &lt;JDK Version&gt; (Oracle Corporation)\nMain-Class: testpackage.Test\n</code></pre>\n\n<p>If you edit your manifest by hand <strong>be sure to keep the newline at the end</strong> otherwise java doesn't recognize it.</p></li>\n<li><p>Execute your <code>.jar</code> file with</p>\n\n<pre><code>java -jar test.jar\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9683912,"reputation":1691,"user_id":7199218,"display_name":"Abdelsalam Shahlol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504540199,"creation_date":1485927918,"answer_id":41972697,"question_id":9689793,"body_markdown":"I had this problem and i solved it recently by doing this in Netbeans 8 (Refer to the image below):\r\n\r\n![Netbeans project properties][1]\r\n\r\n 1. go to **properties** of your project.\r\n 2. click on **Run**.\r\n 3. specify the main class of your project using **browse**.\r\n 4. **build** and **run** the Jar file.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAx7M.jpg","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I had this problem and i solved it recently by doing this in Netbeans 8 (Refer to the image below):</p>\n\n<p><img src=\"https://i.stack.imgur.com/TAx7M.jpg\" alt=\"Netbeans project properties\"></p>\n\n<ol>\n<li>go to <strong>properties</strong> of your project.</li>\n<li>click on <strong>Run</strong>.</li>\n<li>specify the main class of your project using <strong>browse</strong>.</li>\n<li><strong>build</strong> and <strong>run</strong> the Jar file.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8845247,"reputation":377,"user_id":6606219,"display_name":"Fan Yer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1490176065,"creation_date":1490176065,"answer_id":42947929,"question_id":9689793,"body_markdown":"Since you&#39;ve add MANIFEST.MF, I think you should consider the order of Field in this file. My env is  `java version &quot;1.8.0_91&quot;`\r\n\r\nand my MANIFEST.MF as here\r\n\r\n    // MANIFEST.MF\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.8.0_91 (Oracle Corporation)\r\n    Main-Class: HelloWorldSwing\r\n\r\n    // run\r\n    ~ java -jar HelloWorldSwing.jar\r\n    no main manifest attribute, in HelloWorldSwing.jar\r\n\r\nHowever, this as below run through\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: HelloWorldSwing\r\n    Created-By: 1.8.0_91 (Oracle Corporation)\r\n\r\n    //this run swing normally\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Since you've add MANIFEST.MF, I think you should consider the order of Field in this file. My env is  <code>java version \"1.8.0_91\"</code></p>\n\n<p>and my MANIFEST.MF as here</p>\n\n<pre><code>// MANIFEST.MF\nManifest-Version: 1.0\nCreated-By: 1.8.0_91 (Oracle Corporation)\nMain-Class: HelloWorldSwing\n\n// run\n~ java -jar HelloWorldSwing.jar\nno main manifest attribute, in HelloWorldSwing.jar\n</code></pre>\n\n<p>However, this as below run through</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: HelloWorldSwing\nCreated-By: 1.8.0_91 (Oracle Corporation)\n\n//this run swing normally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":515705,"reputation":3686,"user_id":3160967,"accept_rate":84,"display_name":"mwag"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1492809103,"creation_date":1492809103,"answer_id":43552081,"question_id":9689793,"body_markdown":"The above answers were only partly helpful for me. ```java -cp ``` was part of the answer, but I needed more specific info on how to identify the class to run. Here is what worked for me:\r\n\r\nStep 1: find the class I need to run\r\n\r\n    jar tf /path/to/myjar.jar | more\r\n\r\nThe top lines of the result were:\r\n\r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    somepath/\r\n    somepath/App.class\r\n    META-INF/maven/\r\n    ...\r\n\r\nApp.class contained the main class to run. I&#39;m not 100% sure if you can always assume the class you need is the first one, but it was for me. If it isn&#39;t, I&#39;d imagine it isn&#39;t too hard to use grep to exclude library-related results to pare the class list down to a manageable size.\r\n\r\nFrom there it was easy: I just use that path (minus the &quot;.class&quot; suffix):\r\n\r\n    java -cp /path/to/myjar.jar somepath/App\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>The above answers were only partly helpful for me. <code>java -cp</code> was part of the answer, but I needed more specific info on how to identify the class to run. Here is what worked for me:</p>\n\n<p>Step 1: find the class I need to run</p>\n\n<pre><code>jar tf /path/to/myjar.jar | more\n</code></pre>\n\n<p>The top lines of the result were:</p>\n\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\nsomepath/\nsomepath/App.class\nMETA-INF/maven/\n...\n</code></pre>\n\n<p>App.class contained the main class to run. I'm not 100% sure if you can always assume the class you need is the first one, but it was for me. If it isn't, I'd imagine it isn't too hard to use grep to exclude library-related results to pare the class list down to a manageable size.</p>\n\n<p>From there it was easy: I just use that path (minus the \".class\" suffix):</p>\n\n<pre><code>java -cp /path/to/myjar.jar somepath/App\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480922,"reputation":739,"user_id":894439,"accept_rate":48,"display_name":"MTA"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1492958798,"creation_date":1492958798,"answer_id":43572561,"question_id":9689793,"body_markdown":"I had the same issue today. My problem was solved my moving META-INF to the resources folder. ","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I had the same issue today. My problem was solved my moving META-INF to the resources folder. </p>\n"},{"tags":[],"owner":{"account_id":11138208,"reputation":61,"user_id":8175826,"display_name":"MichaelT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497901964,"creation_date":1497901964,"answer_id":44638825,"question_id":9689793,"body_markdown":"(first post - so it may not be clean)\r\n\r\nThis is my fix for OS X 11.6, Maven-based Netbeans 8.2 program. Up to now my app is 100% Netbeans - no tweaking (just a few shell escapes for the impossible!).\r\n\r\nHaving tried most all of the answers here and elsewhere to no avail, I returned to the art of &quot;use what works&quot;. \r\n\r\nThe top answer here ([olivier-refalo][1] thanx) looked like the right place to start but didn&#39;t help. \r\n\r\nLooking at other projects which did work, I noticed some minor differences in the manifest lines: \r\n\r\n 1. addClasspath, classpathPrefix were absent (deleted them)\r\n 2. mainClass was missing the &quot;com.&quot; (used the NB -&gt; Project\r\n    Properties-&gt;Run-&gt;Main Class-&gt;Browse to specify)\r\n\r\nNot sure why (I am only 3 months into java) or how, but can only say this worked. \r\n\r\nHere is just the modified manifest block used:\r\n\r\n        &lt;manifest&gt;\r\n            &lt;mainClass&gt;mypackage.MyClass&lt;/mainClass&gt;\r\n        &lt;/manifest&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/258689/olivier-refalo","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>(first post - so it may not be clean)</p>\n\n<p>This is my fix for OS X 11.6, Maven-based Netbeans 8.2 program. Up to now my app is 100% Netbeans - no tweaking (just a few shell escapes for the impossible!).</p>\n\n<p>Having tried most all of the answers here and elsewhere to no avail, I returned to the art of \"use what works\". </p>\n\n<p>The top answer here (<a href=\"https://stackoverflow.com/users/258689/olivier-refalo\">olivier-refalo</a> thanx) looked like the right place to start but didn't help. </p>\n\n<p>Looking at other projects which did work, I noticed some minor differences in the manifest lines: </p>\n\n<ol>\n<li>addClasspath, classpathPrefix were absent (deleted them)</li>\n<li>mainClass was missing the \"com.\" (used the NB -> Project\nProperties->Run->Main Class->Browse to specify)</li>\n</ol>\n\n<p>Not sure why (I am only 3 months into java) or how, but can only say this worked. </p>\n\n<p>Here is just the modified manifest block used:</p>\n\n<pre><code>    &lt;manifest&gt;\n        &lt;mainClass&gt;mypackage.MyClass&lt;/mainClass&gt;\n    &lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634357,"reputation":298,"user_id":5788341,"accept_rate":100,"display_name":"Binakot"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504262386,"creation_date":1504262386,"answer_id":45998429,"question_id":9689793,"body_markdown":"I got same error just now.\r\nIf u&#39;re using `gradle`, just add next one in ur `gradle.build`:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.company.project.MainClass&#39;\r\n        }\r\n    }\r\n\r\nWhere `com.company.project.MainClass` path to ur class with `public static void main(String[] args)` method.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I got same error just now.\nIf u're using <code>gradle</code>, just add next one in ur <code>gradle.build</code>:</p>\n\n<pre><code>apply plugin: 'java'\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.company.project.MainClass'\n    }\n}\n</code></pre>\n\n<p>Where <code>com.company.project.MainClass</code> path to ur class with <code>public static void main(String[] args)</code> method.</p>\n"},{"tags":[],"owner":{"account_id":5346693,"reputation":2655,"user_id":4262053,"accept_rate":78,"display_name":"Reihan_amn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506119846,"creation_date":1506119846,"answer_id":46374119,"question_id":9689793,"body_markdown":"Just to make one point clear about \r\n\r\n    Main-Class: &lt;packagename&gt;.&lt;classname&gt;\r\n \r\nIf you don&#39;t have package you have to ignore that part, like this:\r\n\r\n    Main-Class: &lt;classname&gt;","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Just to make one point clear about </p>\n\n<pre><code>Main-Class: &lt;packagename&gt;.&lt;classname&gt;\n</code></pre>\n\n<p>If you don't have package you have to ignore that part, like this:</p>\n\n<pre><code>Main-Class: &lt;classname&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1509129450,"creation_date":1509129450,"answer_id":46981464,"question_id":9689793,"body_markdown":"I personally think all the answers here are mis-understanding the question.  The answer to this lies in the difference of how spring-boot builds the .jar.  Everyone knows that Spring Boot sets up a manifest like this,  which varies from everyones **asssumption** that this is a standard .jar launch, which it may or may not be :\r\n\r\n    Start-Class: com.myco.eventlogging.MyService\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Spring-Boot-Version: 1.4.0.RELEASE\r\n    Created-By: Apache Maven 3.3.9\r\n    Build-Jdk: 1.8.0_131\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n\r\nPerhaps it needs to executed with `org.springframework.boot.loader.JarLauncher` on the classpath?","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I personally think all the answers here are mis-understanding the question.  The answer to this lies in the difference of how spring-boot builds the .jar.  Everyone knows that Spring Boot sets up a manifest like this,  which varies from everyones <strong>asssumption</strong> that this is a standard .jar launch, which it may or may not be :</p>\n\n<pre><code>Start-Class: com.myco.eventlogging.MyService\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nSpring-Boot-Version: 1.4.0.RELEASE\nCreated-By: Apache Maven 3.3.9\nBuild-Jdk: 1.8.0_131\nMain-Class: org.springframework.boot.loader.JarLauncher\n</code></pre>\n\n<p>Perhaps it needs to executed with <code>org.springframework.boot.loader.JarLauncher</code> on the classpath?</p>\n"},{"tags":[],"owner":{"account_id":8163234,"reputation":111,"user_id":6146535,"display_name":"Dave Beauchesne"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1515518970,"creation_date":1515518970,"answer_id":48173684,"question_id":9689793,"body_markdown":"**I found a new solution to bad manifest generation !**\r\n\r\n1. Open the jar file with a zip editor like WinRAR\r\n2. Click on for META-INF\r\n\r\n3. Add or edit\r\n\r\n    -  Add:\r\n     -   Create a text file called MANIFEST.MF in a folder called META-INF \r\n         and add the following line:    \r\n            * Manifest-Version: 1.0\r\n            * Main-Class: package.ex.com.views.mainClassName\r\n    \r\n     - Save the file and add it to the zip\r\n    \r\n    - Edit:\r\n        -  Drag the file out modify the MANIFEST.MF to add the previous line\r\n\r\n5. Open cmd and type: java -jar c:/path/JarName.jar\r\n\r\nIt should work fine now !","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p><strong>I found a new solution to bad manifest generation !</strong></p>\n\n<ol>\n<li>Open the jar file with a zip editor like WinRAR</li>\n<li><p>Click on for META-INF</p></li>\n<li><p>Add or edit</p>\n\n<ul>\n<li><p>Add:</p>\n\n<ul>\n<li><p>Create a text file called MANIFEST.MF in a folder called META-INF \nand add the following line:    </p>\n\n<ul>\n<li>Manifest-Version: 1.0</li>\n<li>Main-Class: package.ex.com.views.mainClassName</li>\n</ul></li>\n<li><p>Save the file and add it to the zip</p></li>\n</ul></li>\n<li><p>Edit:</p>\n\n<ul>\n<li>Drag the file out modify the MANIFEST.MF to add the previous line</li>\n</ul></li>\n</ul></li>\n<li><p>Open cmd and type: java -jar c:/path/JarName.jar</p></li>\n</ol>\n\n<p>It should work fine now !</p>\n"},{"tags":[],"owner":{"account_id":1849887,"reputation":1583,"user_id":1676634,"display_name":"Naga Srinu Kapusetti"},"down_vote_count":2,"up_vote_count":63,"is_accepted":false,"score":61,"last_activity_date":1689627090,"creation_date":1521797900,"answer_id":49446466,"question_id":9689793,"body_markdown":"I had the same issue and adding the following lines to the pom file made it works. The plugin will make sure that the build process of your application is made with all the necessary steps.\r\n```maven\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I had the same issue and adding the following lines to the pom file made it works. The plugin will make sure that the build process of your application is made with all the necessary steps.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7713775,"reputation":55,"user_id":5842250,"display_name":"Ritesh Tyagi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552626579,"creation_date":1552626579,"answer_id":55175904,"question_id":9689793,"body_markdown":"Found a great solution which would help in any such situation, given you just need a runnable jar, which you do in most cases.\r\nIf your application is running in Intellij Idea follow these steps:\r\n1) Go to module settings and then artifacts, and add a jar and define main class\r\n2) Then go to Build in the menu and click &quot;build artifact&quot; and you get the jar.\r\n\r\nThis worked even when I changed the source folder and used scala instead of java. \r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Found a great solution which would help in any such situation, given you just need a runnable jar, which you do in most cases.\nIf your application is running in Intellij Idea follow these steps:\n1) Go to module settings and then artifacts, and add a jar and define main class\n2) Then go to Build in the menu and click \"build artifact\" and you get the jar.</p>\n\n<p>This worked even when I changed the source folder and used scala instead of java. </p>\n"},{"tags":[],"owner":{"display_name":"user10356724"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1560882191,"creation_date":1560882191,"answer_id":56654953,"question_id":9689793,"body_markdown":"most of the solutions did not work for me but my instructor helped me out\r\ni would like to share his solution here\r\ni used kali linux terminal but should be fine in all debian\r\n\r\n    javac *.java\r\n    nano MANIFEST.MF\r\nin the file type\r\n\r\n&gt; Main-Class:  Main\r\nor whatever your main file name is (make sure to add package name if it exists)\r\n\r\n    jar -cvmf MANIFEST.MF new.jar *.class\r\nnow to run the file use\r\n\r\n    java -jar new.jar\r\nor you can go to propeties of file and check \r\n\r\n&gt; Allow Execution of file as program\r\n&gt; \r\n&gt; double click on it\r\n\r\nit helped me while most of the above answers did not","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>most of the solutions did not work for me but my instructor helped me out\ni would like to share his solution here\ni used kali linux terminal but should be fine in all debian</p>\n\n<pre><code>javac *.java\nnano MANIFEST.MF\n</code></pre>\n\n<p>in the file type</p>\n\n<blockquote>\n  <p>Main-Class:  Main\n  or whatever your main file name is (make sure to add package name if it exists)</p>\n</blockquote>\n\n<pre><code>jar -cvmf MANIFEST.MF new.jar *.class\n</code></pre>\n\n<p>now to run the file use</p>\n\n<pre><code>java -jar new.jar\n</code></pre>\n\n<p>or you can go to propeties of file and check </p>\n\n<blockquote>\n  <p>Allow Execution of file as program</p>\n  \n  <p>double click on it</p>\n</blockquote>\n\n<p>it helped me while most of the above answers did not</p>\n"},{"tags":[],"owner":{"account_id":5575512,"reputation":1045,"user_id":4419027,"accept_rate":43,"display_name":"Yury Finchenko"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1587321274,"creation_date":1567244513,"answer_id":57736873,"question_id":9689793,"body_markdown":"The MAVEN problem is that its try to include the first MANIFEST.MF file from first library from dependencies instead of THE OUR OWN MANIFEST.MF **WHEN YOU USE ARTIFACTS!**.\r\n\r\n1. Rename yourjar.jar to yourjar.zip\r\n2. Open MANIFEST.MF file from META-INF\\MANIFEST.MF\r\n3. Copy the real MANIFEST.MF that already generate in your project by MAVEN\r\nThat include somelike that:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: yourpacket.yourmainclass (for exmaple info.data.MainClass)\r\n\r\n4. Replace the content of MANIFEST.MF from youjar.zip with it.\r\n5. Rename yourjar.zip to yourjar.jar back.\r\n6. Now java -jar yourjar.jar work perfectly.\r\n\r\nOR!\r\n\r\nSimple create you own MANIFEST.MF and:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n\t\t    &lt;archive&gt;\r\n                &lt;manifestFile&gt; Your path like: src/main/resources/META-INF/MANIFEST.MF &lt;/manifestFile&gt;\r\n                &lt;index&gt;true&lt;/index&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                    &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBut if you use maven panel (or maven command line) you can force it to generate own manifest and include it into JAR file.\r\n\r\n1. Add to the you pom.xml&#39;s build section this code:\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n\t\t\t\r\n                &lt;archive&gt;\r\n\r\n                    &lt;index&gt;true&lt;/index&gt;\r\n\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;mainClass&gt; yourpacket.yourmainclass (for exmaple info.data.MainClass)&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                    &lt;manifestEntries&gt;\r\n                        &lt;mode&gt;development&lt;/mode&gt;\r\n                        &lt;url&gt;${project.url}&lt;/url&gt;\r\n                    &lt;/manifestEntries&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n2. Open the MAVEN panel (in Intellij) and execute &quot;Install&quot;. It will generate the MANIFEST file and compile property the JAR file with all dependencies into the &quot;Target&quot; folder. Also it will be installed to the local maven repository.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>The MAVEN problem is that its try to include the first MANIFEST.MF file from first library from dependencies instead of THE OUR OWN MANIFEST.MF <strong>WHEN YOU USE ARTIFACTS!</strong>.</p>\n\n<ol>\n<li>Rename yourjar.jar to yourjar.zip</li>\n<li>Open MANIFEST.MF file from META-INF\\MANIFEST.MF</li>\n<li><p>Copy the real MANIFEST.MF that already generate in your project by MAVEN\nThat include somelike that:</p>\n\n<p>Manifest-Version: 1.0\nMain-Class: yourpacket.yourmainclass (for exmaple info.data.MainClass)</p></li>\n<li><p>Replace the content of MANIFEST.MF from youjar.zip with it.</p></li>\n<li>Rename yourjar.zip to yourjar.jar back.</li>\n<li>Now java -jar yourjar.jar work perfectly.</li>\n</ol>\n\n<p>OR!</p>\n\n<p>Simple create you own MANIFEST.MF and:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifestFile&gt; Your path like: src/main/resources/META-INF/MANIFEST.MF &lt;/manifestFile&gt;\n            &lt;index&gt;true&lt;/index&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But if you use maven panel (or maven command line) you can force it to generate own manifest and include it into JAR file.</p>\n\n<ol>\n<li><p>Add to the you pom.xml's build section this code:</p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n\n        &lt;archive&gt;\n\n            &lt;index&gt;true&lt;/index&gt;\n\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt; yourpacket.yourmainclass (for exmaple info.data.MainClass)&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n                &lt;mode&gt;development&lt;/mode&gt;\n                &lt;url&gt;${project.url}&lt;/url&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p></p></li>\n<li><p>Open the MAVEN panel (in Intellij) and execute \"Install\". It will generate the MANIFEST file and compile property the JAR file with all dependencies into the \"Target\" folder. Also it will be installed to the local maven repository.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685984947,"creation_date":1574831924,"answer_id":59063458,"question_id":9689793,"body_markdown":"I was getting the same error when executing *mvn package*. This is how I solved the problem.\r\n\r\nI was using the maven-multi-module. I was facing this issue because I added below part in parent pom by mistake.\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThen replacing this to submodules pom.xml from parent pom solved my problem.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I was getting the same error when executing <em>mvn package</em>. This is how I solved the problem.</p>\n<p>I was using the maven-multi-module. I was facing this issue because I added below part in parent pom by mistake.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then replacing this to submodules pom.xml from parent pom solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":13167435,"reputation":445,"user_id":9511049,"display_name":"Darshil Shah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580794010,"creation_date":1580794010,"answer_id":60051113,"question_id":9689793,"body_markdown":" I tried this and it worked for me.\r\n mvn clean install package should work.\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I tried this and it worked for me.\n mvn clean install package should work.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18205425,"reputation":490,"user_id":13248902,"display_name":"Lumito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594074100,"creation_date":1594074100,"answer_id":62765362,"question_id":9689793,"body_markdown":"Create the folder `META-INF` and the file `MANIFEST.MF` in that folder with this content:\r\n```\r\nManifest-Version: 1.0\r\nClass-Path: .\r\nMain-Class: [YOUR_MAIN_CLASS]\r\n```\r\nThen compile including that manifest file.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Create the folder <code>META-INF</code> and the file <code>MANIFEST.MF</code> in that folder with this content:</p>\n<pre><code>Manifest-Version: 1.0\nClass-Path: .\nMain-Class: [YOUR_MAIN_CLASS]\n</code></pre>\n<p>Then compile including that manifest file.</p>\n"},{"tags":[],"owner":{"account_id":1074562,"reputation":2593,"user_id":1072991,"accept_rate":62,"display_name":"MobileEvangelist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595422468,"creation_date":1595422468,"answer_id":63034714,"question_id":9689793,"body_markdown":"Simply add this to your java module&#39;s build.gradle. It&#39;ll create executable jar.\r\nIt will include dependent libraries in archive.\r\n\r\n    jar {\r\n      manifest { \r\n        attributes &quot;Main-Class&quot;: &quot;com.company.application.Main&quot;\r\n      }  \r\n    \r\n      from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n      }\r\n    }\r\n\r\nThis will result in [module_name]/build/libs/[module_name].jar file.\r\nI tested this with shell.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>Simply add this to your java module's build.gradle. It'll create executable jar.\nIt will include dependent libraries in archive.</p>\n<pre><code>jar {\n  manifest { \n    attributes &quot;Main-Class&quot;: &quot;com.company.application.Main&quot;\n  }  \n\n  from {\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n  }\n}\n</code></pre>\n<p>This will result in [module_name]/build/libs/[module_name].jar file.\nI tested this with shell.</p>\n"},{"tags":[],"owner":{"account_id":14298688,"reputation":139,"user_id":10328554,"display_name":"Lonely Solitary"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614324854,"creation_date":1614324511,"answer_id":66381736,"question_id":9689793,"body_markdown":"For my case the problem is `&lt;pluginManagement&gt;` under `&lt;build&gt;` makes things cannot work properly.\r\n\r\nMy original pom.xml:\r\n\r\n    &lt;build&gt;\r\n      &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            ...\r\n            ...\r\n            ...\r\n      &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter removing `&lt;pluginManagement&gt;`, the error is gone.\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>For my case the problem is <code>&lt;pluginManagement&gt;</code> under <code>&lt;build&gt;</code> makes things cannot work properly.</p>\n<p>My original pom.xml:</p>\n<pre><code>&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        ...\n        ...\n        ...\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After removing <code>&lt;pluginManagement&gt;</code>, the error is gone.</p>\n"},{"tags":[],"owner":{"display_name":"user13769010"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615201391,"creation_date":1615201391,"answer_id":66528615,"question_id":9689793,"body_markdown":"If your on maven and your `pom.xml` is something like this\r\n``` xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;demo&lt;/name&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- dependencies --&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n```\r\njust comment the `pluginManagement` that will result you in the following `pom.xml`\r\n``` xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;demo&lt;/name&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- dependencies --&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n```","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>If your on maven and your <code>pom.xml</code> is something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n      &lt;/parent&gt;\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;name&gt;demo&lt;/name&gt;\n      &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n      &lt;/properties&gt;\n      &lt;dependencies&gt;\n        &lt;!-- dependencies --&gt;\n      &lt;/dependencies&gt;\n      &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>just comment the <code>pluginManagement</code> that will result you in the following <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n      &lt;/parent&gt;\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;name&gt;demo&lt;/name&gt;\n      &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n      &lt;/properties&gt;\n      &lt;dependencies&gt;\n        &lt;!-- dependencies --&gt;\n      &lt;/dependencies&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190620,"reputation":168,"user_id":4153681,"accept_rate":100,"display_name":"Ueffes"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1620813058,"creation_date":1620813058,"answer_id":67501241,"question_id":9689793,"body_markdown":"In my case - I work on a multi-module project - I could introduced the issue in the following way:\r\n\r\nI added this into the parent pom.xml, which caused the issue. Namely, the `skip` with value `true`:\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!--\r\n                besides hindering the packaging, this also skips running the app after build when calling spring-boot:run. You have to enable it in the\r\n                corresponding module by setting skip to false, there.\r\n                --&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nI fixed the issue by adding the same configuration to the modules that i wanted to be packaged as a jar, but changed the value of `skip` to `false`:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\r\n        &lt;layout&gt;ZIP&lt;/layout&gt;\r\n        &lt;skip&gt;false&lt;/skip&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;build-info&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;build-info&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>In my case - I work on a multi-module project - I could introduced the issue in the following way:</p>\n<p>I added this into the parent pom.xml, which caused the issue. Namely, the <code>skip</code> with value <code>true</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;!--\n                besides hindering the packaging, this also skips running the app after build when calling spring-boot:run. You have to enable it in the\n                corresponding module by setting skip to false, there.\n                --&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I fixed the issue by adding the same configuration to the modules that i wanted to be packaged as a jar, but changed the value of <code>skip</code> to <code>false</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\n        &lt;layout&gt;ZIP&lt;/layout&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build-info&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;build-info&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927921,"creation_date":1679927921,"answer_id":75857074,"question_id":9689793,"body_markdown":"If you are using IntelliJ, then JEtBrains has detailed the steps to fix this over here\r\n\r\nhttps://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\r\n\r\n&gt; Create an executable JAR You can conclude the following optional steps\r\n&gt; to create an executable JAR.\r\n&gt; \r\n&gt; Click the Build Project icon to build project. IntelliJ IDEA generates\r\n&gt; target folder. **Note that IntelliJ IDEA only compiles sources and\r\n&gt; doesn&#39;t create either JAR file or Manifest file.**\r\n&gt; \r\n&gt; Create a Manifest file in the resources directory.\r\n&gt; \r\n&gt; Right-click the directory, select New | Directory to create the\r\n&gt; META-INF subdirectory. Then right-click the subdirectory, select New |\r\n&gt; File to create the MANIFEST.MF file.\r\n&gt; \r\n&gt; the Manifest file Open the MANIFEST.MF file in the editor and add\r\n&gt; information about your main class.\r\n&gt; \r\n&gt; Check the following code:\r\n&gt; \r\n&gt; Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\r\n&gt; this line of code into the MANIFEST.MF file with the following code in\r\n&gt; pom.xml:\r\n&gt; \r\n&gt; &lt;plugin&gt;\r\n&gt;     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n&gt;     &lt;configuration&gt;\r\n&gt;         &lt;archive&gt;\r\n&gt;             &lt;manifest&gt;\r\n&gt;                 &lt;mainClass&gt;\r\n&gt;                     com.company.MyApp\r\n&gt;                 &lt;/mainClass&gt;\r\n&gt;             &lt;/manifest&gt;\r\n&gt;         &lt;/archive&gt;\r\n&gt;     &lt;/configuration&gt; &lt;/plugin&gt; In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\r\n&gt; \r\n&gt; POM with manifest\r\n\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>If you are using IntelliJ, then JEtBrains has detailed the steps to fix this over here</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven</a></p>\n<blockquote>\n<p>Create an executable JAR You can conclude the following optional steps\nto create an executable JAR.</p>\n<p>Click the Build Project icon to build project. IntelliJ IDEA generates\ntarget folder. <strong>Note that IntelliJ IDEA only compiles sources and\ndoesn't create either JAR file or Manifest file.</strong></p>\n<p>Create a Manifest file in the resources directory.</p>\n<p>Right-click the directory, select New | Directory to create the\nMETA-INF subdirectory. Then right-click the subdirectory, select New |\nFile to create the MANIFEST.MF file.</p>\n<p>the Manifest file Open the MANIFEST.MF file in the editor and add\ninformation about your main class.</p>\n<p>Check the following code:</p>\n<p>Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\nthis line of code into the MANIFEST.MF file with the following code in\npom.xml:</p>\n\n    org.apache.maven.plugins\n    maven-jar-plugin\n    \n        \n            \n                \n                    com.company.MyApp\n                \n            \n        \n      In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\n<p>POM with manifest</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":888512,"reputation":11074,"user_id":927333,"display_name":"ingconti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686175176,"creation_date":1681216769,"answer_id":75986004,"question_id":9689793,"body_markdown":"I have similar questions from my students, but I have added this answer as is a *bit* different, it covers another HOT topic: How to build a JAR form IntelliJ JavaFX project since IntelliJ in 2023 allows to build a fast JavaFX project.\r\n\r\nSome ideas:\r\n- Use maven\r\n- Start form IntelliJ \r\n- Use maven power to make a `jar` with shaved plugs in\r\n- Use `cmd` liken or double-click \r\n\r\nWithout filling all at the page with HTML / code, I can make a little project with detailed PDF, step by step.\r\n\r\n(From IntelliJ JavaFX demo to JAR .pdf)\r\nhttps://github.com/ingconti/JavaFXMinimalClickableDemo\r\n\r\nHope it helps.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I have similar questions from my students, but I have added this answer as is a <em>bit</em> different, it covers another HOT topic: How to build a JAR form IntelliJ JavaFX project since IntelliJ in 2023 allows to build a fast JavaFX project.</p>\n<p>Some ideas:</p>\n<ul>\n<li>Use maven</li>\n<li>Start form IntelliJ</li>\n<li>Use maven power to make a <code>jar</code> with shaved plugs in</li>\n<li>Use <code>cmd</code> liken or double-click</li>\n</ul>\n<p>Without filling all at the page with HTML / code, I can make a little project with detailed PDF, step by step.</p>\n<p>(From IntelliJ JavaFX demo to JAR .pdf)\n<a href=\"https://github.com/ingconti/JavaFXMinimalClickableDemo\" rel=\"nofollow noreferrer\">https://github.com/ingconti/JavaFXMinimalClickableDemo</a></p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683051075,"creation_date":1683049728,"answer_id":76157571,"question_id":9689793,"body_markdown":"First I created an artifact using this instruction: https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar\r\n\r\nThen when this error occurred this short video helped me: https://www.youtube.com/watch?v=AeN1yLSjfLU\r\nIn short, the essence of the answer is as follows. Even though we have a file MANIFEST.MF lying (for example) on the way to src/main/java/com.example.demo.META-INF/MANIFEST.MF in which there is a string indicating the path to the Main class: \r\n\r\n    Main-Class: com.example.demo.DemoApplication\r\n\r\nWhen we building an artifact, there is a file MANIFEST.MF in the interior. For some reason he does not have inside himself this string. To remove this error, we need to manually get this MANIFEST.MF from the artifact/archive and add this path from the original MANIFEST.MF to it.","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>First I created an artifact using this instruction: <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#package_into_jar</a></p>\n<p>Then when this error occurred this short video helped me: <a href=\"https://www.youtube.com/watch?v=AeN1yLSjfLU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=AeN1yLSjfLU</a>\nIn short, the essence of the answer is as follows. Even though we have a file MANIFEST.MF lying (for example) on the way to src/main/java/com.example.demo.META-INF/MANIFEST.MF in which there is a string indicating the path to the Main class:</p>\n<pre><code>Main-Class: com.example.demo.DemoApplication\n</code></pre>\n<p>When we building an artifact, there is a file MANIFEST.MF in the interior. For some reason he does not have inside himself this string. To remove this error, we need to manually get this MANIFEST.MF from the artifact/archive and add this path from the original MANIFEST.MF to it.</p>\n"}],"owner":{"account_id":872984,"reputation":13945,"user_id":923421,"accept_rate":75,"display_name":"Ewoud"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1374,"answer_count":45,"score":1374,"last_activity_date":1689686695,"creation_date":1331662840,"question_id":9689793,"body_markdown":"I have installed an application and when I try to run it (it&#39;s an executable jar) nothing happens. When I run it from the command line with: \r\n&gt;java -jar &quot;app.jar&quot;\r\n\r\nI get the following message:\r\n&gt;no main manifest attribute, in &quot;app.jar&quot;\r\n\r\nNormally, if I had created the program myself, I would have added a main class attribute to the manifest file. But in this case, since the file is from an application, I cannot do that. I also tried extracting the jar to see if I could find the main class, but there are too many classes and none of them has the word &quot;main&quot; in it&#39;s name. There must be a way to fix this because the program runs fine on other systems.\r\n","title":"Can&#39;t execute jar- file: &quot;no main manifest attribute&quot;","body":"<p>I have installed an application and when I try to run it (it's an executable jar) nothing happens. When I run it from the command line with:</p>\n<blockquote>\n<p>java -jar &quot;app.jar&quot;</p>\n</blockquote>\n<p>I get the following message:</p>\n<blockquote>\n<p>no main manifest attribute, in &quot;app.jar&quot;</p>\n</blockquote>\n<p>Normally, if I had created the program myself, I would have added a main class attribute to the manifest file. But in this case, since the file is from an application, I cannot do that. I also tried extracting the jar to see if I could find the main class, but there are too many classes and none of them has the word &quot;main&quot; in it's name. There must be a way to fix this because the program runs fine on other systems.</p>\n"},{"tags":["java","spring","multithreading","hibernate","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1536126777,"post_id":52177887,"comment_id":91305904,"body_markdown":"Don&#39;t use threads. Transactions are thread bound and you have multiple transactions. You cannot rollback a committed transaction. The only &quot;solution&quot; would be to manually undo the work (deleting records, restoring old state etc.).","body":"Don&#39;t use threads. Transactions are thread bound and you have multiple transactions. You cannot rollback a committed transaction. The only &quot;solution&quot; would be to manually undo the work (deleting records, restoring old state etc.)."},{"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"score":0,"creation_date":1668203505,"post_id":52177887,"comment_id":131356931,"body_markdown":"Answered here: https://stackoverflow.com/a/30091149/3971900","body":"Answered here: <a href=\"https://stackoverflow.com/a/30091149/3971900\">stackoverflow.com/a/30091149/3971900</a>"}],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1689686653,"creation_date":1536126779,"answer_id":52177959,"question_id":52177887,"body_markdown":"From **Professional Java for Web Applications** by Nicholas S. Williams\r\n\r\n \r\nThe transaction scope in Spring is limited to the thread the transaction begins in. The transaction manager then links the transaction to managed resources used in the same thread during the life of the transaction. When using the Java Persistence API, the resource you work with is the `EntityManager`. It is the functional equivalent of Hibernate ORM’s Session and JDBC’s Connection. Normally, you would obtain an `EntityManager` from the `EntityManagerFactory` before beginning a transaction and performing JPA actions. However, this does not work with the Spring Framework model of managing transactions on your behalf. The solution to this problem is the `org.springframework.orm.jpa.support.SharedEntityManagerBean`. When you configure JPA in Spring Framework, it creates a `SharedEntityManagerBean` that proxies the `EntityManager` interface. This proxy is then injected into your JPA repositories. When an `EntityManager` method is invoked on this proxy instance, the following happens in the background:\r\n\r\n➤➤ If the current thread already has a real `EntityManager` with an active transaction, it delegates the call to the method on that `EntityManager`.\r\n\r\n➤➤ Otherwise, Spring Framework obtains a new `EntityManager` from the `EntityManagerFactory`, starts a transaction, and binds both to the current thread. It then delegates the call to the method on that `EntityManager`. When the transaction is either committed or rolled back, Spring unbinds the transaction and the  `EntityManager` from the thread and then closes the `EntityManager`. Future `@Transactional` actions on the same thread (even within the same request) start the process over again, obtaining a new `EntityManager` from the factory and beginning a new transaction. This way, no two threads use an `EntityManager` at the same time, and a given thread has only one transaction and one `EntityManager` active at any given time.\r\n\r\nIf you were ***not*** to use Spring MVC then you would have gotten the session using `SessionFactory` in Hibernate. Hibernate Sessions represent the life of a transaction from start to finish. Depending on how your application is architected, that might be less than a second or several minutes; and in a web application, it could be one of several transactions in a request, a transaction lasting an entire request, or a transaction spanning multiple requests. A `Session`, which is not thread-safe and must be used only in one thread at a time, is responsible for managing the state of entities.","title":"Multi-threading Spring Transaction","body":"<p>From <strong>Professional Java for Web Applications</strong> by Nicholas S. Williams</p>\n<p>The transaction scope in Spring is limited to the thread the transaction begins in. The transaction manager then links the transaction to managed resources used in the same thread during the life of the transaction. When using the Java Persistence API, the resource you work with is the <code>EntityManager</code>. It is the functional equivalent of Hibernate ORM’s Session and JDBC’s Connection. Normally, you would obtain an <code>EntityManager</code> from the <code>EntityManagerFactory</code> before beginning a transaction and performing JPA actions. However, this does not work with the Spring Framework model of managing transactions on your behalf. The solution to this problem is the <code>org.springframework.orm.jpa.support.SharedEntityManagerBean</code>. When you configure JPA in Spring Framework, it creates a <code>SharedEntityManagerBean</code> that proxies the <code>EntityManager</code> interface. This proxy is then injected into your JPA repositories. When an <code>EntityManager</code> method is invoked on this proxy instance, the following happens in the background:</p>\n<p>➤➤ If the current thread already has a real <code>EntityManager</code> with an active transaction, it delegates the call to the method on that <code>EntityManager</code>.</p>\n<p>➤➤ Otherwise, Spring Framework obtains a new <code>EntityManager</code> from the <code>EntityManagerFactory</code>, starts a transaction, and binds both to the current thread. It then delegates the call to the method on that <code>EntityManager</code>. When the transaction is either committed or rolled back, Spring unbinds the transaction and the  <code>EntityManager</code> from the thread and then closes the <code>EntityManager</code>. Future <code>@Transactional</code> actions on the same thread (even within the same request) start the process over again, obtaining a new <code>EntityManager</code> from the factory and beginning a new transaction. This way, no two threads use an <code>EntityManager</code> at the same time, and a given thread has only one transaction and one <code>EntityManager</code> active at any given time.</p>\n<p>If you were <em><strong>not</strong></em> to use Spring MVC then you would have gotten the session using <code>SessionFactory</code> in Hibernate. Hibernate Sessions represent the life of a transaction from start to finish. Depending on how your application is architected, that might be less than a second or several minutes; and in a web application, it could be one of several transactions in a request, a transaction lasting an entire request, or a transaction spanning multiple requests. A <code>Session</code>, which is not thread-safe and must be used only in one thread at a time, is responsible for managing the state of entities.</p>\n"},{"tags":[],"owner":{"account_id":3409124,"reputation":375,"user_id":2859527,"display_name":"Mr Chow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585949433,"creation_date":1585949433,"answer_id":61020694,"question_id":52177887,"body_markdown":"This post https://dzone.com/articles/spring-transaction-management-over-multiple-thread-1 appears to cover the issue quite well and mentions a project that is doing something similar. ","title":"Multi-threading Spring Transaction","body":"<p>This post <a href=\"https://dzone.com/articles/spring-transaction-management-over-multiple-thread-1\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spring-transaction-management-over-multiple-thread-1</a> appears to cover the issue quite well and mentions a project that is doing something similar. </p>\n"}],"owner":{"account_id":9879959,"reputation":421,"user_id":7316385,"accept_rate":50,"display_name":"Can Cinar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10443,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":52177959,"answer_count":2,"score":15,"last_activity_date":1689686653,"creation_date":1536126436,"question_id":52177887,"body_markdown":"Assume that we go inside a method and start a transaction in main thread. In this method, there are some async methods so we created 2 more threads inside this method;\r\n\r\n                     Thread 1 --&gt; SubMethod1 --&gt; Saving (t=1)\r\n                       ^\r\n                       |\r\n    MainThread --&gt; MainMethod --&gt; Saving (t=3)\r\n                       |\r\n                       v   \r\n                     Thread 2 --&gt; SubMethod2 --&gt; Exception while saving (t=2).\r\n\r\nSince thread 2 gets an exception, I want to rollback all transactions done by other threads. However, although transactions owned by main thread an Thread 2 can be roll-backed, I cannot roll-back thread 1 work.\r\nI am using Spring/Hibernate, so do you have any idea to manage this and how to apply?\r\n\r\nThanks","title":"Multi-threading Spring Transaction","body":"<p>Assume that we go inside a method and start a transaction in main thread. In this method, there are some async methods so we created 2 more threads inside this method;</p>\n\n<pre><code>                 Thread 1 --&gt; SubMethod1 --&gt; Saving (t=1)\n                   ^\n                   |\nMainThread --&gt; MainMethod --&gt; Saving (t=3)\n                   |\n                   v   \n                 Thread 2 --&gt; SubMethod2 --&gt; Exception while saving (t=2).\n</code></pre>\n\n<p>Since thread 2 gets an exception, I want to rollback all transactions done by other threads. However, although transactions owned by main thread an Thread 2 can be roll-backed, I cannot roll-back thread 1 work.\nI am using Spring/Hibernate, so do you have any idea to manage this and how to apply?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1689678497,"post_id":76712136,"comment_id":135244689,"body_markdown":"Without any code what so ever it&#39;s rather hard trying to help you. Take a look at [ask]","body":"Without any code what so ever it&#39;s rather hard trying to help you. Take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689686485,"post_id":76712136,"comment_id":135246548,"body_markdown":"&quot;Questions seeking debugging help (&#39;**why isn&#39;t this code working?**&#39;) must include the desired behavior, a *specific problem or error* and *the shortest code necessary* to reproduce it **in the question itself**. Questions without **a clear problem statement** are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)&quot;","body":"&quot;Questions seeking debugging help (&#39;<b>why isn&#39;t this code working?</b>&#39;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example.</a>&quot;"},{"owner":{"account_id":20602794,"reputation":19,"user_id":15123736,"display_name":"ARCOON"},"score":0,"creation_date":1689792494,"post_id":76712136,"comment_id":135265286,"body_markdown":"i mean, if a user sends a message and the app is in background or in the conversation, it should send a notification","body":"i mean, if a user sends a message and the app is in background or in the conversation, it should send a notification"}],"owner":{"account_id":20602794,"reputation":19,"user_id":15123736,"display_name":"ARCOON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689686471,"creation_date":1689678297,"question_id":76712136,"body_markdown":"i have tried to make a notification when a user send a new message and is not in the chat. The app should only send notifications if the user is not in the current chat. I watched some YouTube tutorials but non of them worked for me.\r\n\r\nMy chat has following structure if its relevant:\r\n```\r\n/users/\r\n    - $userId/\r\n        + deviceId\r\n        + username\r\n        + email\r\n        + uid\r\n        + joined\r\n        - conversations/\r\n            - $userId/\r\n                + conversationId\r\n\r\n/conversations/\r\n    - $conversationId/\r\n        - members/\r\n            + userId1\r\n            + userId2\r\n        - messages/\r\n            - $messageId/\r\n                + messageId\r\n                + content\r\n                + timestamp\r\n                + type\r\n```\r\nMy source code is on github\r\nhttps://github.com/ARCOOON/UpChat","title":"Notification when a new message is sent","body":"<p>i have tried to make a notification when a user send a new message and is not in the chat. The app should only send notifications if the user is not in the current chat. I watched some YouTube tutorials but non of them worked for me.</p>\n<p>My chat has following structure if its relevant:</p>\n<pre><code>/users/\n    - $userId/\n        + deviceId\n        + username\n        + email\n        + uid\n        + joined\n        - conversations/\n            - $userId/\n                + conversationId\n\n/conversations/\n    - $conversationId/\n        - members/\n            + userId1\n            + userId2\n        - messages/\n            - $messageId/\n                + messageId\n                + content\n                + timestamp\n                + type\n</code></pre>\n<p>My source code is on github\n<a href=\"https://github.com/ARCOOON/UpChat\" rel=\"nofollow noreferrer\">https://github.com/ARCOOON/UpChat</a></p>\n"},{"tags":["java","selenium-webdriver","automation"],"answers":[{"tags":[],"owner":{"account_id":29041274,"reputation":1,"user_id":22246086,"display_name":"Marvellous217"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689680627,"creation_date":1689680627,"answer_id":76712424,"question_id":76712395,"body_markdown":"String result =\r\n driver.findElement(By.id(&quot;s-result-count&quot;)).getText().split(&quot; &quot;)[2]; System.out.println(result);","title":"How can I count the number of search result using java Selenium?","body":"<p>String result =\ndriver.findElement(By.id(&quot;s-result-count&quot;)).getText().split(&quot; &quot;)[2]; System.out.println(result);</p>\n"},{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689686352,"creation_date":1689686352,"answer_id":76713208,"question_id":76712395,"body_markdown":"If you want to count amount of search results, you can get elements array, filter by visibility and count their size.\r\n\r\nLike\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    By searchResultLocator = new By.ByCssSelector(&quot;a h3&quot;);\r\n    List&lt;WebElement&gt; elements = driver.findElements(searchResultLocator);\r\n    int searchResult = (int) elements.stream().filter(WebElement::isDisplayed).count();\r\n    driver.findElement(new By.ByCssSelector(&quot;[role=navigation] #pnnext&quot;)).click();\r\n    int secondSearchResults = (int) driver.findElements(searchResultLocator).stream().filter(WebElement::isDisplayed).count();\r\n    Assert.assertEquals(searchResult, secondSearchResults);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I count the number of search result using java Selenium?","body":"<p>If you want to count amount of search results, you can get elements array, filter by visibility and count their size.</p>\n<p>Like</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>By searchResultLocator = new By.ByCssSelector(\"a h3\");\nList&lt;WebElement&gt; elements = driver.findElements(searchResultLocator);\nint searchResult = (int) elements.stream().filter(WebElement::isDisplayed).count();\ndriver.findElement(new By.ByCssSelector(\"[role=navigation] #pnnext\")).click();\nint secondSearchResults = (int) driver.findElements(searchResultLocator).stream().filter(WebElement::isDisplayed).count();\nAssert.assertEquals(searchResult, secondSearchResults);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":28670799,"reputation":1,"user_id":21953894,"display_name":"nasrallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689686352,"creation_date":1689680430,"question_id":76712395,"body_markdown":"I&#39;m using selenium java  \r\nand want to count the result for google search in java \r\nfor example i searched for selenium i want to count all these result (not tagname =a )\r\nfrom the first page then move to page 2 and also count results and assert that they are equal \r\n\r\n[enter image description here](https://i.stack.imgur.com/MiBva.png)\r\n\r\n\r\nexpect code for my scenario ","title":"How can I count the number of search result using java Selenium?","body":"<p>I'm using selenium java<br />\nand want to count the result for google search in java\nfor example i searched for selenium i want to count all these result (not tagname =a )\nfrom the first page then move to page 2 and also count results and assert that they are equal</p>\n<p><a href=\"https://i.stack.imgur.com/MiBva.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>expect code for my scenario</p>\n"},{"tags":["java","android","httpurlconnection","android-videoview"],"comments":[{"owner":{"account_id":3364632,"reputation":191,"user_id":2825576,"display_name":"aldajo92"},"score":0,"creation_date":1689599767,"post_id":76700864,"comment_id":135232093,"body_markdown":"In Android, The VideoView class doesn&#39;t support sending POST requests to download video. Maybe a good solution could be change the strategy, replacing VideoView by ExoPlayer.","body":"In Android, The VideoView class doesn&#39;t support sending POST requests to download video. Maybe a good solution could be change the strategy, replacing VideoView by ExoPlayer."},{"owner":{"account_id":17654184,"reputation":29,"user_id":12814113,"display_name":"Ghost Ghaith"},"score":0,"creation_date":1689689594,"post_id":76700864,"comment_id":135247319,"body_markdown":"@aldajo92 Thanks for your comment, I already used **ExoPlayer** but I still can&#39;t do it, if you can help me with ExoPlayer I will be very thankful to you because I don&#39;t know how to change the method To **POST**","body":"@aldajo92 Thanks for your comment, I already used <b>ExoPlayer</b> but I still can&#39;t do it, if you can help me with ExoPlayer I will be very thankful to you because I don&#39;t know how to change the method To <b>POST</b>"}],"owner":{"account_id":17654184,"reputation":29,"user_id":12814113,"display_name":"Ghost Ghaith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689686321,"creation_date":1689552384,"question_id":76700864,"body_markdown":"Hello Please i want Help, i have server only accept POST requests to Download Video, So how i can make VideoView send **POST** requests to Download Buffer Video From my Host\r\n\r\ni tryed to change headers,I found that the method cannot be changed through the header\r\n```\r\nMap headers = new HashMap();\r\nheaders.put(&quot;Cookie&quot;,&quot;CloudFront-Policy=xx; Domain=xx; Path=xx&quot;);\r\nheaders.put(&quot;User-Agent&quot;,&quot;My Agent&quot;);\r\nString u =&quot;http://192.168.0.173/1.mp4&quot;;\r\nVideoView videoplayer = findViewById(R.id.videoplayer);\r\nUri uri = Uri.parse(u);\r\nvideoplayer.setVideoURI(uri,headers);\r\nvideoplayer.start()\r\n```\r\nWhen the application starts to run it is sent to download the video using **GET** Requests\r\nHow i can Change Video Requests When Download Buffer To **POST**\r\n\r\nmy Logs Server\r\n&quot;GET /1.mp4 HTTP/1.1&quot; 200 1101928 &quot;-&quot; &quot;MY Agent&quot;\r\n\r\ni want to Change To\r\n&quot;POST /1.mp4 HTTP/1.1&quot; 200 1101928 &quot;-&quot; &quot;MY Agent&quot;","title":"How to Change VideoView Requests from GET to POST method","body":"<p>Hello Please i want Help, i have server only accept POST requests to Download Video, So how i can make VideoView send <strong>POST</strong> requests to Download Buffer Video From my Host</p>\n<p>i tryed to change headers,I found that the method cannot be changed through the header</p>\n<pre><code>Map headers = new HashMap();\nheaders.put(&quot;Cookie&quot;,&quot;CloudFront-Policy=xx; Domain=xx; Path=xx&quot;);\nheaders.put(&quot;User-Agent&quot;,&quot;My Agent&quot;);\nString u =&quot;http://192.168.0.173/1.mp4&quot;;\nVideoView videoplayer = findViewById(R.id.videoplayer);\nUri uri = Uri.parse(u);\nvideoplayer.setVideoURI(uri,headers);\nvideoplayer.start()\n</code></pre>\n<p>When the application starts to run it is sent to download the video using <strong>GET</strong> Requests\nHow i can Change Video Requests When Download Buffer To <strong>POST</strong></p>\n<p>my Logs Server\n&quot;GET /1.mp4 HTTP/1.1&quot; 200 1101928 &quot;-&quot; &quot;MY Agent&quot;</p>\n<p>i want to Change To\n&quot;POST /1.mp4 HTTP/1.1&quot; 200 1101928 &quot;-&quot; &quot;MY Agent&quot;</p>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1689691883,"post_id":76713136,"comment_id":135247959,"body_markdown":"You basically want to encode the same information you have in your static factory method in jackson annotations (if that is even possible). I don&#39;t think that this will be as concise as you got it currently. I would recommend sticking with your current solution.","body":"You basically want to encode the same information you have in your static factory method in jackson annotations (if that is even possible). I don&#39;t think that this will be as concise as you got it currently. I would recommend sticking with your current solution."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1689720708,"post_id":76713136,"comment_id":135252831,"body_markdown":"It looks like one class with `Optional` properties not like 3 different types. I would create one type with all possible properties and used it to deserialise `XML` payload. Later you can decide which object to create based on the fields. There is no point to hide business logic inside deserialisation process. It would be hard to maintain in case number of properties increases or changes.","body":"It looks like one class with <code>Optional</code> properties not like 3 different types. I would create one type with all possible properties and used it to deserialise <code>XML</code> payload. Later you can decide which object to create based on the fields. There is no point to hide business logic inside deserialisation process. It would be hard to maintain in case number of properties increases or changes."},{"owner":{"account_id":29041645,"reputation":11,"user_id":22246387,"display_name":"polo"},"score":0,"creation_date":1689779233,"post_id":76713136,"comment_id":135262437,"body_markdown":"@MichałZiober It is not optional properties because having all of them non null (or a lot of other combinations) is an illegal state. Deciding what object it should be deserialized into is not business logic, it is data modeling, which should be hidden from the business logic and with the introduction of sealed interfaces + record pattern matching it is true now more than ever","body":"@MichałZiober It is not optional properties because having all of them non null (or a lot of other combinations) is an illegal state. Deciding what object it should be deserialized into is not business logic, it is data modeling, which should be hidden from the business logic and with the introduction of sealed interfaces + record pattern matching it is true now more than ever"}],"owner":{"account_id":29041645,"reputation":11,"user_id":22246387,"display_name":"polo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689685868,"creation_date":1689685834,"question_id":76713136,"body_markdown":"I am using objectMapper to deserialize xml to my object.\r\n\r\nMy xml has a section that has several possible fields, so I modeled my object using a sealed interface:\r\n\r\n```java\r\npublic record Root(String id, Child child) {\r\n    public sealed interface Child permits ChildA, ChildB, ChildC {\r\n        String name();\r\n\r\n        public record ChildA(String name, int a) implements Child {}\r\n        public record ChildB(String name, int a, int b) implements Child {}\r\n        public record ChildC(String name, int c) implements Child {}\r\n    }\r\n}\r\n```\r\n\r\nI want the objectMapper to automatically try to resolve the implementation\r\n\r\nCurrently I solved the issue by using JsonCreator to manually resolve the implementation:\r\n\r\n```java\r\n@JsonCreaor\r\nstatic Root.Child creator(@JsonPopety(&quot;name&quot;) string name, \r\n                          @JsonPopety(&quot;a&quot;) Integer a, \r\n                          @JsonPopety(&quot;b&quot;) Integer b, \r\n                          @JsonPopety(&quot;c&quot;) Integer c) {\r\n    if (a == null &amp;&amp; b == null &amp;&amp; c != null) return new Root.ChildC(name, c);\r\n    if (a != null &amp;&amp; b != null &amp;&amp; c == null) return new Root.ChildB(name, a, b);\r\n    if (a != null &amp;&amp; b == null &amp;&amp; c == null) return new Root.ChildA(name, a);\r\n    throw new IllegalStateException();\r\n}\r\n```\r\n\r\nBut this kind of manually resolution is pretty ugly, and because there are no abiguities I would hope that the mapper will be able to do it by itself, especially when I have several places like this.\r\n\r\nThe definition of my mapper is:\r\n\r\n```java\r\nXmlMapper.builder()\r\n    .addModule(/*custom module for Instant class deserializer*/)\r\n    .configure(MapperFeature.ACCEPT_CASE_INSENSATIVE_PROPERTIES, true)\r\n    .build()\r\n    .setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n```","title":"Automatically resolve which implementation to use when deserializing using objectMapper","body":"<p>I am using objectMapper to deserialize xml to my object.</p>\n<p>My xml has a section that has several possible fields, so I modeled my object using a sealed interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Root(String id, Child child) {\n    public sealed interface Child permits ChildA, ChildB, ChildC {\n        String name();\n\n        public record ChildA(String name, int a) implements Child {}\n        public record ChildB(String name, int a, int b) implements Child {}\n        public record ChildC(String name, int c) implements Child {}\n    }\n}\n</code></pre>\n<p>I want the objectMapper to automatically try to resolve the implementation</p>\n<p>Currently I solved the issue by using JsonCreator to manually resolve the implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonCreaor\nstatic Root.Child creator(@JsonPopety(&quot;name&quot;) string name, \n                          @JsonPopety(&quot;a&quot;) Integer a, \n                          @JsonPopety(&quot;b&quot;) Integer b, \n                          @JsonPopety(&quot;c&quot;) Integer c) {\n    if (a == null &amp;&amp; b == null &amp;&amp; c != null) return new Root.ChildC(name, c);\n    if (a != null &amp;&amp; b != null &amp;&amp; c == null) return new Root.ChildB(name, a, b);\n    if (a != null &amp;&amp; b == null &amp;&amp; c == null) return new Root.ChildA(name, a);\n    throw new IllegalStateException();\n}\n</code></pre>\n<p>But this kind of manually resolution is pretty ugly, and because there are no abiguities I would hope that the mapper will be able to do it by itself, especially when I have several places like this.</p>\n<p>The definition of my mapper is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlMapper.builder()\n    .addModule(/*custom module for Instant class deserializer*/)\n    .configure(MapperFeature.ACCEPT_CASE_INSENSATIVE_PROPERTIES, true)\n    .build()\n    .setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":["java","httpclient","netty","webclient","reactor-netty"],"owner":{"account_id":29041849,"reputation":1,"user_id":22246556,"display_name":"Przemysław Bezat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689685719,"creation_date":1689685719,"question_id":76713125,"body_markdown":"I have a problem with increased number of file descriptors after moving to WebClient that uses netty-reactor, httpclient and epoll on Unix. From what I&#39;ve found, Netty is creating a pool of threads to maintain connections, each of these epoll event executors creates three file descriptors - eventfd, timerfd and eventpoll. Because of that, if my CPU has 32 cores, then there are 96 file descriptors per application and they are always opened, even if not used (because they are created immediately after first request). What is the reason not to create these FDs lazily or even fill the pool lazily?\r\nThank you!\r\n\r\nI tried to analyze the issue with too many open files on our servers after moving to WebClient.","title":"Reactor-netty is reserving file descriptors for the whole pool (eventfd, timerfd, eventpoll)","body":"<p>I have a problem with increased number of file descriptors after moving to WebClient that uses netty-reactor, httpclient and epoll on Unix. From what I've found, Netty is creating a pool of threads to maintain connections, each of these epoll event executors creates three file descriptors - eventfd, timerfd and eventpoll. Because of that, if my CPU has 32 cores, then there are 96 file descriptors per application and they are always opened, even if not used (because they are created immediately after first request). What is the reason not to create these FDs lazily or even fill the pool lazily?\nThank you!</p>\n<p>I tried to analyze the issue with too many open files on our servers after moving to WebClient.</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1636725182,"post_id":69943423,"comment_id":123639829,"body_markdown":"No idea, perhaps someone thought it was not a coding question. I would advise you to contact Red Hat. They offer commercial support and should be able to give you a quote and further details.","body":"No idea, perhaps someone thought it was not a coding question. I would advise you to contact Red Hat. They offer commercial support and should be able to give you a quote and further details."},{"owner":{"account_id":4709104,"reputation":184,"user_id":3810217,"accept_rate":50,"display_name":"Hoall"},"score":0,"creation_date":1636725327,"post_id":69943423,"comment_id":123639901,"body_markdown":"From the releases it looks like &quot;stick to the newest&quot;. I would have thought that such a popular framework, based on, as they call it, stable components, would also have some kind of stable version","body":"From the releases it looks like &quot;stick to the newest&quot;. I would have thought that such a popular framework, based on, as they call it, stable components, would also have some kind of stable version"}],"answers":[{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1636740371,"creation_date":1636726822,"answer_id":69944373,"question_id":69943423,"body_markdown":"At the moment Quarkus does not seem to have a LTS strategy. Instead, on their security page they say they only officially support the latest `major.minor` release. From [https://quarkus.io/security/#supported-versions](https://quarkus.io/security/#supported-versions):\r\n\r\n&gt; The community will fix security bugs for the latest major.minor version published at https://quarkus.io/get-started/.\r\n&gt; \r\n&gt; ```\r\n&gt; Version      Supported  \r\n&gt; latest 2.x   ✅\r\n&gt; older 2.x    ❌\r\n&gt; &lt; 2.0        ❌\r\n&gt; ```\r\n&gt; \r\n&gt; We may fix the vulnerability to older versions depending on the severity of the issue and the age of the release, but we are only committing to the latest version released.\r\n","title":"Where to find information about Quarkus supported versions?","body":"<p>At the moment Quarkus does not seem to have a LTS strategy. Instead, on their security page they say they only officially support the latest <code>major.minor</code> release. From <a href=\"https://quarkus.io/security/#supported-versions\" rel=\"nofollow noreferrer\">https://quarkus.io/security/#supported-versions</a>:</p>\n<blockquote>\n<p>The community will fix security bugs for the latest major.minor version published at <a href=\"https://quarkus.io/get-started/\" rel=\"nofollow noreferrer\">https://quarkus.io/get-started/</a>.</p>\n<pre><code>Version      Supported  \nlatest 2.x   ✅\nolder 2.x    ❌\n&lt; 2.0        ❌\n</code></pre>\n<p>We may fix the vulnerability to older versions depending on the severity of the issue and the age of the release, but we are only committing to the latest version released.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689685625,"creation_date":1655712888,"answer_id":72684072,"question_id":69943423,"body_markdown":"If you buy support from RedHat, you *do* get longer support for certain versions of the [Red Hat build of Quarkus][1]. It stands to reason, that the community release also receives updates for these versions (and checking the [Quarkus GitHub Releases][2] seems to confirm that). You quite definitely won&#39;t get community support, though, and will be asked to use the latest version.\r\n\r\nEdit: [As of July 6th, 2023,][3] there will now be general LTS releases for Quarkus, the first of which will be Quarkus 3.2.\r\n\r\n  [1]: https://access.redhat.com/support/policy/updates/jboss_notes/#p_quarkus\r\n  [2]: https://github.com/quarkusio/quarkus/releases/\r\n  [3]: https://quarkus.io/blog/lts-releases/","title":"Where to find information about Quarkus supported versions?","body":"<p>If you buy support from RedHat, you <em>do</em> get longer support for certain versions of the <a href=\"https://access.redhat.com/support/policy/updates/jboss_notes/#p_quarkus\" rel=\"nofollow noreferrer\">Red Hat build of Quarkus</a>. It stands to reason, that the community release also receives updates for these versions (and checking the <a href=\"https://github.com/quarkusio/quarkus/releases/\" rel=\"nofollow noreferrer\">Quarkus GitHub Releases</a> seems to confirm that). You quite definitely won't get community support, though, and will be asked to use the latest version.</p>\n<p>Edit: <a href=\"https://quarkus.io/blog/lts-releases/\" rel=\"nofollow noreferrer\">As of July 6th, 2023,</a> there will now be general LTS releases for Quarkus, the first of which will be Quarkus 3.2.</p>\n"},{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683141465,"creation_date":1683141465,"answer_id":76167319,"question_id":69943423,"body_markdown":"Quarkus mentioned this in their [Quarkus 3.0 announcement](https://quarkus.io/quarkus3/):\r\n\r\n&gt; We often get asked about a Quarkus LTS version. The community asked, so we’ll deliver. Starting with Quarkus 3.2, we will introduce the first Quarkus LTS version. We will share more information as we get closer to releasing Quarkus 3.2.","title":"Where to find information about Quarkus supported versions?","body":"<p>Quarkus mentioned this in their <a href=\"https://quarkus.io/quarkus3/\" rel=\"nofollow noreferrer\">Quarkus 3.0 announcement</a>:</p>\n<blockquote>\n<p>We often get asked about a Quarkus LTS version. The community asked, so we’ll deliver. Starting with Quarkus 3.2, we will introduce the first Quarkus LTS version. We will share more information as we get closer to releasing Quarkus 3.2.</p>\n</blockquote>\n"}],"owner":{"account_id":4709104,"reputation":184,"user_id":3810217,"accept_rate":50,"display_name":"Hoall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69944373,"answer_count":3,"score":0,"last_activity_date":1689685625,"creation_date":1636722499,"question_id":69943423,"body_markdown":"I am currently taking a look on Quarkus, but cannot find any information about supported versions or support times, even after spending an hour on searching the documentation and Red Hat policies. Google also didn&#39;t know the answer.\r\n\r\nFrom Pivotal, I am used to having 12 month time til I finally have to go to the next Spring Boot minor or mayor release. Until then, I can expect patches and therefor guarantee my customers some type of stability. [Spring Boot supported versions](https://github.com/spring-projects/spring-boot/wiki/Supported-Versions)\r\n\r\nCould anyone please point me to any information about the support, release schedule and end of life policies or statements?\r\n\r\n","title":"Where to find information about Quarkus supported versions?","body":"<p>I am currently taking a look on Quarkus, but cannot find any information about supported versions or support times, even after spending an hour on searching the documentation and Red Hat policies. Google also didn't know the answer.</p>\n<p>From Pivotal, I am used to having 12 month time til I finally have to go to the next Spring Boot minor or mayor release. Until then, I can expect patches and therefor guarantee my customers some type of stability. <a href=\"https://github.com/spring-projects/spring-boot/wiki/Supported-Versions\" rel=\"nofollow noreferrer\">Spring Boot supported versions</a></p>\n<p>Could anyone please point me to any information about the support, release schedule and end of life policies or statements?</p>\n"},{"tags":["javascript","java","android","react-native","react-native-vector-icons"],"answers":[{"tags":[],"owner":{"account_id":9131354,"reputation":498,"user_id":7047737,"display_name":"J.Stange"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686757670,"creation_date":1686757670,"answer_id":76475373,"question_id":76405709,"body_markdown":"It&#39;s a matter of combination of Gradle and Java versions. \r\n\r\nI got it working with Gradle 7.5.1 and Java 16.0.2\r\n\r\nYou can change java version by changing JAVA_HOME path, make sure you download the version first, and then:\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 16`\r\n```\r\n\r\nGradle version can be changed on you project &gt; `&lt;root&gt;/android/gradle/wrapper/gradle-wrapper.properties`\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip\r\n```","title":"React native v0.71.8 react-native-vector-icons icons you don&#39;t see","body":"<p>It's a matter of combination of Gradle and Java versions.</p>\n<p>I got it working with Gradle 7.5.1 and Java 16.0.2</p>\n<p>You can change java version by changing JAVA_HOME path, make sure you download the version first, and then:</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 16`\n</code></pre>\n<p>Gradle version can be changed on you project &gt; <code>&lt;root&gt;/android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15656546,"reputation":1,"user_id":18968094,"display_name":"Caio Gasparino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689685049,"creation_date":1689685049,"answer_id":76713019,"question_id":76405709,"body_markdown":"add like this -&gt;\r\n\r\n    apply from: file(&quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;)\r\n\r\npath: android/app/build.gradle","title":"React native v0.71.8 react-native-vector-icons icons you don&#39;t see","body":"<p>add like this -&gt;</p>\n<pre><code>apply from: file(&quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;)\n</code></pre>\n<p>path: android/app/build.gradle</p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689685049,"creation_date":1685962241,"question_id":76405709,"body_markdown":"I am using `react native` version `v0.71.8`.\r\n\r\nI installed the `react-native-vector-icons` library, but the icons are not showing.\r\n\r\nIt seems that linking no longer works in the latest versions of react native.\r\n\r\nSo I followed the instructions, but it doesn&#39;t compile anymore I get the below error.\r\n\r\nI followed the instructions, I added to the `android/app/build.gradle` file the string `apply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;`\r\n\r\nAs seen in the file under line 4:\r\n\r\n```java\r\napply plugin: &quot;com.android.application&quot;\r\napply plugin: &quot;com.facebook.react&quot;\r\n\r\nimport com.android.build.OutputFile\r\n\r\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\r\n\r\n\r\n/**\r\n * This is the configuration block to customize your React Native Android app.\r\n * By default you don&#39;t need to apply any configuration, just uncomment the lines you need.\r\n */\r\nreact {\r\n    /* Folders */\r\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is &#39;..&#39;\r\n    // root = file(&quot;../&quot;)\r\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\r\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\r\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/react-native-codegen\r\n    // codegenDir = file(&quot;../node_modules/react-native-codegen&quot;)\r\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\r\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\r\n\r\n    /* Variants */\r\n    //   The list of variants to that are debuggable. For those we&#39;re going to\r\n    //   skip the bundling of the JS bundle and the assets. By default is just &#39;debug&#39;.\r\n    //   If you add flavors like lite, prod, etc. you&#39;ll have to list your debuggableVariants.\r\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\r\n\r\n    /* Bundling */\r\n    //   A list containing the node command and its flags. Default is just &#39;node&#39;.\r\n    // nodeExecutableAndArgs = [&quot;node&quot;]\r\n    //\r\n    //   The command to run when bundling. By default is &#39;bundle&#39;\r\n    // bundleCommand = &quot;ram-bundle&quot;\r\n    //\r\n    //   The path to the CLI configuration file. Default is empty.\r\n    // bundleConfig = file(../rn-cli.config.js)\r\n    //\r\n    //   The name of the generated asset file containing your JS bundle\r\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\r\n    //\r\n    //   The entry file for bundle generation. Default is &#39;index.android.js&#39; or &#39;index.js&#39;\r\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\r\n    //\r\n    //   A list of extra flags to pass to the &#39;bundle&#39; commands.\r\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\r\n    // extraPackagerArgs = []\r\n\r\n    /* Hermes Commands */\r\n    //   The hermes compiler command to run. By default it is &#39;hermesc&#39;\r\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\r\n    //\r\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\r\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\r\n}\r\n\r\n/**\r\n * Set this to true to create four separate APKs instead of one,\r\n * one for each native architecture. This is useful if you don&#39;t\r\n * use App Bundles (https://developer.android.com/guide/app-bundle/)\r\n * and want to have separate APKs to upload to the Play Store.\r\n */\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\n\r\n/**\r\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\r\n */\r\ndef enableProguardInReleaseBuilds = false\r\n\r\n/**\r\n * The preferred build flavor of JavaScriptCore (JSC)\r\n *\r\n * For example, to use the international variant, you can use:\r\n * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n *\r\n * The international variant includes ICU i18n library and necessary data\r\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n * give correct results when using with locales other than en-US. Note that\r\n * this variant is about 6MiB larger per architecture than default.\r\n */\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n\r\n/**\r\n * Private function to get the list of Native Architectures you want to build.\r\n * This reads the value from reactNativeArchitectures in your gradle.properties\r\n * file and works together with the --active-arch-only flag of react-native run-android.\r\n */\r\ndef reactNativeArchitectures() {\r\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\r\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\r\n}\r\n\r\nandroid {\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    namespace &quot;com.fuelapk&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.fuelapk&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include (*reactNativeArchitectures())\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // The version of react-native is set by the React Native Gradle Plugin\r\n    implementation(&quot;com.facebook.react:react-android&quot;)\r\n\r\n    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;)\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\r\n    if (hermesEnabled.toBoolean()) {\r\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; Could not open cp_proj generic class cache for build file \r\n\r\n&#39;/Users/nameUser/Desktop/project/android/app/build.gradle&#39; \r\n(/Users/nameUser/.gradle/caches/7.5.1/scripts/df0ag1ifx5mu2eejb9lni6xez).\r\n   &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; \r\nUnsupported class file major version 64\r\n```\r\n\r\njava:\r\n    java -version\r\n    \r\n    openjdk version &quot;20.0.1&quot; 2023-04-18\r\n    OpenJDK Runtime Environment (build 20.0.1+9-29)\r\n    OpenJDK 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan you help me, what am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7E2Kv.png","title":"React native v0.71.8 react-native-vector-icons icons you don&#39;t see","body":"<p>I am using <code>react native</code> version <code>v0.71.8</code>.</p>\n<p>I installed the <code>react-native-vector-icons</code> library, but the icons are not showing.</p>\n<p>It seems that linking no longer works in the latest versions of react native.</p>\n<p>So I followed the instructions, but it doesn't compile anymore I get the below error.</p>\n<p>I followed the instructions, I added to the <code>android/app/build.gradle</code> file the string <code>apply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;</code></p>\n<p>As seen in the file under line 4:</p>\n<pre class=\"lang-java prettyprint-override\"><code>apply plugin: &quot;com.android.application&quot;\napply plugin: &quot;com.facebook.react&quot;\n\nimport com.android.build.OutputFile\n\napply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;\n\n\n/**\n * This is the configuration block to customize your React Native Android app.\n * By default you don't need to apply any configuration, just uncomment the lines you need.\n */\nreact {\n    /* Folders */\n    //   The root of your project, i.e. where &quot;package.json&quot; lives. Default is '..'\n    // root = file(&quot;../&quot;)\n    //   The folder where the react-native NPM package is. Default is ../node_modules/react-native\n    // reactNativeDir = file(&quot;../node_modules/react-native&quot;)\n    //   The folder where the react-native Codegen package is. Default is ../node_modules/react-native-codegen\n    // codegenDir = file(&quot;../node_modules/react-native-codegen&quot;)\n    //   The cli.js file which is the React Native CLI entrypoint. Default is ../node_modules/react-native/cli.js\n    // cliFile = file(&quot;../node_modules/react-native/cli.js&quot;)\n\n    /* Variants */\n    //   The list of variants to that are debuggable. For those we're going to\n    //   skip the bundling of the JS bundle and the assets. By default is just 'debug'.\n    //   If you add flavors like lite, prod, etc. you'll have to list your debuggableVariants.\n    // debuggableVariants = [&quot;liteDebug&quot;, &quot;prodDebug&quot;]\n\n    /* Bundling */\n    //   A list containing the node command and its flags. Default is just 'node'.\n    // nodeExecutableAndArgs = [&quot;node&quot;]\n    //\n    //   The command to run when bundling. By default is 'bundle'\n    // bundleCommand = &quot;ram-bundle&quot;\n    //\n    //   The path to the CLI configuration file. Default is empty.\n    // bundleConfig = file(../rn-cli.config.js)\n    //\n    //   The name of the generated asset file containing your JS bundle\n    // bundleAssetName = &quot;MyApplication.android.bundle&quot;\n    //\n    //   The entry file for bundle generation. Default is 'index.android.js' or 'index.js'\n    // entryFile = file(&quot;../js/MyApplication.android.js&quot;)\n    //\n    //   A list of extra flags to pass to the 'bundle' commands.\n    //   See https://github.com/react-native-community/cli/blob/main/docs/commands.md#bundle\n    // extraPackagerArgs = []\n\n    /* Hermes Commands */\n    //   The hermes compiler command to run. By default it is 'hermesc'\n    // hermesCommand = &quot;$rootDir/my-custom-hermesc/bin/hermesc&quot;\n    //\n    //   The list of flags to pass to the Hermes compiler. By default is &quot;-O&quot;, &quot;-output-source-map&quot;\n    // hermesFlags = [&quot;-O&quot;, &quot;-output-source-map&quot;]\n}\n\n/**\n * Set this to true to create four separate APKs instead of one,\n * one for each native architecture. This is useful if you don't\n * use App Bundles (https://developer.android.com/guide/app-bundle/)\n * and want to have separate APKs to upload to the Play Store.\n */\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Set this to true to Run Proguard on Release builds to minify the Java bytecode.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore (JSC)\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US. Note that\n * this variant is about 6MiB larger per architecture than default.\n */\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\n/**\n * Private function to get the list of Native Architectures you want to build.\n * This reads the value from reactNativeArchitectures in your gradle.properties\n * file and works together with the --active-arch-only flag of react-native run-android.\n */\ndef reactNativeArchitectures() {\n    def value = project.getProperties().get(&quot;reactNativeArchitectures&quot;)\n    return value ? value.split(&quot;,&quot;) : [&quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;x86_64&quot;, &quot;arm64-v8a&quot;]\n}\n\nandroid {\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    namespace &quot;com.fuelapk&quot;\n    defaultConfig {\n        applicationId &quot;com.fuelapk&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include (*reactNativeArchitectures())\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\n            }\n\n        }\n    }\n}\n\ndependencies {\n    // The version of react-native is set by the React Native Gradle Plugin\n    implementation(&quot;com.facebook.react:react-android&quot;)\n\n    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;)\n\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;)\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;)\n    if (hermesEnabled.toBoolean()) {\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Could not open cp_proj generic class cache for build file \n\n'/Users/nameUser/Desktop/project/android/app/build.gradle' \n(/Users/nameUser/.gradle/caches/7.5.1/scripts/df0ag1ifx5mu2eejb9lni6xez).\n   &gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' \nUnsupported class file major version 64\n</code></pre>\n<p>java:\njava -version</p>\n<pre><code>openjdk version &quot;20.0.1&quot; 2023-04-18\nOpenJDK Runtime Environment (build 20.0.1+9-29)\nOpenJDK 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7E2Kv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7E2Kv.png\" alt=\"enter image description here\" /></a></p>\n<p>Can you help me, what am I doing wrong?</p>\n"},{"tags":["java","ant","ant-contrib"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1449275876,"post_id":34091966,"comment_id":55951686,"body_markdown":"Have you considered spelling it correctly?","body":"Have you considered spelling it correctly?"},{"owner":{"account_id":7353056,"reputation":3388,"user_id":5598574,"accept_rate":81,"display_name":"Hairi"},"score":0,"creation_date":1449429878,"post_id":34091966,"comment_id":55992071,"body_markdown":"@EJP yesterday\nEnglish is not my nature language. I entirely rely on the editor spell check.","body":"@EJP yesterday English is not my nature language. I entirely rely on the editor spell check."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689684135,"creation_date":1449244836,"answer_id":34092378,"question_id":34091966,"body_markdown":"See http://ant-contrib.sourceforge.net/tasks/tasks/foreach.html for how to use `foreach`. The `param` must be an **attribute** not a nested element:\r\n\r\n    &lt;target name=&quot;copy-all-unzipped&quot;&gt;\r\n        &lt;foreach target=&quot;copy-unzipped&quot; param=&quot;file-path&quot;&gt;\r\n            &lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\r\n                &lt;include name=&quot;**/content.xml&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/foreach&gt;\r\n    &lt;/target&gt;\r\n\r\n**EDIT:**\r\n\r\nSince the nested fileset element is deprecated, you can replace it with a path element (haven&#39;t tried it, long time since I&#39;ve used Ant...):\r\n\r\n    &lt;target name=&quot;copy-all-unzipped&quot;&gt;\r\n        &lt;foreach target=&quot;copy-unzipped&quot; param=&quot;file-path&quot;&gt;\r\n            &lt;path&gt;\r\n                &lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\r\n                   &lt;include name=&quot;**/content.xml&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/path&gt;\r\n        &lt;/foreach&gt;\r\n    &lt;/target&gt;","title":"&lt;param&gt; under &lt;foreach&gt; doesn&#39;t support nested fileset element","body":"<p>See <a href=\"http://ant-contrib.sourceforge.net/tasks/tasks/foreach.html\" rel=\"nofollow noreferrer\">http://ant-contrib.sourceforge.net/tasks/tasks/foreach.html</a> for how to use <code>foreach</code>. The <code>param</code> must be an <strong>attribute</strong> not a nested element:</p>\n<pre><code>&lt;target name=&quot;copy-all-unzipped&quot;&gt;\n    &lt;foreach target=&quot;copy-unzipped&quot; param=&quot;file-path&quot;&gt;\n        &lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\n            &lt;include name=&quot;**/content.xml&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/foreach&gt;\n&lt;/target&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Since the nested fileset element is deprecated, you can replace it with a path element (haven't tried it, long time since I've used Ant...):</p>\n<pre><code>&lt;target name=&quot;copy-all-unzipped&quot;&gt;\n    &lt;foreach target=&quot;copy-unzipped&quot; param=&quot;file-path&quot;&gt;\n        &lt;path&gt;\n            &lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\n               &lt;include name=&quot;**/content.xml&quot;/&gt;\n            &lt;/fileset&gt;\n        &lt;/path&gt;\n    &lt;/foreach&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1081097,"reputation":6921,"user_id":1078068,"display_name":"Chad Nouis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449505486,"creation_date":1449505486,"answer_id":34138349,"question_id":34091966,"body_markdown":"The example of `&lt;foreach&gt;` you link to is from the [Apache Axis 1.x Ant tasks][1] project. This is a different `&lt;foreach&gt;` than the one from the [Ant-Contrib][2] project.\r\n\r\nAs manouti says, the Ant-Contrib `&lt;foreach&gt;` doesn&#39;t support nested `param` elements. Instead, the `id` of a `&lt;fileset&gt;` can be passed to the `&lt;target&gt;` and the `&lt;target&gt;` can reference the `id`.\r\n\r\nOr, you can use Ant-Contrib&#39;s [`&lt;for&gt;` task][3] (not &quot;`&lt;foreach&gt;`&quot;) which can call a [`&lt;macrodef&gt;`][4]...\r\n\r\n    &lt;target name=&quot;copy-all-unzipped&quot;&gt;\r\n        &lt;for param=&quot;file&quot;&gt;\r\n            &lt;path&gt;\r\n                &lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\r\n                    &lt;include name=&quot;**/content.xml&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/path&gt;\r\n            &lt;sequential&gt;\r\n                &lt;copy-unzipped file-path=&quot;@{file}&quot;/&gt;\r\n            &lt;/sequential&gt;\r\n        &lt;/for&gt;\r\n    &lt;/target&gt;\r\n    \r\n    &lt;macrodef name=&quot;copy-unzipped&quot;&gt;\r\n        &lt;attribute name=&quot;file-path&quot;/&gt;\r\n        &lt;sequential&gt;\r\n            &lt;echo&gt;@{file-path}&lt;/echo&gt;\r\n        &lt;/sequential&gt;\r\n    &lt;/macrodef&gt;\r\n\r\n\r\n  [1]: https://axis.apache.org/axis/java/ant/foreach.html\r\n  [2]: http://ant-contrib.sourceforge.net/tasks/tasks/foreach.html\r\n  [3]: http://ant-contrib.sourceforge.net/tasks/tasks/for.html\r\n  [4]: https://ant.apache.org/manual/Tasks/macrodef.html","title":"&lt;param&gt; under &lt;foreach&gt; doesn&#39;t support nested fileset element","body":"<p>The example of <code>&lt;foreach&gt;</code> you link to is from the <a href=\"https://axis.apache.org/axis/java/ant/foreach.html\" rel=\"nofollow\">Apache Axis 1.x Ant tasks</a> project. This is a different <code>&lt;foreach&gt;</code> than the one from the <a href=\"http://ant-contrib.sourceforge.net/tasks/tasks/foreach.html\" rel=\"nofollow\">Ant-Contrib</a> project.</p>\n\n<p>As manouti says, the Ant-Contrib <code>&lt;foreach&gt;</code> doesn't support nested <code>param</code> elements. Instead, the <code>id</code> of a <code>&lt;fileset&gt;</code> can be passed to the <code>&lt;target&gt;</code> and the <code>&lt;target&gt;</code> can reference the <code>id</code>.</p>\n\n<p>Or, you can use Ant-Contrib's <a href=\"http://ant-contrib.sourceforge.net/tasks/tasks/for.html\" rel=\"nofollow\"><code>&lt;for&gt;</code> task</a> (not \"<code>&lt;foreach&gt;</code>\") which can call a <a href=\"https://ant.apache.org/manual/Tasks/macrodef.html\" rel=\"nofollow\"><code>&lt;macrodef&gt;</code></a>...</p>\n\n<pre><code>&lt;target name=\"copy-all-unzipped\"&gt;\n    &lt;for param=\"file\"&gt;\n        &lt;path&gt;\n            &lt;fileset dir=\"${path.unzipped}\"&gt;\n                &lt;include name=\"**/content.xml\"/&gt;\n            &lt;/fileset&gt;\n        &lt;/path&gt;\n        &lt;sequential&gt;\n            &lt;copy-unzipped file-path=\"@{file}\"/&gt;\n        &lt;/sequential&gt;\n    &lt;/for&gt;\n&lt;/target&gt;\n\n&lt;macrodef name=\"copy-unzipped\"&gt;\n    &lt;attribute name=\"file-path\"/&gt;\n    &lt;sequential&gt;\n        &lt;echo&gt;@{file-path}&lt;/echo&gt;\n    &lt;/sequential&gt;\n&lt;/macrodef&gt;\n</code></pre>\n"}],"owner":{"account_id":7353056,"reputation":3388,"user_id":5598574,"accept_rate":81,"display_name":"Hairi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2606,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":34138349,"answer_count":2,"score":1,"last_activity_date":1689684135,"creation_date":1449243624,"question_id":34091966,"body_markdown":"I am trying to perform a task that is supposed to iterate over a set of files. For that I am using the `foreach` task from **ant-contrib-0.3.jar**. The problem is that I am trying to pass (as param) to the target not the file path, but the file directory path.\r\n\r\nHere is the project:\r\n\r\n    &lt;project basedir=&quot;../../../&quot; name=&quot;do-report&quot; default=&quot;copy-all-unzipped&quot;&gt;\r\n    \t&lt;xmlproperty keeproot=&quot;false&quot; file=&quot;implementation/xml/ant/text-odt-properties.xml&quot;/&gt;\r\n    \t&lt;!--\t--&gt;\r\n    \t&lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot;&gt;\r\n    \t\t&lt;classpath&gt;\r\n    \t\t\t&lt;pathelement location=&quot;${path.infrastructure}/apache-ant-1.9.6/lib/ant-contrib-0.3.jar&quot;/&gt;\r\n    \t\t&lt;/classpath&gt;\r\n    \t&lt;/taskdef&gt;\r\n    \t&lt;!--\t--&gt;\r\n    \t&lt;target name=&quot;copy-all-unzipped&quot;&gt;\r\n    \t\t&lt;foreach target=&quot;copy-unzipped&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;file-path&quot;&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;${path.unzipped}&quot;&gt;\r\n    \t\t\t\t\t&lt;include name=&quot;**/content.xml&quot;/&gt;\r\n    \t\t\t\t&lt;/fileset&gt;\r\n    \t\t\t&lt;/param&gt;\r\n    \t\t&lt;/foreach&gt;\r\n    \t&lt;/target&gt;\r\n    \t&lt;!--\t--&gt;\r\n    \t&lt;target name=&quot;copy-unzipped&quot;&gt;\r\n    \t\t&lt;echo&gt;${file-path}&lt;/echo&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\nRunning the script I am getting the following message:\r\n\r\n&gt; BUILD FAILED\r\n&gt; \r\n&gt; C:\\Users\\rmrd001\\git\\xslt-framework\\implementation\\xml\\ant\\text-odt-build.xml:13: param doesn&#39;t support the nested &quot;fileset&quot; element.\r\n\r\nI can read in several places on the internet (such as [axis.apache.org][1]) that `param` can have a nested `fileset` element.\r\n\r\n  [1]: https://axis.apache.org/axis/java/ant/foreach.html","title":"&lt;param&gt; under &lt;foreach&gt; doesn&#39;t support nested fileset element","body":"<p>I am trying to perform a task that is supposed to iterate over a set of files. For that I am using the <code>foreach</code> task from <strong>ant-contrib-0.3.jar</strong>. The problem is that I am trying to pass (as param) to the target not the file path, but the file directory path.</p>\n\n<p>Here is the project:</p>\n\n<pre><code>&lt;project basedir=\"../../../\" name=\"do-report\" default=\"copy-all-unzipped\"&gt;\n    &lt;xmlproperty keeproot=\"false\" file=\"implementation/xml/ant/text-odt-properties.xml\"/&gt;\n    &lt;!--    --&gt;\n    &lt;taskdef resource=\"net/sf/antcontrib/antcontrib.properties\"&gt;\n        &lt;classpath&gt;\n            &lt;pathelement location=\"${path.infrastructure}/apache-ant-1.9.6/lib/ant-contrib-0.3.jar\"/&gt;\n        &lt;/classpath&gt;\n    &lt;/taskdef&gt;\n    &lt;!--    --&gt;\n    &lt;target name=\"copy-all-unzipped\"&gt;\n        &lt;foreach target=\"copy-unzipped\"&gt;\n            &lt;param name=\"file-path\"&gt;\n                &lt;fileset dir=\"${path.unzipped}\"&gt;\n                    &lt;include name=\"**/content.xml\"/&gt;\n                &lt;/fileset&gt;\n            &lt;/param&gt;\n        &lt;/foreach&gt;\n    &lt;/target&gt;\n    &lt;!--    --&gt;\n    &lt;target name=\"copy-unzipped\"&gt;\n        &lt;echo&gt;${file-path}&lt;/echo&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Running the script I am getting the following message:</p>\n\n<blockquote>\n  <p>BUILD FAILED</p>\n  \n  <p>C:\\Users\\rmrd001\\git\\xslt-framework\\implementation\\xml\\ant\\text-odt-build.xml:13: param doesn't support the nested \"fileset\" element.</p>\n</blockquote>\n\n<p>I can read in several places on the internet (such as <a href=\"https://axis.apache.org/axis/java/ant/foreach.html\" rel=\"nofollow\">axis.apache.org</a>) that <code>param</code> can have a nested <code>fileset</code> element.</p>\n"},{"tags":["java","android","location","android-fusedlocation","locationrequest"],"comments":[{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":0,"creation_date":1689661020,"post_id":76706561,"comment_id":135241086,"body_markdown":"Does this answer your question? [Fused Location Provider setsmallestDisplacement doesn&#39;t work in Android](https://stackoverflow.com/questions/27778707/fused-location-provider-setsmallestdisplacement-doesnt-work-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27778707/fused-location-provider-setsmallestdisplacement-doesnt-work-in-android\">Fused Location Provider setsmallestDisplacement doesn&#39;t work in Android</a>"},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":0,"creation_date":1689670907,"post_id":76706561,"comment_id":135243126,"body_markdown":"@Jemshit nope, it doesn&#39;t do the job. Only the distance parameter is fired, not the timer one in the example...","body":"@Jemshit nope, it doesn&#39;t do the job. Only the distance parameter is fired, not the timer one in the example..."},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":0,"creation_date":1689671659,"post_id":76706561,"comment_id":135243290,"body_markdown":"Edit the code, usage of `locationRequest` is not shown","body":"Edit the code, usage of <code>locationRequest</code> is not shown"},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":0,"creation_date":1689672914,"post_id":76706561,"comment_id":135243553,"body_markdown":"@Jemshit I put the initialization of locationRequest, and when the function onLocationResult for the trigging part, I don&#39;t need other code for this app. That works very well with the distance, but not the timer. I think the problem is that if you put the setSmallestDisplacement, you cannot get the setInterval. I am going to try to get one locationRequest for the distance, and one for the interval","body":"@Jemshit I put the initialization of locationRequest, and when the function onLocationResult for the trigging part, I don&#39;t need other code for this app. That works very well with the distance, but not the timer. I think the problem is that if you put the setSmallestDisplacement, you cannot get the setInterval. I am going to try to get one locationRequest for the distance, and one for the interval"},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":1,"creation_date":1689673737,"post_id":76706561,"comment_id":135243725,"body_markdown":"You state distance doesn&#39;t work in the question, now you say distance is working but timer is not working. Link provided states `Displacement takes precedence over Intervals`","body":"You state distance doesn&#39;t work in the question, now you say distance is working but timer is not working. Link provided states <code>Displacement takes precedence over Intervals</code>"},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":0,"creation_date":1689674803,"post_id":76706561,"comment_id":135243966,"body_markdown":"Yep, that&#39;s what I see now, is that you can get one or the other, not both. So I splitted in two, and now it works. I created two locationRequest for this.","body":"Yep, that&#39;s what I see now, is that you can get one or the other, not both. So I splitted in two, and now it works. I created two locationRequest for this."},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":1,"creation_date":1689682224,"post_id":76706561,"comment_id":135245514,"body_markdown":"@Jemshit Your link is the good one, but I am going to put the complete solution to help people if necessary. Thank you for your help.","body":"@Jemshit Your link is the good one, but I am going to put the complete solution to help people if necessary. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689684064,"creation_date":1689684064,"answer_id":76712884,"question_id":76706561,"body_markdown":"SOLUTION:  \r\n\r\nBased on the [answer][1] proponed by @Jemshit,  \r\n\r\n//Time\r\n\r\n        if (locationRequest == null) {\r\n            locationRequest = LocationRequest.create();\r\n\r\n                if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\r\n                    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                   // locationRequest.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\r\n                    locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION); // Update location every 1 minute\r\n                    locationRequest.setFastestInterval(10000);\r\n                } else {\r\n                    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                 //   locationRequest.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION / 4);\r\n                    locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION); // Update location every 1 minute\r\n                    locationRequest.setFastestInterval(10000);\r\n                }\r\n\r\n            }\r\n\r\n            if (locationCallback == null) {\r\n                locationCallback = new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        Location location = locationResult.getLastLocation();\r\n                        if (location != null) {\r\n                            // Traitement des mises &#224; jour de localisation\r\n                            // La position a chang&#233;. Obtenez les coordonn&#233;es et mettez &#224; jour la carte.\r\n                            latitude = location.getLatitude();\r\n                            longitude = location.getLongitude();\r\n                            map.getOverlays().clear();\r\n\r\n                            // Mettez &#224; jour la carte avec la nouvelle position.\r\n                            // Par exemple, utilisez les fonctions de OsmAnd pour d&#233;placer la cam&#233;ra ou ajouter un marqueur.\r\n                            GeoPoint currentPosition = new GeoPoint(latitude, longitude);\r\n                            //moveMapCameraToPosition(currentPosition); // D&#233;place la cam&#233;ra vers la nouvelle position\r\n                            animateMapCameraToPosition(currentPosition);\r\n\r\n                            map.getOverlays().remove(accuracyOverlay);\r\n                            int greenColorWithOpacity = Color.argb(128, 0, 255, 0);\r\n                            accuracyOverlay = new AccuracyOverlay(new GeoPoint(location), Constants.ACCURACYOVERLAYPRECISION, greenColorWithOpacity);\r\n                            map.getOverlayManager().getTilesOverlay().setLoadingBackgroundColor(ContextCompat.getColor(getApplicationContext(), R.color.black));\r\n                            map.getOverlays().add(accuracyOverlay);\r\n                            map.invalidate();\r\n\r\n                            // Vous pouvez &#233;galement ajouter un marqueur &#224; la position actuelle\r\n                            addMarkerToPosition(currentPosition);\r\n\r\n                            // Envoi de la position &#224; l&#39;API\r\n                            sendPositionToAPI(latitude, longitude);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n\r\n\r\n//Distance\r\n\r\n            if (locationRequest2 == null) {\r\n                locationRequest2 = new LocationRequest();\r\n\r\n                if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\r\n                    locationRequest2.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\r\n                } else {\r\n                    locationRequest2.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\r\n                }\r\n\r\n                locationRequest2.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY );\r\n            }\r\n            if (locationCallback2 == null) {\r\n                locationCallback2 = new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        Location location = locationResult.getLastLocation();\r\n                        if (location != null) {\r\n                            // Traitement des mises &#224; jour de localisation\r\n                            // La position a chang&#233;. Obtenez les coordonn&#233;es et mettez &#224; jour la carte.\r\n                            latitude = location.getLatitude();\r\n                            longitude = location.getLongitude();\r\n                            map.getOverlays().clear();\r\n\r\n                            // Mettez &#224; jour la carte avec la nouvelle position.\r\n                            // Par exemple, utilisez les fonctions de OsmAnd pour d&#233;placer la cam&#233;ra ou ajouter un marqueur.\r\n                            GeoPoint currentPosition = new GeoPoint(latitude, longitude);\r\n                            //moveMapCameraToPosition(currentPosition); // D&#233;place la cam&#233;ra vers la nouvelle position\r\n                            animateMapCameraToPosition(currentPosition);\r\n\r\n                            map.getOverlays().remove(accuracyOverlay);\r\n                            int greenColorWithOpacity = Color.argb(128, 0, 255, 0);\r\n                            accuracyOverlay = new AccuracyOverlay(new GeoPoint(location), Constants.ACCURACYOVERLAYPRECISION, greenColorWithOpacity);\r\n                            map.getOverlayManager().getTilesOverlay().setLoadingBackgroundColor(ContextCompat.getColor(getApplicationContext(), R.color.black));\r\n                            map.getOverlays().add(accuracyOverlay);\r\n                            map.invalidate();\r\n\r\n                            // Vous pouvez &#233;galement ajouter un marqueur &#224; la position actuelle\r\n                            addMarkerToPosition(currentPosition);\r\n\r\n                            // Envoi de la position &#224; l&#39;API\r\n                            sendPositionToAPI(latitude, longitude);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n\r\n            Looper mainLooper = Looper.getMainLooper();\r\n            Looper mainLooper2 = Looper.getMainLooper();\r\n\r\n            if (!locationUpdatesEnabled) {\r\n                fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, mainLooper);\r\n                fusedLocationClient2.requestLocationUpdates(locationRequest2, locationCallback2, mainLooper2);\r\n                locationUpdatesEnabled = true;\r\n            }\r\n           }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30617800/3581620","title":"How to get the onLocationResult be triggered all the 30m of displacement in a LocationRequest with the locationCallback?","body":"<p>SOLUTION:</p>\n<p>Based on the <a href=\"https://stackoverflow.com/a/30617800/3581620\">answer</a> proponed by @Jemshit,</p>\n<p>//Time</p>\n<pre><code>    if (locationRequest == null) {\n        locationRequest = LocationRequest.create();\n\n            if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n               // locationRequest.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\n                locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION); // Update location every 1 minute\n                locationRequest.setFastestInterval(10000);\n            } else {\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n             //   locationRequest.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION / 4);\n                locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION); // Update location every 1 minute\n                locationRequest.setFastestInterval(10000);\n            }\n\n        }\n\n        if (locationCallback == null) {\n            locationCallback = new LocationCallback() {\n                @Override\n                public void onLocationResult(LocationResult locationResult) {\n                    Location location = locationResult.getLastLocation();\n                    if (location != null) {\n                        // Traitement des mises à jour de localisation\n                        // La position a changé. Obtenez les coordonnées et mettez à jour la carte.\n                        latitude = location.getLatitude();\n                        longitude = location.getLongitude();\n                        map.getOverlays().clear();\n\n                        // Mettez à jour la carte avec la nouvelle position.\n                        // Par exemple, utilisez les fonctions de OsmAnd pour déplacer la caméra ou ajouter un marqueur.\n                        GeoPoint currentPosition = new GeoPoint(latitude, longitude);\n                        //moveMapCameraToPosition(currentPosition); // Déplace la caméra vers la nouvelle position\n                        animateMapCameraToPosition(currentPosition);\n\n                        map.getOverlays().remove(accuracyOverlay);\n                        int greenColorWithOpacity = Color.argb(128, 0, 255, 0);\n                        accuracyOverlay = new AccuracyOverlay(new GeoPoint(location), Constants.ACCURACYOVERLAYPRECISION, greenColorWithOpacity);\n                        map.getOverlayManager().getTilesOverlay().setLoadingBackgroundColor(ContextCompat.getColor(getApplicationContext(), R.color.black));\n                        map.getOverlays().add(accuracyOverlay);\n                        map.invalidate();\n\n                        // Vous pouvez également ajouter un marqueur à la position actuelle\n                        addMarkerToPosition(currentPosition);\n\n                        // Envoi de la position à l'API\n                        sendPositionToAPI(latitude, longitude);\n                    }\n                }\n            };\n        }\n</code></pre>\n<p>//Distance</p>\n<pre><code>        if (locationRequest2 == null) {\n            locationRequest2 = new LocationRequest();\n\n            if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\n                locationRequest2.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\n            } else {\n                locationRequest2.setSmallestDisplacement(Constants.GPS_UPDATE_PRECISION);\n            }\n\n            locationRequest2.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY );\n        }\n        if (locationCallback2 == null) {\n            locationCallback2 = new LocationCallback() {\n                @Override\n                public void onLocationResult(LocationResult locationResult) {\n                    Location location = locationResult.getLastLocation();\n                    if (location != null) {\n                        // Traitement des mises à jour de localisation\n                        // La position a changé. Obtenez les coordonnées et mettez à jour la carte.\n                        latitude = location.getLatitude();\n                        longitude = location.getLongitude();\n                        map.getOverlays().clear();\n\n                        // Mettez à jour la carte avec la nouvelle position.\n                        // Par exemple, utilisez les fonctions de OsmAnd pour déplacer la caméra ou ajouter un marqueur.\n                        GeoPoint currentPosition = new GeoPoint(latitude, longitude);\n                        //moveMapCameraToPosition(currentPosition); // Déplace la caméra vers la nouvelle position\n                        animateMapCameraToPosition(currentPosition);\n\n                        map.getOverlays().remove(accuracyOverlay);\n                        int greenColorWithOpacity = Color.argb(128, 0, 255, 0);\n                        accuracyOverlay = new AccuracyOverlay(new GeoPoint(location), Constants.ACCURACYOVERLAYPRECISION, greenColorWithOpacity);\n                        map.getOverlayManager().getTilesOverlay().setLoadingBackgroundColor(ContextCompat.getColor(getApplicationContext(), R.color.black));\n                        map.getOverlays().add(accuracyOverlay);\n                        map.invalidate();\n\n                        // Vous pouvez également ajouter un marqueur à la position actuelle\n                        addMarkerToPosition(currentPosition);\n\n                        // Envoi de la position à l'API\n                        sendPositionToAPI(latitude, longitude);\n                    }\n                }\n            };\n        }\n\n        Looper mainLooper = Looper.getMainLooper();\n        Looper mainLooper2 = Looper.getMainLooper();\n\n        if (!locationUpdatesEnabled) {\n            fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, mainLooper);\n            fusedLocationClient2.requestLocationUpdates(locationRequest2, locationCallback2, mainLooper2);\n            locationUpdatesEnabled = true;\n        }\n       }\n</code></pre>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76712884,"answer_count":1,"score":0,"last_activity_date":1689684064,"creation_date":1689612430,"question_id":76706561,"body_markdown":"I don&#39;t understand, the Interval in milliseconds works well, but the minimum distance doesn&#39;t work. How to get the **onLocationResult** be triggered all the 30m of displacement in a LocationRequest with the locationCallback ?\r\n\r\n      if (locationRequest == null) {\r\n                locationRequest = new LocationRequest();\r\n\r\n                if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\r\n                    locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION);\r\n                    locationRequest.setFastestInterval(Constants.GPS_UPDATE_PRECISION);\r\n                    locationRequest.setSmallestDisplacement(30f);\r\n                } else {\r\n                    locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION);\r\n                    locationRequest.setFastestInterval((Constants.GPS_UPDATE_PRECISION) / 4);\r\n                    locationRequest.setSmallestDisplacement(30f);\r\n                }\r\n\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_LOW_POWER );\r\n            }\r\n            if (locationCallback == null) {\r\n                locationCallback = new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        Location location = locationResult.getLastLocation();\r\n                        if (location != null) {\r\n                            // Traitement des mises &#224; jour de localisation\r\n                            // La position a chang&#233;. Obtenez les coordonn&#233;es et mettez &#224; jour la carte.\r\n                            latitude = location.getLatitude();\r\n                            longitude = location.getLongitude();","title":"How to get the onLocationResult be triggered all the 30m of displacement in a LocationRequest with the locationCallback?","body":"<p>I don't understand, the Interval in milliseconds works well, but the minimum distance doesn't work. How to get the <strong>onLocationResult</strong> be triggered all the 30m of displacement in a LocationRequest with the locationCallback ?</p>\n<pre><code>  if (locationRequest == null) {\n            locationRequest = new LocationRequest();\n\n            if (drivingtype == Constants.DRIVING_TYPE_BICYCLE) {\n                locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION);\n                locationRequest.setFastestInterval(Constants.GPS_UPDATE_PRECISION);\n                locationRequest.setSmallestDisplacement(30f);\n            } else {\n                locationRequest.setInterval(Constants.GPS_UPDATE_TIMING_PRECISION);\n                locationRequest.setFastestInterval((Constants.GPS_UPDATE_PRECISION) / 4);\n                locationRequest.setSmallestDisplacement(30f);\n            }\n\n        locationRequest.setPriority(LocationRequest.PRIORITY_LOW_POWER );\n        }\n        if (locationCallback == null) {\n            locationCallback = new LocationCallback() {\n                @Override\n                public void onLocationResult(LocationResult locationResult) {\n                    Location location = locationResult.getLastLocation();\n                    if (location != null) {\n                        // Traitement des mises à jour de localisation\n                        // La position a changé. Obtenez les coordonnées et mettez à jour la carte.\n                        latitude = location.getLatitude();\n                        longitude = location.getLongitude();\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","azure-sql-database","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689683508,"creation_date":1689683508,"answer_id":76712824,"question_id":76712761,"body_markdown":"Follow the instructions here: [Connect using ActiveDirectoryInteractive authentication mode][1]\r\n\r\nThe important bit is\r\n\r\n    SQLServerDataSource ds = new SQLServerDataSource();\r\n    ds.setServerName(&quot;aad-managed-demo.database.windows.net&quot;); // Replace with your server name\r\n    ds.setDatabaseName(&quot;demo&quot;); // Replace with your database\r\n    ds.setAuthentication(&quot;ActiveDirectoryInteractive&quot;);\r\n\r\n    // Optional login hint\r\n    ds.setUser(&quot;bob@cqclinic.onmicrosoft.com&quot;); // Replace with your user name\r\n\r\nAnd \r\n\r\n&gt; When you run the program, a browser is displayed to authenticate the user. \r\n\r\nIf you don&#39;t want to pop up a browser window, you&#39;ll have to use some other auth flow.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16#connect-using-activedirectoryinteractive-authentication-mode","title":"Connecting to SQL Server resources via Java JDBC using Azure Active Directory - Universal with MFA Support","body":"<p>Follow the instructions here: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-using-azure-active-directory-authentication?view=sql-server-ver16#connect-using-activedirectoryinteractive-authentication-mode\" rel=\"nofollow noreferrer\">Connect using ActiveDirectoryInteractive authentication mode</a></p>\n<p>The important bit is</p>\n<pre><code>SQLServerDataSource ds = new SQLServerDataSource();\nds.setServerName(&quot;aad-managed-demo.database.windows.net&quot;); // Replace with your server name\nds.setDatabaseName(&quot;demo&quot;); // Replace with your database\nds.setAuthentication(&quot;ActiveDirectoryInteractive&quot;);\n\n// Optional login hint\nds.setUser(&quot;bob@cqclinic.onmicrosoft.com&quot;); // Replace with your user name\n</code></pre>\n<p>And</p>\n<blockquote>\n<p>When you run the program, a browser is displayed to authenticate the user.</p>\n</blockquote>\n<p>If you don't want to pop up a browser window, you'll have to use some other auth flow.</p>\n"}],"owner":{"account_id":19120126,"reputation":35,"user_id":13964262,"display_name":"sree_me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689683508,"creation_date":1689683157,"question_id":76712761,"body_markdown":"I am currently working on a Java project and need to establish a connection to SQL Server resources using Azure Active Directory with Universal authentication that supports Multi-Factor Authentication (MFA). I have been searching for a solution, but haven&#39;t found a comprehensive guide for this specific setup.\r\n\r\nCould someone please assist me in achieving the required result or provide step-by-step instructions on how to connect to SQL Server resources via Java JDBC using Azure Active Directory - Universal with MFA support? Any code examples, configurations, or best practices would be greatly appreciated. Thank you!","title":"Connecting to SQL Server resources via Java JDBC using Azure Active Directory - Universal with MFA Support","body":"<p>I am currently working on a Java project and need to establish a connection to SQL Server resources using Azure Active Directory with Universal authentication that supports Multi-Factor Authentication (MFA). I have been searching for a solution, but haven't found a comprehensive guide for this specific setup.</p>\n<p>Could someone please assist me in achieving the required result or provide step-by-step instructions on how to connect to SQL Server resources via Java JDBC using Azure Active Directory - Universal with MFA support? Any code examples, configurations, or best practices would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","oracle","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689662499,"post_id":76710029,"comment_id":135241329,"body_markdown":"Hello! You want to get some data from your db and properly transform it to LocalDateTime with pattern parameter to  Entity object?","body":"Hello! You want to get some data from your db and properly transform it to LocalDateTime with pattern parameter to  Entity object?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689662875,"post_id":76710029,"comment_id":135241402,"body_markdown":"You don&#39;t import packages into Spring Boot you just execute them through JDBC.","body":"You don&#39;t import packages into Spring Boot you just execute them through JDBC."},{"owner":{"account_id":29039090,"reputation":1,"user_id":22244275,"display_name":"Samith Pathirana"},"score":0,"creation_date":1689664012,"post_id":76710029,"comment_id":135241614,"body_markdown":"can I get a sample example.?","body":"can I get a sample example.?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1689664394,"post_id":76710029,"comment_id":135241696,"body_markdown":"Does this answer your question? [Springboot java oracle procedure calling with cursor](https://stackoverflow.com/questions/48597107/springboot-java-oracle-procedure-calling-with-cursor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48597107/springboot-java-oracle-procedure-calling-with-cursor\">Springboot java oracle procedure calling with cursor</a>"}],"answers":[{"tags":[],"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689683499,"creation_date":1689683499,"answer_id":76712820,"question_id":76710029,"body_markdown":"You need to create `@Repository` class in your project.\r\n\r\nHere is a link with a [tutorial][1] how to do it in spring and here is a link with a [tutorial][2] to make your own pattern to `LocalDateTime.class` or `LocalDate.class`.\r\nAfter that you can make some `@Service` classes which are using your repository method to do with your data all you want. Example how to use `@Service` annotation is [here][3]. Than you can create a `@Procedure` with your SQL statement, example is [here][4].\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\r\n  [2]: https://www.baeldung.com/java-8-date-time-intro\r\n  [3]: https://www.baeldung.com/spring-component-repository-service\r\n  [4]: https://www.baeldung.com/spring-data-jpa-stored-procedures","title":"how do i import oracle database packages in spring boot.?","body":"<p>You need to create <code>@Repository</code> class in your project.</p>\n<p>Here is a link with a <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">tutorial</a> how to do it in spring and here is a link with a <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">tutorial</a> to make your own pattern to <code>LocalDateTime.class</code> or <code>LocalDate.class</code>.\nAfter that you can make some <code>@Service</code> classes which are using your repository method to do with your data all you want. Example how to use <code>@Service</code> annotation is <a href=\"https://www.baeldung.com/spring-component-repository-service\" rel=\"nofollow noreferrer\">here</a>. Than you can create a <code>@Procedure</code> with your SQL statement, example is <a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":29039090,"reputation":1,"user_id":22244275,"display_name":"Samith Pathirana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1689683499,"creation_date":1689661621,"question_id":76710029,"body_markdown":"`cus.sMB_PACKAGE.EABAL(new_aseid,to_date(&#39;&amp;1&#39;,&#39;dd-mm-yyyy&#39;)-1)`\r\n\r\nI want to import and use this oracle db package in my spring boot application but I don&#39;t know how to do it properly.\r\n\r\nhow do I import and use database packages in spring application.","title":"how do i import oracle database packages in spring boot.?","body":"<p><code>cus.sMB_PACKAGE.EABAL(new_aseid,to_date('&amp;1','dd-mm-yyyy')-1)</code></p>\n<p>I want to import and use this oracle db package in my spring boot application but I don't know how to do it properly.</p>\n<p>how do I import and use database packages in spring application.</p>\n"},{"tags":["java","json","spring-boot"],"owner":{"account_id":13474887,"reputation":53,"user_id":9722206,"display_name":"DevNight89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689683439,"creation_date":1689626599,"question_id":76707949,"body_markdown":"I&#39;m trying to set up a small webservice and I ran into a bit of an issue. I&#39;m using Spring boot on the server side and testing it using a java client.\r\n\r\nwebservice method code:\r\n\r\n    @GetMapping(value = &quot;/user/&quot;,consumes=&quot;application/json&quot;,produces=&quot;application/json&quot;)\r\n\tpublic User getUser(@RequestBody User user) {\r\n\t\tSystem.out.println(&quot;success!&quot;);\r\n\t\treturn user;\r\n\t}\r\n\r\nclient code:\r\n\r\n    HttpURLConnection con;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n    String spec = &quot;http:/127.0.0.1:8080/user/&quot;;\r\n    String json = mapper.writeValueAsString(user);\r\n    String requestMethod = &quot;POST&quot;;\r\n    try {\r\n            URL url = new URL(spec);\r\n            con = (HttpURLConnection) url.openConnection();\r\n            con.setRequestMethod(requestMethod);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            con.setRequestProperty(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\r\n            con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            con.setDoOutput(true);\r\n            con.setDoInput(true);\r\n            System.out.println(json); //first output\r\n            try (OutputStream os = con.getOutputStream()) {\r\n                    byte[] input = json.getBytes(&quot;utf-8&quot;);\r\n                    os.write(input, 0, input.length);\r\n                }\r\n                int status = 0;\r\n                if((status=con.getResponseCode())&lt;=399) {\r\n                    try (BufferedReader br = new BufferedReader(\r\n                            new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\r\n                        StringBuilder response = new StringBuilder();\r\n                        String responseLine = null;\r\n                        while ((responseLine = br.readLine()) != null) {\r\n                            response.append(responseLine.trim());\r\n                        }\r\n                        ....\r\n                    }\r\n                }\r\n                else{\r\n                    System.out.println(status); //second output\r\n                }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\ncode of the user class is rather simple, just field declarations and a constructor\r\n\r\nhere is the output of the code:\r\n\r\n    {&quot;password&quot;:&quot;mypassword&quot;,&quot;profilePic&quot;:null,&quot;reputation&quot;:0,&quot;userName&quot;:&quot;myusername&quot;}\r\n    415\r\n\r\nAs you can see, even though the spring boot method accepts &quot;applications/json&quot; and the connection object sends &quot;Content-Type&quot;:&quot;application/json&quot; that has been serialized using a Jackson ObjectMapper, the server returns a 415 Unsupported Media Type response code.\r\n\r\nAny ideas why?","title":"415 status on json serialized using Jackson - Spring Boot","body":"<p>I'm trying to set up a small webservice and I ran into a bit of an issue. I'm using Spring boot on the server side and testing it using a java client.</p>\n<p>webservice method code:</p>\n<pre><code>@GetMapping(value = &quot;/user/&quot;,consumes=&quot;application/json&quot;,produces=&quot;application/json&quot;)\npublic User getUser(@RequestBody User user) {\n    System.out.println(&quot;success!&quot;);\n    return user;\n}\n</code></pre>\n<p>client code:</p>\n<pre><code>HttpURLConnection con;\nObjectMapper mapper = new ObjectMapper();\nmapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\nString spec = &quot;http:/127.0.0.1:8080/user/&quot;;\nString json = mapper.writeValueAsString(user);\nString requestMethod = &quot;POST&quot;;\ntry {\n        URL url = new URL(spec);\n        con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(requestMethod);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        con.setRequestProperty(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setDoOutput(true);\n        con.setDoInput(true);\n        System.out.println(json); //first output\n        try (OutputStream os = con.getOutputStream()) {\n                byte[] input = json.getBytes(&quot;utf-8&quot;);\n                os.write(input, 0, input.length);\n            }\n            int status = 0;\n            if((status=con.getResponseCode())&lt;=399) {\n                try (BufferedReader br = new BufferedReader(\n                        new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\n                    StringBuilder response = new StringBuilder();\n                    String responseLine = null;\n                    while ((responseLine = br.readLine()) != null) {\n                        response.append(responseLine.trim());\n                    }\n                    ....\n                }\n            }\n            else{\n                System.out.println(status); //second output\n            }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>code of the user class is rather simple, just field declarations and a constructor</p>\n<p>here is the output of the code:</p>\n<pre><code>{&quot;password&quot;:&quot;mypassword&quot;,&quot;profilePic&quot;:null,&quot;reputation&quot;:0,&quot;userName&quot;:&quot;myusername&quot;}\n415\n</code></pre>\n<p>As you can see, even though the spring boot method accepts &quot;applications/json&quot; and the connection object sends &quot;Content-Type&quot;:&quot;application/json&quot; that has been serialized using a Jackson ObjectMapper, the server returns a 415 Unsupported Media Type response code.</p>\n<p>Any ideas why?</p>\n"},{"tags":["java","spring","project-reactor","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":370719,"reputation":3053,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689683313,"creation_date":1689683005,"answer_id":76712744,"question_id":71685655,"body_markdown":"It&#39;s a long time ago that you asked this question but I could not find any other relevant answers surrounding this topic so figured I would post my findings here in case it benefits someone. My code is in Kotlin, but it should be able to convert it to Java pretty easily if you so desire.\r\n\r\nI could not really find what is wrong with your code, everything seems in order as far as I could see, so the problem probably lies in something that is not being shown in your question. I&#39;ll just post a setup that worked well for me.\r\n\r\nSo to start, configure your Resilience4j setup:\r\n\r\n    import io.github.resilience4j.core.IntervalFunction\r\n    import io.github.resilience4j.retry.RetryConfig\r\n    import io.github.resilience4j.retry.RetryRegistry\r\n    import org.springframework.context.annotation.Bean\r\n    import org.springframework.context.annotation.Configuration\r\n    import org.springframework.web.reactive.function.client.WebClientRequestException\r\n    import java.io.IOException\r\n    \r\n    @Configuration\r\n    class Resilience4jConfiguration {\r\n        companion object {\r\n            const val YOUR_SERVICE = &quot;yourService&quot;\r\n        }\r\n    \r\n        @Bean\r\n        fun retryRegistry(): RetryRegistry {\r\n            val config: RetryConfig = RetryConfig.custom&lt;YourResponse&gt;()\r\n                .maxAttempts(5)\r\n                .retryExceptions(IOException::class.java, WebClientRequestException::class.java)\r\n                .intervalFunction(IntervalFunction.ofExponentialBackoff(100, 2.0))\r\n                .build()\r\n    \r\n            return RetryRegistry.of(config)\r\n        }\r\n    \r\n        @Bean\r\n        fun retryLogger(retryRegistry: RetryRegistry) = RetryLogger(retryRegistry)\r\n    }\r\n    \r\n    class RetryLogger(\r\n        retryRegistry: RetryRegistry\r\n    ) {\r\n        companion object {\r\n            private val logger = logger()\r\n        }\r\n    \r\n        init {\r\n            retryRegistry.retry(YOUR_SERVICE)\r\n                .eventPublisher\r\n                .onRetry {\r\n                    logger.info(&quot;Retrying: $it&quot;)\r\n                }\r\n        }\r\n    }\r\n\r\nNow you can use this in your client code, for example like this:\r\n\r\n    import io.github.resilience4j.reactor.retry.RetryOperator\r\n    import io.github.resilience4j.retry.RetryRegistry\r\n    import org.springframework.beans.factory.annotation.Value\r\n    import org.springframework.stereotype.Component\r\n    import org.springframework.web.reactive.function.client.WebClient\r\n    import reactor.core.publisher.Mono\r\n    \r\n    \r\n    @Component\r\n    class YourClient(\r\n        retryRegistry: RetryRegistry,\r\n        @Value(&quot;\\${your.url}&quot;) private val baseUrl: String\r\n    ) {\r\n        private val webClient = WebClient.builder().baseUrl(baseUrl).build()\r\n    \r\n        private val retry = retryRegistry.retry(YOUR_SERVICE)\r\n    \r\n        fun performRequest(id: String): Mono&lt;YourResponse&gt; =\r\n            webClient\r\n                .get()\r\n                .uri(&quot;/$id&quot;)\r\n                .retrieve()\r\n                .bodyToMono(YourResponse::class.java)\r\n                .transformDeferred(RetryOperator.of(retry))\r\n                .onErrorResume { fallback(it) }\r\n    \r\n        fun fallback(e: Throwable): Mono&lt;YourResponse&gt; = Mono.error(RuntimeException(&quot;Tried too many times&quot;))\r\n    }\r\n\r\nWith this setup I do see retries being performed. Hope this helps.\r\n\r\nEDIT: the code above works using Spring Boot 3.1.1 and Resilience4j 2.1.0, where you need these 2 dependencies:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;resilience4j-retry&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to invoke a retry of resilience4j on a spring mono in a spring-reactor and resilience4j when not using annotations","body":"<p>It's a long time ago that you asked this question but I could not find any other relevant answers surrounding this topic so figured I would post my findings here in case it benefits someone. My code is in Kotlin, but it should be able to convert it to Java pretty easily if you so desire.</p>\n<p>I could not really find what is wrong with your code, everything seems in order as far as I could see, so the problem probably lies in something that is not being shown in your question. I'll just post a setup that worked well for me.</p>\n<p>So to start, configure your Resilience4j setup:</p>\n<pre><code>import io.github.resilience4j.core.IntervalFunction\nimport io.github.resilience4j.retry.RetryConfig\nimport io.github.resilience4j.retry.RetryRegistry\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.web.reactive.function.client.WebClientRequestException\nimport java.io.IOException\n\n@Configuration\nclass Resilience4jConfiguration {\n    companion object {\n        const val YOUR_SERVICE = &quot;yourService&quot;\n    }\n\n    @Bean\n    fun retryRegistry(): RetryRegistry {\n        val config: RetryConfig = RetryConfig.custom&lt;YourResponse&gt;()\n            .maxAttempts(5)\n            .retryExceptions(IOException::class.java, WebClientRequestException::class.java)\n            .intervalFunction(IntervalFunction.ofExponentialBackoff(100, 2.0))\n            .build()\n\n        return RetryRegistry.of(config)\n    }\n\n    @Bean\n    fun retryLogger(retryRegistry: RetryRegistry) = RetryLogger(retryRegistry)\n}\n\nclass RetryLogger(\n    retryRegistry: RetryRegistry\n) {\n    companion object {\n        private val logger = logger()\n    }\n\n    init {\n        retryRegistry.retry(YOUR_SERVICE)\n            .eventPublisher\n            .onRetry {\n                logger.info(&quot;Retrying: $it&quot;)\n            }\n    }\n}\n</code></pre>\n<p>Now you can use this in your client code, for example like this:</p>\n<pre><code>import io.github.resilience4j.reactor.retry.RetryOperator\nimport io.github.resilience4j.retry.RetryRegistry\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.stereotype.Component\nimport org.springframework.web.reactive.function.client.WebClient\nimport reactor.core.publisher.Mono\n\n\n@Component\nclass YourClient(\n    retryRegistry: RetryRegistry,\n    @Value(&quot;\\${your.url}&quot;) private val baseUrl: String\n) {\n    private val webClient = WebClient.builder().baseUrl(baseUrl).build()\n\n    private val retry = retryRegistry.retry(YOUR_SERVICE)\n\n    fun performRequest(id: String): Mono&lt;YourResponse&gt; =\n        webClient\n            .get()\n            .uri(&quot;/$id&quot;)\n            .retrieve()\n            .bodyToMono(YourResponse::class.java)\n            .transformDeferred(RetryOperator.of(retry))\n            .onErrorResume { fallback(it) }\n\n    fun fallback(e: Throwable): Mono&lt;YourResponse&gt; = Mono.error(RuntimeException(&quot;Tried too many times&quot;))\n}\n</code></pre>\n<p>With this setup I do see retries being performed. Hope this helps.</p>\n<p>EDIT: the code above works using Spring Boot 3.1.1 and Resilience4j 2.1.0, where you need these 2 dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-retry&lt;/artifactId&gt;\n    &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n    &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3584831,"reputation":135,"user_id":2992245,"display_name":"omer keynan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689683313,"creation_date":1648687461,"question_id":71685655,"body_markdown":"I&#39;m calling a service class method using the transformDeferred method:\r\n```\r\npublic Mono&lt;SPathResponse&gt; getPath(SPathRequest request) {\r\n        return pathService.getPath(request)\r\n                .transformDeferred(RetryOperator.of(retry));\r\n}\r\n```\r\nMy retry configuration:\r\n```\r\nRetry retry = Retry.of(&quot;es&quot;, RetryConfig.custom()\r\n            .maxAttempts(3)\r\n            .waitDuration(Duration.of(30, ChronoUnit.MILLIS))\r\n            .writableStackTraceEnabled(true)\r\n            .failAfterMaxAttempts(true)\r\n            .retryOnException(throwable -&gt; throwable instanceof RuntimeException)\r\n            .build());\r\n```\r\nand the test method:\r\n```\r\n@Test\r\n    void shouldRetry() {\r\n        BDDMockito.given(pathService.getPath(any(SPathRequest.class)))\r\n                .willReturn(Mono.error(RuntimeException::new))\r\n                .willReturn(Mono.just(SPathResponse.builder().build()));\r\n        cachedPathService.getPath(SPathRequest.builder()\r\n                        .sourceNodeId(&quot;2&quot;)\r\n                        .sourceCategoryId(&quot;1234&quot;)\r\n                        .destinationNodeId(&quot;123&quot;)\r\n                        .build())\r\n                .as(StepVerifier::create)\r\n                .expectError(RuntimeException.class)\r\n                .verify();\r\n        var captor = ArgumentCaptor.forClass(SPathRequest.class);\r\n        BDDMockito.then(pathService).should(times(2)).getPath(captor.capture());\r\n```\r\nRunning it, I do get the expected exception, but &#39;getPath&#39; is invoked only once.\r\n\r\nI probably miss something cause the retry mechanism should have retried and return the stubbed result on the 2nd invocation which should fail the test since no exception occurred and the actual result should have been expected.\r\n\r\nWhat is wrong with my configuration?\r\n\r\nEdit:\r\nI want the equivalent of this snippet (from resilience4j-reactor examples) for directly invoking on my Mono rather then wrapping a function with Mono.fromCallable):\r\n```\r\n    @Test\r\n    public void returnOnErrorUsingMono() {\r\n        RetryConfig config = retryConfig();\r\n        Retry retry = Retry.of(&quot;testName&quot;, config);\r\n        RetryOperator&lt;String&gt; retryOperator = RetryOperator.of(retry);\r\n        given(helloWorldService.returnHelloWorld())\r\n            .willThrow(new HelloWorldException());\r\n\r\n        StepVerifier.create(Mono.fromCallable(helloWorldService::returnHelloWorld)\r\n            .transformDeferred(retryOperator))\r\n            .expectSubscription()\r\n            .expectError(HelloWorldException.class)\r\n            .verify(Duration.ofSeconds(1));\r\n\r\n        StepVerifier.create(Mono.fromCallable(helloWorldService::returnHelloWorld)\r\n            .transformDeferred(retryOperator))\r\n            .expectSubscription()\r\n            .expectError(HelloWorldException.class)\r\n            .verify(Duration.ofSeconds(1));\r\n\r\n        then(helloWorldService).should(times(6)).returnHelloWorld();\r\n        Retry.Metrics metrics = retry.getMetrics();\r\n        assertThat(metrics.getNumberOfFailedCallsWithRetryAttempt()).isEqualTo(2);\r\n        assertThat(metrics.getNumberOfFailedCallsWithoutRetryAttempt()).isEqualTo(0);\r\n    }\r\n```\r\nWhere retryConfig is defined like this:\r\n```\r\n    private RetryConfig retryConfig() {\r\n        return RetryConfig.custom()\r\n            .waitDuration(Duration.ofMillis(10))\r\n            .build();\r\n    }\r\n```\r\n\r\nThanks. ","title":"How to invoke a retry of resilience4j on a spring mono in a spring-reactor and resilience4j when not using annotations","body":"<p>I'm calling a service class method using the transformDeferred method:</p>\n<pre><code>public Mono&lt;SPathResponse&gt; getPath(SPathRequest request) {\n        return pathService.getPath(request)\n                .transformDeferred(RetryOperator.of(retry));\n}\n</code></pre>\n<p>My retry configuration:</p>\n<pre><code>Retry retry = Retry.of(&quot;es&quot;, RetryConfig.custom()\n            .maxAttempts(3)\n            .waitDuration(Duration.of(30, ChronoUnit.MILLIS))\n            .writableStackTraceEnabled(true)\n            .failAfterMaxAttempts(true)\n            .retryOnException(throwable -&gt; throwable instanceof RuntimeException)\n            .build());\n</code></pre>\n<p>and the test method:</p>\n<pre><code>@Test\n    void shouldRetry() {\n        BDDMockito.given(pathService.getPath(any(SPathRequest.class)))\n                .willReturn(Mono.error(RuntimeException::new))\n                .willReturn(Mono.just(SPathResponse.builder().build()));\n        cachedPathService.getPath(SPathRequest.builder()\n                        .sourceNodeId(&quot;2&quot;)\n                        .sourceCategoryId(&quot;1234&quot;)\n                        .destinationNodeId(&quot;123&quot;)\n                        .build())\n                .as(StepVerifier::create)\n                .expectError(RuntimeException.class)\n                .verify();\n        var captor = ArgumentCaptor.forClass(SPathRequest.class);\n        BDDMockito.then(pathService).should(times(2)).getPath(captor.capture());\n</code></pre>\n<p>Running it, I do get the expected exception, but 'getPath' is invoked only once.</p>\n<p>I probably miss something cause the retry mechanism should have retried and return the stubbed result on the 2nd invocation which should fail the test since no exception occurred and the actual result should have been expected.</p>\n<p>What is wrong with my configuration?</p>\n<p>Edit:\nI want the equivalent of this snippet (from resilience4j-reactor examples) for directly invoking on my Mono rather then wrapping a function with Mono.fromCallable):</p>\n<pre><code>    @Test\n    public void returnOnErrorUsingMono() {\n        RetryConfig config = retryConfig();\n        Retry retry = Retry.of(&quot;testName&quot;, config);\n        RetryOperator&lt;String&gt; retryOperator = RetryOperator.of(retry);\n        given(helloWorldService.returnHelloWorld())\n            .willThrow(new HelloWorldException());\n\n        StepVerifier.create(Mono.fromCallable(helloWorldService::returnHelloWorld)\n            .transformDeferred(retryOperator))\n            .expectSubscription()\n            .expectError(HelloWorldException.class)\n            .verify(Duration.ofSeconds(1));\n\n        StepVerifier.create(Mono.fromCallable(helloWorldService::returnHelloWorld)\n            .transformDeferred(retryOperator))\n            .expectSubscription()\n            .expectError(HelloWorldException.class)\n            .verify(Duration.ofSeconds(1));\n\n        then(helloWorldService).should(times(6)).returnHelloWorld();\n        Retry.Metrics metrics = retry.getMetrics();\n        assertThat(metrics.getNumberOfFailedCallsWithRetryAttempt()).isEqualTo(2);\n        assertThat(metrics.getNumberOfFailedCallsWithoutRetryAttempt()).isEqualTo(0);\n    }\n</code></pre>\n<p>Where retryConfig is defined like this:</p>\n<pre><code>    private RetryConfig retryConfig() {\n        return RetryConfig.custom()\n            .waitDuration(Duration.ofMillis(10))\n            .build();\n    }\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","selenium","verification"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1342193099,"post_id":11473270,"comment_id":15149053,"body_markdown":"What does it mean, exactly? I know several meanings of the word &quot;verification&quot; in the context of software testing. What is exactly what you want to do?","body":"What does it mean, exactly? I know several meanings of the word &quot;verification&quot; in the context of software testing. What is exactly what you want to do?"},{"owner":{"account_id":1330162,"reputation":6691,"user_id":1274248,"accept_rate":80,"display_name":"Will"},"score":0,"creation_date":1342194584,"post_id":11473270,"comment_id":15149730,"body_markdown":"Updated my answer based on the major edit to your question.  Hope this helps.","body":"Updated my answer based on the major edit to your question.  Hope this helps."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1342196039,"post_id":11473270,"comment_id":15150338,"body_markdown":"`Assert.assertEquals(&quot;Text not found!&quot;, &quot;Terms&quot;, list);` always fails but that&#39;s another problem :)","body":"<code>Assert.assertEquals(&quot;Text not found!&quot;, &quot;Terms&quot;, list);</code> always fails but that&#39;s another problem :)"}],"answers":[{"tags":[],"owner":{"account_id":1330162,"reputation":6691,"user_id":1274248,"accept_rate":80,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342194555,"creation_date":1342192650,"answer_id":11473370,"question_id":11473270,"body_markdown":"Sounds like you just need to catch and handle AssertionError thrown by the various methods of [Assert (documented here)][3].  Something like this:\r\n\r\n    try {\r\n      Assert.assertEquals(&quot;Text not found!&quot;, &quot;Terms&quot;, list);\r\n    } catch (AssertionError e) {\r\n      System.err.println(&quot;Assertion failed: &quot; + e.getMessage());\r\n    }\r\n\r\n  [3]: http://junit.sourceforge.net/javadoc/org/junit/Assert.html\r\n\r\n","title":"where I could find documentation on verification methods?","body":"<p>Sounds like you just need to catch and handle AssertionError thrown by the various methods of <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html\" rel=\"nofollow\">Assert (documented here)</a>.  Something like this:</p>\n\n<pre><code>try {\n  Assert.assertEquals(\"Text not found!\", \"Terms\", list);\n} catch (AssertionError e) {\n  System.err.println(\"Assertion failed: \" + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467476,"reputation":3818,"user_id":872883,"accept_rate":91,"display_name":"Hari Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1342329558,"creation_date":1342329558,"answer_id":11489630,"question_id":11473270,"body_markdown":"If you want to continue execution of your test cases even if some some result you are expecting fails and get to see the results at the end of complete execution. \r\n\r\nYou can do something like this - \r\n\r\nDeclare a variable to store all the test case results which fail during execution and then in the tearDown method you can call Assert.fail(String message)\r\n     \r\n\r\n     StringBuffer errors = new StringBuffer();\r\n\r\n     @Test\r\n     public void testSomething(){\r\n        if(!&quot;data&quot;.equals(text)){\r\n          addErrors(text +&quot;not equal to data&quot;);\r\n        }\r\n        \r\n        // add any number of if statements to check anything else \r\n     }\r\n\r\n     @After()\r\n     public void tearDown(){\r\n       if(errors.length()!=0){         \r\n         Assert.fail(errors.toString());\r\n       } \r\n     }\r\n\r\n     public String addErrors(String message){\r\n       errors = errors.append(message+&quot;\\n&quot;);\r\n     }\r\n     \r\n\r\nNow in the testSomething() method you can check or test any number of WebElements on the webpage and all you have to do is have a simple if statement to check if some thing is correct and if not then call the addErrors() method. Hope this helps you.\r\n\r\n","title":"where I could find documentation on verification methods?","body":"<p>If you want to continue execution of your test cases even if some some result you are expecting fails and get to see the results at the end of complete execution. </p>\n\n<p>You can do something like this - </p>\n\n<p>Declare a variable to store all the test case results which fail during execution and then in the tearDown method you can call Assert.fail(String message)</p>\n\n<pre><code> StringBuffer errors = new StringBuffer();\n\n @Test\n public void testSomething(){\n    if(!\"data\".equals(text)){\n      addErrors(text +\"not equal to data\");\n    }\n\n    // add any number of if statements to check anything else \n }\n\n @After()\n public void tearDown(){\n   if(errors.length()!=0){         \n     Assert.fail(errors.toString());\n   } \n }\n\n public String addErrors(String message){\n   errors = errors.append(message+\"\\n\");\n }\n</code></pre>\n\n<p>Now in the testSomething() method you can check or test any number of WebElements on the webpage and all you have to do is have a simple if statement to check if some thing is correct and if not then call the addErrors() method. Hope this helps you.</p>\n"}],"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11489630,"answer_count":2,"score":0,"last_activity_date":1689683194,"creation_date":1342192334,"question_id":11473270,"body_markdown":"I use Assert class to check if some text is on the page, this command stop test executing if text is not present. I want use verification. Could someone tell where I could find documentation on such methods? \r\n\r\nI mean WebDriver, junit. For example such code\r\n\r\n    String text=(&quot;Terms&quot;);\r\n\t List&lt;WebElement&gt; list = driver.findElements(By.xpath(&quot;//*[contains(text(),&#39;&quot; + text + &quot;&#39;)]&quot;));\r\n\t Assert.assertEquals(&quot;Text not found!&quot;, &quot;Terms&quot;, list);\r\n\r\nIf there isn&#39;t text &quot;Term&quot; on page junit test will interrupt test, but I need just take error message and continue test.","title":"where I could find documentation on verification methods?","body":"<p>I use Assert class to check if some text is on the page, this command stop test executing if text is not present. I want use verification. Could someone tell where I could find documentation on such methods? </p>\n\n<p>I mean WebDriver, junit. For example such code</p>\n\n<pre><code>String text=(\"Terms\");\n List&lt;WebElement&gt; list = driver.findElements(By.xpath(\"//*[contains(text(),'\" + text + \"')]\"));\n Assert.assertEquals(\"Text not found!\", \"Terms\", list);\n</code></pre>\n\n<p>If there isn't text \"Term\" on page junit test will interrupt test, but I need just take error message and continue test.</p>\n"},{"tags":["java","spring","redis","spring-data"],"owner":{"account_id":29040982,"reputation":3,"user_id":22245845,"display_name":"nikita alistratenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689682604,"creation_date":1689682604,"question_id":76712696,"body_markdown":"I have a few spring data repositories for redis. \r\nWe are in middle of transition to new redis server. To make it smooth, I need to write data to the old and new redises simultaneously.\r\nSo I need to have two sets of CRUD repositories in runtime, each of them should use different datasource (redis template).\r\nI&#39;ve found an example to introduce a few datasources in Spring app, and use JPA. \r\nBut I was wondering if it&#39;s possible to specify a datasource for the Spring data repository.\r\nThanks!","title":"Spring data specify datasource for repository","body":"<p>I have a few spring data repositories for redis.\nWe are in middle of transition to new redis server. To make it smooth, I need to write data to the old and new redises simultaneously.\nSo I need to have two sets of CRUD repositories in runtime, each of them should use different datasource (redis template).\nI've found an example to introduce a few datasources in Spring app, and use JPA.\nBut I was wondering if it's possible to specify a datasource for the Spring data repository.\nThanks!</p>\n"},{"tags":["java","spring-data-jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689681396,"creation_date":1689681199,"answer_id":76712515,"question_id":76712457,"body_markdown":"If you are using spring-data-jpa.\r\n\r\nYou can use `@Query` in your JpaRepository.\r\n\r\n```JAVA\r\n@Query(nativeQuery = true, value = &quot;SELECT * FROM Foo f WHERE f.name = :name LIMIT 1&quot;)\r\nFoo getFoo(@Param(&quot;name&quot;) String name);\r\n```\r\n\r\nOr you can use `EntityManager` `createQuery()` and `setMaxResult()` from there.","title":"JPA Specification limit 1","body":"<p>If you are using spring-data-jpa.</p>\n<p>You can use <code>@Query</code> in your JpaRepository.</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT * FROM Foo f WHERE f.name = :name LIMIT 1&quot;)\nFoo getFoo(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>Or you can use <code>EntityManager</code> <code>createQuery()</code> and <code>setMaxResult()</code> from there.</p>\n"}],"owner":{"account_id":9627363,"reputation":11,"user_id":7146545,"display_name":"Thibault Vandamme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689681396,"creation_date":1689680810,"question_id":76712457,"body_markdown":"How to limit the query to return the first one within specification (like limit 1 in sql)\r\n\r\n    public static Specification&lt;Foo&gt; one() {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n        ???\r\n      }\r\n    }\r\n\r\nI haven&#39;t found anything present as in TypedQuery method : setMaxResults","title":"JPA Specification limit 1","body":"<p>How to limit the query to return the first one within specification (like limit 1 in sql)</p>\n<pre><code>public static Specification&lt;Foo&gt; one() {\n    return (root, query, criteriaBuilder) -&gt; {\n    ???\n  }\n}\n</code></pre>\n<p>I haven't found anything present as in TypedQuery method : setMaxResults</p>\n"},{"tags":["java","memory-leaks","heap-memory"],"comments":[{"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"score":0,"creation_date":1688555087,"post_id":76575591,"comment_id":135088023,"body_markdown":"This class is from jaxws-rt, however nor the project nor any dependency i use has this as dependent. I really don&#39;t understand how this class is being called.","body":"This class is from jaxws-rt, however nor the project nor any dependency i use has this as dependent. I really don&#39;t understand how this class is being called."},{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688856083,"post_id":76575591,"comment_id":135130639,"body_markdown":"Are you using Maven to manage dependencies?","body":"Are you using Maven to manage dependencies?"},{"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"score":0,"creation_date":1689077003,"post_id":76575591,"comment_id":135159167,"body_markdown":"@Smashoverflow yes i am","body":"@Smashoverflow yes i am"}],"answers":[{"tags":[],"owner":{"account_id":965890,"reputation":1565,"user_id":989324,"accept_rate":76,"display_name":"Harish Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689004482,"creation_date":1688974955,"answer_id":76651660,"question_id":76575591,"body_markdown":"This class comes from glassfish App server which is very hard to dig in or predict until getting my hands dirty to the server and source code which is impossible, since you yourself don&#39;t know what causes the issue.\r\n \r\n\r\n    public enum LazyMOMProvider {\r\n\r\n    INSTANCE;\r\n\r\n    /**\r\n     * Possible scopes (environments) in which the provider (and object associated with it) could be in.\r\n     * Default scope is STANDALONE - applied during initialization of classes. For now, only possible scope change for a\r\n     * object can be in this direction: STANDALONE -&gt; GLASSFISH_NO_JMX -&gt; GLASSFISH_JMX.\r\n     */\r\n    public static enum Scope {\r\n\r\n        //** Default scope where lazy flag is not applied and all Gmbal API calls are processed immediately. */\r\n        STANDALONE,\r\n\r\n        /** In this scope almost all Gmbal API call are deferred until a JMX connection to a Glassfish server is created */\r\n        GLASSFISH_NO_JMX,\r\n\r\n        /** Same as STANDALONE. Gmbal API calls are processed immediately. */\r\n        GLASSFISH_JMX\r\n\r\n    }\r\n\r\n    /**\r\n     * Interface for all object that want to be notified about scope change, introducing required methods.\r\n     */\r\n    public static interface ScopeChangeListener {\r\n\r\n        void scopeChanged(Scope scope);\r\n\r\n    }\r\n\r\n    /**\r\n     * Default interface for all object that want to be notified about scope change. This interface should not be\r\n     * implemented directly.\r\n     */\r\n    public static interface DefaultScopeChangeListener extends ScopeChangeListener {\r\n    }\r\n\r\n    /**\r\n     * Interface used for distinguishing between a registration of a WSEndpointImpl rather than of other classes.\r\n     * Webservice Endpoints should get a notification about scope change sooner than the rest of the registered listeners\r\n     * (there is a possibility that other listeners are dependant on Webservice Endpoints).\r\n     */\r\n    public static interface WSEndpointScopeChangeListener extends ScopeChangeListener {\r\n    }\r\n\r\n    private final Set&lt;WSEndpointScopeChangeListener&gt; endpointsWaitingForMOM = new HashSet();\r\n    private final Set&lt;DefaultScopeChangeListener&gt; listeners = new HashSet();\r\n\r\n    private volatile Scope scope = Scope.STANDALONE;\r\n\r\n    /**\r\n     * Initializes this provider with a given scope. If the given scope is different than the one this provider is\r\n     * currently in and the transition between scopes is valid then a event is fired to all registered listeners.\r\n     *\r\n     * @param scope a scope to initialize this provider with\r\n     */\r\n    public void initMOMForScope(LazyMOMProvider.Scope scope) {\r\n        // cannot go backwards between scopes, for possible scope changes see #Scope\r\n        if ((this.scope == Scope.GLASSFISH_JMX)\r\n                || (scope == Scope.STANDALONE &amp;&amp; (this.scope == Scope.GLASSFISH_JMX || this.scope == Scope.GLASSFISH_NO_JMX))\r\n                || this.scope == scope) {\r\n            return;\r\n        }\r\n\r\n        this.scope = scope;\r\n\r\n        fireScopeChanged();\r\n    }\r\n\r\n    /**\r\n     * Notifies the registered listeners about the scope change.\r\n     */\r\n    private void fireScopeChanged() {\r\n        for (ScopeChangeListener wsEndpoint : endpointsWaitingForMOM) {\r\n            wsEndpoint.scopeChanged(this.scope);\r\n        }\r\n\r\n        for (ScopeChangeListener listener : listeners) {\r\n            listener.scopeChanged(this.scope);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the given object as a listener.\r\n     *\r\n     * @param listener a listener to be registered\r\n     */\r\n    public void registerListener(DefaultScopeChangeListener listener) {\r\n        listeners.add(listener);\r\n\r\n        if (!isProviderInDefaultScope()) {\r\n            listener.scopeChanged(this.scope);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns {@code true} if this provider is in the default scope.\r\n     *\r\n     * @return {@code true} if this provider is in the default scope,\r\n     *          {@code false} otherwise\r\n     */\r\n    private boolean isProviderInDefaultScope() {\r\n        return this.scope == Scope.STANDALONE;\r\n    }\r\n\r\n    public Scope getScope() {\r\n        return scope;\r\n    }\r\n\r\n    /**\r\n     * Registers a Webservice Endpoint as a listener.\r\n     * Webservice Endpoints should rather register through this method than through LazyMOMProvider#registerListener\r\n     * because generally they need to be notified sooner than arbitrary listener (i.e. object that is dependant on\r\n     * Webservice Endpoint)\r\n     *\r\n     * @param wsEndpoint a Webservice Endpoint to be registered\r\n     */\r\n    public void registerEndpoint(WSEndpointScopeChangeListener wsEndpoint) {\r\n        endpointsWaitingForMOM.add(wsEndpoint);\r\n\r\n        if (!isProviderInDefaultScope()) {\r\n            wsEndpoint.scopeChanged(this.scope);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Unregisters a Webservice Endpoint from the list of listeners.\r\n     *\r\n     * @param wsEndpoint a Webservice Endpoint to be unregistered\r\n     */\r\n    public void unregisterEndpoint(WSEndpointScopeChangeListener wsEndpoint) {\r\n        endpointsWaitingForMOM.remove(wsEndpoint);\r\n    }\r\n\r\n    }\r\n\r\nSource Code: [LazyMOMProvider.java][1]\r\n\r\nMy quick troubleshooting advice is to try the following in testbed\r\n\r\n 1. you must be using java 8 which you can upgrade to Java 11 or 17\r\n 2. Try moving your app out from glassfish and migrate it to better server like IBM WebSphere or Oracle Weblogic or Oracle App server, etc and see your application&#39;s performance.\r\n 3. In the worst case, Try upgrading your glassfish server and try running the app if you have no command over upgrading Java or server replacements.\r\n\r\nIt might take a day. but Trust me It helps. \r\n\r\n\r\n  [1]: https://alvinalexander.com/java/jwarehouse/openjdk-8/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java.shtml","title":"Memory Leak from LazyMOMProvider","body":"<p>This class comes from glassfish App server which is very hard to dig in or predict until getting my hands dirty to the server and source code which is impossible, since you yourself don't know what causes the issue.</p>\n<pre><code>public enum LazyMOMProvider {\n\nINSTANCE;\n\n/**\n * Possible scopes (environments) in which the provider (and object associated with it) could be in.\n * Default scope is STANDALONE - applied during initialization of classes. For now, only possible scope change for a\n * object can be in this direction: STANDALONE -&gt; GLASSFISH_NO_JMX -&gt; GLASSFISH_JMX.\n */\npublic static enum Scope {\n\n    //** Default scope where lazy flag is not applied and all Gmbal API calls are processed immediately. */\n    STANDALONE,\n\n    /** In this scope almost all Gmbal API call are deferred until a JMX connection to a Glassfish server is created */\n    GLASSFISH_NO_JMX,\n\n    /** Same as STANDALONE. Gmbal API calls are processed immediately. */\n    GLASSFISH_JMX\n\n}\n\n/**\n * Interface for all object that want to be notified about scope change, introducing required methods.\n */\npublic static interface ScopeChangeListener {\n\n    void scopeChanged(Scope scope);\n\n}\n\n/**\n * Default interface for all object that want to be notified about scope change. This interface should not be\n * implemented directly.\n */\npublic static interface DefaultScopeChangeListener extends ScopeChangeListener {\n}\n\n/**\n * Interface used for distinguishing between a registration of a WSEndpointImpl rather than of other classes.\n * Webservice Endpoints should get a notification about scope change sooner than the rest of the registered listeners\n * (there is a possibility that other listeners are dependant on Webservice Endpoints).\n */\npublic static interface WSEndpointScopeChangeListener extends ScopeChangeListener {\n}\n\nprivate final Set&lt;WSEndpointScopeChangeListener&gt; endpointsWaitingForMOM = new HashSet();\nprivate final Set&lt;DefaultScopeChangeListener&gt; listeners = new HashSet();\n\nprivate volatile Scope scope = Scope.STANDALONE;\n\n/**\n * Initializes this provider with a given scope. If the given scope is different than the one this provider is\n * currently in and the transition between scopes is valid then a event is fired to all registered listeners.\n *\n * @param scope a scope to initialize this provider with\n */\npublic void initMOMForScope(LazyMOMProvider.Scope scope) {\n    // cannot go backwards between scopes, for possible scope changes see #Scope\n    if ((this.scope == Scope.GLASSFISH_JMX)\n            || (scope == Scope.STANDALONE &amp;&amp; (this.scope == Scope.GLASSFISH_JMX || this.scope == Scope.GLASSFISH_NO_JMX))\n            || this.scope == scope) {\n        return;\n    }\n\n    this.scope = scope;\n\n    fireScopeChanged();\n}\n\n/**\n * Notifies the registered listeners about the scope change.\n */\nprivate void fireScopeChanged() {\n    for (ScopeChangeListener wsEndpoint : endpointsWaitingForMOM) {\n        wsEndpoint.scopeChanged(this.scope);\n    }\n\n    for (ScopeChangeListener listener : listeners) {\n        listener.scopeChanged(this.scope);\n    }\n}\n\n/**\n * Registers the given object as a listener.\n *\n * @param listener a listener to be registered\n */\npublic void registerListener(DefaultScopeChangeListener listener) {\n    listeners.add(listener);\n\n    if (!isProviderInDefaultScope()) {\n        listener.scopeChanged(this.scope);\n    }\n}\n\n/**\n * Returns {@code true} if this provider is in the default scope.\n *\n * @return {@code true} if this provider is in the default scope,\n *          {@code false} otherwise\n */\nprivate boolean isProviderInDefaultScope() {\n    return this.scope == Scope.STANDALONE;\n}\n\npublic Scope getScope() {\n    return scope;\n}\n\n/**\n * Registers a Webservice Endpoint as a listener.\n * Webservice Endpoints should rather register through this method than through LazyMOMProvider#registerListener\n * because generally they need to be notified sooner than arbitrary listener (i.e. object that is dependant on\n * Webservice Endpoint)\n *\n * @param wsEndpoint a Webservice Endpoint to be registered\n */\npublic void registerEndpoint(WSEndpointScopeChangeListener wsEndpoint) {\n    endpointsWaitingForMOM.add(wsEndpoint);\n\n    if (!isProviderInDefaultScope()) {\n        wsEndpoint.scopeChanged(this.scope);\n    }\n}\n\n/**\n * Unregisters a Webservice Endpoint from the list of listeners.\n *\n * @param wsEndpoint a Webservice Endpoint to be unregistered\n */\npublic void unregisterEndpoint(WSEndpointScopeChangeListener wsEndpoint) {\n    endpointsWaitingForMOM.remove(wsEndpoint);\n}\n\n}\n</code></pre>\n<p>Source Code: <a href=\"https://alvinalexander.com/java/jwarehouse/openjdk-8/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java.shtml\" rel=\"nofollow noreferrer\">LazyMOMProvider.java</a></p>\n<p>My quick troubleshooting advice is to try the following in testbed</p>\n<ol>\n<li>you must be using java 8 which you can upgrade to Java 11 or 17</li>\n<li>Try moving your app out from glassfish and migrate it to better server like IBM WebSphere or Oracle Weblogic or Oracle App server, etc and see your application's performance.</li>\n<li>In the worst case, Try upgrading your glassfish server and try running the app if you have no command over upgrading Java or server replacements.</li>\n</ol>\n<p>It might take a day. but Trust me It helps.</p>\n"},{"tags":[],"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689087191,"creation_date":1689087191,"answer_id":76663266,"question_id":76575591,"body_markdown":"It looks like your application somehow registers some endpoints which ends in [endpointsWaitingForMOM](https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L135C54-L135C77) HashSet and never un-registers them --&gt; memory leak, so you need somehow call that [unregisterEndpoint](https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L220C17-L220C35) method.  \r\n\r\nHave a look at the [Javadoc](https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L55C1-L87) of the class - there is some description on how to use it in standalone applications - maybe this shines some light on the solution.","title":"Memory Leak from LazyMOMProvider","body":"<p>It looks like your application somehow registers some endpoints which ends in <a href=\"https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L135C54-L135C77\" rel=\"nofollow noreferrer\">endpointsWaitingForMOM</a> HashSet and never un-registers them --&gt; memory leak, so you need somehow call that <a href=\"https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L220C17-L220C35\" rel=\"nofollow noreferrer\">unregisterEndpoint</a> method.</p>\n<p>Have a look at the <a href=\"https://github.com/infobip/infobip-open-jdk-8/blob/master/jaxws/src/share/jaxws_classes/com/sun/xml/internal/ws/api/server/LazyMOMProvider.java#L55C1-L87\" rel=\"nofollow noreferrer\">Javadoc</a> of the class - there is some description on how to use it in standalone applications - maybe this shines some light on the solution.</p>\n"},{"tags":[],"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689681347,"creation_date":1689681347,"answer_id":76712530,"question_id":76575591,"body_markdown":"Even though illogic in my opinion, this situation stemmed from a WebService we had being reset in the middle of the night.\r\n\r\nApparently the WebService was being reset every 30 seconds between 1 and 3 AM, the reset method doesn&#39;t work as it should, because it keeps the objects alive and they are not GC&#39;d.\r\n\r\nBy using a different method of stopping the WebService the objects are properly killed and this situation is gone.","title":"Memory Leak from LazyMOMProvider","body":"<p>Even though illogic in my opinion, this situation stemmed from a WebService we had being reset in the middle of the night.</p>\n<p>Apparently the WebService was being reset every 30 seconds between 1 and 3 AM, the reset method doesn't work as it should, because it keeps the objects alive and they are not GC'd.</p>\n<p>By using a different method of stopping the WebService the objects are properly killed and this situation is gone.</p>\n"}],"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76712530,"answer_count":3,"score":3,"last_activity_date":1689681347,"creation_date":1687974454,"question_id":76575591,"body_markdown":"my java program is eating a bit too much memory suddenly, and so i dumped its contents while it was in a high usage state and analysed it in Eclipse Memory Analyzer and i get that `LazyMOMProvider` through `endpointsWaitingForMOM` is eating up 90% of its memory to an amount of 2.7Gb:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow i did some analyzing and i DO NOT use that class ever in my code, maybe it&#39;s getting called by some dependency i use that has a dependency on this class itself, but do not understand at all what is happening here.\r\n\r\nAnyone have had the same issue that can help me out?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YThGT.png","title":"Memory Leak from LazyMOMProvider","body":"<p>my java program is eating a bit too much memory suddenly, and so i dumped its contents while it was in a high usage state and analysed it in Eclipse Memory Analyzer and i get that <code>LazyMOMProvider</code> through <code>endpointsWaitingForMOM</code> is eating up 90% of its memory to an amount of 2.7Gb:</p>\n<p><a href=\"https://i.stack.imgur.com/YThGT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YThGT.png\" alt=\"enter image description here\" /></a></p>\n<p>Now i did some analyzing and i DO NOT use that class ever in my code, maybe it's getting called by some dependency i use that has a dependency on this class itself, but do not understand at all what is happening here.</p>\n<p>Anyone have had the same issue that can help me out?</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689261172,"post_id":76679872,"comment_id":135191412,"body_markdown":"There is version conflict but you are not showing any actual dependency in your question. Please update your question with more details.","body":"There is version conflict but you are not showing any actual dependency in your question. Please update your question with more details."},{"owner":{"account_id":969227,"reputation":1332,"user_id":992094,"accept_rate":43,"display_name":"Gaurav"},"score":0,"creation_date":1689272392,"post_id":76679872,"comment_id":135193777,"body_markdown":"@aled I checked all the dependencies its exactly same as maven","body":"@aled I checked all the dependencies its exactly same as maven"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689273356,"post_id":76679872,"comment_id":135194009,"body_markdown":"You are asking here but not giving readers the benefit of the needed information to troubleshoot the issue. The only possible answer with this level of information is that there seem to be a version mismatch *somewhere*.","body":"You are asking here but not giving readers the benefit of the needed information to troubleshoot the issue. The only possible answer with this level of information is that there seem to be a version mismatch <i>somewhere</i>."},{"owner":{"account_id":969227,"reputation":1332,"user_id":992094,"accept_rate":43,"display_name":"Gaurav"},"score":0,"creation_date":1689349522,"post_id":76679872,"comment_id":135205756,"body_markdown":"@aled Sorry for the late response. Updates my code with all the dependencies above","body":"@aled Sorry for the late response. Updates my code with all the dependencies above"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689354675,"post_id":76679872,"comment_id":135206821,"body_markdown":"Why are you using `plugins` and `apply plugin` in the same project, and even the same plugin? And why use the `java-library` and `war` plugins in the same project? That can cause issues I think.","body":"Why are you using <code>plugins</code> and <code>apply plugin</code> in the same project, and even the same plugin? And why use the <code>java-library</code> and <code>war</code> plugins in the same project? That can cause issues I think."},{"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1689630309,"post_id":76679872,"comment_id":135238229,"body_markdown":"Would [jHades](https://jhades.github.io/index.html) help debug your classpath/class loader issue?","body":"Would <a href=\"https://jhades.github.io/index.html\" rel=\"nofollow noreferrer\">jHades</a> help debug your classpath/class loader issue?"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1689681732,"post_id":76679872,"comment_id":135245399,"body_markdown":"run `gradlew dependencies` and check for presence of `org.apache.commons` and `org.apache.hadoop`","body":"run <code>gradlew dependencies</code> and check for presence of <code>org.apache.commons</code> and <code>org.apache.hadoop</code>"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1690028722,"post_id":76679872,"comment_id":135297498,"body_markdown":"The dependency you have added is `org.apache.commons:commons-lang3`, but the class `org.apache.commons.lang.StringUtils` is from `commons-lang:commons-lang`. You should either change the dependency or use the class `org.apache.commons.lang3.StringUtils` instead","body":"The dependency you have added is <code>org.apache.commons:commons-lang3</code>, but the class <code>org.apache.commons.lang.StringUtils</code> is from <code>commons-lang:commons-lang</code>. You should either change the dependency or use the class <code>org.apache.commons.lang3.StringUtils</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":2791218,"reputation":1,"user_id":4352746,"display_name":"Arun Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689258602,"creation_date":1689258242,"answer_id":76680486,"question_id":76679872,"body_markdown":"Here is the corrected Gradle script:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenLocal()\r\n            maven {\r\n                url = &quot;https://repo.maven.apache.org/maven2&quot;\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath &#39;net.saliman:gradle-properties-plugin:1.4.6&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java-library&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &#39;war&#39;\r\n    }\r\n    apply plugin: &#39;net.saliman.properties&#39;\r\n    apply plugin: &#39;war&#39;\r\n    \r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n    description = &#39;My first Gradle project&#39;\r\n    java.sourceCompatibility = JavaVersion.VERSION_1_8\r\n    \r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            url = &quot;https://repo.maven.apache.org/maven2&quot;\r\n        }\r\n    }\r\n    \r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/main/java&#39;]\r\n            }`enter code here`\r\n        }\r\n        test {\r\n            java {\r\n                srcDirs = [&#39;src/test/java&#39;]\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // all my dependencies\r\n        api &#39;org.springframework:spring-web:5.3.12&#39;\r\n        runtimeOnly fileTree(dir: &#39;web-inf/lib&#39;, include: &#39;*jar&#39;)\r\n    }\r\n    \r\n    // Copy the WAR file to the desired location\r\n    task copyWar(type: Copy) {\r\n        from war.archiveFile\r\n        into &#39;build/appBundle&#39;\r\n    }\r\n    \r\n    // Create a TAR.GZ archive containing the WAR file\r\n    task tarGz(type: Tar, dependsOn: copyWar) {\r\n        from &#39;build/appBundle&#39;\r\n        archiveFileName = &quot;${rootProject.name}-${version}.tar.gz&quot;\r\n        compression = Compression.GZIP\r\n        archiveBaseName = rootProject.name\r\n        destinationDirectory = file(&#39;build&#39;)\r\n    }\r\n    // Specify dependencies and ordering of tasks\r\n    copyWar.mustRunAfter &#39;war&#39;\r\n    copyXlrInstall.mustRunAfter copyWar\r\n    \r\n    // Define artifacts for publishing\r\n    artifacts {\r\n        archives tarGz\r\n    }","title":"Gradle war errors","body":"<p>Here is the corrected Gradle script:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        maven {\n            url = &quot;https://repo.maven.apache.org/maven2&quot;\n        }\n    }\n    dependencies {\n        classpath 'net.saliman:gradle-properties-plugin:1.4.6'\n    }\n}\n\nplugins {\n    id 'java-library'\n    id 'maven-publish'\n    id 'war'\n}\napply plugin: 'net.saliman.properties'\napply plugin: 'war'\n\n\ngroup = 'com.example'\nversion = '1.0-SNAPSHOT'\ndescription = 'My first Gradle project'\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\n\nrepositories {\n    mavenLocal()\n    maven {\n        url = &quot;https://repo.maven.apache.org/maven2&quot;\n    }\n}\n\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java']\n        }`enter code here`\n    }\n    test {\n        java {\n            srcDirs = ['src/test/java']\n        }\n    }\n}\n\ndependencies {\n    // all my dependencies\n    api 'org.springframework:spring-web:5.3.12'\n    runtimeOnly fileTree(dir: 'web-inf/lib', include: '*jar')\n}\n\n// Copy the WAR file to the desired location\ntask copyWar(type: Copy) {\n    from war.archiveFile\n    into 'build/appBundle'\n}\n\n// Create a TAR.GZ archive containing the WAR file\ntask tarGz(type: Tar, dependsOn: copyWar) {\n    from 'build/appBundle'\n    archiveFileName = &quot;${rootProject.name}-${version}.tar.gz&quot;\n    compression = Compression.GZIP\n    archiveBaseName = rootProject.name\n    destinationDirectory = file('build')\n}\n// Specify dependencies and ordering of tasks\ncopyWar.mustRunAfter 'war'\ncopyXlrInstall.mustRunAfter copyWar\n\n// Define artifacts for publishing\nartifacts {\n    archives tarGz\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689681232,"creation_date":1689679238,"answer_id":76712253,"question_id":76679872,"body_markdown":"The method `org.apache.commons.lang.StringUtils.capitalize()` belongs to `StringUtils` class residing in `org.apache.commons:commons-lang3:3.9` which is specified with `api` scope in your `build.gradle`. This means that the class is available at compile-time but not necessarily included into runtime dependencies.\r\n\r\nIn turn `java.lang.NoSuchMethodError` is a runtime error in Java which occurs when a method is called that exists at compile-time, but does not exist at runtime. So the problem is about the difference between your application&#39;s compile-time classpath and run-time classpath. To debug both please use built-in `dependencies` [task][1].\r\n\r\nMost probably changing\r\n```\r\napi &#39;org.apache.commons:commons-lang3:3.9&#39;\r\n```\r\nto\r\n```\r\nimplementation &#39;org.apache.commons:commons-lang3:3.9&#39;\r\n```\r\nwill fix the issue. Anyway, you have to make sure that `org.apache.commons:commons-lang3:3.9` is available in the run-time classpath of your application, namely whether the corresponding jar file is included into resulting `*.war` file (inspect `/WEB-INF/lib` directory).\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","title":"Gradle war errors","body":"<p>The method <code>org.apache.commons.lang.StringUtils.capitalize()</code> belongs to <code>StringUtils</code> class residing in <code>org.apache.commons:commons-lang3:3.9</code> which is specified with <code>api</code> scope in your <code>build.gradle</code>. This means that the class is available at compile-time but not necessarily included into runtime dependencies.</p>\n<p>In turn <code>java.lang.NoSuchMethodError</code> is a runtime error in Java which occurs when a method is called that exists at compile-time, but does not exist at runtime. So the problem is about the difference between your application's compile-time classpath and run-time classpath. To debug both please use built-in <code>dependencies</code> <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">task</a>.</p>\n<p>Most probably changing</p>\n<pre><code>api 'org.apache.commons:commons-lang3:3.9'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'org.apache.commons:commons-lang3:3.9'\n</code></pre>\n<p>will fix the issue. Anyway, you have to make sure that <code>org.apache.commons:commons-lang3:3.9</code> is available in the run-time classpath of your application, namely whether the corresponding jar file is included into resulting <code>*.war</code> file (inspect <code>/WEB-INF/lib</code> directory).</p>\n"}],"owner":{"account_id":969227,"reputation":1332,"user_id":992094,"accept_rate":43,"display_name":"Gaurav"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689681232,"creation_date":1689254640,"question_id":76679872,"body_markdown":"I migrated from Maven to Gradle and exactly using the same dependencies. But when I deploy war file to the tomcat servers, I have been seeing errors \r\n```\r\n &quot;errMsg&quot;: &quot;Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.commons.lang.StringUtils.capitalize(Ljava/lang/String;)Ljava/lang/String;&quot;,\r\n&quot;Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.security.UserGroupInformation&quot;,\r\n```\r\nMy build.gradle\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            url &#39;&#39;\r\n        }\r\n        maven {\r\n            url &quot;&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;net.saliman:gradle-properties-plugin:1.4.6&#39;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;war&#39;\r\n}\r\napply plugin: &#39;net.saliman.properties&#39;\r\napply plugin: &#39;war&#39;\r\n\r\n\r\ngroup = &#39;&#39;\r\nversion = &#39;&#39;\r\ndescription = &#39;&#39;\r\njava.sourceCompatibility = JavaVersion.VERSION_1_8\r\n\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        url &quot;&quot;\r\n    }\r\n    maven {\r\n        url &quot;&quot;\r\n    }\r\n}\r\n\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src/main/java&#39;]\r\n        }\r\n    }\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;src/test/java&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\napi &#39;com.squareup.okhttp:okhttp:2.7.5&#39;\r\napi &#39;com.squareup.okhttp:okhttp:2.7.5&#39;\r\n\r\napi &#39;com.squareup.okhttp:okhttp:2.7.5&#39;\r\napi &#39;org.bouncycastle:bcprov-jdk15on:1.70&#39;\r\napi &#39;com.voltage.util.vibesimple:vibesimplejava:5.0.0&#39;\r\napi &#39;org.springframework:spring-messaging:5.2.9.RELEASE&#39;\r\napi (&#39;org.springframework:spring-context:5.2.22.RELEASE&#39;){\r\nexclude group: &#39;commons-logging&#39;\r\n}\r\napi &#39;org.springframework:spring-jdbc:5.2.22.RELEASE&#39;\r\napi (&#39;org.springframework.data:spring-data-hadoop-hbase:2.5.0.RELEASE&#39;){\r\nexclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-api&#39;\r\nexclude group: &#39;io.netty&#39;, module: &#39;netty&#39;\r\nexclude group: &#39;io.netty&#39;, module: &#39;netty-all&#39;\r\nexclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-hdfs&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-yarn-server-nodemanager&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-mapreduce-client-core&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-mapper-asl&#39;\r\nexclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\nexclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\nexclude group: &#39;org.apache.avro&#39;, module: &#39;avro&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-common&#39;\r\nexclude group: &#39;org.apache.commons&#39;, module: &#39;commons-compress&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-context&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-aop&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-expression&#39;\r\nexclude group: &#39;org.apache.zookeeper&#39;, module: &#39;zookeeper&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-core&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-beans&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-beans&#39;\r\nexclude group: &#39;javax.xml.bind&#39;, module: &#39;jaxb-api&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-core-asl&#39;\r\nexclude group: &#39;org.mortbay.jetty&#39;, module: &#39;jetty-util&#39;\r\nexclude group: &#39;org.springframework&#39;, module: &#39;spring-messaging&#39;\r\n}\r\napi &#39;org.springframework:spring-webmvc:5.2.22.RELEASE&#39;\r\napi &#39;org.springframework:spring-web:5.2.22.RELEASE&#39;\r\napi &#39;org.springframework:spring-beans:5.2.22.RELEASE&#39;\r\napi &#39;org.springframework:spring-test:5.2.22.RELEASE&#39;\r\napi &#39;javax.servlet:servlet-api:2.5&#39;\r\napi (&#39;io.searchbox:jest:6.3.1&#39;){\r\nexclude module: &#39;org.slf4j:slf4j-api&#39;\r\n}\r\napi &#39;io.searchbox:jest-common:6.3.1&#39;\r\napi (&#39;org.elasticsearch:elasticsearch:7.3.1&#39;){\r\nexclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;\r\nexclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;\r\nexclude group: &#39;com.fasterxml.jackson.dataformat&#39;, module: &#39;jackson-dataformat-cbor&#39;\r\nexclude group: &#39;org.apache.logging.log4j&#39;, module: &#39;log4j-api&#39;\r\n}\r\napi &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.6.6&#39;\r\napi &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.3.0&#39;\r\napi &#39;org.elasticsearch.client:elasticsearch-rest-client:7.16.1&#39;\r\napi (&#39;org.elasticsearch.client:elasticsearch-rest-client-sniffer:7.16.1&#39;){\r\nexclude group: &#39;om.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;\r\n}\r\napi &#39;org.yaml:snakeyaml:1.26&#39;\r\napi &#39;com.fasterxml.jackson.core:jackson-core:2.14.2&#39;\r\napi &#39;com.fasterxml.jackson.core:jackson-databind:2.14.2&#39;\r\napi &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-csv:2.14.2&#39;\r\napi &#39;com.fasterxml.jackson.core:jackson-annotations:2.12.0&#39;\r\napi &#39;org.json:json:20230227&#39;\r\napi &#39;net.sf.supercsv:super-csv:2.2.0&#39;\r\napi &#39;commons-logging:commons-logging:1.1.3&#39;\r\napi &#39;org.slf4j:slf4j-api:1.7.16&#39;\r\napi &#39;org.slf4j:jul-to-slf4j:1.7.16&#39;\r\napi &#39;org.slf4j:jcl-over-slf4j:1.7.16&#39;\r\napi &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.17.1&#39;\r\napi &#39;org.apache.logging.log4j:log4j-api:2.17.1&#39;\r\napi &#39;org.apache.logging.log4j:log4j-core:2.17.1&#39;\r\napi &#39;org.apache.logging.log4j:log4j-1.2-api:2.17.1&#39;\r\napi (&#39;org.apache.hadoop:hadoop-mapreduce-client-core:3.3.6&#39;) {\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n}\r\napi (&#39;org.apache.hadoop:hadoop-yarn-server-nodemanager:3.3.6&#39;) {\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n}\r\napi (&#39;org.apache.hadoop:hadoop-hdfs:3.3.6&#39;) {\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n\r\n}\r\napi (&#39;org.apache.hadoop:hadoop-common:3.3.6&#39;){\r\nexclude group: &#39;jdk.tools&#39;, module: &#39;jdk.tools&#39;\r\nexclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-api&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-mapper-asl&#39;\r\nexclude group: &#39;commons-beanutils&#39;, module: &#39;commons-beanutils&#39;\r\nexclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;\r\nexclude group: &#39;commons-beanutils&#39;, module: &#39;commons-beanutils-core&#39;\r\nexclude group: &#39;commons-lang&#39;, module: &#39;commons-lang&#39;\r\nexclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\nexclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\nexclude group: &#39;org.apache.zookeeper&#39;, module: &#39;zookeeper&#39;\r\nexclude group: &#39;org.apache.commons&#39;, module: &#39;commons-compress&#39;\r\nexclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\nexclude group: &#39;javax.xml.bind&#39;, module: &#39;jaxb-api&#39;\r\nexclude group: &#39;commons-codec&#39;, module: &#39;commons-codec&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-jaxrs&#39;\r\nexclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-xc&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-core-asl&#39;\r\nexclude group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\nexclude group: &#39;commons-collections&#39;, module: &#39;commons-collections&#39;\r\nexclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\nexclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n}\r\napi (&#39;org.apache.hbase:hbase-client:2.5.5&#39;){\r\nexclude group: &#39;jdk.tools&#39;, module: &#39;jdk.tools&#39;\r\nexclude group: &#39;org.codehaus.jackson&#39;, module: &#39;jackson-mapper-asl&#39;\r\nexclude group: &#39;io.netty&#39;, module: &#39;netty-all&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-mapreduce-client-core&#39;\r\nexclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-common&#39;\r\nexclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\nexclude group: &#39;junit&#39;, module: &#39;junit&#39;\r\nexclude group: &#39;commons-codec&#39;, module: &#39;commons-codec&#39;\r\nexclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-api&#39;\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\nexclude group: &#39;com.mapr.hadoop&#39;, module: &#39;maprfs&#39;\r\nexclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\nexclude group: &#39;org.apache.hadoop&#39;, module: &#39;hadoop-auth&#39;\r\nexclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n}\r\napi &#39;org.codehaus.jackson:jackson-mapper-asl:0.9.7&#39;\r\napi (&#39;org.apache.hbase:hbase-common:2.5.5&#39;){\r\nexclude group: &#39;junit&#39;, module: &#39;junit&#39;\r\nexclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\nexclude group: &#39;commons-codec&#39;, module: &#39;commons-codec&#39;\r\nexclude group: &#39;log4j&#39;, module: &#39;log4j&#39;\r\n}\r\napi &#39;org.apache.commons:commons-lang3:3.9&#39;\r\napi &#39;org.apache.commons:commons-dbcp2:2.1.1&#39;\r\napi &#39;commons-codec:commons-codec:1.4&#39;\r\napi &#39;mysql:mysql-connector-java:8.0.31&#39;\r\napi &#39;org.springframework:spring-orm:5.2.22.RELEASE&#39;\r\napi &#39;org.hibernate:hibernate-core:5.4.31.Final&#39;\r\napi (&#39;commons-fileupload:commons-fileupload:1.5&#39;){\r\nexclude group: &#39;commons-io&#39;, module: &#39;commons-io&#39;\r\n}\r\napi &#39;org.apache.poi:poi-ooxml:3.17&#39;\r\napi &#39;org.apache.commons:commons-compress:1.22&#39;\r\napi &#39;org.hibernate:hibernate-envers:5.4.31.Final&#39;\r\napi (&#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.2&#39;){\r\nexclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;\r\nexclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-annotations&#39;\r\nexclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-databind&#39;\r\n}\r\napi &#39;com.cyberark.sdk:javapasswordsdk:9.5.0&#39;\r\ntestImplementation &#39;org.junit.vintage:junit-vintage-engine:5.4.2&#39;\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.0&#39;\r\ntestImplementation &#39;org.junit.platform:junit-platform-launcher:1.7.0&#39;\r\ntestImplementation &#39;org.junit.platform:junit-platform-engine:1.7.0&#39;\r\ntestImplementation &#39;org.junit.platform:junit-platform-commons:1.7.0&#39;\r\ntestImplementation &#39;org.mockito:mockito-core:3.5.13&#39;\r\ntestImplementation &#39;org.mockito:mockito-junit-jupiter:3.5.13&#39;\r\ntestImplementation &#39;org.powermock:powermock-module-junit4:2.0.7&#39;\r\ntestImplementation &#39;org.powermock:powermock-api-mockito2:2.0.7&#39;\r\n}\r\n\r\n// Copy the WAR file to the desired location\r\ntask copyWar(type: Copy) {\r\n    from war.archiveFile\r\n    into &#39;build/appBundle&#39;\r\n}\r\n\r\n// Create a TAR.GZ archive containing the WAR file\r\ntask tarGz(type: Tar, dependsOn: copyWar) {\r\n    from &#39;build/appBundle&#39;\r\n    archiveFileName = &quot;${rootProject.name}-${version}.tar.gz&quot;\r\n    compression = Compression.GZIP\r\n    archiveBaseName = rootProject.name\r\n    destinationDirectory = file(&#39;build&#39;)\r\n}\r\n// Specify dependencies and ordering of tasks\r\ncopyWar.mustRunAfter &#39;war&#39;\r\ncopyXlrInstall.mustRunAfter copyWar\r\n\r\n// Define artifacts for publishing\r\nartifacts {\r\n    archives tarGz\r\n}\r\n```\r\n\r\nI compared my maven target folder with build(libs) folder and all the dependencies are there.\r\n\r\nAny help would be appreciated!\r\n","title":"Gradle war errors","body":"<p>I migrated from Maven to Gradle and exactly using the same dependencies. But when I deploy war file to the tomcat servers, I have been seeing errors</p>\n<pre><code> &quot;errMsg&quot;: &quot;Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: org.apache.commons.lang.StringUtils.capitalize(Ljava/lang/String;)Ljava/lang/String;&quot;,\n&quot;Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.security.UserGroupInformation&quot;,\n</code></pre>\n<p>My build.gradle</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        maven {\n            url ''\n        }\n        maven {\n            url &quot;&quot;\n        }\n    }\n    dependencies {\n        classpath 'net.saliman:gradle-properties-plugin:1.4.6'\n    }\n}\n\nplugins {\n    id 'java-library'\n    id 'maven-publish'\n    id 'war'\n}\napply plugin: 'net.saliman.properties'\napply plugin: 'war'\n\n\ngroup = ''\nversion = ''\ndescription = ''\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\n\nrepositories {\n    mavenLocal()\n    maven {\n        url &quot;&quot;\n    }\n    maven {\n        url &quot;&quot;\n    }\n}\n\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java']\n        }\n    }\n    test {\n        java {\n            srcDirs = ['src/test/java']\n        }\n    }\n}\n\ndependencies {\napi 'com.squareup.okhttp:okhttp:2.7.5'\napi 'com.squareup.okhttp:okhttp:2.7.5'\n\napi 'com.squareup.okhttp:okhttp:2.7.5'\napi 'org.bouncycastle:bcprov-jdk15on:1.70'\napi 'com.voltage.util.vibesimple:vibesimplejava:5.0.0'\napi 'org.springframework:spring-messaging:5.2.9.RELEASE'\napi ('org.springframework:spring-context:5.2.22.RELEASE'){\nexclude group: 'commons-logging'\n}\napi 'org.springframework:spring-jdbc:5.2.22.RELEASE'\napi ('org.springframework.data:spring-data-hadoop-hbase:2.5.0.RELEASE'){\nexclude group: 'org.slf4j', module: 'slf4j-api'\nexclude group: 'io.netty', module: 'netty'\nexclude group: 'io.netty', module: 'netty-all'\nexclude group: 'xerces', module: 'xercesImpl'\nexclude group: 'org.apache.hadoop', module: 'hadoop-hdfs'\nexclude group: 'org.apache.hadoop', module: 'hadoop-yarn-server-nodemanager'\nexclude group: 'org.apache.hadoop', module: 'hadoop-mapreduce-client-core'\nexclude group: 'org.codehaus.jackson', module: 'jackson-mapper-asl'\nexclude group: 'com.google.guava', module: 'guava'\nexclude group: 'commons-logging', module: 'commons-logging'\nexclude group: 'org.apache.avro', module: 'avro'\nexclude group: 'org.apache.hadoop', module: 'hadoop-common'\nexclude group: 'org.apache.commons', module: 'commons-compress'\nexclude group: 'org.springframework', module: 'spring-context'\nexclude group: 'org.springframework', module: 'spring-aop'\nexclude group: 'org.springframework', module: 'spring-expression'\nexclude group: 'org.apache.zookeeper', module: 'zookeeper'\nexclude group: 'org.springframework', module: 'spring-core'\nexclude group: 'org.springframework', module: 'spring-beans'\nexclude group: 'org.springframework', module: 'spring-beans'\nexclude group: 'javax.xml.bind', module: 'jaxb-api'\nexclude group: 'org.codehaus.jackson', module: 'jackson-core-asl'\nexclude group: 'org.mortbay.jetty', module: 'jetty-util'\nexclude group: 'org.springframework', module: 'spring-messaging'\n}\napi 'org.springframework:spring-webmvc:5.2.22.RELEASE'\napi 'org.springframework:spring-web:5.2.22.RELEASE'\napi 'org.springframework:spring-beans:5.2.22.RELEASE'\napi 'org.springframework:spring-test:5.2.22.RELEASE'\napi 'javax.servlet:servlet-api:2.5'\napi ('io.searchbox:jest:6.3.1'){\nexclude module: 'org.slf4j:slf4j-api'\n}\napi 'io.searchbox:jest-common:6.3.1'\napi ('org.elasticsearch:elasticsearch:7.3.1'){\nexclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'\nexclude group: 'org.yaml', module: 'snakeyaml'\nexclude group: 'com.fasterxml.jackson.dataformat', module: 'jackson-dataformat-cbor'\nexclude group: 'org.apache.logging.log4j', module: 'log4j-api'\n}\napi 'com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.6.6'\napi 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.3.0'\napi 'org.elasticsearch.client:elasticsearch-rest-client:7.16.1'\napi ('org.elasticsearch.client:elasticsearch-rest-client-sniffer:7.16.1'){\nexclude group: 'om.fasterxml.jackson.core', module: 'jackson-core'\n}\napi 'org.yaml:snakeyaml:1.26'\napi 'com.fasterxml.jackson.core:jackson-core:2.14.2'\napi 'com.fasterxml.jackson.core:jackson-databind:2.14.2'\napi 'com.fasterxml.jackson.dataformat:jackson-dataformat-csv:2.14.2'\napi 'com.fasterxml.jackson.core:jackson-annotations:2.12.0'\napi 'org.json:json:20230227'\napi 'net.sf.supercsv:super-csv:2.2.0'\napi 'commons-logging:commons-logging:1.1.3'\napi 'org.slf4j:slf4j-api:1.7.16'\napi 'org.slf4j:jul-to-slf4j:1.7.16'\napi 'org.slf4j:jcl-over-slf4j:1.7.16'\napi 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.1'\napi 'org.apache.logging.log4j:log4j-api:2.17.1'\napi 'org.apache.logging.log4j:log4j-core:2.17.1'\napi 'org.apache.logging.log4j:log4j-1.2-api:2.17.1'\napi ('org.apache.hadoop:hadoop-mapreduce-client-core:3.3.6') {\nexclude group: 'log4j', module: 'log4j'\n}\napi ('org.apache.hadoop:hadoop-yarn-server-nodemanager:3.3.6') {\nexclude group: 'log4j', module: 'log4j'\n}\napi ('org.apache.hadoop:hadoop-hdfs:3.3.6') {\nexclude group: 'log4j', module: 'log4j'\n\n}\napi ('org.apache.hadoop:hadoop-common:3.3.6'){\nexclude group: 'jdk.tools', module: 'jdk.tools'\nexclude group: 'org.slf4j', module: 'slf4j-api'\nexclude group: 'org.codehaus.jackson', module: 'jackson-mapper-asl'\nexclude group: 'commons-beanutils', module: 'commons-beanutils'\nexclude group: 'xerces', module: 'xercesImpl'\nexclude group: 'commons-beanutils', module: 'commons-beanutils-core'\nexclude group: 'commons-lang', module: 'commons-lang'\nexclude group: 'commons-logging', module: 'commons-logging'\nexclude group: 'com.google.guava', module: 'guava'\nexclude group: 'org.apache.zookeeper', module: 'zookeeper'\nexclude group: 'org.apache.commons', module: 'commons-compress'\nexclude group: 'org.apache.httpcomponents', module: 'httpclient'\nexclude group: 'javax.xml.bind', module: 'jaxb-api'\nexclude group: 'commons-codec', module: 'commons-codec'\nexclude group: 'org.codehaus.jackson', module: 'jackson-jaxrs'\nexclude group: 'org.slf4j', module: 'slf4j-log4j12'\nexclude group: 'org.codehaus.jackson', module: 'jackson-xc'\nexclude group: 'org.codehaus.jackson', module: 'jackson-core-asl'\nexclude group: 'com.google.code.gson', module: 'gson'\nexclude group: 'commons-collections', module: 'commons-collections'\nexclude group: 'org.apache.httpcomponents', module: 'httpcore'\nexclude group: 'org.yaml', module: 'snakeyaml'\nexclude group: 'log4j', module: 'log4j'\n}\napi ('org.apache.hbase:hbase-client:2.5.5'){\nexclude group: 'jdk.tools', module: 'jdk.tools'\nexclude group: 'org.codehaus.jackson', module: 'jackson-mapper-asl'\nexclude group: 'io.netty', module: 'netty-all'\nexclude group: 'org.apache.hadoop', module: 'hadoop-mapreduce-client-core'\nexclude group: 'commons-logging', module: 'commons-logging'\nexclude group: 'org.apache.hadoop', module: 'hadoop-common'\nexclude group: 'com.google.guava', module: 'guava'\nexclude group: 'junit', module: 'junit'\nexclude group: 'commons-codec', module: 'commons-codec'\nexclude group: 'org.slf4j', module: 'slf4j-api'\nexclude group: 'log4j', module: 'log4j'\nexclude group: 'com.mapr.hadoop', module: 'maprfs'\nexclude group: 'org.json', module: 'json'\nexclude group: 'org.apache.hadoop', module: 'hadoop-auth'\nexclude group: 'org.slf4j', module: 'slf4j-log4j12'\n}\napi 'org.codehaus.jackson:jackson-mapper-asl:0.9.7'\napi ('org.apache.hbase:hbase-common:2.5.5'){\nexclude group: 'junit', module: 'junit'\nexclude group: 'com.google.guava', module: 'guava'\nexclude group: 'commons-codec', module: 'commons-codec'\nexclude group: 'log4j', module: 'log4j'\n}\napi 'org.apache.commons:commons-lang3:3.9'\napi 'org.apache.commons:commons-dbcp2:2.1.1'\napi 'commons-codec:commons-codec:1.4'\napi 'mysql:mysql-connector-java:8.0.31'\napi 'org.springframework:spring-orm:5.2.22.RELEASE'\napi 'org.hibernate:hibernate-core:5.4.31.Final'\napi ('commons-fileupload:commons-fileupload:1.5'){\nexclude group: 'commons-io', module: 'commons-io'\n}\napi 'org.apache.poi:poi-ooxml:3.17'\napi 'org.apache.commons:commons-compress:1.22'\napi 'org.hibernate:hibernate-envers:5.4.31.Final'\napi ('com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.2'){\nexclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'\nexclude group: 'com.fasterxml.jackson.core', module: 'jackson-annotations'\nexclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'\n}\napi 'com.cyberark.sdk:javapasswordsdk:9.5.0'\ntestImplementation 'org.junit.vintage:junit-vintage-engine:5.4.2'\ntestImplementation 'org.junit.jupiter:junit-jupiter:5.7.0'\ntestImplementation 'org.junit.platform:junit-platform-launcher:1.7.0'\ntestImplementation 'org.junit.platform:junit-platform-engine:1.7.0'\ntestImplementation 'org.junit.platform:junit-platform-commons:1.7.0'\ntestImplementation 'org.mockito:mockito-core:3.5.13'\ntestImplementation 'org.mockito:mockito-junit-jupiter:3.5.13'\ntestImplementation 'org.powermock:powermock-module-junit4:2.0.7'\ntestImplementation 'org.powermock:powermock-api-mockito2:2.0.7'\n}\n\n// Copy the WAR file to the desired location\ntask copyWar(type: Copy) {\n    from war.archiveFile\n    into 'build/appBundle'\n}\n\n// Create a TAR.GZ archive containing the WAR file\ntask tarGz(type: Tar, dependsOn: copyWar) {\n    from 'build/appBundle'\n    archiveFileName = &quot;${rootProject.name}-${version}.tar.gz&quot;\n    compression = Compression.GZIP\n    archiveBaseName = rootProject.name\n    destinationDirectory = file('build')\n}\n// Specify dependencies and ordering of tasks\ncopyWar.mustRunAfter 'war'\ncopyXlrInstall.mustRunAfter copyWar\n\n// Define artifacts for publishing\nartifacts {\n    archives tarGz\n}\n</code></pre>\n<p>I compared my maven target folder with build(libs) folder and all the dependencies are there.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","angular","spring-boot","cors"],"answers":[{"tags":[],"owner":{"account_id":14294775,"reputation":344,"user_id":10325765,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689671799,"creation_date":1689671799,"answer_id":76711245,"question_id":76708776,"body_markdown":"According to [this][1], in order to allow all origins, you can remove `.allowedOrigins(&quot;*&quot;)` and instead just write\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;);\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cors","title":"MY Angular - Access to XMLHttpRequest Blocked by CORS: No &#39;Access-Control-Allow-Origin&#39; Header Present","body":"<p>According to <a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">this</a>, in order to allow all origins, you can remove <code>.allowedOrigins(&quot;*&quot;)</code> and instead just write</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22532373,"reputation":19,"user_id":16724205,"display_name":"Keemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689681185,"creation_date":1689638449,"question_id":76708776,"body_markdown":"So basically im making a springboot application the server side is\r\nfine but on the angular side im running into a cors error which is\r\nsaying the HttpRequest is being blocked by CORS Im really struggling\r\nwith this and have looked through many tutorials hoping to find a fix\r\nI&#39;m gonna paste my codes down below and if anyone has a clue as to why\r\nI&#39; m getting this error please help me fix it cheers none of the data from the server side is being displayed and the CORS error is the main reason.\r\n\r\nHeres the Angular code:\r\n\r\n    &lt;h2&gt;Lecturers&lt;/h2&gt;\r\n    \r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;ID&lt;/th&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Email&lt;/th&gt;\r\n            &lt;th&gt;Action&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr *ngFor=&quot;let lecturer of lecturers&quot;&gt;\r\n            &lt;td&gt;{{ lecturer.id }}&lt;/td&gt;\r\n            &lt;td&gt;{{ lecturer.name }}&lt;/td&gt;\r\n            &lt;td&gt;{{ lecturer.email }}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;button (click)=&quot;updateLecturer(lecturer)&quot;&gt;Edit&lt;/button&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\n`lecturers.component.ts` class:\r\n    \r\n    \r\n    import { Component, OnInit } from &#39;@angular/core&#39;;\r\n    import { HttpClient } from &#39;@angular/common/http&#39;;\r\n    import { Router } from &#39;@angular/router&#39;;\r\n    \r\n    @Component({\r\n      selector: &#39;app-lecturers&#39;,\r\n      templateUrl: &#39;./lecturers.component.html&#39;,\r\n      styleUrls: [&#39;./lecturers.component.css&#39;]\r\n    })\r\n    export class LecturersComponent implements OnInit {\r\n      lecturers: any[] = [];\r\n    \r\n      constructor(private http: HttpClient, private router: Router) { }\r\n    \r\n      ngOnInit(): void {\r\n        this.fetchLecturers();\r\n      }\r\n    \r\n      fetchLecturers(): void {\r\n        this.http.get&lt;any[]&gt;(&#39;http://localhost:8081/lecturers&#39;).subscribe(\r\n          data =&gt; {\r\n            this.lecturers = data;\r\n          },\r\n          error =&gt; {\r\n            console.error(error);\r\n          }\r\n        );\r\n      }\r\n    \r\n      updateLecturer(lecturer: any) {\r\n        // Redirect to edit page with lecturer id in URL\r\n        this.router.navigate([&#39;/lecturers/edit&#39;, lecturer.id]);\r\n      }\r\n    }\r\n\r\n\r\nHere&#39;ss my server-side code.\r\n\r\nlecturer controller:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    \r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    \r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/lecturers&quot;)\r\n    public class LecturerController {\r\n        private final LecturerService lecturerService;\r\n    \r\n        public LecturerController(LecturerService lecturerService) {\r\n            this.lecturerService = lecturerService;\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Lecturer&gt; getAllLecturers() {\r\n            return lecturerService.getAllLecturers();\r\n        }\r\n    \r\n        // Create a new lecturer\r\n        @PostMapping\r\n        public Lecturer createLecturer(@Valid @RequestBody Lecturer lecturer) {\r\n            return lecturerService.createLecturer(lecturer);\r\n        }\r\n    \r\n        // Update an existing lecturer\r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public Lecturer updateLecturer(@PathVariable Long id, @Valid @RequestBody Lecturer lecturer) throws NotFoundException {\r\n            return lecturerService.updateLecturer(id, lecturer);\r\n        }\r\n    \r\n        // Search for Lecturers by taxBand and salaryScale\r\n        @GetMapping(&quot;/search&quot;)\r\n        public ResponseEntity&lt;List&lt;Lecturer&gt;&gt; searchLecturersByTaxBandAndSalaryScale(@RequestParam(&quot;taxBand&quot;) String taxBand, @RequestParam(&quot;salaryScale&quot;) int salaryScale) {\r\n            List&lt;Lecturer&gt; lecturers = lecturerService.searchLecturersByTaxBandAndSalaryScale(taxBand, salaryScale);\r\n            return ResponseEntity.ok(lecturers);\r\n        }\r\n    }\r\n\r\n`CorsConfig` class:\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    \r\n    @Configuration\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n    \r\n    \t    @Override\r\n    \t    public void addCorsMappings(CorsRegistry registry) {\r\n    \t        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\r\n    \t    }\r\n    \t}\r\n\r\n","title":"MY Angular - Access to XMLHttpRequest Blocked by CORS: No &#39;Access-Control-Allow-Origin&#39; Header Present","body":"<p>So basically im making a springboot application the server side is\nfine but on the angular side im running into a cors error which is\nsaying the HttpRequest is being blocked by CORS Im really struggling\nwith this and have looked through many tutorials hoping to find a fix\nI'm gonna paste my codes down below and if anyone has a clue as to why\nI' m getting this error please help me fix it cheers none of the data from the server side is being displayed and the CORS error is the main reason.</p>\n<p>Heres the Angular code:</p>\n<pre><code>&lt;h2&gt;Lecturers&lt;/h2&gt;\n\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;ID&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n        &lt;th&gt;Action&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=&quot;let lecturer of lecturers&quot;&gt;\n        &lt;td&gt;{{ lecturer.id }}&lt;/td&gt;\n        &lt;td&gt;{{ lecturer.name }}&lt;/td&gt;\n        &lt;td&gt;{{ lecturer.email }}&lt;/td&gt;\n        &lt;td&gt;\n            &lt;button (click)=&quot;updateLecturer(lecturer)&quot;&gt;Edit&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p><code>lecturers.component.ts</code> class:</p>\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-lecturers',\n  templateUrl: './lecturers.component.html',\n  styleUrls: ['./lecturers.component.css']\n})\nexport class LecturersComponent implements OnInit {\n  lecturers: any[] = [];\n\n  constructor(private http: HttpClient, private router: Router) { }\n\n  ngOnInit(): void {\n    this.fetchLecturers();\n  }\n\n  fetchLecturers(): void {\n    this.http.get&lt;any[]&gt;('http://localhost:8081/lecturers').subscribe(\n      data =&gt; {\n        this.lecturers = data;\n      },\n      error =&gt; {\n        console.error(error);\n      }\n    );\n  }\n\n  updateLecturer(lecturer: any) {\n    // Redirect to edit page with lecturer id in URL\n    this.router.navigate(['/lecturers/edit', lecturer.id]);\n  }\n}\n</code></pre>\n<p>Here'ss my server-side code.</p>\n<p>lecturer controller:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/lecturers&quot;)\npublic class LecturerController {\n    private final LecturerService lecturerService;\n\n    public LecturerController(LecturerService lecturerService) {\n        this.lecturerService = lecturerService;\n    }\n\n    @GetMapping\n    public List&lt;Lecturer&gt; getAllLecturers() {\n        return lecturerService.getAllLecturers();\n    }\n\n    // Create a new lecturer\n    @PostMapping\n    public Lecturer createLecturer(@Valid @RequestBody Lecturer lecturer) {\n        return lecturerService.createLecturer(lecturer);\n    }\n\n    // Update an existing lecturer\n    @PutMapping(&quot;/{id}&quot;)\n    public Lecturer updateLecturer(@PathVariable Long id, @Valid @RequestBody Lecturer lecturer) throws NotFoundException {\n        return lecturerService.updateLecturer(id, lecturer);\n    }\n\n    // Search for Lecturers by taxBand and salaryScale\n    @GetMapping(&quot;/search&quot;)\n    public ResponseEntity&lt;List&lt;Lecturer&gt;&gt; searchLecturersByTaxBandAndSalaryScale(@RequestParam(&quot;taxBand&quot;) String taxBand, @RequestParam(&quot;salaryScale&quot;) int salaryScale) {\n        List&lt;Lecturer&gt; lecturers = lecturerService.searchLecturersByTaxBandAndSalaryScale(taxBand, salaryScale);\n        return ResponseEntity.ok(lecturers);\n    }\n}\n</code></pre>\n<p><code>CorsConfig</code> class:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","recursive-backtracking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689680575,"post_id":76712373,"comment_id":135245145,"body_markdown":"Try stepping through your code with the debugger.","body":"Try stepping through your code with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":20650084,"reputation":2646,"user_id":15160601,"display_name":"zoldxk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689680791,"creation_date":1689680791,"answer_id":76712453,"question_id":76712373,"body_markdown":" When you add `nums` to `list` using `list.add(nums)`, you are actually adding a reference to the `nums` ArrayList. This means that when you modify `nums` later on by adding or removing elements, those changes will also be reflected in the subsets already added to `list`. As a result, all subsets in `list` end up being the same, which is an empty list at the end of your recursion.\r\n\r\nTo fix that, you need to create a new ArrayList and add a copy of `nums` to `list` instead of adding the reference directly. This way, each subset in `list` will be independent of the changes made to `nums` afterwards.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        int[] arr = {2, 3, 5};\r\n        subset(list, nums, arr, 0);\r\n        System.out.println(list);\r\n    }\r\n\r\n    static void subset(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; nums, int[] arr, int index) {\r\n        if (index == arr.length) {\r\n            list.add(new ArrayList&lt;&gt;(nums)); // Add a copy of nums to list\r\n            return;\r\n        }\r\n\r\n        int c = arr[index];\r\n        nums.add(c);\r\n        subset(list, nums, arr, index + 1);\r\n        nums.remove(nums.size() - 1);\r\n        subset(list, nums, arr, index + 1);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n[[2, 3, 5], [2, 3], [2, 5], [2], [3, 5], [3], [5], []]\r\n```","title":"write a program in java to return the list of the subsets of a given array with the help of backtracking and recursion without using loops","body":"<p>When you add <code>nums</code> to <code>list</code> using <code>list.add(nums)</code>, you are actually adding a reference to the <code>nums</code> ArrayList. This means that when you modify <code>nums</code> later on by adding or removing elements, those changes will also be reflected in the subsets already added to <code>list</code>. As a result, all subsets in <code>list</code> end up being the same, which is an empty list at the end of your recursion.</p>\n<p>To fix that, you need to create a new ArrayList and add a copy of <code>nums</code> to <code>list</code> instead of adding the reference directly. This way, each subset in <code>list</code> will be independent of the changes made to <code>nums</code> afterwards.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n        int[] arr = {2, 3, 5};\n        subset(list, nums, arr, 0);\n        System.out.println(list);\n    }\n\n    static void subset(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; nums, int[] arr, int index) {\n        if (index == arr.length) {\n            list.add(new ArrayList&lt;&gt;(nums)); // Add a copy of nums to list\n            return;\n        }\n\n        int c = arr[index];\n        nums.add(c);\n        subset(list, nums, arr, index + 1);\n        nums.remove(nums.size() - 1);\n        subset(list, nums, arr, index + 1);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[[2, 3, 5], [2, 3], [2, 5], [2], [3, 5], [3], [5], []]\n</code></pre>\n"}],"owner":{"account_id":29041110,"reputation":11,"user_id":22245954,"display_name":"learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689680791,"creation_date":1689680261,"question_id":76712373,"body_markdown":"```\r\nimport java.util.ArrayList;`\r\npublic class Main{\r\n public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;Integer&gt;&gt; list= new ArrayList&lt;&gt;();\r\n        int[] arr = {2,3,5};\r\n      subset(list,nums,arr,0);\r\n        System.out.println(list);\r\n    } \r\nstatic void subset(List&lt;List&lt;Integer&gt;&gt; list,ArrayList&lt;Integer&gt; nums,int[] arr, int index){\r\n        if(index==arr.length){\r\n          list.add(nums);\r\n            return  ;\r\n    }\r\n        int c= arr[index];\r\n        nums.add(c);\r\n      subset(list,nums,arr,index+1);\r\n        nums.remove(nums.size()-1);\r\n       subset(list,nums,arr, index+1);\r\n   return ;\r\n    }\r\n}`type here\r\n```\r\n    \r\noutput={[],[],[],[],[],[],[],[],[]}\r\nexpected={[2,3,5],[2,3],[2,5],[2],[3,5],[3],[5],[]}\r\ncan anyone tell me why it is giving empty list ?\r\n\r\n\r\nI wrote a program for returning a list containing lists of subsets of a given array  using backtracking and recursion , I called a function named subset of void returntype where I was adding elements ie, subsets in the list (containing subsets of a set) and expecting to then print that list  after coming out of the function but it is giving me list  of empty lists ie, {[],[],[],[],[],[],[],[]} , can anyone please help me solving this problem.\r\n\r\n","title":"write a program in java to return the list of the subsets of a given array with the help of backtracking and recursion without using loops","body":"<pre><code>import java.util.ArrayList;`\npublic class Main{\n public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; list= new ArrayList&lt;&gt;();\n        int[] arr = {2,3,5};\n      subset(list,nums,arr,0);\n        System.out.println(list);\n    } \nstatic void subset(List&lt;List&lt;Integer&gt;&gt; list,ArrayList&lt;Integer&gt; nums,int[] arr, int index){\n        if(index==arr.length){\n          list.add(nums);\n            return  ;\n    }\n        int c= arr[index];\n        nums.add(c);\n      subset(list,nums,arr,index+1);\n        nums.remove(nums.size()-1);\n       subset(list,nums,arr, index+1);\n   return ;\n    }\n}`type here\n</code></pre>\n<p>output={[],[],[],[],[],[],[],[],[]}\nexpected={[2,3,5],[2,3],[2,5],[2],[3,5],[3],[5],[]}\ncan anyone tell me why it is giving empty list ?</p>\n<p>I wrote a program for returning a list containing lists of subsets of a given array  using backtracking and recursion , I called a function named subset of void returntype where I was adding elements ie, subsets in the list (containing subsets of a set) and expecting to then print that list  after coming out of the function but it is giving me list  of empty lists ie, {[],[],[],[],[],[],[],[]} , can anyone please help me solving this problem.</p>\n"},{"tags":["java","cplex","constraint-programming"],"answers":[{"tags":[],"owner":{"account_id":4592706,"reputation":9381,"user_id":3725596,"display_name":"Alex Fleischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689680597,"creation_date":1689680597,"answer_id":76712421,"question_id":76706392,"body_markdown":"in the example teambuilding.java you may read\r\n\r\n            IloIntVar[] allVars = cp.intVarArray(nbPersons);\r\n            int s = 0;\r\n            int w;\r\n            int p;\r\n            for (w = 0; w &lt; nbTeams; ++w) {\r\n                for (p = 0; p &lt; teamSize; ++p) {\r\n                    allVars[s] = groups[w][p];\r\n                    ++s;\r\n                }\r\n            }\r\n            cp.add(cp.allDiff(allVars));\r\n","title":"Writing a simple CPLEX model","body":"<p>in the example teambuilding.java you may read</p>\n<pre><code>        IloIntVar[] allVars = cp.intVarArray(nbPersons);\n        int s = 0;\n        int w;\n        int p;\n        for (w = 0; w &lt; nbTeams; ++w) {\n            for (p = 0; p &lt; teamSize; ++p) {\n                allVars[s] = groups[w][p];\n                ++s;\n            }\n        }\n        cp.add(cp.allDiff(allVars));\n</code></pre>\n"}],"owner":{"account_id":29035364,"reputation":1,"user_id":22241401,"display_name":"Patrick Perkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689680597,"creation_date":1689610893,"question_id":76706392,"body_markdown":"I&#39;m trying to write a CPLEX model that reflects this set of constraints: \r\n\r\n```\r\nx, y, z in { 1, 2, 3 }\r\nconstraint C1: AllDiff(x,y,z)\r\nconstraint C2: z == x + 2y\r\nconstraint C3: y &lt; x\r\nconstraint C4: z == 2x\r\n```\r\n\r\nThe goal of the model is to find an appropriate value for z that adheres to the constraints. This of course is impossible because constraints C1 and C2 together make the model infeasible. There is no value of z that fits these constraints. I want to design this model in Java and then run the cpoptimizer command &quot;display conflict&quot; on the model to see if it finds the C1 C2 conflict. I&#39;ve started with this\r\n   \r\n```\r\nIloCP cp = new IloCP();\r\nIloIntVar numSet = cp.intVar(new int[]{1, 2, 3}, &quot;numSet&quot;);\r\n```\r\n    \r\nBut I don&#39;t know where to go from here or if this is even correct. How do you state that x, y, z are all in this set and that they all have to be different? \r\n\r\nI&#39;ve started writing the model but I&#39;m a little stuck as I&#39;ve never written a CPLEX model before. I&#39;m not sure how to write these constraints in a way that CPLEX understands.","title":"Writing a simple CPLEX model","body":"<p>I'm trying to write a CPLEX model that reflects this set of constraints:</p>\n<pre><code>x, y, z in { 1, 2, 3 }\nconstraint C1: AllDiff(x,y,z)\nconstraint C2: z == x + 2y\nconstraint C3: y &lt; x\nconstraint C4: z == 2x\n</code></pre>\n<p>The goal of the model is to find an appropriate value for z that adheres to the constraints. This of course is impossible because constraints C1 and C2 together make the model infeasible. There is no value of z that fits these constraints. I want to design this model in Java and then run the cpoptimizer command &quot;display conflict&quot; on the model to see if it finds the C1 C2 conflict. I've started with this</p>\n<pre><code>IloCP cp = new IloCP();\nIloIntVar numSet = cp.intVar(new int[]{1, 2, 3}, &quot;numSet&quot;);\n</code></pre>\n<p>But I don't know where to go from here or if this is even correct. How do you state that x, y, z are all in this set and that they all have to be different?</p>\n<p>I've started writing the model but I'm a little stuck as I've never written a CPLEX model before. I'm not sure how to write these constraints in a way that CPLEX understands.</p>\n"},{"tags":["java","maven","quarkus","rest-client"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689680676,"post_id":76712370,"comment_id":135245163,"body_markdown":"Don&#39;t. Query parameters have to be encoded properly. Instead, fix your server endpoint to properly decode the query. Or better, use [a query language that doesn&#39;t need escaping](https://github.com/jirutka/rsql-parser)","body":"Don&#39;t. Query parameters have to be encoded properly. Instead, fix your server endpoint to properly decode the query. Or better, use <a href=\"https://github.com/jirutka/rsql-parser\" rel=\"nofollow noreferrer\">a query language that doesn&#39;t need escaping</a>"},{"owner":{"account_id":21953454,"reputation":11,"user_id":16232344,"display_name":"hoangkm"},"score":0,"creation_date":1689688702,"post_id":76712370,"comment_id":135247055,"body_markdown":"@Jorn Thanks for your recommendation, I will look forward to it. However I&#39;m not sure if server endpoint recognize encoded query, in this case Prometheus (PromQL).","body":"@Jorn Thanks for your recommendation, I will look forward to it. However I&#39;m not sure if server endpoint recognize encoded query, in this case Prometheus (PromQL)."}],"owner":{"account_id":21953454,"reputation":11,"user_id":16232344,"display_name":"hoangkm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689680249,"creation_date":1689680249,"question_id":76712370,"body_markdown":"I got an URL for querying Prometheus: .../api/v1/query?query=rate(prometheus_http_requests_total[1m]) . But it always return 404 Error and when I debug, the URL changed to this: .../api/v1/query?query=rate%28prometheus_http_requests_total%5B1m%5D%29 .\r\n\r\nPlease help.\r\n\r\nThis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.viettel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;evaluating-svc&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n\t\t&lt;failsafe.useModulePath&gt;false&lt;/failsafe.useModulePath&gt;\r\n\t\t&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n\t\t&lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n\t\t&lt;quarkus.platform.version&gt;2.7.4.Final&lt;/quarkus.platform.version&gt;\r\n\t\t&lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-resteasy-qute&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.18.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Prometheus --&gt;\r\n\t\t&lt;!-- The client --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Hotspot JVM metrics--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;simpleclient_hotspot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Exposition HTTPServer--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Push-gateway exposition--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;simpleclient_pushgateway&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate-code&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-parameters&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n\t\t\t\t\t\t&lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;native&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t&lt;name&gt;native&lt;/name&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;native.image.path&gt;                                             ${project.build.directory}/${project.build.finalName}-runner                                         &lt;/native.image.path&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager                                         &lt;/java.util.logging.manager&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\nRestClient: My query string is: &quot;rate(prometheus_http_requests_total[1m])&quot;\r\n\r\n```\r\npackage com.example.client;\r\n\r\nimport com.example.client.response.PrometheusResponse;\r\nimport org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;\r\nimport org.eclipse.microprofile.rest.client.annotation.RegisterProvider;\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\nimport org.jboss.resteasy.annotations.jaxrs.QueryParam;\r\n\r\nimport javax.inject.Singleton;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\n\r\n@Singleton\r\n@Path(&quot;/api/v1/query&quot;)\r\n@RegisterRestClient(configKey = &quot;prometheus-client&quot;)\r\n@RegisterClientHeaders(RequestInternalServiceHeaderFactory.class)\r\n@RegisterProvider(RequestInternalServiceFilter.class)\r\npublic interface MetricClient {\r\n    @GET\r\n    @Path(&quot;query&quot;)\r\n    @Consumes(&quot;application/json&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    PrometheusResponse getTpsSummary(@QueryParam String query);\r\n}\r\n```\r\n\r\n\r\n","title":"Disable URL Encoding ? [Quarkus]","body":"<p>I got an URL for querying Prometheus: .../api/v1/query?query=rate(prometheus_http_requests_total[1m]) . But it always return 404 Error and when I debug, the URL changed to this: .../api/v1/query?query=rate%28prometheus_http_requests_total%5B1m%5D%29 .</p>\n<p>Please help.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.viettel&lt;/groupId&gt;\n    &lt;artifactId&gt;evaluating-svc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n        &lt;failsafe.useModulePath&gt;false&lt;/failsafe.useModulePath&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.7.4.Final&lt;/quarkus.platform.version&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-qute&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.18.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus.security&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Prometheus --&gt;\n        &lt;!-- The client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n            &lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\n            &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hotspot JVM metrics--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n            &lt;artifactId&gt;simpleclient_hotspot&lt;/artifactId&gt;\n            &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Exposition HTTPServer--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n            &lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\n            &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Push-gateway exposition--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n            &lt;artifactId&gt;simpleclient_pushgateway&lt;/artifactId&gt;\n            &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;systemPropertyVariables&gt;\n                                        &lt;native.image.path&gt;                                             ${project.build.directory}/${project.build.finalName}-runner                                         &lt;/native.image.path&gt;\n                                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager                                         &lt;/java.util.logging.manager&gt;\n                                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                                    &lt;/systemPropertyVariables&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>RestClient: My query string is: &quot;rate(prometheus_http_requests_total[1m])&quot;</p>\n<pre><code>package com.example.client;\n\nimport com.example.client.response.PrometheusResponse;\nimport org.eclipse.microprofile.rest.client.annotation.RegisterClientHeaders;\nimport org.eclipse.microprofile.rest.client.annotation.RegisterProvider;\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\nimport org.jboss.resteasy.annotations.jaxrs.QueryParam;\n\nimport javax.inject.Singleton;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n@Singleton\n@Path(&quot;/api/v1/query&quot;)\n@RegisterRestClient(configKey = &quot;prometheus-client&quot;)\n@RegisterClientHeaders(RequestInternalServiceHeaderFactory.class)\n@RegisterProvider(RequestInternalServiceFilter.class)\npublic interface MetricClient {\n    @GET\n    @Path(&quot;query&quot;)\n    @Consumes(&quot;application/json&quot;)\n    @Produces(&quot;application/json&quot;)\n    PrometheusResponse getTpsSummary(@QueryParam String query);\n}\n</code></pre>\n"},{"tags":["java","hbase"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689682397,"post_id":76712354,"comment_id":135245545,"body_markdown":"`ls -l /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java`. Does it exist? Also, not good to install it in `/root`. Use `/opt` if available, or `/usr/share`","body":"<code>ls -l &#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64&zwnj;&#8203;&#47;bin&#47;java</code>. Does it exist? Also, not good to install it in <code>&#47;root</code>. Use <code>&#47;opt</code> if available, or <code>&#47;usr&#47;share</code>"},{"owner":{"account_id":18202784,"reputation":1,"user_id":19951046,"display_name":"sravani"},"score":0,"creation_date":1689682903,"post_id":76712354,"comment_id":135245655,"body_markdown":"ls -l /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java\nls: cannot access /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory","body":"ls -l /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64&zwnj;&#8203;/bin/java ls: cannot access /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64&zwnj;&#8203;/bin/java: No such file or directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689687517,"post_id":76712354,"comment_id":135246772,"body_markdown":"So somehow, hbase is picking up a bogus JDK. I would suggest, as a preliminary, to set `JAVA_HOME` to your *actual* jdk install directory. You can find out what that is by `readlink -f &quot;$(which javac)&quot;` and looking at the location of `javac`","body":"So somehow, hbase is picking up a bogus JDK. I would suggest, as a preliminary, to set <code>JAVA_HOME</code> to your <i>actual</i> jdk install directory. You can find out what that is by <code>readlink -f &quot;$(which javac)&quot;</code> and looking at the location of <code>javac</code>"}],"owner":{"account_id":18202784,"reputation":1,"user_id":19951046,"display_name":"sravani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689680139,"creation_date":1689680139,"question_id":76712354,"body_markdown":"I  installed hbase-2.4.17  hbase-2.4.17-bin.tar.gz (standalone),when i start the hbase instance getting errors\r\n\r\n./start-hbase.sh\r\nERROR: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java is not executable.\r\n/root/hbase/hbase-2.4.17/bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\r\nERROR: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java is not executable.\r\n/root/hbase/hbase-2.4.17/bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\r\nrunning master, logging to /root/hbase/hbase-2.4.17/bin/../logs/hbase-root-master-sgpllab2111.out\r\n/root/hbase/hbase-2.4.17/bin/hbase-daemon.sh: line 92: kill: (4425) - No such process\r\n\r\ncutable.\r\n/root/hbase/hbase-2.4.17/bin/../bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\r\n: running regionserver, logging to /root/hbase/hbase-2.4.17/bin/../logs/hbase-root-regionserver-sgpllab2111.out\r\n: /root/hbase/hbase-2.4.17/bin/hbase-daemon.sh: line 92: kill: (4535) - No such process\r\n:\r\n: cutable.\r\n: /root/hbase/hbase-2.4.17/bin/../bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\r\n","title":"Getting Errors while starting hbase service","body":"<p>I  installed hbase-2.4.17  hbase-2.4.17-bin.tar.gz (standalone),when i start the hbase instance getting errors</p>\n<p>./start-hbase.sh\nERROR: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java is not executable.\n/root/hbase/hbase-2.4.17/bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\nERROR: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java is not executable.\n/root/hbase/hbase-2.4.17/bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\nrunning master, logging to /root/hbase/hbase-2.4.17/bin/../logs/hbase-root-master-sgpllab2111.out\n/root/hbase/hbase-2.4.17/bin/hbase-daemon.sh: line 92: kill: (4425) - No such process</p>\n<p>cutable.\n/root/hbase/hbase-2.4.17/bin/../bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory\n: running regionserver, logging to /root/hbase/hbase-2.4.17/bin/../logs/hbase-root-regionserver-sgpllab2111.out\n: /root/hbase/hbase-2.4.17/bin/hbase-daemon.sh: line 92: kill: (4535) - No such process\n:\n: cutable.\n: /root/hbase/hbase-2.4.17/bin/../bin/hbase: line 805: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/bin/java: No such file or directory</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689680808,"post_id":76712340,"comment_id":135245191,"body_markdown":"If you are looking for improvements on working code, it&#39;s better to ask on the [Code Review Stack Exchange](https://codereview.stackexchange.com)","body":"If you are looking for improvements on working code, it&#39;s better to ask on the <a href=\"https://codereview.stackexchange.com\">Code Review Stack Exchange</a>"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689691630,"post_id":76712340,"comment_id":135247880,"body_markdown":"From design approach perspective, you could use a in-memory messaging style ( https://github.com/google/guava/wiki/EventBusExplained )","body":"From design approach perspective, you could use a in-memory messaging style ( <a href=\"https://github.com/google/guava/wiki/EventBusExplained\" rel=\"nofollow noreferrer\">github.com/google/guava/wiki/EventBusExplained</a> )"}],"owner":{"account_id":29041208,"reputation":1,"user_id":22246037,"display_name":"Gabriele"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689679998,"creation_date":1689679998,"question_id":76712340,"body_markdown":"i want to create a gui that allow me to change through differents frame, i have a main frame where there are multiple button and when clicking on the button i want to open a new page (like a &quot;display PDF&quot; button), when closing the page created by the button i wantto go back to main frame.\r\n\r\nI made a code with creation of differnet Jframe and it works as i want, but i would like to know if there is a bettere and simpler why to do this\r\n\r\n```\r\npublic class MultiplePanelsExample {\r\n    private JFrame mainFrame;\r\n    private JPanel mainPanel;\r\n    private JButton[] buttons;\r\n\r\n    public MultiplePanelsExample() {\r\n        // Step 1: Create the main frame and panel\r\n        mainFrame = new JFrame(&quot;Main Panel&quot;);\r\n        mainPanel = new JPanel();\r\n\r\n        // Step 2: Create an array of buttons\r\n        buttons = new JButton[3]; // Adjust the number based on how many buttons you need\r\n\r\n        for (int i = 0; i &lt; buttons.length; i++) {\r\n            buttons[i] = new JButton(&quot;Open Panel &quot; + (i + 1));\r\n            mainPanel.add(buttons[i]);\r\n        }\r\n\r\n        mainFrame.add(mainPanel);\r\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        mainFrame.pack();\r\n        mainFrame.setVisible(true);\r\n\r\n        // Step 3: Add action listeners to the buttons\r\n        for (int i = 0; i &lt; buttons.length; i++) {\r\n            final int buttonIndex = i;\r\n            buttons[i].addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    openSecondaryPanel(buttonIndex);\r\n                    mainFrame.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void openSecondaryPanel(int buttonIndex) {\r\n        // Step 4: Create the secondary frame and panel\r\n        JFrame secondaryFrame = new JFrame(&quot;Panel &quot; + (buttonIndex + 1));\r\n        JPanel secondaryPanel = new JPanel();\r\n        JTextArea tx = new JTextArea(&quot;Name &quot;);\r\n\r\n        secondaryPanel.add(tx);\r\n        secondaryFrame.add(secondaryPanel);\r\n        secondaryFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n        secondaryFrame.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n\r\n\r\n                    // NOW we change it to dispose on close..\r\n                    secondaryFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                    secondaryFrame.setVisible(false);\r\n                    secondaryFrame.dispose();\r\n                    mainFrame.setVisible(true);\r\n\r\n            }\r\n        });\r\n        secondaryFrame.setVisible(true);\r\n\r\n\r\n\r\n\r\n\r\n        secondaryFrame.pack();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new MultiplePanelsExample();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Java changing multiple panel","body":"<p>i want to create a gui that allow me to change through differents frame, i have a main frame where there are multiple button and when clicking on the button i want to open a new page (like a &quot;display PDF&quot; button), when closing the page created by the button i wantto go back to main frame.</p>\n<p>I made a code with creation of differnet Jframe and it works as i want, but i would like to know if there is a bettere and simpler why to do this</p>\n<pre><code>public class MultiplePanelsExample {\n    private JFrame mainFrame;\n    private JPanel mainPanel;\n    private JButton[] buttons;\n\n    public MultiplePanelsExample() {\n        // Step 1: Create the main frame and panel\n        mainFrame = new JFrame(&quot;Main Panel&quot;);\n        mainPanel = new JPanel();\n\n        // Step 2: Create an array of buttons\n        buttons = new JButton[3]; // Adjust the number based on how many buttons you need\n\n        for (int i = 0; i &lt; buttons.length; i++) {\n            buttons[i] = new JButton(&quot;Open Panel &quot; + (i + 1));\n            mainPanel.add(buttons[i]);\n        }\n\n        mainFrame.add(mainPanel);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.pack();\n        mainFrame.setVisible(true);\n\n        // Step 3: Add action listeners to the buttons\n        for (int i = 0; i &lt; buttons.length; i++) {\n            final int buttonIndex = i;\n            buttons[i].addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    openSecondaryPanel(buttonIndex);\n                    mainFrame.setVisible(false);\n                }\n            });\n        }\n\n\n    }\n\n    private void openSecondaryPanel(int buttonIndex) {\n        // Step 4: Create the secondary frame and panel\n        JFrame secondaryFrame = new JFrame(&quot;Panel &quot; + (buttonIndex + 1));\n        JPanel secondaryPanel = new JPanel();\n        JTextArea tx = new JTextArea(&quot;Name &quot;);\n\n        secondaryPanel.add(tx);\n        secondaryFrame.add(secondaryPanel);\n        secondaryFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        secondaryFrame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n\n\n                    // NOW we change it to dispose on close..\n                    secondaryFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                    secondaryFrame.setVisible(false);\n                    secondaryFrame.dispose();\n                    mainFrame.setVisible(true);\n\n            }\n        });\n        secondaryFrame.setVisible(true);\n\n\n\n\n\n        secondaryFrame.pack();\n\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                new MultiplePanelsExample();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","many-to-many","entity"],"comments":[{"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"score":0,"creation_date":1689680189,"post_id":76712328,"comment_id":135245054,"body_markdown":"Well, I just had a huge enlightenment of how in a Entity based structure, entities are saved rather than the ID, so i will continue to figure out a way to do this, but i want some guidance :)","body":"Well, I just had a huge enlightenment of how in a Entity based structure, entities are saved rather than the ID, so i will continue to figure out a way to do this, but i want some guidance :)"}],"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689679891,"creation_date":1689679891,"question_id":76712328,"body_markdown":"I&#39;m really new to JPA stuff so I&#39;m in a bit of a trouble here.\r\n\r\nSo I&#39;m going through a project, and right now I&#39;m working with 3 tables:\r\nInfluencer, Influencer_Campaign_Mapping, and Campaign.\r\nSince Influencer: Campaign in my business is Many to Many,\r\nI decomposed it into 1:M - M:1 relationship making the mapping table.\r\n\r\nMy entities look like this,\r\n\r\n    //Mapping Entity\r\n    \r\n    @Entity \r\n    @Getter \r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED) \r\n    @Table(name = &quot;CAMPAIGN_INFLUENCER_MAPPING&quot;) \r\n    public class InfluencerCampaign {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;CAMPAIGN_INFLUENCER_MAPPING_ID&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = LAZY)\r\n        @JoinColumn(name = &quot;CAMPAIGN_ID&quot;)\r\n        private Campaign campaign;\r\n        \r\n        @ManyToOne(fetch = LAZY)\r\n        @JoinColumn(name = &quot;INFLUENCER_ID&quot;)\r\n        private Influencer influencer;\r\n\r\n```\r\n//Campaign Entity\r\n\r\n@Getter\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Table(name = &quot;CAMPAIGN&quot;)\r\npublic class Campaign implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;CAMPAIGN_ID&quot;, nullable = false)\r\n    private Long campaignId;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    @NotEmpty\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;campaign&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;InfluencerCampaign&gt; influencers = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\n//Influencer Entity \r\n\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Entity\r\n@Table(name = &quot;INFLUENCER&quot;)\r\npublic class Influencer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;INFLUENCER_ID&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;influencer&quot;)\r\n    private List&lt;InfluencerCampaign&gt; influencerCampaigns;\r\n```\r\n\r\nSo the problem rises in the very early stage.\r\nSo I want to take a List of influencers by the id. for example : &#39;\\[1,2,3,4,5\\]&#39; as @RequestBody,\r\nand take in a single campaignId by @PathVariable.\r\n\r\nThe beginning of my controller looks like this,\r\n\r\n```\r\n    @PostMapping(&quot;/api/latest/campaign/{campaignId}/influencer&quot;)\r\n    public ResponseEntity&lt;String&gt; addInfluencersToCampaign(@PathVariable(&quot;campaignId&quot;) Long campaignId,\r\n                                                           @RequestBody List&lt;Long&gt; influencers){\r\n        Campaign campaign = campaignService.findById(campaignId);\r\n        campaignService.addInfluencersToCampaign(influencers.stream().map())\r\n    }\r\n```\r\n\r\nbut I can&#39;t seem to continue from here because I want to use .builder to make a List of entities to be able to use saveAll();\r\n\r\nIn my DTO,\r\n\r\nI&#39;m running into problems because campaign in the mapping table is saved as Campaign type.\r\n\r\n```\r\n    @Getter\r\n    @NoArgsConstructor\r\n    public static class Request {\r\n        private List&lt;Long&gt; influencers;\r\n        private Campaign campaign;\r\n\r\n        @Builder\r\n        public Request(List&lt;Long&gt; influencers, Campaign campaign){\r\n            this.influencers = influencers;\r\n            this.campaign = campaign;\r\n        }\r\n\r\n        public List&lt;InfluencerCampaign&gt; toEntity(List&lt;Long&gt; influencers, Long campaignId) {\r\n            return influencers.stream()\r\n                    .map(influencerId -&gt; new InfluencerCampaign(influencerId, campaignId))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n```\r\n\r\nAll the examples I see are using @Setter which I really want to avoid.\r\n\r\nI tried making different forms of DTOs,\r\nbut there wasn&#39;t much that I could try.\r\nI tried making different constructors so that I can use different getters, but not much progress..","title":"How to saveAll() when given a List&lt;Long&gt; into a M:M relationship in JPA","body":"<p>I'm really new to JPA stuff so I'm in a bit of a trouble here.</p>\n<p>So I'm going through a project, and right now I'm working with 3 tables:\nInfluencer, Influencer_Campaign_Mapping, and Campaign.\nSince Influencer: Campaign in my business is Many to Many,\nI decomposed it into 1:M - M:1 relationship making the mapping table.</p>\n<p>My entities look like this,</p>\n<pre><code>//Mapping Entity\n\n@Entity \n@Getter \n@NoArgsConstructor(access = AccessLevel.PROTECTED) \n@Table(name = &quot;CAMPAIGN_INFLUENCER_MAPPING&quot;) \npublic class InfluencerCampaign {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;CAMPAIGN_INFLUENCER_MAPPING_ID&quot;)\n    private Long id;\n\n    @ManyToOne(fetch = LAZY)\n    @JoinColumn(name = &quot;CAMPAIGN_ID&quot;)\n    private Campaign campaign;\n    \n    @ManyToOne(fetch = LAZY)\n    @JoinColumn(name = &quot;INFLUENCER_ID&quot;)\n    private Influencer influencer;\n</code></pre>\n<pre><code>//Campaign Entity\n\n@Getter\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Table(name = &quot;CAMPAIGN&quot;)\npublic class Campaign implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;CAMPAIGN_ID&quot;, nullable = false)\n    private Long campaignId;\n\n    @Column(name = &quot;NAME&quot;)\n    @NotEmpty\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;campaign&quot;, cascade = CascadeType.ALL)\n    private List&lt;InfluencerCampaign&gt; influencers = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>//Influencer Entity \n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;INFLUENCER&quot;)\npublic class Influencer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;INFLUENCER_ID&quot;, nullable = false)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;influencer&quot;)\n    private List&lt;InfluencerCampaign&gt; influencerCampaigns;\n</code></pre>\n<p>So the problem rises in the very early stage.\nSo I want to take a List of influencers by the id. for example : '[1,2,3,4,5]' as @RequestBody,\nand take in a single campaignId by @PathVariable.</p>\n<p>The beginning of my controller looks like this,</p>\n<pre><code>    @PostMapping(&quot;/api/latest/campaign/{campaignId}/influencer&quot;)\n    public ResponseEntity&lt;String&gt; addInfluencersToCampaign(@PathVariable(&quot;campaignId&quot;) Long campaignId,\n                                                           @RequestBody List&lt;Long&gt; influencers){\n        Campaign campaign = campaignService.findById(campaignId);\n        campaignService.addInfluencersToCampaign(influencers.stream().map())\n    }\n</code></pre>\n<p>but I can't seem to continue from here because I want to use .builder to make a List of entities to be able to use saveAll();</p>\n<p>In my DTO,</p>\n<p>I'm running into problems because campaign in the mapping table is saved as Campaign type.</p>\n<pre><code>    @Getter\n    @NoArgsConstructor\n    public static class Request {\n        private List&lt;Long&gt; influencers;\n        private Campaign campaign;\n\n        @Builder\n        public Request(List&lt;Long&gt; influencers, Campaign campaign){\n            this.influencers = influencers;\n            this.campaign = campaign;\n        }\n\n        public List&lt;InfluencerCampaign&gt; toEntity(List&lt;Long&gt; influencers, Long campaignId) {\n            return influencers.stream()\n                    .map(influencerId -&gt; new InfluencerCampaign(influencerId, campaignId))\n                    .collect(Collectors.toList());\n        }\n    }\n</code></pre>\n<p>All the examples I see are using @Setter which I really want to avoid.</p>\n<p>I tried making different forms of DTOs,\nbut there wasn't much that I could try.\nI tried making different constructors so that I can use different getters, but not much progress..</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2312969,"reputation":1233,"user_id":2030691,"display_name":"Xynariz"},"score":0,"creation_date":1387498033,"post_id":20693859,"comment_id":30993349,"body_markdown":"What is `sean`, and where do you initialize it?","body":"What is <code>sean</code>, and where do you initialize it?"},{"owner":{"account_id":3741667,"reputation":105,"user_id":3111329,"accept_rate":43,"display_name":"user3111329"},"score":0,"creation_date":1387498185,"post_id":20693859,"comment_id":30993405,"body_markdown":"it is a scanner Scanner sean = new Scanner(System.in);","body":"it is a scanner Scanner sean = new Scanner(System.in);"}],"answers":[{"tags":[],"owner":{"account_id":2312969,"reputation":1233,"user_id":2030691,"display_name":"Xynariz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387496765,"creation_date":1387496765,"answer_id":20693875,"question_id":20693859,"body_markdown":"This error is usually thrown when you use methods like `scanner.nextInt();`.  If you want to avoid those, use something like `String input = scanner.next()`, then check `input` to see if it can be represented as an `Integer`.","title":"How to stop exception when type in wrong data type using scanner","body":"<p>This error is usually thrown when you use methods like <code>scanner.nextInt();</code>.  If you want to avoid those, use something like <code>String input = scanner.next()</code>, then check <code>input</code> to see if it can be represented as an <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1387500430,"creation_date":1387499831,"answer_id":20694393,"question_id":20693859,"body_markdown":"InputMismatchException from nextInt means the input is not an int. [You can catch it](http://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html).\r\n\r\nThis will loop until the input is a number between 1 and 6:\r\n\r\n    do {\r\n\r\n        try {\r\n            guess = sean.nextInt();\r\n\r\n            if (guess &gt;= 1 &amp;&amp; guess &lt;= 6) break;\r\n\r\n        } catch (InputMismatchException e) {\r\n        } finally {\r\n            sean.nextLine();\r\n        }\r\n\r\n        System.out.print(&quot;Input must be a number between 1 and 6: &quot;);\r\n    } while (true);\r\n\r\nSide note: calling nextInt will also orphan a new line character, so nextLine advances past it.","title":"How to stop exception when type in wrong data type using scanner","body":"<p>InputMismatchException from nextInt means the input is not an int. <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html\" rel=\"noreferrer\">You can catch it</a>.</p>\n\n<p>This will loop until the input is a number between 1 and 6:</p>\n\n<pre><code>do {\n\n    try {\n        guess = sean.nextInt();\n\n        if (guess &gt;= 1 &amp;&amp; guess &lt;= 6) break;\n\n    } catch (InputMismatchException e) {\n    } finally {\n        sean.nextLine();\n    }\n\n    System.out.print(\"Input must be a number between 1 and 6: \");\n} while (true);\n</code></pre>\n\n<p>Side note: calling nextInt will also orphan a new line character, so nextLine advances past it.</p>\n"}],"owner":{"account_id":3741667,"reputation":105,"user_id":3111329,"accept_rate":43,"display_name":"user3111329"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20694393,"answer_count":2,"score":1,"last_activity_date":1689679612,"creation_date":1387496637,"question_id":20693859,"body_markdown":"Can someone tell me how to prevent this:\r\n\r\n`&quot;Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.util.Scanner.throwFor(Scanner.java:909)\r\n\tat java.util.Scanner.next(Scanner.java:1530)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2160)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2119)\r\n\tat JeffSky.main(JeffSky.java:25)&quot;\r\n`\r\nwhen the user inputs a letter for an int. \r\n\r\nBasically I am trying to find out how to keep the program running even though a wrong data type has been entered. Just like you can do an if statement to notify the user it is not allowed if they input an int outside a given range e.g from 1-10.\r\n\r\n\r\n\r\nfor(int x=1; x&lt;=3;x++) {\r\n\t\t\t\r\n\tint guess;\r\n\t\t\tSystem.out.print(&quot;Your chosen trap is: &quot;); \r\n\t\t\t\r\n\t\t\tdo{\r\n\t\t\t\tguess=sean.nextInt();\r\n\t\t\t\r\n\t\t\t\tif(guess&gt;=1 &amp;&amp; guess&lt;=6){\t\r\n\t\t\t\t\t//do nothing if is a valid number i.e a trap between 1 and 6.\r\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot;Has to be between 1-6. Try again: &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twhile(guess&lt;1 || guess&gt;6);\r\n\r\nCheers","title":"How to stop exception when type in wrong data type using scanner","body":"<p>Can someone tell me how to prevent this:</p>\n\n<p><code>\"Exception in thread \"main\" java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Scanner.java:909)\n    at java.util.Scanner.next(Scanner.java:1530)\n    at java.util.Scanner.nextInt(Scanner.java:2160)\n    at java.util.Scanner.nextInt(Scanner.java:2119)\n    at JeffSky.main(JeffSky.java:25)\"\n</code>\nwhen the user inputs a letter for an int. </p>\n\n<p>Basically I am trying to find out how to keep the program running even though a wrong data type has been entered. Just like you can do an if statement to notify the user it is not allowed if they input an int outside a given range e.g from 1-10.</p>\n\n<p>for(int x=1; x&lt;=3;x++) {</p>\n\n<pre><code>int guess;\n        System.out.print(\"Your chosen trap is: \"); \n\n        do{\n            guess=sean.nextInt();\n\n            if(guess&gt;=1 &amp;&amp; guess&lt;=6){   \n                //do nothing if is a valid number i.e a trap between 1 and 6.\n            }                                           \n            else {\n                System.out.print(\"Has to be between 1-6. Try again: \");\n            }\n        }\n\n        while(guess&lt;1 || guess&gt;6);\n</code></pre>\n\n<p>Cheers</p>\n"},{"tags":["java","windows","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1104235,"reputation":57,"user_id":1095990,"display_name":"Wieland Gmeiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689679147,"creation_date":1689679147,"answer_id":76712241,"question_id":76686823,"body_markdown":"Ok this is kind of embarrassing, it was a typo. I somehow named the template file `api.moustache` instead of `api.mustache`. After correcting the typo the template is picked up.","title":"openapi-generator-maven-plugin not finding mustache template on Windows","body":"<p>Ok this is kind of embarrassing, it was a typo. I somehow named the template file <code>api.moustache</code> instead of <code>api.mustache</code>. After correcting the typo the template is picked up.</p>\n"}],"owner":{"account_id":1104235,"reputation":57,"user_id":1095990,"display_name":"Wieland Gmeiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76712241,"answer_count":1,"score":0,"last_activity_date":1689679147,"creation_date":1689330408,"question_id":76686823,"body_markdown":"I&#39;m using the `openapi-generator-maven-plugin` Version 6.6.0 on a Windows machine and want to generate server stubs with the `jaxrs-jersey` or `jaxrs-spec` generator from an openapi 3.0.3 yaml definiton. In my understanding I must modify some mustache templates to be able to inject some delegator classes with my business logic into the generated stubs. So I put the `api.mustache` file into `src/main/resources/templates/` but it is simply ignored by the generator. I suspect some issue with path resolving, debug output gets me:\r\n\r\n    &quot;inputSpec&quot; : &quot;C:\\\\workspace\\\\path\\\\project\\\\submodule/src/main/resources/api.yaml&quot;,\r\n\r\n    &quot;templateDir&quot; : &quot;C:\\\\workspace\\\\path\\\\project\\\\submodule\\\\src\\\\main\\\\resources\\\\templates&quot;,\r\n\r\nFor the path definitions in the `pom.xml` plugin config I have tried with the same result:\r\n\r\n    &lt;templateDirectory&gt;${project.basedir}/src/main/resources/templates&lt;/templateDirectory&gt;\r\n                                                                                                  \r\n\r\n    &lt;templateResourcePath&gt;${project.basedir}/src/main/resources/templates&lt;/templateResourcePath&gt;\r\n\r\nNote that the `api.yaml` input spec is found by the generator and that the file separators differ. Any idea how I can get the generator to pick up the templates?","title":"openapi-generator-maven-plugin not finding mustache template on Windows","body":"<p>I'm using the <code>openapi-generator-maven-plugin</code> Version 6.6.0 on a Windows machine and want to generate server stubs with the <code>jaxrs-jersey</code> or <code>jaxrs-spec</code> generator from an openapi 3.0.3 yaml definiton. In my understanding I must modify some mustache templates to be able to inject some delegator classes with my business logic into the generated stubs. So I put the <code>api.mustache</code> file into <code>src/main/resources/templates/</code> but it is simply ignored by the generator. I suspect some issue with path resolving, debug output gets me:</p>\n<pre><code>&quot;inputSpec&quot; : &quot;C:\\\\workspace\\\\path\\\\project\\\\submodule/src/main/resources/api.yaml&quot;,\n\n&quot;templateDir&quot; : &quot;C:\\\\workspace\\\\path\\\\project\\\\submodule\\\\src\\\\main\\\\resources\\\\templates&quot;,\n</code></pre>\n<p>For the path definitions in the <code>pom.xml</code> plugin config I have tried with the same result:</p>\n<pre><code>&lt;templateDirectory&gt;${project.basedir}/src/main/resources/templates&lt;/templateDirectory&gt;\n                                                                                              \n\n&lt;templateResourcePath&gt;${project.basedir}/src/main/resources/templates&lt;/templateResourcePath&gt;\n</code></pre>\n<p>Note that the <code>api.yaml</code> input spec is found by the generator and that the file separators differ. Any idea how I can get the generator to pick up the templates?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","webdriverwait"],"comments":[{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":0,"creation_date":1554390003,"post_id":55518970,"comment_id":97742911,"body_markdown":"You should consider breaking it down into at least two steps, maybe more.  Use a fluent wait, create a WebElement, clear the text, send the text.  You&#39;re not clearing any pre-existing text.  That&#39;s not the problem, but combining the other three steps into one is not always the best idea.","body":"You should consider breaking it down into at least two steps, maybe more.  Use a fluent wait, create a WebElement, clear the text, send the text.  You&#39;re not clearing any pre-existing text.  That&#39;s not the problem, but combining the other three steps into one is not always the best idea."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1554404846,"post_id":55518970,"comment_id":97750775,"body_markdown":"Also, presence just means that the element is in the DOM, not that it is visible, etc.","body":"Also, presence just means that the element is in the DOM, not that it is visible, etc."},{"owner":{"account_id":5669886,"reputation":332,"user_id":4484863,"accept_rate":83,"display_name":"Doug Clark"},"score":0,"creation_date":1554406029,"post_id":55518970,"comment_id":97751319,"body_markdown":"Possible duplicate of [sendKeys is not entering the complete input all the time](https://stackoverflow.com/questions/26990436/sendkeys-is-not-entering-the-complete-input-all-the-time)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26990436/sendkeys-is-not-entering-the-complete-input-all-the-time\">sendKeys is not entering the complete input all the time</a>"}],"answers":[{"tags":[],"owner":{"account_id":5669886,"reputation":332,"user_id":4484863,"accept_rate":83,"display_name":"Doug Clark"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554392706,"creation_date":1554389997,"answer_id":55519175,"question_id":55518970,"body_markdown":"I frequently find sendKeys() moves too fast or inputs incomplete strings.\r\nYou&#39;ll need to wrap this in a while loop with a very small delay:\r\n\r\n    while(element.text != input) {\r\n        element.sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;), input); //or whatever\r\n        Thread.sleep(100) //100ms not 100sec\r\n    }\r\n\r\nI know thread.sleep is heavily frowned upon, however a waitFor() would take just as long\r\n\r\n    element.clear()\r\nalso works, but use either clear() or Ctrl+a + input as using both is redundant","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>I frequently find sendKeys() moves too fast or inputs incomplete strings.\nYou'll need to wrap this in a while loop with a very small delay:</p>\n\n<pre><code>while(element.text != input) {\n    element.sendKeys(Keys.chord(Keys.CONTROL, \"a\"), input); //or whatever\n    Thread.sleep(100) //100ms not 100sec\n}\n</code></pre>\n\n<p>I know thread.sleep is heavily frowned upon, however a waitFor() would take just as long</p>\n\n<pre><code>element.clear()\n</code></pre>\n\n<p>also works, but use either clear() or Ctrl+a + input as using both is redundant</p>\n"},{"tags":[],"owner":{"account_id":10899812,"reputation":31,"user_id":8012400,"display_name":"Tuhin Ganguly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554435672,"creation_date":1554435672,"answer_id":55527893,"question_id":55518970,"body_markdown":"I faced a similar issue while automating one of my test cases while entering a pre-formatted phone number field. Here is what I did to make sure the script is able to enter the text in the text box:\r\n\r\n - Check manually that the text box accepts the text length that the script is trying to enter. It never hurts to check twice :). \r\n - Enter the value using sendKeys and get the value of the element from the DOM.\r\n - While the value of the text box element in DOM is not equal to the text you are trying to enter, then try again.\r\n - Make sure you put an exit condition to your while loop, so that you have a way to exit your test.\r\n\r\nYour implementation can be something like this:\r\n```\r\nWait&lt;WebDriver&gt; fluent_wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n                           .withTimeout(60, SECONDS)\r\n                           .pollingEvery(2, SECONDS) \r\n                           .ignoring(NoSuchElementException.class);\r\n \r\nWebElement emailElement= fluent_wait.until(new Function&lt;WebDriver, WebElement&gt;() {\r\n \r\n     public WebElement apply(WebDriver driver) {\r\n     return driver.findElement(By.id(&quot;businessemail&quot;));\r\n}\r\n});\r\nString emailText = &quot;apollo33@mailinator.com&quot;;\r\nlong startTime = System.currentTimeMillis(); // This is to run the while loop for a specified amount of time and use it as an exit condition for the while loop.\r\n\r\n//the below condition assumes that the text box sets some kind of attribute in the DOM element once the user enters the value in the text box.\r\nwhile(!emailElement.getAttribute(&quot;value&quot;).equals(emailText)&amp;&amp;System.currentTimeMillis() - startTime) &lt; 2000){\r\n     emailElement.clear();\r\n     emailElement.sendKeys(emailText);\r\n}\r\n//if the above doesn&#39;t work, add the below as a fall back:\r\nif(!emailElement.getAttribute(&quot;value&quot;).equals(emailText)){\r\n    emailElement.clear();\r\n    for(char ch: emailText.toCharArray()){\r\n        emailElement.sendKeys(String.valueOf(ch));\r\n        try{\r\n           Thread.sleep(15); //making the thread sleep for 15 milliseconds, taking a performance hit to make the sendKeys work.\r\n        }catch(InterruptedException e){\r\n        }\r\n    }\r\n}\r\n```\r\nThe fall back condition with the the Thread.sleep will only be executed if the while loop was not able to set the text in the text box on 2 seconds. You can increase the time if 2 seconds/2000ms is not sufficient. The thread.sleep is miniscule 15 ms hit between each character iteration. We incorporated this in our framework to cover a variety of text boxes developed in different front end technologies. This works fine for us as an organization, so hopefully it would work for you as well.\r\n\r\nThe key above is to not get stuck with pre-defined utilities that selenium provides, instead you would want to play with DOM values and options that Java provides. Hope you are able to find a solution soon to your issue.\r\nGood Luck!","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>I faced a similar issue while automating one of my test cases while entering a pre-formatted phone number field. Here is what I did to make sure the script is able to enter the text in the text box:</p>\n\n<ul>\n<li>Check manually that the text box accepts the text length that the script is trying to enter. It never hurts to check twice :). </li>\n<li>Enter the value using sendKeys and get the value of the element from the DOM.</li>\n<li>While the value of the text box element in DOM is not equal to the text you are trying to enter, then try again.</li>\n<li>Make sure you put an exit condition to your while loop, so that you have a way to exit your test.</li>\n</ul>\n\n<p>Your implementation can be something like this:</p>\n\n<pre><code>Wait&lt;WebDriver&gt; fluent_wait = new FluentWait&lt;WebDriver&gt;(driver)\n                           .withTimeout(60, SECONDS)\n                           .pollingEvery(2, SECONDS) \n                           .ignoring(NoSuchElementException.class);\n\nWebElement emailElement= fluent_wait.until(new Function&lt;WebDriver, WebElement&gt;() {\n\n     public WebElement apply(WebDriver driver) {\n     return driver.findElement(By.id(\"businessemail\"));\n}\n});\nString emailText = \"apollo33@mailinator.com\";\nlong startTime = System.currentTimeMillis(); // This is to run the while loop for a specified amount of time and use it as an exit condition for the while loop.\n\n//the below condition assumes that the text box sets some kind of attribute in the DOM element once the user enters the value in the text box.\nwhile(!emailElement.getAttribute(\"value\").equals(emailText)&amp;&amp;System.currentTimeMillis() - startTime) &lt; 2000){\n     emailElement.clear();\n     emailElement.sendKeys(emailText);\n}\n//if the above doesn't work, add the below as a fall back:\nif(!emailElement.getAttribute(\"value\").equals(emailText)){\n    emailElement.clear();\n    for(char ch: emailText.toCharArray()){\n        emailElement.sendKeys(String.valueOf(ch));\n        try{\n           Thread.sleep(15); //making the thread sleep for 15 milliseconds, taking a performance hit to make the sendKeys work.\n        }catch(InterruptedException e){\n        }\n    }\n}\n</code></pre>\n\n<p>The fall back condition with the the Thread.sleep will only be executed if the while loop was not able to set the text in the text box on 2 seconds. You can increase the time if 2 seconds/2000ms is not sufficient. The thread.sleep is miniscule 15 ms hit between each character iteration. We incorporated this in our framework to cover a variety of text boxes developed in different front end technologies. This works fine for us as an organization, so hopefully it would work for you as well.</p>\n\n<p>The key above is to not get stuck with pre-defined utilities that selenium provides, instead you would want to play with DOM values and options that Java provides. Hope you are able to find a solution soon to your issue.\nGood Luck!</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554445532,"creation_date":1554445532,"answer_id":55529390,"question_id":55518970,"body_markdown":"As a _thumb rule_ while attempting to send a _Character Sequence_ instead of invoking `presenceOfElementLocated()` always invoke **`elementToBeClickable()`** and you can use the following solution:\r\n\r\n\tfluent_wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;businessname&quot;))).sendKeys(&quot;New Apollo33&quot;);\r\n\tfluent_wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;businessemail&quot;))).sendKeys(&quot;apollo33@mailinator.com&quot;);","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>As a <em>thumb rule</em> while attempting to send a <em>Character Sequence</em> instead of invoking <code>presenceOfElementLocated()</code> always invoke <strong><code>elementToBeClickable()</code></strong> and you can use the following solution:</p>\n\n<pre><code>fluent_wait.until(ExpectedConditions.elementToBeClickable(By.id(\"businessname\"))).sendKeys(\"New Apollo33\");\nfluent_wait.until(ExpectedConditions.elementToBeClickable(By.id(\"businessemail\"))).sendKeys(\"apollo33@mailinator.com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19971641,"reputation":1,"user_id":14636957,"display_name":"Trinkz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608933043,"creation_date":1608752931,"answer_id":65430124,"question_id":55518970,"body_markdown":"I had the same problem. The sendKeys-Keys.chord is not inserting the full value (goes way too fast that the browser has no time to even write it  &quot;sometimes&quot;)\r\n\r\n**Before:** (doesn&#39;t work 100%)\r\n\r\n    action.sendKeys(Keys.chord(&quot;string&quot;)).perform();\r\n\r\nThat goes way too fast while writting the &quot;string&quot; .. and sometimes (like from 1/5 to 1/10 times) it appears incomplete on the website I&#39;m sending it to. And it&#39;s very frustrating..\r\n\r\nThe solution I tried to apply worked some days for me but eventually the same happened (1/20 but it fails) the solution I tried was simply adding a \r\n&quot;Thread sleep&quot; of 1.5seg after the sendKeys-Keys.chord (maybe the website needed more time to write it):\r\n\r\n**After:** (doesn&#39;t work 100% - I  tried this possible solution too and it just fails less but still fails 1/20)\r\n\r\n    action.sendKeys(Keys.chord(&quot;string&quot;)).perform();\r\n    Thread.sleep(1500);\r\n\r\n\r\n\r\n___________________________________________________________________\r\n**Final Solution:** (that worked 100%)\r\n\r\nAdd a do-while that will be comprovating / checking if the sendKeys-Keys.chord matches what actually has been writed on the browser (WebDriver), if it doesn&#39;t match it will write it again (you can now reduce the delay from Thread.sleep)\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,40);\r\n    Actions action = new Actions(driver);\r\n\r\n      String TextSentenceORWordToIntroduce = &quot;Dinosaur&quot;;\r\n      wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;xpath_to_element&quot;))).click();\r\n      Thread.sleep(200);\r\n      action.sendKeys(Keys.chord(TextSentenceORWordToIntroduce)).perform();\r\n      Thread.sleep(500);\r\n      String comprovation = driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).getAttribute(&quot;value&quot;); // or rarely &quot;)).getText();&quot;\r\n\r\n    if (!comprovation.contentEquals(TextSentenceORWordToIntroduce)) { // if not then ALL WORKS FINE ;) and won&#39;t enter the Do-while\r\n        driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).click();\r\n        do {\r\n            Thread.sleep(200);\r\n            action.sendKeys(Keys.HOME).perform();\r\n            Thread.sleep(200);\r\n            action.keyDown(Keys.SHIFT).perform();\r\n            Thread.sleep(200);\r\n            action.sendKeys(Keys.END).perform();\r\n            Thread.sleep(200);\r\n            action.keyUp(Keys.SHIFT).perform();\r\n            Thread.sleep(200);\r\n            action.sendKeys(Keys.chord(TextSentenceORWordToIntroduce)).perform();\r\n            Thread.sleep(500);\r\n            comprovation = driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).getAttribute(&quot;value&quot;); // or rarely &quot;)).getText();&quot;\r\n        } while (!comprovation.contentEquals(TextSentenceORWordToIntroduce));\r\n    }\r\n\r\n____________________________________________________________________\r\n\r\n\r\nHope this solution can help someone with the same problem ^^\r\n\r\nCheers!","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>I had the same problem. The sendKeys-Keys.chord is not inserting the full value (goes way too fast that the browser has no time to even write it  &quot;sometimes&quot;)</p>\n<p><strong>Before:</strong> (doesn't work 100%)</p>\n<pre><code>action.sendKeys(Keys.chord(&quot;string&quot;)).perform();\n</code></pre>\n<p>That goes way too fast while writting the &quot;string&quot; .. and sometimes (like from 1/5 to 1/10 times) it appears incomplete on the website I'm sending it to. And it's very frustrating..</p>\n<p>The solution I tried to apply worked some days for me but eventually the same happened (1/20 but it fails) the solution I tried was simply adding a\n&quot;Thread sleep&quot; of 1.5seg after the sendKeys-Keys.chord (maybe the website needed more time to write it):</p>\n<p><strong>After:</strong> (doesn't work 100% - I  tried this possible solution too and it just fails less but still fails 1/20)</p>\n<pre><code>action.sendKeys(Keys.chord(&quot;string&quot;)).perform();\nThread.sleep(1500);\n</code></pre>\n<hr />\n<p><strong>Final Solution:</strong> (that worked 100%)</p>\n<p>Add a do-while that will be comprovating / checking if the sendKeys-Keys.chord matches what actually has been writed on the browser (WebDriver), if it doesn't match it will write it again (you can now reduce the delay from Thread.sleep)</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,40);\nActions action = new Actions(driver);\n\n  String TextSentenceORWordToIntroduce = &quot;Dinosaur&quot;;\n  wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;xpath_to_element&quot;))).click();\n  Thread.sleep(200);\n  action.sendKeys(Keys.chord(TextSentenceORWordToIntroduce)).perform();\n  Thread.sleep(500);\n  String comprovation = driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).getAttribute(&quot;value&quot;); // or rarely &quot;)).getText();&quot;\n\nif (!comprovation.contentEquals(TextSentenceORWordToIntroduce)) { // if not then ALL WORKS FINE ;) and won't enter the Do-while\n    driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).click();\n    do {\n        Thread.sleep(200);\n        action.sendKeys(Keys.HOME).perform();\n        Thread.sleep(200);\n        action.keyDown(Keys.SHIFT).perform();\n        Thread.sleep(200);\n        action.sendKeys(Keys.END).perform();\n        Thread.sleep(200);\n        action.keyUp(Keys.SHIFT).perform();\n        Thread.sleep(200);\n        action.sendKeys(Keys.chord(TextSentenceORWordToIntroduce)).perform();\n        Thread.sleep(500);\n        comprovation = driver.findElement(By.xpath(&quot;xpath_to_element&quot;)).getAttribute(&quot;value&quot;); // or rarely &quot;)).getText();&quot;\n    } while (!comprovation.contentEquals(TextSentenceORWordToIntroduce));\n}\n</code></pre>\n<hr />\n<p>Hope this solution can help someone with the same problem ^^</p>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":6686844,"reputation":404,"user_id":5157770,"display_name":"Tinashe Chinyanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689679117,"creation_date":1689679117,"answer_id":76712235,"question_id":55518970,"body_markdown":"I faced a similar problem wherein sending the keys as a single String would enter a single character only using the below:\r\n\r\n    public void enterText(WebElement element, String text){\r\n        element.clear();\r\n        element.sendKeys(text);\r\n    }\r\n\r\nMy solution was to convert the String into an array of characters and enter each character individually as below:\r\n\r\n \r\n\r\n   \r\n\r\n    public void enterTextCharByChar(WebElement element, String charSeq){\r\n        char[] inputText = charSeq.toCharArray();\r\n        // clear any pre-existing text\r\n        element.clear();\r\n        for (char val : inputText) {\r\n            element.sendKeys(String.valueOf(val));\r\n        }\r\n    }\r\n\r\nHope this helps.\r\n","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>I faced a similar problem wherein sending the keys as a single String would enter a single character only using the below:</p>\n<pre><code>public void enterText(WebElement element, String text){\n    element.clear();\n    element.sendKeys(text);\n}\n</code></pre>\n<p>My solution was to convert the String into an array of characters and enter each character individually as below:</p>\n<pre><code>public void enterTextCharByChar(WebElement element, String charSeq){\n    char[] inputText = charSeq.toCharArray();\n    // clear any pre-existing text\n    element.clear();\n    for (char val : inputText) {\n        element.sendKeys(String.valueOf(val));\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":11302819,"reputation":19,"user_id":8288250,"display_name":"Aswathy krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2652,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1689679117,"creation_date":1554389413,"question_id":55518970,"body_markdown":"&lt;p&gt;sendKeys() is not inserting the full string to the text field. I was trying to insert an email id.&lt;/p&gt;\r\n```\r\nString name = &quot;New Apollo33&quot;;\r\nfluent_wait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;businessname&quot;))).sendKeys(name);\r\n\r\nString email = &quot;apollo33@mailinator.com&quot;;\r\nfluent_wait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;businessemail&quot;))).sendKeys(email);\r\n```\r\n&lt;p&gt;\r\nIt&#39;s inserting the name but not fully inserting the email id.&lt;/p&gt;","title":"sendKeys() not inserting the full value using WebDriverWait through Selenium and Java","body":"<p>sendKeys() is not inserting the full string to the text field. I was trying to insert an email id.</p>\n\n<pre><code>String name = \"New Apollo33\";\nfluent_wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"businessname\"))).sendKeys(name);\n\nString email = \"apollo33@mailinator.com\";\nfluent_wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"businessemail\"))).sendKeys(email);\n</code></pre>\n\n<p>\nIt's inserting the name but not fully inserting the email id.</p>\n"},{"tags":["java","spring-boot","datasource","jdbctemplate","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":7826453,"reputation":3061,"user_id":5917837,"accept_rate":29,"display_name":"mantri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641443607,"creation_date":1641443607,"answer_id":70602509,"question_id":66888316,"body_markdown":"See if this answer by @JonBates helps:\r\n`https://stackoverflow.com/a/64375936/5917837`","title":"Changing database during runtime. How can i refresh data source for JdbcTemplate bean?","body":"<p>See if this answer by @JonBates helps:\n<code>https://stackoverflow.com/a/64375936/5917837</code></p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689679037,"creation_date":1689679037,"answer_id":76712228,"question_id":66888316,"body_markdown":"We need to reload the datasourcetransactionmanager bean, or set the new datasource for this bean.\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@Data\r\npublic class ConfigDataSource {\r\n\r\n    private final BeanFactory beanFactory;\r\n    HikariDataSource ds;\r\n    private SshSession sshSession;\r\n    private DaoCustom daoCustom;\r\n    private DaoPortals daoPortals;\r\n    private DaoBlacklist daoBlacklist;\r\n    private DaoDbChecker daoDbChecker;\r\n    private DaoPublishing daoPublishing;\r\n    private DaoTempJobs daoTempJobs;\r\n\r\n   public ConfigDataSource(SshSession sshSession){\r\n      this.sshSession = sshSession;\r\n   }\r\n\r\n  @Bean\r\n  public HikariDataSource dataSource(){\r\n    ds = new HikariDataSource(getConfig());\r\n    DataSourceTransactionManager dataSourceTransactionManager = beanFactory.getBean(DataSourceTransactionManager.class);\r\n    dataSourceTransactionManager.setDataSource(ds);\r\n    return ds;\r\n  }\r\n\r\n  public void reloadDataSource(){\r\n    log.info(&quot;Reloading the Connection pool.&quot;);\r\n    if(ds != null &amp;&amp; !ds.isClosed()){\r\n        ds.close();\r\n    }\r\n    ds = new HikariDataSource(getConfig());\r\n\r\n    this.daoCustom.getJdbcTemplate().setDataSource(ds);\r\n    this.daoPortals.getJdbcTemplate().setDataSource(ds);\r\n    this.daoBlacklist.getJdbcTemplate().setDataSource(ds);;\r\n    this.daoDbChecker.getJdbcTemplate().setDataSource(ds);\r\n    this.daoPublishing.getJdbcTemplate().setDataSource(ds);  \r\n  \r\n this.daoPublishing.getNamedJdbcTemplate().getJdbcTemplate().setDataSource(ds);\r\n    this.daoTempJobs.getJdbcTemplate().setDataSource(ds);\r\n  }\r\n\r\nprivate HikariConfig getConfig(){\r\n    try {\r\n        this.sshSession.createSessionSSH();\r\n    } catch (JSchException e) {\r\n        e.printStackTrace();\r\n        log.error(&quot;Could not create SSH session&quot;);\r\n    }\r\n\r\n    HikariConfig config = new HikariConfig();\r\n\r\n    config.setJdbcUrl( Constants.DB_JDBC_URL + this.sshSession.getAssignedPort());\r\n    config.setUsername( Constants.DB_USER );\r\n    config.setPassword( Constants.DB_PASSWORD );\r\n\r\n    config.setMaximumPoolSize(2);\r\n    config.setMaxLifetime(TimeUnit.MINUTES.toMillis(5)); // default wait_timeout of MySQL = 28800 seconds = 8 hours -&gt; must be less\r\n    config.setConnectionTimeout(TimeUnit.MINUTES.toMillis(10)); // Maximum number of milliseconds that a client will wait for a connection from the pool. Throws SQLException\r\n    config.setValidationTimeout(TimeUnit.MINUTES.toMillis(8)); // This property controls the maximum amount of time that a connection will be tested for aliveness.\r\n    config.setLeakDetectionThreshold(30000);\r\n\r\n    return config;\r\n}\r\n```\r\n\r\n\r\nThis worked for me, and I was able to perform INSERT, UPDATE, DELETE queries as well along with SELECT queries.","title":"Changing database during runtime. How can i refresh data source for JdbcTemplate bean?","body":"<p>We need to reload the datasourcetransactionmanager bean, or set the new datasource for this bean.</p>\n<pre><code>@Slf4j\n@Configuration\n@Data\npublic class ConfigDataSource {\n\n    private final BeanFactory beanFactory;\n    HikariDataSource ds;\n    private SshSession sshSession;\n    private DaoCustom daoCustom;\n    private DaoPortals daoPortals;\n    private DaoBlacklist daoBlacklist;\n    private DaoDbChecker daoDbChecker;\n    private DaoPublishing daoPublishing;\n    private DaoTempJobs daoTempJobs;\n\n   public ConfigDataSource(SshSession sshSession){\n      this.sshSession = sshSession;\n   }\n\n  @Bean\n  public HikariDataSource dataSource(){\n    ds = new HikariDataSource(getConfig());\n    DataSourceTransactionManager dataSourceTransactionManager = beanFactory.getBean(DataSourceTransactionManager.class);\n    dataSourceTransactionManager.setDataSource(ds);\n    return ds;\n  }\n\n  public void reloadDataSource(){\n    log.info(&quot;Reloading the Connection pool.&quot;);\n    if(ds != null &amp;&amp; !ds.isClosed()){\n        ds.close();\n    }\n    ds = new HikariDataSource(getConfig());\n\n    this.daoCustom.getJdbcTemplate().setDataSource(ds);\n    this.daoPortals.getJdbcTemplate().setDataSource(ds);\n    this.daoBlacklist.getJdbcTemplate().setDataSource(ds);;\n    this.daoDbChecker.getJdbcTemplate().setDataSource(ds);\n    this.daoPublishing.getJdbcTemplate().setDataSource(ds);  \n  \n this.daoPublishing.getNamedJdbcTemplate().getJdbcTemplate().setDataSource(ds);\n    this.daoTempJobs.getJdbcTemplate().setDataSource(ds);\n  }\n\nprivate HikariConfig getConfig(){\n    try {\n        this.sshSession.createSessionSSH();\n    } catch (JSchException e) {\n        e.printStackTrace();\n        log.error(&quot;Could not create SSH session&quot;);\n    }\n\n    HikariConfig config = new HikariConfig();\n\n    config.setJdbcUrl( Constants.DB_JDBC_URL + this.sshSession.getAssignedPort());\n    config.setUsername( Constants.DB_USER );\n    config.setPassword( Constants.DB_PASSWORD );\n\n    config.setMaximumPoolSize(2);\n    config.setMaxLifetime(TimeUnit.MINUTES.toMillis(5)); // default wait_timeout of MySQL = 28800 seconds = 8 hours -&gt; must be less\n    config.setConnectionTimeout(TimeUnit.MINUTES.toMillis(10)); // Maximum number of milliseconds that a client will wait for a connection from the pool. Throws SQLException\n    config.setValidationTimeout(TimeUnit.MINUTES.toMillis(8)); // This property controls the maximum amount of time that a connection will be tested for aliveness.\n    config.setLeakDetectionThreshold(30000);\n\n    return config;\n}\n</code></pre>\n<p>This worked for me, and I was able to perform INSERT, UPDATE, DELETE queries as well along with SELECT queries.</p>\n"}],"owner":{"account_id":15023244,"reputation":331,"user_id":10844028,"display_name":"MajesticOl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689679037,"creation_date":1617195299,"question_id":66888316,"body_markdown":"i have following problem:\r\nI am currently writing a spring boot application that provides a rest endpoint and also constantly evaluates some data stored inside a remote **MySql** database that i have to reach through a **SSH tunnel**. I use **Jcraft** library to create that tunnel and dynamically assign a free port that my data source is using to connect to the database through the tunnel. The port cannot be static.\r\n\r\nThe data source itself is a **Hikari connection pool**.\r\n\r\nEvery once in a while though something happens and i **lose my connection to the database**.\r\nI want to create a failsafe that basicly catches any exceptions related to any issues with the database communication, automatically shuts down the old tunnel + data source and then creates a new tunnel + recreates the data source.\r\n\r\nMy current approach was as following:\r\n\r\nBasicly just recreate the the tunnel is it does not exist anymore and then close the connection pool + restarting it again. After that i set the new data source inside every JdbcTemplate thats autowired inside the DAO&#39;s.\r\n\r\n**My data source configuration bean:**\r\n\r\n    import com.jcraft.jsch.JSchException;\r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n\r\n    import lombok.Data;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import net.candidatis.tiertwo.data.*;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @Data\r\n    public class ConfigDataSource {\r\n\r\n    HikariDataSource ds;\r\n    private SshSession sshSession;\r\n    private DaoCustom daoCustom;\r\n    private DaoPortals daoPortals;\r\n    private DaoBlacklist daoBlacklist;\r\n    private DaoDbChecker daoDbChecker;\r\n    private DaoPublishing daoPublishing;\r\n    private DaoTempJobs daoTempJobs;\r\n\r\n    public ConfigDataSource(SshSession sshSession){\r\n        this.sshSession = sshSession;\r\n    }\r\n\r\n    @Bean\r\n    public HikariDataSource dataSource(){\r\n        ds = new HikariDataSource(getConfig());\r\n        return ds;\r\n    }\r\n\r\n    public void reloadDataSource(){\r\n        log.info(&quot;Reloading the Connection pool.&quot;);\r\n        if(ds != null &amp;&amp; !ds.isClosed()){\r\n            ds.close();\r\n        }\r\n        ds = new HikariDataSource(getConfig());\r\n\r\n        this.daoCustom.getJdbcTemplate().setDataSource(ds);\r\n        this.daoPortals.getJdbcTemplate().setDataSource(ds);\r\n        this.daoBlacklist.getJdbcTemplate().setDataSource(ds);;\r\n        this.daoDbChecker.getJdbcTemplate().setDataSource(ds);\r\n        this.daoPublishing.getJdbcTemplate().setDataSource(ds);\r\n        this.daoPublishing.getNamedJdbcTemplate().getJdbcTemplate().setDataSource(ds);\r\n        this.daoTempJobs.getJdbcTemplate().setDataSource(ds);\r\n    }\r\n\r\n    private HikariConfig getConfig(){\r\n        try {\r\n            this.sshSession.createSessionSSH();\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();\r\n            log.error(&quot;Could not create SSH session&quot;);\r\n        }\r\n\r\n        HikariConfig config = new HikariConfig();\r\n\r\n        config.setJdbcUrl( Constants.DB_JDBC_URL + this.sshSession.getAssignedPort());\r\n        config.setUsername( Constants.DB_USER );\r\n        config.setPassword( Constants.DB_PASSWORD );\r\n\r\n        config.setMaximumPoolSize(2);\r\n        config.setMaxLifetime(TimeUnit.MINUTES.toMillis(5)); // default wait_timeout of MySQL = 28800 seconds = 8 hours -&gt; must be less\r\n        config.setConnectionTimeout(TimeUnit.MINUTES.toMillis(10)); // Maximum number of milliseconds that a client will wait for a connection from the pool. Throws SQLException\r\n        config.setValidationTimeout(TimeUnit.MINUTES.toMillis(8)); // This property controls the maximum amount of time that a connection will be tested for aliveness.\r\n        config.setLeakDetectionThreshold(30000);\r\n\r\n        return config;\r\n    }\r\n}\r\n\r\nThe exception handling if anything should happen is basicly just the `reloadDataSource` method.\r\nIt creates a new pool using the configuration with the new assigned port and updates all data sources of all JdbcTemplate classes..\r\n\r\nAnd it ALMOST works. I can reload the pool and i can then use SELECT statements on the database to fetch data, however i dont seem to be able to INSERT,UPDATE or DELETE data.\r\n\r\nHere a part of my hikariCP log **at startup(not reloading):**\r\n\r\n```\r\n2021-03-31 13:18:05.051 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Loaded driver with class name com.mysql.cj.jdbc.Driver for jdbcUrl=jdbc:mysql://localhost:41749\r\n2021-03-31 13:18:05.566 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@647dd875\r\n2021-03-31 13:18:05.566  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2021-03-31 13:18:05.666 DEBUG 471740 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Pool stats (total=1, active=1, idle=0, waiting=0)\r\n2021-03-31 13:18:05.714 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c9d2fe4\r\n2021-03-31 13:18:05.714 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After adding stats (total=2, active=1, idle=1, waiting=0)\r\n```\r\n\r\n**..and here again after the reload:**\r\n\r\n\r\n```\r\n2021-03-31 13:18:24.808  INFO 471740 --- [  restartedMain] n.c.tiertwo.config.ConfigDataSource      : Reloading the Connection pool.\r\n2021-03-31 13:18:24.808  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2021-03-31 13:18:24.809 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)\r\n2021-03-31 13:18:24.809 DEBUG 471740 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@647dd875: (connection evicted)\r\n2021-03-31 13:18:24.812 DEBUG 471740 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@1c9d2fe4: (connection evicted)\r\n2021-03-31 13:18:24.812 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\r\n2021-03-31 13:18:24.812  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2021-03-31 13:18:34.946  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...\r\n2021-03-31 13:18:34.946 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Loaded driver with class name com.mysql.cj.jdbc.Driver for jdbcUrl=jdbc:mysql://localhost:35177\r\n2021-03-31 13:18:35.691 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@153f9ff2\r\n2021-03-31 13:18:35.692  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.\r\n2021-03-31 13:18:35.710  INFO 471740 --- [  restartedMain] n.c.tiertwo.controllers.MainController   : Fetching TempJob Block from database\r\n2021-03-31 13:18:35.792 DEBUG 471740 --- [l-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Pool stats (total=1, active=1, idle=0, waiting=0)\r\n2021-03-31 13:18:35.978 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@22eb1758\r\n2021-03-31 13:18:35.978 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - After adding stats (total=2, active=1, idle=1, waiting=0)\r\n```\r\n    \r\nAgain: I can use SELECT statements so the pool should actually exist. However on INSERT,DELTE or any other queries i get following errors:\r\n\r\n\r\n```org.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\r\n\tat net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\r\n\tat net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\r\n\t... 25 more\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\r\n\t... 26 more\r\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n\t... 27 more\r\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\r\n\tat net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\r\n\tat net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\r\n\t... 25 more\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\r\n\t... 26 more\r\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n\t... 27 more\r\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:171)\r\n\tat net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\r\n\tat net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\r\n\t... 26 more\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\r\n\t... 27 more\r\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n\t... 28 more\r\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\r\n\tat net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:171)\r\n\tat net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\r\n\tat net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\r\n\tat org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\r\n\t... 26 more\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\r\n\t... 27 more\r\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n\t... 28 more\r\n```\r\n\r\nAs you can see it is still trying to use the HikariPool #1 **when it actually should use the new #2 that i have set previousely.**\r\n\r\nAny ideas why it is behaving that way ? Could it be that i cannot switch the datasource of the jdbcTemplate that is provided by the Spring container once it is initialized ? If i cannot change it why can i use a SELECT query ? Is there generally a much better way to just globally update the data source for all my DB operations ? I really need to find a solid solution for those database connection issues.\r\n\r\nThanks for anything.\r\n\r\nI am thankful for any help.","title":"Changing database during runtime. How can i refresh data source for JdbcTemplate bean?","body":"<p>i have following problem:\nI am currently writing a spring boot application that provides a rest endpoint and also constantly evaluates some data stored inside a remote <strong>MySql</strong> database that i have to reach through a <strong>SSH tunnel</strong>. I use <strong>Jcraft</strong> library to create that tunnel and dynamically assign a free port that my data source is using to connect to the database through the tunnel. The port cannot be static.</p>\n<p>The data source itself is a <strong>Hikari connection pool</strong>.</p>\n<p>Every once in a while though something happens and i <strong>lose my connection to the database</strong>.\nI want to create a failsafe that basicly catches any exceptions related to any issues with the database communication, automatically shuts down the old tunnel + data source and then creates a new tunnel + recreates the data source.</p>\n<p>My current approach was as following:</p>\n<p>Basicly just recreate the the tunnel is it does not exist anymore and then close the connection pool + restarting it again. After that i set the new data source inside every JdbcTemplate thats autowired inside the DAO's.</p>\n<p><strong>My data source configuration bean:</strong></p>\n<pre><code>import com.jcraft.jsch.JSchException;\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\nimport lombok.Data;\nimport lombok.extern.slf4j.Slf4j;\nimport net.candidatis.tiertwo.data.*;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.concurrent.TimeUnit;\n\n@Slf4j\n@Configuration\n@Data\npublic class ConfigDataSource {\n\nHikariDataSource ds;\nprivate SshSession sshSession;\nprivate DaoCustom daoCustom;\nprivate DaoPortals daoPortals;\nprivate DaoBlacklist daoBlacklist;\nprivate DaoDbChecker daoDbChecker;\nprivate DaoPublishing daoPublishing;\nprivate DaoTempJobs daoTempJobs;\n\npublic ConfigDataSource(SshSession sshSession){\n    this.sshSession = sshSession;\n}\n\n@Bean\npublic HikariDataSource dataSource(){\n    ds = new HikariDataSource(getConfig());\n    return ds;\n}\n\npublic void reloadDataSource(){\n    log.info(&quot;Reloading the Connection pool.&quot;);\n    if(ds != null &amp;&amp; !ds.isClosed()){\n        ds.close();\n    }\n    ds = new HikariDataSource(getConfig());\n\n    this.daoCustom.getJdbcTemplate().setDataSource(ds);\n    this.daoPortals.getJdbcTemplate().setDataSource(ds);\n    this.daoBlacklist.getJdbcTemplate().setDataSource(ds);;\n    this.daoDbChecker.getJdbcTemplate().setDataSource(ds);\n    this.daoPublishing.getJdbcTemplate().setDataSource(ds);\n    this.daoPublishing.getNamedJdbcTemplate().getJdbcTemplate().setDataSource(ds);\n    this.daoTempJobs.getJdbcTemplate().setDataSource(ds);\n}\n\nprivate HikariConfig getConfig(){\n    try {\n        this.sshSession.createSessionSSH();\n    } catch (JSchException e) {\n        e.printStackTrace();\n        log.error(&quot;Could not create SSH session&quot;);\n    }\n\n    HikariConfig config = new HikariConfig();\n\n    config.setJdbcUrl( Constants.DB_JDBC_URL + this.sshSession.getAssignedPort());\n    config.setUsername( Constants.DB_USER );\n    config.setPassword( Constants.DB_PASSWORD );\n\n    config.setMaximumPoolSize(2);\n    config.setMaxLifetime(TimeUnit.MINUTES.toMillis(5)); // default wait_timeout of MySQL = 28800 seconds = 8 hours -&gt; must be less\n    config.setConnectionTimeout(TimeUnit.MINUTES.toMillis(10)); // Maximum number of milliseconds that a client will wait for a connection from the pool. Throws SQLException\n    config.setValidationTimeout(TimeUnit.MINUTES.toMillis(8)); // This property controls the maximum amount of time that a connection will be tested for aliveness.\n    config.setLeakDetectionThreshold(30000);\n\n    return config;\n}\n</code></pre>\n<p>}</p>\n<p>The exception handling if anything should happen is basicly just the <code>reloadDataSource</code> method.\nIt creates a new pool using the configuration with the new assigned port and updates all data sources of all JdbcTemplate classes..</p>\n<p>And it ALMOST works. I can reload the pool and i can then use SELECT statements on the database to fetch data, however i dont seem to be able to INSERT,UPDATE or DELETE data.</p>\n<p>Here a part of my hikariCP log <strong>at startup(not reloading):</strong></p>\n<pre><code>2021-03-31 13:18:05.051 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Loaded driver with class name com.mysql.cj.jdbc.Driver for jdbcUrl=jdbc:mysql://localhost:41749\n2021-03-31 13:18:05.566 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@647dd875\n2021-03-31 13:18:05.566  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-03-31 13:18:05.666 DEBUG 471740 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Pool stats (total=1, active=1, idle=0, waiting=0)\n2021-03-31 13:18:05.714 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c9d2fe4\n2021-03-31 13:18:05.714 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After adding stats (total=2, active=1, idle=1, waiting=0)\n</code></pre>\n<p><strong>..and here again after the reload:</strong></p>\n<pre><code>2021-03-31 13:18:24.808  INFO 471740 --- [  restartedMain] n.c.tiertwo.config.ConfigDataSource      : Reloading the Connection pool.\n2021-03-31 13:18:24.808  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-03-31 13:18:24.809 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)\n2021-03-31 13:18:24.809 DEBUG 471740 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@647dd875: (connection evicted)\n2021-03-31 13:18:24.812 DEBUG 471740 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@1c9d2fe4: (connection evicted)\n2021-03-31 13:18:24.812 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\n2021-03-31 13:18:24.812  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2021-03-31 13:18:34.946  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...\n2021-03-31 13:18:34.946 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Loaded driver with class name com.mysql.cj.jdbc.Driver for jdbcUrl=jdbc:mysql://localhost:35177\n2021-03-31 13:18:35.691 DEBUG 471740 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@153f9ff2\n2021-03-31 13:18:35.692  INFO 471740 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.\n2021-03-31 13:18:35.710  INFO 471740 --- [  restartedMain] n.c.tiertwo.controllers.MainController   : Fetching TempJob Block from database\n2021-03-31 13:18:35.792 DEBUG 471740 --- [l-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Pool stats (total=1, active=1, idle=0, waiting=0)\n2021-03-31 13:18:35.978 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@22eb1758\n2021-03-31 13:18:35.978 DEBUG 471740 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - After adding stats (total=2, active=1, idle=1, waiting=0)\n</code></pre>\n<p>Again: I can use SELECT statements so the pool should actually exist. However on INSERT,DELTE or any other queries i get following errors:</p>\n<pre><code>    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\n    at org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\n    at org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\n    at net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\n    at net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\n    at net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\n    at net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\n    ... 25 more\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\n    ... 26 more\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    ... 27 more\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\n    at org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\n    at org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\n    at net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\n    at net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\n    at net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\n    at net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\n    ... 25 more\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\n    ... 26 more\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    ... 27 more\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\n    at org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\n    at org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\n    at net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\n    at net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:171)\n    at net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\n    at net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\n    ... 26 more\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\n    ... 27 more\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    ... 28 more\norg.springframework.dao.DataAccessResourceFailureException: Error retrieving database meta-data; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:86)\n    at org.springframework.jdbc.core.metadata.TableMetaDataContext.processMetaData(TableMetaDataContext.java:171)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compileInternal(AbstractJdbcInsert.java:277)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.compile(AbstractJdbcInsert.java:261)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.checkCompiled(AbstractJdbcInsert.java:309)\n    at org.springframework.jdbc.core.simple.AbstractJdbcInsert.doExecuteAndReturnKey(AbstractJdbcInsert.java:368)\n    at org.springframework.jdbc.core.simple.SimpleJdbcInsert.executeAndReturnKey(SimpleJdbcInsert.java:127)\n    at net.candidatis.tiertwo.data.DaoPublishing.publish(DaoPublishing.java:220)\n    at net.candidatis.tiertwo.data.DaoPublishing$$FastClassBySpringCGLIB$$32c38d56.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at net.candidatis.tiertwo.data.DaoPublishing$$EnhancerBySpringCGLIB$$bdbc3342.publish(&lt;generated&gt;)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:150)\n    at net.candidatis.tiertwo.services.Publisher.publish(Publisher.java:171)\n    at net.candidatis.tiertwo.services.Publisher.publishEvaluation(Publisher.java:67)\n    at net.candidatis.tiertwo.services.Publishing.run(Publishing.java:16)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:363)\n    at org.springframework.jdbc.core.metadata.TableMetaDataProviderFactory.createMetaDataProvider(TableMetaDataProviderFactory.java:52)\n    ... 26 more\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337)\n    ... 27 more\nCaused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    ... 28 more\n</code></pre>\n<p>As you can see it is still trying to use the HikariPool #1 <strong>when it actually should use the new #2 that i have set previousely.</strong></p>\n<p>Any ideas why it is behaving that way ? Could it be that i cannot switch the datasource of the jdbcTemplate that is provided by the Spring container once it is initialized ? If i cannot change it why can i use a SELECT query ? Is there generally a much better way to just globally update the data source for all my DB operations ? I really need to find a solid solution for those database connection issues.</p>\n<p>Thanks for anything.</p>\n<p>I am thankful for any help.</p>\n"},{"tags":["java","ajax","tomcat","servlets"],"owner":{"account_id":20764205,"reputation":13,"user_id":15248624,"display_name":"Alcon Blue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689678904,"answer_count":0,"score":0,"last_activity_date":1689678932,"creation_date":1689615151,"question_id":76706842,"body_markdown":"In my Tomcat directory I have placed the compiled java servlet of UserSignup.class in the WEB-INF/classes/com/mycompany/app/ .\r\n\r\nIn the root directory of myapp I have the WEB-INF folder and other source files (index.html, style.css, app.js, jQuery.js, Dashboard.html, Dashboard.css, Dashboard.js). I am using @WebServlet(&quot;/Signup&quot;) annotation, so I have no web.xml.\r\n\r\nI am making call to the servlet using ajax and have RequesteDispatcher object in servlet to forward the request to (&quot;/Dashboard.html&quot;) but for some reason it doesn&#39;t forward it. What is going wrong here? Is my approach incorrect?","title":"Request Dispatcher Issue","body":"<p>In my Tomcat directory I have placed the compiled java servlet of UserSignup.class in the WEB-INF/classes/com/mycompany/app/ .</p>\n<p>In the root directory of myapp I have the WEB-INF folder and other source files (index.html, style.css, app.js, jQuery.js, Dashboard.html, Dashboard.css, Dashboard.js). I am using @WebServlet(&quot;/Signup&quot;) annotation, so I have no web.xml.</p>\n<p>I am making call to the servlet using ajax and have RequesteDispatcher object in servlet to forward the request to (&quot;/Dashboard.html&quot;) but for some reason it doesn't forward it. What is going wrong here? Is my approach incorrect?</p>\n"},{"tags":["java","logging"],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689678797,"creation_date":1689637240,"question_id":76708709,"body_markdown":"I try to add logging through `Slf4j`.\r\n\r\nI have added dependencies:\r\n\r\n```\r\n        //log4j\r\n        // log4j-slf4j-impl\r\n        implementation &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.17.2&#39;\r\n\r\n        // log4j-api and log4j-core\r\n        implementation &#39;org.apache.logging.log4j:log4j-api:2.17.2&#39;\r\n        implementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\n\r\n        // jul-to-slf4j\r\n        implementation &#39;org.slf4j:jul-to-slf4j:2.0.0&#39;\r\n```\r\n\r\nAnd excluded from the spring dependencies for conflicts avoiding:\r\n\r\n```\r\n//security\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security:${spring_boot_version}&quot;){\r\n        exclude module: &quot;spring-boot-starter-logging&quot;\r\n        exclude module: &quot;logback-classic&quot;\r\n    }\r\n    ...............\r\n```\r\n\r\n\r\nI created a simple `log4j2.properties`:\r\n```\r\n# Set to debug or trace if log4j initialization is failing\r\nstatus = warn\r\n\r\n# Name of the configuration\r\nname = ConsoleLogConfigDemo\r\n\r\n# Console appender configuration\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n# Root logger level\r\nrootLogger.level = debug\r\n\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```\r\n\r\nThe properties works well - I can change format of the message and managing logger level.\r\nI see correctly system logs in the console, but don&#39;t see custom logs:\r\n\r\n```\r\n@Slf4j\r\n@SpringBootApplication\r\npublic class BusinessRunner {\r\n    public static void main(String[] args) {\r\n        log.info(&quot;Hello Log4j!!!&quot;);\r\n        SpringApplication.run(BusinessRunner.class);\r\n    }\r\n}\r\n```\r\n\r\nThe `Hello Log4j!!!` message isn&#39;t appears in the console.\r\n----------------\r\n\r\nUpdated:\r\n\r\nAs I understand - this is impossible to use log4j trough Slf4j? May be anyone know another solution?","title":"Log4j doesn&#39;t logging custom logs through Slf4j","body":"<p>I try to add logging through <code>Slf4j</code>.</p>\n<p>I have added dependencies:</p>\n<pre><code>        //log4j\n        // log4j-slf4j-impl\n        implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.2'\n\n        // log4j-api and log4j-core\n        implementation 'org.apache.logging.log4j:log4j-api:2.17.2'\n        implementation 'org.apache.logging.log4j:log4j-core:2.17.2'\n\n        // jul-to-slf4j\n        implementation 'org.slf4j:jul-to-slf4j:2.0.0'\n</code></pre>\n<p>And excluded from the spring dependencies for conflicts avoiding:</p>\n<pre><code>//security\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security:${spring_boot_version}&quot;){\n        exclude module: &quot;spring-boot-starter-logging&quot;\n        exclude module: &quot;logback-classic&quot;\n    }\n    ...............\n</code></pre>\n<p>I created a simple <code>log4j2.properties</code>:</p>\n<pre><code># Set to debug or trace if log4j initialization is failing\nstatus = warn\n\n# Name of the configuration\nname = ConsoleLogConfigDemo\n\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Root logger level\nrootLogger.level = debug\n\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n<p>The properties works well - I can change format of the message and managing logger level.\nI see correctly system logs in the console, but don't see custom logs:</p>\n<pre><code>@Slf4j\n@SpringBootApplication\npublic class BusinessRunner {\n    public static void main(String[] args) {\n        log.info(&quot;Hello Log4j!!!&quot;);\n        SpringApplication.run(BusinessRunner.class);\n    }\n}\n</code></pre>\n<h2>The <code>Hello Log4j!!!</code> message isn't appears in the console.</h2>\n<p>Updated:</p>\n<p>As I understand - this is impossible to use log4j trough Slf4j? May be anyone know another solution?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1298884346,"post_id":5139984,"comment_id":5767800,"body_markdown":"The down side of this is handling overloaded methods is complicated.  My suggestion would be to find another way to do what you want to do without the `Method` object. i.e. Why do you need it?","body":"The down side of this is handling overloaded methods is complicated.  My suggestion would be to find another way to do what you want to do without the <code>Method</code> object. i.e. Why do you need it?"},{"owner":{"account_id":181749,"reputation":1406,"user_id":415956,"accept_rate":67,"display_name":"magicduncan"},"score":0,"creation_date":1298884709,"post_id":5139984,"comment_id":5767850,"body_markdown":"It might be worth taking a look through the source code of some of the logging APIs that need to do this. Some of these projects have been around for a long time, and should have some well worn solutions to this problem","body":"It might be worth taking a look through the source code of some of the logging APIs that need to do this. Some of these projects have been around for a long time, and should have some well worn solutions to this problem"},{"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"score":0,"creation_date":1298885183,"post_id":5139984,"comment_id":5767948,"body_markdown":"@Peter : You&#39;re right, but I&#39;m annotating the methods I need to find, so no worry about overloading. Actually finding the Method object dynamically allows me to avoid even worse solutions to my problem.","body":"@Peter : You&#39;re right, but I&#39;m annotating the methods I need to find, so no worry about overloading. Actually finding the Method object dynamically allows me to avoid even worse solutions to my problem."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1298885290,"post_id":5139984,"comment_id":5767966,"body_markdown":"@magicduncan: Interestingly, all of the logging frameworks I can think of off the top of my head, don&#39;t do this out of the box.  Log4J can do this (see [PatternLayout](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html)&#39;s `%L` or `%M` options) but warn that it&#39;s **very** slow, because IIRC they&#39;re just calling `Thread.currentThread().getStackTrace()` as well.","body":"@magicduncan: Interestingly, all of the logging frameworks I can think of off the top of my head, don&#39;t do this out of the box.  Log4J can do this (see <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">PatternLayout</a>&#39;s <code>%L</code> or <code>%M</code> options) but warn that it&#39;s <b>very</b> slow, because IIRC they&#39;re just calling <code>Thread.currentThread().getStackTrace()</code> as well."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1298885596,"post_id":5139984,"comment_id":5768021,"body_markdown":"In Oracle&#39;s JVM you can call `sun.reflect.Reflection.getCallerClass(int)` This can more efficient, but platform dependant and it doesn&#39;t give you the method.","body":"In Oracle&#39;s JVM you can call <code>sun.reflect.Reflection.getCallerClass(int)</code> This can more efficient, but platform dependant and it doesn&#39;t give you the method."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1298885697,"post_id":5139984,"comment_id":5768040,"body_markdown":"If the callee expects the caller to pass it some information, you should do this as additional parameters. You can leave the existing method for calls which don&#39;t provide this infromation.","body":"If the callee expects the caller to pass it some information, you should do this as additional parameters. You can leave the existing method for calls which don&#39;t provide this infromation."},{"owner":{"account_id":181749,"reputation":1406,"user_id":415956,"accept_rate":67,"display_name":"magicduncan"},"score":0,"creation_date":1298886231,"post_id":5139984,"comment_id":5768128,"body_markdown":"@Andrzej indeed, I lookep up what log4j seems to be doing ( http://svn.apache.org/viewvc/logging/log4j/trunk/src/main/java/org/apache/log4j/spi/LocationInfo.java?view=markup ) and it aint pretty.","body":"@Andrzej indeed, I lookep up what log4j seems to be doing ( <a href=\"http://svn.apache.org/viewvc/logging/log4j/trunk/src/main/java/org/apache/log4j/spi/LocationInfo.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/logging/log4j/trunk/src/main/java/org/&zwnj;&#8203;&hellip;</a> ) and it aint pretty."}],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1503802011,"creation_date":1298885053,"answer_id":5140110,"question_id":5139984,"body_markdown":"Out of the box, I&#39;m not aware of a better way to do this.\r\n\r\nOne thing to consider perhaps would be aspects - you could weave an aspect into the code that fired around all method invocations and pushed the current `Method` object to a ThreadLocal (based on the reflective information available from the joinpoint).\r\n\r\nThis would be probably prohibitively expensive if it really fired on *all* methods, but depending on what you&#39;re doing with the results, you may be able to constrain the capturing down to certain packages/classes, which would help.  You may be able to defer the actual lookup of the `Method` too until such time as it&#39;s used, and instead store the name of the method and arguments etc.\r\n\r\nI have my doubts whether there&#39;s going to be a particularly cheap way to achieve this, though.","title":"Java : Getting the currently executing Method corresponding object","body":"<p>Out of the box, I'm not aware of a better way to do this.</p>\n\n<p>One thing to consider perhaps would be aspects - you could weave an aspect into the code that fired around all method invocations and pushed the current <code>Method</code> object to a ThreadLocal (based on the reflective information available from the joinpoint).</p>\n\n<p>This would be probably prohibitively expensive if it really fired on <em>all</em> methods, but depending on what you're doing with the results, you may be able to constrain the capturing down to certain packages/classes, which would help.  You may be able to defer the actual lookup of the <code>Method</code> too until such time as it's used, and instead store the name of the method and arguments etc.</p>\n\n<p>I have my doubts whether there's going to be a particularly cheap way to achieve this, though.</p>\n"},{"tags":[],"owner":{"account_id":422055,"reputation":10973,"user_id":800619,"accept_rate":84,"display_name":"NSjonas"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1383587491,"creation_date":1383587491,"answer_id":19773921,"question_id":5139984,"body_markdown":"This topic is covered in deeper depth [in this SO Question][1].\r\n\r\nI need to do the same thing and I found the best solution to be the one provided by @alexsmail.\r\n\r\nIt seems a little bit hacky but the general idea is that you declare a local class in the method and then take advantage of `class.getEnclosingMethod();`\r\n\r\nCode slightly modified from @alexsmail&#39;s solution:\r\n\r\n    public class SomeClass {\r\n       public void foo(){\r\n          class Local {};\r\n          Method m = Local.class.getEnclosingMethod();\r\n       }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/442747/getting-the-name-of-the-current-executing-method","title":"Java : Getting the currently executing Method corresponding object","body":"<p>This topic is covered in deeper depth <a href=\"https://stackoverflow.com/questions/442747/getting-the-name-of-the-current-executing-method\">in this SO Question</a>.</p>\n\n<p>I need to do the same thing and I found the best solution to be the one provided by @alexsmail.</p>\n\n<p>It seems a little bit hacky but the general idea is that you declare a local class in the method and then take advantage of <code>class.getEnclosingMethod();</code></p>\n\n<p>Code slightly modified from @alexsmail's solution:</p>\n\n<pre><code>public class SomeClass {\n   public void foo(){\n      class Local {};\n      Method m = Local.class.getEnclosingMethod();\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241000,"reputation":815,"user_id":511554,"accept_rate":0,"display_name":"David Urry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614997169,"creation_date":1614997169,"answer_id":66501755,"question_id":5139984,"body_markdown":"I find that this works well:\r\n\r\n    package com.paintedintel.util;\r\n    \r\n    public class Log{\r\n    \r\n    \tpublic static void out(final String output) {\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    \t\r\n    \tpublic static void debug(String output) {\r\n    \t\tSystem.err.println(Log.currentLocation() + &quot; &quot; + output);\r\n    \t}\r\n    \t\r\n    \tpublic static String currentLocation() {\r\n    \t\tStackTraceElement classMethod = new Throwable() \r\n                    .getStackTrace()[2];\r\n    \t\tString\t currMethod\t= classMethod.getMethodName(); \r\n    \t\tString   fullClass\t= classMethod.getClassName();\r\n    \t\tString[] smplClass\t= fullClass.split(&quot;\\\\.&quot;);\r\n    \t\treturn smplClass[smplClass.length - 1] + &quot;.&quot; + currMethod;\r\n    \t}\t\r\n    }\r\n\r\nYou can call it as \r\n\r\n    Log.debug(&quot;my message &quot; + myParameters);\r\n\r\nI have it printing out the simpleClassName() rather than the package class name which you can&#39;t get at directly which is the \r\n\r\n`split(&quot;\\\\.&quot;);  //yes you need to escape the &quot;.&quot;`\r\n\r\nOther than that, it can track where you&#39;re debug output is coming from automatically.  Or you could just use it to get the method and class names.\r\n\r\nIf you combine the debug and currentLocation methods you&#39;ll have to use a lower index to get the line you want....\r\n\r\n    \t\tStackTraceElement classMethod = new Throwable() \r\n                    .getStackTrace()[2]; // use a different index [x] w/exr methods\r\n","title":"Java : Getting the currently executing Method corresponding object","body":"<p>I find that this works well:</p>\n<pre><code>package com.paintedintel.util;\n\npublic class Log{\n\n    public static void out(final String output) {\n        System.out.println(output);\n    }\n    \n    public static void debug(String output) {\n        System.err.println(Log.currentLocation() + &quot; &quot; + output);\n    }\n    \n    public static String currentLocation() {\n        StackTraceElement classMethod = new Throwable() \n                .getStackTrace()[2];\n        String   currMethod = classMethod.getMethodName(); \n        String   fullClass  = classMethod.getClassName();\n        String[] smplClass  = fullClass.split(&quot;\\\\.&quot;);\n        return smplClass[smplClass.length - 1] + &quot;.&quot; + currMethod;\n    }   \n}\n</code></pre>\n<p>You can call it as</p>\n<pre><code>Log.debug(&quot;my message &quot; + myParameters);\n</code></pre>\n<p>I have it printing out the simpleClassName() rather than the package class name which you can't get at directly which is the</p>\n<p><code>split(&quot;\\\\.&quot;);  //yes you need to escape the &quot;.&quot;</code></p>\n<p>Other than that, it can track where you're debug output is coming from automatically.  Or you could just use it to get the method and class names.</p>\n<p>If you combine the debug and currentLocation methods you'll have to use a lower index to get the line you want....</p>\n<pre><code>        StackTraceElement classMethod = new Throwable() \n                .getStackTrace()[2]; // use a different index [x] w/exr methods\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689678545,"creation_date":1689678545,"answer_id":76712171,"question_id":5139984,"body_markdown":"If you are using Java 9+ then you can use `StackWalker`:\r\n\r\n```java\r\npublic void foo() {\r\n    StackWalker walker = StackWalker.getInstance();\r\n    Optional&lt;StackTraceElement&gt; stackTraceElement = walker.walk(frames -&gt; frames\r\n            .findFirst()\r\n            .map(StackWalker.StackFrame::toStackTraceElement));\r\n    \r\n    if (stackTraceElement.isPresent()) {\r\n        // from here you can construct the method being called\r\n        // the same way as you would with the other methods mentioned\r\n    }\r\n}\r\n```\r\n\r\nThe advantage of this method is that each `StackTraceElement` is &lt;b&gt;fetched lazily&lt;/b&gt; so you don&#39;t actually construct the full stack trace before checking the first method.","title":"Java : Getting the currently executing Method corresponding object","body":"<p>If you are using Java 9+ then you can use <code>StackWalker</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo() {\n    StackWalker walker = StackWalker.getInstance();\n    Optional&lt;StackTraceElement&gt; stackTraceElement = walker.walk(frames -&gt; frames\n            .findFirst()\n            .map(StackWalker.StackFrame::toStackTraceElement));\n    \n    if (stackTraceElement.isPresent()) {\n        // from here you can construct the method being called\n        // the same way as you would with the other methods mentioned\n    }\n}\n</code></pre>\n<p>The advantage of this method is that each <code>StackTraceElement</code> is <b>fetched lazily</b> so you don't actually construct the full stack trace before checking the first method.</p>\n"}],"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10098,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":5140110,"answer_count":4,"score":16,"last_activity_date":1689678545,"creation_date":1298884214,"question_id":5139984,"body_markdown":"What is the most elegant way to get the currently executing method as a Method object ?\r\n\r\nMy first obvious way to do it would be to use a static method in a helper class, which would load the current thread stack, get the right stack trace element, and construct the Method element from its information.\r\n\r\nIs there a more elegant way to achieve this?","title":"Java : Getting the currently executing Method corresponding object","body":"<p>What is the most elegant way to get the currently executing method as a Method object ?</p>\n\n<p>My first obvious way to do it would be to use a static method in a helper class, which would load the current thread stack, get the right stack trace element, and construct the Method element from its information.</p>\n\n<p>Is there a more elegant way to achieve this?</p>\n"},{"tags":["java","pytorch","nlp","huggingface","djl"],"owner":{"account_id":29040903,"reputation":1,"user_id":22245786,"display_name":"essm21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689678510,"creation_date":1689678510,"question_id":76712164,"body_markdown":"I can&#39;t seem to figure out how to find out the input/output of a model from huggingface, specifically &quot;dbmdz/electra-large-discriminator-finetuned-conll03-english&quot;. I keep getting the following error: \r\n`Exception in thread &quot;main&quot; ai.djl.repository.zoo.ModelNotFoundException: No matching model with specified Input/Output type found.`\r\n\r\nI&#39;m only trying to get the model and use it on a String. I can find and download other pytorch models such as &#39;/sentence-transformers/all-MiniLM-L6-v2/&#39; just not the dbmdz one and it doesn&#39;t have a tokenizer.json to use the Huggingface tokenizer.\r\n\r\nHere is my code hopefully someone can help: \r\n\r\n\r\n```\r\n        Criteria&lt;String[], Classifications[]&gt; criteria = Criteria.builder()\r\n                .setTypes(String[].class, Classifications[].class)\r\n                .optTranslator(new MyTranslator(vocabularyPath, 128))\r\n                .optProgress(new ProgressBar())\r\n                .optModelUrls(\r\n                        &quot;djl://ai.djl.huggingface.pytorch/dbmdz/electra-large-discriminator-finetuned-conll03-english&quot;)\r\n                .build();\r\n        ZooModel&lt;String[], Classifications[]&gt; model = criteria.loadModel(); // EXCEPTION HAPPENS HERE\r\n\r\n        // Run inference\r\n        Predictor&lt;String[], Classifications[]&gt; predictor = model.newPredictor();\r\n        Classifications[] predict = predictor.predict(new String[]{text});\r\n\r\n        // Process the output\r\n        for (Classifications classifications : predict) {\r\n            for (Classifications.Classification classifaction : classifications.items()) {\r\n                String label = classifaction.getClassName();\r\n                double probability = classifaction.getProbability();\r\n                System.out.println(&quot;ClassName: &quot; + label);\r\n                //System.out.println(&quot;Word: &quot; + classifaction.getWord());\r\n                //System.out.println(&quot;Label: &quot; + label);\r\n                System.out.println(&quot;Probability: &quot; + probability);\r\n                System.out.println();\r\n            }\r\n        }\r\n        predictor.close();\r\n```\r\n\r\n\r\nI have tried downloading the model locally but had the same issue, tried using HuggingFace tokenizer but that did not work as the model doesn&#39;t have a tokenizer.json.","title":"DJL &quot;No matching model with specified Input/Output type found.&quot; using &quot;dbmdz/electra-large-discriminator-finetuned-conll03-english&quot; model","body":"<p>I can't seem to figure out how to find out the input/output of a model from huggingface, specifically &quot;dbmdz/electra-large-discriminator-finetuned-conll03-english&quot;. I keep getting the following error:\n<code>Exception in thread &quot;main&quot; ai.djl.repository.zoo.ModelNotFoundException: No matching model with specified Input/Output type found.</code></p>\n<p>I'm only trying to get the model and use it on a String. I can find and download other pytorch models such as '/sentence-transformers/all-MiniLM-L6-v2/' just not the dbmdz one and it doesn't have a tokenizer.json to use the Huggingface tokenizer.</p>\n<p>Here is my code hopefully someone can help:</p>\n<pre><code>        Criteria&lt;String[], Classifications[]&gt; criteria = Criteria.builder()\n                .setTypes(String[].class, Classifications[].class)\n                .optTranslator(new MyTranslator(vocabularyPath, 128))\n                .optProgress(new ProgressBar())\n                .optModelUrls(\n                        &quot;djl://ai.djl.huggingface.pytorch/dbmdz/electra-large-discriminator-finetuned-conll03-english&quot;)\n                .build();\n        ZooModel&lt;String[], Classifications[]&gt; model = criteria.loadModel(); // EXCEPTION HAPPENS HERE\n\n        // Run inference\n        Predictor&lt;String[], Classifications[]&gt; predictor = model.newPredictor();\n        Classifications[] predict = predictor.predict(new String[]{text});\n\n        // Process the output\n        for (Classifications classifications : predict) {\n            for (Classifications.Classification classifaction : classifications.items()) {\n                String label = classifaction.getClassName();\n                double probability = classifaction.getProbability();\n                System.out.println(&quot;ClassName: &quot; + label);\n                //System.out.println(&quot;Word: &quot; + classifaction.getWord());\n                //System.out.println(&quot;Label: &quot; + label);\n                System.out.println(&quot;Probability: &quot; + probability);\n                System.out.println();\n            }\n        }\n        predictor.close();\n</code></pre>\n<p>I have tried downloading the model locally but had the same issue, tried using HuggingFace tokenizer but that did not work as the model doesn't have a tokenizer.json.</p>\n"},{"tags":["java","tomcat","servlet-filters"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1379110637,"post_id":18796074,"comment_id":27717638,"body_markdown":"Please post the contents of your `util.filter.ConexaoHibernateFilter` class.","body":"Please post the contents of your <code>util.filter.ConexaoHibernateFilter</code> class."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1379111527,"post_id":18796074,"comment_id":27717896,"body_markdown":"I&#39;m not 100% exactly sure why this filter makes your application deployment to fail but I&#39;m sure this is a bad practice. What if a page executes a basic `find` that doesn&#39;t need a transaction? Also, the database transactions should be handled in service layer (Model from MVC), not in a filter (Controller from MVC).","body":"I&#39;m not 100% exactly sure why this filter makes your application deployment to fail but I&#39;m sure this is a bad practice. What if a page executes a basic <code>find</code> that doesn&#39;t need a transaction? Also, the database transactions should be handled in service layer (Model from MVC), not in a filter (Controller from MVC)."},{"owner":{"account_id":2682184,"reputation":41,"user_id":2317319,"display_name":"Gilson Lopes"},"score":0,"creation_date":1379114482,"post_id":18796074,"comment_id":27718580,"body_markdown":"@LuiggiMendoza , i commented every code inside the methods of the filter and the session factory attribute,the server ran, i uncommented the session factory attribute the error happened, are there any rules that prevent filters to have certain attributes?","body":"@LuiggiMendoza , i commented every code inside the methods of the filter and the session factory attribute,the server ran, i uncommented the session factory attribute the error happened, are there any rules that prevent filters to have certain attributes?"},{"owner":{"account_id":2682184,"reputation":41,"user_id":2317319,"display_name":"Gilson Lopes"},"score":2,"creation_date":1379115110,"post_id":18796074,"comment_id":27718724,"body_markdown":"oh, i&#39;ve solved it, the server needs to know the classes used on the filter so i just needed to copy the hibernate-core-&lt;version&gt;.jar to the tomcat lib folder and the server ran.","body":"oh, i&#39;ve solved it, the server needs to know the classes used on the filter so i just needed to copy the hibernate-core-&lt;version&gt;.jar to the tomcat lib folder and the server ran."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1379119823,"post_id":18796074,"comment_id":27719662,"body_markdown":"***What*** exception? But you should take good note of what @LuiggiMendoza says above. This whole thing is a bad idea.","body":"<b><i>What</i></b> exception? But you should take good note of what @LuiggiMendoza says above. This whole thing is a bad idea."},{"owner":{"account_id":2682184,"reputation":41,"user_id":2317319,"display_name":"Gilson Lopes"},"score":0,"creation_date":1379171565,"post_id":18796074,"comment_id":27729699,"body_markdown":"@EJP there was no exception i just needed to put the whole hibernate library into the tomcat/lib folder, telling me to read what Luiggi Mendoza said and not give me a suggestion of how else to do in the session handling wont help me, i&#39;m doing this because i&#39;m reading this of a book, the book calls it session per view method it seems like it&#39;s not good, but the only other way i can think of is every DAO having a new SessionFactory and opening a new session for every CRUD operation, and for as bad as session per view might be is better than that.","body":"@EJP there was no exception i just needed to put the whole hibernate library into the tomcat/lib folder, telling me to read what Luiggi Mendoza said and not give me a suggestion of how else to do in the session handling wont help me, i&#39;m doing this because i&#39;m reading this of a book, the book calls it session per view method it seems like it&#39;s not good, but the only other way i can think of is every DAO having a new SessionFactory and opening a new session for every CRUD operation, and for as bad as session per view might be is better than that."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1379288533,"post_id":18796074,"comment_id":27757126,"body_markdown":"It isn&#39;t a session per view: it&#39;s a transaction per view. I don&#39;t know about Hibernate but JDBC can do that automatically for each new Connection or indeed each operation, without any of this.","body":"It isn&#39;t a session per view: it&#39;s a transaction per view. I don&#39;t know about Hibernate but JDBC can do that automatically for each new Connection or indeed each operation, without any of this."}],"answers":[{"tags":[],"owner":{"account_id":17411536,"reputation":9,"user_id":12618661,"display_name":"Amritesh Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655824224,"creation_date":1655824224,"answer_id":72703203,"question_id":18796074,"body_markdown":"For me also same error was coming. The mistake I did was I didn&#39;t add any body to destroy and init methods.\r\nSo for me it worked by simply added some print statement inside the body of the destroy and init method.\r\n\r\n    @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter pw = response.getWriter();\r\n            pw.println(&quot;Error 404 bad request&quot;);\r\n            // chain.doFilter(request, response);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            System.out.println(&quot;destroyed&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            System.out.println(&quot;initilized&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n        }","title":"Tomcat server will not start up with a filter","body":"<p>For me also same error was coming. The mistake I did was I didn't add any body to destroy and init methods.\nSo for me it worked by simply added some print statement inside the body of the destroy and init method.</p>\n<pre><code>@Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter pw = response.getWriter();\n        pw.println(&quot;Error 404 bad request&quot;);\n        // chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(&quot;destroyed&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        System.out.println(&quot;initilized&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n    }\n</code></pre>\n"}],"owner":{"account_id":2682184,"reputation":41,"user_id":2317319,"display_name":"Gilson Lopes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689678350,"creation_date":1379110547,"question_id":18796074,"body_markdown":"Here is the web.xml code:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;   \r\n    xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    &lt;display-name&gt;Projeto_joas&lt;/display-name&gt;\r\n  \r\n    &lt;resource-ref&gt;\r\n\t&lt;res-ref-name&gt;jdbc/DiaDiaDev&lt;/res-ref-name&gt;\r\n\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n\t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n \r\n  \r\n    &lt;servlet&gt;\r\n  \t&lt;display-name&gt;FacesServlet&lt;/display-name&gt;\r\n  \t&lt;servlet-name&gt;FacesServlet&lt;/servlet-name&gt;\r\n  \t&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n  \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n  \t&lt;servlet-name&gt;FacesServlet&lt;/servlet-name&gt;\r\n  \t&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;context-param&gt;\r\n  \t&lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\r\n  \t&lt;param-value&gt;Development&lt;/param-value&gt;\r\n     &lt;/context-param&gt;\r\n\r\n\r\n    &lt;context-param&gt;\r\n  \t  &lt;param-name&gt;com.sun.faces.expressionFactory&lt;/param-name&gt;\r\n         &lt;param-value&gt;com.sun.el.ExpressionFactoryImpl&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n \r\n\r\n    &lt;!-- &lt;filter&gt; --&gt;\r\n\r\n    &lt;!--&lt;filter-name&gt;FilterHibernate&lt;/filter-name&gt; --&gt;\r\n    &lt;!--&lt;filter-class&gt;util.filter.ConexaoHibernateFilter&lt;/filter-class&gt; --&gt;\r\n    &lt;!--&lt;/filter&gt; --&gt;\r\n\r\n    &lt;!--&lt;filter-mapping&gt; --&gt;\r\n    &lt;!-- &lt;filter-name&gt;FilterHibernate&lt;/filter-name&gt; --&gt;\r\n    &lt;!--&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt; --&gt;\r\n\r\n    &lt;!--&lt;/filter-mapping&gt; --&gt;\r\n    &lt;/web-app&gt;\r\n\r\nThe server runs just fine this way, if i remove the comments on the filter, it won&#39;t\r\nstart and will throw me those exceptions:\r\n\r\n&gt; SEVERE: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]] \r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\r\nand\r\n\r\n&gt; WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Projeto_joas]] so no cleanup was performed for that container\r\njavax.naming.NamingException: No naming context bound to this class loader\r\n\r\n\r\nthe Filter class:\r\n\r\n  \r\n\r\n    package util.filter;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    \r\n    import util.HibernateUtil;\r\n    \r\n    public class ConexaoHibernateFilter implements Filter {\r\n    \r\n    \tprivate SessionFactory sf;\r\n    \t\t\r\n    \t@Override\r\n    \tpublic void init(FilterConfig arg0) throws ServletException {\r\n    \t\tthis.sf = HibernateUtil.getSessionFactory();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\r\n    \t\t\tFilterChain chain) throws IOException, ServletException {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tthis.sf.getCurrentSession().beginTransaction();\r\n    \t\t\tchain.doFilter(servletRequest, servletResponse);\r\n    \t\t\tthis.sf.getCurrentSession().getTransaction().commit();\r\n    \t\t\tthis.sf.getCurrentSession().close();\r\n    \r\n    \t\t} catch (Throwable ex) {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (this.sf.getCurrentSession().getTransaction().isActive()) {\r\n    \t\t\t\t\tthis.sf.getCurrentSession().getTransaction().rollback();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\tt.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tthrow new ServletException(ex);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Tomcat server will not start up with a filter","body":"<p>Here is the web.xml code:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://java.sun.com/xml/ns/javaee\"   \nxmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" \nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \nhttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n&lt;display-name&gt;Projeto_joas&lt;/display-name&gt;\n\n&lt;resource-ref&gt;\n&lt;res-ref-name&gt;jdbc/DiaDiaDev&lt;/res-ref-name&gt;\n&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n&lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n\n\n&lt;servlet&gt;\n&lt;display-name&gt;FacesServlet&lt;/display-name&gt;\n&lt;servlet-name&gt;FacesServlet&lt;/servlet-name&gt;\n&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;FacesServlet&lt;/servlet-name&gt;\n&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;context-param&gt;\n&lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\n&lt;param-value&gt;Development&lt;/param-value&gt;\n &lt;/context-param&gt;\n\n\n&lt;context-param&gt;\n  &lt;param-name&gt;com.sun.faces.expressionFactory&lt;/param-name&gt;\n     &lt;param-value&gt;com.sun.el.ExpressionFactoryImpl&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n\n&lt;!-- &lt;filter&gt; --&gt;\n\n&lt;!--&lt;filter-name&gt;FilterHibernate&lt;/filter-name&gt; --&gt;\n&lt;!--&lt;filter-class&gt;util.filter.ConexaoHibernateFilter&lt;/filter-class&gt; --&gt;\n&lt;!--&lt;/filter&gt; --&gt;\n\n&lt;!--&lt;filter-mapping&gt; --&gt;\n&lt;!-- &lt;filter-name&gt;FilterHibernate&lt;/filter-name&gt; --&gt;\n&lt;!--&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt; --&gt;\n\n&lt;!--&lt;/filter-mapping&gt; --&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>The server runs just fine this way, if i remove the comments on the filter, it won't\nstart and will throw me those exceptions:</p>\n\n<blockquote>\n  <p>SEVERE: A child container failed during start\n  java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]] \n  Caused by: org.apache.catalina.LifecycleException: A child container failed during start</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Projeto_joas]] so no cleanup was performed for that container\n  javax.naming.NamingException: No naming context bound to this class loader</p>\n</blockquote>\n\n<p>the Filter class:</p>\n\n<pre><code>package util.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\n\nimport org.hibernate.SessionFactory;\n\nimport util.HibernateUtil;\n\npublic class ConexaoHibernateFilter implements Filter {\n\n    private SessionFactory sf;\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        this.sf = HibernateUtil.getSessionFactory();\n\n    }\n\n\n\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\n            FilterChain chain) throws IOException, ServletException {\n\n        try {\n\n            this.sf.getCurrentSession().beginTransaction();\n            chain.doFilter(servletRequest, servletResponse);\n            this.sf.getCurrentSession().getTransaction().commit();\n            this.sf.getCurrentSession().close();\n\n        } catch (Throwable ex) {\n            try {\n                if (this.sf.getCurrentSession().getTransaction().isActive()) {\n                    this.sf.getCurrentSession().getTransaction().rollback();\n                }\n            } catch (Throwable t) {\n                t.printStackTrace();\n            }\n            throw new ServletException(ex);\n        }\n\n    }\n\n    @Override\n    public void destroy() {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","selenium","webdriver","automated-tests"],"comments":[{"owner":{"account_id":9933941,"reputation":1741,"user_id":7352883,"accept_rate":50,"display_name":"Shivam Mishra"},"score":0,"creation_date":1533325501,"post_id":51676696,"comment_id":90321561,"body_markdown":"Does the same behavior happens manually too? Does it remain open if you hover on it? Why not use JS itself to click on it?","body":"Does the same behavior happens manually too? Does it remain open if you hover on it? Why not use JS itself to click on it?"},{"owner":{"account_id":7316654,"reputation":53,"user_id":5574072,"accept_rate":25,"display_name":"Odysseus"},"score":0,"creation_date":1533326358,"post_id":51676696,"comment_id":90321949,"body_markdown":"No.  Manually, you click on it and it stays open.  I can&#39;t hover on it in automation, because once the next line executes, the menu disappears.  Executing a JS click has the same effect, as does using the Actions class and moving to the element, then performing the action.","body":"No.  Manually, you click on it and it stays open.  I can&#39;t hover on it in automation, because once the next line executes, the menu disappears.  Executing a JS click has the same effect, as does using the Actions class and moving to the element, then performing the action."},{"owner":{"account_id":1391148,"reputation":5056,"user_id":1321957,"accept_rate":95,"display_name":"CosminO"},"score":0,"creation_date":1533401696,"post_id":51676696,"comment_id":90337344,"body_markdown":"Could you cheat and try using sendKeys to the dropdown element?","body":"Could you cheat and try using sendKeys to the dropdown element?"}],"answers":[{"tags":[],"owner":{"account_id":10688776,"reputation":306,"user_id":7868445,"display_name":"Raults"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533314682,"creation_date":1533314682,"answer_id":51676955,"question_id":51676696,"body_markdown":"If you&#39;re not changing the classes when you click the dropdown then you&#39;re going to click it and it&#39;s going to just disappear after you click it pretty much. Try making it so the dropdown always shows and add a class that disappears on click called &quot;hide&quot; or &quot;removeDisplay&quot; like so\r\n\r\n    hide { display:none }\r\n\r\nand then put it in the html element.\r\n\r\n    &lt;htmlElement class=&quot;alwaysShowThis hide&quot;&gt;&lt;/htmlElement&gt;\r\n\r\nmake sure that on clicking it you remove the `hide` class, then you can just put a timer on it or just detect for when you are hovered over it.\r\n\r\nthe javascript might look like this:\r\n\r\n    display(event) {\r\n      if(/*checkfor hide class existing*/){\r\n         //remove hide class\r\n      }\r\n    }\r\n    hide() {\r\n      if(alwaysShowThis or its id is not being hovered over){\r\n         //add hide class to its classes\r\n      }\r\n    }\r\n\r\nI mean these are just some 5 min suggestions, obviously there is a way to write these better but I don&#39;t have them off the top of my head, but you can find how to do all of these things quite easily.","title":"WebDriver Dropdown Menu Won&#39;t Stay Open","body":"<p>If you're not changing the classes when you click the dropdown then you're going to click it and it's going to just disappear after you click it pretty much. Try making it so the dropdown always shows and add a class that disappears on click called \"hide\" or \"removeDisplay\" like so</p>\n\n<pre><code>hide { display:none }\n</code></pre>\n\n<p>and then put it in the html element.</p>\n\n<pre><code>&lt;htmlElement class=\"alwaysShowThis hide\"&gt;&lt;/htmlElement&gt;\n</code></pre>\n\n<p>make sure that on clicking it you remove the <code>hide</code> class, then you can just put a timer on it or just detect for when you are hovered over it.</p>\n\n<p>the javascript might look like this:</p>\n\n<pre><code>display(event) {\n  if(/*checkfor hide class existing*/){\n     //remove hide class\n  }\n}\nhide() {\n  if(alwaysShowThis or its id is not being hovered over){\n     //add hide class to its classes\n  }\n}\n</code></pre>\n\n<p>I mean these are just some 5 min suggestions, obviously there is a way to write these better but I don't have them off the top of my head, but you can find how to do all of these things quite easily.</p>\n"},{"tags":[],"owner":{"account_id":7316654,"reputation":53,"user_id":5574072,"accept_rate":25,"display_name":"Odysseus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1534173015,"creation_date":1534173015,"answer_id":51825427,"question_id":51676696,"body_markdown":"I do appreciate everyone for contributing, but I never actually found the reason this was happening.  So, I tried a cheat instead...  \r\n\r\nI put it all in a try / catch block, and that seems to slow it down enough to process the event.  Of course, the catch is useless because it will never be reached but it works.\r\n\r\nIt&#39;s a total hack, I know.  I&#39;d still be interested in finding a reason for this behavior, but until then, we carry on!\r\n","title":"WebDriver Dropdown Menu Won&#39;t Stay Open","body":"<p>I do appreciate everyone for contributing, but I never actually found the reason this was happening.  So, I tried a cheat instead...  </p>\n\n<p>I put it all in a try / catch block, and that seems to slow it down enough to process the event.  Of course, the catch is useless because it will never be reached but it works.</p>\n\n<p>It's a total hack, I know.  I'd still be interested in finding a reason for this behavior, but until then, we carry on!</p>\n"},{"tags":[],"owner":{"account_id":5786180,"reputation":767,"user_id":4565322,"accept_rate":83,"display_name":"skymedium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612371350,"creation_date":1612371350,"answer_id":66032116,"question_id":51676696,"body_markdown":"Had similar problem and solved it with moving the cursor to the dropdown.\r\n\r\n    public void hover(WebElement element) {\r\n        Actions builder = new Actions(driver());\r\n        builder.moveToElement(element).perform();\r\n    }\r\n\r\nAfter that it stayed open and I could click my selection.","title":"WebDriver Dropdown Menu Won&#39;t Stay Open","body":"<p>Had similar problem and solved it with moving the cursor to the dropdown.</p>\n<pre><code>public void hover(WebElement element) {\n    Actions builder = new Actions(driver());\n    builder.moveToElement(element).perform();\n}\n</code></pre>\n<p>After that it stayed open and I could click my selection.</p>\n"},{"tags":[],"owner":{"account_id":18752451,"reputation":29,"user_id":13673249,"display_name":"Krwasch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689677957,"creation_date":1689677957,"answer_id":76712085,"question_id":51676696,"body_markdown":"I now it&#39;s been a long time, but maybe someone has the same problem and all that is mentioned here already didn&#39;t help.\r\nIn my case I needed the dropdown to really stay open, because otherwise the time getting child elements was not enough.\r\nFollowing did the trick for me (don&#39;t ask me why though):\r\n\r\n        Actions actions = new Actions(webDriver); \r\n        actions.moveToElement(dropdown);\r\n        actions.clickAndHold();\r\n        actions.perform();","title":"WebDriver Dropdown Menu Won&#39;t Stay Open","body":"<p>I now it's been a long time, but maybe someone has the same problem and all that is mentioned here already didn't help.\nIn my case I needed the dropdown to really stay open, because otherwise the time getting child elements was not enough.\nFollowing did the trick for me (don't ask me why though):</p>\n<pre><code>    Actions actions = new Actions(webDriver); \n    actions.moveToElement(dropdown);\n    actions.clickAndHold();\n    actions.perform();\n</code></pre>\n"}],"owner":{"account_id":7316654,"reputation":53,"user_id":5574072,"accept_rate":25,"display_name":"Odysseus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2363,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51825427,"answer_count":4,"score":3,"last_activity_date":1689677957,"creation_date":1533313502,"question_id":51676696,"body_markdown":"I&#39;m working with Selenium / Java and having an interesting issue with a DropDown Box that fires an event... I can&#39;t use `Select` because the dropdown is using an organized list, not select and option (when the box is closed):\r\n\r\n        &lt;section id=&quot;...&quot; class=&quot;ember-view&quot;&gt;\r\n         &lt;ol id=&quot;...&quot;&gt;\r\n           &lt;li id=&quot;...&quot;&gt;\r\n\r\nI successfully click on the dropdown box: `element.click();`\r\nand the dropdown box opens!  But then it closes right back up again when the next line executes (which is just a `System.out.println(&quot;...&quot;);`).\r\n\r\nI&#39;m baffled.  I&#39;ve tried\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver\r\n    jse.executeScript(&quot;$(arguments[0]).change()&quot;, element);\r\nand\r\n\r\n        jse.executeScript(&quot;$(arguments[0]).focus()&quot;, element);\r\nand even\r\n\r\n        jse.executeScript(&quot;$(arguments[0]).blur()&quot;, element);\r\n\r\nboth before and after I click on the dropdown box, but that little sucker just won&#39;t stay open!  When I print the value of arguments to the console `System.out.println(jse.executeScript(&quot;$(arguments[0]));`, arguments is null... I&#39;m not sure what that means.","title":"WebDriver Dropdown Menu Won&#39;t Stay Open","body":"<p>I'm working with Selenium / Java and having an interesting issue with a DropDown Box that fires an event... I can't use <code>Select</code> because the dropdown is using an organized list, not select and option (when the box is closed):</p>\n\n<pre><code>    &lt;section id=\"...\" class=\"ember-view\"&gt;\n     &lt;ol id=\"...\"&gt;\n       &lt;li id=\"...\"&gt;\n</code></pre>\n\n<p>I successfully click on the dropdown box: <code>element.click();</code>\nand the dropdown box opens!  But then it closes right back up again when the next line executes (which is just a <code>System.out.println(\"...\");</code>).</p>\n\n<p>I'm baffled.  I've tried</p>\n\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor)driver\njse.executeScript(\"$(arguments[0]).change()\", element);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    jse.executeScript(\"$(arguments[0]).focus()\", element);\n</code></pre>\n\n<p>and even</p>\n\n<pre><code>    jse.executeScript(\"$(arguments[0]).blur()\", element);\n</code></pre>\n\n<p>both before and after I click on the dropdown box, but that little sucker just won't stay open!  When I print the value of arguments to the console <code>System.out.println(jse.executeScript(\"$(arguments[0]));</code>, arguments is null... I'm not sure what that means.</p>\n"},{"tags":["javascript","java","html","express","spawn"],"owner":{"account_id":24494071,"reputation":23,"user_id":18410673,"display_name":"Shubham Suryawanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689677276,"creation_date":1689677276,"question_id":76711994,"body_markdown":"I am currently building a basic web-based platform for Java coders, where users can submit their code to solve a given problem statement. I have implemented the front-end code using** HTML and JavaScript**, and the back-end server-side code using **Express.js and child_process**. However, I am facing issues with executing Java programs that require user input during runtime.\r\n**\r\nHere is a summary of my setup:**\r\n\r\nFront-end: I have a form with a textarea where users can enter their Java code. Upon submission, the code is sent to the server for execution.\r\n**Server-side:** The server receives the code, writes it to a temporary Java source file, and then uses spawn to execute the Java program. If the code compilation is successful, it proceeds to execute the compiled Java class.\r\n\r\nIssue: The execution is working fine for Java programs without user input. However, for programs that require user input during runtime, I am not able to provide the input from the server side and receive the output on the front-end.\r\nHere is an example of a Java program that requires user input:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        int num1, num2, sum;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter First Number: &quot;);\r\n        num1 = sc.nextInt();\r\n        System.out.println(&quot;Enter Second Number: &quot;);\r\n        num2 = sc.nextInt();\r\n        sc.close();\r\n        sum = num1 + num2;\r\n        System.out.println(&quot;Sum of these numbers: &quot; + sum);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the Front End Code and Backend server code.\r\n\r\n**Front End code** \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Code Submission Platform&lt;/title&gt;\r\n  &lt;style&gt;\r\n    #codeForm {\r\n      margin-top: 20px;\r\n    }\r\n    label {\r\n      display: block;\r\n      margin-bottom: 10px;\r\n    }\r\n    textarea {\r\n      width: 100%;\r\n      height: 200px;\r\n    }\r\n    button {\r\n      margin-top: 10px;\r\n    }\r\n    #result {\r\n      margin-top: 20px;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;h1&gt;Code Submission Platform&lt;/h1&gt;\r\n\r\n\r\n  &lt;form id=&quot;codeForm&quot;&gt;\r\n    &lt;label for=&quot;code&quot;&gt;Enter your code:&lt;/label&gt;\r\n    &lt;textarea id=&quot;code&quot; name=&quot;code&quot; placeholder=&quot;Enter your code here&quot;&gt;&lt;/textarea&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n  &lt;/form&gt;\r\n\r\n  &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;\r\n\r\n  &lt;script&gt;\r\n    const form = document.getElementById(&#39;codeForm&#39;);\r\n    const resultDiv = document.getElementById(&#39;result&#39;);\r\n\r\n    form.addEventListener(&#39;submit&#39;, function(e) {\r\n      e.preventDefault();\r\n\r\n      // Get the code from the textarea\r\n      const code = document.getElementById(&#39;code&#39;).value;\r\n\r\n      // Send the code to the backend API\r\n      // Replace `API_URL` with the actual URL of your backend API\r\n      fetch(&#39;http://localhost:3000/compile&#39;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n          &#39;Content-Type&#39;: &#39;application/json&#39;\r\n        },\r\n        body: JSON.stringify({ code })\r\n      })\r\n      .then(response =&gt; response.json())\r\n      .then(data =&gt; {\r\n        // Display the result in the resultDiv\r\n        resultDiv.innerHTML = `&lt;h2&gt;Result:&lt;/h2&gt;&lt;pre&gt;${data.result}&lt;/pre&gt;`;\r\n      })\r\n      .catch(error =&gt; {\r\n        console.error(&#39;Error:&#39;, error);\r\n        resultDiv.innerHTML = &#39;&lt;h2&gt;Error:&lt;/h2&gt;&lt;p&gt;Something went wrong. Please try again later.&lt;/p&gt;&#39;;\r\n      });\r\n    });\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nAnd here is the **Backend code**.\r\n\r\n\r\n```\r\nconst express = require(&#39;express&#39;);\r\nconst { spawn } = require(&#39;child_process&#39;);\r\n\r\nconst app = express();\r\nconst port = 3000;\r\n\r\napp.use(express.json()); // Parse JSON request bodies\r\n\r\napp.use(function(req, res, next) {\r\n  res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);\r\n  res.setHeader(&#39;Access-Control-Allow-Methods&#39;, &#39;GET, POST, OPTIONS, PUT, DELETE&#39;);\r\n  res.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;Content-Type&#39;);\r\n  next();\r\n});\r\n\r\n// Endpoint to handle code submission\r\napp.post(&#39;/compile&#39;, (req, res) =&gt; {\r\n  const { code } = req.body; // Assuming the code is sent as a JSON object with a &quot;code&quot; property\r\n\r\n  if (!code) {\r\n    res.status(400).send({ error: &#39;Code is missing&#39; });\r\n    return;\r\n  }\r\n\r\n  // Create a temporary Java source file\r\n  const sourceFilePath = &#39;/Users/shubham/Desktop/Coding Tool/HelloWorld.java&#39;;\r\n  const fs = require(&#39;fs&#39;);\r\n  fs.writeFileSync(sourceFilePath, code);\r\n\r\n  // Run the Java compiler\r\n  const compiler = spawn(&#39;javac&#39;, [sourceFilePath]);\r\n\r\n  // Handle the compiler output\r\n  compiler.stdout.on(&#39;data&#39;, data =&gt; {\r\n    console.log(`Compiler output: ${data}`);\r\n  });\r\n\r\n  compiler.stderr.on(&#39;data&#39;, data =&gt; {\r\n    console.error(`Compiler error: ${data}`);\r\n  });\r\n\r\n  compiler.on(&#39;close&#39;, code =&gt; {\r\n    if (code === 0) {\r\n      // Execute the compiled Java class file\r\n      const execution = spawn(&#39;java&#39;, [&#39;-cp&#39;, &#39;/Users/shubham/Desktop/Coding Tool&#39;, &#39;HelloWorld&#39;]);\r\n\r\n      let executionOutput = &#39;&#39;;\r\n\r\n      execution.stdout.on(&#39;data&#39;, data =&gt; {\r\n        executionOutput += data.toString();\r\n      });\r\n\r\n      execution.stderr.on(&#39;data&#39;, data =&gt; {\r\n        console.error(`Execution error: ${data}`);\r\n      });\r\n\r\n      execution.on(&#39;close&#39;, code =&gt; {\r\n        console.log(&#39;Sending response:&#39;, executionOutput);\r\n        res.send({ result: executionOutput });\r\n      });\r\n    } else {\r\n      console.log(&#39;Sending response: Compilation failed!&#39;);\r\n      res.send({ result: &#39;Compilation failed!&#39; });\r\n    }\r\n  });\r\n});\r\n\r\n// Start the server\r\napp.listen(port, () =&gt; {\r\n  console.log(`Server running on port ${port}`);\r\n});\r\n\r\n\r\n\r\n```\r\n\r\nI have tried passing the input from the front-end to the server and then sending it to the Java program, but I&#39;m not getting any output in response.\r\n\r\nI would appreciate any insights or suggestions on how to handle user input for Java programs in my web-based code submission platform. How can I modify my server-side code to handle user input during runtime and receive the output on the front-end?\r\n\r\nThank you in advance for your help!\r\n\r\nI was Expecting the Output 10 as result of First number 5 and Second Number 5 and returned back to frontend, but this inputs should be stored in server side, and if there is program with no input require it should work as it is.","title":"Issue with Java program execution and input handling in a web-based code submission platform","body":"<p>I am currently building a basic web-based platform for Java coders, where users can submit their code to solve a given problem statement. I have implemented the front-end code using** HTML and JavaScript**, and the back-end server-side code using <strong>Express.js and child_process</strong>. However, I am facing issues with executing Java programs that require user input during runtime.\n**\nHere is a summary of my setup:**</p>\n<p>Front-end: I have a form with a textarea where users can enter their Java code. Upon submission, the code is sent to the server for execution.\n<strong>Server-side:</strong> The server receives the code, writes it to a temporary Java source file, and then uses spawn to execute the Java program. If the code compilation is successful, it proceeds to execute the compiled Java class.</p>\n<p>Issue: The execution is working fine for Java programs without user input. However, for programs that require user input during runtime, I am not able to provide the input from the server side and receive the output on the front-end.\nHere is an example of a Java program that requires user input:</p>\n<pre><code>import java.util.Scanner;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        int num1, num2, sum;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter First Number: &quot;);\n        num1 = sc.nextInt();\n        System.out.println(&quot;Enter Second Number: &quot;);\n        num2 = sc.nextInt();\n        sc.close();\n        sum = num1 + num2;\n        System.out.println(&quot;Sum of these numbers: &quot; + sum);\n    }\n}\n\n</code></pre>\n<p>Here is the Front End Code and Backend server code.</p>\n<p><strong>Front End code</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Code Submission Platform&lt;/title&gt;\n  &lt;style&gt;\n    #codeForm {\n      margin-top: 20px;\n    }\n    label {\n      display: block;\n      margin-bottom: 10px;\n    }\n    textarea {\n      width: 100%;\n      height: 200px;\n    }\n    button {\n      margin-top: 10px;\n    }\n    #result {\n      margin-top: 20px;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Code Submission Platform&lt;/h1&gt;\n\n\n  &lt;form id=&quot;codeForm&quot;&gt;\n    &lt;label for=&quot;code&quot;&gt;Enter your code:&lt;/label&gt;\n    &lt;textarea id=&quot;code&quot; name=&quot;code&quot; placeholder=&quot;Enter your code here&quot;&gt;&lt;/textarea&gt;\n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n\n  &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;\n\n  &lt;script&gt;\n    const form = document.getElementById('codeForm');\n    const resultDiv = document.getElementById('result');\n\n    form.addEventListener('submit', function(e) {\n      e.preventDefault();\n\n      // Get the code from the textarea\n      const code = document.getElementById('code').value;\n\n      // Send the code to the backend API\n      // Replace `API_URL` with the actual URL of your backend API\n      fetch('http://localhost:3000/compile', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ code })\n      })\n      .then(response =&gt; response.json())\n      .then(data =&gt; {\n        // Display the result in the resultDiv\n        resultDiv.innerHTML = `&lt;h2&gt;Result:&lt;/h2&gt;&lt;pre&gt;${data.result}&lt;/pre&gt;`;\n      })\n      .catch(error =&gt; {\n        console.error('Error:', error);\n        resultDiv.innerHTML = '&lt;h2&gt;Error:&lt;/h2&gt;&lt;p&gt;Something went wrong. Please try again later.&lt;/p&gt;';\n      });\n    });\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>And here is the <strong>Backend code</strong>.</p>\n<pre><code>const express = require('express');\nconst { spawn } = require('child_process');\n\nconst app = express();\nconst port = 3000;\n\napp.use(express.json()); // Parse JSON request bodies\n\napp.use(function(req, res, next) {\n  res.setHeader('Access-Control-Allow-Origin', '*');\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\n  next();\n});\n\n// Endpoint to handle code submission\napp.post('/compile', (req, res) =&gt; {\n  const { code } = req.body; // Assuming the code is sent as a JSON object with a &quot;code&quot; property\n\n  if (!code) {\n    res.status(400).send({ error: 'Code is missing' });\n    return;\n  }\n\n  // Create a temporary Java source file\n  const sourceFilePath = '/Users/shubham/Desktop/Coding Tool/HelloWorld.java';\n  const fs = require('fs');\n  fs.writeFileSync(sourceFilePath, code);\n\n  // Run the Java compiler\n  const compiler = spawn('javac', [sourceFilePath]);\n\n  // Handle the compiler output\n  compiler.stdout.on('data', data =&gt; {\n    console.log(`Compiler output: ${data}`);\n  });\n\n  compiler.stderr.on('data', data =&gt; {\n    console.error(`Compiler error: ${data}`);\n  });\n\n  compiler.on('close', code =&gt; {\n    if (code === 0) {\n      // Execute the compiled Java class file\n      const execution = spawn('java', ['-cp', '/Users/shubham/Desktop/Coding Tool', 'HelloWorld']);\n\n      let executionOutput = '';\n\n      execution.stdout.on('data', data =&gt; {\n        executionOutput += data.toString();\n      });\n\n      execution.stderr.on('data', data =&gt; {\n        console.error(`Execution error: ${data}`);\n      });\n\n      execution.on('close', code =&gt; {\n        console.log('Sending response:', executionOutput);\n        res.send({ result: executionOutput });\n      });\n    } else {\n      console.log('Sending response: Compilation failed!');\n      res.send({ result: 'Compilation failed!' });\n    }\n  });\n});\n\n// Start the server\napp.listen(port, () =&gt; {\n  console.log(`Server running on port ${port}`);\n});\n\n\n\n</code></pre>\n<p>I have tried passing the input from the front-end to the server and then sending it to the Java program, but I'm not getting any output in response.</p>\n<p>I would appreciate any insights or suggestions on how to handle user input for Java programs in my web-based code submission platform. How can I modify my server-side code to handle user input during runtime and receive the output on the front-end?</p>\n<p>Thank you in advance for your help!</p>\n<p>I was Expecting the Output 10 as result of First number 5 and Second Number 5 and returned back to frontend, but this inputs should be stored in server side, and if there is program with no input require it should work as it is.</p>\n"},{"tags":["java","spring-boot","amazon-dynamodb","nosql"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689675856,"creation_date":1689675856,"answer_id":76711794,"question_id":76711619,"body_markdown":"You don&#39;t necessarily need a second table, you can use the same table, but either is suitable, which ever is preferable for you. \r\n\r\n|PK|SK|data\r\n---|---|---|\r\nUser1 | device1 | {}\r\nUser1 | device2 | {}\r\nUser1 | device3 | {}\r\nUser1 | DEVICES | 3\r\n\r\nNow you can use `TransactWriteItems` when trying to add more devices, with a limitation of no more than 3 allowed:\r\n\r\n```\r\ntx1 ADD DEVICE\r\ntx2 IF user.DECVICES &lt; 3\r\n```\r\n\r\nIn this scenario the operation would fail because user1 already has 3 devices.","title":"Managing Limitations for amount of user operations in DynamoDB: Storing and Enforcing Limits","body":"<p>You don't necessarily need a second table, you can use the same table, but either is suitable, which ever is preferable for you.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>PK</th>\n<th>SK</th>\n<th>data</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>User1</td>\n<td>device1</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>User1</td>\n<td>device2</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>User1</td>\n<td>device3</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>User1</td>\n<td>DEVICES</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now you can use <code>TransactWriteItems</code> when trying to add more devices, with a limitation of no more than 3 allowed:</p>\n<pre><code>tx1 ADD DEVICE\ntx2 IF user.DECVICES &lt; 3\n</code></pre>\n<p>In this scenario the operation would fail because user1 already has 3 devices.</p>\n"}],"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689675856,"creation_date":1689674493,"question_id":76711619,"body_markdown":"I&#39;m using a DynamoDB database where I need to store some information. \r\nFor example, let&#39;s say we need to store data for different users. \r\nI&#39;ve implemented a Spring Boot service that exposes some REST APIs to create, modify, or delete this data.\r\n\r\nNow, for some reason, I need to implement a sort of limitation: I want to forbid these operations if a user has already reached a certain limit.\r\n\r\nLet me explain it better: \r\nLet&#39;s assume we need to store user devices&#39; information, similar to the approach used for pay-per-view TV services. \r\nWe want to lock changes for a specific user if they have already reached the maximum allowed operations on their devices. \r\nThis means the user should not be able to register or delete devices once they have reached the limit within a specific interval of time.\r\n\r\nFor this specific example, we can assume that we are storing devices&#39; information in a DynamoDB table. Now, the question is, how and where can I store the count of operations that the user has performed on their devices? Do I need to use a dedicated table? Would that be a good solution?&quot;","title":"Managing Limitations for amount of user operations in DynamoDB: Storing and Enforcing Limits","body":"<p>I'm using a DynamoDB database where I need to store some information.\nFor example, let's say we need to store data for different users.\nI've implemented a Spring Boot service that exposes some REST APIs to create, modify, or delete this data.</p>\n<p>Now, for some reason, I need to implement a sort of limitation: I want to forbid these operations if a user has already reached a certain limit.</p>\n<p>Let me explain it better:\nLet's assume we need to store user devices' information, similar to the approach used for pay-per-view TV services.\nWe want to lock changes for a specific user if they have already reached the maximum allowed operations on their devices.\nThis means the user should not be able to register or delete devices once they have reached the limit within a specific interval of time.</p>\n<p>For this specific example, we can assume that we are storing devices' information in a DynamoDB table. Now, the question is, how and where can I store the count of operations that the user has performed on their devices? Do I need to use a dedicated table? Would that be a good solution?&quot;</p>\n"},{"tags":["java","spring","spring-boot","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":8831007,"reputation":56,"user_id":6597397,"display_name":"Rafał Maksim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689675616,"creation_date":1689675616,"answer_id":76711764,"question_id":76327950,"body_markdown":"What version of Spring Boot do you use? I got the same problem when I tried to use openapi 2.0.0 and Spring Boot 2.7. Then I found out that this version of openapi needs Spring Boot verion 3 and above. \r\n\r\nPlease try to update the Spring Boot dependencies version (I assume you&#39;re using the spring-boot-starter-web) and the Spring Boot version to be 3.0.0 or above.\r\n\r\nHere&#39;s some topic I found https://170.106.8.194/repo/jhipster/jhipster-lite/issues/4351","title":"openapi springboot - Error &#39;swaggerWelcome&#39; threw exception","body":"<p>What version of Spring Boot do you use? I got the same problem when I tried to use openapi 2.0.0 and Spring Boot 2.7. Then I found out that this version of openapi needs Spring Boot verion 3 and above.</p>\n<p>Please try to update the Spring Boot dependencies version (I assume you're using the spring-boot-starter-web) and the Spring Boot version to be 3.0.0 or above.</p>\n<p>Here's some topic I found <a href=\"https://170.106.8.194/repo/jhipster/jhipster-lite/issues/4351\" rel=\"nofollow noreferrer\">https://170.106.8.194/repo/jhipster/jhipster-lite/issues/4351</a></p>\n"}],"owner":{"account_id":15183586,"reputation":33,"user_id":10956250,"display_name":"Soufiane D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1893,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76711764,"answer_count":1,"score":1,"last_activity_date":1689675616,"creation_date":1684970227,"question_id":76327950,"body_markdown":"i use  the dependency of org.springdoc,  see below in y spring boot project\r\n\r\n           &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have this error , can i have help ?\r\n\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;indexPageTransformer&#39; defined in class path resource [org/springdoc/webmvc/ui/SwaggerConfig.class]: Unsatisfied dependency expressed through method &#39;indexPageTransformer&#39; parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;swaggerWelcome&#39; defined in class path resource [org/springdoc/webmvc/ui/SwaggerConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc]: Factory method &#39;swaggerWelcome&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \r\n    \t... 50 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc]: Factory method &#39;swaggerWelcome&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \t... 64 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\r\n\r\nI try to change the version of springdoc-openapi-starter-webmvc-ui, but always same error\r\n","title":"openapi springboot - Error &#39;swaggerWelcome&#39; threw exception","body":"<p>i use  the dependency of org.springdoc,  see below in y spring boot project</p>\n<pre><code>       &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have this error , can i have help ?</p>\n<pre><code>    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'indexPageTransformer' defined in class path resource [org/springdoc/webmvc/ui/SwaggerConfig.class]: Unsatisfied dependency expressed through method 'indexPageTransformer' parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'swaggerWelcome' defined in class path resource [org/springdoc/webmvc/ui/SwaggerConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc]: Factory method 'swaggerWelcome' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\n\n    ... 50 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc]: Factory method 'swaggerWelcome' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 64 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\n</code></pre>\n<p>I try to change the version of springdoc-openapi-starter-webmvc-ui, but always same error</p>\n"},{"tags":["java","qr-code","zxing"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1689149976,"post_id":76667323,"comment_id":135170880,"body_markdown":"Please provide the full stacktrace","body":"Please provide the full stacktrace"},{"owner":{"account_id":3364549,"reputation":594,"user_id":2825515,"display_name":"Saranga  kapilarathna"},"score":0,"creation_date":1689152833,"post_id":76667323,"comment_id":135171595,"body_markdown":"@RadianceWeiQiOng   I have  added  above","body":"@RadianceWeiQiOng   I have  added  above"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1689153432,"post_id":76667323,"comment_id":135171712,"body_markdown":"You might use the library&#39;s issue tracking https://github.com/zxing/zxing/issues","body":"You might use the library&#39;s issue tracking <a href=\"https://github.com/zxing/zxing/issues\" rel=\"nofollow noreferrer\">github.com/zxing/zxing/issues</a>"},{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1689317476,"post_id":76667323,"comment_id":135199040,"body_markdown":"Check that you do not have older/multiple versions of the zxing library in your classpath somehow. The error might be due to conflicts between different versions of the same class and not the java version","body":"Check that you do not have older/multiple versions of the zxing library in your classpath somehow. The error might be due to conflicts between different versions of the same class and not the java version"},{"owner":{"account_id":3364549,"reputation":594,"user_id":2825515,"display_name":"Saranga  kapilarathna"},"score":0,"creation_date":1689666807,"post_id":76667323,"comment_id":135242165,"body_markdown":"@RadianceWeiQiOng issue was one library that used zxing old version removed that now it works.","body":"@RadianceWeiQiOng issue was one library that used zxing old version removed that now it works."}],"answers":[{"tags":[],"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689675401,"creation_date":1689675401,"answer_id":76711737,"question_id":76667323,"body_markdown":"This is due to different versions of the zxing library being in the classpath. As the poster has indicated in comments, there was another library depending on an older version of the zxing library. \r\n\r\nIn general, when there is a NoSuchMethodError which occurs inconsistently, it is advisable to check for conflicts of the same class, as we won&#39;t be sure which version of the class will be loaded.","title":"java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath()","body":"<p>This is due to different versions of the zxing library being in the classpath. As the poster has indicated in comments, there was another library depending on an older version of the zxing library.</p>\n<p>In general, when there is a NoSuchMethodError which occurs inconsistently, it is advisable to check for conflicts of the same class, as we won't be sure which version of the class will be loaded.</p>\n"}],"owner":{"account_id":3364549,"reputation":594,"user_id":2825515,"display_name":"Saranga  kapilarathna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76711737,"answer_count":1,"score":0,"last_activity_date":1689675401,"creation_date":1689138997,"question_id":76667323,"body_markdown":"I have written the  Java program to generate a QR Code By using the com.google.zxing.But with \r\nsome java versions return `java.lang.NoSuchMethodError:com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath() ` error.\r\n\r\nI have written the following Java program to generate a QR Code By using the following dependency. It  works with the following java versions \r\n\r\n\r\n```\r\nOpenJDK version &quot;1.8.0_342-internal&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_342-internal-b07)\r\nOpenJDK 64-Bit Server VM (build 25.342-b07, mixed mode)\r\n\r\n```\r\n```\r\njava version &quot;1.8.0_121&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n\r\n```\r\nBut unfortunately, With the following version   \r\n`\r\nJava version &quot;1.8.0_191&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_191-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)`\r\n\r\n```\r\nthe following error \r\njava.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)\r\n```\r\n\r\n01). Dependencies Used \r\n\r\n```\r\n`&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;`\r\n```\r\n02).Programme\r\n\r\n```\r\npackage com.dataz.core;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.FileSystems;\r\nimport java.nio.file.Path;\r\n\r\nimport com.google.zxing.BarcodeFormat;\r\nimport com.google.zxing.WriterException;\r\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\r\nimport com.google.zxing.common.BitMatrix;\r\nimport com.google.zxing.qrcode.QRCodeWriter;\r\n\r\npublic class QrCodeUtil {\r\n\r\n    public static boolean generateImageGenaric(String text, String filePath, Integer width, Integer height)\r\n\t    throws WriterException, IOException {\r\n\tQRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n\tBitMatrix bitMatrix = qrCodeWriter.encode(text, BarcodeFormat.QR_CODE, width, height);\r\n\tPath path = FileSystems.getDefault().getPath(filePath);\r\n\tMatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\r\n\t// MatrixToImageWriter.toBufferedImage(bitMatrix);\r\n\treturn true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\ttry {\r\n\t    String path = &quot;/home/data/qr/qrfile.png&quot;;\r\n\t    String value = &quot;qrbatta&quot;;\r\n\t    if (args != null &amp;&amp; args.length &gt; 0 &amp;&amp; args[0] != null) {\r\n\t\tpath = args[0];\r\n\t    }\r\n\t    if (args != null &amp;&amp; args.length &gt; 1 &amp;&amp; args[1] != null) {\r\n\t\tvalue = args[1];\r\n\t    }\r\n\r\n\t    boolean isgenerated = generateImageGenaric(value, path, 400, 400);\r\n\t    if (isgenerated) {\r\n\t\tSystem.out.println(&quot;QR Code Generate In Here ---&gt;&quot; + path);\r\n\t    } else {\r\n\t\tSystem.out.println(&quot;Error Occured While Generating&quot;);\r\n\t    }\r\n\r\n\t} catch (WriterException e) {\r\n\t    // TODO Auto-generated catch block\r\n\t    e.printStackTrace();\r\n\t} catch (IOException e) {\r\n\t    // TODO Auto-generated catch block\r\n\t    e.printStackTrace();\r\n\t}\r\n    }\r\n}\r\n```\r\n\r\n   \r\n\r\n     org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)V\r\n    \torg.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:256)\r\n    \torg.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:238)\r\n    \torg.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:486)\r\n    \torg.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:317)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n    \torg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\r\n    \torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:454)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    &lt;/pre&gt;\r\n    \t&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\r\n    \t&lt;pre&gt;java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)V\r\n    \tcom.dataz.core.QrCodeUtil.generateImageGenaric(QrCodeUtil.java:20)\r\n    \tcom.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.generateQRCode(CustomerinfoEnterpriceContactsDataManager.java:354)\r\n    \tcom.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.sendEmailToCustomer(CustomerinfoEnterpriceContactsDataManager.java:303)\r\n    \tcom.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.addCustomerinfoEnterpriceContacts(CustomerinfoEnterpriceContactsDataManager.java:278)\r\n    \tcom.dataz.core.api.vi.service.impl.CustomerinfoEnterpriceContactsServiceImpl.addCustomerinfoEnterpriceContacts(CustomerinfoEnterpriceContactsServiceImpl.java:181)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n    \torg.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:159)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n    \torg.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n    \torg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\r\n    \torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:454)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n","title":"java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath()","body":"<p>I have written the  Java program to generate a QR Code By using the com.google.zxing.But with\nsome java versions return <code>java.lang.NoSuchMethodError:com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath() </code> error.</p>\n<p>I have written the following Java program to generate a QR Code By using the following dependency. It  works with the following java versions</p>\n<pre><code>OpenJDK version &quot;1.8.0_342-internal&quot;\nOpenJDK Runtime Environment (build 1.8.0_342-internal-b07)\nOpenJDK 64-Bit Server VM (build 25.342-b07, mixed mode)\n\n</code></pre>\n<pre><code>java version &quot;1.8.0_121&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\n\n</code></pre>\n<p>But unfortunately, With the following version<br />\n<code> Java version &quot;1.8.0_191&quot; Java(TM) SE Runtime Environment (build 1.8.0_191-b12) Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)</code></p>\n<pre><code>the following error \njava.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)\n</code></pre>\n<p>01). Dependencies Used</p>\n<pre><code>`&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;`\n</code></pre>\n<p>02).Programme</p>\n<pre><code>package com.dataz.core;\n\nimport java.io.IOException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Path;\n\nimport com.google.zxing.BarcodeFormat;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.QRCodeWriter;\n\npublic class QrCodeUtil {\n\n    public static boolean generateImageGenaric(String text, String filePath, Integer width, Integer height)\n        throws WriterException, IOException {\n    QRCodeWriter qrCodeWriter = new QRCodeWriter();\n    BitMatrix bitMatrix = qrCodeWriter.encode(text, BarcodeFormat.QR_CODE, width, height);\n    Path path = FileSystems.getDefault().getPath(filePath);\n    MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\n    // MatrixToImageWriter.toBufferedImage(bitMatrix);\n    return true;\n    }\n\n    public static void main(String[] args) {\n    try {\n        String path = &quot;/home/data/qr/qrfile.png&quot;;\n        String value = &quot;qrbatta&quot;;\n        if (args != null &amp;&amp; args.length &gt; 0 &amp;&amp; args[0] != null) {\n        path = args[0];\n        }\n        if (args != null &amp;&amp; args.length &gt; 1 &amp;&amp; args[1] != null) {\n        value = args[1];\n        }\n\n        boolean isgenerated = generateImageGenaric(value, path, 400, 400);\n        if (isgenerated) {\n        System.out.println(&quot;QR Code Generate In Here ---&gt;&quot; + path);\n        } else {\n        System.out.println(&quot;Error Occured While Generating&quot;);\n        }\n\n    } catch (WriterException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    }\n}\n</code></pre>\n<pre><code> org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)V\n    org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:256)\n    org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:238)\n    org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:486)\n    org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:317)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\n    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:454)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n&lt;/pre&gt;\n    &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\n    &lt;pre&gt;java.lang.NoSuchMethodError: com.google.zxing.client.j2se.MatrixToImageWriter.writeToPath(Lcom&amp;#47;google&amp;#47;zxing&amp;#47;common&amp;#47;BitMatrix;Ljava&amp;#47;lang&amp;#47;String;Ljava&amp;#47;nio&amp;#47;file&amp;#47;Path;)V\n    com.dataz.core.QrCodeUtil.generateImageGenaric(QrCodeUtil.java:20)\n    com.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.generateQRCode(CustomerinfoEnterpriceContactsDataManager.java:354)\n    com.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.sendEmailToCustomer(CustomerinfoEnterpriceContactsDataManager.java:303)\n    com.dataz.core.customerinfo_enterprice_contacts.CustomerinfoEnterpriceContactsDataManager.addCustomerinfoEnterpriceContacts(CustomerinfoEnterpriceContactsDataManager.java:278)\n    com.dataz.core.api.vi.service.impl.CustomerinfoEnterpriceContactsServiceImpl.addCustomerinfoEnterpriceContacts(CustomerinfoEnterpriceContactsServiceImpl.java:181)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\n    org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:159)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\n    org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\n    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:454)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1689666374,"post_id":76710474,"comment_id":135242083,"body_markdown":"The error log in you post doesn&#39;t show, but the very end of the stack trace in your error log might tell you which package is causing this error.","body":"The error log in you post doesn&#39;t show, but the very end of the stack trace in your error log might tell you which package is causing this error."},{"owner":{"account_id":20515411,"reputation":1,"user_id":15056209,"display_name":"Kaan Kaplan"},"score":0,"creation_date":1689668809,"post_id":76710474,"comment_id":135242613,"body_markdown":"at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n\nat java.lang.Thread.run(Thread.java:920) @RickyMo","body":"at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoo&zwnj;&#8203;lExecutor.java:641)  at java.lang.Thread.run(Thread.java:920) @RickyMo"}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689668879,"creation_date":1689668879,"answer_id":76710846,"question_id":76710474,"body_markdown":"[Following the official documentation][1]\r\n\r\nFor a **PendingIntent** you have to pass a **immutable** flag since Android 12+.\r\n\r\nWithout the proper flag the **PendingIntent** is considered **mutable**.\r\n\r\n[![Flags description from official documentation][2]][2]\r\n\r\nPlease read carefully the documentation and try using some immutable flags, if this doesn&#39;t help let me know and I&#39;ll provide more support.\r\n\r\n  [1]: https://developer.android.com/reference/android/app/PendingIntent#getBroadcast(android.content.Context,%20int,%20android.content.Intent,%20int)\r\n  [2]: https://i.stack.imgur.com/H9RMz.png","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE be specified when creating a PendingIntent. Dont use pending intent","body":"<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#getBroadcast(android.content.Context,%20int,%20android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">Following the official documentation</a></p>\n<p>For a <strong>PendingIntent</strong> you have to pass a <strong>immutable</strong> flag since Android 12+.</p>\n<p>Without the proper flag the <strong>PendingIntent</strong> is considered <strong>mutable</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/H9RMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9RMz.png\" alt=\"Flags description from official documentation\" /></a></p>\n<p>Please read carefully the documentation and try using some immutable flags, if this doesn't help let me know and I'll provide more support.</p>\n"}],"owner":{"account_id":20515411,"reputation":1,"user_id":15056209,"display_name":"Kaan Kaplan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689674661,"creation_date":1689665803,"question_id":76710474,"body_markdown":"When I pull the Target SDK version of my application from 30 to 31, I get the following error.\r\n\r\n&gt; Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n&gt; Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\ncontinuation of the error\r\n&gt; \r\n&gt; at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\r\n&gt;                                                                                                     \tat android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:273)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:151)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:171)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:102)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n\r\nI dont use Pending Intent or any Broadcast Receiver in my application.\r\n\r\nBUILD.GRADLE / MODULE\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.4.32&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &quot;com.google.dagger:hilt-android-gradle-plugin:2.28-alpha&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.7.1&#39;\r\n        def nav_version = &quot;2.3.0&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n        classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.12.10&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nBUILD.GRADLE / APP\r\n\r\n```\r\npackagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n        exclude(&quot;META-INF/*.kotlin_module&quot;)\r\n    }\r\n\r\n    compileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility &quot;11&quot;\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot;\r\n    }\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n        viewBinding true\r\n    }\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    //Material Design\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n\r\n    //Coroutines\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.3&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n\r\n    //Navigation\r\n    def nav_version = &quot;2.3.5&quot;\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    def lifecycle_version = &quot;2.3.1&quot;\r\n    // ViewModel\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\r\n    // LiveData\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\r\n\r\n\r\n    // Dagger dependencies\r\n    def dagger_version = &quot;2.27&quot;\r\n    implementation &quot;com.google.dagger:dagger:$dagger_version&quot;\r\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\r\n\r\n    // Hilt dependencies\r\n\r\n    def hilt_version = &#39;2.28-alpha&#39;\r\n    implementation &quot;com.google.dagger:hilt-android:$hilt_version&quot;\r\n    kapt &quot;com.google.dagger:hilt-android-compiler:$hilt_version&quot;\r\n\r\n    // Hilt ViewModel extension\r\n    def hilt_jetpack_version = &quot;1.0.0-alpha02&quot;\r\n    implementation &quot;androidx.hilt:hilt-lifecycle-viewmodel:$hilt_jetpack_version&quot;\r\n    kapt &quot;androidx.hilt:hilt-compiler:$hilt_jetpack_version&quot;\r\n\r\n    //Retrofit\r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;)\r\n    implementation &#39;com.squareup.retrofit2:adapter-rxjava2:2.7.1&#39;\r\n\r\n    //java8\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n\r\n    //Qr Code\r\n    implementation &#39;com.budiyev.android:code-scanner:2.1.0&#39;\r\n\r\n    //Stetho\r\n    implementation &#39;com.facebook.stetho:stetho:1.5.1&#39;\r\n    implementation &#39;com.facebook.stetho:stetho-urlconnection:1.5.1&#39;\r\n    implementation &#39;com.facebook.stetho:stetho-okhttp3:1.5.1&#39;\r\n\r\n    //Glide\r\n    api &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n\r\n    //Firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:26.1.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n\r\n    //Swipe Delete\r\n    implementation &#39;com.ernestoyaquello.dragdropswiperecyclerview:drag-drop-swipe-recyclerview:0.6.0&#39;\r\n\r\n    implementation &#39;com.github.emreerkahraman:MPAndroidChart:v4.0.1&#39;\r\n\r\n    implementation &#39;com.github.mkw8263:MindevPDFViewer:1.0.4&#39;\r\n\r\n    implementation &#39;com.otaliastudios:zoomlayout:1.7.0&#39;\r\n\r\n    //EasyImage\r\n    implementation &#39;com.github.jkwiecien:EasyImage:3.0.3&#39;\r\n\r\n    //Image Crop UI\r\n    implementation &#39;com.github.yalantis:ucrop:2.2.6-native&#39;\r\n\r\n    //Joda Time\r\n    implementation &#39;joda-time:joda-time:2.10.10&#39;\r\n\r\n    //PhotoView Zoom\r\n    implementation &#39;com.github.chrisbanes:PhotoView:2.1.4&#39;\r\n\r\n    //PinCodeView\r\n    implementation &#39;com.github.antoxa2584x:PinCodeView:1.3.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    implementation &#39;com.onesignal:OneSignal:4.8.6&#39;\r\n\r\n    implementation &#39;com.chauthai.swipereveallayout:swipe-reveal-layout:1.4.1&#39;\r\n\r\n    implementation &#39;com.andrognito.flashbar:flashbar:1.0.3&#39;\r\n    implementation &#39;com.irozon.sneaker:sneaker:2.0.0&#39;\r\n\r\n    //Sentry\r\n    implementation &#39;io.sentry:sentry-android:6.21.0&#39;\r\n\r\n    //Kotlin Reflect\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-reflect:1.3.31&quot;\r\n\r\n    //Skeleton Effect\r\n    implementation &#39;com.faltenreich:skeletonlayout:4.0.0&#39;\r\n\r\n    implementation &#39;com.vmadalin:easypermissions-ktx:1.0.0&#39;\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n\r\n\r\n}\r\n\r\nandroid {\r\n    packagingOptions {\r\n        pickFirst &quot;META-INF/DEPENDENCIES&quot;\r\n        pickFirst &quot;META-INF/library_release.kotlin_module&quot;\r\n        //exclude &quot;META-INF/DEPENDENCIES&quot;\r\n    }\r\n```\r\n\r\nI have tried update libraries, kotlin version or any. It creates another problems.\r\n\r\ni tried `implementation &#39;androidx.work:work-runtime-ktx:2.7.1`","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE be specified when creating a PendingIntent. Dont use pending intent","body":"<p>When I pull the Target SDK version of my application from 30 to 31, I get the following error.</p>\n<blockquote>\n<p>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\ncontinuation of the error</p>\n<p>at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\nat\nandroid.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\nat android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\nat\nandroidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:273)\nat\nandroidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:151)\nat\nandroidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:171)\nat\nandroidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:102)\nat\nandroidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)</p>\n</blockquote>\n<p>I dont use Pending Intent or any Broadcast Receiver in my application.</p>\n<p>BUILD.GRADLE / MODULE</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.4.32'\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath &quot;com.google.dagger:hilt-android-gradle-plugin:2.28-alpha&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.7.1'\n        def nav_version = &quot;2.3.0&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.12.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>BUILD.GRADLE / APP</p>\n<pre><code>packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude(&quot;META-INF/*.kotlin_module&quot;)\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility &quot;11&quot;\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n\n    buildFeatures {\n        dataBinding true\n        viewBinding true\n    }\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.core:core-ktx:1.6.0'\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.0'\n    testImplementation 'junit:junit:4.13.2'\n\n    //Material Design\n    implementation 'com.google.android.material:material:1.4.0'\n\n    //Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.3'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n\n    //Navigation\n    def nav_version = &quot;2.3.5&quot;\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    def lifecycle_version = &quot;2.3.1&quot;\n    // ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\n\n\n    // Dagger dependencies\n    def dagger_version = &quot;2.27&quot;\n    implementation &quot;com.google.dagger:dagger:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\n\n    // Hilt dependencies\n\n    def hilt_version = '2.28-alpha'\n    implementation &quot;com.google.dagger:hilt-android:$hilt_version&quot;\n    kapt &quot;com.google.dagger:hilt-android-compiler:$hilt_version&quot;\n\n    // Hilt ViewModel extension\n    def hilt_jetpack_version = &quot;1.0.0-alpha02&quot;\n    implementation &quot;androidx.hilt:hilt-lifecycle-viewmodel:$hilt_jetpack_version&quot;\n    kapt &quot;androidx.hilt:hilt-compiler:$hilt_jetpack_version&quot;\n\n    //Retrofit\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;)\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;)\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.7.1'\n\n    //java8\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n\n    //Qr Code\n    implementation 'com.budiyev.android:code-scanner:2.1.0'\n\n    //Stetho\n    implementation 'com.facebook.stetho:stetho:1.5.1'\n    implementation 'com.facebook.stetho:stetho-urlconnection:1.5.1'\n    implementation 'com.facebook.stetho:stetho-okhttp3:1.5.1'\n\n    //Glide\n    api 'com.github.bumptech.glide:glide:4.11.0'\n    kapt 'com.github.bumptech.glide:compiler:4.11.0'\n\n    //Firebase\n    implementation platform('com.google.firebase:firebase-bom:26.1.1')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n\n    //Swipe Delete\n    implementation 'com.ernestoyaquello.dragdropswiperecyclerview:drag-drop-swipe-recyclerview:0.6.0'\n\n    implementation 'com.github.emreerkahraman:MPAndroidChart:v4.0.1'\n\n    implementation 'com.github.mkw8263:MindevPDFViewer:1.0.4'\n\n    implementation 'com.otaliastudios:zoomlayout:1.7.0'\n\n    //EasyImage\n    implementation 'com.github.jkwiecien:EasyImage:3.0.3'\n\n    //Image Crop UI\n    implementation 'com.github.yalantis:ucrop:2.2.6-native'\n\n    //Joda Time\n    implementation 'joda-time:joda-time:2.10.10'\n\n    //PhotoView Zoom\n    implementation 'com.github.chrisbanes:PhotoView:2.1.4'\n\n    //PinCodeView\n    implementation 'com.github.antoxa2584x:PinCodeView:1.3.0'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation 'com.onesignal:OneSignal:4.8.6'\n\n    implementation 'com.chauthai.swipereveallayout:swipe-reveal-layout:1.4.1'\n\n    implementation 'com.andrognito.flashbar:flashbar:1.0.3'\n    implementation 'com.irozon.sneaker:sneaker:2.0.0'\n\n    //Sentry\n    implementation 'io.sentry:sentry-android:6.21.0'\n\n    //Kotlin Reflect\n    implementation &quot;org.jetbrains.kotlin:kotlin-reflect:1.3.31&quot;\n\n    //Skeleton Effect\n    implementation 'com.faltenreich:skeletonlayout:4.0.0'\n\n    implementation 'com.vmadalin:easypermissions-ktx:1.0.0'\n\n    implementation 'androidx.work:work-runtime-ktx:2.7.1'\n\n\n}\n\nandroid {\n    packagingOptions {\n        pickFirst &quot;META-INF/DEPENDENCIES&quot;\n        pickFirst &quot;META-INF/library_release.kotlin_module&quot;\n        //exclude &quot;META-INF/DEPENDENCIES&quot;\n    }\n</code></pre>\n<p>I have tried update libraries, kotlin version or any. It creates another problems.</p>\n<p>i tried <code>implementation 'androidx.work:work-runtime-ktx:2.7.1</code></p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1689665179,"post_id":76710015,"comment_id":135241841,"body_markdown":"As an alternative, Spring-webflux&#39;s Mono has the method `.cache(Duration ttl)`. So if you create a mono which retrieves a token, you can use .cache to use the cached value during the ttl-duration. I.e  create a field like `Mono&lt;String&gt; token = getToken().cache(Duration.of(...))`, where `getToken()` is some method that retrieves the token as a Mono&lt;String&gt;.","body":"As an alternative, Spring-webflux&#39;s Mono has the method <code>.cache(Duration ttl)</code>. So if you create a mono which retrieves a token, you can use .cache to use the cached value during the ttl-duration. I.e  create a field like <code>Mono&lt;String&gt; token = getToken().cache(Duration.of(...))</code>, where <code>getToken()</code> is some method that retrieves the token as a Mono&lt;String&gt;."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1689666678,"post_id":76710015,"comment_id":135242141,"body_markdown":"Can&#39;t you add a filter?","body":"Can&#39;t you add a filter?"},{"owner":{"account_id":5980437,"reputation":584,"user_id":4699692,"accept_rate":70,"display_name":"Andrei Yusupau"},"score":0,"creation_date":1689668224,"post_id":76710015,"comment_id":135242482,"body_markdown":"@ODDminus1 Nice solution! I&#39;ve tried this, but `client.authorize()` is still being called after first request. ` public Mono&lt;Response&gt; performRequest(Request request) {\n        return getToken()\n                .flatMap(token -&gt; client.performRequest(request, token));\n    }\n\n    private Mono&lt;String&gt; getToken() {\n        return client.authorize()\n.cache(response -&gt; Duration.between(LocalDateTime.now(), response.expirationDatetime()),throwable -&gt; Duration.ZERO,() -&gt; Duration.ZERO)\n.map(Response::token);\n    }`","body":"@ODDminus1 Nice solution! I&#39;ve tried this, but <code>client.authorize()</code> is still being called after first request. ` public Mono&lt;Response&gt; performRequest(Request request) {         return getToken()                 .flatMap(token -&gt; client.performRequest(request, token));     }      private Mono&lt;String&gt; getToken() {         return client.authorize() .cache(response -&gt; Duration.between(LocalDateTime.now(), response.expirationDatetime()),throwable -&gt; Duration.ZERO,() -&gt; Duration.ZERO) .map(Response::token);     }`"},{"owner":{"account_id":5980437,"reputation":584,"user_id":4699692,"accept_rate":70,"display_name":"Andrei Yusupau"},"score":0,"creation_date":1689668432,"post_id":76710015,"comment_id":135242528,"body_markdown":"@K.Nicholas already tried, but will it make token check and refresh syncronized between threads?","body":"@K.Nicholas already tried, but will it make token check and refresh syncronized between threads?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689670799,"post_id":76710015,"comment_id":135243098,"body_markdown":"You can also wrap authToken+tokenExpirationDatetime in a custom data class (like AuthData) and store them into AtomicReference/volatile. Then no lock is needed. Also consider return `Mono&lt;String&gt;` with authToken from `preAuthorize` and use its value in the next step instead of this.authToken","body":"You can also wrap authToken+tokenExpirationDatetime in a custom data class (like AuthData) and store them into AtomicReference/volatile. Then no lock is needed. Also consider return <code>Mono&lt;String&gt;</code> with authToken from <code>preAuthorize</code> and use its value in the next step instead of this.authToken"},{"owner":{"account_id":5980437,"reputation":584,"user_id":4699692,"accept_rate":70,"display_name":"Andrei Yusupau"},"score":0,"creation_date":1689671746,"post_id":76710015,"comment_id":135243305,"body_markdown":"@gdomo Thanks for reply\n1) But this doesn&#39;t synchronize read and write operations, so dirty read is possible. Thread 1 reads token - it&#39;s outdated, it starts requesting new token. Thread 2 reads token - it&#39;s still outdated, and it also starts requesting the new one. \n2) Nice tip. I&#39;ve updated the code.","body":"@gdomo Thanks for reply 1) But this doesn&#39;t synchronize read and write operations, so dirty read is possible. Thread 1 reads token - it&#39;s outdated, it starts requesting new token. Thread 2 reads token - it&#39;s still outdated, and it also starts requesting the new one.  2) Nice tip. I&#39;ve updated the code."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1689672937,"post_id":76710015,"comment_id":135243559,"body_markdown":"Regarding webflux&#39;s `.cache`: It might be a bit convoluted, since you neet to use the same instance of Mono&lt;String&gt; to use the cache. You could do it by configuring a bean of type Mono&lt;String&gt; which contains `.cache`.","body":"Regarding webflux&#39;s <code>.cache</code>: It might be a bit convoluted, since you neet to use the same instance of Mono&lt;String&gt; to use the cache. You could do it by configuring a bean of type Mono&lt;String&gt; which contains <code>.cache</code>."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1689674123,"post_id":76710015,"comment_id":135243813,"body_markdown":"I added an example of a simple app with webflux&#39;s cache as an answer bellow.","body":"I added an example of a simple app with webflux&#39;s cache as an answer bellow."}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689674574,"creation_date":1689674031,"answer_id":76711554,"question_id":76710015,"body_markdown":"As a caching alternative, Spring-webflux contains an instance method in Mono to provide a simple cache with `Mono&lt;T&gt; cache(Duration ttl)`. \r\n\r\nTo use this, you must ensure that you are using the same instance of Mono&lt;T&gt; for each retrivement of the cached value to actually use the cache. There are several ways to achieve this, but perhaps the most practical way is through configuring a bean for the Mono which fetches the token. A small application which applies this:\r\n\r\nTest.java:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Test.class, args);\r\n    }\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\nclass Runner {\r\n    private final Mono&lt;String&gt; auth;\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void run() {\r\n        Flux.&lt;Request&gt;generate(sink -&gt; sink.next(new Request()))\r\n                .flatMap(request -&gt; auth.map(request::setAuth))\r\n                .delayElements(Duration.ofSeconds(1))\r\n                .doOnNext(request -&gt; System.out.println(&quot;created request with auth: %s&quot;.formatted(request.getAuth())))\r\n                .collectList()\r\n                .block();\r\n    }\r\n}\r\n\r\n@Data\r\nclass Request {\r\n    String auth;\r\n}\r\n\r\n@RestController\r\nclass Controller {\r\n    @GetMapping(&quot;/token&quot;)\r\n    public Mono&lt;String&gt; createAuth() {\r\n        return Mono.just(&quot;auth&quot;)\r\n                .doOnNext(x -&gt; System.out.println(&quot;created auth&quot;));\r\n    }\r\n}\r\n\r\n@Configuration\r\nclass Config {\r\n    @Bean\r\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\r\n        return webClientBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public Mono&lt;String&gt; auth(WebClient webClient) {\r\n        return webClient.get()\r\n                .uri(&quot;http://localhost:8080/token&quot;)\r\n                .retrieve().bodyToMono(String.class)\r\n                .cache(Duration.ofSeconds(10));\r\n    }\r\n}\r\n```","title":"Spring Webflux concurrent access to shared resource","body":"<p>As a caching alternative, Spring-webflux contains an instance method in Mono to provide a simple cache with <code>Mono&lt;T&gt; cache(Duration ttl)</code>.</p>\n<p>To use this, you must ensure that you are using the same instance of Mono for each retrivement of the cached value to actually use the cache. There are several ways to achieve this, but perhaps the most practical way is through configuring a bean for the Mono which fetches the token. A small application which applies this:</p>\n<p>Test.java:</p>\n<pre><code>@SpringBootApplication\npublic class Test {\n    public static void main(String[] args) {\n        SpringApplication.run(Test.class, args);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\nclass Runner {\n    private final Mono&lt;String&gt; auth;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void run() {\n        Flux.&lt;Request&gt;generate(sink -&gt; sink.next(new Request()))\n                .flatMap(request -&gt; auth.map(request::setAuth))\n                .delayElements(Duration.ofSeconds(1))\n                .doOnNext(request -&gt; System.out.println(&quot;created request with auth: %s&quot;.formatted(request.getAuth())))\n                .collectList()\n                .block();\n    }\n}\n\n@Data\nclass Request {\n    String auth;\n}\n\n@RestController\nclass Controller {\n    @GetMapping(&quot;/token&quot;)\n    public Mono&lt;String&gt; createAuth() {\n        return Mono.just(&quot;auth&quot;)\n                .doOnNext(x -&gt; System.out.println(&quot;created auth&quot;));\n    }\n}\n\n@Configuration\nclass Config {\n    @Bean\n    public WebClient webClient(WebClient.Builder webClientBuilder) {\n        return webClientBuilder.build();\n    }\n\n    @Bean\n    public Mono&lt;String&gt; auth(WebClient webClient) {\n        return webClient.get()\n                .uri(&quot;http://localhost:8080/token&quot;)\n                .retrieve().bodyToMono(String.class)\n                .cache(Duration.ofSeconds(10));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5980437,"reputation":584,"user_id":4699692,"accept_rate":70,"display_name":"Andrei Yusupau"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76711554,"answer_count":1,"score":0,"last_activity_date":1689674574,"creation_date":1689661494,"question_id":76710015,"body_markdown":"I&#39;m trying to implement a service that call to external API. There are two types of requests:\r\n`client.authorize()` acquires a new token with lifetime 1 hour, `client.performRequest(..)` gets some data from API, requires authorization token acquired by `client.authorize()` request. Client class utilizes Spring Reactive `WebClient`.\r\nIs it ok, to use `ReentrantLock` for synchronizing a block of code that checks and refreshes token if it&#39;s not fresh? Or it breaks reactive model? Maybe there are more convinient ways to organize access to common resource in reactive programming?\r\n\r\n \r\n``` java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class Service {\r\n\r\n    private final Client client;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    private Lock authLock = new ReentrantLock();\r\n    @Setter(AccessLevel.NONE)\r\n    private String authToken;\r\n    @Setter(AccessLevel.NONE)\r\n    private LocalDateTime tokenExpirationDatetime;\r\n\r\n    public Mono&lt;Response&gt; performRequest(Request request) {\r\n        return preAuthorize()\r\n                .flatMap(token -&gt; client.performRequest(request, token));\r\n    }\r\n\r\n    private Mono&lt;String&gt; preAuthorize() {\r\n        authLock.lock();\r\n        try {\r\n            if (existsActualToken()) {\r\n                return Mono.just(authToken);\r\n            }\r\n            return refreshToken();\r\n        } finally {\r\n            authLock.unlock();\r\n        }\r\n    }\r\n\r\n    private boolean existsActualToken() {\r\n        return authToken != null\r\n                &amp;&amp; tokenExpirationDatetime.isAfter(LocalDateTime.now());\r\n    }\r\n\r\n    private Mono&lt;String&gt; refreshToken() {\r\n        return client.authorize()\r\n                .doOnNext(response -&gt; {\r\n                    this.authToken = response.token();\r\n                    this.tokenExpirationDatetime = response.expirationDatetime();\r\n                })\r\n                .map(Response::token);\r\n    }\r\n}\r\n```","title":"Spring Webflux concurrent access to shared resource","body":"<p>I'm trying to implement a service that call to external API. There are two types of requests:\n<code>client.authorize()</code> acquires a new token with lifetime 1 hour, <code>client.performRequest(..)</code> gets some data from API, requires authorization token acquired by <code>client.authorize()</code> request. Client class utilizes Spring Reactive <code>WebClient</code>.\nIs it ok, to use <code>ReentrantLock</code> for synchronizing a block of code that checks and refreshes token if it's not fresh? Or it breaks reactive model? Maybe there are more convinient ways to organize access to common resource in reactive programming?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class Service {\n\n    private final Client client;\n\n    @Setter(AccessLevel.NONE)\n    private Lock authLock = new ReentrantLock();\n    @Setter(AccessLevel.NONE)\n    private String authToken;\n    @Setter(AccessLevel.NONE)\n    private LocalDateTime tokenExpirationDatetime;\n\n    public Mono&lt;Response&gt; performRequest(Request request) {\n        return preAuthorize()\n                .flatMap(token -&gt; client.performRequest(request, token));\n    }\n\n    private Mono&lt;String&gt; preAuthorize() {\n        authLock.lock();\n        try {\n            if (existsActualToken()) {\n                return Mono.just(authToken);\n            }\n            return refreshToken();\n        } finally {\n            authLock.unlock();\n        }\n    }\n\n    private boolean existsActualToken() {\n        return authToken != null\n                &amp;&amp; tokenExpirationDatetime.isAfter(LocalDateTime.now());\n    }\n\n    private Mono&lt;String&gt; refreshToken() {\n        return client.authorize()\n                .doOnNext(response -&gt; {\n                    this.authToken = response.token();\n                    this.tokenExpirationDatetime = response.expirationDatetime();\n                })\n                .map(Response::token);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689734228,"post_id":76711585,"comment_id":135253952,"body_markdown":"At least to me it is unclear what exactly you want to do, because you seem to have omitted the exact parts of the code you wish to change. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"At least to me it is unclear what exactly you want to do, because you seem to have omitted the exact parts of the code you wish to change. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":25571905,"reputation":56,"user_id":19352128,"display_name":"Islam Khabibullin"},"score":0,"creation_date":1689749781,"post_id":76711585,"comment_id":135255535,"body_markdown":"The ProceedingJoinPoint contains a link to controller. Why not call the bankCallback method directly? You can get the request by using [this](https://stackoverflow.com/a/26323545/19352128) to add mock data","body":"The ProceedingJoinPoint contains a link to controller. Why not call the bankCallback method directly? You can get the request by using <a href=\"https://stackoverflow.com/a/26323545/19352128\">this</a> to add mock data"}],"owner":{"account_id":3717501,"reputation":734,"user_id":3093717,"accept_rate":81,"display_name":"Simas.B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689674227,"creation_date":1689674227,"question_id":76711585,"body_markdown":"I want to mock authentication using spring aop. In our application we have authentication trough bank, backend redirects to bank, and then after user successfully authenticates via bank client we get a callback and user is authenticated in our system.\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/auth/bank&quot;)\r\n    public class BankAuth {\r\n      @GetMapping\r\n      public String getBankTemplate() {\r\n        // prepare data\r\n        return &quot;redirect:/bank&quot;;\r\n      }\r\n    \r\n      @PostMapping(&quot;/callback&quot;)\r\n      public String bankCallback(HttpServletRequest request, HttpServletResponse response,) {\r\n        // parse data from callback request\r\n        return &quot;redirect:/index&quot;;\r\n      }\r\n    }\r\n\r\nWhat i want to achieve is to intercept getBankTemplate method, add mock data to request and forward that request to bankCallback, so user would be successfully authenticated.\r\n\r\nI can&#39;t use forwarding cause bankCallback request is POST.\r\n\r\nIs there a way to achieve this without using httpClient in interceptor?\r\n\r\n    @Aspect\r\n    public class MockBankInterceptor {\r\n      @Pointcut(&quot;execution (* ...getBankTemplate(...))&quot;)\r\n      public void bankTemplate() {}\r\n    \r\n      @Around(&quot;bankTemplate()&quot;)\r\n      public String authenticateUser(ProceedingJoinPoint pjp) {\r\n        pjp.proceed();\r\n    \r\n        // populate request with data required to authenticate customer\r\n    \r\n        return &quot;forward:/auth/bank/callback&quot;;\r\n      }\r\n    }\r\n\r\n","title":"spring aop invoke another method of controller","body":"<p>I want to mock authentication using spring aop. In our application we have authentication trough bank, backend redirects to bank, and then after user successfully authenticates via bank client we get a callback and user is authenticated in our system.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/auth/bank&quot;)\npublic class BankAuth {\n  @GetMapping\n  public String getBankTemplate() {\n    // prepare data\n    return &quot;redirect:/bank&quot;;\n  }\n\n  @PostMapping(&quot;/callback&quot;)\n  public String bankCallback(HttpServletRequest request, HttpServletResponse response,) {\n    // parse data from callback request\n    return &quot;redirect:/index&quot;;\n  }\n}\n</code></pre>\n<p>What i want to achieve is to intercept getBankTemplate method, add mock data to request and forward that request to bankCallback, so user would be successfully authenticated.</p>\n<p>I can't use forwarding cause bankCallback request is POST.</p>\n<p>Is there a way to achieve this without using httpClient in interceptor?</p>\n<pre><code>@Aspect\npublic class MockBankInterceptor {\n  @Pointcut(&quot;execution (* ...getBankTemplate(...))&quot;)\n  public void bankTemplate() {}\n\n  @Around(&quot;bankTemplate()&quot;)\n  public String authenticateUser(ProceedingJoinPoint pjp) {\n    pjp.proceed();\n\n    // populate request with data required to authenticate customer\n\n    return &quot;forward:/auth/bank/callback&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","user-interface","android-edittext"],"comments":[{"owner":{"account_id":9873600,"reputation":1,"user_id":7312234,"display_name":"Sandeep Singh"},"score":0,"creation_date":1689677151,"post_id":76711540,"comment_id":135244401,"body_markdown":"This might be helpful for you -&gt; https://stackoverflow.com/a/14052431/7312234","body":"This might be helpful for you -&gt; <a href=\"https://stackoverflow.com/a/14052431/7312234\">stackoverflow.com/a/14052431/7312234</a>"}],"owner":{"account_id":29040510,"reputation":1,"user_id":22245460,"display_name":"funny android"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689678696,"answer_count":0,"score":0,"last_activity_date":1689673980,"creation_date":1689673980,"question_id":76711540,"body_markdown":"I want to change edittext from picture 1 to picture 2. This is my code for picture 1\r\n```\r\n&lt;EditText\r\n            android:id=&quot;@+id/edt_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:drawableEnd=&quot;@drawable/ic_key&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:textSize=&quot;@dimen/text_size_18&quot;\r\n            android:textFontWeight=&quot;500&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/tv_password&quot;\r\n            /&gt;\r\n```\r\nPicture 1:\r\n[enter image description here](https://i.stack.imgur.com/p7qbM.png)\r\nPicture 2:\r\n[enter image description here](https://i.stack.imgur.com/cPoVc.png)\r\n\r\nCan change picture 1 to picture 2","title":"Change visible EditText in android","body":"<p>I want to change edittext from picture 1 to picture 2. This is my code for picture 1</p>\n<pre><code>&lt;EditText\n            android:id=&quot;@+id/edt_password&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:drawableEnd=&quot;@drawable/ic_key&quot;\n            android:inputType=&quot;textPassword&quot;\n            android:textSize=&quot;@dimen/text_size_18&quot;\n            android:textFontWeight=&quot;500&quot;\n            android:textColor=&quot;@color/black&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/tv_password&quot;\n            /&gt;\n</code></pre>\n<p>Picture 1:\n<a href=\"https://i.stack.imgur.com/p7qbM.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nPicture 2:\n<a href=\"https://i.stack.imgur.com/cPoVc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can change picture 1 to picture 2</p>\n"},{"tags":["java","bash","file","ytdl","downloading-website-files"],"comments":[{"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"score":2,"creation_date":1689533603,"post_id":76699762,"comment_id":135223542,"body_markdown":"Any path that doesn&#39;t start with `/` is a *relative* path, and will be resolved starting at the process&#39;s current working directory... which could be almost anything (depending on the whims of whatever launched your program). It sounds like you need to find the location of the .jar file, and build a full path based on the directory it&#39;s in. (Unfortunately, I don&#39;t know how to do this in java.)","body":"Any path that doesn&#39;t start with <code>&#47;</code> is a <i>relative</i> path, and will be resolved starting at the process&#39;s current working directory... which could be almost anything (depending on the whims of whatever launched your program). It sounds like you need to find the location of the .jar file, and build a full path based on the directory it&#39;s in. (Unfortunately, I don&#39;t know how to do this in java.)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689552797,"post_id":76699762,"comment_id":135225334,"body_markdown":"Either the `Project/src/` path is not in your JAR file or it shouldn&#39;t be, but a JAR file is not the filesystem, and arbitrary processes can&#39;t find files in them. You will probably have to distribute the file(s) in question separately.","body":"Either the <code>Project&#47;src&#47;</code> path is not in your JAR file or it shouldn&#39;t be, but a JAR file is not the filesystem, and arbitrary processes can&#39;t find files in them. You will probably have to distribute the file(s) in question separately."}],"answers":[{"tags":[],"owner":{"account_id":7362914,"reputation":74,"user_id":5605615,"display_name":"mgillett"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689673870,"creation_date":1689532322,"answer_id":76699838,"question_id":76699762,"body_markdown":"I program on MacOS and whenever I use Paths I use a base directory ie.\r\n\r\n        private static final String BASEDIR = &quot;/Users/&lt;username&gt;/devel/python_3/play/pandas/DNA/store_final&quot;;\r\n\r\notherwise your directories will be relative to wherever your java application is running from (ie. its working directory).\r\n\r\nI think you can determine that with the following print statement :\r\n\r\n    System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\r\nAlso I prefer debugging directly from my IDE.","title":"Java Program does not find paths when used in .jar executable","body":"<p>I program on MacOS and whenever I use Paths I use a base directory ie.</p>\n<pre><code>    private static final String BASEDIR = &quot;/Users/&lt;username&gt;/devel/python_3/play/pandas/DNA/store_final&quot;;\n</code></pre>\n<p>otherwise your directories will be relative to wherever your java application is running from (ie. its working directory).</p>\n<p>I think you can determine that with the following print statement :</p>\n<pre><code>System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n</code></pre>\n<p>Also I prefer debugging directly from my IDE.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689596361,"creation_date":1689545506,"answer_id":76700605,"question_id":76699762,"body_markdown":"&gt; So far I have tried providing Paths using a getFilePath method I wrote\r\n&gt; in order to make sure I do not need to specify a &quot;semi-full&quot; path\r\n&gt; which obviously would not work on a different MacOs computer.\r\n\r\nI don&#39;t know what you mean by the term &quot;semi-full path&quot;, but if you want to run an external program, then that program must be\r\n\r\n - in the system&#39;s executable search path, OR\r\n - specified via an absolute path to it, OR\r\n - specified via a path *relative to the host program&#39;s current working directory*.\r\n\r\n&gt; The problem is that whenever I try to execute a command using the\r\n&gt; ProcessBuilder when not in my IDE (in my IDE it works just fine - the\r\n&gt; path &#39;Project/src/Zasoby/yt-dlp&#39; is recognized and the program stars\r\n&gt; downloading Music), instead while executing the program via a .jar\r\n&gt; File, the program cannot find the yt-dlp program via its provided\r\n&gt; path.\r\n\r\n`Project/src/Zasoby/yt-dlp` is a relative path.  Whether it works for launching the program depends on the working directory from which the Java program is launched (not necessarily the folder containing the JAR file or any class files), against which that relative path will be resolved.  This is not particular to using a JAR file or to any operating system; it&#39;s just that `Project/src/Zasoby/yt-dlp` happens to be correct for the working directory used when you launch from your IDE.\r\n\r\nAdditionally, however, it looks like [`yt-dlp`][1] provides Windows and Unix wrapper scripts, named `yt-dlp.cmd` and `yt-dlp.sh`, respectively.  You can ignore the `.cmd` extension on Windows, but you cannot ignore the `.sh` extension on MacOS or Linux.\r\n\r\nAs for your `getFilePath()` method, it appears to be trying to copy a single `yt-dlp` binary out of the JAR, onto the filesystem, so that it can be executed from there.  There are numerous reasons why that probably won&#39;t work, among them:\r\n\r\n - It relies on `yt-dlp` being packaged into your JAR in the first place.  It&#39;s possible to make such an arrangement, but I would not expect that to be done by default.\r\n - The `yt-dlp` application consists of multiple files and directories, but you are copying out only one.\r\n - Copying a file to the disk is not sufficient to make it executable on Mac and Linux.\r\n\r\n----\r\nYou have a few main options:\r\n\r\n 1. Rely on `yt-dlp` being installed in the system&#39;s executable search path, so that you can launch it without specifying any path.\r\n\r\n 2. Provide a way to configure your application with the correct (full) path to `yt-dlp`, and execute it via its full path.\r\n\r\n 3. Provide a way for your application to *discover* the correct path.  Typically this would be by relying on a known relationship between [the location of the JAR][2] and the location of `yt-dlp`.  Then you can launch it via a correct path.\r\n\r\nSome of those options are more likely based on bundling `yt-dlp` with your wrapper application (but not in the JAR).  Others are more oriented toward pairing your application with a separate installation of `yt-dlp`.\r\n\r\n\r\n  [1]: https://github.com/yt-dlp/yt-dlp/tree/master/yt_dlp\r\n  [2]: https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file","title":"Java Program does not find paths when used in .jar executable","body":"<blockquote>\n<p>So far I have tried providing Paths using a getFilePath method I wrote\nin order to make sure I do not need to specify a &quot;semi-full&quot; path\nwhich obviously would not work on a different MacOs computer.</p>\n</blockquote>\n<p>I don't know what you mean by the term &quot;semi-full path&quot;, but if you want to run an external program, then that program must be</p>\n<ul>\n<li>in the system's executable search path, OR</li>\n<li>specified via an absolute path to it, OR</li>\n<li>specified via a path <em>relative to the host program's current working directory</em>.</li>\n</ul>\n<blockquote>\n<p>The problem is that whenever I try to execute a command using the\nProcessBuilder when not in my IDE (in my IDE it works just fine - the\npath 'Project/src/Zasoby/yt-dlp' is recognized and the program stars\ndownloading Music), instead while executing the program via a .jar\nFile, the program cannot find the yt-dlp program via its provided\npath.</p>\n</blockquote>\n<p><code>Project/src/Zasoby/yt-dlp</code> is a relative path.  Whether it works for launching the program depends on the working directory from which the Java program is launched (not necessarily the folder containing the JAR file or any class files), against which that relative path will be resolved.  This is not particular to using a JAR file or to any operating system; it's just that <code>Project/src/Zasoby/yt-dlp</code> happens to be correct for the working directory used when you launch from your IDE.</p>\n<p>Additionally, however, it looks like <a href=\"https://github.com/yt-dlp/yt-dlp/tree/master/yt_dlp\" rel=\"nofollow noreferrer\"><code>yt-dlp</code></a> provides Windows and Unix wrapper scripts, named <code>yt-dlp.cmd</code> and <code>yt-dlp.sh</code>, respectively.  You can ignore the <code>.cmd</code> extension on Windows, but you cannot ignore the <code>.sh</code> extension on MacOS or Linux.</p>\n<p>As for your <code>getFilePath()</code> method, it appears to be trying to copy a single <code>yt-dlp</code> binary out of the JAR, onto the filesystem, so that it can be executed from there.  There are numerous reasons why that probably won't work, among them:</p>\n<ul>\n<li>It relies on <code>yt-dlp</code> being packaged into your JAR in the first place.  It's possible to make such an arrangement, but I would not expect that to be done by default.</li>\n<li>The <code>yt-dlp</code> application consists of multiple files and directories, but you are copying out only one.</li>\n<li>Copying a file to the disk is not sufficient to make it executable on Mac and Linux.</li>\n</ul>\n<hr />\n<p>You have a few main options:</p>\n<ol>\n<li><p>Rely on <code>yt-dlp</code> being installed in the system's executable search path, so that you can launch it without specifying any path.</p>\n</li>\n<li><p>Provide a way to configure your application with the correct (full) path to <code>yt-dlp</code>, and execute it via its full path.</p>\n</li>\n<li><p>Provide a way for your application to <em>discover</em> the correct path.  Typically this would be by relying on a known relationship between <a href=\"https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file\">the location of the JAR</a> and the location of <code>yt-dlp</code>.  Then you can launch it via a correct path.</p>\n</li>\n</ol>\n<p>Some of those options are more likely based on bundling <code>yt-dlp</code> with your wrapper application (but not in the JAR).  Others are more oriented toward pairing your application with a separate installation of <code>yt-dlp</code>.</p>\n"}],"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisław"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689673870,"creation_date":1689531092,"question_id":76699762,"body_markdown":"I am facing an issue when it comes to my Java application. The app downloads&#160;Music from Youtube using yt-dlp,&#160;it is basically a GUI version of yt-dlp.&#160;The issue I have is only present on MacOs, it works as intended on Windows.&#160;Here is a snippet of my download method code&#160;(This is a MacOs specific method, as I have already mentioned before I only encounter the issue on MacOs not on Windows, thus I am not providing any code specific for Windows):\r\n\r\n***The download method:***\r\n\r\n    private void download() {\r\n    Process process = null;\r\n            try {\r\n                ProcessBuilder processBuilder;\r\n                    String command =\r\n                           &quot;&#39;Project/src/Zasoby/yt-dlp&#39;&quot; + &quot; -f bestaudio &quot; +\r\n                            &quot;-x --audio-format &quot; + chosenFormat\r\n                            + &quot; --no-playlist --output &#39;&quot; + outputPath + &quot;/%(title)s.%(ext)s &#39;&#39;&quot;\r\n                            + linkYT + &quot;&#39;&quot;;\r\n    \r\n                processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\r\n    \r\n                processBuilder.inheritIO();\r\n                process = processBuilder.start();\r\n                process.waitFor();\r\n    \r\n                int exitCode = process.exitValue();\r\n    \r\n                System.out.println(exitCode + &quot; EXIT CODE&quot;); // a log for exit codes\r\n    \r\n                if (exitCode != 0) {\r\n                    InfoFrame ef = new InfoFrame(2);\r\n                    ef.setVisible(true);\r\n               }\r\n            } catch (IOException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\nThe problem is that whenever I try to execute a command using the ProcessBuilder when not in my IDE (in my IDE it works just fine - the path &#39;Project/src/Zasoby/yt-dlp&#39; is recognized and the program stars downloading Music), instead while executing the program via a .jar File, the program cannot find the yt-dlp program via its provided path.\r\n\r\nSo far I have tried providing Paths using a getFilePath method I wrote in order to make sure I do not need to specify a &quot;semi-full&quot; path which obviously would not work on a different MacOs computer.\r\n\r\n***The getFilePath method:***\r\n\r\n    private Path getFilePath(String resourcePath) {\r\n            try {\r\n                InputStream inputStream = getResourceAsStream(resourcePath);\r\n                Path tempFilePath = Files.createTempFile(&quot;temp&quot;, null);\r\n                Files.copy(inputStream, tempFilePath, StandardCopyOption.REPLACE_EXISTING);\r\n                return tempFilePath.toAbsolutePath();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Failed to get resource file path: &quot; + resourcePath, e);\r\n            }\r\n        }\r\n\r\n***The modified command String in the download method:***\r\n\r\n    Path ytDlpPathMac = getFilePath(&quot;Zasoby/yt-dlp&quot;);\r\n    String command =\r\n                 ytDlpPathMac.toString() + &quot; -f bestaudio &quot; +\r\n                 &quot;-x --audio-format &quot; + chosenFormat\r\n                 + &quot; --no-playlist --output &#39;&quot; + outputPath + &quot;/%(title)s.%(ext)s &#39;&#39;&quot;\r\n                 + linkYT + &quot;&#39;&quot;;\r\n\r\nAdditionally the path &quot;Zasoby/yt-dlp&quot; is a &quot;Path From Content Root&quot;,&#160;the full Path in the project is&quot;Project/src/Zasoby/yt-dlp&quot; - if that helps.I have already tried other solutions from other Questions on the forum, however none of them fixed the issue.\r\n\r\nI have tried debugging the code using ***Xdebug*** tool on MacOs and the output I am getting is that &quot;.. directory does not exist&quot; - when using both of the approaches, the one with the &quot;semi-full&quot; path and the one with the ***getFilePath*** method. As I have previously mentioned this only happens on Mac, so maybe there is a different way of handling Paths on MacOs than on Windows when it comes to Java itself.\r\n\r\n","title":"Java Program does not find paths when used in .jar executable","body":"<p>I am facing an issue when it comes to my Java application. The app downloads Music from Youtube using yt-dlp, it is basically a GUI version of yt-dlp. The issue I have is only present on MacOs, it works as intended on Windows. Here is a snippet of my download method code (This is a MacOs specific method, as I have already mentioned before I only encounter the issue on MacOs not on Windows, thus I am not providing any code specific for Windows):</p>\n<p><em><strong>The download method:</strong></em></p>\n<pre><code>private void download() {\nProcess process = null;\n        try {\n            ProcessBuilder processBuilder;\n                String command =\n                       &quot;'Project/src/Zasoby/yt-dlp'&quot; + &quot; -f bestaudio &quot; +\n                        &quot;-x --audio-format &quot; + chosenFormat\n                        + &quot; --no-playlist --output '&quot; + outputPath + &quot;/%(title)s.%(ext)s ''&quot;\n                        + linkYT + &quot;'&quot;;\n\n            processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\n\n            processBuilder.inheritIO();\n            process = processBuilder.start();\n            process.waitFor();\n\n            int exitCode = process.exitValue();\n\n            System.out.println(exitCode + &quot; EXIT CODE&quot;); // a log for exit codes\n\n            if (exitCode != 0) {\n                InfoFrame ef = new InfoFrame(2);\n                ef.setVisible(true);\n           }\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>The problem is that whenever I try to execute a command using the ProcessBuilder when not in my IDE (in my IDE it works just fine - the path 'Project/src/Zasoby/yt-dlp' is recognized and the program stars downloading Music), instead while executing the program via a .jar File, the program cannot find the yt-dlp program via its provided path.</p>\n<p>So far I have tried providing Paths using a getFilePath method I wrote in order to make sure I do not need to specify a &quot;semi-full&quot; path which obviously would not work on a different MacOs computer.</p>\n<p><em><strong>The getFilePath method:</strong></em></p>\n<pre><code>private Path getFilePath(String resourcePath) {\n        try {\n            InputStream inputStream = getResourceAsStream(resourcePath);\n            Path tempFilePath = Files.createTempFile(&quot;temp&quot;, null);\n            Files.copy(inputStream, tempFilePath, StandardCopyOption.REPLACE_EXISTING);\n            return tempFilePath.toAbsolutePath();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Failed to get resource file path: &quot; + resourcePath, e);\n        }\n    }\n</code></pre>\n<p><em><strong>The modified command String in the download method:</strong></em></p>\n<pre><code>Path ytDlpPathMac = getFilePath(&quot;Zasoby/yt-dlp&quot;);\nString command =\n             ytDlpPathMac.toString() + &quot; -f bestaudio &quot; +\n             &quot;-x --audio-format &quot; + chosenFormat\n             + &quot; --no-playlist --output '&quot; + outputPath + &quot;/%(title)s.%(ext)s ''&quot;\n             + linkYT + &quot;'&quot;;\n</code></pre>\n<p>Additionally the path &quot;Zasoby/yt-dlp&quot; is a &quot;Path From Content Root&quot;, the full Path in the project is&quot;Project/src/Zasoby/yt-dlp&quot; - if that helps.I have already tried other solutions from other Questions on the forum, however none of them fixed the issue.</p>\n<p>I have tried debugging the code using <em><strong>Xdebug</strong></em> tool on MacOs and the output I am getting is that &quot;.. directory does not exist&quot; - when using both of the approaches, the one with the &quot;semi-full&quot; path and the one with the <em><strong>getFilePath</strong></em> method. As I have previously mentioned this only happens on Mac, so maybe there is a different way of handling Paths on MacOs than on Windows when it comes to Java itself.</p>\n"},{"tags":["java","reverse-engineering","obfuscation","bytecode","deobfuscation"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1689673678,"creation_date":1689667747,"answer_id":76710712,"question_id":76710612,"body_markdown":"Loading `this` and assigning its instance fields before calling another constructor is perfectly allowed by the JVM. It is the Java *language* that does not allow setting instance fields before calling `this(...)` or `super(...)`.\r\n\r\nFrom the [JVM spec:][1]\r\n\r\n&gt; Each instance initialization method, except for the instance initialization method derived from the constructor of class `Object`, must call either another instance initialization method of `this` or an instance initialization method of its direct superclass `super` before its instance members are accessed.\r\n&gt;\r\n&gt; However, instance fields of `this` that are declared in the current class may be assigned by `putfield` before calling any instance initialization method.\r\n\r\nSo the JVM does not allow reading instance fields before calling another constructor, but it allows writes. Implementations of a Java compiler can totally rearrange the code to produce something like this, given that it can prove that the behaviours are the same.\r\n\r\nIt could also be the work of an obfuscator. One possibility is that this is intended to cause (naive) decompilers to output illegal code. A decompiler looking at this might read the line numbers and assume that there is a `this.a = arg0;` statement on the first line, causing the decompiler&#39;s output to not compile.\r\n\r\nIn your particular case, based on the fact that the field is synthetic and this is an inner class, this field is highly likely to store the *enclosing instance*.\r\n\r\nFor example, the `Inner` class below would need to store an instance `Outer`, and a synthetic field would be created for that.\r\n\r\n```\r\nclass Outer {\r\n    class Inner extends Thread {\r\n        // the JVM representation of Inner&#39;s constructor takes a parameter of Outer\r\n        // so that it can be assigned to the field storing the enclosing instance\r\n    }\r\n}\r\n```\r\n\r\nMy compiler generates a `putfield` before the superclass constructor call, that assigns the first constructor parameter to the synthetic field. In Java code, the `Inner` class would look something like this (this is invalid Java code, just for illustrative purposes):\r\n\r\n```\r\nclass Inner extends Thread {\r\n    private final Outer $this0;\r\n\r\n    Inner(Outer arg0) {\r\n        this.$this0 = arg0;\r\n        super();\r\n    }\r\n}\r\n```\r\n\r\nGenerating `putfield` before the `super` call is required (credits to [Holger][2] for informing me of this!), because the superclass constructor could call a method that the subclass overrides. That method could access the enclosing instance.\r\n\r\n```\r\nclass Outer {\r\n    public void outerMethod() {\r\n\r\n    }\r\n\r\n    class Inner extends SomeSuperClass {\r\n        \r\n        @Override\r\n        public void superclassConstructorWillCallThis() {\r\n            // This accesses the enclosing instance, i.e. Outer.this\r\n            outerMethod();\r\n            // if the enclosing instance field is not set before the superclass constructor call,\r\n            // this call will throw a NullPointerException\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.9.2\r\n  [2]: https://stackoverflow.com/users/2711488/holger","title":"Java Bytecode Mystery: Illegal Operation Order in Constructors","body":"<p>Loading <code>this</code> and assigning its instance fields before calling another constructor is perfectly allowed by the JVM. It is the Java <em>language</em> that does not allow setting instance fields before calling <code>this(...)</code> or <code>super(...)</code>.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.9.2\" rel=\"nofollow noreferrer\">JVM spec:</a></p>\n<blockquote>\n<p>Each instance initialization method, except for the instance initialization method derived from the constructor of class <code>Object</code>, must call either another instance initialization method of <code>this</code> or an instance initialization method of its direct superclass <code>super</code> before its instance members are accessed.</p>\n<p>However, instance fields of <code>this</code> that are declared in the current class may be assigned by <code>putfield</code> before calling any instance initialization method.</p>\n</blockquote>\n<p>So the JVM does not allow reading instance fields before calling another constructor, but it allows writes. Implementations of a Java compiler can totally rearrange the code to produce something like this, given that it can prove that the behaviours are the same.</p>\n<p>It could also be the work of an obfuscator. One possibility is that this is intended to cause (naive) decompilers to output illegal code. A decompiler looking at this might read the line numbers and assume that there is a <code>this.a = arg0;</code> statement on the first line, causing the decompiler's output to not compile.</p>\n<p>In your particular case, based on the fact that the field is synthetic and this is an inner class, this field is highly likely to store the <em>enclosing instance</em>.</p>\n<p>For example, the <code>Inner</code> class below would need to store an instance <code>Outer</code>, and a synthetic field would be created for that.</p>\n<pre><code>class Outer {\n    class Inner extends Thread {\n        // the JVM representation of Inner's constructor takes a parameter of Outer\n        // so that it can be assigned to the field storing the enclosing instance\n    }\n}\n</code></pre>\n<p>My compiler generates a <code>putfield</code> before the superclass constructor call, that assigns the first constructor parameter to the synthetic field. In Java code, the <code>Inner</code> class would look something like this (this is invalid Java code, just for illustrative purposes):</p>\n<pre><code>class Inner extends Thread {\n    private final Outer $this0;\n\n    Inner(Outer arg0) {\n        this.$this0 = arg0;\n        super();\n    }\n}\n</code></pre>\n<p>Generating <code>putfield</code> before the <code>super</code> call is required (credits to <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> for informing me of this!), because the superclass constructor could call a method that the subclass overrides. That method could access the enclosing instance.</p>\n<pre><code>class Outer {\n    public void outerMethod() {\n\n    }\n\n    class Inner extends SomeSuperClass {\n        \n        @Override\n        public void superclassConstructorWillCallThis() {\n            // This accesses the enclosing instance, i.e. Outer.this\n            outerMethod();\n            // if the enclosing instance field is not set before the superclass constructor call,\n            // this call will throw a NullPointerException\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689671113,"creation_date":1689671113,"answer_id":76711144,"question_id":76710612,"body_markdown":"In addition to the answer from Sweeper, the original code might have looked like this:\r\n\r\n    class ka {\r\n        static int a = 0;\r\n        class a extends Thread {\r\n            a(String arg1, boolean arg2) {\r\n                super(arg1 + &quot;.pool[&quot;+ a++ + &quot;]&quot;);\r\n                setDaemon(arg2);\r\n            }\r\n        }\r\n    }\r\n\r\nCompiling this fragment with Java 8 will give bytecode similar to yours.","title":"Java Bytecode Mystery: Illegal Operation Order in Constructors","body":"<p>In addition to the answer from Sweeper, the original code might have looked like this:</p>\n<pre><code>class ka {\n    static int a = 0;\n    class a extends Thread {\n        a(String arg1, boolean arg2) {\n            super(arg1 + &quot;.pool[&quot;+ a++ + &quot;]&quot;);\n            setDaemon(arg2);\n        }\n    }\n}\n</code></pre>\n<p>Compiling this fragment with Java 8 will give bytecode similar to yours.</p>\n"}],"owner":{"account_id":13914556,"reputation":23,"user_id":10046764,"display_name":"Tamatea Schofield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76710712,"answer_count":2,"score":1,"last_activity_date":1689673678,"creation_date":1689666943,"question_id":76710612,"body_markdown":"I&#39;ve been tinkering with reverse engineering a Java app, and I&#39;ve stumbled upon something interesting. The bytecode I found seems to break the rules by not initializing the superclass first in a constructor.\r\n\r\nI&#39;m trying to figure out how this is possible. Could it be a normal behavior of Java compilers, or is it some sneaky obfuscation technique (Note: It&#39;s worth mentioning that the original class name hasn&#39;t been stripped by the obfuscator, which indicates that the obfuscation process might not have been very thorough. So, it&#39;s less likely that the bytecode structure is a deliberate result of obfuscation.)\r\n\r\n\r\nCould anyone perhaps offer some insight on what could the original code have looked like to generate such unconventional bytecode? I&#39;m eager to learn and unravel this mystery. Thanks a bunch!\r\n\r\nHere is the bytecode.\r\n```\r\nfinal class a/ka$a extends java/lang/Thread {\r\n     &lt;ClassVersion=51&gt;\r\n     &lt;SourceFile=CLThreadPool.java&gt;\r\n\r\n     private synthetic a.ka a;\r\n\r\n     public ka$a(a.ka arg0, java.lang.String arg1, boolean arg2) { // &lt;init&gt; //(La/ka;Ljava/lang/String;Z)V\r\n         &lt;localVar:index=0 , name=this , desc=La/ka$a;, sig=null, start=L0, end=L4&gt;\r\n         &lt;localVar:index=2 , name=name , desc=Ljava/lang/String;, sig=null, start=L0, end=L4&gt;\r\n         &lt;localVar:index=3 , name=daemon , desc=Z, sig=null, start=L0, end=L4&gt;\r\n\r\n         L0 {\r\n             aload 0 // reference to self\r\n             aload 1 // reference to arg0\r\n             putfield a/ka$a.a:a.ka\r\n         }\r\n         L1 {\r\n             aload 0 // reference to self\r\n             aload 1 // reference to arg0\r\n             new java/lang/StringBuilder\r\n             dup\r\n             aload 2 // reference to arg1\r\n             invokestatic java/lang/String.valueOf(Ljava/lang/Object;)Ljava/lang/String;\r\n             invokespecial java/lang/StringBuilder.&lt;init&gt;(Ljava/lang/String;)V\r\n             ldc &quot;.pool[&quot; (java.lang.String)\r\n             invokevirtual java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n             aload 1 // reference to arg0\r\n             dup\r\n             invokestatic a/ka.a(La/ka;)I\r\n             dup_x1\r\n             iconst_1\r\n             iadd\r\n             invokestatic a/ka.a(La/ka;I)V\r\n             invokevirtual java/lang/StringBuilder.append(I)Ljava/lang/StringBuilder;\r\n             ldc &quot;]&quot; (java.lang.String)\r\n             invokevirtual java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n             invokevirtual java/lang/StringBuilder.toString()Ljava/lang/String;\r\n             invokespecial java/lang/Thread.&lt;init&gt;(Ljava/lang/ThreadGroup;Ljava/lang/String;)V\r\n         }\r\n         L2 {\r\n             aload 0 // reference to self\r\n             iload 3\r\n             invokevirtual a/ka$a.setDaemon(Z)V\r\n         }\r\n         L3 {\r\n             return\r\n         }\r\n         L4 {\r\n         }\r\n     }\r\n\r\n\r\n```\r\n\r\nThe compiler preferences were also still in the obfuscated jar:\r\n\r\n```\r\neclipse.preferences.version=1\r\norg.eclipse.jdt.core.compiler.codegen.inlineJsrBytecode=enabled\r\norg.eclipse.jdt.core.compiler.codegen.methodParameters=do not generate\r\norg.eclipse.jdt.core.compiler.codegen.targetPlatform=1.7\r\norg.eclipse.jdt.core.compiler.codegen.unusedLocal=preserve\r\norg.eclipse.jdt.core.compiler.compliance=1.7\r\norg.eclipse.jdt.core.compiler.debug.lineNumber=generate\r\norg.eclipse.jdt.core.compiler.debug.localVariable=generate\r\norg.eclipse.jdt.core.compiler.debug.sourceFile=generate\r\norg.eclipse.jdt.core.compiler.problem.assertIdentifier=error\r\norg.eclipse.jdt.core.compiler.problem.enumIdentifier=error\r\norg.eclipse.jdt.core.compiler.release=disabled\r\norg.eclipse.jdt.core.compiler.source=1.7\r\n\r\n```\r\n\r\n\r\nI&#39;ve considered the possibility that there might have been a static method involved, responsible for the logic that ended up getting inlined during compilation. Despite my attempts, I haven&#39;t been able to reproduce a similar output. Additionally, I noticed the presence of a synthetic field and the fact that this class was a inner class. These factors seem to play a role in the unusual bytecode structure.","title":"Java Bytecode Mystery: Illegal Operation Order in Constructors","body":"<p>I've been tinkering with reverse engineering a Java app, and I've stumbled upon something interesting. The bytecode I found seems to break the rules by not initializing the superclass first in a constructor.</p>\n<p>I'm trying to figure out how this is possible. Could it be a normal behavior of Java compilers, or is it some sneaky obfuscation technique (Note: It's worth mentioning that the original class name hasn't been stripped by the obfuscator, which indicates that the obfuscation process might not have been very thorough. So, it's less likely that the bytecode structure is a deliberate result of obfuscation.)</p>\n<p>Could anyone perhaps offer some insight on what could the original code have looked like to generate such unconventional bytecode? I'm eager to learn and unravel this mystery. Thanks a bunch!</p>\n<p>Here is the bytecode.</p>\n<pre><code>final class a/ka$a extends java/lang/Thread {\n     &lt;ClassVersion=51&gt;\n     &lt;SourceFile=CLThreadPool.java&gt;\n\n     private synthetic a.ka a;\n\n     public ka$a(a.ka arg0, java.lang.String arg1, boolean arg2) { // &lt;init&gt; //(La/ka;Ljava/lang/String;Z)V\n         &lt;localVar:index=0 , name=this , desc=La/ka$a;, sig=null, start=L0, end=L4&gt;\n         &lt;localVar:index=2 , name=name , desc=Ljava/lang/String;, sig=null, start=L0, end=L4&gt;\n         &lt;localVar:index=3 , name=daemon , desc=Z, sig=null, start=L0, end=L4&gt;\n\n         L0 {\n             aload 0 // reference to self\n             aload 1 // reference to arg0\n             putfield a/ka$a.a:a.ka\n         }\n         L1 {\n             aload 0 // reference to self\n             aload 1 // reference to arg0\n             new java/lang/StringBuilder\n             dup\n             aload 2 // reference to arg1\n             invokestatic java/lang/String.valueOf(Ljava/lang/Object;)Ljava/lang/String;\n             invokespecial java/lang/StringBuilder.&lt;init&gt;(Ljava/lang/String;)V\n             ldc &quot;.pool[&quot; (java.lang.String)\n             invokevirtual java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n             aload 1 // reference to arg0\n             dup\n             invokestatic a/ka.a(La/ka;)I\n             dup_x1\n             iconst_1\n             iadd\n             invokestatic a/ka.a(La/ka;I)V\n             invokevirtual java/lang/StringBuilder.append(I)Ljava/lang/StringBuilder;\n             ldc &quot;]&quot; (java.lang.String)\n             invokevirtual java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n             invokevirtual java/lang/StringBuilder.toString()Ljava/lang/String;\n             invokespecial java/lang/Thread.&lt;init&gt;(Ljava/lang/ThreadGroup;Ljava/lang/String;)V\n         }\n         L2 {\n             aload 0 // reference to self\n             iload 3\n             invokevirtual a/ka$a.setDaemon(Z)V\n         }\n         L3 {\n             return\n         }\n         L4 {\n         }\n     }\n\n\n</code></pre>\n<p>The compiler preferences were also still in the obfuscated jar:</p>\n<pre><code>eclipse.preferences.version=1\norg.eclipse.jdt.core.compiler.codegen.inlineJsrBytecode=enabled\norg.eclipse.jdt.core.compiler.codegen.methodParameters=do not generate\norg.eclipse.jdt.core.compiler.codegen.targetPlatform=1.7\norg.eclipse.jdt.core.compiler.codegen.unusedLocal=preserve\norg.eclipse.jdt.core.compiler.compliance=1.7\norg.eclipse.jdt.core.compiler.debug.lineNumber=generate\norg.eclipse.jdt.core.compiler.debug.localVariable=generate\norg.eclipse.jdt.core.compiler.debug.sourceFile=generate\norg.eclipse.jdt.core.compiler.problem.assertIdentifier=error\norg.eclipse.jdt.core.compiler.problem.enumIdentifier=error\norg.eclipse.jdt.core.compiler.release=disabled\norg.eclipse.jdt.core.compiler.source=1.7\n\n</code></pre>\n<p>I've considered the possibility that there might have been a static method involved, responsible for the logic that ended up getting inlined during compilation. Despite my attempts, I haven't been able to reproduce a similar output. Additionally, I noticed the presence of a synthetic field and the fact that this class was a inner class. These factors seem to play a role in the unusual bytecode structure.</p>\n"},{"tags":["java","spring-boot","generics","autowired"],"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1689671635,"post_id":76711163,"comment_id":135243285,"body_markdown":"Spring bean by default uses its interface name if I remember correctly. You have 2 implementations there for the same interface, so they have the same bean name, and the same bean name conflicts, which results in that error. One solution is, you may give your bean a different name, in `@Service` alike annotations. And use that name to inject, name like `qualification` something.","body":"Spring bean by default uses its interface name if I remember correctly. You have 2 implementations there for the same interface, so they have the same bean name, and the same bean name conflicts, which results in that error. One solution is, you may give your bean a different name, in <code>@Service</code> alike annotations. And use that name to inject, name like <code>qualification</code> something."},{"owner":{"account_id":18078088,"reputation":13,"user_id":13140774,"display_name":"RarstManPL"},"score":0,"creation_date":1689672050,"post_id":76711163,"comment_id":135243361,"body_markdown":"@Tiina where I should do this?","body":"@Tiina where I should do this?"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1689673970,"post_id":76711163,"comment_id":135243778,"body_markdown":"&quot;@Service(&quot;yourServiceName&quot;)&quot; with a specific &quot;@Bean&quot; annotation or &quot;@Primary&quot; annotations (if you are using the interfaces only) are solutions to your problem as others persons have already suggested.","body":"&quot;@Service(&quot;yourServiceName&quot;)&quot; with a specific &quot;@Bean&quot; annotation or &quot;@Primary&quot; annotations (if you are using the interfaces only) are solutions to your problem as others persons have already suggested."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1689674481,"post_id":76711163,"comment_id":135243909,"body_markdown":"@RarstManPL have a look here: `https://www.baeldung.com/spring-bean-names` pay attention to section 4 and 5.","body":"@RarstManPL have a look here: <code>https:&#47;&#47;www.baeldung.com&#47;spring-bean-names</code> pay attention to section 4 and 5."},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1689709561,"post_id":76711163,"comment_id":135251372,"body_markdown":"[This answer](https://stackoverflow.com/a/50987156/10231374) will solve your problem.","body":"<a href=\"https://stackoverflow.com/a/50987156/10231374\">This answer</a> will solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":6466355,"reputation":488,"user_id":5008145,"display_name":"NorthernSky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689673566,"creation_date":1689673566,"answer_id":76711477,"question_id":76711163,"body_markdown":"If you use @Primary on the implementation you wish to use by default, Spring will prefer that bean over any others.\r\nFor example, if you wish Spring to use DefaultApplicationAccessor:\r\n\r\n    @Component\r\n    @Primary\r\n    public class DefaultApplicationAccessor extends ApplicationAccessor {\r\n\r\n        @Override\r\n        public List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes() {\r\n            return this.applicationTypeRepository.findAllNonRemoteWorkApplicationTypes();\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ApplicationEntity&gt; getAllApplications() {\r\n            return this.applicationRepository.findAllNonRemoteWorkApplications();\r\n        }\r\n    }","title":"Autowired generic service in Spring Boot","body":"<p>If you use @Primary on the implementation you wish to use by default, Spring will prefer that bean over any others.\nFor example, if you wish Spring to use DefaultApplicationAccessor:</p>\n<pre><code>@Component\n@Primary\npublic class DefaultApplicationAccessor extends ApplicationAccessor {\n\n    @Override\n    public List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes() {\n        return this.applicationTypeRepository.findAllNonRemoteWorkApplicationTypes();\n    }\n\n    @Override\n    public List&lt;ApplicationEntity&gt; getAllApplications() {\n        return this.applicationRepository.findAllNonRemoteWorkApplications();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18078088,"reputation":13,"user_id":13140774,"display_name":"RarstManPL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689673566,"creation_date":1689671331,"question_id":76711163,"body_markdown":"I want to inject a service into another generic service.\r\n\r\nI have an abstract class ApplicationAccessor:\r\n\r\n    @Component\r\n    public abstract class ApplicationAccessor {\r\n\r\n        @Autowired\r\n        protected ApplicationRepository applicationRepository;\r\n\r\n        @Autowired\r\n        protected ApplicationTypeRepository applicationTypeRepository;\r\n\r\n        public abstract List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes();\r\n\r\n        public abstract List&lt;ApplicationEntity&gt; getAllApplications();\r\n    }\r\n\r\nWhich is extended by two Application Accessors:\r\n\r\n    @Component\r\n    public class DefaultApplicationAccessor extends ApplicationAccessor {\r\n\r\n        @Override\r\n        public List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes() {\r\n            return this.applicationTypeRepository.findAllNonRemoteWorkApplicationTypes();\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ApplicationEntity&gt; getAllApplications() {\r\n            return this.applicationRepository.findAllNonRemoteWorkApplications();\r\n        }\r\n    }\r\n\r\nAnd RemoteWorkApplicationAccessor which is very similar to the one above.\r\n\r\nI also have ApplicationService which is generically dependent on ApplicationAccessor\r\n\r\n    @Service\r\n    public class ApplicationServiceImpl&lt;T extends ApplicationAccessor&gt; implements ApplicationService&lt;T&gt; { }\r\n\r\nAnd ApplicationService (interface that implements ApplicationServiceImpl):\r\n\r\n    public interface ApplicationService&lt;T extends ApplicationAccessor&gt; { }\r\n\r\nIn ApplicationServiceImpl I want to have a generic property with type T being ApplicationAccessor which is autowired:\r\n\r\n    @Autowired\r\n    private T applicationAccessor;\r\n\r\nThen in the controller I want to inject generic ApplicationService:\r\n\r\n    @Autowired\r\n    private ApplicationService&lt;DefaultApplicationAccessor&gt; applicationService;\r\n\r\nBut unfortunately I get an error:\r\n\r\n    Parameter 0 of constructor in ApplicationServiceImpl required a single bean, but 2 were found:\r\n\t- defaultApplicationAccessor: defined in file [...]\r\n\t- remoteWorkApplicationAccessor: defined in file [...]\r\n\r\nWhat can I do to fix it?","title":"Autowired generic service in Spring Boot","body":"<p>I want to inject a service into another generic service.</p>\n<p>I have an abstract class ApplicationAccessor:</p>\n<pre><code>@Component\npublic abstract class ApplicationAccessor {\n\n    @Autowired\n    protected ApplicationRepository applicationRepository;\n\n    @Autowired\n    protected ApplicationTypeRepository applicationTypeRepository;\n\n    public abstract List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes();\n\n    public abstract List&lt;ApplicationEntity&gt; getAllApplications();\n}\n</code></pre>\n<p>Which is extended by two Application Accessors:</p>\n<pre><code>@Component\npublic class DefaultApplicationAccessor extends ApplicationAccessor {\n\n    @Override\n    public List&lt;ApplicationTypeEntity&gt; getAllApplicationsTypes() {\n        return this.applicationTypeRepository.findAllNonRemoteWorkApplicationTypes();\n    }\n\n    @Override\n    public List&lt;ApplicationEntity&gt; getAllApplications() {\n        return this.applicationRepository.findAllNonRemoteWorkApplications();\n    }\n}\n</code></pre>\n<p>And RemoteWorkApplicationAccessor which is very similar to the one above.</p>\n<p>I also have ApplicationService which is generically dependent on ApplicationAccessor</p>\n<pre><code>@Service\npublic class ApplicationServiceImpl&lt;T extends ApplicationAccessor&gt; implements ApplicationService&lt;T&gt; { }\n</code></pre>\n<p>And ApplicationService (interface that implements ApplicationServiceImpl):</p>\n<pre><code>public interface ApplicationService&lt;T extends ApplicationAccessor&gt; { }\n</code></pre>\n<p>In ApplicationServiceImpl I want to have a generic property with type T being ApplicationAccessor which is autowired:</p>\n<pre><code>@Autowired\nprivate T applicationAccessor;\n</code></pre>\n<p>Then in the controller I want to inject generic ApplicationService:</p>\n<pre><code>@Autowired\nprivate ApplicationService&lt;DefaultApplicationAccessor&gt; applicationService;\n</code></pre>\n<p>But unfortunately I get an error:</p>\n<pre><code>Parameter 0 of constructor in ApplicationServiceImpl required a single bean, but 2 were found:\n- defaultApplicationAccessor: defined in file [...]\n- remoteWorkApplicationAccessor: defined in file [...]\n</code></pre>\n<p>What can I do to fix it?</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468098368,"creation_date":1468091542,"answer_id":38285419,"question_id":38284409,"body_markdown":"If your authorization server is only accessible from application servers, I don&#39;t see what interest you could have by enabling CSRF protection on both. \r\nCSRF protection on servers accessible by end users should be enough.\r\nBesides, if your CSRF protection is broken on your application server and then your application communicates with your authorization server, I don&#39;t see how you could detect it in your authorization server since the request is done by your server.","title":"Spring OAuth2 client, CSRF protection","body":"<p>If your authorization server is only accessible from application servers, I don't see what interest you could have by enabling CSRF protection on both. \nCSRF protection on servers accessible by end users should be enough.\nBesides, if your CSRF protection is broken on your application server and then your application communicates with your authorization server, I don't see how you could detect it in your authorization server since the request is done by your server.</p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689673415,"creation_date":1689673415,"answer_id":76711458,"question_id":38284409,"body_markdown":"In a stateless Spring Boot security application with OAuth 2 bearer authorisation via JWT, you do not need to implement Cross-Site Request Forgery (CSRF) protection. CSRF protection is primarily relevant for applications that use session-based authentication.\r\n\r\nStateless authentication, such as OAuth 2 Bearer token authorisation via JWT, does not rely on server-side sessions. Instead, each request contains all the necessary authentication information in the form of a JWT token, typically in the Authorization header. As there is no session associated with the server, there is no need for CSRF protection.\r\n\r\nCSRF attacks work by exploiting the trust that a user&#39;s browser has with a particular website, using the session information to make unauthorised requests on the user&#39;s behalf. With stateless authentication, there is no session data to exploit in this way, making CSRF attacks ineffective against such applications.\r\n\r\nHowever, it&#39;s important to ensure that you handle JWT tokens securely to prevent other types of attacks, such as token leakage or man-in-the-middle attacks. Always follow best practices for securing JWT tokens, such as using HTTPS for communication, validating the token signature, and setting appropriate token expiration times.\r\n\r\nIn summary, CSRF protection is not required for stateless Spring Boot Security applications that use OAuth 2 Bearer authorisation via JWT. Instead, focus on proper JWT token management and overall application security to ensure a robust and secure authentication mechanism.","title":"Spring OAuth2 client, CSRF protection","body":"<p>In a stateless Spring Boot security application with OAuth 2 bearer authorisation via JWT, you do not need to implement Cross-Site Request Forgery (CSRF) protection. CSRF protection is primarily relevant for applications that use session-based authentication.</p>\n<p>Stateless authentication, such as OAuth 2 Bearer token authorisation via JWT, does not rely on server-side sessions. Instead, each request contains all the necessary authentication information in the form of a JWT token, typically in the Authorization header. As there is no session associated with the server, there is no need for CSRF protection.</p>\n<p>CSRF attacks work by exploiting the trust that a user's browser has with a particular website, using the session information to make unauthorised requests on the user's behalf. With stateless authentication, there is no session data to exploit in this way, making CSRF attacks ineffective against such applications.</p>\n<p>However, it's important to ensure that you handle JWT tokens securely to prevent other types of attacks, such as token leakage or man-in-the-middle attacks. Always follow best practices for securing JWT tokens, such as using HTTPS for communication, validating the token signature, and setting appropriate token expiration times.</p>\n<p>In summary, CSRF protection is not required for stateless Spring Boot Security applications that use OAuth 2 Bearer authorisation via JWT. Instead, focus on proper JWT token management and overall application security to ensure a robust and secure authentication mechanism.</p>\n"}],"owner":{"account_id":3089836,"reputation":479,"user_id":2616203,"accept_rate":100,"display_name":"Nikola Lošić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38285419,"answer_count":2,"score":0,"last_activity_date":1689673415,"creation_date":1468085165,"question_id":38284409,"body_markdown":"I am building web application using Spring. I have multiple Spring client applications and one OAuth2 Authorization and resource server. End user first authenticates within the client app and then client app requests some resource from the resource server (after obtaining access token from the authorization server), processes data and returns it to the user. User can also change data on the resource server, but only through client app. For obtaining resources only client credentials are used, resource owner is trusted client in this case. \r\n\r\nOn the resource server only client details and resources are stored, no information about the end user. Resource server doesn&#39;t care who requested resource, just that request came from the authorized client app. \r\n\r\nClient app has CSRF protection but is there a need to enable CSRF protection on the authorization server? I can&#39;t think of any attack scenario because communication is server to server, client credentials are securely stored and user cannot directly access the resource. ","title":"Spring OAuth2 client, CSRF protection","body":"<p>I am building web application using Spring. I have multiple Spring client applications and one OAuth2 Authorization and resource server. End user first authenticates within the client app and then client app requests some resource from the resource server (after obtaining access token from the authorization server), processes data and returns it to the user. User can also change data on the resource server, but only through client app. For obtaining resources only client credentials are used, resource owner is trusted client in this case. </p>\n\n<p>On the resource server only client details and resources are stored, no information about the end user. Resource server doesn't care who requested resource, just that request came from the authorized client app. </p>\n\n<p>Client app has CSRF protection but is there a need to enable CSRF protection on the authorization server? I can't think of any attack scenario because communication is server to server, client credentials are securely stored and user cannot directly access the resource. </p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687791469,"post_id":76538563,"comment_id":134982477,"body_markdown":"What does your LowercaseLetter entity and the LowercaseLetter(line) constructor look like?","body":"What does your LowercaseLetter entity and the LowercaseLetter(line) constructor look like?"},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1687793599,"post_id":76538563,"comment_id":134982948,"body_markdown":"ah, actually it&#39;s a blank constructor, then I use a `.set(line)` -- I was simplifying for the purposes of the example","body":"ah, actually it&#39;s a blank constructor, then I use a <code>.set(line)</code> -- I was simplifying for the purposes of the example"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687804992,"post_id":76538563,"comment_id":134985242,"body_markdown":"Fair enough, still need the entity then as well as any logic in the set(line). There isn&#39;t enough posted to guess at what a line is and what uniquely identifies a LowercaseLetter.","body":"Fair enough, still need the entity then as well as any logic in the set(line). There isn&#39;t enough posted to guess at what a line is and what uniquely identifies a LowercaseLetter."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687811864,"post_id":76538563,"comment_id":134986251,"body_markdown":"Might want to check the EclipseLink version you are using as well, to see if it is related to bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=502085","body":"Might want to check the EclipseLink version you are using as well, to see if it is related to bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=502085\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=502085</a>"},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1687857812,"post_id":76538563,"comment_id":134991919,"body_markdown":"@Chris updated, thanks. regarding EclipseLink, it&#39;s the default version that comes with Websphere - helpfully described by IBM as &quot;Eclipselink 2.6.x_WAS&quot;","body":"@Chris updated, thanks. regarding EclipseLink, it&#39;s the default version that comes with Websphere - helpfully described by IBM as &quot;Eclipselink 2.6.x_WAS&quot;"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687891475,"post_id":76538563,"comment_id":134999814,"body_markdown":"File a bug with IBM - They are maintaining EclipseLink source and might get you a patch for Websphere if it is already fixed.","body":"File a bug with IBM - They are maintaining EclipseLink source and might get you a patch for Websphere if it is already fixed."}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689598128,"answer_count":0,"score":0,"last_activity_date":1689673244,"creation_date":1687510848,"question_id":76538563,"body_markdown":"I am using code like the following:\r\n\r\n```java\r\n// Parent.java entity\r\n\r\n@Id\r\n@Column(name=&quot;PARENT_KEY_ID&quot;, length=16)\r\nprivate String id;\r\n\r\n@OneToMany(mappedBy=&quot;parent&quot;, cascade=CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY)\r\n@OrderColumn(name=&quot;LOCATION_IDX&quot;)\r\nprivate List&lt;Child&gt; children;\r\n```\r\n\r\nI then daily run through a file and update the children for each parent, merging or persisting depending on whether the parent already exists in the database:\r\n\r\n```java\r\n\r\nif (doMerge)\r\n{\r\n    em.merge(currentParent);\r\n}\r\nelse\r\n{\r\n    em.persist(currentParent); // propagates by persisting the children too\r\n}\r\n```\r\n\r\nThe problem is, `merge` results in my LOCATION_IDX column being set to null, rather than maintaining the order sequence. Does anyone know why this is? I would expect it to maintain the sequence.\r\n\r\nHere&#39;s the Child entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;CHILDREN&quot;, indexes = {\r\n\t\t@Index(name=&quot;PARENT_KEY_IDX&quot;, columnList=&quot;PARENT_KEY_ID&quot;)})\r\npublic class Child implements Serializable \r\n{\r\n\t@Transient\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t// To minimize round trips to the database server, IDs are allocated in groups. \r\n\t// The number of IDs in each allocation is specified by the allocationSize attribute. \r\n\t// It is possible that some of the IDs in a given allocation will not be used. \r\n\t// Therefore, this strategy does not guarantee there will be no gaps in sequence values.\r\n\t@SequenceGenerator(name=&quot;SEQ_SCH_LL_ID&quot;, sequenceName=&quot;SEQ_LL&quot;, allocationSize=500) \r\n\t@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;SEQ_LL&quot;)\r\n\t@Column(name=&quot;LL_ID&quot;)\r\n\tprivate Long id;\r\n\r\n  \t@Column(name=&quot;VALUE&quot;, length=1)\r\n\tprivate String value;  \r\n\r\n\t@ManyToOne(cascade= {CascadeType.PERSIST,CascadeType.MERGE,CascadeType.REFRESH}, fetch=FetchType.LAZY) // more performant. This ManyToOne relationship is managed by the parent instance.\r\n\t@JoinColumn(name=&quot;PARENT_KEY_ID&quot;, referencedColumnName = &quot;PARENT_KEY_ID&quot;)\r\n\tprivate Parent parent;\r\n\r\n\tpublic Child() {}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n    public void getValue() {\r\n        return value;\r\n    }\r\n\r\n    // etc.\r\n}\r\n```\r\n","title":"OrderColumn intermittently contains null values","body":"<p>I am using code like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Parent.java entity\n\n@Id\n@Column(name=&quot;PARENT_KEY_ID&quot;, length=16)\nprivate String id;\n\n@OneToMany(mappedBy=&quot;parent&quot;, cascade=CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY)\n@OrderColumn(name=&quot;LOCATION_IDX&quot;)\nprivate List&lt;Child&gt; children;\n</code></pre>\n<p>I then daily run through a file and update the children for each parent, merging or persisting depending on whether the parent already exists in the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (doMerge)\n{\n    em.merge(currentParent);\n}\nelse\n{\n    em.persist(currentParent); // propagates by persisting the children too\n}\n</code></pre>\n<p>The problem is, <code>merge</code> results in my LOCATION_IDX column being set to null, rather than maintaining the order sequence. Does anyone know why this is? I would expect it to maintain the sequence.</p>\n<p>Here's the Child entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;CHILDREN&quot;, indexes = {\n        @Index(name=&quot;PARENT_KEY_IDX&quot;, columnList=&quot;PARENT_KEY_ID&quot;)})\npublic class Child implements Serializable \n{\n    @Transient\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    // To minimize round trips to the database server, IDs are allocated in groups. \n    // The number of IDs in each allocation is specified by the allocationSize attribute. \n    // It is possible that some of the IDs in a given allocation will not be used. \n    // Therefore, this strategy does not guarantee there will be no gaps in sequence values.\n    @SequenceGenerator(name=&quot;SEQ_SCH_LL_ID&quot;, sequenceName=&quot;SEQ_LL&quot;, allocationSize=500) \n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;SEQ_LL&quot;)\n    @Column(name=&quot;LL_ID&quot;)\n    private Long id;\n\n    @Column(name=&quot;VALUE&quot;, length=1)\n    private String value;  \n\n    @ManyToOne(cascade= {CascadeType.PERSIST,CascadeType.MERGE,CascadeType.REFRESH}, fetch=FetchType.LAZY) // more performant. This ManyToOne relationship is managed by the parent instance.\n    @JoinColumn(name=&quot;PARENT_KEY_ID&quot;, referencedColumnName = &quot;PARENT_KEY_ID&quot;)\n    private Parent parent;\n\n    public Child() {}\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public void getValue() {\n        return value;\n    }\n\n    // etc.\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1283439186,"post_id":3628302,"comment_id":3811706,"body_markdown":"Isn&#39;t there a root cause? Look further in the trace. Initialization of the class might have plain failed.","body":"Isn&#39;t there a root cause? Look further in the trace. Initialization of the class might have plain failed."},{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":0,"creation_date":1283496764,"post_id":3628302,"comment_id":3818068,"body_markdown":"Are there multiple jasperreport jars in the web app or classpath.","body":"Are there multiple jasperreport jars in the web app or classpath."},{"owner":{"account_id":36149,"reputation":1113,"user_id":102977,"accept_rate":60,"display_name":"Esteve Camps"},"score":0,"creation_date":1283503625,"post_id":3628302,"comment_id":3818837,"body_markdown":"@JoseK It seems that only one jar exists on classpath. I tried to deploy this WAR without Jasperreport.jar in it, but it throws exception for NoClassDefFound on Jasper classes.","body":"@JoseK It seems that only one jar exists on classpath. I tried to deploy this WAR without Jasperreport.jar in it, but it throws exception for NoClassDefFound on Jasper classes."},{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":0,"creation_date":1283505360,"post_id":3628302,"comment_id":3819016,"body_markdown":"It might be cached in the tmp_delete folders within the weblogic domain - can you delete all that and try?","body":"It might be cached in the tmp_delete folders within the weblogic domain - can you delete all that and try?"}],"answers":[{"tags":[],"owner":{"account_id":36149,"reputation":1113,"user_id":102977,"accept_rate":60,"display_name":"Esteve Camps"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1329661653,"creation_date":1283773826,"answer_id":3651196,"question_id":3628302,"body_markdown":"Finally, I&#39;ve got it working. I detected the root Exception, which was thrown before NoClassDefFoundError:net/sf/jasperreports/engine/util/JRStyledTextParser :\r\n\r\n    java.lang.NoClassDefFoundError: sun/awt/X11GraphicsEnvironment\r\n\r\nThe Sun AWT classes on Unix and Linux have a dependence on the X Window System. When you use these classes, they expect to load X client libraries and be able to talk to an X display server. This makes sense if your client has a GUI; unfortunately, it&#39;s required even if your client uses AWT but does not have a GUI (which is my case, generating a report from a web application)\r\n\r\nThe way to bypass this, is setting a system property `java.awt.headless=true` on system startup.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>Finally, I've got it working. I detected the root Exception, which was thrown before NoClassDefFoundError:net/sf/jasperreports/engine/util/JRStyledTextParser :</p>\n\n<pre><code>java.lang.NoClassDefFoundError: sun/awt/X11GraphicsEnvironment\n</code></pre>\n\n<p>The Sun AWT classes on Unix and Linux have a dependence on the X Window System. When you use these classes, they expect to load X client libraries and be able to talk to an X display server. This makes sense if your client has a GUI; unfortunately, it's required even if your client uses AWT but does not have a GUI (which is my case, generating a report from a web application)</p>\n\n<p>The way to bypass this, is setting a system property <code>java.awt.headless=true</code> on system startup.</p>\n"},{"tags":[],"owner":{"account_id":1221484,"reputation":21,"user_id":1188051,"display_name":"Lorenzo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328288669,"creation_date":1328288669,"answer_id":9132480,"question_id":3628302,"body_markdown":"Text Parsing Exception means the font not have been recognized. I spent an whole day trying to understand why, then finally I fix this problem using text SansSerif. On Linux only a few font can be parsed. Hoping has helped,\r\nbest regards","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>Text Parsing Exception means the font not have been recognized. I spent an whole day trying to understand why, then finally I fix this problem using text SansSerif. On Linux only a few font can be parsed. Hoping has helped,\nbest regards</p>\n"},{"tags":[],"owner":{"account_id":1821159,"reputation":11,"user_id":1655198,"display_name":"Tony A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348515268,"creation_date":1347033628,"answer_id":12321630,"question_id":3628302,"body_markdown":"We had similar issue. we resolved it by using the jasper java flow jar file. the \r\n\r\n    java.awt.headless=true\r\n\r\ndidn&#39;t work for us.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>We had similar issue. we resolved it by using the jasper java flow jar file. the </p>\n\n<pre><code>java.awt.headless=true\n</code></pre>\n\n<p>didn't work for us.</p>\n"},{"tags":[],"owner":{"account_id":2476408,"reputation":438,"user_id":2156969,"accept_rate":0,"display_name":"rudygodoy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367286849,"creation_date":1367286849,"answer_id":16291005,"question_id":3628302,"body_markdown":"I experienced the same issue and we&#39;ve solved it by installing the xorg fonts packages along with the ttf fonts.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>I experienced the same issue and we've solved it by installing the xorg fonts packages along with the ttf fonts.</p>\n"},{"tags":[],"owner":{"account_id":3997593,"reputation":521,"user_id":3868231,"accept_rate":100,"display_name":"drinovc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436518746,"creation_date":1436518746,"answer_id":31336583,"question_id":3628302,"body_markdown":"You get the same error if there is no enough space. I had the same error and it was because there was 0KB free space on server&#39;s hard drive.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>You get the same error if there is no enough space. I had the same error and it was because there was 0KB free space on server's hard drive.</p>\n"},{"tags":[],"owner":{"account_id":7157861,"reputation":51,"user_id":5469579,"display_name":"Ankit Kachchhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482833698,"creation_date":1482833698,"answer_id":41343182,"question_id":3628302,"body_markdown":"I had the same issue and it was resolved by reducing the /tmp space. It was 100%  (/tmp folder). I reduced it to 86% and restarted the server and the noclassdefinitionerror was gone and issue was resolved.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>I had the same issue and it was resolved by reducing the /tmp space. It was 100%  (/tmp folder). I reduced it to 86% and restarted the server and the noclassdefinitionerror was gone and issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":4917566,"reputation":39,"user_id":3961091,"display_name":"Randhish kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516980601,"creation_date":1516980601,"answer_id":48464449,"question_id":3628302,"body_markdown":"Faced this issue multiple times and I have got the solution. \r\nThis error comes due to lack of memory space on disk... \r\nYou can try below things to solve :\r\n(i) Make enough space in tmp folder \r\n(ii) Delete some unnecessary files on the disk to make some space. \r\n\r\nGood luck..Hope.. it should solve your issue","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>Faced this issue multiple times and I have got the solution. \nThis error comes due to lack of memory space on disk... \nYou can try below things to solve :\n(i) Make enough space in tmp folder \n(ii) Delete some unnecessary files on the disk to make some space. </p>\n\n<p>Good luck..Hope.. it should solve your issue</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553018737,"creation_date":1553018737,"answer_id":55247387,"question_id":3628302,"body_markdown":"Once you have this problem, googling will bring you here. For me the problem was Jdk 11.2.\r\n\r\n\r\n\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n            at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\r\n            ... 85 more\r\n    Caused by: java.lang.NullPointerException\r\n            at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1262)\r\n            at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\r\n            at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n            at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\r\n            at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:367)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:312)\r\n            at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\r\n            at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\r\n            ... 90 more\r\n    java.lang.InternalError: java.lang.reflect.InvocationTargetException\r\n            at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n            at java.desktop/sun.java2d.SunGraphicsEnvironment.getFontManagerForSGE(SunGraphicsEnvironment.java:189)\r\n            at java.desktop/sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:223)\r\n            at java.desktop/sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:251)\r\n            at java.desktop/sun.java2d.HeadlessGraphicsEnvironment.getAvailableFontFamilyNames(HeadlessGraphicsEnvironment.java:75)\r\n            at net.sf.jasperreports.engine.util.JRStyledTextParser.&lt;clinit&gt;(JRStyledTextParser.java:94)\r\n            at net.sf.jasperreports.engine.fill.JRBaseFiller.&lt;init&gt;(JRBaseFiller.java:110)\r\n            at net.sf.jasperreports.engine.fill.JRVerticalFiller.&lt;init&gt;(JRVerticalFiller.java:69)\r\n            at net.sf.jasperreports.engine.fill.JRVerticalFiller.&lt;init&gt;(JRVerticalFiller.java:57)\r\n            at net.sf.jasperreports.engine.fill.JRFiller.createBandReportFiller(JRFiller.java:200)\r\n            at net.sf.jasperreports.engine.fill.JRFiller.createReportFiller(JRFiller.java:215)\r\n            at net.sf.jasperreports.engine.fill.JRFiller.fill(JRFiller.java:115)\r\n            at net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.java:667)\r\n\r\n\r\nSolutions tried\r\n\r\n - Ran locally with JDK 11.02. No problems. Because the problems happens\r\n   on linux 64 systems \r\n - Ran on server -Djava-awt.headeless=true as\r\n   suggested by some users . Problem still remains.\r\n\r\nReason this problem occurs is because support of certain fonts have been removed\r\n\r\nFrom Oracle release notes\r\nhttps://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#Removed\r\n\r\n&gt; Removal of Lucida Fonts from Oracle JDK  Oracle JDK no longer ships\r\n&gt; any fonts and relies entirely on fonts installed on the operating\r\n&gt; system.\r\n&gt; \r\n&gt; This means that fonts in the Bigelow &amp; Holmes Lucida family (Lucida\r\n&gt; Sans, Lucida Bright, and Lucida Typewriter) are no longer available to\r\n&gt; applications from the JDK.\r\n&gt; \r\n&gt; If applications rely on fonts shipped in the JDK, they may need to be\r\n&gt; updated.\r\n&gt; \r\n&gt; If system adminstrators are running Java server applications that rely\r\n&gt; on fonts shipped in the JDK rather than on system font packages, then\r\n&gt; the applications may fail to run until the system font packages are\r\n&gt; installed.\r\n\r\nGo back to previous version of JDK or you can try upgrading Jasper.","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>Once you have this problem, googling will bring you here. For me the problem was Jdk 11.2.</p>\n\n<pre><code>Caused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\n        ... 85 more\nCaused by: java.lang.NullPointerException\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1262)\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:367)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:312)\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\n        ... 90 more\njava.lang.InternalError: java.lang.reflect.InvocationTargetException\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\n        at java.desktop/sun.java2d.SunGraphicsEnvironment.getFontManagerForSGE(SunGraphicsEnvironment.java:189)\n        at java.desktop/sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:223)\n        at java.desktop/sun.java2d.SunGraphicsEnvironment.getAvailableFontFamilyNames(SunGraphicsEnvironment.java:251)\n        at java.desktop/sun.java2d.HeadlessGraphicsEnvironment.getAvailableFontFamilyNames(HeadlessGraphicsEnvironment.java:75)\n        at net.sf.jasperreports.engine.util.JRStyledTextParser.&lt;clinit&gt;(JRStyledTextParser.java:94)\n        at net.sf.jasperreports.engine.fill.JRBaseFiller.&lt;init&gt;(JRBaseFiller.java:110)\n        at net.sf.jasperreports.engine.fill.JRVerticalFiller.&lt;init&gt;(JRVerticalFiller.java:69)\n        at net.sf.jasperreports.engine.fill.JRVerticalFiller.&lt;init&gt;(JRVerticalFiller.java:57)\n        at net.sf.jasperreports.engine.fill.JRFiller.createBandReportFiller(JRFiller.java:200)\n        at net.sf.jasperreports.engine.fill.JRFiller.createReportFiller(JRFiller.java:215)\n        at net.sf.jasperreports.engine.fill.JRFiller.fill(JRFiller.java:115)\n        at net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.java:667)\n</code></pre>\n\n<p>Solutions tried</p>\n\n<ul>\n<li>Ran locally with JDK 11.02. No problems. Because the problems happens\non linux 64 systems </li>\n<li>Ran on server -Djava-awt.headeless=true as\nsuggested by some users . Problem still remains.</li>\n</ul>\n\n<p>Reason this problem occurs is because support of certain fonts have been removed</p>\n\n<p>From Oracle release notes\n<a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#Removed\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#Removed</a></p>\n\n<blockquote>\n  <p>Removal of Lucida Fonts from Oracle JDK  Oracle JDK no longer ships\n  any fonts and relies entirely on fonts installed on the operating\n  system.</p>\n  \n  <p>This means that fonts in the Bigelow &amp; Holmes Lucida family (Lucida\n  Sans, Lucida Bright, and Lucida Typewriter) are no longer available to\n  applications from the JDK.</p>\n  \n  <p>If applications rely on fonts shipped in the JDK, they may need to be\n  updated.</p>\n  \n  <p>If system adminstrators are running Java server applications that rely\n  on fonts shipped in the JDK rather than on system font packages, then\n  the applications may fail to run until the system font packages are\n  installed.</p>\n</blockquote>\n\n<p>Go back to previous version of JDK or you can try upgrading Jasper.</p>\n"},{"tags":[],"owner":{"account_id":2834766,"reputation":51,"user_id":2435566,"display_name":"AntimoV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579788436,"creation_date":1579788436,"answer_id":59880482,"question_id":3628302,"body_markdown":"for my case, jasperreports 6.8.0, worked the change of project dependency xml-apis from version\r\n\r\n\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nto \r\n\r\n\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nas proposed in jaspersoft community forum https://community.jaspersoft.com/questions/825173/could-not-initialize-class-netsfjasperreportsengineutiljrstyledtextparser","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>for my case, jasperreports 6.8.0, worked the change of project dependency xml-apis from version</p>\n\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;1.4.01&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>as proposed in jaspersoft community forum <a href=\"https://community.jaspersoft.com/questions/825173/could-not-initialize-class-netsfjasperreportsengineutiljrstyledtextparser\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/questions/825173/could-not-initialize-class-netsfjasperreportsengineutiljrstyledtextparser</a></p>\n"},{"tags":[],"owner":{"account_id":18161381,"reputation":341,"user_id":13212712,"display_name":"Davi Carrano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594817467,"creation_date":1594812276,"answer_id":62913767,"question_id":3628302,"body_markdown":"I had to install the xfce4 font package in my alpine linux. In fact, I&#39;m using docker. So, I put the following command in the dockerfile:\r\n```\r\nRUN apk add xfce4\r\n```","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>I had to install the xfce4 font package in my alpine linux. In fact, I'm using docker. So, I put the following command in the dockerfile:</p>\n<pre><code>RUN apk add xfce4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602505569,"creation_date":1602505569,"answer_id":64317884,"question_id":3628302,"body_markdown":"This was due to a missing font. I was able to resolve this by installing fontconfig and urw-fonts packages.\r\n\r\n    yum install fontconfig\r\n    yum install urw-fonts\r\n\r\n\r\nAfter that you can check supported fonts using command \r\n\r\n    fc-list\r\n\r\nIf the reports are still not generated you may need to reboot the server.\r\n\r\n","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>This was due to a missing font. I was able to resolve this by installing fontconfig and urw-fonts packages.</p>\n<pre><code>yum install fontconfig\nyum install urw-fonts\n</code></pre>\n<p>After that you can check supported fonts using command</p>\n<pre><code>fc-list\n</code></pre>\n<p>If the reports are still not generated you may need to reboot the server.</p>\n"},{"tags":[],"owner":{"account_id":2609455,"reputation":59,"user_id":2259855,"display_name":"rodrigomelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662067710,"creation_date":1662067710,"answer_id":73575595,"question_id":3628302,"body_markdown":"Worked fine for me just installing the fontconfig library on the so.\r\n\r\n    apt install fontconfig","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>Worked fine for me just installing the fontconfig library on the so.</p>\n<pre><code>apt install fontconfig\n</code></pre>\n"}],"owner":{"account_id":36149,"reputation":1113,"user_id":102977,"accept_rate":60,"display_name":"Esteve Camps"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67404,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":3651196,"answer_count":12,"score":30,"last_activity_date":1689672573,"creation_date":1283439095,"question_id":3628302,"body_markdown":"When trying to export on WebLogic 11g, it throws NoClassDefFound exception. I checked the application WAR and jasperreports-3.7.4.jar is included in WEB-INF/lib folder. What is the error?\r\n\r\n**StackTrace**\r\n\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; net/sf/jasperreports/engine/util/JRStyledTextParser\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRBaseFiller.(JRBaseFiller.java:181)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:76)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:86)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:56)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRFiller.createFiller(JRFiller.java:142)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:78)\r\n&gt; \tat\r\n&gt; net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:624)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.view.jasperreports.AbstractJasperReportsView.fillReport(AbstractJasperReportsView.java:676)\r\n&gt; \tat","title":"JasperReports NoClassDefFoundError exception on net.sf.jasperreports.engine.util.JRStyledTextParser","body":"<p>When trying to export on WebLogic 11g, it throws NoClassDefFound exception. I checked the application WAR and jasperreports-3.7.4.jar is included in WEB-INF/lib folder. What is the error?</p>\n\n<p><strong>StackTrace</strong></p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError:\n  net/sf/jasperreports/engine/util/JRStyledTextParser\n    at\n  net.sf.jasperreports.engine.fill.JRBaseFiller.(JRBaseFiller.java:181)\n    at\n  net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:76)\n    at\n  net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:86)\n    at\n  net.sf.jasperreports.engine.fill.JRVerticalFiller.(JRVerticalFiller.java:56)\n    at\n  net.sf.jasperreports.engine.fill.JRFiller.createFiller(JRFiller.java:142)\n    at\n  net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:78)\n    at\n  net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:624)\n    at\n  org.springframework.web.servlet.view.jasperreports.AbstractJasperReportsView.fillReport(AbstractJasperReportsView.java:676)\n    at</p>\n</blockquote>\n"},{"tags":["java","android","decompiling","recompile"],"comments":[{"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":7,"creation_date":1347368790,"post_id":12370326,"comment_id":16614853,"body_markdown":"Surely, you&#39;d build the Java files the same way any Android developer would, using the Android SDK.","body":"Surely, you&#39;d build the Java files the same way any Android developer would, using the Android SDK."}],"answers":[{"tags":[],"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1586716402,"creation_date":1347370527,"answer_id":12370973,"question_id":12370326,"body_markdown":"Thanks to  Chris Jester-Young I managed to make it work!\r\n\r\nI think the way I managed to do it will work only on really simple projects:\r\n\r\n - With Dex2jar I obtained the Jar.\r\n - With jd-gui I convert my Jar back to Java files.\r\n - With apktool i got the android manifest and the resources files.\r\n\r\n - In Eclipse I create a new project with the same settings as the old one (checking all the information in the manifest file)\r\n - When the project is created I&#39;m replacing all the resources and the manifest with the ones I obtained with apktool\r\n - I paste the java files I extracted from the Jar in the src folder (respecting the packages)\r\n - I modify those files with what I need\r\n - Everything is compiling! \r\n\r\n/!\\ be sure you removed the old apk from the device an error will be thrown stating that the apk signature is not the same as the old one!","title":"Decompile an APK, modify it and then recompile it","body":"<p>Thanks to  Chris Jester-Young I managed to make it work!</p>\n\n<p>I think the way I managed to do it will work only on really simple projects:</p>\n\n<ul>\n<li>With Dex2jar I obtained the Jar.</li>\n<li>With jd-gui I convert my Jar back to Java files.</li>\n<li><p>With apktool i got the android manifest and the resources files.</p></li>\n<li><p>In Eclipse I create a new project with the same settings as the old one (checking all the information in the manifest file)</p></li>\n<li>When the project is created I'm replacing all the resources and the manifest with the ones I obtained with apktool</li>\n<li>I paste the java files I extracted from the Jar in the src folder (respecting the packages)</li>\n<li>I modify those files with what I need</li>\n<li>Everything is compiling! </li>\n</ul>\n\n<p>/!\\ be sure you removed the old apk from the device an error will be thrown stating that the apk signature is not the same as the old one!</p>\n"},{"tags":[],"owner":{"account_id":1741941,"reputation":127,"user_id":1593095,"display_name":"vikram wadhwa"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1453294490,"creation_date":1362979702,"answer_id":15331773,"question_id":12370326,"body_markdown":"1. First download the dex2jar tool from Following link\r\n          http://code.google.com/p/dex2jar/downloads/list\r\n\r\n2. Extract the file it create `dex2jar` folder\r\n\r\n3. Now you pick your apk file and change its extension .apk to .zip after changing extension it seems to be zip file then extract this zip file you found `classes.dex` file\r\n\r\n4. Now pick classes.dex file and put it into `dex2jar` folder\r\n\r\n5. Now open cmd window and type the path of `dex2jar` folder\r\n\r\n6. Now type the command `dex2jar.bat classes.dex` and  press Enter \r\n\r\n7. Now Open the `dex2jar` folder you found  `classes_dex2jar.jar` file\r\n\r\n8. Next you download the java decompiler tool from the following link\r\nhttp://java.decompiler.free.fr/?q=jdgui\r\n\r\n9. Last Step Open the file `classes_dex2jar.jar` in java decompiler tool  now you can see apk code ","title":"Decompile an APK, modify it and then recompile it","body":"<ol>\n<li><p>First download the dex2jar tool from Following link\n      <a href=\"http://code.google.com/p/dex2jar/downloads/list\" rel=\"nofollow\">http://code.google.com/p/dex2jar/downloads/list</a></p></li>\n<li><p>Extract the file it create <code>dex2jar</code> folder</p></li>\n<li><p>Now you pick your apk file and change its extension .apk to .zip after changing extension it seems to be zip file then extract this zip file you found <code>classes.dex</code> file</p></li>\n<li><p>Now pick classes.dex file and put it into <code>dex2jar</code> folder</p></li>\n<li><p>Now open cmd window and type the path of <code>dex2jar</code> folder</p></li>\n<li><p>Now type the command <code>dex2jar.bat classes.dex</code> and  press Enter </p></li>\n<li><p>Now Open the <code>dex2jar</code> folder you found  <code>classes_dex2jar.jar</code> file</p></li>\n<li><p>Next you download the java decompiler tool from the following link\n<a href=\"http://java.decompiler.free.fr/?q=jdgui\" rel=\"nofollow\">http://java.decompiler.free.fr/?q=jdgui</a></p></li>\n<li><p>Last Step Open the file <code>classes_dex2jar.jar</code> in java decompiler tool  now you can see apk code </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1560426,"reputation":8053,"user_id":1450401,"accept_rate":61,"display_name":"edwin"},"down_vote_count":9,"up_vote_count":47,"is_accepted":false,"score":38,"last_activity_date":1689672380,"creation_date":1392014332,"answer_id":21670560,"question_id":12370326,"body_markdown":"I know this question is answered still, I would like to pass an information how to get source code from apk with out dexjar.\r\n\r\nThere is [**an online decompiler** for android apks](http://www.decompileandroid.com/)\r\n\r\n 1. Upload apk from local machine\r\n 2. Wait some moments\r\n 3. Download source code in zip format\r\n 4. Extract zip\r\n 5. Check is the code compiles\r\n 6. Feel free to make your changes\r\n\r\nI don&#39;t know how reliable is this.\r\n\r\n**@darkheir** Answer is the manual way to do decompile apk. It helps us to understand different phases in Apk creation. \r\n\r\n\r\nReport so many ads on this links\r\n&lt;s&gt;Another online Apk De-compiler **@Andrew Rukin** : http://www.javadecompilers.com/apk &lt;/s&gt;\r\n \r\nStill worth. Hats Off to creators.\r\n","title":"Decompile an APK, modify it and then recompile it","body":"<p>I know this question is answered still, I would like to pass an information how to get source code from apk with out dexjar.</p>\n<p>There is <a href=\"http://www.decompileandroid.com/\" rel=\"nofollow noreferrer\"><strong>an online decompiler</strong> for android apks</a></p>\n<ol>\n<li>Upload apk from local machine</li>\n<li>Wait some moments</li>\n<li>Download source code in zip format</li>\n<li>Extract zip</li>\n<li>Check is the code compiles</li>\n<li>Feel free to make your changes</li>\n</ol>\n<p>I don't know how reliable is this.</p>\n<p><strong>@darkheir</strong> Answer is the manual way to do decompile apk. It helps us to understand different phases in Apk creation.</p>\n<p>Report so many ads on this links\n<s>Another online Apk De-compiler <strong>@Andrew Rukin</strong> : <a href=\"http://www.javadecompilers.com/apk\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com/apk</a> </s></p>\n<p>Still worth. Hats Off to creators.</p>\n"},{"tags":[],"owner":{"account_id":5247366,"reputation":61,"user_id":4192605,"display_name":"Pradeep Tiwari"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1433570480,"creation_date":1433570480,"answer_id":30679504,"question_id":12370326,"body_markdown":"*dex2jar* with *jd-gui* will give all the java source files but they are not exactly the same. They are almost equivalent .class files (not 100%).\r\nSo if you want to change the code for an apk file: \r\n\r\n - decompile using *apktool*\r\n\r\n - *apktool* will generate smali(Assembly version of dex) file for every java file with same name.\r\n\r\n - smali is human understandable, make changes in the relevant file,\r\n   recompile using same *apktool*(`apktool b Nw.apk &lt;Folder Containing Modified Files&gt;`)\r\n","title":"Decompile an APK, modify it and then recompile it","body":"<p><em>dex2jar</em> with <em>jd-gui</em> will give all the java source files but they are not exactly the same. They are almost equivalent .class files (not 100%).\nSo if you want to change the code for an apk file: </p>\n\n<ul>\n<li><p>decompile using <em>apktool</em></p></li>\n<li><p><em>apktool</em> will generate smali(Assembly version of dex) file for every java file with same name.</p></li>\n<li><p>smali is human understandable, make changes in the relevant file,\nrecompile using same <em>apktool</em>(<code>apktool b Nw.apk &lt;Folder Containing Modified Files&gt;</code>)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":399131,"reputation":16399,"user_id":2296787,"accept_rate":79,"display_name":"MBH"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471356907,"creation_date":1453124921,"answer_id":34856300,"question_id":12370326,"body_markdown":"I know this question has been answered and I am not trying to give better answer here. I&#39;ll just share my experience in this topic.\r\n\r\nOnce I lost my code and I had the `apk` file only. I decompiled it using the tool below and it made my day.\r\n\r\nThese tools MUST be used in such situation, otherwise, it is unethical and even sometimes it is illegal, (stealing somebody else&#39;s effort). So please use it wisely.\r\n\r\n\r\nThose are my favorite tools for doing that:\r\n\r\n[javadecompilers.com][1]\r\n\r\nand to get the apk from google play you can google it or check out those sites:\r\n\r\n - [apk-dl.com][2]\r\n\r\n - [apkpure.com][3]\r\n\r\n\r\n\r\nOn the date of posting this answer I tested all the links and it worked perfect for me.\r\n\r\n\r\n**NOTE:** Apk Decompiling is not effective in case of proguarded code. Because [Proguard][4] shrink and obfuscates the code and rename classes to nonsense names which make it fairly hard to understand the code.\r\n\r\n**Bonus:**\r\n\r\n[Basic tutorial of Using Proguard][5]:\r\n\r\n  [1]: http://www.javadecompilers.com/apk\r\n  [2]: http://apk-dl.com/\r\n  [3]: https://apkpure.com/\r\n  [4]: http://proguard.sourceforge.net/\r\n  [5]: http://developer.android.com/tools/help/proguard.html","title":"Decompile an APK, modify it and then recompile it","body":"<p>I know this question has been answered and I am not trying to give better answer here. I'll just share my experience in this topic.</p>\n\n<p>Once I lost my code and I had the <code>apk</code> file only. I decompiled it using the tool below and it made my day.</p>\n\n<p>These tools MUST be used in such situation, otherwise, it is unethical and even sometimes it is illegal, (stealing somebody else's effort). So please use it wisely.</p>\n\n<p>Those are my favorite tools for doing that:</p>\n\n<p><a href=\"http://www.javadecompilers.com/apk\" rel=\"noreferrer\">javadecompilers.com</a></p>\n\n<p>and to get the apk from google play you can google it or check out those sites:</p>\n\n<ul>\n<li><p><a href=\"http://apk-dl.com/\" rel=\"noreferrer\">apk-dl.com</a></p></li>\n<li><p><a href=\"https://apkpure.com/\" rel=\"noreferrer\">apkpure.com</a></p></li>\n</ul>\n\n<p>On the date of posting this answer I tested all the links and it worked perfect for me.</p>\n\n<p><strong>NOTE:</strong> Apk Decompiling is not effective in case of proguarded code. Because <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">Proguard</a> shrink and obfuscates the code and rename classes to nonsense names which make it fairly hard to understand the code.</p>\n\n<p><strong>Bonus:</strong></p>\n\n<p><a href=\"http://developer.android.com/tools/help/proguard.html\" rel=\"noreferrer\">Basic tutorial of Using Proguard</a>:</p>\n"},{"tags":[],"owner":{"account_id":3202517,"reputation":9,"user_id":3578090,"display_name":"quyet"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1494811218,"creation_date":1494809648,"answer_id":43970204,"question_id":12370326,"body_markdown":"This is a way:\n\n1. Using `apktool` to decode: \n\n        $ apktool d -f {apkfile} -o {output folder}\n\n2. Next, using JADX (at github.com/skylot/jadx)\n\n        $ jadx -d {output folder} {apkfile}\n\n2 tools extract and decompiler to same output folder.\n\n### Easy way: Using Online APK Decompiler\n* https://apk.tools/tools/apk-decompiler/ (recommended)\n* http://www.javadecompilers.com/apk\n* https://www.apkdecompilers.com","title":"Decompile an APK, modify it and then recompile it","body":"<p>This is a way:</p>\n<ol>\n<li><p>Using <code>apktool</code> to decode:</p>\n<pre><code> $ apktool d -f {apkfile} -o {output folder}\n</code></pre>\n</li>\n<li><p>Next, using JADX (at github.com/skylot/jadx)</p>\n<pre><code> $ jadx -d {output folder} {apkfile}\n</code></pre>\n</li>\n</ol>\n<p>2 tools extract and decompiler to same output folder.</p>\n<h3>Easy way: Using Online APK Decompiler</h3>\n<ul>\n<li><a href=\"https://apk.tools/tools/apk-decompiler/\" rel=\"nofollow noreferrer\">https://apk.tools/tools/apk-decompiler/</a> (recommended)</li>\n<li><a href=\"http://www.javadecompilers.com/apk\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com/apk</a></li>\n<li><a href=\"https://www.apkdecompilers.com\" rel=\"nofollow noreferrer\">https://www.apkdecompilers.com</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13045247,"reputation":11,"user_id":9427283,"display_name":"Thomas P. Wilt"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1519885110,"creation_date":1519885110,"answer_id":49043687,"question_id":12370326,"body_markdown":"I know this question is answered still and I am not trying to be smart here. I&#39;ll just want to share another method on this topic.\r\n\r\nDownload applications with [apk grail][1]\r\n\r\n\r\n  [1]: https://apkgrail.com/\r\n\r\nAPK Grail providing the free zip file of the application.","title":"Decompile an APK, modify it and then recompile it","body":"<p>I know this question is answered still and I am not trying to be smart here. I'll just want to share another method on this topic.</p>\n\n<p>Download applications with <a href=\"https://apkgrail.com/\" rel=\"nofollow noreferrer\">apk grail</a></p>\n\n<p>APK Grail providing the free zip file of the application.</p>\n"},{"tags":[],"owner":{"account_id":124590,"reputation":8425,"user_id":319773,"accept_rate":89,"display_name":"Bevor"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1576423441,"creation_date":1576423441,"answer_id":59345281,"question_id":12370326,"body_markdown":"The answers are already kind of outdated or not complete. This maybe works for non-protected apks (no Proguard), but nowadays nobody deploys an unprotected apk. The way I was able to modify a (my) well-protected apk (Proguard, security check which checks for &quot;hacking tools&quot;, security check, which checks if the app is repackaged with debug mode,...) is via apktool as already mentioned by other ones here. But nobody explained, that you have to sign the app again.\r\n\r\n    apktool d app.apk\r\n    //generates a folder with smali bytecode files. \r\n    \r\n    //Do something with it.\r\n    \r\n    apktool b [folder name] -o modified.apk\r\n    //generates the modified apk.\r\n    \r\n    //and then\r\n    jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore ~/.android/debug.keystore modified.apk androiddebugkey\r\n    //signs the app the the debug key (the password is android)\r\n    \r\n    //this apk can be installed on a device.\r\n    \r\n\r\nIn my test, the original release apk had no logging. After I decompiled with apktool I exchanged a full byte code file without logging by a full byte code file with logging, re-compiled and signed it and I was able to install it on my device.\r\nAfterwards I was able to see the logs in Android Studio as I connected the app to it.\r\n\r\nIn my opinion, decompiling with `dex2jar` and `JD-GUI` is only helpful to get a better understanding what the classes are doing, just for reading purposes. But since everything is proguarded, I&#39;m not sure that you can ever re-compile this half-baked Java code to a working apk. If so, please let me know. I think, the only way is to manipulate the byte code itself as mentioned in this example.","title":"Decompile an APK, modify it and then recompile it","body":"<p>The answers are already kind of outdated or not complete. This maybe works for non-protected apks (no Proguard), but nowadays nobody deploys an unprotected apk. The way I was able to modify a (my) well-protected apk (Proguard, security check which checks for \"hacking tools\", security check, which checks if the app is repackaged with debug mode,...) is via apktool as already mentioned by other ones here. But nobody explained, that you have to sign the app again.</p>\n\n<pre><code>apktool d app.apk\n//generates a folder with smali bytecode files. \n\n//Do something with it.\n\napktool b [folder name] -o modified.apk\n//generates the modified apk.\n\n//and then\njarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore ~/.android/debug.keystore modified.apk androiddebugkey\n//signs the app the the debug key (the password is android)\n\n//this apk can be installed on a device.\n</code></pre>\n\n<p>In my test, the original release apk had no logging. After I decompiled with apktool I exchanged a full byte code file without logging by a full byte code file with logging, re-compiled and signed it and I was able to install it on my device.\nAfterwards I was able to see the logs in Android Studio as I connected the app to it.</p>\n\n<p>In my opinion, decompiling with <code>dex2jar</code> and <code>JD-GUI</code> is only helpful to get a better understanding what the classes are doing, just for reading purposes. But since everything is proguarded, I'm not sure that you can ever re-compile this half-baked Java code to a working apk. If so, please let me know. I think, the only way is to manipulate the byte code itself as mentioned in this example.</p>\n"}],"owner":{"account_id":1338400,"reputation":8872,"user_id":1280608,"accept_rate":89,"display_name":"darkheir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218222,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":12370973,"answer_count":8,"score":88,"last_activity_date":1689672380,"creation_date":1347368464,"question_id":12370326,"body_markdown":"I need to modify an existing APK, modify the sources and then recompile it.\r\n\r\n - I can decompile it using dex2jar or apktool, it&#39;s working great \r\n - From the jar file I can obtain the java sources (using jd-gui)\r\n - Then I can modify the java files\r\n\r\nBut now I would like to know how to recompile the java files and put them back into a jar file! (the jar part should be easy, the main problem seems to be how to recompile the java files for android)\r\n\r\nI know that an other solution is to use apktool and then modify the smali files, but it seems to be really complicated when we want to add a lot of code!\r\n\r\nMy application is a basic a HelloWorld whitout obfuscation.","title":"Decompile an APK, modify it and then recompile it","body":"<p>I need to modify an existing APK, modify the sources and then recompile it.</p>\n\n<ul>\n<li>I can decompile it using dex2jar or apktool, it's working great </li>\n<li>From the jar file I can obtain the java sources (using jd-gui)</li>\n<li>Then I can modify the java files</li>\n</ul>\n\n<p>But now I would like to know how to recompile the java files and put them back into a jar file! (the jar part should be easy, the main problem seems to be how to recompile the java files for android)</p>\n\n<p>I know that an other solution is to use apktool and then modify the smali files, but it seems to be really complicated when we want to add a lot of code!</p>\n\n<p>My application is a basic a HelloWorld whitout obfuscation.</p>\n"},{"tags":["java","android","uncaughtexceptionhandler"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1689673360,"post_id":76708127,"comment_id":135243652,"body_markdown":"`RuntimeException extends Activity` you really don&#39;t want to do this, as this will most likely end up by shooting yourself in your foot in a matter of one week rather than months. Be aware that your `RuntimeExceptionActivity` doesn&#39;t change the nature of the `RuntimeException`s thrown around the code. They still won&#39;t be subclasses of Activity.","body":"<code>RuntimeException extends Activity</code> you really don&#39;t want to do this, as this will most likely end up by shooting yourself in your foot in a matter of one week rather than months. Be aware that your <code>RuntimeExceptionActivity</code> doesn&#39;t change the nature of the <code>RuntimeException</code>s thrown around the code. They still won&#39;t be subclasses of Activity."}],"answers":[{"tags":[],"owner":{"account_id":26177845,"reputation":542,"user_id":19861676,"display_name":"Watermelon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689669545,"creation_date":1689641380,"answer_id":76708897,"question_id":76708127,"body_markdown":"1. You need to call setClass on Intent with valid Activity class to actually start an Activity not Exception.class\r\n\r\n2. when main thread&#39;s uncaught exception occurs, the main event loop is terminated, so when the main thread&#39;s exception handler returns, main thread exit and program terminates.\r\n\r\ndetail of 2.\r\n android main Thread uncaught exception handler is called after the main thread&#39;s event loop exit.  Which means that main Thread eventually return, and OS will kill the process.\r\n\r\n\r\n","title":"UncaughtExceptionHandler can&#39;t start activities","body":"<ol>\n<li><p>You need to call setClass on Intent with valid Activity class to actually start an Activity not Exception.class</p>\n</li>\n<li><p>when main thread's uncaught exception occurs, the main event loop is terminated, so when the main thread's exception handler returns, main thread exit and program terminates.</p>\n</li>\n</ol>\n<p>detail of 2.\nandroid main Thread uncaught exception handler is called after the main thread's event loop exit.  Which means that main Thread eventually return, and OS will kill the process.</p>\n"},{"tags":[],"owner":{"account_id":17292219,"reputation":146,"user_id":12523577,"display_name":"viethoang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689672156,"creation_date":1689672156,"answer_id":76711290,"question_id":76708127,"body_markdown":"Should kill process after calling `startActivity`\r\n\r\n    static final class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\r\n            @Override\r\n            public void uncaughtException(@NonNull Thread t, @NonNull Throwable e) {\r\n                context.startActivity(new Intent()\r\n                                .setClass(context, RuntimeException.class)\r\n                                .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                                /*.putExtra(&quot;u&quot;, true).putExtra(&quot;e&quot;, e)*/);\r\n                 android.os.Process.killProcess(android.os.Process.myPid());\r\n                 System.exit(0);\r\n            }\r\n        }\r\n\r\n   ","title":"UncaughtExceptionHandler can&#39;t start activities","body":"<p>Should kill process after calling <code>startActivity</code></p>\n<pre><code>static final class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\n        @Override\n        public void uncaughtException(@NonNull Thread t, @NonNull Throwable e) {\n            context.startActivity(new Intent()\n                            .setClass(context, RuntimeException.class)\n                            .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                            /*.putExtra(&quot;u&quot;, true).putExtra(&quot;e&quot;, e)*/);\n             android.os.Process.killProcess(android.os.Process.myPid());\n             System.exit(0);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76711290,"answer_count":2,"score":0,"last_activity_date":1689672156,"creation_date":1689628575,"question_id":76708127,"body_markdown":"I can&#39;t find a solution to this problem. I have created an Application class, where I am setting the default uncaught exception handler, and I want to start an activity from there when an exception occurrs:\r\n```\r\npublic final class Application extends android.app.Application {\r\n\tpublic Application() {\r\n\t\tThread.setDefaultUncaughtExceptionHandler(new Application.UncaughtExceptionHandler());\r\n\t}\r\n\tstatic Context context;\r\n\r\n\tstatic final class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\r\n\t\t@Override\r\n\t\tpublic void uncaughtException(@NonNull Thread t, @NonNull Throwable e) {\r\n\t\t\tcontext.startActivity(new Intent()\r\n\t\t\t\t\t\t\t.setClass(context, RuntimeException.class)\r\n\t\t\t\t\t\t\t.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n\t\t\t\t\t\t\t/*.putExtra(&quot;u&quot;, true).putExtra(&quot;e&quot;, e)*/);\r\n\t\t\t//System.exit(0);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onCreate() {\r\n\t\tsuper.onCreate();\r\n\t\tcontext = getApplicationContext();\r\n\t}\r\n}\r\n```\r\nThis is the RuntimeException class, it is also defined in the manifest:\r\n```\r\npublic class RuntimeException extends Activity {\r\n\t@Override\r\n\tprotected void onCreate(@Nullable Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.a_exception);\r\n\r\n\t\tBundle extras = getIntent().getExtras();\r\n\t\tboolean uncaught = extras.getBoolean(&quot;u&quot;, false);\r\n\t\tThrowable exception = (Throwable) extras.get(&quot;e&quot;);\r\n\r\n\t\tString exceptionType;\r\n\t\tif (uncaught) exceptionType = &quot;Uncaught exception:\\n&quot;; else exceptionType = &quot;Exception:\\n&quot;;\r\n\r\n\t\tTextView msg = findViewById(R.id.ex_msg);\r\n\t\tmsg.setText(exceptionType + exception.getLocalizedMessage());\r\n\t}\r\n}\r\n```\r\nThis is the manifest:\r\n```\r\n&lt;application\r\n        android:name=&quot;.application.Application&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyTheme&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activity.Launcher&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.activity.FileList&quot;/&gt;\r\n        &lt;activity android:name=&quot;.activity.RuntimeException&quot;/&gt;\r\n    &lt;/application&gt;\r\n```","title":"UncaughtExceptionHandler can&#39;t start activities","body":"<p>I can't find a solution to this problem. I have created an Application class, where I am setting the default uncaught exception handler, and I want to start an activity from there when an exception occurrs:</p>\n<pre><code>public final class Application extends android.app.Application {\n    public Application() {\n        Thread.setDefaultUncaughtExceptionHandler(new Application.UncaughtExceptionHandler());\n    }\n    static Context context;\n\n    static final class UncaughtExceptionHandler implements Thread.UncaughtExceptionHandler {\n        @Override\n        public void uncaughtException(@NonNull Thread t, @NonNull Throwable e) {\n            context.startActivity(new Intent()\n                            .setClass(context, RuntimeException.class)\n                            .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                            /*.putExtra(&quot;u&quot;, true).putExtra(&quot;e&quot;, e)*/);\n            //System.exit(0);\n        }\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context = getApplicationContext();\n    }\n}\n</code></pre>\n<p>This is the RuntimeException class, it is also defined in the manifest:</p>\n<pre><code>public class RuntimeException extends Activity {\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.a_exception);\n\n        Bundle extras = getIntent().getExtras();\n        boolean uncaught = extras.getBoolean(&quot;u&quot;, false);\n        Throwable exception = (Throwable) extras.get(&quot;e&quot;);\n\n        String exceptionType;\n        if (uncaught) exceptionType = &quot;Uncaught exception:\\n&quot;; else exceptionType = &quot;Exception:\\n&quot;;\n\n        TextView msg = findViewById(R.id.ex_msg);\n        msg.setText(exceptionType + exception.getLocalizedMessage());\n    }\n}\n</code></pre>\n<p>This is the manifest:</p>\n<pre><code>&lt;application\n        android:name=&quot;.application.Application&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyTheme&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activity.Launcher&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.activity.FileList&quot;/&gt;\n        &lt;activity android:name=&quot;.activity.RuntimeException&quot;/&gt;\n    &lt;/application&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1689669196,"post_id":76710660,"comment_id":135242706,"body_markdown":"Can you show the mapping of the `code` field using the following command `GET index/_mapping/field/code` ?","body":"Can you show the mapping of the <code>code</code> field using the following command <code>GET index&#47;_mapping&#47;field&#47;code</code> ?"},{"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"score":0,"creation_date":1689669321,"post_id":76710660,"comment_id":135242728,"body_markdown":"The mapping looks like this: {\n        &quot;mappings&quot;: {\n            &quot;code&quot;: {\n                &quot;full_name&quot;: &quot;code&quot;,\n                &quot;mapping&quot;: {\n                    &quot;code&quot;: {\n                        &quot;type&quot;: &quot;text&quot;,\n                        &quot;fields&quot;: {\n                            &quot;keys&quot;: {\n                                &quot;type&quot;: &quot;keyword&quot;,\n                                &quot;normalizer&quot;: &quot;lowercase_normalizer&quot;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }","body":"The mapping looks like this: {         &quot;mappings&quot;: {             &quot;code&quot;: {                 &quot;full_name&quot;: &quot;code&quot;,                 &quot;mapping&quot;: {                     &quot;code&quot;: {                         &quot;type&quot;: &quot;text&quot;,                         &quot;fields&quot;: {                             &quot;keys&quot;: {                                 &quot;type&quot;: &quot;keyword&quot;,                                 &quot;normalizer&quot;: &quot;lowercase_normalizer&quot;                             }                         }                     }                 }             }         }     }"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689671678,"creation_date":1689669696,"answer_id":76710947,"question_id":76710660,"body_markdown":"The `code` field is a `text` field analyzed by the `standard` analyzer. This means that `AB-001-123-B` is analyzed into the following tokens:\r\n\r\n    GET _analyze\r\n    {\r\n      &quot;analyzer&quot;: &quot;standard&quot;,\r\n      &quot;text&quot;: &quot;AB-001-123-B&quot;\r\n    }\r\n\r\n    Response =&gt;\r\n    {\r\n      &quot;tokens&quot; : [\r\n        {\r\n          &quot;token&quot; : &quot;ab&quot;,\r\n          &quot;start_offset&quot; : 0,\r\n          &quot;end_offset&quot; : 2,\r\n          &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot; : 0\r\n        },\r\n        {\r\n          &quot;token&quot; : &quot;001&quot;,\r\n          &quot;start_offset&quot; : 3,\r\n          &quot;end_offset&quot; : 6,\r\n          &quot;type&quot; : &quot;&lt;NUM&gt;&quot;,\r\n          &quot;position&quot; : 1\r\n        },\r\n        {\r\n          &quot;token&quot; : &quot;123&quot;,\r\n          &quot;start_offset&quot; : 7,\r\n          &quot;end_offset&quot; : 10,\r\n          &quot;type&quot; : &quot;&lt;NUM&gt;&quot;,\r\n          &quot;position&quot; : 2\r\n        },\r\n        {\r\n          &quot;token&quot; : &quot;b&quot;,\r\n          &quot;start_offset&quot; : 11,\r\n          &quot;end_offset&quot; : 12,\r\n          &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot; : 3\r\n        }\r\n      ]\r\n    }\r\n\r\nThe `match_phrase_prefix` is not ideal for your use case. It would be better to query the `code.keys` field using a `prefix` query, like this:\r\n\r\n    &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n                &quot;should&quot;: [\r\n                    {\r\n                        &quot;prefix&quot;: {\r\n                            &quot;code.keys&quot;: &quot;AB-001&quot;\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n    ...\r\n","title":"Elasticsearch: match_phrase_prefix can&#39;t find items when search query ends with &#39;0&#39;","body":"<p>The <code>code</code> field is a <code>text</code> field analyzed by the <code>standard</code> analyzer. This means that <code>AB-001-123-B</code> is analyzed into the following tokens:</p>\n<pre><code>GET _analyze\n{\n  &quot;analyzer&quot;: &quot;standard&quot;,\n  &quot;text&quot;: &quot;AB-001-123-B&quot;\n}\n\nResponse =&gt;\n{\n  &quot;tokens&quot; : [\n    {\n      &quot;token&quot; : &quot;ab&quot;,\n      &quot;start_offset&quot; : 0,\n      &quot;end_offset&quot; : 2,\n      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot; : 0\n    },\n    {\n      &quot;token&quot; : &quot;001&quot;,\n      &quot;start_offset&quot; : 3,\n      &quot;end_offset&quot; : 6,\n      &quot;type&quot; : &quot;&lt;NUM&gt;&quot;,\n      &quot;position&quot; : 1\n    },\n    {\n      &quot;token&quot; : &quot;123&quot;,\n      &quot;start_offset&quot; : 7,\n      &quot;end_offset&quot; : 10,\n      &quot;type&quot; : &quot;&lt;NUM&gt;&quot;,\n      &quot;position&quot; : 2\n    },\n    {\n      &quot;token&quot; : &quot;b&quot;,\n      &quot;start_offset&quot; : 11,\n      &quot;end_offset&quot; : 12,\n      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot; : 3\n    }\n  ]\n}\n</code></pre>\n<p>The <code>match_phrase_prefix</code> is not ideal for your use case. It would be better to query the <code>code.keys</code> field using a <code>prefix</code> query, like this:</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;should&quot;: [\n                {\n                    &quot;prefix&quot;: {\n                        &quot;code.keys&quot;: &quot;AB-001&quot;\n                    }\n                }\n            ]\n        }\n    },\n...\n</code></pre>\n"}],"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76710947,"answer_count":1,"score":0,"last_activity_date":1689671678,"creation_date":1689667375,"question_id":76710660,"body_markdown":"In my Elastic i&#39;m having this entry: AB-001-123-B\r\n\r\nWhen running a query with match_phrase_prefix like this: \r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;should&quot;: [\r\n                {\r\n                    &quot;match_phrase_prefix&quot;: {\r\n                        &quot;code&quot;: &quot;AB-00&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n...\r\n```\r\nI don&#39;t get any results. \r\nWhen changing the code to\r\n\r\n```\r\n&quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;should&quot;: [\r\n                {\r\n                    &quot;match_phrase_prefix&quot;: {\r\n                        &quot;code&quot;: &quot;AB-001&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n...\r\n```\r\nIt returns the entry. When removing `-00` from the code it returns the entry as well.\r\n\r\nI did several tests with other entries. It seems like he is not able to query when the search-phrase ends with 0. \r\n\r\nWhy is that? Is there a way to fix this for the query? I tried escaping, without any effects.\r\n","title":"Elasticsearch: match_phrase_prefix can&#39;t find items when search query ends with &#39;0&#39;","body":"<p>In my Elastic i'm having this entry: AB-001-123-B</p>\n<p>When running a query with match_phrase_prefix like this:</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;should&quot;: [\n                {\n                    &quot;match_phrase_prefix&quot;: {\n                        &quot;code&quot;: &quot;AB-00&quot;\n                    }\n                }\n            ]\n        }\n    },\n...\n</code></pre>\n<p>I don't get any results.\nWhen changing the code to</p>\n<pre><code>&quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;should&quot;: [\n                {\n                    &quot;match_phrase_prefix&quot;: {\n                        &quot;code&quot;: &quot;AB-001&quot;\n                    }\n                }\n            ]\n        }\n    },\n...\n</code></pre>\n<p>It returns the entry. When removing <code>-00</code> from the code it returns the entry as well.</p>\n<p>I did several tests with other entries. It seems like he is not able to query when the search-phrase ends with 0.</p>\n<p>Why is that? Is there a way to fix this for the query? I tried escaping, without any effects.</p>\n"},{"tags":["java","docker","gradle","gitlab","micronaut"],"answers":[{"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688629316,"creation_date":1688629316,"answer_id":76626555,"question_id":69223414,"body_markdown":"I&#39;ve get the same issue, and so far I wasn&#39;t able to solve it (having a docker daemon alongside the jdk container, entreprise restriction :/)\r\nBut, there is a workaround, is using the [gradle-jib-plugin][1], which will let you build docker images for each of your module, and thus without any docker daemon (magic !)\r\n\r\n\r\n  [1]: https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin","title":"Building Micronaut docker image in GitlabRunner with docker executor","body":"<p>I've get the same issue, and so far I wasn't able to solve it (having a docker daemon alongside the jdk container, entreprise restriction :/)\nBut, there is a workaround, is using the <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin\" rel=\"nofollow noreferrer\">gradle-jib-plugin</a>, which will let you build docker images for each of your module, and thus without any docker daemon (magic !)</p>\n"}],"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1689671511,"creation_date":1631881567,"question_id":69223414,"body_markdown":"**TLDR:** How can one build docker images with Gradle inside a Openjdk container? \r\n\r\n# The problem\r\n\r\nWe are building a [Micronaut] based suite of microservices in a multi-module Gradle project using GitLab pipelines. \r\n\r\nCurrently our pipeline builds docker images in a separate pipeline stage using docker command line, but it is starting to become unwieldy and cumbersome to add new services that way.\r\n\r\nSo instead of having separate pipeline steps for building the executable and then building docker images for each executable, I am looking into building the docker images right along with the main build step using gradle.\r\n\r\n[Micronaut&#39;s gradle plugin][micronaut-gradle-plugin] includes and extends [gradle-docker-plugin] and allows building docker images using `dockerBuild` task.\r\n\r\nThe whole Gradle build step is executed from within `openjdk:14` docker image by custom private `gradle-runner` instance, so that container doesn&#39;t have any docker related bits on it.\r\n\r\n\r\n# What I&#39;ve tried so far\r\n\r\n## The naive approach\r\n\r\nMy first attempt was to simply add `dockerBuild` target to the Gradle command line. That one failed as expected with the following stacktrace (abbreviated for the sake of clarity):\r\n\r\n```\r\nExecution failed for task &#39;:my-service:dockerBuild&#39;.\r\n&gt; com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-service:dockerBuild&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\t/.../\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n&gt; Task :my-service:dockerBuild FAILED\r\nBuilding image using context &#39;/builds/my-group/my-project/my-service/build/docker&#39;.\r\nUsing Dockerfile &#39;/builds/my-group/my-project/my-service/build/docker/Dockerfile&#39;\r\nUsing images &#39;registry.gitlab.com/my-group/my-project/my-service:1.0.1-SNAPSHOT+4b9f8460.179&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\t/.../\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: java.lang.RuntimeException: com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:153)\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\r\n\tat com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\r\n\tat com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\nCaused by: com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\r\n\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.socket.PlainConnectionSocketFactory$1.run(PlainConnectionSocketFactory.java:87)\r\n\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:84)\r\n\t/.../\r\n\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:67)\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:149)\r\n\t... 3 more\r\n```\r\n\r\n\r\nAfter some initial headschratching I figured out that this was basically caused by the fact that a build running in a container simply did not have access to docker engine remote api.\r\n\r\n## Docker socket approach\r\n\r\nCouple of mediocre applications of _Google-Fu_ later, I found the recommendation to map `/var/run/docker.sock` into the container file system.\r\n\r\nThis prompted me to modify my gitlab-runner configuration:\r\n\r\n```toml\r\n[[runners]]\r\n  name = &quot;gennet-elab jdk runner&quot;\r\n  url = &quot;https://gitlab.com/&quot;\r\n  executor = &quot;docker&quot;\r\n  [runners.docker]\r\n    image = &quot;openjdk:14.0.2-slim&quot;\r\n    volumes = [&quot;/var/run/docker.sock:/var/run/docker.sock&quot;, ...]  \r\n```\r\n\r\nRunning the pipeline with that configuration yielded me the following failure stacktrace:\r\n\r\n```\r\nExecution failed for task &#39;:my-service:dockerBuild&#39;.\r\n&gt; java.io.IOException: native write() failed : Connection reset by peer\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:my-service:dockerBuild&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\r\n \t[...]\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: java.lang.RuntimeException: java.io.IOException: native write() failed : Connection reset by peer\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:153)\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\r\n\tat com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\r\n\tat com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\nCaused by: java.io.IOException: native write() failed : Connection reset by peer\r\n\tat com.github.dockerjava.httpclient5.UnixDomainSocket$UnixSocketOutputStream.write(UnixDomainSocket.java:319)\r\n\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\t[...]\r\n\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:67)\r\n\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:149)\r\n\t... 3 more\r\n\tSuppressed: java.io.IOException: native write() failed : Broken pipe\r\n\t\tat com.github.dockerjava.httpclient5.UnixDomainSocket$UnixSocketOutputStream.write(UnixDomainSocket.java:319)\r\n\t\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\t\tat com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flush(SessionOutputBufferImpl.java:126)\r\n\t\t[...]\r\n\t\tat com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\r\n\t\tat com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\r\n\t\tat com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\n\r\nThis suggests to me, it tries to connect over the socket, but the connection is closed by docker API server.\r\n\r\nFrom all that I can understand, the problem might have something to do with docker api security, but all of the tutorials out there show dind (Docker in Docker) usage and that does not really help my use case.\r\n\r\n\r\nI&#39;ve also tried running the container with privileged access and tried once with dind service attached to the build job, but none of these seemed to work.\r\n\r\n# The Question\r\n\r\nSo, the question for the Great and Powerful Internet is if there is a way to build docker images using Gradle inside openjdk container and leveraging Docker remote API?\r\n\r\nIf yes, what am I missing? If no, what are the alternatives (yes, I know I can probably just create a separate gitlab shell runner, but I&#39;d like to explore the Docker option first)\r\n\r\n[Micronaut]: https://micronaut.io\r\n[micronaut-gradle-plugin]: https://github.com/micronaut-projects/micronaut-gradle-plugin\r\n[gradle-docker-plugin]: https://bmuschko.github.io/gradle-docker-plugin/current/user-guide/\r\n\r\n","title":"Building Micronaut docker image in GitlabRunner with docker executor","body":"<p><strong>TLDR:</strong> How can one build docker images with Gradle inside a Openjdk container?</p>\n<h1>The problem</h1>\n<p>We are building a <a href=\"https://micronaut.io\" rel=\"nofollow noreferrer\">Micronaut</a> based suite of microservices in a multi-module Gradle project using GitLab pipelines.</p>\n<p>Currently our pipeline builds docker images in a separate pipeline stage using docker command line, but it is starting to become unwieldy and cumbersome to add new services that way.</p>\n<p>So instead of having separate pipeline steps for building the executable and then building docker images for each executable, I am looking into building the docker images right along with the main build step using gradle.</p>\n<p><a href=\"https://github.com/micronaut-projects/micronaut-gradle-plugin\" rel=\"nofollow noreferrer\">Micronaut's gradle plugin</a> includes and extends <a href=\"https://bmuschko.github.io/gradle-docker-plugin/current/user-guide/\" rel=\"nofollow noreferrer\">gradle-docker-plugin</a> and allows building docker images using <code>dockerBuild</code> task.</p>\n<p>The whole Gradle build step is executed from within <code>openjdk:14</code> docker image by custom private <code>gradle-runner</code> instance, so that container doesn't have any docker related bits on it.</p>\n<h1>What I've tried so far</h1>\n<h2>The naive approach</h2>\n<p>My first attempt was to simply add <code>dockerBuild</code> target to the Gradle command line. That one failed as expected with the following stacktrace (abbreviated for the sake of clarity):</p>\n<pre><code>Execution failed for task ':my-service:dockerBuild'.\n&gt; com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-service:dockerBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    /.../\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n&gt; Task :my-service:dockerBuild FAILED\nBuilding image using context '/builds/my-group/my-project/my-service/build/docker'.\nUsing Dockerfile '/builds/my-group/my-project/my-service/build/docker/Dockerfile'\nUsing images 'registry.gitlab.com/my-group/my-project/my-service:1.0.1-SNAPSHOT+4b9f8460.179'.\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    /.../\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: java.lang.RuntimeException: com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:153)\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\n    at com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\n    at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\nCaused by: com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.HttpHostConnectException: Connect to http://127.0.0.1:2375 [/127.0.0.1] failed: Connection refused\n    at com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.socket.PlainConnectionSocketFactory$1.run(PlainConnectionSocketFactory.java:87)\n    at com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:84)\n    /.../\n    at com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:67)\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:149)\n    ... 3 more\n</code></pre>\n<p>After some initial headschratching I figured out that this was basically caused by the fact that a build running in a container simply did not have access to docker engine remote api.</p>\n<h2>Docker socket approach</h2>\n<p>Couple of mediocre applications of <em>Google-Fu</em> later, I found the recommendation to map <code>/var/run/docker.sock</code> into the container file system.</p>\n<p>This prompted me to modify my gitlab-runner configuration:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>[[runners]]\n  name = &quot;gennet-elab jdk runner&quot;\n  url = &quot;https://gitlab.com/&quot;\n  executor = &quot;docker&quot;\n  [runners.docker]\n    image = &quot;openjdk:14.0.2-slim&quot;\n    volumes = [&quot;/var/run/docker.sock:/var/run/docker.sock&quot;, ...]  \n</code></pre>\n<p>Running the pipeline with that configuration yielded me the following failure stacktrace:</p>\n<pre><code>Execution failed for task ':my-service:dockerBuild'.\n&gt; java.io.IOException: native write() failed : Connection reset by peer\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':my-service:dockerBuild'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\n    [...]\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: java.lang.RuntimeException: java.io.IOException: native write() failed : Connection reset by peer\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:153)\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\n    at com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\n    at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\nCaused by: java.io.IOException: native write() failed : Connection reset by peer\n    at com.github.dockerjava.httpclient5.UnixDomainSocket$UnixSocketOutputStream.write(UnixDomainSocket.java:319)\n    at com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n    [...]\n    at com.bmuschko.gradle.docker.shaded.org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:67)\n    at com.github.dockerjava.httpclient5.ApacheDockerHttpClientImpl.execute(ApacheDockerHttpClientImpl.java:149)\n    ... 3 more\n    Suppressed: java.io.IOException: native write() failed : Broken pipe\n        at com.github.dockerjava.httpclient5.UnixDomainSocket$UnixSocketOutputStream.write(UnixDomainSocket.java:319)\n        at com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n        at com.bmuschko.gradle.docker.shaded.org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flush(SessionOutputBufferImpl.java:126)\n        [...]\n        at com.github.dockerjava.httpclient5.ApacheDockerHttpClient.execute(ApacheDockerHttpClient.java:8)\n        at com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:228)\n        at com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\n        at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>This suggests to me, it tries to connect over the socket, but the connection is closed by docker API server.</p>\n<p>From all that I can understand, the problem might have something to do with docker api security, but all of the tutorials out there show dind (Docker in Docker) usage and that does not really help my use case.</p>\n<p>I've also tried running the container with privileged access and tried once with dind service attached to the build job, but none of these seemed to work.</p>\n<h1>The Question</h1>\n<p>So, the question for the Great and Powerful Internet is if there is a way to build docker images using Gradle inside openjdk container and leveraging Docker remote API?</p>\n<p>If yes, what am I missing? If no, what are the alternatives (yes, I know I can probably just create a separate gitlab shell runner, but I'd like to explore the Docker option first)</p>\n"},{"tags":["java","serialization","jackson"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689678803,"post_id":76711104,"comment_id":135244759,"body_markdown":"This is just a bad idea. Instead, set `b` to `null` and have Jackson ignore null values instead. Added bonus: You probably won&#39;t even need `a` at all any more (just check `b != null`)","body":"This is just a bad idea. Instead, set <code>b</code> to <code>null</code> and have Jackson ignore null values instead. Added bonus: You probably won&#39;t even need <code>a</code> at all any more (just check <code>b != null</code>)"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1689721213,"post_id":76711104,"comment_id":135252889,"body_markdown":"You can try to use `@JsonAnyGetter` annotation and implement a method which checks any conditions and return as many different fields as you want. Take a look on this example [Jackson diffrent name base of other field value](https://stackoverflow.com/a/75044947/51591)","body":"You can try to use <code>@JsonAnyGetter</code> annotation and implement a method which checks any conditions and return as many different fields as you want. Take a look on this example <a href=\"https://stackoverflow.com/a/75044947/51591\">Jackson diffrent name base of other field value</a>"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689670974,"creation_date":1689670974,"answer_id":76711126,"question_id":76711104,"body_markdown":"You may create your own serializer, something like:\r\n```java\r\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n\r\n    @Override\r\n    public void serialize(MyClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeBooleanField(&quot;a&quot;, value.isA());\r\n        if (value.isA()) {\r\n            gen.writeNumberField(&quot;b&quot;, value.getB());\r\n        }\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nand use it like:\r\n```java\r\n@JsonSerialize(using = MyClassSerializer.class)\r\npublic class MyClass { ... }\r\n```","title":"How to make Jackson ignore the serialization of field b if field a is false when serializing","body":"<p>You may create your own serializer, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n\n    @Override\n    public void serialize(MyClass value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartObject();\n        gen.writeBooleanField(&quot;a&quot;, value.isA());\n        if (value.isA()) {\n            gen.writeNumberField(&quot;b&quot;, value.getB());\n        }\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>and use it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonSerialize(using = MyClassSerializer.class)\npublic class MyClass { ... }\n</code></pre>\n"}],"owner":{"account_id":15942701,"reputation":3,"user_id":11504136,"display_name":"MiaoZi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689670974,"creation_date":1689670747,"question_id":76711104,"body_markdown":"When using jackson serialization, field b is ignored when field a is false\r\n```\r\npublic class MyClass {\r\n    private boolean a;\r\n    private int b;\r\n}\r\n```\r\n\r\nI haven&#39;t found a solution yet，Trying to use @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = AlarmConfig.TrueFilter.class) only works for single field","title":"How to make Jackson ignore the serialization of field b if field a is false when serializing","body":"<p>When using jackson serialization, field b is ignored when field a is false</p>\n<pre><code>public class MyClass {\n    private boolean a;\n    private int b;\n}\n</code></pre>\n<p>I haven't found a solution yet，Trying to use @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = AlarmConfig.TrueFilter.class) only works for single field</p>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689670319,"creation_date":1689670319,"answer_id":76711032,"question_id":76710991,"body_markdown":"Seeing as the error is basically a missing import, I&#39;m reasonably sure you can solve this by using a fully qualified name (i.e. `java.time.OffsetDateTime`) in your expression:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;,\r\n        collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\r\npublic interface InstanceMapper {\r\n\r\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(java.time.OffsetDateTime.parse(source.getStartDate()))&quot;)\r\n    InstanceDTO toInstanceDTO(Instance source);\r\n\r\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(source.getStartDate().toString())&quot;)\r\n    Instance toInstance(InstanceDTO source);\r\n}\r\n```","title":"Use @Mapping with expression to parse OffsetDateTime","body":"<p>Seeing as the error is basically a missing import, I'm reasonably sure you can solve this by using a fully qualified name (i.e. <code>java.time.OffsetDateTime</code>) in your expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;,\n        collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\npublic interface InstanceMapper {\n\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(java.time.OffsetDateTime.parse(source.getStartDate()))&quot;)\n    InstanceDTO toInstanceDTO(Instance source);\n\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(source.getStartDate().toString())&quot;)\n    Instance toInstance(InstanceDTO source);\n}\n</code></pre>\n"}],"owner":{"account_id":17851747,"reputation":603,"user_id":12967353,"display_name":"Kins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76711032,"answer_count":1,"score":2,"last_activity_date":1689670319,"creation_date":1689670033,"question_id":76710991,"body_markdown":"I am trying to write a Mapper between my internal Entity class and my DTO class using `org.mapstruct.Mapper`. The Entity class contains a field `startDate` of type `String` that is mapped to a field `startDate` of type `OffsetDateTime`.\r\n\r\nTo map those fields I am using `@Mapping` with an expression like this:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;,\r\n        collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\r\npublic interface InstanceMapper {\r\n\r\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(OffsetDateTime.parse(source.getStartDate()))&quot;)\r\n    InstanceDTO toInstanceDTO(Instance source);\r\n\r\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(source.getStartDate().toString())&quot;)\r\n    Instance toInstance(InstanceDTO source);\r\n}\r\n```\r\nThe second `@Mapping` compiles correctly but at compilation I get the following error because of the `@Mapping(target = &quot;startDate&quot;, expression = &quot;java(OffsetDateTime.parse(source.getStartDate()))&quot;)`:\r\n\r\n```\r\n[ERROR] project/target/generated-sources/annotations/path/service/mappers/InstanceMapperImpl.java error: cannot find symbol\r\n[ERROR]   symbol:   variable OffsetDateTime\r\n[ERROR]   location: class InstanceMapperImpl\r\n```\r\n\r\nAdding an unused import to the InstanceMapper.java file does not solve the error, as it seems to be removed at compilation.","title":"Use @Mapping with expression to parse OffsetDateTime","body":"<p>I am trying to write a Mapper between my internal Entity class and my DTO class using <code>org.mapstruct.Mapper</code>. The Entity class contains a field <code>startDate</code> of type <code>String</code> that is mapped to a field <code>startDate</code> of type <code>OffsetDateTime</code>.</p>\n<p>To map those fields I am using <code>@Mapping</code> with an expression like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;,\n        collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\npublic interface InstanceMapper {\n\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(OffsetDateTime.parse(source.getStartDate()))&quot;)\n    InstanceDTO toInstanceDTO(Instance source);\n\n    @Mapping(target = &quot;startDate&quot;, expression = &quot;java(source.getStartDate().toString())&quot;)\n    Instance toInstance(InstanceDTO source);\n}\n</code></pre>\n<p>The second <code>@Mapping</code> compiles correctly but at compilation I get the following error because of the <code>@Mapping(target = &quot;startDate&quot;, expression = &quot;java(OffsetDateTime.parse(source.getStartDate()))&quot;)</code>:</p>\n<pre><code>[ERROR] project/target/generated-sources/annotations/path/service/mappers/InstanceMapperImpl.java error: cannot find symbol\n[ERROR]   symbol:   variable OffsetDateTime\n[ERROR]   location: class InstanceMapperImpl\n</code></pre>\n<p>Adding an unused import to the InstanceMapper.java file does not solve the error, as it seems to be removed at compilation.</p>\n"},{"tags":["java","sql","spring-boot"],"comments":[{"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"score":2,"creation_date":1572524960,"post_id":58643304,"comment_id":103592006,"body_markdown":"Maybe you need add ` from dual` Check this https://stackoverflow.com/questions/45867348/spring-data-jpa-calling-oracle-function","body":"Maybe you need add ` from dual` Check this <a href=\"https://stackoverflow.com/questions/45867348/spring-data-jpa-calling-oracle-function\" title=\"spring data jpa calling oracle function\">stackoverflow.com/questions/45867348/&hellip;</a>"},{"owner":{"account_id":10007233,"reputation":147,"user_id":7401279,"display_name":"Raket Makhim"},"score":0,"creation_date":1572525152,"post_id":58643304,"comment_id":103592126,"body_markdown":"yeah it works now, but why does it work?","body":"yeah it works now, but why does it work?"}],"answers":[{"tags":[],"owner":{"account_id":10007233,"reputation":147,"user_id":7401279,"display_name":"Raket Makhim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572525677,"creation_date":1572525249,"answer_id":58643450,"question_id":58643304,"body_markdown":"The solution: \r\n\r\n    @Query(nativeQuery = true, value = &quot;SELECT package.function(&quot;variables: value&quot;) FROM dual&quot;)\r\n    float getFuction(@Param(&quot;value&quot;) String value);","title":"How do I call a user defined sql function from springboot?","body":"<p>The solution: </p>\n\n<pre><code>@Query(nativeQuery = true, value = \"SELECT package.function(\"variables: value\") FROM dual\")\nfloat getFuction(@Param(\"value\") String value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572525511,"creation_date":1572525511,"answer_id":58643531,"question_id":58643304,"body_markdown":"I think that it should be like that (i do not have chance to check):\r\n```java\r\n@Query(nativeQuery = true, value = &quot;SELECT package.function(:value) FROM dual&quot;)\r\nfloat getFuction(@Param(&quot;value&quot;) String value);\r\n```\r\nIt is based on [this answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50328732/11733759","title":"How do I call a user defined sql function from springboot?","body":"<p>I think that it should be like that (i do not have chance to check):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true, value = \"SELECT package.function(:value) FROM dual\")\nfloat getFuction(@Param(\"value\") String value);\n</code></pre>\n\n<p>It is based on <a href=\"https://stackoverflow.com/a/50328732/11733759\">this answer</a></p>\n"},{"tags":[],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689670040,"creation_date":1689670040,"answer_id":76710995,"question_id":58643304,"body_markdown":"Nice overview about this topic can be found here:\r\nhttps://www.baeldung.com/spring-data-jpa-stored-procedures","title":"How do I call a user defined sql function from springboot?","body":"<p>Nice overview about this topic can be found here:\n<a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-stored-procedures</a></p>\n"}],"owner":{"account_id":10007233,"reputation":147,"user_id":7401279,"display_name":"Raket Makhim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58643531,"answer_count":3,"score":0,"last_activity_date":1689670040,"creation_date":1572524640,"question_id":58643304,"body_markdown":"I&#39;m trying to call a user defined function from PLSQL database, it\r\ntakes several variables and return a single float. \r\n\r\nI&#39;ve tried code like this:\r\n\r\n    @Query(nativeQuery = true, value = &quot;SELECT package.function(&quot;variables: \r\n    value&quot;)\r\n    float getFuction(@Param(&quot;value&quot;) String value);\r\n\r\nThis shows an error saying &quot;FROM keyword was not found where expected.","title":"How do I call a user defined sql function from springboot?","body":"<p>I'm trying to call a user defined function from PLSQL database, it\ntakes several variables and return a single float. </p>\n\n<p>I've tried code like this:</p>\n\n<pre><code>@Query(nativeQuery = true, value = \"SELECT package.function(\"variables: \nvalue\")\nfloat getFuction(@Param(\"value\") String value);\n</code></pre>\n\n<p>This shows an error saying \"FROM keyword was not found where expected.</p>\n"},{"tags":["java","yaml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689748841,"post_id":76707396,"comment_id":135255364,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689669407,"creation_date":1689669407,"answer_id":76710911,"question_id":76707396,"body_markdown":"The [code of `MergedYamlMapping`](https://github.com/decorators-squad/eo-yaml/blob/master/src/main/java/com/amihaiemil/eoyaml/extensions/MergedYamlMapping.java#L183) handles `YamlMapping` values different than simple values. It applies the override to their children, not to the values themselves.  \r\nAs you create `YamlSequence`s their content is always merged.\r\n\r\nIf you want to overwrite the values I you have to use a `MutableYamlMappingBuilder` instead.","title":"eo-yaml: remove item from YamlSequence","body":"<p>The <a href=\"https://github.com/decorators-squad/eo-yaml/blob/master/src/main/java/com/amihaiemil/eoyaml/extensions/MergedYamlMapping.java#L183\" rel=\"nofollow noreferrer\">code of <code>MergedYamlMapping</code></a> handles <code>YamlMapping</code> values different than simple values. It applies the override to their children, not to the values themselves.<br />\nAs you create <code>YamlSequence</code>s their content is always merged.</p>\n<p>If you want to overwrite the values I you have to use a <code>MutableYamlMappingBuilder</code> instead.</p>\n"}],"owner":{"account_id":29036452,"reputation":1,"user_id":22242258,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689669407,"creation_date":1689620467,"question_id":76707396,"body_markdown":"```\r\n        final YamlMapping original = Yaml.createYamlMappingBuilder()\r\n                .add(\r\n                        &quot;some_key&quot;,\r\n                        Yaml.createYamlSequenceBuilder().add(&quot;one&quot;).add(&quot;two&quot;).build()\r\n                )\r\n                .build();\r\n\r\n        final YamlMapping updated = new MergedYamlMapping(\r\n                original,\r\n                () -&gt; Yaml.createYamlMappingBuilder()\r\n                        .add(\r\n                                &quot;some_key&quot;,\r\n                                Yaml.createYamlSequenceBuilder().add(&quot;three&quot;).add(&quot;four&quot;).build()\r\n                        ).build(),\r\n                true\r\n        );\r\n\r\n        System.out.println(updated);\r\n```\r\nprints:\r\n```\r\nsome_key:\r\n  - one\r\n  - two\r\n  - three\r\n  - four\r\n```\r\n\r\nI&#39;m using https://github.com/decorators-squad/eo-yaml.  I&#39;d like to replace a `YamlSequence`, but the old elements are not removed, even when `overrideConflicts=true`.","title":"eo-yaml: remove item from YamlSequence","body":"<pre><code>        final YamlMapping original = Yaml.createYamlMappingBuilder()\n                .add(\n                        &quot;some_key&quot;,\n                        Yaml.createYamlSequenceBuilder().add(&quot;one&quot;).add(&quot;two&quot;).build()\n                )\n                .build();\n\n        final YamlMapping updated = new MergedYamlMapping(\n                original,\n                () -&gt; Yaml.createYamlMappingBuilder()\n                        .add(\n                                &quot;some_key&quot;,\n                                Yaml.createYamlSequenceBuilder().add(&quot;three&quot;).add(&quot;four&quot;).build()\n                        ).build(),\n                true\n        );\n\n        System.out.println(updated);\n</code></pre>\n<p>prints:</p>\n<pre><code>some_key:\n  - one\n  - two\n  - three\n  - four\n</code></pre>\n<p>I'm using <a href=\"https://github.com/decorators-squad/eo-yaml\" rel=\"nofollow noreferrer\">https://github.com/decorators-squad/eo-yaml</a>.  I'd like to replace a <code>YamlSequence</code>, but the old elements are not removed, even when <code>overrideConflicts=true</code>.</p>\n"},{"tags":["java","maven","dependencies","github-actions"],"owner":{"account_id":27295487,"reputation":1,"user_id":22244953,"display_name":"Daniel Martoncă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689669218,"creation_date":1689669218,"question_id":76710890,"body_markdown":"I am encountering an very strange issue on GitHub Actions while trying to run a maven command for integration tests.\r\n\r\nTo give the full context, i am migrating from Jenkins to GitHub actions an insanely huge project consisting of thousands of lines of code and ~200 modules. I have almost completed this, but I missing the integration tests job. All of our GitHub Actions runners are ephemeral so each job is a whole new machine, so I must install maven java etc every single time which I do.\r\n\r\nThe maven commands used to run the integration tests are the following:\r\n\r\n```\r\nrun-integration-tests: \r\n\tmvn clean verify \\\r\n\t\t--update-snapshots \\\r\n\t\t--quiet \\\r\n\t\t-E \\\r\n \t\t-DskipUTs -DskipE2ETests \\\r\n \t\t-Dexec.skip=true  \\\r\n \t\t-Ddocker.logs.show=false \\\r\n \t\t-PJENKINS \\\r\n \t\t-fae\r\n```\r\n(there is a wrapper using a makefile for simplicitity but essentially it runs maven verify)\r\n\r\nNow the problem: since the project has a lot of modules, it take ~1h to complete all these integration tests. After about ~43 minutes, every single time it fails with this error:\r\n\r\n```\r\n2023-07-12T10:57:08.6033494Z [ERROR] Failed to execute goal on project voxbone-fulfillment-e2e-tests: Could not resolve dependencies for project com.voxbone:voxbone-fulfillment-e2e-tests:jar:121.1.1-trunk-85: Failed to collect dependencies at com.voxbone.voxrating:platform-api-tool:jar:4.5.7: Failed to read artifact descriptor for com.voxbone.voxrating:platform-api-tool:jar:4.5.7: The following artifacts could not be resolved: com.voxbone.voxrating:platform-api-tool:pom:4.5.7 (absent): Could not transfer artifact com.voxbone.voxrating:platform-api-tool:pom:4.5.7 from/to central (https://repo1.maven.org/maven2/): Connection reset -&gt; [Help 1]\r\n2023-07-12T10:57:08.6036936Z [ERROR] \r\n2023-07-12T10:57:08.6037446Z [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n2023-07-12T10:57:08.6038000Z [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n2023-07-12T10:57:08.6038345Z [ERROR] \r\n2023-07-12T10:57:08.6038733Z [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n2023-07-12T10:57:08.6039437Z [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n2023-07-12T10:57:08.6039845Z [ERROR] \r\n2023-07-12T10:57:08.6040225Z [ERROR] After correcting the problems, you can resume the build with the command\r\n2023-07-12T10:57:08.6040950Z [ERROR]   mvn &lt;args&gt; -rf :voxbone-fulfillment-e2e-tests\r\n2023-07-12T10:57:08.6993271Z make: *** [makefile:45: run-integration-tests] Error 1\r\n2023-07-12T10:57:08.7004001Z ##[error]Process completed with exit code 2.\r\n```\r\n\r\nWhat I find extremely confusing is that this dependency with this exact version has already been downloaded and is present in the .m2 folder before running the integration tests so i I cannot find a reason why maven would decide to download it again. Also its worth mentioning that it is not a compilation error since mvn clean install works every time I run it.\r\n\r\nKeep in mind that that this dependency is present on a private repository (JFrog) and it is configured in pom.xml.\r\n\r\nWhat&#39;s even stranger is that this does not happen on Jenkins running the exact same command with the exact same java maven config etc.\r\n\r\nI am out of ideas what to check/debug so any hint would be very appreciated.\r\n\r\nI&#39;ve been trying multiple solutions for days now:\r\n- messing with maven wagon arguments\r\n- i used a ssh connection to check if the dependency is present in .m2\r\n- i tried running mvn dependency:resolve before integration tests and still the same output\r\n- also mvn dependency:go-offline and running IT command in offline mode but it fails because it can&#39;t download some dependency ):","title":"Maven fails due to connection reset while trying to download a dependency which is already downloaded","body":"<p>I am encountering an very strange issue on GitHub Actions while trying to run a maven command for integration tests.</p>\n<p>To give the full context, i am migrating from Jenkins to GitHub actions an insanely huge project consisting of thousands of lines of code and ~200 modules. I have almost completed this, but I missing the integration tests job. All of our GitHub Actions runners are ephemeral so each job is a whole new machine, so I must install maven java etc every single time which I do.</p>\n<p>The maven commands used to run the integration tests are the following:</p>\n<pre><code>run-integration-tests: \n    mvn clean verify \\\n        --update-snapshots \\\n        --quiet \\\n        -E \\\n        -DskipUTs -DskipE2ETests \\\n        -Dexec.skip=true  \\\n        -Ddocker.logs.show=false \\\n        -PJENKINS \\\n        -fae\n</code></pre>\n<p>(there is a wrapper using a makefile for simplicitity but essentially it runs maven verify)</p>\n<p>Now the problem: since the project has a lot of modules, it take ~1h to complete all these integration tests. After about ~43 minutes, every single time it fails with this error:</p>\n<pre><code>2023-07-12T10:57:08.6033494Z [ERROR] Failed to execute goal on project voxbone-fulfillment-e2e-tests: Could not resolve dependencies for project com.voxbone:voxbone-fulfillment-e2e-tests:jar:121.1.1-trunk-85: Failed to collect dependencies at com.voxbone.voxrating:platform-api-tool:jar:4.5.7: Failed to read artifact descriptor for com.voxbone.voxrating:platform-api-tool:jar:4.5.7: The following artifacts could not be resolved: com.voxbone.voxrating:platform-api-tool:pom:4.5.7 (absent): Could not transfer artifact com.voxbone.voxrating:platform-api-tool:pom:4.5.7 from/to central (https://repo1.maven.org/maven2/): Connection reset -&gt; [Help 1]\n2023-07-12T10:57:08.6036936Z [ERROR] \n2023-07-12T10:57:08.6037446Z [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n2023-07-12T10:57:08.6038000Z [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n2023-07-12T10:57:08.6038345Z [ERROR] \n2023-07-12T10:57:08.6038733Z [ERROR] For more information about the errors and possible solutions, please read the following articles:\n2023-07-12T10:57:08.6039437Z [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n2023-07-12T10:57:08.6039845Z [ERROR] \n2023-07-12T10:57:08.6040225Z [ERROR] After correcting the problems, you can resume the build with the command\n2023-07-12T10:57:08.6040950Z [ERROR]   mvn &lt;args&gt; -rf :voxbone-fulfillment-e2e-tests\n2023-07-12T10:57:08.6993271Z make: *** [makefile:45: run-integration-tests] Error 1\n2023-07-12T10:57:08.7004001Z ##[error]Process completed with exit code 2.\n</code></pre>\n<p>What I find extremely confusing is that this dependency with this exact version has already been downloaded and is present in the .m2 folder before running the integration tests so i I cannot find a reason why maven would decide to download it again. Also its worth mentioning that it is not a compilation error since mvn clean install works every time I run it.</p>\n<p>Keep in mind that that this dependency is present on a private repository (JFrog) and it is configured in pom.xml.</p>\n<p>What's even stranger is that this does not happen on Jenkins running the exact same command with the exact same java maven config etc.</p>\n<p>I am out of ideas what to check/debug so any hint would be very appreciated.</p>\n<p>I've been trying multiple solutions for days now:</p>\n<ul>\n<li>messing with maven wagon arguments</li>\n<li>i used a ssh connection to check if the dependency is present in .m2</li>\n<li>i tried running mvn dependency:resolve before integration tests and still the same output</li>\n<li>also mvn dependency:go-offline and running IT command in offline mode but it fails because it can't download some dependency ):</li>\n</ul>\n"},{"tags":["java","opencv","ffmpeg","gstreamer"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1689670458,"post_id":76710883,"comment_id":135243006,"body_markdown":"afaik, `videorate` is the right thing, but I don&#39;t know to use it correctly.","body":"afaik, <code>videorate</code> is the right thing, but I don&#39;t know to use it correctly."},{"owner":{"account_id":25139816,"reputation":11,"user_id":18986258,"display_name":"Jan"},"score":0,"creation_date":1689671763,"post_id":76710883,"comment_id":135243306,"body_markdown":"Indeed, it seems that videorate and setting the framerate in the pipeline definition overrides the fps as passed to OpenCV&#39;s VideoWriter.open() function","body":"Indeed, it seems that videorate and setting the framerate in the pipeline definition overrides the fps as passed to OpenCV&#39;s VideoWriter.open() function"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1689672612,"post_id":76710883,"comment_id":135243489,"body_markdown":"gstreamer docs say: &quot;This element takes an incoming stream of *timestamped* video frames. It will produce a perfect stream that matches the source pad&#39;s framerate.&quot; Maybe that&#39;s the problem. OpenCV probably doesnt use/provide any timestamps OR assigns static timestamps according to the specified fps?","body":"gstreamer docs say: &quot;This element takes an incoming stream of <i>timestamped</i> video frames. It will produce a perfect stream that matches the source pad&#39;s framerate.&quot; Maybe that&#39;s the problem. OpenCV probably doesnt use/provide any timestamps OR assigns static timestamps according to the specified fps?"},{"owner":{"account_id":25139816,"reputation":11,"user_id":18986258,"display_name":"Jan"},"score":1,"creation_date":1689673830,"post_id":76710883,"comment_id":135243738,"body_markdown":"Yes, that seems to be the issue. \nI solved it now, by explicitly setting the fps in the pipeline definition like so:\n! videoconvert ! videorate ! video/x-raw,framerate=25/1 !\n\nI just set a dummy fps in videowriter.open, but the fps is set eventually defined in the pipeline.\n\nThanks for your input!","body":"Yes, that seems to be the issue.  I solved it now, by explicitly setting the fps in the pipeline definition like so: ! videoconvert ! videorate ! video/x-raw,framerate=25/1 !  I just set a dummy fps in videowriter.open, but the fps is set eventually defined in the pipeline.  Thanks for your input!"},{"owner":{"account_id":25139816,"reputation":11,"user_id":18986258,"display_name":"Jan"},"score":0,"creation_date":1689673869,"post_id":76710883,"comment_id":135243751,"body_markdown":"BTW, I had to set emit-signals=true in the appsink for the first pipeline to drop frames from the RTSP stream in order to prevent a delay from happening","body":"BTW, I had to set emit-signals=true in the appsink for the first pipeline to drop frames from the RTSP stream in order to prevent a delay from happening"}],"owner":{"account_id":25139816,"reputation":11,"user_id":18986258,"display_name":"Jan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689669163,"creation_date":1689669163,"question_id":76710883,"body_markdown":"I am using Java with GStreamer wrapped by OpenCV. The application does the following:\r\n\r\n1. One GStreamer pipeline, that receives frames from an IP Camera (RTSP stream with 30fps) and outputs OpenCV Mats\r\n`&quot;rtspsrc location=rtsp://localhost:8554/looping-sample latency=500 protocols=udp buffer-mode=auto ! rtph264depay ! h264parse ! avdec_h264 max-threads=2 ! videoconvert ! video/x-raw,format=BGR ! appsink max-buffers=0 drop=true sync=false&quot;`\r\n\r\n2. On those Mats, deep learning models infer and draw stuff on it (This might be slow, like 100ms or sth)\r\n3. Another GStreamer pipeline wrapped by OpenCV at the 30fps (extracted by the RTSP stream), that receives those Mats and publishes an RTMP stream for a MediaServer\r\n`&quot;appsrc ! videoconvert ! nvh264enc bitrate=3000 ! h264parse ! flvmux ! rtmpsink location=test&quot;`\r\n\r\nNow, the problem is, that the OpenCV VideoWriter is configured to be 30fps but the appsrc is only pushing at e.g. 7fps, so the RTMP stream will not be classified as valid by the MediaServer.\r\nPreviously, I used OpenCV and FFFMPEG and the default VideoWriter just duplicated the last frame to keep up the pre-defined framerate, so the stream is laggy but works.\r\n\r\nHow can I achieve this with a GStreamer pipeline?\r\n\r\n\r\nTLDR: The OpenCV VideoWriter is configured to be 30fps but appsrc is only pushing with 7-10fps, how can I adaptively duplicate frames to keep the 30fps in the RTMP stream sink?\r\n\r\n\r\n\r\nI tried stuff like adding &quot;appsrc ! videorate ...&quot; to the pipeline, so that videorate keeps up the framerate, but that did not work","title":"How to duplicate frames if appsrc is pushing too slow to keep frame rate up?","body":"<p>I am using Java with GStreamer wrapped by OpenCV. The application does the following:</p>\n<ol>\n<li><p>One GStreamer pipeline, that receives frames from an IP Camera (RTSP stream with 30fps) and outputs OpenCV Mats\n<code>&quot;rtspsrc location=rtsp://localhost:8554/looping-sample latency=500 protocols=udp buffer-mode=auto ! rtph264depay ! h264parse ! avdec_h264 max-threads=2 ! videoconvert ! video/x-raw,format=BGR ! appsink max-buffers=0 drop=true sync=false&quot;</code></p>\n</li>\n<li><p>On those Mats, deep learning models infer and draw stuff on it (This might be slow, like 100ms or sth)</p>\n</li>\n<li><p>Another GStreamer pipeline wrapped by OpenCV at the 30fps (extracted by the RTSP stream), that receives those Mats and publishes an RTMP stream for a MediaServer\n<code>&quot;appsrc ! videoconvert ! nvh264enc bitrate=3000 ! h264parse ! flvmux ! rtmpsink location=test&quot;</code></p>\n</li>\n</ol>\n<p>Now, the problem is, that the OpenCV VideoWriter is configured to be 30fps but the appsrc is only pushing at e.g. 7fps, so the RTMP stream will not be classified as valid by the MediaServer.\nPreviously, I used OpenCV and FFFMPEG and the default VideoWriter just duplicated the last frame to keep up the pre-defined framerate, so the stream is laggy but works.</p>\n<p>How can I achieve this with a GStreamer pipeline?</p>\n<p>TLDR: The OpenCV VideoWriter is configured to be 30fps but appsrc is only pushing with 7-10fps, how can I adaptively duplicate frames to keep the 30fps in the RTMP stream sink?</p>\n<p>I tried stuff like adding &quot;appsrc ! videorate ...&quot; to the pipeline, so that videorate keeps up the framerate, but that did not work</p>\n"},{"tags":["java","android","jvm","daemon","beta"],"comments":[{"owner":{"account_id":1790120,"reputation":1349,"user_id":1630736,"accept_rate":54,"display_name":"Sold Out"},"score":0,"creation_date":1523952356,"post_id":25009717,"comment_id":86760931,"body_markdown":"I tried many approaches WO success. What helped whas when I replaced the embedded JDK (which is recommended :) for another JDK - I installed appart. &#39;File-&gt;ProjectStructure-&gt; JDK Location&#39;\n It could be, that my embedded JDK is somehow corrupt.","body":"I tried many approaches WO success. What helped whas when I replaced the embedded JDK (which is recommended :) for another JDK - I installed appart. &#39;File-&gt;ProjectStructure-&gt; JDK Location&#39;  It could be, that my embedded JDK is somehow corrupt."}],"answers":[{"tags":[],"owner":{"account_id":4818680,"reputation":59,"user_id":3889956,"display_name":"codesequel"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1406690183,"creation_date":1406690183,"answer_id":25028216,"question_id":25009717,"body_markdown":"I had the same problem. Starting Android Studio as Administrator fixed it.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I had the same problem. Starting Android Studio as Administrator fixed it.</p>\n"},{"tags":[],"owner":{"account_id":3512373,"reputation":1220,"user_id":2936399,"display_name":"nirav kalola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416125204,"creation_date":1416125204,"answer_id":26955062,"question_id":25009717,"body_markdown":"I had the same issue , i just remove .gradle file and restart android studio, it automatically download latest version and it works perfect.....","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I had the same issue , i just remove .gradle file and restart android studio, it automatically download latest version and it works perfect.....</p>\n"},{"tags":[],"owner":{"account_id":3773313,"reputation":1347,"user_id":3134886,"accept_rate":25,"display_name":"brkeyal"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1418777746,"creation_date":1418777746,"answer_id":27516679,"question_id":25009717,"body_markdown":"I had the same issue, it was because I had an existing &quot;.gradle&quot; folder and then I&#39;ve played with the android studio version (and also with the Java jdk version) , and I guess it messed things up.\r\n\r\nSolution: Remove the .gradle directory (mine&#39;s location was C:\\Users\\UserName\\\\.gradle), and restart android studio. It will automatically create a new one.\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I had the same issue, it was because I had an existing \".gradle\" folder and then I've played with the android studio version (and also with the Java jdk version) , and I guess it messed things up.</p>\n\n<p>Solution: Remove the .gradle directory (mine's location was C:\\Users\\UserName\\.gradle), and restart android studio. It will automatically create a new one.</p>\n"},{"tags":[],"owner":{"account_id":1211703,"reputation":10951,"user_id":1180117,"accept_rate":57,"display_name":"kiranpradeep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419668962,"creation_date":1419668962,"answer_id":27665627,"question_id":25009717,"body_markdown":"Try adding `-Xmx512m` in `Android Studio-&gt;Settings-&gt;Compiler-&gt;VM Options` as in below image. \r\n\r\n***Reason for this issue could be:*** Grade&#39;s build daemon ( forked process ) is invoked with maximum Java heap size as [platform default][1] value. On a 32 bit  Windows this system this could be as high as 1GB. We get this error message, if that much(default) heap size cannot be allocated to the build deamon. So use the `-Xmx` option to set a lower heap size. It is not necessary to stick to `-Xmx&lt;size&gt;` with size as `512m`. In my Win 32bit, 4GB RAM machine, `-Xmx768m` was also good enough.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html#wp1035652\r\n  [2]: http://i.stack.imgur.com/k46La.png","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Try adding <code>-Xmx512m</code> in <code>Android Studio-&gt;Settings-&gt;Compiler-&gt;VM Options</code> as in below image. </p>\n\n<p><strong><em>Reason for this issue could be:</em></strong> Grade's build daemon ( forked process ) is invoked with maximum Java heap size as <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html#wp1035652\" rel=\"nofollow noreferrer\">platform default</a> value. On a 32 bit  Windows this system this could be as high as 1GB. We get this error message, if that much(default) heap size cannot be allocated to the build deamon. So use the <code>-Xmx</code> option to set a lower heap size. It is not necessary to stick to <code>-Xmx&lt;size&gt;</code> with size as <code>512m</code>. In my Win 32bit, 4GB RAM machine, <code>-Xmx768m</code> was also good enough.</p>\n\n<p><img src=\"https://i.stack.imgur.com/k46La.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":968009,"reputation":14390,"user_id":991085,"accept_rate":50,"display_name":"Giru Bhai"},"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1570160713,"creation_date":1421935562,"answer_id":28090752,"question_id":25009717,"body_markdown":"Do Following steps:\r\n\r\n 1. Start Android Studio.\r\n 2. Close any open project.Go to File &gt; Close Project.(Welcome window will open)\r\n 3. Go to Configure &gt; Settings.\r\n 4. On Settings dialog,select **Compiler (Gradle-based Android\r\n    Projects)** from left and set VM Options to **-Xmx512m**(i.e. write -Xmx512m\r\n    under VM Options:) and press OK.\r\n\r\n[![Where to put it][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/k46La.png","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Do Following steps:</p>\n\n<ol>\n<li>Start Android Studio.</li>\n<li>Close any open project.Go to File > Close Project.(Welcome window will open)</li>\n<li>Go to Configure > Settings.</li>\n<li>On Settings dialog,select <strong>Compiler (Gradle-based Android\nProjects)</strong> from left and set VM Options to <strong>-Xmx512m</strong>(i.e. write -Xmx512m\nunder VM Options:) and press OK.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/k46La.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k46La.png\" alt=\"Where to put it\"></a></p>\n"},{"tags":[],"owner":{"account_id":1594553,"reputation":13,"user_id":1477068,"display_name":"Sandeep Ingale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428149644,"creation_date":1428147440,"answer_id":29445927,"question_id":25009717,"body_markdown":"Different solutions may work \r\n\r\n1. Delete `.gradle` folder from `c:\\users\\username\\.gradle`\r\n\r\n2. `File` &gt; `Settings`.\r\nOn Settings dialog, select `Compiler (Gradle-based Android Projects)` from left and set VM Options to `-Xmx512m` (i.e. write `-Xmx512m` under VM Options:) and press `OK`.\r\n\r\n3. Close multiple applications running on your machine and clear memory space and try again\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Different solutions may work </p>\n\n<ol>\n<li><p>Delete <code>.gradle</code> folder from <code>c:\\users\\username\\.gradle</code></p></li>\n<li><p><code>File</code> > <code>Settings</code>.\nOn Settings dialog, select <code>Compiler (Gradle-based Android Projects)</code> from left and set VM Options to <code>-Xmx512m</code> (i.e. write <code>-Xmx512m</code> under VM Options:) and press <code>OK</code>.</p></li>\n<li><p>Close multiple applications running on your machine and clear memory space and try again</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6484610,"reputation":21,"user_id":5020587,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434558171,"creation_date":1434558171,"answer_id":30897165,"question_id":25009717,"body_markdown":"I had the same problem, what i found was that Android Developer tools doesn&#39;t work well with JDK 8.\r\nI deleted my current JDK 8 and and installed JDK 7 and worked just like that no increase of heap memory or delete of .gradle folder.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I had the same problem, what i found was that Android Developer tools doesn't work well with JDK 8.\nI deleted my current JDK 8 and and installed JDK 7 and worked just like that no increase of heap memory or delete of .gradle folder.</p>\n"},{"tags":[],"owner":{"account_id":6160547,"reputation":9,"user_id":4802295,"display_name":"Sanjeev Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435299829,"creation_date":1435299829,"answer_id":31066296,"question_id":25009717,"body_markdown":"try to adding -Xmx512m in Android Studio-&gt;Settings-&gt;Compiler-&gt;VM Options , it&#39;s working thanks..","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>try to adding -Xmx512m in Android Studio->Settings->Compiler->VM Options , it's working thanks..</p>\n"},{"tags":[],"owner":{"account_id":6762849,"reputation":11,"user_id":5208907,"display_name":"Vishal Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439151717,"creation_date":1439147969,"answer_id":31907972,"question_id":25009717,"body_markdown":"* Start Android Studio.\r\n* Close any open project.Go to File &gt; Close Project.(Welcome window will open)\r\n* Go to Configure &gt; Settings.\r\n* On Settings dialog,select Compiler (Gradle-based Android Projects) from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.\r\n\r\nIt mostly works for that initilize vm problem.\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<ul>\n<li>Start Android Studio.</li>\n<li>Close any open project.Go to File > Close Project.(Welcome window will open)</li>\n<li>Go to Configure > Settings.</li>\n<li>On Settings dialog,select Compiler (Gradle-based Android Projects) from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.</li>\n</ul>\n\n<p>It mostly works for that initilize vm problem.</p>\n"},{"tags":[],"owner":{"account_id":3273338,"reputation":2026,"user_id":2756125,"display_name":"Shriram Panchal"},"down_vote_count":3,"up_vote_count":185,"is_accepted":false,"score":182,"last_activity_date":1648128960,"creation_date":1452566174,"answer_id":34734684,"question_id":25009717,"body_markdown":"The Solution Worked:\r\n\r\n&lt;ol&gt; 1.Open the projects&lt;strong&gt; gradle.properties &lt;/strong&gt; file in android studio &lt;/ol&gt;\r\n\r\n&lt;ol&gt; 2.Added this line at end of file &lt;strong&gt;org.gradle.jvmargs=-Xmx1024m&lt;/strong&gt; &amp; Save the file&lt;/ol&gt;\r\n&lt;ol&gt; 3.Close &amp; reopen the project or just Clean and re-Build it&lt;/ol&gt;\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>The Solution Worked:</p>\n<ol> 1.Open the projects<strong> gradle.properties </strong> file in android studio </ol>\n<ol> 2.Added this line at end of file <strong>org.gradle.jvmargs=-Xmx1024m</strong> & Save the file</ol>\n<ol> 3.Close & reopen the project or just Clean and re-Build it</ol>\n"},{"tags":[],"owner":{"account_id":3158057,"reputation":2327,"user_id":2669960,"accept_rate":83,"display_name":"Kevin Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453567668,"creation_date":1453567668,"answer_id":34966101,"question_id":25009717,"body_markdown":"Believe it or not, I *just* encountered this sudden problem after performing a Windows Update on Windows 10. Somehow, that update messed up my existing Malwarebytes Anti-Exploit program, and ultimately caused Android Studio to be unable to invoke the JVM (I couldn&#39;t even open cmd.exe!).\r\n\r\nSolution was to remove the Malwarebytes Anti-Exploit program (this may be fixed in the future).\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Believe it or not, I <em>just</em> encountered this sudden problem after performing a Windows Update on Windows 10. Somehow, that update messed up my existing Malwarebytes Anti-Exploit program, and ultimately caused Android Studio to be unable to invoke the JVM (I couldn't even open cmd.exe!).</p>\n\n<p>Solution was to remove the Malwarebytes Anti-Exploit program (this may be fixed in the future).</p>\n"},{"tags":[],"owner":{"account_id":8787325,"reputation":1,"user_id":6568721,"display_name":"ElMoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468071118,"creation_date":1468069466,"answer_id":38282108,"question_id":25009717,"body_markdown":"In the `gradle.properties` file, change `org.gradle.jvmargs` to `-Xmx1024m`:\r\n\r\n    org.gradle.jvmargs=**-Xmx1024m** -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>In the <code>gradle.properties</code> file, change <code>org.gradle.jvmargs</code> to <code>-Xmx1024m</code>:</p>\n\n<pre><code>org.gradle.jvmargs=**-Xmx1024m** -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7917321,"reputation":215,"user_id":5979366,"accept_rate":0,"display_name":"Karam Melad"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1474753097,"creation_date":1474751215,"answer_id":39680977,"question_id":25009717,"body_markdown":"Open Android Studio then go to gradle.properties  file and change the last line to \r\n\r\n    org.gradle.jvmargs=-Xmx1024m.\r\n\r\nthen go to \r\n\r\n&gt;File&gt;Invalidate Caches/Restart.\r\n\r\nand the problem will be solved, it worked fine with me.\r\n\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Open Android Studio then go to gradle.properties  file and change the last line to </p>\n\n<pre><code>org.gradle.jvmargs=-Xmx1024m.\n</code></pre>\n\n<p>then go to </p>\n\n<blockquote>\n  <p>File>Invalidate Caches/Restart.</p>\n</blockquote>\n\n<p>and the problem will be solved, it worked fine with me.</p>\n"},{"tags":[],"owner":{"account_id":9261610,"reputation":49,"user_id":6878490,"display_name":"ChuongIT"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1474820922,"creation_date":1474820922,"answer_id":39689178,"question_id":25009717,"body_markdown":"Open Android Studio then go to gradle.properties file and change the last line to\r\n\r\norg.gradle.jvmargs=-Xmx1024m.\r\n\r\nAnd then press try again","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Open Android Studio then go to gradle.properties file and change the last line to</p>\n\n<p>org.gradle.jvmargs=-Xmx1024m.</p>\n\n<p>And then press try again</p>\n"},{"tags":[],"owner":{"account_id":9174434,"reputation":146,"user_id":6820534,"display_name":"Ovidio Reyna"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1485707683,"creation_date":1474846910,"answer_id":39692882,"question_id":25009717,"body_markdown":"It has to do with how much memory is available for AS to create a VM environment for your app to populate. The thing is that ever since the update to 2.2 I&#39;ve had the same problem every time I try to create a new project in AS.\r\n\r\nHow I solve it is by going into **Project (on the left hand side) &gt; Gradle Scripts &gt; gradle.properties**. When it opens the file go to the line under &quot;(Line 10)# Specifies the JVM arguments used for the daemon process. (Line 11)# The setting is particularly useful for tweaking memory settings.&quot; You&#39;re looking for the line that starts with *&quot;org.gradle.jvmargs&quot;*. This should be line 12. Change line 12 to this\r\n\r\n    org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\nAfter changing this line you can either sync the gradle with the project by clicking Try again on the notification telling you the gradle sync failed (it&#39;ll be at the top of the file you opened). Or you can simply close and restart the AS and it should sync.\r\n\r\nEssentially what this is saying is for AS to **allocate more memory to the app** initialization. I know it&#39;s not a permanent fix but it should get you through actually starting your app.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>It has to do with how much memory is available for AS to create a VM environment for your app to populate. The thing is that ever since the update to 2.2 I've had the same problem every time I try to create a new project in AS.</p>\n\n<p>How I solve it is by going into <strong>Project (on the left hand side) > Gradle Scripts > gradle.properties</strong>. When it opens the file go to the line under \"(Line 10)# Specifies the JVM arguments used for the daemon process. (Line 11)# The setting is particularly useful for tweaking memory settings.\" You're looking for the line that starts with <em>\"org.gradle.jvmargs\"</em>. This should be line 12. Change line 12 to this</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n\n<p>After changing this line you can either sync the gradle with the project by clicking Try again on the notification telling you the gradle sync failed (it'll be at the top of the file you opened). Or you can simply close and restart the AS and it should sync.</p>\n\n<p>Essentially what this is saying is for AS to <strong>allocate more memory to the app</strong> initialization. I know it's not a permanent fix but it should get you through actually starting your app.</p>\n"},{"tags":[],"owner":{"account_id":9263979,"reputation":189,"user_id":6879994,"display_name":"Dishant J"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1474911747,"creation_date":1474911747,"answer_id":39709146,"question_id":25009717,"body_markdown":"For android studio 2.2 version VM option is not available directly from project structure.\r\n\r\nsteps to make gradle sync successful:-&gt;\r\n\r\n1)OPEN project\r\n\r\n2)Click on gradle script\r\n\r\n3)open gradle.properties\r\n\r\n4)Change org.gradle.jvmargs=-Xmx1536m to org.gradle.jvmargs=-Xmx1024m\r\n\r\n5)Save the work\r\n\r\n6)Open File-&gt;Invalidate cache/Restart\r\n\r\nAnd its done!!!\r\n\r\n\r\nEnjoy Android!!!","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>For android studio 2.2 version VM option is not available directly from project structure.</p>\n\n<p>steps to make gradle sync successful:-></p>\n\n<p>1)OPEN project</p>\n\n<p>2)Click on gradle script</p>\n\n<p>3)open gradle.properties</p>\n\n<p>4)Change org.gradle.jvmargs=-Xmx1536m to org.gradle.jvmargs=-Xmx1024m</p>\n\n<p>5)Save the work</p>\n\n<p>6)Open File->Invalidate cache/Restart</p>\n\n<p>And its done!!!</p>\n\n<p>Enjoy Android!!!</p>\n"},{"tags":[],"owner":{"account_id":9274217,"reputation":11,"user_id":6887320,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474973078,"creation_date":1474973078,"answer_id":39722609,"question_id":25009717,"body_markdown":"Start Android Studio.\r\nClose any open project.Go to File &gt; Close Project.(Welcome window will open)\r\nGo to Configure &gt; Settings.\r\nOn Settings dialog,select Compiler (Gradle-based Android Projects) from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.\r\n\r\nand then do this\r\n\r\nRight click on My Computer and Open up your System Properties (The bit you had open before that shows your CPU/RAM values) &gt;&gt; On the left sidebar, click Advanced System Settings &gt;&gt; Click Environment Variables &gt;&gt; Under System Variables, press New &gt;&gt; Use the values below: // Variable name: _JAVA_OPTIONS // Variable value: -Xmx524M then, press OK and try again. restart Android Studio\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Start Android Studio.\nClose any open project.Go to File > Close Project.(Welcome window will open)\nGo to Configure > Settings.\nOn Settings dialog,select Compiler (Gradle-based Android Projects) from left and set VM Options to -Xmx512m(i.e. write -Xmx512m under VM Options:) and press OK.</p>\n\n<p>and then do this</p>\n\n<p>Right click on My Computer and Open up your System Properties (The bit you had open before that shows your CPU/RAM values) >> On the left sidebar, click Advanced System Settings >> Click Environment Variables >> Under System Variables, press New >> Use the values below: // Variable name: _JAVA_OPTIONS // Variable value: -Xmx524M then, press OK and try again. restart Android Studio</p>\n"},{"tags":[],"owner":{"account_id":484608,"reputation":5021,"user_id":900394,"accept_rate":63,"display_name":"Alaa M."},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1475237481,"creation_date":1475237481,"answer_id":39791244,"question_id":25009717,"body_markdown":"Open your project and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; to open **Project Structure**. There under **JDK location** check `Use embedded JDK (recommended)`.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Open your project and press <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd> to open <strong>Project Structure</strong>. There under <strong>JDK location</strong> check <code>Use embedded JDK (recommended)</code>.</p>\n"},{"tags":[],"owner":{"account_id":8617709,"reputation":229,"user_id":6453904,"accept_rate":80,"display_name":"Georgios S."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1647875599,"creation_date":1475516713,"answer_id":39837430,"question_id":25009717,"body_markdown":"In some PC&#39;s this issue is caused by antivirus programs AFTER upgrading to the latest android studio and gradle version.\r\n\r\nIn my case I tore my system apart troubleshooting everything only to find out that Commodo Internet security was responsible for not letting the gradle daemon run.\r\n\r\nAfter safelisting the process everything runs smoothly.\r\nPLEASE NOTE that everything was OK before updating. The issue came up only after the update without changing anything in the antivirus/firewall program.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>In some PC's this issue is caused by antivirus programs AFTER upgrading to the latest android studio and gradle version.</p>\n<p>In my case I tore my system apart troubleshooting everything only to find out that Commodo Internet security was responsible for not letting the gradle daemon run.</p>\n<p>After safelisting the process everything runs smoothly.\nPLEASE NOTE that everything was OK before updating. The issue came up only after the update without changing anything in the antivirus/firewall program.</p>\n"},{"tags":[],"owner":{"account_id":6402737,"reputation":43,"user_id":4964891,"display_name":"YP zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476219136,"creation_date":1476219136,"answer_id":39986513,"question_id":25009717,"body_markdown":"My case is a bit special which VM option is not avaibale. I use x86 windows 7 system, my way of solving this problem is by doing following procedures:\r\n\r\n1. File - Setting...\r\n2. In &quot;Build, Execution, Deployment&quot; select &quot;Gradle&quot;\r\n3. choose &quot;Use default gradle wrapper (recommended)&quot; in &quot;Project-level settings&quot;\r\n\r\nAfter restart Android Studio problem fixed!","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>My case is a bit special which VM option is not avaibale. I use x86 windows 7 system, my way of solving this problem is by doing following procedures:</p>\n\n<ol>\n<li>File - Setting...</li>\n<li>In \"Build, Execution, Deployment\" select \"Gradle\"</li>\n<li>choose \"Use default gradle wrapper (recommended)\" in \"Project-level settings\"</li>\n</ol>\n\n<p>After restart Android Studio problem fixed!</p>\n"},{"tags":[],"owner":{"account_id":4162303,"reputation":1389,"user_id":3412127,"display_name":"Akah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479498024,"creation_date":1479498024,"answer_id":40684831,"question_id":25009717,"body_markdown":"I think if your environment just got messed up because of some VCS merging or commit errors, which is my case, i would suggest you just re-import your porject and add it to the root of your VCS to restore the project. If you use a VCS like git  or subversion, you&#39;ll simply have to add your project to the root of the given repo and everything should be back to normal.\r\nThis worked for me though.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I think if your environment just got messed up because of some VCS merging or commit errors, which is my case, i would suggest you just re-import your porject and add it to the root of your VCS to restore the project. If you use a VCS like git  or subversion, you'll simply have to add your project to the root of the given repo and everything should be back to normal.\nThis worked for me though.</p>\n"},{"tags":[],"owner":{"account_id":442897,"reputation":1060,"user_id":833788,"accept_rate":100,"display_name":"Alex Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479653358,"creation_date":1479653358,"answer_id":40705429,"question_id":25009717,"body_markdown":"I fixed this issue by installing JDK x64. I guess you&#39;re using jdk x86 and it&#39;s not enough memory for gradle.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I fixed this issue by installing JDK x64. I guess you're using jdk x86 and it's not enough memory for gradle.</p>\n"},{"tags":[],"owner":{"account_id":10587080,"reputation":165,"user_id":7799050,"accept_rate":75,"display_name":"stealth225"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502284923,"creation_date":1502284923,"answer_id":45591944,"question_id":25009717,"body_markdown":"Try disabling firewall.\r\n\r\nThis might be a very weird solution but I had the same problem and I&#39;m running Android 2.3 on windows 32 bit . I deleted the current app and disabled firewall. Upon creating a new project everything worked fine.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Try disabling firewall.</p>\n\n<p>This might be a very weird solution but I had the same problem and I'm running Android 2.3 on windows 32 bit . I deleted the current app and disabled firewall. Upon creating a new project everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":3534593,"reputation":1345,"user_id":2953225,"accept_rate":25,"display_name":"Testing Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517409707,"creation_date":1517409707,"answer_id":48544813,"question_id":25009717,"body_markdown":"Just installed new version of gradle and it started working for me. I think the local instances of gradle were messed up","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Just installed new version of gradle and it started working for me. I think the local instances of gradle were messed up</p>\n"},{"tags":[],"owner":{"account_id":6490755,"reputation":1449,"user_id":5355145,"accept_rate":86,"display_name":"Jayani Sumudini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520087801,"creation_date":1520087801,"answer_id":49085274,"question_id":25009717,"body_markdown":"I got same problem and I solved it using these steps.\r\n\r\n1)Remove your .gradle file.(uuslly it in C:\\Users\\{your_PC_name}\r\n\r\n2)then go to the environment variable and add these to the system variable(as a new variable)\r\n\r\nVariable name : _JAVA_OPTIONS\r\n\r\nVariable value: -Xmx524m\r\n\r\n3)go to your project folder and run these command\r\n\r\n&gt;ionic cordova platform add android\r\n\r\n4)Above command create platform folder in your project path\r\n\r\n5)then run this command\r\n&gt;ionic cordova build android\r\n&gt;\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I got same problem and I solved it using these steps.</p>\n\n<p>1)Remove your .gradle file.(uuslly it in C:\\Users{your_PC_name}</p>\n\n<p>2)then go to the environment variable and add these to the system variable(as a new variable)</p>\n\n<p>Variable name : _JAVA_OPTIONS</p>\n\n<p>Variable value: -Xmx524m</p>\n\n<p>3)go to your project folder and run these command</p>\n\n<blockquote>\n  <p>ionic cordova platform add android</p>\n</blockquote>\n\n<p>4)Above command create platform folder in your project path</p>\n\n<p>5)then run this command</p>\n\n<blockquote>\n  <p>ionic cordova build android</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4903135,"reputation":83,"user_id":3950688,"display_name":"Denis Kotenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531742502,"creation_date":1531742502,"answer_id":51361376,"question_id":25009717,"body_markdown":"I&#39;ve just cleaned up my disk space and restart computer. That have helped me.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I've just cleaned up my disk space and restart computer. That have helped me.</p>\n"},{"tags":[],"owner":{"account_id":1438909,"reputation":1075,"user_id":1359643,"display_name":"Inoy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533291581,"creation_date":1532364560,"answer_id":51483727,"question_id":25009717,"body_markdown":"Just **reboot your PC**\r\n\r\nNot sure what caused this issue for me, I&#39;ve tried all the solutions here, nothing worked.\r\nReboot helped, Windows 7.\r\n\r\n*org.gradle.jvmargs=-Xmx2048m* was already there.\r\n\r\nUpdate:\r\n-------\r\n\r\nI believe it started after Update of Windows Defender Antivirus (KB915597) \r\n\r\nApproximate date of update - 2018.07.22","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Just <strong>reboot your PC</strong></p>\n\n<p>Not sure what caused this issue for me, I've tried all the solutions here, nothing worked.\nReboot helped, Windows 7.</p>\n\n<p><em>org.gradle.jvmargs=-Xmx2048m</em> was already there.</p>\n\n<h2>Update:</h2>\n\n<p>I believe it started after Update of Windows Defender Antivirus (KB915597) </p>\n\n<p>Approximate date of update - 2018.07.22</p>\n"},{"tags":[],"owner":{"account_id":8075221,"reputation":755,"user_id":6086511,"display_name":"Shankara Narayana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532413193,"creation_date":1532413193,"answer_id":51491729,"question_id":25009717,"body_markdown":"Happened to me because i was running a virtual machine at the same time, the ram was already allocated to that so android studio couldn&#39;t take up any ram, switching off virtual box and restarting did the trick for me.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Happened to me because i was running a virtual machine at the same time, the ram was already allocated to that so android studio couldn't take up any ram, switching off virtual box and restarting did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":12501696,"reputation":383,"user_id":9099967,"display_name":"Alesandro Giordano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532938321,"creation_date":1532938321,"answer_id":51589606,"question_id":25009717,"body_markdown":"If i can help you, you have to go in the Project Properties, and in the JDK location field check **Use embedded JSD (recommended)** eneable.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>If i can help you, you have to go in the Project Properties, and in the JDK location field check <strong>Use embedded JSD (recommended)</strong> eneable.</p>\n"},{"tags":[],"owner":{"account_id":12648592,"reputation":380,"user_id":9193539,"display_name":"c49"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566781237,"creation_date":1566781237,"answer_id":57650808,"question_id":25009717,"body_markdown":"File-&gt;Settings-&gt;compiler-&gt;check - Compile independent modules in parallel(may require larger heap size)\r\n\r\n**gradle.properties**\r\n\r\norg.gradle.jvmargs=-Xmx768m\r\n\r\nadd this end of the file.\r\n\r\nit works for me.\r\n\r\nif Not, uncheck - Compile independent modules in parallel, and set org.gradle.jvmargs=Xmx768m like above\r\n","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>File->Settings->compiler->check - Compile independent modules in parallel(may require larger heap size)</p>\n\n<p><strong>gradle.properties</strong></p>\n\n<p>org.gradle.jvmargs=-Xmx768m</p>\n\n<p>add this end of the file.</p>\n\n<p>it works for me.</p>\n\n<p>if Not, uncheck - Compile independent modules in parallel, and set org.gradle.jvmargs=Xmx768m like above</p>\n"},{"tags":[],"owner":{"account_id":6674823,"reputation":39,"user_id":5149856,"display_name":"Srija Nakka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569874890,"creation_date":1569871563,"answer_id":58174100,"question_id":25009717,"body_markdown":"You need to add the path to environment variables (Windows) like such:\r\n\r\n    Variable Name: GRADLE_HOME\r\n    Variable Value: path\r\n\r\nPlease check below image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IBigK.png","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>You need to add the path to environment variables (Windows) like such:</p>\n\n<pre><code>Variable Name: GRADLE_HOME\nVariable Value: path\n</code></pre>\n\n<p>Please check below image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IBigK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IBigK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12051968,"reputation":913,"user_id":8814565,"display_name":"SHUBHASIS MAHATA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570157806,"creation_date":1570157806,"answer_id":58229346,"question_id":25009717,"body_markdown":"Simply you could change the gradle.properties . i have given the sample below[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6DTR.png","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Simply you could change the gradle.properties . i have given the sample below<a href=\"https://i.stack.imgur.com/v6DTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6DTR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14979886,"reputation":342,"user_id":10814142,"display_name":"Suvidha Malaviya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647875535,"creation_date":1587449205,"answer_id":61336957,"question_id":25009717,"body_markdown":"&gt; Error occurred during initialization of VM Could not reserve enough space for 1572864KB object heap.\r\n\r\nTo solve this error you have to change only heap size which is defined in Gradle.Properties file. You have to change the heapsize to 1024m and rebuild the project. \r\n\r\nIf the error is not solved, you have to close the project and rebuild it.\r\n\r\nFor Video Tutorial: [Unable To Start The Daemon Process In Android Studio][1]\r\n\r\n\r\n  [1]: https://youtu.be/rEVWb_8XmLU","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<blockquote>\n<p>Error occurred during initialization of VM Could not reserve enough space for 1572864KB object heap.</p>\n</blockquote>\n<p>To solve this error you have to change only heap size which is defined in Gradle.Properties file. You have to change the heapsize to 1024m and rebuild the project.</p>\n<p>If the error is not solved, you have to close the project and rebuild it.</p>\n<p>For Video Tutorial: <a href=\"https://youtu.be/rEVWb_8XmLU\" rel=\"nofollow noreferrer\">Unable To Start The Daemon Process In Android Studio</a></p>\n"},{"tags":[],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629298529,"creation_date":1629284819,"answer_id":68831213,"question_id":25009717,"body_markdown":"**the heap-size was already set** in project and also android studio.&lt;br&gt;\r\nstill, had this issue.\r\n\r\nthis issue is related to memory size.\r\n**here is what solved my issue**:&lt;br&gt;\r\n\r\n1. open &quot;task management&quot; in windows(ctrl + shift + esc)&lt;br&gt;\r\ncheck, whether any program is eating memory.&lt;br&gt;\r\n**please scroll down**&lt;br&gt;\r\n(first time i just saw according to descending order of memory usage. but scrolled after trying other options and realised, &quot;openjdk platform binary&quot; consumed around 50mb **but** was running around more than 50 instances.)\r\n[![enter image description here][1]][1]\r\n2. end all the instances and check whether it solves the issue.&lt;br&gt;\r\n**if &quot;yes&quot;,** **update java** so that, starting all these multiple instance entries are wiped out of registry.\r\n**if &quot;no&quot;**, try following:\r\n\r\n\r\nadditional solutions (if heap-size was already set):\r\n1. **uninstall** any lastly (recently) installed plugin.&lt;br&gt;\r\nif you want the plugin (search for plugin related issue).\r\n2. File&gt;**Invalidate caches** / restart...&lt;br&gt;\r\n3. update gradle.&lt;br&gt;\r\n4. uninstall android studio and install a fresh new one (after File&gt;Manage IDE settings&gt;Export to ZIP files).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/80HwA.png","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p><strong>the heap-size was already set</strong> in project and also android studio.<br>\nstill, had this issue.</p>\n<p>this issue is related to memory size.\n<strong>here is what solved my issue</strong>:<br></p>\n<ol>\n<li>open &quot;task management&quot; in windows(ctrl + shift + esc)<br>\ncheck, whether any program is eating memory.<br>\n<strong>please scroll down</strong><br>\n(first time i just saw according to descending order of memory usage. but scrolled after trying other options and realised, &quot;openjdk platform binary&quot; consumed around 50mb <strong>but</strong> was running around more than 50 instances.)\n<a href=\"https://i.stack.imgur.com/80HwA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/80HwA.png\" alt=\"enter image description here\" /></a></li>\n<li>end all the instances and check whether it solves the issue.<br>\n<strong>if &quot;yes&quot;,</strong> <strong>update java</strong> so that, starting all these multiple instance entries are wiped out of registry.\n<strong>if &quot;no&quot;</strong>, try following:</li>\n</ol>\n<p>additional solutions (if heap-size was already set):</p>\n<ol>\n<li><strong>uninstall</strong> any lastly (recently) installed plugin.<br>\nif you want the plugin (search for plugin related issue).</li>\n<li>File&gt;<strong>Invalidate caches</strong> / restart...<br></li>\n<li>update gradle.<br></li>\n<li>uninstall android studio and install a fresh new one (after File&gt;Manage IDE settings&gt;Export to ZIP files).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644411059,"creation_date":1644411059,"answer_id":71049965,"question_id":25009717,"body_markdown":"Different solutions work for different people. I have tried almost all the solutions posted above and on other forums.\r\n\r\nIn my case, the problem was occurring because the **Mobile Hotspot feature** was enabled on my laptop.\r\n\r\nLaptop Configuration:\r\n-Windows 10\r\n-RAM 12GB\r\n-Android Studio 4.2.2\r\n-Gradle version 6.7.1","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Different solutions work for different people. I have tried almost all the solutions posted above and on other forums.</p>\n<p>In my case, the problem was occurring because the <strong>Mobile Hotspot feature</strong> was enabled on my laptop.</p>\n<p>Laptop Configuration:\n-Windows 10\n-RAM 12GB\n-Android Studio 4.2.2\n-Gradle version 6.7.1</p>\n"},{"tags":[],"owner":{"account_id":20346421,"reputation":484,"user_id":14924173,"display_name":"Mohammad Al Jadallah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652290170,"creation_date":1652290170,"answer_id":72205269,"question_id":25009717,"body_markdown":"I faced This problem, so I solve it with **remove the project folder** and **recreate the new project.**\r\n\r\nThe above solution worked for me, hope to help anyone.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>I faced This problem, so I solve it with <strong>remove the project folder</strong> and <strong>recreate the new project.</strong></p>\n<p>The above solution worked for me, hope to help anyone.</p>\n"},{"tags":[],"owner":{"account_id":18726443,"reputation":239,"user_id":13652988,"display_name":"Shiza Imtiaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673793837,"creation_date":1673793837,"answer_id":75125920,"question_id":25009717,"body_markdown":"Go to /Library/Java/JavaVirtualMachines, make sure you do not have anything unnecessary. In my case, I accidentally installed jdk-19.jdk, I wanted to use zulu-11.jdk. Deleting jdk-19.jdk solved my problem. [![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Bqek.jpg\r\n  [2]: https://i.stack.imgur.com/KRult.jpg","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Go to /Library/Java/JavaVirtualMachines, make sure you do not have anything unnecessary. In my case, I accidentally installed jdk-19.jdk, I wanted to use zulu-11.jdk. Deleting jdk-19.jdk solved my problem. <a href=\"https://i.stack.imgur.com/2Bqek.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Bqek.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/KRult.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRult.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689668980,"creation_date":1689668980,"answer_id":76710859,"question_id":25009717,"body_markdown":"It was strange for me to kill ADB process from task list and try again, it worked fine.","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>It was strange for me to kill ADB process from task list and try again, it worked fine.</p>\n"}],"owner":{"account_id":4196633,"reputation":2172,"user_id":3437894,"accept_rate":44,"display_name":"AsimRazaKhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347949,"favorite_count":0,"down_vote_count":2,"up_vote_count":117,"answer_count":38,"score":115,"last_activity_date":1689668980,"creation_date":1406616954,"question_id":25009717,"body_markdown":"Version of Android Studio (Beta) 0.8.4  \r\nOS version: Windows 8  \r\nJava JRE/JDK version: 1.8.0_11\r\n\r\n    Error:Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at http://gradle.org/docs/1.12/userguide/gradle_daemon.html\r\n    -----------------------\r\n    Error occurred during initialization of VM\r\n    Could not reserve enough space for 1048576KB object heap\r\n    Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0","title":"Android Studio Gradle project &quot;Unable to start the daemon process /initialization of VM&quot;","body":"<p>Version of Android Studio (Beta) 0.8.4<br>\nOS version: Windows 8<br>\nJava JRE/JDK version: 1.8.0_11</p>\n\n<pre><code>Error:Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at http://gradle.org/docs/1.12/userguide/gradle_daemon.html\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1048576KB object heap\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\n</code></pre>\n"},{"tags":["java","spring-boot","ssh","spring-jdbc","jsch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689670659,"post_id":76710809,"comment_id":135243069,"body_markdown":"You make an SSH connection, setup tunneling and then close the session again... So how should forwarding after that work? Also you shouldn&#39;t be calling this manually but rather in a bean that (eagerly) creates the session and does a setup for the forwarding.","body":"You make an SSH connection, setup tunneling and then close the session again... So how should forwarding after that work? Also you shouldn&#39;t be calling this manually but rather in a bean that (eagerly) creates the session and does a setup for the forwarding."}],"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689668551,"creation_date":1689668551,"question_id":76710809,"body_markdown":"I have a remote database currently hosted on namecheap via [premium208.web-hosting.com][1] using the cpanel which only allows SSH connections to the database that i want to use in my spring boot application. So far I have the following Error with my current configuration:\r\n\r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n    \tat io.rddghs.config.ExternalDBAccess.establishDatabaseConnection(ExternalDBAccess.java:21)\r\n    \tat io.rddghs.services.PostService.getAllPosts(PostService.java:33)\r\n    \tat io.rddghs.controllers.PostsController.indexView(PostsController.java:60)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)\r\n    \tat com.mysql.cj.NativeSession.connect(NativeSession.java:133)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\r\n    \t... 56 more\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)\r\n    \t... 62 more\r\n    Hibernate: select post0_.id as id1_0_, post0_.content as content2_0_, post0_.created_at as created_3_0_, post0_.photos as photos4_0_, post0_.title as title5_0_, post0_.user_id as user_id6_0_ from posts post0_ order by post0_.created_at desc\r\n\r\nIn my application.properties i have it configured like this:\r\n\r\n    spring.thymeleaf.cache=false\r\n    server.error.whitelabel.enabled=false\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=America/Chicago\r\n    spring.datasource.username=myUserName\r\n    spring.datasource.password=myPassword\r\n    \r\n    #SSH Connections\r\n    spring.ssh.host=premium208.web-hosting.com:21098\r\n    spring.ssh.port=22\r\n    spring.ssh.username=myUserName\r\n    spring.ssh.password=myPassword\r\n    \r\n    spring.queries.users-query=select user_name, password_hash, id from users where user_name=?\r\n    spring.queries.roles-query=select user_name, &#39;ADMIN&#39; AS &#39;role&#39; from users where user_name=?\r\n    \r\n    # \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto=update\r\n\r\nIn my config, i have this class which uses the JSch library:\r\n\r\n    public class ExternalDBAccess {\r\n        public void establishDatabaseConnection() {\r\n            try {\r\n                JSch jSch = new JSch();\r\n                Session session = jSch.getSession(&quot;myusername&quot;, &quot;premium208.web-hosting.com&quot;, 21098);\r\n                session.setPassword(&quot;mypassword&quot;);\r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.connect();\r\n                int localPort = session.setPortForwardingL(0, &quot;premium208.web-hosting.com:21098&quot;, 3306);\r\n    \r\n                // Create the database connection using the local port\r\n                String databaseUrl = String.format(&quot;jdbc:mysql://localhost:%d/mydb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=America/Chicago&quot;, localPort);\r\n                Connection connection = DriverManager.getConnection(databaseUrl, &quot;myusername&quot;, &quot;mypassword&quot;);\r\n    \r\n                // Use the connection for database operations\r\n    \r\n                // Close the database connection and SSH session when finished\r\n                connection.close();\r\n                session.disconnect();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIn my post controller class, this is how i am accessing them:\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public String indexView(Model model) {\r\n    \tList&lt;Post&gt; posts = postService.getAllPosts(); // Fetch the posts using PostService\r\n    \tmodel.addAttribute(&quot;posts&quot;, posts);\r\n    \tmodel.addAttribute(&quot;posts5&quot;, posts.stream().limit(3).collect(Collectors.toList()));\r\n    \treturn &quot;index&quot;;\r\n    }\r\n\r\nIn my post service class i have this method:\r\n\r\n    public List&lt;Post&gt; getAllPosts() {\r\n    \t\texternalDBAccess.establishDatabaseConnection(); //SSH Tunnel\r\n    \t\treturn postRepository.findAllByOrderByCreatedAtDesc();\r\n    \t\t}\r\n\r\nAlso in the view, i have this:\r\n\r\n     &lt;div class=&quot;col-7&quot;&gt;\r\n                            &lt;div class=&quot;title-box&quot;&gt;\r\n                                &lt;h5 class=&quot;heading-primary mt-4&quot;&gt;\r\n                                    &lt;u&gt;Current News&lt;/u&gt;\r\n                                &lt;/h5&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;!--Section: Post data-mdb--&gt;\r\n                            &lt;article th:each=&quot;p : ${posts}&quot;&gt;\r\n                                &lt;h6 class=&quot;title&quot; th:text=&quot;${p.title}&quot;&gt;Post Title&lt;/h6&gt;\r\n                                &lt;div class=&quot;date&quot;&gt;\r\n                                    &lt;i&gt;Posted on&lt;/i&gt; &lt;span\r\n                                        th:text=&quot;${#dates.format(p.createdAt, &#39;dd-MMM-yyyy&#39;)}&quot;&gt;22-May-2022&lt;/span&gt;\r\n                                    &lt;!-- &lt;span th:if=&quot;${p.author}&quot; th:remove=&quot;tag&quot;&gt; &lt;i&gt;by&lt;/i&gt; &lt;span\r\n                                        th:text=&quot;${p.author.fullName != null ? p.author.fullName : p.author.userName}&quot;&gt;Admin&lt;/span&gt;\r\n                                    &lt;/span&gt;--&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;p class=&quot;content&quot; th:utext=&quot;${p.content}&quot;\r\n                                   style=&quot;text-align: justify&quot;&gt;Post content&lt;/p&gt;\r\n                            &lt;/article&gt;\r\n                            &lt;br&gt;\r\n                        &lt;/div&gt;\r\n\r\nI don&#39;t know what i&#39;m doing it but the view is not fetching the data from the remote database. Any help will be much appreciated.\r\n\r\n  [1]: https://premium208.web-hosting.com","title":"SSH Connection Issue in Spring Boot Application","body":"<p>I have a remote database currently hosted on namecheap via <a href=\"https://premium208.web-hosting.com\" rel=\"nofollow noreferrer\">premium208.web-hosting.com</a> using the cpanel which only allows SSH connections to the database that i want to use in my spring boot application. So far I have the following Error with my current configuration:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n    at io.rddghs.config.ExternalDBAccess.establishDatabaseConnection(ExternalDBAccess.java:21)\n    at io.rddghs.services.PostService.getAllPosts(PostService.java:33)\n    at io.rddghs.controllers.PostsController.indexView(PostsController.java:60)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)\n    at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)\n    at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)\n    at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:133)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\n    ... 56 more\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)\n    ... 62 more\nHibernate: select post0_.id as id1_0_, post0_.content as content2_0_, post0_.created_at as created_3_0_, post0_.photos as photos4_0_, post0_.title as title5_0_, post0_.user_id as user_id6_0_ from posts post0_ order by post0_.created_at desc\n</code></pre>\n<p>In my application.properties i have it configured like this:</p>\n<pre><code>spring.thymeleaf.cache=false\nserver.error.whitelabel.enabled=false\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=America/Chicago\nspring.datasource.username=myUserName\nspring.datasource.password=myPassword\n\n#SSH Connections\nspring.ssh.host=premium208.web-hosting.com:21098\nspring.ssh.port=22\nspring.ssh.username=myUserName\nspring.ssh.password=myPassword\n\nspring.queries.users-query=select user_name, password_hash, id from users where user_name=?\nspring.queries.roles-query=select user_name, 'ADMIN' AS 'role' from users where user_name=?\n\n# \nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\n</code></pre>\n<p>In my config, i have this class which uses the JSch library:</p>\n<pre><code>public class ExternalDBAccess {\n    public void establishDatabaseConnection() {\n        try {\n            JSch jSch = new JSch();\n            Session session = jSch.getSession(&quot;myusername&quot;, &quot;premium208.web-hosting.com&quot;, 21098);\n            session.setPassword(&quot;mypassword&quot;);\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.connect();\n            int localPort = session.setPortForwardingL(0, &quot;premium208.web-hosting.com:21098&quot;, 3306);\n\n            // Create the database connection using the local port\n            String databaseUrl = String.format(&quot;jdbc:mysql://localhost:%d/mydb?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=America/Chicago&quot;, localPort);\n            Connection connection = DriverManager.getConnection(databaseUrl, &quot;myusername&quot;, &quot;mypassword&quot;);\n\n            // Use the connection for database operations\n\n            // Close the database connection and SSH session when finished\n            connection.close();\n            session.disconnect();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>In my post controller class, this is how i am accessing them:</p>\n<pre><code>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\npublic String indexView(Model model) {\n    List&lt;Post&gt; posts = postService.getAllPosts(); // Fetch the posts using PostService\n    model.addAttribute(&quot;posts&quot;, posts);\n    model.addAttribute(&quot;posts5&quot;, posts.stream().limit(3).collect(Collectors.toList()));\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>In my post service class i have this method:</p>\n<pre><code>public List&lt;Post&gt; getAllPosts() {\n        externalDBAccess.establishDatabaseConnection(); //SSH Tunnel\n        return postRepository.findAllByOrderByCreatedAtDesc();\n        }\n</code></pre>\n<p>Also in the view, i have this:</p>\n<pre><code> &lt;div class=&quot;col-7&quot;&gt;\n                        &lt;div class=&quot;title-box&quot;&gt;\n                            &lt;h5 class=&quot;heading-primary mt-4&quot;&gt;\n                                &lt;u&gt;Current News&lt;/u&gt;\n                            &lt;/h5&gt;\n                        &lt;/div&gt;\n                        &lt;!--Section: Post data-mdb--&gt;\n                        &lt;article th:each=&quot;p : ${posts}&quot;&gt;\n                            &lt;h6 class=&quot;title&quot; th:text=&quot;${p.title}&quot;&gt;Post Title&lt;/h6&gt;\n                            &lt;div class=&quot;date&quot;&gt;\n                                &lt;i&gt;Posted on&lt;/i&gt; &lt;span\n                                    th:text=&quot;${#dates.format(p.createdAt, 'dd-MMM-yyyy')}&quot;&gt;22-May-2022&lt;/span&gt;\n                                &lt;!-- &lt;span th:if=&quot;${p.author}&quot; th:remove=&quot;tag&quot;&gt; &lt;i&gt;by&lt;/i&gt; &lt;span\n                                    th:text=&quot;${p.author.fullName != null ? p.author.fullName : p.author.userName}&quot;&gt;Admin&lt;/span&gt;\n                                &lt;/span&gt;--&gt;\n                            &lt;/div&gt;\n                            &lt;p class=&quot;content&quot; th:utext=&quot;${p.content}&quot;\n                               style=&quot;text-align: justify&quot;&gt;Post content&lt;/p&gt;\n                        &lt;/article&gt;\n                        &lt;br&gt;\n                    &lt;/div&gt;\n</code></pre>\n<p>I don't know what i'm doing it but the view is not fetching the data from the remote database. Any help will be much appreciated.</p>\n"},{"tags":["java","alias","opensearch","apache-unomi"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1689604143,"post_id":76705468,"comment_id":135233181,"body_markdown":"Your title mentions Opensearch while your question states Elasticsearch. Those are two different products, especially when it comes to cross-cluster replication. Can you please clarify?","body":"Your title mentions Opensearch while your question states Elasticsearch. Those are two different products, especially when it comes to cross-cluster replication. Can you please clarify?"},{"owner":{"account_id":10707196,"reputation":369,"user_id":7880595,"accept_rate":86,"display_name":"Phreneticus"},"score":0,"creation_date":1689610337,"post_id":76705468,"comment_id":135234561,"body_markdown":"@Val You&#39;re right of course. The whole question is related to Opensearch rather than Elasticsearch. I changed my question accordingly","body":"@Val You&#39;re right of course. The whole question is related to Opensearch rather than Elasticsearch. I changed my question accordingly"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1689610466,"post_id":76705468,"comment_id":135234585,"body_markdown":"Cool, thanks for confirming I&#39;ve updated the tags accordingly &#128077; Not sure the `java` tag is appropriate though","body":"Cool, thanks for confirming I&#39;ve updated the tags accordingly 👍 Not sure the <code>java</code> tag is appropriate though"},{"owner":{"account_id":10707196,"reputation":369,"user_id":7880595,"accept_rate":86,"display_name":"Phreneticus"},"score":0,"creation_date":1689668072,"post_id":76705468,"comment_id":135242445,"body_markdown":"I added the java tag, since Unomi is a Java application and I did all the index changes within Unomi in Java.","body":"I added the java tag, since Unomi is a Java application and I did all the index changes within Unomi in Java."},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1689669136,"post_id":76705468,"comment_id":135242693,"body_markdown":"Fair enough, I guess...","body":"Fair enough, I guess..."}],"owner":{"account_id":10707196,"reputation":369,"user_id":7880595,"accept_rate":86,"display_name":"Phreneticus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689668398,"creation_date":1689604015,"question_id":76705468,"body_markdown":"I am currently trying to set up cross-cluster-replication for Opensearch in Apache Unomi. My idea was the following: We have two data centers, dc1 and dc2. So I changed Unomi so that on dc1 it creates indices in the form of dc1-\\&lt;indexname&gt;-index and it creates aliases called \\&lt;indexname&gt;, e.g. dc1-context-actiontype-index with the alias context-actiontype. On dc2 the indices are then called dc2-\\&lt;indexname&gt;-index.\r\n\r\n\r\nWhile running the integration tests of Unomi I noticed that this request is fired among others: GET /context-persona/ doc/europeanVisitor , which leads to the following exception: \r\n&quot;illegal argument exception&quot;, &quot;reason&quot;: &quot;alias [\\&lt;indexname&gt;] has more than one index associated With it [dc1-\\&lt;indexname&gt;-index, dc2-\\&lt;indexname&gt;-index], can&#39;t execute a Single index op&quot;. \r\n\r\nNow the question is: Is it somehow possible in Opensearch to read documents from both indices using the alias, or I would have to implement all the logic for reading from aliases and then handling each associated index in Unomi itself ? ","title":"Unomi with Opensearch and Cross-Cluster-Replication using aliases - can&#39;t execute a Single index op","body":"<p>I am currently trying to set up cross-cluster-replication for Opensearch in Apache Unomi. My idea was the following: We have two data centers, dc1 and dc2. So I changed Unomi so that on dc1 it creates indices in the form of dc1-&lt;indexname&gt;-index and it creates aliases called &lt;indexname&gt;, e.g. dc1-context-actiontype-index with the alias context-actiontype. On dc2 the indices are then called dc2-&lt;indexname&gt;-index.</p>\n<p>While running the integration tests of Unomi I noticed that this request is fired among others: GET /context-persona/ doc/europeanVisitor , which leads to the following exception:\n&quot;illegal argument exception&quot;, &quot;reason&quot;: &quot;alias [&lt;indexname&gt;] has more than one index associated With it [dc1-&lt;indexname&gt;-index, dc2-&lt;indexname&gt;-index], can't execute a Single index op&quot;.</p>\n<p>Now the question is: Is it somehow possible in Opensearch to read documents from both indices using the alias, or I would have to implement all the logic for reading from aliases and then handling each associated index in Unomi itself ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9690,"page":302,"page_size":100}
