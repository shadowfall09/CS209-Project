{"items":[{"tags":["java","unit-testing","serialization","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689606320,"post_id":76703402,"comment_id":135233692,"body_markdown":"I suggest removing Kafka from your test path to further debug the issue since you only need to test serialization, not the consumer","body":"I suggest removing Kafka from your test path to further debug the issue since you only need to test serialization, not the consumer"}],"answers":[{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689762674,"creation_date":1689762674,"answer_id":76720332,"question_id":76703402,"body_markdown":"Finally adding \r\n\r\n    GenericData.get().addLogicalTypeConversion(new Conversions.DecimalConversion());\r\n\r\nbefore calling read() method\r\n\r\n    final Event event = eventReader.read(\r\n        null,\r\n        DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\r\n    );\r\n\r\nfixed the problem.\r\n\r\n","title":"Avro - Unable to serialize payload org.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32","body":"<p>Finally adding</p>\n<pre><code>GenericData.get().addLogicalTypeConversion(new Conversions.DecimalConversion());\n</code></pre>\n<p>before calling read() method</p>\n<pre><code>final Event event = eventReader.read(\n    null,\n    DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\n);\n</code></pre>\n<p>fixed the problem.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720332,"answer_count":1,"score":0,"last_activity_date":1689762746,"creation_date":1689588474,"question_id":76703402,"body_markdown":"I&#39;m writing unit test to one of the method which is sending event to kafka.\r\n\r\nIn avro schema I have defined filed \r\n\r\n    union { decimal(10, 2), null } cost\r\n\r\nwhich is represented in Java as BigDecimal.\r\n\r\nIn the unit test I&#39;m using DatumReader for reading if event was correctly sent to topic.\r\n\r\n        private final DatumReader&lt;Event&gt; eventReader = new SpecificDatumReader&lt;&gt;(Event.class);\r\n\r\n        //reading message from topic\r\n        final ConsumerRecord&lt;String, byte[]&gt; eventMessage = KafkaTestUtils.getSingleRecord(\r\n            kafkaConsumer, eventTopic, ofSeconds(10).toMillis()\r\n        );\r\n        final Event event = eventReader.read(\r\n            null,\r\n            DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\r\n        );\r\n\r\n And finally I&#39;m receiving an error \r\n\r\n&gt; Unable to serialize payload \r\norg.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32\r\n\r\nIs anyone know how to fix it?","title":"Avro - Unable to serialize payload org.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32","body":"<p>I'm writing unit test to one of the method which is sending event to kafka.</p>\n<p>In avro schema I have defined filed</p>\n<pre><code>union { decimal(10, 2), null } cost\n</code></pre>\n<p>which is represented in Java as BigDecimal.</p>\n<p>In the unit test I'm using DatumReader for reading if event was correctly sent to topic.</p>\n<pre><code>    private final DatumReader&lt;Event&gt; eventReader = new SpecificDatumReader&lt;&gt;(Event.class);\n\n    //reading message from topic\n    final ConsumerRecord&lt;String, byte[]&gt; eventMessage = KafkaTestUtils.getSingleRecord(\n        kafkaConsumer, eventTopic, ofSeconds(10).toMillis()\n    );\n    final Event event = eventReader.read(\n        null,\n        DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\n    );\n</code></pre>\n<p>And finally I'm receiving an error</p>\n<blockquote>\n<p>Unable to serialize payload\norg.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32</p>\n</blockquote>\n<p>Is anyone know how to fix it?</p>\n"},{"tags":["java","mqtt"],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690075877,"post_id":76720328,"comment_id":135302352,"body_markdown":"This should be a comment on the question, not an answer.","body":"This should be a comment on the question, not an answer."},{"owner":{"account_id":15673810,"reputation":36,"user_id":11309534,"display_name":"Shresthdeep Gupta"},"score":0,"creation_date":1690287712,"post_id":76720328,"comment_id":135329597,"body_markdown":"Thanks for directing to GitHub discussion forum, it may help in the future. I found out the problem I was having , it was due to wrong interface implementation.","body":"Thanks for directing to GitHub discussion forum, it may help in the future. I found out the problem I was having , it was due to wrong interface implementation."}],"tags":[],"owner":{"account_id":15019729,"reputation":11,"user_id":10841536,"display_name":"Nicolae Mihalache"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689762634,"creation_date":1689762634,"answer_id":76720328,"question_id":76635290,"body_markdown":"Yamcs developer here. A colleague discovered your question by accident. I think it is better to post it directly on the github Yamcs discussions page\r\nhttps://github.com/yamcs/yamcs/discussions\r\n\r\nThe method you tried should be correct; if you post the config file and the error message, we may be able to see why it does not work.\r\n","title":"How do i setup a datalink over a MQTT channel in Yamcs","body":"<p>Yamcs developer here. A colleague discovered your question by accident. I think it is better to post it directly on the github Yamcs discussions page\n<a href=\"https://github.com/yamcs/yamcs/discussions\" rel=\"nofollow noreferrer\">https://github.com/yamcs/yamcs/discussions</a></p>\n<p>The method you tried should be correct; if you post the config file and the error message, we may be able to see why it does not work.</p>\n"}],"owner":{"account_id":15673810,"reputation":36,"user_id":11309534,"display_name":"Shresthdeep Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689762634,"creation_date":1688719227,"question_id":76635290,"body_markdown":"I&#39;m trying to build a Mission Control Tool using Yamcs framework. For the first step, I want to connect the basic Yamcs server to a MQTT server for sending and receiving data. Yamcs offers a datalink interface for connecting to outside the system over a network. I&#39;m using this interface to build my implementation for MQTT connection inside Yamcs. The issue is that how do I direct Yamcs to look at my implementation instead the default one (That connect over UDP). Documentation states that I have to change the YAML file in configuration for this, but that doesn&#39;t work either. Has anyone worked with Yamcs previously, can help me ?\r\n\r\nI tried changing the class path in YAML file under datalinks to my implementation class. But it still throws error regarding configuration validation ","title":"How do i setup a datalink over a MQTT channel in Yamcs","body":"<p>I'm trying to build a Mission Control Tool using Yamcs framework. For the first step, I want to connect the basic Yamcs server to a MQTT server for sending and receiving data. Yamcs offers a datalink interface for connecting to outside the system over a network. I'm using this interface to build my implementation for MQTT connection inside Yamcs. The issue is that how do I direct Yamcs to look at my implementation instead the default one (That connect over UDP). Documentation states that I have to change the YAML file in configuration for this, but that doesn't work either. Has anyone worked with Yamcs previously, can help me ?</p>\n<p>I tried changing the class path in YAML file under datalinks to my implementation class. But it still throws error regarding configuration validation</p>\n"},{"tags":["java","exception","serialization","microstream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689664028,"post_id":76706775,"comment_id":135241619,"body_markdown":"Why does `ObjectToSerialize ` contain a `Throwable` in the first place?","body":"Why does <code>ObjectToSerialize </code> contain a <code>Throwable</code> in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":24946464,"reputation":11,"user_id":18811735,"display_name":"adorjann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689761955,"creation_date":1689659628,"answer_id":76709840,"question_id":76706775,"body_markdown":"Serializing an object containing a field of type Throwable using Java serialization with Serializable interface is doable. MicroStream [claims][1] to &quot;Serialize any object&quot; but MicroStream doesn&#39;t yet support serialization of Throwable and derived types, this is an important information that should be noted. \r\nAnswered Here: https://github.com/microstream-one/microstream/issues/613\r\n\r\n\r\n  [1]: https://microstream.one/products/serializer/","title":"Java MicroStream Serialization, Type not persistable: &quot;class java.lang.Throwable&quot;","body":"<p>Serializing an object containing a field of type Throwable using Java serialization with Serializable interface is doable. MicroStream <a href=\"https://microstream.one/products/serializer/\" rel=\"nofollow noreferrer\">claims</a> to &quot;Serialize any object&quot; but MicroStream doesn't yet support serialization of Throwable and derived types, this is an important information that should be noted.\nAnswered Here: <a href=\"https://github.com/microstream-one/microstream/issues/613\" rel=\"nofollow noreferrer\">https://github.com/microstream-one/microstream/issues/613</a></p>\n"}],"owner":{"account_id":24946464,"reputation":11,"user_id":18811735,"display_name":"adorjann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76709840,"answer_count":1,"score":0,"last_activity_date":1689761955,"creation_date":1689614557,"question_id":76706775,"body_markdown":"When serializing an object containing a field of type Throwable I get \r\n```\r\none.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\r\n```\r\n\r\nUsing the Serializer or TypedSerializer like this:\r\n\r\n\r\n\r\n```\r\nclass ObjectToSerialize {\r\n    Throwable throwable;\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ObjectToSerialize objectToSerialize = new ObjectToSerialize();\r\n\r\n        final SerializerFoundation&lt;?&gt; foundation = SerializerFoundation.New()\r\n                .registerEntityTypes(ObjectToSerialize.class);\r\n        final Serializer&lt;byte[]&gt; serializer = TypedSerializer.Bytes(foundation);\r\n        byte[] data = serializer.serialize(objectToSerialize);\r\n\r\n        ObjectToSerialize restored = serializer.deserialize(data);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe result I get is this: \r\n\r\n```\r\nException in thread &quot;main&quot; one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerUnpersistable.guaranteeSubTypeInstanceViablity(BinaryHandlerUnpersistable.java:98)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.lambda$recursiveEnsureTypeHandlers$0(PersistenceTypeHandlerManager.java:278)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.iterateMemberTypes(AbstractBinaryHandlerReflective.java:591)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.recursiveEnsureTypeHandlers(PersistenceTypeHandlerManager.java:271)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.registerTypeHandler(PersistenceTypeHandlerManager.java:639)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:616)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat one.microstream.persistence.binary.util.SerializerFoundation$Default.createPersistenceManager(SerializerFoundation.java:211)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer$Default.initialize(TypedSerializer.java:372)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer$Default.&lt;init&gt;(TypedSerializer.java:262)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer.New(TypedSerializer.java:145)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer.Bytes(TypedSerializer.java:117)\r\n\tat com.testing.Main.main(Main.java:19)\r\n```\r\nI have seen [this](https://stackoverflow.com/questions/63253772/java-microstream-immutablepair-causing-persistenceexceptiontypenotpersistable) but in my case I need to do serialization not storing, maybe I&#39;m wrong? \r\n\r\nHow do I serialize an object containing Throwable? If you can please point me to documentation or an example explaining how to do this. \r\nMany Thanks!\r\n","title":"Java MicroStream Serialization, Type not persistable: &quot;class java.lang.Throwable&quot;","body":"<p>When serializing an object containing a field of type Throwable I get</p>\n<pre><code>one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\n</code></pre>\n<p>Using the Serializer or TypedSerializer like this:</p>\n<pre><code>class ObjectToSerialize {\n    Throwable throwable;\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        ObjectToSerialize objectToSerialize = new ObjectToSerialize();\n\n        final SerializerFoundation&lt;?&gt; foundation = SerializerFoundation.New()\n                .registerEntityTypes(ObjectToSerialize.class);\n        final Serializer&lt;byte[]&gt; serializer = TypedSerializer.Bytes(foundation);\n        byte[] data = serializer.serialize(objectToSerialize);\n\n        ObjectToSerialize restored = serializer.deserialize(data);\n\n    }\n}\n</code></pre>\n<p>The result I get is this:</p>\n<pre><code>Exception in thread &quot;main&quot; one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\n    at one.microstream.persistence.binary.internal.BinaryHandlerUnpersistable.guaranteeSubTypeInstanceViablity(BinaryHandlerUnpersistable.java:98)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.lambda$recursiveEnsureTypeHandlers$0(PersistenceTypeHandlerManager.java:278)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.iterateMemberTypes(AbstractBinaryHandlerReflective.java:591)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.recursiveEnsureTypeHandlers(PersistenceTypeHandlerManager.java:271)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.registerTypeHandler(PersistenceTypeHandlerManager.java:639)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:616)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at one.microstream.persistence.binary.util.SerializerFoundation$Default.createPersistenceManager(SerializerFoundation.java:211)\n    at one.microstream.persistence.binary.util.TypedSerializer$Default.initialize(TypedSerializer.java:372)\n    at one.microstream.persistence.binary.util.TypedSerializer$Default.&lt;init&gt;(TypedSerializer.java:262)\n    at one.microstream.persistence.binary.util.TypedSerializer.New(TypedSerializer.java:145)\n    at one.microstream.persistence.binary.util.TypedSerializer.Bytes(TypedSerializer.java:117)\n    at com.testing.Main.main(Main.java:19)\n</code></pre>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/63253772/java-microstream-immutablepair-causing-persistenceexceptiontypenotpersistable\">this</a> but in my case I need to do serialization not storing, maybe I'm wrong?</p>\n<p>How do I serialize an object containing Throwable? If you can please point me to documentation or an example explaining how to do this.\nMany Thanks!</p>\n"},{"tags":["java","conditional-statements","compare","character"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1689768897,"post_id":76720042,"comment_id":135259548,"body_markdown":"`int spChars = answer.replaceAll(&quot;[^!@#$%^&amp;*()_+]&quot;, &quot;&quot;).length(); if (spChars != 0) { System.out.println(&quot;Has &quot; + spChars + &quot; Special Characters!&quot;); }`","body":"<code>int spChars = answer.replaceAll(&quot;[^!@#$%^&amp;*()_+]&quot;, &quot;&quot;).length(); if (spChars != 0) { System.out.println(&quot;Has &quot; + spChars + &quot; Special Characters!&quot;); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":28880011,"reputation":69,"user_id":22119677,"display_name":"Jan Rezzonico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689760995,"creation_date":1689760995,"answer_id":76720126,"question_id":76720042,"body_markdown":"You can use regular expressions:\r\n```java\r\nString regex = &quot;.*[!@#$%^&amp;*()_+].*&quot;;\r\nif (answer.matches(regex)) {\r\n    arrayList2.add(answer);\r\n    System.out.println(&quot;with special numbers&quot; + arrayList2);\r\n} else {\r\n    arrayList1.add(answer);\r\n    System.out.println(&quot;without SP&quot; + password);\r\n}\r\n````","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>You can use regular expressions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;.*[!@#$%^&amp;*()_+].*&quot;;\nif (answer.matches(regex)) {\n    arrayList2.add(answer);\n    System.out.println(&quot;with special numbers&quot; + arrayList2);\n} else {\n    arrayList1.add(answer);\n    System.out.println(&quot;without SP&quot; + password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689761264,"creation_date":1689761264,"answer_id":76720159,"question_id":76720042,"body_markdown":"\r\nYou can use regex match for pattern match.\r\n\r\nTry below code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            String answer;\r\n            ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n    \r\n            //do {\r\n            System.out.println(&quot;enter passswords&quot;);\r\n    \r\n            answer = input.nextLine();\r\n            Pattern pattern\r\n                    = Pattern.compile(&quot;[@_!#$%^&amp;*()&lt;&gt;?/|}{~:]&quot;);\r\n            if (pattern.matcher(answer).find()) {\r\n                arrayList2.add(answer);\r\n                System.out.println(&quot;with special numbers&quot; + arrayList2);\r\n            } else {\r\n                arrayList1.add(answer);\r\n                System.out.println(&quot;without SP&quot; + answer);\r\n            }\r\n        }\r\n\r\nReferences: \r\n\r\n 1. [Pattern Matching][1]\r\n 2. [How to use String.contains() method][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/python-program-check-string-contains-special-character/\r\n  [2]: https://www.geeksforgeeks.org/java-string-contains-method-example/","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>You can use regex match for pattern match.</p>\n<p>Try below code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        String answer;\n        ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n\n        //do {\n        System.out.println(&quot;enter passswords&quot;);\n\n        answer = input.nextLine();\n        Pattern pattern\n                = Pattern.compile(&quot;[@_!#$%^&amp;*()&lt;&gt;?/|}{~:]&quot;);\n        if (pattern.matcher(answer).find()) {\n            arrayList2.add(answer);\n            System.out.println(&quot;with special numbers&quot; + arrayList2);\n        } else {\n            arrayList1.add(answer);\n            System.out.println(&quot;without SP&quot; + answer);\n        }\n    }\n</code></pre>\n<p>References:</p>\n<ol>\n<li><a href=\"https://www.geeksforgeeks.org/python-program-check-string-contains-special-character/\" rel=\"nofollow noreferrer\">Pattern Matching</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-string-contains-method-example/\" rel=\"nofollow noreferrer\">How to use String.contains() method</a></li>\n</ol>\n"}],"owner":{"account_id":29040199,"reputation":3,"user_id":22245209,"display_name":"IS THIS TWITTER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720159,"answer_count":2,"score":0,"last_activity_date":1689761264,"creation_date":1689760461,"question_id":76720042,"body_markdown":"I&#39;m trying to create a simple program in JAVA to identify if a user input string contains a special character for example &quot;!&quot;, and if it does it appends it to arrayList1 if it does not it appends the string to arrayList2\r\n\r\ni&#39;ve been told that i can use the new .contain method to determine if the user string input contains a pre defined unusual symbol.  \r\n\r\ni&#39;ve been putting in example inputs like he!!o but it isn&#39;t read as a string with a special character. \r\n\r\nhere&#39;s the code snippet \r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input= new Scanner(System.in);\r\n\t\tString answer;\r\n\t\tArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n\t\tArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t    //do {\t\r\n\t\t    System.out.println(&quot;enter passswords&quot;);\r\n\t\t    \r\n\t\t    answer= input.nextLine();\r\n\t\t    String SimpleSymbol=&quot;!@#$%^&amp;*()_+&quot;;\r\n\t\t    if(answer.contains(SimpleSymbol)) {\r\n\t\t        arrayList2.add(answer);\r\n\t\t    \tSystem.out.println(&quot;with special numbers&quot; + arrayList2); \t\t \r\n\t        } else {\r\n                arrayList1.add(answer);\r\n\t\t    \tSystem.out.println(&quot;without SP&quot; + password);\r\n            }\r\n\t    }\r\n    }","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>I'm trying to create a simple program in JAVA to identify if a user input string contains a special character for example &quot;!&quot;, and if it does it appends it to arrayList1 if it does not it appends the string to arrayList2</p>\n<p>i've been told that i can use the new .contain method to determine if the user string input contains a pre defined unusual symbol.</p>\n<p>i've been putting in example inputs like he!!o but it isn't read as a string with a special character.</p>\n<p>here's the code snippet</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner input= new Scanner(System.in);\n    String answer;\n    ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n    \n    //do {  \n        System.out.println(&quot;enter passswords&quot;);\n        \n        answer= input.nextLine();\n        String SimpleSymbol=&quot;!@#$%^&amp;*()_+&quot;;\n        if(answer.contains(SimpleSymbol)) {\n            arrayList2.add(answer);\n            System.out.println(&quot;with special numbers&quot; + arrayList2);         \n        } else {\n            arrayList1.add(answer);\n            System.out.println(&quot;without SP&quot; + password);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","redis-cluster","redisson"],"comments":[{"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"score":0,"creation_date":1598024413,"post_id":63498725,"comment_id":112332673,"body_markdown":"Only thing I can suggest here is to move the redisson to latest version. Could you please check with latest one ?","body":"Only thing I can suggest here is to move the redisson to latest version. Could you please check with latest one ?"},{"owner":{"account_id":19334306,"reputation":11,"user_id":14135166,"display_name":"Nitin"},"score":0,"creation_date":1598159703,"post_id":63498725,"comment_id":112363906,"body_markdown":"Thanks for the suggestion Anuj.","body":"Thanks for the suggestion Anuj."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690075039,"post_id":76720154,"comment_id":135302310,"body_markdown":"What makes you think they&#39;ve found a solution?","body":"What makes you think they&#39;ve found a solution?"}],"tags":[],"owner":{"account_id":16288641,"reputation":1,"user_id":11762685,"display_name":"Raj Kishor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689761215,"creation_date":1689761215,"answer_id":76720154,"question_id":63498725,"body_markdown":"I believe you may have already found a solution, but I&#39;m providing an answer in case others are facing a similar issue.\r\n\r\nThe error you encountered seems to be related to how you are setting the node addresses. Starting from Redisson version 2.7.X, you need to use the redis:// protocol in the node addresses. However, for versions before 2.7.X, you should not use the redis:// protocol.\r\n\r\nTo fix the issue, please try the following:\r\n\r\n**For Redisson versions 2.7.X and above:**\r\n\r\n    Config config = new Config();\r\n    config.useClusterServers()\r\n    .addNodeAddress(&quot;redis://localhost:6001&quot;, &quot;redis://localhost:6001&quot;);\r\n    RedissonClient redisson = Redisson.create(config);\r\n\r\n\r\n**For Redisson versions before 2.7.X:**\r\n\r\n    Config config = new Config();\r\n    config.useClusterServers()\r\n    .addNodeAddress(&quot;localhost:6001&quot;, &quot;localhost:6002&quot;);\r\n    RedissonClient redisson = Redisson.create(config);\r\n\r\n\r\nMake sure to replace the port numbers and hostnames with the appropriate values for your Redis cluster configuration.\r\n\r\nI hope this helps! \r\n\r\n","title":"Issue connecting redis cluster using redisson","body":"<p>I believe you may have already found a solution, but I'm providing an answer in case others are facing a similar issue.</p>\n<p>The error you encountered seems to be related to how you are setting the node addresses. Starting from Redisson version 2.7.X, you need to use the redis:// protocol in the node addresses. However, for versions before 2.7.X, you should not use the redis:// protocol.</p>\n<p>To fix the issue, please try the following:</p>\n<p><strong>For Redisson versions 2.7.X and above:</strong></p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;redis://localhost:6001&quot;, &quot;redis://localhost:6001&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p><strong>For Redisson versions before 2.7.X:</strong></p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;localhost:6001&quot;, &quot;localhost:6002&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p>Make sure to replace the port numbers and hostnames with the appropriate values for your Redis cluster configuration.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":19334306,"reputation":11,"user_id":14135166,"display_name":"Nitin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689761215,"creation_date":1597900706,"question_id":63498725,"body_markdown":"I am trying to connect redis cluster using redisson 2.3.0 and redis 5.0.7.\r\n\r\nJava code for connection:\r\n\r\n```\r\nConfig config = new Config();\r\nconfig.useClusterServers()\r\n.addNodeAddress(&quot;redis://127.0.0.1:8000&quot;);\r\nRedissonClient redisson = Redisson.create(config);\r\n```\r\n\r\nIt is giving following error::\r\n```\r\njava.lang.IllegalArgumentException: port out of range:-1\r\nat java.net.InetSocketAddress.checkPort(InetSocketAddress.java:143)\r\nat java.net.InetSocketAddress.(InetSocketAddress.java:224)\r\nat org.redisson.client.RedisClient.(RedisClient.java:93)\r\nat org.redisson.connection.MasterSlaveConnectionManager.createClient(MasterSlaveConnectionManager.java:310)\r\nat org.redisson.cluster.ClusterConnectionManager.connect(ClusterConnectionManager.java:150)\r\nat org.redisson.cluster.ClusterConnectionManager.(ClusterConnectionManager.java:81)\r\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:172)\r\nat org.redisson.Redisson.(Redisson.java:103)\r\nat org.redisson.Redisson.create(Redisson.java:133)\r\n```\r\n\r\nCluster config from CLUSTER_NODES in redisson CLusterConnectionManager::\r\n```\r\n[ClusterNodeInfo [nodeId=4317f285b359ddc3ac08bb85239924509146e475, address=//127.0.0.1:8003@18003, flags=[SLAVE], slaveOf=4118a348827e6107d7e35522a251fd39c5a8f82b, slotRanges=[]], \r\nClusterNodeInfo [nodeId=2f7b93c80d3721b3fb26fe87bc28ed04a63fe0ec, address=//127.0.0.1:8005@18005, flags=[SLAVE], slaveOf=8b81c3e1acb4e1959a83267540058d1a6bffa12f, slotRanges=[]], \r\nClusterNodeInfo [nodeId=4118a348827e6107d7e35522a251fd39c5a8f82b, address=//127.0.0.1:8001@18001, flags=[MASTER], slaveOf=null, slotRanges=[[5461-10922]]],\r\nClusterNodeInfo [nodeId=a0770863d893a5b8106a83e247cea2544f99ef36, address=//127.0.0.1:8004@18004, flags=[SLAVE], slaveOf=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, slotRanges=[]], \r\nClusterNodeInfo [nodeId=8b81c3e1acb4e1959a83267540058d1a6bffa12f, address=//127.0.0.1:8000@18000, flags=[MYSELF, MASTER], slaveOf=null, slotRanges=[[0-5460]]],\r\nClusterNodeInfo [nodeId=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, address=//127.0.0.1:8002@18002, flags=[MASTER], slaveOf=null, slotRanges=[[10923-16383]]]]\r\n```\r\n\r\nReason i found after debugging is :\r\n**Not generating ClientPartition.getMasterAddress() properly.\r\nAddress is //127.0.0.1:8001@18001 as recorded by CLUSTER_NODES, but it reads it as host: 18001 and port=-1,  i.e reading the cluster bus port.**\r\n\r\nPlease suggest where i am doing wrong config.\r\n\r\nThank You in advance.","title":"Issue connecting redis cluster using redisson","body":"<p>I am trying to connect redis cluster using redisson 2.3.0 and redis 5.0.7.</p>\n<p>Java code for connection:</p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;redis://127.0.0.1:8000&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p>It is giving following error::</p>\n<pre><code>java.lang.IllegalArgumentException: port out of range:-1\nat java.net.InetSocketAddress.checkPort(InetSocketAddress.java:143)\nat java.net.InetSocketAddress.(InetSocketAddress.java:224)\nat org.redisson.client.RedisClient.(RedisClient.java:93)\nat org.redisson.connection.MasterSlaveConnectionManager.createClient(MasterSlaveConnectionManager.java:310)\nat org.redisson.cluster.ClusterConnectionManager.connect(ClusterConnectionManager.java:150)\nat org.redisson.cluster.ClusterConnectionManager.(ClusterConnectionManager.java:81)\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:172)\nat org.redisson.Redisson.(Redisson.java:103)\nat org.redisson.Redisson.create(Redisson.java:133)\n</code></pre>\n<p>Cluster config from CLUSTER_NODES in redisson CLusterConnectionManager::</p>\n<pre><code>[ClusterNodeInfo [nodeId=4317f285b359ddc3ac08bb85239924509146e475, address=//127.0.0.1:8003@18003, flags=[SLAVE], slaveOf=4118a348827e6107d7e35522a251fd39c5a8f82b, slotRanges=[]], \nClusterNodeInfo [nodeId=2f7b93c80d3721b3fb26fe87bc28ed04a63fe0ec, address=//127.0.0.1:8005@18005, flags=[SLAVE], slaveOf=8b81c3e1acb4e1959a83267540058d1a6bffa12f, slotRanges=[]], \nClusterNodeInfo [nodeId=4118a348827e6107d7e35522a251fd39c5a8f82b, address=//127.0.0.1:8001@18001, flags=[MASTER], slaveOf=null, slotRanges=[[5461-10922]]],\nClusterNodeInfo [nodeId=a0770863d893a5b8106a83e247cea2544f99ef36, address=//127.0.0.1:8004@18004, flags=[SLAVE], slaveOf=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, slotRanges=[]], \nClusterNodeInfo [nodeId=8b81c3e1acb4e1959a83267540058d1a6bffa12f, address=//127.0.0.1:8000@18000, flags=[MYSELF, MASTER], slaveOf=null, slotRanges=[[0-5460]]],\nClusterNodeInfo [nodeId=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, address=//127.0.0.1:8002@18002, flags=[MASTER], slaveOf=null, slotRanges=[[10923-16383]]]]\n</code></pre>\n<p>Reason i found after debugging is :\n<strong>Not generating ClientPartition.getMasterAddress() properly.\nAddress is //127.0.0.1:8001@18001 as recorded by CLUSTER_NODES, but it reads it as host: 18001 and port=-1,  i.e reading the cluster bus port.</strong></p>\n<p>Please suggest where i am doing wrong config.</p>\n<p>Thank You in advance.</p>\n"},{"tags":["java","android","xml","kotlin","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1689799824,"post_id":76720120,"comment_id":135266588,"body_markdown":"I would suggest trying out the https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController API. If the issue still exists, you can report it to camerax-developers@android.com, the CameraX team will look into it.","body":"I would suggest trying out the <a href=\"https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/camera/view/&hellip;</a> API. If the issue still exists, you can report it to camerax-developers@android.com, the CameraX team will look into it."},{"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"score":0,"creation_date":1689830045,"post_id":76720120,"comment_id":135269353,"body_markdown":"Actually Recording event creaing delays","body":"Actually Recording event creaing delays"}],"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689760912,"creation_date":1689760912,"question_id":76720120,"body_markdown":"I am recording video using CameraX some times File Writing Takes much time means about 10s to file writing. Issue is producing in Pixel Devices. Code is Given Below...\r\n\r\n    private fun startCamera() {\r\n        recordingExecutor = Executors.newSingleThreadExecutor()\r\n        isRecordingStart = false\r\n        hideExoPlayer()\r\n        showAnim()\r\n        binding.tvInterval.text = &quot;3&quot;\r\n        ProcessCameraProvider.getInstance(this).also {\r\n            it.addListener({\r\n                cameraProvider = it.get()\r\n\r\n                val qualitySelector = QualitySelector.from(\r\n                    Quality.LOWEST,\r\n                    FallbackStrategy.higherQualityOrLowerThan(Quality.LOWEST)\r\n                )\r\n\r\n                val recorder = Recorder.Builder()\r\n                    .setQualitySelector(qualitySelector)\r\n                    .build()\r\n\r\n                videoCapture = VideoCapture.withOutput(recorder)\r\n\r\n                val cameraSelector = when (currentReturnKey) {\r\n                    FRONT_VIDEO_CAMERA_KEY -&gt; CameraSelector.DEFAULT_FRONT_CAMERA\r\n                    else -&gt; CameraSelector.DEFAULT_BACK_CAMERA\r\n                }\r\n\r\n                val preview = Preview.Builder().build().also {\r\n                    it.setSurfaceProvider(binding.viewFinder.surfaceProvider)\r\n                }\r\n\r\n\r\n\r\n                try {\r\n                    cameraProvider?.unbindAll()\r\n                    cameraProvider?.bindToLifecycle(this, cameraSelector, videoCapture, preview)\r\n                    lifecycleScope.launch(Dispatchers.Main.immediate) {\r\n                        if (currentReturnKey == REAR_VIDEO_CAMERA_KEY) delay(800)\r\n                        captureVideo()\r\n                    }\r\n                } catch (exc: Exception) {\r\n                    releaseMediaPlayer()\r\n                    listener?.onUpdate(currentReturnKey, PCStatus.FAIL)\r\n                    updateCameraStatus(currentReturnKey, PCStatus.FAIL)\r\n                    initTest()\r\n                }\r\n            }, ContextCompat.getMainExecutor(this))\r\n        }\r\n    }\r\n\r\n    private fun captureVideo() {\r\n\r\n        val videoCapture = this.videoCapture ?: return\r\n\r\n\r\n        val curRecording = recording\r\n        if (curRecording != null) {\r\n            curRecording.stop()\r\n            recording = null\r\n            return\r\n        }\r\n\r\n        outputFile =\r\n            File(getOutputDirectory(), replaceSpaceIntoUnderscore(currentReturnKey) + &quot;.mp4&quot;)\r\n        if (outputFile?.exists() == true) {\r\n            val status = outputFile?.delete()\r\n            Log.i(&quot;isdelet,&quot;, status.toString())\r\n        }\r\n\r\n\r\n        val mediaStoreOutputOptions = FileOutputOptions\r\n            .Builder(outputFile!!)\r\n            .build()\r\n\r\n\r\n        isRecordingStart = true\r\n        recording = videoCapture.output\r\n            .prepareRecording(this, mediaStoreOutputOptions)\r\n            .apply {\r\n                // Enable Audio for recording\r\n                if (\r\n                    PermissionChecker.checkSelfPermission(\r\n                        this@PCVideoCameraActivity,\r\n                        Manifest.permission.RECORD_AUDIO\r\n                    ) ==\r\n                    PermissionChecker.PERMISSION_GRANTED\r\n                ) {\r\n                    withAudioEnabled()\r\n                }\r\n            }\r\n            .start(recordingExecutor) { recordEvent -&gt;\r\n                when (recordEvent) {\r\n\r\n                    is VideoRecordEvent.Start -&gt; {\r\n                        runOnUiThread { binding.ivAnimation.gone() }\r\n                        recordingTimer()\r\n                    }\r\n\r\n\r\n                    is VideoRecordEvent.Finalize -&gt; {\r\n                        if (!recordEvent.hasError() || recordEvent.error == VideoRecordEvent.Finalize.ERROR_DURATION_LIMIT_REACHED) {\r\n                            countdownJob?.cancel()\r\n                            recording = null\r\n                            runOnUiThread {\r\n                                showExoPLayer()\r\n                            }\r\n\r\n                            Log.i(&quot;FinalizeTest&quot;, &quot;NoError$outputFile&quot;)\r\n                        } else {\r\n                            Log.i(&quot;Error&quot;, &quot;${recordEvent.cause?.message}&quot;)\r\n                            recording?.close()\r\n                            recording = null\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\nand here below code is for timer \r\n\r\n     private fun recordingTimer() {\r\n            isTimerRunning = true\r\n            countdownJob = lifecycleScope.launch(Dispatchers.Main.immediate) {\r\n                val durationMillis =\r\n                    TimeUnit.SECONDS.toMillis(3) // Set the duration of the timer in milliseconds\r\n                remainingTimeMillis = durationMillis\r\n                while (remainingTimeMillis &gt; 0) {\r\n                    updateTimerText(remainingTimeMillis)\r\n                    delay(1000) // Delay for 1 second\r\n                    remainingTimeMillis -= 1000\r\n                }\r\n                isTimerRunning = false\r\n                captureVideo()\r\n            }\r\n        }\r\n\r\nFirstly i was thinking this may be of using Courtines Scope but i have replace it with lifecycler scope but issue is still producing. i donot know which things causing effect on it. bu removing timer fix the issue.","title":"Issue in File writing(Takes Much Time) while Capturing Video using CameraX (Video Capture)","body":"<p>I am recording video using CameraX some times File Writing Takes much time means about 10s to file writing. Issue is producing in Pixel Devices. Code is Given Below...</p>\n<pre><code>private fun startCamera() {\n    recordingExecutor = Executors.newSingleThreadExecutor()\n    isRecordingStart = false\n    hideExoPlayer()\n    showAnim()\n    binding.tvInterval.text = &quot;3&quot;\n    ProcessCameraProvider.getInstance(this).also {\n        it.addListener({\n            cameraProvider = it.get()\n\n            val qualitySelector = QualitySelector.from(\n                Quality.LOWEST,\n                FallbackStrategy.higherQualityOrLowerThan(Quality.LOWEST)\n            )\n\n            val recorder = Recorder.Builder()\n                .setQualitySelector(qualitySelector)\n                .build()\n\n            videoCapture = VideoCapture.withOutput(recorder)\n\n            val cameraSelector = when (currentReturnKey) {\n                FRONT_VIDEO_CAMERA_KEY -&gt; CameraSelector.DEFAULT_FRONT_CAMERA\n                else -&gt; CameraSelector.DEFAULT_BACK_CAMERA\n            }\n\n            val preview = Preview.Builder().build().also {\n                it.setSurfaceProvider(binding.viewFinder.surfaceProvider)\n            }\n\n\n\n            try {\n                cameraProvider?.unbindAll()\n                cameraProvider?.bindToLifecycle(this, cameraSelector, videoCapture, preview)\n                lifecycleScope.launch(Dispatchers.Main.immediate) {\n                    if (currentReturnKey == REAR_VIDEO_CAMERA_KEY) delay(800)\n                    captureVideo()\n                }\n            } catch (exc: Exception) {\n                releaseMediaPlayer()\n                listener?.onUpdate(currentReturnKey, PCStatus.FAIL)\n                updateCameraStatus(currentReturnKey, PCStatus.FAIL)\n                initTest()\n            }\n        }, ContextCompat.getMainExecutor(this))\n    }\n}\n\nprivate fun captureVideo() {\n\n    val videoCapture = this.videoCapture ?: return\n\n\n    val curRecording = recording\n    if (curRecording != null) {\n        curRecording.stop()\n        recording = null\n        return\n    }\n\n    outputFile =\n        File(getOutputDirectory(), replaceSpaceIntoUnderscore(currentReturnKey) + &quot;.mp4&quot;)\n    if (outputFile?.exists() == true) {\n        val status = outputFile?.delete()\n        Log.i(&quot;isdelet,&quot;, status.toString())\n    }\n\n\n    val mediaStoreOutputOptions = FileOutputOptions\n        .Builder(outputFile!!)\n        .build()\n\n\n    isRecordingStart = true\n    recording = videoCapture.output\n        .prepareRecording(this, mediaStoreOutputOptions)\n        .apply {\n            // Enable Audio for recording\n            if (\n                PermissionChecker.checkSelfPermission(\n                    this@PCVideoCameraActivity,\n                    Manifest.permission.RECORD_AUDIO\n                ) ==\n                PermissionChecker.PERMISSION_GRANTED\n            ) {\n                withAudioEnabled()\n            }\n        }\n        .start(recordingExecutor) { recordEvent -&gt;\n            when (recordEvent) {\n\n                is VideoRecordEvent.Start -&gt; {\n                    runOnUiThread { binding.ivAnimation.gone() }\n                    recordingTimer()\n                }\n\n\n                is VideoRecordEvent.Finalize -&gt; {\n                    if (!recordEvent.hasError() || recordEvent.error == VideoRecordEvent.Finalize.ERROR_DURATION_LIMIT_REACHED) {\n                        countdownJob?.cancel()\n                        recording = null\n                        runOnUiThread {\n                            showExoPLayer()\n                        }\n\n                        Log.i(&quot;FinalizeTest&quot;, &quot;NoError$outputFile&quot;)\n                    } else {\n                        Log.i(&quot;Error&quot;, &quot;${recordEvent.cause?.message}&quot;)\n                        recording?.close()\n                        recording = null\n                    }\n                }\n            }\n        }\n}\n</code></pre>\n<p>and here below code is for timer</p>\n<pre><code> private fun recordingTimer() {\n        isTimerRunning = true\n        countdownJob = lifecycleScope.launch(Dispatchers.Main.immediate) {\n            val durationMillis =\n                TimeUnit.SECONDS.toMillis(3) // Set the duration of the timer in milliseconds\n            remainingTimeMillis = durationMillis\n            while (remainingTimeMillis &gt; 0) {\n                updateTimerText(remainingTimeMillis)\n                delay(1000) // Delay for 1 second\n                remainingTimeMillis -= 1000\n            }\n            isTimerRunning = false\n            captureVideo()\n        }\n    }\n</code></pre>\n<p>Firstly i was thinking this may be of using Courtines Scope but i have replace it with lifecycler scope but issue is still producing. i donot know which things causing effect on it. bu removing timer fix the issue.</p>\n"},{"tags":["java","docker","google-cloud-platform","google-cloud-build","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":9366227,"reputation":592,"user_id":6951053,"accept_rate":50,"display_name":"Brian K"},"score":0,"creation_date":1689775299,"post_id":76720089,"comment_id":135261391,"body_markdown":"Alright, just got it working: the problem was that the docker config file created from the login step isn&#39;t where Testcontainer expects it to be - it&#39;s in here on Cloud Build: /builder/home/.docker/config.json. I had to set the DOCKER_CONFIG environment variable to /builder/home/.docker (crucially NOT /builder/home/.docker/config.json) to get this to work. So you&#39;re right, the config created by the docker login didn&#39;t naturally carry over to the gradle step.","body":"Alright, just got it working: the problem was that the docker config file created from the login step isn&#39;t where Testcontainer expects it to be - it&#39;s in here on Cloud Build: /builder/home/.docker/config.json. I had to set the DOCKER_CONFIG environment variable to /builder/home/.docker (crucially NOT /builder/home/.docker/config.json) to get this to work. So you&#39;re right, the config created by the docker login didn&#39;t naturally carry over to the gradle step."},{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"score":0,"creation_date":1689776936,"post_id":76720089,"comment_id":135261863,"body_markdown":"ooh, perfect! Glad you resolved this!","body":"ooh, perfect! Glad you resolved this!"},{"owner":{"account_id":1430801,"reputation":3482,"user_id":1353267,"accept_rate":67,"display_name":"Samveen"},"score":0,"creation_date":1699535032,"post_id":76720089,"comment_id":136545929,"body_markdown":"A gotcha I faced in a build I was testing was that `build.gradle` had an explicit test checking for the presence of a running docker daemon, which runs fine on laptop/VM, but failed in Cloud Build. The check was modified to check for docker daemon only for environments other than Cloud Build, and that fixed the issue.","body":"A gotcha I faced in a build I was testing was that <code>build.gradle</code> had an explicit test checking for the presence of a running docker daemon, which runs fine on laptop/VM, but failed in Cloud Build. The check was modified to check for docker daemon only for environments other than Cloud Build, and that fixed the issue."}],"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689760751,"creation_date":1689760751,"answer_id":76720089,"question_id":76715709,"body_markdown":"I thought Cloud Build provides a Docker environemnt by default. I tried building my sample project here: https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main \r\n\r\nAnd this is my cloud build yaml: \r\n```\r\nsteps:\r\n  - name: &#39;maven:3-openjdk-18-slim&#39;\r\n    args:\r\n      - &#39;-c&#39;\r\n      - |\r\n        mvn test\r\n    dir: &#39;${_APP_NAME}&#39;\r\n    entrypoint: bash\r\n```\r\n\r\nAnd it works correctly out of the box, here is [the build logs](https://ff2d1c85108dfc5a0b702499e28cea1e41577088c7fdc2c0345766c-apidata.googleusercontent.com/download/storage/v1/b/411343891013.cloudbuild-logs.googleusercontent.com/o/log-c688e809-ea79-4319-ae42-a9715b76a48b.txt?jk=AYvHSRFkaBm0Z5Hu-SZBxxXTXLMX7fUDY9OirPgr2QErModSf_o9FiBYPnzH6hD6B7ChLCpOyzkqSC2IlmFerMhTx_8ORjeZbY6NnQw08iWMpQLjJ-hYsUpMP-DFt-fDUN9DeH3qFhNWxOompLmMokO9m9PlwrFcFmnqRD8nKau9QyZdc9pazYQPhkgJw0AwE8qPmZNtQCpMerV8hjUsYdBMJ5W_Oc4Zuwz5oJ2J6-cmieUWyxQHGCKbp8TVWbAVM67XlfvWs_V32QgxT5We1l4VzedqThTvfPaWBd5aYSNqRh36qgnHrhammJXloB8te8LMUOpBWS1UbPdtkg_ukZA4tD5TFT803q36g6Ek1yzdFmNIkYePXM05OZw1vjJC9oQHC2vu7U2vHt2GYuqGYttxiOMSTYrtnqYKExwFx95647G87SVK2V_g5b0B-c-tP5nmhqxHc95tomFbonMjNzq9C-Act9XNVxqr6OA-mywiA4nCryfdVa6yxMveBhxG_XjwbfE7wmzmEudYK4xVYEa6cRq9ZHifY4nG8sz1fT4bVB27M0A30QE1kd5Ca4m5XDpJKwPTFhk9mCj29S3XvBzHgCgaX_8m-KAn-2G6RzKoq-6TojqxJwYU_rrYu5xwagXplBVLN8Noab66R_RvqWSz8DUiTMJkIJ_Q0fKis9IgGX43w0E4_RyI2z09PlJdl8g4J8xvXTJ_WTzrcxbp0e9H8jlq5F7_K7L1pxLET7nbQsbuwP8QxhO1sv1bNL93XuR83CvXZEmqgW4x_Jn0pc1BywfEomWfCh9aMp2u2u6vjPZ0XHYxYjfajo0dQSBKGbu8CX3SxaX1mUTJ9IdIScVq86FYEHYHhDfa8AEdqYGWWyJS4cz7XKN-XLLw3Rjp2ZqaW2IKi7Zs4sO_LO7BkjdzmwX_hvHi0Xl_xSHpvlBwX9RwoubOvoV6L15XzIDmHlnCyXY43xNLqOvz9U9CJIVOnd6g3OJqXN3m38ZDYN3KLcLcUVigxbHMjwF417ft_s6Ukv0ScZnjk4vc48rY6n1-70NDcW-z1QVxiboS4XBdhRfAyOKfGYN3umHeRy9D2UrIqePT0aRqvnoupfp_rbAPEtHi6S8u4lIFvb2R1uhqX-38bWNm_2K_1HjgbjrLzNTTLRzqxXLKNFjVhv3iBvSdcpqERqFSryum09k-VEbttqRAZiiLZySBTHmyrYdQwHMgEaJMo_ycL_CyLajqVkKfOlFrDHFBB9ZaYShyIrFw9b-GuGE&amp;isca=1).\r\n\r\nOne thing to note, I reckon most of the data is discarded between the steps (unless in `/workspace` -- [docs](https://cloud.google.com/build/docs/configuring-builds/pass-data-between-steps)) so maybe Docker login doesn&#39;t transfer to the gradle step? Can you try maybe a bash entrypoint and running login and gradle check in the same Cloud build step? \r\n\r\n","title":"Using the Java Testcontainers library in Cloud Build","body":"<p>I thought Cloud Build provides a Docker environemnt by default. I tried building my sample project here: <a href=\"https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main\" rel=\"nofollow noreferrer\">https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main</a></p>\n<p>And this is my cloud build yaml:</p>\n<pre><code>steps:\n  - name: 'maven:3-openjdk-18-slim'\n    args:\n      - '-c'\n      - |\n        mvn test\n    dir: '${_APP_NAME}'\n    entrypoint: bash\n</code></pre>\n<p>And it works correctly out of the box, here is <a href=\"https://ff2d1c85108dfc5a0b702499e28cea1e41577088c7fdc2c0345766c-apidata.googleusercontent.com/download/storage/v1/b/411343891013.cloudbuild-logs.googleusercontent.com/o/log-c688e809-ea79-4319-ae42-a9715b76a48b.txt?jk=AYvHSRFkaBm0Z5Hu-SZBxxXTXLMX7fUDY9OirPgr2QErModSf_o9FiBYPnzH6hD6B7ChLCpOyzkqSC2IlmFerMhTx_8ORjeZbY6NnQw08iWMpQLjJ-hYsUpMP-DFt-fDUN9DeH3qFhNWxOompLmMokO9m9PlwrFcFmnqRD8nKau9QyZdc9pazYQPhkgJw0AwE8qPmZNtQCpMerV8hjUsYdBMJ5W_Oc4Zuwz5oJ2J6-cmieUWyxQHGCKbp8TVWbAVM67XlfvWs_V32QgxT5We1l4VzedqThTvfPaWBd5aYSNqRh36qgnHrhammJXloB8te8LMUOpBWS1UbPdtkg_ukZA4tD5TFT803q36g6Ek1yzdFmNIkYePXM05OZw1vjJC9oQHC2vu7U2vHt2GYuqGYttxiOMSTYrtnqYKExwFx95647G87SVK2V_g5b0B-c-tP5nmhqxHc95tomFbonMjNzq9C-Act9XNVxqr6OA-mywiA4nCryfdVa6yxMveBhxG_XjwbfE7wmzmEudYK4xVYEa6cRq9ZHifY4nG8sz1fT4bVB27M0A30QE1kd5Ca4m5XDpJKwPTFhk9mCj29S3XvBzHgCgaX_8m-KAn-2G6RzKoq-6TojqxJwYU_rrYu5xwagXplBVLN8Noab66R_RvqWSz8DUiTMJkIJ_Q0fKis9IgGX43w0E4_RyI2z09PlJdl8g4J8xvXTJ_WTzrcxbp0e9H8jlq5F7_K7L1pxLET7nbQsbuwP8QxhO1sv1bNL93XuR83CvXZEmqgW4x_Jn0pc1BywfEomWfCh9aMp2u2u6vjPZ0XHYxYjfajo0dQSBKGbu8CX3SxaX1mUTJ9IdIScVq86FYEHYHhDfa8AEdqYGWWyJS4cz7XKN-XLLw3Rjp2ZqaW2IKi7Zs4sO_LO7BkjdzmwX_hvHi0Xl_xSHpvlBwX9RwoubOvoV6L15XzIDmHlnCyXY43xNLqOvz9U9CJIVOnd6g3OJqXN3m38ZDYN3KLcLcUVigxbHMjwF417ft_s6Ukv0ScZnjk4vc48rY6n1-70NDcW-z1QVxiboS4XBdhRfAyOKfGYN3umHeRy9D2UrIqePT0aRqvnoupfp_rbAPEtHi6S8u4lIFvb2R1uhqX-38bWNm_2K_1HjgbjrLzNTTLRzqxXLKNFjVhv3iBvSdcpqERqFSryum09k-VEbttqRAZiiLZySBTHmyrYdQwHMgEaJMo_ycL_CyLajqVkKfOlFrDHFBB9ZaYShyIrFw9b-GuGE&amp;isca=1\" rel=\"nofollow noreferrer\">the build logs</a>.</p>\n<p>One thing to note, I reckon most of the data is discarded between the steps (unless in <code>/workspace</code> -- <a href=\"https://cloud.google.com/build/docs/configuring-builds/pass-data-between-steps\" rel=\"nofollow noreferrer\">docs</a>) so maybe Docker login doesn't transfer to the gradle step? Can you try maybe a bash entrypoint and running login and gradle check in the same Cloud build step?</p>\n"}],"owner":{"account_id":9366227,"reputation":592,"user_id":6951053,"accept_rate":50,"display_name":"Brian K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689760751,"creation_date":1689705535,"question_id":76715709,"body_markdown":"I&#39;m trying to use the Java Testcontainers library to start up a PostgreSQL database docker during my unit tests. This works locally, but fails when I try to deploy it on Cloud Build. The following is my cloudbuild.yml file:\r\n\r\n```\r\n  - name: &#39;gcr.io/cloud-builders/docker&#39;\r\n    id: &#39;Login to myregistry.com&#39;\r\n    entrypoint: &#39;bash&#39;\r\n    args:\r\n      [\r\n        &#39;-c&#39;,\r\n        &#39;docker login --username=$$REGISTRY_USERNAME --password=$$REGISTRY_PASSWORD myregistry.com&#39;,\r\n      ]\r\n    secretEnv: [&#39;REGISTRY_USERNAME&#39;, &#39;REGISTRY_PASSWORD&#39;]\r\n\r\n  - name: &quot;gradle:7.6.1-jdk17&quot;\r\n    id: &quot;run unit tests&quot;\r\n    entrypoint: &#39;gradle&#39;\r\n    args: [&quot;test&quot;]\r\n```\r\nI&#39;ve also added the following environment variable:\r\n```\r\n\t\tTESTCONTAINERS_HOST_OVERRIDE=host.docker.internal\r\n```\r\n\r\nI receive the following errors when I try to run these tests, though:\r\n```\r\nStep #1 - &quot;run unit tests&quot;:     java.lang.IllegalStateException at RyukResourceReaper.java:132\r\n```\r\n\r\nHas anyone seen an issue like this before? Is it possible to run Testcontainers in Cloud Build, or will it fail because it&#39;s basically starting a Docker container within another Docker container?","title":"Using the Java Testcontainers library in Cloud Build","body":"<p>I'm trying to use the Java Testcontainers library to start up a PostgreSQL database docker during my unit tests. This works locally, but fails when I try to deploy it on Cloud Build. The following is my cloudbuild.yml file:</p>\n<pre><code>  - name: 'gcr.io/cloud-builders/docker'\n    id: 'Login to myregistry.com'\n    entrypoint: 'bash'\n    args:\n      [\n        '-c',\n        'docker login --username=$$REGISTRY_USERNAME --password=$$REGISTRY_PASSWORD myregistry.com',\n      ]\n    secretEnv: ['REGISTRY_USERNAME', 'REGISTRY_PASSWORD']\n\n  - name: &quot;gradle:7.6.1-jdk17&quot;\n    id: &quot;run unit tests&quot;\n    entrypoint: 'gradle'\n    args: [&quot;test&quot;]\n</code></pre>\n<p>I've also added the following environment variable:</p>\n<pre><code>        TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal\n</code></pre>\n<p>I receive the following errors when I try to run these tests, though:</p>\n<pre><code>Step #1 - &quot;run unit tests&quot;:     java.lang.IllegalStateException at RyukResourceReaper.java:132\n</code></pre>\n<p>Has anyone seen an issue like this before? Is it possible to run Testcontainers in Cloud Build, or will it fail because it's basically starting a Docker container within another Docker container?</p>\n"},{"tags":["java","flutter","plugins","just-audio","isolate"],"owner":{"account_id":20486781,"reputation":990,"user_id":15033763,"display_name":"Kdon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689760569,"creation_date":1689760569,"question_id":76720055,"body_markdown":"I am using the very nice [flutter_isolate][1] package together with [just_audio][2] to play audio sounds (like alarm bells) when the app is backgrounded.\r\n\r\nTogether these packages are generally working well but the app does sometimes crash. I note, in the the flutter isolate package readme it advises to create a custom plugin registrant class to register other plugins, and provides example code to help.\r\n\r\nTherefore, in android/app/src/main/java/io.flutter.plugins I have created a new java file named CustomPluginRegistrant based off the template provided.\r\n\r\n```\r\npackage io.flutter.plugins;\r\n\r\npublic final class CustomPluginRegistrant {\r\n    public static void registerWith(@NonNull FlutterEngine flutterEngine) {\r\n        flutterEngine.getPlugins().add(new com.ryanheise.just_audio.JustAudioPlugin());\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAlso I have created another java file name MainApplication with this code:\r\n\r\n```\r\npackage io.flutter.plugins;\r\nimport io.flutter.plugins.CustomPluginRegistrant;\r\n\r\npublic class MainApplication extends FlutterApplication {\r\n    public MainApplication() {\r\n        FlutterIsolatePlugin.setCustomIsolateRegistrant(CustomPluginRegistrant.class);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n[![warnings 1][3]][3]\r\n\r\n[![warnings 2][4]][4]\r\n\r\nAnd when I run the app I get this error: \r\n\r\n```\r\ne: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\r\n    class io.flutter.plugins.MainApplication, unresolved supertypes: FlutterApplication\r\n```\r\n\r\nI am not experienced in Java and unsure how to fix these errors. Thanks.\r\n\r\n  [1]: https://pub.dev/packages/flutter_isolate\r\n  [2]: https://pub.dev/packages/just_audio\r\n  [3]: https://i.stack.imgur.com/7q2Ij.png\r\n  [4]: https://i.stack.imgur.com/9C8NC.png","title":"How to create a custom plugin registrant in flutter?","body":"<p>I am using the very nice <a href=\"https://pub.dev/packages/flutter_isolate\" rel=\"nofollow noreferrer\">flutter_isolate</a> package together with <a href=\"https://pub.dev/packages/just_audio\" rel=\"nofollow noreferrer\">just_audio</a> to play audio sounds (like alarm bells) when the app is backgrounded.</p>\n<p>Together these packages are generally working well but the app does sometimes crash. I note, in the the flutter isolate package readme it advises to create a custom plugin registrant class to register other plugins, and provides example code to help.</p>\n<p>Therefore, in android/app/src/main/java/io.flutter.plugins I have created a new java file named CustomPluginRegistrant based off the template provided.</p>\n<pre><code>package io.flutter.plugins;\n\npublic final class CustomPluginRegistrant {\n    public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n        flutterEngine.getPlugins().add(new com.ryanheise.just_audio.JustAudioPlugin());\n    }\n}\n\n\n</code></pre>\n<p>Also I have created another java file name MainApplication with this code:</p>\n<pre><code>package io.flutter.plugins;\nimport io.flutter.plugins.CustomPluginRegistrant;\n\npublic class MainApplication extends FlutterApplication {\n    public MainApplication() {\n        FlutterIsolatePlugin.setCustomIsolateRegistrant(CustomPluginRegistrant.class);\n    }\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7q2Ij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7q2Ij.png\" alt=\"warnings 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9C8NC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9C8NC.png\" alt=\"warnings 2\" /></a></p>\n<p>And when I run the app I get this error:</p>\n<pre><code>e: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class io.flutter.plugins.MainApplication, unresolved supertypes: FlutterApplication\n</code></pre>\n<p>I am not experienced in Java and unsure how to fix these errors. Thanks.</p>\n"},{"tags":["java","ibm-cloud","odm","ibm-odm","dc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689808633,"post_id":76719934,"comment_id":135267670,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":20950855,"reputation":1,"user_id":15392566,"display_name":"Pratiksha Sabale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759722,"creation_date":1689759722,"question_id":76719934,"body_markdown":"I need to extract all the action rules in one single excel from decision center.Is there a way to do so?I have already deployed the study. I tried to select the rules and then export but it&#39;s extracting all the projects present.","title":"How can we extract all the action rules of a project in one single excel from decision center IBM ODM","body":"<p>I need to extract all the action rules in one single excel from decision center.Is there a way to do so?I have already deployed the study. I tried to select the rules and then export but it's extracting all the projects present.</p>\n"},{"tags":["java","spring-boot","apache-camel","jms","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1689760519,"post_id":76719459,"comment_id":135257742,"body_markdown":"Instead of all the code for the key store why not set the java system properties to point to the key store and let MQ pick it up from there.  The java system properties are documented in this [answer](https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore/5871352#5871352).  I world recommend you set them with `System.setProperties()` method so that you do not expose the password on the command line.","body":"Instead of all the code for the key store why not set the java system properties to point to the key store and let MQ pick it up from there.  The java system properties are documented in this <a href=\"https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore/5871352#5871352\">answer</a>.  I world recommend you set them with <code>System.setProperties()</code> method so that you do not expose the password on the command line."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1689760637,"post_id":76719459,"comment_id":135257765,"body_markdown":"Those mqjbnd are usually part of the stacktace due to MQ checking for the mqjbnd library to determine if there is a local MQ server install. I would suggest capturing a full JMS trace and reviewing that for the actual cause. Trace inductions can be found [here](https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property).","body":"Those mqjbnd are usually part of the stacktace due to MQ checking for the mqjbnd library to determine if there is a local MQ server install. I would suggest capturing a full JMS trace and reviewing that for the actual cause. Trace inductions can be found <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759604,"creation_date":1689756282,"question_id":76719459,"body_markdown":"I am trying to connect to IBM MQ. I&#39;ve read in multiple docs that this line should help prevent it: \r\n ```java\r\nmqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n```\r\n\r\nBut in my case it doesn&#39;t. Anyone knows how to fix this and what the actual problem is?\r\n\r\n```java\r\n    import com.ibm.mq.MQEnvironment;\r\n    import org.apache.camel.component.jms.JmsComponent;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import com.ibm.msg.client.jakarta.wmq.*;\r\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.security.KeyStore;\r\n\r\n    @Bean\r\n    public JmsComponent mq() {\r\n        JmsComponent jmsComponent = new JmsComponent();\r\n        jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\r\n        return jmsComponent;\r\n    }\r\n\r\n    @Bean\r\n    public MQQueueConnectionFactory mqQueueConnectionFactory() {\r\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n        mqQueueConnectionFactory.setHostName(host);\r\n        try {\r\n           \r\n            //keystore is being fetched here\r\n            String keystoreKey = &quot;${keyStorePassword}&quot;;\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\r\n                    keystoreKey.toCharArray());\r\n\r\n            // Create key manager\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\r\n            KeyManager[] km = keyManagerFactory.getKeyManagers();\r\n\r\n\r\n            // Create trust manager\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            trustManagerFactory.init(KeyStore.getInstance(trustStore, trustStorePassword));\r\n            TrustManager[] tm = trustManagerFactory.getTrustManagers();\r\n\r\n            // Initialize SSLContext\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\r\n            sslContext.init(km, tm, null);\r\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            mqQueueConnectionFactory.setPort(port);\r\n            mqQueueConnectionFactory.setChannel(channel);\r\n            mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n            mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\r\n            mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n            mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n            mqQueueConnectionFactory.setQueueManager(queueManager);\r\n\r\n            MQEnvironment.sslSocketFactory = sslSocketFactory;\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return  mqQueueConnectionFactory;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the stacktrace:\r\n\r\n```java\r\n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n    \tat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \t... 15 common frames omitted\r\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 37 common frames omitted\r\n    \r\n    2023-07-19T10:39:05.986+02:00  WARN 59061 --- [timer://mytimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[F460175233ACADD-0000000000000000]. Caused by: [org.springframework.jms.UncategorizedJmsException - Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.]\r\n    \r\n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n    \tat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \t... 15 common frames omitted\r\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 37 common frames omitted\r\n```\r\n","title":"Receiving a &quot;no mqjbnd in java.library.path&quot; exception when starting Springboot IBMQ application","body":"<p>I am trying to connect to IBM MQ. I've read in multiple docs that this line should help prevent it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n</code></pre>\n<p>But in my case it doesn't. Anyone knows how to fix this and what the actual problem is?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.ibm.mq.MQEnvironment;\n    import org.apache.camel.component.jms.JmsComponent;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\n    import org.springframework.jms.annotation.EnableJms;\n    import com.ibm.msg.client.jakarta.wmq.*;\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\n    \n    import javax.net.ssl.*;\n    import java.security.KeyStore;\n\n    @Bean\n    public JmsComponent mq() {\n        JmsComponent jmsComponent = new JmsComponent();\n        jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\n        return jmsComponent;\n    }\n\n    @Bean\n    public MQQueueConnectionFactory mqQueueConnectionFactory() {\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n        mqQueueConnectionFactory.setHostName(host);\n        try {\n           \n            //keystore is being fetched here\n            String keystoreKey = &quot;${keyStorePassword}&quot;;\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\n                    keystoreKey.toCharArray());\n\n            // Create key manager\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n            keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\n            KeyManager[] km = keyManagerFactory.getKeyManagers();\n\n\n            // Create trust manager\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n            trustManagerFactory.init(KeyStore.getInstance(trustStore, trustStorePassword));\n            TrustManager[] tm = trustManagerFactory.getTrustManagers();\n\n            // Initialize SSLContext\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\n            sslContext.init(km, tm, null);\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            mqQueueConnectionFactory.setPort(port);\n            mqQueueConnectionFactory.setChannel(channel);\n            mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\n            mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\n            mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n            mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n            mqQueueConnectionFactory.setQueueManager(queueManager);\n\n            MQEnvironment.sslSocketFactory = sslSocketFactory;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return  mqQueueConnectionFactory;\n    }\n}\n</code></pre>\n<p>And this is the stacktrace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\n        ... 15 common frames omitted\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 23 common frames omitted\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 37 common frames omitted\n    \n    2023-07-19T10:39:05.986+02:00  WARN 59061 --- [timer://mytimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[F460175233ACADD-0000000000000000]. Caused by: [org.springframework.jms.UncategorizedJmsException - Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.]\n    \n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\n        ... 15 common frames omitted\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 23 common frames omitted\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 37 common frames omitted\n</code></pre>\n"},{"tags":["java","jms","ejb","weblogic","ejb-3.0"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1690213226,"post_id":76719710,"comment_id":135318651,"body_markdown":"Typically this is when you have exception/error in the processing and you transaction is rolled back, so double check your logs ;-) otherwise is it is rather not possible.","body":"Typically this is when you have exception/error in the processing and you transaction is rolled back, so double check your logs ;-) otherwise is it is rather not possible."}],"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759463,"creation_date":1689758172,"question_id":76719710,"body_markdown":"I&#39;m facing an issue with an EJB that I have deployed on WebLogic. This EJB consumes messages from some queues. While the message is being read and processed correctly by my application, it does not disappear from the queue as expected.\r\n\r\nHere&#39;s a brief description of the situation:\r\n\r\n - I do not have admin rights to manage or directly inspect the queues.\r\n   \r\n - My understanding is that once the EJB processes the message, it\r\n   should be removed from the queue. \r\n - The processing logic within the EJB\r\n   seems to be working as expected, and I haven&#39;t encountered any\r\n   exceptions or error messages in the logs. \r\n\r\nIs there anyone who has faced a similar issue or has any insights on why this might be happening? I&#39;m looking for any suggestions or troubleshooting steps that might help me identify and solve this problem.\r\n\r\nMy EJB: \r\n```java\r\n@MessageDriven(activationConfig = { @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;,\r\n                                                              propertyValue = &quot;Auto-acknowledge&quot;),\r\n                                    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;,\r\n                                                              propertyValue = &quot;javax.jms.Queue&quot;) },\r\n               mappedName = &quot;java:comp/env/cola&quot;)\r\npublic class ConsumerMessageListener implements MessageListener {\r\n\r\n  private static final Logger LOGGER = Logger.getLogger(ConsumerMessageListener.class);\r\n\r\n  /**\r\n   * Default constructor. Siempre hay que suministrar un constructor por defecto en un MDB.\r\n   */\r\n  public ConsumerMessageListener() {\r\n    // Constructor por defecto\r\n  }\r\n\r\n  /**\r\n   * onMessage\r\n   *\r\n   * Metodo que es llamado cuando se recibe un mensaje desde el JMS tipo TOPIC.\r\n   *\r\n   */\r\n  public void onMessage(Message message) {\r\n\r\n    try {\r\n      LOGGER.debug(&quot;Procesando mensaje &quot; + message.toString());\r\n      TextMessage tm = (TextMessage) message;\r\n      String text = tm.getText();\r\n      \r\n\r\n      LOGGER.info(&quot;END MESSAGE: &quot; + text);\r\n\r\n    } catch (Exception ex) {\r\n      LOGGER.error(&quot;An exception occurred: &quot; + ex.getMessage());\r\n      LOGGER.error(&quot;Error: Listener: &quot; + ex.getCause());\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nThank you in advance for your help!","title":"EJB deployed on WebLogic reads and processes messages from queues, but they don&#39;t disappear","body":"<p>I'm facing an issue with an EJB that I have deployed on WebLogic. This EJB consumes messages from some queues. While the message is being read and processed correctly by my application, it does not disappear from the queue as expected.</p>\n<p>Here's a brief description of the situation:</p>\n<ul>\n<li><p>I do not have admin rights to manage or directly inspect the queues.</p>\n</li>\n<li><p>My understanding is that once the EJB processes the message, it\nshould be removed from the queue.</p>\n</li>\n<li><p>The processing logic within the EJB\nseems to be working as expected, and I haven't encountered any\nexceptions or error messages in the logs.</p>\n</li>\n</ul>\n<p>Is there anyone who has faced a similar issue or has any insights on why this might be happening? I'm looking for any suggestions or troubleshooting steps that might help me identify and solve this problem.</p>\n<p>My EJB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageDriven(activationConfig = { @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;,\n                                                              propertyValue = &quot;Auto-acknowledge&quot;),\n                                    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;,\n                                                              propertyValue = &quot;javax.jms.Queue&quot;) },\n               mappedName = &quot;java:comp/env/cola&quot;)\npublic class ConsumerMessageListener implements MessageListener {\n\n  private static final Logger LOGGER = Logger.getLogger(ConsumerMessageListener.class);\n\n  /**\n   * Default constructor. Siempre hay que suministrar un constructor por defecto en un MDB.\n   */\n  public ConsumerMessageListener() {\n    // Constructor por defecto\n  }\n\n  /**\n   * onMessage\n   *\n   * Metodo que es llamado cuando se recibe un mensaje desde el JMS tipo TOPIC.\n   *\n   */\n  public void onMessage(Message message) {\n\n    try {\n      LOGGER.debug(&quot;Procesando mensaje &quot; + message.toString());\n      TextMessage tm = (TextMessage) message;\n      String text = tm.getText();\n      \n\n      LOGGER.info(&quot;END MESSAGE: &quot; + text);\n\n    } catch (Exception ex) {\n      LOGGER.error(&quot;An exception occurred: &quot; + ex.getMessage());\n      LOGGER.error(&quot;Error: Listener: &quot; + ex.getCause());\n    }\n\n  }\n\n}\n</code></pre>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689758828,"post_id":76719751,"comment_id":135257388,"body_markdown":"Almost entirely sure the answer is simply &#39;no&#39;.","body":"Almost entirely sure the answer is simply &#39;no&#39;."},{"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"score":0,"creation_date":1689759658,"post_id":76719751,"comment_id":135257570,"body_markdown":"&quot;When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.&quot;\n\n\nIt will be passive so long as you&#39;re not loading more into memory? Java&#39;s GC is smart enough to only run when it needs to. Give your JVM enough headroom to handle the amount of data you have to load, let it worry about when to run.","body":"&quot;When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.&quot;   It will be passive so long as you&#39;re not loading more into memory? Java&#39;s GC is smart enough to only run when it needs to. Give your JVM enough headroom to handle the amount of data you have to load, let it worry about when to run."},{"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"score":0,"creation_date":1689767288,"post_id":76719751,"comment_id":135259185,"body_markdown":"Our headroom is limited:-) See, when loading the data, we do not know how large the incoming datasets will be, therefore it would be advantageous to have minimal remaining dormant objects in the heap to reduce the chance of OME. For that, it would be neat to have the GC be quite aggressive. The GC may be smart, but It can not anticiapted how much data is incoming via the network.","body":"Our headroom is limited:-) See, when loading the data, we do not know how large the incoming datasets will be, therefore it would be advantageous to have minimal remaining dormant objects in the heap to reduce the chance of OME. For that, it would be neat to have the GC be quite aggressive. The GC may be smart, but It can not anticiapted how much data is incoming via the network."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":1,"creation_date":1689845575,"post_id":76719751,"comment_id":135272120,"body_markdown":"You can&#39;t change the parameters, but you can call a FullGC programmatically: `System.gc()`. Doing that before you load your data should ensure you have the most memory available.","body":"You can&#39;t change the parameters, but you can call a FullGC programmatically: <code>System.gc()</code>. Doing that before you load your data should ensure you have the most memory available."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690196259,"post_id":76719751,"comment_id":135314878,"body_markdown":"There’s a fundamental error in your mindset. It doesn’t matter whether the GC is configured to be “aggressive” or “passive” regarding “the chance of OME”. The garbage collector will not throw an OutOfMemoryError when there are lots of “remaining dormant objects in the heap”. It will clean them up first, even if that implies that your configured pause time goals can not be reached, in fact, even if that implies that the concurrent garbage collector ends up behaving like a non-concurrent garbage collector.","body":"There’s a fundamental error in your mindset. It doesn’t matter whether the GC is configured to be “aggressive” or “passive” regarding “the chance of OME”. The garbage collector will not throw an OutOfMemoryError when there are lots of “remaining dormant objects in the heap”. It will clean them up first, even if that implies that your configured pause time goals can not be reached, in fact, even if that implies that the concurrent garbage collector ends up behaving like a non-concurrent garbage collector."},{"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"score":0,"creation_date":1690206315,"post_id":76719751,"comment_id":135317082,"body_markdown":"@Holger Lets say we have a solid 30mb/sec allocation rate from the network coming in, and we do not know whether it will all fit into the allocated heap of any particular given machine. Then, when I leave the GC on standard settings it might not behave optimally, i.e., (clear the younger generation spaces of the GC in time), and I would like to tweak it. Why..is that a fundamental error in my mindset? Other programming languages have to deal with these problems all the time.","body":"@Holger Lets say we have a solid 30mb/sec allocation rate from the network coming in, and we do not know whether it will all fit into the allocated heap of any particular given machine. Then, when I leave the GC on standard settings it might not behave optimally, i.e., (clear the younger generation spaces of the GC in time), and I would like to tweak it. Why..is that a fundamental error in my mindset? Other programming languages have to deal with these problems all the time."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690215423,"post_id":76719751,"comment_id":135319125,"body_markdown":"You changed the topic. In your previous comment you implicitly claimed that you could get an `OutOfMemoryError` (“to reduce the chance of OME”) if not changing the options. Performance tuning is an entirely different thing. But it’s still strange that you write “we do not know how large the incoming datasets will be” but at the same time believe that you know the best tuning options better than the garbage collector.","body":"You changed the topic. In your previous comment you implicitly claimed that you could get an <code>OutOfMemoryError</code> (“to reduce the chance of OME”) if not changing the options. Performance tuning is an entirely different thing. But it’s still strange that you write “we do not know how large the incoming datasets will be” but at the same time believe that you know the best tuning options better than the garbage collector."}],"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689758926,"creation_date":1689758420,"question_id":76719751,"body_markdown":"The usage of our application has two main modes, one where large quantities of data are loaded and one where the user interacts with the loaded data and wants to have maximal responsivity. When the data is loaded, I want the GC to be quite aggressive to prevent accidental Overflows as new data arrives. When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.\r\n\r\nI have read about the possible options that can be configured in the java garbage collector. One may set JVM options like the following to tweak the behaviour for any given use case:\r\n\r\n\r\n    -XX:+G1GC\r\n    \r\n    -XX:GCTimeRatio=9\r\n    \r\n    -XX:MaxGCPauseMillis=100\r\n\r\n\r\n**Is it possible to change these settings at runtime** to give justice to the fact that I have different needs at different phases of application usage?","title":"Is it possible to change java garbage collector settings at runtime?","body":"<p>The usage of our application has two main modes, one where large quantities of data are loaded and one where the user interacts with the loaded data and wants to have maximal responsivity. When the data is loaded, I want the GC to be quite aggressive to prevent accidental Overflows as new data arrives. When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.</p>\n<p>I have read about the possible options that can be configured in the java garbage collector. One may set JVM options like the following to tweak the behaviour for any given use case:</p>\n<pre><code>-XX:+G1GC\n\n-XX:GCTimeRatio=9\n\n-XX:MaxGCPauseMillis=100\n</code></pre>\n<p><strong>Is it possible to change these settings at runtime</strong> to give justice to the fact that I have different needs at different phases of application usage?</p>\n"},{"tags":["java","spring","annotations","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556711448,"creation_date":1556711448,"answer_id":55935812,"question_id":55932486,"body_markdown":"It is **NOT** possible to pass values the way that you&#39;re expecting to `@Timed` or any other annotation for that matter. Values passed to any annotation must be a compile time constant.\r\n\r\nA compile time constant is something like:\r\n\r\n    private static final String tag = &quot;account&quot;;\r\n\r\nThe value returned by `Account.getById()` is not a compile time constant and hence cannot be accepted by an annotation.","title":"@TImed with extraTags and @PathVariable","body":"<p>It is <strong>NOT</strong> possible to pass values the way that you're expecting to <code>@Timed</code> or any other annotation for that matter. Values passed to any annotation must be a compile time constant.</p>\n\n<p>A compile time constant is something like:</p>\n\n<pre><code>private static final String tag = \"account\";\n</code></pre>\n\n<p>The value returned by <code>Account.getById()</code> is not a compile time constant and hence cannot be accepted by an annotation.</p>\n"},{"tags":[],"owner":{"account_id":324651,"reputation":771,"user_id":645344,"display_name":"jolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558622285,"creation_date":1558446741,"answer_id":56239866,"question_id":55932486,"body_markdown":"I don&#39;t believe you&#39;ll be able to use the `@Timed` annotation to accomplish what you&#39;re doing, but you can manually time the method and do what you want.  Here is an example:\r\n\r\n```\r\n.\r\n.\r\n.\r\n@Autowired MeterRegistry meterRegistry;\r\n.\r\n.\r\n.\r\npublic Info getInfo(@PathVariable(&quot;id&quot;) String id) {\r\n    final Sample sample = Timer.start(meterRegistry);\r\n    \r\n    final Info info = Info.getById(id);\r\n\r\n    sample.stop(Timer.builder(&quot;timed&quot;)\r\n                     .tag(&quot;account&quot;, Account.getById(id)\r\n                     .register(meterRegistry));\r\n    return info;\r\n}\r\n```","title":"@TImed with extraTags and @PathVariable","body":"<p>I don't believe you'll be able to use the <code>@Timed</code> annotation to accomplish what you're doing, but you can manually time the method and do what you want.  Here is an example:</p>\n\n<pre><code>.\n.\n.\n@Autowired MeterRegistry meterRegistry;\n.\n.\n.\npublic Info getInfo(@PathVariable(\"id\") String id) {\n    final Sample sample = Timer.start(meterRegistry);\n\n    final Info info = Info.getById(id);\n\n    sample.stop(Timer.builder(\"timed\")\n                     .tag(\"account\", Account.getById(id)\n                     .register(meterRegistry));\n    return info;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742174,"reputation":21,"user_id":1593270,"display_name":"gilad_karach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689758886,"creation_date":1689758886,"answer_id":76719813,"question_id":55932486,"body_markdown":"Now it&#39;s possible to do it using annotation called [@MeterTag][1]\r\n\r\nSo for example you can do it like this:\r\n\r\n    @Timed\r\n    public Info getInfo(@MeterTag(&quot;id&quot;) @PathVariable(&quot;id&quot;) String id) {\r\n        return Info.getById(id);\r\n    }\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/pull/3727","title":"@TImed with extraTags and @PathVariable","body":"<p>Now it's possible to do it using annotation called <a href=\"https://github.com/micrometer-metrics/micrometer/pull/3727\" rel=\"nofollow noreferrer\">@MeterTag</a></p>\n<p>So for example you can do it like this:</p>\n<pre><code>@Timed\npublic Info getInfo(@MeterTag(&quot;id&quot;) @PathVariable(&quot;id&quot;) String id) {\n    return Info.getById(id);\n}\n</code></pre>\n"}],"owner":{"account_id":15849544,"reputation":11,"user_id":11435761,"display_name":"Allen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689758886,"creation_date":1556692594,"question_id":55932486,"body_markdown":"I have a method with annotation like this:\r\n```\r\n@Timed(value=&quot;timed&quot;, extraTags={&quot;account&quot;, Account.getById(@PathVariable(&quot;id&quot;)}\r\npublic Info getInfo(@PathVariable(&quot;id&quot;) String id) {\r\n    return Info.getById(id);\r\n}\r\n```\r\nThe above does not work of course. Hopefully, you can see what I&#39;m trying to do.  What is the correct syntax to set the account tag to the value returned by Account.getById() given an id on the path?","title":"@TImed with extraTags and @PathVariable","body":"<p>I have a method with annotation like this:</p>\n\n<pre><code>@Timed(value=\"timed\", extraTags={\"account\", Account.getById(@PathVariable(\"id\")}\npublic Info getInfo(@PathVariable(\"id\") String id) {\n    return Info.getById(id);\n}\n</code></pre>\n\n<p>The above does not work of course. Hopefully, you can see what I'm trying to do.  What is the correct syntax to set the account tag to the value returned by Account.getById() given an id on the path?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1513578340,"post_id":47862541,"comment_id":82691124,"body_markdown":"Maybe there is no SDK, JRE only","body":"Maybe there is no SDK, JRE only"},{"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"score":0,"creation_date":1513578577,"post_id":47862541,"comment_id":82691218,"body_markdown":"I just realized this as well :(","body":"I just realized this as well :("},{"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"score":0,"creation_date":1513962394,"post_id":47862541,"comment_id":82859714,"body_markdown":"@Antoniossss submit your comment as an answer so I can accept it","body":"@Antoniossss submit your comment as an answer so I can accept it"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513973643,"creation_date":1513973643,"answer_id":47946896,"question_id":47862541,"body_markdown":"Maybe there is no SDK, JRE only.","title":"AWS Lambda JavaCompiler instance","body":"<p>Maybe there is no SDK, JRE only.</p>\n"}],"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47946896,"answer_count":1,"score":0,"last_activity_date":1689758514,"creation_date":1513574608,"question_id":47862541,"body_markdown":"In an AWS Lambda Java 8 Function, is it possible to get an instance of  `SystemJavaCompiler`? Here&#39;s a snippet:\r\n\r\n    final File root = new File(&quot;/tmp&quot;);    \r\n    final File sourceFile = new File(root, type.getSourceFilename());\r\n    \r\n    sourceFile.getParentFile().mkdirs();\r\n    \r\n    Files.write(sourceFile.toPath(), templateString.getBytes(StandardCharsets.UTF_8));\r\n    \r\n    final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    compiler.run(null, null, null, sourceFile.getPath());\r\n\r\nI&#39;m attempting to dynamically compile source code in a Lambda and `ToolProvider.getSystemJavaCompiler()` throws a `NullPointerException`. This works great locally. I was hoping to avoid deploying an EC2 instance to benefit from the resource savings of Lambda.","title":"AWS Lambda JavaCompiler instance","body":"<p>In an AWS Lambda Java 8 Function, is it possible to get an instance of  <code>SystemJavaCompiler</code>? Here's a snippet:</p>\n\n<pre><code>final File root = new File(\"/tmp\");    \nfinal File sourceFile = new File(root, type.getSourceFilename());\n\nsourceFile.getParentFile().mkdirs();\n\nFiles.write(sourceFile.toPath(), templateString.getBytes(StandardCharsets.UTF_8));\n\nfinal JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\ncompiler.run(null, null, null, sourceFile.getPath());\n</code></pre>\n\n<p>I'm attempting to dynamically compile source code in a Lambda and <code>ToolProvider.getSystemJavaCompiler()</code> throws a <code>NullPointerException</code>. This works great locally. I was hoping to avoid deploying an EC2 instance to benefit from the resource savings of Lambda.</p>\n"},{"tags":["java","hibernate","jpa","jdbc","persistence"],"owner":{"account_id":9680402,"reputation":23,"user_id":7182327,"display_name":"zhs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689758487,"creation_date":1689758487,"question_id":76719761,"body_markdown":"the version of tomcat ee is 7.0.81\r\nI try to use java persistence to store data in database. but when I add the both dependencys and create the persistence.xml file. I will occur some error.   \r\nhere is the dependency, I use 2.2 version of persistence. and 5.3.7 hibernate\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nhere is the config file.  I just follow the internet, then change the url, user, and password to correct.\r\n\r\n```\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; version=&quot;2.2&quot;&gt;\r\n    &lt;persistence-unit name=&quot;persistence&quot;&gt;\r\n        &lt;description&gt;Hibernate JPA Demo&lt;/description&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.Driver&quot;\r\n                      value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                      value=&quot;jdbc:mysql://127.0.0.1:3306/property?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;useSSL=false&amp;amp;serverTimezone=GMT&amp;amp;allowPublicKeyRetrieval=true&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\r\n                      value=&quot;root&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\r\n                      value=&quot;sa@123&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;\r\n                      value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;\r\n                      value=&quot;validate&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nhere is the error, when I try to start my project.\r\n```\r\nSEVERE: Unable to load Persistence Unit from EAR: C:\\project\\propertyByEJB\\target\\propertyByEJB-1.0-SNAPSHOT, module: file:/C:/project/propertyByEJB/target/propertyByEJB-1.0-SNAPSHOT/WEB-INF/classes/. Exception: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:150)\r\n\tat org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n\tat org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:357)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:214)\r\n\tat org.apache.openejb.jee.jpa.unit.JaxbPersistenceFactory.getPersistence(JaxbPersistenceFactory.java:64)\r\n\tat org.apache.openejb.config.ReadDescriptors.deploy(ReadDescriptors.java:180)\r\n\tat org.apache.openejb.config.ConfigurationFactory$Chain.deploy(ConfigurationFactory.java:403)\r\n\tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:971)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1100)\r\n\tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:130)\r\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5519)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1009)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:985)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:663)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:622)\r\n\tat org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:43)\r\n\tat org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:176)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:181)\r\n\tat org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:100)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:85)\r\n\tat org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:227)\r\n\tat org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:194)\r\n\tat org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:370)\r\n\tat org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:181)\r\n\tat org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:361)\r\n\tat org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:257)\r\n\tat org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\r\n\tat org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:58)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n```\r\n","title":"java persistence error. javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;)","body":"<p>the version of tomcat ee is 7.0.81\nI try to use java persistence to store data in database. but when I add the both dependencys and create the persistence.xml file. I will occur some error.<br />\nhere is the dependency, I use 2.2 version of persistence. and 5.3.7 hibernate</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>here is the config file.  I just follow the internet, then change the url, user, and password to correct.</p>\n<pre><code>&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;persistence&quot;&gt;\n        &lt;description&gt;Hibernate JPA Demo&lt;/description&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.Driver&quot;\n                      value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                      value=&quot;jdbc:mysql://127.0.0.1:3306/property?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;useSSL=false&amp;amp;serverTimezone=GMT&amp;amp;allowPublicKeyRetrieval=true&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\n                      value=&quot;root&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\n                      value=&quot;sa@123&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot;\n                      value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;\n                      value=&quot;validate&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>here is the error, when I try to start my project.</p>\n<pre><code>SEVERE: Unable to load Persistence Unit from EAR: C:\\project\\propertyByEJB\\target\\propertyByEJB-1.0-SNAPSHOT, module: file:/C:/project/propertyByEJB/target/propertyByEJB-1.0-SNAPSHOT/WEB-INF/classes/. Exception: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:150)\n    at org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:357)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:214)\n    at org.apache.openejb.jee.jpa.unit.JaxbPersistenceFactory.getPersistence(JaxbPersistenceFactory.java:64)\n    at org.apache.openejb.config.ReadDescriptors.deploy(ReadDescriptors.java:180)\n    at org.apache.openejb.config.ConfigurationFactory$Chain.deploy(ConfigurationFactory.java:403)\n    at org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:971)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1100)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:130)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5519)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1009)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:985)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:663)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:622)\n    at org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:43)\n    at org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:176)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:181)\n    at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:100)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:85)\n    at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:227)\n    at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:194)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:370)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:181)\n    at org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:361)\n    at org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:257)\n    at org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\n    at org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:58)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n\n</code></pre>\n"},{"tags":["java","arrays","qr-code","aadhaar"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1604391547,"post_id":64658869,"comment_id":114326328,"body_markdown":"255 == `(byte) -1` which separates the three fields. Simply try getting the data of such a QR (the shown one, by smart phone?).P.S. I think the downvote might have been triggered by the title being unspecific/misleading and no effort (like the data of the shown QR.) and just an external link which might become broken.","body":"255 == <code>(byte) -1</code> which separates the three fields. Simply try getting the data of such a QR (the shown one, by smart phone?).P.S. I think the downvote might have been triggered by the title being unspecific/misleading and no effort (like the data of the shown QR.) and just an external link which might become broken."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604399230,"creation_date":1604399230,"answer_id":64660996,"question_id":64658869,"body_markdown":"Decoding the Aadhaar QR code consists of several steps outlined in [Unique Identification Authority of India (UIDAI)](https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf) in chapter 3.2:\r\n\r\nThe first few steps are:\r\n\r\n- Convert the base10 value of Secure QR code into Big Integer.\r\n- Convert the Big Integer into byte array.\r\n- Decompress the byte array.\r\n- Read the value of byte array from index 0 to till first delimiter value &quot;255&quot; and convert this byte array value into string with encoding &quot;ISO-8859-1&quot;. We will get the Email_mobile_present_bit_indicator_value as 0, 1, 2 or 3.\r\n\r\nOnce you have the decompressed array, you can simply search for the first element in the array containing -1, which is how the byte value 255 looks in Java as Java uses signed integer for bytes. The bytes before the -1 can be converted to a string.\r\n\r\nThese two steps are then repeating several times with the remaining data in the array to extract further values.\r\n\r\nExtracting the photo and the signature are slightly different as they are not strings but binary data. Again, the steps are described in the referenced document.","title":"java - Understanding byte array with delimeters","body":"<p>Decoding the Aadhaar QR code consists of several steps outlined in <a href=\"https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf\" rel=\"nofollow noreferrer\">Unique Identification Authority of India (UIDAI)</a> in chapter 3.2:</p>\n<p>The first few steps are:</p>\n<ul>\n<li>Convert the base10 value of Secure QR code into Big Integer.</li>\n<li>Convert the Big Integer into byte array.</li>\n<li>Decompress the byte array.</li>\n<li>Read the value of byte array from index 0 to till first delimiter value &quot;255&quot; and convert this byte array value into string with encoding &quot;ISO-8859-1&quot;. We will get the Email_mobile_present_bit_indicator_value as 0, 1, 2 or 3.</li>\n</ul>\n<p>Once you have the decompressed array, you can simply search for the first element in the array containing -1, which is how the byte value 255 looks in Java as Java uses signed integer for bytes. The bytes before the -1 can be converted to a string.</p>\n<p>These two steps are then repeating several times with the remaining data in the array to extract further values.</p>\n<p>Extracting the photo and the signature are slightly different as they are not strings but binary data. Again, the steps are described in the referenced document.</p>\n"}],"owner":{"account_id":1910519,"reputation":1280,"user_id":1724453,"accept_rate":69,"display_name":"Gissipi_453"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689758437,"creation_date":1604390552,"question_id":64658869,"body_markdown":"I&#39;m trying to read [AADHAAR QR code][1], a govt ID card in India. The user manual says - \r\n\r\nScanned  data  contains  the  following  data  fields  in  given  sequence,  which is embedded in byte array with the delimiter of byte value ”255” - \r\n\r\n - referenceId\r\n - name\r\n - date of birth\r\n\r\n\r\n  [1]: https://uidai.gov.in/ecosystem/authentication-devices-documents/qr-code-reader.html\r\n\r\nMy question is, \r\n1. What does it mean ? \r\n2. Can someone explain with an example?","title":"java - Understanding byte array with delimeters","body":"<p>I'm trying to read <a href=\"https://uidai.gov.in/ecosystem/authentication-devices-documents/qr-code-reader.html\" rel=\"nofollow noreferrer\">AADHAAR QR code</a>, a govt ID card in India. The user manual says -</p>\n<p>Scanned  data  contains  the  following  data  fields  in  given  sequence,  which is embedded in byte array with the delimiter of byte value ”255” -</p>\n<ul>\n<li>referenceId</li>\n<li>name</li>\n<li>date of birth</li>\n</ul>\n<p>My question is,</p>\n<ol>\n<li>What does it mean ?</li>\n<li>Can someone explain with an example?</li>\n</ol>\n"},{"tags":["java","jooq","pojo","one-to-one"],"answers":[{"comments":[{"owner":{"account_id":27909782,"reputation":13,"user_id":21312218,"display_name":"Gaziz Bakyt"},"score":0,"creation_date":1689762818,"post_id":76719748,"comment_id":135258206,"body_markdown":"what if i want to retrieve one record, not list of records?return dsl.select(city.ID, city.NAME, city.dCountries().ID.as(&quot;countryDto.id&quot;),\n              city.dCountries().NAME.as(&quot;countryDto.name&quot;)).from(city).where(city.ID.eq(cityId)).fetchOne(); doesnt work","body":"what if i want to retrieve one record, not list of records?return dsl.select(city.ID, city.NAME, city.dCountries().ID.as(&quot;countryDto.id&quot;),               city.dCountries().NAME.as(&quot;countryDto.name&quot;)).from(city).whe&zwnj;&#8203;re(city.ID.eq(cityId&zwnj;&#8203;)).fetchOne(); doesnt work"},{"owner":{"account_id":27909782,"reputation":13,"user_id":21312218,"display_name":"Gaziz Bakyt"},"score":0,"creation_date":1689767274,"post_id":76719748,"comment_id":135259181,"body_markdown":"can you please look at it? @Lukas","body":"can you please look at it? @Lukas"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1689838232,"post_id":76719748,"comment_id":135270674,"body_markdown":"@GazizBakyt Use `fetchOneInto(Class)`","body":"@GazizBakyt Use <code>fetchOneInto(Class)</code>"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689758387,"creation_date":1689758387,"answer_id":76719748,"question_id":76719098,"body_markdown":"There are two main ways of nesting records in jOOQ:\r\n\r\n### Directly in SQL\r\n\r\n[jOOQ supports SQL nested records][1] just like standard SQL and some implementations (e.g. PostgreSQL). If it&#39;s not supported natively by your RDBMS, then jOOQ will emulate it. You can attach [ad-hoc converters][2] to your nested record expressions in order to map them to your custom `CountryDto` type as follows:\r\n\r\n```java\r\nList&lt;CityDto&gt; result =\r\nctx.select(\r\n      CITY.ID,\r\n      CITY.NAME,\r\n      row(CITY.country().ID, CITY.country().NAME).mapping(CountryDto::new))\r\n   .from(CITY)\r\n   .fetch(Records.mapping(CityDto::new));\r\n```\r\n\r\nThis assumes you have appropriate constructors on your DTOs. I guess you&#39;ll have to add a lombok `@AllArgsConstructor` annotation for that purpose (I really recommend it, it will work very well with jOOQ&#39;s [ad-hoc conversion][2]!)\r\n\r\nFor convenience, I&#39;m using [implicit path joins][3], but you can obviously use explicit joins as well.\r\n\r\n### Using `DefaultRecordMapper` functionality\r\n\r\nThe [reflection based, historic `DefaultRecordMapper`][4] can nest records as well using a dot notation, if that&#39;s more your style. Just write this:\r\n\r\n```java\r\nList&lt;CityDto&gt; result =\r\nctx.select(\r\n      CITY.ID,\r\n      CITY.NAME,\r\n      CITY.country().ID.as(&quot;countryDto.id&quot;), \r\n      CITY.country().NAME.as(&quot;countryDto.name&quot;))\r\n   .from(CITY)\r\n   .fetchInto(CityDto.class);\r\n```\r\n\r\nAs this is purely reflection based, there&#39;s no type safety. As soon as you rename your properties in your DTO, the query will stop working. Personally, I recommend the explicit, type safe approach from the first solution for that reason, specifically, because it can also work with [nested collections][5].\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\r\n  [4]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/","title":"mapping jooq record entity to pojo with nested objects","body":"<p>There are two main ways of nesting records in jOOQ:</p>\n<h3>Directly in SQL</h3>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\" rel=\"nofollow noreferrer\">jOOQ supports SQL nested records</a> just like standard SQL and some implementations (e.g. PostgreSQL). If it's not supported natively by your RDBMS, then jOOQ will emulate it. You can attach <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a> to your nested record expressions in order to map them to your custom <code>CountryDto</code> type as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CityDto&gt; result =\nctx.select(\n      CITY.ID,\n      CITY.NAME,\n      row(CITY.country().ID, CITY.country().NAME).mapping(CountryDto::new))\n   .from(CITY)\n   .fetch(Records.mapping(CityDto::new));\n</code></pre>\n<p>This assumes you have appropriate constructors on your DTOs. I guess you'll have to add a lombok <code>@AllArgsConstructor</code> annotation for that purpose (I really recommend it, it will work very well with jOOQ's <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a>!)</p>\n<p>For convenience, I'm using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\" rel=\"nofollow noreferrer\">implicit path joins</a>, but you can obviously use explicit joins as well.</p>\n<h3>Using <code>DefaultRecordMapper</code> functionality</h3>\n<p>The <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\">reflection based, historic <code>DefaultRecordMapper</code></a> can nest records as well using a dot notation, if that's more your style. Just write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CityDto&gt; result =\nctx.select(\n      CITY.ID,\n      CITY.NAME,\n      CITY.country().ID.as(&quot;countryDto.id&quot;), \n      CITY.country().NAME.as(&quot;countryDto.name&quot;))\n   .from(CITY)\n   .fetchInto(CityDto.class);\n</code></pre>\n<p>As this is purely reflection based, there's no type safety. As soon as you rename your properties in your DTO, the query will stop working. Personally, I recommend the explicit, type safe approach from the first solution for that reason, specifically, because it can also work with <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\">nested collections</a>.</p>\n"}],"owner":{"account_id":27909782,"reputation":13,"user_id":21312218,"display_name":"Gaziz Bakyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76719748,"answer_count":1,"score":1,"last_activity_date":1689758387,"creation_date":1689753522,"question_id":76719098,"body_markdown":"i have two tables d_cities, d_countries. Mapping between them is unidirectional like this:\r\n\r\n![relation](https://i.stack.imgur.com/vBUXl.png)\r\n\r\nalso, i have two pojo dtos like this:\r\n\r\n![relation between dto](https://i.stack.imgur.com/Twt5F.png)\r\n\r\nEntity classes are jooq generated.\r\n\r\nNow I can&#39;t come up with the decision how can I retrieve response like this when i call getCityById(String cityId): \r\n\r\n![cityDto](https://i.stack.imgur.com/F8wwa.png)\r\n\r\nCan you please help me with this problem? I am very new to JOOQ and DSLContext methods.\r\n\r\n","title":"mapping jooq record entity to pojo with nested objects","body":"<p>i have two tables d_cities, d_countries. Mapping between them is unidirectional like this:</p>\n<p><img src=\"https://i.stack.imgur.com/vBUXl.png\" alt=\"relation\" /></p>\n<p>also, i have two pojo dtos like this:</p>\n<p><img src=\"https://i.stack.imgur.com/Twt5F.png\" alt=\"relation between dto\" /></p>\n<p>Entity classes are jooq generated.</p>\n<p>Now I can't come up with the decision how can I retrieve response like this when i call getCityById(String cityId):</p>\n<p><img src=\"https://i.stack.imgur.com/F8wwa.png\" alt=\"cityDto\" /></p>\n<p>Can you please help me with this problem? I am very new to JOOQ and DSLContext methods.</p>\n"},{"tags":["java","xml","sax","cdata"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689760824,"post_id":76719718,"comment_id":135257802,"body_markdown":"It works for me.","body":"It works for me."}],"owner":{"account_id":1026899,"reputation":6910,"user_id":1036017,"accept_rate":70,"display_name":"RajV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689758386,"creation_date":1689758212,"question_id":76719718,"body_markdown":"Java SAX parser throws error if a CDATA section ends with a &quot;]&quot; and XML version is 1.1.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;book&gt;\r\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\r\n&lt;/book&gt;\r\n```\r\n\r\nError:\r\n\r\n```\r\nXML document structures must start and end within the same entity.\r\n```\r\n\r\nThe same works just fine with XML 1.0.\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;book&gt;\r\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\r\n&lt;/book&gt;\r\n```\r\n\r\nHaving the text end with a &quot;]&quot; should not be a problem. Only the sequence &quot;]]&gt;&quot; is not allowed there. Why would XML 1.1 not work here?\r\n\r\nMy Java version:\r\n\r\nopenjdk version &quot;17.0.7&quot; 2023-04-18","title":"Why CDATA fails to parse in XML 1.1?","body":"<p>Java SAX parser throws error if a CDATA section ends with a &quot;]&quot; and XML version is 1.1.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;book&gt;\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\n&lt;/book&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>XML document structures must start and end within the same entity.\n</code></pre>\n<p>The same works just fine with XML 1.0.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;book&gt;\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\n&lt;/book&gt;\n</code></pre>\n<p>Having the text end with a &quot;]&quot; should not be a problem. Only the sequence &quot;]]&gt;&quot; is not allowed there. Why would XML 1.1 not work here?</p>\n<p>My Java version:</p>\n<p>openjdk version &quot;17.0.7&quot; 2023-04-18</p>\n"},{"tags":["java","android","android-studio","lucene"],"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1512646309,"post_id":47657615,"comment_id":82347431,"body_markdown":"did you first check if Lucene jars could be used on Android ( as is - out of the box ) ?","body":"did you first check if Lucene jars could be used on Android ( as is - out of the box ) ?"},{"owner":{"account_id":9707917,"reputation":57,"user_id":7200804,"display_name":"candreva"},"score":0,"creation_date":1512807250,"post_id":47657615,"comment_id":82413764,"body_markdown":"Thanks for the answer. But I decided to implement a web server and run lucene on it. I think It is better solution.","body":"Thanks for the answer. But I decided to implement a web server and run lucene on it. I think It is better solution."}],"answers":[{"tags":[],"owner":{"account_id":4672769,"reputation":196,"user_id":3784157,"display_name":"Pascal Chardon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595570592,"creation_date":1595570592,"answer_id":63067729,"question_id":47657615,"body_markdown":"Android does not fully support java8 features (See [https://developer.android.com/studio/write/java8-support][1]). The last release of Lucene on java 6 is 4.7. Compatibility of Lucene 4.7 with android is theoretically fine. \r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"Lucene Android NoClassDefFoundError","body":"<p>Android does not fully support java8 features (See <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support</a>). The last release of Lucene on java 6 is 4.7. Compatibility of Lucene 4.7 with android is theoretically fine.</p>\n"},{"tags":[],"owner":{"account_id":29047512,"reputation":1,"user_id":22251021,"display_name":"texopher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689758210,"creation_date":1689758210,"answer_id":76719717,"question_id":47657615,"body_markdown":"This modification of Lucene 7.3.0 has fixed &#39;Missing java.lang.ClassValue class&#39; error in Android 8.0 or above: https://github.com/texophen/lucene-android\r\n\r\nSee this answer ( https://stackoverflow.com/a/76719236/22251021 ) for how to use it.","title":"Lucene Android NoClassDefFoundError","body":"<p>This modification of Lucene 7.3.0 has fixed 'Missing java.lang.ClassValue class' error in Android 8.0 or above: <a href=\"https://github.com/texophen/lucene-android\" rel=\"nofollow noreferrer\">https://github.com/texophen/lucene-android</a></p>\n<p>See this answer ( <a href=\"https://stackoverflow.com/a/76719236/22251021\">https://stackoverflow.com/a/76719236/22251021</a> ) for how to use it.</p>\n"}],"owner":{"account_id":9707917,"reputation":57,"user_id":7200804,"display_name":"candreva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689758210,"creation_date":1512489105,"question_id":47657615,"body_markdown":"&lt;!-- What are you trying to accomplish? (Please include sample data.) --&gt;\r\nI am developing a mobile application using Lucene. When I use `BooleanQuery` it works. But when I use `WildcardQuery` or `FuzzyQuery` I get a java.lang.NoClassDefFoundError at the runtime. I know android studio supports maven by default. I checked external libraries and all jars added.\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\nMy build.gradle file has these dependencies:\r\n\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-core&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-analyzers-common&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-codecs&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-queryparser&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-queries&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-sandbox&#39;, version: &#39;7.0.1&#39;\r\n\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\nNoClassDefFound error:\r\n\r\n    Process: com.example.eren.lucene, PID: 7215\r\n       java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/ClassValue;\r\n           at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)\r\n           at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)\r\n           at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)\r\n           at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)\r\n           at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)\r\n           at android.app.Activity.performCreate(Activity.java:6975)\r\n           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n           at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n           at android.os.Handler.dispatchMessage(Handler.java:105)\r\n           at android.os.Looper.loop(Looper.java:164)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n           at java.lang.reflect.Method.invoke(Native Method)\r\n           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n        Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.ClassValue&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/base.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/lib/x86, /system/lib, /vendor/lib]]\r\n           at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\r\n           at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n           at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n           at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)&#160;\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)&#160;\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)&#160;\r\n           at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)&#160;\r\n           at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)&#160;\r\n           at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)&#160;\r\n           at android.app.Activity.performCreate(Activity.java:6975)&#160;\r\n           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)&#160;\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)&#160;\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n           at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n           at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n           at android.os.Looper.loop(Looper.java:164)&#160;\r\n           at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n           at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\n&lt;!-- What is the actual result you get? (Please include any errors.) --&gt;\r\nAny idea to solve this problem?","title":"Lucene Android NoClassDefFoundError","body":"<p>\nI am developing a mobile application using Lucene. When I use <code>BooleanQuery</code> it works. But when I use <code>WildcardQuery</code> or <code>FuzzyQuery</code> I get a java.lang.NoClassDefFoundError at the runtime. I know android studio supports maven by default. I checked external libraries and all jars added.\n\nMy build.gradle file has these dependencies:</p>\n\n<pre><code>compile group: 'org.apache.lucene', name: 'lucene-core', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-analyzers-common', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-codecs', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-queryparser', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-queries', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-sandbox', version: '7.0.1'\n</code></pre>\n\n<p>\nNoClassDefFound error:</p>\n\n<pre><code>Process: com.example.eren.lucene, PID: 7215\n   java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/ClassValue;\n       at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)\n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)\n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)\n       at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)\n       at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)\n       at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)\n       at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)\n       at android.app.Activity.performCreate(Activity.java:6975)\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n       at android.app.ActivityThread.-wrap11(Unknown Source:0)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n       at android.os.Handler.dispatchMessage(Handler.java:105)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6541)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n    Caused by: java.lang.ClassNotFoundException: Didn't find class \"java.lang.ClassValue\" on path: DexPathList[[zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/base.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/lib/x86, /system/lib, /vendor/lib]]\n       at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n       at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300) \n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141) \n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581) \n       at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450) \n       at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262) \n       at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216) \n       at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48) \n       at android.app.Activity.performCreate(Activity.java:6975) \n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213) \n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770) \n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n       at android.app.ActivityThread.-wrap11(Unknown Source:0) \n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n       at android.os.Handler.dispatchMessage(Handler.java:105) \n       at android.os.Looper.loop(Looper.java:164) \n       at android.app.ActivityThread.main(ActivityThread.java:6541) \n       at java.lang.reflect.Method.invoke(Native Method) \n       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n</code></pre>\n\n<p>\nAny idea to solve this problem?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1650432010,"creation_date":1650432010,"answer_id":71934462,"question_id":71924902,"body_markdown":"1) Exit Android Studio\r\n2) Kill all Gradle processes\r\n3) Delete `C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock`\r\n4) Try again","title":"Gradle could not start your build","body":"<ol>\n<li>Exit Android Studio</li>\n<li>Kill all Gradle processes</li>\n<li>Delete <code>C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock</code></li>\n<li>Try again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671187185,"creation_date":1671186234,"answer_id":74823097,"question_id":71924902,"body_markdown":"I was trying in visual studio code terminal(powershell/cmd) use -&gt; `./gradlew --stop`\r\n\r\nbut if you don&#39;t want to use this then simply restart your PC\r\n\r\n","title":"Gradle could not start your build","body":"<p>I was trying in visual studio code terminal(powershell/cmd) use -&gt; <code>./gradlew --stop</code></p>\n<p>but if you don't want to use this then simply restart your PC</p>\n"},{"tags":[],"owner":{"account_id":9213685,"reputation":11,"user_id":6845794,"display_name":"Pratik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681201544,"creation_date":1681201544,"answer_id":75983835,"question_id":71924902,"body_markdown":"Simply execute the below command in your terminal/command prompt and the error should be resolved \r\n\r\ntaskkill /F /PID &lt;Owner PID&gt;","title":"Gradle could not start your build","body":"<p>Simply execute the below command in your terminal/command prompt and the error should be resolved</p>\n<p>taskkill /F /PID </p>\n"},{"tags":[],"owner":{"account_id":7568990,"reputation":19,"user_id":5743532,"display_name":"Sanjay Karki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689757877,"creation_date":1689757877,"answer_id":76719668,"question_id":71924902,"body_markdown":"If using 2 different version of Android Studio. Close both and just restart the pc and then just open the Android Studio you were facing the problem. Doing so will end the gradle process and there won&#39;t be any issue. Running different Android Studio Version at a same time will cause such problems.","title":"Gradle could not start your build","body":"<p>If using 2 different version of Android Studio. Close both and just restart the pc and then just open the Android Studio you were facing the problem. Doing so will end the gradle process and there won't be any issue. Running different Android Studio Version at a same time will cause such problems.</p>\n"}],"owner":{"account_id":24288860,"reputation":33,"user_id":18234230,"display_name":"kevlar_224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71934462,"answer_count":4,"score":3,"last_activity_date":1689757877,"creation_date":1650371044,"question_id":71924902,"body_markdown":"I am getting an error with Gradle every time I try to run a program in android studio. I believe this error was caused by me closing out of android studio while Gradle was loading something and it didn&#39;t complete its task. I have seen some people online suggest ``.\\gradlew --stop`` which doesn&#39;t seem to be working. Has anyone encountered the same issue?\r\n\r\n\r\n```Gradle could not start your build.\r\n&gt; Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\r\n   &gt; Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\r\n      &gt; Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\r\n        Owner PID: 5916\r\n        Our PID: 30496\r\n        Owner Operation: \r\n        Our operation: \r\n        Lock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.initialization.exception.InitializationException: Gradle could not start your build.\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\r\n\tat org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\r\n\tat org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: org.gradle.internal.service.ServiceCreationException: Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:798)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.prepare(DefaultServiceRegistry.java:683)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.getService(DefaultServiceRegistry.java:706)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$OwnServices.getService(DefaultServiceRegistry.java:442)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$CompositeServiceProvider.getService(DefaultServiceRegistry.java:991)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1077)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getService(DefaultServiceRegistry.java:321)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:315)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:300)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:295)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\t... 30 more\r\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:896)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:821)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1124)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1106)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1069)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.access$1600(DefaultServiceRegistry.java:75)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:796)\r\n\t... 71 more\r\nCaused by: org.gradle.cache.LockTimeoutException: Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\r\nOwner PID: 5916\r\nOur PID: 30496\r\nOwner Operation: \r\nOur operation: \r\nLock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.timeoutException(DefaultFileLockManager.java:344)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.lock(DefaultFileLockManager.java:305)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.&lt;init&gt;(DefaultFileLockManager.java:164)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:110)\r\n\tat org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.incrementLockCount(LockOnDemandCrossProcessCacheAccess.java:106)\r\n\tat org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.acquireFileLock(LockOnDemandCrossProcessCacheAccess.java:168)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.onStartWork(DefaultCacheAccess.java:375)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:211)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:201)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:292)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:61)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.createCache(DefaultPersistentDirectoryStore.java:173)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.createCache(DefaultCacheFactory.java:194)\r\n\tat org.gradle.api.internal.changedetection.state.DefaultFileAccessTimeJournal.&lt;init&gt;(DefaultFileAccessTimeJournal.java:55)\r\n\tat org.gradle.internal.service.scopes.GradleUserHomeScopeServices.createFileAccessTimeJournal(GradleUserHomeScopeServices.java:241)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:894)\r\n\t... 95 more\r\n```\r\n\r\n\r\n  [\\[1\\]: https://i.stack.imgur.com/TcvqZ.png][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Iyhl.png","title":"Gradle could not start your build","body":"<p>I am getting an error with Gradle every time I try to run a program in android studio. I believe this error was caused by me closing out of android studio while Gradle was loading something and it didn't complete its task. I have seen some people online suggest <code>.\\gradlew --stop</code> which doesn't seem to be working. Has anyone encountered the same issue?</p>\n<pre><code>&gt; Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\n   &gt; Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\n      &gt; Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\n        Owner PID: 5916\n        Our PID: 30496\n        Owner Operation: \n        Our operation: \n        Lock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.initialization.exception.InitializationException: Gradle could not start your build.\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\n    at org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\n    at org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:67)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.internal.service.ServiceCreationException: Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:798)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.prepare(DefaultServiceRegistry.java:683)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.getService(DefaultServiceRegistry.java:706)\n    at org.gradle.internal.service.DefaultServiceRegistry$OwnServices.getService(DefaultServiceRegistry.java:442)\n    at org.gradle.internal.service.DefaultServiceRegistry$CompositeServiceProvider.getService(DefaultServiceRegistry.java:991)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1077)\n    at org.gradle.internal.service.DefaultServiceRegistry.getService(DefaultServiceRegistry.java:321)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:315)\n    at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:300)\n    at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:295)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    ... 30 more\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:896)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:821)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1124)\n    at org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1106)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1069)\n    at org.gradle.internal.service.DefaultServiceRegistry.access$1600(DefaultServiceRegistry.java:75)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:796)\n    ... 71 more\nCaused by: org.gradle.cache.LockTimeoutException: Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\nOwner PID: 5916\nOur PID: 30496\nOwner Operation: \nOur operation: \nLock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.timeoutException(DefaultFileLockManager.java:344)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.lock(DefaultFileLockManager.java:305)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.&lt;init&gt;(DefaultFileLockManager.java:164)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:110)\n    at org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.incrementLockCount(LockOnDemandCrossProcessCacheAccess.java:106)\n    at org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.acquireFileLock(LockOnDemandCrossProcessCacheAccess.java:168)\n    at org.gradle.cache.internal.DefaultCacheAccess.onStartWork(DefaultCacheAccess.java:375)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:211)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:201)\n    at org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:292)\n    at org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:61)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.createCache(DefaultPersistentDirectoryStore.java:173)\n    at org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.createCache(DefaultCacheFactory.java:194)\n    at org.gradle.api.internal.changedetection.state.DefaultFileAccessTimeJournal.&lt;init&gt;(DefaultFileAccessTimeJournal.java:55)\n    at org.gradle.internal.service.scopes.GradleUserHomeScopeServices.createFileAccessTimeJournal(GradleUserHomeScopeServices.java:241)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:894)\n    ... 95 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4Iyhl.png\" rel=\"nofollow noreferrer\">[1]: https://i.stack.imgur.com/TcvqZ.png</a></p>\n"},{"tags":["java","xml","soap","jaxb","wsdl"],"owner":{"account_id":20230999,"reputation":1,"user_id":14837551,"display_name":"Rohan Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689757546,"creation_date":1689743595,"question_id":76718153,"body_markdown":"I am trying to unmarshall similar xml responses using existing objects generated from wsdl file but I can see my object is empty. verified and understood unmarshaller is taking envelope tag as namespace. Does anyone knows how we can fix this..\r\n\r\n\r\n\r\n&lt;!-- begin snippet --&gt;\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;SOAP-ENV:Header/&gt;\r\n        &lt;SOAP-ENV:Body&gt;\r\n            &lt;ns4:test xmlns:ns3=&quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns:ns4=&quot;http://example.com/test&quot;&gt;\r\n                &lt;Id&gt;95&lt;/Id&gt;\r\n                &lt;Result&gt;\r\n                    &lt;Status&gt;OK&lt;/Status&gt;\r\n                &lt;/Result&gt;\r\n            &lt;/ns4:SignNewCertificateResponse&gt;\r\n        &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI am trying to remove envelope tags manually that way I am able to get results","title":"JAXB unmarshaling with envelope Tag","body":"<p>I am trying to unmarshall similar xml responses using existing objects generated from wsdl file but I can see my object is empty. verified and understood unmarshaller is taking envelope tag as namespace. Does anyone knows how we can fix this..</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;SOAP-ENV:Header/&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;ns4:test xmlns:ns3=&quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns:ns4=&quot;http://example.com/test&quot;&gt;\n            &lt;Id&gt;95&lt;/Id&gt;\n            &lt;Result&gt;\n                &lt;Status&gt;OK&lt;/Status&gt;\n            &lt;/Result&gt;\n        &lt;/ns4:SignNewCertificateResponse&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>I am trying to remove envelope tags manually that way I am able to get results</p>\n"},{"tags":["java","spring-boot","events","oauth-2.0","google-calendar-api"],"owner":{"account_id":29007208,"reputation":1,"user_id":22219441,"display_name":"Ganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689756898,"creation_date":1689756898,"question_id":76719537,"body_markdown":"Why i am getting this error in google calendar integration. i give all permissions and scope from my app.\r\n\r\nwhy showing Access Denied while intergrating google calendar with springboot app. and try to create events.\r\n\r\n```\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nThis is my config file -\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.SecurityBuilder;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t.authorizeHttpRequests((authz) -&gt; authz\r\n\t\t\t\t\r\n                .anyRequest().authenticated()\r\n                \r\n                \r\n            )\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n}\r\n\r\n}\r\n```\r\n\r\n  Can some one tell me what is problem with my code. i wanted to create event manually ","title":"why showing Access Denied while intergrating google calendar with springboot app. and try to create events","body":"<p>Why i am getting this error in google calendar integration. i give all permissions and scope from my app.</p>\n<p>why showing Access Denied while intergrating google calendar with springboot app. and try to create events.</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>This is my config file -</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.SecurityBuilder;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .authorizeHttpRequests((authz) -&gt; authz\n                \n                .anyRequest().authenticated()\n                \n                \n            )\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n}\n\n}\n</code></pre>\n<p>Can some one tell me what is problem with my code. i wanted to create event manually</p>\n"},{"tags":["java","android","kotlin","dagger-2"],"comments":[{"owner":{"account_id":8440660,"reputation":497,"user_id":6333296,"accept_rate":57,"display_name":"Al Ryan Acain"},"score":0,"creation_date":1641428798,"post_id":70588755,"comment_id":124805453,"body_markdown":"Well I guess Android devs in SO don&#39;t understand the the code either","body":"Well I guess Android devs in SO don&#39;t understand the the code either"},{"owner":{"account_id":1016545,"reputation":434,"user_id":1028008,"display_name":"ycagri"},"score":0,"creation_date":1643273032,"post_id":70588755,"comment_id":125297029,"body_markdown":"the constructor has `@Inject` annotation. Therefore, the map in the constructor is injected by dagger. You define map items in the ViewModelModule class by using `@IntoMap` annotation. Basically, when a viewmodel is injected to any ui component, ViewModelFactory create method is called. In the create method, it simply checks whether map contains provider for that viewmodel. If so, creates it.","body":"the constructor has <code>@Inject</code> annotation. Therefore, the map in the constructor is injected by dagger. You define map items in the ViewModelModule class by using <code>@IntoMap</code> annotation. Basically, when a viewmodel is injected to any ui component, ViewModelFactory create method is called. In the create method, it simply checks whether map contains provider for that viewmodel. If so, creates it."}],"answers":[{"tags":[],"owner":{"account_id":9162377,"reputation":459,"user_id":6813298,"display_name":"Marjan Davodinejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653235315,"creation_date":1653235315,"answer_id":72339204,"question_id":70588755,"body_markdown":"I have built a project using Dagger and MVVM and I implement DaggerMultiBinding too.\r\nhttps://github.com/marjandn/GitHub\r\n\r\n***Basically, the scenario is that Dagger will create an implicit Map filled with Provider&lt;ViewModel&gt; objects and put it onto the objects graph.***\r\n\r\n**With more details:**\r\n\r\nWe created an annotation class:\r\n\r\n    @MustBeDocumented\r\n    @Target(\r\n        AnnotationTarget.FUNCTION,\r\n        AnnotationTarget.PROPERTY_GETTER,\r\n        AnnotationTarget.PROPERTY_SETTER\r\n    )\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    @MapKey\r\n    annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\r\n\r\nbasically says that the services returned by these methods should be inserted into Map.\r\n    The keys in this Map will be of type Class&lt;? extends ViewModel&gt; and the values will be of type &lt;? extends ViewModel&gt; (subclass of ViewModel).\r\n    As a result, Dagger will create an implicit Map filled with Provider&lt;ViewModel&gt; objects and put it onto the objects graph\r\n\r\nand in ViewModelModules we defined our ViewModels like this:\r\n\r\n        @Binds\r\n        @IntoMap\r\n        @ViewModelKey(DashboardViewModel::class)\r\n        abstract fun bindDashboardActivityVM(dashboardViewModel: DashboardViewModel): ViewModel\r\n    \r\n        @Binds\r\n        @IntoMap\r\n        @ViewModelKey(HomeViewModel::class)\r\n        abstract fun bindHomeVM(homeViewModel: HomeViewModel): ViewModel\r\n\r\n        \r\n\r\nyou can see that we use annotation class that we created already for ViewModels.\r\n\r\n @IntoMap annotation says that Provider object for this service will be inserted into Map, and @ViewModelKey annotation specifies under which\r\n    key it will reside.\r\n    The net result of the above code will be that Dagger will create Map data structure\r\n    filled with Provider&lt;ViewModel&gt; objects and then provide it implicitly to other services.\r\n\r\nwith this command we get an instance of a viewmodel \r\n\r\n    ViewModelProviders.of(this, viewModelFactory)[getViewModel()]\r\n\r\nFinally ViewModelFactory class has a Map parameter that is Dagger created Map of ViewModels. and in body of ViewModelFactory searchs in Map to find corresponding Viewmodel.","title":"How does the Provider Interface used in ViewModel Factory works?","body":"<p>I have built a project using Dagger and MVVM and I implement DaggerMultiBinding too.\n<a href=\"https://github.com/marjandn/GitHub\" rel=\"nofollow noreferrer\">https://github.com/marjandn/GitHub</a></p>\n<p><em><strong>Basically, the scenario is that Dagger will create an implicit Map filled with Provider objects and put it onto the objects graph.</strong></em></p>\n<p><strong>With more details:</strong></p>\n<p>We created an annotation class:</p>\n<pre><code>@MustBeDocumented\n@Target(\n    AnnotationTarget.FUNCTION,\n    AnnotationTarget.PROPERTY_GETTER,\n    AnnotationTarget.PROPERTY_SETTER\n)\n@Retention(AnnotationRetention.RUNTIME)\n@MapKey\nannotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n<p>basically says that the services returned by these methods should be inserted into Map.\nThe keys in this Map will be of type Class&lt;? extends ViewModel&gt; and the values will be of type &lt;? extends ViewModel&gt; (subclass of ViewModel).\nAs a result, Dagger will create an implicit Map filled with Provider objects and put it onto the objects graph</p>\n<p>and in ViewModelModules we defined our ViewModels like this:</p>\n<pre><code>    @Binds\n    @IntoMap\n    @ViewModelKey(DashboardViewModel::class)\n    abstract fun bindDashboardActivityVM(dashboardViewModel: DashboardViewModel): ViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(HomeViewModel::class)\n    abstract fun bindHomeVM(homeViewModel: HomeViewModel): ViewModel\n\n    \n</code></pre>\n<p>you can see that we use annotation class that we created already for ViewModels.</p>\n<p>@IntoMap annotation says that Provider object for this service will be inserted into Map, and @ViewModelKey annotation specifies under which\nkey it will reside.\nThe net result of the above code will be that Dagger will create Map data structure\nfilled with Provider objects and then provide it implicitly to other services.</p>\n<p>with this command we get an instance of a viewmodel</p>\n<pre><code>ViewModelProviders.of(this, viewModelFactory)[getViewModel()]\n</code></pre>\n<p>Finally ViewModelFactory class has a Map parameter that is Dagger created Map of ViewModels. and in body of ViewModelFactory searchs in Map to find corresponding Viewmodel.</p>\n"}],"owner":{"account_id":8440660,"reputation":497,"user_id":6333296,"accept_rate":57,"display_name":"Al Ryan Acain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689756203,"creation_date":1641364953,"question_id":70588755,"body_markdown":"Recently, I&#39;ve been reading all over the internet about how to inject ViewModels using Dagger. The most common approach is to create a factory to delegate the creation of the ViewModel. Below is likely the code for the factory:\r\n\r\n    @Singleton\r\n    class MainViewModelFactory @Inject constructor(\r\n        private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\r\n    ) : ViewModelProvider.Factory {\r\n        override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\r\n            val creator = creators[modelClass] ?: creators.entries.firstOrNull {\r\n                modelClass.isAssignableFrom(it.key)\r\n            }?.value ?: throw IllegalArgumentException(&quot;unknown model class $modelClass&quot;)\r\n\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return creator.get() as T\r\n        }\r\n    }\r\n\r\nBut I can&#39;t fully understand the parameter of the factory:\r\n\r\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\r\n\r\nWhat exactly is this `Provider` interface? And how does this work?\r\nAlso, what is the `@JvmSuppressWildcards` annotation for?","title":"How does the Provider Interface used in ViewModel Factory works?","body":"<p>Recently, I've been reading all over the internet about how to inject ViewModels using Dagger. The most common approach is to create a factory to delegate the creation of the ViewModel. Below is likely the code for the factory:</p>\n<pre><code>@Singleton\nclass MainViewModelFactory @Inject constructor(\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        val creator = creators[modelClass] ?: creators.entries.firstOrNull {\n            modelClass.isAssignableFrom(it.key)\n        }?.value ?: throw IllegalArgumentException(&quot;unknown model class $modelClass&quot;)\n\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\n        return creator.get() as T\n    }\n}\n</code></pre>\n<p>But I can't fully understand the parameter of the factory:</p>\n<pre><code>private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n</code></pre>\n<p>What exactly is this <code>Provider</code> interface? And how does this work?\nAlso, what is the <code>@JvmSuppressWildcards</code> annotation for?</p>\n"},{"tags":["java","multi-module","quarkus"],"answers":[{"comments":[{"owner":{"account_id":10266087,"reputation":726,"user_id":7576029,"display_name":"Emre Isik"},"score":4,"creation_date":1554377191,"post_id":55513723,"comment_id":97734144,"body_markdown":"Yes, I used the empty  `beans.xml` method and it worked perfectly.","body":"Yes, I used the empty  <code>beans.xml</code> method and it worked perfectly."},{"owner":{"account_id":10266087,"reputation":726,"user_id":7576029,"display_name":"Emre Isik"},"score":0,"creation_date":1554377395,"post_id":55513723,"comment_id":97734286,"body_markdown":"And i want to mention that it also scans and finds endpoints in the other module.\nAnd also hibernate validation annotations are recognized :)\nBefore adding the jandex index it doesn&#39;t recognize JAX-RS beans in other modules.","body":"And i want to mention that it also scans and finds endpoints in the other module. And also hibernate validation annotations are recognized :) Before adding the jandex index it doesn&#39;t recognize JAX-RS beans in other modules."},{"owner":{"account_id":135620,"reputation":12665,"user_id":338614,"accept_rate":22,"display_name":"Harald Wellmann"},"score":5,"creation_date":1554383995,"post_id":55513723,"comment_id":97738654,"body_markdown":"It would be very helpful to have this information in the Quarkus User Guide.","body":"It would be very helpful to have this information in the Quarkus User Guide."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1554387939,"post_id":55513723,"comment_id":97741442,"body_markdown":"Would it perhaps make sense to add a dependency to Jandex `2.1.1.Final` to the `jandex-maven-plugin` until https://github.com/wildfly/jandex-maven-plugin/pull/13 lands and the plugin is bumped?","body":"Would it perhaps make sense to add a dependency to Jandex <code>2.1.1.Final</code> to the <code>jandex-maven-plugin</code> until <a href=\"https://github.com/wildfly/jandex-maven-plugin/pull/13\" rel=\"nofollow noreferrer\">github.com/wildfly/jandex-maven-plugin/pull/13</a> lands and the plugin is bumped?"},{"owner":{"account_id":994674,"reputation":400,"user_id":1010947,"accept_rate":20,"display_name":"Rafael Soares - tuelho"},"score":0,"creation_date":1557236216,"post_id":55513723,"comment_id":98691474,"body_markdown":"I faced this issue today trying to run the `quarkus-quickstarts/hibernate-orm-resteasy`. It only worked adding the `Jandex` Plugin in the `pom.xml`. Adding `beans.xml` does not solve...","body":"I faced this issue today trying to run the <code>quarkus-quickstarts&#47;hibernate-orm-resteasy</code>. It only worked adding the <code>Jandex</code> Plugin in the <code>pom.xml</code>. Adding <code>beans.xml</code> does not solve..."},{"owner":{"account_id":6122315,"reputation":2084,"user_id":4775487,"display_name":"Harold Castillo"},"score":0,"creation_date":1561260773,"post_id":55513723,"comment_id":100002454,"body_markdown":"Very useful, *Indexing other dependencies* for me; I had the entities in a external project and when adding the properties to the application.properties it worked wonderfully.","body":"Very useful, <i>Indexing other dependencies</i> for me; I had the entities in a external project and when adding the properties to the application.properties it worked wonderfully."},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":4,"creation_date":1561518135,"post_id":55513723,"comment_id":100085649,"body_markdown":"What of us using Gradle? Could you post an equivalent to the Maven code? `beans.xml` doesn&#39;t work for me either","body":"What of us using Gradle? Could you post an equivalent to the Maven code? <code>beans.xml</code> doesn&#39;t work for me either"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1571689921,"post_id":55513723,"comment_id":103317323,"body_markdown":"&quot;If you add an empty META-INF/beans.xml file in your src/main/resources, the classes will also be indexed.&quot;         #morejavaDIVoodoo  But I&#39;ll take it.  Thanks!","body":"&quot;If you add an empty META-INF/beans.xml file in your src/main/resources, the classes will also be indexed.&quot;         #morejavaDIVoodoo  But I&#39;ll take it.  Thanks!"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1575028273,"post_id":55513723,"comment_id":104440484,"body_markdown":"&quot;the classes will also be indexed.&quot; which classes you mean? The classes from **your** project or the classes from 3rd party libs? If you mean **your** classes, no `beans.xml` is needed. If you mean 3rd party classes, the latter does not work for me: If I put `META-INF/beans.xml`, 3rd party libs are **NOT** scanned: https://stackoverflow.com/questions/59080009/quarkus-cannot-index-classes-with-beans-xml","body":"&quot;the classes will also be indexed.&quot; which classes you mean? The classes from <b>your</b> project or the classes from 3rd party libs? If you mean <b>your</b> classes, no <code>beans.xml</code> is needed. If you mean 3rd party classes, the latter does not work for me: If I put <code>META-INF&#47;beans.xml</code>, 3rd party libs are <b>NOT</b> scanned: <a href=\"https://stackoverflow.com/questions/59080009/quarkus-cannot-index-classes-with-beans-xml\" title=\"quarkus cannot index classes with beans xml\">stackoverflow.com/questions/59080009/&hellip;</a>"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1575843400,"post_id":55513723,"comment_id":104692118,"body_markdown":"If you want to scan for components, the `META-INF/beans.xml` resource must **not** be added to the main application but to each jar. This cannot be easily done with typical dependencies (libraries).","body":"If you want to scan for components, the <code>META-INF&#47;beans.xml</code> resource must <b>not</b> be added to the main application but to each jar. This cannot be easily done with typical dependencies (libraries)."},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1575845426,"post_id":55513723,"comment_id":104692619,"body_markdown":"@nimo23 We are only talking here about external modules so, yes, adding it to the main module won&#39;t work. It&#39;s a marker for your external modules. For external jars, see the other option with `quarkus.index-dependency`. Everything is carefully explained in my answer.","body":"@nimo23 We are only talking here about external modules so, yes, adding it to the main module won&#39;t work. It&#39;s a marker for your external modules. For external jars, see the other option with <code>quarkus.index-dependency</code>. Everything is carefully explained in my answer."},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1575847104,"post_id":55513723,"comment_id":104692939,"body_markdown":"I added dependencies by `quarkus.index-dependency`, a lot of those are registered successfully by quarkus, however, not all - there are still dependencies under the list of `Unable to properly register the hierarchy of the..` when compiling. Why? Are there any restrictions of dependencies which are resolvable?","body":"I added dependencies by <code>quarkus.index-dependency</code>, a lot of those are registered successfully by quarkus, however, not all - there are still dependencies under the list of <code>Unable to properly register the hierarchy of the..</code> when compiling. Why? Are there any restrictions of dependencies which are resolvable?"},{"owner":{"account_id":4703915,"reputation":2852,"user_id":3806701,"accept_rate":53,"display_name":"cs_pupil"},"score":0,"creation_date":1602801564,"post_id":55513723,"comment_id":113842838,"body_markdown":"Using the last method, should &lt;name&gt; match the class name of the object you&#39;re trying to inject from your 3rd party library? I&#39;m still getting `UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;name&gt; and qualifiers [@Default]` after updating application.properties.","body":"Using the last method, should &lt;name&gt; match the class name of the object you&#39;re trying to inject from your 3rd party library? I&#39;m still getting <code>UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;name&gt; and qualifiers [@Default]</code> after updating application.properties."},{"owner":{"account_id":4215774,"reputation":524,"user_id":3452039,"display_name":"Mehdi Benmesssaoud"},"score":0,"creation_date":1612277559,"post_id":55513723,"comment_id":116712798,"body_markdown":"Adding empty beans.xml does work. anyone has any idea how does that works !","body":"Adding empty beans.xml does work. anyone has any idea how does that works !"},{"owner":{"account_id":316148,"reputation":865,"user_id":632153,"accept_rate":83,"display_name":"raven"},"score":2,"creation_date":1655813592,"post_id":55513723,"comment_id":128415816,"body_markdown":"just to clarify you have to add the jandex maven plugin to the &#39;library&#39; module, not the module that depends upon the library module.","body":"just to clarify you have to add the jandex maven plugin to the &#39;library&#39; module, not the module that depends upon the library module."},{"owner":{"account_id":6608090,"reputation":61,"user_id":5470658,"accept_rate":0,"display_name":"Sambhav Khare"},"score":0,"creation_date":1681208515,"post_id":55513723,"comment_id":134015774,"body_markdown":"There is one problem with indexing: If you index any dependency which has the same package and class name then dependency class methods will be overridden by main module class methods.","body":"There is one problem with indexing: If you index any dependency which has the same package and class name then dependency class methods will be overridden by main module class methods."}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":16,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1689755881,"creation_date":1554373916,"answer_id":55513723,"question_id":55513502,"body_markdown":"Quarkus automatically indexes the main module but, when you have additional modules containing CDI beans, entities, objects serialized as JSON, you need to explicitly index them.\r\n\r\nThere are a couple of different (easy to implement) options to do so.\r\n\r\n**Using the Jandex Maven plugin**\r\n\r\nAdd the following to the `pom.xml` of the module you want to index:\r\n\r\n```xml\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-index&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;jandex&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nIt&#39;s the most beneficial option if your dependency is external to your project and you want to build the index once and for all.\r\n\r\n**Using the Gradle Jandex plugin**\r\n\r\nIf you are using Gradle, there is a third party plugin allowing to generate a Jandex index: https://github.com/kordamp/jandex-gradle-plugin .\r\n\r\n**Adding an empty META-INF/beans.xml**\r\n\r\nIf you add an empty `META-INF/beans.xml` file in the additional module `src/main/resources`, the classes will also be indexed.\r\n\r\nThe classes will be indexed by Quarkus itself.\r\n\r\n**Indexing other dependencies**\r\n\r\nIf you can&#39;t modify the dependency (think of a third-party dependency, for instance), you can still index it by adding an entry to your `application.properties`:\r\n\r\n    quarkus.index-dependency.&lt;name&gt;.group-id=\r\n    quarkus.index-dependency.&lt;name&gt;.artifact-id=\r\n    quarkus.index-dependency.&lt;name&gt;.classifier=(this one is optional)\r\n\r\nwith `&lt;name&gt;` being a name you choose to identify your dependency.","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>Quarkus automatically indexes the main module but, when you have additional modules containing CDI beans, entities, objects serialized as JSON, you need to explicitly index them.</p>\n<p>There are a couple of different (easy to implement) options to do so.</p>\n<p><strong>Using the Jandex Maven plugin</strong></p>\n<p>Add the following to the <code>pom.xml</code> of the module you want to index:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-index&lt;/id&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jandex&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>It's the most beneficial option if your dependency is external to your project and you want to build the index once and for all.</p>\n<p><strong>Using the Gradle Jandex plugin</strong></p>\n<p>If you are using Gradle, there is a third party plugin allowing to generate a Jandex index: <a href=\"https://github.com/kordamp/jandex-gradle-plugin\" rel=\"noreferrer\">https://github.com/kordamp/jandex-gradle-plugin</a> .</p>\n<p><strong>Adding an empty META-INF/beans.xml</strong></p>\n<p>If you add an empty <code>META-INF/beans.xml</code> file in the additional module <code>src/main/resources</code>, the classes will also be indexed.</p>\n<p>The classes will be indexed by Quarkus itself.</p>\n<p><strong>Indexing other dependencies</strong></p>\n<p>If you can't modify the dependency (think of a third-party dependency, for instance), you can still index it by adding an entry to your <code>application.properties</code>:</p>\n<pre><code>quarkus.index-dependency.&lt;name&gt;.group-id=\nquarkus.index-dependency.&lt;name&gt;.artifact-id=\nquarkus.index-dependency.&lt;name&gt;.classifier=(this one is optional)\n</code></pre>\n<p>with <code>&lt;name&gt;</code> being a name you choose to identify your dependency.</p>\n"},{"comments":[{"owner":{"account_id":10954508,"reputation":710,"user_id":8049790,"display_name":"ejderuby"},"score":0,"creation_date":1565199980,"post_id":57399476,"comment_id":101281184,"body_markdown":"Please add a little explanation of what&#39;s going on in your solution. Thanks.","body":"Please add a little explanation of what&#39;s going on in your solution. Thanks."},{"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"score":0,"creation_date":1565292596,"post_id":57399476,"comment_id":101318397,"body_markdown":"Done. In order to register the class for reflection I&#39;ve created a fake REST endpoint in my project which return the class.","body":"Done. In order to register the class for reflection I&#39;ve created a fake REST endpoint in my project which return the class."},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1571727924,"post_id":57399476,"comment_id":103326510,"body_markdown":"Did you add the `@RegisterForReflection` annotation to your class?","body":"Did you add the <code>@RegisterForReflection</code> annotation to your class?"},{"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"score":0,"creation_date":1572357863,"post_id":57399476,"comment_id":103528749,"body_markdown":"One more thing to clarify - I&#39;ve tried to add the `@RegisterForReflection` annotation and it failed, but nevertheless even if it was succeeded I will have to add the entire quarkus-core dependency to my third party library. IMO - quarkus specific annotations should be added in separate module instead of quarkus-core.","body":"One more thing to clarify - I&#39;ve tried to add the <code>@RegisterForReflection</code> annotation and it failed, but nevertheless even if it was succeeded I will have to add the entire quarkus-core dependency to my third party library. IMO - quarkus specific annotations should be added in separate module instead of quarkus-core."}],"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581407258,"creation_date":1565198518,"answer_id":57399476,"question_id":55513502,"body_markdown":"### Edit (11/02/2020)\n\nNow in my microservices I am extensively using the `targets` property from `RegisterForReflection` annotation. \nThis is the property explanation according to the documentation:\n\n    /**\n     * Alternative classes that should actually be registered for reflection instead of the current class.\n     *\n     * This allows for classes in 3rd party libraries to be registered without modification or writing an\n     * extension. If this is set then the class it is placed on is not registered for reflection, so this should\n     * generally just be placed on an empty class that is not otherwise used.\n     */\n\nThis works fine on quarkus based projects and can handle the basic cases when you want to register a handful POJOs for reflection. The `RegisterForReflection` annotation will register the POJO by himself, but will not going to register the return types from POJO&#39;s methods. \n\nMore advanced way is to use `@AutomaticFeature` annotation as described [here](https://github.com/oracle/graal/blob/master/substratevm/REFLECTION.md). I am using it with [Reflections Library](https://github.com/ronmamo/reflections) and with custom made utility wrapper: [ReflectUtils](https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/otaibe-commons-quarkus-reflection/src/main/java/org/otaibe/commons/quarkus/reflection/utils/ReflectUtils.java)\n\nNow I can do more complex tasks:\n```\n@AutomaticFeature\n@RegisterForReflection(targets = {\n        com.hotelbeds.hotelapimodel.auto.convert.json.DateSerializer.class,\n        TimeDeserializer.class,\n        DateSerializer.class,\n        TimeSerializer.class,\n        RateSerializer.class,\n})\npublic class HotelBedsReflection implements Feature {\n    public static Logger log = Utils.findLogger(Reflections.class);\n\n    @Override\n    public void beforeAnalysis(BeforeAnalysisAccess access) {\n        ReflectUtils.registerPackage(LanguagesRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(AvailabilityRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(Occupancy.class.getPackage().getName(), Object.class);\n    }\n}\n```\n\n---\n### Initial Answer\nI&#39;ve tried to add Jandex index, to add beans.xml and also to Indexing other dependencies as described in @emre-işık answer, however my third party class (EpAutomationRs) wasn&#39;t registered for reflection in native mode.\nSo I&#39;ve ended up with quick and dirty solution for registering it (see below).\nI&#39;ve created an unused REST JSON endpoint which returns the class. \n\n    /**\n     * the purpose of this method is to register for reflection EpAutomationRs class\n     *\n     * @return\n     */\n    @GET\n    @Path(GET_EMPTY_RS)\n    @Produces(MediaType.APPLICATION_JSON)\n    public EpAutomationRs entry() {\n        return new EpAutomationRs();\n    }\n","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<h3>Edit (11/02/2020)</h3>\n<p>Now in my microservices I am extensively using the <code>targets</code> property from <code>RegisterForReflection</code> annotation.\nThis is the property explanation according to the documentation:</p>\n<pre><code>/**\n * Alternative classes that should actually be registered for reflection instead of the current class.\n *\n * This allows for classes in 3rd party libraries to be registered without modification or writing an\n * extension. If this is set then the class it is placed on is not registered for reflection, so this should\n * generally just be placed on an empty class that is not otherwise used.\n */\n</code></pre>\n<p>This works fine on quarkus based projects and can handle the basic cases when you want to register a handful POJOs for reflection. The <code>RegisterForReflection</code> annotation will register the POJO by himself, but will not going to register the return types from POJO's methods.</p>\n<p>More advanced way is to use <code>@AutomaticFeature</code> annotation as described <a href=\"https://github.com/oracle/graal/blob/master/substratevm/REFLECTION.md\" rel=\"nofollow noreferrer\">here</a>. I am using it with <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections Library</a> and with custom made utility wrapper: <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/otaibe-commons-quarkus-reflection/src/main/java/org/otaibe/commons/quarkus/reflection/utils/ReflectUtils.java\" rel=\"nofollow noreferrer\">ReflectUtils</a></p>\n<p>Now I can do more complex tasks:</p>\n<pre><code>@AutomaticFeature\n@RegisterForReflection(targets = {\n        com.hotelbeds.hotelapimodel.auto.convert.json.DateSerializer.class,\n        TimeDeserializer.class,\n        DateSerializer.class,\n        TimeSerializer.class,\n        RateSerializer.class,\n})\npublic class HotelBedsReflection implements Feature {\n    public static Logger log = Utils.findLogger(Reflections.class);\n\n    @Override\n    public void beforeAnalysis(BeforeAnalysisAccess access) {\n        ReflectUtils.registerPackage(LanguagesRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(AvailabilityRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(Occupancy.class.getPackage().getName(), Object.class);\n    }\n}\n</code></pre>\n<hr />\n<h3>Initial Answer</h3>\n<p>I've tried to add Jandex index, to add beans.xml and also to Indexing other dependencies as described in @emre-işık answer, however my third party class (EpAutomationRs) wasn't registered for reflection in native mode.\nSo I've ended up with quick and dirty solution for registering it (see below).\nI've created an unused REST JSON endpoint which returns the class.</p>\n<pre><code>/**\n * the purpose of this method is to register for reflection EpAutomationRs class\n *\n * @return\n */\n@GET\n@Path(GET_EMPTY_RS)\n@Produces(MediaType.APPLICATION_JSON)\npublic EpAutomationRs entry() {\n    return new EpAutomationRs();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398028,"reputation":558,"user_id":762490,"accept_rate":50,"display_name":"tellisnz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579234644,"creation_date":1579234644,"answer_id":59781120,"question_id":55513502,"body_markdown":"For gradle users, you can use [this][1] plugin in the build.gradle of the module you depend on.\r\n\r\n\r\n  [1]: https://github.com/kordamp/jandex-gradle-plugin","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>For gradle users, you can use <a href=\"https://github.com/kordamp/jandex-gradle-plugin\" rel=\"nofollow noreferrer\">this</a> plugin in the build.gradle of the module you depend on.</p>\n"}],"owner":{"account_id":10266087,"reputation":726,"user_id":7576029,"display_name":"Emre Isik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26247,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":55513723,"answer_count":3,"score":49,"last_activity_date":1689755881,"creation_date":1554373237,"question_id":55513502,"body_markdown":"First of all, I have a multi-module maven hierarchy like that:\r\n\r\n```\r\n├── project (parent pom.xml)\r\n│&#160;&#160; ├── service\r\n│&#160;&#160; ├── api-library\r\n```\r\n\r\nSo now to the problem:\r\n\r\nI am writing a JAX-RS Endpoint in the service module which uses classes in the api-library.  \r\nWhen I start quarkus, I am getting this warning:\r\n\r\n```\r\n13:01:18,784 WARN  [io.qua.dep.ste.ReflectiveHierarchyStep] Unable to properly register the hierarchy of the following classes for reflection as they are not in the Jandex index:\r\n- com.example.Fruit\r\n- com.example.Car\r\nConsider adding them to the index either by creating a Jandex index for your dependency or via quarkus.index-dependency properties.\r\n```\r\n\r\nThis two classes `com.example.Fruit` and `com.example.Car` are located in the `api-library` module.\r\n\r\nSo I think I need to add them to the Jandex index-dependency in the application.properties.\r\n\r\n**But how can I add Jandex index-dependencies into quarkus?**","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>First of all, I have a multi-module maven hierarchy like that:</p>\n\n<pre><code>├── project (parent pom.xml)\n│   ├── service\n│   ├── api-library\n</code></pre>\n\n<p>So now to the problem:</p>\n\n<p>I am writing a JAX-RS Endpoint in the service module which uses classes in the api-library.<br>\nWhen I start quarkus, I am getting this warning:</p>\n\n<pre><code>13:01:18,784 WARN  [io.qua.dep.ste.ReflectiveHierarchyStep] Unable to properly register the hierarchy of the following classes for reflection as they are not in the Jandex index:\n- com.example.Fruit\n- com.example.Car\nConsider adding them to the index either by creating a Jandex index for your dependency or via quarkus.index-dependency properties.\n</code></pre>\n\n<p>This two classes <code>com.example.Fruit</code> and <code>com.example.Car</code> are located in the <code>api-library</code> module.</p>\n\n<p>So I think I need to add them to the Jandex index-dependency in the application.properties.</p>\n\n<p><strong>But how can I add Jandex index-dependencies into quarkus?</strong></p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1649379791,"post_id":71790391,"comment_id":126866801,"body_markdown":"Does this answer your question? [From inside of a Docker container, how do I connect to the localhost of the machine?](https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\">From inside of a Docker container, how do I connect to the localhost of the machine?</a>"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1649379961,"post_id":71790391,"comment_id":126866833,"body_markdown":"You have the Spring database URL set to point back to the application container on a different port.  You also might look at [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection) for a different recipe, if the database is running inside a container as well.","body":"You have the Spring database URL set to point back to the application container on a different port.  You also might look at <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a> for a different recipe, if the database is running inside a container as well."}],"owner":{"account_id":24578424,"reputation":19,"user_id":18483943,"display_name":"ferenaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689755400,"creation_date":1649377875,"question_id":71790391,"body_markdown":"I got this exception and can&#39;t resolve it. It works in intellij, so I thought that everything is correct, but then I try to use it in docker and this happens. I&#39;d be glad if u guys helped me. Couldn&#39;t find any solution that would fit me while searching the internet.The error is longer, but StackOverflow doesnt allow me to add so much code to such a short comment.\r\n\r\n \r\n\r\n    :: Spring Boot ::                (v2.6.4)\r\n    \r\n    2022-04-08 00:24:44.230  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : Starting SpringDataLessonApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on e9b077a5d5df with PID 7 (/spring-data-lesson-0.0.1-SNAPSHOT.jar started by root in /)\r\n    2022-04-08 00:24:44.233  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-04-08 00:24:44.612  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-04-08 00:24:44.651  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.\r\n    2022-04-08 00:24:44.984  INFO 7 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-04-08 00:24:45.023  INFO 7 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n    2022-04-08 00:24:45.153  INFO 7 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-04-08 00:24:45.243  INFO 7 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-04-08 00:24:46.337 ERROR 7 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n            at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            \r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            ... 56 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n            at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n            at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n            at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n            at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            ... 59 common frames omitted\r\n    \r\n    2022-04-08 00:24:46.339  WARN 7 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n            at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n          \r\n    \r\n\r\n\r\nMy Dockerfile:\r\n\r\n    FROM openjdk:11\r\n    ADD target/spring-data-lesson-0.0.1-SNAPSHOT.jar .\r\n    EXPOSE 8000\r\n    CMD java -jar spring-data-lesson-0.0.1-SNAPSHOT.jar\r\n\r\nMy app.properties\r\n\r\n    #data base\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/cars_db?useSSL=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n\r\n\r\n","title":"Docker HikariPool-1 exception - driver doesnt recieve packets from the server","body":"<p>I got this exception and can't resolve it. It works in intellij, so I thought that everything is correct, but then I try to use it in docker and this happens. I'd be glad if u guys helped me. Couldn't find any solution that would fit me while searching the internet.The error is longer, but StackOverflow doesnt allow me to add so much code to such a short comment.</p>\n<pre><code>:: Spring Boot ::                (v2.6.4)\n\n2022-04-08 00:24:44.230  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : Starting SpringDataLessonApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on e9b077a5d5df with PID 7 (/spring-data-lesson-0.0.1-SNAPSHOT.jar started by root in /)\n2022-04-08 00:24:44.233  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-04-08 00:24:44.612  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-04-08 00:24:44.651  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.\n2022-04-08 00:24:44.984  INFO 7 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-04-08 00:24:45.023  INFO 7 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-04-08 00:24:45.153  INFO 7 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-04-08 00:24:45.243  INFO 7 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-04-08 00:24:46.337 ERROR 7 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        \n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        ... 56 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n        at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n        at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        ... 59 common frames omitted\n\n2022-04-08 00:24:46.339  WARN 7 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n      \n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>FROM openjdk:11\nADD target/spring-data-lesson-0.0.1-SNAPSHOT.jar .\nEXPOSE 8000\nCMD java -jar spring-data-lesson-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>My app.properties</p>\n<pre><code>#data base\nspring.datasource.url=jdbc:mysql://localhost:3306/cars_db?useSSL=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":["java","android","firebase","function","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1689748315,"post_id":76718352,"comment_id":135255276,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689748666,"post_id":76718352,"comment_id":135255332,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":20527686,"reputation":5,"user_id":15065744,"display_name":"Sam"},"score":0,"creation_date":1689748677,"post_id":76718352,"comment_id":135255337,"body_markdown":"This code not updating the data in the database. I think its because of the updateBooking object is null. But I have no idea how to fix it","body":"This code not updating the data in the database. I think its because of the updateBooking object is null. But I have no idea how to fix it"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689773947,"post_id":76718352,"comment_id":135260989,"body_markdown":"I recommend locally debugging the code to see what exactly is going wrong. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"I recommend locally debugging the code to see what exactly is going wrong. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1689773959,"post_id":76718352,"comment_id":135260991,"body_markdown":"If you&#39;re new to debugging on Android, the Android docs have a great page on [debugging your app](https://developer.android.com/studio/debug) to get you started with, including the section on [working with breakpoints](https://developer.android.com/studio/debug#breakPoints) and [inspecting varialbles](https://developer.android.com/studio/debug#variablesAndWatches).","body":"If you&#39;re new to debugging on Android, the Android docs have a great page on <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging your app</a> to get you started with, including the section on <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">working with breakpoints</a> and <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">inspecting varialbles</a>."}],"owner":{"account_id":20527686,"reputation":5,"user_id":15065744,"display_name":"Sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689755344,"creation_date":1689746292,"question_id":76718352,"body_markdown":"So I&#39;m working on school project about Hotel Reservation System. The problem is on Update function using Firebase Realtime Database. It just not update the data. This code I got from ChatGPT. It show the toast for update successful but in database, its not changing. \r\n\r\nDetailsPage.java\r\n\r\n```\r\nprivate void updateBookingData() {\r\n        // Retrieve the updated data from the EditText fields\r\n        String name = nameUET.getText().toString().trim();\r\n        String phone = phoneUET.getText().toString().trim();\r\n        String email = emailUET.getText().toString().trim();\r\n        String checkIn = checkInUET.getText().toString().trim();\r\n        String checkOut = checkOutUET.getText().toString().trim();\r\n\r\n        // Check if any of the fields are empty\r\n        if (TextUtils.isEmpty(name) || TextUtils.isEmpty(phone) || TextUtils.isEmpty(email)\r\n                || TextUtils.isEmpty(checkIn) || TextUtils.isEmpty(checkOut)) {\r\n            Toast.makeText(this, &quot;Please fill in all the fields&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        // Inside updateBookingData() method in DetailsPage.java\r\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\r\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n\r\n        // Get the user&#39;s UID from Firebase Authentication\r\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (currentUser == null) {\r\n            // User is not signed in; you may want to handle this case accordingly\r\n            Toast.makeText(this, &quot;User not signed in&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        String userId = currentUser.getUid();\r\n\r\n        // Check if the booking object is null or doesn&#39;t have a valid bookingId\r\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\r\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        // Create a new Booking object with the updated data\r\n        Booking updatedBooking = new Booking(userId, name, phone, email, checkIn, checkOut);\r\n\r\n        // Update the data in Firebase Realtime Database using the bookingId\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;bookings&quot;)\r\n                .child(&quot;users&quot;).child(userId).child(booking.getBookingId());\r\n        databaseReference.setValue(updatedBooking)\r\n                .addOnSuccessListener(aVoid -&gt; {\r\n                    try {\r\n                        Log.wtf(&quot;BookingName: &quot;, name);\r\n                    }catch (Exception e) {\r\n                        Toast.makeText(this, &quot;Failed to delete booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    Toast.makeText(this, &quot;Booking updated successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent intent = new Intent(this, ConfirmPage.class);\r\n                    startActivity(intent);\r\n                })\r\n                .addOnFailureListener(e -&gt; {\r\n                    Toast.makeText(this, &quot;Failed to update booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                });\r\n    }\r\n```\r\n\r\n\r\nI need it to update the data in the Firebase Realtime database","title":"Firebase Realtime Database Update Function","body":"<p>So I'm working on school project about Hotel Reservation System. The problem is on Update function using Firebase Realtime Database. It just not update the data. This code I got from ChatGPT. It show the toast for update successful but in database, its not changing.</p>\n<p>DetailsPage.java</p>\n<pre><code>private void updateBookingData() {\n        // Retrieve the updated data from the EditText fields\n        String name = nameUET.getText().toString().trim();\n        String phone = phoneUET.getText().toString().trim();\n        String email = emailUET.getText().toString().trim();\n        String checkIn = checkInUET.getText().toString().trim();\n        String checkOut = checkOutUET.getText().toString().trim();\n\n        // Check if any of the fields are empty\n        if (TextUtils.isEmpty(name) || TextUtils.isEmpty(phone) || TextUtils.isEmpty(email)\n                || TextUtils.isEmpty(checkIn) || TextUtils.isEmpty(checkOut)) {\n            Toast.makeText(this, &quot;Please fill in all the fields&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        // Inside updateBookingData() method in DetailsPage.java\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n\n        // Get the user's UID from Firebase Authentication\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\n        if (currentUser == null) {\n            // User is not signed in; you may want to handle this case accordingly\n            Toast.makeText(this, &quot;User not signed in&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        String userId = currentUser.getUid();\n\n        // Check if the booking object is null or doesn't have a valid bookingId\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        // Create a new Booking object with the updated data\n        Booking updatedBooking = new Booking(userId, name, phone, email, checkIn, checkOut);\n\n        // Update the data in Firebase Realtime Database using the bookingId\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;bookings&quot;)\n                .child(&quot;users&quot;).child(userId).child(booking.getBookingId());\n        databaseReference.setValue(updatedBooking)\n                .addOnSuccessListener(aVoid -&gt; {\n                    try {\n                        Log.wtf(&quot;BookingName: &quot;, name);\n                    }catch (Exception e) {\n                        Toast.makeText(this, &quot;Failed to delete booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                    Toast.makeText(this, &quot;Booking updated successfully&quot;, Toast.LENGTH_SHORT).show();\n                    Intent intent = new Intent(this, ConfirmPage.class);\n                    startActivity(intent);\n                })\n                .addOnFailureListener(e -&gt; {\n                    Toast.makeText(this, &quot;Failed to update booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                });\n    }\n</code></pre>\n<p>I need it to update the data in the Firebase Realtime database</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1294190444,"post_id":4599972,"comment_id":5054412,"body_markdown":"If the &quot;broadcast intents/events&quot; are not documented, please don&#39;t use them. They are not intended for third party developers to connect to, may change when the apps get updated, may violate EULAs or other license agreements, etc.","body":"If the &quot;broadcast intents/events&quot; are not documented, please don&#39;t use them. They are not intended for third party developers to connect to, may change when the apps get updated, may violate EULAs or other license agreements, etc."},{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1294191367,"post_id":4599972,"comment_id":5054507,"body_markdown":"A better approach would be to ask the developers of the applications and see if they agree to consider some intents/broadcasts &quot;public&quot;, i.e. they promise not to change them so other apps can continue to use them.","body":"A better approach would be to ask the developers of the applications and see if they agree to consider some intents/broadcasts &quot;public&quot;, i.e. they promise not to change them so other apps can continue to use them."},{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1294191386,"post_id":4599972,"comment_id":5054508,"body_markdown":"And there&#39;s of course the crowd-sourced registry at openintents.org, but it&#39;s unfortunately not very populated yet.","body":"And there&#39;s of course the crowd-sourced registry at openintents.org, but it&#39;s unfortunately not very populated yet."},{"owner":{"account_id":127731,"reputation":6255,"user_id":325102,"accept_rate":84,"display_name":"plaisthos"},"score":0,"creation_date":1294270451,"post_id":4599972,"comment_id":5067844,"body_markdown":"I wanted to know if the internal music player of my telephone (motorola defy) sends broadcasts if the track changes. Guess it is not as simply as I hoped","body":"I wanted to know if the internal music player of my telephone (motorola defy) sends broadcasts if the track changes. Guess it is not as simply as I hoped"}],"answers":[{"comments":[{"owner":{"account_id":8658,"reputation":10923,"user_id":15695,"accept_rate":81,"display_name":"BoD"},"score":3,"creation_date":1305733953,"post_id":4600391,"comment_id":6996734,"body_markdown":"Correct me if I&#39;m wrong, but logcat will NOT show the Broadcasts sent.  It does show Activity intents (the ones sent with startActivity), with a log like this: &quot;I/ActivityManager(   61): Starting: Intent ...&quot;.","body":"Correct me if I&#39;m wrong, but logcat will NOT show the Broadcasts sent.  It does show Activity intents (the ones sent with startActivity), with a log like this: &quot;I/ActivityManager(   61): Starting: Intent ...&quot;."},{"owner":{"account_id":8658,"reputation":10923,"user_id":15695,"accept_rate":81,"display_name":"BoD"},"score":3,"creation_date":1305734141,"post_id":4600391,"comment_id":6996789,"body_markdown":"And just to be clear: it could be useful to show all the broadcasts sent in the system, just for debugging purposes, even if you don&#39;t intend to use undocumented ones in your app.","body":"And just to be clear: it could be useful to show all the broadcasts sent in the system, just for debugging purposes, even if you don&#39;t intend to use undocumented ones in your app."}],"tags":[],"owner":{"account_id":108720,"reputation":21784,"user_id":288439,"accept_rate":89,"display_name":"Leif Andersen"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1294195378,"creation_date":1294195378,"answer_id":4600391,"question_id":4599972,"body_markdown":"There&#39;s logcat, which you can get to from the ddms (either the dedicated app, or the eclipse view), it should list all broadcasts, as well as the properties that are associated with the intent.  However, as the other commenters on your post have stated, you really shouldn&#39;t be doing that unless the intent has been published.  It may change, or cause other forms of havoc.  Although I disagree with the statement, some people may even go so far as to say that it&#39;s illegal if the licenses aren&#39;t compatible.  (Although I&#39;m of the party that it&#39;s not, seeing as you&#39;re not statically linking to the code, nor even putting it in your package).","title":"Showing all broadcast events on Android","body":"<p>There's logcat, which you can get to from the ddms (either the dedicated app, or the eclipse view), it should list all broadcasts, as well as the properties that are associated with the intent.  However, as the other commenters on your post have stated, you really shouldn't be doing that unless the intent has been published.  It may change, or cause other forms of havoc.  Although I disagree with the statement, some people may even go so far as to say that it's illegal if the licenses aren't compatible.  (Although I'm of the party that it's not, seeing as you're not statically linking to the code, nor even putting it in your package).</p>\n"},{"tags":[],"owner":{"account_id":244512,"reputation":11445,"user_id":517381,"accept_rate":33,"display_name":"ViliusK"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1356565143,"creation_date":1356565143,"answer_id":14047627,"question_id":4599972,"body_markdown":"Please check this open source project to see all broadcasts on your android phone:[Broadcasts Monitor Pro][1]\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=lt.andro.broadcastlogger","title":"Showing all broadcast events on Android","body":"<p>Please check this open source project to see all broadcasts on your android phone:<a href=\"https://play.google.com/store/apps/details?id=lt.andro.broadcastlogger\" rel=\"noreferrer\">Broadcasts Monitor Pro</a></p>\n"},{"tags":[],"owner":{"account_id":1692305,"reputation":468,"user_id":1554422,"accept_rate":17,"display_name":"Haggai"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1373535068,"creation_date":1373535068,"answer_id":17589856,"question_id":4599972,"body_markdown":"The best tool I found was [Intent Intercept](https://play.google.com/store/apps/details?id=uk.co.ashtonbrsc.android.intentintercept&amp;feature=search_result#?t=W251bGwsMSwyLDEsInVrLmNvLmFzaHRvbmJyc2MuYW5kcm9pZC5pbnRlbnRpbnRlcmNlcHQiXQ..) that catches the intent on the fly and allow you to inspect the content\r\n","title":"Showing all broadcast events on Android","body":"<p>The best tool I found was <a href=\"https://play.google.com/store/apps/details?id=uk.co.ashtonbrsc.android.intentintercept&amp;feature=search_result#?t=W251bGwsMSwyLDEsInVrLmNvLmFzaHRvbmJyc2MuYW5kcm9pZC5pbnRlbnRpbnRlcmNlcHQiXQ..\" rel=\"nofollow\">Intent Intercept</a> that catches the intent on the fly and allow you to inspect the content</p>\n"},{"comments":[{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":8,"creation_date":1516348528,"post_id":35081000,"comment_id":83657806,"body_markdown":"Or better: `dumpsys activity broadcasts history`","body":"Or better: <code>dumpsys activity broadcasts history</code>"}],"tags":[],"owner":{"account_id":341035,"reputation":2632,"user_id":671393,"accept_rate":100,"display_name":"Rupert Rawnsley"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1689755094,"creation_date":1454059782,"answer_id":35081000,"question_id":4599972,"body_markdown":"List all historical broadcasts and registered broadcast receivers with the following terminal command:\r\n\r\n```lang-shell\r\n$ adb shell dumpsys activity broadcasts\r\n```\r\n","title":"Showing all broadcast events on Android","body":"<p>List all historical broadcasts and registered broadcast receivers with the following terminal command:</p>\n<pre class=\"lang-shell prettyprint-override\"><code>$ adb shell dumpsys activity broadcasts\n</code></pre>\n"}],"owner":{"account_id":127731,"reputation":6255,"user_id":325102,"accept_rate":84,"display_name":"plaisthos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31636,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":35081000,"answer_count":4,"score":24,"last_activity_date":1689755094,"creation_date":1294189377,"question_id":4599972,"body_markdown":"is it somehow possible to show all broadcast events/intents that are triggered in android? I just want to know if I can quickly figure out if an application is using intents/broadcasts I can hook into. For most of the stock android applications I can read the source but is time consuming. ","title":"Showing all broadcast events on Android","body":"<p>is it somehow possible to show all broadcast events/intents that are triggered in android? I just want to know if I can quickly figure out if an application is using intents/broadcasts I can hook into. For most of the stock android applications I can read the source but is time consuming. </p>\n"},{"tags":["java","object","variables","methods","constructor"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1689754686,"post_id":76719226,"comment_id":135256446,"body_markdown":"https://www.baeldung.com/java-copy-constructor","body":"<a href=\"https://www.baeldung.com/java-copy-constructor\" rel=\"nofollow noreferrer\">baeldung.com/java-copy-constructor</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1689754944,"post_id":76719226,"comment_id":135256499,"body_markdown":"Please don&#39;t post links, just paste the output in the question text.","body":"Please don&#39;t post links, just paste the output in the question text."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689754875,"creation_date":1689754875,"answer_id":76719276,"question_id":76719226,"body_markdown":"You&#39;re initializing one of the members in either constructor then print out both - so the one you didn&#39;t initialize will be `null`.\r\n\r\nWhat you probably want is\r\n\r\n```\r\nclass Testing {\r\n String name;\r\n\r\n public Testing(String aname) {\r\n  name = aname;\r\n }\r\n public Testing(Testing source) {\r\n  name = source.name; // or this(source.name)\r\n }\r\n}\r\n```\r\n\r\nNote that this has nothing to do with the copy constructor as such.","title":"How to copy values from one object to another from constructors in java?","body":"<p>You're initializing one of the members in either constructor then print out both - so the one you didn't initialize will be <code>null</code>.</p>\n<p>What you probably want is</p>\n<pre><code>class Testing {\n String name;\n\n public Testing(String aname) {\n  name = aname;\n }\n public Testing(Testing source) {\n  name = source.name; // or this(source.name)\n }\n}\n</code></pre>\n<p>Note that this has nothing to do with the copy constructor as such.</p>\n"}],"owner":{"account_id":29047371,"reputation":1,"user_id":22250906,"display_name":"Ayush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689754875,"creation_date":1689754470,"question_id":76719226,"body_markdown":"\r\n```\r\npublic class testing {\r\n     \r\n    String name;\r\n    String aname;\r\n\r\n    testing(String n){\r\n\r\n\r\n       this.name  = n;\r\n\r\n    }\r\n\r\n    testing(testing s){\r\n\r\n        this.aname = s.name;\r\n\r\n        \r\n    }\r\n\r\n    void display(){\r\n        System.out.println(name + &quot;  -first cons&quot;);\r\n        System.out.println(aname + &quot;  -second cons&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n    System.out.println(&quot; &quot;);\r\n\r\n\r\n    testing ab = new testing(&quot;test&quot;);\r\n    testing ab2 = new testing(ab);\r\n\r\n\r\n    ab2.display();\r\n    ab.display();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the program and i have linked a screenshot of the output with the question.\r\n\r\n\r\n[the output](https://i.stack.imgur.com/IxNNS.png)\r\n\r\n\r\n\r\n\r\n\r\nthe first constructor initializes the variable and i made a second constructor to create another object. I wanted to copy the value of the variable from the original variable but i dunno what is happening.\r\nwhen i tried printing the variables using a method ,  it prints one of the variable at a time while printing null in the other one.\r\n\r\nPlease help me to solve this problem or guide me through another way of going through this.\r\n\r\nI am fairly new to coding so please keep that in mind.\r\n\r\nThank you.","title":"How to copy values from one object to another from constructors in java?","body":"<pre><code>public class testing {\n     \n    String name;\n    String aname;\n\n    testing(String n){\n\n\n       this.name  = n;\n\n    }\n\n    testing(testing s){\n\n        this.aname = s.name;\n\n        \n    }\n\n    void display(){\n        System.out.println(name + &quot;  -first cons&quot;);\n        System.out.println(aname + &quot;  -second cons&quot;);\n    }\n    public static void main(String[] args) {\n    System.out.println(&quot; &quot;);\n\n\n    testing ab = new testing(&quot;test&quot;);\n    testing ab2 = new testing(ab);\n\n\n    ab2.display();\n    ab.display();\n\n    }\n}\n\n</code></pre>\n<p>This is the program and i have linked a screenshot of the output with the question.</p>\n<p><a href=\"https://i.stack.imgur.com/IxNNS.png\" rel=\"nofollow noreferrer\">the output</a></p>\n<p>the first constructor initializes the variable and i made a second constructor to create another object. I wanted to copy the value of the variable from the original variable but i dunno what is happening.\nwhen i tried printing the variables using a method ,  it prints one of the variable at a time while printing null in the other one.</p>\n<p>Please help me to solve this problem or guide me through another way of going through this.</p>\n<p>I am fairly new to coding so please keep that in mind.</p>\n<p>Thank you.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688023517,"post_id":76578863,"comment_id":135018678,"body_markdown":"I&#39;m no Android expert  but I can imagine that you can&#39;t just put a UI element inside `application`. You probably want it inside the `activity`. Or maybe you can&#39;t put UI definitions in the `manifest` at all? There&#39;s probably other xml files for that.","body":"I&#39;m no Android expert  but I can imagine that you can&#39;t just put a UI element inside <code>application</code>. You probably want it inside the <code>activity</code>. Or maybe you can&#39;t put UI definitions in the <code>manifest</code> at all? There&#39;s probably other xml files for that."},{"owner":{"account_id":5871618,"reputation":2305,"user_id":4623782,"accept_rate":100,"display_name":"Raymond"},"score":0,"creation_date":1689752392,"post_id":76578863,"comment_id":135255991,"body_markdown":"Word of advice, remove the API key for your google maps . Or at least mask the actual key. Now anyone reaching this page can take and use your API key.","body":"Word of advice, remove the API key for your google maps . Or at least mask the actual key. Now anyone reaching this page can take and use your API key."}],"answers":[{"tags":[],"owner":{"account_id":5871618,"reputation":2305,"user_id":4623782,"accept_rate":100,"display_name":"Raymond"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689752336,"creation_date":1688023778,"answer_id":76578893,"question_id":76578863,"body_markdown":"You can&#39;t define layout information in your Manifest. The Manifest is meant to describe the application, like which permissions the app uses and which activities reside in your app.\r\n\r\nWhat you&#39;re most likely want to do, is open you `activity_main.xml` and Add your layout to that.\r\n\r\nPlease refer to [layout guide][1] from the Android Developers documentation on how to get started.\r\n\r\nAlso for more information on what the Manifest is meant for, refer to the [Manifest Documentation][2].\r\n\r\nWhat you&#39;ll want to do to get started, is split the xml in the the appropriate files:\r\n\r\n`androidManifest.xml`\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Map&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;XXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n`activity_main.xml`\r\n\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_lat&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_lng&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/declaring-layout\r\n  [2]: https://developer.android.com/guide/topics/manifest/manifest-intro","title":"Element LinearLayout Not Allowed Here","body":"<p>You can't define layout information in your Manifest. The Manifest is meant to describe the application, like which permissions the app uses and which activities reside in your app.</p>\n<p>What you're most likely want to do, is open you <code>activity_main.xml</code> and Add your layout to that.</p>\n<p>Please refer to <a href=\"https://developer.android.com/develop/ui/views/layout/declaring-layout\" rel=\"nofollow noreferrer\">layout guide</a> from the Android Developers documentation on how to get started.</p>\n<p>Also for more information on what the Manifest is meant for, refer to the <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro\" rel=\"nofollow noreferrer\">Manifest Documentation</a>.</p>\n<p>What you'll want to do to get started, is split the xml in the the appropriate files:</p>\n<p><code>androidManifest.xml</code></p>\n\n<p></p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Map&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;XXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p><code>activity_main.xml</code></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/container&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_lat&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_lng&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689754210,"creation_date":1688023447,"question_id":76578863,"body_markdown":"I&#39;m getting the error Element LinearLayout is not allowed here in my AndroidManifest.xml file.\r\nI&#39;ve tried restarting Android studio, but that hasn&#39;t had any effect. \r\n\r\nHere is my code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Map&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;XXXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_lat&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_lng&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nWhy am I getting this warning? ","title":"Element LinearLayout Not Allowed Here","body":"<p>I'm getting the error Element LinearLayout is not allowed here in my AndroidManifest.xml file.\nI've tried restarting Android studio, but that hasn't had any effect.</p>\n<p>Here is my code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Map&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;XXXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_lat&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_lng&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Why am I getting this warning?</p>\n"},{"tags":["java","bmp"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1379932005,"post_id":18956941,"comment_id":27996423,"body_markdown":"What exactly does &quot;does not work&quot; mean? Are you getting any error messages? And it&#39;s unlikely that your &quot;code&quot; will actually work, since you have to escape the backslash.","body":"What exactly does &quot;does not work&quot; mean? Are you getting any error messages? And it&#39;s unlikely that your &quot;code&quot; will actually work, since you have to escape the backslash."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379932373,"post_id":18956941,"comment_id":27996625,"body_markdown":"@chrylis The backslash was escaped, it just didn&#39;t display as such in the question (which happens when you don&#39;t format it as code).","body":"@chrylis The backslash was escaped, it just didn&#39;t display as such in the question (which happens when you don&#39;t format it as code)."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932496,"post_id":18956941,"comment_id":27996686,"body_markdown":"&quot;does not work&quot; means that a file was not created when I used the &quot;bmp&quot; format.","body":"&quot;does not work&quot; means that a file was not created when I used the &quot;bmp&quot; format."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932533,"post_id":18956941,"comment_id":27996707,"body_markdown":"- but when I use &quot;png&quot; format, a file is created","body":"- but when I use &quot;png&quot; format, a file is created"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1379932570,"post_id":18956941,"comment_id":27996728,"body_markdown":"@JakobMathiasen And it&#39;s failing silently? You&#39;re not getting any sort of error message?","body":"@JakobMathiasen And it&#39;s failing silently? You&#39;re not getting any sort of error message?"},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932973,"post_id":18956941,"comment_id":27996955,"body_markdown":"@chrylis Yes, no exception thrown.","body":"@chrylis Yes, no exception thrown."},{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":0,"creation_date":1379933011,"post_id":18956941,"comment_id":27996979,"body_markdown":"Looks like http://stackoverflow.com/questions/3961687/bufferedimage-to-bmp-in-java","body":"Looks like <a href=\"http://stackoverflow.com/questions/3961687/bufferedimage-to-bmp-in-java\" title=\"bufferedimage to bmp in java\">stackoverflow.com/questions/3961687/&hellip;</a>"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":1,"creation_date":1379942779,"post_id":18956941,"comment_id":28002181,"body_markdown":"`write` returns a `boolean`, you should check it.","body":"<code>write</code> returns a <code>boolean</code>, you should check it."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":5,"creation_date":1469496657,"post_id":18956941,"comment_id":64548578,"body_markdown":"The short answer is: **`TYPE_INT_ARGB`** doesn&#39;t work, but **`TYPE_INT_RGB`** works.","body":"The short answer is: <b><code>TYPE_INT_ARGB</code></b> doesn&#39;t work, but <b><code>TYPE_INT_RGB</code></b> works."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1608231340,"post_id":18956941,"comment_id":115527280,"body_markdown":"@EvgeniSergeev that helped me a lot! could you explain why is that? I am following Oracle tutorial (https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html) and I needed to change it to make it work","body":"@EvgeniSergeev that helped me a lot! could you explain why is that? I am following Oracle tutorial (<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>) and I needed to change it to make it work"}],"answers":[{"comments":[{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379936619,"post_id":18957289,"comment_id":27998744,"body_markdown":"The imagetype is BufferedImage.TYPE_INT_ARGB. This works for the png file type. I have now tried the BufferedImage.TYPE_INT_RGB, and now a BMP file is actually created. But its all black.. The image in the PNG file is also black when using the BufferedImage.TYPE_INT_RGB.","body":"The imagetype is BufferedImage.TYPE_INT_ARGB. This works for the png file type. I have now tried the BufferedImage.TYPE_INT_RGB, and now a BMP file is actually created. But its all black.. The image in the PNG file is also black when using the BufferedImage.TYPE_INT_RGB."},{"owner":{"account_id":3333169,"reputation":329,"user_id":2801550,"display_name":"Heaven42"},"score":0,"creation_date":1379940308,"post_id":18957289,"comment_id":28000624,"body_markdown":"What about using type_int_ARGB and  &quot;BMP&quot; instead of &quot;bmp&quot; ?","body":"What about using type_int_ARGB and  &quot;BMP&quot; instead of &quot;bmp&quot; ?"},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379941524,"post_id":18957289,"comment_id":28001370,"body_markdown":"When using BMP instead of bmp (and BufferedImage.TYPE_INT_ARGB) no file is created (and no exception). The PNG file is created ok.","body":"When using BMP instead of bmp (and BufferedImage.TYPE_INT_ARGB) no file is created (and no exception). The PNG file is created ok."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379941588,"post_id":18957289,"comment_id":28001397,"body_markdown":"When using BMP and BufferedImage.TYPE_INT_RGB a .bmp file is created but its all black. still The PNG file is created ok.","body":"When using BMP and BufferedImage.TYPE_INT_RGB a .bmp file is created but its all black. still The PNG file is created ok."},{"owner":{"account_id":3333169,"reputation":329,"user_id":2801550,"display_name":"Heaven42"},"score":0,"creation_date":1379942759,"post_id":18957289,"comment_id":28002174,"body_markdown":"I can&#39;t try now. gonna try tonight and tell you what I&#39;ve found. I think it&#39;s an encoding problem. you can try with a full white image and different encoding type to see what&#39;s happeing","body":"I can&#39;t try now. gonna try tonight and tell you what I&#39;ve found. I think it&#39;s an encoding problem. you can try with a full white image and different encoding type to see what&#39;s happeing"},{"owner":{"account_id":3333169,"reputation":329,"user_id":2801550,"display_name":"Heaven42"},"score":0,"creation_date":1380023246,"post_id":18957289,"comment_id":28036086,"body_markdown":"Did you finally fix it with my edit ? don&#39;t forget bmp = no transparency, maybe you&#39;re drawing in black on black.","body":"Did you finally fix it with my edit ? don&#39;t forget bmp = no transparency, maybe you&#39;re drawing in black on black."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1380696596,"post_id":18957289,"comment_id":28292996,"body_markdown":"Green Arrow:Sorry my late answer. We did not go further with the bitmap. We acceptet the .png file solution. Thanks for your effort.","body":"Green Arrow:Sorry my late answer. We did not go further with the bitmap. We acceptet the .png file solution. Thanks for your effort."}],"tags":[],"owner":{"account_id":3333169,"reputation":329,"user_id":2801550,"display_name":"Heaven42"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379943458,"creation_date":1379933104,"answer_id":18957289,"question_id":18956941,"body_markdown":"didn&#39;t try but I think the format should be &quot;BMP&quot; and not &quot;bmp&quot; actually.\r\nPlease try with\r\n\r\n    ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\MyImage.bmp&quot;));\r\n\r\nand see what happens.\r\n\r\nWe can&#39;t see how your bi is build.\r\n\r\n    BufferedImage bufferedImage = new BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);\r\n\r\nIs the encodingType is set properly ?\r\n\r\nI think your bi is corrupted, that&#39;s work perfectly for me.\r\n\r\n    BufferedImage bi = new BufferedImage(50,50,BufferedImage.TYPE_INT_RGB);\r\n    Graphics gd = bi.getGraphics();\r\n    gd.drawRect(0, 0, 10, 10);\t\t\r\n    try {\r\n    \tImageIO.write(bi, &quot;BMP&quot;, new File(&quot;C:\\\\test.bmp&quot;));\r\n    \tImageIO.write(bi, &quot;PNG&quot;, new File(&quot;C:\\\\test.png&quot;));\r\n    } catch (IOException e) {\r\n    \tSystem.out.println(&quot;error &quot;+e.getMessage());\r\n    }","title":"ImageIO.write bmp does not work","body":"<p>didn't try but I think the format should be \"BMP\" and not \"bmp\" actually.\nPlease try with</p>\n\n<pre><code>ImageIO.write(bi, \"BMP\", new File(\"D:\\\\MyImage.bmp\"));\n</code></pre>\n\n<p>and see what happens.</p>\n\n<p>We can't see how your bi is build.</p>\n\n<pre><code>BufferedImage bufferedImage = new BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);\n</code></pre>\n\n<p>Is the encodingType is set properly ?</p>\n\n<p>I think your bi is corrupted, that's work perfectly for me.</p>\n\n<pre><code>BufferedImage bi = new BufferedImage(50,50,BufferedImage.TYPE_INT_RGB);\nGraphics gd = bi.getGraphics();\ngd.drawRect(0, 0, 10, 10);      \ntry {\n    ImageIO.write(bi, \"BMP\", new File(\"C:\\\\test.bmp\"));\n    ImageIO.write(bi, \"PNG\", new File(\"C:\\\\test.png\"));\n} catch (IOException e) {\n    System.out.println(\"error \"+e.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1629443,"reputation":1299,"user_id":1504300,"accept_rate":71,"display_name":"reallynice"},"score":2,"creation_date":1400136841,"post_id":22062805,"comment_id":36363642,"body_markdown":"Good answer: in addition (and completion for me), the link to the ever-useful mkyong that shows how to do for converting an image http://www.mkyong.com/java/convert-png-to-jpeg-image-file-in-java/. That works also with bmps.","body":"Good answer: in addition (and completion for me), the link to the ever-useful mkyong that shows how to do for converting an image <a href=\"http://www.mkyong.com/java/convert-png-to-jpeg-image-file-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/convert-png-to-jpeg-image-file-in-java</a>. That works also with bmps."}],"tags":[],"owner":{"account_id":1775159,"reputation":859,"user_id":1619065,"display_name":"bincob"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1689753978,"creation_date":1393489329,"answer_id":22062805,"question_id":18956941,"body_markdown":"I just finished debugging a similar problem and I thought I will present my reasoning here, although Jakob has gone ahead with the PNG format.\r\n\r\nFirst, always check the return value of `ImageIO.write(...)`. It will return false if no appropriate writer can be found and that&#39;s what should have happened when Jakob tried writing it as a bitmap. This happens when the actual image format of the file does not match what is given in the &#39;format name&#39; argument. No exception is thrown in this case. Check out the docs at https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)\r\n\r\n\r\nSecond, check the image type of the *BufferedImage* object by using the *BufferedImage#getType()* method. Check out the possible return values at https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType(). For example, If you get the type as `TYPE_INT_ARGB` from your *BufferedImage* object (which represents a PNG with a alpha component) you wont have success using `ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\test.bmp&quot;))` and the method would return *false*, even though you can see BMP/bmp in the list of entries obtained using `ImageIO.getWriterFormatNames()`. You might have to work on the encoding and transform your image to the desired format.\r\n\r\nThird, when facing such problems which can be a pain sometimes, it always helps to use an image editor such as [GIMP](https://www.gimp.org/) to check out your image properties in detail.\r\n\r\n@Green arrow, a minor note... you can use either &quot;bmp&quot; or &quot;BMP&quot; as the image format value. The same applies for other formats as well. It does not matter.\r\n\r\n\r\n","title":"ImageIO.write bmp does not work","body":"<p>I just finished debugging a similar problem and I thought I will present my reasoning here, although Jakob has gone ahead with the PNG format.</p>\n<p>First, always check the return value of <code>ImageIO.write(...)</code>. It will return false if no appropriate writer can be found and that's what should have happened when Jakob tried writing it as a bitmap. This happens when the actual image format of the file does not match what is given in the 'format name' argument. No exception is thrown in this case. Check out the docs at <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)</a></p>\n<p>Second, check the image type of the <em>BufferedImage</em> object by using the <em>BufferedImage#getType()</em> method. Check out the possible return values at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType()</a>. For example, If you get the type as <code>TYPE_INT_ARGB</code> from your <em>BufferedImage</em> object (which represents a PNG with a alpha component) you wont have success using <code>ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\test.bmp&quot;))</code> and the method would return <em>false</em>, even though you can see BMP/bmp in the list of entries obtained using <code>ImageIO.getWriterFormatNames()</code>. You might have to work on the encoding and transform your image to the desired format.</p>\n<p>Third, when facing such problems which can be a pain sometimes, it always helps to use an image editor such as <a href=\"https://www.gimp.org/\" rel=\"nofollow noreferrer\">GIMP</a> to check out your image properties in detail.</p>\n<p>@Green arrow, a minor note... you can use either &quot;bmp&quot; or &quot;BMP&quot; as the image format value. The same applies for other formats as well. It does not matter.</p>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1471015068,"post_id":37672801,"comment_id":65199435,"body_markdown":"There&#39;s a bug in your code (last occurrence of &quot;newBufferedImage&quot; should read &quot;bufferedImage&quot;). Otherwise, good answer! Added it to my language here: http://tinybrain.de/1004274","body":"There&#39;s a bug in your code (last occurrence of &quot;newBufferedImage&quot; should read &quot;bufferedImage&quot;). Otherwise, good answer! Added it to my language here: <a href=\"http://tinybrain.de/1004274\" rel=\"nofollow noreferrer\">tinybrain.de/1004274</a>"},{"owner":{"account_id":239789,"reputation":29819,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":1,"creation_date":1494582538,"post_id":37672801,"comment_id":74901357,"body_markdown":"This should be the selected answer.","body":"This should be the selected answer."},{"owner":{"account_id":13010868,"reputation":83,"user_id":9403955,"display_name":"noobianov"},"score":0,"creation_date":1614702420,"post_id":37672801,"comment_id":117463078,"body_markdown":"I had the same problem with an JPEG file, the reason I think is because I tried to save memory by leaving the white parts of the image transparent and that&#39;s why only PNG worked.","body":"I had the same problem with an JPEG file, the reason I think is because I tried to save memory by leaving the white parts of the image transparent and that&#39;s why only PNG worked."}],"tags":[],"owner":{"account_id":1079434,"reputation":780,"user_id":1076840,"accept_rate":95,"display_name":"Sefier Tang"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471015428,"creation_date":1465283696,"answer_id":37672801,"question_id":18956941,"body_markdown":"As @bincob says, if write returns false, you can redraw the source image like this\r\n\r\n    BufferedImage newBufferedImage = new BufferedImage(bufferedImage.getWidth(), \r\n    bufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n\tnewBufferedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\r\n\r\nAnd then you can write again.","title":"ImageIO.write bmp does not work","body":"<p>As @bincob says, if write returns false, you can redraw the source image like this</p>\n\n<pre><code>BufferedImage newBufferedImage = new BufferedImage(bufferedImage.getWidth(), \nbufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\nnewBufferedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\n</code></pre>\n\n<p>And then you can write again.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610606584,"creation_date":1610606584,"answer_id":65714452,"question_id":18956941,"body_markdown":"Using `BufferedImage.TYPE_INT_RGB` encoding works for &quot;gif&quot;,&quot;png&quot;,&quot;tif&quot; as well as &quot;jpg&quot; and &quot;bmp&quot;:\r\n\r\n\tstatic void saveBufferedImageToFileTest(){\r\n\r\n\t\tString[] types = new String[] {&quot;gif&quot;,&quot;png&quot;,&quot;tif&quot;,&quot;jpg&quot;,&quot;bmp&quot;};\r\n\r\n\t\t//JPEG and BMP needs BufferedImage.TYPE_INT_RGB. See https://mkyong.com/java/convert-png-to-jpeg-image-file-in-java/\r\n\t\t//BufferedImage.TYPE_INT_RGB for all `types`\r\n\t\tint biType = BufferedImage.TYPE_INT_RGB;   // BufferedImage.TYPE_INT_ARGB does not work for &quot;bmp&quot; and &quot;jpeg&quot;\r\n\t\tBufferedImage bi = new BufferedImage(200 ,200, biType);\r\n\t\tGraphics g = bi.getGraphics();\r\n\t\tg.fillRect(50, 50, 100,  100);\r\n\t\tg.dispose();\r\n\r\n\t\ttry {\r\n\t\t\tfor(String type : types){\r\n\t\t\t\tboolean success = ImageIO.write(bi,type,new File(&quot;test_image.&quot;+type));\r\n\t\t\t\tSystem.out.println(type + (success ?  &quot; file created&quot; : &quot; file NOT created&quot;) );\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}","title":"ImageIO.write bmp does not work","body":"<p>Using <code>BufferedImage.TYPE_INT_RGB</code> encoding works for &quot;gif&quot;,&quot;png&quot;,&quot;tif&quot; as well as &quot;jpg&quot; and &quot;bmp&quot;:</p>\n<pre><code>static void saveBufferedImageToFileTest(){\n\n    String[] types = new String[] {&quot;gif&quot;,&quot;png&quot;,&quot;tif&quot;,&quot;jpg&quot;,&quot;bmp&quot;};\n\n    //JPEG and BMP needs BufferedImage.TYPE_INT_RGB. See https://mkyong.com/java/convert-png-to-jpeg-image-file-in-java/\n    //BufferedImage.TYPE_INT_RGB for all `types`\n    int biType = BufferedImage.TYPE_INT_RGB;   // BufferedImage.TYPE_INT_ARGB does not work for &quot;bmp&quot; and &quot;jpeg&quot;\n    BufferedImage bi = new BufferedImage(200 ,200, biType);\n    Graphics g = bi.getGraphics();\n    g.fillRect(50, 50, 100,  100);\n    g.dispose();\n\n    try {\n        for(String type : types){\n            boolean success = ImageIO.write(bi,type,new File(&quot;test_image.&quot;+type));\n            System.out.println(type + (success ?  &quot; file created&quot; : &quot; file NOT created&quot;) );\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74797,"reputation":1629,"user_id":214756,"display_name":"Mike B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641909985,"creation_date":1641908365,"answer_id":70667796,"question_id":18956941,"body_markdown":"An oldie, but BMPs are still useful occasionally and the answers above all skirt the best solution: do it yourself. That way it works for any type of bitmap.\r\n```java\r\nstatic void writeBMP(BufferedImage image, File f) throws IOException {\r\n    OutputStream out = new BufferedOutputStream(new FileOutputStream(f));\r\n    int width = image.getWidth();\r\n    int height = image.getHeight();\r\n    int row = (width * 3 + 3) / 4 * 4;\r\n    out.write(&#39;B&#39;);\r\n    out.write(&#39;M&#39;);\r\n    writeInt(out, 14 + 40 + row * height);  // file size\r\n    writeInt(out, 0); \r\n    writeInt(out, 14 + 40);        // bitmap offset\r\n    writeInt(out, 40);             // size\r\n    writeInt(out, width);          // width\r\n    writeInt(out, height);         // weight\r\n    writeInt(out, (24&lt;&lt;16) | 1);   // planes, bpp\r\n    writeInt(out, 0);              // compression\r\n    writeInt(out, row * height);   // bitmap size\r\n    writeInt(out, 0);              // resx\r\n    writeInt(out, 0);              // resy\r\n    writeInt(out, 0);              // used colors\r\n    writeInt(out, 0);              // important colors\r\n    for (int y=height-1;y&gt;=0;y--) {\r\n        for (int x=0;x&lt;width;x++) {\r\n            int rgba = image.getRGB(x, y); \r\n            out.write(rgba &amp; 0xFF); // b\r\n            out.write(rgba &gt;&gt; 8);   // g\r\n            out.write(rgba &gt;&gt; 16);  // r\r\n        }   \r\n        for (int x=width*3;x%4!=0;x++) { // pad to 4 bytes\r\n            out.write(0);\r\n        }   \r\n    }   \r\n    out.close();\r\n}   \r\nprivate static void writeInt(OutputStream out, int v) throws IOException {\r\n    out.write(v);\r\n    out.write(v &gt;&gt; 8);\r\n    out.write(v &gt;&gt; 16);\r\n    out.write(v &gt;&gt; 24);\r\n}   \r\n```","title":"ImageIO.write bmp does not work","body":"<p>An oldie, but BMPs are still useful occasionally and the answers above all skirt the best solution: do it yourself. That way it works for any type of bitmap.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void writeBMP(BufferedImage image, File f) throws IOException {\n    OutputStream out = new BufferedOutputStream(new FileOutputStream(f));\n    int width = image.getWidth();\n    int height = image.getHeight();\n    int row = (width * 3 + 3) / 4 * 4;\n    out.write('B');\n    out.write('M');\n    writeInt(out, 14 + 40 + row * height);  // file size\n    writeInt(out, 0); \n    writeInt(out, 14 + 40);        // bitmap offset\n    writeInt(out, 40);             // size\n    writeInt(out, width);          // width\n    writeInt(out, height);         // weight\n    writeInt(out, (24&lt;&lt;16) | 1);   // planes, bpp\n    writeInt(out, 0);              // compression\n    writeInt(out, row * height);   // bitmap size\n    writeInt(out, 0);              // resx\n    writeInt(out, 0);              // resy\n    writeInt(out, 0);              // used colors\n    writeInt(out, 0);              // important colors\n    for (int y=height-1;y&gt;=0;y--) {\n        for (int x=0;x&lt;width;x++) {\n            int rgba = image.getRGB(x, y); \n            out.write(rgba &amp; 0xFF); // b\n            out.write(rgba &gt;&gt; 8);   // g\n            out.write(rgba &gt;&gt; 16);  // r\n        }   \n        for (int x=width*3;x%4!=0;x++) { // pad to 4 bytes\n            out.write(0);\n        }   \n    }   \n    out.close();\n}   \nprivate static void writeInt(OutputStream out, int v) throws IOException {\n    out.write(v);\n    out.write(v &gt;&gt; 8);\n    out.write(v &gt;&gt; 16);\n    out.write(v &gt;&gt; 24);\n}   \n</code></pre>\n"}],"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15964,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1689753978,"creation_date":1379931933,"question_id":18956941,"body_markdown":"I&#39;m trying to save an image in bmp format, but it doesn&#39;t create any file.\r\nIf I use &quot;png&quot; instead, everything works fine.\r\nAny ideas?\r\n\r\n    //This works fine:\r\n    ImageIO.write(bi, &quot;png&quot;, new File(&quot;D:\\\\MyImage.png&quot;));\r\n    \r\n    //This does not work:\r\n    ImageIO.write(bi, &quot;bmp&quot;, new File(&quot;D:\\\\MyImage.bmp&quot;));\r\n    \r\n`ImageIO.getWriterFormatNames()` gives me &quot;jpg&quot;, &quot;bmp&quot;, &quot;jpeg&quot; and some others..\r\n\r\nThanks in advance.\r\n\r\nJakob\r\n","title":"ImageIO.write bmp does not work","body":"<p>I'm trying to save an image in bmp format, but it doesn't create any file.\nIf I use \"png\" instead, everything works fine.\nAny ideas?</p>\n\n<pre><code>//This works fine:\nImageIO.write(bi, \"png\", new File(\"D:\\\\MyImage.png\"));\n\n//This does not work:\nImageIO.write(bi, \"bmp\", new File(\"D:\\\\MyImage.bmp\"));\n</code></pre>\n\n<p><code>ImageIO.getWriterFormatNames()</code> gives me \"jpg\", \"bmp\", \"jpeg\" and some others..</p>\n\n<p>Thanks in advance.</p>\n\n<p>Jakob</p>\n"},{"tags":["java","spring-boot","properties"],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689753977,"creation_date":1689753585,"question_id":76719107,"body_markdown":"I have property:\r\n\r\n    @Value(&quot;${kafka.bootstrapServers}&quot;)\r\n    public String kafkaBootstrapServer;\r\n\r\nthen I have this properties in `default-kafka.properties` and in config map in kube\r\n\r\nin spring boot 2 I have bootstrap yamp:\r\n\r\n      cloud:\r\n        kubernetes:\r\n          config:\r\n            sources:\r\n              - name: &quot;my-app&quot;\r\n              - name: &quot;my-app-kafka&quot;  \r\n\r\nand this property is correctly loaded from config map:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;environmentProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;bootstrapProperties-configmap.my-app-kafka&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\r\n\r\nnow I try to port this app to spring boot 3. So there is no more bootstrap and I add this to kubernetes.yaml\r\n\r\n      config:\r\n        activate:\r\n          on-profile: kubernetes\r\n        import: &#39;kubernetes:&#39;\r\n      cloud:\r\n        kubernetes:\r\n          config:\r\n            sources:\r\n              - name: &quot;my-app&quot;\r\n              - name: &quot;my-app-kafka&quot;\r\n          reload:\r\n            enabled: true\r\n\r\nbut there is different order and this property is loaded from default properties and not configmap:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818239134+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;environmentProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818258156+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;configurationProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818269302+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;servletConfigInitParams&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.81827849+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;servletContextInitParams&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818289512+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;systemProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818299641+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;systemEnvironment&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818311789+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;random&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818322033+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;cachedrandom&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818331324+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;KUBERNETES_NAMESPACE_PROPERTY_SOURCE&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818340997+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;springCloudClientHostInfo&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818350349+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;Config resource &#39;class path resource [application-default-kafka.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n\r\nany advice how to keep same order of loading properties in spring boot 3 ?\r\n\r\n**UPDATE**\r\n\r\nsearching in configmap is after classpath properties\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T10:02:46.709702689+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrap&#39; in PropertySource &#39;composite-configmap&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-74f89d456b-jtksn&quot;}\r\n\r\n","title":"Loading properties from config map in spring boot 3","body":"<p>I have property:</p>\n<pre><code>@Value(&quot;${kafka.bootstrapServers}&quot;)\npublic String kafkaBootstrapServer;\n</code></pre>\n<p>then I have this properties in <code>default-kafka.properties</code> and in config map in kube</p>\n<p>in spring boot 2 I have bootstrap yamp:</p>\n<pre><code>  cloud:\n    kubernetes:\n      config:\n        sources:\n          - name: &quot;my-app&quot;\n          - name: &quot;my-app-kafka&quot;  \n</code></pre>\n<p>and this property is correctly loaded from config map:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'environmentProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'bootstrapProperties-configmap.my-app-kafka'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\n</code></pre>\n<p>now I try to port this app to spring boot 3. So there is no more bootstrap and I add this to kubernetes.yaml</p>\n<pre><code>  config:\n    activate:\n      on-profile: kubernetes\n    import: 'kubernetes:'\n  cloud:\n    kubernetes:\n      config:\n        sources:\n          - name: &quot;my-app&quot;\n          - name: &quot;my-app-kafka&quot;\n      reload:\n        enabled: true\n</code></pre>\n<p>but there is different order and this property is loaded from default properties and not configmap:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818239134+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'environmentProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818258156+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'configurationProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818269302+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'servletConfigInitParams'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.81827849+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'servletContextInitParams'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818289512+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'systemProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818299641+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'systemEnvironment'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818311789+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'random'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818322033+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'cachedrandom'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818331324+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'KUBERNETES_NAMESPACE_PROPERTY_SOURCE'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818340997+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'springCloudClientHostInfo'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818350349+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'Config resource 'class path resource [application-default-kafka.properties]' via location 'optional:classpath:/''&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n</code></pre>\n<p>any advice how to keep same order of loading properties in spring boot 3 ?</p>\n<p><strong>UPDATE</strong></p>\n<p>searching in configmap is after classpath properties</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T10:02:46.709702689+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrap' in PropertySource 'composite-configmap'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-74f89d456b-jtksn&quot;}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-java","mongodb-java-3.3.0"],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1477590211,"post_id":40246563,"comment_id":67840334,"body_markdown":"Thanks. Also this can be further improved as `for(String str : iterable) { list.add(str); }` instead of using Cursor above. The way I am using it is `List&lt;String&gt; list = Lists.newArrayList(mongoClient.getDatabase(dbName).getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class));` where the `Lists` is from google collection.","body":"Thanks. Also this can be further improved as <code>for(String str : iterable) { list.add(str); }</code> instead of using Cursor above. The way I am using it is <code>List&lt;String&gt; list = Lists.newArrayList(mongoClient.getDatabase(dbName).getCollec&zwnj;&#8203;tion(collectionName, TDocType.class).distinct(NAME_KEY, String.class));</code> where the <code>Lists</code> is from google collection."},{"owner":{"account_id":962967,"reputation":3773,"user_id":986903,"display_name":"jyemin"},"score":7,"creation_date":1478895517,"post_id":40246563,"comment_id":68349258,"body_markdown":"Or more simply: \n    List&lt;String&gt; list = mongoClient.getDatabase(dbName).getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class).into(new ArrayList&lt;&gt;());","body":"Or more simply:      List&lt;String&gt; list = mongoClient.getDatabase(dbName).getCollection(collectionName&zwnj;&#8203;, TDocType.class).distinct(NAME_KEY, String.class).into(new ArrayList&lt;&gt;());"}],"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1689753841,"creation_date":1477418105,"answer_id":40246563,"question_id":40246302,"body_markdown":"**Improved answer from @jyemin**\r\n```\r\nList&lt;String&gt; list = mongoClient.getDatabase(dbName)\r\n                .getCollection(collectionName, TDocType.class)\r\n                .distinct(NAME_KEY, String.class)\r\n                .into(new ArrayList&lt;&gt;()); \r\n```\r\n\r\n\r\n**Original answer**\r\n\r\nYou can try something like this.\r\n\r\n    DistinctIterable&lt;String&gt; iterable = mongoClient.getDatabase(dbName).\r\n                .getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class);\r\n    MongoCursor&lt;String&gt; cursor = iterable.iterator();\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    while (cursor.hasNext()) {\r\n        list.add(cursor.next());\r\n     }","title":"Finding distinct from collections in mongodb","body":"<p><strong>Improved answer from @jyemin</strong></p>\n<pre><code>List&lt;String&gt; list = mongoClient.getDatabase(dbName)\n                .getCollection(collectionName, TDocType.class)\n                .distinct(NAME_KEY, String.class)\n                .into(new ArrayList&lt;&gt;()); \n</code></pre>\n<p><strong>Original answer</strong></p>\n<p>You can try something like this.</p>\n<pre><code>DistinctIterable&lt;String&gt; iterable = mongoClient.getDatabase(dbName).\n            .getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class);\nMongoCursor&lt;String&gt; cursor = iterable.iterator();\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nwhile (cursor.hasNext()) {\n    list.add(cursor.next());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685031311,"creation_date":1685031311,"answer_id":76334366,"question_id":40246302,"body_markdown":"for those who already have `org.codehaus.groovy:groovy` in their deps  :\r\n\r\n    // import static org.codehaus.groovy.runtime.DefaultGroovyMethods.toSet;.\r\n    toSet(distinctIterable);\r\n    \r\n\r\nExample\r\n\r\n    DistinctIterable&lt;String&gt; distinctIterable = getCollection()\r\n                .distinct(FIELD_ID, query.getQueryObject(), String.class);\r\n    return toSet(distinctIterable);\r\n","title":"Finding distinct from collections in mongodb","body":"<p>for those who already have <code>org.codehaus.groovy:groovy</code> in their deps  :</p>\n<pre><code>// import static org.codehaus.groovy.runtime.DefaultGroovyMethods.toSet;.\ntoSet(distinctIterable);\n</code></pre>\n<p>Example</p>\n<pre><code>DistinctIterable&lt;String&gt; distinctIterable = getCollection()\n            .distinct(FIELD_ID, query.getQueryObject(), String.class);\nreturn toSet(distinctIterable);\n</code></pre>\n"}],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3699,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40246563,"answer_count":2,"score":6,"last_activity_date":1689753841,"creation_date":1477417151,"question_id":40246302,"body_markdown":"Our previous implementation for finding distinct elements from a collection used to be :\r\n\r\n    List&lt;String&gt; names = mongoClient.getDB(dbName).getCollection(collectionName).distinct(NAME_KEY);\r\n\r\nTrying to upgrade this into the current implementation with mongo 3.3.0+ as tried is : \r\n      \r\n    List&lt;String&gt; names = mongoClient.getDatabase(dbName)\r\n                            .getCollection(collectionName, TDocType.class)\r\n                            .distinct(NAME_KEY, String.class); // compile error - required Class&lt;TResult&gt; \r\n\r\nHave also given a try to   \r\n    \r\n    .distinct(NAME_KEY, TDocType.class)  // doesn&#39;t work                      \r\n\r\nWhat shall be the target type of the iterable in this case?\r\n\r\n***Edit*** - The question is not a duplicate of https://stackoverflow.com/questions/20655506/get-distinct-records-values since the implementation has changed over the upgrade of `mongodb-java-driver`.\r\n                 ","title":"Finding distinct from collections in mongodb","body":"<p>Our previous implementation for finding distinct elements from a collection used to be :</p>\n\n<pre><code>List&lt;String&gt; names = mongoClient.getDB(dbName).getCollection(collectionName).distinct(NAME_KEY);\n</code></pre>\n\n<p>Trying to upgrade this into the current implementation with mongo 3.3.0+ as tried is : </p>\n\n<pre><code>List&lt;String&gt; names = mongoClient.getDatabase(dbName)\n                        .getCollection(collectionName, TDocType.class)\n                        .distinct(NAME_KEY, String.class); // compile error - required Class&lt;TResult&gt; \n</code></pre>\n\n<p>Have also given a try to   </p>\n\n<pre><code>.distinct(NAME_KEY, TDocType.class)  // doesn't work                      \n</code></pre>\n\n<p>What shall be the target type of the iterable in this case?</p>\n\n<p><strong><em>Edit</em></strong> - The question is not a duplicate of <a href=\"https://stackoverflow.com/questions/20655506/get-distinct-records-values\">Get distinct records values</a> since the implementation has changed over the upgrade of <code>mongodb-java-driver</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1677060203,"post_id":75531033,"comment_id":133261142,"body_markdown":"It seems the &quot;newman&quot; command isn&#39;t found, are you running Java from the same command line that you&#39;re using for manual runs of &quot;newman&quot;? Did you try supplying the full path or calling a batch file that executes &quot;newman&quot;?","body":"It seems the &quot;newman&quot; command isn&#39;t found, are you running Java from the same command line that you&#39;re using for manual runs of &quot;newman&quot;? Did you try supplying the full path or calling a batch file that executes &quot;newman&quot;?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677060359,"post_id":75531033,"comment_id":133261185,"body_markdown":"the error message contains a single quote before `newman`, where does that come from?","body":"the error message contains a single quote before <code>newman</code>, where does that come from?"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677060567,"post_id":75531033,"comment_id":133261239,"body_markdown":"@f1sh the single quote was a typo. The actual error has no quote","body":"@f1sh the single quote was a typo. The actual error has no quote"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677060651,"post_id":75531033,"comment_id":133261261,"body_markdown":"I am using the same command line that I run for my manual newman tests. I have not tried to specify full path. I will try now @Thomas","body":"I am using the same command line that I run for my manual newman tests. I have not tried to specify full path. I will try now @Thomas"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677075597,"post_id":75531033,"comment_id":133265793,"body_markdown":"@Thomas using full path did not work","body":"@Thomas using full path did not work"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1677082660,"post_id":75531033,"comment_id":133268327,"body_markdown":"Can you post the command you&#39;re successfully executing manually?","body":"Can you post the command you&#39;re successfully executing manually?"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677144077,"post_id":75531033,"comment_id":133280850,"body_markdown":"@Thomas &quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;","body":"@Thomas &quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1755195,"reputation":1,"user_id":1603418,"display_name":"user1603418"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689753715,"creation_date":1689753715,"answer_id":76719131,"question_id":75531033,"body_markdown":"We need to add cmd.exe for newman if you are running from windows machine i.e.\r\n \r\n\r\n    Runtime.getRuntime().exec(&quot;cmd.exe /c newman run &#39;C:\\\\Dev\\\\config\\\\service-tests\\\\postmanCollections\\\\test.json&#39; -r  json,html&quot;);","title":"How can I run a newman command from java","body":"<p>We need to add cmd.exe for newman if you are running from windows machine i.e.</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd.exe /c newman run 'C:\\\\Dev\\\\config\\\\service-tests\\\\postmanCollections\\\\test.json' -r  json,html&quot;);\n</code></pre>\n"}],"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689753715,"creation_date":1677059924,"question_id":75531033,"body_markdown":"The code I am using to try run my newman command from Java is :\r\n```\r\nProcess processObject = Runtime.getRuntime().exec(&quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;);\r\n```\r\n\r\nWhen this is executed I get the following error:\r\n\r\n```\r\nCannot run program &quot;newman&quot;: CreateProcess error=2, The system cannot find the file specified\r\n```\r\nis there an alternative way to run this?","title":"How can I run a newman command from java","body":"<p>The code I am using to try run my newman command from Java is :</p>\n<pre><code>Process processObject = Runtime.getRuntime().exec(&quot;newman run 'C:/Dev/config/service-tests/postmanCollections/test.json' -r  json,html&quot;);\n</code></pre>\n<p>When this is executed I get the following error:</p>\n<pre><code>Cannot run program &quot;newman&quot;: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n<p>is there an alternative way to run this?</p>\n"},{"tags":["java","mediarecorder"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689789570,"post_id":76718999,"comment_id":135264719,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29047288,"reputation":1,"user_id":22250834,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689752704,"creation_date":1689752704,"question_id":76718999,"body_markdown":"I am really struggling trying to record the cameraview. I want to record the view when start recording is clicked.\r\n\r\n    &lt;com.otaliastudios.cameraview.CameraView\r\n        android:id=&quot;@+id/camera&quot;\r\n        android:keepScreenOn=&quot;true&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;300dp&quot;\r\n        app:cameraFacing=&quot;front&quot;/&gt;\r\n\r\nI only get a metafile and stopping the recording fails.\r\n\r\npublic void startRecording() throws IOException {\r\n \r\n\t\t// Creating file\r\n\t\tFile dir = MainActivity.this.getExternalFilesDir(&quot;test/&quot; + currentFolderName);\r\n\t\ttry {\r\n\t\t\tvideofile = File.createTempFile(&quot;video&quot;, &quot;.mp4&quot;, dir);\r\n\t\t} catch (IOException e) {\r\n\t\t\tLog.e(TAG, &quot;External storage access error&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tLog.i(&quot;CAMERA&quot;,&quot;Recording&quot;);\r\n\t\t// Creating MediaRecorder and specifying video source, output format, encoder, and output file\r\n \r\n\t\trecorder = new MediaRecorder();\r\n\t\trecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n\t\trecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n\t\trecorder.setVideoSize(640, 480);\r\n\t\trecorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\r\n\t\trecorder.setOutputFile(videofile.getAbsolutePath());\r\n \r\n \r\n\t\trecorder.prepare();\r\n\t\tSurface surface = recorder.getSurface();\r\n\t\trecorder.start();\r\n\t}\r\npublic void stopRecording() {\r\n \r\n\t\tnew Handler().postDelayed(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trecorder.stop();\r\n\t\t\t\t} catch (IllegalStateException e) {\r\n\t\t\t\t\tLog.e(TAG, &quot;Error stopping MediaRecorder: &quot; + e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 500); // Add a 500ms delay before stopping the recording\r\n\t\trecorder.reset();\r\n\t\trecorder.release();\r\n\t\t// After stopping the recorder, create the video file and add it to the media library\r\n\t\taddRecordingToMediaLibrary();\r\n\t}\r\n\tprotected void addRecordingToMediaLibrary() {\r\n\t\t// Creating content values\r\n\t\tContentValues values = new ContentValues();\r\n\t\tlong current = System.currentTimeMillis();\r\n\t\tvalues.put(MediaStore.Video.Media.TITLE, &quot;video&quot; + videofile.getName());\r\n\t\tvalues.put(MediaStore.Video.Media.DATE_ADDED, (int) (current / 1000));\r\n\t\tvalues.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n\t\tvalues.put(MediaStore.Video.Media.DATA, videofile.getAbsolutePath());\r\n \r\n\t\t// Creating content resolver and storing it in the external content uri\r\n\t\tContentResolver contentResolver = getContentResolver();\r\n\t\tUri base = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n\t\tUri newUri = contentResolver.insert(base, values);\r\n \r\n\t\t// Sending broadcast message to scan the media file so that it can be available\r\n\t\tsendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\r\n\t\tToast.makeText(this, &quot;Added File &quot; + newUri, Toast.LENGTH_LONG).show();\r\n\t}\r\n\r\nI get Error stopping MediaRecorder. I think I&#39;m not starting recording on the correct source but I&#39;ve ran out of ideas.","title":"Can I record cameraview with mediarecorder?","body":"<p>I am really struggling trying to record the cameraview. I want to record the view when start recording is clicked.</p>\n<pre><code>&lt;com.otaliastudios.cameraview.CameraView\n    android:id=&quot;@+id/camera&quot;\n    android:keepScreenOn=&quot;true&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;300dp&quot;\n    app:cameraFacing=&quot;front&quot;/&gt;\n</code></pre>\n<p>I only get a metafile and stopping the recording fails.</p>\n<p>public void startRecording() throws IOException {</p>\n<pre><code>    // Creating file\n    File dir = MainActivity.this.getExternalFilesDir(&quot;test/&quot; + currentFolderName);\n    try {\n        videofile = File.createTempFile(&quot;video&quot;, &quot;.mp4&quot;, dir);\n    } catch (IOException e) {\n        Log.e(TAG, &quot;External storage access error&quot;);\n        return;\n    }\n    Log.i(&quot;CAMERA&quot;,&quot;Recording&quot;);\n    // Creating MediaRecorder and specifying video source, output format, encoder, and output file\n\n    recorder = new MediaRecorder();\n    recorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n    recorder.setVideoSize(640, 480);\n    recorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\n    recorder.setOutputFile(videofile.getAbsolutePath());\n\n\n    recorder.prepare();\n    Surface surface = recorder.getSurface();\n    recorder.start();\n}\n</code></pre>\n<p>public void stopRecording() {</p>\n<pre><code>    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                recorder.stop();\n            } catch (IllegalStateException e) {\n                Log.e(TAG, &quot;Error stopping MediaRecorder: &quot; + e.getMessage());\n            }\n        }\n    }, 500); // Add a 500ms delay before stopping the recording\n    recorder.reset();\n    recorder.release();\n    // After stopping the recorder, create the video file and add it to the media library\n    addRecordingToMediaLibrary();\n}\nprotected void addRecordingToMediaLibrary() {\n    // Creating content values\n    ContentValues values = new ContentValues();\n    long current = System.currentTimeMillis();\n    values.put(MediaStore.Video.Media.TITLE, &quot;video&quot; + videofile.getName());\n    values.put(MediaStore.Video.Media.DATE_ADDED, (int) (current / 1000));\n    values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n    values.put(MediaStore.Video.Media.DATA, videofile.getAbsolutePath());\n\n    // Creating content resolver and storing it in the external content uri\n    ContentResolver contentResolver = getContentResolver();\n    Uri base = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n    Uri newUri = contentResolver.insert(base, values);\n\n    // Sending broadcast message to scan the media file so that it can be available\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\n    Toast.makeText(this, &quot;Added File &quot; + newUri, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>I get Error stopping MediaRecorder. I think I'm not starting recording on the correct source but I've ran out of ideas.</p>\n"},{"tags":["java","json","jakarta-ee"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1471639156,"post_id":39047214,"comment_id":65444505,"body_markdown":"Your input probably contains an invisible character on line 2, column 15. What happens if you try reading another input file that you&#39;ve typed in by hand?","body":"Your input probably contains an invisible character on line 2, column 15. What happens if you try reading another input file that you&#39;ve typed in by hand?"},{"owner":{"account_id":5609307,"reputation":1839,"user_id":4442714,"display_name":"Matthias Wiehl"},"score":2,"creation_date":1471643635,"post_id":39047214,"comment_id":65446184,"body_markdown":"Character code 160 is a non-breaking space which according to [RFC 4627](http://www.ietf.org/rfc/rfc4627.txt) is not valid JSON whitespace.","body":"Character code 160 is a non-breaking space which according to <a href=\"http://www.ietf.org/rfc/rfc4627.txt\" rel=\"nofollow noreferrer\">RFC 4627</a> is not valid JSON whitespace."},{"owner":{"account_id":2705179,"reputation":321,"user_id":2334926,"accept_rate":0,"display_name":"user2334926"},"score":0,"creation_date":1471886483,"post_id":39047214,"comment_id":65518426,"body_markdown":"Thanks !! It worked after typing the content. I believe some space was there while copy pasting","body":"Thanks !! It worked after typing the content. I believe some space was there while copy pasting"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1682446793,"post_id":39047214,"comment_id":134216264,"body_markdown":"This can happen if you send a HTTP request as application/txt instead of application/json","body":"This can happen if you send a HTTP request as application/txt instead of application/json"}],"answers":[{"tags":[],"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1555711069,"creation_date":1555710631,"answer_id":55768217,"question_id":39047214,"body_markdown":"Your JSON content contains non-breaking spaces (character code 160, commonly known as `&amp;nbsp;`) likely from copying and pasting JSON (usually from a webpage) that used `&amp;nbsp;` to indent the JSON.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can fix it with\r\n\r\n```\r\nresponseJson = responseJson.replace(&#39;\\u00A0&#39;,&#39; &#39;);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sp4KJ.png","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>Your JSON content contains non-breaking spaces (character code 160, commonly known as <code>&amp;nbsp;</code>) likely from copying and pasting JSON (usually from a webpage) that used <code>&amp;nbsp;</code> to indent the JSON.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sp4KJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sp4KJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can fix it with</p>\n\n<pre><code>responseJson = responseJson.replace('\\u00A0',' ');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11417406,"reputation":11,"user_id":8369861,"display_name":"Dhiraj Parakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683879287,"creation_date":1683879287,"answer_id":76234382,"question_id":39047214,"body_markdown":"Google for Json formatter then click on any one of the option ,\r\nPaste your json code in that formatter , it will validate &amp; highlight the unwanted characters just delete them or replace then with what you want.\r\n\r\ne.g. goto https://jsonformatter.org/\r\n&amp; follow the above steps","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>Google for Json formatter then click on any one of the option ,\nPaste your json code in that formatter , it will validate &amp; highlight the unwanted characters just delete them or replace then with what you want.</p>\n<p>e.g. goto <a href=\"https://jsonformatter.org/\" rel=\"nofollow noreferrer\">https://jsonformatter.org/</a>\n&amp; follow the above steps</p>\n"},{"tags":[],"owner":{"account_id":24937532,"reputation":11,"user_id":18803894,"display_name":"Rajeeva Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689752216,"creation_date":1689752216,"answer_id":76718940,"question_id":39047214,"body_markdown":"had same issue with body sent via postman\r\nJust copy pasted the text into sublime text editor which shown as below, The picture shows some extra formatting in space which is not a valid json white space\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMwSu.png\r\n\r\nAfter removing them and just spacing properly in sublime worked well.\r\n\r\n","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>had same issue with body sent via postman\nJust copy pasted the text into sublime text editor which shown as below, The picture shows some extra formatting in space which is not a valid json white space\n<a href=\"https://i.stack.imgur.com/HMwSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMwSu.png\" alt=\"\" /></a></p>\n<p>After removing them and just spacing properly in sublime worked well.</p>\n"}],"owner":{"account_id":2705179,"reputation":321,"user_id":2334926,"accept_rate":0,"display_name":"user2334926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34989,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689752216,"creation_date":1471638670,"question_id":39047214,"body_markdown":"I am reading the below json content from a file and converting into a map but i am getting the below exception. Kindly let me know if anybody has come across such issue. I validated my json content and looks valid. Not sure why this error.\r\n    \r\nJson Content:\r\n    \r\n    {\r\n    \t&quot;Results&quot;:[{&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 0&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t},{\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 1&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t}&#160;&#160;&#160;]\r\n    }\r\n    \r\nCode:\r\n    \r\n    Map&lt;String, Object&gt; domainMap = new HashMap&lt;String, Object&gt;();\r\n    try {\r\n    \tresponseJson = getFile(&quot;reviewresponse.json&quot;);\r\n    \t//responseJson = new String(Files.readAllBytes(Paths.get(&quot;reviewresponse.json&quot;)), StandardCharsets.UTF_8);\r\n    \tObjectMapper jsonObjectMapper = new ObjectMapper();\r\n        jsonObjectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n    \tdomainMap = jsonObjectMapper.readValue(responseJson,\r\n                       new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n    } \r\n    \r\n   Exception Details:\r\n    \r\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;&#160;&#39; (code 160)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name\r\n     at [Source: {\r\n    \t&quot;Results&quot;:[{&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 0&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t},{\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 1&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t}&#160;&#160;&#160;]\r\n    }\r\n    ; line: 2, column: 15]","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>I am reading the below json content from a file and converting into a map but i am getting the below exception. Kindly let me know if anybody has come across such issue. I validated my json content and looks valid. Not sure why this error.</p>\n\n<p>Json Content:</p>\n\n<pre><code>{\n    \"Results\":[{         \n        \"TotalPositiveFeedbackCount\": 0      \n    },{\n        \"TotalPositiveFeedbackCount\": 1      \n    }   ]\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>Map&lt;String, Object&gt; domainMap = new HashMap&lt;String, Object&gt;();\ntry {\n    responseJson = getFile(\"reviewresponse.json\");\n    //responseJson = new String(Files.readAllBytes(Paths.get(\"reviewresponse.json\")), StandardCharsets.UTF_8);\n    ObjectMapper jsonObjectMapper = new ObjectMapper();\n    jsonObjectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n    domainMap = jsonObjectMapper.readValue(responseJson,\n                   new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n} \n</code></pre>\n\n<p>Exception Details:</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character (' ' (code 160)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name\n at [Source: {\n    \"Results\":[{         \n        \"TotalPositiveFeedbackCount\": 0      \n    },{\n        \"TotalPositiveFeedbackCount\": 1      \n    }   ]\n}\n; line: 2, column: 15]\n</code></pre>\n"},{"tags":["java","android","kotlin","android-permissions","usagestatsmanager"],"owner":{"account_id":7837112,"reputation":174,"user_id":5924720,"display_name":"Pedif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689752022,"creation_date":1689752022,"question_id":76718921,"body_markdown":"The issue is pretty clear, I want to query which app is currently being executed with queryEvents and looping over the running type events, unfortunately, this does not work for Android R+ devices.\r\nPer Android documentation, we need to add two system permissions:\r\n \r\n\r\n    &lt;uses-permission\r\n            android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\r\n            tools:ignore=&quot;QueryAllPackagesPermission&quot;/&gt;\r\n\r\nBut, even with these permissions, the query still returns nothing for Android 11 and onwards devices.\r\nthe query function is also pretty simple:\r\n\r\n    (context.getSystemService(Context.USAGE_STATS_SERVICE) as UsageStatsManager).also {\r\n\r\n        val usageStatsManager: UsageStatsManager = it\r\n        val currentTimeMillis = System.currentTimeMillis()\r\n        val queryEvents =\r\n            usageStatsManager.queryEvents(currentTimeMillis - (1000*60*10), currentTimeMillis)\r\n        val event = UsageEvents.Event()\r\n        var str = &quot;&quot;\r\n        while (queryEvents.hasNextEvent()) {\r\n            queryEvents.getNextEvent(event)\r\n            Timber.d(event.className)\r\n            if (event.eventType == UsageEvents.Event.ACTIVITY_RESUMED) {\r\n                str = event.packageName\r\n            }\r\n        }\r\n}\r\n","title":"Android UsageStatsManager: queryEvents return null for Android R+","body":"<p>The issue is pretty clear, I want to query which app is currently being executed with queryEvents and looping over the running type events, unfortunately, this does not work for Android R+ devices.\nPer Android documentation, we need to add two system permissions:</p>\n<pre><code>&lt;uses-permission\n        android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\n        tools:ignore=&quot;QueryAllPackagesPermission&quot;/&gt;\n</code></pre>\n<p>But, even with these permissions, the query still returns nothing for Android 11 and onwards devices.\nthe query function is also pretty simple:</p>\n<pre><code>(context.getSystemService(Context.USAGE_STATS_SERVICE) as UsageStatsManager).also {\n\n    val usageStatsManager: UsageStatsManager = it\n    val currentTimeMillis = System.currentTimeMillis()\n    val queryEvents =\n        usageStatsManager.queryEvents(currentTimeMillis - (1000*60*10), currentTimeMillis)\n    val event = UsageEvents.Event()\n    var str = &quot;&quot;\n    while (queryEvents.hasNextEvent()) {\n        queryEvents.getNextEvent(event)\n        Timber.d(event.className)\n        if (event.eventType == UsageEvents.Event.ACTIVITY_RESUMED) {\n            str = event.packageName\n        }\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","solr","aem","solrj"],"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689751667,"creation_date":1689678510,"question_id":76712165,"body_markdown":"i have coded a simple code to connect solr from AEM server with https\r\nbut it gives me following error which i cannot understand \r\nmy pom.xml\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.1.0&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.4.19.v20190610&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;!-- Needed for the SSLContextFactory$Client class --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.4.19.v20190610&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n\r\n\r\nthis is the code that implemented to index to solr\r\n\r\n    public boolean indexPageToSolr(JsonObject indexPageData, SolrClient server) throws  \r\n\r\n    SolrServerException,\r\n    \t\t\tIOException {\r\n    \t\tif (null != indexPageData) {\r\n    \t\t\t  \r\n    \t\t\t  \r\n    \t\t\tString urlString = &quot;https://connecttosolr.com/solr/mycollection&quot;;\r\n                Http2SolrClient solr = new Http2SolrClient.Builder(urlString).build();\r\n                solr.setParser(new XMLResponseParser());\r\n    \r\n              \r\n    \t\t    SolrInputDocument doc = createPageSolrDoc(indexPageData);\r\n    \t\t\ttry{\r\n    \t\t\t\tsolr.add(doc);\r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e){\r\n    \t\t\t\tlogger.info(&quot;******* error in add :********&quot; + e.toString());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tsolr.commit();\r\n    \t\t\t\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n\r\n\r\nerror im getting is below \r\n\r\n    indexto Solr Stacktrace [java.base/java.util.Objects.requireNonNull(Objects.java:246), org.eclipse.jetty.io.ssl.SslClientConnectionFactory.&lt;init&gt;(SslClientConnectionFactory.java:57), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1208), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1214), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:148), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:154), org.eclipse.jetty.client.HttpDestination.&lt;init&gt;(HttpDestination.java:94), org.eclipse.jetty.client.MultiplexHttpDestination.&lt;init&gt;(MultiplexHttpDestination.java:25), org.eclipse.jetty.http2.client.http.HttpDestinationOverHTTP2.&lt;init&gt;(HttpDestinationOverHTTP2.java:32), org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.newHttpDestination(HttpClientTransportOverHTTP2.java:128), org.eclipse.jetty.client.HttpClient.lambda$resolveDestination$0(HttpClient.java:575), java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:573), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:551), org.eclipse.jetty.client.HttpClient.send(HttpClient.java:599), org.eclipse.jetty.client.HttpRequest.sendAsync(HttpRequest.java:778), org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:765), org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:455), org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:234), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:166), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:131), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:147), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.indexPageToSolr(SolrServiceImpl.java:432), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.index(SolrServiceImpl.java:203), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.updateSolrIndex(SolrServiceImpl.java:112), com.mypackage.subpackage.core.model.search.solr.eventhandler.SolrEventHandler.handleEvent(SolrEventHandler.java:54), org.apache.felix.eventadmin.impl.handler.EventHandlerProxy.sendEvent(EventHandlerProxy.java:415), org.apache.felix.eventadmin.impl.tasks.HandlerTask.runWithoutBlacklistTiming(HandlerTask.java:82), org.apache.felix.eventadmin.impl.tasks.SyncDeliverTasks.execute(SyncDeliverTasks.java:104), org.apache.felix.eventadmin.impl.tasks.AsyncDeliverTasks$TaskExecuter.run(AsyncDeliverTasks.java:166), java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515), java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), java.base/java.lang.Thread.run(Thread.java:834)]\r\n    18.07.2023 18:41:39.748 *ERROR* [EventAdminAsyncThread #9] com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\r\n\r\n\r\n    com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory","title":"Solr Missing SslContextFactory AEM with HTTP2Client","body":"<p>i have coded a simple code to connect solr from AEM server with https\nbut it gives me following error which i cannot understand\nmy pom.xml</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n                &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Needed for the SSLContextFactory$Client class --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>this is the code that implemented to index to solr</p>\n<pre><code>public boolean indexPageToSolr(JsonObject indexPageData, SolrClient server) throws  \n\nSolrServerException,\n            IOException {\n        if (null != indexPageData) {\n              \n              \n            String urlString = &quot;https://connecttosolr.com/solr/mycollection&quot;;\n            Http2SolrClient solr = new Http2SolrClient.Builder(urlString).build();\n            solr.setParser(new XMLResponseParser());\n\n          \n            SolrInputDocument doc = createPageSolrDoc(indexPageData);\n            try{\n                solr.add(doc);\n            }\n            catch(Exception e){\n                logger.info(&quot;******* error in add :********&quot; + e.toString());\n            }\n        \n            solr.commit();\n            \n            return true;\n        }\n\n        return false;\n    }\n</code></pre>\n<p>error im getting is below</p>\n<pre><code>indexto Solr Stacktrace [java.base/java.util.Objects.requireNonNull(Objects.java:246), org.eclipse.jetty.io.ssl.SslClientConnectionFactory.&lt;init&gt;(SslClientConnectionFactory.java:57), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1208), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1214), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:148), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:154), org.eclipse.jetty.client.HttpDestination.&lt;init&gt;(HttpDestination.java:94), org.eclipse.jetty.client.MultiplexHttpDestination.&lt;init&gt;(MultiplexHttpDestination.java:25), org.eclipse.jetty.http2.client.http.HttpDestinationOverHTTP2.&lt;init&gt;(HttpDestinationOverHTTP2.java:32), org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.newHttpDestination(HttpClientTransportOverHTTP2.java:128), org.eclipse.jetty.client.HttpClient.lambda$resolveDestination$0(HttpClient.java:575), java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:573), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:551), org.eclipse.jetty.client.HttpClient.send(HttpClient.java:599), org.eclipse.jetty.client.HttpRequest.sendAsync(HttpRequest.java:778), org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:765), org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:455), org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:234), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:166), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:131), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:147), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.indexPageToSolr(SolrServiceImpl.java:432), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.index(SolrServiceImpl.java:203), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.updateSolrIndex(SolrServiceImpl.java:112), com.mypackage.subpackage.core.model.search.solr.eventhandler.SolrEventHandler.handleEvent(SolrEventHandler.java:54), org.apache.felix.eventadmin.impl.handler.EventHandlerProxy.sendEvent(EventHandlerProxy.java:415), org.apache.felix.eventadmin.impl.tasks.HandlerTask.runWithoutBlacklistTiming(HandlerTask.java:82), org.apache.felix.eventadmin.impl.tasks.SyncDeliverTasks.execute(SyncDeliverTasks.java:104), org.apache.felix.eventadmin.impl.tasks.AsyncDeliverTasks$TaskExecuter.run(AsyncDeliverTasks.java:166), java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515), java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), java.base/java.lang.Thread.run(Thread.java:834)]\n18.07.2023 18:41:39.748 *ERROR* [EventAdminAsyncThread #9] com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\n\n\ncom.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\n</code></pre>\n"},{"tags":["java","memory","garbage-collection"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1689752985,"post_id":76718875,"comment_id":135256114,"body_markdown":"A heap dump won&#39;t contain garbage. My guess is that by going through the heap while writing the dump garbage is identified. Therefore it can also be garbage collected during writing the dump.","body":"A heap dump won&#39;t contain garbage. My guess is that by going through the heap while writing the dump garbage is identified. Therefore it can also be garbage collected during writing the dump."},{"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"score":0,"creation_date":1689756196,"post_id":76718875,"comment_id":135256787,"body_markdown":"I have allocated 8GB of Memory to my app and the app is consuming almost 95% of the memory but as soon as I hit the heap dump endpoint, memory consumption goes below 35%. I am curious, Why garbage is not collected beforehand.","body":"I have allocated 8GB of Memory to my app and the app is consuming almost 95% of the memory but as soon as I hit the heap dump endpoint, memory consumption goes below 35%. I am curious, Why garbage is not collected beforehand."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1689767345,"post_id":76718875,"comment_id":135259201,"body_markdown":"There probably is garbage collected. But why collect more garbage than necessary? If the application can keep running with only collecting 100MB of garbage per run why waste cpu time on collecting more than that?","body":"There probably is garbage collected. But why collect more garbage than necessary? If the application can keep running with only collecting 100MB of garbage per run why waste cpu time on collecting more than that?"},{"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"score":0,"creation_date":1689853323,"post_id":76718875,"comment_id":135273626,"body_markdown":"oh Understood, what if I decrease my heap size? will it lead to memoryOutofError? or garbage will be collected as soon as max heap size is reached?","body":"oh Understood, what if I decrease my heap size? will it lead to memoryOutofError? or garbage will be collected as soon as max heap size is reached?"}],"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689751639,"creation_date":1689751639,"question_id":76718875,"body_markdown":"I have deployed my Spring Boot application to Cloud Foundry, and I have noticed that when I call the actuator/heapdump endpoint, there is a significant drop in memory usage. I am interested in understanding the specific actions that occur when this endpoint is invoked.\r\n\r\n\r\n\r\nIn my application, the actuator/heapdump endpoint seems to trigger a noticeable decrease in memory usage. I would like to gain insights into the underlying process and its impact on memory management. Can someone explain what exactly happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?","title":"What happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?","body":"<p>I have deployed my Spring Boot application to Cloud Foundry, and I have noticed that when I call the actuator/heapdump endpoint, there is a significant drop in memory usage. I am interested in understanding the specific actions that occur when this endpoint is invoked.</p>\n<p>In my application, the actuator/heapdump endpoint seems to trigger a noticeable decrease in memory usage. I would like to gain insights into the underlying process and its impact on memory management. Can someone explain what exactly happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?</p>\n"},{"tags":["java","collections","queue","guava","unique-constraint"],"comments":[{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":1,"creation_date":1266950055,"post_id":2319086,"comment_id":87865268,"body_markdown":"TreeSet. It&#39;s a sorted Set, and Set implies &quot;no duplicate elements&quot;.","body":"TreeSet. It&#39;s a sorted Set, and Set implies &quot;no duplicate elements&quot;."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1695721441,"post_id":2319086,"comment_id":136059159,"body_markdown":"I don&#39;t think TreeSet preserves the queueing order.","body":"I don&#39;t think TreeSet preserves the queueing order."}],"answers":[{"comments":[{"owner":{"account_id":4821281,"reputation":582,"user_id":3891901,"accept_rate":67,"display_name":"Marc"},"score":0,"creation_date":1468978921,"post_id":2319119,"comment_id":64345733,"body_markdown":"This seems like the way to go when dealing with a scenario like this question here : \n\nhttp://stackoverflow.com/questions/4447461/in-treeset-sorting-uniqueness-of-custom-objects-based-on-different-properties/","body":"This seems like the way to go when dealing with a scenario like this question here :   <a href=\"http://stackoverflow.com/questions/4447461/in-treeset-sorting-uniqueness-of-custom-objects-based-on-different-properties/\" title=\"in treeset sorting uniqueness of custom objects based on different properties\">stackoverflow.com/questions/4447461/&hellip;</a>"}],"tags":[],"owner":{"account_id":7448,"reputation":526484,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1266937511,"creation_date":1266937511,"answer_id":2319119,"question_id":2319086,"body_markdown":"I&#39;d be tempted to maintain a [HashSet][1] containing a key that uniquely identifies the items in the queue side-by-side with it.  Then just check the HashSet to see if the item is in the queue before adding it.  When you remove an item from the Queue, simply remove the key from the HashSet as well.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/HashSet.html","title":"A Queue that ensure uniqueness of the elements?","body":"<p>I'd be tempted to maintain a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashSet.html\" rel=\"noreferrer\">HashSet</a> containing a key that uniquely identifies the items in the queue side-by-side with it.  Then just check the HashSet to see if the item is in the queue before adding it.  When you remove an item from the Queue, simply remove the key from the HashSet as well.</p>\n"},{"comments":[{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":7,"creation_date":1266937824,"post_id":2319126,"comment_id":2287266,"body_markdown":"The problem is it doesn&#39;t implement Queue and hence there&#39;s no way to remove elements in FIFO order.","body":"The problem is it doesn&#39;t implement Queue and hence there&#39;s no way to remove elements in FIFO order."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1266938382,"post_id":2319126,"comment_id":2287364,"body_markdown":"@Adamski - removing elements in FIFO order is simple. See my update.","body":"@Adamski - removing elements in FIFO order is simple. See my update."},{"owner":{"account_id":9610,"reputation":4810,"user_id":17834,"accept_rate":83,"display_name":"Brandon DuRette"},"score":1,"creation_date":1266938899,"post_id":2319126,"comment_id":2287458,"body_markdown":"Easy enough to augment LinkedHashSet to add push and pop. Not efficient, but naive pop could be:\n\nIterator&lt;T&gt; it = iterator();\nT result = it.next();\nit.remove();\nreturn result;","body":"Easy enough to augment LinkedHashSet to add push and pop. Not efficient, but naive pop could be:  Iterator&lt;T&gt; it = iterator(); T result = it.next(); it.remove(); return result;"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1266939403,"post_id":2319126,"comment_id":2287549,"body_markdown":"Nice. Sorry, i miss the LinkedHashSet while scanning the collection. \n\nWhat do you think of implementing java.util.Queue with a home made class, and with a backend LinkedHashSet ?","body":"Nice. Sorry, i miss the LinkedHashSet while scanning the collection.   What do you think of implementing java.util.Queue with a home made class, and with a backend LinkedHashSet ?"},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":3,"creation_date":1266940337,"post_id":2319126,"comment_id":2287732,"body_markdown":"... although creating an iterator for each removal operation seems pretty ugly.","body":"... although creating an iterator for each removal operation seems pretty ugly."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1266940808,"post_id":2319126,"comment_id":2287838,"body_markdown":"It depends on how you want to use the queue. If you are going to add a bunch of objects and then remove a bunch of objects---probably within a single thread---using the `Iterator` is perfectly natural, and I&#39;d probably just reference it as a `Collection`. If you really need a `BlockingQueue` to communicate between threads, this isn&#39;t the right approach.","body":"It depends on how you want to use the queue. If you are going to add a bunch of objects and then remove a bunch of objects---probably within a single thread---using the <code>Iterator</code> is perfectly natural, and I&#39;d probably just reference it as a <code>Collection</code>. If you really need a <code>BlockingQueue</code> to communicate between threads, this isn&#39;t the right approach."},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":8,"creation_date":1429145327,"post_id":2319126,"comment_id":47466278,"body_markdown":"It also depends on whether you&#39;re going to add to the end of the queue while processing an element. Adding to a Queue during processing of elements removed from that Queue is well-defined behavior, but with an Iterator, you&#39;ll get a ConcurrentModificationException because the built-in Java Collections assume it&#39;s a threading issue, not someone abusing the Collection and its Iterator as if the two combined were a Queue implementation.","body":"It also depends on whether you&#39;re going to add to the end of the queue while processing an element. Adding to a Queue during processing of elements removed from that Queue is well-defined behavior, but with an Iterator, you&#39;ll get a ConcurrentModificationException because the built-in Java Collections assume it&#39;s a threading issue, not someone abusing the Collection and its Iterator as if the two combined were a Queue implementation."},{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":0,"creation_date":1487187764,"post_id":2319126,"comment_id":71674950,"body_markdown":"@TheodoreMurdock Concurrent modification issues can be worked around by only using the iterator for a single retrieval:  `Object next = queue.iterator.next();  queue.remove(next);`.  But having to create a new iterator for each retrieval might not be great for efficiency.","body":"@TheodoreMurdock Concurrent modification issues can be worked around by only using the iterator for a single retrieval:  <code>Object next = queue.iterator.next();  queue.remove(next);</code>.  But having to create a new iterator for each retrieval might not be great for efficiency."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":8,"down_vote_count":1,"up_vote_count":64,"is_accepted":true,"score":63,"last_activity_date":1266938169,"creation_date":1266937544,"answer_id":2319126,"question_id":2319086,"body_markdown":"How about a [`LinkedHashSet`][1]? Its iterator preserves insertion order, but because it&#39;s a `Set`, its elements are unique.\r\n\r\nAs its documentation says,\r\n&gt; Note that insertion order is *not* affected if an element is *re-inserted* into the set.\r\n\r\nIn order to efficiently remove elements from the head of this &quot;queue&quot;, go through its iterator:\r\n\r\n    Iterator&lt;?&gt; i = queue.iterator();\r\n    ...\r\n    Object next = i.next();\r\n    i.remove();\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/LinkedHashSet.html","title":"A Queue that ensure uniqueness of the elements?","body":"<p>How about a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedHashSet.html\" rel=\"noreferrer\"><code>LinkedHashSet</code></a>? Its iterator preserves insertion order, but because it's a <code>Set</code>, its elements are unique.</p>\n\n<p>As its documentation says,</p>\n\n<blockquote>\n  <p>Note that insertion order is <em>not</em> affected if an element is <em>re-inserted</em> into the set.</p>\n</blockquote>\n\n<p>In order to efficiently remove elements from the head of this \"queue\", go through its iterator:</p>\n\n<pre><code>Iterator&lt;?&gt; i = queue.iterator();\n...\nObject next = i.next();\ni.remove();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":0,"creation_date":1266938806,"post_id":2319156,"comment_id":2287446,"body_markdown":"Although this works, there is a huge performance cosr to it. I dont think you need both a set and a linkedlist","body":"Although this works, there is a huge performance cosr to it. I dont think you need both a set and a linkedlist"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1266938834,"post_id":2319156,"comment_id":2287448,"body_markdown":"that&#39;s what tvanfosson is proposing as well, and very close of what i already have. I&#39;m just curious about a more standard way.","body":"that&#39;s what tvanfosson is proposing as well, and very close of what i already have. I&#39;m just curious about a more standard way."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1266939234,"post_id":2319156,"comment_id":2287515,"body_markdown":"@Cshah: Why do you think there&#39;s a huge cost performance?  Assuming your hash algorithm is fast and efficient, set insert and removal operations will approximate to O(1), which is much faster than scanning the LinkedList each time: O(n).","body":"@Cshah: Why do you think there&#39;s a huge cost performance?  Assuming your hash algorithm is fast and efficient, set insert and removal operations will approximate to O(1), which is much faster than scanning the LinkedList each time: O(n)."},{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":0,"creation_date":1266940555,"post_id":2319156,"comment_id":2287777,"body_markdown":"@adamki: The approach by tvanfosson is much cleaner. In your case, each element is added to both the queue(linked list) and the set (to ensure uniqueness). I believe that just a hashset should suffice","body":"@adamki: The approach by tvanfosson is much cleaner. In your case, each element is added to both the queue(linked list) and the set (to ensure uniqueness). I believe that just a hashset should suffice"},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":4,"creation_date":1266941663,"post_id":2319156,"comment_id":2287986,"body_markdown":"@Cshah: What are you talking about?!  tvanfosson&#39;s approach is *the same* as mine - He just hasn&#39;t provided example code.  Also, erickson&#39;s approach of using a LinkedHashSet is essentially *the same*, as internally LinkedHashSet contains a linked list.  Using &quot;just a hashset&quot; will not provide queue-like behaviour.","body":"@Cshah: What are you talking about?!  tvanfosson&#39;s approach is <i>the same</i> as mine - He just hasn&#39;t provided example code.  Also, erickson&#39;s approach of using a LinkedHashSet is essentially <i>the same</i>, as internally LinkedHashSet contains a linked list.  Using &quot;just a hashset&quot; will not provide queue-like behaviour."},{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":0,"creation_date":1266950081,"post_id":2319156,"comment_id":2289283,"body_markdown":"Why not just use java.util.TreeSet?","body":"Why not just use java.util.TreeSet?"},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1266959825,"post_id":2319156,"comment_id":2290682,"body_markdown":"A TreeSet does not support FIFO access: Elements will be inserted according to their natural ordering (or the ordering of the supplied Comparator) rather thn at the end of the &quot;queue&quot;.  Granted you could provide a Comparator to mimic FIFO-like behavior but this is an ugly hack IMHO that offers no real benefit.","body":"A TreeSet does not support FIFO access: Elements will be inserted according to their natural ordering (or the ordering of the supplied Comparator) rather thn at the end of the &quot;queue&quot;.  Granted you could provide a Comparator to mimic FIFO-like behavior but this is an ugly hack IMHO that offers no real benefit."},{"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"score":0,"creation_date":1362725455,"post_id":2319156,"comment_id":21573117,"body_markdown":"If you replace the LinkedList with ArrayDeque you will get better performance (x2) for polling than the LinkedHashSet. Here&#39;s a blog post comparing the implementations: http://psy-lob-saw.blogspot.com/2013/03/merging-queue-arraydeque-and-suzie-q.html","body":"If you replace the LinkedList with ArrayDeque you will get better performance (x2) for polling than the LinkedHashSet. Here&#39;s a blog post comparing the implementations: <a href=\"http://psy-lob-saw.blogspot.com/2013/03/merging-queue-arraydeque-and-suzie-q.html\" rel=\"nofollow noreferrer\">psy-lob-saw.blogspot.com/2013/03/&hellip;</a>"},{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":3,"creation_date":1440421248,"post_id":2319156,"comment_id":52251296,"body_markdown":"About the `return true` in `add`. Isn&#39;t there a conflict between the contract of `Collection#add` and `Queue#add`? This collection is supposed to guarantee the uniqueness so it should return `false` according to the `Collection` javadoc. At the same time, the `Queue` javadoc explicitly mentions the method as returning `true` or throwing an exception.\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add(E)\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add(E)\nNot sure which of these two contracts should be followed in this case.","body":"About the <code>return true</code> in <code>add</code>. Isn&#39;t there a conflict between the contract of <code>Collection#add</code> and <code>Queue#add</code>? This collection is supposed to guarantee the uniqueness so it should return <code>false</code> according to the <code>Collection</code> javadoc. At the same time, the <code>Queue</code> javadoc explicitly mentions the method as returning <code>true</code> or throwing an exception. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add(E)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add(E&zwnj;&#8203;)</a> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add(E)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a> Not sure which of these two contracts should be followed in this case."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1441612692,"post_id":2319156,"comment_id":52732194,"body_markdown":"@toniedzwiedz: +1 That&#39;s a really good point.  My first thought was that given the class implements Queue (and only uses Set internally) it should follow the Queue contract.  However, the contract states that an IllegalStateException should only be thrown if the capacity is exceeded.  In this case it&#39;s not even that; I&#39;m simply ignoring the add attempt for non-unique elements.  Given this, I wonder if in fact the class should implement neither Queue, nor Set.","body":"@toniedzwiedz: +1 That&#39;s a really good point.  My first thought was that given the class implements Queue (and only uses Set internally) it should follow the Queue contract.  However, the contract states that an IllegalStateException should only be thrown if the capacity is exceeded.  In this case it&#39;s not even that; I&#39;m simply ignoring the add attempt for non-unique elements.  Given this, I wonder if in fact the class should implement neither Queue, nor Set."},{"owner":{"account_id":5169760,"reputation":796,"user_id":4138673,"display_name":"eric A"},"score":2,"creation_date":1484212355,"post_id":2319156,"comment_id":70419780,"body_markdown":"The purpose being to implement a queue handling uniqueness, the queue#add should definitely return the return value of the set#add because you may want to know, when calling the method, whether the element was already in there or not. Additionnally, this class should implement the remaining Queue methods like element(), offer() poll(), peek(). Except that, this class definitely meet the needs","body":"The purpose being to implement a queue handling uniqueness, the queue#add should definitely return the return value of the set#add because you may want to know, when calling the method, whether the element was already in there or not. Additionnally, this class should implement the remaining Queue methods like element(), offer() poll(), peek(). Except that, this class definitely meet the needs"},{"owner":{"account_id":1687748,"reputation":2947,"user_id":1550682,"accept_rate":73,"display_name":"Alan Evangelista"},"score":0,"creation_date":1636531577,"post_id":2319156,"comment_id":123578845,"body_markdown":"What if thread safety was a requirement?","body":"What if thread safety was a requirement?"}],"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":12,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1266937711,"creation_date":1266937711,"answer_id":2319156,"question_id":2319086,"body_markdown":"This doesn&#39;t exist as far as I know but would be fairly simple to implement using a `LinkedList` in conjunction with a `Set`:\r\n\r\n    /**\r\n     * Thread unsafe implementation of UniqueQueue.\r\n     */\r\n    public class UniqueQueue&lt;T&gt; implements Queue&lt;T&gt; {\r\n      private final Queue&lt;T&gt; queue = new LinkedList&lt;T&gt;();\r\n      private final Set&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n    \r\n      public boolean add(T t) {\r\n        // Only add element to queue if the set does not contain the specified element.\r\n        if (set.add(t)) {\r\n          queue.add(t);\r\n        }\r\n    \r\n        return true; // Must always return true as per API def.\r\n      }\r\n    \r\n      public T remove() throws NoSuchElementException {\r\n        T ret = queue.remove();\r\n        set.remove(ret);\r\n        return ret;\r\n      }\r\n\r\n      // TODO: Implement other Queue methods.\r\n    }\r\n\r\n","title":"A Queue that ensure uniqueness of the elements?","body":"<p>This doesn't exist as far as I know but would be fairly simple to implement using a <code>LinkedList</code> in conjunction with a <code>Set</code>:</p>\n\n<pre><code>/**\n * Thread unsafe implementation of UniqueQueue.\n */\npublic class UniqueQueue&lt;T&gt; implements Queue&lt;T&gt; {\n  private final Queue&lt;T&gt; queue = new LinkedList&lt;T&gt;();\n  private final Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n\n  public boolean add(T t) {\n    // Only add element to queue if the set does not contain the specified element.\n    if (set.add(t)) {\n      queue.add(t);\n    }\n\n    return true; // Must always return true as per API def.\n  }\n\n  public T remove() throws NoSuchElementException {\n    T ret = queue.remove();\n    set.remove(ret);\n    return ret;\n  }\n\n  // TODO: Implement other Queue methods.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266937948,"creation_date":1266937948,"answer_id":2319179,"question_id":2319086,"body_markdown":"Checking uniqueness of course has a cost (either in space or time).  Seems like it might be interesting to work from something like a PriorityQueue which will maintain a heap sorted by Comparator of the elements.  You might be able to leverage that to more efficiently (O(log n)) check existence without maintaining a side map.\r\n\r\nIf you do want to wrap a Queue with a uniqueness checker, I would strongly recommend using the Google Collections [ForwardingQueue][1] to build such a thing.\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ForwardingQueue.html","title":"A Queue that ensure uniqueness of the elements?","body":"<p>Checking uniqueness of course has a cost (either in space or time).  Seems like it might be interesting to work from something like a PriorityQueue which will maintain a heap sorted by Comparator of the elements.  You might be able to leverage that to more efficiently (O(log n)) check existence without maintaining a side map.</p>\n\n<p>If you do want to wrap a Queue with a uniqueness checker, I would strongly recommend using the Google Collections <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ForwardingQueue.html\" rel=\"nofollow noreferrer\">ForwardingQueue</a> to build such a thing.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1277500120,"creation_date":1266940469,"answer_id":2319542,"question_id":2319086,"body_markdown":"This is a very good question. There is no existing straightforward solution. I&#39;ll dig up some code I wrote a while back that attempted to do this, and come back and edit this answer.\r\n\r\n**EDIT:** I&#39;m back. Truly, if you don&#39;t need concurrency, you are better off maintaining a Queue and Set separately. For what I was doing, concurrency was a goal, but the best solution I could come up with given that constraint was problematic; basically, since it used a ConcurrentHashMap, the more you were removing the &quot;head&quot; element from the queue (a basic thing to do with a queue), the more unbalanced the hash table would become over time. I can still share this code with you, but I doubt you really want it.\r\n\r\n**EDIT:** For the case where concurrency is required I gave this answer:\r\nhttps://stackoverflow.com/questions/3120495/concurrent-set-queue/3121453#3121453","title":"A Queue that ensure uniqueness of the elements?","body":"<p>This is a very good question. There is no existing straightforward solution. I'll dig up some code I wrote a while back that attempted to do this, and come back and edit this answer.</p>\n\n<p><strong>EDIT:</strong> I'm back. Truly, if you don't need concurrency, you are better off maintaining a Queue and Set separately. For what I was doing, concurrency was a goal, but the best solution I could come up with given that constraint was problematic; basically, since it used a ConcurrentHashMap, the more you were removing the \"head\" element from the queue (a basic thing to do with a queue), the more unbalanced the hash table would become over time. I can still share this code with you, but I doubt you really want it.</p>\n\n<p><strong>EDIT:</strong> For the case where concurrency is required I gave this answer:\n<a href=\"https://stackoverflow.com/questions/3120495/concurrent-set-queue/3121453#3121453\">Concurrent Set Queue</a></p>\n"},{"comments":[{"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"score":3,"creation_date":1362725646,"post_id":15221376,"comment_id":21573191,"body_markdown":"If you replace the LinkedList with ArrayDeque you will get better performance (x2) for polling than the LinkedHashSet, and should beat your implementation as well. Here&#39;s a blog post comparing the implementations: http://psy-lob-saw.blogspot.com/2013/03/merging-queue-arraydeque-and-suzie-q.html","body":"If you replace the LinkedList with ArrayDeque you will get better performance (x2) for polling than the LinkedHashSet, and should beat your implementation as well. Here&#39;s a blog post comparing the implementations: <a href=\"http://psy-lob-saw.blogspot.com/2013/03/merging-queue-arraydeque-and-suzie-q.html\" rel=\"nofollow noreferrer\">psy-lob-saw.blogspot.com/2013/03/&hellip;</a>"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":2,"creation_date":1458203416,"post_id":15221376,"comment_id":59757510,"body_markdown":"The queue methods are not in sync with the set methods, e.g. poll() should also remove the element from the set, otherwise it can happen that you ask !isEmpty() somewhere in the code, and then when you call poll() it results in a NPE.","body":"The queue methods are not in sync with the set methods, e.g. poll() should also remove the element from the set, otherwise it can happen that you ask !isEmpty() somewhere in the code, and then when you call poll() it results in a NPE."}],"tags":[],"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1364815233,"creation_date":1362479043,"answer_id":15221376,"question_id":2319086,"body_markdown":"Just to complete Adamski&#39;s answer: \r\n\r\n    /**\r\n     * A queue that keeps each element only once. \r\n     * If you try to add an element that already exists - nothing will happen.\r\n     * \r\n     * @author Adamski http://stackoverflow.com/a/2319156/827927\r\n     * @NotThreadSafe\r\n     */\r\n    public class UniqueQueue&lt;T&gt; implements Queue&lt;T&gt; {\r\n\r\n\tprivate final Queue&lt;T&gt; queue = new LinkedList&lt;T&gt;();\r\n\tprivate final Set&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n\r\n\t@Override public boolean add(T t) {\r\n\t\t// Only add element to queue if the set does not contain the specified element.\r\n\t\tif (set.add(t))\r\n\t\t\tqueue.add(t);\r\n\t\treturn true; // Must always return true as per API def.\r\n\t}\r\n\r\n\t@Override public boolean addAll(Collection&lt;? extends T&gt; arg0) {\r\n\t\tboolean ret = false;\r\n\t\tfor (T t: arg0)\r\n\t\t\tif (set.add(t)) {\r\n\t\t\t\tqueue.add(t);\r\n\t\t\t\tret = true;\r\n\t\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@Override public T remove() throws NoSuchElementException {\r\n\t\tT ret = queue.remove();\r\n\t\tset.remove(ret);\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@Override public boolean remove(Object arg0) {\r\n\t\tboolean ret = queue.remove(arg0);\r\n\t\tset.remove(arg0);\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@Override public boolean removeAll(Collection&lt;?&gt; arg0) {\r\n\t\tboolean ret = queue.removeAll(arg0);\r\n\t\tset.removeAll(arg0);\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@Override public void clear() {\r\n\t\tset.clear();\r\n\t\tqueue.clear();\r\n\t}\r\n\r\n\t@Override public boolean contains(Object arg0) {\r\n\t\treturn set.contains(arg0);\r\n\t}\r\n\r\n\t@Override public boolean containsAll(Collection&lt;?&gt; arg0) {\r\n\t\treturn set.containsAll(arg0);\r\n\t}\r\n\r\n\t@Override public boolean isEmpty() {\r\n\t\treturn set.isEmpty();\r\n\t}\r\n\r\n\t@Override public Iterator&lt;T&gt; iterator() {\r\n\t\treturn queue.iterator();\r\n\t}\r\n\r\n\t@Override public boolean retainAll(Collection&lt;?&gt; arg0) {\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override public int size() {\r\n\t\treturn queue.size();\r\n\t}\r\n\r\n\t@Override public Object[] toArray() {\r\n\t\treturn queue.toArray();\r\n\t}\r\n\r\n\t@Override public &lt;T&gt; T[] toArray(T[] arg0) {\r\n\t\treturn queue.toArray(arg0);\r\n\t}\r\n\r\n\t@Override public T element() {\r\n\t\treturn queue.element();\r\n\t}\r\n\r\n\t@Override public boolean offer(T e) {\r\n\t\treturn queue.offer(e);\r\n\t}\r\n\r\n\t@Override public T peek() {\r\n\t\treturn queue.peek();\r\n\t}\r\n\r\n\t@Override public T poll() {\r\n\t\treturn queue.poll();\r\n\t}\r\n    }\r\n\r\n","title":"A Queue that ensure uniqueness of the elements?","body":"<p>Just to complete Adamski's answer: </p>\n\n<pre><code>/**\n * A queue that keeps each element only once. \n * If you try to add an element that already exists - nothing will happen.\n * \n * @author Adamski http://stackoverflow.com/a/2319156/827927\n * @NotThreadSafe\n */\npublic class UniqueQueue&lt;T&gt; implements Queue&lt;T&gt; {\n\nprivate final Queue&lt;T&gt; queue = new LinkedList&lt;T&gt;();\nprivate final Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n\n@Override public boolean add(T t) {\n    // Only add element to queue if the set does not contain the specified element.\n    if (set.add(t))\n        queue.add(t);\n    return true; // Must always return true as per API def.\n}\n\n@Override public boolean addAll(Collection&lt;? extends T&gt; arg0) {\n    boolean ret = false;\n    for (T t: arg0)\n        if (set.add(t)) {\n            queue.add(t);\n            ret = true;\n        }\n    return ret;\n}\n\n@Override public T remove() throws NoSuchElementException {\n    T ret = queue.remove();\n    set.remove(ret);\n    return ret;\n}\n\n@Override public boolean remove(Object arg0) {\n    boolean ret = queue.remove(arg0);\n    set.remove(arg0);\n    return ret;\n}\n\n@Override public boolean removeAll(Collection&lt;?&gt; arg0) {\n    boolean ret = queue.removeAll(arg0);\n    set.removeAll(arg0);\n    return ret;\n}\n\n@Override public void clear() {\n    set.clear();\n    queue.clear();\n}\n\n@Override public boolean contains(Object arg0) {\n    return set.contains(arg0);\n}\n\n@Override public boolean containsAll(Collection&lt;?&gt; arg0) {\n    return set.containsAll(arg0);\n}\n\n@Override public boolean isEmpty() {\n    return set.isEmpty();\n}\n\n@Override public Iterator&lt;T&gt; iterator() {\n    return queue.iterator();\n}\n\n@Override public boolean retainAll(Collection&lt;?&gt; arg0) {\n    throw new UnsupportedOperationException();\n}\n\n@Override public int size() {\n    return queue.size();\n}\n\n@Override public Object[] toArray() {\n    return queue.toArray();\n}\n\n@Override public &lt;T&gt; T[] toArray(T[] arg0) {\n    return queue.toArray(arg0);\n}\n\n@Override public T element() {\n    return queue.element();\n}\n\n@Override public boolean offer(T e) {\n    return queue.offer(e);\n}\n\n@Override public T peek() {\n    return queue.peek();\n}\n\n@Override public T poll() {\n    return queue.poll();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490101816,"creation_date":1478723615,"answer_id":40515538,"question_id":2319086,"body_markdown":"Unfortunately it doesn&#39;t exist. Since I needed such a Queue I have developed a Blocking Queue backed by a set, inspired by *java.util.concurrent.LinkedBlockingQueue&lt;E&gt;*.\r\n\r\nYou can find it here :\r\n\r\nhttps://github.com/bvanalderweireldt/concurrent-unique-queue\r\n\r\nExample :\r\n\r\n    final BlockingQueue&lt;Integer&gt; queue = new ConcurrentSetBlockingQueue&lt;&gt;(1);\r\n    queue.offer(new Integer(1)); //True\r\n    queue.offer(new Integer(1)); //False\r\n\r\nYou can use it with Maven :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.hybhub&lt;/groupId&gt;\r\n      &lt;artifactId&gt;concurrent-util&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"A Queue that ensure uniqueness of the elements?","body":"<p>Unfortunately it doesn't exist. Since I needed such a Queue I have developed a Blocking Queue backed by a set, inspired by <em>java.util.concurrent.LinkedBlockingQueue</em>.</p>\n\n<p>You can find it here :</p>\n\n<p><a href=\"https://github.com/bvanalderweireldt/concurrent-unique-queue\" rel=\"nofollow noreferrer\">https://github.com/bvanalderweireldt/concurrent-unique-queue</a></p>\n\n<p>Example :</p>\n\n<pre><code>final BlockingQueue&lt;Integer&gt; queue = new ConcurrentSetBlockingQueue&lt;&gt;(1);\nqueue.offer(new Integer(1)); //True\nqueue.offer(new Integer(1)); //False\n</code></pre>\n\n<p>You can use it with Maven :</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.hybhub&lt;/groupId&gt;\n  &lt;artifactId&gt;concurrent-util&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12827189,"reputation":322,"user_id":9279756,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561201369,"creation_date":1561201369,"answer_id":56714918,"question_id":2319086,"body_markdown":"I am a bit late to answer but I ended up solving a similar problem using an ArrayDeque and overriding the add method that I needed.\r\n\r\n        Deque&lt;Long&gt; myQueue = new ArrayDeque&lt;Long&gt;() {\r\n            @Override\r\n            public boolean add(Long e) { return !this.contains(e) &amp;&amp; super.add(e);}\r\n        };","title":"A Queue that ensure uniqueness of the elements?","body":"<p>I am a bit late to answer but I ended up solving a similar problem using an ArrayDeque and overriding the add method that I needed.</p>\n\n<pre><code>    Deque&lt;Long&gt; myQueue = new ArrayDeque&lt;Long&gt;() {\n        @Override\n        public boolean add(Long e) { return !this.contains(e) &amp;&amp; super.add(e);}\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14153850,"reputation":53,"user_id":10225154,"display_name":"Abd Qadr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664347489,"creation_date":1664347489,"answer_id":73877214,"question_id":2319086,"body_markdown":"You can override the add method when initializing your queue variable.\r\n\r\n```\r\nQueue&lt;T&gt; queue = new PriorityQueue&lt;&gt;(){\r\n     @Override\r\n     public boolean add(T t) {\r\n        return !this.contains(t) &amp;&amp; super.add(t);\r\n     \r\n};\r\n```\r\nor you can implement the Queue interface.","title":"A Queue that ensure uniqueness of the elements?","body":"<p>You can override the add method when initializing your queue variable.</p>\n<pre><code>Queue&lt;T&gt; queue = new PriorityQueue&lt;&gt;(){\n     @Override\n     public boolean add(T t) {\n        return !this.contains(t) &amp;&amp; super.add(t);\n     \n};\n</code></pre>\n<p>or you can implement the Queue interface.</p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689751398,"creation_date":1689751398,"answer_id":76718850,"question_id":2319086,"body_markdown":"I used `LinkedHashSet` for that:\r\n\r\n    public class UniqueQueue&lt;T&gt; {\r\n    \r\n        private final LinkedHashSet&lt;T&gt; queue;\r\n    \r\n        public UniqueQueue() {\r\n            queue = new LinkedHashSet&lt;&gt;();\r\n        }\r\n    \r\n        public void enqueue(T item) {\r\n            synchronized (UniqueQueue.class) {\r\n                queue.add(item);\r\n            }\r\n        }\r\n    \r\n        public T dequeue() {\r\n            synchronized (UniqueQueue.class) {\r\n                Iterator&lt;T&gt; i = queue.iterator();\r\n    \r\n                T next = i.next();\r\n                i.remove();\r\n    \r\n                return next;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"A Queue that ensure uniqueness of the elements?","body":"<p>I used <code>LinkedHashSet</code> for that:</p>\n<pre><code>public class UniqueQueue&lt;T&gt; {\n\n    private final LinkedHashSet&lt;T&gt; queue;\n\n    public UniqueQueue() {\n        queue = new LinkedHashSet&lt;&gt;();\n    }\n\n    public void enqueue(T item) {\n        synchronized (UniqueQueue.class) {\n            queue.add(item);\n        }\n    }\n\n    public T dequeue() {\n        synchronized (UniqueQueue.class) {\n            Iterator&lt;T&gt; i = queue.iterator();\n\n            T next = i.next();\n            i.remove();\n\n            return next;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61245,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":2319126,"answer_count":10,"score":80,"last_activity_date":1689751398,"creation_date":1266937285,"question_id":2319086,"body_markdown":"I&#39;m looking for a implementation of java.util.Queue or something in the Google collection who behave like a Queue, but also ensure that each element of the queue is unique. (all further insertion will have no effect)\r\n\r\nIt&#39;s that possible, or will I have to do it by hand?\r\n\r\nFor now I&#39;m using a Queue&lt;MyStuff&gt;, with a LinkedList implementation, and I check the uniqueness before insertion. ( I use a side Map for doing this, add / remove element from the side map before / after the queu ). I don&#39;t like it too much.\r\n\r\nAny input is welcome. If it&#39;s not in the java.util package, then maybe it&#39;s a bad idea?","title":"A Queue that ensure uniqueness of the elements?","body":"<p>I'm looking for a implementation of java.util.Queue or something in the Google collection who behave like a Queue, but also ensure that each element of the queue is unique. (all further insertion will have no effect)</p>\n\n<p>It's that possible, or will I have to do it by hand?</p>\n\n<p>For now I'm using a Queue, with a LinkedList implementation, and I check the uniqueness before insertion. ( I use a side Map for doing this, add / remove element from the side map before / after the queu ). I don't like it too much.</p>\n\n<p>Any input is welcome. If it's not in the java.util package, then maybe it's a bad idea?</p>\n"},{"tags":["java","apache-axis","classnotfoundexception","tomcat9","axiom"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688468231,"post_id":76611834,"comment_id":135075329,"body_markdown":"Are you sure that Axis2 and Axiom jars are included in your application&#39;s WEB-INF/lib directory?","body":"Are you sure that Axis2 and Axiom jars are included in your application&#39;s WEB-INF/lib directory?"},{"owner":{"account_id":28947697,"reputation":21,"user_id":22172954,"display_name":"Amalio"},"score":0,"creation_date":1688469344,"post_id":76611834,"comment_id":135075566,"body_markdown":"Yes, I am certain. I have tried adding the libraries both with Maven and manually. In addition, I have included them in both the WEB-INF/lib folder of the project and on the server. Despite these attempts, the errors persist. I would appreciate any other suggestions.","body":"Yes, I am certain. I have tried adding the libraries both with Maven and manually. In addition, I have included them in both the WEB-INF/lib folder of the project and on the server. Despite these attempts, the errors persist. I would appreciate any other suggestions."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688470377,"post_id":76611834,"comment_id":135075792,"body_markdown":"Can you exec `mvn dependency:tree` to check transitive dependencies? Maybe there is some conflicts","body":"Can you exec <code>mvn dependency:tree</code> to check transitive dependencies? Maybe there is some conflicts"},{"owner":{"account_id":28947697,"reputation":21,"user_id":22172954,"display_name":"Amalio"},"score":0,"creation_date":1688482371,"post_id":76611834,"comment_id":135078507,"body_markdown":"I&#39;ve already run the command to view the dependency tree and have posted it.","body":"I&#39;ve already run the command to view the dependency tree and have posted it."}],"answers":[{"comments":[{"owner":{"account_id":28947697,"reputation":21,"user_id":22172954,"display_name":"Amalio"},"score":0,"creation_date":1688569920,"post_id":76615870,"comment_id":135091745,"body_markdown":"Thank you for your information. I too suspect that this may be the cause of the error, but I can&#39;t seem to pinpoint the exact problem. Axis2 1.7.9 does rely on Axiom versions lower than 1.3.0, however, Eclipse indicates that these are skipped due to the use of version 1.4.0. As far as I know, Axis2 1.7.9 is compatible with Axiom 1.4.0.","body":"Thank you for your information. I too suspect that this may be the cause of the error, but I can&#39;t seem to pinpoint the exact problem. Axis2 1.7.9 does rely on Axiom versions lower than 1.3.0, however, Eclipse indicates that these are skipped due to the use of version 1.4.0. As far as I know, Axis2 1.7.9 is compatible with Axiom 1.4.0."}],"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504689,"creation_date":1688504689,"answer_id":76615870,"question_id":76611834,"body_markdown":"`org.apache.axiom.soap.impl.builder.OMMetaFactoryEx` is a class that only existed in Axiom 1.2.x. The only explanation for that exception I can think of is that the code ends up trying to load a version of the `org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader` class from Axiom 1.2.x. One reason would be that there is an old `axiom-dom` JAR somewhere in the classpath.","title":"How to resolve ClassNotFoundException with specific Axis2 and Axiom combinations in Tomcat 9 and Java 11?","body":"<p><code>org.apache.axiom.soap.impl.builder.OMMetaFactoryEx</code> is a class that only existed in Axiom 1.2.x. The only explanation for that exception I can think of is that the code ends up trying to load a version of the <code>org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader</code> class from Axiom 1.2.x. One reason would be that there is an old <code>axiom-dom</code> JAR somewhere in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":28947697,"reputation":21,"user_id":22172954,"display_name":"Amalio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689751331,"creation_date":1689751331,"answer_id":76718842,"question_id":76611834,"body_markdown":"I was finally able to solve my problem, which was being affected by three key factors.\r\n\r\n1. **Axis2 and Axiom Versions:** I had to revert back to older versions of axis2 and axiom to avoid conflicts. The versions that finally worked for me are as follows:\r\n\r\n    ```xml\r\n    &lt;axiom.version&gt;1.2.13&lt;/axiom.version&gt;\r\n    &lt;axis2.version&gt;1.6.2&lt;/axis2.version&gt;\r\n    ```\r\n\r\n2. **Library Load Order:** The order in which libraries were loading in my project was also affecting things. Be sure to check and adjust this as needed in your own project.\r\n\r\n3. **JDK 11 Incompatibilities:** I also ran into an issue where `javax.xml.stream` was accessible by more than one module. To fix this, I had to exclude the following libraries from my dependencies:\r\n\r\n    ```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${axiom.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.james&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apache-mime4j-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;\r\n                    geronimo-activation_1.1_spec\r\n                &lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;geronimo-stax-api_1.0_spec&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;${axiom.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;\r\n                    geronimo-activation_1.1_spec\r\n                &lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;geronimo-stax-api_1.0_spec&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\r\n        &lt;version&gt;${axiom.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;\r\n                    geronimo-activation_1.1_spec\r\n                &lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\r\n        &lt;version&gt;${axis2.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;\r\n                    geronimo-activation_1.1_spec\r\n                &lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    ```\r\n\r\nI hope this information can help someone else facing similar issues. Thanks to everyone for the help provided.","title":"How to resolve ClassNotFoundException with specific Axis2 and Axiom combinations in Tomcat 9 and Java 11?","body":"<p>I was finally able to solve my problem, which was being affected by three key factors.</p>\n<ol>\n<li><p><strong>Axis2 and Axiom Versions:</strong> I had to revert back to older versions of axis2 and axiom to avoid conflicts. The versions that finally worked for me are as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;axiom.version&gt;1.2.13&lt;/axiom.version&gt;\n&lt;axis2.version&gt;1.6.2&lt;/axis2.version&gt;\n</code></pre>\n</li>\n<li><p><strong>Library Load Order:</strong> The order in which libraries were loading in my project was also affecting things. Be sure to check and adjust this as needed in your own project.</p>\n</li>\n<li><p><strong>JDK 11 Incompatibilities:</strong> I also ran into an issue where <code>javax.xml.stream</code> was accessible by more than one module. To fix this, I had to exclude the following libraries from my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.james&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-mime4j-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                geronimo-activation_1.1_spec\n            &lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;geronimo-stax-api_1.0_spec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                geronimo-activation_1.1_spec\n            &lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;geronimo-stax-api_1.0_spec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                geronimo-activation_1.1_spec\n            &lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                geronimo-activation_1.1_spec\n            &lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p>I hope this information can help someone else facing similar issues. Thanks to everyone for the help provided.</p>\n"}],"owner":{"account_id":28947697,"reputation":21,"user_id":22172954,"display_name":"Amalio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76718842,"answer_count":2,"score":1,"last_activity_date":1689751331,"creation_date":1688467630,"question_id":76611834,"body_markdown":"Hello StackOverflow community,\r\n\r\nI&#39;m having difficulties with my web project running on Apache Tomcat 9.0.62, using Java 11. My application uses the Axis2 (1.7.9) and Axiom (1.4.0) libraries for the creation and manipulation of web services.\r\n\r\nDuring runtime, I&#39;m encountering two `ClassNotFoundException` errors. Here are the full errors:\r\n\r\n1. `java.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx`\r\n2. `java.lang.ClassNotFoundException: org.apache.axis.transport.http.AdminServlet`\r\n\r\nFull error:\r\n\r\n```java\r\nSEVERE: Servlet.init() para servlet [AxisServlet] lanz&#243; excepci&#243;n\r\njava.lang.ExceptionInInitializerError\r\n\tat org.apache.axis2.description.AxisDescription.&lt;init&gt;(AxisDescription.java:72)\r\n\tat org.apache.axis2.engine.AxisConfiguration.&lt;init&gt;(AxisConfiguration.java:175)\r\n\tat org.apache.axis2.deployment.DeploymentEngine.populateAxisConfiguration(DeploymentEngine.java:627)\r\n\tat org.apache.axis2.deployment.WarBasedAxisConfigurator.&lt;init&gt;(WarBasedAxisConfigurator.java:157)\r\n\tat org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:620)\r\n\tat org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:471)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\nCaused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: org/apache/axiom/soap/impl/builder/OMMetaFactoryEx\r\n\tat org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:116)\r\n\t... 39 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/axiom/soap/impl/builder/OMMetaFactoryEx\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader.load(OMDOMMetaFactoryLoader.java:28)\r\n\tat org.apache.axiom.locator.ImplementationFactory.parseImplementation(ImplementationFactory.java:142)\r\n\tat org.apache.axiom.locator.ImplementationFactory.parseDescriptor(ImplementationFactory.java:99)\r\n\tat org.apache.axiom.locator.DefaultOMMetaFactoryLocator.&lt;init&gt;(DefaultOMMetaFactoryLocator.java:87)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:106)\r\n\t... 39 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t... 62 more\r\n\r\njul. 04, 2023 12:18:10 P. M. org.apache.catalina.core.StandardContext loadOnStartup\r\nSEVERE: Servlet [AxisServlet] in web application [/proyectWebService] threw load() exception\r\njava.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader.load(OMDOMMetaFactoryLoader.java:28)\r\n\tat org.apache.axiom.locator.ImplementationFactory.parseImplementation(ImplementationFactory.java:142)\r\n\tat org.apache.axiom.locator.ImplementationFactory.parseDescriptor(ImplementationFactory.java:99)\r\n\tat org.apache.axiom.locator.DefaultOMMetaFactoryLocator.&lt;init&gt;(DefaultOMMetaFactoryLocator.java:87)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:106)\r\n\tat org.apache.axis2.description.AxisDescription.&lt;init&gt;(AxisDescription.java:72)\r\n\tat org.apache.axis2.engine.AxisConfiguration.&lt;init&gt;(AxisConfiguration.java:175)\r\n\tat org.apache.axis2.deployment.DeploymentEngine.populateAxisConfiguration(DeploymentEngine.java:627)\r\n\tat org.apache.axis2.deployment.WarBasedAxisConfigurator.&lt;init&gt;(WarBasedAxisConfigurator.java:157)\r\n\tat org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:620)\r\n\tat org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:471)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\njul. 04, 2023 12:18:10 P. M. org.apache.catalina.core.ApplicationContext log\r\n```\r\n\r\nI&#39;ve experimented with various combinations of the Axis and Axiom libraries, from Axis 1.6 to Axiom 1.3. Based on my project requirements and compatibility, Axis 1.7.9 and Axiom 1.4.0 work best for me. Despite these efforts, and also attempting to add the JAR files manually both to the project and to the Tomcat server, the errors persist.\r\n\r\nHere are the additional details of my setup:\r\n\r\n- JDK: 11\r\n- Server: Apache Tomcat 9.0.62\r\n- Libraries:\r\n  - Axis2: 1.7.9\r\n  - Axiom: 1.4.0\r\n\r\nMy pom.xml\r\n\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;axiom.version&gt;1.4.0&lt;/axiom.version&gt;\r\n\t&lt;axis2.version&gt;1.7.9&lt;/axis2.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n\t&lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2-transport-base&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2-transport-local&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2-transport-http&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axis2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axiom.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axiom.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axiom-jaxb&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axiom.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\r\n\t&lt;version&gt;${axiom.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Dependency tree**\r\n```\r\n[INFO] --------------------&lt; es.organization:proyect-ws &gt;---------------------\r\n[INFO] Building proyect-ws 1.0.0\r\n[INFO] --------------------------------[ war ]---------------------------------\r\n[WARNING] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\r\n[WARNING] The artifact org.slf4j:slf4j-log4j12:jar:2.0.0 has been relocated to org.slf4j:slf4j-reload4j:jar:2.0.0\r\n[INFO]\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ proyect-ws ---\r\n[WARNING] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\r\n[WARNING] The artifact org.slf4j:slf4j-log4j12:jar:2.0.0 has been relocated to org.slf4j:slf4j-reload4j:jar:2.0.0\r\n[INFO] es.organization:proyect-ws:war:1.0.0\r\n[INFO] +- org.apache.ws.commons.axiom:axiom-dom:jar:1.4.0:compile\r\n[INFO] |  \\- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] +- org.apache.ws.commons.axiom:axiom-api:jar:1.4.0:compile\r\n[INFO] |  +- jaxen:jaxen:jar:1.2.0:compile\r\n[INFO] |  +- org.apache.james:apache-mime4j-core:jar:0.8.6:compile\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] +- org.apache.ws.commons.axiom:axiom-jaxb:jar:1.4.0:compile\r\n[INFO] |  \\- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] +- org.apache.axis2:axis2:pom:1.7.9:compile\r\n[INFO] +- org.apache.axis2:axis2-adb:jar:1.7.9:compile\r\n[INFO] |  +- org.apache.axis2:axis2-kernel:jar:1.7.9:compile\r\n[INFO] |  |  +- org.apache.geronimo.specs:geronimo-ws-metadata_2.0_spec:jar:1.1.2:compile\r\n[INFO] |  |  +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1:compile\r\n[INFO] |  |  +- org.apache.woden:woden-core:jar:1.0M10:compile\r\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n[INFO] |  \\- org.apache.geronimo.specs:geronimo-activation_1.1_spec:jar:1.0.2:compile\r\n[INFO] +- org.apache.axis2:axis2-adb-codegen:jar:1.7.9:compile\r\n[INFO] |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.2.1:compile\r\n[INFO] |  \\- commons-cli:commons-cli:jar:1.2:compile\r\n[INFO] +- org.apache.axis2:axis2-clustering:jar:1.7.9:compile\r\n[INFO] |  +- org.apache.tomcat:tribes:jar:6.0.53:compile\r\n[INFO] |  \\- org.apache.tomcat:juli:jar:6.0.53:compile\r\n[INFO] +- org.apache.axis2:axis2-codegen:jar:1.7.9:compile\r\n[INFO] |  \\- com.sun.xml.ws:jaxws-tools:jar:2.2.6:compile\r\n[INFO] +- org.apache.axis2:axis2-corba:jar:1.7.9:compile\r\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  \\- org.apache.axis2:axis2-metadata:jar:1.7.9:compile\r\n[INFO] +- org.apache.axis2:axis2-fastinfoset:jar:1.7.9:compile\r\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.7:compile\r\n[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1:compile\r\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.3:compile\r\n[INFO] |  \\- org.apache.neethi:neethi:jar:3.0.3:compile\r\n[INFO] +- org.apache.axis2:axis2-java2wsdl:jar:1.7.9:compile\r\n[INFO] +- org.apache.axis2:axis2-jaxbri:jar:1.7.9:compile\r\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\r\n[INFO] |  +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\r\n[INFO] |  \\- javax.xml.bind:jaxb-api:jar:2.2.6:compile\r\n[INFO] +- org.apache.axis2:axis2-jaxws:jar:1.7.9:compile\r\n[INFO] |  +- org.apache.geronimo.specs:geronimo-annotation_1.0_spec:jar:1.1:compile\r\n[INFO] |  +- org.apache.geronimo.specs:geronimo-jaxws_2.2_spec:jar:1.0:compile\r\n[INFO] |  +- org.apache.geronimo.specs:geronimo-javamail_1.4_spec:jar:1.6:compile\r\n[INFO] |  +- xml-resolver:xml-resolver:jar:1.2:compile\r\n[INFO] |  \\- xalan:xalan:jar:2.7.0:compile\r\n[INFO] +- org.apache.axis2:axis2-ant-plugin:jar:1.7.9:compile\r\n[INFO] |  \\- org.apache.ant:ant:jar:1.7.0:compile\r\n[INFO] |     \\- org.apache.ant:ant-launcher:jar:1.7.0:compile\r\n[INFO] +- org.apache.axis2:axis2-json:jar:1.7.9:compile\r\n[INFO] |  +- org.codehaus.jettison:jettison:jar:1.3.8:compile\r\n[INFO] |  \\- com.google.code.gson:gson:jar:2.1:compile\r\n[INFO] +- org.apache.axis2:axis2-saaj:jar:1.7.9:compile\r\n[INFO] |  \\- org.apache.geronimo.specs:geronimo-saaj_1.3_spec:jar:1.0.1:compile\r\n[INFO] +- xom:xom:jar:1.0:compile\r\n[INFO] |  +- xerces:xercesImpl:jar:2.6.2:compile\r\n[INFO] |  \\- com.ibm.icu:icu4j:jar:2.6.1:compile\r\n[INFO] +- org.apache.ws.commons.schema:XmlSchema:jar:1.4.7:compile\r\n[INFO] +- xerces:xmlParserAPIs:jar:2.6.0:compile\r\n[INFO] +- wsdl4j:wsdl4j:jar:1.6.2:compile\r\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.2.8:compile\r\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] +- jdom:jdom:jar:1.0:compile\r\n[INFO] +- javax.xml:jaxrpc-api:jar:1.1:compile\r\n[INFO] +- org.glassfish:javax.faces:jar:2.1.6:compile\r\n[INFO] +- javax.el:javax.el-api:jar:2.2.1:compile\r\n[INFO] +- org.apache.axis2:axis2-xmlbeans:jar:1.7.9:compile\r\n[INFO] |  \\- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\r\n[INFO] +- org.apache.axis2:axis2-transport-local:jar:1.7.9:compile\r\n[INFO] +- org.apache.axis2:axis2-mtompolicy:jar:1.7.9:compile\r\n[INFO] +- org.apache.axis2:axis2-transport-http:jar:1.7.9:compile\r\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\r\n[INFO] |     \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\r\n[INFO] +- javax.xml.soap:javax.xml.soap-api:jar:1.4.0:compile\r\n[INFO] +- ca.uhn.hapi:hapi-base:jar:2.1:compile\r\n[INFO] +- ca.uhn.hapi:hapi-structures-v25:jar:2.1:compile\r\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n[INFO] +- org.hibernate:hibernate-entitymanager:jar:5.6.3.Final:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.2.Final:compile\r\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.11.20:compile\r\n[INFO] |  \\- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] +- org.bouncycastle:bcprov-jdk16:jar:1.46:compile\r\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] +- org.icefaces:icefaces-compat:jar:3.3.0:compile\r\n[INFO] |  +- org.icefaces:icefaces:jar:3.3.0:compile\r\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\r\n[INFO] |  \\- javax.servlet:jstl:jar:1.2:compile\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.32:compile\r\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.5:compile\r\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.2.5:compile\r\n[INFO] +- es.organization:proyect-neg:jar:1.0.0:compile\r\n[INFO] |  +- es.organization:proyect-per:jar:1.0.0:compile\r\n[INFO] |  +- javax.media.jai:com.springsource.javax.media.jai.core:jar:1.1.3:compile\r\n[INFO] |  +- javax.media.jai:com.springsource.javax.media.jai.codec:jar:1.1.3:compile\r\n[INFO] |  +- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\r\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-impl:jar:1.4.0:compile\r\n[INFO] |  +- backport-util-concurrent:backport-util-concurrent:jar:3.1:compile\r\n[INFO] |  +- org.apache.woden:woden-api:jar:1.0M9:compile\r\n[INFO] |  +- ca.uhn.hapi:hapi-structures-v231:jar:2.3:compile\r\n[INFO] |  \\- org.dom4j:dom4j:jar:2.1.3:compile\r\n[INFO] +- org.icefaces:icefaces-ace:jar:3.3.0:compile\r\n[INFO] +- javax.annotation:jsr250-api:jar:1.0:provided\r\n[INFO] +- javax.servlet:jsp-api:jar:2.0:provided\r\n[INFO] +- javax.faces:jsf-impl:jar:1.2_13:provided\r\n[INFO] +- javax.servlet:servlet-api:jar:2.5:provided\r\n[INFO] +- org.icepush:icepush:jar:3.3.0:compile\r\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.0:compile\r\n[INFO] |  \\- javax.mail:mail:jar:1.4.1:compile\r\n[INFO] |     \\- javax.activation:activation:jar:1.1:compile\r\n[INFO] +- org.springframework:spring-core:jar:5.0.4.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.0.4.RELEASE:compile\r\n[INFO] +- org.springframework:spring-web:jar:5.0.4.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-beans:jar:5.0.4.RELEASE:compile\r\n[INFO] +- org.springframework:spring-webmvc:jar:5.0.4.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-aop:jar:5.0.4.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-context:jar:5.0.4.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-expression:jar:5.0.4.RELEASE:compile\r\n[INFO] +- com.microsoft.sqlserver:sqljdbc4:jar:4.0:compile\r\n[INFO] +- cglib:cglib:jar:2.1_3:compile\r\n[INFO] |  \\- asm:asm:jar:1.5.3:compile\r\n[INFO] +- org.springframework.security:spring-security-core:jar:5.0.2.RELEASE:compile\r\n[INFO] +- org.springframework.security:spring-security-web:jar:5.0.2.RELEASE:compile\r\n[INFO] +- org.springframework.security:spring-security-config:jar:5.0.2.RELEASE:compile\r\n[INFO] +- com.sun.faces:jsf-impl:jar:2.1.7:compile\r\n[INFO] +- com.sun.faces:jsf-api:jar:2.1.7:compile\r\n[INFO] +- org.springframework:spring-orm:jar:5.0.4.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-jdbc:jar:5.0.4.RELEASE:compile\r\n[INFO] |  \\- org.springframework:spring-tx:jar:5.0.4.RELEASE:compile\r\n[INFO] +- org.hibernate:hibernate-core:jar:5.6.3.Final:compile\r\n[INFO] |  +- org.jboss:jandex:jar:2.2.3.Final:compile\r\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\r\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\r\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\r\n[INFO] |     \\- org.jvnet.staxex:stax-ex:jar:1.8:compile\r\n[INFO] +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.2.Final:compile\r\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:7.0.1.Final:compile\r\n[INFO] |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.0:compile\r\n[INFO] +- com.oracle.database.jdbc:ojdbc10:jar:19.16.0.0:compile\r\n[INFO] +- org.slf4j:slf4j-reload4j:jar:2.0.0:compile\r\n[INFO] |  \\- ch.qos.reload4j:reload4j:jar:1.2.19:compile\r\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\r\n[INFO] +- com.itextpdf:itextpdf:jar:5.5.0:compile\r\n[INFO] +- commons-discovery:commons-discovery:jar:0.5:compile\r\n[INFO] +- org.glassfish.web:el-impl:jar:2.2:compile\r\n[INFO] |  \\- javax.el:el-api:jar:2.2:compile\r\n[INFO] \\- net.sourceforge.jtds:jtds:jar:1.2.8:compile\r\n```\r\nHas anyone faced this issue before or have any idea on how to solve these `ClassNotFoundException` errors? Any suggestion is greatly appreciated.\r\n\r\nThanks in advance.","title":"How to resolve ClassNotFoundException with specific Axis2 and Axiom combinations in Tomcat 9 and Java 11?","body":"<p>Hello StackOverflow community,</p>\n<p>I'm having difficulties with my web project running on Apache Tomcat 9.0.62, using Java 11. My application uses the Axis2 (1.7.9) and Axiom (1.4.0) libraries for the creation and manipulation of web services.</p>\n<p>During runtime, I'm encountering two <code>ClassNotFoundException</code> errors. Here are the full errors:</p>\n<ol>\n<li><code>java.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx</code></li>\n<li><code>java.lang.ClassNotFoundException: org.apache.axis.transport.http.AdminServlet</code></li>\n</ol>\n<p>Full error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SEVERE: Servlet.init() para servlet [AxisServlet] lanzó excepción\njava.lang.ExceptionInInitializerError\n    at org.apache.axis2.description.AxisDescription.&lt;init&gt;(AxisDescription.java:72)\n    at org.apache.axis2.engine.AxisConfiguration.&lt;init&gt;(AxisConfiguration.java:175)\n    at org.apache.axis2.deployment.DeploymentEngine.populateAxisConfiguration(DeploymentEngine.java:627)\n    at org.apache.axis2.deployment.WarBasedAxisConfigurator.&lt;init&gt;(WarBasedAxisConfigurator.java:157)\n    at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:620)\n    at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:471)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: org/apache/axiom/soap/impl/builder/OMMetaFactoryEx\n    at org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:116)\n    ... 39 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/axiom/soap/impl/builder/OMMetaFactoryEx\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader.load(OMDOMMetaFactoryLoader.java:28)\n    at org.apache.axiom.locator.ImplementationFactory.parseImplementation(ImplementationFactory.java:142)\n    at org.apache.axiom.locator.ImplementationFactory.parseDescriptor(ImplementationFactory.java:99)\n    at org.apache.axiom.locator.DefaultOMMetaFactoryLocator.&lt;init&gt;(DefaultOMMetaFactoryLocator.java:87)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:106)\n    ... 39 more\nCaused by: java.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 62 more\n\njul. 04, 2023 12:18:10 P. M. org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [AxisServlet] in web application [/proyectWebService] threw load() exception\njava.lang.ClassNotFoundException: org.apache.axiom.soap.impl.builder.OMMetaFactoryEx\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.axiom.om.impl.dom.factory.OMDOMMetaFactoryLoader.load(OMDOMMetaFactoryLoader.java:28)\n    at org.apache.axiom.locator.ImplementationFactory.parseImplementation(ImplementationFactory.java:142)\n    at org.apache.axiom.locator.ImplementationFactory.parseDescriptor(ImplementationFactory.java:99)\n    at org.apache.axiom.locator.DefaultOMMetaFactoryLocator.&lt;init&gt;(DefaultOMMetaFactoryLocator.java:87)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.apache.axiom.om.OMAbstractFactory.&lt;clinit&gt;(OMAbstractFactory.java:106)\n    at org.apache.axis2.description.AxisDescription.&lt;init&gt;(AxisDescription.java:72)\n    at org.apache.axis2.engine.AxisConfiguration.&lt;init&gt;(AxisConfiguration.java:175)\n    at org.apache.axis2.deployment.DeploymentEngine.populateAxisConfiguration(DeploymentEngine.java:627)\n    at org.apache.axis2.deployment.WarBasedAxisConfigurator.&lt;init&gt;(WarBasedAxisConfigurator.java:157)\n    at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:620)\n    at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:471)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5264)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n\njul. 04, 2023 12:18:10 P. M. org.apache.catalina.core.ApplicationContext log\n</code></pre>\n<p>I've experimented with various combinations of the Axis and Axiom libraries, from Axis 1.6 to Axiom 1.3. Based on my project requirements and compatibility, Axis 1.7.9 and Axiom 1.4.0 work best for me. Despite these efforts, and also attempting to add the JAR files manually both to the project and to the Tomcat server, the errors persist.</p>\n<p>Here are the additional details of my setup:</p>\n<ul>\n<li>JDK: 11</li>\n<li>Server: Apache Tomcat 9.0.62</li>\n<li>Libraries:\n<ul>\n<li>Axis2: 1.7.9</li>\n<li>Axiom: 1.4.0</li>\n</ul>\n</li>\n</ul>\n<p>My pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;axiom.version&gt;1.4.0&lt;/axiom.version&gt;\n    &lt;axis2.version&gt;1.7.9&lt;/axis2.version&gt;\n&lt;/properties&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-transport-base&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-transport-local&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-transport-http&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n    &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\n    &lt;version&gt;${axis2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-api&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-jaxb&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n    &lt;artifactId&gt;axiom-dom&lt;/artifactId&gt;\n    &lt;version&gt;${axiom.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Dependency tree</strong></p>\n<pre><code>[INFO] --------------------&lt; es.organization:proyect-ws &gt;---------------------\n[INFO] Building proyect-ws 1.0.0\n[INFO] --------------------------------[ war ]---------------------------------\n[WARNING] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\n[WARNING] The artifact org.slf4j:slf4j-log4j12:jar:2.0.0 has been relocated to org.slf4j:slf4j-reload4j:jar:2.0.0\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ proyect-ws ---\n[WARNING] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\n[WARNING] The artifact org.slf4j:slf4j-log4j12:jar:2.0.0 has been relocated to org.slf4j:slf4j-reload4j:jar:2.0.0\n[INFO] es.organization:proyect-ws:war:1.0.0\n[INFO] +- org.apache.ws.commons.axiom:axiom-dom:jar:1.4.0:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.2:compile\n[INFO] +- org.apache.ws.commons.axiom:axiom-api:jar:1.4.0:compile\n[INFO] |  +- jaxen:jaxen:jar:1.2.0:compile\n[INFO] |  +- org.apache.james:apache-mime4j-core:jar:0.8.6:compile\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] +- org.apache.ws.commons.axiom:axiom-jaxb:jar:1.4.0:compile\n[INFO] |  \\- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] +- org.apache.axis2:axis2:pom:1.7.9:compile\n[INFO] +- org.apache.axis2:axis2-adb:jar:1.7.9:compile\n[INFO] |  +- org.apache.axis2:axis2-kernel:jar:1.7.9:compile\n[INFO] |  |  +- org.apache.geronimo.specs:geronimo-ws-metadata_2.0_spec:jar:1.1.2:compile\n[INFO] |  |  +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1:compile\n[INFO] |  |  +- org.apache.woden:woden-core:jar:1.0M10:compile\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] |  \\- org.apache.geronimo.specs:geronimo-activation_1.1_spec:jar:1.0.2:compile\n[INFO] +- org.apache.axis2:axis2-adb-codegen:jar:1.7.9:compile\n[INFO] |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.2.1:compile\n[INFO] |  \\- commons-cli:commons-cli:jar:1.2:compile\n[INFO] +- org.apache.axis2:axis2-clustering:jar:1.7.9:compile\n[INFO] |  +- org.apache.tomcat:tribes:jar:6.0.53:compile\n[INFO] |  \\- org.apache.tomcat:juli:jar:6.0.53:compile\n[INFO] +- org.apache.axis2:axis2-codegen:jar:1.7.9:compile\n[INFO] |  \\- com.sun.xml.ws:jaxws-tools:jar:2.2.6:compile\n[INFO] +- org.apache.axis2:axis2-corba:jar:1.7.9:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  \\- org.apache.axis2:axis2-metadata:jar:1.7.9:compile\n[INFO] +- org.apache.axis2:axis2-fastinfoset:jar:1.7.9:compile\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.7:compile\n[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1:compile\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.3.3:compile\n[INFO] |  \\- org.apache.neethi:neethi:jar:3.0.3:compile\n[INFO] +- org.apache.axis2:axis2-java2wsdl:jar:1.7.9:compile\n[INFO] +- org.apache.axis2:axis2-jaxbri:jar:1.7.9:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\n[INFO] |  \\- javax.xml.bind:jaxb-api:jar:2.2.6:compile\n[INFO] +- org.apache.axis2:axis2-jaxws:jar:1.7.9:compile\n[INFO] |  +- org.apache.geronimo.specs:geronimo-annotation_1.0_spec:jar:1.1:compile\n[INFO] |  +- org.apache.geronimo.specs:geronimo-jaxws_2.2_spec:jar:1.0:compile\n[INFO] |  +- org.apache.geronimo.specs:geronimo-javamail_1.4_spec:jar:1.6:compile\n[INFO] |  +- xml-resolver:xml-resolver:jar:1.2:compile\n[INFO] |  \\- xalan:xalan:jar:2.7.0:compile\n[INFO] +- org.apache.axis2:axis2-ant-plugin:jar:1.7.9:compile\n[INFO] |  \\- org.apache.ant:ant:jar:1.7.0:compile\n[INFO] |     \\- org.apache.ant:ant-launcher:jar:1.7.0:compile\n[INFO] +- org.apache.axis2:axis2-json:jar:1.7.9:compile\n[INFO] |  +- org.codehaus.jettison:jettison:jar:1.3.8:compile\n[INFO] |  \\- com.google.code.gson:gson:jar:2.1:compile\n[INFO] +- org.apache.axis2:axis2-saaj:jar:1.7.9:compile\n[INFO] |  \\- org.apache.geronimo.specs:geronimo-saaj_1.3_spec:jar:1.0.1:compile\n[INFO] +- xom:xom:jar:1.0:compile\n[INFO] |  +- xerces:xercesImpl:jar:2.6.2:compile\n[INFO] |  \\- com.ibm.icu:icu4j:jar:2.6.1:compile\n[INFO] +- org.apache.ws.commons.schema:XmlSchema:jar:1.4.7:compile\n[INFO] +- xerces:xmlParserAPIs:jar:2.6.0:compile\n[INFO] +- wsdl4j:wsdl4j:jar:1.6.2:compile\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.2.8:compile\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] +- jdom:jdom:jar:1.0:compile\n[INFO] +- javax.xml:jaxrpc-api:jar:1.1:compile\n[INFO] +- org.glassfish:javax.faces:jar:2.1.6:compile\n[INFO] +- javax.el:javax.el-api:jar:2.2.1:compile\n[INFO] +- org.apache.axis2:axis2-xmlbeans:jar:1.7.9:compile\n[INFO] |  \\- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\n[INFO] +- org.apache.axis2:axis2-transport-local:jar:1.7.9:compile\n[INFO] +- org.apache.axis2:axis2-mtompolicy:jar:1.7.9:compile\n[INFO] +- org.apache.axis2:axis2-transport-http:jar:1.7.9:compile\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\n[INFO] |     \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\n[INFO] +- javax.xml.soap:javax.xml.soap-api:jar:1.4.0:compile\n[INFO] +- ca.uhn.hapi:hapi-base:jar:2.1:compile\n[INFO] +- ca.uhn.hapi:hapi-structures-v25:jar:2.1:compile\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] +- org.hibernate:hibernate-entitymanager:jar:5.6.3.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.2.Final:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.11.20:compile\n[INFO] |  \\- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] +- org.bouncycastle:bcprov-jdk16:jar:1.46:compile\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] +- org.icefaces:icefaces-compat:jar:3.3.0:compile\n[INFO] |  +- org.icefaces:icefaces:jar:3.3.0:compile\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\n[INFO] |  \\- javax.servlet:jstl:jar:1.2:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.32:compile\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.5:compile\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.2.5:compile\n[INFO] +- es.organization:proyect-neg:jar:1.0.0:compile\n[INFO] |  +- es.organization:proyect-per:jar:1.0.0:compile\n[INFO] |  +- javax.media.jai:com.springsource.javax.media.jai.core:jar:1.1.3:compile\n[INFO] |  +- javax.media.jai:com.springsource.javax.media.jai.codec:jar:1.1.3:compile\n[INFO] |  +- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-impl:jar:1.4.0:compile\n[INFO] |  +- backport-util-concurrent:backport-util-concurrent:jar:3.1:compile\n[INFO] |  +- org.apache.woden:woden-api:jar:1.0M9:compile\n[INFO] |  +- ca.uhn.hapi:hapi-structures-v231:jar:2.3:compile\n[INFO] |  \\- org.dom4j:dom4j:jar:2.1.3:compile\n[INFO] +- org.icefaces:icefaces-ace:jar:3.3.0:compile\n[INFO] +- javax.annotation:jsr250-api:jar:1.0:provided\n[INFO] +- javax.servlet:jsp-api:jar:2.0:provided\n[INFO] +- javax.faces:jsf-impl:jar:1.2_13:provided\n[INFO] +- javax.servlet:servlet-api:jar:2.5:provided\n[INFO] +- org.icepush:icepush:jar:3.3.0:compile\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.0:compile\n[INFO] |  \\- javax.mail:mail:jar:1.4.1:compile\n[INFO] |     \\- javax.activation:activation:jar:1.1:compile\n[INFO] +- org.springframework:spring-core:jar:5.0.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.0.4.RELEASE:compile\n[INFO] +- org.springframework:spring-web:jar:5.0.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-beans:jar:5.0.4.RELEASE:compile\n[INFO] +- org.springframework:spring-webmvc:jar:5.0.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-aop:jar:5.0.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-context:jar:5.0.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-expression:jar:5.0.4.RELEASE:compile\n[INFO] +- com.microsoft.sqlserver:sqljdbc4:jar:4.0:compile\n[INFO] +- cglib:cglib:jar:2.1_3:compile\n[INFO] |  \\- asm:asm:jar:1.5.3:compile\n[INFO] +- org.springframework.security:spring-security-core:jar:5.0.2.RELEASE:compile\n[INFO] +- org.springframework.security:spring-security-web:jar:5.0.2.RELEASE:compile\n[INFO] +- org.springframework.security:spring-security-config:jar:5.0.2.RELEASE:compile\n[INFO] +- com.sun.faces:jsf-impl:jar:2.1.7:compile\n[INFO] +- com.sun.faces:jsf-api:jar:2.1.7:compile\n[INFO] +- org.springframework:spring-orm:jar:5.0.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-jdbc:jar:5.0.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-tx:jar:5.0.4.RELEASE:compile\n[INFO] +- org.hibernate:hibernate-core:jar:5.6.3.Final:compile\n[INFO] |  +- org.jboss:jandex:jar:2.2.3.Final:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\n[INFO] |     \\- org.jvnet.staxex:stax-ex:jar:1.8:compile\n[INFO] +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.2.Final:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:7.0.1.Final:compile\n[INFO] |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.0:compile\n[INFO] +- com.oracle.database.jdbc:ojdbc10:jar:19.16.0.0:compile\n[INFO] +- org.slf4j:slf4j-reload4j:jar:2.0.0:compile\n[INFO] |  \\- ch.qos.reload4j:reload4j:jar:1.2.19:compile\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] +- com.itextpdf:itextpdf:jar:5.5.0:compile\n[INFO] +- commons-discovery:commons-discovery:jar:0.5:compile\n[INFO] +- org.glassfish.web:el-impl:jar:2.2:compile\n[INFO] |  \\- javax.el:el-api:jar:2.2:compile\n[INFO] \\- net.sourceforge.jtds:jtds:jar:1.2.8:compile\n</code></pre>\n<p>Has anyone faced this issue before or have any idea on how to solve these <code>ClassNotFoundException</code> errors? Any suggestion is greatly appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","json-schema-validator"],"comments":[{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":1,"creation_date":1496814389,"post_id":44399422,"comment_id":75807896,"body_markdown":"Can you try this? `ClassLoader classLoader = getClass().getClassLoader();\n\t\tJsonNode mySchema = JsonLoader.getJson(classLoader.getResourceAsStream(&quot;jsonschema.json&quot;));`","body":"Can you try this? <code>ClassLoader classLoader = getClass().getClassLoader(); \t\tJsonNode mySchema = JsonLoader.getJson(classLoader.getResourceAsStream(&quot;jsonsche&zwnj;&#8203;ma.json&quot;));</code>"},{"owner":{"account_id":1290637,"reputation":356,"user_id":1254821,"display_name":"Dmitry P."},"score":1,"creation_date":1666988588,"post_id":44399422,"comment_id":131072950,"body_markdown":"I like xubuntu too","body":"I like xubuntu too"},{"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"score":0,"creation_date":1673340224,"post_id":44399422,"comment_id":132470925,"body_markdown":"first two lines of your question were the answer to my problem. you saved my long hours to go! ty @g3blv\n\nClassLoader classLoader = getClass().getClassLoader();\nFile file = new File(classLoader.getResource(&quot;jsonschema.json&quot;).getFile());","body":"first two lines of your question were the answer to my problem. you saved my long hours to go! ty @g3blv  ClassLoader classLoader = getClass().getClassLoader(); File file = new File(classLoader.getResource(&quot;jsonschema.json&quot;).getFile());"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1681668373,"post_id":44399422,"comment_id":134090035,"body_markdown":"why does this question has so many wrong answers?","body":"why does this question has so many wrong answers?"}],"answers":[{"comments":[{"owner":{"account_id":2613783,"reputation":3977,"user_id":2420986,"accept_rate":60,"display_name":"g3blv"},"score":4,"creation_date":1496812503,"post_id":44399541,"comment_id":75807189,"body_markdown":"`getClass().getResource(&quot;jsonschema.json&quot;)` returns `null`. I also tried `ClassPathResource res = new ClassPathResource(&quot;jsonschema.json&quot;)` which just returns `jsonschema.json`. Does this has something to do with that I&#39;m using Spring Boot?","body":"<code>getClass().getResource(&quot;jsonschema.json&quot;)</code> returns <code>null</code>. I also tried <code>ClassPathResource res = new ClassPathResource(&quot;jsonschema.json&quot;)</code> which just returns <code>jsonschema.json</code>. Does this has something to do with that I&#39;m using Spring Boot?"},{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":0,"creation_date":1566566110,"post_id":44399541,"comment_id":101707656,"body_markdown":"@g3blv regarding `getClass().getResource(&quot;jsonschema.json&quot;)` returns `null` I could refer to this topic https://stackoverflow.com/questions/26328040/intellij-idea-getclass-getresource-return-null/40065607. On top of that try to rebuild your project. Feedback would be appreciated.","body":"@g3blv regarding <code>getClass().getResource(&quot;jsonschema.json&quot;)</code> returns <code>null</code> I could refer to this topic <a href=\"https://stackoverflow.com/questions/26328040/intellij-idea-getclass-getresource-return-null/40065607\" title=\"intellij idea getclass getresource return null\">stackoverflow.com/questions/26328040/&hellip;</a>. On top of that try to rebuild your project. Feedback would be appreciated."},{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":0,"creation_date":1582637433,"post_id":44399541,"comment_id":106839777,"body_markdown":"@g3blv I provided update on the answer, please check","body":"@g3blv I provided update on the answer, please check"},{"owner":{"account_id":2169633,"reputation":2018,"user_id":1921974,"accept_rate":60,"display_name":"endertunc"},"score":1,"creation_date":1589725310,"post_id":44399541,"comment_id":109401120,"body_markdown":"@povisenko I would suggest you to throw exception if `is` empty. It means that the file/resource you are looking for is not there.","body":"@povisenko I would suggest you to throw exception if <code>is</code> empty. It means that the file/resource you are looking for is not there."},{"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"score":1,"creation_date":1599082121,"post_id":44399541,"comment_id":112667011,"body_markdown":"complete answer. Works both in the IDE and for the jar. Thanks.","body":"complete answer. Works both in the IDE and for the jar. Thanks."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1640103266,"post_id":44399541,"comment_id":124513584,"body_markdown":"This returns null for me and the answer above only solves the issue.","body":"This returns null for me and the answer above only solves the issue."},{"owner":{"account_id":5609307,"reputation":1839,"user_id":4442714,"display_name":"Matthias Wiehl"},"score":0,"creation_date":1697552833,"post_id":44399541,"comment_id":136292570,"body_markdown":"It&#39;s generally a good practice to close a BufferedReader/InputStreamReader when you are done using it.","body":"It&#39;s generally a good practice to close a BufferedReader/InputStreamReader when you are done using it."}],"tags":[],"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"comment_count":7,"down_vote_count":4,"up_vote_count":84,"is_accepted":false,"score":80,"last_activity_date":1616770219,"creation_date":1496781958,"answer_id":44399541,"question_id":44399422,"body_markdown":"Very short answer: you are looking for the resource in the scope of a classloader&#39;s class instead of your target class. This should work:\r\n```java   \r\nFile file = new File(getClass().getResource(&quot;jsonschema.json&quot;).getFile());\r\nJsonNode mySchema = JsonLoader.fromFile(file);\r\n```\r\nAlso, that might be helpful reading: \r\n\r\n  -  https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource \r\n  -  https://stackoverflow.com/questions/13269556/strange-behavior-of-class-getresource-and-classloader-getresource-in-executa\r\n  -  https://stackoverflow.com/questions/2343187/loading-resources-using-getclass-getresource\r\n\r\nP.S. there is a case when a project compiled on one machine and after that launched on another or inside Docker. In such a scenario path to your resource folder would be invalid and you would need to get it in runtime:\r\n\r\n```java\r\nClassPathResource res = new ClassPathResource(&quot;jsonschema.json&quot;);    \r\nFile file = new File(res.getPath());\r\nJsonNode mySchema = JsonLoader.fromFile(file);\r\n```\r\n\r\n***Update from 2020***\r\n\r\nOn top of that if you want to read resource file as a String, for example in your tests, you can use these static utils methods:\r\n\r\n```java\r\npublic static String getResourceFileAsString(String fileName) {\r\n    InputStream is = getResourceFileAsInputStream(fileName);\r\n    if (is != null) {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n        return (String)reader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n    } else {\r\n        throw new RuntimeException(&quot;resource not found&quot;);\r\n    }\r\n}\r\n\r\npublic static InputStream getResourceFileAsInputStream(String fileName) {\r\n    ClassLoader classLoader = {CurrentClass}.class.getClassLoader();\r\n    return classLoader.getResourceAsStream(fileName);\r\n}\r\n```\r\n\r\nExample of usage:\r\n```java\r\nString soapXML = getResourceFileAsString(&quot;some_folder_in_resources/SOPA_request.xml&quot;);\r\n```\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>Very short answer: you are looking for the resource in the scope of a classloader's class instead of your target class. This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(getClass().getResource(&quot;jsonschema.json&quot;).getFile());\nJsonNode mySchema = JsonLoader.fromFile(file);\n</code></pre>\n<p>Also, that might be helpful reading:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\">What is the difference between Class.getResource() and ClassLoader.getResource()?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13269556/strange-behavior-of-class-getresource-and-classloader-getresource-in-executa\">Strange behavior of Class.getResource() and ClassLoader.getResource() in executable jar</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2343187/loading-resources-using-getclass-getresource\">Loading resources using getClass().getResource()</a></li>\n</ul>\n<p>P.S. there is a case when a project compiled on one machine and after that launched on another or inside Docker. In such a scenario path to your resource folder would be invalid and you would need to get it in runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource res = new ClassPathResource(&quot;jsonschema.json&quot;);    \nFile file = new File(res.getPath());\nJsonNode mySchema = JsonLoader.fromFile(file);\n</code></pre>\n<p><em><strong>Update from 2020</strong></em></p>\n<p>On top of that if you want to read resource file as a String, for example in your tests, you can use these static utils methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getResourceFileAsString(String fileName) {\n    InputStream is = getResourceFileAsInputStream(fileName);\n    if (is != null) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n        return (String)reader.lines().collect(Collectors.joining(System.lineSeparator()));\n    } else {\n        throw new RuntimeException(&quot;resource not found&quot;);\n    }\n}\n\npublic static InputStream getResourceFileAsInputStream(String fileName) {\n    ClassLoader classLoader = {CurrentClass}.class.getClassLoader();\n    return classLoader.getResourceAsStream(fileName);\n}\n</code></pre>\n<p>Example of usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String soapXML = getResourceFileAsString(&quot;some_folder_in_resources/SOPA_request.xml&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":0,"creation_date":1519396049,"post_id":48887939,"comment_id":84906427,"body_markdown":"actually, this is almost the same as given answer\nfor more details see here https://stackoverflow.com/questions/14739550/difference-between-getclass-getclassloader-getresource-and-getclass-getres","body":"actually, this is almost the same as given answer for more details see here <a href=\"https://stackoverflow.com/questions/14739550/difference-between-getclass-getclassloader-getresource-and-getclass-getres\" title=\"difference between getclass getclassloader getresource and getclass getres\">stackoverflow.com/questions/14739550/&hellip;</a>"}],"tags":[],"owner":{"account_id":3356233,"reputation":15372,"user_id":3196723,"accept_rate":70,"display_name":"Govind Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1590060314,"creation_date":1519138138,"answer_id":48887939,"question_id":44399422,"body_markdown":"stuck in the same issue, this helps me\r\n\r\n    URL resource = getClass().getClassLoader().getResource(&quot;jsonschema.json&quot;);\r\n    JsonNode jsonNode = JsonLoader.fromURL(resource);\r\n   ","title":"Read file from resources folder in Spring Boot","body":"<p>stuck in the same issue, this helps me</p>\n\n<pre><code>URL resource = getClass().getClassLoader().getResource(\"jsonschema.json\");\nJsonNode jsonNode = JsonLoader.fromURL(resource);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"score":1,"creation_date":1527241732,"post_id":49468282,"comment_id":88064270,"body_markdown":"Thanks John for adding this. This works and certainly a better approach using the ResourceUtil.","body":"Thanks John for adding this. This works and certainly a better approach using the ResourceUtil."},{"owner":{"account_id":12125239,"reputation":211,"user_id":8854463,"display_name":"Hassan Mudassir"},"score":72,"creation_date":1535622833,"post_id":49468282,"comment_id":91138175,"body_markdown":"This will work only if you try to run the application from IDE but when you run the jar it won&#39;t find the file for you.","body":"This will work only if you try to run the application from IDE but when you run the jar it won&#39;t find the file for you."},{"owner":{"account_id":9575865,"reputation":431,"user_id":7112002,"display_name":"Jingchao Luan"},"score":34,"creation_date":1554330850,"post_id":49468282,"comment_id":97716452,"body_markdown":"Agree with Hassan, we should instead use `new ClassPathResource(&quot;filename&quot;).getInputStream()` if run the application from jar. [Detail](https://www.baeldung.com/spring-classpath-file-access)","body":"Agree with Hassan, we should instead use <code>new ClassPathResource(&quot;filename&quot;).getInputStream()</code> if run the application from jar. <a href=\"https://www.baeldung.com/spring-classpath-file-access\" rel=\"nofollow noreferrer\">Detail</a>"},{"owner":{"account_id":5168971,"reputation":134,"user_id":4138136,"display_name":"Eric Jiang"},"score":3,"creation_date":1555057695,"post_id":49468282,"comment_id":97984011,"body_markdown":"Agree with Hassan. As a caveat, ResourceUtils Javadoc is clear that the class is mainly for internal use. Check as well https://stackoverflow.com/questions/25869428/classpath-resource-not-found-when-running-as-jar/25873705#25873705","body":"Agree with Hassan. As a caveat, ResourceUtils Javadoc is clear that the class is mainly for internal use. Check as well <a href=\"https://stackoverflow.com/questions/25869428/classpath-resource-not-found-when-running-as-jar/25873705#25873705\" title=\"classpath resource not found when running as jar\">stackoverflow.com/questions/25869428/&hellip;</a>"},{"owner":{"account_id":2821272,"reputation":2535,"user_id":2424981,"display_name":"John"},"score":0,"creation_date":1565875834,"post_id":49468282,"comment_id":101488788,"body_markdown":"@HassanMudassir Pretty sure I had this running on Amazon EC2 using java -jar target/image-service-slave-1.0-SNAPSHOT.jar\nLook at my github repo : https://github.com/johnsanthosh/image-service\n\nFigure out the right way to package your JAR and this would work 100% ;)","body":"@HassanMudassir Pretty sure I had this running on Amazon EC2 using java -jar target/image-service-slave-1.0-SNAPSHOT.jar Look at my github repo : <a href=\"https://github.com/johnsanthosh/image-service\" rel=\"nofollow noreferrer\">github.com/johnsanthosh/image-service</a>  Figure out the right way to package your JAR and this would work 100% ;)"},{"owner":{"account_id":988124,"reputation":3423,"user_id":1006146,"accept_rate":77,"display_name":"JackMahoney"},"score":1,"creation_date":1612878746,"post_id":49468282,"comment_id":116899321,"body_markdown":"Hassan is right! I think a fat jar or shadow jar will allow you to use the original method but @JingchaoLuan&#39;s method is best.","body":"Hassan is right! I think a fat jar or shadow jar will allow you to use the original method but @JingchaoLuan&#39;s method is best."},{"owner":{"account_id":10877520,"reputation":120,"user_id":7997517,"display_name":"ABHISHEK KUMAR"},"score":1,"creation_date":1682012265,"post_id":49468282,"comment_id":134152735,"body_markdown":"Spring ResourceUtils works for both JAR and IDE after removing the classpath: prefix. :)","body":"Spring ResourceUtils works for both JAR and IDE after removing the classpath: prefix. :)"}],"tags":[],"owner":{"account_id":2821272,"reputation":2535,"user_id":2424981,"display_name":"John"},"comment_count":7,"down_vote_count":8,"up_vote_count":185,"is_accepted":false,"score":177,"last_activity_date":1580814816,"creation_date":1521915742,"answer_id":49468282,"question_id":44399422,"body_markdown":"After spending a lot of time trying to resolve this issue, finally found a solution that works. The solution makes use of Spring&#39;s ResourceUtils.\r\nShould work for json files as well.\r\n\r\nThanks for the well written page by Lokesh Gupta : [Blog][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package utils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.util.ResourceUtils;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    import java.io.File;\r\n\r\n\r\n    public class Utils {\r\n    \t\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(Utils.class.getName());\r\n    \t\r\n    \tpublic static Properties fetchProperties(){\r\n    \t\tProperties properties = new Properties();\r\n    \t\ttry {\r\n    \t\t\tFile file = ResourceUtils.getFile(&quot;classpath:application.properties&quot;);\r\n                InputStream in = new FileInputStream(file);\r\n    \t\t\tproperties.load(in);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tLOGGER.error(e.getMessage());\r\n    \t\t}\r\n    \t\treturn properties;\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://howtodoinjava.com/core-java/io/read-file-from-resources-folder/\r\n  [2]: https://i.stack.imgur.com/BUczm.png\r\n\r\nTo answer a few concerns on the comments :\r\n\r\nPretty sure I had this running on Amazon EC2 using `java -jar target/image-service-slave-1.0-SNAPSHOT.jar`\r\n\r\nLook at my github repo : https://github.com/johnsanthosh/image-service\r\nto figure out the right way to run this from a JAR.\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>After spending a lot of time trying to resolve this issue, finally found a solution that works. The solution makes use of Spring's ResourceUtils.\nShould work for json files as well.</p>\n\n<p>Thanks for the well written page by Lokesh Gupta : <a href=\"https://howtodoinjava.com/core-java/io/read-file-from-resources-folder/\" rel=\"noreferrer\">Blog</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BUczm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BUczm.png\" alt=\"enter image description here\"></a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package utils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.ResourceUtils;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\nimport java.io.File;\n\n\npublic class Utils {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Utils.class.getName());\n\n    public static Properties fetchProperties(){\n        Properties properties = new Properties();\n        try {\n            File file = ResourceUtils.getFile(\"classpath:application.properties\");\n            InputStream in = new FileInputStream(file);\n            properties.load(in);\n        } catch (IOException e) {\n            LOGGER.error(e.getMessage());\n        }\n        return properties;\n    }\n}\n</code></pre>\n\n<p>To answer a few concerns on the comments :</p>\n\n<p>Pretty sure I had this running on Amazon EC2 using <code>java -jar target/image-service-slave-1.0-SNAPSHOT.jar</code></p>\n\n<p>Look at my github repo : <a href=\"https://github.com/johnsanthosh/image-service\" rel=\"noreferrer\">https://github.com/johnsanthosh/image-service</a>\nto figure out the right way to run this from a JAR.</p>\n"},{"tags":[],"owner":{"account_id":6727087,"reputation":27739,"user_id":5184681,"display_name":"MostafaMashayekhi"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1527923687,"creation_date":1527923687,"answer_id":50654468,"question_id":44399422,"body_markdown":"create json folder in resources as subfolder then add json file in folder then you can use this code : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n`import com.fasterxml.jackson.core.type.TypeReference;`\r\n  \r\n\r\n`InputStream is = TypeReference.class.getResourceAsStream(&quot;/json/fcmgoogletoken.json&quot;);`\r\n\r\nthis works in Docker.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j44ZG.png","title":"Read file from resources folder in Spring Boot","body":"<p>create json folder in resources as subfolder then add json file in folder then you can use this code : \n<a href=\"https://i.stack.imgur.com/j44ZG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j44ZG.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>import com.fasterxml.jackson.core.type.TypeReference;</code></p>\n\n<p><code>InputStream is = TypeReference.class.getResourceAsStream(\"/json/fcmgoogletoken.json\");</code></p>\n\n<p>this works in Docker.</p>\n"},{"comments":[{"owner":{"account_id":144441,"reputation":1925,"user_id":353497,"accept_rate":61,"display_name":"Ameya"},"score":17,"creation_date":1553057303,"post_id":53076111,"comment_id":97239546,"body_markdown":"I tried your solution, it works in IDE but when you make spring jar  input stream will help.","body":"I tried your solution, it works in IDE but when you make spring jar  input stream will help."}],"tags":[],"owner":{"account_id":4033760,"reputation":1718,"user_id":3318976,"display_name":"Ismail"},"comment_count":1,"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1540958601,"creation_date":1540958601,"answer_id":53076111,"question_id":44399422,"body_markdown":"if you have for example config folder under Resources folder \r\nI tried this Class working perfectly hope be useful\r\n\r\n\r\n    File file = ResourceUtils.getFile(&quot;classpath:config/sample.txt&quot;)\r\n    \r\n    //Read File Content\r\n    String content = new String(Files.readAllBytes(file.toPath()));\r\n    System.out.println(content);","title":"Read file from resources folder in Spring Boot","body":"<p>if you have for example config folder under Resources folder \nI tried this Class working perfectly hope be useful</p>\n\n<pre><code>File file = ResourceUtils.getFile(\"classpath:config/sample.txt\")\n\n//Read File Content\nString content = new String(Files.readAllBytes(file.toPath()));\nSystem.out.println(content);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1217232,"reputation":1393,"user_id":1184571,"accept_rate":58,"display_name":"Er&#231;in Ak&#231;ay"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1547672316,"creation_date":1547672316,"answer_id":54225276,"question_id":44399422,"body_markdown":"Here is my solution. May help someone; \r\n\r\nIt returns InputStream, but i assume you can read from it too.\r\n\r\n    InputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;jsonschema.json&quot;);\r\n\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>Here is my solution. May help someone; </p>\n\n<p>It returns InputStream, but i assume you can read from it too.</p>\n\n<pre><code>InputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(\"jsonschema.json\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5624415,"reputation":507,"user_id":4453282,"display_name":"sajal rajabhoj"},"score":0,"creation_date":1611566917,"post_id":56854616,"comment_id":116483452,"body_markdown":"Which solution? I teseted it and its in PROD, not sure, you must be facing other issue.","body":"Which solution? I teseted it and its in PROD, not sure, you must be facing other issue."}],"tags":[],"owner":{"account_id":5624415,"reputation":507,"user_id":4453282,"display_name":"sajal rajabhoj"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1562077324,"creation_date":1562077324,"answer_id":56854616,"question_id":44399422,"body_markdown":"See my answer here: https://stackoverflow.com/a/56854431/4453282\r\n\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.ResourceLoader;\r\nUse these 2 imports.\r\n\r\nDeclare\r\n\r\n    @Autowired\r\n    ResourceLoader resourceLoader;\r\n\r\nUse this in some function\r\n\r\n    Resource resource=resourceLoader.getResource(&quot;classpath:preferences.json&quot;);\r\n\r\nIn your case, as you need the file you may use following\r\n\r\n`File file = resource.getFile()`\r\n\r\nReference:http://frugalisminds.com/spring/load-file-classpath-spring-boot/\r\nAs already mentioned in previous answers don&#39;t use ResourceUtils it doesn&#39;t work after deployment of JAR, this will work in IDE as well as after deployment\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>See my answer here: <a href=\"https://stackoverflow.com/a/56854431/4453282\">https://stackoverflow.com/a/56854431/4453282</a></p>\n\n<pre><code>import org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\n</code></pre>\n\n<p>Use these 2 imports.</p>\n\n<p>Declare</p>\n\n<pre><code>@Autowired\nResourceLoader resourceLoader;\n</code></pre>\n\n<p>Use this in some function</p>\n\n<pre><code>Resource resource=resourceLoader.getResource(\"classpath:preferences.json\");\n</code></pre>\n\n<p>In your case, as you need the file you may use following</p>\n\n<p><code>File file = resource.getFile()</code></p>\n\n<p>Reference:<a href=\"http://frugalisminds.com/spring/load-file-classpath-spring-boot/\" rel=\"noreferrer\">http://frugalisminds.com/spring/load-file-classpath-spring-boot/</a>\nAs already mentioned in previous answers don't use ResourceUtils it doesn't work after deployment of JAR, this will work in IDE as well as after deployment</p>\n"},{"comments":[{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":5,"creation_date":1663113379,"post_id":59569027,"comment_id":130161694,"body_markdown":"Works well in IDE but not in JAR-file.","body":"Works well in IDE but not in JAR-file."}],"tags":[],"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"comment_count":1,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1577993743,"creation_date":1577993743,"answer_id":59569027,"question_id":44399422,"body_markdown":"Spent way too much time coming back to this page so just gonna leave this here:    \r\n\r\n    File file = new ClassPathResource(&quot;data/data.json&quot;).getFile();\r\n\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>Spent way too much time coming back to this page so just gonna leave this here:    </p>\n\n<pre><code>File file = new ClassPathResource(\"data/data.json\").getFile();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5247548,"reputation":580,"user_id":4192735,"accept_rate":88,"display_name":"Bhaumik Thakkar"},"score":0,"creation_date":1681302142,"post_id":60397317,"comment_id":134033943,"body_markdown":"json directory is under Resources of Spring project.","body":"json directory is under Resources of Spring project."}],"tags":[],"owner":{"account_id":5247548,"reputation":580,"user_id":4192735,"accept_rate":88,"display_name":"Bhaumik Thakkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1582642238,"creation_date":1582642238,"answer_id":60397317,"question_id":44399422,"body_markdown":"Below is my working code.\r\n```\r\nList&lt;sampleObject&gt; list = new ArrayList&lt;&gt;();\r\nFile file = new ClassPathResource(&quot;json/test.json&quot;).getFile();\r\nObjectMapper objectMapper = new ObjectMapper();\r\nsampleObject = Arrays.asList(objectMapper.readValue(file, sampleObject[].class));\r\n```\r\nHope it helps one!","title":"Read file from resources folder in Spring Boot","body":"<p>Below is my working code.</p>\n\n<pre><code>List&lt;sampleObject&gt; list = new ArrayList&lt;&gt;();\nFile file = new ClassPathResource(\"json/test.json\").getFile();\nObjectMapper objectMapper = new ObjectMapper();\nsampleObject = Arrays.asList(objectMapper.readValue(file, sampleObject[].class));\n</code></pre>\n\n<p>Hope it helps one!</p>\n"},{"tags":[],"owner":{"account_id":5070036,"reputation":45,"user_id":4069023,"display_name":"Vijayakumar S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583245370,"creation_date":1583245370,"answer_id":60509303,"question_id":44399422,"body_markdown":"For me, the bug had two fixes. \r\n\r\n 1. Xml file which was named as SAMPLE.XML which was causing even the below solution to fail when deployed to aws ec2. The fix was to rename it to new_sample.xml and apply the solution given below.\r\n 2. Solution approach\r\nhttps://medium.com/@jonathan.henrique.smtp/reading-files-in-resource-path-from-jar-artifact-459ce00d2130\r\n\r\nI was using Spring boot as jar and deployed to aws ec2\r\nJava variant of the solution is as below : \r\n\r\n    package com.test;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    import org.springframework.core.io.Resource;\r\n    \r\n    \r\n    public class XmlReader {\r\n    \t\r\n    \tprivate static Logger LOGGER = LoggerFactory.getLogger(XmlReader.class);\r\n    \r\n      public static void main(String[] args) {\r\n    \t  \r\n    \r\n          String fileLocation = &quot;classpath:cbs_response.xml&quot;;\r\n          String reponseXML = null;\r\n          try (ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext()){\r\n            \r\n            Resource resource = appContext.getResource(fileLocation);\r\n            if (resource.isReadable()) {\r\n              BufferedReader reader =\r\n                  new BufferedReader(new InputStreamReader(resource.getInputStream()));\r\n              Stream&lt;String&gt; lines = reader.lines();\r\n              reponseXML = lines.collect(Collectors.joining(&quot;\\n&quot;));\r\n              \r\n            }      \r\n          } catch (IOException e) {\r\n            LOGGER.error(e.getMessage(), e);\r\n          }\r\n      }\r\n    }\r\n\r\n\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>For me, the bug had two fixes. </p>\n\n<ol>\n<li>Xml file which was named as SAMPLE.XML which was causing even the below solution to fail when deployed to aws ec2. The fix was to rename it to new_sample.xml and apply the solution given below.</li>\n<li>Solution approach\n<a href=\"https://medium.com/@jonathan.henrique.smtp/reading-files-in-resource-path-from-jar-artifact-459ce00d2130\" rel=\"nofollow noreferrer\">https://medium.com/@jonathan.henrique.smtp/reading-files-in-resource-path-from-jar-artifact-459ce00d2130</a></li>\n</ol>\n\n<p>I was using Spring boot as jar and deployed to aws ec2\nJava variant of the solution is as below : </p>\n\n<pre><code>package com.test;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.core.io.Resource;\n\n\npublic class XmlReader {\n\n    private static Logger LOGGER = LoggerFactory.getLogger(XmlReader.class);\n\n  public static void main(String[] args) {\n\n\n      String fileLocation = \"classpath:cbs_response.xml\";\n      String reponseXML = null;\n      try (ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext()){\n\n        Resource resource = appContext.getResource(fileLocation);\n        if (resource.isReadable()) {\n          BufferedReader reader =\n              new BufferedReader(new InputStreamReader(resource.getInputStream()));\n          Stream&lt;String&gt; lines = reader.lines();\n          reponseXML = lines.collect(Collectors.joining(\"\\n\"));\n\n        }      \n      } catch (IOException e) {\n        LOGGER.error(e.getMessage(), e);\n      }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1656928818,"post_id":61920466,"comment_id":128682466,"body_markdown":"java.io.FileNotFoundException: class path resource [src/test/resources/html/registration.html] cannot be opened because it does not exist","body":"java.io.FileNotFoundException: class path resource [src/test/resources/html/registration.html] cannot be opened because it does not exist"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1656929154,"post_id":61920466,"comment_id":128682592,"body_markdown":"It&#39;s right :         InputStream resource = new ClassPathResource(\n                &quot;html/test.html&quot;).getInputStream();\n\n        String s = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);","body":"It&#39;s right :         InputStream resource = new ClassPathResource(                 &quot;html/test.html&quot;).getInputStream();          String s = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);"}],"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590000257,"creation_date":1589999867,"answer_id":61920466,"question_id":44399422,"body_markdown":"The simplest method to bring a resource from the classpath in the resources directory parsed into a String is the following one liner.\r\n\r\n**As a String(Using Spring Libraries):**\r\n\r\n             String resource = StreamUtils.copyToString(\r\n                    new ClassPathResource(&quot;resource.json&quot;).getInputStream(), defaultCharset());\r\n\r\nThis method uses the [StreamUtils][1] utility and streams the file as an input stream into a String in a concise compact way.\r\n\r\nIf you want the file as a byte array you can use basic Java File I/O libraries:\r\n\r\n**As a byte array(Using Java Libraries):**\r\n\r\n    byte[] resource = Files.readAllBytes(Paths.get(&quot;/src/test/resources/resource.json&quot;));\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StreamUtils.html","title":"Read file from resources folder in Spring Boot","body":"<p>The simplest method to bring a resource from the classpath in the resources directory parsed into a String is the following one liner.</p>\n\n<p><strong>As a String(Using Spring Libraries):</strong></p>\n\n<pre><code>         String resource = StreamUtils.copyToString(\n                new ClassPathResource(\"resource.json\").getInputStream(), defaultCharset());\n</code></pre>\n\n<p>This method uses the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StreamUtils.html\" rel=\"nofollow noreferrer\">StreamUtils</a> utility and streams the file as an input stream into a String in a concise compact way.</p>\n\n<p>If you want the file as a byte array you can use basic Java File I/O libraries:</p>\n\n<p><strong>As a byte array(Using Java Libraries):</strong></p>\n\n<pre><code>byte[] resource = Files.readAllBytes(Paths.get(\"/src/test/resources/resource.json\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10601514,"reputation":15,"user_id":7808334,"display_name":"sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599629658,"creation_date":1599629658,"answer_id":63805315,"question_id":44399422,"body_markdown":"i think the problem lies within the space in the folder-name where your project is placed.\r\n/home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json\r\n\r\n\r\nthere is space between Java Programs.Renaming the folder name should make it work","title":"Read file from resources folder in Spring Boot","body":"<p>i think the problem lies within the space in the folder-name where your project is placed.\n/home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json</p>\n<p>there is space between Java Programs.Renaming the folder name should make it work</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614846352,"creation_date":1614846352,"answer_id":66471173,"question_id":44399422,"body_markdown":"If you&#39;re using `spring` and `jackson` (most of the larger applications will), then use a simple oneliner:\r\n\r\n`JsonNode json = new ObjectMapper().readTree(new ClassPathResource(&quot;filename&quot;).getFile());`","title":"Read file from resources folder in Spring Boot","body":"<p>If you're using <code>spring</code> and <code>jackson</code> (most of the larger applications will), then use a simple oneliner:</p>\n<p><code>JsonNode json = new ObjectMapper().readTree(new ClassPathResource(&quot;filename&quot;).getFile());</code></p>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617800253,"creation_date":1617800253,"answer_id":66986555,"question_id":44399422,"body_markdown":"Spring provides `ResourceLoader` which can be used to load files. \r\n\r\n```\r\n@Autowired\r\nResourceLoader resourceLoader;\r\n\r\n\r\n// path could be anything under resources directory\r\nFile loadDirectory(String path){\r\n        Resource resource = resourceLoader.getResource(&quot;classpath:&quot;+path); \r\n        try {\r\n            return resource.getFile();\r\n        } catch (IOException e) {\r\n            log.warn(&quot;Issue with loading path {} as file&quot;, path);\r\n        }\r\n        return null;\r\n }\r\n```\r\n\r\nReferred to this [link][1]. \r\n\r\n\r\n  [1]: https://smarterco.de/java-load-file-from-classpath-in-spring-boot/","title":"Read file from resources folder in Spring Boot","body":"<p>Spring provides <code>ResourceLoader</code> which can be used to load files.</p>\n<pre><code>@Autowired\nResourceLoader resourceLoader;\n\n\n// path could be anything under resources directory\nFile loadDirectory(String path){\n        Resource resource = resourceLoader.getResource(&quot;classpath:&quot;+path); \n        try {\n            return resource.getFile();\n        } catch (IOException e) {\n            log.warn(&quot;Issue with loading path {} as file&quot;, path);\n        }\n        return null;\n }\n</code></pre>\n<p>Referred to this <a href=\"https://smarterco.de/java-load-file-from-classpath-in-spring-boot/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":17701596,"reputation":33,"user_id":12851112,"display_name":"J. Escribano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619710931,"creation_date":1619710931,"answer_id":67320729,"question_id":44399422,"body_markdown":"If you are using maven resource filter in your proyect, you need to configure what kind of file is going to be loaded in pom.xml. If you don&#39;t, no matter what class you choose to load the resource, it won&#39;t be found.\r\n\r\npom.xml\r\n\r\n\t&lt;resources&gt;\r\n\t\t&lt;resource&gt;\r\n\t\t\t&lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;include&gt;**/*.yml&lt;/include&gt;\r\n\t\t\t\t&lt;include&gt;**/*.yaml&lt;/include&gt;\r\n\t\t\t\t&lt;include&gt;**/*.json&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t&lt;/resource&gt;\r\n    &lt;/resources&gt;","title":"Read file from resources folder in Spring Boot","body":"<p>If you are using maven resource filter in your proyect, you need to configure what kind of file is going to be loaded in pom.xml. If you don't, no matter what class you choose to load the resource, it won't be found.</p>\n<p>pom.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.yml&lt;/include&gt;\n            &lt;include&gt;**/*.yaml&lt;/include&gt;\n            &lt;include&gt;**/*.json&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8694315,"reputation":1101,"user_id":6506261,"accept_rate":89,"display_name":"Pons"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620177762,"creation_date":1620177762,"answer_id":67394037,"question_id":44399422,"body_markdown":"Below works in both IDE and running it as a jar in the terminal,\r\n\r\n    import org.springframework.core.io.Resource;\r\n    \r\n    @Value(&quot;classpath:jsonschema.json&quot;)\r\n    Resource schemaFile;\r\n        \r\n    JsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V4);\r\n    JsonSchema jsonSchema = factory.getSchema(schemaFile.getInputStream());","title":"Read file from resources folder in Spring Boot","body":"<p>Below works in both IDE and running it as a jar in the terminal,</p>\n<pre><code>import org.springframework.core.io.Resource;\n\n@Value(&quot;classpath:jsonschema.json&quot;)\nResource schemaFile;\n    \nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V4);\nJsonSchema jsonSchema = factory.getSchema(schemaFile.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1624943017,"creation_date":1624943017,"answer_id":68172886,"question_id":44399422,"body_markdown":"I had same issue and because I just had to get file path to send to file input stream, I did this way.\r\n\r\n\r\n        String pfxCertificate =&quot;src/main/resources/cert/filename.pfx&quot;;\r\n        String pfxPassword = &quot;1234&quot;;\r\n        FileInputStream fileInputStream = new FileInputStream(pfxCertificate));\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>I had same issue and because I just had to get file path to send to file input stream, I did this way.</p>\n<pre><code>    String pfxCertificate =&quot;src/main/resources/cert/filename.pfx&quot;;\n    String pfxPassword = &quot;1234&quot;;\n    FileInputStream fileInputStream = new FileInputStream(pfxCertificate));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14868083,"reputation":196,"user_id":10736451,"display_name":"szachMati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627577701,"creation_date":1627577092,"answer_id":68579909,"question_id":44399422,"body_markdown":"Using Spring **ResourceUtils.getFile()** you don&#39;t have to take care absolute path :)\r\n\r\n     private String readDictionaryAsJson(String filename) throws IOException {\r\n        String fileContent;\r\n        try {\r\n            File file = ResourceUtils.getFile(&quot;classpath:&quot; + filename);\r\n            Path path = file.toPath();\r\n            Stream&lt;String&gt; lines = Files.lines(path);\r\n            fileContent = lines.collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException ex) {\r\n            throw ex;\r\n        }\r\n        return new fileContent;\r\n    }","title":"Read file from resources folder in Spring Boot","body":"<p>Using Spring <strong>ResourceUtils.getFile()</strong> you don't have to take care absolute path :)</p>\n<pre><code> private String readDictionaryAsJson(String filename) throws IOException {\n    String fileContent;\n    try {\n        File file = ResourceUtils.getFile(&quot;classpath:&quot; + filename);\n        Path path = file.toPath();\n        Stream&lt;String&gt; lines = Files.lines(path);\n        fileContent = lines.collect(Collectors.joining(&quot;\\n&quot;));\n    } catch (IOException ex) {\n        throw ex;\n    }\n    return new fileContent;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":147932,"reputation":3361,"user_id":359376,"accept_rate":78,"display_name":"user12384512"},"score":0,"creation_date":1643312144,"post_id":68913967,"comment_id":125313023,"body_markdown":"ClassPathResource does not work in Fat jar","body":"ClassPathResource does not work in Fat jar"},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1643318576,"post_id":68913967,"comment_id":125315108,"body_markdown":"Can I ask you to provide more details, please, maybe, you can post a simple application where it does not work?","body":"Can I ask you to provide more details, please, maybe, you can post a simple application where it does not work?"}],"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1629838453,"creation_date":1629838453,"answer_id":68913967,"question_id":44399422,"body_markdown":"### How to get resource reliably\r\n\r\nTo reliably get a file from the resources in Spring Boot application:\r\n\r\n1. Find a way to pass abstract resource, for example, `InputStream`, `URL` instead of `File`\r\n1. Use framework facilities to get the resource\r\n\r\n## Example: read file from `resources`\r\n\r\n```java\r\npublic class SpringBootResourcesApplication {\r\n    public static void main(String[] args) throws Exception {\r\n        ClassPathResource resource = new ClassPathResource(&quot;/hello&quot;, SpringBootResourcesApplication.class);\r\n        try (InputStream inputStream = resource.getInputStream()) {\r\n            String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n            System.out.println(string);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n* [`ClassPathResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html) is Spring&#39;s implementation of `Resource` - the abstract way to load _resource_. It is instantiated using the [`ClassPathResource(String, Class&lt;?&gt;)`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-java.lang.Class-) constructor:\r\n    * `/hello` is a path to the file\r\n        * The leading slash loads file by absolute path in classpath\r\n            * It is required because otherwise the path would be relative to the class \r\n            * If you pass a `ClassLoader` instead of `Class`, the slash can be omitted\r\n            * See also [What is the difference between Class.getResource() and ClassLoader.getResource()?](https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource)\r\n    * The second argument is the `Class` to load the resource by\r\n        * Prefer passing the `Class` instead of `ClassLoader`, because [`ClassLoader.getResource` differs from `Class.getResource` in JPMS](https://stackoverflow.com/questions/48768879/how-to-access-resource-using-class-loader-in-java-9)\r\n\r\n* Project structure:\r\n    ```\r\n    ├── mvnw\r\n    ├── mvnw.cmd\r\n    ├── pom.xml\r\n    └── src\r\n        └── main\r\n            ├── java\r\n            │   └── com\r\n            │       └── caco3\r\n            │           └── springbootresources\r\n            │               └── SpringBootResourcesApplication.java\r\n            └── resources\r\n                ├── application.properties\r\n                └── hello\r\n    ```\r\n\r\nThe example above works from both IDE and jar\r\n\r\n#### Deeper explanation\r\n\r\n###### Prefer abstract resources instead of `File`\r\n\r\n* Examples of abstract resources are `InputStream` and `URL`\r\n* Avoid using `File` because it is not always possible to get it from a classpath resource\r\n    * E.g. the following code works in IDE:\r\n    ```java\r\n    public class SpringBootResourcesApplication {\r\n        public static void main(String[] args) throws Exception {\r\n            ClassLoader classLoader = SpringBootResourcesApplication.class.getClassLoader();\r\n            File file = new File(classLoader.getResource(&quot;hello&quot;).getFile());\r\n            \r\n            Files.readAllLines(file.toPath(), StandardCharsets.UTF_8)\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n    ```\r\n    but fails with:\r\n    ```\r\n    java.nio.file.NoSuchFileException: file:/home/caco3/IdeaProjects/spring-boot-resources/target/spring-boot-resources-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/hello\r\n            at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n            at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n            at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n    ```\r\n    when Spring Boot jar run\r\n* If you use external library, and it asks you for a resource, try to find a way to pass it an `InputStream` or `URL`\r\n    * For example the `JsonLoader.fromFile` from the question could be replaced with [`JsonLoader.fromURL`](http://javadox.com/com.github.fge/jackson-coreutils/1.8/com/github/fge/jackson/JsonLoader.html#fromURL(java.net.URL)) method: it accepts `URL`\r\n\r\n###### Use framework&#39;s facilities to get the resource:\r\n\r\nSpring Framework enables access to classpath resources through [`ClassPathResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html)\r\n\r\nYou can use it:\r\n\r\n1. Directly, as in the example of reading file from `resources`\r\n1. Indirectly:\r\n    1. Using [`@Value`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html):\r\n        ```java\r\n        @SpringBootApplication\r\n        public class SpringBootResourcesApplication implements ApplicationRunner {\r\n            @Value(&quot;classpath:/hello&quot;) // Do not use field injection\r\n            private Resource resource;\r\n\r\n            public static void main(String[] args) throws Exception {\r\n                SpringApplication.run(SpringBootResourcesApplication.class, args);\r\n            }\r\n\r\n           @Override\r\n           public void run(ApplicationArguments args) throws Exception {\r\n               try (InputStream inputStream = resource.getInputStream()) {\r\n                   String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n                   System.out.println(string);\r\n               }\r\n           }\r\n       }\r\n       ```\r\n    1. Using [`ResourceLoader`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html):\r\n        ```java\r\n        @SpringBootApplication\r\n        public class SpringBootResourcesApplication implements ApplicationRunner {\r\n            @Autowired // do not use field injection\r\n            private ResourceLoader resourceLoader;\r\n\r\n            public static void main(String[] args) throws Exception {\r\n                SpringApplication.run(SpringBootResourcesApplication.class, args);\r\n            }\r\n\r\n            @Override\r\n            public void run(ApplicationArguments args) throws Exception {\r\n                Resource resource = resourceLoader.getResource(&quot;/hello&quot;);\r\n                try (InputStream inputStream = resource.getInputStream()) {\r\n                    String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n                    System.out.println(string);\r\n                }\r\n            }\r\n        }\r\n        ```\r\n        * See also [this](https://stackoverflow.com/a/66986555/6486622) answer","title":"Read file from resources folder in Spring Boot","body":"<h3>How to get resource reliably</h3>\n<p>To reliably get a file from the resources in Spring Boot application:</p>\n<ol>\n<li>Find a way to pass abstract resource, for example, <code>InputStream</code>, <code>URL</code> instead of <code>File</code></li>\n<li>Use framework facilities to get the resource</li>\n</ol>\n<h2>Example: read file from <code>resources</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringBootResourcesApplication {\n    public static void main(String[] args) throws Exception {\n        ClassPathResource resource = new ClassPathResource(&quot;/hello&quot;, SpringBootResourcesApplication.class);\n        try (InputStream inputStream = resource.getInputStream()) {\n            String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\n            System.out.println(string);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html\" rel=\"noreferrer\"><code>ClassPathResource</code></a> is Spring's implementation of <code>Resource</code> - the abstract way to load <em>resource</em>. It is instantiated using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-java.lang.Class-\" rel=\"noreferrer\"><code>ClassPathResource(String, Class&lt;?&gt;)</code></a> constructor:</p>\n<ul>\n<li><code>/hello</code> is a path to the file\n<ul>\n<li>The leading slash loads file by absolute path in classpath\n<ul>\n<li>It is required because otherwise the path would be relative to the class</li>\n<li>If you pass a <code>ClassLoader</code> instead of <code>Class</code>, the slash can be omitted</li>\n<li>See also <a href=\"https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\">What is the difference between Class.getResource() and ClassLoader.getResource()?</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>The second argument is the <code>Class</code> to load the resource by\n<ul>\n<li>Prefer passing the <code>Class</code> instead of <code>ClassLoader</code>, because <a href=\"https://stackoverflow.com/questions/48768879/how-to-access-resource-using-class-loader-in-java-9\"><code>ClassLoader.getResource</code> differs from <code>Class.getResource</code> in JPMS</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Project structure:</p>\n<pre><code>├── mvnw\n├── mvnw.cmd\n├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── caco3\n        │           └── springbootresources\n        │               └── SpringBootResourcesApplication.java\n        └── resources\n            ├── application.properties\n            └── hello\n</code></pre>\n</li>\n</ul>\n<p>The example above works from both IDE and jar</p>\n<h4>Deeper explanation</h4>\n<h6>Prefer abstract resources instead of <code>File</code></h6>\n<ul>\n<li>Examples of abstract resources are <code>InputStream</code> and <code>URL</code></li>\n<li>Avoid using <code>File</code> because it is not always possible to get it from a classpath resource\n<ul>\n<li>E.g. the following code works in IDE:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringBootResourcesApplication {\n    public static void main(String[] args) throws Exception {\n        ClassLoader classLoader = SpringBootResourcesApplication.class.getClassLoader();\n        File file = new File(classLoader.getResource(&quot;hello&quot;).getFile());\n\n        Files.readAllLines(file.toPath(), StandardCharsets.UTF_8)\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\nbut fails with:\n<pre><code>java.nio.file.NoSuchFileException: file:/home/caco3/IdeaProjects/spring-boot-resources/target/spring-boot-resources-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/hello\n        at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\n        at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n        at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\n</code></pre>\nwhen Spring Boot jar run</li>\n<li>If you use external library, and it asks you for a resource, try to find a way to pass it an <code>InputStream</code> or <code>URL</code>\n<ul>\n<li>For example the <code>JsonLoader.fromFile</code> from the question could be replaced with <a href=\"http://javadox.com/com.github.fge/jackson-coreutils/1.8/com/github/fge/jackson/JsonLoader.html#fromURL(java.net.URL)\" rel=\"noreferrer\"><code>JsonLoader.fromURL</code></a> method: it accepts <code>URL</code></li>\n</ul>\n</li>\n</ul>\n<h6>Use framework's facilities to get the resource:</h6>\n<p>Spring Framework enables access to classpath resources through <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html\" rel=\"noreferrer\"><code>ClassPathResource</code></a></p>\n<p>You can use it:</p>\n<ol>\n<li>Directly, as in the example of reading file from <code>resources</code></li>\n<li>Indirectly:\n<ol>\n<li>Using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"noreferrer\"><code>@Value</code></a>:\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBootResourcesApplication implements ApplicationRunner {\n    @Value(&quot;classpath:/hello&quot;) // Do not use field injection\n    private Resource resource;\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(SpringBootResourcesApplication.class, args);\n    }\n\n   @Override\n   public void run(ApplicationArguments args) throws Exception {\n       try (InputStream inputStream = resource.getInputStream()) {\n           String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\n           System.out.println(string);\n       }\n   }\n}\n</code></pre>\n</li>\n<li>Using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html\" rel=\"noreferrer\"><code>ResourceLoader</code></a>:\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBootResourcesApplication implements ApplicationRunner {\n    @Autowired // do not use field injection\n    private ResourceLoader resourceLoader;\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(SpringBootResourcesApplication.class, args);\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        Resource resource = resourceLoader.getResource(&quot;/hello&quot;);\n        try (InputStream inputStream = resource.getInputStream()) {\n            String string = new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\n            System.out.println(string);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>See also <a href=\"https://stackoverflow.com/a/66986555/6486622\">this</a> answer</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6733457,"reputation":179,"user_id":10217900,"display_name":"Sylvester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631893831,"creation_date":1631893831,"answer_id":69226259,"question_id":44399422,"body_markdown":"Try this:\r\n\r\nIn application.properties\r\n\r\n    app.jsonSchema=classpath:jsonschema.json\r\n\r\nOn your Properties pojo:\r\n\r\n**NOTE**: You can use any prefered way of reading configs from application.properties.\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;app&quot;) \r\n    public class ConfigProperties {\r\n    private Resource jsonSchema;\r\n\r\n    // standard getters and setters\r\n    }\r\n\r\nIn your class, read the resource from the Properties Pojo:\r\n\r\n    //Read the Resource and get the Input Stream\r\n    try (InputStream inStream = configProperties.getJsonSchema().getInputStream()) {\r\n       //From here you can manipulate the Input Stream as desired....\r\n       //Map the Input Stream to a Map\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map &lt;String, Object&gt; jsonMap = mapper.readValue(inStream, Map.class);\r\n        //Convert the Map to a JSON obj\r\n        JSONObject json = new JSONObject(jsonMap);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"Read file from resources folder in Spring Boot","body":"<p>Try this:</p>\n<p>In application.properties</p>\n<pre><code>app.jsonSchema=classpath:jsonschema.json\n</code></pre>\n<p>On your Properties pojo:</p>\n<p><strong>NOTE</strong>: You can use any prefered way of reading configs from application.properties.</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;app&quot;) \npublic class ConfigProperties {\nprivate Resource jsonSchema;\n\n// standard getters and setters\n}\n</code></pre>\n<p>In your class, read the resource from the Properties Pojo:</p>\n<pre><code>//Read the Resource and get the Input Stream\ntry (InputStream inStream = configProperties.getJsonSchema().getInputStream()) {\n   //From here you can manipulate the Input Stream as desired....\n   //Map the Input Stream to a Map\n    ObjectMapper mapper = new ObjectMapper();\n    Map &lt;String, Object&gt; jsonMap = mapper.readValue(inStream, Map.class);\n    //Convert the Map to a JSON obj\n    JSONObject json = new JSONObject(jsonMap);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11439295,"reputation":679,"user_id":8385477,"display_name":"srp"},"score":20,"creation_date":1638340767,"post_id":69269567,"comment_id":124059458,"body_markdown":"This won&#39;t work in executable jar. Instead we can use `InputStream inputStream = resource.getInputStream();`","body":"This won&#39;t work in executable jar. Instead we can use <code>InputStream inputStream = resource.getInputStream();</code>"}],"tags":[],"owner":{"account_id":11817668,"reputation":2196,"user_id":8647537,"display_name":"Taha Malik"},"comment_count":1,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1632232212,"creation_date":1632230144,"answer_id":69269567,"question_id":44399422,"body_markdown":"2021 The Best Way\r\n-----------------\r\n-----------------\r\n\r\nSimplest way to read file is: \r\n```java\r\n    Resource resource = new ClassPathResource(&quot;jsonSchema.json&quot;);\r\n    FileInputStream file = new FileInputStream(resource.getFile());\r\n```\r\n","title":"Read file from resources folder in Spring Boot","body":"<h2>2021 The Best Way</h2>\n<hr />\n<p>Simplest way to read file is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Resource resource = new ClassPathResource(&quot;jsonSchema.json&quot;);\n    FileInputStream file = new FileInputStream(resource.getFile());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24845855,"reputation":11,"user_id":18723401,"display_name":"Andrei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649238046,"creation_date":1649238046,"answer_id":71764431,"question_id":44399422,"body_markdown":"You need to sanitize the path and replace %20 with a space, or rename your directory. Then it should work.\r\n\r\n    FileNotFoundException: /home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json","title":"Read file from resources folder in Spring Boot","body":"<p>You need to sanitize the path and replace %20 with a space, or rename your directory. Then it should work.</p>\n<pre><code>FileNotFoundException: /home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649250257,"creation_date":1649250257,"answer_id":71767296,"question_id":44399422,"body_markdown":"just to add my solution as another 2 cents together with all other answers. I am using the Spring [DefaultResourceLoader][1] to get a [ResourceLoader][2]. Then the Spring [FileCopyUtils][3] to get the content of the resource file to a string.\r\n\r\n\r\n```\r\nimport static java.nio.charset.StandardCharsets.UTF_8;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.io.UncheckedIOException;\r\n\r\nimport org.springframework.core.io.DefaultResourceLoader;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.ResourceLoader;\r\nimport org.springframework.util.FileCopyUtils;\r\n\r\npublic class ResourceReader {\r\n    public static String readResourceFile(String path) {\r\n        ResourceLoader resourceLoader = new DefaultResourceLoader();\r\n        Resource resource = resourceLoader.getResource(path);\r\n        return asString(resource);\r\n    }\r\n\r\n    private static String asString(Resource resource) {\r\n        try (Reader reader = new InputStreamReader(resource.getInputStream(), UTF_8)) {\r\n            return FileCopyUtils.copyToString(reader);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/DefaultResourceLoader.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/FileCopyUtils.html","title":"Read file from resources folder in Spring Boot","body":"<p>just to add my solution as another 2 cents together with all other answers. I am using the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/DefaultResourceLoader.html\" rel=\"nofollow noreferrer\">DefaultResourceLoader</a> to get a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html\" rel=\"nofollow noreferrer\">ResourceLoader</a>. Then the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/FileCopyUtils.html\" rel=\"nofollow noreferrer\">FileCopyUtils</a> to get the content of the resource file to a string.</p>\n<pre><code>import static java.nio.charset.StandardCharsets.UTF_8;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.UncheckedIOException;\n\nimport org.springframework.core.io.DefaultResourceLoader;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.util.FileCopyUtils;\n\npublic class ResourceReader {\n    public static String readResourceFile(String path) {\n        ResourceLoader resourceLoader = new DefaultResourceLoader();\n        Resource resource = resourceLoader.getResource(path);\n        return asString(resource);\n    }\n\n    private static String asString(Resource resource) {\n        try (Reader reader = new InputStreamReader(resource.getInputStream(), UTF_8)) {\n            return FileCopyUtils.copyToString(reader);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666694034,"creation_date":1649333586,"answer_id":71781975,"question_id":44399422,"body_markdown":"Here is a solution with `ResourceUtils` and Java 11 `Files.readString` which takes care of UTF-8 encoding and resource closing \r\n\r\n\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    import static org.springframework.util.FileCopyUtils.copyToByteArray;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public  JsonNode getJsonData() throws IOException {\r\n      ClassPathResource classPathResource = new \r\n      ClassPathResource(&quot;assets/data.json&quot;);\r\n            byte[] byteArray = \r\n      copyToByteArray(classPathResource.getInputStream());\r\n            return new ObjectMapper() //\r\n                    .readTree(new String(byteArray, UTF_8));\r\n    }\r\n\r\nOr even simpler\r\n\r\nStep 1 : Create your resource file lets say under /src/main/resources/data/test.data &lt;br&gt;\r\nStep 2 : Define the value in `application.properties/yml`\r\n\r\n    com.test.package.data=#{new org.springframework.core.io.ClassPathResource(&quot;/data/test.data&quot;).getFile().getAbsolutePath()}\r\n\r\nStep 3 : Get the file in your code\r\n\r\n    @Value(&quot;${com.test.package.data}&quot;)\r\n    private String dataFile;\r\n    \r\n    private void readResourceFile() {\r\n       Path path = Paths.get(dataFile);\r\n       List&lt;String&gt; allLines = Files.readAllLines(path);\r\n    }\r\n\r\n","title":"Read file from resources folder in Spring Boot","body":"<p>Here is a solution with <code>ResourceUtils</code> and Java 11 <code>Files.readString</code> which takes care of UTF-8 encoding and resource closing</p>\n<pre><code>import static java.nio.charset.StandardCharsets.UTF_8;\nimport static org.springframework.util.FileCopyUtils.copyToByteArray;\nimport org.springframework.core.io.ClassPathResource;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic  JsonNode getJsonData() throws IOException {\n  ClassPathResource classPathResource = new \n  ClassPathResource(&quot;assets/data.json&quot;);\n        byte[] byteArray = \n  copyToByteArray(classPathResource.getInputStream());\n        return new ObjectMapper() //\n                .readTree(new String(byteArray, UTF_8));\n}\n</code></pre>\n<p>Or even simpler</p>\n<p>Step 1 : Create your resource file lets say under /src/main/resources/data/test.data <br>\nStep 2 : Define the value in <code>application.properties/yml</code></p>\n<pre><code>com.test.package.data=#{new org.springframework.core.io.ClassPathResource(&quot;/data/test.data&quot;).getFile().getAbsolutePath()}\n</code></pre>\n<p>Step 3 : Get the file in your code</p>\n<pre><code>@Value(&quot;${com.test.package.data}&quot;)\nprivate String dataFile;\n\nprivate void readResourceFile() {\n   Path path = Paths.get(dataFile);\n   List&lt;String&gt; allLines = Files.readAllLines(path);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675485176,"creation_date":1675485176,"answer_id":75342961,"question_id":44399422,"body_markdown":"Nowadays, in 2023, Java users should be able to read a classpath file more easily. \r\nWith a simple instruction such as `new File(&quot;classpath:path-to-file&quot;)`.","title":"Read file from resources folder in Spring Boot","body":"<p>Nowadays, in 2023, Java users should be able to read a classpath file more easily.\nWith a simple instruction such as <code>new File(&quot;classpath:path-to-file&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677614384,"creation_date":1677614384,"answer_id":75596753,"question_id":44399422,"body_markdown":"```java\r\n private void managerWriteFileToClasspath() throws IOException {\r\n        //get absolute path\r\n        File file = ResourceUtils.getFile(&quot;classpath:application.yml&quot;);\r\n        //get path to directory when is application.yml\r\n        String parent = file.getParent();\r\n\r\n        String separator = File.separator; //separator for various OS\r\n\r\n        //create directory into src/main/resources.\r\n        // You will see in target/classes\r\n        String directoryPath = parent + separator + &quot;data&quot;;\r\n        Path newFilePath = Paths.get(directoryPath);\r\n        Files.createDirectory(newFilePath);\r\n\r\n        //create file into directory src/main/resources/data\r\n        String fileTxt = parent + separator + &quot;data&quot; + separator + &quot;example.txt&quot;;\r\n        String str = &quot;Hello hello&quot;;\r\n        try(BufferedWriter writer = new BufferedWriter(new FileWriter(fileTxt))){\r\n            writer.write(str);\r\n        }\r\n\r\n        //read file in classpath (src/main/resources/data)\r\n        String fileInClasspath = readFileInClasspath(&quot;data/example.txt&quot;);\r\n        System.out.println(fileInClasspath);\r\n    }\r\n\r\n\r\n    private String readFileInClasspath(String filename) throws IOException {\r\n        String fileContent ;\r\n        try {\r\n            File file = ResourceUtils.getFile(&quot;classpath:&quot; + filename);\r\n            Path path = file.toPath();\r\n            Stream&lt;String&gt; lines = Files.lines(path);\r\n            fileContent = lines.collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException ex) {\r\n            throw ex;\r\n        }\r\n\r\n        return  fileContent;\r\n    }\r\n\r\n```","title":"Read file from resources folder in Spring Boot","body":"<pre class=\"lang-java prettyprint-override\"><code> private void managerWriteFileToClasspath() throws IOException {\n        //get absolute path\n        File file = ResourceUtils.getFile(&quot;classpath:application.yml&quot;);\n        //get path to directory when is application.yml\n        String parent = file.getParent();\n\n        String separator = File.separator; //separator for various OS\n\n        //create directory into src/main/resources.\n        // You will see in target/classes\n        String directoryPath = parent + separator + &quot;data&quot;;\n        Path newFilePath = Paths.get(directoryPath);\n        Files.createDirectory(newFilePath);\n\n        //create file into directory src/main/resources/data\n        String fileTxt = parent + separator + &quot;data&quot; + separator + &quot;example.txt&quot;;\n        String str = &quot;Hello hello&quot;;\n        try(BufferedWriter writer = new BufferedWriter(new FileWriter(fileTxt))){\n            writer.write(str);\n        }\n\n        //read file in classpath (src/main/resources/data)\n        String fileInClasspath = readFileInClasspath(&quot;data/example.txt&quot;);\n        System.out.println(fileInClasspath);\n    }\n\n\n    private String readFileInClasspath(String filename) throws IOException {\n        String fileContent ;\n        try {\n            File file = ResourceUtils.getFile(&quot;classpath:&quot; + filename);\n            Path path = file.toPath();\n            Stream&lt;String&gt; lines = Files.lines(path);\n            fileContent = lines.collect(Collectors.joining(&quot;\\n&quot;));\n        } catch (IOException ex) {\n            throw ex;\n        }\n\n        return  fileContent;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683546677,"creation_date":1683546677,"answer_id":76200323,"question_id":44399422,"body_markdown":"The easiest way to do it using [PathMatchingResourcePatternResolver][1],\r\n\r\n    PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n\r\n    Resource[] resources = resolver.getResources(&quot;classpath:*.json&quot;);\r\n\r\n    for (Resource resource: resources) {\r\n        JsonNode mySchema = JsonLoader.fromFile(resource.getFile());\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html","title":"Read file from resources folder in Spring Boot","body":"<p>The easiest way to do it using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"nofollow noreferrer\">PathMatchingResourcePatternResolver</a>,</p>\n<pre><code>PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n\nResource[] resources = resolver.getResources(&quot;classpath:*.json&quot;);\n\nfor (Resource resource: resources) {\n    JsonNode mySchema = JsonLoader.fromFile(resource.getFile());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689751045,"creation_date":1689751045,"answer_id":76718816,"question_id":44399422,"body_markdown":"**Short and Simple:**\r\n\r\nWorks both in IDE and Jar.\r\nIf your file is under `resource` folder:\r\n\r\n    InputStream inputStream = getClass().getResourceAsStream(&quot;/file.txt&quot;);\r\n\r\n If your file is under `resource/folder` then simply change to:\r\n\r\n    InputStream inputStream = getClass().getResourceAsStream(&quot;/folder/file.txt&quot;);\r\n\r\n","title":"Read file from resources folder in Spring Boot","body":"<p><strong>Short and Simple:</strong></p>\n<p>Works both in IDE and Jar.\nIf your file is under <code>resource</code> folder:</p>\n<pre><code>InputStream inputStream = getClass().getResourceAsStream(&quot;/file.txt&quot;);\n</code></pre>\n<p>If your file is under <code>resource/folder</code> then simply change to:</p>\n<pre><code>InputStream inputStream = getClass().getResourceAsStream(&quot;/folder/file.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":2613783,"reputation":3977,"user_id":2420986,"accept_rate":60,"display_name":"g3blv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553662,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"answer_count":28,"score":208,"last_activity_date":1689751045,"creation_date":1496781522,"question_id":44399422,"body_markdown":"I&#39;m using Spring Boot and `json-schema-validator`. I&#39;m trying to read a file called `jsonschema.json` from the `resources` folder. I&#39;ve tried a few different ways but I can&#39;t get it to work. This is my code.\r\n\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    File file = new File(classLoader.getResource(&quot;jsonschema.json&quot;).getFile());\r\n    JsonNode mySchema = JsonLoader.fromFile(file);\r\n\r\nThis is the location of the file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here I can see the file in the `classes` folder.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut when I run the code I get the following error.\r\n\r\n    jsonSchemaValidator error: java.io.FileNotFoundException: /home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json (No such file or directory)\r\n\r\nWhat is it I&#39;m doing wrong in my code?\r\n\r\n  [1]: https://i.stack.imgur.com/N3UzB.png\r\n  [2]: https://i.stack.imgur.com/waBk3.png","title":"Read file from resources folder in Spring Boot","body":"<p>I'm using Spring Boot and <code>json-schema-validator</code>. I'm trying to read a file called <code>jsonschema.json</code> from the <code>resources</code> folder. I've tried a few different ways but I can't get it to work. This is my code.</p>\n\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nFile file = new File(classLoader.getResource(\"jsonschema.json\").getFile());\nJsonNode mySchema = JsonLoader.fromFile(file);\n</code></pre>\n\n<p>This is the location of the file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3UzB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N3UzB.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here I can see the file in the <code>classes</code> folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/waBk3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/waBk3.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I run the code I get the following error.</p>\n\n<pre><code>jsonSchemaValidator error: java.io.FileNotFoundException: /home/user/Dev/Java/Java%20Programs/SystemRoutines/target/classes/jsonschema.json (No such file or directory)\n</code></pre>\n\n<p>What is it I'm doing wrong in my code?</p>\n"},{"tags":["java","object","interface","uml","diagram"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689750198,"creation_date":1689750198,"answer_id":76718737,"question_id":76717358,"body_markdown":"I will not provide you the solution for your specific diagram. I&#39;d rather provide some hints to help you solve these questions:\r\n\r\n* For every interface, find the classes that expose all the operations of the interface with the exact same signature (operation name, return types, and parameters). These classes are excellent candidates for a realization relationship (doted line and hollow triangle pointing to the interface)\r\n* For every property that has the type B in a class A, you have a potential association between A to B. The association end on B side would have a role name that matches the property name and the same multiplicity. Ideally you&#39;d refactor the diagram removing the property from the class body, because it&#39;ll be redundant with the associatiin. \r\n* then look for properties in one class that seem to refer to an id in the other class (same type, suggesting name,...). These are candidates for an association between the two classes, but analysis needs to confirm it because it&#39;s only a first guess\r\n* for every operation in a class A that uses a parameter of type B or returns a type B, there is a dependency relationship from A to B. But don&#39;t show it if there&#39;s already an association. And don&#39;t show it if it clutters your diagram. \r\n","title":"Identifying relations between Java classes for this UML Diagram?","body":"<p>I will not provide you the solution for your specific diagram. I'd rather provide some hints to help you solve these questions:</p>\n<ul>\n<li>For every interface, find the classes that expose all the operations of the interface with the exact same signature (operation name, return types, and parameters). These classes are excellent candidates for a realization relationship (doted line and hollow triangle pointing to the interface)</li>\n<li>For every property that has the type B in a class A, you have a potential association between A to B. The association end on B side would have a role name that matches the property name and the same multiplicity. Ideally you'd refactor the diagram removing the property from the class body, because it'll be redundant with the associatiin.</li>\n<li>then look for properties in one class that seem to refer to an id in the other class (same type, suggesting name,...). These are candidates for an association between the two classes, but analysis needs to confirm it because it's only a first guess</li>\n<li>for every operation in a class A that uses a parameter of type B or returns a type B, there is a dependency relationship from A to B. But don't show it if there's already an association. And don't show it if it clutters your diagram.</li>\n</ul>\n"}],"owner":{"account_id":25736633,"reputation":21,"user_id":19491246,"display_name":"Adaxil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1689750198,"creation_date":1689729171,"question_id":76717358,"body_markdown":"I have this UML classes, but the relations are too confusing, is there a forum to try identifying relations like association, composition, etc.\r\nOr even better, help me to identify them.\r\nMy professor thought it was a good idea not teaching this and making it part of a project months later.\r\nThanks in advance guys!!\r\n[Here a pic of the classes in question.][1]\r\n\r\n  [1]: https://i.stack.imgur.com/nPli9.png","title":"Identifying relations between Java classes for this UML Diagram?","body":"<p>I have this UML classes, but the relations are too confusing, is there a forum to try identifying relations like association, composition, etc.\nOr even better, help me to identify them.\nMy professor thought it was a good idea not teaching this and making it part of a project months later.\nThanks in advance guys!!\n<a href=\"https://i.stack.imgur.com/nPli9.png\" rel=\"nofollow noreferrer\">Here a pic of the classes in question.</a></p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676204392,"post_id":75424523,"comment_id":133086636,"body_markdown":"Please post the exception stacktrace as code formatted text, not as a screenshot.","body":"Please post the exception stacktrace as code formatted text, not as a screenshot."},{"owner":{"account_id":4523354,"reputation":526,"user_id":3675902,"display_name":"MirandaVeracruzDeLaHoyaCardina"},"score":0,"creation_date":1676217467,"post_id":75424523,"comment_id":133088793,"body_markdown":"The @Id annotations on \n  private TournamentEntity tournament;\nand\n  private PlayerEntity player;\nare obviously wrong! What would you like to do with that!?","body":"The @Id annotations on    private TournamentEntity tournament; and   private PlayerEntity player; are obviously wrong! What would you like to do with that!?"},{"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"score":0,"creation_date":1676219464,"post_id":75424523,"comment_id":133089195,"body_markdown":"@MirandaVeracruzDeLaHoyaCardina it is a Composite Primary Key and that part works as expected","body":"@MirandaVeracruzDeLaHoyaCardina it is a Composite Primary Key and that part works as expected"},{"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"score":0,"creation_date":1688034894,"post_id":75424523,"comment_id":135020986,"body_markdown":"@Ajiva Did you solve your issue? Could you please provide the solution - or upvote the correct answer!","body":"@Ajiva Did you solve your issue? Could you please provide the solution - or upvote the correct answer!"},{"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"score":0,"creation_date":1688081892,"post_id":75424523,"comment_id":135029830,"body_markdown":"@max So if I remember correctly, my TeamEntity was in the folder model.general. But this conflicts when you have two Entity managers using that class. Instead of one general table entity, i made two (almost) identical and put one of them in the &quot;Apex&quot; folder and one of them in the &quot;Valorant&quot; folder, together with the other models.","body":"@max So if I remember correctly, my TeamEntity was in the folder model.general. But this conflicts when you have two Entity managers using that class. Instead of one general table entity, i made two (almost) identical and put one of them in the &quot;Apex&quot; folder and one of them in the &quot;Valorant&quot; folder, together with the other models."}],"answers":[{"comments":[{"owner":{"account_id":4523354,"reputation":526,"user_id":3675902,"display_name":"MirandaVeracruzDeLaHoyaCardina"},"score":0,"creation_date":1676203351,"post_id":75424652,"comment_id":133086483,"body_markdown":"&quot;A @OneToOne relationship is bidirectional &quot;\n\nThis is wrong!","body":"&quot;A @OneToOne relationship is bidirectional &quot;  This is wrong!"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676170737,"creation_date":1676170737,"answer_id":75424652,"question_id":75424523,"body_markdown":"A @OneToOne relationship is bidirectional and has to be defined in both classes.\r\n\r\nLook at @ManyToOne and @OneToMany. If the unnamed class is, for example, called `MatchEntity`, then a Team has many matches (@OneToMany) and the Player in the match is a member of a team (@ManyToOne).","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>A @OneToOne relationship is bidirectional and has to be defined in both classes.</p>\n<p>Look at @ManyToOne and @OneToMany. If the unnamed class is, for example, called <code>MatchEntity</code>, then a Team has many matches (@OneToMany) and the Player in the match is a member of a team (@ManyToOne).</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676368691,"creation_date":1676368691,"answer_id":75446151,"question_id":75424523,"body_markdown":"It looks like Hibernate doesn&#39;t know that `TeamEntity` is an entity. Is that class properly scanned by Springs `@EntityScan`? Or did you make sure this class is listed in the persistence.xml?\r\n\r\nI think there is an open issue in the Hibernate issue tracker that is about improving the error message for this case, but I can&#39;t find it right now. If anyone digs it up, please add a comment to this answer.","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>It looks like Hibernate doesn't know that <code>TeamEntity</code> is an entity. Is that class properly scanned by Springs <code>@EntityScan</code>? Or did you make sure this class is listed in the persistence.xml?</p>\n<p>I think there is an open issue in the Hibernate issue tracker that is about improving the error message for this case, but I can't find it right now. If anyone digs it up, please add a comment to this answer.</p>\n"},{"tags":[],"owner":{"account_id":29047031,"reputation":1,"user_id":22250633,"display_name":"user22250633"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749915,"creation_date":1689749915,"answer_id":76718703,"question_id":75424523,"body_markdown":"By far, the most common cause of the BeanCreationException is Spring trying to inject a bean that doesn&#39;t exist in the context. Please refer [Spring BeanCreationException][1]\r\n\r\nThe @Entity for which Spring Boot can&#39;t find JDBC type.. I added @OneToMany relationship as it was applicable in my case and the exception got resolved.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-beancreationexception","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>By far, the most common cause of the BeanCreationException is Spring trying to inject a bean that doesn't exist in the context. Please refer <a href=\"https://www.baeldung.com/spring-beancreationexception\" rel=\"nofollow noreferrer\">Spring BeanCreationException</a></p>\n<p>The @Entity for which Spring Boot can't find JDBC type.. I added @OneToMany relationship as it was applicable in my case and the exception got resolved.</p>\n"}],"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689749915,"creation_date":1676167970,"question_id":75424523,"body_markdown":"I have seen different responses to similar cases but none seem to work for me.\r\n\r\nIn my Spring boot application, there are many entities connected to databases, but I get an error in one of them and it just doesn&#39;t make sense to me.\r\n\r\nThe error is as followed (full error down below) : \r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;valorantEntityManager&#39; defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n\r\nThe error is refering to the class TeamEntity. This class is a very simple entity class with a auto generated field &quot;id&quot;, a field &quot;name&quot; and a field &quot;players&quot; that is not being saved to the database. The class looks like this:\\\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teams&quot;)\r\npublic class TeamEntity {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  @Column\r\n  private String name;\r\n\r\n  @Transient\r\n  private List&lt;PlayerEntity&gt; players = new ArrayList&lt;PlayerEntity&gt;();\r\n\r\n  public TeamEntity() {\r\n  }\r\n\r\n  public TeamEntity(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public TeamEntity(String name, List&lt;PlayerEntity&gt; players) {\r\n    this.name = name;\r\n    this.players = players;\r\n  }\r\n\r\n  public void addPlayer(PlayerEntity player) {\r\n    players.add(player);\r\n  }\r\n\r\n  // getters and setters\r\n\r\n}\r\n\r\n```\r\n\r\nI doubt that it has to do something with it but the TeamEntity class is also linked in one other table:\r\n\r\n```\r\n@Id\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;tournament_id&quot;)\r\n  private TournamentEntity tournament;\r\n\r\n  @Id\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;player_id&quot;)\r\n  private PlayerEntity player;\r\n\r\n  @OneToOne(cascade = CascadeType.PERSIST)\r\n  @JoinColumn(name = &quot;team_id&quot;)\r\n  private TeamEntity team;\r\n```\r\n\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;valorantEntityManager&#39; defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at com.example.tournaments.TournamentsApplication.main(TournamentsApplication.java:10) ~[classes/:na]\r\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\r\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\r\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        ... 16 common frames omitted\r\n```\r\n\r\nIf it helps, this is the &quot;teams&quot; table:\r\n[![enter image description here](https://i.stack.imgur.com/vS1RC.png)](https://i.stack.imgur.com/vS1RC.png)\r\n\r\nI already tried to remove the players and just have the fields &quot;id&quot; and &quot;name&quot;, but I get the same error so it would very much suprise me if &quot;players&quot; was the problem.","title":"Java Spring Boot, Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I have seen different responses to similar cases but none seem to work for me.</p>\n<p>In my Spring boot application, there are many entities connected to databases, but I get an error in one of them and it just doesn't make sense to me.</p>\n<p>The error is as followed (full error down below) :</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'valorantEntityManager' defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for <code>com.example.tournaments.model.general.TeamEntity</code></p>\n</blockquote>\n<p>The error is refering to the class TeamEntity. This class is a very simple entity class with a auto generated field &quot;id&quot;, a field &quot;name&quot; and a field &quot;players&quot; that is not being saved to the database. The class looks like this:\\</p>\n<pre><code>@Entity\n@Table(name = &quot;teams&quot;)\npublic class TeamEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  @Column\n  private String name;\n\n  @Transient\n  private List&lt;PlayerEntity&gt; players = new ArrayList&lt;PlayerEntity&gt;();\n\n  public TeamEntity() {\n  }\n\n  public TeamEntity(String name) {\n    this.name = name;\n  }\n\n  public TeamEntity(String name, List&lt;PlayerEntity&gt; players) {\n    this.name = name;\n    this.players = players;\n  }\n\n  public void addPlayer(PlayerEntity player) {\n    players.add(player);\n  }\n\n  // getters and setters\n\n}\n\n</code></pre>\n<p>I doubt that it has to do something with it but the TeamEntity class is also linked in one other table:</p>\n<pre><code>@Id\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;tournament_id&quot;)\n  private TournamentEntity tournament;\n\n  @Id\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;player_id&quot;)\n  private PlayerEntity player;\n\n  @OneToOne(cascade = CascadeType.PERSIST)\n  @JoinColumn(name = &quot;team_id&quot;)\n  private TeamEntity team;\n</code></pre>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'valorantEntityManager' defined in class path resource [com/example/tournaments/config/ValorantConfig.class]: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.example.tournaments.TournamentsApplication.main(TournamentsApplication.java:10) ~[classes/:na]\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.example.tournaments.model.general.TeamEntity`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\n        at java.base/java.util.ArrayList.removeIf(Unknown Source) ~[na:na]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 16 common frames omitted\n</code></pre>\n<p>If it helps, this is the &quot;teams&quot; table:\n<a href=\"https://i.stack.imgur.com/vS1RC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vS1RC.png\" alt=\"enter image description here\" /></a></p>\n<p>I already tried to remove the players and just have the fields &quot;id&quot; and &quot;name&quot;, but I get the same error so it would very much suprise me if &quot;players&quot; was the problem.</p>\n"},{"tags":["java","lambda","filter","java-8","completable-future"],"comments":[{"owner":{"account_id":2798731,"reputation":1101,"user_id":2407413,"accept_rate":91,"display_name":"akalikin"},"score":0,"creation_date":1479732224,"post_id":40720461,"comment_id":68667654,"body_markdown":"Use `Stream.of()` and `Stream.empty()` ?","body":"Use <code>Stream.of()</code> and <code>Stream.empty()</code> ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1479737425,"post_id":40720461,"comment_id":68671228,"body_markdown":"Don’t call `.orElse(null)`, then you don’t need to test for `null`. So the parameter type of `convertToList` would be `List&lt;CompletableFuture&lt;Optional&lt;T&gt;&gt;&gt;` and it can just do a `.filter(Optional::isPresent).map(Optional::get)` after the `join`…","body":"Don’t call <code>.orElse(null)</code>, then you don’t need to test for <code>null</code>. So the parameter type of <code>convertToList</code> would be <code>List&lt;CompletableFuture&lt;Optional&lt;T&gt;&gt;&gt;</code> and it can just do a <code>.filter(Optional::isPresent).map(Optional::get)</code> after the <code>join</code>…"},{"owner":{"account_id":6671291,"reputation":717,"user_id":5289248,"accept_rate":62,"display_name":"Amir"},"score":0,"creation_date":1479738853,"post_id":40720461,"comment_id":68672162,"body_markdown":"@Holger yes, it&#39;s an option to do filtering (either on optionals or null values) in `convertToList`, I&#39;d like to do everything in one place though, and `convertToList` can be a universal utility function","body":"@Holger yes, it&#39;s an option to do filtering (either on optionals or null values) in <code>convertToList</code>, I&#39;d like to do everything in one place though, and <code>convertToList</code> can be a universal utility function"},{"owner":{"account_id":5942532,"reputation":571,"user_id":4673214,"display_name":"Gene Taylor"},"score":0,"creation_date":1479772934,"post_id":40720461,"comment_id":68690213,"body_markdown":"Why not just write a utility function that goes `List&lt;Option&lt;T&gt;&gt; -&gt; List&lt;T&gt;` ?","body":"Why not just write a utility function that goes <code>List&lt;Option&lt;T&gt;&gt; -&gt; List&lt;T&gt;</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481106928,"creation_date":1481106928,"answer_id":41015158,"question_id":40720461,"body_markdown":"The best way would probably be to change `convertToList()` so that it does not return a future of list, but of stream instead:\r\n\r\n    private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\r\n        return CompletableFuture.allOf(toConvert.stream().toArray(CompletableFuture[]::new))\r\n                .thenApply(\r\n                        v -&gt; toConvert.stream()\r\n                                .map(CompletableFuture::join)\r\n                );\r\n    }\r\n\r\n\r\nThis will be more reusable as the method will allow better chaining and will not force the caller to work with a list, while still allowing to easily get a list with a simple collect.\r\n\r\nYou can then simply filter that stream to remove empty optionals:\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\r\n        .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\r\n                listOfStuff.stream()\r\n                        .map(this::asyncCall2)\r\n                        .collect(Collectors.toList())\r\n            )\r\n            .thenApply(stream -&gt;\r\n                    stream.filter(Optional::isPresent)\r\n                            .map(Optional::get)\r\n                            .collect(Collectors.toList())\r\n            )\r\n\r\n        );\r\n\r\nYou can even improve this a little further by changing `convertToFutureOfStream()` to take a stream as argument as well:\r\n\r\n    private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(Stream&lt;CompletableFuture&lt;T&gt;&gt; stream) {\r\n        CompletableFuture&lt;T&gt;[] futures = stream.toArray(CompletableFuture[]::new);\r\n        return CompletableFuture.allOf(futures)\r\n                .thenApply(v -&gt; Arrays.stream(futures).map(CompletableFuture::join));\r\n    }\r\n\r\n(unfortunately this raises an unchecked assignment warning because of the array of generic types)\r\n\r\nWhich then gives\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\r\n        .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\r\n                    listOfStuff.stream().map(this::asyncCall2)\r\n                )\r\n            .thenApply(stream -&gt;\r\n                    stream.filter(Optional::isPresent)\r\n                            .map(Optional::get)\r\n                            .collect(Collectors.toList())\r\n            )\r\n\r\n        );\r\n\r\n","title":"CompletableFutures and filtering based on values that are inside","body":"<p>The best way would probably be to change <code>convertToList()</code> so that it does not return a future of list, but of stream instead:</p>\n\n<pre><code>private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\n    return CompletableFuture.allOf(toConvert.stream().toArray(CompletableFuture[]::new))\n            .thenApply(\n                    v -&gt; toConvert.stream()\n                            .map(CompletableFuture::join)\n            );\n}\n</code></pre>\n\n<p>This will be more reusable as the method will allow better chaining and will not force the caller to work with a list, while still allowing to easily get a list with a simple collect.</p>\n\n<p>You can then simply filter that stream to remove empty optionals:</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\n    .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\n            listOfStuff.stream()\n                    .map(this::asyncCall2)\n                    .collect(Collectors.toList())\n        )\n        .thenApply(stream -&gt;\n                stream.filter(Optional::isPresent)\n                        .map(Optional::get)\n                        .collect(Collectors.toList())\n        )\n\n    );\n</code></pre>\n\n<p>You can even improve this a little further by changing <code>convertToFutureOfStream()</code> to take a stream as argument as well:</p>\n\n<pre><code>private &lt;T&gt; CompletableFuture&lt;Stream&lt;T&gt;&gt; convertToFutureOfStream(Stream&lt;CompletableFuture&lt;T&gt;&gt; stream) {\n    CompletableFuture&lt;T&gt;[] futures = stream.toArray(CompletableFuture[]::new);\n    return CompletableFuture.allOf(futures)\n            .thenApply(v -&gt; Arrays.stream(futures).map(CompletableFuture::join));\n}\n</code></pre>\n\n<p>(unfortunately this raises an unchecked assignment warning because of the array of generic types)</p>\n\n<p>Which then gives</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall()\n    .thenCompose(listOfStuff -&gt; convertToFutureOfStream(\n                listOfStuff.stream().map(this::asyncCall2)\n            )\n        .thenApply(stream -&gt;\n                stream.filter(Optional::isPresent)\n                        .map(Optional::get)\n                        .collect(Collectors.toList())\n        )\n\n    );\n</code></pre>\n"}],"owner":{"account_id":6671291,"reputation":717,"user_id":5289248,"accept_rate":62,"display_name":"Amir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689749861,"creation_date":1479732065,"question_id":40720461,"body_markdown":"I&#39;m in a bit of confusion right now, so I have a method that should return `CompletableFuture&lt;List&lt;A&gt;&gt;`\r\n\r\ninside the method is:\r\n\r\n    CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall().thenApply(....)\r\n    .thenCompose(listOfStuff -&gt; convertToList(listOfStuff.stream().map(\r\n         key -&gt; asyncCall2(key)\r\n            .thenApply(optionalValue -&gt; optionalValue.orElse(null))\r\n    ).collect(Collectors.toList()));\r\n\r\nand `convertToList()` simply joins futures to convert `CompletableFuture&lt;List&lt;ComputableFuture&lt;A&gt;&gt;&gt;` into `CompletableFuture&lt;List&lt;A&gt;&gt;`\r\n\r\nBasically my intention is to filter null values that emerge from `optionalValue.orElse(null)` And it would be easy to do filter before collecting it all to list in the last line, but if I use it just before `.collect` it is working over CompletableFutures\r\n\r\nI suspect there&#39;s a lot of restructuring I can do in my code. \r\n\r\nEDIT: \r\n\r\n    private&lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; convertToList(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\r\n        return CompletableFuture.allOf(toConvert.toArray(new CompletableFuture[toConvert.size()]))\r\n                .thenApply(v -&gt; toConvert.stream()\r\n                        .map(CompletableFuture::join)\r\n                        .collect(Collectors.toList())\r\n                );\r\n    }\r\n\r\n","title":"CompletableFutures and filtering based on values that are inside","body":"<p>I'm in a bit of confusion right now, so I have a method that should return <code>CompletableFuture&lt;List&lt;A&gt;&gt;</code></p>\n\n<p>inside the method is:</p>\n\n<pre><code>CompletableFuture&lt;List&lt;String&gt;&gt; toReturn = asyncCall().thenApply(....)\n.thenCompose(listOfStuff -&gt; convertToList(listOfStuff.stream().map(\n     key -&gt; asyncCall2(key)\n        .thenApply(optionalValue -&gt; optionalValue.orElse(null))\n).collect(Collectors.toList()));\n</code></pre>\n\n<p>and <code>convertToList()</code> simply joins futures to convert <code>CompletableFuture&lt;List&lt;ComputableFuture&lt;A&gt;&gt;&gt;</code> into <code>CompletableFuture&lt;List&lt;A&gt;&gt;</code></p>\n\n<p>Basically my intention is to filter null values that emerge from <code>optionalValue.orElse(null)</code> And it would be easy to do filter before collecting it all to list in the last line, but if I use it just before <code>.collect</code> it is working over CompletableFutures</p>\n\n<p>I suspect there's a lot of restructuring I can do in my code. </p>\n\n<p>EDIT: </p>\n\n<pre><code>private&lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; convertToList(List&lt;CompletableFuture&lt;T&gt;&gt; toConvert) {\n    return CompletableFuture.allOf(toConvert.toArray(new CompletableFuture[toConvert.size()]))\n            .thenApply(v -&gt; toConvert.stream()\n                    .map(CompletableFuture::join)\n                    .collect(Collectors.toList())\n            );\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","audit-tables"],"comments":[{"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"score":0,"creation_date":1478047772,"post_id":40370709,"comment_id":67995127,"body_markdown":"Did you try this ? http://stackoverflow.com/questions/20483841/spring-data-createddate-annotation-doesnt-work-for-me","body":"Did you try this ? <a href=\"http://stackoverflow.com/questions/20483841/spring-data-createddate-annotation-doesnt-work-for-me\" title=\"spring data createddate annotation doesnt work for me\">stackoverflow.com/questions/20483841/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"score":6,"creation_date":1501415463,"post_id":40371540,"comment_id":77759573,"body_markdown":"I have the same config, but this sets values to `@CreatedBy` and `@LastModifiedBy` annotated field. Other fields that annotated as `@LastModifiedDate` and `@CreatedDate` is always null. How to fix this?","body":"I have the same config, but this sets values to <code>@CreatedBy</code> and <code>@LastModifiedBy</code> annotated field. Other fields that annotated as <code>@LastModifiedDate</code> and <code>@CreatedDate</code> is always null. How to fix this?"},{"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"score":0,"creation_date":1547478094,"post_id":40371540,"comment_id":95196237,"body_markdown":"Did you try what it says here: https://stackoverflow.com/a/50948632/986160","body":"Did you try what it says here: <a href=\"https://stackoverflow.com/a/50948632/986160\">stackoverflow.com/a/50948632/986160</a>"},{"owner":{"account_id":2820336,"reputation":1036,"user_id":2424227,"accept_rate":65,"display_name":"Mohamed Iqzas"},"score":0,"creation_date":1649037906,"post_id":40371540,"comment_id":126766871,"body_markdown":"for me it was required to pass AuditorAware ref even while using annotations: `@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)` where auditorProvider - @Bean function providing the AuditorAware instance","body":"for me it was required to pass AuditorAware ref even while using annotations: <code>@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)</code> where auditorProvider - @Bean function providing the AuditorAware instance"}],"tags":[],"owner":{"account_id":9132122,"reputation":3617,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"comment_count":3,"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1478053529,"creation_date":1478053529,"answer_id":40371540,"question_id":40370709,"body_markdown":"The `@CreatedDate` won&#39;t work by itself if you just put `@EntityListeners(AuditingEntityListener.class)` on your entities. In order, it&#39;ll work you have to do a little more configuration.\r\n\r\nLet&#39;s say that in your DB the field of `@CreatedDate` is String type, and you want to return the user that is currently logged in as a value for `@CreatedDate`, then do this: \r\n\r\n    public class CustomAuditorAware implements AuditorAware&lt;String&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic String getCurrentAuditor() {\r\n    \t\tString loggedName = SecurityContextHolder.getContext().getAuthentication().getName();\r\n            return loggedName;\r\n    \t}\r\n    \r\n    }\r\n\r\nYou can write there any functionality that fits your needs, but you certainly must have a bean that reference to a class that implements `AuditorAware&lt;your_type_in_db_of_created_date&gt;\r\n\r\nThe second part and equally important, is to create a bean that returns that class with annotation of `@EnableJpaAuditing`, like this:\r\n\r\n    @Configuration\r\n    @EnableJpaAuditing\r\n    public class AuditorConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic CustomAuditorAware auditorProvider(){\r\n    \t\treturn new CustomAuditorAware();\r\n    \t}\r\n    }\r\n\r\nif your poison is XML configuration then do this:\r\n\r\n    &lt;bean id=&quot;customAuditorAware&quot; class=&quot;org.moshe.arad.general.CustomAuditorAware&quot; /&gt;\r\n    \t&lt;jpa:auditing auditor-aware-ref=&quot;customAuditorAware&quot;/&gt;","title":"@CreatedDate annotation does not work with mysql","body":"<p>The <code>@CreatedDate</code> won't work by itself if you just put <code>@EntityListeners(AuditingEntityListener.class)</code> on your entities. In order, it'll work you have to do a little more configuration.</p>\n\n<p>Let's say that in your DB the field of <code>@CreatedDate</code> is String type, and you want to return the user that is currently logged in as a value for <code>@CreatedDate</code>, then do this: </p>\n\n<pre><code>public class CustomAuditorAware implements AuditorAware&lt;String&gt; {\n\n    @Override\n    public String getCurrentAuditor() {\n        String loggedName = SecurityContextHolder.getContext().getAuthentication().getName();\n        return loggedName;\n    }\n\n}\n</code></pre>\n\n<p>You can write there any functionality that fits your needs, but you certainly must have a bean that reference to a class that implements `AuditorAware</p>\n\n<p>The second part and equally important, is to create a bean that returns that class with annotation of <code>@EnableJpaAuditing</code>, like this:</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing\npublic class AuditorConfig {\n\n    @Bean\n    public CustomAuditorAware auditorProvider(){\n        return new CustomAuditorAware();\n    }\n}\n</code></pre>\n\n<p>if your poison is XML configuration then do this:</p>\n\n<pre><code>&lt;bean id=\"customAuditorAware\" class=\"org.moshe.arad.general.CustomAuditorAware\" /&gt;\n    &lt;jpa:auditing auditor-aware-ref=\"customAuditorAware\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":3,"creation_date":1586700837,"post_id":56873616,"comment_id":108218415,"body_markdown":"Thank you , this helped me resolve the `@CreatedDate` annotation not working. It is not advisable to use this annotation along with `@SpringBootApplication` . I had the following error while testing : _java.lang.IllegalArgumentException: JPA metamodel must not be empty!_ . Please read through [this](https://stackoverflow.com/a/60608499/4214241) answer as well . One should make sure the unrelated slices wont interfere while testing as well.","body":"Thank you , this helped me resolve the <code>@CreatedDate</code> annotation not working. It is not advisable to use this annotation along with <code>@SpringBootApplication</code> . I had the following error while testing : <i>java.lang.IllegalArgumentException: JPA metamodel must not be empty!</i> . Please read through <a href=\"https://stackoverflow.com/a/60608499/4214241\">this</a> answer as well . One should make sure the unrelated slices wont interfere while testing as well."}],"tags":[],"owner":{"account_id":4033760,"reputation":1718,"user_id":3318976,"display_name":"Ismail"},"comment_count":1,"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1562168077,"creation_date":1562168077,"answer_id":56873616,"question_id":40370709,"body_markdown":"I was Having this issue also and your solution helped me, Thanks, And I add some other annotations to work \r\n\r\nFist make sure you put in SpringApplication Configuration\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaAuditing\r\n\r\nSecond, make sure you use this annotation on your needed entities \r\n\r\n      @Entity\r\n      @Table\r\n      @EntityListeners(AuditingEntityListener.class)\r\n\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>I was Having this issue also and your solution helped me, Thanks, And I add some other annotations to work </p>\n\n<p>Fist make sure you put in SpringApplication Configuration</p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaAuditing\n</code></pre>\n\n<p>Second, make sure you use this annotation on your needed entities </p>\n\n<pre><code>  @Entity\n  @Table\n  @EntityListeners(AuditingEntityListener.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626518398,"creation_date":1626518398,"answer_id":68419732,"question_id":40370709,"body_markdown":"If you want to use java8 time classes:\r\n\r\n```\r\n@EnableJpaAuditing(dateTimeProviderRef = &quot;auditingDateTimeProvider&quot;)\r\n....\r\n\r\n@Bean(name = &quot;auditingDateTimeProvider&quot;)\r\npublic DateTimeProvider dateTimeProvider() {\r\n        return () -&gt; Optional.of(OffsetDateTime.now());\r\n}\r\n```","title":"@CreatedDate annotation does not work with mysql","body":"<p>If you want to use java8 time classes:</p>\n<pre><code>@EnableJpaAuditing(dateTimeProviderRef = &quot;auditingDateTimeProvider&quot;)\n....\n\n@Bean(name = &quot;auditingDateTimeProvider&quot;)\npublic DateTimeProvider dateTimeProvider() {\n        return () -&gt; Optional.of(OffsetDateTime.now());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17261083,"reputation":834,"user_id":12498947,"display_name":"Supuna Warusawithana"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1635860929,"creation_date":1634644478,"answer_id":69630348,"question_id":40370709,"body_markdown":"You can use @creationTimestamp and @UpdateTimestamp like this:\r\n\r\n\r\n```java\r\n  @CreationTimestamp\r\n  private Instant createdAt;\r\n\r\n  @UpdateTimestamp\r\n  private Instant updatedAt;\r\n```\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>You can use @creationTimestamp and @UpdateTimestamp like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @CreationTimestamp\n  private Instant createdAt;\n\n  @UpdateTimestamp\n  private Instant updatedAt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639394484,"creation_date":1639394484,"answer_id":70333826,"question_id":40370709,"body_markdown":"Without using JPA Entity listener, create date will not work as this is how JPA work for auditing and create or modify date.\r\n\r\njust modify code like below:\r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    class XYZ {\r\n    \r\n        @Setter(value = AccessLevel.NONE)\r\n        @CreatedDate\r\n        @Column(name = &quot;date_time&quot;)\r\n        private Date dateTime;\r\n    \r\n    \r\n    }","title":"@CreatedDate annotation does not work with mysql","body":"<p>Without using JPA Entity listener, create date will not work as this is how JPA work for auditing and create or modify date.</p>\n<p>just modify code like below:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\nclass XYZ {\n\n    @Setter(value = AccessLevel.NONE)\n    @CreatedDate\n    @Column(name = &quot;date_time&quot;)\n    private Date dateTime;\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1690010132,"post_id":76718670,"comment_id":135295861,"body_markdown":"someone else already mentioned `@EnableJpaAuditing`","body":"someone else already mentioned <code>@EnableJpaAuditing</code>"}],"tags":[],"owner":{"account_id":29046990,"reputation":1,"user_id":22250605,"display_name":"Rajesh Das"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749574,"creation_date":1689749574,"answer_id":76718670,"question_id":40370709,"body_markdown":"Add @EnableMongoAuditing or @EnableJpaAuditing as per your code","title":"@CreatedDate annotation does not work with mysql","body":"<p>Add @EnableMongoAuditing or @EnableJpaAuditing as per your code</p>\n"}],"owner":{"account_id":2083792,"reputation":4798,"user_id":4599824,"accept_rate":89,"display_name":"Fawzan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59908,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":40371540,"answer_count":6,"score":38,"last_activity_date":1689749574,"creation_date":1478047061,"question_id":40370709,"body_markdown":"I am new to spring and I am confused how @CreatedDate annotation works in an entity. \r\n\r\nI did a google search and there were many solutions, but none of them worked for me except one. I am confused why? \r\n\r\nThis is what I tried first \r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @CreatedDate\r\n        private Date created;\r\n    \r\n        public User(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n\r\nIt did not work. I got NULL for the value in `created` column. \r\n\r\nThen I did this. \r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @CreatedDate\r\n        private Date created = new Date();\r\n    \r\n        public User(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n\r\nThis actually stored the time stamp in the db. My question is most of the tutorials I followed suggested that I do not need `new Date()` to get the current time stamp. Looks like I do need that. Is there anything I am missing? \r\n\r\n","title":"@CreatedDate annotation does not work with mysql","body":"<p>I am new to spring and I am confused how @CreatedDate annotation works in an entity. </p>\n\n<p>I did a google search and there were many solutions, but none of them worked for me except one. I am confused why? </p>\n\n<p>This is what I tried first </p>\n\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n\n    @CreatedDate\n    private Date created;\n\n    public User(String name) {\n\n        this.name = name;\n    }\n\n    public User() {\n    }\n</code></pre>\n\n<p>It did not work. I got NULL for the value in <code>created</code> column. </p>\n\n<p>Then I did this. </p>\n\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n\n    @CreatedDate\n    private Date created = new Date();\n\n    public User(String name) {\n\n        this.name = name;\n    }\n\n    public User() {\n    }\n</code></pre>\n\n<p>This actually stored the time stamp in the db. My question is most of the tutorials I followed suggested that I do not need <code>new Date()</code> to get the current time stamp. Looks like I do need that. Is there anything I am missing? </p>\n"},{"tags":["java","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689745266,"post_id":76718234,"comment_id":135254837,"body_markdown":"Please show your code / k8s resources / stacktrace as a [mcve]","body":"Please show your code / k8s resources / stacktrace as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689749446,"creation_date":1689749028,"answer_id":76718612,"question_id":76718234,"body_markdown":"The error you are getting suggests a database connection leak or some very slow DB operations which cause all connections from the pool to hang.\r\n\r\nTo fix the problem, you first have to identify the source code which causes hanging connections and fix it.\r\n\r\nHere are some tips:\r\n* Check for hanging connections in the database, after you find them, identify the source code and inspect it\r\n* Use property `spring.datasource.hikari.leak-detection-threshold = 10000` to automatically detect and log leaks\r\n* Use property `logging.level.com.zaxxer.hikari = DEBUG` to see additional logs from Hikari\r\n* Use property `spring.jpa.open-in-view=false` to reduce lifetime of the connections\r\n* Checkout Vlad Mihalcea&#39;s article: [the-best-way-to-detect-database-connection-leaks][1]\r\n* Checkout related Stack Overflow questions such as [spring or hibernate connection leak][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/\r\n  [2]: https://stackoverflow.com/questions/27925914/spring-or-hibernate-connection-leak","title":"DB Connections in SpringBoot using HikariCP","body":"<p>The error you are getting suggests a database connection leak or some very slow DB operations which cause all connections from the pool to hang.</p>\n<p>To fix the problem, you first have to identify the source code which causes hanging connections and fix it.</p>\n<p>Here are some tips:</p>\n<ul>\n<li>Check for hanging connections in the database, after you find them, identify the source code and inspect it</li>\n<li>Use property <code>spring.datasource.hikari.leak-detection-threshold = 10000</code> to automatically detect and log leaks</li>\n<li>Use property <code>logging.level.com.zaxxer.hikari = DEBUG</code> to see additional logs from Hikari</li>\n<li>Use property <code>spring.jpa.open-in-view=false</code> to reduce lifetime of the connections</li>\n<li>Checkout Vlad Mihalcea's article: <a href=\"https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/\" rel=\"nofollow noreferrer\">the-best-way-to-detect-database-connection-leaks</a></li>\n<li>Checkout related Stack Overflow questions such as <a href=\"https://stackoverflow.com/questions/27925914/spring-or-hibernate-connection-leak\">spring or hibernate connection leak</a></li>\n</ul>\n"}],"owner":{"account_id":12883738,"reputation":47,"user_id":9317986,"display_name":"Manoj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1689749446,"creation_date":1689744798,"question_id":76718234,"body_markdown":"While I was performing a load test on the Restful service developed through Springboot and deployed as a microservice in Kubernetes cluster, I encountered an issue with DB connection pool size. On reading about the connection pooling, I have added Hikari configuration settings in &quot;application.properties&quot; file and tested again. The test was better and but still sometimes it fails with DB connection error like Connections are not available and connection timeout. I stop the load test and try to validate the service by invoking it separately, even then I see DB connection not available error. I end up resetting the Pod&#39;s to come out of this issue, is there a time when it Pod comes back to normal or is it needed the JVM to be restarted (in my case, it is Pod)? Please suggest\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:....\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    spring.main.allow-bean-definition-overriding=true\r\n    \r\n    #connection pool configuration\r\n    spring.datasource.hikari.pool-name=SVConnectionPool\r\n    spring.datasource.hikari.maximum-pool-size=60\r\n\r\nError seen in the logs\r\n\r\n    2023-07-19T05:59:46.455208060Z \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    2023-07-19T05:59:46.455436540Z Caused by: java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\r\n    2023-07-19T05:59:46.455448334Z \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\r\n    2023-07-19T05:59:46.455481188Z \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\r\n    2023-07-19T05:59:46.456083667Z \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\r\n    2023-07-19T05:59:46.456094566Z \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\r\n    2023-07-19T05:59:46.456286268Z \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\r\n    \t... 88 more\r\n    2023-07-19T05:59:46.456769448Z org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.","title":"DB Connections in SpringBoot using HikariCP","body":"<p>While I was performing a load test on the Restful service developed through Springboot and deployed as a microservice in Kubernetes cluster, I encountered an issue with DB connection pool size. On reading about the connection pooling, I have added Hikari configuration settings in &quot;application.properties&quot; file and tested again. The test was better and but still sometimes it fails with DB connection error like Connections are not available and connection timeout. I stop the load test and try to validate the service by invoking it separately, even then I see DB connection not available error. I end up resetting the Pod's to come out of this issue, is there a time when it Pod comes back to normal or is it needed the JVM to be restarted (in my case, it is Pod)? Please suggest</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:....\nspring.datasource.username=test\nspring.datasource.password=test\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\nspring.main.allow-bean-definition-overriding=true\n\n#connection pool configuration\nspring.datasource.hikari.pool-name=SVConnectionPool\nspring.datasource.hikari.maximum-pool-size=60\n</code></pre>\n<p>Error seen in the logs</p>\n<pre><code>2023-07-19T05:59:46.455208060Z  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2023-07-19T05:59:46.455436540Z Caused by: java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\n2023-07-19T05:59:46.455448334Z  at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\n2023-07-19T05:59:46.455481188Z  at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\n2023-07-19T05:59:46.456083667Z  at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\n2023-07-19T05:59:46.456094566Z  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\n2023-07-19T05:59:46.456286268Z  at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\n    ... 88 more\n2023-07-19T05:59:46.456769448Z org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: SVConnectionPool - Connection is not available, request timed out after 76386ms.\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":7,"creation_date":1689619006,"post_id":76707210,"comment_id":135236322,"body_markdown":"How do you verify that the loop continues when the entire boolean expression is false? What debugging steps have you done and what is the result from these steps?","body":"How do you verify that the loop continues when the entire boolean expression is false? What debugging steps have you done and what is the result from these steps?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1689619008,"post_id":76707210,"comment_id":135236324,"body_markdown":"BTW The only possible values of `nextInt(3)` are `0`, `1`, and `2` - so &quot;loop chooses a random value from 1 to 4&quot; is not correct","body":"BTW The only possible values of <code>nextInt(3)</code> are <code>0</code>, <code>1</code>, and <code>2</code> - so &quot;loop chooses a random value from 1 to 4&quot; is not correct"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689619377,"post_id":76707210,"comment_id":135236377,"body_markdown":"BTW2 `for (int x = 0; x &lt;= tamanhoDaSenha; x++)` is looping one time more than needed - I would prefer `senha.length() &lt; tamanhoDaSenha` (maybe in a `while`)","body":"BTW2 <code>for (int x = 0; x &lt;= tamanhoDaSenha; x++)</code> is looping one time more than needed - I would prefer <code>senha.length() &lt; tamanhoDaSenha</code> (maybe in a <code>while</code>)"}],"answers":[{"comments":[{"owner":{"account_id":25892407,"reputation":1,"user_id":22242048,"display_name":"GabrielEmDev"},"score":0,"creation_date":1689682999,"post_id":76707319,"comment_id":135245683,"body_markdown":"but even when naoColocar has none of these values it still doesnt stop","body":"but even when naoColocar has none of these values it still doesnt stop"},{"owner":{"account_id":12555337,"reputation":136,"user_id":9135271,"display_name":"AleksanderSzporka"},"score":0,"creation_date":1689749412,"post_id":76707319,"comment_id":135255468,"body_markdown":"Updated answer, please see","body":"Updated answer, please see"}],"tags":[],"owner":{"account_id":12555337,"reputation":136,"user_id":9135271,"display_name":"AleksanderSzporka"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689749394,"creation_date":1689619652,"answer_id":76707319,"question_id":76707210,"body_markdown":"You should rely on tests to make sure that the method you wrote works as required, so in this case I wrote some tests based on code you provided.\r\n\r\nPlease note that this is only example and you should not place model logic in test code and you should test method behaviour.\r\n\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(value = {\r\n            &quot;0,0,0,0&quot;, &quot;1,0,0,0&quot;, &quot;0,2,0,0&quot;, &quot;0,0,3,0&quot;, &quot;0,0,0,4&quot;, &quot;1,2,0,0&quot;, &quot;1,0,3,0&quot;, &quot;1,0,0,4&quot;,\r\n            &quot;0,2,3,0&quot;, &quot;0,2,0,4&quot;, &quot;0,0,3,4&quot;, &quot;1,2,3,0&quot;, &quot;1,2,0,4&quot;, &quot;0,2,3,4&quot;, &quot;1,0,3,4&quot;}, delimiter = &#39;,&#39;)\r\n    void shouldNaoColocarDoesNotHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\r\n        int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\r\n        whileNaoColocar(naoColocar);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @CsvSource(value = {&quot;1,2,3,4&quot;}, delimiter = &#39;,&#39;)\r\n    void shouldNaoColocarHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\r\n        int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\r\n        assertThrows(RuntimeException.class, () -&gt; whileNaoColocar(naoColocar));\r\n    }\r\n\r\n    void whileNaoColocar(int[] naoColocar) {\r\n        int counter = 0;\r\n        int numAleatorio = random.nextInt(4);\r\n        numAleatorio++;\r\n\r\n        while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio ||\r\n                naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\r\n            numAleatorio = random.nextInt(4);\r\n            numAleatorio++;\r\n            counter++;\r\n            if (counter &gt;= 100) throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nThese tests are passing, so that indicates that there is an error in your method logic when dealing with dataset `{1,2,3,4}`\r\n\r\nIn that case I suggest you to run your code with debugger and see why stop condition does not occur in your while loop.\r\n\r\n\r\n","title":"While loop doesn&#39;t stop even after condition is false","body":"<p>You should rely on tests to make sure that the method you wrote works as required, so in this case I wrote some tests based on code you provided.</p>\n<p>Please note that this is only example and you should not place model logic in test code and you should test method behaviour.</p>\n<pre><code>@ParameterizedTest\n@CsvSource(value = {\n        &quot;0,0,0,0&quot;, &quot;1,0,0,0&quot;, &quot;0,2,0,0&quot;, &quot;0,0,3,0&quot;, &quot;0,0,0,4&quot;, &quot;1,2,0,0&quot;, &quot;1,0,3,0&quot;, &quot;1,0,0,4&quot;,\n        &quot;0,2,3,0&quot;, &quot;0,2,0,4&quot;, &quot;0,0,3,4&quot;, &quot;1,2,3,0&quot;, &quot;1,2,0,4&quot;, &quot;0,2,3,4&quot;, &quot;1,0,3,4&quot;}, delimiter = ',')\nvoid shouldNaoColocarDoesNotHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\n    int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\n    whileNaoColocar(naoColocar);\n}\n\n@ParameterizedTest\n@CsvSource(value = {&quot;1,2,3,4&quot;}, delimiter = ',')\nvoid shouldNaoColocarHaveInfiniteWhileLoop(ArgumentsAccessor aa) {\n    int[] naoColocar = {aa.getInteger(0), aa.getInteger(1), aa.getInteger(2), aa.getInteger(3)};\n    assertThrows(RuntimeException.class, () -&gt; whileNaoColocar(naoColocar));\n}\n\nvoid whileNaoColocar(int[] naoColocar) {\n    int counter = 0;\n    int numAleatorio = random.nextInt(4);\n    numAleatorio++;\n\n    while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio ||\n            naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\n        numAleatorio = random.nextInt(4);\n        numAleatorio++;\n        counter++;\n        if (counter &gt;= 100) throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>These tests are passing, so that indicates that there is an error in your method logic when dealing with dataset <code>{1,2,3,4}</code></p>\n<p>In that case I suggest you to run your code with debugger and see why stop condition does not occur in your while loop.</p>\n"}],"owner":{"account_id":25892407,"reputation":1,"user_id":22242048,"display_name":"GabrielEmDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689749394,"creation_date":1689618731,"question_id":76707210,"body_markdown":"I am trying to make a code that generates a password for the user, and I wanted the user to be able to select which types of characters it would like in its password.\r\n\r\nWhen the user decides to not have a certain character, it adds a certain number in an array called `naoColocar`. By default, the array is 0, 0, 0, 0, but if you want to not add lowercase letters it adds 1 to index 0, uppercase letters adds 2 to index 1, numbers add 3 to index 2, special characters add 4 to index 3.\r\n\r\n```java\r\nfor (int x = 0; x &lt; tamanhoDaSenha; x++) {\r\n            int numAleatorio = random.nextInt(4);\r\n            numAleatorio++;\r\n            \r\n            while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio || naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\r\n                numAleatorio = random.nextInt(4);\r\n                numAleatorio++;\r\n            }\r\n\r\n            switch (numAleatorio) {\r\n                case 1:\r\n                senha += letrasMin[random.nextInt(26)];\r\n                break;\r\n\r\n                case 2:\r\n                senha += letrasMai[random.nextInt(26)];\r\n                break;\r\n                \r\n                case 3:\r\n                senha += numeros[random.nextInt(10)];\r\n                break;\r\n\r\n                case 4:\r\n                senha += charEspeciais[random.nextInt(11)];\r\n                break;\r\n            }\r\n            }\r\n```\r\n\r\nIn the code, the for loop chooses a random value from 1 to 4 (`numAleatorio`) and depending on the value, adds a certain character to the password. I made a while loop that checks if the random value is in the array, it would generate a new value to `numAleatorio`, but even when the condition is false, the while loop continues and the password is never generated, why?\r\nEdit: Changed so that now the code generates the correct amount of characters and 9, z and Z are now possible, thanks for pointing it out.","title":"While loop doesn&#39;t stop even after condition is false","body":"<p>I am trying to make a code that generates a password for the user, and I wanted the user to be able to select which types of characters it would like in its password.</p>\n<p>When the user decides to not have a certain character, it adds a certain number in an array called <code>naoColocar</code>. By default, the array is 0, 0, 0, 0, but if you want to not add lowercase letters it adds 1 to index 0, uppercase letters adds 2 to index 1, numbers add 3 to index 2, special characters add 4 to index 3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int x = 0; x &lt; tamanhoDaSenha; x++) {\n            int numAleatorio = random.nextInt(4);\n            numAleatorio++;\n            \n            while (naoColocar[0] == numAleatorio || naoColocar[1] == numAleatorio || naoColocar[2] == numAleatorio || naoColocar[3] == numAleatorio) {\n                numAleatorio = random.nextInt(4);\n                numAleatorio++;\n            }\n\n            switch (numAleatorio) {\n                case 1:\n                senha += letrasMin[random.nextInt(26)];\n                break;\n\n                case 2:\n                senha += letrasMai[random.nextInt(26)];\n                break;\n                \n                case 3:\n                senha += numeros[random.nextInt(10)];\n                break;\n\n                case 4:\n                senha += charEspeciais[random.nextInt(11)];\n                break;\n            }\n            }\n</code></pre>\n<p>In the code, the for loop chooses a random value from 1 to 4 (<code>numAleatorio</code>) and depending on the value, adds a certain character to the password. I made a while loop that checks if the random value is in the array, it would generate a new value to <code>numAleatorio</code>, but even when the condition is false, the while loop continues and the password is never generated, why?\nEdit: Changed so that now the code generates the correct amount of characters and 9, z and Z are now possible, thanks for pointing it out.</p>\n"},{"tags":["java","throttling"],"comments":[{"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"score":0,"creation_date":1252609615,"post_id":1407113,"comment_id":97423844,"body_markdown":"Check out the [TimerTask(https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html) class. Or the [ScheduledExecutor](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html).","body":"Check out the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">TimerTask(https://docs.oracle.com/javase/7/docs/api/java/uti&zwnj;&#8203;l/TimerTask.html) class. Or the [ScheduledExecutor</a>."},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":4,"creation_date":1252610960,"post_id":1407113,"comment_id":1249229,"body_markdown":"There are some great answers to this problem at http://stackoverflow.com/questions/667508/whats-a-good-rate-limiting-algorithm","body":"There are some great answers to this problem at <a href=\"http://stackoverflow.com/questions/667508/whats-a-good-rate-limiting-algorithm\" title=\"whats a good rate limiting algorithm\">stackoverflow.com/questions/667508/&hellip;</a>"},{"owner":{"account_id":80090,"reputation":708,"user_id":226691,"display_name":"Jack Leitch"},"score":0,"creation_date":1287502920,"post_id":1407113,"comment_id":97423741,"body_markdown":"&gt; I need to make sure that my method is\n&gt; executed no more than M times in a\n&gt; sliding window of N seconds. I recently wrote a blog post about how to do this in .NET. You might be able to create something similar in Java. [Better Rate Limiting in .NET](http://www.jackleitch.net/2010/10/better-rate-limiting-with-dot-net/)","body":"&gt; I need to make sure that my method is &gt; executed no more than M times in a &gt; sliding window of N seconds. I recently wrote a blog post about how to do this in .NET. You might be able to create something similar in Java. <a href=\"http://www.jackleitch.net/2010/10/better-rate-limiting-with-dot-net/\" rel=\"nofollow noreferrer\">Better Rate Limiting in .NET</a>"},{"owner":{"account_id":380281,"reputation":3074,"user_id":734191,"accept_rate":71,"display_name":"Hbf"},"score":0,"creation_date":1305188096,"post_id":1407113,"comment_id":97423796,"body_markdown":"The original question sounds a lot like the problem solved in this blog post: [Java Multi-Channel Asynchronous Throttler](http://www.cordinc.com/blog/2010/04/java-multichannel-asynchronous.html ). For a rate of M calls in N seconds, the throttler discussed in this blog guarantees that *any* interval of length N on the timeline will not contain more than M calls.","body":"The original question sounds a lot like the problem solved in this blog post: [Java Multi-Channel Asynchronous Throttler](<a href=\"http://www.cordinc.com/blog/2010/04/java-multichannel-asynchronous.html\" rel=\"nofollow noreferrer\">cordinc.com/blog/2010/04/java-multichannel-asynch&zwnj;&#8203;ronous.html</a> ). For a rate of M calls in N seconds, the throttler discussed in this blog guarantees that <i>any</i> interval of length N on the timeline will not contain more than M calls."},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1439137279,"post_id":1407113,"comment_id":51726450,"body_markdown":"http://stackoverflow.com/questions/6271409/limiting-upload-speed-on-java","body":"<a href=\"http://stackoverflow.com/questions/6271409/limiting-upload-speed-on-java\" title=\"limiting upload speed on java\">stackoverflow.com/questions/6271409/&hellip;</a>"},{"owner":{"account_id":308224,"reputation":578,"user_id":619961,"display_name":"ikaerom"},"score":0,"creation_date":1455708429,"post_id":1407113,"comment_id":97423797,"body_markdown":"Additionally, the same person has improved his implementation to guarantee call order preservation: http://www.cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html","body":"Additionally, the same person has improved his implementation to guarantee call order preservation: <a href=\"http://www.cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html\" rel=\"nofollow noreferrer\">cordinc.com/blog/2010/06/ordered-java-multichannel-asyn.html</a>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1490636797,"post_id":1407113,"comment_id":97423827,"body_markdown":"You can use redis for this when locking is needed in distributed system. Second algorithm in https://redis.io/commands/incr","body":"You can use redis for this when locking is needed in distributed system. Second algorithm in <a href=\"https://redis.io/commands/incr\" rel=\"nofollow noreferrer\">redis.io/commands/incr</a>"},{"owner":{"account_id":1185016,"reputation":3876,"user_id":1159167,"accept_rate":75,"display_name":"Ricardo"},"score":0,"creation_date":1680653974,"post_id":1407113,"comment_id":133933966,"body_markdown":"Scala players may consider [RateLimiter](https://failsafe.dev/rate-limiter)","body":"Scala players may consider <a href=\"https://failsafe.dev/rate-limiter\" rel=\"nofollow noreferrer\">RateLimiter</a>"}],"answers":[{"comments":[{"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"score":4,"creation_date":1252615028,"post_id":1407134,"comment_id":1249554,"body_markdown":"Thanks for suggestion, interesting algo. But its not exactly what I need. For example, I need to limit execution to 5 call per second. If I use Token bucket and 10 requests come in at the same time, first 5 calls would take all available tokens and execute momentarily,  while remaining 5 calls will be executed at fixed interval of 1/5 s. In such situation I need remaining 5 call to be executed in single burst only after 1 second passes.","body":"Thanks for suggestion, interesting algo. But its not exactly what I need. For example, I need to limit execution to 5 call per second. If I use Token bucket and 10 requests come in at the same time, first 5 calls would take all available tokens and execute momentarily,  while remaining 5 calls will be executed at fixed interval of 1/5 s. In such situation I need remaining 5 call to be executed in single burst only after 1 second passes."},{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":5,"creation_date":1252615390,"post_id":1407134,"comment_id":1249596,"body_markdown":"What if you added 5 tokens to the bucket every second (or 5 - (5-remaining) instead of 1 every 1/5 second?","body":"What if you added 5 tokens to the bucket every second (or 5 - (5-remaining) instead of 1 every 1/5 second?"},{"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"score":0,"creation_date":1252615993,"post_id":1407134,"comment_id":1249639,"body_markdown":"@Kevin no this still would not give me &#39;sliding window&#39; effect","body":"@Kevin no this still would not give me &#39;sliding window&#39; effect"},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":2,"creation_date":1381362196,"post_id":1407134,"comment_id":28555778,"body_markdown":"@valery yes it would. (Remember to cap the tokens at M though)","body":"@valery yes it would. (Remember to cap the tokens at M though)"},{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":0,"creation_date":1464875420,"post_id":1407134,"comment_id":62672351,"body_markdown":"no need for an &quot;external actor&quot;. Everything can be done single threaded if you keep metadata around about request times.","body":"no need for an &quot;external actor&quot;. Everything can be done single threaded if you keep metadata around about request times."}],"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"comment_count":5,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1252609659,"creation_date":1252609659,"answer_id":1407134,"question_id":1407113,"body_markdown":"Read up on the [Token bucket][1] algorithm.  Basically, you have a bucket with tokens in it.  Every time you execute the method, you take a token.  If there are no more tokens, you block until you get one.  Meanwhile, there is some external actor that replenishes the tokens at a fixed interval.\r\n\r\nI&#39;m not aware of a library to do this (or anything similar).  You could write this logic into your code or use AspectJ to add the behavior.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Token_bucket","title":"Throttling method calls to M requests in N seconds","body":"<p>Read up on the <a href=\"http://en.wikipedia.org/wiki/Token_bucket\" rel=\"noreferrer\">Token bucket</a> algorithm.  Basically, you have a bucket with tokens in it.  Every time you execute the method, you take a token.  If there are no more tokens, you block until you get one.  Meanwhile, there is some external actor that replenishes the tokens at a fixed interval.</p>\n\n<p>I'm not aware of a library to do this (or anything similar).  You could write this logic into your code or use AspectJ to add the behavior.</p>\n"},{"comments":[{"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"score":5,"creation_date":1252613830,"post_id":1407144,"comment_id":1249466,"body_markdown":"Lovely. Just what I need. Quick attempts shows ~10 lines to implement this and minimal memory footprint. Just need to think about thread safety and queuing of incoming requests.","body":"Lovely. Just what I need. Quick attempts shows ~10 lines to implement this and minimal memory footprint. Just need to think about thread safety and queuing of incoming requests."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":7,"creation_date":1252614130,"post_id":1407144,"comment_id":1249483,"body_markdown":"That&#39;s why you use the DelayQueue from java.util.concurrent. It prevents the problem of multiple threads acting on the same entry.","body":"That&#39;s why you use the DelayQueue from java.util.concurrent. It prevents the problem of multiple threads acting on the same entry."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":6,"creation_date":1252615474,"post_id":1407144,"comment_id":1249602,"body_markdown":"For a multi threaded case, the token bucket approach may be a better choice, I think.","body":"For a multi threaded case, the token bucket approach may be a better choice, I think."},{"owner":{"account_id":1115351,"reputation":4899,"user_id":1104820,"accept_rate":66,"display_name":"Vlado Pandžić"},"score":1,"creation_date":1520354065,"post_id":1407144,"comment_id":85276196,"body_markdown":"Do you know how this algorithm is called if it&#39;s has any name at all?","body":"Do you know how this algorithm is called if it&#39;s has any name at all?"},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":2,"creation_date":1638958535,"post_id":1407144,"comment_id":124223823,"body_markdown":"@MichaelBorgwardt &quot;and if it&#39;s less than N seconds in the past&quot;. Do you mean _more_? Don&#39;t you intend to call only if a given time has passed?","body":"@MichaelBorgwardt &quot;and if it&#39;s less than N seconds in the past&quot;. Do you mean <i>more</i>? Don&#39;t you intend to call only if a given time has passed?"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":5,"down_vote_count":2,"up_vote_count":99,"is_accepted":true,"score":97,"last_activity_date":1252609724,"creation_date":1252609724,"answer_id":1407144,"question_id":1407113,"body_markdown":"I&#39;d use a [ring buffer][1] of timestamps with a fixed size of M. Each time the method is called, you check the oldest entry, and if it&#39;s less than N seconds in the past, you execute and add another entry, otherwise you sleep for the time difference.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ring_buffer","title":"Throttling method calls to M requests in N seconds","body":"<p>I'd use a <a href=\"http://en.wikipedia.org/wiki/Ring_buffer\" rel=\"noreferrer\">ring buffer</a> of timestamps with a fixed size of M. Each time the method is called, you check the oldest entry, and if it's less than N seconds in the past, you execute and add another entry, otherwise you sleep for the time difference.</p>\n"},{"comments":[{"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"score":1,"creation_date":1252614312,"post_id":1407228,"comment_id":1249502,"body_markdown":"Yes, this would do the trick. But I don&#39;t particularly like DelayQueue because it is using (via PriortyQueue) a balanced binary hash (which means lots of comparisons on `offer` and possible array growth), and its all kinda heavy for me. I guess for others this might be perfectly okay.","body":"Yes, this would do the trick. But I don&#39;t particularly like DelayQueue because it is using (via PriortyQueue) a balanced binary hash (which means lots of comparisons on <code>offer</code> and possible array growth), and its all kinda heavy for me. I guess for others this might be perfectly okay."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":5,"creation_date":1252616374,"post_id":1407228,"comment_id":1249657,"body_markdown":"Actually, in this application, since the new element added to the heap will almost always be the maximum element in the heap (i.e., have the longest delay), usually one comparison per add is required. Also, the array will never grow if the algorithm is implemented correctly, since one element is added only after taking one element.","body":"Actually, in this application, since the new element added to the heap will almost always be the maximum element in the heap (i.e., have the longest delay), usually one comparison per add is required. Also, the array will never grow if the algorithm is implemented correctly, since one element is added only after taking one element."},{"owner":{"account_id":265511,"reputation":5134,"user_id":552525,"accept_rate":47,"display_name":"FUD"},"score":3,"creation_date":1348311117,"post_id":1407228,"comment_id":16890435,"body_markdown":"I found this helpful also in cases where you dont want requests to happen in big bursts by keeping the size M and delay N relatively small in order of handful millis. eg. M = 5, N =  20ms would provide a through put of 250/sec kepping burst to happen in size of 5.","body":"I found this helpful also in cases where you dont want requests to happen in big bursts by keeping the size M and delay N relatively small in order of handful millis. eg. M = 5, N =  20ms would provide a through put of 250/sec kepping burst to happen in size of 5."},{"owner":{"account_id":2290174,"reputation":137,"user_id":2013213,"accept_rate":33,"display_name":"Aditya Joshee"},"score":0,"creation_date":1588424536,"post_id":1407228,"comment_id":108892537,"body_markdown":"Will this scale for a million rpm and when concurrent requests are allowed? I would need to  add a million delayedElements. Also corner cases will be high on latency - case where multiple threads are calling poll() and it would be locking each time.","body":"Will this scale for a million rpm and when concurrent requests are allowed? I would need to  add a million delayedElements. Also corner cases will be high on latency - case where multiple threads are calling poll() and it would be locking each time."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1588433528,"post_id":1407228,"comment_id":108896071,"body_markdown":"@AdityaJoshee I haven’t benchmarked it, but if I get some time I will try to get a sense of the overhead. One thing To note though is that you don’t need 1 million tokens that expire in 1 second. You could have 100 tokens that expire in 10 milliseconds, 10 tokens that expire in millisecond, etc. This actually forces the instantaneous rate to be closer to the average rate, smoothing spikes, which may cause backups at the client, but that’s a natural consequence of rate limiting. 1 million RPM hardly sounds like throttling though. If you can explain your use case I might have better ideas.","body":"@AdityaJoshee I haven’t benchmarked it, but if I get some time I will try to get a sense of the overhead. One thing To note though is that you don’t need 1 million tokens that expire in 1 second. You could have 100 tokens that expire in 10 milliseconds, 10 tokens that expire in millisecond, etc. This actually forces the instantaneous rate to be closer to the average rate, smoothing spikes, which may cause backups at the client, but that’s a natural consequence of rate limiting. 1 million RPM hardly sounds like throttling though. If you can explain your use case I might have better ideas."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":5,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1252610773,"creation_date":1252610773,"answer_id":1407228,"question_id":1407113,"body_markdown":"In concrete terms, you should be able to implement this with a [`DelayQueue`][1]. Initialize the queue with `M` `Delayed` instances with their delay initially set to zero. As requests to the method come in, [`take`][2] a token, which causes the method to block until the throttling requirement has been met. When a token has been taken, [`add`][3] a new token to the queue with a delay of `N`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#add%28E%29","title":"Throttling method calls to M requests in N seconds","body":"<p>In concrete terms, you should be able to implement this with a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\" rel=\"noreferrer\"><code>DelayQueue</code></a>. Initialize the queue with <code>M</code> <code>Delayed</code> instances with their delay initially set to zero. As requests to the method come in, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take()\" rel=\"noreferrer\"><code>take</code></a> a token, which causes the method to block until the throttling requirement has been met. When a token has been taken, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#add%28E%29\" rel=\"noreferrer\"><code>add</code></a> a new token to the queue with a delay of <code>N</code>.</p>\n"},{"tags":[],"owner":{"account_id":2722,"reputation":94810,"user_id":3827,"accept_rate":94,"display_name":"Eugene Yokota"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1252611007,"creation_date":1252611007,"answer_id":1407242,"question_id":1407113,"body_markdown":"Although it&#39;s not what you asked, [`ThreadPoolExecutor`][1], which is designed to cap to M simultaneous requests instead of M requests in N seconds, could also be useful.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Throttling method calls to M requests in N seconds","body":"<p>Although it's not what you asked, <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a>, which is designed to cap to M simultaneous requests instead of M requests in N seconds, could also be useful.</p>\n"},{"comments":[{"owner":{"account_id":304484,"reputation":4174,"user_id":614005,"display_name":"j.w.r"},"score":6,"creation_date":1350694909,"post_id":10732416,"comment_id":17611413,"body_markdown":"You should post a summary of your algorithm. If your link goes away then your answer becomes useless.","body":"You should post a summary of your algorithm. If your link goes away then your answer becomes useless."},{"owner":{"account_id":1512566,"reputation":1594,"user_id":1414288,"accept_rate":67,"display_name":"Devas"},"score":0,"creation_date":1475239329,"post_id":10732416,"comment_id":66876515,"body_markdown":"Thanks, I have added the brief.","body":"Thanks, I have added the brief."}],"tags":[],"owner":{"account_id":1512566,"reputation":1594,"user_id":1414288,"accept_rate":67,"display_name":"Devas"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475239018,"creation_date":1337841776,"answer_id":10732416,"question_id":1407113,"body_markdown":"I have implemented a simple throttling algorithm.Try this link,\r\nhttp://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html\r\n\r\nA brief about the Algorithm,\r\n\r\nThis algorithm utilizes the capability of Java [Delayed Queue][1].\r\nCreate a [delayed][2] object with the expected delay (here 1000/M for millisecond [TimeUnit][3]).\r\nPut the same object into the delayed queue which will intern provides the moving window for us.\r\nThen before each method call [take][4] the object form the queue, take is a blocking call which will return only after the specified delay, and after the method call don&#39;t forget to put the object into the queue with updated time(here current milliseconds).\r\n\r\nHere we can also have multiple delayed objects with different delay. This approach will also provide high throughput.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Delayed.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take%28%29hm.html","title":"Throttling method calls to M requests in N seconds","body":"<p>I have implemented a simple throttling algorithm.Try this link,\n<a href=\"http://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html\" rel=\"nofollow\">http://krishnaprasadas.blogspot.in/2012/05/throttling-algorithm.html</a></p>\n\n<p>A brief about the Algorithm,</p>\n\n<p>This algorithm utilizes the capability of Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html\" rel=\"nofollow\">Delayed Queue</a>.\nCreate a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Delayed.html\" rel=\"nofollow\">delayed</a> object with the expected delay (here 1000/M for millisecond <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"nofollow\">TimeUnit</a>).\nPut the same object into the delayed queue which will intern provides the moving window for us.\nThen before each method call <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/DelayQueue.html#take%28%29hm.html\" rel=\"nofollow\">take</a> the object form the queue, take is a blocking call which will return only after the specified delay, and after the method call don't forget to put the object into the queue with updated time(here current milliseconds).</p>\n\n<p>Here we can also have multiple delayed objects with different delay. This approach will also provide high throughput.</p>\n"},{"comments":[{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1549057939,"post_id":13704385,"comment_id":95781822,"body_markdown":"what does `minTime` means here? What does it do? can you explain on that?","body":"what does <code>minTime</code> means here? What does it do? can you explain on that?"},{"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"score":0,"creation_date":1549287873,"post_id":13704385,"comment_id":95837602,"body_markdown":"`minTime` is the minimum amount of time that needs to pass after a token is consumed before the next token can be consumed.","body":"<code>minTime</code> is the minimum amount of time that needs to pass after a token is consumed before the next token can be consumed."}],"tags":[],"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1402490795,"creation_date":1354628810,"answer_id":13704385,"question_id":1407113,"body_markdown":"This depends in the application.\r\n\r\nImagine the case in which **multiple threads** want a token to do some **globally rate-limited action** with **no burst allowed** (i.e. you want to limit 10 actions per 10 seconds but you don&#39;t want 10 actions to happen in the first second and then remain 9 seconds stopped). \r\n\r\nThe DelayedQueue has a disadvantage: the order at which threads request tokens might not be the order at which they get their request fulfilled. If multiple threads are blocked waiting for a token, it is not clear which one will take the next available token. You could even have threads waiting forever, in my point of view.\r\n\r\nOne solution is to have **a minimum interval of time between two consecutive actions**, and take actions in the same order as they were requested.\r\n\r\nHere is an implementation:\r\n\r\n\tpublic class LeakyBucket {\r\n\t\tprotected float maxRate;\r\n\t\tprotected long minTime;\r\n\t\t//holds time of last action (past or future!)\r\n\t\tprotected long lastSchedAction = System.currentTimeMillis();\r\n\t\r\n\t\tpublic LeakyBucket(float maxRate) throws Exception {\r\n\t\t\tif(maxRate &lt;= 0.0f) {\r\n\t\t\t\tthrow new Exception(&quot;Invalid rate&quot;);\r\n\t\t\t}\r\n\t\t\tthis.maxRate = maxRate;\r\n\t\t\tthis.minTime = (long)(1000.0f / maxRate);\r\n\t\t}\r\n\t\r\n\t\tpublic void consume() throws InterruptedException {\r\n\t\t\tlong curTime = System.currentTimeMillis();\r\n\t\t\tlong timeLeft;\r\n\t\r\n\t\t\t//calculate when can we do the action\r\n\t\t\tsynchronized(this) {\r\n\t\t\t\ttimeLeft = lastSchedAction + minTime - curTime;\r\n\t\t\t\tif(timeLeft &gt; 0) {\r\n\t\t\t\t\tlastSchedAction += minTime;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlastSchedAction = curTime;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t//If needed, wait for our time\r\n\t\t\tif(timeLeft &lt;= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tThread.sleep(timeLeft);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>This depends in the application.</p>\n\n<p>Imagine the case in which <strong>multiple threads</strong> want a token to do some <strong>globally rate-limited action</strong> with <strong>no burst allowed</strong> (i.e. you want to limit 10 actions per 10 seconds but you don't want 10 actions to happen in the first second and then remain 9 seconds stopped). </p>\n\n<p>The DelayedQueue has a disadvantage: the order at which threads request tokens might not be the order at which they get their request fulfilled. If multiple threads are blocked waiting for a token, it is not clear which one will take the next available token. You could even have threads waiting forever, in my point of view.</p>\n\n<p>One solution is to have <strong>a minimum interval of time between two consecutive actions</strong>, and take actions in the same order as they were requested.</p>\n\n<p>Here is an implementation:</p>\n\n<pre><code>public class LeakyBucket {\n    protected float maxRate;\n    protected long minTime;\n    //holds time of last action (past or future!)\n    protected long lastSchedAction = System.currentTimeMillis();\n\n    public LeakyBucket(float maxRate) throws Exception {\n        if(maxRate &lt;= 0.0f) {\n            throw new Exception(\"Invalid rate\");\n        }\n        this.maxRate = maxRate;\n        this.minTime = (long)(1000.0f / maxRate);\n    }\n\n    public void consume() throws InterruptedException {\n        long curTime = System.currentTimeMillis();\n        long timeLeft;\n\n        //calculate when can we do the action\n        synchronized(this) {\n            timeLeft = lastSchedAction + minTime - curTime;\n            if(timeLeft &gt; 0) {\n                lastSchedAction += minTime;\n            }\n            else {\n                lastSchedAction = curTime;\n            }\n        }\n\n        //If needed, wait for our time\n        if(timeLeft &lt;= 0) {\n            return;\n        }\n        else {\n            Thread.sleep(timeLeft);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1243918,"reputation":585,"user_id":1205792,"accept_rate":62,"display_name":"Joqus"},"score":0,"creation_date":1410543393,"post_id":17763910,"comment_id":40380253,"body_markdown":"This is a great solution! The only issue is if you don&#39;t want to use Guava.","body":"This is a great solution! The only issue is if you don&#39;t want to use Guava."},{"owner":{"account_id":2096512,"reputation":594,"user_id":1865116,"display_name":"kaviddiss"},"score":24,"creation_date":1414006541,"post_id":17763910,"comment_id":41661121,"body_markdown":"I wouldn&#39;t recommend this solution as the Guava RateLimiter will block the thread and that will exhaust the thread pool easily.","body":"I wouldn&#39;t recommend this solution as the Guava RateLimiter will block the thread and that will exhaust the thread pool easily."},{"owner":{"account_id":7607,"reputation":22631,"user_id":13263,"accept_rate":100,"display_name":"slf"},"score":24,"creation_date":1426015992,"post_id":17763910,"comment_id":46196266,"body_markdown":"@kaviddiss if you don&#39;t want to block then use `tryAquire()`","body":"@kaviddiss if you don&#39;t want to block then use <code>tryAquire()</code>"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":9,"creation_date":1432235824,"post_id":17763910,"comment_id":48854130,"body_markdown":"The issue with the currently implementation of RateLimiter (at least for me) is that it does not allow for time periods of greater than 1 second and therefore rates of for example 1 per minute.","body":"The issue with the currently implementation of RateLimiter (at least for me) is that it does not allow for time periods of greater than 1 second and therefore rates of for example 1 per minute."},{"owner":{"account_id":2158778,"reputation":1140,"user_id":1913420,"accept_rate":67,"display_name":"divideByZero"},"score":5,"creation_date":1442580088,"post_id":17763910,"comment_id":53151153,"body_markdown":"@John B As far as I understand, you can achieve 1 request per minute with RateLimiter by using RateLimiter.create(60.0)+rateLimiter.acquire(60)","body":"@John B As far as I understand, you can achieve 1 request per minute with RateLimiter by using RateLimiter.create(60.0)+rateLimiter.acquire(60)"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":1,"creation_date":1442838400,"post_id":17763910,"comment_id":53233344,"body_markdown":"@divideByZero - Interesting thought. More accurate would be `RateLimiter.create(1.0)` to get one permit per second. Then each acquire would use `acquire(60)` to only allow one per minute.","body":"@divideByZero - Interesting thought. More accurate would be <code>RateLimiter.create(1.0)</code> to get one permit per second. Then each acquire would use <code>acquire(60)</code> to only allow one per minute."},{"owner":{"account_id":2498021,"reputation":479,"user_id":2173948,"accept_rate":80,"display_name":"radiantRazor"},"score":1,"creation_date":1455615315,"post_id":17763910,"comment_id":58556035,"body_markdown":"Any one tried Ratelimiter.create(1.0/60) to achieve 1 per minute?","body":"Any one tried Ratelimiter.create(1.0/60) to achieve 1 per minute?"},{"owner":{"account_id":5488763,"reputation":123,"user_id":4362773,"display_name":"bizentass"},"score":3,"creation_date":1471461757,"post_id":17763910,"comment_id":65361018,"body_markdown":"@radiantRazor Ratelimiter.create(1.0/60) and acquire() achieves 1 call per minute.","body":"@radiantRazor Ratelimiter.create(1.0/60) and acquire() achieves 1 call per minute."},{"owner":{"account_id":171907,"reputation":984,"user_id":399610,"accept_rate":55,"display_name":"narduk"},"score":2,"creation_date":1481288713,"post_id":17763910,"comment_id":69328667,"body_markdown":"If you use this, be careful to consider how it behaves under past underutilization. You can have bursts that allow more than expected calls.","body":"If you use this, be careful to consider how it behaves under past underutilization. You can have bursts that allow more than expected calls."},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":2,"creation_date":1515765166,"post_id":17763910,"comment_id":83437005,"body_markdown":"As an alternative you can use the TimedSemaphore from apache.commons : https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/concurrent/TimedSemaphore.html","body":"As an alternative you can use the TimedSemaphore from apache.commons : <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/concurrent/TimedSemaphore.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":5332377,"reputation":1238,"user_id":4252616,"display_name":"BuffK"},"score":0,"creation_date":1596524296,"post_id":17763910,"comment_id":111830277,"body_markdown":"@slf rateLimiter.tryAcquire()","body":"@slf rateLimiter.tryAcquire()"}],"tags":[],"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"comment_count":11,"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1475241093,"creation_date":1374335162,"answer_id":17763910,"question_id":1407113,"body_markdown":"What worked out of the box for me was Google Guava [RateLimiter][1].\r\n\r\n\t// Allow one request per second\r\n\tprivate RateLimiter throttle = RateLimiter.create(1.0);\r\n\r\n\tprivate void someMethod() {\r\n\t\tthrottle.acquire();\r\n\t\t// Do something\r\n\t}\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html","title":"Throttling method calls to M requests in N seconds","body":"<p>What worked out of the box for me was Google Guava <a href=\"https://google.github.io/guava/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"noreferrer\">RateLimiter</a>.</p>\n\n<pre><code>// Allow one request per second\nprivate RateLimiter throttle = RateLimiter.create(1.0);\n\nprivate void someMethod() {\n    throttle.acquire();\n    // Do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310445,"reputation":298,"user_id":623417,"accept_rate":48,"display_name":"SergeZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470669018,"creation_date":1470669018,"answer_id":38832760,"question_id":1407113,"body_markdown":"Try to use this simple approach:\r\n\r\n    public class SimpleThrottler {\r\n\r\n    private static final int T = 1; // min\r\n    private static final int N = 345;\r\n\r\n    private Lock lock = new ReentrantLock();\r\n    private Condition newFrame = lock.newCondition();\r\n    private volatile boolean currentFrame = true;\r\n\r\n    public SimpleThrottler() {\r\n        handleForGate();\r\n    }\r\n\r\n    /**\r\n     * Payload\r\n     */\r\n    private void job() {\r\n        try {\r\n            Thread.sleep(Math.abs(ThreadLocalRandom.current().nextLong(12, 98)));\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.err.print(&quot; J. &quot;);\r\n    }\r\n\r\n    public void doJob() throws InterruptedException {\r\n        lock.lock();\r\n        try {\r\n\r\n            while (true) {\r\n\r\n                int count = 0;\r\n\r\n                while (count &lt; N &amp;&amp; currentFrame) {\r\n                    job();\r\n                    count++;\r\n                }\r\n\r\n                newFrame.await();\r\n                currentFrame = true;\r\n            }\r\n\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public void handleForGate() {\r\n        Thread handler = new Thread(() -&gt; {\r\n            while (true) {\r\n                try {\r\n                    Thread.sleep(1 * 900);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    currentFrame = false;\r\n\r\n                    lock.lock();\r\n                    try {\r\n                        newFrame.signal();\r\n                    } finally {\r\n                        lock.unlock();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        handler.start();\r\n    }\r\n}","title":"Throttling method calls to M requests in N seconds","body":"<p>Try to use this simple approach:</p>\n\n<pre><code>public class SimpleThrottler {\n\nprivate static final int T = 1; // min\nprivate static final int N = 345;\n\nprivate Lock lock = new ReentrantLock();\nprivate Condition newFrame = lock.newCondition();\nprivate volatile boolean currentFrame = true;\n\npublic SimpleThrottler() {\n    handleForGate();\n}\n\n/**\n * Payload\n */\nprivate void job() {\n    try {\n        Thread.sleep(Math.abs(ThreadLocalRandom.current().nextLong(12, 98)));\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.err.print(\" J. \");\n}\n\npublic void doJob() throws InterruptedException {\n    lock.lock();\n    try {\n\n        while (true) {\n\n            int count = 0;\n\n            while (count &lt; N &amp;&amp; currentFrame) {\n                job();\n                count++;\n            }\n\n            newFrame.await();\n            currentFrame = true;\n        }\n\n    } finally {\n        lock.unlock();\n    }\n}\n\npublic void handleForGate() {\n    Thread handler = new Thread(() -&gt; {\n        while (true) {\n            try {\n                Thread.sleep(1 * 900);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } finally {\n                currentFrame = false;\n\n                lock.lock();\n                try {\n                    newFrame.signal();\n                } finally {\n                    lock.unlock();\n                }\n            }\n        }\n    });\n    handler.start();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2839317,"reputation":2313,"user_id":2439220,"display_name":"gtonic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475239530,"creation_date":1475239530,"answer_id":39791847,"question_id":1407113,"body_markdown":"[Apache Camel][1] also supports comes with [Throttler][2] mechanism as follows:\r\n\r\n    from(&quot;seda:a&quot;).throttle(100).asyncDelayed().to(&quot;seda:b&quot;);\r\n\r\n\r\n  [1]: http://camel.apache.org/\r\n  [2]: http://camel.apache.org/throttler.html","title":"Throttling method calls to M requests in N seconds","body":"<p><a href=\"http://camel.apache.org/\" rel=\"nofollow\">Apache Camel</a> also supports comes with <a href=\"http://camel.apache.org/throttler.html\" rel=\"nofollow\">Throttler</a> mechanism as follows:</p>\n\n<pre><code>from(\"seda:a\").throttle(100).asyncDelayed().to(\"seda:b\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1549057908,"post_id":43792225,"comment_id":95781813,"body_markdown":"what is `minTimeNano` means here? can you explain?","body":"what is <code>minTimeNano</code> means here? can you explain?"}],"tags":[],"owner":{"account_id":2495210,"reputation":11,"user_id":2171847,"display_name":"peterreilly"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493929686,"creation_date":1493929686,"answer_id":43792225,"question_id":1407113,"body_markdown":"This is an update to the LeakyBucket code above.\r\nThis works for a more that 1000 requests per sec.\r\n\r\n    import lombok.SneakyThrows;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    class LeakyBucket {\r\n      private long minTimeNano; // sec / billion\r\n      private long sched = System.nanoTime();\r\n\r\n      /**\r\n       * Create a rate limiter using the leakybucket alg.\r\n       * @param perSec the number of requests per second\r\n       */\r\n      public LeakyBucket(double perSec) {\r\n        if (perSec &lt;= 0.0) {\r\n          throw new RuntimeException(&quot;Invalid rate &quot; + perSec);\r\n        }\r\n        this.minTimeNano = (long) (1_000_000_000.0 / perSec);\r\n      }\r\n    \r\n      @SneakyThrows public void consume() {\r\n        long curr = System.nanoTime();\r\n        long timeLeft;\r\n\r\n        synchronized (this) {\r\n          timeLeft = sched - curr + minTimeNano;\r\n          sched += minTimeNano;\r\n        }\r\n        if (timeLeft &lt;= minTimeNano) {\r\n          return;\r\n        }\r\n        TimeUnit.NANOSECONDS.sleep(timeLeft);\r\n      }\r\n    }\r\n\r\nand the unittest for above:\r\n\r\n    import com.google.common.base.Stopwatch;\r\n    import org.junit.Ignore;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class LeakyBucketTest {\r\n      @Test @Ignore public void t() {\r\n        double numberPerSec = 10000;\r\n        LeakyBucket b = new LeakyBucket(numberPerSec);\r\n        Stopwatch w = Stopwatch.createStarted();\r\n        IntStream.range(0, (int) (numberPerSec * 5)).parallel().forEach(\r\n            x -&gt; b.consume());\r\n        System.out.printf(&quot;%,d ms%n&quot;, w.elapsed(TimeUnit.MILLISECONDS));\r\n      }\r\n    }\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>This is an update to the LeakyBucket code above.\nThis works for a more that 1000 requests per sec.</p>\n\n<pre><code>import lombok.SneakyThrows;\nimport java.util.concurrent.TimeUnit;\n\nclass LeakyBucket {\n  private long minTimeNano; // sec / billion\n  private long sched = System.nanoTime();\n\n  /**\n   * Create a rate limiter using the leakybucket alg.\n   * @param perSec the number of requests per second\n   */\n  public LeakyBucket(double perSec) {\n    if (perSec &lt;= 0.0) {\n      throw new RuntimeException(\"Invalid rate \" + perSec);\n    }\n    this.minTimeNano = (long) (1_000_000_000.0 / perSec);\n  }\n\n  @SneakyThrows public void consume() {\n    long curr = System.nanoTime();\n    long timeLeft;\n\n    synchronized (this) {\n      timeLeft = sched - curr + minTimeNano;\n      sched += minTimeNano;\n    }\n    if (timeLeft &lt;= minTimeNano) {\n      return;\n    }\n    TimeUnit.NANOSECONDS.sleep(timeLeft);\n  }\n}\n</code></pre>\n\n<p>and the unittest for above:</p>\n\n<pre><code>import com.google.common.base.Stopwatch;\nimport org.junit.Ignore;\nimport org.junit.Test;\n\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\npublic class LeakyBucketTest {\n  @Test @Ignore public void t() {\n    double numberPerSec = 10000;\n    LeakyBucket b = new LeakyBucket(numberPerSec);\n    Stopwatch w = Stopwatch.createStarted();\n    IntStream.range(0, (int) (numberPerSec * 5)).parallel().forEach(\n        x -&gt; b.consume());\n    System.out.printf(\"%,d ms%n\", w.elapsed(TimeUnit.MILLISECONDS));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302701,"reputation":81,"user_id":2326162,"display_name":"user2326162"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1496449788,"creation_date":1496449788,"answer_id":44339112,"question_id":1407113,"body_markdown":"If you need a Java based sliding window rate limiter that will operate across a distributed system you might want to take a look at the https://github.com/mokies/ratelimitj project.\r\n\r\nA Redis backed configuration, to limit requests by IP to 50 per minute would look like this:\r\n\r\n    import com.lambdaworks.redis.RedisClient;\r\n    import es.moki.ratelimitj.core.LimitRule;\r\n    \r\n    RedisClient client = RedisClient.create(&quot;redis://localhost&quot;);\r\n    Set&lt;LimitRule&gt; rules = Collections.singleton(LimitRule.of(1, TimeUnit.MINUTES, 50)); // 50 request per minute, per key\r\n    RedisRateLimit requestRateLimiter = new RedisRateLimit(client, rules);\r\n    \r\n    boolean overLimit = requestRateLimiter.overLimit(&quot;ip:127.0.0.2&quot;);\r\n\r\nSee https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis fore further details on Redis configuration.","title":"Throttling method calls to M requests in N seconds","body":"<p>If you need a Java based sliding window rate limiter that will operate across a distributed system you might want to take a look at the <a href=\"https://github.com/mokies/ratelimitj\" rel=\"noreferrer\">https://github.com/mokies/ratelimitj</a> project.</p>\n\n<p>A Redis backed configuration, to limit requests by IP to 50 per minute would look like this:</p>\n\n<pre><code>import com.lambdaworks.redis.RedisClient;\nimport es.moki.ratelimitj.core.LimitRule;\n\nRedisClient client = RedisClient.create(\"redis://localhost\");\nSet&lt;LimitRule&gt; rules = Collections.singleton(LimitRule.of(1, TimeUnit.MINUTES, 50)); // 50 request per minute, per key\nRedisRateLimit requestRateLimiter = new RedisRateLimit(client, rules);\n\nboolean overLimit = requestRateLimiter.overLimit(\"ip:127.0.0.2\");\n</code></pre>\n\n<p>See <a href=\"https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis\" rel=\"noreferrer\">https://github.com/mokies/ratelimitj/tree/master/ratelimitj-redis</a> fore further details on Redis configuration.</p>\n"},{"comments":[{"owner":{"account_id":14930078,"reputation":1,"user_id":10779711,"display_name":"Leonid Astakhov"},"score":0,"creation_date":1544691811,"post_id":53738728,"comment_id":94368641,"body_markdown":"The code is pretty simple. You just create the limiter with maxRate or with periods and rate. And then just call consume every request. Whenever the rate is not exceeded, the limiter returns immediately or waits some time before return to lower current request rate.\nIt also has current rate method which returns sliding average of the current rate.","body":"The code is pretty simple. You just create the limiter with maxRate or with periods and rate. And then just call consume every request. Whenever the rate is not exceeded, the limiter returns immediately or waits some time before return to lower current request rate. It also has current rate method which returns sliding average of the current rate."}],"tags":[],"owner":{"account_id":14930078,"reputation":1,"user_id":10779711,"display_name":"Leonid Astakhov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544692289,"creation_date":1544602655,"answer_id":53738728,"question_id":1407113,"body_markdown":"Here is a little advanced version of simple rate limiter\r\n\r\n    /**\r\n     * Simple request limiter based on Thread.sleep method.\r\n     * Create limiter instance via {@link #create(float)} and call {@link #consume()} before making any request.\r\n     * If the limit is exceeded cosume method locks and waits for current call rate to fall down below the limit\r\n     */\r\n    public class RequestRateLimiter {\r\n    \r\n        private long minTime;\r\n    \r\n        private long lastSchedAction;\r\n        private double avgSpent = 0;\r\n    \r\n        ArrayList&lt;RatePeriod&gt; periods;\r\n    \r\n    \r\n        @AllArgsConstructor\r\n        public static class RatePeriod{\r\n    \r\n            @Getter\r\n            private LocalTime start;\r\n    \r\n            @Getter\r\n            private LocalTime end;\r\n    \r\n            @Getter\r\n            private float maxRate;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Create request limiter with maxRate - maximum number of requests per second\r\n         * @param maxRate - maximum number of requests per second\r\n         * @return\r\n         */\r\n        public static RequestRateLimiter create(float maxRate){\r\n            return new RequestRateLimiter(Arrays.asList( new RatePeriod(LocalTime.of(0,0,0),\r\n                    LocalTime.of(23,59,59), maxRate)));\r\n        }\r\n    \r\n        /**\r\n         * Create request limiter with ratePeriods calendar - maximum number of requests per second in every period\r\n         * @param ratePeriods - rate calendar\r\n         * @return\r\n         */\r\n        public static RequestRateLimiter create(List&lt;RatePeriod&gt; ratePeriods){\r\n            return new RequestRateLimiter(ratePeriods);\r\n        }\r\n    \r\n        private void checkArgs(List&lt;RatePeriod&gt; ratePeriods){\r\n    \r\n            for (RatePeriod rp: ratePeriods ){\r\n                if ( null == rp || rp.maxRate &lt;= 0.0f || null == rp.start || null == rp.end )\r\n                    throw new IllegalArgumentException(&quot;list contains null or rate is less then zero or period is zero length&quot;);\r\n            }\r\n        }\r\n    \r\n        private float getCurrentRate(){\r\n    \r\n            LocalTime now = LocalTime.now();\r\n    \r\n            for (RatePeriod rp: periods){\r\n                if ( now.isAfter( rp.start ) &amp;&amp; now.isBefore( rp.end ) )\r\n                    return rp.maxRate;\r\n            }\r\n    \r\n            return Float.MAX_VALUE;\r\n        }\r\n    \r\n    \r\n    \r\n        private RequestRateLimiter(List&lt;RatePeriod&gt; ratePeriods){\r\n    \r\n            checkArgs(ratePeriods);\r\n            periods = new ArrayList&lt;&gt;(ratePeriods.size());\r\n            periods.addAll(ratePeriods);\r\n    \r\n            this.minTime = (long)(1000.0f / getCurrentRate());\r\n            this.lastSchedAction = System.currentTimeMillis() - minTime;\r\n        }\r\n    \r\n        /**\r\n         * Call this method before making actual request.\r\n         * Method call locks until current rate falls down below the limit\r\n         * @throws InterruptedException\r\n         */\r\n        public void consume() throws InterruptedException {\r\n    \r\n            long timeLeft;\r\n    \r\n            synchronized(this) {\r\n                long curTime = System.currentTimeMillis();\r\n    \r\n                minTime = (long)(1000.0f / getCurrentRate());\r\n                timeLeft = lastSchedAction + minTime - curTime;\r\n    \r\n                long timeSpent = curTime - lastSchedAction + timeLeft;\r\n                avgSpent = (avgSpent + timeSpent) / 2;\r\n    \r\n                if(timeLeft &lt;= 0) {\r\n                    lastSchedAction = curTime;\r\n                    return;\r\n                }\r\n    \r\n                lastSchedAction = curTime + timeLeft;\r\n            }\r\n    \r\n            Thread.sleep(timeLeft);\r\n        }\r\n    \r\n        public synchronized float getCuRate(){\r\n            return (float) ( 1000d / avgSpent);\r\n        }\r\n    }\r\n\r\n\r\nAnd unit tests\r\n\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class RequestRateLimiterTest {\r\n    \r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void checkSingleThreadZeroRate(){\r\n    \r\n            // Zero rate\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(0);\r\n            try {\r\n                limiter.consume();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void checkSingleThreadUnlimitedRate(){\r\n    \r\n            // Unlimited\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(Float.MAX_VALUE);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 1000; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( ((ended - started) &lt; 1000));\r\n        }\r\n    \r\n        @Test\r\n        public void rcheckSingleThreadRate(){\r\n    \r\n            // 3 request per minute\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(3f/60f);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 3; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                    Thread.sleep(20000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n    \r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( ((ended - started) &gt;= 60000 ) &amp; ((ended - started) &lt; 61000));\r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void checkSingleThreadRateLimit(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n    \r\n            long started = System.currentTimeMillis();\r\n            for ( int i = 0; i &lt; 1000; i++ ){\r\n    \r\n                try {\r\n                    limiter.consume();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            long ended = System.currentTimeMillis();\r\n    \r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ));\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreadedRateLimit(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\r\n            ExecutorService exec = Executors.newFixedThreadPool(10);\r\n    \r\n            for ( int i = 0; i &lt; 10; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n                    for (int i1 = 0; i1 &lt; 100; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreaded32RateLimit(){\r\n    \r\n            // 0,2 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(0.2f);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(8);\r\n            ExecutorService exec = Executors.newFixedThreadPool(8);\r\n    \r\n            for ( int i = 0; i &lt; 8; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n                    for (int i1 = 0; i1 &lt; 2; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n        @Test\r\n        public void checkMultiThreadedRateLimitDynamicRate(){\r\n    \r\n            // 100 request per second\r\n            RequestRateLimiter limiter = RequestRateLimiter.create(100);\r\n            long started = System.currentTimeMillis();\r\n    \r\n            List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\r\n            ExecutorService exec = Executors.newFixedThreadPool(10);\r\n    \r\n            for ( int i = 0; i &lt; 10; i++ ) {\r\n    \r\n                tasks.add( exec.submit(() -&gt; {\r\n    \r\n                    Random r = new Random();\r\n                    for (int i1 = 0; i1 &lt; 100; i1++) {\r\n    \r\n                        try {\r\n                            limiter.consume();\r\n                            Thread.sleep(r.nextInt(1000));\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }) );\r\n            }\r\n    \r\n            tasks.stream().forEach( future -&gt; {\r\n                try {\r\n                    future.get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            long ended = System.currentTimeMillis();\r\n            System.out.println( &quot;Current rate:&quot; + limiter.getCurRate() );\r\n            Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>Here is a little advanced version of simple rate limiter</p>\n\n<pre><code>/**\n * Simple request limiter based on Thread.sleep method.\n * Create limiter instance via {@link #create(float)} and call {@link #consume()} before making any request.\n * If the limit is exceeded cosume method locks and waits for current call rate to fall down below the limit\n */\npublic class RequestRateLimiter {\n\n    private long minTime;\n\n    private long lastSchedAction;\n    private double avgSpent = 0;\n\n    ArrayList&lt;RatePeriod&gt; periods;\n\n\n    @AllArgsConstructor\n    public static class RatePeriod{\n\n        @Getter\n        private LocalTime start;\n\n        @Getter\n        private LocalTime end;\n\n        @Getter\n        private float maxRate;\n    }\n\n\n    /**\n     * Create request limiter with maxRate - maximum number of requests per second\n     * @param maxRate - maximum number of requests per second\n     * @return\n     */\n    public static RequestRateLimiter create(float maxRate){\n        return new RequestRateLimiter(Arrays.asList( new RatePeriod(LocalTime.of(0,0,0),\n                LocalTime.of(23,59,59), maxRate)));\n    }\n\n    /**\n     * Create request limiter with ratePeriods calendar - maximum number of requests per second in every period\n     * @param ratePeriods - rate calendar\n     * @return\n     */\n    public static RequestRateLimiter create(List&lt;RatePeriod&gt; ratePeriods){\n        return new RequestRateLimiter(ratePeriods);\n    }\n\n    private void checkArgs(List&lt;RatePeriod&gt; ratePeriods){\n\n        for (RatePeriod rp: ratePeriods ){\n            if ( null == rp || rp.maxRate &lt;= 0.0f || null == rp.start || null == rp.end )\n                throw new IllegalArgumentException(\"list contains null or rate is less then zero or period is zero length\");\n        }\n    }\n\n    private float getCurrentRate(){\n\n        LocalTime now = LocalTime.now();\n\n        for (RatePeriod rp: periods){\n            if ( now.isAfter( rp.start ) &amp;&amp; now.isBefore( rp.end ) )\n                return rp.maxRate;\n        }\n\n        return Float.MAX_VALUE;\n    }\n\n\n\n    private RequestRateLimiter(List&lt;RatePeriod&gt; ratePeriods){\n\n        checkArgs(ratePeriods);\n        periods = new ArrayList&lt;&gt;(ratePeriods.size());\n        periods.addAll(ratePeriods);\n\n        this.minTime = (long)(1000.0f / getCurrentRate());\n        this.lastSchedAction = System.currentTimeMillis() - minTime;\n    }\n\n    /**\n     * Call this method before making actual request.\n     * Method call locks until current rate falls down below the limit\n     * @throws InterruptedException\n     */\n    public void consume() throws InterruptedException {\n\n        long timeLeft;\n\n        synchronized(this) {\n            long curTime = System.currentTimeMillis();\n\n            minTime = (long)(1000.0f / getCurrentRate());\n            timeLeft = lastSchedAction + minTime - curTime;\n\n            long timeSpent = curTime - lastSchedAction + timeLeft;\n            avgSpent = (avgSpent + timeSpent) / 2;\n\n            if(timeLeft &lt;= 0) {\n                lastSchedAction = curTime;\n                return;\n            }\n\n            lastSchedAction = curTime + timeLeft;\n        }\n\n        Thread.sleep(timeLeft);\n    }\n\n    public synchronized float getCuRate(){\n        return (float) ( 1000d / avgSpent);\n    }\n}\n</code></pre>\n\n<p>And unit tests</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class RequestRateLimiterTest {\n\n\n    @Test(expected = IllegalArgumentException.class)\n    public void checkSingleThreadZeroRate(){\n\n        // Zero rate\n        RequestRateLimiter limiter = RequestRateLimiter.create(0);\n        try {\n            limiter.consume();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Test\n    public void checkSingleThreadUnlimitedRate(){\n\n        // Unlimited\n        RequestRateLimiter limiter = RequestRateLimiter.create(Float.MAX_VALUE);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 1000; i++ ){\n\n            try {\n                limiter.consume();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( ((ended - started) &lt; 1000));\n    }\n\n    @Test\n    public void rcheckSingleThreadRate(){\n\n        // 3 request per minute\n        RequestRateLimiter limiter = RequestRateLimiter.create(3f/60f);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 3; i++ ){\n\n            try {\n                limiter.consume();\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( ((ended - started) &gt;= 60000 ) &amp; ((ended - started) &lt; 61000));\n    }\n\n\n\n    @Test\n    public void checkSingleThreadRateLimit(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n\n        long started = System.currentTimeMillis();\n        for ( int i = 0; i &lt; 1000; i++ ){\n\n            try {\n                limiter.consume();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        long ended = System.currentTimeMillis();\n\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ));\n    }\n\n    @Test\n    public void checkMultiThreadedRateLimit(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\n        ExecutorService exec = Executors.newFixedThreadPool(10);\n\n        for ( int i = 0; i &lt; 10; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n                for (int i1 = 0; i1 &lt; 100; i1++) {\n\n                    try {\n                        limiter.consume();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n    @Test\n    public void checkMultiThreaded32RateLimit(){\n\n        // 0,2 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(0.2f);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(8);\n        ExecutorService exec = Executors.newFixedThreadPool(8);\n\n        for ( int i = 0; i &lt; 8; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n                for (int i1 = 0; i1 &lt; 2; i1++) {\n\n                    try {\n                        limiter.consume();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n    @Test\n    public void checkMultiThreadedRateLimitDynamicRate(){\n\n        // 100 request per second\n        RequestRateLimiter limiter = RequestRateLimiter.create(100);\n        long started = System.currentTimeMillis();\n\n        List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;&gt;(10);\n        ExecutorService exec = Executors.newFixedThreadPool(10);\n\n        for ( int i = 0; i &lt; 10; i++ ) {\n\n            tasks.add( exec.submit(() -&gt; {\n\n                Random r = new Random();\n                for (int i1 = 0; i1 &lt; 100; i1++) {\n\n                    try {\n                        limiter.consume();\n                        Thread.sleep(r.nextInt(1000));\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }) );\n        }\n\n        tasks.stream().forEach( future -&gt; {\n            try {\n                future.get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        });\n\n        long ended = System.currentTimeMillis();\n        System.out.println( \"Current rate:\" + limiter.getCurRate() );\n        Assert.assertTrue( (ended - started) &gt;= ( 10000 - 100 ) );\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4373839,"reputation":2413,"user_id":3567351,"display_name":"steph643"},"score":0,"creation_date":1626706922,"post_id":55349487,"comment_id":120959249,"body_markdown":"What is &quot;limit&quot;?","body":"What is &quot;limit&quot;?"},{"owner":{"account_id":12001544,"reputation":131,"user_id":8781330,"display_name":"tonywl"},"score":0,"creation_date":1626737735,"post_id":55349487,"comment_id":120968945,"body_markdown":"@steph643, limit is the the value of rate limiting threshold, i.e. if you want to enforce rate limiting of 5 per second, limit=5, interval = 1s.","body":"@steph643, limit is the the value of rate limiting threshold, i.e. if you want to enforce rate limiting of 5 per second, limit=5, interval = 1s."},{"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"score":0,"creation_date":1675778829,"post_id":55349487,"comment_id":132998871,"body_markdown":"@tonywl I think you have a bug - you aren&#39;t updating `lastTimeStamp` when no tokens are available, so until there&#39;s a full token, the more often you call - the faster you accumulate token fractions, regardless of how much time actually passed. for example: I init with `(2,1000)`, then wait 100ms and call 5 times quickly - the 5th call will be allowed even though only slightly more than 100ms have passed.","body":"@tonywl I think you have a bug - you aren&#39;t updating <code>lastTimeStamp</code> when no tokens are available, so until there&#39;s a full token, the more often you call - the faster you accumulate token fractions, regardless of how much time actually passed. for example: I init with <code>(2,1000)</code>, then wait 100ms and call 5 times quickly - the 5th call will be allowed even though only slightly more than 100ms have passed."},{"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"score":1,"creation_date":1676311901,"post_id":55349487,"comment_id":133108075,"body_markdown":"Future people - my above comment was from before the code was fixed. It is now fixed.","body":"Future people - my above comment was from before the code was fixed. It is now fixed."}],"tags":[],"owner":{"account_id":12001544,"reputation":131,"user_id":8781330,"display_name":"tonywl"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675928478,"creation_date":1553571338,"answer_id":55349487,"question_id":1407113,"body_markdown":"My implementation below can handle arbitrary request time precision, it has O(1) time complexity for each request, does not require any additional buffer, e.g. O(1) space complexity, in addition it does not require background thread to release token, instead tokens are released according to time passed since last request.\r\n\r\n    \r\n````\r\nclass RateLimiter {\r\n    int limit;\r\n    double available;\r\n    long interval;\r\n\r\n    long lastTimeStamp;\r\n\r\n    RateLimiter(int limit, long interval) {\r\n        this.limit = limit;\r\n        this.interval = interval;\r\n\r\n        available = 0;\r\n        lastTimeStamp = System.currentTimeMillis();\r\n    }\r\n\r\n    synchronized boolean canAdd() {\r\n        long now = System.currentTimeMillis();\r\n        // more token are released since last request\r\n        available += (now-lastTimeStamp)*1.0/interval*limit; \r\n        if (available&gt;limit)\r\n            available = limit;\r\n\r\n        lastTimeStamp = now;\r\n        if (available&lt;1)\r\n            return false;\r\n        else {\r\n            available--;\r\n            return true;\r\n        }\r\n    }\r\n}\r\n````\r\n  ","title":"Throttling method calls to M requests in N seconds","body":"<p>My implementation below can handle arbitrary request time precision, it has O(1) time complexity for each request, does not require any additional buffer, e.g. O(1) space complexity, in addition it does not require background thread to release token, instead tokens are released according to time passed since last request.</p>\n<pre><code>class RateLimiter {\n    int limit;\n    double available;\n    long interval;\n\n    long lastTimeStamp;\n\n    RateLimiter(int limit, long interval) {\n        this.limit = limit;\n        this.interval = interval;\n\n        available = 0;\n        lastTimeStamp = System.currentTimeMillis();\n    }\n\n    synchronized boolean canAdd() {\n        long now = System.currentTimeMillis();\n        // more token are released since last request\n        available += (now-lastTimeStamp)*1.0/interval*limit; \n        if (available&gt;limit)\n            available = limit;\n\n        lastTimeStamp = now;\n        if (available&lt;1)\n            return false;\n        else {\n            available--;\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1035276,"reputation":1423,"user_id":1042731,"display_name":"benbai123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568942578,"creation_date":1568942578,"answer_id":58020622,"question_id":1407113,"body_markdown":"My solution: A simple util method, you can modify it to create a wrapper class.\r\n\r\n    public static Runnable throttle (Runnable realRunner, long delay) {\r\n    \tRunnable throttleRunner = new Runnable() {\r\n    \t\t// whether is waiting to run\r\n    \t\tprivate boolean _isWaiting = false;\r\n    \t\t// target time to run realRunner\r\n    \t\tprivate long _timeToRun;\r\n    \t\t// specified delay time to wait\r\n    \t\tprivate long _delay = delay;\r\n    \t\t// Runnable that has the real task to run\r\n    \t\tprivate Runnable _realRunner = realRunner;\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\t// current time\r\n    \t\t\tlong now;\r\n    \t\t\tsynchronized (this) {\r\n    \t\t\t\t// another thread is waiting, skip\r\n    \t\t\t\tif (_isWaiting) return;\r\n    \t\t\t\tnow = System.currentTimeMillis();\r\n    \t\t\t\t// update time to run\r\n    \t\t\t\t// do not update it each time since\r\n    \t\t\t\t// you do not want to postpone it unlimited\r\n    \t\t\t\t_timeToRun = now+_delay;\r\n    \t\t\t\t// set waiting status\r\n    \t\t\t\t_isWaiting = true;\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(_timeToRun-now);\r\n    \t\t\t\t\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} finally {\r\n    \t\t\t\t// clear waiting status before run\r\n    \t\t\t\t_isWaiting = false;\r\n    \t\t\t\t// do the real task\r\n    \t\t\t\t_realRunner.run();\r\n    \t\t\t}\r\n    \t\t}};\r\n    \treturn throttleRunner;\r\n    }\r\n\r\nTake from [JAVA Thread Debounce and Throttle](https://ben-bai.blogspot.com/2019/09/thread-debounce-and-throttle.html)","title":"Throttling method calls to M requests in N seconds","body":"<p>My solution: A simple util method, you can modify it to create a wrapper class.</p>\n\n<pre><code>public static Runnable throttle (Runnable realRunner, long delay) {\n    Runnable throttleRunner = new Runnable() {\n        // whether is waiting to run\n        private boolean _isWaiting = false;\n        // target time to run realRunner\n        private long _timeToRun;\n        // specified delay time to wait\n        private long _delay = delay;\n        // Runnable that has the real task to run\n        private Runnable _realRunner = realRunner;\n        @Override\n        public void run() {\n            // current time\n            long now;\n            synchronized (this) {\n                // another thread is waiting, skip\n                if (_isWaiting) return;\n                now = System.currentTimeMillis();\n                // update time to run\n                // do not update it each time since\n                // you do not want to postpone it unlimited\n                _timeToRun = now+_delay;\n                // set waiting status\n                _isWaiting = true;\n            }\n            try {\n                Thread.sleep(_timeToRun-now);\n\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } finally {\n                // clear waiting status before run\n                _isWaiting = false;\n                // do the real task\n                _realRunner.run();\n            }\n        }};\n    return throttleRunner;\n}\n</code></pre>\n\n<p>Take from <a href=\"https://ben-bai.blogspot.com/2019/09/thread-debounce-and-throttle.html\" rel=\"nofollow noreferrer\">JAVA Thread Debounce and Throttle</a></p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689749286,"creation_date":1676539998,"answer_id":75470274,"question_id":1407113,"body_markdown":"Here is a rate limiter implementation based on @tonywl (and somewhat relates to Duarte Meneses&#39;s leaky bucket). The idea is the same - use a &quot;token pool&quot; to allow both rate limiting and bursting (make multiple calls in a short time after idling for a bit).\r\n\r\nThis implementation offers two main differences:\r\n1. Lock-less concurrent access using atomic operations.\r\n2. Instead of blocking a request, calculate a delay needed to enforce the rate limit and offers that as the response, allow the caller to enforce the delay - this will work better with asynchronous programming that you can find in modern networking frameworks.\r\n\r\nThe full implementation with documentation can be found in [this Github Gist](https://gist.github.com/guss77/7cc92e5631b069e965de6a7cebd5a477), which is where I&#39;ll also post updates, but here&#39;s the gist of it:\r\n\r\n```java\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic class RateLimiter {\r\n\tprivate final static long TOKEN_SIZE = 1_000_000 /* tockins per token */;\r\n\tprivate final double tokenRate; // measured in tokens per ms\r\n\tprivate final double tockinRate; // measured in tockins per ms\r\n\tprivate final long tockinsLimit;\r\n\t\r\n\tprivate AtomicLong available;\r\n\tprivate AtomicLong lastTimeStamp;\r\n\r\n\t/**\r\n\t * Create a new rate limiter with the token fill rate specified as\r\n\t * {@code fill}/{@code interval} and a maximum token pool size of {@code limit}, starting\r\n\t * with a {@code prefill} amount of tokens ready to be used.\r\n\t * @param prefill instead of starting with an empty pool, assume we &quot;start from rest&quot; and\r\n\t *                have tokens to consume. This value is clamped to {@code limit}.\r\n\t * @param limit The maximum number of tokens in the pool (burst size)\r\n\t * @param fill How many tokens will be filled in the pool by waiting {@code interval} time\r\n\t * @param interval How long will it take to get {@code fill} tokens back in the pool in ms\r\n\t */\r\n\tpublic RateLimiter(int prefill, int limit, int fill, long interval) {\r\n\t\tthis.tokenRate = (double)fill / interval;\r\n\t\tthis.tockinsLimit = TOKEN_SIZE * limit;\r\n\t\tthis.tockinRate = tokenRate * TOKEN_SIZE;\r\n\t\tthis.lastTimeStamp = new AtomicLong(System.nanoTime());\r\n\t\tthis.available  = new AtomicLong(Math.max(prefill, limit) * TOKEN_SIZE);\r\n\t}\r\n\r\n\tpublic boolean allowRequest() {\r\n\t\treturn whenNextAllowed(1, false) == 0;\r\n\t}\r\n\r\n\tpublic boolean allowRequest(int cost) {\r\n\t\treturn whenNextAllowed(cost, false) == 0;\r\n\t}\r\n\r\n\tpublic long whenNextAllowed(boolean alwaysConsume) {\r\n\t\treturn whenNextAllowed(1, alwaysConsume);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Check when will the next call be allowed, according to the specified rate.\r\n\t * The value returned is in milliseconds. If the result is 0 - or if {@code alwaysConsume} was\r\n\t * specified then the RateLimiter has recorded that the call has been allowed.\r\n\t * @param cost How costly is the requested action. The base rate is 1 token per request,\r\n\t *   but the client can declare a more costly action that consumes more tokens.\r\n\t * @param alwaysConsume if set to {@code true} this method assumes that the caller will delay\r\n\t *   the action that is rate limited but will perform it without checking again - so it will\r\n\t *   consume the specified number of tokens as if the action has gone through. This means that\r\n\t *   the pool can get into a deficit, which will further delay additional actions.\r\n\t * @return how many milliseconds before this request should be let through.\r\n\t */\r\n\tpublic long whenNextAllowed(int cost, boolean alwaysConsume) {\r\n\t\tvar now = System.nanoTime();\r\n\t\tvar last = lastTimeStamp.getAndSet(now);\r\n\t\t// calculate how many tockins we got since last call\r\n\t\t// if the previous call was less than a microsecond ago, we still accumulate at least\r\n\t\t// one tockin, which is probably more than we should, but this is too small to matter - right?\r\n\t\tvar add = (long)Math.ceil(tokenRate * (now - last));\r\n\t\tvar nowAvailable = available.addAndGet(add);\r\n\t\twhile (nowAvailable &gt; tockinsLimit) {\r\n\t\t\tavailable.compareAndSet(nowAvailable, tockinsLimit);\r\n\t\t\tnowAvailable = available.get();\r\n\t\t}\r\n\r\n\t\t// answer the question\r\n\t\tvar toWait = (long)Math.ceil(Math.max(0, (TOKEN_SIZE - nowAvailable) / tockinRate));\r\n\t\tif (alwaysConsume || toWait == 0) // the caller will let the request go through, so consume a token now\r\n\t\t\tavailable.addAndGet(-TOKEN_SIZE);\r\n\t\treturn toWait;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Throttling method calls to M requests in N seconds","body":"<p>Here is a rate limiter implementation based on @tonywl (and somewhat relates to Duarte Meneses's leaky bucket). The idea is the same - use a &quot;token pool&quot; to allow both rate limiting and bursting (make multiple calls in a short time after idling for a bit).</p>\n<p>This implementation offers two main differences:</p>\n<ol>\n<li>Lock-less concurrent access using atomic operations.</li>\n<li>Instead of blocking a request, calculate a delay needed to enforce the rate limit and offers that as the response, allow the caller to enforce the delay - this will work better with asynchronous programming that you can find in modern networking frameworks.</li>\n</ol>\n<p>The full implementation with documentation can be found in <a href=\"https://gist.github.com/guss77/7cc92e5631b069e965de6a7cebd5a477\" rel=\"nofollow noreferrer\">this Github Gist</a>, which is where I'll also post updates, but here's the gist of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.atomic.AtomicLong;\n\npublic class RateLimiter {\n    private final static long TOKEN_SIZE = 1_000_000 /* tockins per token */;\n    private final double tokenRate; // measured in tokens per ms\n    private final double tockinRate; // measured in tockins per ms\n    private final long tockinsLimit;\n    \n    private AtomicLong available;\n    private AtomicLong lastTimeStamp;\n\n    /**\n     * Create a new rate limiter with the token fill rate specified as\n     * {@code fill}/{@code interval} and a maximum token pool size of {@code limit}, starting\n     * with a {@code prefill} amount of tokens ready to be used.\n     * @param prefill instead of starting with an empty pool, assume we &quot;start from rest&quot; and\n     *                have tokens to consume. This value is clamped to {@code limit}.\n     * @param limit The maximum number of tokens in the pool (burst size)\n     * @param fill How many tokens will be filled in the pool by waiting {@code interval} time\n     * @param interval How long will it take to get {@code fill} tokens back in the pool in ms\n     */\n    public RateLimiter(int prefill, int limit, int fill, long interval) {\n        this.tokenRate = (double)fill / interval;\n        this.tockinsLimit = TOKEN_SIZE * limit;\n        this.tockinRate = tokenRate * TOKEN_SIZE;\n        this.lastTimeStamp = new AtomicLong(System.nanoTime());\n        this.available  = new AtomicLong(Math.max(prefill, limit) * TOKEN_SIZE);\n    }\n\n    public boolean allowRequest() {\n        return whenNextAllowed(1, false) == 0;\n    }\n\n    public boolean allowRequest(int cost) {\n        return whenNextAllowed(cost, false) == 0;\n    }\n\n    public long whenNextAllowed(boolean alwaysConsume) {\n        return whenNextAllowed(1, alwaysConsume);\n    }\n    \n    /**\n     * Check when will the next call be allowed, according to the specified rate.\n     * The value returned is in milliseconds. If the result is 0 - or if {@code alwaysConsume} was\n     * specified then the RateLimiter has recorded that the call has been allowed.\n     * @param cost How costly is the requested action. The base rate is 1 token per request,\n     *   but the client can declare a more costly action that consumes more tokens.\n     * @param alwaysConsume if set to {@code true} this method assumes that the caller will delay\n     *   the action that is rate limited but will perform it without checking again - so it will\n     *   consume the specified number of tokens as if the action has gone through. This means that\n     *   the pool can get into a deficit, which will further delay additional actions.\n     * @return how many milliseconds before this request should be let through.\n     */\n    public long whenNextAllowed(int cost, boolean alwaysConsume) {\n        var now = System.nanoTime();\n        var last = lastTimeStamp.getAndSet(now);\n        // calculate how many tockins we got since last call\n        // if the previous call was less than a microsecond ago, we still accumulate at least\n        // one tockin, which is probably more than we should, but this is too small to matter - right?\n        var add = (long)Math.ceil(tokenRate * (now - last));\n        var nowAvailable = available.addAndGet(add);\n        while (nowAvailable &gt; tockinsLimit) {\n            available.compareAndSet(nowAvailable, tockinsLimit);\n            nowAvailable = available.get();\n        }\n\n        // answer the question\n        var toWait = (long)Math.ceil(Math.max(0, (TOKEN_SIZE - nowAvailable) / tockinRate));\n        if (alwaysConsume || toWait == 0) // the caller will let the request go through, so consume a token now\n            available.addAndGet(-TOKEN_SIZE);\n        return toWait;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":40537,"reputation":2045,"user_id":117459,"display_name":"vtrubnikov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115788,"favorite_count":0,"down_vote_count":1,"up_vote_count":168,"accepted_answer_id":1407144,"answer_count":15,"score":167,"last_activity_date":1689749286,"creation_date":1252609456,"question_id":1407113,"body_markdown":"I need a component/class that throttles execution of some method to maximum M calls in N seconds (or ms or nanos, does not matter).\r\n\r\nIn other words I need to make sure that my method is executed no more than M times in a sliding window of N seconds.\r\n\r\nIf you don&#39;t know existing class feel free to post your solutions/ideas how you would implement this.","title":"Throttling method calls to M requests in N seconds","body":"<p>I need a component/class that throttles execution of some method to maximum M calls in N seconds (or ms or nanos, does not matter).</p>\n\n<p>In other words I need to make sure that my method is executed no more than M times in a sliding window of N seconds.</p>\n\n<p>If you don't know existing class feel free to post your solutions/ideas how you would implement this.</p>\n"},{"tags":["java","testing","encoding","jmeter"],"answers":[{"comments":[{"owner":{"account_id":296895,"reputation":4387,"user_id":602119,"display_name":"Boris"},"score":1,"creation_date":1490859917,"post_id":9363454,"comment_id":73303211,"body_markdown":"Just as a note: The BSF post processing is deprecated for some time and will be removed in 3.3 AFAIK. But of course this also works fine with a JSR223 PostProcessor when selecting either one of the beanshell or javascript languages.","body":"Just as a note: The BSF post processing is deprecated for some time and will be removed in 3.3 AFAIK. But of course this also works fine with a JSR223 PostProcessor when selecting either one of the beanshell or javascript languages."},{"owner":{"account_id":8690040,"reputation":811,"user_id":8689297,"display_name":"David Le Borgne"},"score":0,"creation_date":1639521054,"post_id":9363454,"comment_id":124368872,"body_markdown":"Successfully used this syntax in a JSR223 PostProcessor using JMeter 5.4.1","body":"Successfully used this syntax in a JSR223 PostProcessor using JMeter 5.4.1"}],"tags":[],"owner":{"account_id":164031,"reputation":400,"user_id":386546,"display_name":"Paweł Sokołowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1329751039,"creation_date":1329751039,"answer_id":9363454,"question_id":8488811,"body_markdown":"Add a BSF post processing element to the sampler with the following script:\r\n\r\n    prev.setDataEncoding(&quot;UTF-8&quot;)\r\n\r\nThat&#39;s what worked for me.","title":"JMeter sample response encoding","body":"<p>Add a BSF post processing element to the sampler with the following script:</p>\n\n<pre><code>prev.setDataEncoding(\"UTF-8\")\n</code></pre>\n\n<p>That's what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1361840,"reputation":1104,"user_id":1299049,"accept_rate":100,"display_name":"m c"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1478183423,"creation_date":1478183423,"answer_id":40404174,"question_id":8488811,"body_markdown":"Right property to set / change in *jmeter.properties* is\r\n\r\n     sampleresult.default.encoding=UTF-8\r\n\r\n(if omitted default is ISO-8859-1)","title":"JMeter sample response encoding","body":"<p>Right property to set / change in <em>jmeter.properties</em> is</p>\n\n<pre><code> sampleresult.default.encoding=UTF-8\n</code></pre>\n\n<p>(if omitted default is ISO-8859-1)</p>\n"}],"owner":{"account_id":347779,"reputation":1025,"user_id":682114,"accept_rate":67,"display_name":"ddario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18177,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1689749284,"creation_date":1323777387,"question_id":8488811,"body_markdown":"I&#39;m having problems with JMeter&#39;s handling of unicode characters. When a sample response contains such characters, they are returned corrupted.\r\nFor example, I&#39;m using the dummy sampler with this response data:\r\n\r\n    Hauptschule Sankt P&#253;lten, Pottenbrunn\r\nAnd JMeter returns:\r\n\r\n    Hauptschule Sankt P�lten, Pottenbrunn\r\n\r\nI&#39;ve set these properties in saveservice.properties and jmeter.properties respectively:\r\n\r\n    _file_encoding=UTF-8\r\n    sampleresult.default.encoding=UTF-8\r\nbut it makes no difference.\r\n\r\nAny ideas on how to fix this?\r\nThanks","title":"JMeter sample response encoding","body":"<p>I'm having problems with JMeter's handling of unicode characters. When a sample response contains such characters, they are returned corrupted.\nFor example, I'm using the dummy sampler with this response data:</p>\n\n<pre><code>Hauptschule Sankt Pýlten, Pottenbrunn\n</code></pre>\n\n<p>And JMeter returns:</p>\n\n<pre><code>Hauptschule Sankt P�lten, Pottenbrunn\n</code></pre>\n\n<p>I've set these properties in saveservice.properties and jmeter.properties respectively:</p>\n\n<pre><code>_file_encoding=UTF-8\nsampleresult.default.encoding=UTF-8\n</code></pre>\n\n<p>but it makes no difference.</p>\n\n<p>Any ideas on how to fix this?\nThanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1689751483,"post_id":76718628,"comment_id":135255817,"body_markdown":"In your member project, do you have another application.properties?  Honestly I am not sure if Spring Boot is going to load application.properties from dependencies or is loading only from the application jar itself","body":"In your member project, do you have another application.properties?  Honestly I am not sure if Spring Boot is going to load application.properties from dependencies or is loading only from the application jar itself"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1689752185,"post_id":76718628,"comment_id":135255961,"body_markdown":"Does this answer your question? [Spring Boot Inherit application.properties from dependency](https://stackoverflow.com/questions/35663679/spring-boot-inherit-application-properties-from-dependency)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35663679/spring-boot-inherit-application-properties-from-dependency\">Spring Boot Inherit application.properties from dependency</a>"}],"owner":{"account_id":27173222,"reputation":1,"user_id":20709584,"display_name":"real_rourou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689749145,"creation_date":1689749145,"question_id":76718628,"body_markdown":"I have two Maven projects called &quot;common&quot; &amp; &quot;member&quot;. I put my MySQL connection config file(`application.properties`) in common project. \r\n\r\n```java\r\nspring.datasource.url=jdbc:mysql://localhost:3306/train?serverTimezone=Asia/Shanghai&amp;characterEncoding=UTF8\r\nspring.datasource.username=train\r\nspring.datasource.password=1234\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n```\r\n**And I put &quot;common&quot; Maven dependency in &quot;member&quot; project, but when I started &quot;member&quot; project, it can&#39;t read `application.properties` in &quot;common&quot; project.** So it appears:\r\n\r\n```\r\n37.677 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:592  restartedMain                    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n37.684 INFO  o.a.c.core.StandardService    :173  restartedMain                    Stopping service [Tomcat]\r\n37.726 INFO  o.s.b.a.l.ConditionEvaluationReportLogger:82   restartedMain                    \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n37.780 ERROR o.s.b.d.LoggingFailureAnalysisReporter:40   restartedMain                    \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m sure something necessary have already add in &quot;common&quot; &amp; &quot;member&quot;:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n \r\nSo, how my &quot;member&quot; can&#39;t read the `application.properties` in &quot;common&quot;?\r\n","title":"Spring Boot: Can&#39;t read &quot;application.properties&quot; in another Maven project","body":"<p>I have two Maven projects called &quot;common&quot; &amp; &quot;member&quot;. I put my MySQL connection config file(<code>application.properties</code>) in common project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.datasource.url=jdbc:mysql://localhost:3306/train?serverTimezone=Asia/Shanghai&amp;characterEncoding=UTF8\nspring.datasource.username=train\nspring.datasource.password=1234\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n</code></pre>\n<p><strong>And I put &quot;common&quot; Maven dependency in &quot;member&quot; project, but when I started &quot;member&quot; project, it can't read <code>application.properties</code> in &quot;common&quot; project.</strong> So it appears:</p>\n<pre><code>37.677 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:592  restartedMain                    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n37.684 INFO  o.a.c.core.StandardService    :173  restartedMain                    Stopping service [Tomcat]\n37.726 INFO  o.s.b.a.l.ConditionEvaluationReportLogger:82   restartedMain                    \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n37.780 ERROR o.s.b.d.LoggingFailureAnalysisReporter:40   restartedMain                    \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>I'm sure something necessary have already add in &quot;common&quot; &amp; &quot;member&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So, how my &quot;member&quot; can't read the <code>application.properties</code> in &quot;common&quot;?</p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":7657038,"reputation":371,"user_id":5803526,"display_name":"tonykwok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689748445,"creation_date":1689748445,"answer_id":76718552,"question_id":74526840,"body_markdown":"From the screenshot, we can confirm 2 things:\r\n\r\n 1. Java class obfuscation is enabled in your build\r\n 2. The class `org.json.JSONObject` that is being used is NOT the one from `android.jar`\r\n\r\nYou can run the following command to find where it comes from:\r\n\r\n    ./gradlew :app:dependencies --configuration releaseRuntimeClasspath\r\n\r\nThe output may look like below:\r\n\r\n    +--- com.sample.infra.galaxy:galaxy-fds-sdk-java:3.0.9\r\n    |    +--- org.apache.httpcomponents:httpclient:4.3.3\r\n    |    |    +--- org.apache.httpcomponents:httpcore:4.3.2 -&gt; 4.4.13\r\n    |    |    +--- commons-logging:commons-logging:1.1.3 -&gt; 1.2\r\n    |    |    \\--- commons-codec:commons-codec:1.6\r\n    |    +--- com.google.guava:guava:16.0.1 -&gt; 31.0.1-android (*)\r\n    |    +--- commons-lang:commons-lang:2.4 -&gt; 2.6\r\n    |    +--- commons-io:commons-io:2.1\r\n    |    \\--- com.sample.infra.galaxy:galaxy-fds-core:3.0.9\r\n    |         +--- com.google.guava:guava:18.0 -&gt; 31.0.1-android (*)\r\n    |         +--- commons-logging:commons-logging:1.2\r\n    |         +--- org.json:json:20090211\r\n    |         \\--- commons-lang:commons-lang:2.6\r\n\r\nand you can see that `org.json:json:20090211` is used in this project, and the class `JSONObject` in this library may not have `#wrap` API, though the class `JSONObject` in `android.jar` has such API, it won&#39;t be used at runtime.\r\n\r\n","title":"i can not understand why not use JSONObject.wrap","body":"<p>From the screenshot, we can confirm 2 things:</p>\n<ol>\n<li>Java class obfuscation is enabled in your build</li>\n<li>The class <code>org.json.JSONObject</code> that is being used is NOT the one from <code>android.jar</code></li>\n</ol>\n<p>You can run the following command to find where it comes from:</p>\n<pre><code>./gradlew :app:dependencies --configuration releaseRuntimeClasspath\n</code></pre>\n<p>The output may look like below:</p>\n<pre><code>+--- com.sample.infra.galaxy:galaxy-fds-sdk-java:3.0.9\n|    +--- org.apache.httpcomponents:httpclient:4.3.3\n|    |    +--- org.apache.httpcomponents:httpcore:4.3.2 -&gt; 4.4.13\n|    |    +--- commons-logging:commons-logging:1.1.3 -&gt; 1.2\n|    |    \\--- commons-codec:commons-codec:1.6\n|    +--- com.google.guava:guava:16.0.1 -&gt; 31.0.1-android (*)\n|    +--- commons-lang:commons-lang:2.4 -&gt; 2.6\n|    +--- commons-io:commons-io:2.1\n|    \\--- com.sample.infra.galaxy:galaxy-fds-core:3.0.9\n|         +--- com.google.guava:guava:18.0 -&gt; 31.0.1-android (*)\n|         +--- commons-logging:commons-logging:1.2\n|         +--- org.json:json:20090211\n|         \\--- commons-lang:commons-lang:2.6\n</code></pre>\n<p>and you can see that <code>org.json:json:20090211</code> is used in this project, and the class <code>JSONObject</code> in this library may not have <code>#wrap</code> API, though the class <code>JSONObject</code> in <code>android.jar</code> has such API, it won't be used at runtime.</p>\n"}],"owner":{"account_id":15049463,"reputation":11,"user_id":10861545,"display_name":"Jack Fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689748445,"creation_date":1669083529,"question_id":74526840,"body_markdown":"i have change minSdkVersion to 21, but when i use JSONObject.wrap,it fatal by No static method wrap(Ljava/lang/Object;)Ljava/lang/Object\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/zG3vH.png)](https://i.stack.imgur.com/zG3vH.png)","title":"i can not understand why not use JSONObject.wrap","body":"<p>i have change minSdkVersion to 21, but when i use JSONObject.wrap,it fatal by No static method wrap(Ljava/lang/Object;)Ljava/lang/Object</p>\n<p><a href=\"https://i.stack.imgur.com/zG3vH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zG3vH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1689747654,"post_id":76718392,"comment_id":135255156,"body_markdown":"Stop using this very old (7 years) library. switch to a newer version","body":"Stop using this very old (7 years) library. switch to a newer version"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1689747684,"post_id":76718392,"comment_id":135255166,"body_markdown":"the [`pom`](https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom) suggest it is java 5 compatible. see the [docs on maven configuration](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).","body":"the <a href=\"https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom\" rel=\"nofollow noreferrer\"><code>pom</code></a> suggest it is java 5 compatible. see the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">docs on maven configuration</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689804323,"post_id":76718392,"comment_id":135267232,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689748003,"creation_date":1689748003,"answer_id":76718498,"question_id":76718392,"body_markdown":"The [`pom`](https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom) suggest it is Java 5 compatible.\r\n\r\n    ...\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.5&lt;/source&gt;\r\n            &lt;target&gt;1.5&lt;/target&gt;\r\n            &lt;compilerArgs&gt;\r\n            ...\r\n\r\nYou can learn how to read the `pom` file by referring to [maven configuration documentation](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).\r\n\r\nAs Jen suggested, you should use newer version (1.6.2) which support Java 7 and Java 9. However, please exercise caution as both version have known CVE as stated in the maven page. You should see if you could upgrade your code to be compatible with the latest fork called [`jakarta.mail`](https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail).","title":"javax.mail version compatibility","body":"<p>The <a href=\"https://repo1.maven.org/maven2/com/sun/mail/javax.mail/1.5.6/javax.mail-1.5.6.pom\" rel=\"nofollow noreferrer\"><code>pom</code></a> suggest it is Java 5 compatible.</p>\n<pre><code>...\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.5&lt;/source&gt;\n        &lt;target&gt;1.5&lt;/target&gt;\n        &lt;compilerArgs&gt;\n        ...\n</code></pre>\n<p>You can learn how to read the <code>pom</code> file by referring to <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven configuration documentation</a>.</p>\n<p>As Jen suggested, you should use newer version (1.6.2) which support Java 7 and Java 9. However, please exercise caution as both version have known CVE as stated in the maven page. You should see if you could upgrade your code to be compatible with the latest fork called <a href=\"https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail\" rel=\"nofollow noreferrer\"><code>jakarta.mail</code></a>.</p>\n"}],"owner":{"account_id":21506854,"reputation":9,"user_id":15850113,"display_name":"Yallaling Kolkur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689748003,"creation_date":1689746862,"question_id":76718392,"body_markdown":"which is the javax.mail version is compatible with java version 1.7.0_191\r\nand which version of java is compatible with javax.mail-1.5.6.jar\r\n\r\n\r\nplease let us know the correct answer because i am facing a below exception, currently i have java 1.7.0-191 and javax.mail-1.5.6.jar\r\n\r\n    Caused by: java.lang.NoSuchFieldError: SIZE\r\n    \tat com.sun.mail.imap.IMAPFolder.fetch(IMAPFolder.java:1200)\r\n    \tat com.idit.jafa.work_flow.server.manager.NewEmailManagerJAFA.extractMessages(NewEmailManagerJAFA.java:208)\r\n\r\nplease help me to solve this problem","title":"javax.mail version compatibility","body":"<p>which is the javax.mail version is compatible with java version 1.7.0_191\nand which version of java is compatible with javax.mail-1.5.6.jar</p>\n<p>please let us know the correct answer because i am facing a below exception, currently i have java 1.7.0-191 and javax.mail-1.5.6.jar</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: SIZE\n    at com.sun.mail.imap.IMAPFolder.fetch(IMAPFolder.java:1200)\n    at com.idit.jafa.work_flow.server.manager.NewEmailManagerJAFA.extractMessages(NewEmailManagerJAFA.java:208)\n</code></pre>\n<p>please help me to solve this problem</p>\n"},{"tags":["java","android","android-button","grid-layout","tablelayout"],"owner":{"account_id":3446000,"reputation":435,"user_id":2886813,"display_name":"Samwise Ganges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689747771,"creation_date":1689747771,"question_id":76718484,"body_markdown":"I&#39;m trying to create an Android app with a grid of buttons in the main Activity. I need to be able to easily change the number of rows and columns of the grid so it has to be done programmatically through the Java and not in the XML.\r\n\r\nI want the grid to take up the full height and width of its parent layout (currently a simple FrameLayout inside a ConstraintLayout) regardless of the button text. I wrote a method to generate the grid using a TableLayout and it almost works but the resulting grid doesn&#39;t take up the full height of the container. The colors are only there temporarily to facilitate troubleshooting as it makes it easy to see which parts are where. Below is the method I have currently:\r\n\r\n     private void generateButtonTable(Context context, ViewGroup layout){\r\n\r\n        int ROWS = 3;\r\n        int COLUMNS = 3;\r\n\r\n        TableLayout tableLayout = new TableLayout(context);\r\n        tableLayout.setBackgroundColor(Color.RED); // This is taking up the full height and width of parent\r\n\r\n        int button_id = 0;\r\n\r\n        for (int i = 0; i &lt; ROWS; i++){\r\n            TableRow tableRow = new TableRow(context);\r\n\r\n            tableRow.setLayoutParams(new TableRow.LayoutParams(\r\n                    0,\r\n                    0, // Set the height to 0, and the TableRow will use weight to occupy the remaining space\r\n                    1f // Set the weight to evenly distribute the height among rows\r\n            ));\r\n\r\n            tableRow.setBackgroundColor(Color.BLUE); // Only taking up full width\r\n\r\n            for (int j = 0; j &lt; COLUMNS; j++){\r\n                Button button = new Button(context);\r\n\r\n                button.setLayoutParams(new TableRow.LayoutParams(\r\n                        0, // Set the width to 0, and the Button will use weight to occupy the remaining space\r\n                        ViewGroup.LayoutParams.MATCH_PARENT, // Set the height to MATCH_PARENT\r\n                        1f // Set the weight to evenly distribute the width\r\n                ));\r\n\r\n                button.setBackgroundColor(Color.GREEN);\r\n                button.setText(&quot;button &quot;+button_id++);\r\n                tableRow.addView(button);\r\n            }\r\n            tableLayout.addView(tableRow, i);\r\n        }\r\n        layout.addView(tableLayout);\r\n    }\r\n\r\nThe table rows and buttons are taking up the full width correctly, but not the full height. For some reason setting the height of the rows to 0 and using the weight doesn&#39;t work.\r\n\r\nBelow is the onCreate method where it&#39;s called:\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar); // Replaces the default ActionBar with our custom ToolBar\r\n\r\n        FrameLayout layout = findViewById(R.id.grid_container);\r\n        generateButtonTable(this, layout);\r\n\r\n    }\r\n\r\nHere&#39;s the XML for the main Activity:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mainRelativeLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;0dp&quot;\r\n    tools:context=&quot;com.therealsamchaney.beatcube.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        layout=&quot;@layout/toolbar&quot;\r\n        /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/grid_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        &gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nHow can I get the grid to take up the full height correctly? Do I need to switch to a GridLayout instead?","title":"In Android Studio, how can I programmatically generate a grid of buttons that takes up the full width and height of its parent layout?","body":"<p>I'm trying to create an Android app with a grid of buttons in the main Activity. I need to be able to easily change the number of rows and columns of the grid so it has to be done programmatically through the Java and not in the XML.</p>\n<p>I want the grid to take up the full height and width of its parent layout (currently a simple FrameLayout inside a ConstraintLayout) regardless of the button text. I wrote a method to generate the grid using a TableLayout and it almost works but the resulting grid doesn't take up the full height of the container. The colors are only there temporarily to facilitate troubleshooting as it makes it easy to see which parts are where. Below is the method I have currently:</p>\n<pre><code> private void generateButtonTable(Context context, ViewGroup layout){\n\n    int ROWS = 3;\n    int COLUMNS = 3;\n\n    TableLayout tableLayout = new TableLayout(context);\n    tableLayout.setBackgroundColor(Color.RED); // This is taking up the full height and width of parent\n\n    int button_id = 0;\n\n    for (int i = 0; i &lt; ROWS; i++){\n        TableRow tableRow = new TableRow(context);\n\n        tableRow.setLayoutParams(new TableRow.LayoutParams(\n                0,\n                0, // Set the height to 0, and the TableRow will use weight to occupy the remaining space\n                1f // Set the weight to evenly distribute the height among rows\n        ));\n\n        tableRow.setBackgroundColor(Color.BLUE); // Only taking up full width\n\n        for (int j = 0; j &lt; COLUMNS; j++){\n            Button button = new Button(context);\n\n            button.setLayoutParams(new TableRow.LayoutParams(\n                    0, // Set the width to 0, and the Button will use weight to occupy the remaining space\n                    ViewGroup.LayoutParams.MATCH_PARENT, // Set the height to MATCH_PARENT\n                    1f // Set the weight to evenly distribute the width\n            ));\n\n            button.setBackgroundColor(Color.GREEN);\n            button.setText(&quot;button &quot;+button_id++);\n            tableRow.addView(button);\n        }\n        tableLayout.addView(tableRow, i);\n    }\n    layout.addView(tableLayout);\n}\n</code></pre>\n<p>The table rows and buttons are taking up the full width correctly, but not the full height. For some reason setting the height of the rows to 0 and using the weight doesn't work.</p>\n<p>Below is the onCreate method where it's called:</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar); // Replaces the default ActionBar with our custom ToolBar\n\n    FrameLayout layout = findViewById(R.id.grid_container);\n    generateButtonTable(this, layout);\n\n}\n</code></pre>\n<p>Here's the XML for the main Activity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/mainRelativeLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingTop=&quot;0dp&quot;\ntools:context=&quot;com.therealsamchaney.beatcube.MainActivity&quot;&gt;\n\n\n&lt;include\n    android:id=&quot;@+id/toolbar&quot;\n    layout=&quot;@layout/toolbar&quot;\n    /&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/grid_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    android:background=&quot;@color/black&quot;\n    &gt;\n\n&lt;/FrameLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>How can I get the grid to take up the full height correctly? Do I need to switch to a GridLayout instead?</p>\n"},{"tags":["java","mysql","arrays","lambda","java-8"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1689653982,"post_id":76709494,"comment_id":135240373,"body_markdown":"How is the result derived from the data? I would have expected values of 2, 3, 2 instead of 3, 3, 1. What specifically did you try and what wasn’t working? Please read [ask].","body":"How is the result derived from the data? I would have expected values of 2, 3, 2 instead of 3, 3, 1. What specifically did you try and what wasn’t working? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"score":0,"creation_date":1689658243,"post_id":76709494,"comment_id":135240741,"body_markdown":"SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\nFROM your_table\nGROUP BY HOUR(date_time)\nORDER BY HOUR(date_time);","body":"SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count FROM your_table GROUP BY HOUR(date_time) ORDER BY HOUR(date_time);"}],"answers":[{"comments":[{"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"score":0,"creation_date":1689655031,"post_id":76709533,"comment_id":135240471,"body_markdown":"SELECT group_concat(distinct CONCAT(HOUR(INCIDENT_TIMESTAMP_), &#39;-&#39;, HOUR(INCIDENT_TIMESTAMP_) + 1)) AS hour_range, COUNT(INCIDENT_TIMESTAMP_) AS count\nFROM act_ru_incident WHERE  INCIDENT_TIMESTAMP_ &gt; now() - INTERVAL 8 HOUR and PROC_DEF_ID_ = &#39;somecontion&#39;\nGROUP BY HOUR(INCIDENT_TIMESTAMP_)\nORDER BY HOUR(INCIDENT_TIMESTAMP_);\n\nTo fetch past 8 hours record the above is fine right ? @ps-","body":"SELECT group_concat(distinct CONCAT(HOUR(INCIDENT_TIMESTAMP_), &#39;-&#39;, HOUR(INCIDENT_TIMESTAMP_) + 1)) AS hour_range, COUNT(INCIDENT_TIMESTAMP_) AS count FROM act_ru_incident WHERE  INCIDENT_TIMESTAMP_ &gt; now() - INTERVAL 8 HOUR and PROC_DEF_ID_ = &#39;somecontion&#39; GROUP BY HOUR(INCIDENT_TIMESTAMP_) ORDER BY HOUR(INCIDENT_TIMESTAMP_);  To fetch past 8 hours record the above is fine right ? @ps-"},{"owner":{"account_id":8166986,"reputation":244,"user_id":6148911,"display_name":"ps-"},"score":0,"creation_date":1689743988,"post_id":76709533,"comment_id":135254702,"body_markdown":"Sorry for replying late. Yes this query should work for past  8 hours. The only suggestion is, you are grouping by hour(&lt;field&gt;) where I guess your assumption is that your data is only for a day. In case you want to see multiple days&#39; data, this will mix up your hourly data between dates. Instead you should use date_format(date_time, &#39;%Y%m%d%h&#39;) or similar to group your data. This will help you seeing accurate data across dates.","body":"Sorry for replying late. Yes this query should work for past  8 hours. The only suggestion is, you are grouping by hour(&lt;field&gt;) where I guess your assumption is that your data is only for a day. In case you want to see multiple days&#39; data, this will mix up your hourly data between dates. Instead you should use date_format(date_time, &#39;%Y%m%d%h&#39;) or similar to group your data. This will help you seeing accurate data across dates."},{"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"score":0,"creation_date":1689747811,"post_id":76709533,"comment_id":135255187,"body_markdown":"Thank you ps- \nAs of now we need only one day data \nFor example if date is 2023-07-19 10:01:01.000 then it should return the previous day record since we are trying to fetch last 8 hours data \n\nWhere i need to use date_format(date_time, &#39;%Y%m%d%h&#39;) ps ?","body":"Thank you ps-  As of now we need only one day data  For example if date is 2023-07-19 10:01:01.000 then it should return the previous day record since we are trying to fetch last 8 hours data   Where i need to use date_format(date_time, &#39;%Y%m%d%h&#39;) ps ?"},{"owner":{"account_id":8166986,"reputation":244,"user_id":6148911,"display_name":"ps-"},"score":0,"creation_date":1689755835,"post_id":76709533,"comment_id":135256697,"body_markdown":"24 hours back in time should not create any problem. Beyond that, you should use date_format() is what I would recommend.","body":"24 hours back in time should not create any problem. Beyond that, you should use date_format() is what I would recommend."}],"tags":[],"owner":{"account_id":8166986,"reputation":244,"user_id":6148911,"display_name":"ps-"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689654435,"creation_date":1689654435,"answer_id":76709533,"question_id":76709494,"body_markdown":"In case you are expecting &lt;hour-range, count&gt; in your output, following query might solve your problem -\r\n\r\n    SELECT group_concat(distinct CONCAT(HOUR(date_time), &#39;-&#39;, HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\r\n    FROM your_table\r\n    GROUP BY HOUR(date_time)\r\n    ORDER BY HOUR(date_time);\r\n\r\n[Fiddle Link][1]\r\n\r\n\r\n  [1]: https://dbfiddle.uk/EG7xD8aB","title":"Compute the date range count for every hour using a list of dates","body":"<p>In case you are expecting &lt;hour-range, count&gt; in your output, following query might solve your problem -</p>\n<pre><code>SELECT group_concat(distinct CONCAT(HOUR(date_time), '-', HOUR(date_time) + 1)) AS hour_range, COUNT(date_time) AS count\nFROM your_table\nGROUP BY HOUR(date_time)\nORDER BY HOUR(date_time);\n</code></pre>\n<p><a href=\"https://dbfiddle.uk/EG7xD8aB\" rel=\"nofollow noreferrer\">Fiddle Link</a></p>\n"}],"owner":{"account_id":3588941,"reputation":1953,"user_id":2995424,"accept_rate":86,"display_name":"Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76709533,"answer_count":1,"score":-2,"last_activity_date":1689747688,"creation_date":1689653728,"question_id":76709494,"body_markdown":"1. I want the **Map&lt;String hours, count &gt;** from the list of dates \r\n2. I also group by date and count for every 1 hour\r\n\r\nEx In DB Value looks like this \r\n\r\n    2023-07-18 10:10:00.000\r\n    2023-07-18 10:20:00.000\r\n    2023-07-18 11:10:00.000\r\n    2023-07-18 11:30:00.000\r\n    2023-07-18 11:35:00.000\r\n    2023-07-18 12:10:00.000\r\n    2023-07-18 12:30:00.000\r\n\r\nMy expected result should be as follow as should calculate each 1 hour range count\r\n\r\nMap result \r\n\r\n    &lt;10-11 ,2&gt;\r\n    &lt;11-12 ,3&gt;\r\n    &lt;12-13 ,2&gt;\r\n\r\nI tried lot of examples provide by the forum but does&#39;t work.\r\n\r\n","title":"Compute the date range count for every hour using a list of dates","body":"<ol>\n<li>I want the <strong>Map&lt;String hours, count &gt;</strong> from the list of dates</li>\n<li>I also group by date and count for every 1 hour</li>\n</ol>\n<p>Ex In DB Value looks like this</p>\n<pre><code>2023-07-18 10:10:00.000\n2023-07-18 10:20:00.000\n2023-07-18 11:10:00.000\n2023-07-18 11:30:00.000\n2023-07-18 11:35:00.000\n2023-07-18 12:10:00.000\n2023-07-18 12:30:00.000\n</code></pre>\n<p>My expected result should be as follow as should calculate each 1 hour range count</p>\n<p>Map result</p>\n<pre><code>&lt;10-11 ,2&gt;\n&lt;11-12 ,3&gt;\n&lt;12-13 ,2&gt;\n</code></pre>\n<p>I tried lot of examples provide by the forum but does't work.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":2,"creation_date":1410491091,"post_id":25800068,"comment_id":40355699,"body_markdown":"it is unclear what you want or are asking","body":"it is unclear what you want or are asking"},{"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"score":0,"creation_date":1410491313,"post_id":25800068,"comment_id":40355752,"body_markdown":"if user 1 plays then 3, 2\nif user 2 plays then 1, 3\nif user 3 plays then 2, 1\nIs that what you want?","body":"if user 1 plays then 3, 2 if user 2 plays then 1, 3 if user 3 plays then 2, 1 Is that what you want?"}],"answers":[{"comments":[{"owner":{"account_id":2184663,"reputation":51,"user_id":1933338,"accept_rate":75,"display_name":"zlittrell"},"score":0,"creation_date":1410495607,"post_id":25800193,"comment_id":40356699,"body_markdown":"Thanks a lot that looks like it will work :). I was used to using for loops but that would make much more sense","body":"Thanks a lot that looks like it will work :). I was used to using for loops but that would make much more sense"}],"tags":[],"owner":{"account_id":295,"reputation":101689,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410491870,"creation_date":1410491870,"answer_id":25800193,"question_id":25800068,"body_markdown":"I don&#39;t think you want to use a `for` loop to implement this logic. You want to reverse direction as soon as the reverse card is played, not at the end of the for-loop. \r\n\r\nI would handle it turn by turn, treating the current player as part of the state, rather than a loop variable.\r\n\r\nTry implementing something like this (pseudocode):\r\n    \r\n    subroutine nextPlayer:\r\n        if direction == 1:\r\n            player = (player + 1) % playerCount\r\n        else:\r\n            player = (player - 1) % playerCount    \r\n\r\n    main loop:\r\n        while game not over:\r\n            play turn (player)\r\n            if played skip:\r\n                nextPlayer\r\n                nextPlayer\r\n            else if played reverse:\r\n                direction = direction * -1\r\n                nextPlayer\r\n            else                 \r\n                nextPlayer\r\n            end if\r\n        end while            ","title":"Get a for loop in Uno to reverse order","body":"<p>I don't think you want to use a <code>for</code> loop to implement this logic. You want to reverse direction as soon as the reverse card is played, not at the end of the for-loop. </p>\n\n<p>I would handle it turn by turn, treating the current player as part of the state, rather than a loop variable.</p>\n\n<p>Try implementing something like this (pseudocode):</p>\n\n<pre><code>subroutine nextPlayer:\n    if direction == 1:\n        player = (player + 1) % playerCount\n    else:\n        player = (player - 1) % playerCount    \n\nmain loop:\n    while game not over:\n        play turn (player)\n        if played skip:\n            nextPlayer\n            nextPlayer\n        else if played reverse:\n            direction = direction * -1\n            nextPlayer\n        else                 \n            nextPlayer\n        end if\n    end while            \n</code></pre>\n"}],"owner":{"account_id":2184663,"reputation":51,"user_id":1933338,"accept_rate":75,"display_name":"zlittrell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":25800193,"answer_count":1,"score":0,"last_activity_date":1689747335,"creation_date":1410490826,"question_id":25800068,"body_markdown":"I&#39;m attempting to make a Java version of the card game Uno. In the game there is a card that reverses the order of play so if Player 1 plays the card, Player 3 is next, then Player 2 and so on. However, I am having difficulty on trying to get: \r\n\r\n```lang-java\r\nfor(int i = 0; i &lt; 3; i++){\r\n\tif(game.skipNext){\r\n\t\tgame.playTurn((i + 1) % 3);\r\n\t\tgame.skipNext = false;\r\n\t} else {\r\n\t\tgame.playTurn(i);\r\n\t}\r\n```\r\n\r\nto reverse the order so Player 3 follows Player 1 etc.\r\n\r\nI have this current code:\r\n\r\n```lang-java\r\nwhile(game.gameIsActive){\r\n\tif(game.gameIsClockwise){\r\n\t\tfor(int i = 0; i &lt; 3; i++){\r\n\t\t\tif(game.skipNext){\r\n\t\t\t\tgame.playTurn((i + 1) % 3);\r\n\t\t\t\tgame.skipNext = false;\r\n\t\t\t} else {\r\n\t\t\t\tgame.playTurn(i);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tint loopStart = (game.newlyClockwise) ? game.activePlayer - 1/* Starts with previous player*/ : 2;\r\n\t\tfor(int i = loopStart; i &gt; -1;i--) {\r\n\t\t\tif(game.skipNext){\r\n\t\t\t\tgame.playTurn((i + 1) % 3);\r\n\t\t\t\tgame.skipNext = false;\r\n\t\t\t} else {\r\n\t\t\t\tgame.playTurn(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nas my game loop but it does not work. If Player 1 plays reverse, Player 2 still goes next.","title":"Get a for loop in Uno to reverse order","body":"<p>I'm attempting to make a Java version of the card game Uno. In the game there is a card that reverses the order of play so if Player 1 plays the card, Player 3 is next, then Player 2 and so on. However, I am having difficulty on trying to get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 3; i++){\n    if(game.skipNext){\n        game.playTurn((i + 1) % 3);\n        game.skipNext = false;\n    } else {\n        game.playTurn(i);\n    }\n</code></pre>\n<p>to reverse the order so Player 3 follows Player 1 etc.</p>\n<p>I have this current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(game.gameIsActive){\n    if(game.gameIsClockwise){\n        for(int i = 0; i &lt; 3; i++){\n            if(game.skipNext){\n                game.playTurn((i + 1) % 3);\n                game.skipNext = false;\n            } else {\n                game.playTurn(i);\n            }\n        }\n    } else {\n        int loopStart = (game.newlyClockwise) ? game.activePlayer - 1/* Starts with previous player*/ : 2;\n        for(int i = loopStart; i &gt; -1;i--) {\n            if(game.skipNext){\n                game.playTurn((i + 1) % 3);\n                game.skipNext = false;\n            } else {\n                game.playTurn(i);\n            }\n        }\n    }\n}\n</code></pre>\n<p>as my game loop but it does not work. If Player 1 plays reverse, Player 2 still goes next.</p>\n"},{"tags":["java","mysql","jdbc","timezone"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1689354559,"post_id":76685282,"comment_id":135206809,"body_markdown":"`I have tried implementing various timezone settings` where?","body":"<code>I have tried implementing various timezone settings</code> where?"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689654254,"post_id":76685282,"comment_id":135240397,"body_markdown":"In servlet code","body":"In servlet code"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1689691131,"post_id":76685282,"comment_id":135247736,"body_markdown":"It is not available.","body":"It is not available."},{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":0,"creation_date":1689710283,"post_id":76685282,"comment_id":135251525,"body_markdown":"Are you sure that the web client and the database server are in the same timezone?","body":"Are you sure that the web client and the database server are in the same timezone?"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689745669,"post_id":76685282,"comment_id":135254879,"body_markdown":"I think issue is with timezone difference since I tried inserting a date input into the table like below:","body":"I think issue is with timezone difference since I tried inserting a date input into the table like below:"},{"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"score":0,"creation_date":1689746032,"post_id":76685282,"comment_id":135254927,"body_markdown":"@user2773289 , I think issue is with timezone difference since I tried inserting a date input into the table like below: stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;)); and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored","body":"@user2773289 , I think issue is with timezone difference since I tried inserting a date input into the table like below: stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;)); and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored"},{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":0,"creation_date":1689780931,"post_id":76685282,"comment_id":135262886,"body_markdown":"@bearbear please read the issue here: https://stackoverflow.com/questions/61561247/java-sql-date-is-off-by-1-day\n\nIt may help...","body":"@bearbear please read the issue here: <a href=\"https://stackoverflow.com/questions/61561247/java-sql-date-is-off-by-1-day\" title=\"java sql date is off by 1 day\">stackoverflow.com/questions/61561247/&hellip;</a>  It may help..."}],"owner":{"account_id":29014952,"reputation":19,"user_id":22225576,"display_name":"bear bear"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689747176,"creation_date":1689317081,"question_id":76685282,"body_markdown":"I am developing a web application using jsp, java servlets and mysql. I am facing certain issue described below:\r\nThe user input date received from jsp page to servlet is correct as I can check in print statement but when sql statement is run in the servlet, the final date stored in the mysql table is incorrect, that too it is 1 day shifted before. For example, if selected input date is 2023-06-20 and the sqlDate variable is also containing the same format date (which I tried printing just before inserting into database table), now after executing insert/update statement , the value stored in the actual date column of the database is 2023-06-19, i.e one day less.\r\n\r\n\r\nI have tried implementing various timezone settings suggested by chatGpt but none of them is working. My database server time zone is SYSTEM. I am also storing current timestamp in the table on updating the date field but somehow the timestamp shows correct date and time but only date field is getting incorrectly stored.\r\n\r\nFollowing is few of my code lines. Please ignore any syntax errors as I have manually typed code lines in here.\r\n```\r\n**//user jsp form**\r\n...\r\n&lt;input type=&quot;date&quot; id =&quot;start_date&quot; name=&quot;start_date&quot; value=&quot;here dynamically fetched date from the course_progress table is shown, which user can change and submit to update&quot;&gt;\r\n&lt;!-- user selected date: 2023-06-20&gt;\r\n...\r\n**//servlet class**\r\nString date_start = request.getParameter(&quot;start_date&quot;);\r\njava.sql.Date start_date = null;\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nif(date_start !=null &amp;&amp; !(date_start.isEmpty())){\r\ntry{\r\nstart_date = (java.sql.Date) new java.sql.Date(sdf.parse(request.getParameter(&quot;start_date&quot;)).getTime());\r\n}catch(ParseException e){\r\ne.printStackTrace();\r\n}\r\n}\r\nCourse theCourse = new Course(few parameters, start_date);\r\nSystem.out.println(&quot;Before sending Params are &quot; + theCourse.toString()) // start_date: 2023-06-20\r\nMesssage msg = dbUtil(theCourse);\r\n\r\n**//dbUtil class**\r\n...\r\njava.sql.Date start_date = theCourse.getStart_date();\r\n//System.out.println(&quot;Received Date in dbUtil is&quot; + start_date ) // start_date: 2023-06-20\r\n\r\n//get db connection\r\n...\r\nPreparedStatement stmt = null;\r\n\r\nconn = dataSource.getConnection();\r\nString sql = &quot;update course_progress set start_date = ?, lecture_count = ? where course_id = ?&quot;;\r\nstmt = conn.prepareStatement(sql);\r\nstmt.setDate(1,start_date );\r\n...\r\nstmt.execute();\r\n...\r\n```\r\n\r\nPlease note that I am using java.sql.Date throughout my java entity  classes in the project, so I  cannot use java util date as it throws other conversion errors. Also, the type of start_date field in mysql table is **DATE**.\r\n\r\n**EDIT:**\r\nI think issue is with timezone difference since I tried inserting a date input into the table like below: \r\n\r\n**stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;));**\r\n\r\nand the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored.\r\n\r\nI used the **TimeZone.getDefault()** method to retrieve the default time zone of the Java virtual machine (JVM)\r\n\r\n\r\n    // Get the system&#39;s time zone\r\n        TimeZone timeZone = TimeZone.getDefault();\r\n\r\n        // Get the offset value of the time zone\r\n        int offsetHours = timeZone.getRawOffset() / (60 * 60 * 1000);\r\n        int offsetMinutes = (Math.abs(timeZone.getRawOffset()) / (60 * 1000)) % 60;\r\n        String offset = String.format(&quot;%+03d:%02d&quot;, offsetHours, offsetMinutes);\r\n\r\n\r\n    conn = dataSource.getConnection();\r\n            conn.createStatement().execute(&quot;SET time_zone = &#39;&quot; + offset + &quot;&#39;&quot;);\r\n\r\n\r\nI got this solution from chatGPT, not sure what it does as I am new to JAVA .Please correct me what I am doing wrong\r\n\r\n","title":"Incorrect user date input being stored in MySQL table","body":"<p>I am developing a web application using jsp, java servlets and mysql. I am facing certain issue described below:\nThe user input date received from jsp page to servlet is correct as I can check in print statement but when sql statement is run in the servlet, the final date stored in the mysql table is incorrect, that too it is 1 day shifted before. For example, if selected input date is 2023-06-20 and the sqlDate variable is also containing the same format date (which I tried printing just before inserting into database table), now after executing insert/update statement , the value stored in the actual date column of the database is 2023-06-19, i.e one day less.</p>\n<p>I have tried implementing various timezone settings suggested by chatGpt but none of them is working. My database server time zone is SYSTEM. I am also storing current timestamp in the table on updating the date field but somehow the timestamp shows correct date and time but only date field is getting incorrectly stored.</p>\n<p>Following is few of my code lines. Please ignore any syntax errors as I have manually typed code lines in here.</p>\n<pre><code>**//user jsp form**\n...\n&lt;input type=&quot;date&quot; id =&quot;start_date&quot; name=&quot;start_date&quot; value=&quot;here dynamically fetched date from the course_progress table is shown, which user can change and submit to update&quot;&gt;\n&lt;!-- user selected date: 2023-06-20&gt;\n...\n**//servlet class**\nString date_start = request.getParameter(&quot;start_date&quot;);\njava.sql.Date start_date = null;\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nif(date_start !=null &amp;&amp; !(date_start.isEmpty())){\ntry{\nstart_date = (java.sql.Date) new java.sql.Date(sdf.parse(request.getParameter(&quot;start_date&quot;)).getTime());\n}catch(ParseException e){\ne.printStackTrace();\n}\n}\nCourse theCourse = new Course(few parameters, start_date);\nSystem.out.println(&quot;Before sending Params are &quot; + theCourse.toString()) // start_date: 2023-06-20\nMesssage msg = dbUtil(theCourse);\n\n**//dbUtil class**\n...\njava.sql.Date start_date = theCourse.getStart_date();\n//System.out.println(&quot;Received Date in dbUtil is&quot; + start_date ) // start_date: 2023-06-20\n\n//get db connection\n...\nPreparedStatement stmt = null;\n\nconn = dataSource.getConnection();\nString sql = &quot;update course_progress set start_date = ?, lecture_count = ? where course_id = ?&quot;;\nstmt = conn.prepareStatement(sql);\nstmt.setDate(1,start_date );\n...\nstmt.execute();\n...\n</code></pre>\n<p>Please note that I am using java.sql.Date throughout my java entity  classes in the project, so I  cannot use java util date as it throws other conversion errors. Also, the type of start_date field in mysql table is <strong>DATE</strong>.</p>\n<p><strong>EDIT:</strong>\nI think issue is with timezone difference since I tried inserting a date input into the table like below:</p>\n<p><strong>stmt.setDate(1,java.sql.Date.valueOf(&quot;2023-07-19&quot;));</strong></p>\n<p>and the date inserted in the mysql table was again 1 day less, i.e 2023-07-18. My database server time zone is SYSTEM and current timestamp in the table shows correct date and time but only user input date processed through PreparedStatement in servlet is incorrectly stored.</p>\n<p>I used the <strong>TimeZone.getDefault()</strong> method to retrieve the default time zone of the Java virtual machine (JVM)</p>\n<pre><code>// Get the system's time zone\n    TimeZone timeZone = TimeZone.getDefault();\n\n    // Get the offset value of the time zone\n    int offsetHours = timeZone.getRawOffset() / (60 * 60 * 1000);\n    int offsetMinutes = (Math.abs(timeZone.getRawOffset()) / (60 * 1000)) % 60;\n    String offset = String.format(&quot;%+03d:%02d&quot;, offsetHours, offsetMinutes);\n\n\nconn = dataSource.getConnection();\n        conn.createStatement().execute(&quot;SET time_zone = '&quot; + offset + &quot;'&quot;);\n</code></pre>\n<p>I got this solution from chatGPT, not sure what it does as I am new to JAVA .Please correct me what I am doing wrong</p>\n"},{"tags":["java","android","pdf","pdfrenderer"],"owner":{"account_id":25718940,"reputation":1,"user_id":19476200,"display_name":"vishvajith abegunasekara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689747135,"creation_date":1689740941,"question_id":76717986,"body_markdown":"I tride meny methods but they do nothing it don&#39;t run after feirst line of metod\r\nI used pdf rendere but when I run the method to extract pages it get errors fromthe first line\r\n\r\n```\r\n//this is the full code\r\npackage com.example.printrev;\r\n\r\n\r\n\r\npublic class Printact extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    Button sel,go;\r\n    TextView t;\r\n    EditText edtex;\r\n    ImageView fpg;\r\n    PdfRenderer renderer;\r\n    public int md= 0;\r\n    boolean is_selected = false;\r\n    private  static final int PERMISSION_REQUEST_CODE = 7;\r\n    int f=0;\r\n    public String srct ;\r\n   public int pgcount=0;\r\n    public ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_printact);\r\n\r\n        fpg =(ImageView) findViewById(R.id.imageView2);\r\n        edtex = (EditText) findViewById(R.id.editTextTextPersonName);\r\n        sel = (Button) findViewById(R.id.pdf_selc);\r\n        go = (Button) findViewById(R.id.go);\r\n        t = (TextView) findViewById(R.id.pdfname);\r\n        Spinner spinner = findViewById(R.id.spinner);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.selec, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n\r\n        sel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                f=0;\r\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\r\n                    askPermission();\r\n                }\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;application/pdf&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n        go.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                f=0;\r\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\r\n                    askPermission();\r\n                }\r\n\r\n                Toast.makeText(Printact.this, &quot;Arry bilded&quot;, Toast.LENGTH_SHORT).show();\r\n                build();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void build() {\r\n        /*if(m==3){\r\n        for(int x=0,x&lt;pagcount;x++){\r\n            if(x%2==1){\r\n               front[x]=bitmapArry[]\r\n            }else{\r\n\r\n            }\r\n        }else if (m==2){\r\n            int i[]=[pagcount];\r\n            int c=0\r\n            String g= edtex.toString();\r\n            int m=0;\r\n            string h=&quot;&quot;;\r\n            for(g:string s){\r\n                if(s==&quot;.&quot;){\r\n                    if (m!=0){\r\n                        for(int x=(m+1);x&lt;=(h.toInt();x++){\r\n                            i[c]=x;\r\n                            c++;\r\n                        }\r\n                        h=&quot;&quot;;\r\n                        m=0;\r\n                    }\r\n                    i[c]=h.toInt();\r\n                    c++;\r\n                    h=&quot;&quot;;\r\n\r\n                }else if(s==&quot;-&quot;){\r\n                    i[c]=h.toInt();\r\n                    c++;\r\n                    m=h.toInt();\r\n                    h=&quot;&quot;;\r\n                }else{\r\n                    h+=s;\r\n                }\r\n            }\r\n        }*/\r\n        Toast.makeText(this, &quot;Sub arry bulded&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            String pdfPath = data.getData().getPath();\r\n            t.setText(pdfPath);\r\n            srct = t.toString();\r\n\r\n        }\r\n        try {\r\n            Toast.makeText(this, &quot;fgfsgsf&quot;, Toast.LENGTH_SHORT).show();\r\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\r\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);\r\n            renderer = new PdfRenderer(parcelFileDescriptor);\r\n            pgcount = renderer.getPageCount();\r\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\r\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n            if(renderer!=null){\r\n            for(int x=0;x&lt;pgcount;x++){\r\n                PdfRenderer.Page page=renderer.openPage(x);\r\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\r\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n                bitmaps.add(bitmap);\r\n\r\n            }}\r\n            fpg.setImageBitmap(bitmaps.get(0));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n        String m = adapterView.getItemAtPosition(i).toString();\r\n        if (m !=&quot;&quot;){is_selected = true;}\r\n        if (is_selected) {\r\n            switch (m) {\r\n                case &quot;Print&quot;:\r\n                    md=1;\r\n                    edtex.setVisibility(View.INVISIBLE);\r\n                    break;\r\n                case &quot;Print selected pages&quot;:\r\n                    md=2;\r\n                    edtex.setVisibility(View.VISIBLE);\r\n                    break;\r\n                case &quot;Print doble side&quot;:\r\n                    md=3;\r\n                    edtex.setVisibility(View.INVISIBLE);\r\n                    break;\r\n                default:\r\n                    md=0;\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n    private void askPermission() {\r\n\r\n        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n\r\n        if (requestCode == PERMISSION_REQUEST_CODE)\r\n        {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;permission Graneted&quot;, Toast.LENGTH_SHORT).show();\r\n            }else\r\n            {\r\n                Toast.makeText(Printact.this,&quot;Permission Denied&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        }\r\n\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n}\r\n```\r\n//this is the method I used to extract pages \r\ntry {\r\n            \r\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\r\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);//srct is pdf uri\r\n            renderer = new PdfRenderer(parcelFileDescriptor);\r\n            pgcount = renderer.getPageCount();\r\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\r\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n            if(renderer!=null){\r\n            for(int x=0;x&lt;pgcount;x++){\r\n                PdfRenderer.Page page=renderer.openPage(x);\r\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\r\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n                bitmaps.add(bitmap);\r\n\r\n            }}\r\n            fpg.setImageBitmap(bitmaps.get(0));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }``","title":"How can I extract pages from pdf to bitmap image array","body":"<p>I tride meny methods but they do nothing it don't run after feirst line of metod\nI used pdf rendere but when I run the method to extract pages it get errors fromthe first line</p>\n<pre><code>//this is the full code\npackage com.example.printrev;\n\n\n\npublic class Printact extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n    Button sel,go;\n    TextView t;\n    EditText edtex;\n    ImageView fpg;\n    PdfRenderer renderer;\n    public int md= 0;\n    boolean is_selected = false;\n    private  static final int PERMISSION_REQUEST_CODE = 7;\n    int f=0;\n    public String srct ;\n   public int pgcount=0;\n    public ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_printact);\n\n        fpg =(ImageView) findViewById(R.id.imageView2);\n        edtex = (EditText) findViewById(R.id.editTextTextPersonName);\n        sel = (Button) findViewById(R.id.pdf_selc);\n        go = (Button) findViewById(R.id.go);\n        t = (TextView) findViewById(R.id.pdfname);\n        Spinner spinner = findViewById(R.id.spinner);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.selec, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n        spinner.setOnItemSelectedListener(this);\n\n        sel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                f=0;\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\n                    askPermission();\n                }\n                Intent intent = new Intent();\n                intent.setType(&quot;application/pdf&quot;);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(intent, 1);\n            }\n        });\n        go.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                f=0;\n                if (!(ContextCompat.checkSelfPermission(Printact.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)){\n                    askPermission();\n                }\n\n                Toast.makeText(Printact.this, &quot;Arry bilded&quot;, Toast.LENGTH_SHORT).show();\n                build();\n            }\n        });\n    }\n\n    private void build() {\n        /*if(m==3){\n        for(int x=0,x&lt;pagcount;x++){\n            if(x%2==1){\n               front[x]=bitmapArry[]\n            }else{\n\n            }\n        }else if (m==2){\n            int i[]=[pagcount];\n            int c=0\n            String g= edtex.toString();\n            int m=0;\n            string h=&quot;&quot;;\n            for(g:string s){\n                if(s==&quot;.&quot;){\n                    if (m!=0){\n                        for(int x=(m+1);x&lt;=(h.toInt();x++){\n                            i[c]=x;\n                            c++;\n                        }\n                        h=&quot;&quot;;\n                        m=0;\n                    }\n                    i[c]=h.toInt();\n                    c++;\n                    h=&quot;&quot;;\n\n                }else if(s==&quot;-&quot;){\n                    i[c]=h.toInt();\n                    c++;\n                    m=h.toInt();\n                    h=&quot;&quot;;\n                }else{\n                    h+=s;\n                }\n            }\n        }*/\n        Toast.makeText(this, &quot;Sub arry bulded&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n            String pdfPath = data.getData().getPath();\n            t.setText(pdfPath);\n            srct = t.toString();\n\n        }\n        try {\n            Toast.makeText(this, &quot;fgfsgsf&quot;, Toast.LENGTH_SHORT).show();\n            ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\n                    .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);\n            renderer = new PdfRenderer(parcelFileDescriptor);\n            pgcount = renderer.getPageCount();\n            Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n            if(renderer!=null){\n            for(int x=0;x&lt;pgcount;x++){\n                PdfRenderer.Page page=renderer.openPage(x);\n                Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\n                page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n                bitmaps.add(bitmap);\n\n            }}\n            fpg.setImageBitmap(bitmaps.get(0));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n\n\n\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        String m = adapterView.getItemAtPosition(i).toString();\n        if (m !=&quot;&quot;){is_selected = true;}\n        if (is_selected) {\n            switch (m) {\n                case &quot;Print&quot;:\n                    md=1;\n                    edtex.setVisibility(View.INVISIBLE);\n                    break;\n                case &quot;Print selected pages&quot;:\n                    md=2;\n                    edtex.setVisibility(View.VISIBLE);\n                    break;\n                case &quot;Print doble side&quot;:\n                    md=3;\n                    edtex.setVisibility(View.INVISIBLE);\n                    break;\n                default:\n                    md=0;\n                    break;\n            }\n        }\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n    private void askPermission() {\n\n        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PERMISSION_REQUEST_CODE);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\n\n        if (requestCode == PERMISSION_REQUEST_CODE)\n        {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;permission Graneted&quot;, Toast.LENGTH_SHORT).show();\n            }else\n            {\n                Toast.makeText(Printact.this,&quot;Permission Denied&quot;,Toast.LENGTH_SHORT).show();\n            }\n\n        }\n\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n<p>//this is the method I used to extract pages\ntry {</p>\n<pre><code>        ParcelFileDescriptor parcelFileDescriptor = getContentResolver()\n                .openFileDescriptor(Uri.parse(srct),&quot;s&quot;);//srct is pdf uri\n        renderer = new PdfRenderer(parcelFileDescriptor);\n        pgcount = renderer.getPageCount();\n        Toast.makeText(this, pgcount, Toast.LENGTH_SHORT).show();\n        ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n        if(renderer!=null){\n        for(int x=0;x&lt;pgcount;x++){\n            PdfRenderer.Page page=renderer.openPage(x);\n            Bitmap bitmap = Bitmap.createBitmap(page.getWidth(),page.getHeight(),Bitmap.Config.ARGB_8888);\n            page.render(bitmap,null,null,PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n            bitmaps.add(bitmap);\n\n        }}\n        fpg.setImageBitmap(bitmaps.get(0));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }``\n</code></pre>\n"},{"tags":["java","for-loop","iteration"],"answers":[{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1376805861,"creation_date":1376805328,"answer_id":18296157,"question_id":18296143,"body_markdown":"You can write\r\n\r\n    for (int i: Arrays.asList(1, 3, 8, 2, 5, 9)) {\r\n        doSomethingWith(array[i]);\r\n    }\r\n\r\nADDENDUM: [Live demo](http://ideone.com/af7HsF)\r\n","title":"How can I iterate through elements of an array in Java?","body":"<p>You can write</p>\n\n<pre><code>for (int i: Arrays.asList(1, 3, 8, 2, 5, 9)) {\n    doSomethingWith(array[i]);\n}\n</code></pre>\n\n<p>ADDENDUM: <a href=\"http://ideone.com/af7HsF\" rel=\"noreferrer\">Live demo</a></p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1689747131,"post_id":18296168,"comment_id":135255078,"body_markdown":"`new int[]` would be better than `new Integer[]`, since it avoids boxing and unboxing each element between `Integer` objects and `int` primitives.","body":"<code>new int[]</code> would be better than <code>new Integer[]</code>, since it avoids boxing and unboxing each element between <code>Integer</code> objects and <code>int</code> primitives."}],"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376805424,"creation_date":1376805424,"answer_id":18296168,"question_id":18296143,"body_markdown":"Yes, you can do it this way\r\n\r\n        for (int i : new Integer[]{1, 3, 8, 2, 5, 9}) {\r\n            // do something\r\n        }","title":"How can I iterate through elements of an array in Java?","body":"<p>Yes, you can do it this way</p>\n\n<pre><code>    for (int i : new Integer[]{1, 3, 8, 2, 5, 9}) {\n        // do something\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376805462,"creation_date":1376805462,"answer_id":18296172,"question_id":18296143,"body_markdown":"You can do this:\r\n\r\n    package com.sandbox;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class Sandbox {\r\n    \r\n        public static void main(String[] args) {\r\n            for (Integer integer : Arrays.asList(1, 2, 3, 4, 5)) {\r\n                System.out.println(integer);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis will print out:\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5","title":"How can I iterate through elements of an array in Java?","body":"<p>You can do this:</p>\n\n<pre><code>package com.sandbox;\n\nimport java.util.Arrays;\n\npublic class Sandbox {\n\n    public static void main(String[] args) {\n        for (Integer integer : Arrays.asList(1, 2, 3, 4, 5)) {\n            System.out.println(integer);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>This will print out:</p>\n\n<pre><code>1\n2\n3\n4\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376886103,"creation_date":1376805937,"answer_id":18296220,"question_id":18296143,"body_markdown":"You can try this\r\n\r\n      int[] arr= new int[]{1, 3, 8, 2, 5, 9};\r\n        for(int i:arr){\r\n            System.out.println(i);\r\n        }\r\n\r\n\r\nOut put\r\n\r\n    1\r\n    3\r\n    8\r\n    2\r\n    5\r\n    9\r\n\r\nLive demo [here][1]\r\n\r\n*FYI:* This should work only in jdk 1.7, since early version of jdk can&#39;t have a primitive type for each. \r\n\r\nSo If you are using early version of java. you have to convert `int[]` to `Integer[]` \r\nYou can try this\r\n\r\n      int[] arr= new int[]{1, 3, 8, 2, 5, 9};\r\n        Integer[] str=new Integer[arr.length];\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            str[i]=arr[i];\r\n        }\r\n        for(Integer i:arr){\r\n            System.out.println(i);\r\n        }\r\n\r\nOut put\r\n\r\n    1\r\n    3\r\n    8\r\n    2\r\n    5\r\n    9\r\n\r\n\r\n  [1]: http://ideone.com/CNk1rV","title":"How can I iterate through elements of an array in Java?","body":"<p>You can try this</p>\n\n<pre><code>  int[] arr= new int[]{1, 3, 8, 2, 5, 9};\n    for(int i:arr){\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>1\n3\n8\n2\n5\n9\n</code></pre>\n\n<p>Live demo <a href=\"http://ideone.com/CNk1rV\" rel=\"nofollow\">here</a></p>\n\n<p><em>FYI:</em> This should work only in jdk 1.7, since early version of jdk can't have a primitive type for each. </p>\n\n<p>So If you are using early version of java. you have to convert <code>int[]</code> to <code>Integer[]</code> \nYou can try this</p>\n\n<pre><code>  int[] arr= new int[]{1, 3, 8, 2, 5, 9};\n    Integer[] str=new Integer[arr.length];\n    for(int i=0;i&lt;arr.length;i++){\n        str[i]=arr[i];\n    }\n    for(Integer i:arr){\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>1\n3\n8\n2\n5\n9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689746887,"creation_date":1689746887,"answer_id":76718397,"question_id":18296143,"body_markdown":"As this is a simple mapping from one set of values to the result of applying a function to each value, a [stream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/package-summary.html)-based approach would work:\r\n\r\n\r\n```lang-java\r\nint[] array = IntStream.of(1, 3, 8, 2, 5, 9).map(i -&gt; algorithm(i)).toArray();\r\n```\r\n","title":"How can I iterate through elements of an array in Java?","body":"<p>As this is a simple mapping from one set of values to the result of applying a function to each value, a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">stream</a>-based approach would work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = IntStream.of(1, 3, 8, 2, 5, 9).map(i -&gt; algorithm(i)).toArray();\n</code></pre>\n"}],"owner":{"account_id":3188305,"reputation":332,"user_id":2693298,"accept_rate":75,"display_name":"soupmagnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18296157,"answer_count":5,"score":5,"last_activity_date":1689747056,"creation_date":1376805150,"question_id":18296143,"body_markdown":"In Bash, if I wanted to iterate through elements of an array in a given order, I could do so like this:\r\n\r\n```lang-bash\r\nfor i in 1 3 8 2 5 9; do\r\n    array[i] = &lt;some_algorithm_based_value&gt;\r\ndone\r\n```\r\n\r\nIs it possible to do the same (or relatively the same) thing in Java?","title":"How can I iterate through elements of an array in Java?","body":"<p>In Bash, if I wanted to iterate through elements of an array in a given order, I could do so like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>for i in 1 3 8 2 5 9; do\n    array[i] = &lt;some_algorithm_based_value&gt;\ndone\n</code></pre>\n<p>Is it possible to do the same (or relatively the same) thing in Java?</p>\n"},{"tags":["java","rest","django-rest-framework","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1686811124,"post_id":76471522,"comment_id":134851072,"body_markdown":"the correct would be `js.get(&quot;data.id&quot;)` without `$` because it&#39;s not JsonPath Jayway, it&#39;s is Rest-Assured JsonPath.","body":"the correct would be <code>js.get(&quot;data.id&quot;)</code> without <code>$</code> because it&#39;s not JsonPath Jayway, it&#39;s is Rest-Assured JsonPath."}],"tags":[],"owner":{"account_id":2130509,"reputation":4379,"user_id":1891456,"display_name":"Yogesh Badke"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686906513,"creation_date":1686731180,"answer_id":76471522,"question_id":76471386,"body_markdown":"The `id` is part of `data` object. You got to retrieve the `data` first and then `id`.\r\n\r\nAs in, `js.get(&quot;data.id&quot;)`","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>The <code>id</code> is part of <code>data</code> object. You got to retrieve the <code>data</code> first and then <code>id</code>.</p>\n<p>As in, <code>js.get(&quot;data.id&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":5738617,"reputation":1145,"user_id":4531941,"accept_rate":83,"display_name":"Sadik Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686768914,"creation_date":1686768914,"answer_id":76476740,"question_id":76471386,"body_markdown":"You can use the response path method to capture ID from the response like below:\r\n\r\n    Response response = given()\r\n\t\t\t.header(&quot;accept&quot;, &quot;application/json&quot;)\r\n\t\t\t.header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t.body(json)\r\n\t\t.when()\r\n\t\t\t.post(&quot;/pet&quot;);\r\n\tString petId = response.path(&quot;id&quot;);\r\n\r\n\r\nWhere JSON response is like below:\r\n\r\n    {\r\n    &quot;id&quot;: 9223372036854775807,\r\n    &quot;category&quot;: {\r\n        &quot;id&quot;: 0,\r\n        &quot;name&quot;: &quot;Cat&quot;\r\n    },\r\n    &quot;name&quot;: &quot;doggie&quot;,\r\n    &quot;photoUrls&quot;: [\r\n        &quot;string&quot;\r\n    ],\r\n    &quot;tags&quot;: [\r\n        {\r\n            &quot;id&quot;: 0,\r\n            &quot;name&quot;: &quot;Tag1&quot;\r\n        }\r\n    ],\r\n    &quot;status&quot;: &quot;available&quot;\r\n}","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>You can use the response path method to capture ID from the response like below:</p>\n<pre><code>Response response = given()\n        .header(&quot;accept&quot;, &quot;application/json&quot;)\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(json)\n    .when()\n        .post(&quot;/pet&quot;);\nString petId = response.path(&quot;id&quot;);\n</code></pre>\n<p>Where JSON response is like below:</p>\n<pre><code>{\n&quot;id&quot;: 9223372036854775807,\n&quot;category&quot;: {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Cat&quot;\n},\n&quot;name&quot;: &quot;doggie&quot;,\n&quot;photoUrls&quot;: [\n    &quot;string&quot;\n],\n&quot;tags&quot;: [\n    {\n        &quot;id&quot;: 0,\n        &quot;name&quot;: &quot;Tag1&quot;\n    }\n],\n&quot;status&quot;: &quot;available&quot;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28853211,"reputation":1,"user_id":22098653,"display_name":"Rajeshkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689747013,"creation_date":1689436523,"answer_id":76694595,"question_id":76471386,"body_markdown":"&quot;Id&quot; is presented inside the &quot;Data&quot; Object. &quot;Id&quot; cannot be accessed directly from outside.\r\n\r\n    JsonPath js = new JsonPath(response)\r\n    String id = js.get(&quot;data.id&quot;)\r\n\r\n","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>&quot;Id&quot; is presented inside the &quot;Data&quot; Object. &quot;Id&quot; cannot be accessed directly from outside.</p>\n<pre><code>JsonPath js = new JsonPath(response)\nString id = js.get(&quot;data.id&quot;)\n</code></pre>\n"}],"owner":{"account_id":23956554,"reputation":1,"user_id":17947345,"display_name":"chinmay k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689747013,"creation_date":1686730055,"question_id":76471386,"body_markdown":"I am not able to extract ID generated from response, please help, the last 2 lines are having a problem (refer to screenshot)\r\n\r\n![SCREENSHOT](https://i.stack.imgur.com/XGRyN.png)\r\n\r\n    @Test\r\n    public void create() {\t\r\n        RestAssured.baseURI= &quot;https://dummy.restapiexample.com&quot;;\r\n        String response=given().log().all().header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n        .body(payload.employee()).when().post(&quot;/api/v1/create&quot;)\r\n        .then().log().all().assertThat().statusCode(200)\r\n        .header(&quot;Server&quot;, &quot;Apache&quot;).extract().response().asPrettyString();\r\n    \r\n        System.out.println(response);\r\n    \r\n        JsonPath js = new JsonPath(response);\r\n        String id = js.get(&quot;id&quot;);\r\n        System.out.println(&quot;id&quot;);\r\n    }","title":"Not able to capture/Extract id generated in response in Post method","body":"<p>I am not able to extract ID generated from response, please help, the last 2 lines are having a problem (refer to screenshot)</p>\n<p><img src=\"https://i.stack.imgur.com/XGRyN.png\" alt=\"SCREENSHOT\" /></p>\n<pre><code>@Test\npublic void create() {  \n    RestAssured.baseURI= &quot;https://dummy.restapiexample.com&quot;;\n    String response=given().log().all().header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n    .body(payload.employee()).when().post(&quot;/api/v1/create&quot;)\n    .then().log().all().assertThat().statusCode(200)\n    .header(&quot;Server&quot;, &quot;Apache&quot;).extract().response().asPrettyString();\n\n    System.out.println(response);\n\n    JsonPath js = new JsonPath(response);\n    String id = js.get(&quot;id&quot;);\n    System.out.println(&quot;id&quot;);\n}\n</code></pre>\n"},{"tags":["java","multithreading","arraylist","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533277,"post_id":76699881,"comment_id":135223497,"body_markdown":"Define &quot;*without lock*&quot;. Do you mean &quot;without an explicit lock&quot;, or do you also rule-out the semantics of [`synchroized` (`docs.oracle.com`)](https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html) by this? --- How is but the form following the function of why. So: why do you want to eliminate the lock?","body":"Define &quot;<i>without lock</i>&quot;. Do you mean &quot;without an explicit lock&quot;, or do you also rule-out the semantics of <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\"><code>synchroized</code> (<code>docs.oracle.com</code>)</a> by this? --- How is but the form following the function of why. So: why do you want to eliminate the lock?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533414,"post_id":76699881,"comment_id":135223517,"body_markdown":"yes, should not be sequential and without an explicit lock.","body":"yes, should not be sequential and without an explicit lock."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533492,"post_id":76699881,"comment_id":135223525,"body_markdown":"I am afraid that we have to sequentialize at some point. Even data structures like `ConcurrentLinkedQueue` sequentialize somehow.","body":"I am afraid that we have to sequentialize at some point. Even data structures like <code>ConcurrentLinkedQueue</code> sequentialize somehow."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533571,"post_id":76699881,"comment_id":135223539,"body_markdown":"okay, what if I don&#39;t want explicit lock and do not want synchronized (where one thread could indefinitely blocks) -- sequential is still okay, as long as I get unique values across threads.","body":"okay, what if I don&#39;t want explicit lock and do not want synchronized (where one thread could indefinitely blocks) -- sequential is still okay, as long as I get unique values across threads."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689533727,"post_id":76699881,"comment_id":135223551,"body_markdown":"&quot;*... where one thread could indefinitely blocks...*&quot; - Why do you think that one thread could indefinitely block?","body":"&quot;<i>... where one thread could indefinitely blocks...</i>&quot; - Why do you think that one thread could indefinitely block?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689533732,"post_id":76699881,"comment_id":135223553,"body_markdown":"Please provide `bookingInfoUtil.findDistinctId()` implementation","body":"Please provide <code>bookingInfoUtil.findDistinctId()</code> implementation"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533778,"post_id":76699881,"comment_id":135223560,"body_markdown":"okay, is there better way than `synchronized` ?","body":"okay, is there better way than <code>synchronized</code> ?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689533815,"post_id":76699881,"comment_id":135223564,"body_markdown":"@gdomo it&#39;s a database query -- Spring Data JPA query","body":"@gdomo it&#39;s a database query -- Spring Data JPA query"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689534210,"post_id":76699881,"comment_id":135223607,"body_markdown":"Define &quot;better&quot;. It all depends on what the actual problem is.","body":"Define &quot;better&quot;. It all depends on what the actual problem is."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689534396,"post_id":76699881,"comment_id":135223629,"body_markdown":"&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized, although may not be too different. Problem statement is simple: distribute unique values (one item per thread) across all threads as quick as possible.","body":"&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized, although may not be too different. Problem statement is simple: distribute unique values (one item per thread) across all threads as quick as possible."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689537468,"post_id":76699881,"comment_id":135224003,"body_markdown":"You can also consider using BlockingQueue - like LinkedBlockingQueue, its take() method will wait till the queue is non empty, or you can use pool() to get first element or get null if its empty. But, I am not sure if its initialization will be thread safe in you case.","body":"You can also consider using BlockingQueue - like LinkedBlockingQueue, its take() method will wait till the queue is non empty, or you can use pool() to get first element or get null if its empty. But, I am not sure if its initialization will be thread safe in you case."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689542120,"post_id":76699881,"comment_id":135224509,"body_markdown":"&quot;*&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized*&quot; - By what metric? Faster? Less overhead? Readability? &quot;Better&quot; is not a clear metric. Again: how is but the form, following the function of why. WHY do you want to get rid of the lock? What is the actual issue?","body":"&quot;<i>&quot;better&quot; -&gt; Reentrantlock that I used the current code is much better than going with synchronized</i>&quot; - By what metric? Faster? Less overhead? Readability? &quot;Better&quot; is not a clear metric. Again: how is but the form, following the function of why. WHY do you want to get rid of the lock? What is the actual issue?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689548582,"post_id":76699881,"comment_id":135225030,"body_markdown":"If you want to remove a synchronization, then you&#39;ll need to assure that _findDistinctId_ is going to return the qualifying, unique value, every time; which, seems almost impossible.  Can you provide more information, or possibly more code?","body":"If you want to remove a synchronization, then you&#39;ll need to assure that <i>findDistinctId</i> is going to return the qualifying, unique value, every time; which, seems almost impossible.  Can you provide more information, or possibly more code?"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689571397,"post_id":76699881,"comment_id":135226638,"body_markdown":"@Reilas `findDistinctId` is Spring Data JPA query that is guaranteed to return list of unique values. It is used just for initial loading.","body":"@Reilas <code>findDistinctId</code> is Spring Data JPA query that is guaranteed to return list of unique values. It is used just for initial loading."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1689571864,"post_id":76699881,"comment_id":135226708,"body_markdown":"@marcinj yup, thats nice thing to know. But, will I get the same value in multiple threads when we poll the first element?","body":"@marcinj yup, thats nice thing to know. But, will I get the same value in multiple threads when we poll the first element?"}],"answers":[{"tags":[],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689607325,"creation_date":1689607325,"answer_id":76705943,"question_id":76699881,"body_markdown":"So, here is the approach that I used:\r\n1) Moved the data loading logic of `bookingInfoUtil.findDistinctId()` , outside of `read()` so that data is populated before threads reach to `read()` method. \r\n2) Since I&#39;m modifying the list under multi-threading environment, I used a lock-free thread-safe queue, that is `ConcurrentLinkedQueue`, so that my performance is much better for `insert/remove` operation. Also, it doesn&#39;t have to re-shuffle the entire list of elements since it is a queue. \r\n\r\nSo, the code is simplified to:\r\n```\r\npublic class SomeClass {\r\n\r\n  // Value is actually set as a batch job parameter for my case.\r\n  // But, you can also set this as a bean or load the values using constructor.\r\n  @Value(&quot;#{jobParameters[bookingIds]}&quot;)\r\n  ConcurrentLinkedQueue&lt;String&gt; bookingIds;\r\n\r\n  public String read() {\r\n    if (! bookingIds.isEmpty()) {\r\n      return bookingIds.poll();\r\n    }\r\n    return null;\r\n  }\r\n}\r\n```","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>So, here is the approach that I used:</p>\n<ol>\n<li>Moved the data loading logic of <code>bookingInfoUtil.findDistinctId()</code> , outside of <code>read()</code> so that data is populated before threads reach to <code>read()</code> method.</li>\n<li>Since I'm modifying the list under multi-threading environment, I used a lock-free thread-safe queue, that is <code>ConcurrentLinkedQueue</code>, so that my performance is much better for <code>insert/remove</code> operation. Also, it doesn't have to re-shuffle the entire list of elements since it is a queue.</li>\n</ol>\n<p>So, the code is simplified to:</p>\n<pre><code>public class SomeClass {\n\n  // Value is actually set as a batch job parameter for my case.\n  // But, you can also set this as a bean or load the values using constructor.\n  @Value(&quot;#{jobParameters[bookingIds]}&quot;)\n  ConcurrentLinkedQueue&lt;String&gt; bookingIds;\n\n  public String read() {\n    if (! bookingIds.isEmpty()) {\n      return bookingIds.poll();\n    }\n    return null;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689746504,"creation_date":1689687568,"answer_id":76713385,"question_id":76699881,"body_markdown":"The issue stems from &quot;check and act&quot; operation which is compound action and hence not &quot;atomic&quot;.\r\nSo even if we use threadsafe concurrent collection and technically our collection is not breaking but the result is not what we would expect.\r\n\r\nCompound action:If collection is null/empty then initialize,a similar to computeIfAbsent in Map\r\n\r\nFor better understanding refer &quot;Java Concurrency In Practice&quot; book&#39;s Building Blocks :Problems with synchronized collection section.\r\n\r\nIt is suggested and a good practice to use synchronization and/or explicit locking to do compound actions.\r\nSince in requirement ,we wanted to avoid it somehow, we could go for a middle ground based on general usecase.\r\n\r\nWe could use lazy loading of values for better throughput performance and to avoid visibility issues making it volatile (optionally could have used AtomicReference).\r\n\r\n\r\n\r\n```\r\npublic class SomeClass {\r\n\r\n    ReentrantLock lock = new ReentrantLock();\r\n\r\n    private volatile ConcurrentLinkedQueue&lt;String&gt; bookingIds = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    public void initializeBookingIds() {\r\n        lock.lock();\r\n        try{\r\n            if ( !bookingIds.isEmpty()) {\r\n                List&lt;String&gt; bookingIdsList = bookingInfoUtil.findDistinctId();\r\n                bookingIds =  new ConcurrentLinkedQueue(bookingIdsList); \r\n            }\r\n        }finally{\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public String read() {\r\n        \r\n        if (!bookingIds.isEmpty()) {\r\n            initializeBookingIds();\r\n        }\r\n        return bookingIds.poll();\r\n    }\r\n}\r\n```\r\n\r\nIn above code we are directly returning poll value since we are good with null if not found and ofcouse wanted to avoid compound action.\r\n\r\nThe above code is far from robust and could fail in scenario with unlucky timing.\r\n\r\n - t1 acquires lock,initializes list with only 1 element for example and is about to release lock at line 15\r\n - t2 is checking if bookingIds is empty at line 21\r\n - t2 consumes the element and returns\r\n - t1 releases lock at 15\r\n - t1 reaches at line 24 and returns null\r\n\r\nHere even though t1 was the one which initialized the list, it was not able to consume the element.\r\n\r\nWith the given use case and based on general heuristics, the frequency of occurrence of this scenario is less as long as bookingInfoUtil returns a huge list.\r\n\r\n","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>The issue stems from &quot;check and act&quot; operation which is compound action and hence not &quot;atomic&quot;.\nSo even if we use threadsafe concurrent collection and technically our collection is not breaking but the result is not what we would expect.</p>\n<p>Compound action:If collection is null/empty then initialize,a similar to computeIfAbsent in Map</p>\n<p>For better understanding refer &quot;Java Concurrency In Practice&quot; book's Building Blocks :Problems with synchronized collection section.</p>\n<p>It is suggested and a good practice to use synchronization and/or explicit locking to do compound actions.\nSince in requirement ,we wanted to avoid it somehow, we could go for a middle ground based on general usecase.</p>\n<p>We could use lazy loading of values for better throughput performance and to avoid visibility issues making it volatile (optionally could have used AtomicReference).</p>\n<pre><code>public class SomeClass {\n\n    ReentrantLock lock = new ReentrantLock();\n\n    private volatile ConcurrentLinkedQueue&lt;String&gt; bookingIds = new ConcurrentLinkedQueue&lt;&gt;();\n\n    public void initializeBookingIds() {\n        lock.lock();\n        try{\n            if ( !bookingIds.isEmpty()) {\n                List&lt;String&gt; bookingIdsList = bookingInfoUtil.findDistinctId();\n                bookingIds =  new ConcurrentLinkedQueue(bookingIdsList); \n            }\n        }finally{\n            lock.unlock();\n        }\n    }\n\n    public String read() {\n        \n        if (!bookingIds.isEmpty()) {\n            initializeBookingIds();\n        }\n        return bookingIds.poll();\n    }\n}\n</code></pre>\n<p>In above code we are directly returning poll value since we are good with null if not found and ofcouse wanted to avoid compound action.</p>\n<p>The above code is far from robust and could fail in scenario with unlucky timing.</p>\n<ul>\n<li>t1 acquires lock,initializes list with only 1 element for example and is about to release lock at line 15</li>\n<li>t2 is checking if bookingIds is empty at line 21</li>\n<li>t2 consumes the element and returns</li>\n<li>t1 releases lock at 15</li>\n<li>t1 reaches at line 24 and returns null</li>\n</ul>\n<p>Here even though t1 was the one which initialized the list, it was not able to consume the element.</p>\n<p>With the given use case and based on general heuristics, the frequency of occurrence of this scenario is less as long as bookingInfoUtil returns a huge list.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76705943,"answer_count":2,"score":0,"last_activity_date":1689746504,"creation_date":1689532998,"question_id":76699881,"body_markdown":"I have a collection of string values available.\r\n\r\nI thought of using `CopyOnwriteArrayList` or `ConcurrentLinkedQueue` initially. But, when I run my code, I see that same string values are picked by one more threads most of the time. \r\n\r\nHere is my working code with the lock to serve the purpose:\r\n```\r\npublic class SomeClass {\r\n\r\n  ReentrantLock lock = new ReentrantLock();\r\n  // this list is ensured to have non-duplicate items.\r\n  private List&lt;String&gt; bookingIds;\r\n\r\n  public String read() {\r\n    lock.lock();\r\n    if (Objects.isNull(bookingIds)) {\r\n      bookingIds = bookingInfoUtil.findDistinctId();\r\n    }\r\n    if (! bookingIds.isEmpty()) {\r\n      String bookingId = bookingIds.remove(0);\r\n      lock.unlock();\r\n      return bookingId;\r\n    }\r\n    lock.unlock();\r\n    return null;\r\n  }\r\n}\r\n\r\n```\r\n\r\nNow, I want to know how to achieve this with a lock-free mechanism, preferably with a thread-safe collection. As I mentioned above, I tried to use both `CopyOnwriteArrayList` or `ConcurrentLinkedQueue` and exposed it to a threadpool that actively call `read()` method to obtain a unique value. It always fails to attain this goal unless a lock is used. Any better ways to do this?\r\n","title":"How to ensure an unique item/object is picked from the collection in multi-threading scenario?","body":"<p>I have a collection of string values available.</p>\n<p>I thought of using <code>CopyOnwriteArrayList</code> or <code>ConcurrentLinkedQueue</code> initially. But, when I run my code, I see that same string values are picked by one more threads most of the time.</p>\n<p>Here is my working code with the lock to serve the purpose:</p>\n<pre><code>public class SomeClass {\n\n  ReentrantLock lock = new ReentrantLock();\n  // this list is ensured to have non-duplicate items.\n  private List&lt;String&gt; bookingIds;\n\n  public String read() {\n    lock.lock();\n    if (Objects.isNull(bookingIds)) {\n      bookingIds = bookingInfoUtil.findDistinctId();\n    }\n    if (! bookingIds.isEmpty()) {\n      String bookingId = bookingIds.remove(0);\n      lock.unlock();\n      return bookingId;\n    }\n    lock.unlock();\n    return null;\n  }\n}\n\n</code></pre>\n<p>Now, I want to know how to achieve this with a lock-free mechanism, preferably with a thread-safe collection. As I mentioned above, I tried to use both <code>CopyOnwriteArrayList</code> or <code>ConcurrentLinkedQueue</code> and exposed it to a threadpool that actively call <code>read()</code> method to obtain a unique value. It always fails to attain this goal unless a lock is used. Any better ways to do this?</p>\n"},{"tags":["java","ignite","apacheignite"],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689745102,"creation_date":1689745102,"question_id":76718260,"body_markdown":"I use apache ignite 2.15.0 and I use GridClientConfiguration. It has a method setSslContextFactory(GridSslContextFactory sslCtxFactory), but GridSslContextFactory is marked as deprecated. There is no other method with a similar function in this class. It turns out that this class is also essentially deprecated? How should I set ssl context factory (for example SslContextFactory instance) now?","title":"Deprecated GridSslContextFactory in apache ignite","body":"<p>I use apache ignite 2.15.0 and I use GridClientConfiguration. It has a method setSslContextFactory(GridSslContextFactory sslCtxFactory), but GridSslContextFactory is marked as deprecated. There is no other method with a similar function in this class. It turns out that this class is also essentially deprecated? How should I set ssl context factory (for example SslContextFactory instance) now?</p>\n"},{"tags":["java","android","android-widget","android-12","resourcesnotfoundexception"],"owner":{"account_id":29046381,"reputation":11,"user_id":22250120,"display_name":"Deepika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689744484,"creation_date":1689744484,"question_id":76718216,"body_markdown":"Im currently working on Andorid 12, with min sdk version as 31 in both host and widget provider application. From AppWidgetProviderInfo, I got the layout id of previewLayout but I&#39;m trying to display the same in host customisation screen. While trying to do the same I got ResourcesNotFoundException in host implementation.\r\n\r\nI added the preview layout in my AppWidgetProviderInfo.xml\r\n\r\n```\r\n&lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:initialLayout=&quot;@layout/widget_initial_layout&quot;\r\n    android:previewLayout=&quot;@layout/widget_preview_layout&quot;\r\n    android:previewImage=&quot;@drawable/widget_preview_image&quot;\r\n    android:minWidth=&quot;130dp&quot;\r\n    android:minHeight=&quot;170dp&quot;\r\n    android:updatePeriodMillis=&quot;86400000&quot;\r\n    android:widgetCategory=&quot;home_screen&quot; /&gt;\r\n```\r\n\r\nMy host adaptation of preview layout is,\r\n\r\n\r\n```\r\nDrawable previewDrawable = widgetInfo.getAppWidgetInfo().loadPreviewImage(binding.getRoot().getContext(), ICON_DENSITY);\r\nint previewLayout = widgetInfo.getAppWidgetInfo().previewLayout;\r\n   try {\r\n      if (previewLayout != 0) {\r\n\r\n         View widgetPreview = LayoutInflater.from(binding.getRoot().getContext()).inflate(previewLayout, binding.getRoot(), false);\r\n         binding.widgetContainer.addView(widgetPreview);\r\n       } else if (previewDrawable != null) {\r\n\r\n            Glide.with(binding.getRoot().getContext())\r\n                        .load(previewDrawable)\r\n                        .into(binding.previewImage);\r\n       }\r\n    }\r\n    catch (Exception e)\r\n    {\r\n       e.printStackTrace();\r\n    }\r\n```\r\n\r\nWith the above code, Im able to show the preview image from AppWidgetProviderInfo but while trying to inflate the previewLayout with layout id alone, I get ResourcesNotFoundException. In mycase the widgetprovider and Host are two different applications.","title":"Issues in widget preview layout adaptation in host application","body":"<p>Im currently working on Andorid 12, with min sdk version as 31 in both host and widget provider application. From AppWidgetProviderInfo, I got the layout id of previewLayout but I'm trying to display the same in host customisation screen. While trying to do the same I got ResourcesNotFoundException in host implementation.</p>\n<p>I added the preview layout in my AppWidgetProviderInfo.xml</p>\n<pre><code>&lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:initialLayout=&quot;@layout/widget_initial_layout&quot;\n    android:previewLayout=&quot;@layout/widget_preview_layout&quot;\n    android:previewImage=&quot;@drawable/widget_preview_image&quot;\n    android:minWidth=&quot;130dp&quot;\n    android:minHeight=&quot;170dp&quot;\n    android:updatePeriodMillis=&quot;86400000&quot;\n    android:widgetCategory=&quot;home_screen&quot; /&gt;\n</code></pre>\n<p>My host adaptation of preview layout is,</p>\n<pre><code>Drawable previewDrawable = widgetInfo.getAppWidgetInfo().loadPreviewImage(binding.getRoot().getContext(), ICON_DENSITY);\nint previewLayout = widgetInfo.getAppWidgetInfo().previewLayout;\n   try {\n      if (previewLayout != 0) {\n\n         View widgetPreview = LayoutInflater.from(binding.getRoot().getContext()).inflate(previewLayout, binding.getRoot(), false);\n         binding.widgetContainer.addView(widgetPreview);\n       } else if (previewDrawable != null) {\n\n            Glide.with(binding.getRoot().getContext())\n                        .load(previewDrawable)\n                        .into(binding.previewImage);\n       }\n    }\n    catch (Exception e)\n    {\n       e.printStackTrace();\n    }\n</code></pre>\n<p>With the above code, Im able to show the preview image from AppWidgetProviderInfo but while trying to inflate the previewLayout with layout id alone, I get ResourcesNotFoundException. In mycase the widgetprovider and Host are two different applications.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1558463665,"post_id":56215257,"comment_id":99107461,"body_markdown":"Which version of JUnit are you using?","body":"Which version of JUnit are you using?"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1558464518,"post_id":56215257,"comment_id":99107789,"body_markdown":"Please see https://github.com/junit-team/junit5/issues/1682#issuecomment-494511869","body":"Please see <a href=\"https://github.com/junit-team/junit5/issues/1682#issuecomment-494511869\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1682#issuecomment-494511&zwnj;&#8203;869</a>"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1689750600,"post_id":76718049,"comment_id":135255657,"body_markdown":"Note that code only answers are discouraged. Perhaps you could add some explanation regarding why you think the OP should use it - or provide a link to an explanation. By the way, have you taken the [tour]? Have you visited the [help]?","body":"Note that code only answers are discouraged. Perhaps you could add some explanation regarding why you think the OP should use it - or provide a link to an explanation. By the way, have you taken the <a href=\"https://stackoverflow.com/tour\">tour</a>? Have you visited the <a href=\"https://stackoverflow.com/help\">help center</a>?"},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":2,"creation_date":1689841550,"post_id":76718049,"comment_id":135271322,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76718049/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29046348,"reputation":1,"user_id":22250092,"display_name":"Iuliia Poliakova"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689742040,"creation_date":1689741989,"answer_id":76718049,"question_id":56215257,"body_markdown":"Try\r\n\r\n    junit.jupiter.execution.parallel.mode.default=concurrent\r\n    junit.jupiter.execution.parallel.mode.classes.default=same_thread","title":"anyway to run Junit5 Parallel Tests per class at a time","body":"<p>Try</p>\n<pre><code>junit.jupiter.execution.parallel.mode.default=concurrent\njunit.jupiter.execution.parallel.mode.classes.default=same_thread\n</code></pre>\n"}],"owner":{"account_id":15972802,"reputation":11,"user_id":11526447,"display_name":"Mohit Aneja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689742040,"creation_date":1558333073,"question_id":56215257,"body_markdown":"   How to run parallel test cases in junit5 using pom per test class at a time\r\n   I have used the below configuration in my pom:\r\n\r\n    junit.jupiter.execution.parallel.enabled=true\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=5\r\n     \r\n   when i am running this using clean test it launches 5 classes at a time.\r\n    I want to run 5 threads in class at a time not 5 classes at a time\r\n    \r\n    junit.jupiter.execution.parallel.enabled=true\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=5","title":"anyway to run Junit5 Parallel Tests per class at a time","body":"<p>How to run parallel test cases in junit5 using pom per test class at a time\n   I have used the below configuration in my pom:</p>\n\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=5\n</code></pre>\n\n<p>when i am running this using clean test it launches 5 classes at a time.\n    I want to run 5 threads in class at a time not 5 classes at a time</p>\n\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=5\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","trie","acronym"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689736828,"post_id":76717639,"comment_id":135254154,"body_markdown":"Please give an example of input, output, and expected output. Also edit your question to include a complete, minimal, runnable version of your code.","body":"Please give an example of input, output, and expected output. Also edit your question to include a complete, minimal, runnable version of your code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1689736900,"post_id":76717639,"comment_id":135254162,"body_markdown":"What is the algorithm?  One letter from each word, and if there isn&#39;t a match you add one more letter from the first word, then second, etc.?","body":"What is the algorithm?  One letter from each word, and if there isn&#39;t a match you add one more letter from the first word, then second, etc.?"},{"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"score":0,"creation_date":1689739253,"post_id":76717639,"comment_id":135254347,"body_markdown":"example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning; output: ieroe, archical, caltanissetta (and other words); expected output: cheer (and other words); &quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime","body":"example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning; output: ieroe, archical, caltanissetta (and other words); expected output: cheer (and other words); &quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime"},{"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"score":0,"creation_date":1689740217,"post_id":76717639,"comment_id":135254426,"body_markdown":"@tgdavies all code have been uploaded after edit","body":"@tgdavies all code have been uploaded after edit"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689745483,"post_id":76717639,"comment_id":135254854,"body_markdown":"Here is a similar application written in _Python_.  _https://github.com/bacook17/acronym_.","body":"Here is a similar application written in <i>Python</i>.  <i><a href=\"https://github.com/bacook17/acronym\" rel=\"nofollow noreferrer\">github.com/bacook17/acronym</a></i>."}],"owner":{"account_id":29045441,"reputation":11,"user_id":22249380,"display_name":"HK Kongou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689740319,"creation_date":1689734561,"question_id":76717639,"body_markdown":"I am trying to make an acronym generator which can generate acronym from characters not only from the first character of word but also character inside a word. I did some programming in Java (https://github.com/hkkongou/acronym/blob/main/Trie.java), it does find some acronyms. However, not all acronym are scanned. I then found a very good website which does the thing that I want. https://acronymify.com/ . But it does not provide any source code for me to learn. And I am stuck right now.\r\n\r\nI used java version of https://www.geeksforgeeks.org/trie-insert-and-search/ as example and modify so that my program can output searched acronym. Given &quot;National Aeronautics and Space Administration&quot;, I turn these words into lower case and remove spaces &quot;nationalaeronauticsandspaceadministration&quot;, then use two loops and loop all the characters from left to right and see whether these characters have acronyms. \r\n\r\nBelow are the codes I used to search acronyms, I don&#39;t know how to make it able to find other acronyms when it successfully found 1 acronym. Relaunching the search function will always have the same result. \r\n\r\nexample of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning\r\n\r\noutput: ieroe, archical, caltanissetta (and other words)\r\n\r\nexpected output: cheer (and other words)\r\n\r\n&quot;cheer&quot; is an example of words that haven&#39;t been scanned during the runtime &lt;-- my problem\r\n\r\n```\r\npublic class Trie extends JFrame {\r\n    static final int ALPHABET_SIZE = 26;\r\n    static class TrieNode {\r\n        TrieNode[] children = new TrieNode[ALPHABET_SIZE];\r\n        boolean isEndOfWord;\r\n        TrieNode() {\r\n            isEndOfWord = false;\r\n            for (int i = 0; i &lt; ALPHABET_SIZE; i++) {\r\n                children[i] = null;\r\n            }\r\n        }\r\n    };\r\n    static TrieNode root;\r\n    static void insert(String key) {\r\n        int level;\r\n        int length = key.length();\r\n        int index;\r\n        TrieNode pCrawl = root;\r\n        for (level = 0; level &lt; length; level++) {\r\n            index = key.charAt(level) - &#39;a&#39;;\r\n            if (pCrawl.children[index] == null) {\r\n                pCrawl.children[index] = new TrieNode();\r\n            }\r\n            pCrawl = pCrawl.children[index];\r\n        }\r\n        pCrawl.isEndOfWord = true;\r\n    }\r\n    public static ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n    public static ArrayList&lt;String&gt; words2 = new ArrayList&lt;String&gt;();\r\n    static boolean search(String key) {\r\n        int level;\r\n        int length = key.length();\r\n        int index;\r\n        TrieNode pCrawl = root;\r\n        String sentence = &quot;&quot;;\r\n        StringBuilder updateString = new StringBuilder(key);\r\n        for (level = 0; level &lt; length; level++) {\r\n            index = key.charAt(level) - &#39;a&#39;;\r\n            if (pCrawl.children[index] == null) {\r\n            } else {\r\n                pCrawl = pCrawl.children[index];\r\n                sentence = sentence + key.charAt(level);\r\n                updateString.setCharAt(level, Character.toUpperCase(key.charAt(level)));\r\n            }\r\n        }\r\n        if (pCrawl.isEndOfWord) {\r\n            words.add(sentence);\r\n            words2.add(updateString.toString());\r\n        } else {\r\n            sentence = &quot;&quot;;\r\n        }\r\n        return (pCrawl.isEndOfWord);\r\n    }\r\n    static void multisearch(String key) {\r\n        for (int i = 0; i &lt; key.length(); i++) {\r\n            search(key.substring(i, key.length()));\r\n        }\r\n    }\r\n    public static void main(String args[]) throws MalformedURLException, IOException {\r\n        Scanner myObj = new Scanner(System.in);\r\n        String data = myObj.nextLine();  // Read user input\r\n        run(data);\r\n        System.out.println(TempA);\r\n    }\r\n    public static String TempA = &quot;&quot;;\r\n    public static String TempB = &quot;&quot;;\r\n    public static void run(String input) throws MalformedURLException, IOException {\r\n        words.clear();\r\n        words2.clear();\r\n        ArrayList&lt;String&gt; ar = new ArrayList&lt;String&gt;();\r\n        URL url = new URL(&quot;https://raw.githubusercontent.com/dwyl/english-words/master/words.txt&quot;);\r\n        Scanner sc = new Scanner(url.openStream());\r\n        StringBuffer sb = new StringBuffer();\r\n        String temp = &quot;&quot;;\r\n        while (sc.hasNext()) {\r\n            temp = sc.next();\r\n            temp = temp.toLowerCase();\r\n            temp = temp.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\r\n            if (temp.length() &gt; 1) {\r\n                ar.add(temp);\r\n            }\r\n        }\r\n        String[] keys = new String[ar.size()];\r\n        keys = ar.toArray(keys);\r\n        String output[] = {&quot;Not present in trie&quot;, &quot;Present in trie&quot;};\r\n        root = new TrieNode();\r\n        for (int i = 0; i &lt; keys.length; i++)\r\n            insert(keys[i]);\r\n        input = input.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\r\n        System.out.println(input);\r\n        multisearch(input);\r\n        TempA = TempB = &quot;&quot;;\r\n        for (int i = 0; i &lt; words2.size(); i++) {\r\n            TempA = TempA + &quot;\\n&quot; + words.get(i);\r\n            TempB = TempB + &quot;\\n&quot; + input.substring(0, input.length() - words2.get(i).length()) + words2.get(i);\r\n        }\r\n    }\r\n}\r\n```","title":"Acronym finder which also scan characters inside a word","body":"<p>I am trying to make an acronym generator which can generate acronym from characters not only from the first character of word but also character inside a word. I did some programming in Java (<a href=\"https://github.com/hkkongou/acronym/blob/main/Trie.java\" rel=\"nofollow noreferrer\">https://github.com/hkkongou/acronym/blob/main/Trie.java</a>), it does find some acronyms. However, not all acronym are scanned. I then found a very good website which does the thing that I want. <a href=\"https://acronymify.com/\" rel=\"nofollow noreferrer\">https://acronymify.com/</a> . But it does not provide any source code for me to learn. And I am stuck right now.</p>\n<p>I used java version of <a href=\"https://www.geeksforgeeks.org/trie-insert-and-search/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/trie-insert-and-search/</a> as example and modify so that my program can output searched acronym. Given &quot;National Aeronautics and Space Administration&quot;, I turn these words into lower case and remove spaces &quot;nationalaeronauticsandspaceadministration&quot;, then use two loops and loop all the characters from left to right and see whether these characters have acronyms.</p>\n<p>Below are the codes I used to search acronyms, I don't know how to make it able to find other acronyms when it successfully found 1 acronym. Relaunching the search function will always have the same result.</p>\n<p>example of input: hierarCHical taxonomic classification for viral mEtagEnomic data via deep leaRning</p>\n<p>output: ieroe, archical, caltanissetta (and other words)</p>\n<p>expected output: cheer (and other words)</p>\n<p>&quot;cheer&quot; is an example of words that haven't been scanned during the runtime &lt;-- my problem</p>\n<pre><code>public class Trie extends JFrame {\n    static final int ALPHABET_SIZE = 26;\n    static class TrieNode {\n        TrieNode[] children = new TrieNode[ALPHABET_SIZE];\n        boolean isEndOfWord;\n        TrieNode() {\n            isEndOfWord = false;\n            for (int i = 0; i &lt; ALPHABET_SIZE; i++) {\n                children[i] = null;\n            }\n        }\n    };\n    static TrieNode root;\n    static void insert(String key) {\n        int level;\n        int length = key.length();\n        int index;\n        TrieNode pCrawl = root;\n        for (level = 0; level &lt; length; level++) {\n            index = key.charAt(level) - 'a';\n            if (pCrawl.children[index] == null) {\n                pCrawl.children[index] = new TrieNode();\n            }\n            pCrawl = pCrawl.children[index];\n        }\n        pCrawl.isEndOfWord = true;\n    }\n    public static ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\n    public static ArrayList&lt;String&gt; words2 = new ArrayList&lt;String&gt;();\n    static boolean search(String key) {\n        int level;\n        int length = key.length();\n        int index;\n        TrieNode pCrawl = root;\n        String sentence = &quot;&quot;;\n        StringBuilder updateString = new StringBuilder(key);\n        for (level = 0; level &lt; length; level++) {\n            index = key.charAt(level) - 'a';\n            if (pCrawl.children[index] == null) {\n            } else {\n                pCrawl = pCrawl.children[index];\n                sentence = sentence + key.charAt(level);\n                updateString.setCharAt(level, Character.toUpperCase(key.charAt(level)));\n            }\n        }\n        if (pCrawl.isEndOfWord) {\n            words.add(sentence);\n            words2.add(updateString.toString());\n        } else {\n            sentence = &quot;&quot;;\n        }\n        return (pCrawl.isEndOfWord);\n    }\n    static void multisearch(String key) {\n        for (int i = 0; i &lt; key.length(); i++) {\n            search(key.substring(i, key.length()));\n        }\n    }\n    public static void main(String args[]) throws MalformedURLException, IOException {\n        Scanner myObj = new Scanner(System.in);\n        String data = myObj.nextLine();  // Read user input\n        run(data);\n        System.out.println(TempA);\n    }\n    public static String TempA = &quot;&quot;;\n    public static String TempB = &quot;&quot;;\n    public static void run(String input) throws MalformedURLException, IOException {\n        words.clear();\n        words2.clear();\n        ArrayList&lt;String&gt; ar = new ArrayList&lt;String&gt;();\n        URL url = new URL(&quot;https://raw.githubusercontent.com/dwyl/english-words/master/words.txt&quot;);\n        Scanner sc = new Scanner(url.openStream());\n        StringBuffer sb = new StringBuffer();\n        String temp = &quot;&quot;;\n        while (sc.hasNext()) {\n            temp = sc.next();\n            temp = temp.toLowerCase();\n            temp = temp.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\n            if (temp.length() &gt; 1) {\n                ar.add(temp);\n            }\n        }\n        String[] keys = new String[ar.size()];\n        keys = ar.toArray(keys);\n        String output[] = {&quot;Not present in trie&quot;, &quot;Present in trie&quot;};\n        root = new TrieNode();\n        for (int i = 0; i &lt; keys.length; i++)\n            insert(keys[i]);\n        input = input.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\n        System.out.println(input);\n        multisearch(input);\n        TempA = TempB = &quot;&quot;;\n        for (int i = 0; i &lt; words2.size(); i++) {\n            TempA = TempA + &quot;\\n&quot; + words.get(i);\n            TempB = TempB + &quot;\\n&quot; + input.substring(0, input.length() - words2.get(i).length()) + words2.get(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":955542,"reputation":7742,"user_id":980917,"accept_rate":47,"display_name":"AlexVPerl"},"score":0,"creation_date":1689740066,"post_id":56867784,"comment_id":135254413,"body_markdown":"Facing the same issue, did you ever find a solution?","body":"Facing the same issue, did you ever find a solution?"}],"answers":[{"comments":[{"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"score":0,"creation_date":1562151303,"post_id":56868200,"comment_id":100285637,"body_markdown":"i already got the sha1 for both release and debug and used the  package names you provided, but the problem still exist","body":"i already got the sha1 for both release and debug and used the  package names you provided, but the problem still exist"},{"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"score":0,"creation_date":1562151734,"post_id":56868200,"comment_id":100285883,"body_markdown":"Definitely the right keystores with correct passwords etc? Even if they are incorrect they still return SHA1s","body":"Definitely the right keystores with correct passwords etc? Even if they are incorrect they still return SHA1s"},{"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"score":0,"creation_date":1562152613,"post_id":56868200,"comment_id":100286312,"body_markdown":"without the restriction, everything is ok and the map locations are loaded using my keystore, but when i restrict the access for the andorid form the console, the map requests gives the above message. should i add some extra headers  for the requests!","body":"without the restriction, everything is ok and the map locations are loaded using my keystore, but when i restrict the access for the andorid form the console, the map requests gives the above message. should i add some extra headers  for the requests!"},{"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"score":0,"creation_date":1562153194,"post_id":56868200,"comment_id":100286652,"body_markdown":"Yes I understand the issue. I can&#39;t see a problem with your package name. My only other suggestion is like I mentioned. You are using an incorrect alias and password for the keystore when getting your SHA1 certificate.","body":"Yes I understand the issue. I can&#39;t see a problem with your package name. My only other suggestion is like I mentioned. You are using an incorrect alias and password for the keystore when getting your SHA1 certificate."},{"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"score":0,"creation_date":1562153492,"post_id":56868200,"comment_id":100286832,"body_markdown":"for the sha generation, i generated it using the gradle singing report utility inside the android studio ide. also using the keytool from the terminal and both ways are matched!","body":"for the sha generation, i generated it using the gradle singing report utility inside the android studio ide. also using the keytool from the terminal and both ways are matched!"},{"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"score":0,"creation_date":1562160549,"post_id":56868200,"comment_id":100291285,"body_markdown":"in my case ,the package name in manifest is different than the applicationId in gradle. is this a problem?","body":"in my case ,the package name in manifest is different than the applicationId in gradle. is this a problem?"},{"owner":{"account_id":9885798,"reputation":706,"user_id":7320363,"display_name":"Delowar Hossain"},"score":0,"creation_date":1672638616,"post_id":56868200,"comment_id":132316480,"body_markdown":"My debug version map was working but release version map was not working. Provided link did the trick. As per documentation &quot;If you&#39;re using Play App Signing instead, you must go to the app signing page on the Play Console to get your certificate fingerprint.&quot; this solved my problem. Because I was creating SHA-1 certificate by keytool but my app was using Google play signing.\nN.B. App siging key can be found in Setup &gt; App Integrity &gt; App Signing tab from Google Play Store.","body":"My debug version map was working but release version map was not working. Provided link did the trick. As per documentation &quot;If you&#39;re using Play App Signing instead, you must go to the app signing page on the Play Console to get your certificate fingerprint.&quot; this solved my problem. Because I was creating SHA-1 certificate by keytool but my app was using Google play signing. N.B. App siging key can be found in Setup &gt; App Integrity &gt; App Signing tab from Google Play Store."}],"tags":[],"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562150172,"creation_date":1562150172,"answer_id":56868200,"question_id":56867784,"body_markdown":"You need to make sure your SHA1 is also on the console with your package name. You get this from the keystore used to sign each version; release &amp; debug. Follow the [Restrict the API key][1] section.\r\n\r\nDebug pacakge name: `com.myapp.debug`\r\n\r\nRelease package name: `com.myapp`\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/get-api-key","title":"Failed to restrict google Api key for android app","body":"<p>You need to make sure your SHA1 is also on the console with your package name. You get this from the keystore used to sign each version; release &amp; debug. Follow the <a href=\"https://developers.google.com/maps/documentation/android-sdk/get-api-key\" rel=\"nofollow noreferrer\">Restrict the API key</a> section.</p>\n\n<p>Debug pacakge name: <code>com.myapp.debug</code></p>\n\n<p>Release package name: <code>com.myapp</code></p>\n"}],"owner":{"account_id":1923707,"reputation":123,"user_id":1734638,"display_name":"RamDroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689739815,"creation_date":1562148755,"question_id":56867784,"body_markdown":"I&#39;m trying to restrict the access of my google cloud API key for my android app, but I always get the below message when I tried to use google maps API.\r\n \r\n**&quot;This IP, site or mobile application is not authorized to use this API key. Request received from IP address {myIp}, with empty referer&quot;**\r\n\r\nI followed [this guide][1]  \r\n\r\n# some hints: #\r\n\r\n    manifest package name: sa.com.myapp\r\n    applicationId in gradle: com.myapp\r\n    and debug flavour has the suffix like this\r\n    debug {\r\n     applicationIdSuffix &quot;.debug&quot;\r\n    }\r\n\r\n what do you think the proper package name value for both debug and release?\r\n\r\n\r\n  [1]: https://cloud.google.com/docs/authentication/api-keys?hl=en&amp;visit_id=636976716993216288-4203193488&amp;rd=1","title":"Failed to restrict google Api key for android app","body":"<p>I'm trying to restrict the access of my google cloud API key for my android app, but I always get the below message when I tried to use google maps API.</p>\n\n<p><strong>\"This IP, site or mobile application is not authorized to use this API key. Request received from IP address {myIp}, with empty referer\"</strong></p>\n\n<p>I followed <a href=\"https://cloud.google.com/docs/authentication/api-keys?hl=en&amp;visit_id=636976716993216288-4203193488&amp;rd=1\" rel=\"nofollow noreferrer\">this guide</a>  </p>\n\n<h1>some hints:</h1>\n\n<pre><code>manifest package name: sa.com.myapp\napplicationId in gradle: com.myapp\nand debug flavour has the suffix like this\ndebug {\n applicationIdSuffix \".debug\"\n}\n</code></pre>\n\n<p>what do you think the proper package name value for both debug and release?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":1,"creation_date":1485452907,"post_id":41879660,"comment_id":70941458,"body_markdown":"Before drawing up your class hierarchy, also clarify what you want these objects to *do*, because that&#39;ll determine what could make sense as an interface or abstract class, and what their relation should be.\n\nFor example, does Taxi have different methods than Private?","body":"Before drawing up your class hierarchy, also clarify what you want these objects to <i>do</i>, because that&#39;ll determine what could make sense as an interface or abstract class, and what their relation should be.  For example, does Taxi have different methods than Private?"},{"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"score":0,"creation_date":1485453285,"post_id":41879660,"comment_id":70941703,"body_markdown":"Good point. Private and Taxi will have a few methods they do not share, and an electric taxi will need to inherit all methods from Electric, and then Car. A taxi can also be Fossil, in which case it will need to inherit all Fossil methods, and none of the Electric methods. The common methods for Electric and Fossil will be found in Car.","body":"Good point. Private and Taxi will have a few methods they do not share, and an electric taxi will need to inherit all methods from Electric, and then Car. A taxi can also be Fossil, in which case it will need to inherit all Fossil methods, and none of the Electric methods. The common methods for Electric and Fossil will be found in Car."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1485454023,"post_id":41879660,"comment_id":70942122,"body_markdown":"You may want to break out the engine type into a separate class and use it to compose custom types, e.g. `Taxi cab1 = new Taxi(new ElectricMotor());`.","body":"You may want to break out the engine type into a separate class and use it to compose custom types, e.g. <code>Taxi cab1 = new Taxi(new ElectricMotor());</code>."},{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":1,"creation_date":1485454618,"post_id":41879660,"comment_id":70942509,"body_markdown":"Indeed, the &quot;component&quot; pattern would make a lot of sense there","body":"Indeed, the &quot;component&quot; pattern would make a lot of sense there"},{"owner":{"account_id":160835,"reputation":9154,"user_id":381179,"accept_rate":38,"display_name":"cadolphs"},"score":2,"creation_date":1485454669,"post_id":41879660,"comment_id":70942543,"body_markdown":"Also note that: You won&#39;t ever be able to do &quot;Taxi cab1 = new Fossil()&quot; because that&#39;d require that you can cast Fossil into Taxi. But not every fossil car is a taxi!","body":"Also note that: You won&#39;t ever be able to do &quot;Taxi cab1 = new Fossil()&quot; because that&#39;d require that you can cast Fossil into Taxi. But not every fossil car is a taxi!"},{"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"score":0,"creation_date":1485454859,"post_id":41879660,"comment_id":70942671,"body_markdown":"Oh - that&#39;s exactly what I have been trying to do, but clearly you are correct. Which - I assume - means I will have to structure this differently. At least this puts the issue to rest. Thank you!","body":"Oh - that&#39;s exactly what I have been trying to do, but clearly you are correct. Which - I assume - means I will have to structure this differently. At least this puts the issue to rest. Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"score":0,"creation_date":1485454974,"post_id":41880151,"comment_id":70942746,"body_markdown":"Thank you for the effort. This is though not the issue itself. The problem I had was trying to typecast a Taxi into a Fossil which extends Car.","body":"Thank you for the effort. This is though not the issue itself. The problem I had was trying to typecast a Taxi into a Fossil which extends Car."}],"tags":[],"owner":{"account_id":8103625,"reputation":678,"user_id":6105932,"display_name":"Ram"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485456485,"creation_date":1485454275,"answer_id":41880151,"question_id":41879660,"body_markdown":"***Car Class:***\r\n\r\n\tpublic class Car{\r\n\r\n\tprivate int yearOfManufacture;\r\n\tprivate String brand;\r\n\tprivate String model;\r\n\t\r\n\tprivate boolean forRent;\r\n\t\r\n\r\n\tpublic Car(String pBrand, String pModel, int pYearOfManufacture, boolean pForRent){\r\n\t\tthis.yearOfManufacture = pYearOfManufacture;\r\n\t\tthis.brand = pBrand;\r\n\t\tthis.model = pModel;\r\n\t\tthis.forRent = pForRent;\r\n\t}\r\n\t\r\n\t\r\n\tpublic boolean isPrivate(){\r\n\t\treturn (!forRent);\r\n\t}\r\n\r\n\tpublic int getYear()                \r\n\t\t{\r\n\t\t\treturn this.yearOfManufacture;\r\n\t\t}\r\n\r\n\tpublic String getBrand()\r\n\t\t{\r\n\t\t\treturn this.brand;\r\n\t\t}\r\n\r\n\tpublic void setYear(int year)\r\n\t\t{\r\n\t\t\tthis.yearOfManufacture = year;\r\n\t\t}\r\n\r\n\tpublic void setBrand(String carBrand)\r\n\t\t{\r\n\t\t\tthis.brand = carBrand;\r\n\t\t}\r\n\r\n\tpublic void setModel(String model)                        \r\n\t\t{\r\n\t\t\tthis.model = model;   \r\n\r\n\tpublic String getModel()\r\n\t\t{\r\n\t\t\treturn this.model;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n***Electric Car Class:***\r\n\r\n\tpublic class ElectricCar extends Car{\r\n\t\t\r\n\t\tprivate int electricPowerOutput;\r\n\t\t\r\n\t\tpublic ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pElectricPowerOutput, boolean pForRent){\r\n\t\t\tsuper(pBrand,pModel,pYearOfManufacture,pForRent);\r\n\t\t\tthis.electricPowerOutput = pElectricPowerOutput;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getElectricPowerOutput(){\r\n\t\t\treturn this.electricPowerOutput;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setElectricPowerOutput(int electricPower){\r\n\t\t\tthis.electricPowerOutput = electricPower;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n***Fossil Car:***\r\n\r\n\tpublic class FossilCar extends Car{\r\n\t\t\r\n\t\tprivate int emissionRating;\r\n\t\t\r\n\t\tpublic ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pEmissionRating, boolean pForRent){\r\n\t\t\tsuper(pBrand,pModel,pYearOfManufacture,pForRent);\r\n\t\t\tthis.emissionRating = pEmissionRating;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getEmissionRating(){\r\n\t\t\treturn this.emissionRating;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setElectricPowerOutput(int emissionRating){\r\n\t\t\tthis.emissionRating = emissionRating;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\nHope this helps!!","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p><strong><em>Car Class:</em></strong></p>\n\n<pre><code>public class Car{\n\nprivate int yearOfManufacture;\nprivate String brand;\nprivate String model;\n\nprivate boolean forRent;\n\n\npublic Car(String pBrand, String pModel, int pYearOfManufacture, boolean pForRent){\n    this.yearOfManufacture = pYearOfManufacture;\n    this.brand = pBrand;\n    this.model = pModel;\n    this.forRent = pForRent;\n}\n\n\npublic boolean isPrivate(){\n    return (!forRent);\n}\n\npublic int getYear()                \n    {\n        return this.yearOfManufacture;\n    }\n\npublic String getBrand()\n    {\n        return this.brand;\n    }\n\npublic void setYear(int year)\n    {\n        this.yearOfManufacture = year;\n    }\n\npublic void setBrand(String carBrand)\n    {\n        this.brand = carBrand;\n    }\n\npublic void setModel(String model)                        \n    {\n        this.model = model;   \n\npublic String getModel()\n    {\n        return this.model;\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Electric Car Class:</em></strong></p>\n\n<pre><code>public class ElectricCar extends Car{\n\n    private int electricPowerOutput;\n\n    public ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pElectricPowerOutput, boolean pForRent){\n        super(pBrand,pModel,pYearOfManufacture,pForRent);\n        this.electricPowerOutput = pElectricPowerOutput;\n    }\n\n    public int getElectricPowerOutput(){\n        return this.electricPowerOutput;\n    }\n\n    public void setElectricPowerOutput(int electricPower){\n        this.electricPowerOutput = electricPower;\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Fossil Car:</em></strong></p>\n\n<pre><code>public class FossilCar extends Car{\n\n    private int emissionRating;\n\n    public ElectricCar(String pBrand, String pModel, int pYearOfManufacture, int pEmissionRating, boolean pForRent){\n        super(pBrand,pModel,pYearOfManufacture,pForRent);\n        this.emissionRating = pEmissionRating;\n    }\n\n    public int getEmissionRating(){\n        return this.emissionRating;\n    }\n\n    public void setElectricPowerOutput(int emissionRating){\n        this.emissionRating = emissionRating;\n    }\n\n}\n</code></pre>\n\n<p>Hope this helps!!</p>\n"},{"tags":[],"owner":{"account_id":8103625,"reputation":678,"user_id":6105932,"display_name":"Ram"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485481451,"creation_date":1485481451,"answer_id":41885928,"question_id":41879660,"body_markdown":"Are you thinking something like this?\r\n\r\n***Car Class:***\r\n\r\n\tpublic class Car{\r\n\r\n\tprivate int yearOfManufacture;\r\n\tprivate String brand;\r\n\tprivate String model;\r\n\tprivate Engine engine;\t\r\n\r\n\tpublic Car(String pBrand, String pModel, int pYearOfManufacture, Engine pEngine){\r\n\t\tthis.yearOfManufacture = pYearOfManufacture;\r\n\t\tthis.brand = pBrand;\r\n\t\tthis.model = pModel;\r\n\t\tthis.engine = pEngine;\r\n\t}\r\n\r\n\t}\r\n\r\n***Engine Class:***\r\n\r\n\tpublic class Engine {\r\n\r\n\t private int power;\r\n\t private int emission;\r\n\r\n\t public Engine(int power, int emission) {\r\n\t  this.power = power;\r\n\t  this.emission = emission;\r\n\t }\r\n\t}\r\n\r\n***IC Engine Class:***\r\n\r\n\tpublic class ICEngine extends Engine {\r\n\r\n\t private int numOfValves;\r\n\r\n\t public ICEngine(int power, int emission, int numOfValves) {\r\n\t  super(int power, int emission);\r\n\t  this.numOfValves = numOfValves;\r\n\t }\r\n\t}\r\n\r\n***Electric Engine Class:***\r\n\r\n\tpublic class ElectricEngine extends Engine {\r\n\r\n\t private int wattage;\r\n\r\n\t public ICEngine(int power, int emission, int wattage) {\r\n\t  super(int power, int emission);\r\n\t  this.wattage = wattage;\r\n\t }\r\n\t}\r\n\r\n***Taxi Class:***\r\n\r\n\tpublic class Taxi extends Car{\r\n\t\t\r\n\t\tprivate String driverName;\r\n\t\t\r\n\t\tpublic Taxi(String driverName, String pBrand, String pModel, int pYearOfManufacture, Engine engine){\r\n\t\t\tsuper(pBrand, pModel, pYearOfManufacture, engine);\r\n\t\t\tthis.driverName = driverName;\r\n\t\t}\r\n\t}\r\n\r\n***Private Car Class:***\r\n\r\n\tpublic class PrivateCar extends Car {\r\n\r\n\t private String ownerName;\r\n\r\n\t public PrivateCar(String ownerName, String pBrand, String pModel, int pYearOfManufacture, Engine engine) {\r\n\t  super(pBrand, pModel, pYearOfManufacture, engine);\r\n\t  this.ownerName = ownerName;\r\n\t }\r\n\r\n\r\n\t}\r\n\r\n\r\n***Consuming Application Class:***\r\n\r\n\r\n\tpublic class MyApp {\r\n\r\n\t public static void main(String[] args) {\r\n\r\n\t  Engine eEngine1 = new ElectricEngine(100, 10, 10000);\r\n\t  Car myElectricTaxi = new Taxi(&quot;Driver1&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, eEngine1);\r\n\r\n\t  Engine icEngine1 = new ICEngine(100, 10, 6);\r\n\t  Car myICTaxi = new Taxi(&quot;Driver2&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, icEngine1);\r\n\r\n\t  Engine eEngine2 = new ElectricEngine(100, 10, 10000);\r\n\t  Car myElectricPrivateCar = new PrivateCar(&quot;Owner1&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, eEngine2);\r\n\r\n\t  Engine icEngine2 = new ICEngine(100, 10, 4);\r\n\t  Car myICPrivateCar = new PrivateCar(&quot;Owner2&quot;, &quot;Honda&quot;, &quot;Accord&quot;, 2013, icEngine2);\r\n\r\n\t }\r\n\r\n\t}","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p>Are you thinking something like this?</p>\n\n<p><strong><em>Car Class:</em></strong></p>\n\n<pre><code>public class Car{\n\nprivate int yearOfManufacture;\nprivate String brand;\nprivate String model;\nprivate Engine engine;  \n\npublic Car(String pBrand, String pModel, int pYearOfManufacture, Engine pEngine){\n    this.yearOfManufacture = pYearOfManufacture;\n    this.brand = pBrand;\n    this.model = pModel;\n    this.engine = pEngine;\n}\n\n}\n</code></pre>\n\n<p><strong><em>Engine Class:</em></strong></p>\n\n<pre><code>public class Engine {\n\n private int power;\n private int emission;\n\n public Engine(int power, int emission) {\n  this.power = power;\n  this.emission = emission;\n }\n}\n</code></pre>\n\n<p><strong><em>IC Engine Class:</em></strong></p>\n\n<pre><code>public class ICEngine extends Engine {\n\n private int numOfValves;\n\n public ICEngine(int power, int emission, int numOfValves) {\n  super(int power, int emission);\n  this.numOfValves = numOfValves;\n }\n}\n</code></pre>\n\n<p><strong><em>Electric Engine Class:</em></strong></p>\n\n<pre><code>public class ElectricEngine extends Engine {\n\n private int wattage;\n\n public ICEngine(int power, int emission, int wattage) {\n  super(int power, int emission);\n  this.wattage = wattage;\n }\n}\n</code></pre>\n\n<p><strong><em>Taxi Class:</em></strong></p>\n\n<pre><code>public class Taxi extends Car{\n\n    private String driverName;\n\n    public Taxi(String driverName, String pBrand, String pModel, int pYearOfManufacture, Engine engine){\n        super(pBrand, pModel, pYearOfManufacture, engine);\n        this.driverName = driverName;\n    }\n}\n</code></pre>\n\n<p><strong><em>Private Car Class:</em></strong></p>\n\n<pre><code>public class PrivateCar extends Car {\n\n private String ownerName;\n\n public PrivateCar(String ownerName, String pBrand, String pModel, int pYearOfManufacture, Engine engine) {\n  super(pBrand, pModel, pYearOfManufacture, engine);\n  this.ownerName = ownerName;\n }\n\n\n}\n</code></pre>\n\n<p><strong><em>Consuming Application Class:</em></strong></p>\n\n<pre><code>public class MyApp {\n\n public static void main(String[] args) {\n\n  Engine eEngine1 = new ElectricEngine(100, 10, 10000);\n  Car myElectricTaxi = new Taxi(\"Driver1\", \"Honda\", \"Accord\", 2013, eEngine1);\n\n  Engine icEngine1 = new ICEngine(100, 10, 6);\n  Car myICTaxi = new Taxi(\"Driver2\", \"Honda\", \"Accord\", 2013, icEngine1);\n\n  Engine eEngine2 = new ElectricEngine(100, 10, 10000);\n  Car myElectricPrivateCar = new PrivateCar(\"Owner1\", \"Honda\", \"Accord\", 2013, eEngine2);\n\n  Engine icEngine2 = new ICEngine(100, 10, 4);\n  Car myICPrivateCar = new PrivateCar(\"Owner2\", \"Honda\", \"Accord\", 2013, icEngine2);\n\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2279742,"reputation":97,"user_id":2005142,"accept_rate":38,"display_name":"user2005142"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689739813,"creation_date":1485452596,"question_id":41879660,"body_markdown":"I&#39;m recently picking up OOP, and this has me very confused. \r\nI want to make a super class Car and Electric or Fossil cars as its subclasses. \r\n\r\n    `abstract class Electric extends Car`. \r\n\r\nThe issue is that I only want to make instances of either Private or Taxi. How can I structure this, so that I would ideally be allowed to make a statement as \r\n\r\n    Taxi cab1 = new Fossil()\r\n\r\nI realize this is a question with an obvious answer, but after looking at generics and interfaces until my eyes got sore, the frustration has been growing. \r\n\r\nI would greatly appreciate if somebody could remind me how this can be done, as I&#39;m positive I have known and since forgot.\r\n","title":"Parent - Car. Sub-class: Electric or Fossil. Child: Private car or Taxi","body":"<p>I'm recently picking up OOP, and this has me very confused. \nI want to make a super class Car and Electric or Fossil cars as its subclasses. </p>\n\n<pre><code>`abstract class Electric extends Car`. \n</code></pre>\n\n<p>The issue is that I only want to make instances of either Private or Taxi. How can I structure this, so that I would ideally be allowed to make a statement as </p>\n\n<pre><code>Taxi cab1 = new Fossil()\n</code></pre>\n\n<p>I realize this is a question with an obvious answer, but after looking at generics and interfaces until my eyes got sore, the frustration has been growing. </p>\n\n<p>I would greatly appreciate if somebody could remind me how this can be done, as I'm positive I have known and since forgot.</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1335558525,"post_id":10357323,"comment_id":13345154,"body_markdown":"Thanks @Gray! So, if I have classes that aren&#39;t immutable, and I need to synchronize on their instances but do not want to have to get into all the java.util.concurrent.* &quot;stuff&quot;, I can just protect them with `ThreadLocal`...is that a fair summary?!?","body":"Thanks @Gray! So, if I have classes that aren&#39;t immutable, and I need to synchronize on their instances but do not want to have to get into all the java.util.concurrent.* &quot;stuff&quot;, I can just protect them with <code>ThreadLocal</code>...is that a fair summary?!?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1335558723,"post_id":10357323,"comment_id":13345215,"body_markdown":"Yes @herpylderp (excellent username btw) as long as they can be local only to the thread.  Once the thread finishes, all of its `ThreadLocal` classes can be GC&#39;d.  Immutable and non-reentrant classes as well -- although maybe non-rentrant are by definition not immutable.","body":"Yes @herpylderp (excellent username btw) as long as they can be local only to the thread.  Once the thread finishes, all of its <code>ThreadLocal</code> classes can be GC&#39;d.  Immutable and non-reentrant classes as well -- although maybe non-rentrant are by definition not immutable."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1689738581,"creation_date":1335558038,"answer_id":10357323,"question_id":10357295,"body_markdown":"The purpose of `ThreadLocal` is that the fields do _not_ have to be atomic -- there is no need to synchronize their values with centralized memory.  They are thread-local and only exist in the threads local memory storage.\r\n\r\n&gt; Why would I ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger? \r\n\r\n`ThreadLocal` is very useful for storing a per-thread copy of something.  For example a `SimpleDateFormat` which is unfortunately not reentrant.\r\n\r\n\tprivate final ThreadLocal&lt;DateFormat&gt; threadLocal =\r\n\t\t\tnew ThreadLocal&lt;DateFormat&gt;() {\r\n\t\t@Override\r\n\t\tprotected DateFormat initialValue() {\r\n\t\t\treturn new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\r\n\t\t}\r\n\t};\r\n\t...\r\n\t// get one that is per-thread\r\n\tDateFormat dateFormat = threadLocal.get();\r\n\r\nThis is a useful pattern because then we don&#39;t have to `synchronize` on it or worry about any `volatile` or other atomic operations that have memory barriers.\r\n\r\nOne caveat is that `ThreadLocal` variables often are detected as memory leaks since they are only freed when the thread is reaped which can cause problems with web container class loaders.","title":"Using ThreadLocal vs Atomic","body":"<p>The purpose of <code>ThreadLocal</code> is that the fields do <em>not</em> have to be atomic -- there is no need to synchronize their values with centralized memory.  They are thread-local and only exist in the threads local memory storage.</p>\n<blockquote>\n<p>Why would I ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?</p>\n</blockquote>\n<p><code>ThreadLocal</code> is very useful for storing a per-thread copy of something.  For example a <code>SimpleDateFormat</code> which is unfortunately not reentrant.</p>\n<pre><code>private final ThreadLocal&lt;DateFormat&gt; threadLocal =\n        new ThreadLocal&lt;DateFormat&gt;() {\n    @Override\n    protected DateFormat initialValue() {\n        return new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;);\n    }\n};\n...\n// get one that is per-thread\nDateFormat dateFormat = threadLocal.get();\n</code></pre>\n<p>This is a useful pattern because then we don't have to <code>synchronize</code> on it or worry about any <code>volatile</code> or other atomic operations that have memory barriers.</p>\n<p>One caveat is that <code>ThreadLocal</code> variables often are detected as memory leaks since they are only freed when the thread is reaped which can cause problems with web container class loaders.</p>\n"},{"comments":[{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":1,"creation_date":1335561376,"post_id":10357350,"comment_id":13346120,"body_markdown":"You *can* access an object stored in a `ThreadLocal` from other threads if you publish its reference elsewhere. More importantly, `AtomicReference` doesn&#39;t remove the need for synchronization on the object it references. It only provides safe publication of the reference between threads. Sticking an `ArrayList` into an `AtomicReference` won&#39;t make the `ArrayList` itself thread-safe.","body":"You <i>can</i> access an object stored in a <code>ThreadLocal</code> from other threads if you publish its reference elsewhere. More importantly, <code>AtomicReference</code> doesn&#39;t remove the need for synchronization on the object it references. It only provides safe publication of the reference between threads. Sticking an <code>ArrayList</code> into an <code>AtomicReference</code> won&#39;t make the <code>ArrayList</code> itself thread-safe."}],"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335558201,"creation_date":1335558201,"answer_id":10357350,"question_id":10357295,"body_markdown":"&gt; I guess I&#39;m wondering why I would ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?\r\n\r\nThey serve **completely** different purposes. `ThreadLocal` means you don&#39;t have to worry about synchronization by granting each thread its own copy of an object. Therefore, an object stored in a `ThreadLocal` cannot possibly be accessed by more than one thread.\r\n\r\n`Atomic*` also mean that you don&#39;t have to worry about synchronization, but they are specifically meant to be shared across threads.","title":"Using ThreadLocal vs Atomic","body":"<blockquote>\n  <p>I guess I'm wondering why I would ever want to use a ThreadLocal instead of, say, an AtomicLong or AtomicInteger?</p>\n</blockquote>\n\n<p>They serve <strong>completely</strong> different purposes. <code>ThreadLocal</code> means you don't have to worry about synchronization by granting each thread its own copy of an object. Therefore, an object stored in a <code>ThreadLocal</code> cannot possibly be accessed by more than one thread.</p>\n\n<p><code>Atomic*</code> also mean that you don't have to worry about synchronization, but they are specifically meant to be shared across threads.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5471,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10357323,"answer_count":2,"score":5,"last_activity_date":1689738581,"creation_date":1335557942,"question_id":10357295,"body_markdown":"According to `ThreadLocal`&#39;s javadoc, it sounds like its a thread-specific container for 1+ atomic fields.\r\n\r\nIs the purpose of `ThreadLocal` to represent all the atomic fields for a single `Thread`, or is it to just provided a convenience container when you have multiple `Atomic*` instances that need to be logically grouped together?\r\n\r\nI guess I&#39;m wondering why I would ever want to use a `ThreadLocal` instead of, say, an `AtomicLong` or `AtomicInteger`? Thanks in advance!","title":"Using ThreadLocal vs Atomic","body":"<p>According to <code>ThreadLocal</code>'s javadoc, it sounds like its a thread-specific container for 1+ atomic fields.</p>\n\n<p>Is the purpose of <code>ThreadLocal</code> to represent all the atomic fields for a single <code>Thread</code>, or is it to just provided a convenience container when you have multiple <code>Atomic*</code> instances that need to be logically grouped together?</p>\n\n<p>I guess I'm wondering why I would ever want to use a <code>ThreadLocal</code> instead of, say, an <code>AtomicLong</code> or <code>AtomicInteger</code>? Thanks in advance!</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1689722168,"post_id":76716705,"comment_id":135252980,"body_markdown":"What&#39;s the regex question ?","body":"What&#39;s the regex question ?"}],"tags":[],"owner":{"account_id":20267694,"reputation":43,"user_id":14864513,"display_name":"floydk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689716582,"creation_date":1689716582,"answer_id":76716705,"question_id":76716662,"body_markdown":"Okay, literally 5 minutes after posting my question I find the answer in a different thread after searching for an hour beforehand.`final var matcher = includePattern.matcher(line);` there HAS to be a call `matcher.matches()` before calling any other method on the matcher. ","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>Okay, literally 5 minutes after posting my question I find the answer in a different thread after searching for an hour beforehand.<code>final var matcher = includePattern.matcher(line);</code> there HAS to be a call <code>matcher.matches()</code> before calling any other method on the matcher.</p>\n"},{"comments":[{"owner":{"account_id":20267694,"reputation":43,"user_id":14864513,"display_name":"floydk"},"score":1,"creation_date":1689757863,"post_id":76717847,"comment_id":135257161,"body_markdown":"Not sure why you were down voted, this is actually a quite helpful comment. I saw threads on here talking about using find() but i did not put 2 and 2 together that I could also use it to initialize the matcher using find() instead. Also nice simplyfication of the regex. Thanks!","body":"Not sure why you were down voted, this is actually a quite helpful comment. I saw threads on here talking about using find() but i did not put 2 and 2 together that I could also use it to initialize the matcher using find() instead. Also nice simplyfication of the regex. Thanks!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689738158,"creation_date":1689738158,"answer_id":76717847,"question_id":76716662,"body_markdown":"Glad to hear you figured out the problem.\r\n\r\nThe _Matcher_ class works dynamically.&amp;nbsp; Meaning, you have to invoke it to generate an output.  \r\nIt won&#39;t have all the data upon instantiation.\r\n\r\nSo, for the _[hasMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#hasMatch())_ method, as you mentioned, it requires a match, initially.\r\n\r\n&gt; _&quot;... Returns whether this contains a valid match from a previous match or find operation. ...&quot;_\r\n\r\nAs a note, I typically use the _[find](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find())_ method in this situation.\r\n\r\n```java\r\nif (matcher.find()) {\r\n    final var includedFileName = matcher.group(&quot;fileName&quot;);\r\n    final var includedConfiguration = readConfiguration(includedFileName);\r\n}\r\n```\r\n\r\nAnd, as a final note, you could reduce the pattern.  \r\nThe initial `.*`, the capture group, nor the set union, are required.  \r\n\r\n```none\r\n!include (?&lt;fileName&gt;.*\\.ya?ml)\r\n```","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>Glad to hear you figured out the problem.</p>\n<p>The <em>Matcher</em> class works dynamically.  Meaning, you have to invoke it to generate an output.<br />\nIt won't have all the data upon instantiation.</p>\n<p>So, for the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#hasMatch()\" rel=\"nofollow noreferrer\">hasMatch</a></em> method, as you mentioned, it requires a match, initially.</p>\n<blockquote>\n<p><em>&quot;... Returns whether this contains a valid match from a previous match or find operation. ...&quot;</em></p>\n</blockquote>\n<p>As a note, I typically use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">find</a></em> method in this situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (matcher.find()) {\n    final var includedFileName = matcher.group(&quot;fileName&quot;);\n    final var includedConfiguration = readConfiguration(includedFileName);\n}\n</code></pre>\n<p>And, as a final note, you could reduce the pattern.<br />\nThe initial <code>.*</code>, the capture group, nor the set union, are required.</p>\n<pre class=\"lang-none prettyprint-override\"><code>!include (?&lt;fileName&gt;.*\\.ya?ml)\n</code></pre>\n"}],"owner":{"account_id":20267694,"reputation":43,"user_id":14864513,"display_name":"floydk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76717847,"answer_count":2,"score":0,"last_activity_date":1689738158,"creation_date":1689715909,"question_id":76716662,"body_markdown":"i am trying to write a small java library and currently i am trying to read a file line by line, and if in a line i find the expression &quot;!includes &lt;filename&gt;.yaml&quot; i want to get the file name, load it and replace it in the current file that I am reading. For exmaple in the order file:\r\n\r\n\r\n```\r\norderNo: A001\r\ndate: 2019-04-17\r\ncustomerName: Customer, Joe\r\norderLines:\r\n  - item: No. 9 Sprockets\r\n    quantity: 12\r\n    unitPrice: 1.23\r\n  - item: Widget (10mm)\r\n    quantity: 4\r\n    unitPrice: 3.45\r\n  - !include item.yaml\r\n```\r\n\r\nI want to replace the last line with the content of file item.yaml which looks something like\r\n\r\n\r\n```\r\nitem: Sub-item\r\nquantity: 2\r\nunitPrice: 16\r\n```\r\n\r\n\r\nTo that end i am currently playing around with regex to match the whole &quot;!includes &lt;filename&gt;.yaml&quot;, which looks something like this:\r\n\r\n\r\n```\r\n    private static final Pattern includePattern = Pattern.compile(&quot;.*!include (?&lt;fileName&gt;.*\\\\.(yaml|yml))&quot;);\r\n    public static String readConfiguration(String configurationFile) {\r\n        final var configurationFileUrl = ConfigurationLoader.class.getClassLoader().getResource(configurationFile);\r\n        if (configurationFileUrl == null)\r\n            throw new ConfigurationReadException(configurationFile);\r\n        try {\r\n            final var lines = Files.readAllLines(Path.of(configurationFileUrl.toURI()));\r\n            for (final var line : lines) {\r\n                final var matcher = includePattern.matcher(line);\r\n                if (matcher.hasMatch()) {\r\n                    final var includedFileName = matcher.group(&quot;fileName&quot;);\r\n                    final var includedConfiguration = readConfiguration(includedFileName);\r\n                }\r\n            }\r\n            return lines.stream().reduce(&quot;&quot;, (existing, current) -&gt; existing.equals(&quot;&quot;) ? current : &quot;%s\\r\\n%s&quot;.formatted(existing, current));\r\n        } catch (IOException | OutOfMemoryError | SecurityException | IllegalArgumentException |\r\n                 FileSystemNotFoundException | URISyntaxException e) {\r\n            throw new ConfigurationReadException(configurationFile.toString(), e);\r\n        }\r\n    }\r\n```\r\n\r\nNow my problem is that matcher.hasMatch() always returns false and the matcher has no match on the group, even though when I am debugging to that position in the code and execute line.matches(includePattern.pattern) I actually get &quot;true&quot;. \r\n\r\nI understand that .hasMatches/matches only returns true when the entire string matches the regex, but thats why i modified my pattern in a way that it actually should match the entire line. Testing with online regex testers also tells me, that my regex should be working. What am i doing wrong?","title":"Calling string.matches(PATTERN) giving different result than Pattern.compile(PATTERN).matcher(string).hasMatches()","body":"<p>i am trying to write a small java library and currently i am trying to read a file line by line, and if in a line i find the expression &quot;!includes .yaml&quot; i want to get the file name, load it and replace it in the current file that I am reading. For exmaple in the order file:</p>\n<pre><code>orderNo: A001\ndate: 2019-04-17\ncustomerName: Customer, Joe\norderLines:\n  - item: No. 9 Sprockets\n    quantity: 12\n    unitPrice: 1.23\n  - item: Widget (10mm)\n    quantity: 4\n    unitPrice: 3.45\n  - !include item.yaml\n</code></pre>\n<p>I want to replace the last line with the content of file item.yaml which looks something like</p>\n<pre><code>item: Sub-item\nquantity: 2\nunitPrice: 16\n</code></pre>\n<p>To that end i am currently playing around with regex to match the whole &quot;!includes .yaml&quot;, which looks something like this:</p>\n<pre><code>    private static final Pattern includePattern = Pattern.compile(&quot;.*!include (?&lt;fileName&gt;.*\\\\.(yaml|yml))&quot;);\n    public static String readConfiguration(String configurationFile) {\n        final var configurationFileUrl = ConfigurationLoader.class.getClassLoader().getResource(configurationFile);\n        if (configurationFileUrl == null)\n            throw new ConfigurationReadException(configurationFile);\n        try {\n            final var lines = Files.readAllLines(Path.of(configurationFileUrl.toURI()));\n            for (final var line : lines) {\n                final var matcher = includePattern.matcher(line);\n                if (matcher.hasMatch()) {\n                    final var includedFileName = matcher.group(&quot;fileName&quot;);\n                    final var includedConfiguration = readConfiguration(includedFileName);\n                }\n            }\n            return lines.stream().reduce(&quot;&quot;, (existing, current) -&gt; existing.equals(&quot;&quot;) ? current : &quot;%s\\r\\n%s&quot;.formatted(existing, current));\n        } catch (IOException | OutOfMemoryError | SecurityException | IllegalArgumentException |\n                 FileSystemNotFoundException | URISyntaxException e) {\n            throw new ConfigurationReadException(configurationFile.toString(), e);\n        }\n    }\n</code></pre>\n<p>Now my problem is that matcher.hasMatch() always returns false and the matcher has no match on the group, even though when I am debugging to that position in the code and execute line.matches(includePattern.pattern) I actually get &quot;true&quot;.</p>\n<p>I understand that .hasMatches/matches only returns true when the entire string matches the regex, but thats why i modified my pattern in a way that it actually should match the entire line. Testing with online regex testers also tells me, that my regex should be working. What am i doing wrong?</p>\n"},{"tags":["java","android","image"],"owner":{"account_id":21431076,"reputation":21,"user_id":15787484,"display_name":"Salty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689736423,"creation_date":1689730976,"question_id":76717438,"body_markdown":"My app has an ImageReader that is configured for the JPEG format. I draw to the reader&#39;s surface a circle shape with its canvas. On the `OnImageAvailable` callback method, I grab the Image with `image = acquireNextImage()` and when I try to invoke \r\n\r\n    ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n\r\n\r\n I&#39;m met with a huge crash dump (doesn&#39;t tell me anything meaningful). It works completely fine when I set the format to `PixelFormat.RGBA8888` and invoke the same call. ","title":"Does ImageReader convert surfaces to specified formats?","body":"<p>My app has an ImageReader that is configured for the JPEG format. I draw to the reader's surface a circle shape with its canvas. On the <code>OnImageAvailable</code> callback method, I grab the Image with <code>image = acquireNextImage()</code> and when I try to invoke</p>\n<pre><code>ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n</code></pre>\n<p>I'm met with a huge crash dump (doesn't tell me anything meaningful). It works completely fine when I set the format to <code>PixelFormat.RGBA8888</code> and invoke the same call.</p>\n"},{"tags":["java","spring","inversion-of-control","autowired","java-ee-6"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689659721,"post_id":76709070,"comment_id":135240901,"body_markdown":"I&#39;m actually surprised it works as the `RedisTemplate` isn&#39;t even a `HashOperations`. Looking into it it appeas as if `@Resource` passes through the conversion framework of Spring as there is a `HashOperationsEditor` which converts a `RedisOperations` into the `HashOperations` by calling the factory method. This appears to be bypassed by `@Autowired` might be due to the point into the lifecycle that this is being invoked.","body":"I&#39;m actually surprised it works as the <code>RedisTemplate</code> isn&#39;t even a <code>HashOperations</code>. Looking into it it appeas as if <code>@Resource</code> passes through the conversion framework of Spring as there is a <code>HashOperationsEditor</code> which converts a <code>RedisOperations</code> into the <code>HashOperations</code> by calling the factory method. This appears to be bypassed by <code>@Autowired</code> might be due to the point into the lifecycle that this is being invoked."},{"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"score":0,"creation_date":1689736066,"post_id":76709070,"comment_id":135254103,"body_markdown":"@M.Deinum Yes it works and I found why :)","body":"@M.Deinum Yes it works and I found why :)"}],"answers":[{"tags":[],"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689736016,"creation_date":1689736016,"answer_id":76717715,"question_id":76709070,"body_markdown":"Yes guys, I figured it out by a Chinese post here: https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/.\r\n\r\nDon&#39;t worry if you can&#39;t read Chinese. I looked up the newest official document of why we can use Resouce instead of Autowire: https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template\r\n\r\nThe KEY is spring framework helps us to do the conversion things. Spring provides more than you imaged types linked to specific Redis operation type, such as `ListOperations `,`HashOperations `,`ValueOperations `,`SetOperations` and many other so-called `operations view`s, which you can find in the doc above.","title":"What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?","body":"<p>Yes guys, I figured it out by a Chinese post here: <a href=\"https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/\" rel=\"nofollow noreferrer\">https://xxgblog.com/2020/03/12/spring-redistemplate-listoperations/</a>.</p>\n<p>Don't worry if you can't read Chinese. I looked up the newest official document of why we can use Resouce instead of Autowire: <a href=\"https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-redis/docs/3.2.x/reference/html/#redis:template</a></p>\n<p>The KEY is spring framework helps us to do the conversion things. Spring provides more than you imaged types linked to specific Redis operation type, such as <code>ListOperations </code>,<code>HashOperations </code>,<code>ValueOperations </code>,<code>SetOperations</code> and many other so-called <code>operations view</code>s, which you can find in the doc above.</p>\n"}],"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76717715,"answer_count":1,"score":0,"last_activity_date":1689736016,"creation_date":1689645131,"question_id":76709070,"body_markdown":"I am trying to use Redis in Spring project. And I copied some code like this and it works well:\r\n\r\n```java\r\n    @Autowired\r\n    private RedisTemplate redisTemplate;\r\n\r\n    @Resource(name = &quot;redisTemplate&quot;)\r\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\r\n```\r\nNotice that I defined 2 variables pointing to a same bean `RedisTemplate`, which is constructed in another file:\r\n```java\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Bean\r\n    public RedisTemplate redisTemplate(\r\n          RedisConnectionFactory connectionFactory,\r\n          @Qualifier(&quot;customObjectMapper&quot;)  ObjectMapper objectMapper) {\r\n// do the config things...\r\n    }\r\n}\r\n```\r\n\r\n===\r\n\r\nThen an idea came up to me, I am wondering why the var of `redisTemplate` wearing `@Autowire` while the var of `hashOps` wearing `@Resource`, and why `hashOps` can work well as there is not a bean injected explicitly.\r\n\r\nI replaced `Autowire` to the var `hashOps` as below:\r\n\r\n```java \r\n    @Autowired\r\n    private RedisTemplate redisTemplate;\r\n\r\n    @Autowired(name = &quot;redisTemplate&quot;) // instead of Resouce here\r\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\r\n```\r\nExpected enough, my App started failed. The spring container tells that there is no bean of HashOperations to look up.\r\n\r\nEmm, so back to the caption: What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire? ","title":"What&#39;s the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?","body":"<p>I am trying to use Redis in Spring project. And I copied some code like this and it works well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Resource(name = &quot;redisTemplate&quot;)\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\n</code></pre>\n<p>Notice that I defined 2 variables pointing to a same bean <code>RedisTemplate</code>, which is constructed in another file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RedisConfig {\n\n    @Bean\n    public RedisTemplate redisTemplate(\n          RedisConnectionFactory connectionFactory,\n          @Qualifier(&quot;customObjectMapper&quot;)  ObjectMapper objectMapper) {\n// do the config things...\n    }\n}\n</code></pre>\n<p>===</p>\n<p>Then an idea came up to me, I am wondering why the var of <code>redisTemplate</code> wearing <code>@Autowire</code> while the var of <code>hashOps</code> wearing <code>@Resource</code>, and why <code>hashOps</code> can work well as there is not a bean injected explicitly.</p>\n<p>I replaced <code>Autowire</code> to the var <code>hashOps</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Autowired(name = &quot;redisTemplate&quot;) // instead of Resouce here\n    private HashOperations&lt;String, String, SomeObject&gt; hashOps;\n</code></pre>\n<p>Expected enough, my App started failed. The spring container tells that there is no bean of HashOperations to look up.</p>\n<p>Emm, so back to the caption: What's the difference between Autowire and Resouce annotations in Spring? Why I cannot substitute Resouce with Autowire?</p>\n"},{"tags":["java","android","android-support-library"],"comments":[{"owner":{"account_id":3140217,"reputation":3756,"user_id":2655804,"accept_rate":100,"display_name":"Kishan Dhamat"},"score":1,"creation_date":1412598137,"post_id":26216088,"comment_id":41113876,"body_markdown":"Put some of your code here please?","body":"Put some of your code here please?"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1412598336,"post_id":26216088,"comment_id":41113980,"body_markdown":"Updated with the code but it is exactly the same you get if you press &quot;Download the sample app&quot; in the first link","body":"Updated with the code but it is exactly the same you get if you press &quot;Download the sample app&quot; in the first link"},{"owner":{"account_id":3872567,"reputation":2125,"user_id":3207494,"accept_rate":56,"display_name":"Pankaj"},"score":0,"creation_date":1412598999,"post_id":26216088,"comment_id":41114357,"body_markdown":"are you sure about library import is proper???","body":"are you sure about library import is proper???"},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1412666309,"post_id":26216088,"comment_id":41141551,"body_markdown":"Yes, copy pasted in the lib folder with eclipse :P","body":"Yes, copy pasted in the lib folder with eclipse :P"},{"owner":{"account_id":1307562,"reputation":6094,"user_id":1256219,"accept_rate":60,"display_name":"brandall"},"score":0,"creation_date":1413079349,"post_id":26216088,"comment_id":41307443,"body_markdown":"Does this answer and the upvoted comment help? - http://stackoverflow.com/a/18997280/1256219","body":"Does this answer and the upvoted comment help? - <a href=\"http://stackoverflow.com/a/18997280/1256219\">stackoverflow.com/a/18997280/1256219</a>"},{"owner":{"account_id":250818,"reputation":3403,"user_id":527759,"accept_rate":0,"display_name":"Eugene Popovich"},"score":0,"creation_date":1413191795,"post_id":26216088,"comment_id":41335978,"body_markdown":"This solution helped me in similar situation http://stackoverflow.com/a/20992117/527759","body":"This solution helped me in similar situation <a href=\"http://stackoverflow.com/a/20992117/527759\">stackoverflow.com/a/20992117/527759</a>"}],"answers":[{"comments":[{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1412598619,"post_id":26216236,"comment_id":41114129,"body_markdown":"I&#39;m sure the support lib is the problem, in fact I can see how the problem disappearing and coming back just swapping between libraries","body":"I&#39;m sure the support lib is the problem, in fact I can see how the problem disappearing and coming back just swapping between libraries"}],"tags":[],"owner":{"account_id":3738133,"reputation":7463,"user_id":3108590,"accept_rate":62,"display_name":"MathieuMaree"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1444847784,"creation_date":1412598494,"answer_id":26216236,"question_id":26216088,"body_markdown":"Here is a quick fix to your problem. Just override the `onBackPressed()` method in your Activity / Fragment :\r\n\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n        if (mDrawerLayout.isDrawerOpen(Gravity.START))\r\n            mDrawerLayout.closeDrawer(Gravity.START);\r\n        else\r\n            super.onBackPressed();\r\n    }\r\n\r\nUse `Gravity.START` for the left drawer, `Gravity.END` for the right one","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Here is a quick fix to your problem. Just override the <code>onBackPressed()</code> method in your Activity / Fragment :</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n    if (mDrawerLayout.isDrawerOpen(Gravity.START))\n        mDrawerLayout.closeDrawer(Gravity.START);\n    else\n        super.onBackPressed();\n}\n</code></pre>\n\n<p>Use <code>Gravity.START</code> for the left drawer, <code>Gravity.END</code> for the right one</p>\n"},{"tags":[],"owner":{"account_id":4824596,"reputation":10769,"user_id":3894351,"accept_rate":75,"display_name":"Elltz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413383576,"creation_date":1413383576,"answer_id":26385160,"question_id":26216088,"body_markdown":"right click on your project click properties and goto java build path and check if the libraries you want are there and there aint no unwanted libraries..also if you change the supportlibrary v4, i suggest you change it in appcompat v7 library..\r\nsecondly \r\n\r\n    onDrawerOpened\r\n is when the drawerlayout is surfaced fully on your ui, if its not surfaced fully the activity is closed instead..\r\n\r\nso kindly re-check these in your code from the documentation site\r\n\r\n    \r\n    The main content view (the FrameLayout above) must be the first child in the \r\n    DrawerLayout because the XML order implies z-ordering and the drawer must be \r\n    on top of the content.\r\n    The main content view is set to match the parent view&#39;s width and height,\r\n    because it represents the entire UI when the navigation drawer is hidden.\r\n    The drawer view (the ListView) must specify its horizontal gravity with the \r\n    android:layout_gravity attribute. To support right-to-left (RTL) languages,\r\n    specify the value with &quot;start&quot; instead of &quot;left&quot; (so the drawer appears on\r\n    the right when the layout is RTL).\r\n    The drawer view specifies its width in dp units and the height matches \r\n    the parent view. The drawer width should be no more than 320dp so the\r\n    user can always see a portion of the main content.\r\n\r\n\r\nlastly i see that you are using support library, and if you use support library you should not use activity you should use ActiobBarActivity or FragmentActivity","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>right click on your project click properties and goto java build path and check if the libraries you want are there and there aint no unwanted libraries..also if you change the supportlibrary v4, i suggest you change it in appcompat v7 library..\nsecondly </p>\n\n<pre><code>onDrawerOpened\n</code></pre>\n\n<p>is when the drawerlayout is surfaced fully on your ui, if its not surfaced fully the activity is closed instead..</p>\n\n<p>so kindly re-check these in your code from the documentation site</p>\n\n<pre><code>The main content view (the FrameLayout above) must be the first child in the \nDrawerLayout because the XML order implies z-ordering and the drawer must be \non top of the content.\nThe main content view is set to match the parent view's width and height,\nbecause it represents the entire UI when the navigation drawer is hidden.\nThe drawer view (the ListView) must specify its horizontal gravity with the \nandroid:layout_gravity attribute. To support right-to-left (RTL) languages,\nspecify the value with \"start\" instead of \"left\" (so the drawer appears on\nthe right when the layout is RTL).\nThe drawer view specifies its width in dp units and the height matches \nthe parent view. The drawer width should be no more than 320dp so the\nuser can always see a portion of the main content.\n</code></pre>\n\n<p>lastly i see that you are using support library, and if you use support library you should not use activity you should use ActiobBarActivity or FragmentActivity</p>\n"},{"comments":[{"owner":{"account_id":1082092,"reputation":929,"user_id":1078792,"display_name":"正宗白布鞋"},"score":1,"creation_date":1413605329,"post_id":26399733,"comment_id":41516966,"body_markdown":"Test on support library v21 today, the same issue still exists, and same fix still works in my project.","body":"Test on support library v21 today, the same issue still exists, and same fix still works in my project."},{"owner":{"account_id":4294949,"reputation":2245,"user_id":3510260,"display_name":"Gregor Koukkoullis"},"score":3,"creation_date":1422539038,"post_id":26399733,"comment_id":44795756,"body_markdown":"`mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);` prevents the keyboard to open when you have a EditView somewhere in your DrawerLayout hierarchy, since the EditView won&#39;t gain focus.","body":"<code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOC&zwnj;&#8203;K_DESCENDANTS);</code> prevents the keyboard to open when you have a EditView somewhere in your DrawerLayout hierarchy, since the EditView won&#39;t gain focus."}],"tags":[],"owner":{"account_id":1082092,"reputation":929,"user_id":1078792,"display_name":"正宗白布鞋"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1413448539,"creation_date":1413448539,"answer_id":26399733,"question_id":26216088,"body_markdown":"I have the exactly same problem after upgrading the support library to 20.0.0.\r\n\r\nAdd below one line code can fix my problem. (onCreate in my activitiy)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        mDrawerLayout = (DrawerLayout) this.findViewById(R.id.drawer_layout);\r\n        mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS); /* add this line */\r\n\r\n        ....\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>I have the exactly same problem after upgrading the support library to 20.0.0.</p>\n\n<p>Add below one line code can fix my problem. (onCreate in my activitiy)</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    mDrawerLayout = (DrawerLayout) this.findViewById(R.id.drawer_layout);\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS); /* add this line */\n\n    ....\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404010,"reputation":1689,"user_id":772095,"display_name":"SDJMcHattie"},"score":2,"creation_date":1426857842,"post_id":26402719,"comment_id":46553699,"body_markdown":"It&#39;s worth noting that blocking focus on the descendants of the drawer will also block all other UI elements, even when the drawer is closed.  This means all text entry is blocked once you&#39;ve set this descendant focusability.","body":"It&#39;s worth noting that blocking focus on the descendants of the drawer will also block all other UI elements, even when the drawer is closed.  This means all text entry is blocked once you&#39;ve set this descendant focusability."},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":1,"creation_date":1441225733,"post_id":26402719,"comment_id":52597732,"body_markdown":"As @SDJMcHattie said, if you have an edittext or any other view it will not react to focus.","body":"As @SDJMcHattie said, if you have an edittext or any other view it will not react to focus."}],"tags":[],"owner":{"account_id":4038747,"reputation":2488,"user_id":3322203,"accept_rate":20,"display_name":"Danial Hussain"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1441229458,"creation_date":1413457279,"answer_id":26402719,"question_id":26216088,"body_markdown":"In setUpNavDrawer\r\n\r\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\r\n\r\nAlso\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n      if (mDrawerLayout.isOpen())\r\n        mDrawerLayout.close();\r\n      else\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>In setUpNavDrawer</p>\n\n<pre><code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n  if (mDrawerLayout.isOpen())\n    mDrawerLayout.close();\n  else\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842274,"reputation":375,"user_id":3907002,"accept_rate":42,"display_name":"user3907002"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414866599,"creation_date":1414866599,"answer_id":26691657,"question_id":26216088,"body_markdown":"The solution with `mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);` is not recommend because you can&#39;t gain focus if you have a TextEdit on the activity. Better use the `onBackPressed()` solution as it mentioned before.\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n    {\r\n      if (mDrawerLayout.isOpen())\r\n        mDrawerLayout.close();\r\n      else\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>The solution with <code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);</code> is not recommend because you can't gain focus if you have a TextEdit on the activity. Better use the <code>onBackPressed()</code> solution as it mentioned before.</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n{\n  if (mDrawerLayout.isOpen())\n    mDrawerLayout.close();\n  else\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416334953,"creation_date":1416334953,"answer_id":27001279,"question_id":26216088,"body_markdown":"Focus is an issue here, but its not actually children stealing the focus it&#39;s parents above the drawer layout (ActionBar/Toolbar).\r\n\r\nI use a very similar method to this in my `MainActivity.class`:\r\n\r\n        \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (mDrawerLayout.isDrawerVisible(Gravity.START)) {\r\n            mDrawerLayout.closeDrawer(Gravity.START);\r\n            return;\r\n        }\r\n        super.onBackPressed();\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Focus is an issue here, but its not actually children stealing the focus it's parents above the drawer layout (ActionBar/Toolbar).</p>\n\n<p>I use a very similar method to this in my <code>MainActivity.class</code>:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    if (mDrawerLayout.isDrawerVisible(Gravity.START)) {\n        mDrawerLayout.closeDrawer(Gravity.START);\n        return;\n    }\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250818,"reputation":3403,"user_id":527759,"accept_rate":0,"display_name":"Eugene Popovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429682549,"creation_date":1429682549,"answer_id":29788988,"question_id":26216088,"body_markdown":"Try this fix:\r\n\r\n    mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\r\n...\r\n\r\n    mDrawerLayout.setDrawerListener(new DrawerListener() {\r\n    \r\n        @Override\r\n        public void onDrawerStateChanged(int arg0) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerSlide(View arg0, float arg1) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerOpened(View view) {\r\n            mDrawerLayout.post(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    // request the focus to correctly process pressed\r\n                    // back key\r\n                    mDrawerLayout.requestFocus();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onDrawerClosed(View arg0) {\r\n        }\r\n    });","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Try this fix:</p>\n\n<pre><code>mDrawerLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>mDrawerLayout.setDrawerListener(new DrawerListener() {\n\n    @Override\n    public void onDrawerStateChanged(int arg0) {\n\n    }\n\n    @Override\n    public void onDrawerSlide(View arg0, float arg1) {\n\n    }\n\n    @Override\n    public void onDrawerOpened(View view) {\n        mDrawerLayout.post(new Runnable() {\n\n            @Override\n            public void run() {\n                // request the focus to correctly process pressed\n                // back key\n                mDrawerLayout.requestFocus();\n            }\n        });\n    }\n\n    @Override\n    public void onDrawerClosed(View arg0) {\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478011405,"creation_date":1478011405,"answer_id":40362414,"question_id":26216088,"body_markdown":"Works without any warnings\r\n \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>Works without any warnings</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n        drawerLayout.closeDrawer(GravityCompat.START);\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603539183,"creation_date":1603539183,"answer_id":64512891,"question_id":26216088,"body_markdown":"initialise this\r\n\r\n      navigationView.setNavigationItemSelectedListener(this)\r\n            actionBarToggle = ActionBarDrawerToggle(this, drawerLayout, 0, 0)\r\n            drawerLayout.addDrawerListener(actionBarToggle)\r\n            supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n            actionBarToggle.syncState()\r\n\r\nthen handle by using this method\r\n\r\n \r\n\r\n    override fun onSupportNavigateUp(): Boolean {\r\n            if (this.drawerLayout.isDrawerOpen(GravityCompat.START)) {\r\n                this.drawerLayout.closeDrawer(GravityCompat.START)\r\n            } else {\r\n                this.drawerLayout.openDrawer(GravityCompat.START)\r\n            }\r\n            return true\r\n        }","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>initialise this</p>\n<pre><code>  navigationView.setNavigationItemSelectedListener(this)\n        actionBarToggle = ActionBarDrawerToggle(this, drawerLayout, 0, 0)\n        drawerLayout.addDrawerListener(actionBarToggle)\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n        actionBarToggle.syncState()\n</code></pre>\n<p>then handle by using this method</p>\n<pre><code>override fun onSupportNavigateUp(): Boolean {\n        if (this.drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            this.drawerLayout.closeDrawer(GravityCompat.START)\n        } else {\n            this.drawerLayout.openDrawer(GravityCompat.START)\n        }\n        return true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27338023,"reputation":21,"user_id":20849141,"display_name":"kunal singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689735370,"creation_date":1689735370,"answer_id":76717681,"question_id":26216088,"body_markdown":"if you want to close the drawer onBackPressed() but the function is not even getting called when the back button is pressed and one more condition you are using latest version android 13 then you should try adding below code in your OnCreate() or whatever you want to use and for more [android 13][1]\r\n\r\n\r\n  [1]: https://youtu.be/Elpqr5xpLxQ?t=626\r\n\r\n\r\n    val callback = onBackPressedDispatcher.addCallback(this, false) {\r\n            drawerLayout.closeDrawer(GravityCompat.START)\r\n        }\r\n\r\n        drawerLayout.addDrawerListener(object : DrawerLayout.DrawerListener {\r\n\r\n            override fun onDrawerOpened(drawerView: View) {\r\n                callback.isEnabled = true\r\n            }\r\n\r\n            override fun onDrawerClosed(drawerView: View) {\r\n                callback.isEnabled = false\r\n            }\r\n\r\n            override fun onDrawerSlide(drawerView: View, slideOffset: Float) = Unit\r\n            override fun onDrawerStateChanged(newState: Int) = Unit\r\n        })\r\n\r\nyou have to import view, drawerListener, callback \r\n\r\nimport androidx.activity.addCallback\r\n","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>if you want to close the drawer onBackPressed() but the function is not even getting called when the back button is pressed and one more condition you are using latest version android 13 then you should try adding below code in your OnCreate() or whatever you want to use and for more <a href=\"https://youtu.be/Elpqr5xpLxQ?t=626\" rel=\"nofollow noreferrer\">android 13</a></p>\n<pre><code>val callback = onBackPressedDispatcher.addCallback(this, false) {\n        drawerLayout.closeDrawer(GravityCompat.START)\n    }\n\n    drawerLayout.addDrawerListener(object : DrawerLayout.DrawerListener {\n\n        override fun onDrawerOpened(drawerView: View) {\n            callback.isEnabled = true\n        }\n\n        override fun onDrawerClosed(drawerView: View) {\n            callback.isEnabled = false\n        }\n\n        override fun onDrawerSlide(drawerView: View, slideOffset: Float) = Unit\n        override fun onDrawerStateChanged(newState: Int) = Unit\n    })\n</code></pre>\n<p>you have to import view, drawerListener, callback</p>\n<p>import androidx.activity.addCallback</p>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10546,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":26402719,"answer_count":10,"score":15,"last_activity_date":1689735370,"creation_date":1412597906,"question_id":26216088,"body_markdown":"I&#39;m following the [Creating a Navigation Drawer tutorial (Android Training)][1].\r\n\r\nI have downloaded the sample app and it work as intended. I open the drawer, press back and it gets closed.\r\n\r\nThe problem comes when I replace the `lib/android-support-v4.jar` (originally with a size of 523 KB) with the updated version (revision 20) in my `Android-SDK/extras/android/support/v4/android-support-v4.jar` (with size 741 KB). After the replacement if I open the drawer and then press the back button of the device the app gets closed instead of closing the drawer.\r\n\r\nHow can I solve that? Should I keep the old **android-support-v4.jar** version or should I programmatically intercept the back button closing the drawer when needed?\r\n\r\n**UPDATE:** I&#39;ve continue testing the problem, to do so I built the project in AndroidStudio. After copy the sample app (src, res and update the manifest) ran it: The back button closes the app even if the DrawerLayout is open.\r\nThen I modified the build.gradle file changing the line:\r\n\r\n    compile &#39;com.android.support:appcompat-v7:20.0.0&#39;\r\n\r\nwith\r\n\r\n    compile &#39;com.android.support:appcompat-v7:19.0.0&#39;\r\n\r\nAnd the problem disapeared: The back button first closes the drawer and then closes the app\r\n\r\n\r\n\r\nFull code for the activity [(Link to the Android Training Source Code)][2]:\r\n\r\n\tpublic class MainActivity extends Activity {\r\n\t    private DrawerLayout mDrawerLayout;\r\n\t    private ListView mDrawerList;\r\n\t    private ActionBarDrawerToggle mDrawerToggle;\r\n\t\r\n\t    private CharSequence mDrawerTitle;\r\n\t    private CharSequence mTitle;\r\n\t    private String[] mPlanetTitles;\r\n\t\r\n\t    @Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_main);\r\n\t\r\n\t        mTitle = mDrawerTitle = getTitle();\r\n\t        mPlanetTitles = getResources().getStringArray(R.array.planets_array);\r\n\t        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n\t        mDrawerList = (ListView) findViewById(R.id.left_drawer);\r\n\t\r\n\t        // set a custom shadow that overlays the main content when the drawer opens\r\n\t        mDrawerLayout.setDrawerShadow(R.drawable.drawer_shadow, GravityCompat.START);\r\n\t        // set up the drawer&#39;s list view with items and click listener\r\n\t        mDrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\r\n\t                R.layout.drawer_list_item, mPlanetTitles));\r\n\t        mDrawerList.setOnItemClickListener(new DrawerItemClickListener());\r\n\t\r\n\t        // enable ActionBar app icon to behave as action to toggle nav drawer\r\n\t        getActionBar().setDisplayHomeAsUpEnabled(true);\r\n\t        getActionBar().setHomeButtonEnabled(true);\r\n\t\r\n\t        // ActionBarDrawerToggle ties together the the proper interactions\r\n\t        // between the sliding drawer and the action bar app icon\r\n\t        mDrawerToggle = new ActionBarDrawerToggle(\r\n\t                this,                  /* host Activity */\r\n\t                mDrawerLayout,         /* DrawerLayout object */\r\n\t                R.drawable.ic_drawer,  /* nav drawer image to replace &#39;Up&#39; caret */\r\n\t                R.string.drawer_open,  /* &quot;open drawer&quot; description for accessibility */\r\n\t                R.string.drawer_close  /* &quot;close drawer&quot; description for accessibility */\r\n\t                ) {\r\n\t            public void onDrawerClosed(View view) {\r\n\t                getActionBar().setTitle(mTitle);\r\n\t                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\r\n\t            }\r\n\t\r\n\t            public void onDrawerOpened(View drawerView) {\r\n\t            \tgetActionBar().setTitle(mDrawerTitle);\r\n\t                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\r\n\t            }\r\n\t        };\r\n\t        mDrawerLayout.setDrawerListener(mDrawerToggle);\r\n\t\r\n\t        if (savedInstanceState == null) {\r\n\t            selectItem(0);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public boolean onCreateOptionsMenu(Menu menu) {\r\n\t        MenuInflater inflater = getMenuInflater();\r\n\t        inflater.inflate(R.menu.main, menu);\r\n\t        return super.onCreateOptionsMenu(menu);\r\n\t    }\r\n\t\r\n\t    /* Called whenever we call invalidateOptionsMenu() */\r\n\t    @Override\r\n\t    public boolean onPrepareOptionsMenu(Menu menu) {\r\n\t        // If the nav drawer is open, hide action items related to the content view\r\n\t        boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);\r\n\t        menu.findItem(R.id.action_websearch).setVisible(!drawerOpen);\r\n\t        return super.onPrepareOptionsMenu(menu);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public boolean onOptionsItemSelected(MenuItem item) {\r\n\t         // The action bar home/up action should open or close the drawer.\r\n\t         // ActionBarDrawerToggle will take care of this.\r\n\t        if (mDrawerToggle.onOptionsItemSelected(item)) {\r\n\t            return true;\r\n\t        }\r\n\t        // Handle action buttons\r\n\t        switch(item.getItemId()) {\r\n\t        case R.id.action_websearch:\r\n\t            // create intent to perform web search for this planet\r\n\t            Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);\r\n\t            intent.putExtra(SearchManager.QUERY, getActionBar().getTitle());\r\n\t            // catch event that there&#39;s no activity to handle intent\r\n\t            if (intent.resolveActivity(getPackageManager()) != null) {\r\n\t                startActivity(intent);\r\n\t            } else {\r\n\t                Toast.makeText(this, R.string.app_not_available, Toast.LENGTH_LONG).show();\r\n\t            }\r\n\t            return true;\r\n\t        default:\r\n\t            return super.onOptionsItemSelected(item);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    /* The click listner for ListView in the navigation drawer */\r\n\t    private class DrawerItemClickListener implements ListView.OnItemClickListener {\r\n\t        @Override\r\n\t        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\t            selectItem(position);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    private void selectItem(int position) {\r\n\t        // update the main content by replacing fragments\r\n\t        Fragment fragment = new PlanetFragment();\r\n\t        Bundle args = new Bundle();\r\n\t        args.putInt(PlanetFragment.ARG_PLANET_NUMBER, position);\r\n\t        fragment.setArguments(args);\r\n\t\r\n\t        FragmentManager fragmentManager = getFragmentManager();\r\n\t        fragmentManager.beginTransaction().replace(R.id.content_frame, fragment).commit();\r\n\t\r\n\t        // update selected item and title, then close the drawer\r\n\t        mDrawerList.setItemChecked(position, true);\r\n\t        setTitle(mPlanetTitles[position]);\r\n\t        mDrawerLayout.closeDrawer(mDrawerList);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void setTitle(CharSequence title) {\r\n\t        mTitle = title;\r\n\t        getActionBar().setTitle(mTitle);\r\n\t    }\r\n\t\r\n\t    /**\r\n\t     * When using the ActionBarDrawerToggle, you must call it during\r\n\t     * onPostCreate() and onConfigurationChanged()...\r\n\t     */\r\n\t\r\n\t    @Override\r\n\t    protected void onPostCreate(Bundle savedInstanceState) {\r\n\t        super.onPostCreate(savedInstanceState);\r\n\t        // Sync the toggle state after onRestoreInstanceState has occurred.\r\n\t        mDrawerToggle.syncState();\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void onConfigurationChanged(Configuration newConfig) {\r\n\t        super.onConfigurationChanged(newConfig);\r\n\t        // Pass any configuration change to the drawer toggls\r\n\t        mDrawerToggle.onConfigurationChanged(newConfig);\r\n\t    }\r\n\t\r\n\t    /**\r\n\t     * Fragment that appears in the &quot;content_frame&quot;, shows a planet\r\n\t     */\r\n\t    public static class PlanetFragment extends Fragment {\r\n\t        public static final String ARG_PLANET_NUMBER = &quot;planet_number&quot;;\r\n\t\r\n\t        public PlanetFragment() {\r\n\t            // Empty constructor required for fragment subclasses\r\n\t        }\r\n\t\r\n\t        @Override\r\n\t        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n\t                Bundle savedInstanceState) {\r\n\t            View rootView = inflater.inflate(R.layout.fragment_planet, container, false);\r\n\t            int i = getArguments().getInt(ARG_PLANET_NUMBER);\r\n\t            String planet = getResources().getStringArray(R.array.planets_array)[i];\r\n\t\r\n\t            int imageId = getResources().getIdentifier(planet.toLowerCase(Locale.getDefault()),\r\n\t                            &quot;drawable&quot;, getActivity().getPackageName());\r\n\t            ((ImageView) rootView.findViewById(R.id.image)).setImageResource(imageId);\r\n\t            getActivity().setTitle(planet);\r\n\t            return rootView;\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\r\n  [1]: http://developer.android.com/training/implementing-navigation/nav-drawer.html\r\n  [2]: http://developer.android.com/shareables/training/NavigationDrawer.zip","title":"Drawer Layout not closing on back pressed (depending on support-v4 lib)","body":"<p>I'm following the <a href=\"http://developer.android.com/training/implementing-navigation/nav-drawer.html\">Creating a Navigation Drawer tutorial (Android Training)</a>.</p>\n\n<p>I have downloaded the sample app and it work as intended. I open the drawer, press back and it gets closed.</p>\n\n<p>The problem comes when I replace the <code>lib/android-support-v4.jar</code> (originally with a size of 523 KB) with the updated version (revision 20) in my <code>Android-SDK/extras/android/support/v4/android-support-v4.jar</code> (with size 741 KB). After the replacement if I open the drawer and then press the back button of the device the app gets closed instead of closing the drawer.</p>\n\n<p>How can I solve that? Should I keep the old <strong>android-support-v4.jar</strong> version or should I programmatically intercept the back button closing the drawer when needed?</p>\n\n<p><strong>UPDATE:</strong> I've continue testing the problem, to do so I built the project in AndroidStudio. After copy the sample app (src, res and update the manifest) ran it: The back button closes the app even if the DrawerLayout is open.\nThen I modified the build.gradle file changing the line:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:20.0.0'\n</code></pre>\n\n<p>with</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:19.0.0'\n</code></pre>\n\n<p>And the problem disapeared: The back button first closes the drawer and then closes the app</p>\n\n<p>Full code for the activity <a href=\"http://developer.android.com/shareables/training/NavigationDrawer.zip\">(Link to the Android Training Source Code)</a>:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    private DrawerLayout mDrawerLayout;\n    private ListView mDrawerList;\n    private ActionBarDrawerToggle mDrawerToggle;\n\n    private CharSequence mDrawerTitle;\n    private CharSequence mTitle;\n    private String[] mPlanetTitles;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTitle = mDrawerTitle = getTitle();\n        mPlanetTitles = getResources().getStringArray(R.array.planets_array);\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);\n        mDrawerList = (ListView) findViewById(R.id.left_drawer);\n\n        // set a custom shadow that overlays the main content when the drawer opens\n        mDrawerLayout.setDrawerShadow(R.drawable.drawer_shadow, GravityCompat.START);\n        // set up the drawer's list view with items and click listener\n        mDrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\n                R.layout.drawer_list_item, mPlanetTitles));\n        mDrawerList.setOnItemClickListener(new DrawerItemClickListener());\n\n        // enable ActionBar app icon to behave as action to toggle nav drawer\n        getActionBar().setDisplayHomeAsUpEnabled(true);\n        getActionBar().setHomeButtonEnabled(true);\n\n        // ActionBarDrawerToggle ties together the the proper interactions\n        // between the sliding drawer and the action bar app icon\n        mDrawerToggle = new ActionBarDrawerToggle(\n                this,                  /* host Activity */\n                mDrawerLayout,         /* DrawerLayout object */\n                R.drawable.ic_drawer,  /* nav drawer image to replace 'Up' caret */\n                R.string.drawer_open,  /* \"open drawer\" description for accessibility */\n                R.string.drawer_close  /* \"close drawer\" description for accessibility */\n                ) {\n            public void onDrawerClosed(View view) {\n                getActionBar().setTitle(mTitle);\n                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\n            }\n\n            public void onDrawerOpened(View drawerView) {\n                getActionBar().setTitle(mDrawerTitle);\n                //supportInvalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()\n            }\n        };\n        mDrawerLayout.setDrawerListener(mDrawerToggle);\n\n        if (savedInstanceState == null) {\n            selectItem(0);\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.main, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    /* Called whenever we call invalidateOptionsMenu() */\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        // If the nav drawer is open, hide action items related to the content view\n        boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);\n        menu.findItem(R.id.action_websearch).setVisible(!drawerOpen);\n        return super.onPrepareOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n         // The action bar home/up action should open or close the drawer.\n         // ActionBarDrawerToggle will take care of this.\n        if (mDrawerToggle.onOptionsItemSelected(item)) {\n            return true;\n        }\n        // Handle action buttons\n        switch(item.getItemId()) {\n        case R.id.action_websearch:\n            // create intent to perform web search for this planet\n            Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);\n            intent.putExtra(SearchManager.QUERY, getActionBar().getTitle());\n            // catch event that there's no activity to handle intent\n            if (intent.resolveActivity(getPackageManager()) != null) {\n                startActivity(intent);\n            } else {\n                Toast.makeText(this, R.string.app_not_available, Toast.LENGTH_LONG).show();\n            }\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n        }\n    }\n\n    /* The click listner for ListView in the navigation drawer */\n    private class DrawerItemClickListener implements ListView.OnItemClickListener {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            selectItem(position);\n        }\n    }\n\n    private void selectItem(int position) {\n        // update the main content by replacing fragments\n        Fragment fragment = new PlanetFragment();\n        Bundle args = new Bundle();\n        args.putInt(PlanetFragment.ARG_PLANET_NUMBER, position);\n        fragment.setArguments(args);\n\n        FragmentManager fragmentManager = getFragmentManager();\n        fragmentManager.beginTransaction().replace(R.id.content_frame, fragment).commit();\n\n        // update selected item and title, then close the drawer\n        mDrawerList.setItemChecked(position, true);\n        setTitle(mPlanetTitles[position]);\n        mDrawerLayout.closeDrawer(mDrawerList);\n    }\n\n    @Override\n    public void setTitle(CharSequence title) {\n        mTitle = title;\n        getActionBar().setTitle(mTitle);\n    }\n\n    /**\n     * When using the ActionBarDrawerToggle, you must call it during\n     * onPostCreate() and onConfigurationChanged()...\n     */\n\n    @Override\n    protected void onPostCreate(Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n        // Sync the toggle state after onRestoreInstanceState has occurred.\n        mDrawerToggle.syncState();\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        // Pass any configuration change to the drawer toggls\n        mDrawerToggle.onConfigurationChanged(newConfig);\n    }\n\n    /**\n     * Fragment that appears in the \"content_frame\", shows a planet\n     */\n    public static class PlanetFragment extends Fragment {\n        public static final String ARG_PLANET_NUMBER = \"planet_number\";\n\n        public PlanetFragment() {\n            // Empty constructor required for fragment subclasses\n        }\n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.fragment_planet, container, false);\n            int i = getArguments().getInt(ARG_PLANET_NUMBER);\n            String planet = getResources().getStringArray(R.array.planets_array)[i];\n\n            int imageId = getResources().getIdentifier(planet.toLowerCase(Locale.getDefault()),\n                            \"drawable\", getActivity().getPackageName());\n            ((ImageView) rootView.findViewById(R.id.image)).setImageResource(imageId);\n            getActivity().setTitle(planet);\n            return rootView;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","java-time"],"comments":[{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689758143,"post_id":76717522,"comment_id":135257233,"body_markdown":"Hello, perhaps you have different date and time patterns in the database settings and in the application, which is why an error occurs?","body":"Hello, perhaps you have different date and time patterns in the database settings and in the application, which is why an error occurs?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1689809394,"post_id":76717522,"comment_id":135267728,"body_markdown":"The error is not in SQL, from the error I can see the exception is thrown by spring data, not something like jdbc driver.","body":"The error is not in SQL, from the error I can see the exception is thrown by spring data, not something like jdbc driver."},{"owner":{"account_id":10704277,"reputation":1282,"user_id":7878602,"display_name":"ImtiazeA"},"score":0,"creation_date":1693650523,"post_id":76717522,"comment_id":135790782,"body_markdown":"Hi @MirzaPrangon, did you find the workaround ?","body":"Hi @MirzaPrangon, did you find the workaround ?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1693794494,"post_id":76717522,"comment_id":135802967,"body_markdown":"I [opened an issue in spring data](https://github.com/spring-projects/spring-data-jpa/issues/3074). Apparently, spring data does not support `OffsetDateTime` for auditing out of the box. For that reason, we moved to using hibernate auditing annotation, `@CreationTimestamp` and `@UpdateTimestamp`.","body":"I <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/3074\" rel=\"nofollow noreferrer\">opened an issue in spring data</a>. Apparently, spring data does not support <code>OffsetDateTime</code> for auditing out of the box. For that reason, we moved to using hibernate auditing annotation, <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code>."}],"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689735239,"creation_date":1689732301,"question_id":76717522,"body_markdown":"I am trying to add Spring Data JPA auditing in my application, specifically using `@CreatedDate` and `@LastModifiedDate` annotations. This is a Spring Boot 3 application. Using postgresql testcontainers for testing. The entity classes are created automatically using Openapi generator. OpenAPI generator creates the attribute of date-time with the type of java.time.OffsetDateTime. I have setup my entity classes with `@CreatedDate` and `@@LastModifiedDate` annotations, but I get error in my test. The test code is as follow:\r\n\r\n```\r\n@Test\r\npublic void shouldNotUpdateANewGatewayPcWithAllNull() throws Exception {\r\n    // Arrange\r\n    GatewayPcDetail updateGatewayPc = new GatewayPcDetail(\r\n                    null, null, null);\r\n\r\n    // Can manually create JWT\r\n    Jwt jwtManual = Jwt.withTokenValue(&quot;token&quot;)\r\n                    .header(&quot;alg&quot;, &quot;none&quot;)\r\n                    .claim(&quot;sub&quot;, &quot;test1&quot;)\r\n                    .claim(&quot;scope&quot;, &quot;read:gatewaypcs&quot;)\r\n                    .claim(&quot;scope&quot;, Arrays.asList(&quot;read:gatewaypcs&quot;, &quot;write:gatewaypcs&quot;))\r\n                    .build();\r\n\r\n    // Act and Assert\r\n    MvcResult updateResult = mockMvc.perform(put(&quot;/api/v4/gatewaypcs/101&quot;)\r\n                    .with(jwt().jwt(jwtManual))\r\n                    .with(csrf())\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(updateGatewayPc)))\r\n                    .andExpect(status().isBadRequest())\r\n                    .andReturn();\r\n\r\n    DocumentContext documentContext = JsonPath.parse(updateResult.getResponse().getContentAsString());\r\n    JSONArray read = documentContext.read(&quot;$[*]&quot;);\r\n    assertThat(read.size()).isEqualTo(2);\r\n\r\n    JSONArray names = documentContext.read(&quot;$..field&quot;);\r\n    assertThat(names).containsExactlyInAnyOrder(&quot;name&quot;, &quot;timezoneId&quot;);\r\n}\r\n```\r\n\r\nThe error I get is as follow:\r\n```\r\nTest shouldCreateANewGatewayPCWithNullLocationName() FAILED (1.2s)\r\n\r\n  jakarta.servlet.ServletException: Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n  Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n  Caused by: java.lang.IllegalArgumentException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\r\n      id: null\r\n      name: gatewayPcName\r\n      locationName: null\r\n      timezoneId: 0\r\n      createdAt: null\r\n      updatedAt: null\r\n  }; Supported types are [java.util.Date, java.lang.Long, long]\r\n      at com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\r\n```\r\n\r\nFrom error, I assure that `@CreatedDate` and `@@LastModifiedDate` does not support types other than [java.util.Date, java.lang.Long, long]. In Spring Data JPA document, it says that it support [JDK8 date and time types](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing.annotations:~:text=can%20be%20used%20on%20properties%20of%20type%20JDK8%20date%20and%20time%20types).\r\n\r\n**Now my question is: How do I use Spring Data JPA `@CreatedDate` and `@@LastModifiedDate` with `java.time.OffsetDateTime`?**\r\n\r\n\r\n\r\n\r\nFor reference:\r\n*Controller*:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v4/gatewaypcs&quot;)\r\npublic class GatewayPcController {\r\n    private GatewayPcRepository gatewayPcRepository;\r\n\r\n    // Constructor injection to inject the GatewayPcRepository.\r\n    public GatewayPcController(GatewayPcRepository gatewayPcRepository) {\r\n        this.gatewayPcRepository = gatewayPcRepository;\r\n    }\r\n    @PostMapping\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;SCOPE_write:gatewaypcs&#39;)&quot;)\r\n    public ResponseEntity&lt;Void&gt; postGatewayPc(@RequestBody GatewayPc newGatewayPcRequest, UriComponentsBuilder ubc) {\r\n        GatewayPc newGatewayPc = new GatewayPc();\r\n        newGatewayPc.name(newGatewayPcRequest.getName())\r\n                .locationName(newGatewayPcRequest.getLocationName())\r\n                .timezoneId(newGatewayPcRequest.getTimezoneId());\r\n\r\n        GatewayPc savedGatewayPc = gatewayPcRepository.save(newGatewayPc);\r\n        // Build resource URI for the identifier of the new GatewayPC.\r\n        URI locationOfNewGatewayPc = ubc\r\n                .path(&quot;/api/v4/gatewaypcs/{id}&quot;)\r\n                .buildAndExpand(savedGatewayPc.getId())\r\n                .toUri();\r\n\r\n        return ResponseEntity.created(locationOfNewGatewayPc).build();\r\n    }\r\n}\r\n```\r\n\r\n*Generated entity class*:\r\n```\r\n@lombok.AllArgsConstructor\r\n@lombok.NoArgsConstructor\r\n\r\n@Schema(name = &quot;GatewayPc&quot;, description = &quot;Information about an gatewayPC. G/W PC情報&quot;)\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-19T01:48:20.223480244Z[Etc/UTC]&quot;)\r\n@jakarta.persistence.Entity\r\n@jakarta.persistence.Table(name = &quot;master_gatewaypc&quot;)\r\n@jakarta.persistence.EntityListeners(org.springframework.data.jpa.domain.support.AuditingEntityListener.class)\r\npublic class GatewayPc {\r\n\r\n  @JsonProperty(&quot;id&quot;)\r\n  @jakarta.persistence.Id\r\n@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @JsonProperty(&quot;name&quot;)\r\n  private String name;\r\n\r\n  @JsonProperty(&quot;locationName&quot;)\r\n  private String locationName;\r\n\r\n  @JsonProperty(&quot;timezoneId&quot;)\r\n  private Integer timezoneId;\r\n\r\n  @JsonProperty(&quot;createdAt&quot;)\r\n  @jakarta.persistence.Column(updatable = false, nullable = false)\r\n@org.springframework.data.annotation.CreatedDate\r\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n  private OffsetDateTime createdAt;\r\n\r\n  @JsonProperty(&quot;updatedAt&quot;)\r\n  @jakarta.persistence.Column(nullable = false)\r\n@org.springframework.data.annotation.LastModifiedDate\r\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n  private OffsetDateTime updatedAt;\r\n...(redacted)\r\n```\r\n\r\n*Entity repository*:\r\n```\r\npublic interface GatewayPcRepository extends JpaRepository&lt;GatewayPc, Long&gt;,\r\n                                             QuerydslPredicateExecutor&lt;GatewayPc&gt;,\r\n                                             QuerydslBinderCustomizer&lt;QGatewayPc&gt; { \r\n\r\n  @Override\r\n  default void customize(QuerydslBindings bindings, QGatewayPc gatewayPc) {\r\n    bindings.bind(String.class)\r\n      .first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\r\n  }\r\n}\r\n```","title":"Spring Data JPA 3 auditing @CreatedDate of java.time.OffsetDateTime does not get populated","body":"<p>I am trying to add Spring Data JPA auditing in my application, specifically using <code>@CreatedDate</code> and <code>@LastModifiedDate</code> annotations. This is a Spring Boot 3 application. Using postgresql testcontainers for testing. The entity classes are created automatically using Openapi generator. OpenAPI generator creates the attribute of date-time with the type of java.time.OffsetDateTime. I have setup my entity classes with <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> annotations, but I get error in my test. The test code is as follow:</p>\n<pre><code>@Test\npublic void shouldNotUpdateANewGatewayPcWithAllNull() throws Exception {\n    // Arrange\n    GatewayPcDetail updateGatewayPc = new GatewayPcDetail(\n                    null, null, null);\n\n    // Can manually create JWT\n    Jwt jwtManual = Jwt.withTokenValue(&quot;token&quot;)\n                    .header(&quot;alg&quot;, &quot;none&quot;)\n                    .claim(&quot;sub&quot;, &quot;test1&quot;)\n                    .claim(&quot;scope&quot;, &quot;read:gatewaypcs&quot;)\n                    .claim(&quot;scope&quot;, Arrays.asList(&quot;read:gatewaypcs&quot;, &quot;write:gatewaypcs&quot;))\n                    .build();\n\n    // Act and Assert\n    MvcResult updateResult = mockMvc.perform(put(&quot;/api/v4/gatewaypcs/101&quot;)\n                    .with(jwt().jwt(jwtManual))\n                    .with(csrf())\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(updateGatewayPc)))\n                    .andExpect(status().isBadRequest())\n                    .andReturn();\n\n    DocumentContext documentContext = JsonPath.parse(updateResult.getResponse().getContentAsString());\n    JSONArray read = documentContext.read(&quot;$[*]&quot;);\n    assertThat(read.size()).isEqualTo(2);\n\n    JSONArray names = documentContext.read(&quot;$..field&quot;);\n    assertThat(names).containsExactlyInAnyOrder(&quot;name&quot;, &quot;timezoneId&quot;);\n}\n</code></pre>\n<p>The error I get is as follow:</p>\n<pre><code>Test shouldCreateANewGatewayPCWithNullLocationName() FAILED (1.2s)\n\n  jakarta.servlet.ServletException: Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n  Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at app//com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n  Caused by: java.lang.IllegalArgumentException: Invalid date type class com.hht.extope.restella.generated.model.GatewayPc for member class GatewayPc {\n      id: null\n      name: gatewayPcName\n      locationName: null\n      timezoneId: 0\n      createdAt: null\n      updatedAt: null\n  }; Supported types are [java.util.Date, java.lang.Long, long]\n      at com.hht.extope.restella.controller.gatewaypc.GatewayPcControllerTest.shouldCreateANewGatewayPCWithNullLocationName(GatewayPcControllerTest.java:626)\n</code></pre>\n<p>From error, I assure that <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> does not support types other than [java.util.Date, java.lang.Long, long]. In Spring Data JPA document, it says that it support <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing.annotations:%7E:text=can%20be%20used%20on%20properties%20of%20type%20JDK8%20date%20and%20time%20types\" rel=\"nofollow noreferrer\">JDK8 date and time types</a>.</p>\n<p><strong>Now my question is: How do I use Spring Data JPA <code>@CreatedDate</code> and <code>@@LastModifiedDate</code> with <code>java.time.OffsetDateTime</code>?</strong></p>\n<p>For reference:\n<em>Controller</em>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v4/gatewaypcs&quot;)\npublic class GatewayPcController {\n    private GatewayPcRepository gatewayPcRepository;\n\n    // Constructor injection to inject the GatewayPcRepository.\n    public GatewayPcController(GatewayPcRepository gatewayPcRepository) {\n        this.gatewayPcRepository = gatewayPcRepository;\n    }\n    @PostMapping\n    @PreAuthorize(&quot;hasAnyAuthority('SCOPE_write:gatewaypcs')&quot;)\n    public ResponseEntity&lt;Void&gt; postGatewayPc(@RequestBody GatewayPc newGatewayPcRequest, UriComponentsBuilder ubc) {\n        GatewayPc newGatewayPc = new GatewayPc();\n        newGatewayPc.name(newGatewayPcRequest.getName())\n                .locationName(newGatewayPcRequest.getLocationName())\n                .timezoneId(newGatewayPcRequest.getTimezoneId());\n\n        GatewayPc savedGatewayPc = gatewayPcRepository.save(newGatewayPc);\n        // Build resource URI for the identifier of the new GatewayPC.\n        URI locationOfNewGatewayPc = ubc\n                .path(&quot;/api/v4/gatewaypcs/{id}&quot;)\n                .buildAndExpand(savedGatewayPc.getId())\n                .toUri();\n\n        return ResponseEntity.created(locationOfNewGatewayPc).build();\n    }\n}\n</code></pre>\n<p><em>Generated entity class</em>:</p>\n<pre><code>@lombok.AllArgsConstructor\n@lombok.NoArgsConstructor\n\n@Schema(name = &quot;GatewayPc&quot;, description = &quot;Information about an gatewayPC. G/W PC情報&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-19T01:48:20.223480244Z[Etc/UTC]&quot;)\n@jakarta.persistence.Entity\n@jakarta.persistence.Table(name = &quot;master_gatewaypc&quot;)\n@jakarta.persistence.EntityListeners(org.springframework.data.jpa.domain.support.AuditingEntityListener.class)\npublic class GatewayPc {\n\n  @JsonProperty(&quot;id&quot;)\n  @jakarta.persistence.Id\n@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.IDENTITY)\n  private Long id;\n\n  @JsonProperty(&quot;name&quot;)\n  private String name;\n\n  @JsonProperty(&quot;locationName&quot;)\n  private String locationName;\n\n  @JsonProperty(&quot;timezoneId&quot;)\n  private Integer timezoneId;\n\n  @JsonProperty(&quot;createdAt&quot;)\n  @jakarta.persistence.Column(updatable = false, nullable = false)\n@org.springframework.data.annotation.CreatedDate\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime createdAt;\n\n  @JsonProperty(&quot;updatedAt&quot;)\n  @jakarta.persistence.Column(nullable = false)\n@org.springframework.data.annotation.LastModifiedDate\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime updatedAt;\n...(redacted)\n</code></pre>\n<p><em>Entity repository</em>:</p>\n<pre><code>public interface GatewayPcRepository extends JpaRepository&lt;GatewayPc, Long&gt;,\n                                             QuerydslPredicateExecutor&lt;GatewayPc&gt;,\n                                             QuerydslBinderCustomizer&lt;QGatewayPc&gt; { \n\n  @Override\n  default void customize(QuerydslBindings bindings, QGatewayPc gatewayPc) {\n    bindings.bind(String.class)\n      .first((StringPath path, String value) -&gt; path.containsIgnoreCase(value));\n  }\n}\n</code></pre>\n"},{"tags":["java","ffmpeg","javacv"],"answers":[{"tags":[],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689734475,"creation_date":1689734475,"answer_id":76717631,"question_id":76710189,"body_markdown":"ok, I figure out, just add  `recorder.setAudioBitrate(grabber.getAudioBitrate());` , dhav to rtsp is ok","title":"JavaCV error AAC with no global headers is currently not supported","body":"<p>ok, I figure out, just add  <code>recorder.setAudioBitrate(grabber.getAudioBitrate());</code> , dhav to rtsp is ok</p>\n"}],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689734475,"creation_date":1689663247,"question_id":76710189,"body_markdown":"I&#39;m trying to transcode dhav (one of the container format) to RTSP By JavaCV(FFmpegFrameGrabber + FFmpegFrameRecorder) , It&#39;s fine when i transcoding dhav to RTMP , but when I change to RTSP ,error occurred:\r\n```java\r\n\r\nError: [rtsp @ 0000002318df7c30] AAC with no global headers is currently not supported.\r\n\r\nException in thread &quot;pool-1-thread-2&quot; java.lang.RuntimeException: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to &#39;rtsp://127.0.0.1:8554/myapp/orange2&#39; (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:116)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to &#39;rtsp://127.0.0.1:8554/myapp/orange2&#39; (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:969)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:437)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:432)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP.grabAndPush(GetBytes2PipedStreamAndPushRTMP.java:215)\r\n\tat org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:100)\r\n\t... 3 more\r\n```\r\n\r\nAfter googled , I tried fowllowing :  \r\n\r\n - set `avFormatContext.flags(avformat.AVFMT_GLOBALHEADER); ` no use\r\n\r\n - add &quot;-flags +global_header&quot; or &quot;-rtpflags latm&quot; to command line, but I don&#39;t know how to do this in JavaCV。\r\n - set `recorder.setAudioOption(&quot;flags&quot;, &quot;+global_header&quot;);` no use\r\n - set `        recorder.setAudioOption(&quot;flags&quot;, &quot;global_header&quot;); \r\n        recorder.setVideoOption(&quot;flags&quot;, &quot;global_header&quot;); ` , no use\r\n\r\n\r\ncould someone guide me on this appreciate\r\n\r\n\r\nabout the dhav (a part of ) ,mabay can help:\r\n```\r\nInput #0, dhav, from &#39;.\\videostream&#39;:\r\n  Duration: 00:00:25.00, start: 1689678599.000000, bitrate: 2360 kb/s\r\n  Stream #0:0: Audio: pcm_s16le, 16000 Hz, 1 channels, s16, 256 kb/s\r\n  Stream #0:1: Video: h264 (High), yuvj420p(pc, bt470bg/bt470bg/bt709), 720x1280, 25 fps, 50 tbr, 1k tbn\r\n```\r\n\r\nkey code is :\r\n```java\r\npublic static synchronized void grabAndPush(InputStream inputStream, String pushAddress, String pushPotocol) throws Exception {\r\n        avutil.av_log_set_level(AV_LOG_DEBUG);\r\n        FFmpegLogCallback.set();\r\n\r\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(inputStream,0);\r\n\r\n        long startTime = System.currentTimeMillis();\r\n      \r\n        grabber.start();\r\n\r\n     \r\n\r\n        AVFormatContext avFormatContext = grabber.getFormatContext();\r\n\r\n\r\n        int streamNum = avFormatContext.nb_streams();\r\n\r\n        if (streamNum &lt; 1) {\r\n            log.error(&quot;no media！&quot;);\r\n            return;\r\n        }\r\n\r\n        int frameRate = (int) grabber.getVideoFrameRate();\r\n        if (0 == frameRate) {\r\n            frameRate = 15;\r\n        }\r\n        log.info(&quot;frameRate[{}]，duration[{}]secs，number streams[{}]&quot;,\r\n                frameRate,\r\n                avFormatContext.duration() / 1000000,\r\n                avFormatContext.nb_streams());\r\n\r\n        for (int i = 0; i &lt; streamNum; i++) {\r\n            AVStream avStream = avFormatContext.streams(i);\r\n            AVCodecParameters avCodecParameters = avStream.codecpar();\r\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\r\n        }\r\n\r\n        int frameWidth = grabber.getImageWidth();\r\n        int frameHeight = grabber.getImageHeight();\r\n        int audioChannels = grabber.getAudioChannels();\r\n\r\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\r\n        recorder.setInterleaved(true);\r\n\r\n        switch (pushPotocol) {\r\n            case &quot;rtsp&quot; -&gt; {\r\n                recorder.setFormat(&quot;rtsp&quot;);\r\n            }\r\n            case &quot;rtmp&quot; -&gt; {\r\n                recorder.setFormat(&quot;flv&quot;);\r\n            }\r\n        }\r\n        log.info(&quot;push protocol:{}| grabber format:{} | recorder format:{}&quot;,pushPotocol,grabber.getFormat(),recorder.getFormat());\r\n\r\n        recorder.setFrameRate(frameRate);\r\n        recorder.setAudioCodec(AV_CODEC_ID_AAC);\r\n        log.info(&quot;grabber audio codec name :{}|recorder audio codec name :{}&quot;,grabber.getAudioCodecName(),recorder.getAudioCodecName());\r\n\r\n        recorder.setGopSize(frameRate * 2);\r\n\r\n        recorder.setAudioChannels(grabber.getAudioChannels());\r\n\r\n        startTime = System.currentTimeMillis();\r\n\r\n\r\n        avFormatContext.max_interleave_delta(0);\r\n        avFormatContext.flags(avformat.AVFMT_TS_NONSTRICT);\r\n        recorder.setTimestamp(0);\r\n  \r\n        recorder.start(avFormatContext);\r\n\r\n     \r\n\r\n        Frame frame;\r\n\r\n\r\n        int videoFrameNum = 0;\r\n        int audioFrameNum = 0;\r\n        int dataFrameNum = 0;\r\n    \r\n        AVPacket packet;\r\n        long lastDTS = 0;\r\n        while ((packet = grabber.grabPacket()) != null) {\r\n            if (packet.pts() == AV_NOPTS_VALUE) {\r\n                if (packet.dts() != AV_NOPTS_VALUE) {\r\n                    packet.pts(packet.dts());\r\n                    lastDTS = packet.dts();\r\n                } else {\r\n                    packet.pts(lastDTS + 1);\r\n                    packet.dts(packet.pts());\r\n                    lastDTS = packet.pts();\r\n                }\r\n            } else {\r\n                if (packet.dts() != AV_NOPTS_VALUE) {\r\n                    if (packet.dts() &lt; lastDTS) {\r\n                        packet.dts(lastDTS + 1);\r\n                    }\r\n                    lastDTS = packet.dts();\r\n                } else {\r\n                    packet.dts(packet.pts());\r\n                    lastDTS = packet.dts();\r\n                }\r\n            }\r\n\r\n            if (packet.pts() &lt; packet.dts()) {\r\n                packet.pts(packet.dts());\r\n            }\r\n\r\n\r\n            recorder.recordPacket(packet);\r\n            Thread.sleep(1);\r\n        }\r\n\r\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]，耗时[{}]秒&quot;,\r\n                videoFrameNum,\r\n                audioFrameNum,\r\n                dataFrameNum,\r\n                (System.currentTimeMillis() - startTime) / 1000);\r\n\r\n   \r\n        recorder.close();\r\n        grabber.close();\r\n    }\r\n```","title":"JavaCV error AAC with no global headers is currently not supported","body":"<p>I'm trying to transcode dhav (one of the container format) to RTSP By JavaCV(FFmpegFrameGrabber + FFmpegFrameRecorder) , It's fine when i transcoding dhav to RTMP , but when I change to RTSP ,error occurred:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nError: [rtsp @ 0000002318df7c30] AAC with no global headers is currently not supported.\n\nException in thread &quot;pool-1-thread-2&quot; java.lang.RuntimeException: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to 'rtsp://127.0.0.1:8554/myapp/orange2' (For more details, make sure FFmpegLogCallback.set() has been called.)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:116)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.bytedeco.javacv.FFmpegFrameRecorder$Exception: avformat_write_header error() error -1094995529: Could not write header to 'rtsp://127.0.0.1:8554/myapp/orange2' (For more details, make sure FFmpegLogCallback.set() has been called.)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:969)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:437)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:432)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP.grabAndPush(GetBytes2PipedStreamAndPushRTMP.java:215)\n    at org.jfjy.jvc.GetBytes2PipedStreamAndPushRTMP$2.run(GetBytes2PipedStreamAndPushRTMP.java:100)\n    ... 3 more\n</code></pre>\n<p>After googled , I tried fowllowing :</p>\n<ul>\n<li><p>set <code>avFormatContext.flags(avformat.AVFMT_GLOBALHEADER); </code> no use</p>\n</li>\n<li><p>add &quot;-flags +global_header&quot; or &quot;-rtpflags latm&quot; to command line, but I don't know how to do this in JavaCV。</p>\n</li>\n<li><p>set <code>recorder.setAudioOption(&quot;flags&quot;, &quot;+global_header&quot;);</code> no use</p>\n</li>\n<li><p>set <code>       recorder.setAudioOption(&quot;flags&quot;, &quot;global_header&quot;);  recorder.setVideoOption(&quot;flags&quot;, &quot;global_header&quot;);</code> , no use</p>\n</li>\n</ul>\n<p>could someone guide me on this appreciate</p>\n<p>about the dhav (a part of ) ,mabay can help:</p>\n<pre><code>Input #0, dhav, from '.\\videostream':\n  Duration: 00:00:25.00, start: 1689678599.000000, bitrate: 2360 kb/s\n  Stream #0:0: Audio: pcm_s16le, 16000 Hz, 1 channels, s16, 256 kb/s\n  Stream #0:1: Video: h264 (High), yuvj420p(pc, bt470bg/bt470bg/bt709), 720x1280, 25 fps, 50 tbr, 1k tbn\n</code></pre>\n<p>key code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static synchronized void grabAndPush(InputStream inputStream, String pushAddress, String pushPotocol) throws Exception {\n        avutil.av_log_set_level(AV_LOG_DEBUG);\n        FFmpegLogCallback.set();\n\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(inputStream,0);\n\n        long startTime = System.currentTimeMillis();\n      \n        grabber.start();\n\n     \n\n        AVFormatContext avFormatContext = grabber.getFormatContext();\n\n\n        int streamNum = avFormatContext.nb_streams();\n\n        if (streamNum &lt; 1) {\n            log.error(&quot;no media！&quot;);\n            return;\n        }\n\n        int frameRate = (int) grabber.getVideoFrameRate();\n        if (0 == frameRate) {\n            frameRate = 15;\n        }\n        log.info(&quot;frameRate[{}]，duration[{}]secs，number streams[{}]&quot;,\n                frameRate,\n                avFormatContext.duration() / 1000000,\n                avFormatContext.nb_streams());\n\n        for (int i = 0; i &lt; streamNum; i++) {\n            AVStream avStream = avFormatContext.streams(i);\n            AVCodecParameters avCodecParameters = avStream.codecpar();\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\n        }\n\n        int frameWidth = grabber.getImageWidth();\n        int frameHeight = grabber.getImageHeight();\n        int audioChannels = grabber.getAudioChannels();\n\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\n        recorder.setInterleaved(true);\n\n        switch (pushPotocol) {\n            case &quot;rtsp&quot; -&gt; {\n                recorder.setFormat(&quot;rtsp&quot;);\n            }\n            case &quot;rtmp&quot; -&gt; {\n                recorder.setFormat(&quot;flv&quot;);\n            }\n        }\n        log.info(&quot;push protocol:{}| grabber format:{} | recorder format:{}&quot;,pushPotocol,grabber.getFormat(),recorder.getFormat());\n\n        recorder.setFrameRate(frameRate);\n        recorder.setAudioCodec(AV_CODEC_ID_AAC);\n        log.info(&quot;grabber audio codec name :{}|recorder audio codec name :{}&quot;,grabber.getAudioCodecName(),recorder.getAudioCodecName());\n\n        recorder.setGopSize(frameRate * 2);\n\n        recorder.setAudioChannels(grabber.getAudioChannels());\n\n        startTime = System.currentTimeMillis();\n\n\n        avFormatContext.max_interleave_delta(0);\n        avFormatContext.flags(avformat.AVFMT_TS_NONSTRICT);\n        recorder.setTimestamp(0);\n  \n        recorder.start(avFormatContext);\n\n     \n\n        Frame frame;\n\n\n        int videoFrameNum = 0;\n        int audioFrameNum = 0;\n        int dataFrameNum = 0;\n    \n        AVPacket packet;\n        long lastDTS = 0;\n        while ((packet = grabber.grabPacket()) != null) {\n            if (packet.pts() == AV_NOPTS_VALUE) {\n                if (packet.dts() != AV_NOPTS_VALUE) {\n                    packet.pts(packet.dts());\n                    lastDTS = packet.dts();\n                } else {\n                    packet.pts(lastDTS + 1);\n                    packet.dts(packet.pts());\n                    lastDTS = packet.pts();\n                }\n            } else {\n                if (packet.dts() != AV_NOPTS_VALUE) {\n                    if (packet.dts() &lt; lastDTS) {\n                        packet.dts(lastDTS + 1);\n                    }\n                    lastDTS = packet.dts();\n                } else {\n                    packet.dts(packet.pts());\n                    lastDTS = packet.dts();\n                }\n            }\n\n            if (packet.pts() &lt; packet.dts()) {\n                packet.pts(packet.dts());\n            }\n\n\n            recorder.recordPacket(packet);\n            Thread.sleep(1);\n        }\n\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]，耗时[{}]秒&quot;,\n                videoFrameNum,\n                audioFrameNum,\n                dataFrameNum,\n                (System.currentTimeMillis() - startTime) / 1000);\n\n   \n        recorder.close();\n        grabber.close();\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","android-camerax"],"comments":[{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":1,"creation_date":1603176349,"post_id":64439247,"comment_id":113945450,"body_markdown":"I suggest to convert the image to bitmap then user ImageProxy.close to get next frame and capture it then save all bitmaps into ArrayList then you can show them.","body":"I suggest to convert the image to bitmap then user ImageProxy.close to get next frame and capture it then save all bitmaps into ArrayList then you can show them."},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603177250,"post_id":64439247,"comment_id":113945799,"body_markdown":"@mmdrezabaqalpour Then can I send those bitmaps to new Activity using Intent.putExtra();?","body":"@mmdrezabaqalpour Then can I send those bitmaps to new Activity using Intent.putExtra();?"},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1603177615,"post_id":64439247,"comment_id":113945942,"body_markdown":"Yes as long as  bitmap is a parcelabe object you can send it by intent. intent.putParcelableArrayListExtra()","body":"Yes as long as  bitmap is a parcelabe object you can send it by intent. intent.putParcelableArrayListExtra()"},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603177857,"post_id":64439247,"comment_id":113946049,"body_markdown":"@mmdrezabaqalpour During ImageCaptureCallback I have to set imageCapture to YUV Format to convert image to bitmap. which significantly reduces image quality. Is there any way around..","body":"@mmdrezabaqalpour During ImageCaptureCallback I have to set imageCapture to YUV Format to convert image to bitmap. which significantly reduces image quality. Is there any way around.."},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1603178102,"post_id":64439247,"comment_id":113946161,"body_markdown":"I have some methods I post as an answer if it works for you.","body":"I have some methods I post as an answer if it works for you."},{"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"score":0,"creation_date":1603178549,"post_id":64439247,"comment_id":113946377,"body_markdown":"@mmdrezabaqalpour okay","body":"@mmdrezabaqalpour okay"}],"answers":[{"tags":[],"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603178724,"creation_date":1603178724,"answer_id":64440381,"question_id":64439247,"body_markdown":"There are two ways that I did for my project. The code is in kotlin language.\r\nYou can understand it easily.\r\n\r\n    val image = imageProxy.image\r\n    val bitmap = Bitmap.createBitmap(image.width, image.height, \r\n    Bitmap.Config.ARGB_8888)\r\n\r\nIf it didn&#39;t work you can use a YuvtoRgbConvertor I have the full kotlin code if you want or you can write your own. then you can convert the bitmap like this.\r\n\r\n    val convertor = YuvToRgbConvertor\r\n    convertor.yuvToRgb(image , bitmap)\r\n\r\nThat is what I have done for my project.","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>There are two ways that I did for my project. The code is in kotlin language.\nYou can understand it easily.</p>\n<pre><code>val image = imageProxy.image\nval bitmap = Bitmap.createBitmap(image.width, image.height, \nBitmap.Config.ARGB_8888)\n</code></pre>\n<p>If it didn't work you can use a YuvtoRgbConvertor I have the full kotlin code if you want or you can write your own. then you can convert the bitmap like this.</p>\n<pre><code>val convertor = YuvToRgbConvertor\nconvertor.yuvToRgb(image , bitmap)\n</code></pre>\n<p>That is what I have done for my project.</p>\n"},{"tags":[],"owner":{"account_id":14261022,"reputation":241,"user_id":12516287,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603179543,"creation_date":1603179543,"answer_id":64440599,"question_id":64439247,"body_markdown":"What I suggest you is to store in an array list. and then pass an array list to other activities. \r\n\r\nWhat you have to do is create an array list and store uri.tostring in the array list\r\n\r\n    String newurl=uri.toString\r\n    `arraylist.add(newurl)`\r\n\r\nThis way you can add multiple image URLs in ArrayList and display with the help of the Picasso library. No need to fetch images from the database.\r\n","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>What I suggest you is to store in an array list. and then pass an array list to other activities.</p>\n<p>What you have to do is create an array list and store uri.tostring in the array list</p>\n<pre><code>String newurl=uri.toString\n`arraylist.add(newurl)`\n</code></pre>\n<p>This way you can add multiple image URLs in ArrayList and display with the help of the Picasso library. No need to fetch images from the database.</p>\n"},{"tags":[],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603272901,"creation_date":1603272901,"answer_id":64460720,"question_id":64439247,"body_markdown":"The easiest way that I found was this\r\n\r\n    preview.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Bitmap scaledBitmap = null;\r\n    \r\n                    ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n                    String PATH = Environment.getExternalStorageDirectory() + &quot;/download/&quot;;\r\n                    File file = new  File(PATH + &quot;myImage.jpeg&quot;);\r\n    \r\n                    if (file.exists()) {\r\n                        myImage.setImageDrawable(Drawable.createFromPath(file.toString()));\r\n                    }\r\n                    else {\r\n                        myImage.setImageDrawable(Drawable.createFromPath(null));\r\n                        Toast.makeText(nextPage.this, &quot;Not found&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n\r\nYou can change the path according to your code.","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>The easiest way that I found was this</p>\n<pre><code>preview.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Bitmap scaledBitmap = null;\n\n                ContextWrapper cw = new ContextWrapper(getApplicationContext());\n                String PATH = Environment.getExternalStorageDirectory() + &quot;/download/&quot;;\n                File file = new  File(PATH + &quot;myImage.jpeg&quot;);\n\n                if (file.exists()) {\n                    myImage.setImageDrawable(Drawable.createFromPath(file.toString()));\n                }\n                else {\n                    myImage.setImageDrawable(Drawable.createFromPath(null));\n                    Toast.makeText(nextPage.this, &quot;Not found&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n</code></pre>\n<p>You can change the path according to your code.</p>\n"},{"comments":[{"owner":{"account_id":10167202,"reputation":3755,"user_id":7508700,"display_name":"David Buck"},"score":0,"creation_date":1631771188,"post_id":69202162,"comment_id":122312591,"body_markdown":"If you are going to link to your blog (especially if you do so in multiple answers) you must declare your affiliation in your answers, or your posts will likely be flagged as spam. Please read [How Not to be a Spammer](https://stackoverflow.com/help/promotion).","body":"If you are going to link to your blog (especially if you do so in multiple answers) you must declare your affiliation in your answers, or your posts will likely be flagged as spam. Please read <a href=\"https://stackoverflow.com/help/promotion\">How Not to be a Spammer</a>."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1631774313,"post_id":69202162,"comment_id":122313519,"body_markdown":"Hi charlie leo. If you get a feedback like above and then edit your post without reacting to it (e.g. giving or pointing out information which contradicts the mentioned suspicion), the impression you give is probably that you do intentionally what was pointed out to you.","body":"Hi charlie leo. If you get a feedback like above and then edit your post without reacting to it (e.g. giving or pointing out information which contradicts the mentioned suspicion), the impression you give is probably that you do intentionally what was pointed out to you."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1631774551,"post_id":69202162,"comment_id":122313584,"body_markdown":"@DavidBuck I missed indicators that the links are to own web content. Can you enlighten me?","body":"@DavidBuck I missed indicators that the links are to own web content. Can you enlighten me?"},{"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"score":0,"creation_date":1631788290,"post_id":69202162,"comment_id":122319448,"body_markdown":"Hi @DavidBuck Thank your for the information. i&#39;ll check and use that in my future posts.","body":"Hi @DavidBuck Thank your for the information. i&#39;ll check and use that in my future posts."},{"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"score":0,"creation_date":1631788588,"post_id":69202162,"comment_id":122319569,"body_markdown":"HI @Yunnosch , sorry i didn&#39;t understand what your saying? .. i&#39;m new for giving answers here .","body":"HI @Yunnosch , sorry i didn&#39;t understand what your saying? .. i&#39;m new for giving answers here ."},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1652707952,"post_id":69202162,"comment_id":127664083,"body_markdown":"@Yunnosch Under profile, __About__ section: &quot;this is my blog click here&quot; links to that domain.","body":"@Yunnosch Under profile, <b>About</b> section: &quot;this is my blog click here&quot; links to that domain."}],"tags":[],"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652708465,"creation_date":1631764591,"answer_id":69202162,"question_id":64439247,"body_markdown":"First you need to close the image after capturing inside the takepicture callback image.close() will close the current image . the create ArrayList&lt;String&gt; globaly and add the imageURL in the arraylist . After theat you can send the arraylist to any activity by intent.\r\n\r\n     imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\r\n        @Override\r\n        public void onCaptureSuccess(@NonNull ImageProxy image) {\r\n            super.onCaptureSuccess(image);\r\n            @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\r\n            Image.Plane[] planes = cimage.getPlanes();\r\n            ByteBuffer yBuffer = planes[0].getBuffer();\r\n            ByteBuffer uBuffer = planes[1].getBuffer();\r\n            ByteBuffer vBuffer = planes[2].getBuffer();\r\n\r\n            int ySize = yBuffer.remaining();\r\n            int uSize = uBuffer.remaining();\r\n            int vSize = vBuffer.remaining();\r\n\r\n            byte[] nv21 = new byte[ySize + uSize + vSize];\r\n\r\n            yBuffer.get(nv21,0,ySize);\r\n            vBuffer.get(nv21,ySize,vSize);\r\n            uBuffer.get(nv21,ySize + vSize,uSize);\r\n\r\n            YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\r\n            byte[] imageBytes = out.toByteArray();\r\n\r\n            Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n            intent.putExtra(&quot;image&quot;,imageBytes);\r\n            MainActivity.this.startActivity(intent);\r\n            image.close();\r\n        }\r\n\r\n        @Override\r\n        public void onError(@NonNull ImageCaptureException exception) {\r\n            super.onError(exception);\r\n        }\r\n    });\r\n\r\nI think this will help you, any doubts just [refer here to my blog post][1] \r\n\r\n\r\n  [1]: https://cjdevelops.blogspot.com/2021/09/inbuilt-camera-applicaiton-camerax.html\r\n\r\nThis is the function for converting the ImageProxy to bitmap\r\n\r\n     // output of the image capture image proxy to bitmap\r\n    public Bitmap imageProxyToBitmap(ImageProxy image) {\r\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n        buffer.rewind();\r\n        byte[] bytes = new byte[buffer.capacity()];\r\n        buffer.get(bytes);\r\n        byte[] clonedBytes = bytes.clone();\r\n        return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\r\n    }\r\n\r\n\r\nAnd save the bitmap to your local storage\r\n\r\n        // used for save the files internal storage , can view in the gallery or internal storage\r\n    public String saveTOInternamMemory(Activity activity, Bitmap bitmapImage){\r\n\r\n        File myPath = getInternalStorageDir(internalStorageDir,imageFormat,Environment.DIRECTORY_PICTURES);\r\n\r\n        Log.d(TAG, &quot;directory: &quot; + myPath.getAbsolutePath());\r\n\r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(myPath);\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            Log.d(TAG, &quot;bit exception: Success&quot; );\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\r\n            }\r\n        }\r\n        Log.d(TAG, &quot;absolute path &quot; + myPath.getAbsolutePath());\r\n        return myPath.getAbsolutePath();\r\n    }","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>First you need to close the image after capturing inside the takepicture callback image.close() will close the current image . the create ArrayList globaly and add the imageURL in the arraylist . After theat you can send the arraylist to any activity by intent.</p>\n<pre><code> imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\n    @Override\n    public void onCaptureSuccess(@NonNull ImageProxy image) {\n        super.onCaptureSuccess(image);\n        @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\n        Image.Plane[] planes = cimage.getPlanes();\n        ByteBuffer yBuffer = planes[0].getBuffer();\n        ByteBuffer uBuffer = planes[1].getBuffer();\n        ByteBuffer vBuffer = planes[2].getBuffer();\n\n        int ySize = yBuffer.remaining();\n        int uSize = uBuffer.remaining();\n        int vSize = vBuffer.remaining();\n\n        byte[] nv21 = new byte[ySize + uSize + vSize];\n\n        yBuffer.get(nv21,0,ySize);\n        vBuffer.get(nv21,ySize,vSize);\n        uBuffer.get(nv21,ySize + vSize,uSize);\n\n        YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\n        byte[] imageBytes = out.toByteArray();\n\n        Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n        intent.putExtra(&quot;image&quot;,imageBytes);\n        MainActivity.this.startActivity(intent);\n        image.close();\n    }\n\n    @Override\n    public void onError(@NonNull ImageCaptureException exception) {\n        super.onError(exception);\n    }\n});\n</code></pre>\n<p>I think this will help you, any doubts just <a href=\"https://cjdevelops.blogspot.com/2021/09/inbuilt-camera-applicaiton-camerax.html\" rel=\"nofollow noreferrer\">refer here to my blog post</a></p>\n<p>This is the function for converting the ImageProxy to bitmap</p>\n<pre><code> // output of the image capture image proxy to bitmap\npublic Bitmap imageProxyToBitmap(ImageProxy image) {\n    ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n    buffer.rewind();\n    byte[] bytes = new byte[buffer.capacity()];\n    buffer.get(bytes);\n    byte[] clonedBytes = bytes.clone();\n    return BitmapFactory.decodeByteArray(clonedBytes, 0, clonedBytes.length);\n}\n</code></pre>\n<p>And save the bitmap to your local storage</p>\n<pre><code>    // used for save the files internal storage , can view in the gallery or internal storage\npublic String saveTOInternamMemory(Activity activity, Bitmap bitmapImage){\n\n    File myPath = getInternalStorageDir(internalStorageDir,imageFormat,Environment.DIRECTORY_PICTURES);\n\n    Log.d(TAG, &quot;directory: &quot; + myPath.getAbsolutePath());\n\n    FileOutputStream fos = null;\n    try {\n        fos = new FileOutputStream(myPath);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        Log.d(TAG, &quot;bit exception: Success&quot; );\n    } catch (Exception e) {\n        Log.d(TAG, &quot;bit exception: &quot; + e.getMessage());\n        e.printStackTrace();\n    } finally {\n        try {\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.d(TAG, &quot;io exce: &quot; + e.getMessage());\n        }\n    }\n    Log.d(TAG, &quot;absolute path &quot; + myPath.getAbsolutePath());\n    return myPath.getAbsolutePath();\n}\n</code></pre>\n"}],"owner":{"account_id":14221009,"reputation":111,"user_id":10273323,"display_name":"Ayush Naik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1689733978,"creation_date":1603173274,"question_id":64439247,"body_markdown":"Am using the latest cameraX \r\n\r\n    def camerax_version = &quot;1.0.0-beta11&quot;\r\n\r\nI able to take picture and save image to External Storage in a folder using this below code\r\n\r\n    File photoFile = new File(outputDirectory, &quot;Image_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n    \r\n                ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(photoFile).build();\r\n    \r\n                imageCapture.takePicture(outputFileOptions, ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        Uri.fromFile(photoFile);\r\n                        Toast.makeText(getBaseContext(), &quot;Image Saved&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException exception) {\r\n                        Toast.makeText(getBaseContext(), &quot;Error Saving Image&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\nNow the point is on how to extract the image before saving it to external storage. What I want to achieve is to capture multiple images and save it in buffer and send those images to next Activity and display them in a imageView using list or something. \r\n\r\nNow this can be achieved using `onImageCapturedCallback` on `imageCapture` which gives me a ImageProxy which then have to convert to Byte Array. But this process apples to only small size and single image.\r\n**How can I achieve this for higher resolution and multiple images**.\r\n\r\nBelow is the code I used to capture `ImageProxy` and set imageCapture to &quot;YUV&quot;, Sadly it didn&#39;t work at all\r\n\r\n        imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\r\n            @Override\r\n            public void onCaptureSuccess(@NonNull ImageProxy image) {\r\n                super.onCaptureSuccess(image);\r\n                @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\r\n                Image.Plane[] planes = cimage.getPlanes();\r\n                ByteBuffer yBuffer = planes[0].getBuffer();\r\n                ByteBuffer uBuffer = planes[1].getBuffer();\r\n                ByteBuffer vBuffer = planes[2].getBuffer();\r\n\r\n                int ySize = yBuffer.remaining();\r\n                int uSize = uBuffer.remaining();\r\n                int vSize = vBuffer.remaining();\r\n\r\n                byte[] nv21 = new byte[ySize + uSize + vSize];\r\n\r\n                yBuffer.get(nv21,0,ySize);\r\n                vBuffer.get(nv21,ySize,vSize);\r\n                uBuffer.get(nv21,ySize + vSize,uSize);\r\n\r\n                YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\r\n                byte[] imageBytes = out.toByteArray();\r\n\r\n                Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n                intent.putExtra(&quot;image&quot;,imageBytes);\r\n                MainActivity.this.startActivity(intent);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull ImageCaptureException exception) {\r\n                super.onError(exception);\r\n            }\r\n        });\r\n\r\nCan I add Image to `ArrayList` and then sent them over? \r\n\r\nThanks in Advance..","title":"How Can I Capture Multiple Images and send the images to next Activity and display them using CameraX [Android Studio]","body":"<p>Am using the latest cameraX</p>\n<pre><code>def camerax_version = &quot;1.0.0-beta11&quot;\n</code></pre>\n<p>I able to take picture and save image to External Storage in a folder using this below code</p>\n<pre><code>File photoFile = new File(outputDirectory, &quot;Image_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(photoFile).build();\n\n            imageCapture.takePicture(outputFileOptions, ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    Uri.fromFile(photoFile);\n                    Toast.makeText(getBaseContext(), &quot;Image Saved&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCaptureException exception) {\n                    Toast.makeText(getBaseContext(), &quot;Error Saving Image&quot; + photoFile.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n<p>Now the point is on how to extract the image before saving it to external storage. What I want to achieve is to capture multiple images and save it in buffer and send those images to next Activity and display them in a imageView using list or something.</p>\n<p>Now this can be achieved using <code>onImageCapturedCallback</code> on <code>imageCapture</code> which gives me a ImageProxy which then have to convert to Byte Array. But this process apples to only small size and single image.\n<strong>How can I achieve this for higher resolution and multiple images</strong>.</p>\n<p>Below is the code I used to capture <code>ImageProxy</code> and set imageCapture to &quot;YUV&quot;, Sadly it didn't work at all</p>\n<pre><code>    imageCapture.takePicture(ContextCompat.getMainExecutor(getBaseContext()), new ImageCapture.OnImageCapturedCallback() {\n        @Override\n        public void onCaptureSuccess(@NonNull ImageProxy image) {\n            super.onCaptureSuccess(image);\n            @SuppressLint(&quot;UnsafeExperimentalUsageError&quot;) Image cimage = image.getImage();\n            Image.Plane[] planes = cimage.getPlanes();\n            ByteBuffer yBuffer = planes[0].getBuffer();\n            ByteBuffer uBuffer = planes[1].getBuffer();\n            ByteBuffer vBuffer = planes[2].getBuffer();\n\n            int ySize = yBuffer.remaining();\n            int uSize = uBuffer.remaining();\n            int vSize = vBuffer.remaining();\n\n            byte[] nv21 = new byte[ySize + uSize + vSize];\n\n            yBuffer.get(nv21,0,ySize);\n            vBuffer.get(nv21,ySize,vSize);\n            uBuffer.get(nv21,ySize + vSize,uSize);\n\n            YuvImage yuvImage = new YuvImage(nv21,ImageFormat.NV21,cimage.getWidth(),cimage.getHeight(),null);\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            yuvImage.compressToJpeg(new Rect(0,0,yuvImage.getWidth(),yuvImage.getHeight()),100,out);\n            byte[] imageBytes = out.toByteArray();\n\n            Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n            intent.putExtra(&quot;image&quot;,imageBytes);\n            MainActivity.this.startActivity(intent);\n\n        }\n\n        @Override\n        public void onError(@NonNull ImageCaptureException exception) {\n            super.onError(exception);\n        }\n    });\n</code></pre>\n<p>Can I add Image to <code>ArrayList</code> and then sent them over?</p>\n<p>Thanks in Advance..</p>\n"},{"tags":["java","json","java-8","gson"],"comments":[{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1394485611,"post_id":22310143,"comment_id":33902895,"body_markdown":"Is this happening during serialization or de-serialization. If it&#39;s the second - check if your json is valid - for example it has to start with `{` (aka BEGIN_OBJECT), but instead your json starts with a character","body":"Is this happening during serialization or de-serialization. If it&#39;s the second - check if your json is valid - for example it has to start with <code>{</code> (aka BEGIN_OBJECT), but instead your json starts with a character"},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394486006,"post_id":22310143,"comment_id":33903090,"body_markdown":"I make a mistake its during de-serialization. Json -&gt; Object. But I think my Json is ok. If I replace in my object my attribute LocalDateTime with String it works.","body":"I make a mistake its during de-serialization. Json -&gt; Object. But I think my Json is ok. If I replace in my object my attribute LocalDateTime with String it works."},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1394486315,"post_id":22310143,"comment_id":33903236,"body_markdown":"json has the format `{&quot;key&quot;:&quot;value&quot;}` Your json is definitely invalid. As I said in gson `{` is `BEGIN_OBJECT` and it says that it;s missing. Just `println()` the json to check if it&#39;s correct.\n\nAlso you can print the `serialized` object to see how the json should look like :)","body":"json has the format <code>{&quot;key&quot;:&quot;value&quot;}</code> Your json is definitely invalid. As I said in gson <code>{</code> is <code>BEGIN_OBJECT</code> and it says that it;s missing. Just <code>println()</code> the json to check if it&#39;s correct.  Also you can print the <code>serialized</code> object to see how the json should look like :)"},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394487535,"post_id":22310143,"comment_id":33903838,"body_markdown":"Ok I understand now why it doesn&#39;t work. But maybe you know if there is something I can do? Like a special options with Gson for say if I have a String with a special Date and Time to deserialize this field and create the object I need?","body":"Ok I understand now why it doesn&#39;t work. But maybe you know if there is something I can do? Like a special options with Gson for say if I have a String with a special Date and Time to deserialize this field and create the object I need?"},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1394487738,"post_id":22310143,"comment_id":33903934,"body_markdown":"I cannot tell you anything before I see the string. But either way, you cannot de-serialize it unless it;s valid json. IMHO the best (and maybe the only) thing you can do is to make this string valid json.","body":"I cannot tell you anything before I see the string. But either way, you cannot de-serialize it unless it;s valid json. IMHO the best (and maybe the only) thing you can do is to make this string valid json."},{"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"score":0,"creation_date":1394487933,"post_id":22310143,"comment_id":33904024,"body_markdown":"The String is like this: &quot;2014-03-10T18:46:40.000Z&quot;. So I need to get an Object of this (datetime object from mysql?).","body":"The String is like this: &quot;2014-03-10T18:46:40.000Z&quot;. So I need to get an Object of this (datetime object from mysql?)."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1394712993,"post_id":22310143,"comment_id":34017680,"body_markdown":"Have you thought about that the timestamp string looks like an UTC-ISO-8601 global timestamp (letter Z at the end!)? It is not a local timestamp representation. I can actually not test the conversion to a `LocalDateTime` (no Java 8 with me) but suppose that this conversion might fail.","body":"Have you thought about that the timestamp string looks like an UTC-ISO-8601 global timestamp (letter Z at the end!)? It is not a local timestamp representation. I can actually not test the conversion to a <code>LocalDateTime</code> (no Java 8 with me) but suppose that this conversion might fail."},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":1,"creation_date":1397522791,"post_id":22310143,"comment_id":35260958,"body_markdown":"@fische: As Meno says, what you have is an `OffsetDateTime`, not a `LocalDateTime`. Also, you might like to look at my custom serialisers for `java.time` entities: https://github.com/gkopff/gson-javatime-serialisers","body":"@fische: As Meno says, what you have is an <code>OffsetDateTime</code>, not a <code>LocalDateTime</code>. Also, you might like to look at my custom serialisers for <code>java.time</code> entities: <a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">github.com/gkopff/gson-javatime-serialisers</a>"}],"answers":[{"tags":[],"owner":{"account_id":1371616,"reputation":1547,"user_id":1306643,"display_name":"Randula"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1400743194,"creation_date":1400743194,"answer_id":23800221,"question_id":22310143,"body_markdown":"The error occurs when you are deserializing the LocalDateTime attribute because GSON fails to parse the value of the attribute as it&#39;s not aware of the LocalDateTime objects.\r\n\r\nUse GsonBuilder&#39;s registerTypeAdapter method to define the custom LocalDateTime adapter.\r\nFollowing code snippet will help you to deserialize the LocalDateTime attribute.\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\r\n        @Override\r\n        public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n            Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\r\n            return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n        }\r\n    }).create();","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>The error occurs when you are deserializing the LocalDateTime attribute because GSON fails to parse the value of the attribute as it's not aware of the LocalDateTime objects.</p>\n\n<p>Use GsonBuilder's registerTypeAdapter method to define the custom LocalDateTime adapter.\nFollowing code snippet will help you to deserialize the LocalDateTime attribute.</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\n    @Override\n    public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        Instant instant = Instant.ofEpochMilli(json.getAsJsonPrimitive().getAsLong());\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n    }\n}).create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63859,"reputation":1153,"user_id":188803,"accept_rate":65,"display_name":"mcgyver5"},"score":0,"creation_date":1488043016,"post_id":36136066,"comment_id":72060594,"body_markdown":"that parameter to deserialize of type &quot;Type&quot;  what is that exactly?","body":"that parameter to deserialize of type &quot;Type&quot;  what is that exactly?"},{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":2,"creation_date":1522112541,"post_id":36136066,"comment_id":86009827,"body_markdown":"@mcgyver5 - it&#39;s a `java.lang.reflect.Type`","body":"@mcgyver5 - it&#39;s a <code>java.lang.reflect.Type</code>"},{"owner":{"account_id":5475193,"reputation":6876,"user_id":4353365,"display_name":"Francis"},"score":0,"creation_date":1608566461,"post_id":36136066,"comment_id":115616468,"body_markdown":"it is not a zoned date time string, but the instant (https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html)","body":"it is not a zoned date time string, but the instant (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659820637,"post_id":36136066,"comment_id":129387177,"body_markdown":"The input string is fits neither of the two classes you used. `LocalDateTime` ignores the input’s indicator `Z` of a pn offset form UTC of zero hours-minutes-seconds. `ZonedDateTime` is for representing a date-time in the context of a time zone, but the input has no time zone. The appropriate classes for this input are `Instant` or `OffsetDateTime`.","body":"The input string is fits neither of the two classes you used. <code>LocalDateTime</code> ignores the input’s indicator <code>Z</code> of a pn offset form UTC of zero hours-minutes-seconds. <code>ZonedDateTime</code> is for representing a date-time in the context of a time zone, but the input has no time zone. The appropriate classes for this input are <code>Instant</code> or <code>OffsetDateTime</code>."}],"tags":[],"owner":{"account_id":1395014,"reputation":1858,"user_id":1324960,"display_name":"Evers"},"comment_count":4,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1458576348,"creation_date":1458576348,"answer_id":36136066,"question_id":22310143,"body_markdown":"To extend @Randula&#39;s answer, to parse a zoned date time string (2014-03-10T18:46:40.000Z) to JSON:\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\r\n    @Override\r\n    public LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        return ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime();\r\n    }\r\n    }).create();\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To extend @Randula's answer, to parse a zoned date time string (2014-03-10T18:46:40.000Z) to JSON:</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() {\n@Override\npublic LocalDateTime deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n    return ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime();\n}\n}).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1348599,"reputation":1852,"user_id":1288852,"accept_rate":93,"display_name":"Nicholas Terry"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1493726676,"creation_date":1471929051,"answer_id":39092833,"question_id":22310143,"body_markdown":"To even further extend @Evers answer:\r\n\r\nYou can further simplify with a lambda like so:\r\n\r\n    GSON GSON = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\r\n        ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()).create();","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To even further extend @Evers answer:</p>\n\n<p>You can further simplify with a lambda like so:</p>\n\n<pre><code>GSON GSON = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\n    ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()).create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"score":0,"creation_date":1684046693,"post_id":61388300,"comment_id":134457372,"body_markdown":"Will this work if I have other type, like String/Integer key values in the json?","body":"Will this work if I have other type, like String/Integer key values in the json?"}],"tags":[],"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1587648113,"creation_date":1587648113,"answer_id":61388300,"question_id":22310143,"body_markdown":"Following worked for me.\r\n\r\n**Java:**\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() { \r\n    @Override \r\n    public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException { \r\n    \r\n    return LocalDateTime.parse(json.getAsString(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)); } \r\n    \r\n    }).create();\r\n            \r\n    Test test = gson.fromJson(stringJson, Test.class);\r\n\r\nwhere ***stringJson*** is a Json which is stored as String type\r\n\r\n**Json:**\r\n\r\n&gt; &quot;dateField&quot;:&quot;2020-01-30 15:00&quot;\r\n\r\n\r\nwhere ***dateField*** is of ***LocalDateTime*** type which is present in the stringJson String variable.\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>Following worked for me.</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(LocalDateTime.class, new JsonDeserializer&lt;LocalDateTime&gt;() { \n@Override \npublic LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException { \n\nreturn LocalDateTime.parse(json.getAsString(), DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\")); } \n\n}).create();\n\nTest test = gson.fromJson(stringJson, Test.class);\n</code></pre>\n\n<p>where <strong><em>stringJson</em></strong> is a Json which is stored as String type</p>\n\n<p><strong>Json:</strong></p>\n\n<blockquote>\n  <p>\"dateField\":\"2020-01-30 15:00\"</p>\n</blockquote>\n\n<p>where <strong><em>dateField</em></strong> is of <strong><em>LocalDateTime</em></strong> type which is present in the stringJson String variable.</p>\n"},{"comments":[{"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"score":0,"creation_date":1686648637,"post_id":75820589,"comment_id":134824506,"body_markdown":"Recommend to use this one","body":"Recommend to use this one"}],"tags":[],"owner":{"account_id":1958634,"reputation":2086,"user_id":1760939,"accept_rate":75,"display_name":"Syakur Rahman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679559400,"creation_date":1679559400,"answer_id":75820589,"question_id":22310143,"body_markdown":"As mentioned in the comments above, you could also use already available serializer.\r\n\r\nhttps://github.com/gkopff/gson-javatime-serialisers\r\n\r\nYou include it in your project.\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.fatboyindustrial.gson-javatime-serialisers&lt;/groupId&gt;\r\n  &lt;artifactId&gt;gson-javatime-serialisers&lt;/artifactId&gt;\r\n  &lt;version&gt;1.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nThen include it to the GsonBuilder process\r\n```\r\nfinal Gson gson = Converters.registerOffsetDateTime(new GsonBuilder()).create();\r\nfinal OffsetDateTime original = OffsetDateTime.now();\r\n\r\nfinal String json = gson.toJson(original);\r\nfinal OffsetDateTime reconstituted = gson.fromJson(json, OffsetDateTime.class);\r\n```\r\n\r\nJust in case its not clear, there exist different methods for different class types.","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>As mentioned in the comments above, you could also use already available serializer.</p>\n<p><a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">https://github.com/gkopff/gson-javatime-serialisers</a></p>\n<p>You include it in your project.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fatboyindustrial.gson-javatime-serialisers&lt;/groupId&gt;\n  &lt;artifactId&gt;gson-javatime-serialisers&lt;/artifactId&gt;\n  &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Then include it to the GsonBuilder process</p>\n<pre><code>final Gson gson = Converters.registerOffsetDateTime(new GsonBuilder()).create();\nfinal OffsetDateTime original = OffsetDateTime.now();\n\nfinal String json = gson.toJson(original);\nfinal OffsetDateTime reconstituted = gson.fromJson(json, OffsetDateTime.class);\n</code></pre>\n<p>Just in case its not clear, there exist different methods for different class types.</p>\n"},{"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689733061,"creation_date":1689733061,"answer_id":76717557,"question_id":22310143,"body_markdown":"To further amplify @Nicholas Terry answer:\r\n\r\nYou might also need a serializer: \r\n\r\n```java\r\nString dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateFormat);\r\nGSON gson = new GsonBuilder()\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime.class,\r\n\t\t(JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\r\n\t\t\tZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()\r\n\t)\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime.class,\r\n\t\t(JsonSerializer&lt;LocalDateTime&gt;) (localDate, type, jsonSerializationContext) -&gt;\r\n\t\t\tnew JsonPrimitive(formatter.format(localDate)\r\n\t)\r\n\t.create();\r\n```\r\n\r\nOr the kotlin version:\r\n\r\n```kotlin\r\nval dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;\r\nval formatter = DateTimeFormatter.ofPattern(dateFormat)\r\nval gson: Gson = GsonBuilder()\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime::class.java,\r\n\t\tJsonDeserializer { json, type, jsonDeserializationContext -&gt; \r\n\t\t\tZonedDateTime.parse(json.asJsonPrimitive.asString).toLocalDateTime()\r\n\t\t} as JsonDeserializer&lt;LocalDateTime?&gt;\r\n\t)\r\n\t.registerTypeAdapter(\r\n\t\tLocalDateTime::class.java,\r\n\t\tJsonSerializer&lt;LocalDateTime?&gt; { localDate, type, jsonDeserializationContext -&gt;\r\n\t\t\tJsonPrimitive(formatter.format(localDate))\r\n\t\t}\r\n\t)\r\n\t.create()\r\n```","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>To further amplify @Nicholas Terry answer:</p>\n<p>You might also need a serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateFormat);\nGSON gson = new GsonBuilder()\n    .registerTypeAdapter(\n        LocalDateTime.class,\n        (JsonDeserializer&lt;LocalDateTime&gt;) (json, type, jsonDeserializationContext) -&gt;\n            ZonedDateTime.parse(json.getAsJsonPrimitive().getAsString()).toLocalDateTime()\n    )\n    .registerTypeAdapter(\n        LocalDateTime.class,\n        (JsonSerializer&lt;LocalDateTime&gt;) (localDate, type, jsonSerializationContext) -&gt;\n            new JsonPrimitive(formatter.format(localDate)\n    )\n    .create();\n</code></pre>\n<p>Or the kotlin version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;\nval formatter = DateTimeFormatter.ofPattern(dateFormat)\nval gson: Gson = GsonBuilder()\n    .registerTypeAdapter(\n        LocalDateTime::class.java,\n        JsonDeserializer { json, type, jsonDeserializationContext -&gt; \n            ZonedDateTime.parse(json.asJsonPrimitive.asString).toLocalDateTime()\n        } as JsonDeserializer&lt;LocalDateTime?&gt;\n    )\n    .registerTypeAdapter(\n        LocalDateTime::class.java,\n        JsonSerializer&lt;LocalDateTime?&gt; { localDate, type, jsonDeserializationContext -&gt;\n            JsonPrimitive(formatter.format(localDate))\n        }\n    )\n    .create()\n</code></pre>\n"}],"owner":{"account_id":2810475,"reputation":563,"user_id":2416807,"display_name":"fische"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64238,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":6,"score":55,"last_activity_date":1689733061,"creation_date":1394481818,"question_id":22310143,"body_markdown":"I have JSONs with a date-time attribute in the format &quot;2014-03-10T18:46:40.000Z&quot;, which I want to deserialize into a java.time.LocalDateTime field using Gson.\r\n\r\nWhen I tried to deserialize, I get the error:\r\n\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\r\n","title":"Java 8 LocalDateTime deserialized using Gson","body":"<p>I have JSONs with a date-time attribute in the format \"2014-03-10T18:46:40.000Z\", which I want to deserialize into a java.time.LocalDateTime field using Gson.</p>\n\n<p>When I tried to deserialize, I get the error:</p>\n\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-cloud-stream"],"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689732557,"creation_date":1689732557,"question_id":76717529,"body_markdown":"I am using Spring cloud stream to consume message from a kafka topic.\r\nSpring boot version - 2.7.13\r\n\r\n**Spring config:-**\r\n\r\n\r\n    spring:\r\n      application:\r\n        name: prj-consumer\r\n    \r\n    \r\n    spring.cloud.function:\r\n      definition: prjProcessor\r\n    \r\n    \r\n    spring.cloud.stream:\r\n      bindings:\r\n        input:\r\n          destination: topic-1\r\n          group: group-1\r\n        output:\r\n          destination: topic-out-2\r\n        failureQueue:\r\n          destination: topic-out-fail-2\r\n    \r\n    \r\n    spring.cloud.stream.function.bindings:\r\n      prjProcessor-in-0: input\r\n      prjProcessor-out-0: output\r\n    \r\n    \r\n    spring.cloud.stream.kafka.binder:\r\n      brokers: &lt;BROKERS&gt;\r\n      configuration: \r\n            security:\r\n              protocol: SASL_SSL\r\n            sasl:\r\n              mechanism: PLAIN\r\n            \r\n      consumer-properties:\r\n            security:\r\n              protocol: SASL_SSL\r\n            sasl:\r\n              mechanism: PLAIN\r\n            \r\n    \r\n    \r\n    spring.cloud.stream.kafka.bindings:\r\n      input:\r\n        consumer:\r\n          autoCommitOffset: false\r\n\r\n\r\nThe message in kafka topic,\r\n\r\n    [\r\n    {&quot;eid&quot;:&quot;Prj1&quot;,&quot;name&quot;:&quot;Test Prj&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;},\r\n    {&quot;eid&quot;:&quot;Prj2&quot;,&quot;name&quot;:&quot;Test Prj2&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;}\r\n    ]\r\n\r\n\r\nGetting the error below while consuming this.\r\n\r\n    &quot;message&quot;: &quot;Failure during type conversion by org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter@7684a7e5. Will try the next converter.&quot;,\r\n      &quot;logger&quot;: &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter&quot;,\r\n      \r\n     &quot;class&quot;: &quot;org.springframework.messaging.converter.MessageConversionException&quot;,\r\n        &quot;msg&quot;: &quot;Could not read JSON: Unexpected character (&#39;e&#39; (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{eid=Prj1, name=Test Prj}\\&quot;; line: 1, column: 3]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;e&#39; (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{id=Prj1, name=Test Prj}}\\&quot;; line: 1, column: 3]&quot;,\r\n        &quot;stack&quot;: [\r\n          &quot;org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237)&quot;,\r\n          &quot;org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter.convertFromInternal(ApplicationJsonMessageMarshallingConverter.java:115)&quot;,\r\n          &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185)&quot;,\r\n          &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176)&quot;,\r\n          &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter.fromMessage(SmartCompositeMessageConverter.java:63)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputMessageIfNecessary(SimpleFunctionRegistry.java:1332)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputIfNecessary(SimpleFunctionRegistry.java:1091)&quot;,\r\n          &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.lambda$convertInputPublisherIfNecessary$24(SimpleFunctionRegistry.java:1444)&quot;,\r\n          &quot;reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)&quot;,\r\n          &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)&quot;,\r\n          &quot;reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335)&quot;,\r\n          &quot;reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294)&quot;,\r\n          &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)&quot;,\r\n\r\n\r\n**Question:-**\r\n\r\nThe message in the topic is with keys in Double quote, but when it comes here, the format seems to be different and throwing error with one converted and then works with the other converter.\r\n\r\n**Spring cloud code:-**\r\n\r\n    public Object fromMessage(Message&lt;?&gt; message, Class&lt;?&gt; targetClass) {\r\n    \t\tfor (MessageConverter converter : getConverters()) {\r\n    \t\t\tif (!(message.getPayload() instanceof byte[]) &amp;&amp; targetClass.isInstance(message.getPayload()) &amp;&amp; !(message.getPayload() instanceof Collection&lt;?&gt;)) {\r\n    \t\t\t\treturn message.getPayload();\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tObject result = converter.fromMessage(message, targetClass);\r\n    \t\t\t\tif (result != null) {\r\n    \t\t\t\t\treturn result;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e) {\r\n    \t\t\t\tif (logger.isWarnEnabled()) {\r\n    \t\t\t\t\tlogger.warn(&quot;Failure during type conversion by &quot; + converter + &quot;. Will try the next converter.&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}","title":"Spring cloud stream - org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter","body":"<p>I am using Spring cloud stream to consume message from a kafka topic.\nSpring boot version - 2.7.13</p>\n<p><strong>Spring config:-</strong></p>\n<pre><code>spring:\n  application:\n    name: prj-consumer\n\n\nspring.cloud.function:\n  definition: prjProcessor\n\n\nspring.cloud.stream:\n  bindings:\n    input:\n      destination: topic-1\n      group: group-1\n    output:\n      destination: topic-out-2\n    failureQueue:\n      destination: topic-out-fail-2\n\n\nspring.cloud.stream.function.bindings:\n  prjProcessor-in-0: input\n  prjProcessor-out-0: output\n\n\nspring.cloud.stream.kafka.binder:\n  brokers: &lt;BROKERS&gt;\n  configuration: \n        security:\n          protocol: SASL_SSL\n        sasl:\n          mechanism: PLAIN\n        \n  consumer-properties:\n        security:\n          protocol: SASL_SSL\n        sasl:\n          mechanism: PLAIN\n        \n\n\nspring.cloud.stream.kafka.bindings:\n  input:\n    consumer:\n      autoCommitOffset: false\n</code></pre>\n<p>The message in kafka topic,</p>\n<pre><code>[\n{&quot;eid&quot;:&quot;Prj1&quot;,&quot;name&quot;:&quot;Test Prj&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;},\n{&quot;eid&quot;:&quot;Prj2&quot;,&quot;name&quot;:&quot;Test Prj2&quot;,&quot;createdBy&quot;:&quot;First User&quot;,&quot;createdOn&quot;:&quot;2022-11-11T00:00:00Z&quot;,&quot;lastModifiedBy&quot;:&quot;System User&quot;,&quot;lastModifiedOn&quot;:&quot;2023-07-17T20:22:32.262Z&quot;}\n]\n</code></pre>\n<p>Getting the error below while consuming this.</p>\n<pre><code>&quot;message&quot;: &quot;Failure during type conversion by org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter@7684a7e5. Will try the next converter.&quot;,\n  &quot;logger&quot;: &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter&quot;,\n  \n &quot;class&quot;: &quot;org.springframework.messaging.converter.MessageConversionException&quot;,\n    &quot;msg&quot;: &quot;Could not read JSON: Unexpected character ('e' (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{eid=Prj1, name=Test Prj}\\&quot;; line: 1, column: 3]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('e' (code 101)): was expecting double-quote to start field name\\n at [Source: (String)\\&quot;{id=Prj1, name=Test Prj}}\\&quot;; line: 1, column: 3]&quot;,\n    &quot;stack&quot;: [\n      &quot;org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:237)&quot;,\n      &quot;org.springframework.cloud.stream.converter.ApplicationJsonMessageMarshallingConverter.convertFromInternal(ApplicationJsonMessageMarshallingConverter.java:115)&quot;,\n      &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:185)&quot;,\n      &quot;org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:176)&quot;,\n      &quot;org.springframework.cloud.function.context.config.SmartCompositeMessageConverter.fromMessage(SmartCompositeMessageConverter.java:63)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputMessageIfNecessary(SimpleFunctionRegistry.java:1332)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.convertInputIfNecessary(SimpleFunctionRegistry.java:1091)&quot;,\n      &quot;org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.lambda$convertInputPublisherIfNecessary$24(SimpleFunctionRegistry.java:1444)&quot;,\n      &quot;reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)&quot;,\n      &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)&quot;,\n      &quot;reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335)&quot;,\n      &quot;reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294)&quot;,\n      &quot;reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)&quot;,\n</code></pre>\n<p><strong>Question:-</strong></p>\n<p>The message in the topic is with keys in Double quote, but when it comes here, the format seems to be different and throwing error with one converted and then works with the other converter.</p>\n<p><strong>Spring cloud code:-</strong></p>\n<pre><code>public Object fromMessage(Message&lt;?&gt; message, Class&lt;?&gt; targetClass) {\n        for (MessageConverter converter : getConverters()) {\n            if (!(message.getPayload() instanceof byte[]) &amp;&amp; targetClass.isInstance(message.getPayload()) &amp;&amp; !(message.getPayload() instanceof Collection&lt;?&gt;)) {\n                return message.getPayload();\n            }\n            try {\n                Object result = converter.fromMessage(message, targetClass);\n                if (result != null) {\n                    return result;\n                }\n            }\n            catch (Exception e) {\n                if (logger.isWarnEnabled()) {\n                    logger.warn(&quot;Failure during type conversion by &quot; + converter + &quot;. Will try the next converter.&quot;, e);\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1689561839,"post_id":76701210,"comment_id":135225929,"body_markdown":"The list will stay in whatever order you put them.  You don&#39;t say what language this is, but both Java and C# have `sort` functions.","body":"The list will stay in whatever order you put them.  You don&#39;t say what language this is, but both Java and C# have <code>sort</code> functions."}],"answers":[{"comments":[{"owner":{"account_id":29030753,"reputation":1,"user_id":22237740,"display_name":"romee"},"score":0,"creation_date":1689671030,"post_id":76702368,"comment_id":135243152,"body_markdown":"hi, ive used the code in optaplanner-examples in https://github.com/kiegroup/optaplanner, if you have that project, you may download the file TaskAssigningHelloWorld.java in https://github.com/yiyiyiyi1999/for_Optaplanner_thing and add it in the folder &#39;taskAssigning/app&#39;. Then run the main to see the result. ive noticed that in the solution, tasks are listed in a reversed order of its own id. i dont know why and how to configure the order. maybe the order is non-changeable? may the order have something to do with the solving process? thank you so much for further discussion.","body":"hi, ive used the code in optaplanner-examples in <a href=\"https://github.com/kiegroup/optaplanner\" rel=\"nofollow noreferrer\">github.com/kiegroup/optaplanner</a>, if you have that project, you may download the file TaskAssigningHelloWorld.java in <a href=\"https://github.com/yiyiyiyi1999/for_Optaplanner_thing\" rel=\"nofollow noreferrer\">github.com/yiyiyiyi1999/for_Optaplanner_thing</a> and add it in the folder &#39;taskAssigning/app&#39;. Then run the main to see the result. ive noticed that in the solution, tasks are listed in a reversed order of its own id. i dont know why and how to configure the order. maybe the order is non-changeable? may the order have something to do with the solving process? thank you so much for further discussion."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689579503,"creation_date":1689579503,"answer_id":76702368,"question_id":76701210,"body_markdown":"Interesting. I don&#39;t think we make any promises on the order of entities in the best solution in [Timefold][1], but still, I can&#39;t think of a single piece of code that would actually invert the order.\r\n\r\nIf you provide a piece of code I can execute to see the issue, I will look into it.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"how to make the entity in a solution in a specific order?","body":"<p>Interesting. I don't think we make any promises on the order of entities in the best solution in <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a>, but still, I can't think of a single piece of code that would actually invert the order.</p>\n<p>If you provide a piece of code I can execute to see the issue, I will look into it.</p>\n"}],"owner":{"account_id":29030753,"reputation":1,"user_id":22237740,"display_name":"romee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689730475,"creation_date":1689561522,"question_id":76701210,"body_markdown":"here i hava a `@planningEntity` Entity and a `@planningEntity` Request, this two classes are connected by:\r\n\r\n```\r\npublic class Request {\r\n    @PlanningListVariable\r\n    private List&lt;Entity&gt; EntityList;\r\n```\r\nand\r\n\r\n```\r\npublic class Entity{\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;EntityList&quot;)\r\n    private Request Request;\r\n}\r\n```\r\nthe solution class is:\r\n\r\n```\r\npublic class Solution implements Serializable {\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Request&gt; RequestList;\r\n\r\n    @ValueRangeProvider\r\n    @ProblemFactCollectionProperty\r\n    private List&lt;Entity&gt; Entities;\r\n```\r\nso what i want in the soultion is a RequestList and every request in the list has a EntityList.\r\n\r\nMy question is: i want entities in the EntityList of the request are listed by the order of id, but the result is always in a reversed order.\r\n\r\nfor example, the solution i get is:\r\n[enter image description here](https://i.stack.imgur.com/xJ9qe.png)\r\n\r\nbut what i really want is:\r\n[enter image description here](https://i.stack.imgur.com/SOWHQ.png)\r\n\r\ni tried to add a constraint to limit the order, but it doesnt work.\r\n\r\nhow can i get what i want? how to set the order?\r\n\r\nthank you very much for any ideas.","title":"how to make the entity in a solution in a specific order?","body":"<p>here i hava a <code>@planningEntity</code> Entity and a <code>@planningEntity</code> Request, this two classes are connected by:</p>\n<pre><code>public class Request {\n    @PlanningListVariable\n    private List&lt;Entity&gt; EntityList;\n</code></pre>\n<p>and</p>\n<pre><code>public class Entity{\n    @InverseRelationShadowVariable(sourceVariableName = &quot;EntityList&quot;)\n    private Request Request;\n}\n</code></pre>\n<p>the solution class is:</p>\n<pre><code>public class Solution implements Serializable {\n    @PlanningId\n    private Long id;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Request&gt; RequestList;\n\n    @ValueRangeProvider\n    @ProblemFactCollectionProperty\n    private List&lt;Entity&gt; Entities;\n</code></pre>\n<p>so what i want in the soultion is a RequestList and every request in the list has a EntityList.</p>\n<p>My question is: i want entities in the EntityList of the request are listed by the order of id, but the result is always in a reversed order.</p>\n<p>for example, the solution i get is:\n<a href=\"https://i.stack.imgur.com/xJ9qe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>but what i really want is:\n<a href=\"https://i.stack.imgur.com/SOWHQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i tried to add a constraint to limit the order, but it doesnt work.</p>\n<p>how can i get what i want? how to set the order?</p>\n<p>thank you very much for any ideas.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689730063,"creation_date":1689643852,"answer_id":76709018,"question_id":76708977,"body_markdown":"To answer your question below, the reason is that static methods do not depend on objects. Therefore there is no `this`;\r\n\r\nIn other words, you should think that the main method cannot see your internal class. If you want to `new` that inner class, you need to write it like this\r\n\r\n\r\n    package staticexample;\r\n\r\n    public class nonstatic {\r\n        public static void main(String[] args) {\r\n            non A = new nonstatic().new non();\r\n        }\r\n        class non{\r\n            public void greeting(){\r\n                System.out.println(&quot;Hej&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIn other words, static methods are actually free from objects. \r\nAlthough your `main` method is in class `nonstatic`, when accessing this static method, you should not think it is in any object instantiated with `nonstatic`.\r\n","title":"Difference between the two","body":"<p>To answer your question below, the reason is that static methods do not depend on objects. Therefore there is no <code>this</code>;</p>\n<p>In other words, you should think that the main method cannot see your internal class. If you want to <code>new</code> that inner class, you need to write it like this</p>\n<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new nonstatic().new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In other words, static methods are actually free from objects.\nAlthough your <code>main</code> method is in class <code>nonstatic</code>, when accessing this static method, you should not think it is in any object instantiated with <code>nonstatic</code>.</p>\n"},{"tags":[],"owner":{"account_id":465323,"reputation":14809,"user_id":869330,"accept_rate":82,"display_name":"Naetmul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689644093,"creation_date":1689644093,"answer_id":76709025,"question_id":76708977,"body_markdown":"The `non` class of the first code is an **inner class** of the outer `nonstatic` class, whereas the `non` class of the second code exists as it is.\r\n\r\nThus, the first code\r\n```java\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\ntries to create an instance of `non`, but this requires an instance of `nonstatic`, so it fails.\r\n\r\nThe proper way is to create an instance of `nonstatic` as follows.\r\n\r\n```java\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new nonstatic().new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRefer to https://stackoverflow.com/questions/12690128/how-to-instantiate-non-static-inner-class-within-a-static-method for more details.","title":"Difference between the two","body":"<p>The <code>non</code> class of the first code is an <strong>inner class</strong> of the outer <code>nonstatic</code> class, whereas the <code>non</code> class of the second code exists as it is.</p>\n<p>Thus, the first code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>tries to create an instance of <code>non</code>, but this requires an instance of <code>nonstatic</code>, so it fails.</p>\n<p>The proper way is to create an instance of <code>nonstatic</code> as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new nonstatic().new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Refer to <a href=\"https://stackoverflow.com/questions/12690128/how-to-instantiate-non-static-inner-class-within-a-static-method\">How to instantiate non static inner class within a static method?</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689644311,"creation_date":1689644311,"answer_id":76709032,"question_id":76708977,"body_markdown":"It is actually pretty simple,\r\nlet&#39;s establish 3 things first \r\n\r\n1- **static** means the thing(variable, method) belongs to the class so you can access that (variable, method) without creating instances\r\n\r\n2- **this** keyword is used to **access current instance**\r\n\r\n3- main method is a static method, it belongs to the class, hence you can not use **this** inside it because there is no instance.\r\n\r\nyou are not explicitly typing this in your first example but class non is **non-static** part of class nonstatic so it&#39;s an instance so it&#39;s called using this which is not acceptable.\r\n\r\nthe second example, class non is not not part of class nonstatic so there is no **this** involved","title":"Difference between the two","body":"<p>It is actually pretty simple,\nlet's establish 3 things first</p>\n<p>1- <strong>static</strong> means the thing(variable, method) belongs to the class so you can access that (variable, method) without creating instances</p>\n<p>2- <strong>this</strong> keyword is used to <strong>access current instance</strong></p>\n<p>3- main method is a static method, it belongs to the class, hence you can not use <strong>this</strong> inside it because there is no instance.</p>\n<p>you are not explicitly typing this in your first example but class non is <strong>non-static</strong> part of class nonstatic so it's an instance so it's called using this which is not acceptable.</p>\n<p>the second example, class non is not not part of class nonstatic so there is no <strong>this</strong> involved</p>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689645704,"creation_date":1689644948,"answer_id":76709058,"question_id":76708977,"body_markdown":"According to [Non-Static Nested Classes][1], \r\n\r\n&gt; Just like instance variables and methods, inner classes are associated with an instance of the enclosing class\r\n\r\n&gt; To instantiate an inner class, we must first instantiate its enclosing class.\r\n\r\n\r\n\r\n\r\nIf you want to create an instance of the inner class, you should do this:\r\n\r\n```\r\nclass OuterClass {\r\n    ...\r\n    class InnerClass {\r\n        ...\r\n    }\r\n}\r\nOuterClass outerObject = new OuterClass()\r\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\r\n\r\n```\r\n\r\nSo either:\r\n 1. make class non as static class, or\r\n 2. create instance non A like `non A = new nonstatic().new non();`\r\n\r\n```\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n[1]: https://www.baeldung.com/java-nested-classes#non-static-nested-classes","title":"Difference between the two","body":"<p>According to <a href=\"https://www.baeldung.com/java-nested-classes#non-static-nested-classes\" rel=\"nofollow noreferrer\">Non-Static Nested Classes</a>,</p>\n<blockquote>\n<p>Just like instance variables and methods, inner classes are associated with an instance of the enclosing class</p>\n</blockquote>\n<blockquote>\n<p>To instantiate an inner class, we must first instantiate its enclosing class.</p>\n</blockquote>\n<p>If you want to create an instance of the inner class, you should do this:</p>\n<pre><code>class OuterClass {\n    ...\n    class InnerClass {\n        ...\n    }\n}\nOuterClass outerObject = new OuterClass()\nOuterClass.InnerClass innerObject = outerObject.new InnerClass();\n\n</code></pre>\n<p>So either:</p>\n<ol>\n<li>make class non as static class, or</li>\n<li>create instance non A like <code>non A = new nonstatic().new non();</code></li>\n</ol>\n<pre><code>static class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689662875,"creation_date":1689662875,"answer_id":76710154,"question_id":76708977,"body_markdown":"&gt; _&quot;... what exactly is the difference between the two and why is one of them working and the other is not? ...&quot;_\r\n\r\nThe reason the first example is not working is because _new non()_ has no context.\r\n\r\nSince _non_ is an inner-class you&#39;ll need to access it from an instance of _nonstatic_.  \r\n\r\nFor example,\r\n\r\n```java\r\nnonstatic nonstatic = new nonstatic();\r\nnon A = nonstatic.new non();\r\n```\r\n\r\nAlthough, since _non_ is nested, you could declare it as static; making it easier to reference.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    non A = new nonstatic.non();\r\n}\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, the _nonstatic_ identifier is redundant; so you could just leave the assignment the way it is.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    non A = new non();\r\n}\r\nstatic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIn your second example you simply have two classes, non-nested.  \r\nThis doesn&#39;t have much use in _Java_; although I imagine it may help in certain situations.\r\n\r\nEssentially, you can have more than one class within a file, as long as not more than one is declared as _public_.\r\n\r\nSo, for example, the following will cause an error.\r\n\r\n```java\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n}\r\npublic class non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\n\r\nError\r\n\r\n```none\r\njava: class non is public, should be declared in a file named non.java\r\n```\r\n\r\nHere is the _Java_ tutorial on classes and nested classes.  \r\n_[Nested Classes (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)_.\r\n\r\nAnd, here is a relevant discussion regarding your second example.  \r\n_[StackOverflow &amp;ndash; Can a java file have more than one class?](https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class)_.","title":"Difference between the two","body":"<blockquote>\n<p><em>&quot;... what exactly is the difference between the two and why is one of them working and the other is not? ...&quot;</em></p>\n</blockquote>\n<p>The reason the first example is not working is because <em>new non()</em> has no context.</p>\n<p>Since <em>non</em> is an inner-class you'll need to access it from an instance of <em>nonstatic</em>.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>nonstatic nonstatic = new nonstatic();\nnon A = nonstatic.new non();\n</code></pre>\n<p>Although, since <em>non</em> is nested, you could declare it as static; making it easier to reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    non A = new nonstatic.non();\n}\nstatic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>Additionally, the <em>nonstatic</em> identifier is redundant; so you could just leave the assignment the way it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    non A = new non();\n}\nstatic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>In your second example you simply have two classes, non-nested.<br />\nThis doesn't have much use in <em>Java</em>; although I imagine it may help in certain situations.</p>\n<p>Essentially, you can have more than one class within a file, as long as not more than one is declared as <em>public</em>.</p>\n<p>So, for example, the following will cause an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n}\npublic class non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>Error</p>\n<pre class=\"lang-none prettyprint-override\"><code>java: class non is public, should be declared in a file named non.java\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on classes and nested classes.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Nested Classes (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>And, here is a relevant discussion regarding your second example.<br />\n<em><a href=\"https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class\">StackOverflow – Can a java file have more than one class?</a></em>.</p>\n"}],"owner":{"account_id":14788568,"reputation":11,"user_id":10680130,"display_name":"Tanishq Chhabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1689730063,"creation_date":1689642957,"question_id":76708977,"body_markdown":"```\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n    class non{\r\n        public void greeting(){\r\n            System.out.println(&quot;Hej&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage staticexample;\r\n\r\npublic class nonstatic {\r\n    public static void main(String[] args) {\r\n        non A = new non();\r\n    }\r\n}\r\nclass non{\r\n    public void greeting(){\r\n        System.out.println(&quot;Hej&quot;);\r\n    }\r\n}\r\n```\r\nI know you cannot access a non static method in a static reference but what exactly is the difference between the two and why is one of them working and the other is not?\r\n\r\nI tried asking the same question from chatgpt but I got more confused, so I would really appreciate some unadorned answers. Thank you!","title":"Difference between the two","body":"<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n    class non{\n        public void greeting(){\n            System.out.println(&quot;Hej&quot;);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>package staticexample;\n\npublic class nonstatic {\n    public static void main(String[] args) {\n        non A = new non();\n    }\n}\nclass non{\n    public void greeting(){\n        System.out.println(&quot;Hej&quot;);\n    }\n}\n</code></pre>\n<p>I know you cannot access a non static method in a static reference but what exactly is the difference between the two and why is one of them working and the other is not?</p>\n<p>I tried asking the same question from chatgpt but I got more confused, so I would really appreciate some unadorned answers. Thank you!</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689718453,"post_id":76716824,"comment_id":135252616,"body_markdown":"I did try getting the Java Development Kit","body":"I did try getting the Java Development Kit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689718634,"post_id":76716824,"comment_id":135252633,"body_markdown":"I would install a JDK independently of your IDE. Just download it and *install* it","body":"I would install a JDK independently of your IDE. Just download it and <i>install</i> it"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689718714,"post_id":76716824,"comment_id":135252644,"body_markdown":"@g00se Im sorry can I get like a walk through of how to do that :( Sorry! I kind of dont understand it","body":"@g00se Im sorry can I get like a walk through of how to do that :( Sorry! I kind of dont understand it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689721058,"post_id":76716824,"comment_id":135252875,"body_markdown":"Let me get this straight: you&#39;re saying you can&#39;t get and install a computer program?","body":"Let me get this straight: you&#39;re saying you can&#39;t get and install a computer program?"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689721507,"post_id":76716824,"comment_id":135252914,"body_markdown":"Yes I can sorry :( but I installed JDK and the issue still didnt resolve","body":"Yes I can sorry :( but I installed JDK and the issue still didnt resolve"},{"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"score":0,"creation_date":1689721529,"post_id":76716824,"comment_id":135252915,"body_markdown":"Installed from RedHat","body":"Installed from RedHat"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690769121,"post_id":76716824,"comment_id":135394509,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":27307486,"reputation":68,"user_id":20823202,"display_name":"ealker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724186,"creation_date":1689724186,"answer_id":76717136,"question_id":76716824,"body_markdown":"Make sure you are installing a Java 11 JDK, and not a different version, since that&#39;s what VS Code is asking for.  \r\n\r\nIf you are on linux, there should be options to install older versions of java documented by your distribution. For example, on arch it would be `sudo pacman -S jdk11-openjdk`. If you are on RedHat, as indicated by your comment, it should be `sudo yum install java-11-openjdk`.\r\n\r\nOn windows or mac, you should be able to find prebuilt binaries and installers online. [Here](https://adoptium.net/temurin/releases/) is one link I found, and there are most likely others you can find online. Just make sure to select JDK 11 for whatever you use to install. ","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>Make sure you are installing a Java 11 JDK, and not a different version, since that's what VS Code is asking for.</p>\n<p>If you are on linux, there should be options to install older versions of java documented by your distribution. For example, on arch it would be <code>sudo pacman -S jdk11-openjdk</code>. If you are on RedHat, as indicated by your comment, it should be <code>sudo yum install java-11-openjdk</code>.</p>\n<p>On windows or mac, you should be able to find prebuilt binaries and installers online. <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Here</a> is one link I found, and there are most likely others you can find online. Just make sure to select JDK 11 for whatever you use to install.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689730043,"creation_date":1689730043,"answer_id":76717398,"question_id":76716824,"body_markdown":"Make sure that **JDK 11** or above has been installed on your machine, add the following settings to indicate your JDK path\r\n\r\n```\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk1.8.0_341&quot;,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\r\n            &quot;default&quot;: true,\r\n        }\r\n    ],\r\n```\r\n\r\n**java.jdt.ls.java.home**:\r\n\r\n &gt; Specifies the folder path to the JDK (***17 or more recent***) used to launch the Java Language Server. This setting will replace the Java extension&#39;s embedded JRE to start the Java Language Server.\r\n\r\nYou can also specify or install a new JDK in the following way\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HxJBl.png","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>Make sure that <strong>JDK 11</strong> or above has been installed on your machine, add the following settings to indicate your JDK path</p>\n<pre><code>    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk1.8.0_341&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\n            &quot;default&quot;: true,\n        }\n    ],\n</code></pre>\n<p><strong>java.jdt.ls.java.home</strong>:</p>\n<blockquote>\n<p>Specifies the folder path to the JDK (<em><strong>17 or more recent</strong></em>) used to launch the Java Language Server. This setting will replace the Java extension's embedded JRE to start the Java Language Server.</p>\n</blockquote>\n<p>You can also specify or install a new JDK in the following way</p>\n<p><a href=\"https://i.stack.imgur.com/HxJBl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HxJBl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29044951,"reputation":1,"user_id":22249002,"display_name":"Layth Ishaque"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689730043,"creation_date":1689718383,"question_id":76716824,"body_markdown":"I cant run VS Code encountering this issue: &quot;Java 11 required, but not found. Might have compilation errors.&quot; \r\n\r\nCan somone walk me through how to fix\r\n\r\n[enter image description here](https://i.stack.imgur.com/QkdFs.png)\r\n\r\nI thought I have java downloaded I dont know what to do?","title":"Java 11 required, but not found. Might have compilation errors","body":"<p>I cant run VS Code encountering this issue: &quot;Java 11 required, but not found. Might have compilation errors.&quot;</p>\n<p>Can somone walk me through how to fix</p>\n<p><a href=\"https://i.stack.imgur.com/QkdFs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I thought I have java downloaded I dont know what to do?</p>\n"},{"tags":["java","spring-batch","spring-batch-admin","spring-batch-job-monitoring"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1613998754,"post_id":66244827,"comment_id":117241272,"body_markdown":"How are you packaging and running your app? It seems that your app is looking for a class `META-INF.spring.student.xml` which means the way you are launching your app is incorrect. Please share the command you use to run your app to be able to help you.","body":"How are you packaging and running your app? It seems that your app is looking for a class <code>META-INF.spring.student.xml</code> which means the way you are launching your app is incorrect. Please share the command you use to run your app to be able to help you."},{"owner":{"account_id":19652504,"reputation":11,"user_id":14385935,"display_name":"Abhas Jain"},"score":0,"creation_date":1614063477,"post_id":66244827,"comment_id":117262750,"body_markdown":"I have use eclipse to run project by using Run configuration","body":"I have use eclipse to run project by using Run configuration"}],"answers":[{"comments":[{"owner":{"account_id":19652504,"reputation":11,"user_id":14385935,"display_name":"Abhas Jain"},"score":0,"creation_date":1613736090,"post_id":66257445,"comment_id":117174274,"body_markdown":"Still it is not working getting same exception","body":"Still it is not working getting same exception"}],"tags":[],"owner":{"account_id":18710561,"reputation":448,"user_id":13640736,"display_name":"SOUMEN K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613641947,"creation_date":1613641947,"answer_id":66257445,"question_id":66244827,"body_markdown":"Try putting it outside `META-INF` and add the below VM argument - \r\n\r\n`spring/student.xml`\r\n\r\n","title":"Could not find or load main class while passing class a argument spring batch job","body":"<p>Try putting it outside <code>META-INF</code> and add the below VM argument -</p>\n<p><code>spring/student.xml</code></p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614067506,"creation_date":1614067506,"answer_id":66329249,"question_id":66244827,"body_markdown":"&gt; Run As VM argument : META-INF/spring/student.xml student\r\n\r\nYou need to select `demoRunner` as the main class to run and pass the input file and job name `META-INF/spring/student.xml student` as &quot;Program argument&quot; and *not* as &quot;VM argument&quot;.","title":"Could not find or load main class while passing class a argument spring batch job","body":"<blockquote>\n<p>Run As VM argument : META-INF/spring/student.xml student</p>\n</blockquote>\n<p>You need to select <code>demoRunner</code> as the main class to run and pass the input file and job name <code>META-INF/spring/student.xml student</code> as &quot;Program argument&quot; and <em>not</em> as &quot;VM argument&quot;.</p>\n"}],"owner":{"account_id":19652504,"reputation":11,"user_id":14385935,"display_name":"Abhas Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689729729,"creation_date":1613575023,"question_id":66244827,"body_markdown":"\r\n```java\r\npublic class demoRunner extends CommandLineJobRunner {\r\n    public static void main(String[] args) throws Exception {\r\n        // initialize fileappender here\r\n        String logFile = args[args.length - 1].split(&quot;=&quot;)[1];\r\n        DemoAppender.initializeAppender(logFile);\r\n        CommandLineJobRunner.main(args);\r\n    }\r\n}\r\n```\r\n**Run As VM argument** : `META-INF/spring/student.xml student`\r\n\r\nstudent is a job\r\n\r\n**Location of demoRunner.java**: `demoBatchJob\\src\\main\\java\\com\\ncs\\sma\\runner\\demoRunner.java`\r\n\r\n**Location of stduent.xml**: `demoBatchJob\\src\\main\\resources\\META-INF\\spring\\student.xml`\r\n\r\n## Exception:\r\n\r\nError: Could not find or load main class META-INF.spring.student.xml\r\nCaused by: java.lang.ClassNotFoundException: META-INF.spring.student.xml\r\n","title":"Could not find or load main class while passing class a argument spring batch job","body":"<pre class=\"lang-java prettyprint-override\"><code>public class demoRunner extends CommandLineJobRunner {\n    public static void main(String[] args) throws Exception {\n        // initialize fileappender here\n        String logFile = args[args.length - 1].split(&quot;=&quot;)[1];\n        DemoAppender.initializeAppender(logFile);\n        CommandLineJobRunner.main(args);\n    }\n}\n</code></pre>\n<p><strong>Run As VM argument</strong> : <code>META-INF/spring/student.xml student</code></p>\n<p>student is a job</p>\n<p><strong>Location of demoRunner.java</strong>: <code>demoBatchJob\\src\\main\\java\\com\\ncs\\sma\\runner\\demoRunner.java</code></p>\n<p><strong>Location of stduent.xml</strong>: <code>demoBatchJob\\src\\main\\resources\\META-INF\\spring\\student.xml</code></p>\n<h2>Exception:</h2>\n<p>Error: Could not find or load main class META-INF.spring.student.xml\nCaused by: java.lang.ClassNotFoundException: META-INF.spring.student.xml</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","automation-testing"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1689743309,"post_id":76717375,"comment_id":135254652,"body_markdown":"Is `C:\\\\Users\\\\Downloads\\\\...` correct? I would expect `C:\\\\Users\\\\SOMEUSERNAME\\\\Downloads\\\\...`","body":"Is <code>C:\\\\Users\\\\Downloads\\\\...</code> correct? I would expect <code>C:\\\\Users\\\\SOMEUSERNAME\\\\Downloads\\\\...</code>"}],"owner":{"account_id":18685876,"reputation":1,"user_id":13621390,"display_name":"Naveen Nataraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689729681,"creation_date":1689729681,"question_id":76717375,"body_markdown":"`Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 18032\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n\r\n  (chrome not reachable)\r\n\r\n     (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n\r\n    Host info: host: &#39;RDS-EX-HOST1&#39;, ip: &#39;192.168.1.203&#39;\r\n\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\n\r\nSystem info: os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]\r\n\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n\tat Intro.main(Intro.java:19)`\r\n\r\nChrome driver version - 114.0.5735.90\r\nChrome version - 114.0.5735.199\r\n\r\nrunning on virtual machine\r\n\r\nCODE:\r\n\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n\t\r\n\t    System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t    ChromeOptions co = new ChromeOptions();\r\n\t    co.addArguments(&quot;--headless&quot;);\r\n\t    co.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t    co.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t    WebDriver driver = new ChromeDriver();\r\n\t    driver.get(&quot;https://google.com&quot;);\r\n\r\n    }\r\n```","title":"Selenium JAVA crashing chrome as soon as its launched","body":"<p>`Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 18032\nOnly local connections are allowed.\nPlease see <a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.</p>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.</p>\n<p>(chrome not reachable)</p>\n<pre><code> (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \n\nHost info: host: 'RDS-EX-HOST1', ip: '192.168.1.203'\n</code></pre>\n<p>Build info: version: '4.9.1', revision: 'eb2032df7f'</p>\n<p>System info: os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: org.openqa.selenium.chrome.ChromeDriver</p>\n<p>Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}]}]</p>\n<pre><code>at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\nat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\nat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\nat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\nat Intro.main(Intro.java:19)`\n</code></pre>\n<p>Chrome driver version - 114.0.5735.90\nChrome version - 114.0.5735.199</p>\n<p>running on virtual machine</p>\n<p>CODE:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n    \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        ChromeOptions co = new ChromeOptions();\n        co.addArguments(&quot;--headless&quot;);\n        co.addArguments(&quot;--remote-allow-origins=*&quot;);\n        co.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1688721637,"post_id":76635584,"comment_id":135114790,"body_markdown":"junior developers tend to violate `#equals` contract.","body":"junior developers tend to violate <code>#equals</code> contract."}],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689728374,"creation_date":1688721416,"question_id":76635584,"body_markdown":"I was checking to see how TestNG implements `assertEquals(Object, Object)` and found that at the lowest level, it&#39;s this:\r\n\r\n```\r\nprivate static boolean areEqualImpl(Object actual, Object expected) {\r\n    if (expected == null &amp;&amp; actual == null) {\r\n        return true;\r\n    } else if (expected != null &amp;&amp; actual != null) {\r\n        return expected.equals(actual) &amp;&amp; actual.equals(expected);\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nWhat is the reason for the check `expected.equals(actual) &amp;&amp; actual.equals(expected)`, when `expected.equals(actual)` alone should suffice?","title":"Why does TestNG&#39;s implementation of assertEquals check both ways?","body":"<p>I was checking to see how TestNG implements <code>assertEquals(Object, Object)</code> and found that at the lowest level, it's this:</p>\n<pre><code>private static boolean areEqualImpl(Object actual, Object expected) {\n    if (expected == null &amp;&amp; actual == null) {\n        return true;\n    } else if (expected != null &amp;&amp; actual != null) {\n        return expected.equals(actual) &amp;&amp; actual.equals(expected);\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>What is the reason for the check <code>expected.equals(actual) &amp;&amp; actual.equals(expected)</code>, when <code>expected.equals(actual)</code> alone should suffice?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1689725952,"post_id":76717210,"comment_id":135253313,"body_markdown":"What do you expect to happen? You never do anything with the value returned by `compress` (print it, or even store it in a variable).","body":"What do you expect to happen? You never do anything with the value returned by <code>compress</code> (print it, or even store it in a variable)."},{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1689726345,"post_id":76717210,"comment_id":135253344,"body_markdown":"Print it like System.out.println(&quot;Compressed string is : &quot; + compress(str));\n\nYou are not printing result currently.","body":"Print it like System.out.println(&quot;Compressed string is : &quot; + compress(str));  You are not printing result currently."},{"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"score":0,"creation_date":1689726704,"post_id":76717210,"comment_id":135253366,"body_markdown":"I have updated the code. I figured that out but still, the number count ain&#39;t printing.","body":"I have updated the code. I figured that out but still, the number count ain&#39;t printing."},{"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"score":0,"creation_date":1689728162,"post_id":76717210,"comment_id":135253487,"body_markdown":"I got it, the Integer count = 0 should be changed to Integer count =1. I was taking it 0 = even when it was 1 thus creating fuss at the output","body":"I got it, the Integer count = 0 should be changed to Integer count =1. I was taking it 0 = even when it was 1 thus creating fuss at the output"}],"owner":{"account_id":29045285,"reputation":1,"user_id":22249258,"display_name":"Yash Tambi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689727882,"creation_date":1689725508,"question_id":76717210,"body_markdown":"I want to compress the string using `StringBuilder` but the code is not working as expected. It is simply returning the print statement.\r\n\r\n    import java.util.*;\r\n    public class string_compression {\r\n\r\n        public static String compress(String str){\r\n    \r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    \r\n            for(int i=0;i&lt;str.length();i++){\r\n                Integer count =0;\r\n                while(i&lt;str.length()-1 &amp;&amp; str.charAt(i)==str.charAt(i+1)){\r\n                    count++;\r\n                    i++;\r\n                }\r\n                sb=sb.append(str.charAt(i));\r\n                if(count&gt;1){\r\n                    sb = sb.append(str.charAt(i));\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your string: &quot;);\r\n            String str = sc.nextLine();\r\n    \r\n            System.out.println(&quot;Compressed string is : &quot;);\r\n            System.out.println(compress(str));\r\n            sc.close();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"why is this StringBuilder code not giving the desired output","body":"<p>I want to compress the string using <code>StringBuilder</code> but the code is not working as expected. It is simply returning the print statement.</p>\n<pre><code>import java.util.*;\npublic class string_compression {\n\n    public static String compress(String str){\n\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n\n        for(int i=0;i&lt;str.length();i++){\n            Integer count =0;\n            while(i&lt;str.length()-1 &amp;&amp; str.charAt(i)==str.charAt(i+1)){\n                count++;\n                i++;\n            }\n            sb=sb.append(str.charAt(i));\n            if(count&gt;1){\n                sb = sb.append(str.charAt(i));\n            }\n        }\n        return sb.toString();\n    }\n\n    public static void main(String[] args) {\n    \n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your string: &quot;);\n        String str = sc.nextLine();\n\n        System.out.println(&quot;Compressed string is : &quot;);\n        System.out.println(compress(str));\n        sc.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689752886,"post_id":76717270,"comment_id":135256095,"body_markdown":"If I understand correctly, you should be able to write `&lt;if test=&quot;input.b instanceof xxx.yyy.ConcA&quot;&gt;`.","body":"If I understand correctly, you should be able to write <code>&lt;if test=&quot;input.b instanceof xxx.yyy.ConcA&quot;&gt;</code>."}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689726958,"creation_date":1689726958,"question_id":76717270,"body_markdown":"Hello we are using MyBatis to interact with our Postgres cluster in our Java service. We have a table (assume name is `testing`) where we perform select query on our table via xml. The input to our select query is an object whose one attribute could be one of the concrete implementations of an abstract class. How do I figure out in mybatis which concrete implementation of the abstract class this is and based on that add some `WHERE` clauses to my `SELECT` query.\r\n\r\n```\r\npublic class InputA {\r\n  int a;\r\n  BaseClass b;\r\n}\r\n\r\npublic abstract class BaseClass b {\r\n  String alpha;\r\n}\r\n\r\npublic class ConcA extends BaseClass {\r\n  String beta;\r\n}\r\n\r\npublic class ConcB extends BaseClass {\r\n  String gamma;\r\n}\r\n\r\n// Select query - \r\n\r\nSelect * from testing\r\nwhere \r\n&lt;if test=&quot;input.b.type == &#39;ConcA&#39;&quot;&gt; // Is this supported?\r\n  testing.beta = input.b.beta\r\n&lt;/if&gt;\r\n\r\n```","title":"Mybatis xml how to work with concrete implements of abstract class","body":"<p>Hello we are using MyBatis to interact with our Postgres cluster in our Java service. We have a table (assume name is <code>testing</code>) where we perform select query on our table via xml. The input to our select query is an object whose one attribute could be one of the concrete implementations of an abstract class. How do I figure out in mybatis which concrete implementation of the abstract class this is and based on that add some <code>WHERE</code> clauses to my <code>SELECT</code> query.</p>\n<pre><code>public class InputA {\n  int a;\n  BaseClass b;\n}\n\npublic abstract class BaseClass b {\n  String alpha;\n}\n\npublic class ConcA extends BaseClass {\n  String beta;\n}\n\npublic class ConcB extends BaseClass {\n  String gamma;\n}\n\n// Select query - \n\nSelect * from testing\nwhere \n&lt;if test=&quot;input.b.type == 'ConcA'&quot;&gt; // Is this supported?\n  testing.beta = input.b.beta\n&lt;/if&gt;\n\n</code></pre>\n"},{"tags":["java","websocket","java-websocket"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689725723,"post_id":30293079,"comment_id":135253293,"body_markdown":"You need to `start` a *thread.* `Runnable` is *not* a class, and it doesn&#39;t have a `start()` method.","body":"You need to <code>start</code> a <i>thread.</i> <code>Runnable</code> is <i>not</i> a class, and it doesn&#39;t have a <code>start()</code> method."}],"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1441449652,"creation_date":1431904357,"answer_id":30293079,"question_id":30293023,"body_markdown":"You need to `start()` `Runnable` class, **not** `run()` it directly\r\n\r\n    server.start();\r\n\r\ninstead of \r\n\r\n    server.run();","title":"Websocket server.run() don&#39;t allow followed codes to start","body":"<p>You need to <code>start()</code> <code>Runnable</code> class, <strong>not</strong> <code>run()</code> it directly</p>\n\n<pre><code>server.start();\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>server.run();\n</code></pre>\n"}],"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30293079,"answer_count":1,"score":1,"last_activity_date":1689725826,"creation_date":1431903884,"question_id":30293023,"body_markdown":"I have the following web socket server code from [GitHub](https://github.com/TooTallNate/Java-WebSocket):\r\n\r\n    public class WebsocketServer extends WebSocketServer {\r\n    \r\n        private static int PORT = 2005;\r\n    \r\n        private Set&lt;WebSocket&gt; conns;\r\n    \r\n        public WebsocketServer() {\r\n            super(new InetSocketAddress(PORT));\r\n            conns = new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\r\n            conns.add(conn);\r\n            System.out.println(&quot;New connection from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        @Override\r\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\r\n            conns.remove(conn);\r\n            System.out.println(&quot;Closed connection to &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        @Override\r\n        public void onMessage(WebSocket conn, String message) {\r\n            System.out.println(&quot;Received: &quot; + message);\r\n    \r\n            for (WebSocket sock : conns) {\r\n                sock.send(messageToSend);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onError(WebSocket conn, Exception ex) {\r\n            ex.printStackTrace();\r\n            if (conn != null) {\r\n                conns.remove(conn);\r\n                // do some thing if required\r\n            }\r\n            System.out.println(&quot;ERROR from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            WebsocketServer server = new WebsocketServer();\r\n            server.run();\r\n    \r\n            BufferedReader sysin = new BufferedReader(new InputStreamReader(System.in));\r\n            while (true) {\r\n                String in = sysin.readLine();\r\n                server.sendToAll(in);\r\n                if (in.equals(&quot;exit&quot;)) {\r\n                    server.stop();\r\n                    break;\r\n                } else if (in.equals(&quot;restart&quot;)) {\r\n                    server.stop();\r\n                    server.start();\r\n                    break;\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public void sendToAll(String text) {\r\n            Collection&lt;WebSocket&gt; con = connections();\r\n            synchronized (con) {\r\n                for (WebSocket c : con) {\r\n                    c.send(text);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe code work&lt;code&gt; fine, but all code that come&lt;code&gt; after `server.run();` won&#39;t start/work! In that part, I need to send messages from the Java console to the client.\r\n\r\nWhat I am doing wrong?\r\n\r\n**Note:** My client works in JavaScript and can connect to the server.","title":"Websocket server.run() don&#39;t allow followed codes to start","body":"<p>I have the following web socket server code from <a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"nofollow noreferrer\">GitHub</a>:</p>\n<pre><code>public class WebsocketServer extends WebSocketServer {\n\n    private static int PORT = 2005;\n\n    private Set&lt;WebSocket&gt; conns;\n\n    public WebsocketServer() {\n        super(new InetSocketAddress(PORT));\n        conns = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public void onOpen(WebSocket conn, ClientHandshake handshake) {\n        conns.add(conn);\n        System.out.println(&quot;New connection from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    @Override\n    public void onClose(WebSocket conn, int code, String reason, boolean remote) {\n        conns.remove(conn);\n        System.out.println(&quot;Closed connection to &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    @Override\n    public void onMessage(WebSocket conn, String message) {\n        System.out.println(&quot;Received: &quot; + message);\n\n        for (WebSocket sock : conns) {\n            sock.send(messageToSend);\n        }\n    }\n\n    @Override\n    public void onError(WebSocket conn, Exception ex) {\n        ex.printStackTrace();\n        if (conn != null) {\n            conns.remove(conn);\n            // do some thing if required\n        }\n        System.out.println(&quot;ERROR from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n    }\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        WebsocketServer server = new WebsocketServer();\n        server.run();\n\n        BufferedReader sysin = new BufferedReader(new InputStreamReader(System.in));\n        while (true) {\n            String in = sysin.readLine();\n            server.sendToAll(in);\n            if (in.equals(&quot;exit&quot;)) {\n                server.stop();\n                break;\n            } else if (in.equals(&quot;restart&quot;)) {\n                server.stop();\n                server.start();\n                break;\n            }\n        }\n\n    }\n\n    public void sendToAll(String text) {\n        Collection&lt;WebSocket&gt; con = connections();\n        synchronized (con) {\n            for (WebSocket c : con) {\n                c.send(text);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The code work<code> fine, but all code that come after server.run();</code> won't start/work! In that part, I need to send messages from the Java console to the client.</p>\n<p>What I am doing wrong?</p>\n<p><strong>Note:</strong> My client works in JavaScript and can connect to the server.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689724013,"post_id":76717117,"comment_id":135253153,"body_markdown":"`T` doesn&#39;t extend `Comparable`.","body":"<code>T</code> doesn&#39;t extend <code>Comparable</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689724084,"post_id":76717117,"comment_id":135253160,"body_markdown":"And what&#39;s `GroupB`? Please edit your question to be a complete example, which compiles, except for that single error.","body":"And what&#39;s <code>GroupB</code>? Please edit your question to be a complete example, which compiles, except for that single error."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1689724163,"post_id":76717117,"comment_id":135253173,"body_markdown":"I see that `BGroup` ensures `T` is comparable (assuming `GroupB = B`), but that doesn&#39;t help `A`. What would you expect to happen if I create a `class C extends A&lt;Object&gt;` and tried to sort? You need to declare `T extends Comparable&lt;T&gt;` if you want to guarantee `T` is sortable.","body":"I see that <code>BGroup</code> ensures <code>T</code> is comparable (assuming <code>GroupB = B</code>), but that doesn&#39;t help <code>A</code>. What would you expect to happen if I create a <code>class C extends A&lt;Object&gt;</code> and tried to sort? You need to declare <code>T extends Comparable&lt;T&gt;</code> if you want to guarantee <code>T</code> is sortable."},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689724818,"post_id":76717117,"comment_id":135253223,"body_markdown":"@shmosel can you explain how this is different than writing  Class A&lt;T&gt; implements Comparable&lt;T&gt;","body":"@shmosel can you explain how this is different than writing  Class A&lt;T&gt; implements Comparable&lt;T&gt;"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1689725394,"post_id":76717117,"comment_id":135253262,"body_markdown":"`public abstract class A&lt;T extends Comparable&lt;? super T&gt;&gt;`","body":"<code>public abstract class A&lt;T extends Comparable&lt;? super T&gt;&gt;</code>"},{"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"score":0,"creation_date":1689725677,"post_id":76717117,"comment_id":135253287,"body_markdown":"@ElliottFrisch I&#39;ve added a clarification to my question","body":"@ElliottFrisch I&#39;ve added a clarification to my question"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1689728537,"post_id":76717117,"comment_id":135253512,"body_markdown":"@J_code How is it the same? You&#39;re trying to sort instances of `T`, not `A`.","body":"@J_code How is it the same? You&#39;re trying to sort instances of <code>T</code>, not <code>A</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689731855,"post_id":76717117,"comment_id":135253760,"body_markdown":"@J_code `Class A&lt;T&gt; implements Comparable&lt;T&gt;` means that instances of `A` are comparable to instances of `T`, which is not what you want. You want the instances of `T` to be comparable with themselves, so code `Class A&lt;T extends Comparable&lt;T&gt;&gt;`","body":"@J_code <code>Class A&lt;T&gt; implements Comparable&lt;T&gt;</code> means that instances of <code>A</code> are comparable to instances of <code>T</code>, which is not what you want. You want the instances of <code>T</code> to be comparable with themselves, so code <code>Class A&lt;T extends Comparable&lt;T&gt;&gt;</code>"}],"owner":{"account_id":13564201,"reputation":356,"user_id":9784846,"display_name":"J_code"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689725613,"creation_date":1689723717,"question_id":76717117,"body_markdown":"Below is a stripped down version of my implementation structure. Just like how I have a class BGroup that performs operations on individual B classes and extends class A, I have a class CGroup that performs individual operations on individual C classes and extends Class A, and so on and so forth. However at the super.sort() method, I get a compilation error at `Collections.sort(this.list)` that states:\r\n\r\n`reason: no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;`\r\n\r\nI am unsure how to resolve this error. I don&#39;t understand specifically what `Comparable&lt;? super T&gt;` means. Any help is appreciated.\r\n```\r\npublic abstract class A &lt;T&gt; {\r\n     private List&lt;T&gt; list;\r\n\r\n    public A() {\r\n        this.list = new ArrayList&lt;&gt;();\r\n    }\r\n    //Protected methods accessible to class GroubB that act upon this.list\r\n    .\r\n    .\r\n    .\r\n    protected void sort() {\r\n        Collections.sort(this.list);\r\n    }\r\n\r\n    protected void insertElement(T t) {\r\n        this.list.add(t);  \r\n    }\r\n}\r\n\r\npublic final class BGroup extends A &lt;GroupB&gt; {\r\n    public B() {\r\n        super();\r\n    }\r\n\r\n    public void addB(B b) {\r\n        super.insertElement(b);\r\n        super.sort();        \r\n    }\r\n\r\n    //Getter and Setter methods that act upon Generic T\r\n    .\r\n    .\r\n    .\r\n}\r\n\r\npublic final class B implements Comparable&lt;B&gt; {\r\n    private LocalDate date;\r\n\r\n    public Expense(LocalDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public LocalDate getDate() { return date; }\r\n    \r\n    public void setDate (LocalDate date) { this.date = date; }\r\n    \r\n\r\n    @Override\r\n    public int compareTo(B that) {\r\n        return this.getDate().compareTo(that.getDate());\r\n    }\r\n}\r\n\r\n```","title":"no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;","body":"<p>Below is a stripped down version of my implementation structure. Just like how I have a class BGroup that performs operations on individual B classes and extends class A, I have a class CGroup that performs individual operations on individual C classes and extends Class A, and so on and so forth. However at the super.sort() method, I get a compilation error at <code>Collections.sort(this.list)</code> that states:</p>\n<p><code>reason: no instance(s) of type variable(s) T exist so that T conforms to Comparable&lt;? super T&gt;</code></p>\n<p>I am unsure how to resolve this error. I don't understand specifically what <code>Comparable&lt;? super T&gt;</code> means. Any help is appreciated.</p>\n<pre><code>public abstract class A &lt;T&gt; {\n     private List&lt;T&gt; list;\n\n    public A() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    //Protected methods accessible to class GroubB that act upon this.list\n    .\n    .\n    .\n    protected void sort() {\n        Collections.sort(this.list);\n    }\n\n    protected void insertElement(T t) {\n        this.list.add(t);  \n    }\n}\n\npublic final class BGroup extends A &lt;GroupB&gt; {\n    public B() {\n        super();\n    }\n\n    public void addB(B b) {\n        super.insertElement(b);\n        super.sort();        \n    }\n\n    //Getter and Setter methods that act upon Generic T\n    .\n    .\n    .\n}\n\npublic final class B implements Comparable&lt;B&gt; {\n    private LocalDate date;\n\n    public Expense(LocalDate date) {\n        this.date = date;\n    }\n\n    public LocalDate getDate() { return date; }\n    \n    public void setDate (LocalDate date) { this.date = date; }\n    \n\n    @Override\n    public int compareTo(B that) {\n        return this.getDate().compareTo(that.getDate());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","tomcat","startup","rhel","tomcat9"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1689720633,"post_id":76716938,"comment_id":135252822,"body_markdown":"What if you try `export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64&quot;`?","body":"What if you try <code>export JAVA_HOME=&quot;&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-1.8.0.372.b07-1.e&zwnj;&#8203;l7_9.x86_64&quot;</code>?"},{"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"score":0,"creation_date":1689720779,"post_id":76716938,"comment_id":135252838,"body_markdown":"Looks like same deal:\nThe JAVA_HOME environment variable is not defined correctly\nJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE","body":"Looks like same deal: The JAVA_HOME environment variable is not defined correctly JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el&zwnj;&#8203;7_9.x86_64/ This environment variable is needed to run this program NB: JAVA_HOME should point to a JDK not a JRE"},{"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"score":0,"creation_date":1689722462,"post_id":76716938,"comment_id":135253008,"body_markdown":"I ran &quot;java -version&quot; and it is showing &quot;Java(TM) SE Runtime Environment (build 1.8.0_381-b09)&quot;... Why is JRE installed when I installed the JDK???","body":"I ran &quot;java -version&quot; and it is showing &quot;Java(TM) SE Runtime Environment (build 1.8.0_381-b09)&quot;... Why is JRE installed when I installed the JDK???"}],"answers":[{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1689949840,"post_id":76717151,"comment_id":135289637,"body_markdown":"Please use the comment feature to add information like that or edit your question if the new information is relevant for the question itself too.","body":"Please use the comment feature to add information like that or edit your question if the new information is relevant for the question itself too."}],"tags":[],"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724504,"creation_date":1689724504,"answer_id":76717151,"question_id":76716938,"body_markdown":"Still don&#39;t understand but... Originally I installed  JAVA JDK 8 update 381 (jdk-8u381-linux-x64.rpm).  I downloaded a new version of JAVA JDK 19 (jdk-19.0.2_linux-x64_bin.rpm), ran the RPM installation, set the environment variable to &quot;export JAVA_HOME=&quot;/usr/lib/jvm/jdk-19-oracle-x64/&quot;&quot; and tomcat started without issues.","title":"Can&#39;t start Tomcat - JDK installed but Tomcat says &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;","body":"<p>Still don't understand but... Originally I installed  JAVA JDK 8 update 381 (jdk-8u381-linux-x64.rpm).  I downloaded a new version of JAVA JDK 19 (jdk-19.0.2_linux-x64_bin.rpm), ran the RPM installation, set the environment variable to &quot;export JAVA_HOME=&quot;/usr/lib/jvm/jdk-19-oracle-x64/&quot;&quot; and tomcat started without issues.</p>\n"}],"owner":{"account_id":16642236,"reputation":21,"user_id":12027450,"display_name":"BuddyLee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689724504,"creation_date":1689720421,"question_id":76716938,"body_markdown":"I&#39;m running RHEL 7.9 and ran RPM to install JAVA 8 update 372, then un-tar&#39;d my Tomcat packages so everything is &quot;installed&quot;.  Then I set my .bashrc to:\r\n\r\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/jre/bin/&quot;\r\n\r\nSo my $JAVA_HOME variable appears to work, but when I run my startup.sh script for tomcat I&#39;m getting the error &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;.  I&#39;m confused because I installed the JDK and not the JRE and I&#39;m not finding any good threads about this.  Does anyone have a suggestion?\r\n\r\nThanks\r\n\r\n\r\nRan a few different variations of .bashrc to no avail.  Should I not point to the bin folder of my tomcat install?","title":"Can&#39;t start Tomcat - JDK installed but Tomcat says &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;","body":"<p>I'm running RHEL 7.9 and ran RPM to install JAVA 8 update 372, then un-tar'd my Tomcat packages so everything is &quot;installed&quot;.  Then I set my .bashrc to:</p>\n<p>export JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el7_9.x86_64/jre/bin/&quot;</p>\n<p>So my $JAVA_HOME variable appears to work, but when I run my startup.sh script for tomcat I'm getting the error &quot;NB: JAVA_HOME should point to a JDK not a JRE&quot;.  I'm confused because I installed the JDK and not the JRE and I'm not finding any good threads about this.  Does anyone have a suggestion?</p>\n<p>Thanks</p>\n<p>Ran a few different variations of .bashrc to no avail.  Should I not point to the bin folder of my tomcat install?</p>\n"},{"tags":["java","spring-boot","grafana","logback","opensearch"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1689725827,"post_id":76717150,"comment_id":135253302,"body_markdown":"This might help you. Try JSONEventLayoutV1 instead of JsonLayout as layout.\n\nhttps://github.com/logstash/log4j-jsonevent-layout","body":"This might help you. Try JSONEventLayoutV1 instead of JsonLayout as layout.  <a href=\"https://github.com/logstash/log4j-jsonevent-layout\" rel=\"nofollow noreferrer\">github.com/logstash/log4j-jsonevent-layout</a>"}],"owner":{"account_id":21551112,"reputation":21,"user_id":15887207,"display_name":"pickstar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689724435,"creation_date":1689724435,"question_id":76717150,"body_markdown":"I&#39;m setting up logging in a Spring Boot microservice. I want the logs to be displayed in json format (ideally in pretty-print format). The logs should display correctly both in my IDE and in a visualization system (such as OpenSearch, Grafana, etc.).\r\nThe problem lies in the display of logs in the visualization system:\r\n\r\n**1 option. Pretty print format (logback.xml)**\r\n\r\n    &lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\r\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n**Problem: Each line of json will be logged separately.**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**2 option. Custom pattern (logback.xml)**\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp&gt;\r\n                    &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n                &lt;/timestamp&gt;\r\n                &lt;mdc/&gt;\r\n                &lt;pattern&gt;\r\n                    &lt;pattern&gt;\r\n                        {\r\n                        &quot;method&quot;: &quot;%mdc{method}&quot;,\r\n                        &quot;url&quot;: &quot;%mdc{url}&quot;,\r\n                        &quot;level&quot;: &quot;%level&quot;,\r\n                        &quot;thread&quot;: &quot;%thread&quot;,\r\n                        &quot;logger&quot;: &quot;%logger&quot;,\r\n                        &quot;message&quot;: &quot;%message&quot;\r\n                        }\r\n                    &lt;/pattern&gt;\r\n                &lt;/pattern&gt;\r\n                &lt;stackTrace/&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n**Problem: Separate logs are collected into one log.**\r\n[![enter image description here][2]][2]\r\n\r\n**Dependencies (pom.xml):** Spring Boot version 3.0.1.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PHSZk.png\r\n  [2]: https://i.stack.imgur.com/5kZ0L.png","title":"Can&#39;t output logs in JSON pretty print format using logback","body":"<p>I'm setting up logging in a Spring Boot microservice. I want the logs to be displayed in json format (ideally in pretty-print format). The logs should display correctly both in my IDE and in a visualization system (such as OpenSearch, Grafana, etc.).\nThe problem lies in the display of logs in the visualization system:</p>\n<p><strong>1 option. Pretty print format (logback.xml)</strong></p>\n<pre><code>&lt;configuration&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n        &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n            &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\n            &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n            &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>Problem: Each line of json will be logged separately.</strong>\n<a href=\"https://i.stack.imgur.com/PHSZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHSZk.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2 option. Custom pattern (logback.xml)</strong></p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n        &lt;providers&gt;\n            &lt;timestamp&gt;\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;/timestamp&gt;\n            &lt;mdc/&gt;\n            &lt;pattern&gt;\n                &lt;pattern&gt;\n                    {\n                    &quot;method&quot;: &quot;%mdc{method}&quot;,\n                    &quot;url&quot;: &quot;%mdc{url}&quot;,\n                    &quot;level&quot;: &quot;%level&quot;,\n                    &quot;thread&quot;: &quot;%thread&quot;,\n                    &quot;logger&quot;: &quot;%logger&quot;,\n                    &quot;message&quot;: &quot;%message&quot;\n                    }\n                &lt;/pattern&gt;\n            &lt;/pattern&gt;\n            &lt;stackTrace/&gt;\n        &lt;/providers&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>Problem: Separate logs are collected into one log.</strong>\n<a href=\"https://i.stack.imgur.com/5kZ0L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kZ0L.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Dependencies (pom.xml):</strong> Spring Boot version 3.0.1.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","sonarlint-intellij"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689718680,"post_id":76716826,"comment_id":135252638,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":1110957,"reputation":105,"user_id":1101422,"accept_rate":86,"display_name":"Harini"},"score":0,"creation_date":1689719983,"post_id":76716826,"comment_id":135252770,"body_markdown":"@TimMoore I know what a raw type is. The problem I m facing is how to apply that to a generic class like the one I have","body":"@TimMoore I know what a raw type is. The problem I m facing is how to apply that to a generic class like the one I have"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689722475,"post_id":76716826,"comment_id":135253010,"body_markdown":"You need to provide values for the type parameters wherever you use the generic type. I’m not sure what values are right for your use case, because the question doesn’t describe it, but I would guess you want wildcards `?`","body":"You need to provide values for the type parameters wherever you use the generic type. I’m not sure what values are right for your use case, because the question doesn’t describe it, but I would guess you want wildcards <code>?</code>"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689724369,"creation_date":1689724369,"answer_id":76717146,"question_id":76716826,"body_markdown":"To get rid of the raw type warnings, values need to be provided for the type parameters of `IndicesStrategy` wherever that type is used in `IndicesFactory`. It appears that this class needs to handle different types of `IndicesStrategy`, so it can use type wildcards (`?`) as the values:\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class IndicesFactory {\r\n\r\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\r\n\r\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt;\r\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n\r\n    private IndicesStrategy&lt;?, ?, ?&gt; getStrategy(String operation) {\r\n        return this.indicesMap.get(operation);\r\n    }\r\n\r\n\r\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\r\n        IndicesStrategy&lt;?, T, R&gt; strategy =\r\n                (IndicesStrategy&lt;?, T, R&gt;) getStrategy(operation);\r\n        return strategy.execute(t);\r\n    }\r\n}\r\n```\r\n\r\nAs an alternative equivalent, you might prefer to move the unchecked cast into the `getStrategy` method:\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class IndicesFactory {\r\n\r\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\r\n\r\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt;\r\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n\r\n    private &lt;T, R extends IndicesResponse&gt; IndicesStrategy&lt;?, T, R&gt; getStrategy(String operation) {\r\n        return (IndicesStrategy&lt;?, T, R&gt;) this.indicesMap.get(operation);\r\n    }\r\n\r\n\r\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\r\n        IndicesStrategy&lt;?, T, R&gt; strategy = getStrategy(operation);\r\n        return strategy.execute(t);\r\n    }\r\n}\r\n```","title":"Sonar lint fix for generic class","body":"<p>To get rid of the raw type warnings, values need to be provided for the type parameters of <code>IndicesStrategy</code> wherever that type is used in <code>IndicesFactory</code>. It appears that this class needs to handle different types of <code>IndicesStrategy</code>, so it can use type wildcards (<code>?</code>) as the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class IndicesFactory {\n\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\n\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\n        this.indicesMap = new HashMap&lt;&gt;();\n        indicesStrategyList.forEach(strategy -&gt;\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\n    }\n\n    private IndicesStrategy&lt;?, ?, ?&gt; getStrategy(String operation) {\n        return this.indicesMap.get(operation);\n    }\n\n\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\n        IndicesStrategy&lt;?, T, R&gt; strategy =\n                (IndicesStrategy&lt;?, T, R&gt;) getStrategy(operation);\n        return strategy.execute(t);\n    }\n}\n</code></pre>\n<p>As an alternative equivalent, you might prefer to move the unchecked cast into the <code>getStrategy</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class IndicesFactory {\n\n    private final Map&lt;String, IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesMap;\n\n    public IndicesFactory(List&lt;IndicesStrategy&lt;?, ?, ?&gt;&gt; indicesStrategyList) {\n        this.indicesMap = new HashMap&lt;&gt;();\n        indicesStrategyList.forEach(strategy -&gt;\n                this.indicesMap.put(strategy.getOperation().toString(), strategy));\n    }\n\n    private &lt;T, R extends IndicesResponse&gt; IndicesStrategy&lt;?, T, R&gt; getStrategy(String operation) {\n        return (IndicesStrategy&lt;?, T, R&gt;) this.indicesMap.get(operation);\n    }\n\n\n    public &lt;T, R extends IndicesResponse&gt; R execute(String operation, T t) {\n        IndicesStrategy&lt;?, T, R&gt; strategy = getStrategy(operation);\n        return strategy.execute(t);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1110957,"reputation":105,"user_id":1101422,"accept_rate":86,"display_name":"Harini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689724369,"creation_date":1689718404,"question_id":76716826,"body_markdown":"I have the below code to instantiate all the service on the start of the application. Sonar lint on the IndicesFactory is complaining for generic raw type. What is the best way to fix this?\r\n\r\n    public class IndicesFactory {\r\n    \r\n    private final Map&lt;String, IndicesStrategy&gt; indicesMap;\r\n    \r\n    public IndicesFactory(List&lt;IndicesStrategy&gt; indicesStrategyList) {\r\n        this.indicesMap = new HashMap&lt;&gt;();\r\n        indicesStrategyList.forEach(strategy -&gt; this.indicesMap.put(strategy.getOperation().toString(), strategy));\r\n    }\r\n    \r\n    private IndicesStrategy getStrategy(String operation) {\r\n        return this.indicesMap.get(operation);\r\n    }\r\n    \r\n\r\n    public &lt;T, R&gt; R execute(String operation, T t) {\r\n        return (R) getStrategy(operation).execute(t);\r\n    }}\r\n\r\nAnd my IndicesStrategy interface has below code\r\n\r\n   \r\n    public interface IndicesStrategy&lt;operation extends Enum&lt;?&gt;, T, R extends \r\n      IndicesResponse&gt; {\r\n    \r\n    R execute(T t);\r\n    \r\n    operation getOperation();\r\n    }\r\n\r\n","title":"Sonar lint fix for generic class","body":"<p>I have the below code to instantiate all the service on the start of the application. Sonar lint on the IndicesFactory is complaining for generic raw type. What is the best way to fix this?</p>\n<pre><code>public class IndicesFactory {\n\nprivate final Map&lt;String, IndicesStrategy&gt; indicesMap;\n\npublic IndicesFactory(List&lt;IndicesStrategy&gt; indicesStrategyList) {\n    this.indicesMap = new HashMap&lt;&gt;();\n    indicesStrategyList.forEach(strategy -&gt; this.indicesMap.put(strategy.getOperation().toString(), strategy));\n}\n\nprivate IndicesStrategy getStrategy(String operation) {\n    return this.indicesMap.get(operation);\n}\n\n\npublic &lt;T, R&gt; R execute(String operation, T t) {\n    return (R) getStrategy(operation).execute(t);\n}}\n</code></pre>\n<p>And my IndicesStrategy interface has below code</p>\n<pre><code>public interface IndicesStrategy&lt;operation extends Enum&lt;?&gt;, T, R extends \n  IndicesResponse&gt; {\n\nR execute(T t);\n\noperation getOperation();\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":50288,"reputation":2249,"user_id":149956,"display_name":"rochb"},"score":0,"creation_date":1463685995,"post_id":29286907,"comment_id":62182940,"body_markdown":"See http://stackoverflow.com/questions/28081401/dynamodbmapper-for-conditional-saves","body":"See <a href=\"http://stackoverflow.com/questions/28081401/dynamodbmapper-for-conditional-saves\" title=\"dynamodbmapper for conditional saves\">stackoverflow.com/questions/28081401/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3009359,"reputation":588,"user_id":2553187,"accept_rate":40,"display_name":"aalosious"},"score":2,"creation_date":1485780931,"post_id":29287664,"comment_id":71053105,"body_markdown":"shouldn&#39;t it be withExists(false)?","body":"shouldn&#39;t it be withExists(false)?"},{"owner":{"account_id":3997109,"reputation":1605,"user_id":3294286,"accept_rate":67,"display_name":"Sebastian D&#39;Agostino"},"score":0,"creation_date":1496864126,"post_id":29287664,"comment_id":75841202,"body_markdown":"A parenthesis is missing after (&quot;READY&quot;)\nHere is the correct line: expected.put(&quot;status&quot;, new ExpectedAttributeValue(new AttributeValue(&quot;READY&quot;)).withExists(true));","body":"A parenthesis is missing after (&quot;READY&quot;) Here is the correct line: expected.put(&quot;status&quot;, new ExpectedAttributeValue(new AttributeValue(&quot;READY&quot;)).withExists(true));"},{"owner":{"account_id":17040,"reputation":2357,"user_id":37760,"accept_rate":43,"display_name":"Corin"},"score":0,"creation_date":1528227139,"post_id":29287664,"comment_id":88424336,"body_markdown":"-1 as this answer only saves when the item already exists in the table.  This is the opposite of the result desired by the question.","body":"-1 as this answer only saves when the item already exists in the table.  This is the opposite of the result desired by the question."},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1528297971,"post_id":29287664,"comment_id":88456005,"body_markdown":"changed to fix the boolean state (oops)","body":"changed to fix the boolean state (oops)"},{"owner":{"account_id":245719,"reputation":9861,"user_id":519383,"display_name":"juan.facorro"},"score":0,"creation_date":1542020026,"post_id":29287664,"comment_id":93405558,"body_markdown":"Edited the answer since when using `.withExists(false)` there must not be a value provided.","body":"Edited the answer since when using <code>.withExists(false)</code> there must not be a value provided."},{"owner":{"account_id":2337240,"reputation":397,"user_id":2049279,"accept_rate":45,"display_name":"ufdeveloper"},"score":0,"creation_date":1542586881,"post_id":29287664,"comment_id":93610299,"body_markdown":"Does this make an additional read on the table? I believe it does!","body":"Does this make an additional read on the table? I believe it does!"},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1542653302,"post_id":29287664,"comment_id":93637406,"body_markdown":"No - it&#39;s all handled during the write","body":"No - it&#39;s all handled during the write"}],"tags":[],"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"comment_count":7,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1542019922,"creation_date":1427399800,"answer_id":29287664,"question_id":29286907,"body_markdown":"I believe you should be able to do this with a [DynamoDbSaveExpression][1] object that can apply to the mapper.\r\n\r\nThere&#39;s a tutorial on the AWS site [here][2], code shown below:\r\n\r\n    try {\r\n        DynamoDBSaveExpression saveExpression = new       DynamoDBSaveExpression();\r\n        Map expected = new HashMap();\r\n        expected.put(&quot;status&quot;, new ExpectedAttributeValue().withExists(false));\r\n \r\n        saveExpression.setExpected(expected);\r\n \r\n        mapper.save(obj, saveExpression);\r\n    } catch (ConditionalCheckFailedException e) {\r\n        // This means our save wasn&#39;t recorded, since our constraint wasn&#39;t met\r\n        // If this happens, the worker can simply look for a new task to work on\r\n    }\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBSaveExpression.html\r\n  [2]: https://java.awsblog.com/post/Tx1JADUVTWF7SP2/Specifying-Conditional-Constraints-with-Amazon-DynamoDB-Mapper","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>I believe you should be able to do this with a <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBSaveExpression.html\" rel=\"noreferrer\">DynamoDbSaveExpression</a> object that can apply to the mapper.</p>\n\n<p>There's a tutorial on the AWS site <a href=\"https://java.awsblog.com/post/Tx1JADUVTWF7SP2/Specifying-Conditional-Constraints-with-Amazon-DynamoDB-Mapper\" rel=\"noreferrer\">here</a>, code shown below:</p>\n\n<pre><code>try {\n    DynamoDBSaveExpression saveExpression = new       DynamoDBSaveExpression();\n    Map expected = new HashMap();\n    expected.put(\"status\", new ExpectedAttributeValue().withExists(false));\n\n    saveExpression.setExpected(expected);\n\n    mapper.save(obj, saveExpression);\n} catch (ConditionalCheckFailedException e) {\n    // This means our save wasn't recorded, since our constraint wasn't met\n    // If this happens, the worker can simply look for a new task to work on\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495479599,"creation_date":1494958262,"answer_id":44008706,"question_id":29286907,"body_markdown":"Here&#39;s the correct way to implement this with the DynamoDBMapper:\r\n\r\n    User newUser = new User();\r\n    newUser.setUsername(username);\r\n    newUser.setPassword(password);\r\n\r\n    DynamoDBSaveExpression saveExpr = new DynamoDBSaveExpression();\r\n    saveExpr.setExpected(new ImmutableMap.Builder()\r\n    .put(&quot;username&quot;, new ExpectedAttributeValue(false)).build());\r\n\r\n    dynamoDBMapper.save(newUser, saveExpr);\r\n\r\nSource: https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/\r\n\r\nEDIT: Here&#39;s my implementation of it in practice. Extremely easy to implement:\r\n\r\n    public Statement saveIfNotExist(Statement statement) throws ConditionalCheckFailedException {\r\n        return mapper.save(statement, new DynamoDBSaveExpression().withExpected(ImmutableMap.of(&quot;id&quot;, new ExpectedAttributeValue(false))));\r\n    }\r\n\r\nwith passing unit test:\r\n\r\n    @Test(expectedExceptions = ConditionalCheckFailedException.class)\r\n    public void shouldNotProcessIdenticalStatementUpdateInstances() {\r\n        Statement statement1 = StatementTestBuilder.valid().build();\r\n        Statement statement2 = StatementTestBuilder.valid().withId(statement1.getId()).build();\r\n\r\n        statementRepository.saveIfNotExist(statement1);\r\n        statementRepository.saveIfNotExist(statement2);\r\n    }","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>Here's the correct way to implement this with the DynamoDBMapper:</p>\n\n<pre><code>User newUser = new User();\nnewUser.setUsername(username);\nnewUser.setPassword(password);\n\nDynamoDBSaveExpression saveExpr = new DynamoDBSaveExpression();\nsaveExpr.setExpected(new ImmutableMap.Builder()\n.put(\"username\", new ExpectedAttributeValue(false)).build());\n\ndynamoDBMapper.save(newUser, saveExpr);\n</code></pre>\n\n<p>Source: <a href=\"https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/\" rel=\"nofollow noreferrer\">https://blog.jayway.com/2013/08/24/create-entity-if-not-exists-in-dynamodb-from-java/</a></p>\n\n<p>EDIT: Here's my implementation of it in practice. Extremely easy to implement:</p>\n\n<pre><code>public Statement saveIfNotExist(Statement statement) throws ConditionalCheckFailedException {\n    return mapper.save(statement, new DynamoDBSaveExpression().withExpected(ImmutableMap.of(\"id\", new ExpectedAttributeValue(false))));\n}\n</code></pre>\n\n<p>with passing unit test:</p>\n\n<pre><code>@Test(expectedExceptions = ConditionalCheckFailedException.class)\npublic void shouldNotProcessIdenticalStatementUpdateInstances() {\n    Statement statement1 = StatementTestBuilder.valid().build();\n    Statement statement2 = StatementTestBuilder.valid().withId(statement1.getId()).build();\n\n    statementRepository.saveIfNotExist(statement1);\n    statementRepository.saveIfNotExist(statement2);\n}\n</code></pre>\n"}],"owner":{"account_id":1204808,"reputation":11030,"user_id":1174719,"accept_rate":88,"display_name":"Nosrettap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18601,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1689724240,"creation_date":1427396958,"question_id":29286907,"body_markdown":"Using the Java DynamoDBMapper, how can I save an object only if it doesn&#39;t already exist (based on primary key).  If it does exist, I want an exception or failure to be thrown, rather than having the existing entry updated.","title":"DynamoDBMapper save only if object doesn&#39;t exist","body":"<p>Using the Java DynamoDBMapper, how can I save an object only if it doesn't already exist (based on primary key).  If it does exist, I want an exception or failure to be thrown, rather than having the existing entry updated.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689721247,"creation_date":1689721247,"answer_id":76716986,"question_id":76716194,"body_markdown":"Your `listeners`/`advertised.listeners` are only enabling `PLAINTEXT` (so nothing). Therefore, error says `enabled mechanisms are []`. \r\n\r\nReplace that with `SASL_PLAINTEXT`, as is defined in the mapping list, and ensure you&#39;ve added the broker JAAS file as part of `KAFKA_OPTS` environment variable before running `kafka-server-start`","title":"Kafka Failed authentication Unexpected handshake request with client mechanism PLAIN enabled mechanisms are []","body":"<p>Your <code>listeners</code>/<code>advertised.listeners</code> are only enabling <code>PLAINTEXT</code> (so nothing). Therefore, error says <code>enabled mechanisms are []</code>.</p>\n<p>Replace that with <code>SASL_PLAINTEXT</code>, as is defined in the mapping list, and ensure you've added the broker JAAS file as part of <code>KAFKA_OPTS</code> environment variable before running <code>kafka-server-start</code></p>\n"}],"owner":{"account_id":5970800,"reputation":1976,"user_id":4693170,"accept_rate":38,"display_name":"Rakesh Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689721247,"creation_date":1689710625,"question_id":76716194,"body_markdown":"I am getting below exception while trying to connect kafka in Ubuntu from Java Program in Windows\r\n\r\n    [main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n    [main] INFO org.apache.kafka.common.security.authenticator.AbstractLogin - Successfully logged in.\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.5.0\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: c97b88d5db4de28d\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1689709198762\r\n    [kafka-producer-network-thread | producer-1] INFO org.apache.kafka.common.network.Selector -         \r\n    [Producer clientId=producer-1] Failed authentication with rakesh-virtual-machine/192.168.108.130 (channelId=-1) (Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are [])\r\n    [kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.NetworkClient - \r\n    [Producer clientId=producer-1] Node -1 disconnected.\r\n    [kafka-producer-network-thread | producer-1] ERROR org.apache.kafka.clients.NetworkClient - \r\n    [Producer clientId=producer-1] Connection to node -1 (rakesh-virtual-machine/x.x.x.x:9092) failed authentication due to: Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are []\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient -         \r\n    [Producer clientId=producer-1] Bootstrap broker rakesh-virtual-machine:9092 (id: -1 rack: null) disconnected\r\n    [main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.\r\n    [main] INFO org.apache.kafka.common.metrics.Metrics - Metrics scheduler closed\r\n    [main] INFO org.apache.kafka.common.metrics.Metrics - Closing reporter \r\n    org.apache.kafka.common.metrics.JmxReporter\r\n\r\n\r\n\r\nMy Java Cofig is\r\n\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;rakesh-virtual-machine:9092&quot;);\r\n        properties.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n        properties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\r\n        properties.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName()\r\n                + &quot; required username=\\&quot;admin\\&quot; password=\\&quot;12345\\&quot;;&quot;);\r\n\r\n        properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\r\n        properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n        ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;test&quot;, &quot;test_value&quot;);\r\n        producer.send(record);\r\n        producer.flush();\r\n        producer.close();\r\n\r\nConfiguration of Kafka server.properties is below.\r\n\r\n    listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\r\n    inter.broker.listener.name=PLAINTEXT\r\n    advertised.listeners=PLAINTEXT://rakesh-virtual-machine:9092\r\n    sasl.mechanism.inter.broker.protocol=PLAIN\r\n    sasl.enabled.mechanisms=PLAIN\r\n    listener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\n\r\nAny help will be really appreciated.\r\n\r\n","title":"Kafka Failed authentication Unexpected handshake request with client mechanism PLAIN enabled mechanisms are []","body":"<p>I am getting below exception while trying to connect kafka in Ubuntu from Java Program in Windows</p>\n<pre><code>[main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Instantiated an idempotent producer.\n[main] INFO org.apache.kafka.common.security.authenticator.AbstractLogin - Successfully logged in.\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.5.0\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: c97b88d5db4de28d\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1689709198762\n[kafka-producer-network-thread | producer-1] INFO org.apache.kafka.common.network.Selector -         \n[Producer clientId=producer-1] Failed authentication with rakesh-virtual-machine/192.168.108.130 (channelId=-1) (Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are [])\n[kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.NetworkClient - \n[Producer clientId=producer-1] Node -1 disconnected.\n[kafka-producer-network-thread | producer-1] ERROR org.apache.kafka.clients.NetworkClient - \n[Producer clientId=producer-1] Connection to node -1 (rakesh-virtual-machine/x.x.x.x:9092) failed authentication due to: Unexpected handshake request with client mechanism PLAIN, enabled mechanisms are []\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient -         \n[Producer clientId=producer-1] Bootstrap broker rakesh-virtual-machine:9092 (id: -1 rack: null) disconnected\n[main] INFO org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.\n[main] INFO org.apache.kafka.common.metrics.Metrics - Metrics scheduler closed\n[main] INFO org.apache.kafka.common.metrics.Metrics - Closing reporter \norg.apache.kafka.common.metrics.JmxReporter\n</code></pre>\n<p>My Java Cofig is</p>\n<pre><code>    Properties properties = new Properties();\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;rakesh-virtual-machine:9092&quot;);\n    properties.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n    properties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\n    properties.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName()\n            + &quot; required username=\\&quot;admin\\&quot; password=\\&quot;12345\\&quot;;&quot;);\n\n    properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\n    properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\n\n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;test&quot;, &quot;test_value&quot;);\n    producer.send(record);\n    producer.flush();\n    producer.close();\n</code></pre>\n<p>Configuration of Kafka server.properties is below.</p>\n<pre><code>listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\ninter.broker.listener.name=PLAINTEXT\nadvertised.listeners=PLAINTEXT://rakesh-virtual-machine:9092\nsasl.mechanism.inter.broker.protocol=PLAIN\nsasl.enabled.mechanisms=PLAIN\nlistener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n</code></pre>\n<p>Any help will be really appreciated.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-mllib"],"answers":[{"tags":[],"owner":{"account_id":4615554,"reputation":113,"user_id":3742195,"display_name":"Legolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689720173,"creation_date":1459804619,"answer_id":36413020,"question_id":36410804,"body_markdown":"So I was able to do it with a simple cast to Vector. I don&#39;t know why I didn&#39;t try the simple things first!\r\n\r\n    \t\t JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n\t\t          .select(&quot;features&quot;).toJavaRDD()\r\n\t\t          .map(new Function&lt;Row, Vector&gt;() {\r\n\t\t            public Vector call(Row row) throws Exception {\r\n\t\t            \treturn (Vector)row.get(0);\r\n\t\t            }\r\n\t\t          });\r\n\r\nOr with lambda expressions,\r\n\r\n    JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n    \t\t          .select(&quot;features&quot;)\r\n                      .toJavaRDD()\r\n    \t\t          .map((Function&lt;Row, Vector&gt;) row -&gt; (Vector) row.get(0));\r\n\r\n\t\t ","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>So I was able to do it with a simple cast to Vector. I don't know why I didn't try the simple things first!</p>\n<pre><code>         JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n              .select(&quot;features&quot;).toJavaRDD()\n              .map(new Function&lt;Row, Vector&gt;() {\n                public Vector call(Row row) throws Exception {\n                    return (Vector)row.get(0);\n                }\n              });\n</code></pre>\n<p>Or with lambda expressions,</p>\n<pre><code>JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n                  .select(&quot;features&quot;)\n                  .toJavaRDD()\n                  .map((Function&lt;Row, Vector&gt;) row -&gt; (Vector) row.get(0));\n\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2545284,"reputation":10308,"user_id":2210206,"accept_rate":68,"display_name":"AmirHd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517964872,"creation_date":1517964872,"answer_id":48654319,"question_id":36410804,"body_markdown":"You don&#39;t need to covert the `DataFrame/DataSet` to a `JavaRDD`for it to work with `LDA`. After few hours of fiddling I finally got the native `rdd` in `Scala` to work. \r\n\r\nRelevant imports:\r\n\r\n    import org.apache.spark.ml.feature.{CountVectorizer, RegexTokenizer, StopWordsRemover}\r\n    import org.apache.spark.ml.linalg.{Vector =&gt; MLVector}\r\n    import org.apache.spark.mllib.clustering.{LDA, OnlineLDAOptimizer}\r\n    import org.apache.spark.mllib.linalg.Vectors\r\n    import org.apache.spark.sql.{Row, SparkSession}\r\n\r\n\r\n\r\n\r\nThe snippet of the code follows the rest remains the same as [this example][1]:\r\n\r\n    val cvModel = new CountVectorizer()\r\n            .setInputCol(&quot;filtered&quot;)\r\n            .setOutputCol(&quot;features&quot;)\r\n            .setVocabSize(vocabSize)\r\n            .fit(filteredTokens)\r\n     \r\n\r\n    val countVectors = cvModel\r\n            .transform(filteredTokens)\r\n            .select(&quot;docId&quot;,&quot;features&quot;)\r\n            .rdd.map { case Row(docId: String, features: MLVector) =&gt; \r\n                       (docId.toLong, Vectors.fromML(features)) \r\n                     }\r\n    val mbf = {\r\n        // add (1.0 / actualCorpusSize) to MiniBatchFraction be more robust on tiny datasets.\r\n        val corpusSize = countVectors.count()\r\n        2.0 / maxIterations + 1.0 / corpusSize\r\n      }\r\n      val lda = new LDA()\r\n        .setOptimizer(new OnlineLDAOptimizer().setMiniBatchFraction(math.min(1.0, mbf)))\r\n        .setK(numTopics)\r\n        .setMaxIterations(2)\r\n        .setDocConcentration(-1) // use default symmetric document-topic prior\r\n        .setTopicConcentration(-1) // use default symmetric topic-word prior\r\n\r\n      val startTime = System.nanoTime()\r\n      val ldaModel = lda.run(countVectors)\r\n      val elapsed = (System.nanoTime() - startTime) / 1e9\r\n\r\n      /**\r\n        * Print results.\r\n        */\r\n      // Print training time\r\n      println(s&quot;Finished training LDA model.  Summary:&quot;)\r\n      println(s&quot;Training time (sec)\\t$elapsed&quot;)\r\n      println(s&quot;==========&quot;)\r\n\r\nThanks goes to the author of the code [here][2].\r\n\r\n\r\n  [1]: https://gist.github.com/feynmanliang/3b6555758a27adcb527d\r\n  [2]: https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/mllib/LDAExample.scala#L193","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>You don't need to covert the <code>DataFrame/DataSet</code> to a <code>JavaRDD</code>for it to work with <code>LDA</code>. After few hours of fiddling I finally got the native <code>rdd</code> in <code>Scala</code> to work. </p>\n\n<p>Relevant imports:</p>\n\n<pre><code>import org.apache.spark.ml.feature.{CountVectorizer, RegexTokenizer, StopWordsRemover}\nimport org.apache.spark.ml.linalg.{Vector =&gt; MLVector}\nimport org.apache.spark.mllib.clustering.{LDA, OnlineLDAOptimizer}\nimport org.apache.spark.mllib.linalg.Vectors\nimport org.apache.spark.sql.{Row, SparkSession}\n</code></pre>\n\n<p>The snippet of the code follows the rest remains the same as <a href=\"https://gist.github.com/feynmanliang/3b6555758a27adcb527d\" rel=\"nofollow noreferrer\">this example</a>:</p>\n\n<pre><code>val cvModel = new CountVectorizer()\n        .setInputCol(\"filtered\")\n        .setOutputCol(\"features\")\n        .setVocabSize(vocabSize)\n        .fit(filteredTokens)\n\n\nval countVectors = cvModel\n        .transform(filteredTokens)\n        .select(\"docId\",\"features\")\n        .rdd.map { case Row(docId: String, features: MLVector) =&gt; \n                   (docId.toLong, Vectors.fromML(features)) \n                 }\nval mbf = {\n    // add (1.0 / actualCorpusSize) to MiniBatchFraction be more robust on tiny datasets.\n    val corpusSize = countVectors.count()\n    2.0 / maxIterations + 1.0 / corpusSize\n  }\n  val lda = new LDA()\n    .setOptimizer(new OnlineLDAOptimizer().setMiniBatchFraction(math.min(1.0, mbf)))\n    .setK(numTopics)\n    .setMaxIterations(2)\n    .setDocConcentration(-1) // use default symmetric document-topic prior\n    .setTopicConcentration(-1) // use default symmetric topic-word prior\n\n  val startTime = System.nanoTime()\n  val ldaModel = lda.run(countVectors)\n  val elapsed = (System.nanoTime() - startTime) / 1e9\n\n  /**\n    * Print results.\n    */\n  // Print training time\n  println(s\"Finished training LDA model.  Summary:\")\n  println(s\"Training time (sec)\\t$elapsed\")\n  println(s\"==========\")\n</code></pre>\n\n<p>Thanks goes to the author of the code <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/mllib/LDAExample.scala#L193\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4615554,"reputation":113,"user_id":3742195,"display_name":"Legolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4007,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1689720173,"creation_date":1459796597,"question_id":36410804,"body_markdown":"I&#39;m trying to perform LDA on Wikipedia XML dump. After getting an RDD of raw text, I am creating a dataframe and transforming it through Tokenizer, StopWords and CountVectorizer pipelines. I intend to pass the RDD of Vectors ouput from CountVectorizer to OnlineLDA in MLLib.\r\nHere&#39;s my code:\r\n\r\n     // Configure an ML pipeline\r\n\t RegexTokenizer tokenizer = new RegexTokenizer()\r\n\t   .setInputCol(&quot;text&quot;)\r\n\t   .setOutputCol(&quot;words&quot;);\r\n\t \r\n\t StopWordsRemover remover = new StopWordsRemover()\r\n\t\t\t  .setInputCol(&quot;words&quot;)\r\n\t\t\t  .setOutputCol(&quot;filtered&quot;);\r\n\t \r\n\t CountVectorizer cv = new CountVectorizer()\r\n\t\t\t  .setVocabSize(vocabSize)\r\n\t\t\t  .setInputCol(&quot;filtered&quot;)\r\n\t\t\t  .setOutputCol(&quot;features&quot;);\r\n\t \r\n\t Pipeline pipeline = new Pipeline()\r\n\t\t\t  .setStages(new PipelineStage[] {tokenizer, remover, cv});\r\n\t \t \r\n\t// Fit the pipeline to train documents.\r\n\t PipelineModel model = pipeline.fit(fileDF);\r\n\t \r\n\t JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\r\n\t          .select(&quot;features&quot;).toJavaRDD()\r\n\t          .map(new Function&lt;Row, Vector&gt;() {\r\n\t            public Vector call(Row row) throws Exception {\r\n\t            \tObject[] arr = row.getList(0).toArray();\r\n\r\n\t            \tdouble[] features = new double[arr.length];\r\n\t            \tint i = 0;\r\n\t            \tfor(Object obj : arr){\r\n\t            \t\tfeatures[i++] = (double)obj;\r\n\t            \t}\r\n\t                return Vectors.dense(features);\r\n\t            }\r\n\t          });\r\n\t\t \r\nI&#39;m getting the class cast exception because of the line\r\n\r\n    Object[] arr = row.getList(0).toArray();\r\n\r\n\r\n    Caused by: java.lang.ClassCastException: org.apache.spark.mllib.linalg.SparseVector cannot be cast to scala.collection.Seq\r\n\tat org.apache.spark.sql.Row$class.getSeq(Row.scala:278)\r\n\tat org.apache.spark.sql.catalyst.expressions.GenericRow.getSeq(rows.scala:192)\r\n\tat org.apache.spark.sql.Row$class.getList(Row.scala:286)\r\n\tat org.apache.spark.sql.catalyst.expressions.GenericRow.getList(rows.scala:192)\r\n\tat xmlProcess.ParseXML$2.call(ParseXML.java:142)\r\n\tat xmlProcess.ParseXML$2.call(ParseXML.java:1)\r\n\r\nI found the Scala syntax to do this [here][1] but couldn&#39;t find any example to do it in Java. I tried `row.getAs[Vector](0)` but that&#39;s just Scala syntax. Any ways to do it in Java?\r\n\r\n  [1]: https://stackoverflow.com/questions/33048177/converting-rddorg-apache-spark-sql-row-to-rddorg-apache-spark-mllib-linalg-ve &quot;here&quot;","title":"Convert JavaRDD&lt;Row&gt; to JavaRDD&lt;Vector&gt;","body":"<p>I'm trying to perform LDA on Wikipedia XML dump. After getting an RDD of raw text, I am creating a dataframe and transforming it through Tokenizer, StopWords and CountVectorizer pipelines. I intend to pass the RDD of Vectors ouput from CountVectorizer to OnlineLDA in MLLib.\nHere's my code:</p>\n\n<pre><code> // Configure an ML pipeline\n RegexTokenizer tokenizer = new RegexTokenizer()\n   .setInputCol(\"text\")\n   .setOutputCol(\"words\");\n\n StopWordsRemover remover = new StopWordsRemover()\n          .setInputCol(\"words\")\n          .setOutputCol(\"filtered\");\n\n CountVectorizer cv = new CountVectorizer()\n          .setVocabSize(vocabSize)\n          .setInputCol(\"filtered\")\n          .setOutputCol(\"features\");\n\n Pipeline pipeline = new Pipeline()\n          .setStages(new PipelineStage[] {tokenizer, remover, cv});\n\n// Fit the pipeline to train documents.\n PipelineModel model = pipeline.fit(fileDF);\n\n JavaRDD&lt;Vector&gt; countVectors = model.transform(fileDF)\n          .select(\"features\").toJavaRDD()\n          .map(new Function&lt;Row, Vector&gt;() {\n            public Vector call(Row row) throws Exception {\n                Object[] arr = row.getList(0).toArray();\n\n                double[] features = new double[arr.length];\n                int i = 0;\n                for(Object obj : arr){\n                    features[i++] = (double)obj;\n                }\n                return Vectors.dense(features);\n            }\n          });\n</code></pre>\n\n<p>I'm getting the class cast exception because of the line</p>\n\n<pre><code>Object[] arr = row.getList(0).toArray();\n\n\nCaused by: java.lang.ClassCastException: org.apache.spark.mllib.linalg.SparseVector cannot be cast to scala.collection.Seq\nat org.apache.spark.sql.Row$class.getSeq(Row.scala:278)\nat org.apache.spark.sql.catalyst.expressions.GenericRow.getSeq(rows.scala:192)\nat org.apache.spark.sql.Row$class.getList(Row.scala:286)\nat org.apache.spark.sql.catalyst.expressions.GenericRow.getList(rows.scala:192)\nat xmlProcess.ParseXML$2.call(ParseXML.java:142)\nat xmlProcess.ParseXML$2.call(ParseXML.java:1)\n</code></pre>\n\n<p>I found the Scala syntax to do this <a href=\"https://stackoverflow.com/questions/33048177/converting-rddorg-apache-spark-sql-row-to-rddorg-apache-spark-mllib-linalg-ve\" title=\"here\">here</a> but couldn't find any example to do it in Java. I tried <code>row.getAs[Vector](0)</code> but that's just Scala syntax. Any ways to do it in Java?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","graphql"],"answers":[{"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653853654,"creation_date":1653853654,"answer_id":72426802,"question_id":72338020,"body_markdown":"Your version of `graphql-java-tools` (5.2.4) seems very old and not compatible with `graphql-java:18.1` version.\r\n\r\nSo you need to upgrade your `graphql-java-tools` to the version which is compatible with `graphql-java:18.1` in your classpath.\r\n","title":"maven Dependancy conflict No such method with graphql depandancies","body":"<p>Your version of <code>graphql-java-tools</code> (5.2.4) seems very old and not compatible with <code>graphql-java:18.1</code> version.</p>\n<p>So you need to upgrade your <code>graphql-java-tools</code> to the version which is compatible with <code>graphql-java:18.1</code> in your classpath.</p>\n"}],"owner":{"account_id":14789051,"reputation":39,"user_id":10680505,"display_name":"dante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72426802,"answer_count":1,"score":0,"last_activity_date":1689719632,"creation_date":1653226308,"question_id":72338020,"body_markdown":"My application won&#39;t start and it seems that there is a dependancy conflict. I can&#39;t figure out which dependancy results in the conflict or how to resolve this.\r\n\r\nThis is the message when I try to start the spring application.\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.coxautodev.graphql.tools.RootTypeInfo$Companion.fromSchemaDefinitions(RootTypeInfo.kt:16)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\n\r\nThe calling method&#39;s class, com.coxautodev.graphql.tools.RootTypeInfo$Companion, was loaded from the following location:\r\n\r\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java-tools/5.2.4/graphql-java-tools-5.2.4.jar!/com/coxautodev/graphql/tools/RootTypeInfo$Companion.class\r\n\r\nThe called method&#39;s class, graphql.language.OperationTypeDefinition, is available from the following locations:\r\n\r\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar!/graphql/language/OperationTypeDefinition.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    graphql.language.OperationTypeDefinition: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\r\n    graphql.language.AbstractNode: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\r\n```\r\nThis is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;backend&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\r\n        &lt;graphql.version&gt;5.0.2&lt;/graphql.version&gt;\r\n        &lt;playground.version&gt;5.10.0&lt;/playground.version&gt;\r\n        &lt;graphql-java-tools.version&gt;5.2.4&lt;/graphql-java-tools.version&gt;\r\n        &lt;jjwt.version&gt;0.9.1&lt;/jjwt.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;playground-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${playground.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\t\t&lt;dependency&gt; \r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt; \r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; \r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThis is the stacktrace with error from mvn install\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;invocationInputFactory&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;invocationInputFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\nCaused by: java.lang.NoSuchMethodError: &#39;graphql.language.Type graphql.language.OperationTypeDefinition.getType()&#39;\r\n```\r\nI have tried editing the versions but that didn&#39;t seem to work.\r\n\r\nI have also deleted all the maven cache but also didn&#39;t work.\r\n\r\nIf I delete the dependancy the code compiles. But i&#39;m unsure if this is wanted.\r\n\r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAny suggestion how to resolve this?","title":"maven Dependancy conflict No such method with graphql depandancies","body":"<p>My application won't start and it seems that there is a dependancy conflict. I can't figure out which dependancy results in the conflict or how to resolve this.</p>\n<p>This is the message when I try to start the spring application.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.coxautodev.graphql.tools.RootTypeInfo$Companion.fromSchemaDefinitions(RootTypeInfo.kt:16)\n\nThe following method did not exist:\n\n    'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\n\nThe calling method's class, com.coxautodev.graphql.tools.RootTypeInfo$Companion, was loaded from the following location:\n\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java-tools/5.2.4/graphql-java-tools-5.2.4.jar!/com/coxautodev/graphql/tools/RootTypeInfo$Companion.class\n\nThe called method's class, graphql.language.OperationTypeDefinition, is available from the following locations:\n\n    jar:file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar!/graphql/language/OperationTypeDefinition.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    graphql.language.OperationTypeDefinition: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\n    graphql.language.AbstractNode: file:/home/dante/.m2/repository/com/graphql-java/graphql-java/18.1/graphql-java-18.1.jar\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;backend&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\n        &lt;graphql.version&gt;5.0.2&lt;/graphql.version&gt;\n        &lt;playground.version&gt;5.10.0&lt;/playground.version&gt;\n        &lt;graphql-java-tools.version&gt;5.2.4&lt;/graphql-java-tools.version&gt;\n        &lt;jjwt.version&gt;0.9.1&lt;/jjwt.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${graphql.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;playground-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${playground.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;  \n        &lt;dependency&gt; \n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; \n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt; \n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the stacktrace with error from mvn install</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'invocationInputFactory' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'invocationInputFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\nCaused by: java.lang.NoSuchMethodError: 'graphql.language.Type graphql.language.OperationTypeDefinition.getType()'\n</code></pre>\n<p>I have tried editing the versions but that didn't seem to work.</p>\n<p>I have also deleted all the maven cache but also didn't work.</p>\n<p>If I delete the dependancy the code compiles. But i'm unsure if this is wanted.</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-java-tools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any suggestion how to resolve this?</p>\n"},{"tags":["java","openrewrite"],"answers":[{"comments":[{"owner":{"account_id":2531619,"reputation":846,"user_id":2199812,"display_name":"reflexdemon"},"score":1,"creation_date":1689773376,"post_id":76716814,"comment_id":135260833,"body_markdown":"I actually like the `Collections.singetonMap` to `Map.of` However wanted to disable only 1 method. I will move that to a different class and exclude that class using exclude option. This is just a workaround. I would recommend having some annotations at method level like @IgnoreRewrite  to give flexibility","body":"I actually like the <code>Collections.singetonMap</code> to <code>Map.of</code> However wanted to disable only 1 method. I will move that to a different class and exclude that class using exclude option. This is just a workaround. I would recommend having some annotations at method level like @IgnoreRewrite  to give flexibility"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1689801023,"post_id":76716814,"comment_id":135266797,"body_markdown":"You can still directly run that recipe apply those changes; it&#39;s just no longer part of the default Java 8 to 11 (and 11 to 17) migration until those issues are resolved.","body":"You can still directly run that recipe apply those changes; it&#39;s just no longer part of the default Java 8 to 11 (and 11 to 17) migration until those issues are resolved."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1689801193,"post_id":76716814,"comment_id":135266827,"body_markdown":"And I like your suggestion of `@IgnoreRewrite`, but I&#39;d rather have the recipes in such a state that you do not have to add exclusions either on recipes or on files/code. There should be no reason for you to have to inspect the results, ideally, as a lot of people run these recipes not on a single project but on dozens at a time.","body":"And I like your suggestion of <code>@IgnoreRewrite</code>, but I&#39;d rather have the recipes in such a state that you do not have to add exclusions either on recipes or on files/code. There should be no reason for you to have to inspect the results, ideally, as a lot of people run these recipes not on a single project but on dozens at a time."}],"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689718181,"creation_date":1689718181,"answer_id":76716814,"question_id":76716339,"body_markdown":"The Collections.singletonMap recipes that you mention have been [removed from the default Java 8 to 11 migration recipe][1], precisely because of the issues you mentioned. You can upgrade to [rewrite-migrate-java version 2.0.7][2] such that you won&#39;t need any exclusions.\r\n\r\nIf you would still want to use exclusions, you can do so with [the `exclusions` option in the Maven plugin][3], or [similar for Gradle][4].\r\n\r\nHope that helps!\r\n\r\n\r\n  [1]: https://github.com/openrewrite/rewrite-migrate-java/pull/253\r\n  [2]: https://github.com/openrewrite/rewrite-migrate-java/releases/tag/v2.0.7\r\n  [3]: https://docs.openrewrite.org/reference/rewrite-maven-plugin#plugin-configuration\r\n  [4]: https://docs.openrewrite.org/reference/gradle-plugin-configuration#configuring-the-rewrite-dsl","title":"Openrewrite exclude class/method from replacing","body":"<p>The Collections.singletonMap recipes that you mention have been <a href=\"https://github.com/openrewrite/rewrite-migrate-java/pull/253\" rel=\"nofollow noreferrer\">removed from the default Java 8 to 11 migration recipe</a>, precisely because of the issues you mentioned. You can upgrade to <a href=\"https://github.com/openrewrite/rewrite-migrate-java/releases/tag/v2.0.7\" rel=\"nofollow noreferrer\">rewrite-migrate-java version 2.0.7</a> such that you won't need any exclusions.</p>\n<p>If you would still want to use exclusions, you can do so with <a href=\"https://docs.openrewrite.org/reference/rewrite-maven-plugin#plugin-configuration\" rel=\"nofollow noreferrer\">the <code>exclusions</code> option in the Maven plugin</a>, or <a href=\"https://docs.openrewrite.org/reference/gradle-plugin-configuration#configuring-the-rewrite-dsl\" rel=\"nofollow noreferrer\">similar for Gradle</a>.</p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":2531619,"reputation":846,"user_id":2199812,"display_name":"reflexdemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689718181,"creation_date":1689712242,"question_id":76716339,"body_markdown":"I recently started using the openrewrite and wanted to know if there is any way we can exclude a class or method from replacing with a any recipe. I have some unit test that is specifically used to test maps with null key uisng `Collections.singletonMap`. While I run the `org.openrewrite.java.migrate.UpgradeToJava17` recipe it uses `Map.of` and my tests start failing as Map.of cannot take `null` keys.","title":"Openrewrite exclude class/method from replacing","body":"<p>I recently started using the openrewrite and wanted to know if there is any way we can exclude a class or method from replacing with a any recipe. I have some unit test that is specifically used to test maps with null key uisng <code>Collections.singletonMap</code>. While I run the <code>org.openrewrite.java.migrate.UpgradeToJava17</code> recipe it uses <code>Map.of</code> and my tests start failing as Map.of cannot take <code>null</code> keys.</p>\n"},{"tags":["java","next.js","graphql","apollo","apollo-client"],"comments":[{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1689718434,"post_id":76716807,"comment_id":135252614,"body_markdown":"Look at the query resolver code on the server for `GetRecentMessages` - it likely depends on the `context` being authorized.","body":"Look at the query resolver code on the server for <code>GetRecentMessages</code> - it likely depends on the <code>context</code> being authorized."}],"owner":{"account_id":29044816,"reputation":1,"user_id":22248902,"display_name":"FunafutiTV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689718135,"creation_date":1689718135,"question_id":76716807,"body_markdown":"I am trying to create a live chat app using NextJS, GraphQL and Apollo. I have a MessageList component which should display the most recent messages on the chat. Inside this component&#39;s code is :\r\n\r\n```\r\nconst { loading, error, data } = useQuery(GetRecentMessagesQuery, {\r\n    variables: {\r\n      last: 100,\r\n    },\r\n  });\r\n```\r\nGetRecentMessagesQuery is defined by :\r\n\r\n```\r\nconst GetRecentMessagesQuery = gql`\r\n  query GetRecentMessages($last: Int) @live {\r\n    messageCollection(last: $last) {\r\n      edges {\r\n        node {\r\n          id\r\n          username\r\n          avatar\r\n          body\r\n          likes\r\n          createdAt\r\n  }}}}\r\n`\r\n```\r\nAnd the MessageList component will return a different JSX depending on the values of loading and error :\r\n\r\n```\r\nif (loading)\r\n    return (\r\n      &lt;div className=&quot;flex items-center justify-center h-full&quot;&gt;\r\n        &lt;p className=&quot;text-white&quot;&gt;Fetching most recent chat messages.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    );\r\n\r\n  if (error) {\r\n    return (\r\n      &lt;p className=&quot;text-white&quot;&gt;Something went wrong. Refresh to try again.&lt;/p&gt;\r\n    );\r\n  }\r\n\r\n  return (\r\n    // Display the messages\r\n```\r\n\r\n\r\nThe app allows the user to log in using GitHub, and if they do it the messages are displayed as they should. However unauthenticated users get the error and the messages are not displayed. I tried to log the error and it says &quot;Apollo Error : Missing Data&quot;. I&#39;ve been blocked by this for days as I have no idea where this could be coming from. I can share more code if needed. Thanks","title":"Messages on chat app are only fetched for authenticated users while the other ones get an error","body":"<p>I am trying to create a live chat app using NextJS, GraphQL and Apollo. I have a MessageList component which should display the most recent messages on the chat. Inside this component's code is :</p>\n<pre><code>const { loading, error, data } = useQuery(GetRecentMessagesQuery, {\n    variables: {\n      last: 100,\n    },\n  });\n</code></pre>\n<p>GetRecentMessagesQuery is defined by :</p>\n<pre><code>const GetRecentMessagesQuery = gql`\n  query GetRecentMessages($last: Int) @live {\n    messageCollection(last: $last) {\n      edges {\n        node {\n          id\n          username\n          avatar\n          body\n          likes\n          createdAt\n  }}}}\n`\n</code></pre>\n<p>And the MessageList component will return a different JSX depending on the values of loading and error :</p>\n<pre><code>if (loading)\n    return (\n      &lt;div className=&quot;flex items-center justify-center h-full&quot;&gt;\n        &lt;p className=&quot;text-white&quot;&gt;Fetching most recent chat messages.&lt;/p&gt;\n      &lt;/div&gt;\n    );\n\n  if (error) {\n    return (\n      &lt;p className=&quot;text-white&quot;&gt;Something went wrong. Refresh to try again.&lt;/p&gt;\n    );\n  }\n\n  return (\n    // Display the messages\n</code></pre>\n<p>The app allows the user to log in using GitHub, and if they do it the messages are displayed as they should. However unauthenticated users get the error and the messages are not displayed. I tried to log the error and it says &quot;Apollo Error : Missing Data&quot;. I've been blocked by this for days as I have no idea where this could be coming from. I can share more code if needed. Thanks</p>\n"},{"tags":["java","log4j","slf4j"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1637068177,"post_id":69989704,"comment_id":123722012,"body_markdown":"`MessageFormat` expects an argument index inside the `{}`. I.e. your message should be `&quot;Info message: {0}&quot;`.","body":"<code>MessageFormat</code> expects an argument index inside the <code>{}</code>. I.e. your message should be <code>&quot;Info message: {0}&quot;</code>."},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":0,"creation_date":1637134971,"post_id":69989704,"comment_id":123741617,"body_markdown":"@JoachimSauer Awesome, if you don&#39;t mind writing this as an answer and adding some more info/docs/refs, would love to tag it as correct","body":"@JoachimSauer Awesome, if you don&#39;t mind writing this as an answer and adding some more info/docs/refs, would love to tag it as correct"}],"answers":[{"tags":[],"owner":{"account_id":10358615,"reputation":431,"user_id":7639741,"display_name":"ko la"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689716684,"creation_date":1689716684,"answer_id":76716714,"question_id":69989704,"body_markdown":"It looks like your logging implementation uses [java.text.MessageFormat][1]. *Eventually*, the `info(String format, Object... args)` method calls the [MessageFormat.format(String pattern, Object... args)][2] method, which expects a pattern described in MessageFormat&#39;s [Patterns and Their Interpretation][3]. \r\n\r\nSo, in your case, the curly braces content in the first argument you pass into the `info` method is interpreted as a `FormatElement`, which requires at least a (non-negative integer) index, which should point to a next argument passed into the `info` method. Hence, the `{0}` reference works. \r\n\r\nFor illustration, you could also do something like this:\r\n\r\n    LOG.info(&quot;Info message: on {1, date} at {1, time} I received {0}.&quot;, &quot;some message&quot;, new Date());\r\n\r\nWhich should had yield something like:\r\n\r\n&gt; Info message: on Nov 16, 2021 at 1:05:01 PM I received some message.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns","title":"Java - NumberFormatException when using Slf4j/Log4jLogger with placeholders","body":"<p>It looks like your logging implementation uses <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">java.text.MessageFormat</a>. <em>Eventually</em>, the <code>info(String format, Object... args)</code> method calls the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">MessageFormat.format(String pattern, Object... args)</a> method, which expects a pattern described in MessageFormat's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns\" rel=\"nofollow noreferrer\">Patterns and Their Interpretation</a>.</p>\n<p>So, in your case, the curly braces content in the first argument you pass into the <code>info</code> method is interpreted as a <code>FormatElement</code>, which requires at least a (non-negative integer) index, which should point to a next argument passed into the <code>info</code> method. Hence, the <code>{0}</code> reference works.</p>\n<p>For illustration, you could also do something like this:</p>\n<pre><code>LOG.info(&quot;Info message: on {1, date} at {1, time} I received {0}.&quot;, &quot;some message&quot;, new Date());\n</code></pre>\n<p>Which should had yield something like:</p>\n<blockquote>\n<p>Info message: on Nov 16, 2021 at 1:05:01 PM I received some message.</p>\n</blockquote>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689716684,"creation_date":1637067921,"question_id":69989704,"body_markdown":"Okay, so I&#39;m just trying to invoke e.g.\r\n\r\n```\r\nLOG.info(&quot;Info message: {}&quot;, &quot;some message&quot;)\r\n```\r\n\r\nand I&#39;m getting a totally weird exception:\r\n```\r\njava.lang.IllegalArgumentException: can&#39;t parse argument number: \r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\r\n\tat java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\r\n\tat java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\r\n\tat java.base/java.text.MessageFormat.format(MessageFormat.java:860)\r\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.logging.impl.Log4jLogger.warn(Log4jLogger.java:109)\r\n```\r\nand \r\n```\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\r\n```\r\n\r\nCan&#39;t figure out what&#39;s wrong with the logger - any ideas please?","title":"Java - NumberFormatException when using Slf4j/Log4jLogger with placeholders","body":"<p>Okay, so I'm just trying to invoke e.g.</p>\n<pre><code>LOG.info(&quot;Info message: {}&quot;, &quot;some message&quot;)\n</code></pre>\n<p>and I'm getting a totally weird exception:</p>\n<pre><code>java.lang.IllegalArgumentException: can't parse argument number: \n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\n    at java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\n    at java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\n    at java.base/java.text.MessageFormat.format(MessageFormat.java:860)\n    at org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.logging.impl.Log4jLogger.warn(Log4jLogger.java:109)\n</code></pre>\n<p>and</p>\n<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:678)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\n</code></pre>\n<p>Can't figure out what's wrong with the logger - any ideas please?</p>\n"},{"tags":["java","selenium-webdriver","nested"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1689675634,"post_id":76711716,"comment_id":135244112,"body_markdown":"At which line are you stuck exactly?","body":"At which line are you stuck exactly?"},{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1689676309,"post_id":76711716,"comment_id":135244244,"body_markdown":"After clicking on frametest getting this issue","body":"After clicking on frametest getting this issue"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1689716449,"post_id":76711716,"comment_id":135252435,"body_markdown":"Checkout the [answer](https://stackoverflow.com/a/76716674/7429447) and let me know the status.","body":"Checkout the <a href=\"https://stackoverflow.com/a/76716674/7429447\">answer</a> and let me know the status."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689676549,"creation_date":1689676549,"answer_id":76711881,"question_id":76711716,"body_markdown":"As far as on that page Index element is placed in frame, you should use \r\n\r\n`driver.switchTo().frame(&quot;top&quot;);`\r\n\r\nbefore\r\n\r\n`driver.findElement(By.linkText(&quot;Index&quot;)).click();`\r\n\r\nwhere `top` is name attribute of your iframe.\r\n\r\nSelenium by default uses top body level context and doesn&#39;t see elements in other contexts like iframes or shadow-roots.\r\nSo to get him to know that you want to search for element in another context, you should change context Selenium is looking into.\r\n\r\nAnd don&#39;t forget to switch to `defaultContext()` back when you returning to body context.","title":"Unable to locate element in java selenium","body":"<p>As far as on that page Index element is placed in frame, you should use</p>\n<p><code>driver.switchTo().frame(&quot;top&quot;);</code></p>\n<p>before</p>\n<p><code>driver.findElement(By.linkText(&quot;Index&quot;)).click();</code></p>\n<p>where <code>top</code> is name attribute of your iframe.</p>\n<p>Selenium by default uses top body level context and doesn't see elements in other contexts like iframes or shadow-roots.\nSo to get him to know that you want to search for element in another context, you should change context Selenium is looking into.</p>\n<p>And don't forget to switch to <code>defaultContext()</code> back when you returning to body context.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689676711,"creation_date":1689676711,"answer_id":76711903,"question_id":76711716,"body_markdown":"Use below line:\r\n````\r\ndriver.switchTo().frame(0);\r\n````\r\n`(0)` - being the first frame on the HTML.\r\n\r\nSo your last 4 lines of code should be as below:\r\n````\r\nThread.sleep(4000);\r\ndriver.navigate().forward();\r\ndriver.switchTo().frame(0);\r\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n````\r\n\r\nNote: To switch back to default content, below line of code should be used:\r\n````\r\ndriver.switch_to.default_content()\r\n````","title":"Unable to locate element in java selenium","body":"<p>Use below line:</p>\n<pre><code>driver.switchTo().frame(0);\n</code></pre>\n<p><code>(0)</code> - being the first frame on the HTML.</p>\n<p>So your last 4 lines of code should be as below:</p>\n<pre><code>Thread.sleep(4000);\ndriver.navigate().forward();\ndriver.switchTo().frame(0);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n</code></pre>\n<p>Note: To switch back to default content, below line of code should be used:</p>\n<pre><code>driver.switch_to.default_content()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689716081,"creation_date":1689716081,"answer_id":76716674,"question_id":76711716,"body_markdown":"Within the website [Test Pages For Automating](https://testpages.herokuapp.com/styled/index.html) once you click on the link with text as _**Frames Test Page**_ and navigate to the [Nested Frames Example](https://testpages.herokuapp.com/styled/frames/frames-test.html) page, the element with text as _**Index**_ is within a [`&lt;frame&gt;`](https://stackoverflow.com/a/53276478/7429447):\r\n\r\n![frame](https://i.stack.imgur.com/YoOID.png)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click on the element with text as _**Index**_ you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://testpages.herokuapp.com/styled/index.html&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;framestest&quot;))).click();\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.name(&quot;top&quot;)));\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Index&quot;))).click();\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Selenium: Can&#39;t click on a button within an iframe](https://stackoverflow.com/a/64016305/7429447)","title":"Unable to locate element in java selenium","body":"<p>Within the website <a href=\"https://testpages.herokuapp.com/styled/index.html\" rel=\"nofollow noreferrer\">Test Pages For Automating</a> once you click on the link with text as <em><strong>Frames Test Page</strong></em> and navigate to the <a href=\"https://testpages.herokuapp.com/styled/frames/frames-test.html\" rel=\"nofollow noreferrer\">Nested Frames Example</a> page, the element with text as <em><strong>Index</strong></em> is within a <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;frame&gt;</code></a>:</p>\n<p><img src=\"https://i.stack.imgur.com/YoOID.png\" alt=\"frame\" /></p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the element with text as <em><strong>Index</strong></em> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://testpages.herokuapp.com/styled/index.html&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;framestest&quot;))).click();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.name(&quot;top&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Index&quot;))).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/64016305/7429447\">Selenium: Can't click on a button within an iframe</a></li>\n</ul>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689716081,"creation_date":1689675193,"question_id":76711716,"body_markdown":" \r\n\r\n   Hi all I am unable to interact with &quot;Index&quot; on the last line of code the code is working fine for all items except for the nested frames it is giving error as unable to locate element I have tried both xpath and linked text for this still getting this error this is a demo website for test automation practice the error is only for the index in the last line of the code all other parts of the code are working fine.   \r\n    \r\n    \r\n    package sdet;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import java.awt.event.ActionEvent;\r\n    import java.time.Duration;\r\n    import java.util.*;\r\n    \r\n    public class selenium {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    System.setProperty(&quot;Pathtochromedriver&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://testpages.herokuapp.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    // Clicking on basic webpages //\r\n    driver.findElement(By.id(&quot;basicpagetest&quot;)).click();\r\n    String  Urlnow = driver.getCurrentUrl();\r\n    System.out.println(&quot;current url is :&quot; +Urlnow );\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;elementattributestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.navigate().forward();\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);\r\n    Thread.sleep(2000);\r\n    WebElement Addattribute = driver.findElement(By.xpath(&quot;//button[@class=\\&quot;styled-click-button\\&quot;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(Addattribute).doubleClick().build().perform();\r\n    Thread.sleep(2000);\r\n    driver.navigate().forward();\r\n    js.executeScript(&quot;window.scrollBy(0,-400)&quot;);\r\n    // Clicking on index here // \r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;findbytest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;tablestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;dynamictablestest&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;alerttest&quot;)).click();\r\n    driver.findElement(By.id(&quot;alertexamples&quot;)).click();\r\n    driver.switchTo().alert().accept();\r\n    // Clicking on show confirm box //\r\n    driver.findElement(By.id(&quot;confirmexample&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.switchTo().alert().dismiss();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    driver.findElement(By.id(&quot;fakealerttest&quot;)).click();\r\n    // Clicking on showalertbox //\r\n    driver.findElement(By.id(&quot;fakealert&quot;)).click();\r\n    driver.findElement(By.id(&quot;dialog-ok&quot;)).click();\r\n    // Clicking on modal dialog //\r\n    driver.findElement(By.id(&quot;modaldialog&quot;)).click();\r\n    driver.findElement(By.id(&quot;dialog-ok&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    // Clicking on frames test //\r\n    driver.findElement(By.id(&quot;framestest&quot;)).click();\r\n    Thread.sleep(4000);\r\n    driver.navigate().forward();\r\n    driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    \r\n    //driver.findElement(By.id(&quot;framestest&quot;)).click();\r\n    //Thread.sleep(2000);\r\n    //driver.findElement(By.linkText(&quot;Index&quot;)).click();\r\n    \r\n    \r\n    }\r\n    \r\n    }\r\n\r\n","title":"Unable to locate element in java selenium","body":"<p>Hi all I am unable to interact with &quot;Index&quot; on the last line of code the code is working fine for all items except for the nested frames it is giving error as unable to locate element I have tried both xpath and linked text for this still getting this error this is a demo website for test automation practice the error is only for the index in the last line of the code all other parts of the code are working fine.</p>\n<pre><code>package sdet;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.WebElement;\n\nimport java.awt.event.ActionEvent;\nimport java.time.Duration;\nimport java.util.*;\n\npublic class selenium {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\nSystem.setProperty(&quot;Pathtochromedriver&quot;);\nWebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://testpages.herokuapp.com/&quot;);\ndriver.manage().window().maximize();\n// Clicking on basic webpages //\ndriver.findElement(By.id(&quot;basicpagetest&quot;)).click();\nString  Urlnow = driver.getCurrentUrl();\nSystem.out.println(&quot;current url is :&quot; +Urlnow );\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;elementattributestest&quot;)).click();\nThread.sleep(2000);\ndriver.navigate().forward();\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);\nThread.sleep(2000);\nWebElement Addattribute = driver.findElement(By.xpath(&quot;//button[@class=\\&quot;styled-click-button\\&quot;]&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(Addattribute).doubleClick().build().perform();\nThread.sleep(2000);\ndriver.navigate().forward();\njs.executeScript(&quot;window.scrollBy(0,-400)&quot;);\n// Clicking on index here // \ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;findbytest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;tablestest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;dynamictablestest&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;alerttest&quot;)).click();\ndriver.findElement(By.id(&quot;alertexamples&quot;)).click();\ndriver.switchTo().alert().accept();\n// Clicking on show confirm box //\ndriver.findElement(By.id(&quot;confirmexample&quot;)).click();\nThread.sleep(2000);\ndriver.switchTo().alert().dismiss();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\ndriver.findElement(By.id(&quot;fakealerttest&quot;)).click();\n// Clicking on showalertbox //\ndriver.findElement(By.id(&quot;fakealert&quot;)).click();\ndriver.findElement(By.id(&quot;dialog-ok&quot;)).click();\n// Clicking on modal dialog //\ndriver.findElement(By.id(&quot;modaldialog&quot;)).click();\ndriver.findElement(By.id(&quot;dialog-ok&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n// Clicking on frames test //\ndriver.findElement(By.id(&quot;framestest&quot;)).click();\nThread.sleep(4000);\ndriver.navigate().forward();\ndriver.findElement(By.linkText(&quot;Index&quot;)).click();\n\n//driver.findElement(By.id(&quot;framestest&quot;)).click();\n//Thread.sleep(2000);\n//driver.findElement(By.linkText(&quot;Index&quot;)).click();\n\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1689745878,"post_id":76716652,"comment_id":135254908,"body_markdown":"You could try using other formatting integrations instead of spotless - https://github.com/google/google-java-format/tree/master#third-party-integrations or discuss this issue with the google-java-format plugin developer directly at https://github.com/google/google-java-format/issues","body":"You could try using other formatting integrations instead of spotless - <a href=\"https://github.com/google/google-java-format/tree/master#third-party-integrations\" rel=\"nofollow noreferrer\">github.com/google/google-java-format/tree/&hellip;</a> or discuss this issue with the google-java-format plugin developer directly at <a href=\"https://github.com/google/google-java-format/issues\" rel=\"nofollow noreferrer\">github.com/google/google-java-format/issues</a>"}],"owner":{"account_id":100390,"reputation":3436,"user_id":270653,"accept_rate":16,"display_name":"Jerome VDL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689715785,"creation_date":1689715785,"question_id":76716652,"body_markdown":"I&#39;d like to have the google java formatting in my IDE (using the [google-java-format plugin][1] for IntelliJ or something else if that&#39;s not the best way to do...) and be able to check with maven that formatting is OK (in a GitHub workflow for example). I tried the [spotless plugin][2]. \r\n\r\nUnfortunately for the moment, the results are completely different if I use one or the other (imports order, parameters in methods, ...). I use the AOSP format to get 4 spaces indentation in both case.\r\n\r\nHere is my spotless config:\r\n\r\n```xml\r\n               &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.30.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;java&gt;\r\n                            &lt;googleJavaFormat&gt;\r\n                                &lt;version&gt;1.7&lt;/version&gt;\r\n                                &lt;style&gt;AOSP&lt;/style&gt;\r\n                            &lt;/googleJavaFormat&gt;\r\n                            &lt;removeUnusedImports /&gt;\r\n                            &lt;licenseHeader&gt;\r\n                                &lt;file&gt;../license-header&lt;/file&gt;\r\n                            &lt;/licenseHeader&gt;\r\n                        &lt;/java&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nAm I missing something? Aren&#39;t they supposed to work with google format (which should be the same...)? Actually I&#39;m not sure Intellij is applying the formatting from the google plugin and not from my other code style configuration. &quot;Enable google-java-format&quot; is checked in the settings, but how to be sure?\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/8527-google-java-format\r\n  [2]: https://github.com/diffplug/spotless/tree/main/plugin-maven#google-java-format","title":"How to get similar google java formatting in intellij and with maven","body":"<p>I'd like to have the google java formatting in my IDE (using the <a href=\"https://plugins.jetbrains.com/plugin/8527-google-java-format\" rel=\"nofollow noreferrer\">google-java-format plugin</a> for IntelliJ or something else if that's not the best way to do...) and be able to check with maven that formatting is OK (in a GitHub workflow for example). I tried the <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-maven#google-java-format\" rel=\"nofollow noreferrer\">spotless plugin</a>.</p>\n<p>Unfortunately for the moment, the results are completely different if I use one or the other (imports order, parameters in methods, ...). I use the AOSP format to get 4 spaces indentation in both case.</p>\n<p>Here is my spotless config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>               &lt;plugin&gt;\n                    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.30.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;check&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;java&gt;\n                            &lt;googleJavaFormat&gt;\n                                &lt;version&gt;1.7&lt;/version&gt;\n                                &lt;style&gt;AOSP&lt;/style&gt;\n                            &lt;/googleJavaFormat&gt;\n                            &lt;removeUnusedImports /&gt;\n                            &lt;licenseHeader&gt;\n                                &lt;file&gt;../license-header&lt;/file&gt;\n                            &lt;/licenseHeader&gt;\n                        &lt;/java&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Am I missing something? Aren't they supposed to work with google format (which should be the same...)? Actually I'm not sure Intellij is applying the formatting from the google plugin and not from my other code style configuration. &quot;Enable google-java-format&quot; is checked in the settings, but how to be sure?</p>\n"},{"tags":["java","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"score":1,"creation_date":1689700713,"post_id":76715084,"comment_id":135249879,"body_markdown":"did you try [groupByKey](https://sparkbyexamples.com/spark/spark-groupbykey/)?","body":"did you try <a href=\"https://sparkbyexamples.com/spark/spark-groupbykey/\" rel=\"nofollow noreferrer\">groupByKey</a>?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1689709425,"post_id":76715084,"comment_id":135251346,"body_markdown":"I tried but it looks for  overriding map function /function and couldn&#39;t get how we pass  id to group the object.","body":"I tried but it looks for  overriding map function /function and couldn&#39;t get how we pass  id to group the object."}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689715593,"creation_date":1689699740,"question_id":76715084,"body_markdown":"I have a class \r\n\r\n    public class Employee {\r\n      int id;\r\n      String name;\r\n      String address;\r\n    }\r\n\r\n...and a `Dataset&lt;Employee&gt;` in Spark, for example\r\n\r\n    Employee(1,&quot;test1&quot;,&quot;test1&quot;)\r\n    Employee(1,&quot;test2&quot;,&quot;test2&quot;)\r\n    Employee(2,&quot;test3&quot;,&quot;test3&quot;)\r\n\r\nExpected result\r\n\r\n    1---&gt; [Employee(1,&quot;test1&quot;,&quot;test1&quot;),Employee(1,&quot;test2&quot;,&quot;test2&quot;)]\r\n    2---&gt;. Employee(2,&quot;test3&quot;,&quot;test3&quot;)\r\n\r\nI.e. I need to group the dataset by one of the fields (`id`), and get the result as a list of objects. How can I do this using Spark Java API.\r\n","title":"How to groupby key for custom class dataset in spark java","body":"<p>I have a class</p>\n<pre><code>public class Employee {\n  int id;\n  String name;\n  String address;\n}\n</code></pre>\n<p>...and a <code>Dataset&lt;Employee&gt;</code> in Spark, for example</p>\n<pre><code>Employee(1,&quot;test1&quot;,&quot;test1&quot;)\nEmployee(1,&quot;test2&quot;,&quot;test2&quot;)\nEmployee(2,&quot;test3&quot;,&quot;test3&quot;)\n</code></pre>\n<p>Expected result</p>\n<pre><code>1---&gt; [Employee(1,&quot;test1&quot;,&quot;test1&quot;),Employee(1,&quot;test2&quot;,&quot;test2&quot;)]\n2---&gt;. Employee(2,&quot;test3&quot;,&quot;test3&quot;)\n</code></pre>\n<p>I.e. I need to group the dataset by one of the fields (<code>id</code>), and get the result as a list of objects. How can I do this using Spark Java API.</p>\n"},{"tags":["java","gradle","build.gradle","saxon","securityexception"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1689464447,"post_id":76695864,"comment_id":135217583,"body_markdown":"Are there any up to date versions of the pmd packages that might use Saxon 12, like the checkstyle project?","body":"Are there any up to date versions of the pmd packages that might use Saxon 12, like the checkstyle project?"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689468586,"post_id":76695864,"comment_id":135217807,"body_markdown":"@MartinHonnen Good question. Unfortunately, PMD 7.0 depends on `Saxon-HE:10.7`, while the latest version of checkstyle depends on `Saxon-HE:12.2`.","body":"@MartinHonnen Good question. Unfortunately, PMD 7.0 depends on <code>Saxon-HE:10.7</code>, while the latest version of checkstyle depends on <code>Saxon-HE:12.2</code>."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1689501778,"post_id":76695864,"comment_id":135219894,"body_markdown":"If there is a combination of pdm and checkstyle versions that uses the same Saxon main version (e.g. 10) then I would try the combination to rule out that the error is simply caused by having two versions of Saxon on the class path.","body":"If there is a combination of pdm and checkstyle versions that uses the same Saxon main version (e.g. 10) then I would try the combination to rule out that the error is simply caused by having two versions of Saxon on the class path."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689504437,"post_id":76695864,"comment_id":135220160,"body_markdown":"It looks very much to me as if you have two different versions of Saxon on the classpath, which isn&#39;t going to work.","body":"It looks very much to me as if you have two different versions of Saxon on the classpath, which isn&#39;t going to work."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689527609,"post_id":76695864,"comment_id":135222850,"body_markdown":"@MichaelKay Thank you. Are you saying that `net.sourceforge.saxon:saxon` and `net.sf.saxon:Saxon-HE` can&#39;t co-exist?","body":"@MichaelKay Thank you. Are you saying that <code>net.sourceforge.saxon:saxon</code> and <code>net.sf.saxon:Saxon-HE</code> can&#39;t co-exist?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1689618971,"post_id":76695864,"comment_id":135236311,"body_markdown":"Correct. They are different versions of the same product, they contain identically-named classes, and that&#39;s going to confuse the ClassLoader.","body":"Correct. They are different versions of the same product, they contain identically-named classes, and that&#39;s going to confuse the ClassLoader."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1689623399,"post_id":76695864,"comment_id":135237172,"body_markdown":"Thanks, @MichaelKay. Do you want to give this as an answer?","body":"Thanks, @MichaelKay. Do you want to give this as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689714517,"creation_date":1689714517,"answer_id":76716574,"question_id":76695864,"body_markdown":"It seems that the failure is because you have two different versions of Saxon on the classpath. This isn&#39;t going to work, because the class loader will load classes from the two different versions more or less at random, and they won&#39;t be compatible with each other.\r\n\r\nThere&#39;s no easy solution. You&#39;re going to have to upgrade all parts of the application to use the same Saxon version. If some of those components are third-party code, and if they dig deep into Saxon internal interfaces rather than sticking to the stable public API, then this may not be a trivial task.","title":"Eliminating SecurityException with saxon jar in Gradle 8","body":"<p>It seems that the failure is because you have two different versions of Saxon on the classpath. This isn't going to work, because the class loader will load classes from the two different versions more or less at random, and they won't be compatible with each other.</p>\n<p>There's no easy solution. You're going to have to upgrade all parts of the application to use the same Saxon version. If some of those components are third-party code, and if they dig deep into Saxon internal interfaces rather than sticking to the stable public API, then this may not be a trivial task.</p>\n"}],"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76716574,"answer_count":1,"score":0,"last_activity_date":1689714517,"creation_date":1689456905,"question_id":76695864,"body_markdown":"I have a Gradle 8 Java program that is throwing this exception:\r\n\r\n``` \r\njava.lang.SecurityException: class &quot;net.sf.saxon.value.UntypedAtomicValue&quot;&#39;s signer\r\ninformation does not match signer information of other classes in the same package\r\n```\r\n\r\nThe class `net.sf.saxon.value.UntypedAtomicValue` appears to be part of [Saxon-HE](https://javadoc.io/static/net.sf.saxon/Saxon-HE/9.8.0-7/net/sf/saxon/value/UntypedAtomicValue.html).\r\n\r\nAn answer to [Java SecurityException: signer information does not match](https://stackoverflow.com/questions/2877262/java-securityexception-signer-information-does-not-match) says:\r\n\r\n&gt; This happens when classes belonging to the same package are loaded from different JAR files, and those JAR files have signatures signed with different certificates - or, perhaps more often, at least one is signed and one or more others are not (which includes classes loaded from directories since those AFAIK cannot be signed).\r\nAnother response indicates that it can be due to a duplicated jar.\r\n\r\nThese are the dependencies for my project:\r\n```groovy\r\ndependencies {\r\n    implementation &#39;com.github.javaparser:javaparser-symbol-solver-core:3.25.3&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;org.junit.platform:junit-platform-launcher:1.10.0-M1&#39;\r\n    implementation &#39;org.junit.platform:junit-platform-console:1.10.0-RC1&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.10.0-M1&#39;\r\n    implementation &#39;org.jacoco:org.jacoco.core:0.8.10&#39;\r\n    implementation &#39;org.json:json:20230618&#39;\r\n    implementation &#39;com.puppycrawl.tools:checkstyle:10.12.1&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd:6.54.0&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd-java:6.54.0&#39;\r\n    implementation &#39;net.sourceforge.pmd:pmd-core:6.54.0&#39;\r\n}\r\n```\r\n\r\nTo find transitive dependencies, I ran:\r\n```\r\n./gradlew dependencies &gt; dependencies.txt\r\n```\r\n\r\nHere is an excerpt of the results:\r\n```\r\n+--- com.puppycrawl.tools:checkstyle:10.12.1\r\n|    +--- info.picocli:picocli:4.7.4\r\n|    +--- org.antlr:antlr4-runtime:4.11.1\r\n|    +--- commons-beanutils:commons-beanutils:1.9.4\r\n|    |    +--- commons-logging:commons-logging:1.2\r\n|    |    \\--- commons-collections:commons-collections:3.2.2\r\n|    +--- com.google.guava:guava:32.0.1-jre (*)\r\n|    +--- org.reflections:reflections:0.10.2\r\n|    |    +--- org.javassist:javassist:3.28.0-GA -&gt; 3.29.2-GA\r\n|    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    \\--- org.slf4j:slf4j-api:1.7.32\r\n|    +--- net.sf.saxon:Saxon-HE:12.2                          &lt;-----\r\n|    |    \\--- org.xmlresolver:xmlresolver:5.1.2\r\n|    \\--- org.checkerframework:checker-qual:3.27.0 -&gt; 3.33.0\r\n+--- net.sourceforge.pmd:pmd:6.54.0\r\n+--- net.sourceforge.pmd:pmd-java:6.54.0\r\n|    +--- net.sourceforge.pmd:pmd-core:6.54.0\r\n|    |    +--- org.antlr:antlr4-runtime:4.7.2 -&gt; 4.11.1\r\n|    |    +--- com.beust:jcommander:1.48\r\n|    |    +--- net.sourceforge.saxon:saxon:9.1.0.8            &lt;-----\r\n|    |    +--- org.apache.commons:commons-lang3:3.8.1\r\n|    |    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\r\n|    |    \\--- com.google.code.gson:gson:2.8.9\r\n|    +--- net.sourceforge.saxon:saxon:9.1.0.8                 &lt;-----\r\n|    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\r\n|    \\--- org.apache.commons:commons-lang3:3.8.1\r\n+--- net.sourceforge.pmd:pmd-core:6.54.0 (*)\r\n```\r\nThe artifact `net.sf.saxon:Saxon-HE` appears only once (for `checkstyle`). The presumably related artifact `net.sourceforge.saxon:saxon` appears multiple times under `net.sourceforge.pmd` artifacts, always the same version: 9.1.0.8. (This is the only available version of [`saxon`](https://mvnrepository.com/artifact/net.sourceforge.saxon/saxon).)\r\n\r\nThe `SecurityException` goes away if I remove the `checkstyle` dependency, so it may be some sort of conflict between `net.sf.saxon:Saxon-HE`.\r\n\r\nI got a library conflict when I tried using a PMD 7 RC. Although Gradle doesn&#39;t show a dependency from checkstyle to PMD, one appears in checkstyle&#39;s [pom.xml][1].\r\n\r\nMy questions are:\r\n1. Why I am getting this error?\r\n2. How can I fix it in this Gradle 8 (Groovy DSL) project? \r\n\r\n\r\n  [1]: https://github.com/checkstyle/checkstyle/blob/master/pom.xml","title":"Eliminating SecurityException with saxon jar in Gradle 8","body":"<p>I have a Gradle 8 Java program that is throwing this exception:</p>\n<pre><code>java.lang.SecurityException: class &quot;net.sf.saxon.value.UntypedAtomicValue&quot;'s signer\ninformation does not match signer information of other classes in the same package\n</code></pre>\n<p>The class <code>net.sf.saxon.value.UntypedAtomicValue</code> appears to be part of <a href=\"https://javadoc.io/static/net.sf.saxon/Saxon-HE/9.8.0-7/net/sf/saxon/value/UntypedAtomicValue.html\" rel=\"nofollow noreferrer\">Saxon-HE</a>.</p>\n<p>An answer to <a href=\"https://stackoverflow.com/questions/2877262/java-securityexception-signer-information-does-not-match\">Java SecurityException: signer information does not match</a> says:</p>\n<blockquote>\n<p>This happens when classes belonging to the same package are loaded from different JAR files, and those JAR files have signatures signed with different certificates - or, perhaps more often, at least one is signed and one or more others are not (which includes classes loaded from directories since those AFAIK cannot be signed).\nAnother response indicates that it can be due to a duplicated jar.</p>\n</blockquote>\n<p>These are the dependencies for my project:</p>\n<pre><code>dependencies {\n    implementation 'com.github.javaparser:javaparser-symbol-solver-core:3.25.3'\n    implementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    implementation 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'org.junit.platform:junit-platform-launcher:1.10.0-M1'\n    implementation 'org.junit.platform:junit-platform-console:1.10.0-RC1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.10.0-M1'\n    implementation 'org.jacoco:org.jacoco.core:0.8.10'\n    implementation 'org.json:json:20230618'\n    implementation 'com.puppycrawl.tools:checkstyle:10.12.1'\n    implementation 'net.sourceforge.pmd:pmd:6.54.0'\n    implementation 'net.sourceforge.pmd:pmd-java:6.54.0'\n    implementation 'net.sourceforge.pmd:pmd-core:6.54.0'\n}\n</code></pre>\n<p>To find transitive dependencies, I ran:</p>\n<pre><code>./gradlew dependencies &gt; dependencies.txt\n</code></pre>\n<p>Here is an excerpt of the results:</p>\n<pre><code>+--- com.puppycrawl.tools:checkstyle:10.12.1\n|    +--- info.picocli:picocli:4.7.4\n|    +--- org.antlr:antlr4-runtime:4.11.1\n|    +--- commons-beanutils:commons-beanutils:1.9.4\n|    |    +--- commons-logging:commons-logging:1.2\n|    |    \\--- commons-collections:commons-collections:3.2.2\n|    +--- com.google.guava:guava:32.0.1-jre (*)\n|    +--- org.reflections:reflections:0.10.2\n|    |    +--- org.javassist:javassist:3.28.0-GA -&gt; 3.29.2-GA\n|    |    +--- com.google.code.findbugs:jsr305:3.0.2\n|    |    \\--- org.slf4j:slf4j-api:1.7.32\n|    +--- net.sf.saxon:Saxon-HE:12.2                          &lt;-----\n|    |    \\--- org.xmlresolver:xmlresolver:5.1.2\n|    \\--- org.checkerframework:checker-qual:3.27.0 -&gt; 3.33.0\n+--- net.sourceforge.pmd:pmd:6.54.0\n+--- net.sourceforge.pmd:pmd-java:6.54.0\n|    +--- net.sourceforge.pmd:pmd-core:6.54.0\n|    |    +--- org.antlr:antlr4-runtime:4.7.2 -&gt; 4.11.1\n|    |    +--- com.beust:jcommander:1.48\n|    |    +--- net.sourceforge.saxon:saxon:9.1.0.8            &lt;-----\n|    |    +--- org.apache.commons:commons-lang3:3.8.1\n|    |    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\n|    |    \\--- com.google.code.gson:gson:2.8.9\n|    +--- net.sourceforge.saxon:saxon:9.1.0.8                 &lt;-----\n|    +--- org.ow2.asm:asm:9.3 -&gt; 9.5\n|    \\--- org.apache.commons:commons-lang3:3.8.1\n+--- net.sourceforge.pmd:pmd-core:6.54.0 (*)\n</code></pre>\n<p>The artifact <code>net.sf.saxon:Saxon-HE</code> appears only once (for <code>checkstyle</code>). The presumably related artifact <code>net.sourceforge.saxon:saxon</code> appears multiple times under <code>net.sourceforge.pmd</code> artifacts, always the same version: 9.1.0.8. (This is the only available version of <a href=\"https://mvnrepository.com/artifact/net.sourceforge.saxon/saxon\" rel=\"nofollow noreferrer\"><code>saxon</code></a>.)</p>\n<p>The <code>SecurityException</code> goes away if I remove the <code>checkstyle</code> dependency, so it may be some sort of conflict between <code>net.sf.saxon:Saxon-HE</code>.</p>\n<p>I got a library conflict when I tried using a PMD 7 RC. Although Gradle doesn't show a dependency from checkstyle to PMD, one appears in checkstyle's <a href=\"https://github.com/checkstyle/checkstyle/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a>.</p>\n<p>My questions are:</p>\n<ol>\n<li>Why I am getting this error?</li>\n<li>How can I fix it in this Gradle 8 (Groovy DSL) project?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7866,"page":302,"page_size":100}
