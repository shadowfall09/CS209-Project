{"items":[{"tags":["java","maven","jenkins","maven-3","maven-release-plugin"],"comments":[{"owner":{"account_id":5629908,"reputation":1224,"user_id":4457144,"accept_rate":60,"display_name":"vincent"},"score":0,"creation_date":1442402474,"post_id":32606975,"comment_id":53065254,"body_markdown":"could we have some part of yours poms ?","body":"could we have some part of yours poms ?"},{"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"score":0,"creation_date":1442402949,"post_id":32606975,"comment_id":53065552,"body_markdown":"@vincent I&#39;ve attached the relevant snippets.","body":"@vincent I&#39;ve attached the relevant snippets."},{"owner":{"account_id":5629908,"reputation":1224,"user_id":4457144,"accept_rate":60,"display_name":"vincent"},"score":0,"creation_date":1442403593,"post_id":32606975,"comment_id":53065974,"body_markdown":"like @bmargulies says, maven release plugin will change the version of your pom, not the value of your own properties. And it will fail if you have a dependency in a snapshot version","body":"like @bmargulies says, maven release plugin will change the version of your pom, not the value of your own properties. And it will fail if you have a dependency in a snapshot version"}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442403171,"creation_date":1442403171,"answer_id":32607420,"question_id":32606975,"body_markdown":"Perhaps:\r\n\r\n        &lt;our-parent.version&gt;engine-1.3-SNAPSHOT&lt;/our-parent.version&gt;\r\n\r\nShould be \r\n\r\n    ${project.version}\r\n\r\n?\r\n\r\n","title":"Problems with maven-release-plugin and expressions","body":"<p>Perhaps:</p>\n\n<pre><code>    &lt;our-parent.version&gt;engine-1.3-SNAPSHOT&lt;/our-parent.version&gt;\n</code></pre>\n\n<p>Should be </p>\n\n<pre><code>${project.version}\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":1017284,"reputation":5696,"user_id":5641301,"display_name":"Johnny Cage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661274013,"creation_date":1661274013,"answer_id":73462580,"question_id":32606975,"body_markdown":"dont use properties use version directly\r\n\r\n\r\n```\r\n&lt;properties&gt;\r\n   &lt;our-parent.version&gt;1.3-SNAPSHOT&lt;/our-parent.version&gt;\r\n   &lt;our-parser.version&gt;${our-parent.version}&lt;/our-parser.version&gt;\r\n&lt;/properties&gt;\r\n\r\n....\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;our-parser&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3&lt;/version&gt;\r\n&lt;/dependency&gt;a","title":"Problems with maven-release-plugin and expressions","body":"<p>dont use properties use version directly</p>\n<pre><code>&lt;properties&gt;\n   &lt;our-parent.version&gt;1.3-SNAPSHOT&lt;/our-parent.version&gt;\n   &lt;our-parser.version&gt;${our-parent.version}&lt;/our-parser.version&gt;\n&lt;/properties&gt;\n\n....\n\n&lt;dependency&gt;\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;our-parser&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;a\n</code></pre>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661274013,"creation_date":1442401892,"question_id":32606975,"body_markdown":"We&#39;re trying to release our project with the *maven-release-plugin* on *Jenkins*.\r\n\r\nUnfortunately we&#39;re getting this error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare\r\n&gt; (default-cli) on project our-project: The artifact (our-group:our-parser)\r\n&gt; requires a different version (1.3) than what is found\r\n&gt; (${our-parent.version}) for the expression (our-parser.version) in the project\r\n&gt; (our-group:our-project). -&gt; [Help 1]\r\n\r\n\r\nAs I can see from the log files the variable `our-parent.version` has been replaced with `1.3`. `our-parser.version` references the variable `our-parent.version`. So everything should be fine. Why do we get this error then?\r\n\r\n\r\n----------\r\n\r\nHere is our POM:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;!-- some stuff --&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;our-parent.version&gt;1.3-SNAPSHOT&lt;/our-parent.version&gt;\r\n    \t\t&lt;our-parser.version&gt;${our-parent.version}&lt;/our-parser.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;!-- some stuff --&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;!-- some stuff --&gt;\r\n    \t\t&lt;module&gt;our-parser&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;!-- some stuff --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;our-parser&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${our-parser.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\t\t\t\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Problems with maven-release-plugin and expressions","body":"<p>We're trying to release our project with the <em>maven-release-plugin</em> on <em>Jenkins</em>.</p>\n\n<p>Unfortunately we're getting this error:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare\n  (default-cli) on project our-project: The artifact (our-group:our-parser)\n  requires a different version (1.3) than what is found\n  (${our-parent.version}) for the expression (our-parser.version) in the project\n  (our-group:our-project). -> [Help 1]</p>\n</blockquote>\n\n<p>As I can see from the log files the variable <code>our-parent.version</code> has been replaced with <code>1.3</code>. <code>our-parser.version</code> references the variable <code>our-parent.version</code>. So everything should be fine. Why do we get this error then?</p>\n\n<hr>\n\n<p>Here is our POM:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;!-- some stuff --&gt;\n    &lt;properties&gt;\n        &lt;our-parent.version&gt;1.3-SNAPSHOT&lt;/our-parent.version&gt;\n        &lt;our-parser.version&gt;${our-parent.version}&lt;/our-parser.version&gt;\n    &lt;/properties&gt;\n    &lt;!-- some stuff --&gt;\n    &lt;modules&gt;\n        &lt;!-- some stuff --&gt;\n        &lt;module&gt;our-parser&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- some stuff --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;groupId&lt;/groupId&gt;\n                &lt;artifactId&gt;our-parser&lt;/artifactId&gt;\n                &lt;version&gt;${our-parser.version}&lt;/version&gt;\n            &lt;/dependency&gt;           \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","kotlin","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661274011,"creation_date":1661274011,"answer_id":73462579,"question_id":73461981,"body_markdown":"An `Any` contains a single proto, not a repeated field.\r\n\r\nYou can create a `List&lt;Any&gt;`, your own `AnyRepeated` proto, or an `Any` containing a proto that has a `repeated` proto field for your chosen message type, but you cannot pack more than one proto into an `Any`.","title":"How to pack a repeated protobuf message into an Any","body":"<p>An <code>Any</code> contains a single proto, not a repeated field.</p>\n<p>You can create a <code>List&lt;Any&gt;</code>, your own <code>AnyRepeated</code> proto, or an <code>Any</code> containing a proto that has a <code>repeated</code> proto field for your chosen message type, but you cannot pack more than one proto into an <code>Any</code>.</p>\n"}],"owner":{"account_id":4791738,"reputation":305,"user_id":3870742,"display_name":"romanpilot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73462579,"answer_count":1,"score":1,"last_activity_date":1661274011,"creation_date":1661271151,"question_id":73461981,"body_markdown":"I&#39;m working with a third party service that consumes a `com.google.protobuf.Any`. I need to pass in a `repeated Message myObject` object, but how does one pack a repeated protobuf field into an Any? \r\n\r\nI&#39;m writing a Kotlin extension function along the lines of `fun List&lt;Message&gt;.toProtobufAny(): com.google.protobuf.Any {...}` to (hopefully) make this generic for any Message because I&#39;ll be sending in a variety of repeated message types. My first attempts have been to implement an `Any.pack(RepeatedFieldBuilder&lt;&gt;)`, but haven&#39;t been successful yet with the syntax. Not finding very many code example out there on this specific use case.\r\n\r\nThanks.","title":"How to pack a repeated protobuf message into an Any","body":"<p>I'm working with a third party service that consumes a <code>com.google.protobuf.Any</code>. I need to pass in a <code>repeated Message myObject</code> object, but how does one pack a repeated protobuf field into an Any?</p>\n<p>I'm writing a Kotlin extension function along the lines of <code>fun List&lt;Message&gt;.toProtobufAny(): com.google.protobuf.Any {...}</code> to (hopefully) make this generic for any Message because I'll be sending in a variety of repeated message types. My first attempts have been to implement an <code>Any.pack(RepeatedFieldBuilder&lt;&gt;)</code>, but haven't been successful yet with the syntax. Not finding very many code example out there on this specific use case.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-8.1-oreo","android-go"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1525591001,"post_id":50196665,"comment_id":87411199,"body_markdown":"There&#39;s a full 8.1 build.","body":"There&#39;s a full 8.1 build."},{"owner":{"account_id":170313,"reputation":1244,"user_id":396931,"accept_rate":64,"display_name":"bentzy"},"score":1,"creation_date":1525690862,"post_id":50196665,"comment_id":87442083,"body_markdown":"@chrylis what do you mean?","body":"@chrylis what do you mean?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1525709617,"post_id":50196665,"comment_id":87453796,"body_markdown":"Android 8.1 is already shipping on the Pixel 2.","body":"Android 8.1 is already shipping on the Pixel 2."}],"answers":[{"tags":[],"owner":{"account_id":7809921,"reputation":962,"user_id":5906447,"display_name":"Sahil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527183080,"creation_date":1525587811,"answer_id":50196824,"question_id":50196665,"body_markdown":"There doesn&#39;t seems to be direct api for retrieving whether app is running on GO version.\r\n\r\nBut you may cover the case by combination of following :\r\n\r\n - based on device memory and deciding on threshold value for your app:\r\n\r\n        private ActivityManager.MemoryInfo getAvailableMemory() {\r\n         ActivityManager activityManager = \r\n        (ActivityManager) this.getSystemService(ACTIVITY_SERVICE);\r\n        ActivityManager.MemoryInfo memoryInfo = new \r\n        ActivityManager.MemoryInfo();\r\n        activityManager.getMemoryInfo(memoryInfo);\r\n        return memoryInfo;\r\n        }\r\n\r\n - Further similar steps can be take for particular model/manufacturer : \r\n\r\n        String deviceName = android.os.Build.MODEL;\r\n        String deviceMan = android.os.Build.MANUFACTURER;\r\n\r\nHope it helps.","title":"How to detect check or identify app is running on Android Go edition 8.1 Device programatically","body":"<p>There doesn't seems to be direct api for retrieving whether app is running on GO version.</p>\n\n<p>But you may cover the case by combination of following :</p>\n\n<ul>\n<li><p>based on device memory and deciding on threshold value for your app:</p>\n\n<pre><code>private ActivityManager.MemoryInfo getAvailableMemory() {\n ActivityManager activityManager = \n(ActivityManager) this.getSystemService(ACTIVITY_SERVICE);\nActivityManager.MemoryInfo memoryInfo = new \nActivityManager.MemoryInfo();\nactivityManager.getMemoryInfo(memoryInfo);\nreturn memoryInfo;\n}\n</code></pre></li>\n<li><p>Further similar steps can be take for particular model/manufacturer : </p>\n\n<pre><code>String deviceName = android.os.Build.MODEL;\nString deviceMan = android.os.Build.MANUFACTURER;\n</code></pre></li>\n</ul>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":7010076,"reputation":119,"user_id":5373287,"display_name":"TechnoTrancer"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1553643554,"creation_date":1553643554,"answer_id":55367711,"question_id":50196665,"body_markdown":"This works for me, based on preinstalled Apps.\r\n \r\nIf *Assistant Go* or *Google Go* versions are installed, definitely is an Android Go device.\r\n\r\nIn rare cases that these apps didn&#39;t come preinstalled we look for *Gmail Go* and also *Youtube Go* preinstalled.\r\n\r\nTested on Huawei Y5 Lite with Android 8.1 (Go).\r\n\r\n```java\r\n\r\npublic static boolean isAndroidGoEdition(Context context) {\r\n    final String GMAIL_GO = &quot;com.google.android.gm.lite&quot;;\r\n    final String YOUTUBE_GO = &quot;com.google.android.apps.youtube.mango&quot;;\r\n    final String GOOGLE_GO = &quot;com.google.android.apps.searchlite&quot;;\r\n    final String ASSISTANT_GO = &quot;com.google.android.apps.assistant&quot;;\r\n\r\n    boolean isGmailGoPreInstalled = isPreInstalledApp(context, GMAIL_GO);\r\n    boolean isYoutubeGoPreInstalled = isPreInstalledApp(context, YOUTUBE_GO);\r\n    boolean isGoogleGoPreInstalled = isPreInstalledApp(context, GOOGLE_GO);\r\n    boolean isAssistantGoPreInstalled = isPreInstalledApp(context, ASSISTANT_GO);\r\n\r\n    if(isGoogleGoPreInstalled | isAssistantGoPreInstalled){\r\n        return true;\r\n    }\r\n    if(isGmailGoPreInstalled &amp;&amp; isYoutubeGoPreInstalled){\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nprivate static boolean isPreInstalledApp(Context context, String packageName){\r\n    try {\r\n        PackageManager pacMan = context.getPackageManager();\r\n        PackageInfo packageInfo = pacMan.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\r\n        if(packageInfo != null){\r\n            //Check if comes with the image OS\r\n            int mask = ApplicationInfo.FLAG_SYSTEM | ApplicationInfo.FLAG_UPDATED_SYSTEM_APP;\r\n            return (packageInfo.applicationInfo.flags &amp; mask) != 0;\r\n        }\r\n    } catch (PackageManager.NameNotFoundException e) {\r\n        //The app isn&#39;t installed\r\n    }\r\n    return false;\r\n}\r\n\r\n```","title":"How to detect check or identify app is running on Android Go edition 8.1 Device programatically","body":"<p>This works for me, based on preinstalled Apps.</p>\n\n<p>If <em>Assistant Go</em> or <em>Google Go</em> versions are installed, definitely is an Android Go device.</p>\n\n<p>In rare cases that these apps didn't come preinstalled we look for <em>Gmail Go</em> and also <em>Youtube Go</em> preinstalled.</p>\n\n<p>Tested on Huawei Y5 Lite with Android 8.1 (Go).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static boolean isAndroidGoEdition(Context context) {\n    final String GMAIL_GO = \"com.google.android.gm.lite\";\n    final String YOUTUBE_GO = \"com.google.android.apps.youtube.mango\";\n    final String GOOGLE_GO = \"com.google.android.apps.searchlite\";\n    final String ASSISTANT_GO = \"com.google.android.apps.assistant\";\n\n    boolean isGmailGoPreInstalled = isPreInstalledApp(context, GMAIL_GO);\n    boolean isYoutubeGoPreInstalled = isPreInstalledApp(context, YOUTUBE_GO);\n    boolean isGoogleGoPreInstalled = isPreInstalledApp(context, GOOGLE_GO);\n    boolean isAssistantGoPreInstalled = isPreInstalledApp(context, ASSISTANT_GO);\n\n    if(isGoogleGoPreInstalled | isAssistantGoPreInstalled){\n        return true;\n    }\n    if(isGmailGoPreInstalled &amp;&amp; isYoutubeGoPreInstalled){\n        return true;\n    }\n\n    return false;\n}\n\nprivate static boolean isPreInstalledApp(Context context, String packageName){\n    try {\n        PackageManager pacMan = context.getPackageManager();\n        PackageInfo packageInfo = pacMan.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\n        if(packageInfo != null){\n            //Check if comes with the image OS\n            int mask = ApplicationInfo.FLAG_SYSTEM | ApplicationInfo.FLAG_UPDATED_SYSTEM_APP;\n            return (packageInfo.applicationInfo.flags &amp; mask) != 0;\n        }\n    } catch (PackageManager.NameNotFoundException e) {\n        //The app isn't installed\n    }\n    return false;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3805353,"reputation":1128,"user_id":3157940,"display_name":"Nick"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661273890,"creation_date":1603404819,"answer_id":64491251,"question_id":50196665,"body_markdown":"In my experience, is `ActivityManager.isLowRamDevice()` is equivalent to being an Android Go phone. \r\n```java\r\nboolean isAndroidGo() {\r\n    return ((ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE))\r\n        .isLowRamDevice();\r\n    }\r\n}\r\n```\r\n\r\n Although, the last time I looked in the documentation, I don&#39;t think it says anywhere, explicitly, that Android Go and isLowRamDevice() are equivalent.  ","title":"How to detect check or identify app is running on Android Go edition 8.1 Device programatically","body":"<p>In my experience, is <code>ActivityManager.isLowRamDevice()</code> is equivalent to being an Android Go phone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isAndroidGo() {\n    return ((ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE))\n        .isLowRamDevice();\n    }\n}\n</code></pre>\n<p>Although, the last time I looked in the documentation, I don't think it says anywhere, explicitly, that Android Go and isLowRamDevice() are equivalent.</p>\n"},{"tags":[],"owner":{"account_id":18798729,"reputation":91,"user_id":13709580,"display_name":"Naftoli Ost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640254416,"creation_date":1640254416,"answer_id":70460624,"question_id":50196665,"body_markdown":"No, as [@chrylis](https://stackoverflow.com/questions/50196665/how-to-detect-check-or-identify-app-is-running-on-android-go-edition-8-1-device#comment87411199_50196665) pointed out, checking the version number wont help because there is a full Android version with the same number.\r\n\r\n\r\nAccording to the [documentation](https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_RAM_LOW), to check whether the device is running Android Go you could call either\r\n```\r\n ActivityManager.isLowRamDevice();\r\n```\r\nor\r\n```\r\nPackageManager.hasSystemFeature(&quot;FEATURE_RAM_LOW&quot;);\r\n```\r\nBoth will return `true` if the device is running Android Go edition, and `false` if it&#39;s running the regular Android.\r\n\r\nI would rely on these APIs rather than checking for other Android Go edition system apps (like the android Go version of Gmail) because those apps may have been installed or uninstalled by the user, potentially triggering false positives or false negatives.","title":"How to detect check or identify app is running on Android Go edition 8.1 Device programatically","body":"<p>No, as <a href=\"https://stackoverflow.com/questions/50196665/how-to-detect-check-or-identify-app-is-running-on-android-go-edition-8-1-device#comment87411199_50196665\">@chrylis</a> pointed out, checking the version number wont help because there is a full Android version with the same number.</p>\n<p>According to the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_RAM_LOW\" rel=\"nofollow noreferrer\">documentation</a>, to check whether the device is running Android Go you could call either</p>\n<pre><code> ActivityManager.isLowRamDevice();\n</code></pre>\n<p>or</p>\n<pre><code>PackageManager.hasSystemFeature(&quot;FEATURE_RAM_LOW&quot;);\n</code></pre>\n<p>Both will return <code>true</code> if the device is running Android Go edition, and <code>false</code> if it's running the regular Android.</p>\n<p>I would rely on these APIs rather than checking for other Android Go edition system apps (like the android Go version of Gmail) because those apps may have been installed or uninstalled by the user, potentially triggering false positives or false negatives.</p>\n"}],"owner":{"account_id":170313,"reputation":1244,"user_id":396931,"accept_rate":64,"display_name":"bentzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2800,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1661273890,"creation_date":1525586043,"question_id":50196665,"body_markdown":"I&#39;d like to disable some features and reduce memory consumption on Android Go Devices. I&#39;d like to have one APK for all Android devices.\r\n\r\nHow do I detect that my app is running on an Android Go 8.1 Device?\r\nIs it sufficient to check for version 8.1 or will 8.1 version be distributed to normal Android Devices as well?","title":"How to detect check or identify app is running on Android Go edition 8.1 Device programatically","body":"<p>I'd like to disable some features and reduce memory consumption on Android Go Devices. I'd like to have one APK for all Android devices.</p>\n\n<p>How do I detect that my app is running on an Android Go 8.1 Device?\nIs it sufficient to check for version 8.1 or will 8.1 version be distributed to normal Android Devices as well?</p>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661273488,"creation_date":1661273488,"answer_id":73462457,"question_id":73452028,"body_markdown":"To anyone else that finds this I had two errors in my config.\r\n\r\n1.  IP finder only had a single port not range.  Not sure how this changed.\r\ncorrected bean:\r\n```\r\n&lt;bean id=&quot;ipFinder&quot; class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\r\n\t\t&lt;property name=&quot;shared&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;property name=&quot;addresses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;**.**.**.**:47500..47600&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n2. Somehow my server was not using the default com spi port number, not sure how this changed. Once I corrected these two issue it connected without any problem.","title":"Ignite Client Fails to Establish Connection to Cluster, Causes JVM to be Halted Immediately","body":"<p>To anyone else that finds this I had two errors in my config.</p>\n<ol>\n<li>IP finder only had a single port not range.  Not sure how this changed.\ncorrected bean:</li>\n</ol>\n<pre><code>&lt;bean id=&quot;ipFinder&quot; class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\n        &lt;property name=&quot;shared&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;addresses&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;**.**.**.**:47500..47600&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Somehow my server was not using the default com spi port number, not sure how this changed. Once I corrected these two issue it connected without any problem.</li>\n</ol>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73462457,"answer_count":1,"score":1,"last_activity_date":1661273488,"creation_date":1661212237,"question_id":73452028,"body_markdown":"I am working on a project that already was using ignite but with have run into a new issue. \r\n\r\nThe Ignite client successfully establishes connection to the cluster and begins initiating the caches.  After cache initiation the ignite client crashes, shuts down the JVM and consequently kills the spawning process.  \r\n\r\nI am not aware of any changes that have occurred in my configuration and I have not upgraded the Ignite version (Ignite 2.12.0), any tips on what may be wrong would be apreciated. \r\n\r\nIgnite Client Logs: \r\n```\r\n22-Aug-2022 21:39:48.082 INFO [disco-notifier-worker-#38%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Assigned mvcc coordinator [crd=MvccCoordinator [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], nodeId=8280e085-0fdb-4288-9b4e-75779ac8e961, ver=1661204058977, local=false, initialized=false]]\r\n22-Aug-2022 21:39:48.105 INFO [sys-#43%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Writing cluster ID and tag to metastorage on ready for write ClusterIdAndTag [id=c05dad9a-56f1-4e90-9a8e-2ef8f627c1b7, tag=angry_newton]\r\n22-Aug-2022 21:39:48.106 WARNING [main] org.apache.ignite.logger.java.JavaLogger.warning Local node&#39;s value of &#39;java.net.preferIPv4Stack&#39; system property differs from remote node&#39;s (all nodes in topology should have identical value) [locPreferIpV4=false, rmtPreferIpV4=true, locId8=535cb96f, rmtId8=8280e085, rmtAddrs=[**.**.**.**/**.**.**.**, /127.0.0.1], rmtNode=ClusterNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, order=1, addr=[**.**.**.**, 127.0.0.1], daemon=false]]\r\n22-Aug-2022 21:39:48.109 WARNING [main] org.apache.ignite.logger.java.JavaLogger.warning Nodes started on local machine require more than 80% of physical RAM what can lead to significant slowdown due to swapping (please decrease JVM heap size, data region size or checkpoint buffer size) [required=4801MB, available=8156MB]\r\n22-Aug-2022 21:39:48.278 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started exchange init [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], crd=false, evt=NODE_JOINED, evtNode=535cb96f-3e0b-402d-bdcc-128446028ca5, customEvt=null, allowMerge=true, exchangeFreeSwitch=false]\r\n22-Aug-2022 21:39:48.279 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Components activation performed in 0 ms.\r\n22-Aug-2022 21:39:48.610 INFO [sys-#50%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started cache [name=FOOD_CACHE, id=251327108, dataRegionName=null, mode=REPLICATED, atomicity=ATOMIC, backups=2147483647, mvcc=false]\r\n...\r\n22-Aug-2022 21:39:48.620 INFO [sys-#47%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started cache [name=BAR_CACHE, id=-2108476111, dataRegionName=null, mode=REPLICATED, atomicity=ATOMIC, backups=2147483647, mvcc=false]\r\n22-Aug-2022 21:39:48.621 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Starting caches on local join performed in 343 ms.\r\n22-Aug-2022 21:39:48.648 SEVERE [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error Failed to send message to remote node [node=TcpDiscoveryNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, consistentId=**.**.**.**,127.0.0.1:47500, addrs=ArrayList [**.**.**.**, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /**.**.**.**:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661204387800, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661204388092, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=535cb96f-3e0b-402d-bdcc-128446028ca5, consistentId=535cb96f-3e0b-402d-bdcc-128446028ca5, addrs=ArrayList [0:0:0:0:0:0:0:1, **.**.**.**, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /**.**.**.**:0], discPort=0, order=4, intOrder=0, lastExchangeTime=1661204387636, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=4, msgTemplate=null, span=org.apache.ignite.internal.processors.tracing.NoopSpan@1d6ea3e0, nodeId8=535cb96f, msg=null, type=NODE_JOINED, tstamp=1661204388076], nodeId=535cb96f, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661204387076, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]]]]\r\n        class org.apache.ignite.IgniteCheckedException: No session found\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createNioSession(GridNioServerWrapper.java:660)\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:693)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:1264)\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:691)\r\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.createCommunicationClient(ConnectionClientPool.java:481)\r\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.reserveClient(ConnectionClientPool.java:240)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:1195)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:1142)\r\n                at org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100)\r\n                at org.apache.ignite.internal.managers.communication.GridIoManager.sendToGridTopic(GridIoManager.java:2193)\r\n                at org.apache.ignite.internal.processors.cache.GridCacheIoManager.send(GridCacheIoManager.java:1266)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.sendLocalPartitions(GridDhtPartitionsExchangeFuture.java:2201)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.clientOnlyExchange(GridDhtPartitionsExchangeFuture.java:1589)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:1043)\r\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\r\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\r\n                at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\r\n                at java.base/java.lang.Thread.run(Unknown Source)\r\n...\r\n22-Aug-2022 21:39:50.823 SEVERE [ttl-cleanup-worker-#52%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=SYSTEM_WORKER_TERMINATION, err=class o.a.i.IgniteException: Failed to wait for initialization topology [err=Failed to send message (node may have left the grid or TCP connection cannot be established due to firewall issues) [node=TcpDiscoveryNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, consistentId=**.**.**.**,127.0.0.1:47500, addrs=ArrayList [**.**.**.**, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /**.**.**.**:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661204387800, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], topic=TOPIC_CACHE, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661204388092, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=535cb96f-3e0b-402d-bdcc-128446028ca5, consistentId=535cb96f-3e0b-402d-bdcc-128446028ca5, addrs=ArrayList [0:0:0:0:0:0:0:1, **.**.**.**, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /**.**.**.**:0], discPort=0, order=4, intOrder=0, lastExchangeTime=1661204387636, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=4, msgTemplate=null, span=o.a.i.i.processors.tracing.NoopSpan@1d6ea3e0, nodeId8=535cb96f, msg=null, type=NODE_JOINED, tstamp=1661204388076], nodeId=535cb96f, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661204387076, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]], policy=2]]]]\r\n```\r\n\r\nServer Logs:\r\n```\r\n[23:46:41,726][SEVERE][exchange-worker-#50][GridDhtPartitionsExchangeFuture] Failed to reinitialize local partitions (rebalancing will be stopped): GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=1, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=d4c6c193-7f82-4ecd-83bc-65fe171ad51c, consistentId=10.30.161.13,127.0.0.1:47500, addrs=ArrayList [10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /10.30.161.13:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661212000886, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], topVer=1, msgTemplate=null, span=o.a.i.i.processors.tracing.NoopSpan@cd2e57, nodeId8=d4c6c193, msg=null, type=NODE_JOINED, tstamp=1661212000630], nodeId=d4c6c193, evt=NODE_JOINED]\r\nclass org.apache.ignite.IgniteException: Failed to execute affinity operation on cache groups\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.forAllRegisteredCacheGroups(CacheAffinitySharedManager.java:1305)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.initCoordinatorCaches(CacheAffinitySharedManager.java:1974)\r\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.initCoordinatorCaches(GridDhtPartitionsExchangeFuture.java:842)\r\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:990)\r\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\r\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\r\n        at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:2021)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:1974)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.lambda$forAllRegisteredCacheGroups$e0a6939d$1(CacheAffinitySharedManager.java:1299)\r\n        at org.apache.ignite.internal.util.IgniteUtils.lambda$null$1(IgniteUtils.java:11489)\r\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        ... 1 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n[23:46:41,741][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\r\nclass org.apache.ignite.IgniteCheckedException: Failed to execute affinity operation on cache groups\r\n        at org.apache.ignite.internal.util.IgniteUtils.cast(IgniteUtils.java:7774)\r\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.resolve(GridFutureAdapter.java:260)\r\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:234)\r\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:160)\r\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:152)\r\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager.onKernalStart(GridCachePartitionExchangeManager.java:902)\r\n        at org.apache.ignite.internal.processors.cache.GridCacheProcessor.onKernalStart(GridCacheProcessor.java:724)\r\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1376)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1798)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1720)\r\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1159)\r\n        at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1053)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:939)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:838)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:708)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:677)\r\n        at org.apache.ignite.Ignition.start(Ignition.java:353)\r\n        at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:359)\r\nCaused by: class org.apache.ignite.IgniteException: Failed to execute affinity operation on cache groups\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.forAllRegisteredCacheGroups(CacheAffinitySharedManager.java:1305)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.initCoordinatorCaches(CacheAffinitySharedManager.java:1974)\r\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.initCoordinatorCaches(GridDhtPartitionsExchangeFuture.java:842)\r\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:990)\r\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\r\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\r\n        at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:2021)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:1974)\r\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.lambda$forAllRegisteredCacheGroups$e0a6939d$1(CacheAffinitySharedManager.java:1299)\r\n        at org.apache.ignite.internal.util.IgniteUtils.lambda$null$1(IgniteUtils.java:11489)\r\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        ... 1 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\r\n                ... 8 more\r\n```\r\nEdit:\r\n\r\nI tried start fresh by:\r\n1. Deleting the ignite {WORK_DIR}.\r\n2. Deleting the Ingnite server files and reinstalling.\r\n\r\n\r\nAfter this I no longer saw the Failed to find completed exchange ```future to fetch affinity``` but a very similar error I have seen in the past (see below).  Normally this was fixed by adding the local port to the communication spi bean defenition on my client config, however that is currently there.  \r\n\r\nLocal port config:\r\n``` \r\n&lt;bean id=&quot;communicationSpi&quot; class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\r\n    &lt;property name=&quot;slowClientQueueLimit&quot; value=&quot;1000&quot; /&gt;\r\n    &lt;property name=&quot;localPort&quot; value=&quot;47500&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n ```\r\n\r\nNew client error:\r\n```\r\n23-Aug-2022 14:04:54.365 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Starting caches on local join performed in 958 ms.\r\n23-Aug-2022 14:04:54.475 SEVERE [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error Failed to send message to remote node [node=TcpDiscoveryNode [id=bfef6550-fe0d-424d-8761-703363fedb39, consistentId=10.30.161.13,127.0.0.1:47500, addrs=ArrayList [10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /10.30.161.13:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661263492635, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661263493070, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=2, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=89939261-6b12-44ec-bcef-7a36f2c3c85c, consistentId=89939261-6b12-44ec-bcef-7a36f2c3c85c, addrs=ArrayList [0:0:0:0:0:0:0:1, 10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /10.30.161.13:0], discPort=0, order=2, intOrder=0, lastExchangeTime=1661263492344, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=2, msgTemplate=null, span=org.apache.ignite.internal.processors.tracing.NoopSpan@478e19db, nodeId8=89939261, msg=null, type=NODE_JOINED, tstamp=1661263492986], nodeId=89939261, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661263491804, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]]]]\r\n        class org.apache.ignite.IgniteCheckedException: No session found\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createNioSession(GridNioServerWrapper.java:660)\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:693)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:1264)\r\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:691)\r\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.createCommunicationClient(ConnectionClientPool.java:481)\r\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.reserveClient(ConnectionClientPool.java:240)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:1195)\r\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:1142)\r\n                at org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100)\r\n                at org.apache.ignite.internal.managers.communication.GridIoManager.sendToGridTopic(GridIoManager.java:2193)\r\n                at org.apache.ignite.internal.processors.cache.GridCacheIoManager.send(GridCacheIoManager.java:1266)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.sendLocalPartitions(GridDhtPartitionsExchangeFuture.java:2201)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.clientOnlyExchange(GridDhtPartitionsExchangeFuture.java:1589)\r\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:1043)\r\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\r\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\r\n                at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\r\n                at java.base/java.lang.Thread.run(Unknown Source)\r\n\r\n```","title":"Ignite Client Fails to Establish Connection to Cluster, Causes JVM to be Halted Immediately","body":"<p>I am working on a project that already was using ignite but with have run into a new issue.</p>\n<p>The Ignite client successfully establishes connection to the cluster and begins initiating the caches.  After cache initiation the ignite client crashes, shuts down the JVM and consequently kills the spawning process.</p>\n<p>I am not aware of any changes that have occurred in my configuration and I have not upgraded the Ignite version (Ignite 2.12.0), any tips on what may be wrong would be apreciated.</p>\n<p>Ignite Client Logs:</p>\n<pre><code>22-Aug-2022 21:39:48.082 INFO [disco-notifier-worker-#38%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Assigned mvcc coordinator [crd=MvccCoordinator [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], nodeId=8280e085-0fdb-4288-9b4e-75779ac8e961, ver=1661204058977, local=false, initialized=false]]\n22-Aug-2022 21:39:48.105 INFO [sys-#43%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Writing cluster ID and tag to metastorage on ready for write ClusterIdAndTag [id=c05dad9a-56f1-4e90-9a8e-2ef8f627c1b7, tag=angry_newton]\n22-Aug-2022 21:39:48.106 WARNING [main] org.apache.ignite.logger.java.JavaLogger.warning Local node's value of 'java.net.preferIPv4Stack' system property differs from remote node's (all nodes in topology should have identical value) [locPreferIpV4=false, rmtPreferIpV4=true, locId8=535cb96f, rmtId8=8280e085, rmtAddrs=[**.**.**.**/**.**.**.**, /127.0.0.1], rmtNode=ClusterNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, order=1, addr=[**.**.**.**, 127.0.0.1], daemon=false]]\n22-Aug-2022 21:39:48.109 WARNING [main] org.apache.ignite.logger.java.JavaLogger.warning Nodes started on local machine require more than 80% of physical RAM what can lead to significant slowdown due to swapping (please decrease JVM heap size, data region size or checkpoint buffer size) [required=4801MB, available=8156MB]\n22-Aug-2022 21:39:48.278 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started exchange init [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], crd=false, evt=NODE_JOINED, evtNode=535cb96f-3e0b-402d-bdcc-128446028ca5, customEvt=null, allowMerge=true, exchangeFreeSwitch=false]\n22-Aug-2022 21:39:48.279 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Components activation performed in 0 ms.\n22-Aug-2022 21:39:48.610 INFO [sys-#50%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started cache [name=FOOD_CACHE, id=251327108, dataRegionName=null, mode=REPLICATED, atomicity=ATOMIC, backups=2147483647, mvcc=false]\n...\n22-Aug-2022 21:39:48.620 INFO [sys-#47%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Started cache [name=BAR_CACHE, id=-2108476111, dataRegionName=null, mode=REPLICATED, atomicity=ATOMIC, backups=2147483647, mvcc=false]\n22-Aug-2022 21:39:48.621 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Starting caches on local join performed in 343 ms.\n22-Aug-2022 21:39:48.648 SEVERE [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error Failed to send message to remote node [node=TcpDiscoveryNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, consistentId=**.**.**.**,127.0.0.1:47500, addrs=ArrayList [**.**.**.**, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /**.**.**.**:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661204387800, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661204388092, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=535cb96f-3e0b-402d-bdcc-128446028ca5, consistentId=535cb96f-3e0b-402d-bdcc-128446028ca5, addrs=ArrayList [0:0:0:0:0:0:0:1, **.**.**.**, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /**.**.**.**:0], discPort=0, order=4, intOrder=0, lastExchangeTime=1661204387636, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=4, msgTemplate=null, span=org.apache.ignite.internal.processors.tracing.NoopSpan@1d6ea3e0, nodeId8=535cb96f, msg=null, type=NODE_JOINED, tstamp=1661204388076], nodeId=535cb96f, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661204387076, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]]]]\n        class org.apache.ignite.IgniteCheckedException: No session found\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createNioSession(GridNioServerWrapper.java:660)\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:693)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:1264)\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:691)\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.createCommunicationClient(ConnectionClientPool.java:481)\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.reserveClient(ConnectionClientPool.java:240)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:1195)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:1142)\n                at org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100)\n                at org.apache.ignite.internal.managers.communication.GridIoManager.sendToGridTopic(GridIoManager.java:2193)\n                at org.apache.ignite.internal.processors.cache.GridCacheIoManager.send(GridCacheIoManager.java:1266)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.sendLocalPartitions(GridDhtPartitionsExchangeFuture.java:2201)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.clientOnlyExchange(GridDhtPartitionsExchangeFuture.java:1589)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:1043)\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\n                at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\n                at java.base/java.lang.Thread.run(Unknown Source)\n...\n22-Aug-2022 21:39:50.823 SEVERE [ttl-cleanup-worker-#52%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=SYSTEM_WORKER_TERMINATION, err=class o.a.i.IgniteException: Failed to wait for initialization topology [err=Failed to send message (node may have left the grid or TCP connection cannot be established due to firewall issues) [node=TcpDiscoveryNode [id=8280e085-0fdb-4288-9b4e-75779ac8e961, consistentId=**.**.**.**,127.0.0.1:47500, addrs=ArrayList [**.**.**.**, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /**.**.**.**:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661204387800, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], topic=TOPIC_CACHE, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661204388092, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=4, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=535cb96f-3e0b-402d-bdcc-128446028ca5, consistentId=535cb96f-3e0b-402d-bdcc-128446028ca5, addrs=ArrayList [0:0:0:0:0:0:0:1, **.**.**.**, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /**.**.**.**:0], discPort=0, order=4, intOrder=0, lastExchangeTime=1661204387636, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=4, msgTemplate=null, span=o.a.i.i.processors.tracing.NoopSpan@1d6ea3e0, nodeId8=535cb96f, msg=null, type=NODE_JOINED, tstamp=1661204388076], nodeId=535cb96f, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661204387076, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]], policy=2]]]]\n</code></pre>\n<p>Server Logs:</p>\n<pre><code>[23:46:41,726][SEVERE][exchange-worker-#50][GridDhtPartitionsExchangeFuture] Failed to reinitialize local partitions (rebalancing will be stopped): GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=1, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=d4c6c193-7f82-4ecd-83bc-65fe171ad51c, consistentId=10.30.161.13,127.0.0.1:47500, addrs=ArrayList [10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /10.30.161.13:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661212000886, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], topVer=1, msgTemplate=null, span=o.a.i.i.processors.tracing.NoopSpan@cd2e57, nodeId8=d4c6c193, msg=null, type=NODE_JOINED, tstamp=1661212000630], nodeId=d4c6c193, evt=NODE_JOINED]\nclass org.apache.ignite.IgniteException: Failed to execute affinity operation on cache groups\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.forAllRegisteredCacheGroups(CacheAffinitySharedManager.java:1305)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.initCoordinatorCaches(CacheAffinitySharedManager.java:1974)\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.initCoordinatorCaches(GridDhtPartitionsExchangeFuture.java:842)\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:990)\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\n        at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:2021)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:1974)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.lambda$forAllRegisteredCacheGroups$e0a6939d$1(CacheAffinitySharedManager.java:1299)\n        at org.apache.ignite.internal.util.IgniteUtils.lambda$null$1(IgniteUtils.java:11489)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        ... 1 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n[23:46:41,741][SEVERE][main][IgniteKernal] Got exception while starting (will rollback startup routine).\nclass org.apache.ignite.IgniteCheckedException: Failed to execute affinity operation on cache groups\n        at org.apache.ignite.internal.util.IgniteUtils.cast(IgniteUtils.java:7774)\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.resolve(GridFutureAdapter.java:260)\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get0(GridFutureAdapter.java:234)\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:160)\n        at org.apache.ignite.internal.util.future.GridFutureAdapter.get(GridFutureAdapter.java:152)\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager.onKernalStart(GridCachePartitionExchangeManager.java:902)\n        at org.apache.ignite.internal.processors.cache.GridCacheProcessor.onKernalStart(GridCacheProcessor.java:724)\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1376)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:1798)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1720)\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1159)\n        at org.apache.ignite.internal.IgnitionEx.startConfigurations(IgnitionEx.java:1053)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:939)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:838)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:708)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:677)\n        at org.apache.ignite.Ignition.start(Ignition.java:353)\n        at org.apache.ignite.startup.cmdline.CommandLineStartup.main(CommandLineStartup.java:359)\nCaused by: class org.apache.ignite.IgniteException: Failed to execute affinity operation on cache groups\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.forAllRegisteredCacheGroups(CacheAffinitySharedManager.java:1305)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.initCoordinatorCaches(CacheAffinitySharedManager.java:1974)\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.initCoordinatorCaches(GridDhtPartitionsExchangeFuture.java:842)\n        at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:990)\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\n        at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\n        at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:2021)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager$17.applyx(CacheAffinitySharedManager.java:1974)\n        at org.apache.ignite.internal.processors.cache.CacheAffinitySharedManager.lambda$forAllRegisteredCacheGroups$e0a6939d$1(CacheAffinitySharedManager.java:1299)\n        at org.apache.ignite.internal.util.IgniteUtils.lambda$null$1(IgniteUtils.java:11489)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        ... 1 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n        Suppressed: class org.apache.ignite.IgniteCheckedException: Failed to find completed exchange future to fetch affinity.\n                ... 8 more\n</code></pre>\n<p>Edit:</p>\n<p>I tried start fresh by:</p>\n<ol>\n<li>Deleting the ignite {WORK_DIR}.</li>\n<li>Deleting the Ingnite server files and reinstalling.</li>\n</ol>\n<p>After this I no longer saw the Failed to find completed exchange <code>future to fetch affinity</code> but a very similar error I have seen in the past (see below).  Normally this was fixed by adding the local port to the communication spi bean defenition on my client config, however that is currently there.</p>\n<p>Local port config:</p>\n<pre><code>&lt;bean id=&quot;communicationSpi&quot; class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\n    &lt;property name=&quot;slowClientQueueLimit&quot; value=&quot;1000&quot; /&gt;\n    &lt;property name=&quot;localPort&quot; value=&quot;47500&quot;/&gt;\n&lt;/bean&gt;\n\n</code></pre>\n<p>New client error:</p>\n<pre><code>23-Aug-2022 14:04:54.365 INFO [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.info Starting caches on local join performed in 958 ms.\n23-Aug-2022 14:04:54.475 SEVERE [exchange-worker-#45%igniteClientInstance%] org.apache.ignite.logger.java.JavaLogger.error Failed to send message to remote node [node=TcpDiscoveryNode [id=bfef6550-fe0d-424d-8761-703363fedb39, consistentId=10.30.161.13,127.0.0.1:47500, addrs=ArrayList [10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/127.0.0.1:47500, /10.30.161.13:47500], discPort=47500, order=1, intOrder=1, lastExchangeTime=1661263492635, loc=false, ver=2.12.0#20220108-sha1:b1289f75, isClient=false], msg=GridIoMessage [plc=2, topic=TOPIC_CACHE, topicOrd=8, ordered=false, timeout=0, skipOnTimeout=false, msg=GridDhtPartitionsSingleMessage [parts=null, partCntrs=null, partsSizes=null, partHistCntrs=null, err=null, client=true, exchangeStartTime=1661263493070, finishMsg=null, super=GridDhtPartitionsAbstractMessage [exchId=GridDhtPartitionExchangeId [topVer=AffinityTopologyVersion [topVer=2, minorTopVer=0], discoEvt=DiscoveryEvent [evtNode=TcpDiscoveryNode [id=89939261-6b12-44ec-bcef-7a36f2c3c85c, consistentId=89939261-6b12-44ec-bcef-7a36f2c3c85c, addrs=ArrayList [0:0:0:0:0:0:0:1, 10.30.161.13, 127.0.0.1], sockAddrs=HashSet [/[0:0:0:0:0:0:0:1]:0, /127.0.0.1:0, /10.30.161.13:0], discPort=0, order=2, intOrder=0, lastExchangeTime=1661263492344, loc=true, ver=2.12.0#20220108-sha1:b1289f75, isClient=true], topVer=2, msgTemplate=null, span=org.apache.ignite.internal.processors.tracing.NoopSpan@478e19db, nodeId8=89939261, msg=null, type=NODE_JOINED, tstamp=1661263492986], nodeId=89939261, evt=NODE_JOINED], lastVer=GridCacheVersion [topVer=0, order=1661263491804, nodeOrder=0], super=GridCacheMessage [msgId=1, depInfo=null, lastAffChangedTopVer=AffinityTopologyVersion [topVer=-1, minorTopVer=0], err=null, skipPrepare=false]]]]]\n        class org.apache.ignite.IgniteCheckedException: No session found\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createNioSession(GridNioServerWrapper.java:660)\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:693)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.createTcpClient(TcpCommunicationSpi.java:1264)\n                at org.apache.ignite.spi.communication.tcp.internal.GridNioServerWrapper.createTcpClient(GridNioServerWrapper.java:691)\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.createCommunicationClient(ConnectionClientPool.java:481)\n                at org.apache.ignite.spi.communication.tcp.internal.ConnectionClientPool.reserveClient(ConnectionClientPool.java:240)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage0(TcpCommunicationSpi.java:1195)\n                at org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi.sendMessage(TcpCommunicationSpi.java:1142)\n                at org.apache.ignite.internal.managers.communication.GridIoManager.send(GridIoManager.java:2100)\n                at org.apache.ignite.internal.managers.communication.GridIoManager.sendToGridTopic(GridIoManager.java:2193)\n                at org.apache.ignite.internal.processors.cache.GridCacheIoManager.send(GridCacheIoManager.java:1266)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.sendLocalPartitions(GridDhtPartitionsExchangeFuture.java:2201)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.clientOnlyExchange(GridDhtPartitionsExchangeFuture.java:1589)\n                at org.apache.ignite.internal.processors.cache.distributed.dht.preloader.GridDhtPartitionsExchangeFuture.init(GridDhtPartitionsExchangeFuture.java:1043)\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body0(GridCachePartitionExchangeManager.java:3370)\n                at org.apache.ignite.internal.processors.cache.GridCachePartitionExchangeManager$ExchangeWorker.body(GridCachePartitionExchangeManager.java:3197)\n                at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:125)\n                at java.base/java.lang.Thread.run(Unknown Source)\n\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1518506792,"post_id":48761325,"comment_id":84523262,"body_markdown":"Jackson has an XPathy thing called JSONPointer that you can use: https://stackoverflow.com/a/31735568/14955","body":"Jackson has an XPathy thing called JSONPointer that you can use: <a href=\"https://stackoverflow.com/a/31735568/14955\">stackoverflow.com/a/31735568/14955</a>"},{"owner":{"account_id":3306324,"reputation":83,"user_id":3722446,"display_name":"Klaymen"},"score":0,"creation_date":1518512932,"post_id":48761325,"comment_id":84526460,"body_markdown":"Actually, using this I still have a problem discerning between a JsonArray of JsonNodes or JsonArrays and a JsonArray with only values. Do you have any pointers for this?","body":"Actually, using this I still have a problem discerning between a JsonArray of JsonNodes or JsonArrays and a JsonArray with only values. Do you have any pointers for this?"},{"owner":{"account_id":3306324,"reputation":83,"user_id":3722446,"display_name":"Klaymen"},"score":0,"creation_date":1518513591,"post_id":48761325,"comment_id":84526915,"body_markdown":"For example, if I want to check if relation has the value &quot;a&quot; I have to do:\nroot.at(&quot;/title&quot;).get(0).at(&quot;/configuration&quot;).get(0).at(&quot;/relation&quot;).get(0).\nWhen the get(i) needs to be checked for all i&#39;s since the order of elements in Json isn&#39;t preserved.","body":"For example, if I want to check if relation has the value &quot;a&quot; I have to do: root.at(&quot;/title&quot;).get(0).at(&quot;/configuration&quot;).get(0).at(&quot;/re&zwnj;&#8203;lation&quot;).get(0). When the get(i) needs to be checked for all i&#39;s since the order of elements in Json isn&#39;t preserved."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1518565938,"post_id":48761325,"comment_id":84556748,"body_markdown":"In addition to this, you may want to use `path()` over `get()` since it never returns `null`. Instead you may get `MissingNode`, which can be de-referenced, including traversal. So you can safely chain traversal without null-checks, and only check `isMissingNode()` at the end (or even omit -- accessors give expected values for most things)","body":"In addition to this, you may want to use <code>path()</code> over <code>get()</code> since it never returns <code>null</code>. Instead you may get <code>MissingNode</code>, which can be de-referenced, including traversal. So you can safely chain traversal without null-checks, and only check <code>isMissingNode()</code> at the end (or even omit -- accessors give expected values for most things)"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1518675964,"post_id":48761325,"comment_id":84604798,"body_markdown":"If you want to check the value of &quot;relation&quot; but don&#39;t know the path to it, wouldn&#39;t you just specify &quot;relation&quot; in the path and it will get all such tags no matter where in the tree? Just like you&#39;d do getElementsByTagName in DOM?","body":"If you want to check the value of &quot;relation&quot; but don&#39;t know the path to it, wouldn&#39;t you just specify &quot;relation&quot; in the path and it will get all such tags no matter where in the tree? Just like you&#39;d do getElementsByTagName in DOM?"},{"owner":{"account_id":3306324,"reputation":83,"user_id":3722446,"display_name":"Klaymen"},"score":0,"creation_date":1518777491,"post_id":48761325,"comment_id":84653305,"body_markdown":"@Thilo my problem is actually the exact opposite, I&#39;m receiving a path in the json, and have to assert whether the value and key in the path match the ones I&#39;m expecting. I probably should&#39;ve been clearer on that","body":"@Thilo my problem is actually the exact opposite, I&#39;m receiving a path in the json, and have to assert whether the value and key in the path match the ones I&#39;m expecting. I probably should&#39;ve been clearer on that"},{"owner":{"account_id":3306324,"reputation":83,"user_id":3722446,"display_name":"Klaymen"},"score":0,"creation_date":1518777921,"post_id":48761325,"comment_id":84653582,"body_markdown":"The issue with the path is: I can&#39;t rely on the ordering of elements and values inside JsonArrays, so I need to check every entryof the array to see if the value is inside somewhere. path() didn&#39;t get me far either","body":"The issue with the path is: I can&#39;t rely on the ordering of elements and values inside JsonArrays, so I need to check every entryof the array to see if the value is inside somewhere. path() didn&#39;t get me far either"}],"answers":[{"tags":[],"owner":{"account_id":4111085,"reputation":311,"user_id":3373857,"display_name":"firoj_mujawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661272817,"creation_date":1661272817,"answer_id":73462329,"question_id":48761325,"body_markdown":"Extract Array node:\r\n\r\n    JsonNode node = jsonNode.findPath(&quot;relation&quot;);\r\n\r\n\r\nConvert the array node to List of strings:\r\n\r\n    List&lt;String&gt; relationList = new ObjectMapper().readValue(node.toString(), new TypeReference&lt;List&lt;String&gt;&gt;() {});","title":"Finding value in Jackson JsonNode without serialization","body":"<p>Extract Array node:</p>\n<pre><code>JsonNode node = jsonNode.findPath(&quot;relation&quot;);\n</code></pre>\n<p>Convert the array node to List of strings:</p>\n<pre><code>List&lt;String&gt; relationList = new ObjectMapper().readValue(node.toString(), new TypeReference&lt;List&lt;String&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":3306324,"reputation":83,"user_id":3722446,"display_name":"Klaymen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661272817,"creation_date":1518505978,"question_id":48761325,"body_markdown":"I have multiple complex (Jackson) JsonNode structures which I need to find a value in.\r\nThe problem is very similar to:\r\n&lt;https://stackoverflow.com/questions/23499721/how-to-parse-json-array-value-using-json-node&gt; and &lt;https://stackoverflow.com/questions/40564031/jackson-jsonnode-serialization&gt;.\r\n\r\n\r\nSo I would like to find a value inside a JsonNode with the following limitation:\r\nThe context is provided by (Cucumber) tests. e.g. &#39;Inside &quot;title/configurations/relation&quot; I see the value &quot;a&quot; &#39; see example below.\r\n\r\nThe code I&#39;ve tried to use:\r\n\r\n\r\n    public JsonNode findNodeInPath (String path, JsonNode parent) {\r\n            int firstSlash = path.indexOf(&quot;/&quot;);\r\n            if (parent == null) {\r\n                return null;\r\n            }\r\n            else {\r\n                String nextNodeName = firstSlash == -1 ? path : path.substring(0, firstSlash);\r\n                if (parent.isObject()) {\r\n                    return findNodeInPath(firstSlash == -1 ? path : path.substring(firstSlash + 1), parent.findValue(nextNodeName));\r\n                }\r\n                else { // parent is array\r\n                    if (parent.has(path)) {\r\n                        return parent;\r\n                    }\r\n                    for (JsonNode node : parent) {\r\n                        JsonNode nextNode = node.findValue(nextNodeName);\r\n                        if (nextNode != null) {\r\n                            return findNodeInPath(firstSlash == -1 ? path : path.substring(firstSlash + 1), nextNode);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                return null; // not found\r\n            }\r\n    }\r\nBut that doesn&#39;t work because when I get to a JsonArray with strings only (like &quot;relation&quot; below) Jackson doesn&#39;t let me access the text inside it.\r\n\r\nI don&#39;t want to create a POJO for each JsonNode because:\r\n\r\n1. The variance between nodes is very big. I can&#39;t see any object that will fit even most of the configurations I have.\r\n \r\n2. This is used for testing only. The structures as they are, just sit on the database. I wouldn&#39;t like to create objects solely for testing purposes.\r\n\r\nAn example of a JsonNode I have:\r\n\r\n    {\r\n      &quot;title&quot;: [\r\n        {\r\n          &quot;configuration&quot;: [\r\n            {\r\n              &quot;product1&quot;: {\r\n                &quot;id&quot;: &quot;id1&quot;,\r\n                &quot;name&quot;: [\r\n                  {\r\n                    &quot;locale&quot;: &quot;en_US&quot;,\r\n                    &quot;value&quot;: &quot;value1&quot;\r\n                  }\r\n                ]\r\n              },\r\n              &quot;configured&quot;: true,\r\n              &quot;relation&quot;: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;],\r\n              &quot;relation2&quot;: []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nI apologize for the long question, any help (from any direction) would be greatly appreciated.\r\n\r\n\r\n","title":"Finding value in Jackson JsonNode without serialization","body":"<p>I have multiple complex (Jackson) JsonNode structures which I need to find a value in.\nThe problem is very similar to:\n<a href=\"https://stackoverflow.com/questions/23499721/how-to-parse-json-array-value-using-json-node\">how to parse json array value using json node</a> and <a href=\"https://stackoverflow.com/questions/40564031/jackson-jsonnode-serialization\">Jackson JsonNode Serialization</a>.</p>\n\n<p>So I would like to find a value inside a JsonNode with the following limitation:\nThe context is provided by (Cucumber) tests. e.g. 'Inside \"title/configurations/relation\" I see the value \"a\" ' see example below.</p>\n\n<p>The code I've tried to use:</p>\n\n<pre><code>public JsonNode findNodeInPath (String path, JsonNode parent) {\n        int firstSlash = path.indexOf(\"/\");\n        if (parent == null) {\n            return null;\n        }\n        else {\n            String nextNodeName = firstSlash == -1 ? path : path.substring(0, firstSlash);\n            if (parent.isObject()) {\n                return findNodeInPath(firstSlash == -1 ? path : path.substring(firstSlash + 1), parent.findValue(nextNodeName));\n            }\n            else { // parent is array\n                if (parent.has(path)) {\n                    return parent;\n                }\n                for (JsonNode node : parent) {\n                    JsonNode nextNode = node.findValue(nextNodeName);\n                    if (nextNode != null) {\n                        return findNodeInPath(firstSlash == -1 ? path : path.substring(firstSlash + 1), nextNode);\n                    }\n                }\n            }\n\n            return null; // not found\n        }\n}\n</code></pre>\n\n<p>But that doesn't work because when I get to a JsonArray with strings only (like \"relation\" below) Jackson doesn't let me access the text inside it.</p>\n\n<p>I don't want to create a POJO for each JsonNode because:</p>\n\n<ol>\n<li><p>The variance between nodes is very big. I can't see any object that will fit even most of the configurations I have.</p></li>\n<li><p>This is used for testing only. The structures as they are, just sit on the database. I wouldn't like to create objects solely for testing purposes.</p></li>\n</ol>\n\n<p>An example of a JsonNode I have:</p>\n\n<pre><code>{\n  \"title\": [\n    {\n      \"configuration\": [\n        {\n          \"product1\": {\n            \"id\": \"id1\",\n            \"name\": [\n              {\n                \"locale\": \"en_US\",\n                \"value\": \"value1\"\n              }\n            ]\n          },\n          \"configured\": true,\n          \"relation\": [\"a\",\"b\",\"c\"],\n          \"relation2\": []\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>I apologize for the long question, any help (from any direction) would be greatly appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1890458,"reputation":502,"user_id":1708699,"accept_rate":60,"display_name":"thermite"},"score":1,"creation_date":1421713407,"post_id":28035810,"comment_id":44456408,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String) and it looks like you found your answer :) it returns nothing if no match is found","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> and it looks like you found your answer :) it returns nothing if no match is found"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":2,"creation_date":1421713514,"post_id":28035810,"comment_id":44456427,"body_markdown":"http://ideone.com/jEiMFw &lt; if fullName is separator `&quot;  &quot;` (or separator * N `&quot;  ..multiple spaces   &quot;` )","body":"<a href=\"http://ideone.com/jEiMFw\" rel=\"nofollow noreferrer\">ideone.com/jEiMFw</a> &lt; if fullName is separator <code>&quot;  &quot;</code> (or separator * N <code>&quot;  ..multiple spaces   &quot;</code> )"},{"owner":{"account_id":215687,"reputation":3152,"user_id":470473,"accept_rate":79,"display_name":"siger"},"score":0,"creation_date":1421714355,"post_id":28035810,"comment_id":44456605,"body_markdown":"@thermite I saw that documentation but I do not see where it mentions the special cases. Also, using Selvin&#39;s cool website we can see it is not correct: http://ideone.com/8mRkd4.","body":"@thermite I saw that documentation but I do not see where it mentions the special cases. Also, using Selvin&#39;s cool website we can see it is not correct: <a href=\"http://ideone.com/8mRkd4\" rel=\"nofollow noreferrer\">ideone.com/8mRkd4</a>."},{"owner":{"account_id":215687,"reputation":3152,"user_id":470473,"accept_rate":79,"display_name":"siger"},"score":0,"creation_date":1421714382,"post_id":28035810,"comment_id":44456611,"body_markdown":"@Selvin thank you, that was it. I am slightly ashamed I hadn&#39;t tried this basic case. Added a unit test and going to take a break. Add your comment as a question if you&#39;d like!","body":"@Selvin thank you, that was it. I am slightly ashamed I hadn&#39;t tried this basic case. Added a unit test and going to take a break. Add your comment as a question if you&#39;d like!"},{"owner":{"account_id":788355,"reputation":1152,"user_id":862441,"display_name":"srkavin"},"score":0,"creation_date":1421714771,"post_id":28035810,"comment_id":44456709,"body_markdown":"Not just whitespaces, even if the string equals the regex, it&#39;ll return empty array, like, `&quot;a&quot;.split(&quot;a&quot;)` http://ideone.com/YTGEsv","body":"Not just whitespaces, even if the string equals the regex, it&#39;ll return empty array, like, <code>&quot;a&quot;.split(&quot;a&quot;)</code> <a href=\"http://ideone.com/YTGEsv\" rel=\"nofollow noreferrer\">ideone.com/YTGEsv</a>"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1421716707,"post_id":28035810,"comment_id":44457169,"body_markdown":"the space was only an example as it was used in an OP&#39;s code ... i wrote &quot;fullName is separator&quot; or &quot;separator * N&quot; ...","body":"the space was only an example as it was used in an OP&#39;s code ... i wrote &quot;fullName is separator&quot; or &quot;separator * N&quot; ..."},{"owner":{"account_id":6671110,"reputation":601,"user_id":5147246,"display_name":"klaar"},"score":0,"creation_date":1458821151,"post_id":28035810,"comment_id":60032868,"body_markdown":"Be careful when you forget that split expects a full blown regexp instead of _just a string_, because I tried splitting filenames on a dot, but I need to provide the pattern `&quot;\\\\.&quot;` instead of `&quot;.&quot;` for it to work; else it would match **everything** and just return and emptry array.","body":"Be careful when you forget that split expects a full blown regexp instead of <i>just a string</i>, because I tried splitting filenames on a dot, but I need to provide the pattern <code>&quot;\\\\.&quot;</code> instead of <code>&quot;.&quot;</code> for it to work; else it would match <b>everything</b> and just return and emptry array."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1661272812,"creation_date":1421714318,"answer_id":28035974,"question_id":28035810,"body_markdown":"`split(regex)` returns result of `split(regex,0)` where `0` is `limit`. Now according to [documentation][1] (limit is represented by `n`)\r\n\r\n&gt; If `n` is zero then the pattern will be applied as many times as possible, the array can have any length, and **trailing empty strings will be discarded**.\r\n\r\n(emphasis mine)\r\n\r\nIt means that in case of code like \r\n\r\n    &quot;ababaa&quot;.split(&quot;a&quot;)\r\n\r\nat first you will get array `[&quot;&quot;, &quot;b&quot;,&quot;b&quot;,&quot;&quot;,&quot;&quot;]` but then trailing empty string swill be removed, so you will end up with array `[&quot;&quot;,&quot;b&quot;,&quot;b&quot;]`\r\n\r\nBUT if your string contains text which can be matched by `split` pattern entirely, like \r\n\r\n    &quot;ababab&quot;.split(&quot;ab&quot;)\r\n\r\nat first resulting array will contain `[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]` (three splits), but then empty trailing strings will be removed. Since all of them are trailing empty strings all of them will be removed from array and empty array will be returned `[]` (array with size 0).\r\n\r\nSo to get empty array as result you need to split on string which is build from parts which can be matched by `split` pattern. This means that in case of `yourString.split(&quot; &quot;)` the `yourString` must contain only spaces (at least one, see BTW for more info) \r\n \r\n---\r\nBTW if original string would be empty `&quot;&quot;` and we call `&quot;&quot;.split(&quot;any-value&quot;)` then *splitting won&#39;t happen* (split *nothing* makes no sense). In such case array containing original string `[&quot;&quot;]` will be returned and that empty string will NOT be removed ***because it was not result of splitting***. \r\n\r\nIn other words removing trailing empty strings makes sense only if *these empty strings ware created as result of splitting*, like `&quot;abaa&quot;.split(&quot;a&quot;)` initially creates `[&quot;&quot;,&quot;b&quot;, &quot;&quot;,&quot;&quot;]`. So when splitting didn&#39;t happen &quot;cleanup&quot; is not required. In such case result array will contain original string as explained in my [earlier answer][2] on this subject.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\r\n  [2]: https://stackoverflow.com/a/25058091/1393766","title":"When does String.split return an empty array?","body":"<p><code>split(regex)</code> returns result of <code>split(regex,0)</code> where <code>0</code> is <code>limit</code>. Now according to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">documentation</a> (limit is represented by <code>n</code>)</p>\n<blockquote>\n<p>If <code>n</code> is zero then the pattern will be applied as many times as possible, the array can have any length, and <strong>trailing empty strings will be discarded</strong>.</p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>It means that in case of code like</p>\n<pre><code>&quot;ababaa&quot;.split(&quot;a&quot;)\n</code></pre>\n<p>at first you will get array <code>[&quot;&quot;, &quot;b&quot;,&quot;b&quot;,&quot;&quot;,&quot;&quot;]</code> but then trailing empty string swill be removed, so you will end up with array <code>[&quot;&quot;,&quot;b&quot;,&quot;b&quot;]</code></p>\n<p>BUT if your string contains text which can be matched by <code>split</code> pattern entirely, like</p>\n<pre><code>&quot;ababab&quot;.split(&quot;ab&quot;)\n</code></pre>\n<p>at first resulting array will contain <code>[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]</code> (three splits), but then empty trailing strings will be removed. Since all of them are trailing empty strings all of them will be removed from array and empty array will be returned <code>[]</code> (array with size 0).</p>\n<p>So to get empty array as result you need to split on string which is build from parts which can be matched by <code>split</code> pattern. This means that in case of <code>yourString.split(&quot; &quot;)</code> the <code>yourString</code> must contain only spaces (at least one, see BTW for more info)</p>\n<hr />\n<p>BTW if original string would be empty <code>&quot;&quot;</code> and we call <code>&quot;&quot;.split(&quot;any-value&quot;)</code> then <em>splitting won't happen</em> (split <em>nothing</em> makes no sense). In such case array containing original string <code>[&quot;&quot;]</code> will be returned and that empty string will NOT be removed <em><strong>because it was not result of splitting</strong></em>.</p>\n<p>In other words removing trailing empty strings makes sense only if <em>these empty strings ware created as result of splitting</em>, like <code>&quot;abaa&quot;.split(&quot;a&quot;)</code> initially creates <code>[&quot;&quot;,&quot;b&quot;, &quot;&quot;,&quot;&quot;]</code>. So when splitting didn't happen &quot;cleanup&quot; is not required. In such case result array will contain original string as explained in my <a href=\"https://stackoverflow.com/a/25058091/1393766\">earlier answer</a> on this subject.</p>\n"}],"owner":{"account_id":215687,"reputation":3152,"user_id":470473,"accept_rate":79,"display_name":"siger"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10089,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":28035974,"answer_count":1,"score":15,"last_activity_date":1661272812,"creation_date":1421713124,"question_id":28035810,"body_markdown":"My logs show this exception: `ArrayIndexOutOfBoundsException: length=0; index=0` triggered by the following piece of code:\r\n\r\n    public static String getInitialsFromFullName(String fullName)\r\n    {\r\n        String[] splitNames = fullName.split(&quot; &quot;);\r\n        String firstName = splitNames[0]; &lt;-- Here\r\n        ...\r\n    }\r\n\r\nI am trying to figure out the condition for which String.split returns an empty array. My understanding is that if no match is found, an array of size 1 with the original string is returned.\r\n\r\nThis is Java compiled for the Android build SDK version 21. I am looking forward to hear what obvious detail I am missing.","title":"When does String.split return an empty array?","body":"<p>My logs show this exception: <code>ArrayIndexOutOfBoundsException: length=0; index=0</code> triggered by the following piece of code:</p>\n\n<pre><code>public static String getInitialsFromFullName(String fullName)\n{\n    String[] splitNames = fullName.split(\" \");\n    String firstName = splitNames[0]; &lt;-- Here\n    ...\n}\n</code></pre>\n\n<p>I am trying to figure out the condition for which String.split returns an empty array. My understanding is that if no match is found, an array of size 1 with the original string is returned.</p>\n\n<p>This is Java compiled for the Android build SDK version 21. I am looking forward to hear what obvious detail I am missing.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661272739,"creation_date":1659125951,"answer_id":73170633,"question_id":69174980,"body_markdown":"JWT validation does not require to submit the token to its issuer. Only server public key is required (and is by definition public).\r\n\r\n`org.springframework.security.oauth2.jwt.JwtDecoder` implementations (like `NimbusJwtDecoder`) check stuff like `exp` and `iss` claims and also token signature. \r\n\r\nKeycloak issues JWT access-tokens. Spring-security in resource-servers configured with JWT-decoder  does not need to introspect JWT, it just reads it.\r\n\r\nYou can use tools like https://jwt.io to open JWT access-tokens and explore the data it contains (and figure out what security rules you can set based on it).\r\n\r\n## PS\r\n[Keycloak security adapters are deprecated][1]. Don&#39;t use it. Use either:\r\n- `spring-boot-starter-oauth2-resource-server` (resquires quite some java conf)\r\n- [`spring-addons-webmvc-jwt-resource-server`][2]\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"How can Keycloak Spring Security Adapter validate access token using public Keycloak client?","body":"<p>JWT validation does not require to submit the token to its issuer. Only server public key is required (and is by definition public).</p>\n<p><code>org.springframework.security.oauth2.jwt.JwtDecoder</code> implementations (like <code>NimbusJwtDecoder</code>) check stuff like <code>exp</code> and <code>iss</code> claims and also token signature.</p>\n<p>Keycloak issues JWT access-tokens. Spring-security in resource-servers configured with JWT-decoder  does not need to introspect JWT, it just reads it.</p>\n<p>You can use tools like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">https://jwt.io</a> to open JWT access-tokens and explore the data it contains (and figure out what security rules you can set based on it).</p>\n<h2>PS</h2>\n<p><a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">Keycloak security adapters are deprecated</a>. Don't use it. Use either:</p>\n<ul>\n<li><code>spring-boot-starter-oauth2-resource-server</code> (resquires quite some java conf)</li>\n<li><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\"><code>spring-addons-webmvc-jwt-resource-server</code></a></li>\n</ul>\n"}],"owner":{"account_id":15623657,"reputation":166,"user_id":11271858,"display_name":"G K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661272739,"creation_date":1631610482,"question_id":69174980,"body_markdown":"My understanding is that Keycloak token introspection can&#39;t be called using public clients.\r\nBut somehow Keycloak Spring Security Adapter validates access tokens even though keycloak.public-client=true. I tried digging into the code but couldn&#39;t find the answer.\r\n\r\nMy question is, how is validation performed using public client? Does Keycloak Spring Security Adapter have some workaround built-in?","title":"How can Keycloak Spring Security Adapter validate access token using public Keycloak client?","body":"<p>My understanding is that Keycloak token introspection can't be called using public clients.\nBut somehow Keycloak Spring Security Adapter validates access tokens even though keycloak.public-client=true. I tried digging into the code but couldn't find the answer.</p>\n<p>My question is, how is validation performed using public client? Does Keycloak Spring Security Adapter have some workaround built-in?</p>\n"},{"tags":["java","eclipse","jar","manifest"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252668855,"creation_date":1252668855,"answer_id":1410377,"question_id":1410355,"body_markdown":"A default manifest file is created when you create a `jar` using `jar cf jar-file inputs-files`.","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>A default manifest file is created when you create a <code>jar</code> using <code>jar cf jar-file inputs-files</code>.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252668965,"creation_date":1252668965,"answer_id":1410387,"question_id":1410355,"body_markdown":"A manifest is a simple text file, [Sun&#39;s tutorial][1] describes its contents in detail.\r\n\r\nAll you have to do is create such a file and [update the JAR files][2] with this command:\r\n\r\n    jar cfm &lt;jar-file&gt; &lt;manifest-addition&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/deployment/jar/manifestindex.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/deployment/jar/modman.html","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>A manifest is a simple text file, <a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Sun's tutorial</a> describes its contents in detail.</p>\n\n<p>All you have to do is create such a file and <a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/modman.html\" rel=\"nofollow noreferrer\">update the JAR files</a> with this command:</p>\n\n<pre><code>jar cfm &lt;jar-file&gt; &lt;manifest-addition&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23611,"reputation":36322,"user_id":59279,"accept_rate":85,"display_name":"Joonas Pulakka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252669385,"creation_date":1252669385,"answer_id":1410409,"question_id":1410355,"body_markdown":"Manifest files are text files. And since JAR files are actually ZIP files, you can also add the manifest using a tool like [7-zip](http://www.7-zip.org/). This doesn&#39;t work for signed JARs, of course.","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>Manifest files are text files. And since JAR files are actually ZIP files, you can also add the manifest using a tool like <a href=\"http://www.7-zip.org/\" rel=\"nofollow noreferrer\">7-zip</a>. This doesn't work for signed JARs, of course.</p>\n"},{"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1252674995,"creation_date":1252674995,"answer_id":1410804,"question_id":1410355,"body_markdown":"Eclipse provides options to generate a manifest file for the Jar, save that generated manifest into the project, or use a specified file for the manifest.  \r\n\r\nI have Eclipse 3.4.2 and it&#39;s on the fourth screen in this process: \r\n\r\nRight-click Project -&gt; Export -&gt; Java/JAR file, Next, JAR File Specification, Next, JAR Packaging Options, Next, JAR Manifest Specification.\r\n\r\nThe default is to just generate a default manifest for the JAR, and not to save the generated file back to the project, so if you open up your JAR file, it will have a manifest, but it will just have something like:\r\n\r\n    Manifest-Version: 1.0\r\n\r\nin it.\r\n\r\nIf you want to change your existing JARs without re-building them, the easiest way is probably to just do as mad-j suggested and open them with a Zip tool and edit the existing /META-INF/MANIFEST.MF file and save it back into the JAR.","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>Eclipse provides options to generate a manifest file for the Jar, save that generated manifest into the project, or use a specified file for the manifest.  </p>\n\n<p>I have Eclipse 3.4.2 and it's on the fourth screen in this process: </p>\n\n<p>Right-click Project -> Export -> Java/JAR file, Next, JAR File Specification, Next, JAR Packaging Options, Next, JAR Manifest Specification.</p>\n\n<p>The default is to just generate a default manifest for the JAR, and not to save the generated file back to the project, so if you open up your JAR file, it will have a manifest, but it will just have something like:</p>\n\n<pre><code>Manifest-Version: 1.0\n</code></pre>\n\n<p>in it.</p>\n\n<p>If you want to change your existing JARs without re-building them, the easiest way is probably to just do as mad-j suggested and open them with a Zip tool and edit the existing /META-INF/MANIFEST.MF file and save it back into the JAR.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252675929,"creation_date":1252675929,"answer_id":1410889,"question_id":1410355,"body_markdown":"**With Ant you can use *jar* task**. It has a *manifest* option to specify all the attributes yo need to include. Something like this:\r\n\r\n      &lt;target name=&quot;create-my-jar&quot;&gt;\r\n         &lt;jar jarfile=&quot;foo.jar&quot; basedir=&quot;bin/classes&quot;&gt;\t\t\r\n            &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Class-Path&quot; value=&quot;xxx&quot;/&gt;\r\n        \t&lt;attribute name=&quot;Ant-Version&quot; value=&quot;${ant.version}&quot;/&gt; \r\n        \t&lt;attribute name=&quot;Created-By&quot; value=&quot;JDK ${java.version} (${java.vendor})&quot;/&gt;\r\n        \t&lt;attribute name=&#39;Specification-Title&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Specification-Version&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Specification-Vendor&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Implementation-Title&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Implementation-Version&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Implementation-Vendor&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Implementation-Vendor-Id&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&#39;Implementation-Vendor-URL&#39; value=&#39;xxx&#39; /&gt;\r\n        \t&lt;attribute name=&quot;Built-By&quot; value=&quot;${user.name}&quot;/&gt;\r\n        \t&lt;attribute name=&#39;Build-Date&#39; value=&#39;xxx&#39;/&gt;\r\n        \t&lt;attribute name=&#39;Build-Time&#39; value=&#39;xxx&#39;/&gt;\t\t\t\t\r\n        \t&lt;/manifest&gt;\r\n        \t&lt;/jar&gt;\r\n       &lt;/target&gt;\r\n","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p><strong>With Ant you can use <em>jar</em> task</strong>. It has a <em>manifest</em> option to specify all the attributes yo need to include. Something like this:</p>\n\n<pre><code>  &lt;target name=\"create-my-jar\"&gt;\n     &lt;jar jarfile=\"foo.jar\" basedir=\"bin/classes\"&gt;      \n        &lt;manifest&gt;\n        &lt;attribute name=\"Class-Path\" value=\"xxx\"/&gt;\n        &lt;attribute name=\"Ant-Version\" value=\"${ant.version}\"/&gt; \n        &lt;attribute name=\"Created-By\" value=\"JDK ${java.version} (${java.vendor})\"/&gt;\n        &lt;attribute name='Specification-Title' value='xxx' /&gt;\n        &lt;attribute name='Specification-Version' value='xxx' /&gt;\n        &lt;attribute name='Specification-Vendor' value='xxx' /&gt;\n        &lt;attribute name='Implementation-Title' value='xxx' /&gt;\n        &lt;attribute name='Implementation-Version' value='xxx' /&gt;\n        &lt;attribute name='Implementation-Vendor' value='xxx' /&gt;\n        &lt;attribute name='Implementation-Vendor-Id' value='xxx' /&gt;\n        &lt;attribute name='Implementation-Vendor-URL' value='xxx' /&gt;\n        &lt;attribute name=\"Built-By\" value=\"${user.name}\"/&gt;\n        &lt;attribute name='Build-Date' value='xxx'/&gt;\n        &lt;attribute name='Build-Time' value='xxx'/&gt;              \n        &lt;/manifest&gt;\n        &lt;/jar&gt;\n   &lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user195488"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314225859,"creation_date":1314225859,"answer_id":7183210,"question_id":1410355,"body_markdown":"I just ran into this problem today.\r\n\r\nYes, Eclipse will create the Manifest for you, but it&#39;s really a joke.\r\n\r\nIt only includes the line `Manifest-Version: 1.0`. I have not figured out how to make it add my Main class, so I created my own MANIFEST.MF file, added it to my project main directory (not src and not lib). Then, when I go to Export &gt; JAR File, hit Next all the way to the end (do not hit Finish too early) and click the option to select manifest from project. Select the Manifest file you just added to your project. Make sure the Manifest has the path to your Main class (e.g. com.company etc). For example this is how a basic Manifest file would look like:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.6.0 (Sun Microsystems Inc.)\r\n    Main-Class: MyPackage.MyClass\r\n\r\nI tried @Michael&#39;s method but I ended up with no class files left in my JAR and only Manifest files.. oh well. My above method works well.\r\n","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>I just ran into this problem today.</p>\n\n<p>Yes, Eclipse will create the Manifest for you, but it's really a joke.</p>\n\n<p>It only includes the line <code>Manifest-Version: 1.0</code>. I have not figured out how to make it add my Main class, so I created my own MANIFEST.MF file, added it to my project main directory (not src and not lib). Then, when I go to Export > JAR File, hit Next all the way to the end (do not hit Finish too early) and click the option to select manifest from project. Select the Manifest file you just added to your project. Make sure the Manifest has the path to your Main class (e.g. com.company etc). For example this is how a basic Manifest file would look like:</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: 1.6.0 (Sun Microsystems Inc.)\nMain-Class: MyPackage.MyClass\n</code></pre>\n\n<p>I tried @Michael's method but I ended up with no class files left in my JAR and only Manifest files.. oh well. My above method works well.</p>\n"},{"tags":[],"owner":{"account_id":439025,"reputation":41,"user_id":827674,"display_name":"Reedyseth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461866892,"creation_date":1461866892,"answer_id":36922362,"question_id":1410355,"body_markdown":"Also you can take a look at this documentation, this helped me to solve the issue using the Eclipse wizard.\r\n\r\n[See Eclipse Documentation][1]\r\n\r\n\r\n  [1]: http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-35.htm","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>Also you can take a look at this documentation, this helped me to solve the issue using the Eclipse wizard.</p>\n\n<p><a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-35.htm\" rel=\"nofollow\">See Eclipse Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":11359016,"reputation":11,"user_id":8327754,"display_name":"Kenneth V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500954093,"creation_date":1500936799,"answer_id":45291313,"question_id":1410355,"body_markdown":"Using Eclipse, on the *JAR Manifest Specification* page at the bottom, there is a text box where you can browse for your **Main** class.  Browse to your **Main** class and click *Finish*.  This generates the manifest WITH the main class information allowing the jar file to be executed. -Dev On","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>Using Eclipse, on the <em>JAR Manifest Specification</em> page at the bottom, there is a text box where you can browse for your <strong>Main</strong> class.  Browse to your <strong>Main</strong> class and click <em>Finish</em>.  This generates the manifest WITH the main class information allowing the jar file to be executed. -Dev On</p>\n"},{"tags":[],"owner":{"account_id":20519514,"reputation":65,"user_id":15059454,"display_name":"NoErrorNoCry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618314462,"creation_date":1618314462,"answer_id":67074243,"question_id":1410355,"body_markdown":"A little bit late but thats the most simple/efficient solution:\r\n\r\n&gt; Rightclick Project-&gt;Export-&gt;Select in Folder Java &quot;Runnable Jar\r\n&gt; File&quot;-&gt;  \r\n[![enter image description here][1]][1]\r\n&gt; \r\n&gt; Next-&gt; Launch Configuration: Select that one you recently used to test your\r\n&gt; project,    leave the rest as default\r\n\r\n\r\nThe manifest has now the relating entry to start the *.jar correct\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UySxX.png","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>A little bit late but thats the most simple/efficient solution:</p>\n<blockquote>\n<p>Rightclick Project-&gt;Export-&gt;Select in Folder Java &quot;Runnable Jar\nFile&quot;-&gt;<br />\n<a href=\"https://i.stack.imgur.com/UySxX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UySxX.png\" alt=\"enter image description here\" /></a></p>\n<p>Next-&gt; Launch Configuration: Select that one you recently used to test your\nproject,    leave the rest as default</p>\n</blockquote>\n<p>The manifest has now the relating entry to start the *.jar correct</p>\n"},{"tags":[],"owner":{"account_id":26141395,"reputation":1,"user_id":19830716,"display_name":"Deep Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661272549,"creation_date":1661272549,"answer_id":73462277,"question_id":1410355,"body_markdown":"This is the solution.\r\nIn the JAR MANIFEST Specification Tab use \r\nGenerate the Manifest File and use Browse and select a file. (You can just use the one generated in your older ZIP). Then generate Jar file.\r\nAfterwards, Edit it to put any value.\r\n","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>This is the solution.\nIn the JAR MANIFEST Specification Tab use\nGenerate the Manifest File and use Browse and select a file. (You can just use the one generated in your older ZIP). Then generate Jar file.\nAfterwards, Edit it to put any value.</p>\n"}],"owner":{"display_name":"ajib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89992,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":10,"score":18,"last_activity_date":1661272549,"creation_date":1252668474,"question_id":1410355,"body_markdown":"How can I create a `Manifest` file for a group of JAR file I have already created.\r\n\r\nI used Eclipse to create my JAR file.\r\n\r\nIs there any better way of creating a JAR file that has a `Manifest`?","title":"Automatically Creating Manifest File with Eclipse for JAR Files","body":"<p>How can I create a <code>Manifest</code> file for a group of JAR file I have already created.</p>\n\n<p>I used Eclipse to create my JAR file.</p>\n\n<p>Is there any better way of creating a JAR file that has a <code>Manifest</code>?</p>\n"},{"tags":["java","spring-boot","web.xml"],"comments":[{"owner":{"account_id":4530033,"reputation":305,"user_id":3680803,"accept_rate":86,"display_name":"arooney88"},"score":0,"creation_date":1660683714,"post_id":73380136,"comment_id":129589498,"body_markdown":"I think you need to specify the web-app version within the beginning tag. `&lt;web-app version=&quot;2.4&quot; xmlns.......`","body":"I think you need to specify the web-app version within the beginning tag. <code>&lt;web-app version=&quot;2.4&quot; xmlns.......</code>"},{"owner":{"account_id":20733665,"reputation":1,"user_id":15224991,"display_name":"Jean Baptiste Asong"},"score":0,"creation_date":1660835748,"post_id":73380136,"comment_id":129632244,"body_markdown":"@arooney88 can you please specify how the web-app version within the beginning tage need to look? Here&#39;s how the beginning of the web-app code look base on your suggestion. `&lt;web-app  version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;` I did add the version and still showing error after I save it.","body":"@arooney88 can you please specify how the web-app version within the beginning tage need to look? Here&#39;s how the beginning of the web-app code look base on your suggestion. <code>&lt;web-app  version=&quot;2.4&quot; xmlns=&quot;http:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;j2ee&quot; xmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; xsi:schemaLocation=&quot;http:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;j2ee http:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;j2ee&#47;web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;</code> I did add the version and still showing error after I save it."}],"answers":[{"tags":[],"owner":{"account_id":20733665,"reputation":1,"user_id":15224991,"display_name":"Jean Baptiste Asong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661272314,"creation_date":1661272314,"answer_id":73462228,"question_id":73380136,"body_markdown":"I moved the version and put it after the xmlns file and I restart my project and the error was solved. Here&#39;s how the new code looks like with the issue solved.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; version=&quot;2.4&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;\r\n    \t&lt;display-name&gt;springboot-server&lt;/display-name&gt;\r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;","title":"I can&#39;t run my spring boot app because web.xml file is showing an error and I don&#39;t know why","body":"<p>I moved the version and put it after the xmlns file and I restart my project and the error was solved. Here's how the new code looks like with the issue solved.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; version=&quot;2.4&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;\n    &lt;display-name&gt;springboot-server&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":20733665,"reputation":1,"user_id":15224991,"display_name":"Jean Baptiste Asong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661272314,"creation_date":1660682821,"question_id":73380136,"body_markdown":"My web.xml file is showing an error and I don&#39;t know why. When I go to the file it showing red x on line two on the word &quot;&lt;web-app&quot;. When I hover on the error it showing this message below.\r\n\r\n&gt; Multiple annotations found at this line:\r\n&gt; \t- cvc-complex-type.4: Attribute &#39;version&#39; must appear on element &#39;web- \t app&#39;.\r\n&gt; \t- Attribute:\r\n&gt; - version is required in element:\r\n&gt; - web-app Code:\r\n\r\n\r\nHere&#39;s the code for my web.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;\r\n    \t&lt;display-name&gt;springboot-server&lt;/display-name&gt;\r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n*In the problem tabe is showing two different errors is in the web.xml line two. The first type of error is* **Language Servers** *and the second type error is* **XML Problem**.\r\n","title":"I can&#39;t run my spring boot app because web.xml file is showing an error and I don&#39;t know why","body":"<p>My web.xml file is showing an error and I don't know why. When I go to the file it showing red x on line two on the word &quot;&lt;web-app&quot;. When I hover on the error it showing this message below.</p>\n<blockquote>\n<p>Multiple annotations found at this line:</p>\n<ul>\n<li>cvc-complex-type.4: Attribute 'version' must appear on element 'web-   app'.</li>\n<li>Attribute:</li>\n<li>version is required in element:</li>\n<li>web-app Code:</li>\n</ul>\n</blockquote>\n<p>Here's the code for my web.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot; id=&quot;WebApp_ID&quot;&gt;\n    &lt;display-name&gt;springboot-server&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><em>In the problem tabe is showing two different errors is in the web.xml line two. The first type of error is</em> <strong>Language Servers</strong> <em>and the second type error is</em> <strong>XML Problem</strong>.</p>\n"},{"tags":["java","optimization","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661272266,"creation_date":1661272266,"answer_id":73462218,"question_id":73461429,"body_markdown":"What you&#39;re describing is called [over-constrained planning][1].\r\nMost likely, you are looking for [nullable variables][2].\r\nYour idea with a dummy is called a &quot;[virtual value][3]&quot;.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanning\r\n  [2]: https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanningWithNullableVariables\r\n  [3]: https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanningWithVirtualValues","title":"How to make the planner tolerate init score","body":"<p>What you're describing is called <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanning\" rel=\"nofollow noreferrer\">over-constrained planning</a>.\nMost likely, you are looking for <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanningWithNullableVariables\" rel=\"nofollow noreferrer\">nullable variables</a>.\nYour idea with a dummy is called a &quot;<a href=\"https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanningWithVirtualValues\" rel=\"nofollow noreferrer\">virtual value</a>&quot;.</p>\n"}],"owner":{"account_id":21410350,"reputation":47,"user_id":15770707,"display_name":"yellowcard123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73462218,"answer_count":1,"score":0,"last_activity_date":1661272266,"creation_date":1661268709,"question_id":73461429,"body_markdown":"I have taken the cloud balancing problem to a different direction:\r\n\r\nA problem where you need to fill up all the computers with processes and computers can overfill (by changing the overfill constraint to a soft one)\r\n\r\nThe change was easy by adding the following constraints:\r\n\r\n    Constraint unfilledCpuPowerTotal(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(CloudProcess.class)\r\n                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredCpuPower))\r\n                .filter((computer, requiredCpuPower) -&gt; requiredCpuPower &lt; computer.getCpuPower())\r\n                .penalize(&quot;unfilledCpuPowerTotal&quot;,\r\n                        HardSoftScore.ONE_HARD,\r\n                        (computer, requiredCpuPower) -&gt; computer.getCpuPower() - requiredCpuPower);\r\n    }\r\n\r\n    Constraint unfilledMemoryTotal(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(CloudProcess.class)\r\n                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredMemory))\r\n                .filter((computer, requiredMemory) -&gt; requiredMemory &lt; computer.getMemory())\r\n                .penalize(&quot;unfilledMemoryTotal&quot;,\r\n                        HardSoftScore.ONE_HARD,\r\n                        (computer, requiredMemory) -&gt; computer.getMemory() - requiredMemory);\r\n    }\r\n\r\n    Constraint unfilledNetworkBandwidthTotal(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(CloudProcess.class)\r\n                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredNetworkBandwidth))\r\n                .filter((computer, requiredNetworkBandwidth) -&gt; requiredNetworkBandwidth &lt; computer.getNetworkBandwidth())\r\n                .penalize(&quot;unfilledNetworkBandwidthTotal&quot;,\r\n                        HardSoftScore.ONE_HARD,\r\n                        (computer, requiredNetworkBandwidth) -&gt; computer.getNetworkBandwidth() - requiredNetworkBandwidth);\r\n    }\r\n\r\n    Constraint unusedComputer(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(CloudComputer.class)\r\n                .ifNotExists(CloudProcess.class, equal(Function.identity(), CloudProcess::getComputer))\r\n                .penalize(&quot;unusedComputers&quot;,\r\n                        HardSoftScore.ONE_HARD,\r\n                        computer -&gt; computer.getCpuPower() + computer.getMemory() + computer.getNetworkBandwidth());\r\n    }\r\n\r\nI have also removed the cost constraint because it doesn&#39;t make sense in this context.\r\n\r\nHowever, i dont want the planner to dump all the avalible processes into computers. \r\n\r\nMeaning, if all the computers are already full and there are unused processes I would like them to stay that way and not be forced to add more overfill penalty to a computer.\r\n\r\nI guess this can be done by somehow ignoring the init penalty but I can&#39;t seem to understand where or how to implement that idea. \r\n\r\nI also thought about adding a &quot;dummy&quot; computer entity that just holds processes with no penalty (the planner will still fill regular computers because not filling them will resault in a soft penalty) but it seems like a lot of work and requires big changes to almost every part of the project so if there is a way to implement the first idea it would be preferred.","title":"How to make the planner tolerate init score","body":"<p>I have taken the cloud balancing problem to a different direction:</p>\n<p>A problem where you need to fill up all the computers with processes and computers can overfill (by changing the overfill constraint to a soft one)</p>\n<p>The change was easy by adding the following constraints:</p>\n<pre><code>Constraint unfilledCpuPowerTotal(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(CloudProcess.class)\n            .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredCpuPower))\n            .filter((computer, requiredCpuPower) -&gt; requiredCpuPower &lt; computer.getCpuPower())\n            .penalize(&quot;unfilledCpuPowerTotal&quot;,\n                    HardSoftScore.ONE_HARD,\n                    (computer, requiredCpuPower) -&gt; computer.getCpuPower() - requiredCpuPower);\n}\n\nConstraint unfilledMemoryTotal(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(CloudProcess.class)\n            .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredMemory))\n            .filter((computer, requiredMemory) -&gt; requiredMemory &lt; computer.getMemory())\n            .penalize(&quot;unfilledMemoryTotal&quot;,\n                    HardSoftScore.ONE_HARD,\n                    (computer, requiredMemory) -&gt; computer.getMemory() - requiredMemory);\n}\n\nConstraint unfilledNetworkBandwidthTotal(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(CloudProcess.class)\n            .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredNetworkBandwidth))\n            .filter((computer, requiredNetworkBandwidth) -&gt; requiredNetworkBandwidth &lt; computer.getNetworkBandwidth())\n            .penalize(&quot;unfilledNetworkBandwidthTotal&quot;,\n                    HardSoftScore.ONE_HARD,\n                    (computer, requiredNetworkBandwidth) -&gt; computer.getNetworkBandwidth() - requiredNetworkBandwidth);\n}\n\nConstraint unusedComputer(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(CloudComputer.class)\n            .ifNotExists(CloudProcess.class, equal(Function.identity(), CloudProcess::getComputer))\n            .penalize(&quot;unusedComputers&quot;,\n                    HardSoftScore.ONE_HARD,\n                    computer -&gt; computer.getCpuPower() + computer.getMemory() + computer.getNetworkBandwidth());\n}\n</code></pre>\n<p>I have also removed the cost constraint because it doesn't make sense in this context.</p>\n<p>However, i dont want the planner to dump all the avalible processes into computers.</p>\n<p>Meaning, if all the computers are already full and there are unused processes I would like them to stay that way and not be forced to add more overfill penalty to a computer.</p>\n<p>I guess this can be done by somehow ignoring the init penalty but I can't seem to understand where or how to implement that idea.</p>\n<p>I also thought about adding a &quot;dummy&quot; computer entity that just holds processes with no penalty (the planner will still fill regular computers because not filling them will resault in a soft penalty) but it seems like a lot of work and requires big changes to almost every part of the project so if there is a way to implement the first idea it would be preferred.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":24119156,"reputation":1,"user_id":18088599,"display_name":"Aakanksha Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661272019,"creation_date":1661272019,"answer_id":73462170,"question_id":73462056,"body_markdown":"source paths - These are the extra source directories of the program. The debugger looks for source code from project settings by default. \r\n\r\nThis option allows debuggers to look for extra entries in external directories.\r\n\r\nFor more details kindly visit the link.\r\nhttps://code.visualstudio.com/docs/java/java-debugging","title":"I&#39;m trying to debug my Java project in vscode","body":"<p>source paths - These are the extra source directories of the program. The debugger looks for source code from project settings by default.</p>\n<p>This option allows debuggers to look for extra entries in external directories.</p>\n<p>For more details kindly visit the link.\n<a href=\"https://code.visualstudio.com/docs/java/java-debugging\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-debugging</a></p>\n"}],"owner":{"account_id":26141186,"reputation":21,"user_id":19830540,"display_name":"Worawut Pensrisawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661272019,"creation_date":1661271473,"question_id":73462056,"body_markdown":"i am try to add user entries external folder to project in vscode launch.json \r\n\r\n``` \r\n   &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch WsAgentTrainingApplication&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.thailife.wsAgentTraining.WsAgentTrainingApplication&quot;,\r\n            &quot;projectName&quot;: &quot;wsAgentTraining&quot;,\r\n            &quot;vmArgs&quot; : &quot;-DDB_CONFIG_PATH=/c/resources/db&quot;,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;sourcePaths&quot;: [&quot;c/manit&quot;] // External folder\r\n        }\r\n    ]\r\n``` \r\nit work on eclipse Debug Configuration -&gt;  classPath -&gt; user entries -&gt; advanced -&gt; add Folder someone have issue sameme please let me know about setting that Thankyou.","title":"I&#39;m trying to debug my Java project in vscode","body":"<p>i am try to add user entries external folder to project in vscode launch.json</p>\n<pre><code>   &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch WsAgentTrainingApplication&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;com.thailife.wsAgentTraining.WsAgentTrainingApplication&quot;,\n            &quot;projectName&quot;: &quot;wsAgentTraining&quot;,\n            &quot;vmArgs&quot; : &quot;-DDB_CONFIG_PATH=/c/resources/db&quot;,\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n            &quot;sourcePaths&quot;: [&quot;c/manit&quot;] // External folder\n        }\n    ]\n</code></pre>\n<p>it work on eclipse Debug Configuration -&gt;  classPath -&gt; user entries -&gt; advanced -&gt; add Folder someone have issue sameme please let me know about setting that Thankyou.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":13759339,"reputation":1737,"user_id":9929449,"display_name":"LeBigCat"},"score":0,"creation_date":1659733104,"post_id":73247850,"comment_id":129373164,"body_markdown":"Your jdk version must be to old. What are tour es version and your jdk version?","body":"Your jdk version must be to old. What are tour es version and your jdk version?"},{"owner":{"account_id":6926137,"reputation":141,"user_id":5317177,"display_name":"Josuah Aron"},"score":0,"creation_date":1661269708,"post_id":73247850,"comment_id":129729872,"body_markdown":"@LeBigCat elasticsearch 8.3 run its own bundled jkd. Anyway, I checked the version for es 8.3.3 and it&#39;s 18.0.2. i have the same issue","body":"@LeBigCat elasticsearch 8.3 run its own bundled jkd. Anyway, I checked the version for es 8.3.3 and it&#39;s 18.0.2. i have the same issue"}],"answers":[{"tags":[],"owner":{"account_id":6926137,"reputation":141,"user_id":5317177,"display_name":"Josuah Aron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661271584,"creation_date":1661270596,"answer_id":73461841,"question_id":73247850,"body_markdown":"I had the same issue trying to run Elasticsearch 8.3.3 after stopping ES 6.2.1.\r\n\r\nI was able to run version 8.3 by deleting 2 environment variables which pointed to the old ES folder (6.2) :\r\n\r\n - ES_HOME\r\n - ES_PATH_CONF\r\n\r\nProbably updating them to the new Elasticsearch home would work as well.","title":"Can&#39;t run elasticsearch (windows)8.3.3Exception in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1] output:","body":"<p>I had the same issue trying to run Elasticsearch 8.3.3 after stopping ES 6.2.1.</p>\n<p>I was able to run version 8.3 by deleting 2 environment variables which pointed to the old ES folder (6.2) :</p>\n<ul>\n<li>ES_HOME</li>\n<li>ES_PATH_CONF</li>\n</ul>\n<p>Probably updating them to the new Elasticsearch home would work as well.</p>\n"}],"owner":{"account_id":25948424,"reputation":31,"user_id":19666822,"display_name":"Deni kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1661271584,"creation_date":1659693042,"question_id":73247850,"body_markdown":"After running bin\\elasticsearch.bat\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1]\r\noutput:\r\n\r\nerror:\r\n```\r\nUnrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n        at org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\r\n        at org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\r\n        at org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:132)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:90)\r\n        at org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:211)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:106)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:89)\r\n        at org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:213)\r\n        at org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:90)\r\n        at org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\r\n        at org.elasticsearch.cli.Command.main(Command.java:50)\r\n        at org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)\r\n```\r\n","title":"Can&#39;t run elasticsearch (windows)8.3.3Exception in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1] output:","body":"<p>After running bin\\elasticsearch.bat</p>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: starting java failed with [1]\noutput:</p>\n<p>error:</p>\n<pre><code>Unrecognized VM option 'UseConcMarkSweepGC'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n        at org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\n        at org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\n        at org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\n        at org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:132)\n        at org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:90)\n        at org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:211)\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:106)\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:89)\n        at org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:213)\n        at org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:90)\n        at org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\n        at org.elasticsearch.cli.Command.main(Command.java:50)\n        at org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)\n</code></pre>\n"},{"tags":["java","excel","apache-poi","apache-poi-4"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661271492,"creation_date":1661271379,"answer_id":73462035,"question_id":73461947,"body_markdown":"Well in summary SXSSFCell is just an extension of XSSFCell. When to use it is making a large spreadsheets. If you are not making a huge spreadsheets then use only XSSFCell.\r\n\r\nCheck more the documentation: \r\n\r\n&gt; SXSSF is an API-compatible streaming extension of XSSF to be used when\r\n&gt; very large spreadsheets have to be produced, and heap space is\r\n&gt; limited. SXSSF achieves its low memory footprint by limiting access to\r\n&gt; the rows that are within a sliding window, while XSSF gives access to\r\n&gt; all rows in the document. Older rows that are no longer in the window\r\n&gt; become inaccessible, as they are written to the disk.\r\n\r\nFrom https://poi.apache.org/components/spreadsheet/","title":"What is the difference between Cell, SXSSFCell and XSSFCell?","body":"<p>Well in summary SXSSFCell is just an extension of XSSFCell. When to use it is making a large spreadsheets. If you are not making a huge spreadsheets then use only XSSFCell.</p>\n<p>Check more the documentation:</p>\n<blockquote>\n<p>SXSSF is an API-compatible streaming extension of XSSF to be used when\nvery large spreadsheets have to be produced, and heap space is\nlimited. SXSSF achieves its low memory footprint by limiting access to\nthe rows that are within a sliding window, while XSSF gives access to\nall rows in the document. Older rows that are no longer in the window\nbecome inaccessible, as they are written to the disk.</p>\n</blockquote>\n<p>From <a href=\"https://poi.apache.org/components/spreadsheet/\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/spreadsheet/</a></p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661271492,"creation_date":1661270985,"question_id":73461947,"body_markdown":"From the [documentation][1] I came to know that `SXSSFCell` and `XSSFCell` are the implementing classes of `Cell`, but I am trying to understand the difference between different implementations. If I want to export data to excel, so which `Cell` implementation should I use? What exactly is the difference between `SXSSFCell` and `XSSFCell` ?\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html","title":"What is the difference between Cell, SXSSFCell and XSSFCell?","body":"<p>From the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">documentation</a> I came to know that <code>SXSSFCell</code> and <code>XSSFCell</code> are the implementing classes of <code>Cell</code>, but I am trying to understand the difference between different implementations. If I want to export data to excel, so which <code>Cell</code> implementation should I use? What exactly is the difference between <code>SXSSFCell</code> and <code>XSSFCell</code> ?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661270982,"creation_date":1661270633,"answer_id":73461851,"question_id":73461542,"body_markdown":"You need to replace `org.springframework.orm.hibernate4.LocalSessionFactoryBean` with `org.springframework.orm.hibernate5.LocalSessionFactoryBean`.\r\n\r\nThe relevant parts of the migration guide are:\r\n\r\n&gt; Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x.\r\n\r\nThis indicates that the minimum version of Hibernate is now Hibernate 5.2.\r\n\r\nand \r\n\r\n&gt; Packages `web.view.tiles2` and `orm.hibernate3/hibernate4` dropped.\r\n\r\nThis indicates that the package your XML config is using (`org.springframework.orm.hibernate4`) no longer exists. Searching for `LocalSessionFactoryBean` in the [Spring Framework 5.3.22 apidoc][1] shows [`org.springframework.orm.hibernate5.LocalSessionFactoryBean`][2]. Its API seems compatible with your XML definition, so changing the `class` property should be all that you need to change.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.22/javadoc-api/\r\n  [2]: https://docs.spring.io/spring-framework/docs/5.3.22/javadoc-api/org/springframework/orm/hibernate5/LocalSessionFactoryBean.html","title":"spring migration 4 to 5; what is causing java.lang.ClassNotFoundException: org.springframework.orm.hibernate4.LocalSessionFactoryBean","body":"<p>You need to replace <code>org.springframework.orm.hibernate4.LocalSessionFactoryBean</code> with <code>org.springframework.orm.hibernate5.LocalSessionFactoryBean</code>.</p>\n<p>The relevant parts of the migration guide are:</p>\n<blockquote>\n<p>Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x.</p>\n</blockquote>\n<p>This indicates that the minimum version of Hibernate is now Hibernate 5.2.</p>\n<p>and</p>\n<blockquote>\n<p>Packages <code>web.view.tiles2</code> and <code>orm.hibernate3/hibernate4</code> dropped.</p>\n</blockquote>\n<p>This indicates that the package your XML config is using (<code>org.springframework.orm.hibernate4</code>) no longer exists. Searching for <code>LocalSessionFactoryBean</code> in the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.22/javadoc-api/\" rel=\"nofollow noreferrer\">Spring Framework 5.3.22 apidoc</a> shows <a href=\"https://docs.spring.io/spring-framework/docs/5.3.22/javadoc-api/org/springframework/orm/hibernate5/LocalSessionFactoryBean.html\" rel=\"nofollow noreferrer\"><code>org.springframework.orm.hibernate5.LocalSessionFactoryBean</code></a>. Its API seems compatible with your XML definition, so changing the <code>class</code> property should be all that you need to change.</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73461851,"answer_count":1,"score":0,"last_activity_date":1661271107,"creation_date":1661269281,"question_id":73461542,"body_markdown":"I am migrating an old app from Spring 4 to 5. It builds fine with Maven, but when I start the app in jboss 7.1, I get this error:\r\n\r\n&gt; java.lang.ClassNotFoundException: org.springframework.orm.hibernate4.LocalSessionFactoryBean\r\n\r\n   \r\nSpring 5.3.20  \r\nHibernate 5.3.28.Final  \r\n\r\nI have been following this guide, https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\r\n\r\nThis said Hibernate 5 is required, so I updated that in the pom to 5.3.28.Final    \r\n\r\nHere is relevant snippet of spring-context.xml:  \r\n\r\n```xml\r\n&lt;bean id=&quot;hibernateSessionFactory&quot;\r\n\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t&lt;list&gt;\r\n\t\t\t&lt;value&gt;com.mycompany.bean.FooService&lt;/value&gt;\r\n\t\t&lt;/list&gt;\r\n\t&lt;/property&gt;\r\n\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t&lt;props&gt;\r\n\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t&lt;/props&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nRunning with Java 8.","title":"spring migration 4 to 5; what is causing java.lang.ClassNotFoundException: org.springframework.orm.hibernate4.LocalSessionFactoryBean","body":"<p>I am migrating an old app from Spring 4 to 5. It builds fine with Maven, but when I start the app in jboss 7.1, I get this error:</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: org.springframework.orm.hibernate4.LocalSessionFactoryBean</p>\n</blockquote>\n<p>Spring 5.3.20<br />\nHibernate 5.3.28.Final</p>\n<p>I have been following this guide, <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x</a></p>\n<p>This said Hibernate 5 is required, so I updated that in the pom to 5.3.28.Final</p>\n<p>Here is relevant snippet of spring-context.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;hibernateSessionFactory&quot;\n    class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;property name=&quot;annotatedClasses&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.mycompany.bean.FooService&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\n            &lt;prop key=&quot;show_sql&quot;&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Running with Java 8.</p>\n"},{"tags":["java","swing","jlabel","jcombobox","imageicon"],"comments":[{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":2,"creation_date":1362295171,"post_id":15182329,"comment_id":21389425,"body_markdown":"Please have a look at this answer of mine, for How to [add images to your resource folder](http://stackoverflow.com/a/9866659/1057230), that might will be of some help on the topic :-) The very last link will guide you surely, if you doing everything manually without using any IDE. If anything is still unclear, please do ask :-)","body":"Please have a look at this answer of mine, for How to <a href=\"http://stackoverflow.com/a/9866659/1057230\">add images to your resource folder</a>, that might will be of some help on the topic :-) The very last link will guide you surely, if you doing everything manually without using any IDE. If anything is still unclear, please do ask :-)"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":1,"creation_date":1362316401,"post_id":15182329,"comment_id":21393895,"body_markdown":"Why doing something so complicated when just `new ImageIcon(&quot;C:\\\\Users\\\\xerof_000\\\\Pictures\\\\tmspictures\\\\&quot; + name + &quot;.jpg&quot;);` will work immediately? (although this is not much maintainable as it will only work on your computer, I agree).","body":"Why doing something so complicated when just <code>new ImageIcon(&quot;C:\\\\Users\\\\xerof_000\\\\Pictures\\\\tmspictures\\\\&quot; + name + &quot;.jpg&quot;);</code> will work immediately? (although this is not much maintainable as it will only work on your computer, I agree)."},{"owner":{"account_id":1200697,"reputation":241,"user_id":1171424,"accept_rate":77,"display_name":"Raed Shahid"},"score":0,"creation_date":1362318178,"post_id":15182329,"comment_id":21394329,"body_markdown":"@GagandeepBali I am doing it from NetBeans so I checked the NetBeans link. The thing is, I am also adding pictures to the images folder during the runtime of the .jar file. And I cannot add images to the package in the .jar file while running the .jar file cant I? So is there a way I can read the images from a folder where the .jar file is run from?","body":"@GagandeepBali I am doing it from NetBeans so I checked the NetBeans link. The thing is, I am also adding pictures to the images folder during the runtime of the .jar file. And I cannot add images to the package in the .jar file while running the .jar file cant I? So is there a way I can read the images from a folder where the .jar file is run from?"},{"owner":{"account_id":1200697,"reputation":241,"user_id":1171424,"accept_rate":77,"display_name":"Raed Shahid"},"score":0,"creation_date":1362318325,"post_id":15182329,"comment_id":21394365,"body_markdown":"@GuillaumePolet Thank you that did work for me. But is there a way where I can read the images from a folder where the .jar file is run from?","body":"@GuillaumePolet Thank you that did work for me. But is there a way where I can read the images from a folder where the .jar file is run from?"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1362320704,"post_id":15182329,"comment_id":21395023,"body_markdown":"@RaedShahid Yes, if that folder is on the classpath, or is child-folder of a folder on the classpath. Assuming you have a folder `root` containing a jar `foo.jar` and an image `bar.png`, if you run your program with `java -cp .;foo.jar` (Windows)/`java -cp .:foo.jar` (Unix/Linux/MacOS), you can access the file with `getResource(&quot;/bar.png&quot;);`. You can also embedded directly the file in the jar","body":"@RaedShahid Yes, if that folder is on the classpath, or is child-folder of a folder on the classpath. Assuming you have a folder <code>root</code> containing a jar <code>foo.jar</code> and an image <code>bar.png</code>, if you run your program with <code>java -cp .;foo.jar</code> (Windows)/<code>java -cp .:foo.jar</code> (Unix/Linux/MacOS), you can access the file with <code>getResource(&quot;&#47;bar.png&quot;);</code>. You can also embedded directly the file in the jar"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1362322186,"post_id":15182329,"comment_id":21395401,"body_markdown":"@RaedShahid : Then you simply can add this line to your `manifest` file, `Class-Path: .` , this will allow the contents of the current directory to be on the `CLASSPATH`, for the .jar file to access.","body":"@RaedShahid : Then you simply can add this line to your <code>manifest</code> file, <code>Class-Path: .</code> , this will allow the contents of the current directory to be on the <code>CLASSPATH</code>, for the .jar file to access."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1362324331,"post_id":15182329,"comment_id":21396027,"body_markdown":"@RaedShahid : I had managed to provide one example code, for you to have a look at. Please do let me know if this is not what you intend to mean.","body":"@RaedShahid : I had managed to provide one example code, for you to have a look at. Please do let me know if this is not what you intend to mean."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362295380,"creation_date":1362295380,"answer_id":15183411,"question_id":15182329,"body_markdown":"As discussed in [*How to Use Icons*][1], the `getResource()` method expects to find the image in your program&#39;s JAR file. You&#39;ll need to move the image into your project. [`IconDemo`][2] is a complete example.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#eg","title":"How to set Icon to a JLabel from an image from a folder?","body":"<p>As discussed in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow\"><em>How to Use Icons</em></a>, the <code>getResource()</code> method expects to find the image in your program's JAR file. You'll need to move the image into your project. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#eg\" rel=\"nofollow\"><code>IconDemo</code></a> is a complete example.</p>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1380112807,"creation_date":1362324230,"answer_id":15187181,"question_id":15182329,"body_markdown":"**This is my directory structure :** \r\n\r\n                                           \r\n\r\n                                    packageexample\r\n                                          |\r\n                       -------------------------------------------\r\n                       |                  |                      |\r\n                    build(folder)     src(folder)           manifest.txt\r\n                       |                  |\r\n                 swing(package)       ComboExample.java\r\n                       |\r\n                imagetest(subpackage)\r\n                       |\r\n         ComboExample.class + related .class files\r\n\r\n\r\nThis is the content of the **ComboExample.java** file : \r\n\r\n\r\n    package swing.imagetest;    \r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.net.*;\r\n    import javax.swing.*;\r\n    &#160; &#160;&#160;\r\n    public class ComboExample {\r\n        \r\n    \tprivate String[] data = new String[]{\r\n    \t\t\t\t\t\t\t\t\t\t\t&quot;geek0&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t&quot;geek1&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t&quot;geek2&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t&quot;geek3&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t&quot;geek4&quot;\r\n    \t\t\t\t\t\t\t\t\t\t};\r\n    \tprivate String MESSAGE = &quot;No Image to display yet...&quot;;\r\n    \tprivate JLabel imageLabel;\r\n    \tprivate JComboBox cBox;\r\n    \tprivate ActionListener comboActions =&#160;\r\n    \t\t\t\t\t\t\tnew ActionListener() {\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent ae) {\r\n    \t\t\tJComboBox combo = (JComboBox) ae.getSource();\r\n    \t\t\tImageIcon image = new ImageIcon(\r\n    \t\t\t\t\t\tgetClass().getResource(\r\n    \t\t\t\t\t\t\t&quot;/&quot; + combo.getSelectedItem() + &quot;.gif&quot;));\r\n    \t\t\tif (image != null) {\r\n    \t\t\t\timageLabel.setIcon(image);\r\n    \t\t\t\timageLabel.setText(&quot;&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\timageLabel.setText(MESSAGE);\r\n    \t\t\t}\r\n    \t\t} &#160; &#160;\r\n    \t};\r\n    \t\r\n    \tprivate void displayGUI() {\r\n    \t\tJFrame frame = new JFrame(&quot;Combo Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \t\t\r\n    \t\tJPanel contentPane = new JPanel();\r\n    \t\timageLabel = new JLabel(MESSAGE, JLabel.CENTER);\r\n    \t\tcBox = new JComboBox(data);\r\n    \t\tcBox.addActionListener(comboActions);\r\n    \t\t\r\n    \t\tcontentPane.add(imageLabel);\r\n    \t\tcontentPane.add(cBox);\r\n    \t\t\r\n    \t\tframe.setContentPane(contentPane);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String... args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew ComboExample().displayGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n**NOW THE COMPILATION :** \r\n\r\n**To compile I did this :** \r\n\r\n    Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample\r\n    $ javac -d build src/*.java\r\n\r\n**Contents of Manifest File :** \r\n\r\n![enter image description here][1]\r\n\r\n**JAR File creation :**\r\n\r\n    Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample\r\n    $ cd build\r\n    \r\n    Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample/build\r\n    $ jar -cfm imagecombo.jar ../manifest.txt *\r\n\r\nNow take this `JAR File` to any location having these images (![geek0.gif][2], ![geek1.gif][3], ![geek2.gif][4], ![geek3.gif][5] and ![geek4.gif][6]), and run the `JAR File`, and see the results :-)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1HRY5.png\r\n  [2]: http://i.stack.imgur.com/Dhrfi.gif\r\n  [3]: http://i.stack.imgur.com/Oni5E.gif\r\n  [4]: http://i.stack.imgur.com/yHLHP.gif\r\n  [5]: http://i.stack.imgur.com/72aKE.gif\r\n  [6]: http://i.stack.imgur.com/1OArQ.gif\r\n","title":"How to set Icon to a JLabel from an image from a folder?","body":"<p><strong>This is my directory structure :</strong> </p>\n\n<pre><code>                                packageexample\n                                      |\n                   -------------------------------------------\n                   |                  |                      |\n                build(folder)     src(folder)           manifest.txt\n                   |                  |\n             swing(package)       ComboExample.java\n                   |\n            imagetest(subpackage)\n                   |\n     ComboExample.class + related .class files\n</code></pre>\n\n<p>This is the content of the <strong>ComboExample.java</strong> file : </p>\n\n<pre><code>package swing.imagetest;    \n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.net.*;\nimport javax.swing.*;\n \npublic class ComboExample {\n\n    private String[] data = new String[]{\n                                            \"geek0\",\n                                            \"geek1\",\n                                            \"geek2\",\n                                            \"geek3\",\n                                            \"geek4\"\n                                        };\n    private String MESSAGE = \"No Image to display yet...\";\n    private JLabel imageLabel;\n    private JComboBox cBox;\n    private ActionListener comboActions =\n                            new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent ae) {\n            JComboBox combo = (JComboBox) ae.getSource();\n            ImageIcon image = new ImageIcon(\n                        getClass().getResource(\n                            \"/\" + combo.getSelectedItem() + \".gif\"));\n            if (image != null) {\n                imageLabel.setIcon(image);\n                imageLabel.setText(\"\");\n            } else {\n                imageLabel.setText(MESSAGE);\n            }\n        }  \n    };\n\n    private void displayGUI() {\n        JFrame frame = new JFrame(\"Combo Example\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        JPanel contentPane = new JPanel();\n        imageLabel = new JLabel(MESSAGE, JLabel.CENTER);\n        cBox = new JComboBox(data);\n        cBox.addActionListener(comboActions);\n\n        contentPane.add(imageLabel);\n        contentPane.add(cBox);\n\n        frame.setContentPane(contentPane);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String... args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new ComboExample().displayGUI();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><strong>NOW THE COMPILATION :</strong> </p>\n\n<p><strong>To compile I did this :</strong> </p>\n\n<pre><code>Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample\n$ javac -d build src/*.java\n</code></pre>\n\n<p><strong>Contents of Manifest File :</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/1HRY5.png\" alt=\"enter image description here\"></p>\n\n<p><strong>JAR File creation :</strong></p>\n\n<pre><code>Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample\n$ cd build\n\nGagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample/build\n$ jar -cfm imagecombo.jar ../manifest.txt *\n</code></pre>\n\n<p>Now take this <code>JAR File</code> to any location having these images (<img src=\"https://i.stack.imgur.com/Dhrfi.gif\" alt=\"geek0.gif\">, <img src=\"https://i.stack.imgur.com/Oni5E.gif\" alt=\"geek1.gif\">, <img src=\"https://i.stack.imgur.com/yHLHP.gif\" alt=\"geek2.gif\">, <img src=\"https://i.stack.imgur.com/72aKE.gif\" alt=\"geek3.gif\"> and <img src=\"https://i.stack.imgur.com/1OArQ.gif\" alt=\"geek4.gif\">), and run the <code>JAR File</code>, and see the results :-)</p>\n"},{"tags":[],"owner":{"account_id":3395561,"reputation":488,"user_id":2849282,"accept_rate":79,"display_name":"EsmaeelQash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381435694,"creation_date":1381435323,"answer_id":19305122,"question_id":15182329,"body_markdown":"Since you use jLabel, you can simple use HTML tags, just begin the label text with &lt; html &gt; and use HTML tags in the label as u want, in tour case :\r\n&lt; img src=filepth\\imagefile.jpg &gt;\r\nU can use this to replace : ). With smile icon.","title":"How to set Icon to a JLabel from an image from a folder?","body":"<p>Since you use jLabel, you can simple use HTML tags, just begin the label text with &lt; html > and use HTML tags in the label as u want, in tour case :\n&lt; img src=filepth\\imagefile.jpg >\nU can use this to replace : ). With smile icon.</p>\n"},{"tags":[],"owner":{"account_id":6787200,"reputation":1,"user_id":5225516,"display_name":"Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439510537,"creation_date":1439510537,"answer_id":32000351,"question_id":15182329,"body_markdown":"          /*\r\n    \r\n    Create an Image File whose size is 700 x 472 (pixels) in any image editor. \r\n    Here Image was created using MS - Paint.\r\n    \r\n    Make sure that the Image File and the main file are in the same folder.\r\n    \r\n    The size of the JFrame should be set to 700 x 472 (pixels) in the program. \r\n    \r\n    \r\n    Set the JLabel&#39;s IconImage.\r\n    \r\n    Add the JLabel to the JFrame.\r\n    \r\n    Set JFrame properties.\r\n    \r\n    Display JFrame.\r\n    \r\n    ------------------------------------------------------------------------------\r\n    \r\n    label.setIcon(getClass().getResources(String name));\r\n    \r\n    label.setIcon(new ImageIcon(String file));\r\n    \r\n    \r\n    These 2 methods, don&#39;t always work with us. \r\n    \r\n    \r\n    So, we create a method &quot;getImageIcon(File f)&quot; that returns a new ImageIcon Object,\r\n    everytime a new File Object is passed to it. \r\n    \r\n    \r\n    */\r\n    \r\n    \r\n    \r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JButton;\r\n    \r\n    \r\n    import java.awt.Image;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    import javax.swing.ImageIcon;\r\n    \r\n    import static javax.swing.WindowConstants.*;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public class ImageDemo\r\n    {\r\n    \r\n    \tJFrame frame = new JFrame();      //initialized\r\n    \r\n    \r\n    \tJLabel label = new JLabel();      //initialized\r\n    \r\n    \t\r\n    \tJButton button = new JButton();   //initialized\r\n    \r\n    \r\n    \tImageIcon ii;                //not initialized\t\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \tpublic void displayImage()\r\n    \t{\r\n    \r\n    \t\t//Layout Type: Null Layout.\r\n    \r\n    \t\tlabel.setIcon(getImageIcon(new File(&quot;print.png&quot;)));\r\n    \r\n    \t\t\r\n    \t\tbutton.setBounds(150,150,358,66);\r\n    \t\t//Note that sizes of the Image and Button are same.\r\n    \t\tbutton.setIcon(getImageIcon(new File(&quot;Button.png&quot;)));\r\n    \r\n    \r\n    \r\n    \t\tlabel.add(button);\r\n    \t\t//add the button to the label\r\n    \r\n    \r\n    \t\tframe.add(label);\r\n    \t\tframe.setBounds(300, 50, 700, 472);\r\n    \t\t//(300 x 50 = HorizontalAlignment x VerticalAlignment)\r\n    \t\t//(700 x 472 = Width x Height)\t\t\r\n    \r\n    \t\tframe.setTitle(&quot;Image Demo&quot;);\r\n    \t\tframe.setDefaultCloseOperation(EXIT_ON_CLOSE); //WindowConstants.EXIT_ON_CLOSE\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \tpublic ImageIcon getImageIcon(File f)\r\n    \t{\r\n    \r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tImage im = ImageIO.read(f);\r\n    \r\n    \r\n    \t\t\tii = new ImageIcon(im);\r\n    \r\n    \r\n    \t\t}\r\n    \t\tcatch(IOException i)\r\n    \t\t{\r\n    \r\n    \t\t\ti.printStackTrace();\r\n    \r\n    \r\n    \t\t}\r\n    \r\n    \r\n    \r\n    \t\tfinally\r\n    \t\t{\r\n    \r\n    \t\t\treturn ii;\r\n    \r\n    \t\t}\r\n    \t\r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \r\n    \t\tImageDemo id = new ImageDemo();\r\n    \r\n    \t\tid.displayImage();\r\n    \r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    \r\n   \r\n    \r\n    \r\n     \r\n\r\n\r\n  \r\n \r\n\r\n  \r\n  \r\n\r\n\r\n  \r\n\r\n\r\n  \r\n","title":"How to set Icon to a JLabel from an image from a folder?","body":"<pre><code>      /*\n\nCreate an Image File whose size is 700 x 472 (pixels) in any image editor. \nHere Image was created using MS - Paint.\n\nMake sure that the Image File and the main file are in the same folder.\n\nThe size of the JFrame should be set to 700 x 472 (pixels) in the program. \n\n\nSet the JLabel's IconImage.\n\nAdd the JLabel to the JFrame.\n\nSet JFrame properties.\n\nDisplay JFrame.\n\n------------------------------------------------------------------------------\n\nlabel.setIcon(getClass().getResources(String name));\n\nlabel.setIcon(new ImageIcon(String file));\n\n\nThese 2 methods, don't always work with us. \n\n\nSo, we create a method \"getImageIcon(File f)\" that returns a new ImageIcon Object,\neverytime a new File Object is passed to it. \n\n\n*/\n\n\n\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\n\n\nimport java.awt.Image;\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.io.IOException;\n\n\nimport javax.swing.ImageIcon;\n\nimport static javax.swing.WindowConstants.*;\n\n\n\n\n\n\npublic class ImageDemo\n{\n\n    JFrame frame = new JFrame();      //initialized\n\n\n    JLabel label = new JLabel();      //initialized\n\n\n    JButton button = new JButton();   //initialized\n\n\n    ImageIcon ii;                //not initialized  \n\n\n\n\n\n    public void displayImage()\n    {\n\n        //Layout Type: Null Layout.\n\n        label.setIcon(getImageIcon(new File(\"print.png\")));\n\n\n        button.setBounds(150,150,358,66);\n        //Note that sizes of the Image and Button are same.\n        button.setIcon(getImageIcon(new File(\"Button.png\")));\n\n\n\n        label.add(button);\n        //add the button to the label\n\n\n        frame.add(label);\n        frame.setBounds(300, 50, 700, 472);\n        //(300 x 50 = HorizontalAlignment x VerticalAlignment)\n        //(700 x 472 = Width x Height)      \n\n        frame.setTitle(\"Image Demo\");\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //WindowConstants.EXIT_ON_CLOSE\n        frame.setVisible(true);\n\n\n    }\n\n\n\n\n\n    public ImageIcon getImageIcon(File f)\n    {\n\n\n        try\n        {\n            Image im = ImageIO.read(f);\n\n\n            ii = new ImageIcon(im);\n\n\n        }\n        catch(IOException i)\n        {\n\n            i.printStackTrace();\n\n\n        }\n\n\n\n        finally\n        {\n\n            return ii;\n\n        }\n\n\n    }\n\n\n\n    public static void main(String[] args)\n    {\n\n        ImageDemo id = new ImageDemo();\n\n        id.displayImage();\n\n\n    }\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21037830,"reputation":83,"user_id":15460873,"display_name":"lupinx2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661271080,"creation_date":1661145517,"answer_id":73440492,"question_id":15182329,"body_markdown":"This is an old question but I am recording the answer that worked for me in case it helps someone else who is in a hurry and unfamiliar with java file structures.  \r\n\r\nCheck what the expression `System.getProperty(&quot;user.dir&quot;)` returns, either by printing it or with your debugger, in my case it was:  `/home/Admin/NetBeansProjects/MyProject`  \r\nif you make a folder with your image in that location such that your folders look like this:  \r\n\r\n    NetBeansProjects\r\n      MyProject\r\n        src\r\n         main\r\n           java\r\n             mypackage\r\n               MyClass\r\n                 myJavaFile.java\r\n        img\r\n          myImage.jpg\r\n\r\n\r\nThen you should be able just do this:  \r\n`myLabel.setIcon(new ImageIcon(&quot;img/myImage.jpg&quot;));`    \r\n\r\nThis solution works but be aware that it is probably not ideal in every case since every high scoring answer talks about a &quot;resource folder&quot;. ","title":"How to set Icon to a JLabel from an image from a folder?","body":"<p>This is an old question but I am recording the answer that worked for me in case it helps someone else who is in a hurry and unfamiliar with java file structures.</p>\n<p>Check what the expression <code>System.getProperty(&quot;user.dir&quot;)</code> returns, either by printing it or with your debugger, in my case it was:  <code>/home/Admin/NetBeansProjects/MyProject</code><br />\nif you make a folder with your image in that location such that your folders look like this:</p>\n<pre><code>NetBeansProjects\n  MyProject\n    src\n     main\n       java\n         mypackage\n           MyClass\n             myJavaFile.java\n    img\n      myImage.jpg\n</code></pre>\n<p>Then you should be able just do this:<br />\n<code>myLabel.setIcon(new ImageIcon(&quot;img/myImage.jpg&quot;));</code></p>\n<p>This solution works but be aware that it is probably not ideal in every case since every high scoring answer talks about a &quot;resource folder&quot;.</p>\n"}],"owner":{"account_id":1200697,"reputation":241,"user_id":1171424,"accept_rate":77,"display_name":"Raed Shahid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76540,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":15187181,"answer_count":5,"score":8,"last_activity_date":1661271080,"creation_date":1362283284,"question_id":15182329,"body_markdown":"I am trying to set an icon to a JLabel from a folder of images whenever an item is selected from a JComboBox. The name of items in the JComboBox and name of the images in the folder are same. So whenever an item is selected from the JComboBox, the corresponding image with the same name should be set as an icon to the JLabel. I am trying to do something like this.\r\n\r\n    private void cmb_movieselectPopupMenuWillBecomeInvisible(javax.swing.event.PopupMenuEvent evt){                                                             \r\n            updateLabel(cmb_moviename.getSelectedItem().toString());\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    protected void updateLabel(String name) {\r\n            ImageIcon icon = createImageIcon(&quot;C:\\\\Users\\\\xerof_000\\\\Pictures\\\\tmspictures\\\\&quot; + name + &quot;.jpg&quot;);\r\n            if(icon != null){\r\n                Image img = icon.getImage(); \r\n                Image newimg = img.getScaledInstance(lbl_pic.getWidth(), lbl_pic.getHeight(),  java.awt.Image.SCALE_SMOOTH);\r\n                icon = new ImageIcon(newimg);\r\n                lbl_pic.setIcon(icon);\r\n                lbl_pic.setText(null);\r\n            }\r\n            else{\r\n                lbl_pic.setText(&quot;Image not found&quot;);\r\n                lbl_pic.setIcon(null);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    protected static ImageIcon createImageIcon(String path) {\r\n            URL imgURL;\r\n            imgURL = NowShowing.class.getResource(path);\r\n            if (imgURL != null) {\r\n                return new ImageIcon(imgURL);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\nI thought the problem is in &quot;C:\\\\Users\\\\xerof_000\\\\Pictures\\\\tmspictures\\\\&quot; I tried using &quot;C:/Users/xerof_000/Pictures/tmspictures/&quot; but even that did not work. And whatever I do it only shows &quot;Image not found&quot; on the JLabel.","title":"How to set Icon to a JLabel from an image from a folder?","body":"<p>I am trying to set an icon to a JLabel from a folder of images whenever an item is selected from a JComboBox. The name of items in the JComboBox and name of the images in the folder are same. So whenever an item is selected from the JComboBox, the corresponding image with the same name should be set as an icon to the JLabel. I am trying to do something like this.</p>\n\n<pre><code>private void cmb_movieselectPopupMenuWillBecomeInvisible(javax.swing.event.PopupMenuEvent evt){                                                             \n        updateLabel(cmb_moviename.getSelectedItem().toString());\n}\n\n\n\n\n\nprotected void updateLabel(String name) {\n        ImageIcon icon = createImageIcon(\"C:\\\\Users\\\\xerof_000\\\\Pictures\\\\tmspictures\\\\\" + name + \".jpg\");\n        if(icon != null){\n            Image img = icon.getImage(); \n            Image newimg = img.getScaledInstance(lbl_pic.getWidth(), lbl_pic.getHeight(),  java.awt.Image.SCALE_SMOOTH);\n            icon = new ImageIcon(newimg);\n            lbl_pic.setIcon(icon);\n            lbl_pic.setText(null);\n        }\n        else{\n            lbl_pic.setText(\"Image not found\");\n            lbl_pic.setIcon(null);\n        }\n    }\n\n\n\n\n\nprotected static ImageIcon createImageIcon(String path) {\n        URL imgURL;\n        imgURL = NowShowing.class.getResource(path);\n        if (imgURL != null) {\n            return new ImageIcon(imgURL);\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>I thought the problem is in \"C:\\Users\\xerof_000\\Pictures\\tmspictures\\\" I tried using \"C:/Users/xerof_000/Pictures/tmspictures/\" but even that did not work. And whatever I do it only shows \"Image not found\" on the JLabel.</p>\n"},{"tags":["java","snmp","snmp4j","snmpd"],"comments":[{"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"score":0,"creation_date":1661267875,"post_id":73460928,"comment_id":129729148,"body_markdown":"are you running it from an IDE or CLI ? where did you put the lib containing the package org.snmp4j ?","body":"are you running it from an IDE or CLI ? where did you put the lib containing the package org.snmp4j ?"},{"owner":{"account_id":24941391,"reputation":17,"user_id":18807233,"display_name":"Berkay &#220;nsal"},"score":0,"creation_date":1661270006,"post_id":73460928,"comment_id":129729989,"body_markdown":"Trying to work it on eclipse ide and i didnt create lib","body":"Trying to work it on eclipse ide and i didnt create lib"}],"answers":[{"tags":[],"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661271051,"creation_date":1661271051,"answer_id":73461965,"question_id":73460928,"body_markdown":"I think the snmp library jar is not included in the eclipse project. You have to download the snmp library jar from [maven repository][1]. Right click on the project and go to Properties -&gt; Java Build Path -&gt; Libraries and add those library jar there using Add External Jars.\r\n\r\n\r\n  [1]: https://mvnrepository.com/search?q=org.snmp4j","title":"Snmp code gives me this error Caused by: java.lang.NoClassDefFoundError: org/snmp4j/TransportMapping","body":"<p>I think the snmp library jar is not included in the eclipse project. You have to download the snmp library jar from <a href=\"https://mvnrepository.com/search?q=org.snmp4j\" rel=\"nofollow noreferrer\">maven repository</a>. Right click on the project and go to Properties -&gt; Java Build Path -&gt; Libraries and add those library jar there using Add External Jars.</p>\n"}],"owner":{"account_id":24941391,"reputation":17,"user_id":18807233,"display_name":"Berkay &#220;nsal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661271051,"creation_date":1661266516,"question_id":73460928,"body_markdown":"i have been trying to apply commands of snmp at java on Ubuntu, i find  an example code at stackoverflow and code&#39;s github link: https://github.com/jineshmathewt/snmpbulkwalk/blob/master/snmpbulkwalk/src/TestSNMP.java\r\nBut when i try to execute i m getting an error .\r\n\r\n[![But when i try to execute i m getting an error .][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fC1kE.png\r\n\r\ni would like to ask what am i doing wrong ? , to mention i can use get command on terminal and it works .\r\n\r\n\r\n\r\n\r\n\r\npublic class TestSNMP {\r\n\r\n\tprivate static final String SNMPPORT = &quot;161&quot;;\r\n\tprivate static final int snmpVersion = SnmpConstants.version2c;\r\n\tprivate int snmpTimeout = 500;\r\n\tprivate int numRetries = 2;\r\n\r\n\tpublic void doSNMPBulkWalk(String ipAddr, String commStr, String bulkOID, String operation) throws IOException {\r\n\r\n\t\tSnmp snmp = new Snmp(new DefaultUdpTransportMapping());\r\n\t\tUserTarget targetV3 = null;\r\n\t\tCommunityTarget targetV2 = null;\r\n\t\tUsmUser user = null;\r\n\t\tPDU request = null;\r\n\t\tsnmp.listen();\r\n\t\tAddress add = new UdpAddress(ipAddr + &quot;/&quot; + SNMPPORT);\r\n\r\n\t\tif (snmpVersion == SnmpConstants.version2c || snmpVersion == SnmpConstants.version1) {\r\n\t\t\ttargetV2 = new CommunityTarget();\r\n\t\t\ttargetV2.setCommunity(new OctetString(commStr));\r\n\t\t\ttargetV2.setAddress(add);\r\n\t\t\ttargetV2.setTimeout(snmpTimeout);\r\n\t\t\ttargetV2.setRetries(numRetries);\r\n\t\t\ttargetV2.setVersion(snmpVersion);\r\n\t\t\ttargetV2.setMaxSizeRequestPDU(65535);\r\n\t\t}\r\n\r\n\t\tif (snmpVersion == SnmpConstants.version2c) {\r\n\t\t\trequest = new PDU();\r\n\t\t\t//request.setMaxRepetitions(100);\r\n\t\t\t//request.setNonRepeaters(0);\r\n\t\t}\r\n\r\n\t\trequest.setType(PDU.GETBULK);\r\n\t\tOID oID = new OID(bulkOID);\r\n\t\trequest.add(new VariableBinding(oID));\r\n\t\tOID rootOID = request.get(0).getOid();\r\n\t\tVariableBinding vb, ar[];\r\n\t\tList&lt;TreeEvent&gt; l = null;\r\n\t\tTreeUtils treeUtils = new TreeUtils(snmp, new DefaultPDUFactory());\r\n\t\tif (snmpVersion == SnmpConstants.version2c) {\r\n\t\t\ttargetV2.setCommunity(new OctetString(commStr));\r\n\t\t\tif (operation.equalsIgnoreCase(&quot;bulkwalk&quot;)) {\r\n\t\t\t\tOID[] rootOIDs = new OID[1];\r\n\t\t\t\trootOIDs[0] = rootOID;\r\n\t\t\t\tl = treeUtils.walk(targetV2, rootOIDs);\r\n\t\t\t} else {\r\n\t\t\t\tl = treeUtils.getSubtree(targetV2, rootOID);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t//System.out.println(l);\r\n\t\tSystem.out.println(&quot;size=&quot;+l.size());\r\n\t\tfor(TreeEvent t : l){\r\n\t\t\tVariableBinding[] vbs= t.getVariableBindings();\r\n\t\t\tfor (int i = 0; (vbs != null) &amp;&amp; i &lt; vbs.length; i++) {\r\n\t\t\t\tvb = vbs[i];\r\n\t\t\t\tString s = vb.toString();\r\n\t\t\t\tSystem.out.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tDate d1 = new Date();\r\n\t\tTestSNMP snmpTest = new TestSNMP();\r\n\t\ttry {\r\n\t\t\tsnmpTest.doSNMPBulkWalk(args[0], args[1], args[2], args[3]);\r\n\t\t} catch (IOException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tDate d2 = new Date();\r\n\t\tSystem.out.println(&quot;Time Elapsed=&quot; + (d2.getTime() - d1.getTime()));\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\n","title":"Snmp code gives me this error Caused by: java.lang.NoClassDefFoundError: org/snmp4j/TransportMapping","body":"<p>i have been trying to apply commands of snmp at java on Ubuntu, i find  an example code at stackoverflow and code's github link: <a href=\"https://github.com/jineshmathewt/snmpbulkwalk/blob/master/snmpbulkwalk/src/TestSNMP.java\" rel=\"nofollow noreferrer\">https://github.com/jineshmathewt/snmpbulkwalk/blob/master/snmpbulkwalk/src/TestSNMP.java</a>\nBut when i try to execute i m getting an error .</p>\n<p><a href=\"https://i.stack.imgur.com/fC1kE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fC1kE.png\" alt=\"But when i try to execute i m getting an error .\" /></a></p>\n<p>i would like to ask what am i doing wrong ? , to mention i can use get command on terminal and it works .</p>\n<p>public class TestSNMP {</p>\n<pre><code>private static final String SNMPPORT = &quot;161&quot;;\nprivate static final int snmpVersion = SnmpConstants.version2c;\nprivate int snmpTimeout = 500;\nprivate int numRetries = 2;\n\npublic void doSNMPBulkWalk(String ipAddr, String commStr, String bulkOID, String operation) throws IOException {\n\n    Snmp snmp = new Snmp(new DefaultUdpTransportMapping());\n    UserTarget targetV3 = null;\n    CommunityTarget targetV2 = null;\n    UsmUser user = null;\n    PDU request = null;\n    snmp.listen();\n    Address add = new UdpAddress(ipAddr + &quot;/&quot; + SNMPPORT);\n\n    if (snmpVersion == SnmpConstants.version2c || snmpVersion == SnmpConstants.version1) {\n        targetV2 = new CommunityTarget();\n        targetV2.setCommunity(new OctetString(commStr));\n        targetV2.setAddress(add);\n        targetV2.setTimeout(snmpTimeout);\n        targetV2.setRetries(numRetries);\n        targetV2.setVersion(snmpVersion);\n        targetV2.setMaxSizeRequestPDU(65535);\n    }\n\n    if (snmpVersion == SnmpConstants.version2c) {\n        request = new PDU();\n        //request.setMaxRepetitions(100);\n        //request.setNonRepeaters(0);\n    }\n\n    request.setType(PDU.GETBULK);\n    OID oID = new OID(bulkOID);\n    request.add(new VariableBinding(oID));\n    OID rootOID = request.get(0).getOid();\n    VariableBinding vb, ar[];\n    List&lt;TreeEvent&gt; l = null;\n    TreeUtils treeUtils = new TreeUtils(snmp, new DefaultPDUFactory());\n    if (snmpVersion == SnmpConstants.version2c) {\n        targetV2.setCommunity(new OctetString(commStr));\n        if (operation.equalsIgnoreCase(&quot;bulkwalk&quot;)) {\n            OID[] rootOIDs = new OID[1];\n            rootOIDs[0] = rootOID;\n            l = treeUtils.walk(targetV2, rootOIDs);\n        } else {\n            l = treeUtils.getSubtree(targetV2, rootOID);\n        }\n\n    }\n    //System.out.println(l);\n    System.out.println(&quot;size=&quot;+l.size());\n    for(TreeEvent t : l){\n        VariableBinding[] vbs= t.getVariableBindings();\n        for (int i = 0; (vbs != null) &amp;&amp; i &lt; vbs.length; i++) {\n            vb = vbs[i];\n            String s = vb.toString();\n            System.out.println(s);\n        }\n    }\n\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    Date d1 = new Date();\n    TestSNMP snmpTest = new TestSNMP();\n    try {\n        snmpTest.doSNMPBulkWalk(args[0], args[1], args[2], args[3]);\n    } catch (IOException e) {\n        \n        e.printStackTrace();\n    }\n    Date d2 = new Date();\n    System.out.println(&quot;Time Elapsed=&quot; + (d2.getTime() - d1.getTime()));\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1661264236,"post_id":73456233,"comment_id":129727471,"body_markdown":"What problem are you trying to solve?","body":"What problem are you trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661270967,"creation_date":1661261299,"answer_id":73459646,"question_id":73456233,"body_markdown":"2022-03 is the name of the whole product package, rather than Eclipse Platform which is just one component. 4.23 is the correct version for Platform.\r\n\r\nAs far as I am aware the 2022-03 name is only present in the `about.mappings` file in the &quot;defining bundle&quot; for the product and is just used in the &quot;about&quot; text.\r\n\r\nThe about.mappings looks something like\r\n```none\r\n# about.mappings\r\n# contains fill-ins for about.properties\r\n# java.io.Properties file (ISO 8859-1 with &quot;\\&quot; escapes)\r\n# This file does not need to be translated.\r\n\r\n0=I20220817-1800\r\n1=2022-09\r\n2=4.25\r\n```\r\nYou can read this using:\r\n```java\r\nIProduct product = Platform.getProduct();\r\n\r\nBundle bundle = product.getDefiningBundle();\r\n\r\nURL location = FileLocator.find(bundle, new Path(&quot;about.mappings&quot;));\r\n\r\ntry (InputStream is = location.openStream())\r\n {\r\n   ResourceBundle res = new PropertyResourceBundle(is);\r\n\r\n   String version = res.getString(&quot;1&quot;);\r\n }\r\ncatch (final IOException ex)\r\n {\r\n   ...\r\n }\r\n\r\n```\r\nThis is based on code in `org.eclipse.ui.internal.ProductProperties`","title":"How to get the eclipse platform version in &quot;2022-03&quot; programmatically","body":"<p>2022-03 is the name of the whole product package, rather than Eclipse Platform which is just one component. 4.23 is the correct version for Platform.</p>\n<p>As far as I am aware the 2022-03 name is only present in the <code>about.mappings</code> file in the &quot;defining bundle&quot; for the product and is just used in the &quot;about&quot; text.</p>\n<p>The about.mappings looks something like</p>\n<pre class=\"lang-none prettyprint-override\"><code># about.mappings\n# contains fill-ins for about.properties\n# java.io.Properties file (ISO 8859-1 with &quot;\\&quot; escapes)\n# This file does not need to be translated.\n\n0=I20220817-1800\n1=2022-09\n2=4.25\n</code></pre>\n<p>You can read this using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IProduct product = Platform.getProduct();\n\nBundle bundle = product.getDefiningBundle();\n\nURL location = FileLocator.find(bundle, new Path(&quot;about.mappings&quot;));\n\ntry (InputStream is = location.openStream())\n {\n   ResourceBundle res = new PropertyResourceBundle(is);\n\n   String version = res.getString(&quot;1&quot;);\n }\ncatch (final IOException ex)\n {\n   ...\n }\n\n</code></pre>\n<p>This is based on code in <code>org.eclipse.ui.internal.ProductProperties</code></p>\n"}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459646,"answer_count":1,"score":0,"last_activity_date":1661270967,"creation_date":1661246849,"question_id":73456233,"body_markdown":"I need to get the Eclipse version in ```2022-03``` format programmatically.\r\n\r\nI am trying using ```Platform.getBundle(&quot;org.eclipse.platform&quot;).getVersion()``` &lt;br/&gt;\r\n\r\nbut it is giving the version in ```4.23.0.v20220308-0310``` format. \r\n\r\nCould anyone have a suggestion, please?\r\n\r\nThanks in advance for your time.","title":"How to get the eclipse platform version in &quot;2022-03&quot; programmatically","body":"<p>I need to get the Eclipse version in <code>2022-03</code> format programmatically.</p>\n<p>I am trying using <code>Platform.getBundle(&quot;org.eclipse.platform&quot;).getVersion()</code> <br/></p>\n<p>but it is giving the version in <code>4.23.0.v20220308-0310</code> format.</p>\n<p>Could anyone have a suggestion, please?</p>\n<p>Thanks in advance for your time.</p>\n"},{"tags":["java","sql","h2"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661270436,"creation_date":1661270436,"answer_id":73461810,"question_id":73461628,"body_markdown":"    PARSEDATETIME(created, &#39;M/d/yyyy h:mm:ss a&#39;, &#39;en&#39;)\r\n\r\nAM/PM are English (okay Latin) abbreviations. So add the locale `&#39;en&#39;` as [parameter][1].\r\n\r\n\r\n  [1]: http://www.h2database.com/html/functions.html#parsedatetime","title":"H2 DB - Strange problem with PARSEDATETIME on different systems","body":"<pre><code>PARSEDATETIME(created, 'M/d/yyyy h:mm:ss a', 'en')\n</code></pre>\n<p>AM/PM are English (okay Latin) abbreviations. So add the locale <code>'en'</code> as <a href=\"http://www.h2database.com/html/functions.html#parsedatetime\" rel=\"nofollow noreferrer\">parameter</a>.</p>\n"}],"owner":{"account_id":5850493,"reputation":117,"user_id":4609282,"display_name":"theb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73461810,"answer_count":1,"score":1,"last_activity_date":1661270436,"creation_date":1661269571,"question_id":73461628,"body_markdown":"I&#39;m trying to parse a timestamp in an H2 DB with format 4/24/2022 6:03:30 pm using PARSEDATETIME. \r\n\r\n```\r\nPARSEDATETIME(created, &#39;M/d/yyyy h:mm:ss a&#39;)\r\n```\r\n\r\nIt works like a charm on my computer. \r\n\r\nHowever, if it is run on the computer of a client, it results in the following error message:\r\n \r\n&gt; org.h2.jdbc.JdbcSQLDataException: Error parsing &quot;4/24/2022 6:03:30 pm&quot;;\r\n&gt; \r\n&gt; Caused by: java.time.format.DateTimeParseException: Text &#39;4/24/2022 6:03:30 pm&#39; could not be parsed at index 18\r\n\r\nAny ideas what causes this problem - and more importantly, any suggestions how to solve this? Thanks in advance! ","title":"H2 DB - Strange problem with PARSEDATETIME on different systems","body":"<p>I'm trying to parse a timestamp in an H2 DB with format 4/24/2022 6:03:30 pm using PARSEDATETIME.</p>\n<pre><code>PARSEDATETIME(created, 'M/d/yyyy h:mm:ss a')\n</code></pre>\n<p>It works like a charm on my computer.</p>\n<p>However, if it is run on the computer of a client, it results in the following error message:</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLDataException: Error parsing &quot;4/24/2022 6:03:30 pm&quot;;</p>\n<p>Caused by: java.time.format.DateTimeParseException: Text '4/24/2022 6:03:30 pm' could not be parsed at index 18</p>\n</blockquote>\n<p>Any ideas what causes this problem - and more importantly, any suggestions how to solve this? Thanks in advance!</p>\n"},{"tags":["java","android","cordova"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1603377963,"post_id":64483045,"comment_id":114023865,"body_markdown":"JAXB is not included anymore with Java 15. You&#39;ll need to add the appropriate libraries to your classpath.","body":"JAXB is not included anymore with Java 15. You&#39;ll need to add the appropriate libraries to your classpath."}],"answers":[{"tags":[],"owner":{"account_id":16436070,"reputation":1180,"user_id":11873634,"display_name":"Kid"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1605907259,"creation_date":1603382533,"answer_id":64486120,"question_id":64483045,"body_markdown":"I downgraded to Java 8 and it worked. \r\n\r\nDon&#39;t know why 15 doesn&#39;t work in this case.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema","body":"<p>I downgraded to Java 8 and it worked.</p>\n<p>Don't know why 15 doesn't work in this case.</p>\n"},{"tags":[],"owner":{"account_id":2751354,"reputation":123,"user_id":2370678,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661269590,"creation_date":1661269590,"answer_id":73461632,"question_id":64483045,"body_markdown":"\r\nThis answer is outdated. The current version of Cordova uses JDK 11. Try the answers here:\r\nhttps://stackoverflow.com/questions/46426854/cordova-cannot-see-android-target.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema","body":"<p>This answer is outdated. The current version of Cordova uses JDK 11. Try the answers here:\n<a href=\"https://stackoverflow.com/questions/46426854/cordova-cannot-see-android-target\">cordova cannot see Android target</a>.</p>\n"}],"owner":{"account_id":16436070,"reputation":1180,"user_id":11873634,"display_name":"Kid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64486120,"answer_count":2,"score":1,"last_activity_date":1661269590,"creation_date":1603372349,"question_id":64483045,"body_markdown":"I am trying to make a cordova plugin. \r\nWhat I did\r\n\r\n```\r\n$ cordova create toasty-plugin-test com.stanleyidesis.toastyplugintest ToastyPluginTest\r\n$ cd toasty-plugin-test\r\n$ cordova platforms add android\r\n$ cordova requirements\r\n```\r\n\r\nAnd the error below happens\r\n\r\n\r\n```\r\n[boy@Plum toasty-plugin-test ]$ cordova requirements\r\n\r\nRequirements check results for android:\r\nJava JDK: installed 15.0.1\r\nAndroid SDK: installed true\r\nAndroid target: not installed \r\nCommand failed with exit code 1: avdmanager list target\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n\tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n\tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n\tat com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\r\n\tat com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 5 more\r\nGradle: installed /usr/local/Cellar/gradle/6.7/bin/gradle\r\nSome of requirements check failed\r\n```\r\n\r\nHow can I fix this issue?\r\n\r\nenvironment: \r\n\r\nmacOS - Catalina, 10.15.6\r\n```\r\n[boy@Plum toasty-plugin-test ]$ which java\r\n/usr/bin/java\r\n[boy@Plum toasty-plugin-test ]$ which javac\r\n/usr/bin/javac\r\n[boy@Plum toasty-plugin-test ]$ java -version\r\njava version &quot;15.0.1&quot; 2020-10-20\r\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\r\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\r\n```\r\n\r\nAlso, I&#39;ve installed AndroidStudio 4.1\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema","body":"<p>I am trying to make a cordova plugin.\nWhat I did</p>\n<pre><code>$ cordova create toasty-plugin-test com.stanleyidesis.toastyplugintest ToastyPluginTest\n$ cd toasty-plugin-test\n$ cordova platforms add android\n$ cordova requirements\n</code></pre>\n<p>And the error below happens</p>\n<pre><code>[boy@Plum toasty-plugin-test ]$ cordova requirements\n\nRequirements check results for android:\nJava JDK: installed 15.0.1\nAndroid SDK: installed true\nAndroid target: not installed \nCommand failed with exit code 1: avdmanager list target\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\n    at com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 5 more\nGradle: installed /usr/local/Cellar/gradle/6.7/bin/gradle\nSome of requirements check failed\n</code></pre>\n<p>How can I fix this issue?</p>\n<p>environment:</p>\n<p>macOS - Catalina, 10.15.6</p>\n<pre><code>[boy@Plum toasty-plugin-test ]$ which java\n/usr/bin/java\n[boy@Plum toasty-plugin-test ]$ which javac\n/usr/bin/javac\n[boy@Plum toasty-plugin-test ]$ java -version\njava version &quot;15.0.1&quot; 2020-10-20\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\n</code></pre>\n<p>Also, I've installed AndroidStudio 4.1</p>\n"},{"tags":["java","android","arrays","json"],"comments":[{"owner":{"account_id":6972846,"reputation":319,"user_id":5348568,"display_name":"rguzman"},"score":0,"creation_date":1661269716,"post_id":73461357,"comment_id":129729874,"body_markdown":"Hello! Seems like it is similar to https://stackoverflow.com/questions/32104423/volley-jsonexception-end-of-input-at-character-0-of","body":"Hello! Seems like it is similar to <a href=\"https://stackoverflow.com/questions/32104423/volley-jsonexception-end-of-input-at-character-0-of\" title=\"volley jsonexception end of input at character 0 of\">stackoverflow.com/questions/32104423/&hellip;</a>"},{"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"score":0,"creation_date":1661270125,"post_id":73461357,"comment_id":129730034,"body_markdown":"This case is about JsonObjectRequest, are you sure that it is similar with JsonArrayRequest?","body":"This case is about JsonObjectRequest, are you sure that it is similar with JsonArrayRequest?"},{"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"score":0,"creation_date":1661270807,"post_id":73461357,"comment_id":129730276,"body_markdown":"Can you say me where I have to put in that subclass from the similar question?","body":"Can you say me where I have to put in that subclass from the similar question?"},{"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"score":0,"creation_date":1661271458,"post_id":73461357,"comment_id":129730503,"body_markdown":"Now i added that solution, yeah the program does not crash anymore but as you see the string I get from the reqeuest is not null and now I get response = null","body":"Now i added that solution, yeah the program does not crash anymore but as you see the string I get from the reqeuest is not null and now I get response = null"}],"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661269397,"creation_date":1661268381,"question_id":73461357,"body_markdown":"I want to change my `StringRequest` to a `JsonArrayRequest` in order to separate the return into different variables.\r\n\r\nAs I run this code below:\r\n\r\n```\r\nRequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n\r\nStringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\r\n    @Override\r\n    public void onResponse(String response) {\r\n        Log.d(&quot;res&quot;, response);\r\n        if (response.equals(&quot;failure&quot;)) {\r\n            Toast.makeText(MainActivity.this, &quot;Ung&#252;ltige Anmeldedaten&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            TV.setText(response);\r\n            //ID = Integer.parseInt(response);\r\n            //switchToMain();\r\n        }\r\n    }\r\n}, new Response.ErrorListener() {\r\n    @Override\r\n    public void onErrorResponse(VolleyError error) {\r\n        Toast.makeText(MainActivity.this, error.toString().trim(), Toast.LENGTH_SHORT).show();\r\n    }\r\n}){\r\n    @Override\r\n    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;email&quot;, email);\r\n        data.put(&quot;password&quot;, password);\r\n        return data;\r\n    }\r\n};\r\n\r\nrequestQueue.add(stringRequest);\r\n```\r\nI return the response: \r\n```\r\n[{&quot;id&quot;:&quot;6&quot;,&quot;Username&quot;:&quot;a&quot;,&quot;Email&quot;:&quot;a&quot;,&quot;Password&quot;:&quot;0cc175b9c0f1b6a831c399e269772661&quot;,&quot;Status&quot;:&quot;Online&quot;}]\r\n```\r\n , which is a JsonArray, isn&#180;t it?\r\n\r\nWhen I try to make a `JsonArrayRequest` I receive errors:\r\n\r\n```\r\nRequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n\r\nJsonArrayRequest queue = new JsonArrayRequest(Request.Method.POST,URL,null,new Response.Listener&lt;JSONArray&gt;(){\r\n    @Override\r\n    public void onResponse(JSONArray response) {\r\n\r\n        if (response.equals(&quot;null&quot;)) {\r\n            Toast.makeText(MainActivity.this, &quot;Ung&#252;ltige Anmeldedaten&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n\r\n            //ID = Integer.parseInt(response);\r\n            //switchToMain();\r\n        }\r\n    }\r\n}, new Response.ErrorListener() {\r\n    @Override\r\n    public void onErrorResponse(VolleyError error) {\r\n        Toast.makeText(MainActivity.this, error.toString().trim(), Toast.LENGTH_SHORT).show();\r\n    }\r\n}){\r\n    @Override\r\n    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;email&quot;, email);\r\n        data.put(&quot;password&quot;, password);\r\n        return data;\r\n    }\r\n};\r\n\r\nrequestQueue.add(queue);\r\n```\r\n\r\nI receive the following error:\r\n&gt;com.android.volley.ParseError: org.json.JSONException: End of input at character 0 of\r\n\r\nWhere is my mistake?","title":"How to change a StringRequest into a JsonArrayRequest?","body":"<p>I want to change my <code>StringRequest</code> to a <code>JsonArrayRequest</code> in order to separate the return into different variables.</p>\n<p>As I run this code below:</p>\n<pre><code>RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\nStringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\n    @Override\n    public void onResponse(String response) {\n        Log.d(&quot;res&quot;, response);\n        if (response.equals(&quot;failure&quot;)) {\n            Toast.makeText(MainActivity.this, &quot;Ungltige Anmeldedaten&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            TV.setText(response);\n            //ID = Integer.parseInt(response);\n            //switchToMain();\n        }\n    }\n}, new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Toast.makeText(MainActivity.this, error.toString().trim(), Toast.LENGTH_SHORT).show();\n    }\n}){\n    @Override\n    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;email&quot;, email);\n        data.put(&quot;password&quot;, password);\n        return data;\n    }\n};\n\nrequestQueue.add(stringRequest);\n</code></pre>\n<p>I return the response:</p>\n<pre><code>[{&quot;id&quot;:&quot;6&quot;,&quot;Username&quot;:&quot;a&quot;,&quot;Email&quot;:&quot;a&quot;,&quot;Password&quot;:&quot;0cc175b9c0f1b6a831c399e269772661&quot;,&quot;Status&quot;:&quot;Online&quot;}]\n</code></pre>\n<p>, which is a JsonArray, isnt it?</p>\n<p>When I try to make a <code>JsonArrayRequest</code> I receive errors:</p>\n<pre><code>RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\nJsonArrayRequest queue = new JsonArrayRequest(Request.Method.POST,URL,null,new Response.Listener&lt;JSONArray&gt;(){\n    @Override\n    public void onResponse(JSONArray response) {\n\n        if (response.equals(&quot;null&quot;)) {\n            Toast.makeText(MainActivity.this, &quot;Ungltige Anmeldedaten&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n\n            //ID = Integer.parseInt(response);\n            //switchToMain();\n        }\n    }\n}, new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Toast.makeText(MainActivity.this, error.toString().trim(), Toast.LENGTH_SHORT).show();\n    }\n}){\n    @Override\n    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;email&quot;, email);\n        data.put(&quot;password&quot;, password);\n        return data;\n    }\n};\n\nrequestQueue.add(queue);\n</code></pre>\n<p>I receive the following error:</p>\n<blockquote>\n<p>com.android.volley.ParseError: org.json.JSONException: End of input at character 0 of</p>\n</blockquote>\n<p>Where is my mistake?</p>\n"},{"tags":["java","android","out-of-memory"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660919687,"post_id":73418306,"comment_id":129654703,"body_markdown":"But why would you place a big file completely in a byte buffer in memory? Makes ni sense to me. And not enough: After that you create a string fir that byte buffer. Hence it would be in memory twice. Wonder why you are doing this.","body":"But why would you place a big file completely in a byte buffer in memory? Makes ni sense to me. And not enough: After that you create a string fir that byte buffer. Hence it would be in memory twice. Wonder why you are doing this."},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1660919736,"post_id":73418306,"comment_id":129654725,"body_markdown":"separate to several files","body":"separate to several files"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1660919815,"post_id":73418306,"comment_id":129654753,"body_markdown":"Well even then that is not needed. And converting a byte buffer to string neither. You mean 22 MB. Not 22 mb.","body":"Well even then that is not needed. And converting a byte buffer to string neither. You mean 22 MB. Not 22 mb."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1660920280,"post_id":73418306,"comment_id":129654930,"body_markdown":"You may not be able to hold 22MB of parsed JSON in memory. But, you will have better luck if you pass the `InputStream` to your JSON parser (Moshi, Gson, Jackson, etc.), rather than trying to read it in yourself.","body":"You may not be able to hold 22MB of parsed JSON in memory. But, you will have better luck if you pass the <code>InputStream</code> to your JSON parser (Moshi, Gson, Jackson, etc.), rather than trying to read it in yourself."},{"owner":{"account_id":23797695,"reputation":9,"user_id":17808329,"display_name":"Arab Ware"},"score":0,"creation_date":1660922557,"post_id":73418306,"comment_id":129655794,"body_markdown":"Could please refer to method name or something in the gson library that read directly from inputstream?","body":"Could please refer to method name or something in the gson library that read directly from inputstream?"},{"owner":{"account_id":5553343,"reputation":174,"user_id":4405670,"display_name":"Piyush Saxena"},"score":1,"creation_date":1660923345,"post_id":73418306,"comment_id":129656119,"body_markdown":"Like @CommonsWare correctly said lots of library do provide option to read large Json files using Streams, however that also depends on your Json Structure, assuming it would be a big array of lots of similar Json Structures(Objects) it would be possible to use these libraries.","body":"Like @CommonsWare correctly said lots of library do provide option to read large Json files using Streams, however that also depends on your Json Structure, assuming it would be a big array of lots of similar Json Structures(Objects) it would be possible to use these libraries."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1660927766,"post_id":73418306,"comment_id":129657439,"body_markdown":"Use `fromJson()` on a `Gson` instance, wrapping your `InputStream` in an `InputStreamReader`. See https://github.com/google/gson/issues/187#issuecomment-83702155","body":"Use <code>fromJson()</code> on a <code>Gson</code> instance, wrapping your <code>InputStream</code> in an <code>InputStreamReader</code>. See <a href=\"https://github.com/google/gson/issues/187#issuecomment-83702155\" rel=\"nofollow noreferrer\">github.com/google/gson/issues/187#issuecomment-83702155</a>"}],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660919789,"creation_date":1660919789,"answer_id":73418411,"question_id":73418306,"body_markdown":"add `android:largeHeap=&quot;true&quot;` in your manifest file\r\n\r\n```\r\n&lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:largeHeap=&quot;true&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n```\r\n\r\nRefer to this [answer][1]\r\n&gt; make sure you don&#39;t have two copies of the data in memory. You can null out the reference to the old ArrayList before starting to create the new one, though you have to do that carefully -- calling ArrayList.clear() first would be more thorough.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14764576/16177121","title":"Reading Big Assets File Throws OutofMemory Exception","body":"<p>add <code>android:largeHeap=&quot;true&quot;</code> in your manifest file</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:largeHeap=&quot;true&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>Refer to this <a href=\"https://stackoverflow.com/a/14764576/16177121\">answer</a></p>\n<blockquote>\n<p>make sure you don't have two copies of the data in memory. You can null out the reference to the old ArrayList before starting to create the new one, though you have to do that carefully -- calling ArrayList.clear() first would be more thorough.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23797695,"reputation":9,"user_id":17808329,"display_name":"Arab Ware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661269379,"creation_date":1661269379,"answer_id":73461573,"question_id":73418306,"body_markdown":"As @CommonsWare said , just I have to use this\r\n\r\n``` \r\n((java.io.Reader)(new java.io.InputStreamReader(ContextOfClass.getAssests().open(&quot;file name&quot;))))\r\n```\r\n\r\nIn my gson json to listmap/liststring/etc code ","title":"Reading Big Assets File Throws OutofMemory Exception","body":"<p>As @CommonsWare said , just I have to use this</p>\n<pre><code>((java.io.Reader)(new java.io.InputStreamReader(ContextOfClass.getAssests().open(&quot;file name&quot;))))\n</code></pre>\n<p>In my gson json to listmap/liststring/etc code</p>\n"}],"owner":{"account_id":23797695,"reputation":9,"user_id":17808329,"display_name":"Arab Ware"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73461573,"answer_count":2,"score":0,"last_activity_date":1661269379,"creation_date":1660919267,"question_id":73418306,"body_markdown":"I am trying to read an assets file using InputStream but it throws OutOfMemory Exception , the size of file is 22 mb ( about 22 Million Bytes ! )\r\n\r\nThis is the code I use\r\n\r\n```\r\ntry{\r\n\tjava.io.InputStream is = MainActivity.this.getAssets().open(&quot;file.json&quot;);\r\n\t           int Si = is.available();\r\n\t           byte[] Bu = new byte[Si];\r\n\t           is.read(Bu);\r\n\t           is.close();\r\n\t           data = new String(Bu, &quot;UTF-8&quot;);\r\n}catch(Exception e){\r\n\t \r\n}\r\n```","title":"Reading Big Assets File Throws OutofMemory Exception","body":"<p>I am trying to read an assets file using InputStream but it throws OutOfMemory Exception , the size of file is 22 mb ( about 22 Million Bytes ! )</p>\n<p>This is the code I use</p>\n<pre><code>try{\n    java.io.InputStream is = MainActivity.this.getAssets().open(&quot;file.json&quot;);\n               int Si = is.available();\n               byte[] Bu = new byte[Si];\n               is.read(Bu);\n               is.close();\n               data = new String(Bu, &quot;UTF-8&quot;);\n}catch(Exception e){\n     \n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661328223,"post_id":73461569,"comment_id":129742844,"body_markdown":"I&#39;m not sure I understand, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22772758,"reputation":2735,"user_id":16929894,"display_name":"ErnestoC"},"score":0,"creation_date":1661449040,"post_id":73461569,"comment_id":129781440,"body_markdown":"Can you share any error codes or traces that are returned when you update or delete the note? Otherwise, how is the app not working as it should? You can also check the [documentation](https://firebase.google.com/docs/firestore/manage-data/add-data#java) for ways to update documents using the Android SDK.","body":"Can you share any error codes or traces that are returned when you update or delete the note? Otherwise, how is the app not working as it should? You can also check the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#java\" rel=\"nofollow noreferrer\">documentation</a> for ways to update documents using the Android SDK."}],"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661269363,"creation_date":1661269363,"question_id":73461569,"body_markdown":"in my case, I can add different documents and different fields to my data collection in my firestore database. that means add curd operation is working well but I want complete my delete and update function to fulfill my application. my problem is I can&#39;t edit/delete my &quot;description&quot; and &quot;title&quot;. I have initialized the variable as &quot;DocumentReference&quot; I think the problem is having that. anyone feel free to help me to solve this issue. thank you!\r\n[i have to make EDIT and DELETE functions. but them not working with every documents][1]\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        FirebaseAuth fAuth;\r\n        private static final String TAG = &quot;MainActivity&quot;;\r\n    \r\n        private static final String KEY_TITLE = &quot;title&quot;;\r\n        private static final String KEY_AUDIOLIST = &quot;audiolist&quot;;\r\n    \r\n        private EditText editTextTitle;\r\n        private EditText editTextAudiolist;\r\n        private TextView textViewData;\r\n    \r\n        private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        private CollectionReference notebookRef = db.collection(&quot;Category&quot;);\r\n        private DocumentReference noteRef = db.document(&quot;Category/mindRelax&quot;);\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            editTextTitle = findViewById(R.id.edit_text_title);\r\n            editTextAudiolist = findViewById(R.id.edit_text_audioList);\r\n            textViewData = findViewById(R.id.text_view_data);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            notebookRef.addSnapshotListener(this, new EventListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onEvent(QuerySnapshot queryDocumentSnapshots, FirebaseFirestoreException e) {\r\n                    if (e != null) {\r\n                        return;\r\n                    }\r\n    \r\n                    String data = &quot;&quot;;\r\n    \r\n                    for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                        Note note = documentSnapshot.toObject(Note.class);\r\n                        note.setDocumentId(documentSnapshot.getId());\r\n    \r\n                        String documentId = note.getDocumentId();\r\n                        String title = note.getTitle();\r\n                        String audiolist = note.getAudiolist();\r\n    \r\n                        data += &quot;ID: &quot; + documentId\r\n                                + &quot;\\nTitle: &quot; + title + &quot;\\nAudiolist: &quot; + audiolist + &quot;\\n\\n&quot;;\r\n                    }\r\n    \r\n                    textViewData.setText(data);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void addNote(View v) {\r\n            String title = editTextTitle.getText().toString();\r\n            String audiolist = editTextAudiolist.getText().toString();\r\n    \r\n            Note note = new Note(title, audiolist);\r\n    \r\n            notebookRef.add(note);\r\n        }\r\n    \r\n        public void loadNotes(View v) {\r\n            notebookRef.get()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                            String data = &quot;&quot;;\r\n    \r\n                            for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                                Note note = documentSnapshot.toObject(Note.class);\r\n                                note.setDocumentId(documentSnapshot.getId());\r\n    \r\n                                String documentId = note.getDocumentId();\r\n                                String title = note.getTitle();\r\n                                String audiolist = note.getAudiolist();\r\n    \r\n                                data += &quot;ID: &quot; + documentId\r\n                                        + &quot;\\nTitle: &quot; + title + &quot;\\nAudiolist: &quot; + audiolist + &quot;\\n\\n&quot;;\r\n                            }\r\n    \r\n                            textViewData.setText(data);\r\n                        }\r\n                    });\r\n        }\r\n        public void updateAudiolist(View v) {\r\n            String audiolist = editTextAudiolist.getText().toString();\r\n            String title = editTextTitle.getText().toString();\r\n    \r\n            Map&lt;String, Object&gt; note = new HashMap&lt;&gt;();\r\n            note.put( KEY_AUDIOLIST, audiolist);\r\n            note.put( KEY_TITLE, title);\r\n    \r\n            noteRef.set(note, SetOptions.merge());\r\n            noteRef.update(KEY_TITLE,title, KEY_AUDIOLIST, audiolist);\r\n        }\r\n    \r\n        public void deleteAudiolist(View v) {\r\n            Map&lt;String, Object&gt; note = new HashMap&lt;&gt;();\r\n            note.put(KEY_AUDIOLIST, FieldValue.delete());\r\n    \r\n            noteRef.update(note);\r\n            noteRef.update(KEY_AUDIOLIST, FieldValue.delete());\r\n        }\r\n    \r\n        public void deleteNote(View v) {\r\n            noteRef.delete();\r\n        }\r\n        public void logout (View view){\r\n            FirebaseAuth.getInstance().signOut();\r\n            startActivity(new Intent(getApplicationContext(),Login.class));\r\n            finish();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bTQHZ.png","title":"Android Java firestore databse curd opartion not working","body":"<p>in my case, I can add different documents and different fields to my data collection in my firestore database. that means add curd operation is working well but I want complete my delete and update function to fulfill my application. my problem is I can't edit/delete my &quot;description&quot; and &quot;title&quot;. I have initialized the variable as &quot;DocumentReference&quot; I think the problem is having that. anyone feel free to help me to solve this issue. thank you!\n<a href=\"https://i.stack.imgur.com/bTQHZ.png\" rel=\"nofollow noreferrer\">i have to make EDIT and DELETE functions. but them not working with every documents</a></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    FirebaseAuth fAuth;\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    private static final String KEY_TITLE = &quot;title&quot;;\n    private static final String KEY_AUDIOLIST = &quot;audiolist&quot;;\n\n    private EditText editTextTitle;\n    private EditText editTextAudiolist;\n    private TextView textViewData;\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private CollectionReference notebookRef = db.collection(&quot;Category&quot;);\n    private DocumentReference noteRef = db.document(&quot;Category/mindRelax&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        editTextTitle = findViewById(R.id.edit_text_title);\n        editTextAudiolist = findViewById(R.id.edit_text_audioList);\n        textViewData = findViewById(R.id.text_view_data);\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        notebookRef.addSnapshotListener(this, new EventListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onEvent(QuerySnapshot queryDocumentSnapshots, FirebaseFirestoreException e) {\n                if (e != null) {\n                    return;\n                }\n\n                String data = &quot;&quot;;\n\n                for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\n                    Note note = documentSnapshot.toObject(Note.class);\n                    note.setDocumentId(documentSnapshot.getId());\n\n                    String documentId = note.getDocumentId();\n                    String title = note.getTitle();\n                    String audiolist = note.getAudiolist();\n\n                    data += &quot;ID: &quot; + documentId\n                            + &quot;\\nTitle: &quot; + title + &quot;\\nAudiolist: &quot; + audiolist + &quot;\\n\\n&quot;;\n                }\n\n                textViewData.setText(data);\n            }\n        });\n    }\n\n    public void addNote(View v) {\n        String title = editTextTitle.getText().toString();\n        String audiolist = editTextAudiolist.getText().toString();\n\n        Note note = new Note(title, audiolist);\n\n        notebookRef.add(note);\n    }\n\n    public void loadNotes(View v) {\n        notebookRef.get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        String data = &quot;&quot;;\n\n                        for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\n                            Note note = documentSnapshot.toObject(Note.class);\n                            note.setDocumentId(documentSnapshot.getId());\n\n                            String documentId = note.getDocumentId();\n                            String title = note.getTitle();\n                            String audiolist = note.getAudiolist();\n\n                            data += &quot;ID: &quot; + documentId\n                                    + &quot;\\nTitle: &quot; + title + &quot;\\nAudiolist: &quot; + audiolist + &quot;\\n\\n&quot;;\n                        }\n\n                        textViewData.setText(data);\n                    }\n                });\n    }\n    public void updateAudiolist(View v) {\n        String audiolist = editTextAudiolist.getText().toString();\n        String title = editTextTitle.getText().toString();\n\n        Map&lt;String, Object&gt; note = new HashMap&lt;&gt;();\n        note.put( KEY_AUDIOLIST, audiolist);\n        note.put( KEY_TITLE, title);\n\n        noteRef.set(note, SetOptions.merge());\n        noteRef.update(KEY_TITLE,title, KEY_AUDIOLIST, audiolist);\n    }\n\n    public void deleteAudiolist(View v) {\n        Map&lt;String, Object&gt; note = new HashMap&lt;&gt;();\n        note.put(KEY_AUDIOLIST, FieldValue.delete());\n\n        noteRef.update(note);\n        noteRef.update(KEY_AUDIOLIST, FieldValue.delete());\n    }\n\n    public void deleteNote(View v) {\n        noteRef.delete();\n    }\n    public void logout (View view){\n        FirebaseAuth.getInstance().signOut();\n        startActivity(new Intent(getApplicationContext(),Login.class));\n        finish();\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1661267739,"post_id":73461078,"comment_id":129729072,"body_markdown":"Yes you are mocking but it seems that you are not injecting the mock in `interactiveTicketService `. How is declared `DataTransformationService` in `interactiveTicketService` are you constructing it in the class?","body":"Yes you are mocking but it seems that you are not injecting the mock in <code>interactiveTicketService </code>. How is declared <code>DataTransformationService</code> in <code>interactiveTicketService</code> are you constructing it in the class?"},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1661267822,"post_id":73461078,"comment_id":129729116,"body_markdown":"InteractiveTicketService is autowired into InteractiveTicketServiceTest, the parent class of the method I posted. My understanding is mocks don&#39;t need to be injected - mockito knows to do that automagically somehow.","body":"InteractiveTicketService is autowired into InteractiveTicketServiceTest, the parent class of the method I posted. My understanding is mocks don&#39;t need to be injected - mockito knows to do that automagically somehow."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661268052,"post_id":73461078,"comment_id":129729231,"body_markdown":"Nope from what I know. You should declare DataTransformationService at level class with `@Mock` and then use `@InjectMocks` on InteractiveTicketService","body":"Nope from what I know. You should declare DataTransformationService at level class with <code>@Mock</code> and then use <code>@InjectMocks</code> on InteractiveTicketService"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1661268089,"post_id":73461078,"comment_id":129729244,"body_markdown":"Mocks aren&#39;t injected automagically. That needs to be explicitly done by you.","body":"Mocks aren&#39;t injected automagically. That needs to be explicitly done by you."},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1661268201,"post_id":73461078,"comment_id":129729282,"body_markdown":"How can this be done when dependencies are autowired at a field level?","body":"How can this be done when dependencies are autowired at a field level?"},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1661268507,"post_id":73461078,"comment_id":129729402,"body_markdown":"So I want to test InteractiveTicketService, this class is Autowired into InteractiveTicketServiceTest, which is the parent class of the method I posted. DataTransformationService is a dependency of the InteractiveTicketService class, to be clear. I tried adding @InjectMocks as an annotation to InteractiveTicketService instance in the test class, but this did not work - the test is still failing on the same error.","body":"So I want to test InteractiveTicketService, this class is Autowired into InteractiveTicketServiceTest, which is the parent class of the method I posted. DataTransformationService is a dependency of the InteractiveTicketService class, to be clear. I tried adding @InjectMocks as an annotation to InteractiveTicketService instance in the test class, but this did not work - the test is still failing on the same error."}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661269269,"creation_date":1661269269,"answer_id":73461539,"question_id":73461078,"body_markdown":"You should write the test like this:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class InteractiveTicketServiceTest {\r\n    @Mock\r\n    DataTransformationService transformationService;\r\n\r\n    @InjectMocks\r\n    InteractiveTicketService interactiveTicketService;\r\n\r\n    @Test\r\n    public void should_Create_MultiDoc_Ticket() throws URISyntaxException{\r\n        JSONObject samplePolicyData = createSamplePolicyData(&quot;Sample Multidoc Template&quot;);   \r\n        InteractiveRequest sampleInteractiveRequest = createSampleInteractiveRequest();\r\n        when(transformationService\r\n            .transformMultiDocData(createSampleInteractiveData()))\r\n            .thenReturn(createSampleInteractiveData());\r\n        String ticketId = interactiveTicketService.createTicket(samplePolicyData.toString());\r\n        assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\r\n        verify(transformationService, times(1)).transformMultiDocData(createSampleInteractiveData());\r\n    }\r\n}\r\n```","title":"Mockito is calling real method instead of stubs","body":"<p>You should write the test like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class InteractiveTicketServiceTest {\n    @Mock\n    DataTransformationService transformationService;\n\n    @InjectMocks\n    InteractiveTicketService interactiveTicketService;\n\n    @Test\n    public void should_Create_MultiDoc_Ticket() throws URISyntaxException{\n        JSONObject samplePolicyData = createSamplePolicyData(&quot;Sample Multidoc Template&quot;);   \n        InteractiveRequest sampleInteractiveRequest = createSampleInteractiveRequest();\n        when(transformationService\n            .transformMultiDocData(createSampleInteractiveData()))\n            .thenReturn(createSampleInteractiveData());\n        String ticketId = interactiveTicketService.createTicket(samplePolicyData.toString());\n        assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\n        verify(transformationService, times(1)).transformMultiDocData(createSampleInteractiveData());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73461539,"answer_count":1,"score":2,"last_activity_date":1661269269,"creation_date":1661267143,"question_id":73461078,"body_markdown":"I have mocked several dependencies and defined their behavior. I do not wish for real methods to be called on my dependencies - the whole point of mocking.\r\n\r\nMy test:\r\n```java\r\n@Test\r\npublic void should_Create_MultiDoc_Ticket() throws URISyntaxException{\r\n\tDataTransformationService transformationService = Mockito.mock(DataTransformationService.class);\r\n\t\r\n    JSONObject samplePolicyData = createSamplePolicyData(&quot;Sample Multidoc Template&quot;);\r\n    \r\n    InteractiveRequest sampleInteractiveRequest = createSampleInteractiveRequest();\r\n    when(transformationService.transformMultiDocData(createSampleInteractiveData())).thenReturn(createSampleInteractiveData());\r\n\r\n    String ticketId = interactiveTicketService.createTicket(samplePolicyData.toString());\r\n\r\n    assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\r\n    verify(transformationService, times(1)).transformMultiDocData(createSampleInteractiveData());\r\n}\r\n```\r\nSpecifically, the **real** `transformationService.transformMultiDocData()` method is being called, when it shouldn&#39;t be.\r\n\r\nThe error when I run the test:\r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://us-data-transformation-sample/template&quot;: us-data-transformation-sample; nested exception is java.net.UnknownHostException: us-data-transformation-sample\r\n\tat com.lmig.us.services.DataTransformationService.transformMultiDocData(DataTransformationService.java:114)\r\n\tat com.lmig.us.services.InteractiveTicketService.createTicket(InteractiveTicketService.java:56)\r\n\tat com.lmig.us.services.InteractiveTicketServiceTest$createTicket.should_Create_MultiDoc_Ticket(InteractiveTicketServiceTest.java:311)\r\n\t... 82 more\r\n```\r\n\r\nDoes anyone know what&#39;s going on here?","title":"Mockito is calling real method instead of stubs","body":"<p>I have mocked several dependencies and defined their behavior. I do not wish for real methods to be called on my dependencies - the whole point of mocking.</p>\n<p>My test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void should_Create_MultiDoc_Ticket() throws URISyntaxException{\n    DataTransformationService transformationService = Mockito.mock(DataTransformationService.class);\n    \n    JSONObject samplePolicyData = createSamplePolicyData(&quot;Sample Multidoc Template&quot;);\n    \n    InteractiveRequest sampleInteractiveRequest = createSampleInteractiveRequest();\n    when(transformationService.transformMultiDocData(createSampleInteractiveData())).thenReturn(createSampleInteractiveData());\n\n    String ticketId = interactiveTicketService.createTicket(samplePolicyData.toString());\n\n    assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\n    verify(transformationService, times(1)).transformMultiDocData(createSampleInteractiveData());\n}\n</code></pre>\n<p>Specifically, the <strong>real</strong> <code>transformationService.transformMultiDocData()</code> method is being called, when it shouldn't be.</p>\n<p>The error when I run the test:</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://us-data-transformation-sample/template&quot;: us-data-transformation-sample; nested exception is java.net.UnknownHostException: us-data-transformation-sample\n    at com.lmig.us.services.DataTransformationService.transformMultiDocData(DataTransformationService.java:114)\n    at com.lmig.us.services.InteractiveTicketService.createTicket(InteractiveTicketService.java:56)\n    at com.lmig.us.services.InteractiveTicketServiceTest$createTicket.should_Create_MultiDoc_Ticket(InteractiveTicketServiceTest.java:311)\n    ... 82 more\n</code></pre>\n<p>Does anyone know what's going on here?</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1415887632,"post_id":26910410,"comment_id":42371035,"body_markdown":"&quot;So that I can disable or enable some code while building for some specific target.&quot; What kind of target? API target or processor target?","body":"&quot;So that I can disable or enable some code while building for some specific target.&quot; What kind of target? API target or processor target?"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415886702,"creation_date":1415886702,"answer_id":26910457,"question_id":26910410,"body_markdown":"no, java does not support preprocessor macros. What you can do is to have a `java.pre` file, and use `ant` to generate the `.java` files that will be compiled. ","title":"Can we set #define or #ifdef for java in eclipse IDE","body":"<p>no, java does not support preprocessor macros. What you can do is to have a <code>java.pre</code> file, and use <code>ant</code> to generate the <code>.java</code> files that will be compiled. </p>\n"},{"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415886739,"creation_date":1415886739,"answer_id":26910466,"question_id":26910410,"body_markdown":"No, Java has no preprocessor, and this is exactly because the scenario you describe should not occur in Java.\r\n\r\nOne of Java&#39;s original main design ideas (if not *the* original design idea) was coined &quot;Write once, run everywhere&quot;. This means you don&#39;t compile different bytecode for different platforms. Instead, there&#39;s only one bytecode applied on every platform.\r\n\r\nThus, there&#39;s no need for preprocessor instructions, because this scenario should not be necessary. If you feel you need different code on different platforms, there are ways to achieve this, but not through preprocessor macros. Maybe you could be more specific on your issue, then we can propose a suitable solution in Java.","title":"Can we set #define or #ifdef for java in eclipse IDE","body":"<p>No, Java has no preprocessor, and this is exactly because the scenario you describe should not occur in Java.</p>\n\n<p>One of Java's original main design ideas (if not <em>the</em> original design idea) was coined \"Write once, run everywhere\". This means you don't compile different bytecode for different platforms. Instead, there's only one bytecode applied on every platform.</p>\n\n<p>Thus, there's no need for preprocessor instructions, because this scenario should not be necessary. If you feel you need different code on different platforms, there are ways to achieve this, but not through preprocessor macros. Maybe you could be more specific on your issue, then we can propose a suitable solution in Java.</p>\n"}],"owner":{"account_id":1208919,"reputation":87,"user_id":1177856,"display_name":"pjain168"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1415893703,"answer_count":2,"score":1,"last_activity_date":1661269258,"creation_date":1415886559,"question_id":26910410,"body_markdown":"I want to add some #define of #ifdef in eclipse for java.So that I can disable or enable some code while building for some specific target.\r\n\r\n&lt;p&gt;I have used this for C++ before but I don&#39;t know is there is way to do in java eclipse project.&lt;/P&gt;\r\n\r\n&lt;p&gt;please let me know if it possible or not in eclipse.&lt;/p&gt;","title":"Can we set #define or #ifdef for java in eclipse IDE","body":"<p>I want to add some #define of #ifdef in eclipse for java.So that I can disable or enable some code while building for some specific target.</p>\n\n<p><p>I have used this for C++ before but I don't know is there is way to do in java eclipse project.</P></p>\n\n<p>please let me know if it possible or not in eclipse.</p>\n"},{"tags":["java","maven","maven-plugin","maven-exec-plugin"],"owner":{"account_id":15843725,"reputation":121,"user_id":11431537,"display_name":"Wumba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661269247,"creation_date":1659512701,"question_id":73218026,"body_markdown":"I have a parent pom which is inherited by multiple other poms\r\n```\r\nsuperpom\r\n|--pokemon\r\n|--|--app\r\n|--|--infrastructure\r\n|--yu-gi-oh\r\n|--|--app\r\n|--|--infrastructure\r\n```\r\n\r\nI have multiple config files like:\r\n* a cve-suppress.xml file for the good old dependency plugin (can be directly on pom level)\r\n* logback.xml (must be in test/resources)\r\n* ...\r\n\r\nOf course, I could have these files in every project in every module, but changes would lead to changes everywhere and therefore consume much time.\r\n\r\nHow can I effectively move/copy the files on runtime to the child poms? \r\n\r\nDoes files are mostly used for **testing in gitlab pipelines**\r\n\r\n## Possible ideas\r\n\r\n### 1. Resource Plugin in `superpom`\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;copy-resource-one&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${basedir}/target/destination-folder&lt;/outputDirectory&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;source-files&lt;/directory&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;foo.txt&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n   * superpom specifies path to resource\r\n   * **not working**, because when e.g. `pokemon` executes plugin, in this scope, the file does not exist  \r\n\r\n### 2. Use Gitlab variables/files\r\n\r\n* copy files in gitlab pipelines to desired place\r\n* **problem1** -&gt; copy file to every test/resource folder in every module of project is hard and changes to path may lead to errors\r\n* **problem2** -&gt; file content is in gitlab therefore separeted from parent pom, overview might get blurry\r\n\r\n### 3. Use mojo exec plugin\r\n\r\n* trigger script directly creating file\r\n* I am not sure how to do this exactly, I cannot find good examples so far :/ \r\n\r\n-----\r\n\r\nDo you have any other ideas? Is there a way I am missing or a dedicated plugon for this? ","title":"Spread config files to child poms (maven)","body":"<p>I have a parent pom which is inherited by multiple other poms</p>\n<pre><code>superpom\n|--pokemon\n|--|--app\n|--|--infrastructure\n|--yu-gi-oh\n|--|--app\n|--|--infrastructure\n</code></pre>\n<p>I have multiple config files like:</p>\n<ul>\n<li>a cve-suppress.xml file for the good old dependency plugin (can be directly on pom level)</li>\n<li>logback.xml (must be in test/resources)</li>\n<li>...</li>\n</ul>\n<p>Of course, I could have these files in every project in every module, but changes would lead to changes everywhere and therefore consume much time.</p>\n<p>How can I effectively move/copy the files on runtime to the child poms?</p>\n<p>Does files are mostly used for <strong>testing in gitlab pipelines</strong></p>\n<h2>Possible ideas</h2>\n<h3>1. Resource Plugin in <code>superpom</code></h3>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-resource-one&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${basedir}/target/destination-folder&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;source-files&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;foo.txt&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>superpom specifies path to resource</li>\n<li><strong>not working</strong>, because when e.g. <code>pokemon</code> executes plugin, in this scope, the file does not exist</li>\n</ul>\n<h3>2. Use Gitlab variables/files</h3>\n<ul>\n<li>copy files in gitlab pipelines to desired place</li>\n<li><strong>problem1</strong> -&gt; copy file to every test/resource folder in every module of project is hard and changes to path may lead to errors</li>\n<li><strong>problem2</strong> -&gt; file content is in gitlab therefore separeted from parent pom, overview might get blurry</li>\n</ul>\n<h3>3. Use mojo exec plugin</h3>\n<ul>\n<li>trigger script directly creating file</li>\n<li>I am not sure how to do this exactly, I cannot find good examples so far :/</li>\n</ul>\n<hr />\n<p>Do you have any other ideas? Is there a way I am missing or a dedicated plugon for this?</p>\n"},{"tags":["java","scala","nginx","playframework","akka-http"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1660387448,"post_id":73339047,"comment_id":129524423,"body_markdown":"At which URL can you see the image? At which URL is your page displayed?","body":"At which URL can you see the image? At which URL is your page displayed?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1660387480,"post_id":73339047,"comment_id":129524431,"body_markdown":"Regarding your 2nd question: no need for Nginx indeed.","body":"Regarding your 2nd question: no need for Nginx indeed."},{"owner":{"account_id":20168352,"reputation":25,"user_id":14791726,"display_name":"Vasanth Vel"},"score":0,"creation_date":1660579192,"post_id":73339047,"comment_id":129560139,"body_markdown":"@Ga&#235;lJ page displayed in localhost:9000/file after uploading the image it&#39;s also shown in the same page","body":"@Ga&#235;lJ page displayed in localhost:9000/file after uploading the image it&#39;s also shown in the same page"},{"owner":{"account_id":10279692,"reputation":2683,"user_id":7585327,"display_name":"John"},"score":0,"creation_date":1664987184,"post_id":73339047,"comment_id":130595555,"body_markdown":"why &#39;public/file1.png&#39; in &#39;@routes.Assets.versioned(public/file1.png)&#39;? You already defined &#39;public&#39; directory in &#39;controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)&#39;","body":"why &#39;public/file1.png&#39; in &#39;@routes.Assets.versioned(public/file1.png)&#39;? You already defined &#39;public&#39; directory in &#39;controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)&#39;"}],"answers":[{"tags":[],"owner":{"account_id":20168352,"reputation":25,"user_id":14791726,"display_name":"Vasanth Vel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661269233,"creation_date":1661269233,"answer_id":73461533,"question_id":73339047,"body_markdown":" \r\nAfter reading [docs][1]  \r\nI&#39;ve  found `Ok.SendFile()` method used to serving files, then I&#39;ve created a method in controller \r\n\r\n        def getImageFromPath()= Action{ implicit request: Request[AnyContent] =&gt;\r\n    Ok.sendFile(new java.io.File(&quot;/path/to/file&quot;)) }   \r\n  \r\n\r\nthen added route in routes file\r\n\r\n      GET     /getimage        controllers.ImageController.getImageFromPath()\r\n\r\nreverse routing in Twirl template\r\n\r\n      &lt;img src=&quot;@routes.ImageController.getImageFromPath()&quot; width=25% height=auto alt=&quot;file1.png&quot;&gt;\r\n\r\n helped me to solve this issue..!\r\n\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/ScalaStream","title":"play! Uploaded images not visible in production mode","body":"<p>After reading <a href=\"https://www.playframework.com/documentation/2.8.x/ScalaStream\" rel=\"nofollow noreferrer\">docs</a><br />\nI've  found <code>Ok.SendFile()</code> method used to serving files, then I've created a method in controller</p>\n<pre><code>    def getImageFromPath()= Action{ implicit request: Request[AnyContent] =&gt;\nOk.sendFile(new java.io.File(&quot;/path/to/file&quot;)) }   \n</code></pre>\n<p>then added route in routes file</p>\n<pre><code>  GET     /getimage        controllers.ImageController.getImageFromPath()\n</code></pre>\n<p>reverse routing in Twirl template</p>\n<pre><code>  &lt;img src=&quot;@routes.ImageController.getImageFromPath()&quot; width=25% height=auto alt=&quot;file1.png&quot;&gt;\n</code></pre>\n<p>helped me to solve this issue..!</p>\n"}],"owner":{"account_id":20168352,"reputation":25,"user_id":14791726,"display_name":"Vasanth Vel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73461533,"answer_count":1,"score":1,"last_activity_date":1661269233,"creation_date":1660333246,"question_id":73339047,"body_markdown":"Hi guys I&#39;m new to play framework,\r\n\r\nQun 1:\r\n\r\nwhat I wanted in my server is Users can upload images, and see uploaded images in web page,\r\nwhen I run the server in Dev mode everything is works fine (I can upload and see the images in web page),\r\nbut I try do this same thing in production mode, uploading works fine(images saved in public directory) but images are not visible in web page...!\r\n\r\nmy twirl html template:\r\n```\r\n&lt;img src=&quot;@routes.Assets.versioned(public/file1.png)&quot; width=25% height=auto alt=&quot;file1.png&quot;&gt;\r\n```\r\nroutes:\r\n```\r\nGET        /versionedAssets/*file        controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)\r\n```\r\nbrowser&#39;s Elements page (F12):\r\n```\r\n&lt;img src=&quot;/versionedAssets/file1.png&quot; width=&quot;25%&quot; height=&quot;auto&quot; alt=&quot;file1.png&quot;&gt;\r\n```\r\nI can even show the image using NGINX (passing image location as an url) successfully,\r\nbut why i can&#39;t see the image in play&#39;s production mode?,\r\nI don&#39;t even have clue about what part I did wrong.!\r\nplease help me if you know anything about it.!\r\n\r\nQun 2:\r\n\r\nIs that possible to serve our app without frontend server like NGINX, etc.\r\nbecause play already running in AkkaHttpServer.","title":"play! Uploaded images not visible in production mode","body":"<p>Hi guys I'm new to play framework,</p>\n<p>Qun 1:</p>\n<p>what I wanted in my server is Users can upload images, and see uploaded images in web page,\nwhen I run the server in Dev mode everything is works fine (I can upload and see the images in web page),\nbut I try do this same thing in production mode, uploading works fine(images saved in public directory) but images are not visible in web page...!</p>\n<p>my twirl html template:</p>\n<pre><code>&lt;img src=&quot;@routes.Assets.versioned(public/file1.png)&quot; width=25% height=auto alt=&quot;file1.png&quot;&gt;\n</code></pre>\n<p>routes:</p>\n<pre><code>GET        /versionedAssets/*file        controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)\n</code></pre>\n<p>browser's Elements page (F12):</p>\n<pre><code>&lt;img src=&quot;/versionedAssets/file1.png&quot; width=&quot;25%&quot; height=&quot;auto&quot; alt=&quot;file1.png&quot;&gt;\n</code></pre>\n<p>I can even show the image using NGINX (passing image location as an url) successfully,\nbut why i can't see the image in play's production mode?,\nI don't even have clue about what part I did wrong.!\nplease help me if you know anything about it.!</p>\n<p>Qun 2:</p>\n<p>Is that possible to serve our app without frontend server like NGINX, etc.\nbecause play already running in AkkaHttpServer.</p>\n"},{"tags":["java","mysql","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":11635868,"reputation":1,"user_id":8522225,"display_name":"Elliott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503803780,"creation_date":1503802310,"answer_id":45901307,"question_id":45901194,"body_markdown":"Have you registered  a repository with type UserRepository? Check if you sign the repository with a @Repository annotation.","title":"Spring Accessing data with MySQL Won&#39;t Run","body":"<p>Have you registered  a repository with type UserRepository? Check if you sign the repository with a @Repository annotation.</p>\n"},{"tags":[],"owner":{"account_id":11287750,"reputation":5468,"user_id":8277987,"display_name":"Daniel C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503804000,"creation_date":1503802786,"answer_id":45901332,"question_id":45901194,"body_markdown":"1.  Download project from git [gs-accessing-data-mysql-master][1]\r\n2.  Extract the file to your disk\r\n3.  Open Eclipse\r\n4.  Click File &gt; Import &gt; Existing Maven Projects &gt; Next\r\n5.  Click Browse and select the `gs-accessing-data-mysql-master` folder that is on your disk and Next\r\n6.  Select both pom.xml and Finish\r\n7.  Open `gs-mysql-data` project that has been imported\r\n8.  Right click on Application.java and run as Java Application or Spring Boot Application\r\n\r\nMake sure that `UserRepository` interface extends from `CrudRepository`, like this:\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import hello.User;\r\n    \r\n    // This will be AUTO IMPLEMENTED by Spring into a Bean called userRepository\r\n    // CRUD refers Create, Read, Update, Delete\r\n    \r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-guides/gs-accessing-data-mysql/archive/master.zip","title":"Spring Accessing data with MySQL Won&#39;t Run","body":"<ol>\n<li>Download project from git <a href=\"https://github.com/spring-guides/gs-accessing-data-mysql/archive/master.zip\" rel=\"nofollow noreferrer\">gs-accessing-data-mysql-master</a></li>\n<li>Extract the file to your disk</li>\n<li>Open Eclipse</li>\n<li>Click File > Import > Existing Maven Projects > Next</li>\n<li>Click Browse and select the <code>gs-accessing-data-mysql-master</code> folder that is on your disk and Next</li>\n<li>Select both pom.xml and Finish</li>\n<li>Open <code>gs-mysql-data</code> project that has been imported</li>\n<li>Right click on Application.java and run as Java Application or Spring Boot Application</li>\n</ol>\n\n<p>Make sure that <code>UserRepository</code> interface extends from <code>CrudRepository</code>, like this:</p>\n\n<pre><code>package hello;\n\nimport org.springframework.data.repository.CrudRepository;\n\nimport hello.User;\n\n// This will be AUTO IMPLEMENTED by Spring into a Bean called userRepository\n// CRUD refers Create, Read, Update, Delete\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11635874,"reputation":41,"user_id":8522196,"display_name":"Dylan Zwick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503849865,"creation_date":1503820873,"answer_id":45902877,"question_id":45901194,"body_markdown":"I was able to fix this problem by clearing my maven cache. I did  this by manually deleting my:\r\n\r\nC:\\Users\\username\\ .m2\r\n\r\nfolder and then doing a clean install. What the problem was, how it developed, and what changed to fix it I/we may never know. But, things seem to be working again.\r\n\r\nThanks to all who helped!","title":"Spring Accessing data with MySQL Won&#39;t Run","body":"<p>I was able to fix this problem by clearing my maven cache. I did  this by manually deleting my:</p>\n\n<p>C:\\Users\\username\\ .m2</p>\n\n<p>folder and then doing a clean install. What the problem was, how it developed, and what changed to fix it I/we may never know. But, things seem to be working again.</p>\n\n<p>Thanks to all who helped!</p>\n"}],"owner":{"account_id":11635874,"reputation":41,"user_id":8522196,"display_name":"Dylan Zwick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661269232,"creation_date":1503800643,"question_id":45901194,"body_markdown":"I&#39;m new to using Spring, and I&#39;m going through the accessing-data-with-MySQL tutorial [here][1]. I&#39;m using Eclipse, and when I download all the code for the project, and then run the project as a Spring Boot App, I get the error:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userRepository in hello.MainController required a bean of type &#39;hello.UserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;hello.UserRepository&#39; in your configuration.\r\n\r\nAgain, this is the code directly from the tutorial. Anybody have any idea what&#39;s going on?\r\n\r\nThanks!\r\n\r\nFull run log\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.5.6.RELEASE)\r\n\r\n    2017-08-26 21:58:28.365  INFO 2308 --- [           main] hello.Application                        : Starting Application on DESKTOP-F9F09K7 with PID 2308 (C:\\Users\\dylan\\Desktop\\gs-accessing-data-mysql-master\\complete\\target\\classes started by dylan in C:\\Users\\dylan\\Desktop\\gs-accessing-data-mysql-master\\complete)\r\n    2017-08-26 21:58:28.367  INFO 2308 --- [           main] hello.Application                        : No active profile set, falling back to default profiles: default\r\n    2017-08-26 21:58:28.411  INFO 2308 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6b53e23f: startup date [Sat Aug 26 21:58:28 PDT 2017]; root of context hierarchy\r\n    2017-08-26 21:58:29.454  INFO 2308 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2017-08-26 21:58:29.465  INFO 2308 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2017-08-26 21:58:29.466  INFO 2308 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16\r\n    2017-08-26 21:58:29.542  INFO 2308 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2017-08-26 21:58:29.542  INFO 2308 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1135 ms\r\n    2017-08-26 21:58:29.655  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2017-08-26 21:58:29.659  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2017-08-26 21:58:29.701  WARN 2308 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;hello.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2017-08-26 21:58:29.703  INFO 2308 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2017-08-26 21:58:29.721  INFO 2308 --- [           main] utoConfigurationReportLoggingInitializer : \r\n\r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2017-08-26 21:58:29.804 ERROR 2308 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Field userRepository in hello.MainController required a bean of type &#39;hello.UserRepository&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;hello.UserRepository&#39; in your configuration.\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/accessing-data-mysql/","title":"Spring Accessing data with MySQL Won&#39;t Run","body":"<p>I'm new to using Spring, and I'm going through the accessing-data-with-MySQL tutorial <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">here</a>. I'm using Eclipse, and when I download all the code for the project, and then run the project as a Spring Boot App, I get the error:</p>\n\n<hr>\n\n<p>APPLICATION FAILED TO START</p>\n\n<hr>\n\n<p>Description:</p>\n\n<p>Field userRepository in hello.MainController required a bean of type 'hello.UserRepository' that could not be found.</p>\n\n<p>Action:</p>\n\n<p>Consider defining a bean of type 'hello.UserRepository' in your configuration.</p>\n\n<p>Again, this is the code directly from the tutorial. Anybody have any idea what's going on?</p>\n\n<p>Thanks!</p>\n\n<p>Full run log</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v1.5.6.RELEASE)\r\n\r\n2017-08-26 21:58:28.365  INFO 2308 --- [           main] hello.Application                        : Starting Application on DESKTOP-F9F09K7 with PID 2308 (C:\\Users\\dylan\\Desktop\\gs-accessing-data-mysql-master\\complete\\target\\classes started by dylan in C:\\Users\\dylan\\Desktop\\gs-accessing-data-mysql-master\\complete)\r\n2017-08-26 21:58:28.367  INFO 2308 --- [           main] hello.Application                        : No active profile set, falling back to default profiles: default\r\n2017-08-26 21:58:28.411  INFO 2308 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6b53e23f: startup date [Sat Aug 26 21:58:28 PDT 2017]; root of context hierarchy\r\n2017-08-26 21:58:29.454  INFO 2308 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n2017-08-26 21:58:29.465  INFO 2308 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2017-08-26 21:58:29.466  INFO 2308 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16\r\n2017-08-26 21:58:29.542  INFO 2308 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2017-08-26 21:58:29.542  INFO 2308 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1135 ms\r\n2017-08-26 21:58:29.655  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\r\n2017-08-26 21:58:29.659  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\r\n2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\r\n2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\r\n2017-08-26 21:58:29.667  INFO 2308 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\r\n2017-08-26 21:58:29.701  WARN 2308 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'hello.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2017-08-26 21:58:29.703  INFO 2308 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2017-08-26 21:58:29.721  INFO 2308 --- [           main] utoConfigurationReportLoggingInitializer : \r\n\r\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\r\n2017-08-26 21:58:29.804 ERROR 2308 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userRepository in hello.MainController required a bean of type 'hello.UserRepository' that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type 'hello.UserRepository' in your configuration.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","string","function","methods"],"comments":[{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":2,"creation_date":1579418996,"post_id":59808037,"comment_id":105755609,"body_markdown":"`strip()` is added in java 11. Make sure you are on JDK11 or later version https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#strip()","body":"<code>strip()</code> is added in java 11. Make sure you are on JDK11 or later version <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1579419110,"creation_date":1579419110,"answer_id":59808067,"question_id":59808037,"body_markdown":"`strip()` is Java 11 functionality. Either upgrade your version or use `trim()` in older versions.","title":"The method strip() is undefined for the type String","body":"<p><code>strip()</code> is Java 11 functionality. Either upgrade your version or use <code>trim()</code> in older versions.</p>\n"},{"tags":[],"owner":{"account_id":1110704,"reputation":973,"user_id":7349972,"display_name":"Senthilnadhan Ramasamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661268897,"creation_date":1661268897,"answer_id":73461469,"question_id":59808037,"body_markdown":"The `strip()` funtion is depricated after Java 11. You have to set the Target bytecode version to 11. \r\n\r\nFor my case i am using intelij. refer the screenshot below\r\n[![strip() function bytecode version][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tpN6k.png","title":"The method strip() is undefined for the type String","body":"<p>The <code>strip()</code> funtion is depricated after Java 11. You have to set the Target bytecode version to 11.</p>\n<p>For my case i am using intelij. refer the screenshot below\n<a href=\"https://i.stack.imgur.com/tpN6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tpN6k.png\" alt=\"strip() function bytecode version\" /></a></p>\n"}],"owner":{"account_id":17563583,"reputation":219,"user_id":12740972,"display_name":"alex207e"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7858,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1661268897,"creation_date":1579418871,"question_id":59808037,"body_markdown":"Trying to use `strip()` method to get rid of white spaces around a string and for some reason `strip()` doesn&#39;t work. The error I get is &quot;The method `strip()` is undefined for the type String&quot;.\r\n\r\n    String fullAd = &quot;   Hello World   &quot;;\r\n    System.out.println(fullAd.strip());\r\n\r\n","title":"The method strip() is undefined for the type String","body":"<p>Trying to use <code>strip()</code> method to get rid of white spaces around a string and for some reason <code>strip()</code> doesn't work. The error I get is \"The method <code>strip()</code> is undefined for the type String\".</p>\n\n<pre><code>String fullAd = \"   Hello World   \";\nSystem.out.println(fullAd.strip());\n</code></pre>\n"},{"tags":["java","spring","postgresql","jdbc","auto-generate"],"comments":[{"owner":{"account_id":1074601,"reputation":8524,"user_id":1073023,"accept_rate":100,"display_name":"Kshitij"},"score":1,"creation_date":1337073111,"post_id":10597477,"comment_id":13727308,"body_markdown":"i am curious to know line number JDBCUserAccountDAO.java:72","body":"i am curious to know line number JDBCUserAccountDAO.java:72"},{"owner":{"account_id":1205114,"reputation":17973,"user_id":1174942,"display_name":"Moha Dehghan"},"score":0,"creation_date":1337073194,"post_id":10597477,"comment_id":13727357,"body_markdown":"Which line is line 72? Which pointer is null?","body":"Which line is line 72? Which pointer is null?"},{"owner":{"account_id":389518,"reputation":1932,"user_id":749021,"accept_rate":67,"display_name":"Jerec TheSith"},"score":0,"creation_date":1337073210,"post_id":10597477,"comment_id":13727361,"body_markdown":"sorry, the line 72 refers to `keyHolder.getKey().longValue()`","body":"sorry, the line 72 refers to <code>keyHolder.getKey().longValue()</code>"},{"owner":{"account_id":389518,"reputation":1932,"user_id":749021,"accept_rate":67,"display_name":"Jerec TheSith"},"score":0,"creation_date":1337073457,"post_id":10597477,"comment_id":13727481,"body_markdown":"but `keyHolder.getKeys().get(&quot;idcompte&quot;)` is null too, so is there any way to retrieve the auto-generated key ?","body":"but <code>keyHolder.getKeys().get(&quot;idcompte&quot;)</code> is null too, so is there any way to retrieve the auto-generated key ?"}],"answers":[{"tags":[],"owner":{"account_id":1074601,"reputation":8524,"user_id":1073023,"accept_rate":100,"display_name":"Kshitij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337074435,"creation_date":1337074435,"answer_id":10597940,"question_id":10597477,"body_markdown":"There seems to be some known issues with Keyholder and PostgreSQL. Have a look at the workaround at this link [Spring JDBC - Last inserted id][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5703281/spring-jdbc-last-inserted-id\r\n\r\nAlso do check the database table directly to see if the record is inserted properly(i.e with PK). This will help to narrow down the problem.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>There seems to be some known issues with Keyholder and PostgreSQL. Have a look at the workaround at this link <a href=\"https://stackoverflow.com/questions/5703281/spring-jdbc-last-inserted-id\">Spring JDBC - Last inserted id</a></p>\n\n<p>Also do check the database table directly to see if the record is inserted properly(i.e with PK). This will help to narrow down the problem.</p>\n"},{"tags":[],"owner":{"account_id":64643,"reputation":16107,"user_id":190718,"display_name":"Matthew Wood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337099014,"creation_date":1337099014,"answer_id":10604970,"question_id":10597477,"body_markdown":"Take a look at this post, especially the accepted answer of using the INSERT...RETURNING syntax:\r\n\r\nhttps://stackoverflow.com/questions/241003/how-to-get-a-value-from-the-last-inserted-row\r\n\r\nThis the best way to get this value in PostgreSQL as you only make one network round trip and it&#39;s done as a single atomic operation on the server.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>Take a look at this post, especially the accepted answer of using the INSERT...RETURNING syntax:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/241003/how-to-get-a-value-from-the-last-inserted-row\">How to get a value from the last inserted row?</a></p>\n\n<p>This the best way to get this value in PostgreSQL as you only make one network round trip and it's done as a single atomic operation on the server.</p>\n"},{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1337100162,"creation_date":1337100162,"answer_id":10605254,"question_id":10597477,"body_markdown":"The easiest way to get a key back from an INSERT with Spring JDBC is to use the `SimpleJdbcInsert` class.  You can see an example in the Spring Reference Guide, in the section titled [Retrieving auto-generated keys using SimpleJdbcInsert][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/jdbc.html#jdbc-simple-jdbc-insert-2","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>The easiest way to get a key back from an INSERT with Spring JDBC is to use the <code>SimpleJdbcInsert</code> class.  You can see an example in the Spring Reference Guide, in the section titled <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/jdbc.html#jdbc-simple-jdbc-insert-2\" rel=\"noreferrer\">Retrieving auto-generated keys using SimpleJdbcInsert</a>.</p>\n"},{"tags":[],"owner":{"account_id":2648781,"reputation":656,"user_id":2290978,"display_name":"Artur"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1511802350,"creation_date":1366205372,"answer_id":16061409,"question_id":10597477,"body_markdown":"    KeyHolder holder = new GeneratedKeyHolder();\r\n\r\n    getJdbcTemplate().update(new PreparedStatementCreator() {\t\t\t\r\n        \t\t\t\r\n        \t\t\t@Override\r\n        \t\t\tpublic PreparedStatement createPreparedStatement(Connection connection)\r\n        \t\t\t\t\tthrows SQLException {\r\n        \t\t\t\tPreparedStatement ps = connection.prepareStatement(sql.toString(),\r\n                            Statement.RETURN_GENERATED_KEYS); \r\n        \t\t\t\tps.setString(1, person.getUsername());\r\n        \t\t\t\tps.setString(2, person.getPassword());\r\n        \t\t\t\tps.setString(3, person.getEmail());\r\n        \t\t\t\tps.setLong(4, person.getRole().getId());\r\n        \t\t\t\treturn ps;\r\n        \t\t\t}\r\n        \t\t}, holder);\r\n\r\n    Long newPersonId = holder.getKey().longValue();\r\n\r\nNote that in newer versions of Postgres you need to use \r\n    \r\n    connection.prepareStatement(sql.toString(), \r\n        new String[] { &quot;idcompte&quot; /* name of your id column */ })\r\ninstead of \r\n\r\n    connection.prepareStatement(sql.toString(), \r\n        Statement.RETURN_GENERATED_KEYS);\r\n","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<pre><code>KeyHolder holder = new GeneratedKeyHolder();\n\ngetJdbcTemplate().update(new PreparedStatementCreator() {           \n\n                @Override\n                public PreparedStatement createPreparedStatement(Connection connection)\n                        throws SQLException {\n                    PreparedStatement ps = connection.prepareStatement(sql.toString(),\n                        Statement.RETURN_GENERATED_KEYS); \n                    ps.setString(1, person.getUsername());\n                    ps.setString(2, person.getPassword());\n                    ps.setString(3, person.getEmail());\n                    ps.setLong(4, person.getRole().getId());\n                    return ps;\n                }\n            }, holder);\n\nLong newPersonId = holder.getKey().longValue();\n</code></pre>\n\n<p>Note that in newer versions of Postgres you need to use </p>\n\n<pre><code>connection.prepareStatement(sql.toString(), \n    new String[] { \"idcompte\" /* name of your id column */ })\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>connection.prepareStatement(sql.toString(), \n    Statement.RETURN_GENERATED_KEYS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1536739,"reputation":435,"user_id":1432570,"display_name":"xKommando"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1385530371,"creation_date":1385530371,"answer_id":20234655,"question_id":10597477,"body_markdown":"I&#39;m using Spring3.1 + PostgreSQL9.1, and when I use this\r\n\r\n\t\tKeyHolder keyHolder = new GeneratedKeyHolder();\r\n\t\tjdbcTemplate.update(new PreparedStatementCreator() {\r\n\t\t\tpublic PreparedStatement createPreparedStatement(Connection connection)\r\n\t\t\t\t\tthrows SQLException {\r\n\t\t\t\tPreparedStatement ps = \r\n\t\t\t\t\tconnection.prepareStatement(youSQL, \r\n\t\t\t\t\t\tStatement.RETURN_GENERATED_KEYS);\r\n\t\t\t\tps.setString(1, post.name_author);\r\n\t\t\t\t...\r\n\t\t\t\treturn ps;\r\n\t\t\t}\r\n\t\t}, keyHolder);\r\n\t\tlong id = keyHolder.getKey().longValue();\r\n\r\nI got this exception:\r\n\r\n     org.springframework.dao.InvalidDataAccessApiUsageException: \r\n    The getKey method should only be used when a single key is returned.  \r\n    The current key entry contains multiple keys: ...\r\n\r\nSo I changed to :\r\n\r\n    PreparedStatement ps = \r\n\tconnection.prepareStatement(youSQL, new String[]{&quot;id&quot;});\r\n\r\nwhere &quot;id&quot; is\r\n\r\n    id serial not null primary key\r\n\r\nAnd the problem is solved. So I supposed that using \r\n\r\n    prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\r\n\r\n is not right here. The official guide is [here][1], Chapter 13.2.8 :Retrieving auto-generated keys\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/jdbc.html#jdbc-simple-jdbc-insert-2","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>I'm using Spring3.1 + PostgreSQL9.1, and when I use this</p>\n\n<pre><code>    KeyHolder keyHolder = new GeneratedKeyHolder();\n    jdbcTemplate.update(new PreparedStatementCreator() {\n        public PreparedStatement createPreparedStatement(Connection connection)\n                throws SQLException {\n            PreparedStatement ps = \n                connection.prepareStatement(youSQL, \n                    Statement.RETURN_GENERATED_KEYS);\n            ps.setString(1, post.name_author);\n            ...\n            return ps;\n        }\n    }, keyHolder);\n    long id = keyHolder.getKey().longValue();\n</code></pre>\n\n<p>I got this exception:</p>\n\n<pre><code> org.springframework.dao.InvalidDataAccessApiUsageException: \nThe getKey method should only be used when a single key is returned.  \nThe current key entry contains multiple keys: ...\n</code></pre>\n\n<p>So I changed to :</p>\n\n<pre><code>PreparedStatement ps = \nconnection.prepareStatement(youSQL, new String[]{\"id\"});\n</code></pre>\n\n<p>where \"id\" is</p>\n\n<pre><code>id serial not null primary key\n</code></pre>\n\n<p>And the problem is solved. So I supposed that using </p>\n\n<pre><code>prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\n</code></pre>\n\n<p>is not right here. The official guide is <a href=\"http://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/jdbc.html#jdbc-simple-jdbc-insert-2\">here</a>, Chapter 13.2.8 :Retrieving auto-generated keys</p>\n"},{"tags":[],"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553923010,"creation_date":1448442692,"answer_id":33912426,"question_id":10597477,"body_markdown":"  A solution using NamedParameterJdbcTemplate with Sequence.nextval :     \r\n\r\n            MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n            parameters.addValue(&quot;prenom&quot;, prenom);\r\n            parameters.addValue(&quot;nom&quot;, nom);\r\n            parameters.addValue(&quot;datenaissance&quot;, datenaissance);\r\n            parameters.addValue(&quot;numtelephone&quot;, numtelephone);\r\n            \r\n        final String SQL = &quot;INSERT INTO compte (idcompte,  prenom, nom, datenaissance, numtelephone) &quot;\r\n                            + &quot; VALUES(compte_idcompte_seq.NEXTVAL, :prenom, :nom, :datenaissance, :numtelephone)&quot;;\r\n\r\n            KeyHolder keyHolder = new GeneratedKeyHolder();\r\n            NamedParameterJdbcTemplate namedJdbcTemplate = new NamedParameterJdbcTemplate(txManager.getDataSource());\r\n            int nb = namedJdbcTemplate.update(SQL, parameters, keyHolder, new String[]{&quot;idcompte&quot;});\r\n            Long generatedId = keyHolder.getKey().longValue();\r\n\r\nI like this solution because  with NamedParameterJdbcTemplate because the parameters are passed by name and the code is more readable and less prone to errors, especially when there are big queries.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>A solution using NamedParameterJdbcTemplate with Sequence.nextval :     </p>\n\n<pre><code>        MapSqlParameterSource parameters = new MapSqlParameterSource();\n        parameters.addValue(\"prenom\", prenom);\n        parameters.addValue(\"nom\", nom);\n        parameters.addValue(\"datenaissance\", datenaissance);\n        parameters.addValue(\"numtelephone\", numtelephone);\n\n    final String SQL = \"INSERT INTO compte (idcompte,  prenom, nom, datenaissance, numtelephone) \"\n                        + \" VALUES(compte_idcompte_seq.NEXTVAL, :prenom, :nom, :datenaissance, :numtelephone)\";\n\n        KeyHolder keyHolder = new GeneratedKeyHolder();\n        NamedParameterJdbcTemplate namedJdbcTemplate = new NamedParameterJdbcTemplate(txManager.getDataSource());\n        int nb = namedJdbcTemplate.update(SQL, parameters, keyHolder, new String[]{\"idcompte\"});\n        Long generatedId = keyHolder.getKey().longValue();\n</code></pre>\n\n<p>I like this solution because  with NamedParameterJdbcTemplate because the parameters are passed by name and the code is more readable and less prone to errors, especially when there are big queries.</p>\n"},{"tags":[],"owner":{"account_id":3226332,"reputation":307,"user_id":2722625,"display_name":"Eidan Spiegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490215717,"creation_date":1490215717,"answer_id":42962387,"question_id":10597477,"body_markdown":"I had the same problem and it turned out that my table ID was not auto incrementing.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>I had the same problem and it turned out that my table ID was not auto incrementing.</p>\n"},{"tags":[],"owner":{"account_id":2655308,"reputation":519,"user_id":2296137,"accept_rate":0,"display_name":"AmitG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493146615,"creation_date":1493146615,"answer_id":43618811,"question_id":10597477,"body_markdown":"I faced the similar problem. I do not know why exactly I faced this problem but good thing is I got to resolve this by using below code:\r\n\r\n    final KeyHolder holder = new GeneratedKeyHolder();\r\n    int status = myTemplate.update(yourInsertSQL, namedParameters, holder, new String[]{&quot;PrimaryKeyColumnName&quot;});\r\n\r\n\r\n\r\nHope that helps someone.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>I faced the similar problem. I do not know why exactly I faced this problem but good thing is I got to resolve this by using below code:</p>\n\n<pre><code>final KeyHolder holder = new GeneratedKeyHolder();\nint status = myTemplate.update(yourInsertSQL, namedParameters, holder, new String[]{\"PrimaryKeyColumnName\"});\n</code></pre>\n\n<p>Hope that helps someone.</p>\n"},{"tags":[],"owner":{"account_id":7127861,"reputation":494,"user_id":5450198,"display_name":"N. Osil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543206427,"creation_date":1543206427,"answer_id":53474779,"question_id":10597477,"body_markdown":"    setGeneratedKeysColumnNames(new String[]{&quot;column_name&quot;});\r\n\r\nDon&#39;t forget to set the names for the auto-generated columns.","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<pre><code>setGeneratedKeysColumnNames(new String[]{\"column_name\"});\n</code></pre>\n\n<p>Don't forget to set the names for the auto-generated columns.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661268829,"creation_date":1661268829,"answer_id":73461457,"question_id":10597477,"body_markdown":"Why go through all that pain when you can just use native `RETURNING`:\r\n\r\n```sql\r\nINSERT INTO compte (prenom, nom, datenaissance, numtelephone)\r\nVALUES (?, ?, ?, ?)\r\nRETURNING id;\r\n```\r\n\r\nOr with JDBC:\r\n\r\n```java\r\ntry (PreparedStatement s = c.prepareStatement(&quot;&quot;&quot;\r\n    INSERT INTO compte (prenom, nom, datenaissance, numtelephone)\r\n    VALUES (?, ?, ?, ?)\r\n    RETURNING id;\r\n    &quot;&quot;&quot;\r\n)) {\r\n    s.setString(1, a.getSurname());\r\n    s.setString(2, a.getName());\r\n    s.setDate(3, a.getDob());\r\n    s.setString(4, a.getPhone());\r\n\r\n    try (ResultSet rs = s.executeQuery()) {\r\n        while (rs.next())\r\n            System.out.println(&quot;ID = &quot; + rs.getLong(1));\r\n    }\r\n}\r\n```\r\n\r\nThis approach is obviously PostgreSQL specific (though it also works on Firebird, MariaDB). [If you&#39;re using another SQL dialect, then this blog post showing the different native syntaxes or JDBC approaches might help][1].\r\n\r\n\r\n  [1]: https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>Why go through all that pain when you can just use native <code>RETURNING</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO compte (prenom, nom, datenaissance, numtelephone)\nVALUES (?, ?, ?, ?)\nRETURNING id;\n</code></pre>\n<p>Or with JDBC:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement s = c.prepareStatement(&quot;&quot;&quot;\n    INSERT INTO compte (prenom, nom, datenaissance, numtelephone)\n    VALUES (?, ?, ?, ?)\n    RETURNING id;\n    &quot;&quot;&quot;\n)) {\n    s.setString(1, a.getSurname());\n    s.setString(2, a.getName());\n    s.setDate(3, a.getDob());\n    s.setString(4, a.getPhone());\n\n    try (ResultSet rs = s.executeQuery()) {\n        while (rs.next())\n            System.out.println(&quot;ID = &quot; + rs.getLong(1));\n    }\n}\n</code></pre>\n<p>This approach is obviously PostgreSQL specific (though it also works on Firebird, MariaDB). <a href=\"https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/\" rel=\"nofollow noreferrer\">If you're using another SQL dialect, then this blog post showing the different native syntaxes or JDBC approaches might help</a>.</p>\n"}],"owner":{"account_id":389518,"reputation":1932,"user_id":749021,"accept_rate":67,"display_name":"Jerec TheSith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86124,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":16061409,"answer_count":10,"score":46,"last_activity_date":1661268829,"creation_date":1337072794,"question_id":10597477,"body_markdown":"I would like to retrieve the auto-generated id from a row insertion, but I get a `NullPointerException`\r\n\r\nHere is the code :\r\n\r\n    long result = 0;\r\n    \t    final String SQL = &quot;INSERT INTO compte (prenom, nom, datenaissance, numtelephone) &quot;\r\n    \t\t\t\t            + &quot; VALUES(?,?,?,?)&quot;;\r\n    \t    KeyHolder keyHolder = new GeneratedKeyHolder();\r\n    \t    int row= this.jdbcTemplate.update(new PreparedStatementCreator(){\r\n    \t        public PreparedStatement createPreparedStatement(Connection connection)\r\n    \t            throws SQLException {\r\n    \t            PreparedStatement ps =connection.prepareStatement(SQL);\r\n    \t            ps.setString(1, a.getSurname());\r\n    \t            ps.setString(2, a.getName());\r\n    \t            ps.setDate(3, a.getDob());\r\n    \t            ps.setString(4, a.getPhone());\r\n    \t            return ps;\r\n    \t        }\r\n    \t    },keyHolder);\r\n    \t    \r\n    \t    if (row &gt; 0)\r\n    \t    \tresult = keyHolder.getKey().longValue(); //line 72\r\n\r\n\r\nAnd this is the PostgreSQL table :\r\n\r\n    CREATE TABLE compte\r\n    (\r\n      idcompte serial NOT NULL,\r\n      prenom character varying(25) NOT NULL,\r\n      nom character varying(25) NOT NULL,\r\n      datenaissance date NOT NULL,\r\n      numtelephone character varying(15) NOT NULL,\r\n      CONSTRAINT pk_compte PRIMARY KEY (idcompte )\r\n    );\r\n\r\nPostgreSQL supports auto-generated keys, but I get this exception :\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.tante.db.JDBCUserAccountDAO.insertAccount(JDBCUserAccountDAO.java:72)\r\n\r\n\r\nEDIT :\r\nI tried this to get the auto generated key :\r\n\r\n    result = jdbcTemplate.queryForLong(&quot;select currval(&#39;compte_idcompte_seq&#39;)&quot;);\r\n\r\nbut I get a `PSQLException` : \r\n\r\n`the current value (currval) of the sequence compte_idcompte_seq is not defined in this session`, although I thought that `compte_idcompte_seq.NEXTVAL`\r\nshould have been called when inserting the row\r\n\r\n\r\nEDIT : \r\n\r\nThe auto-increment value is properly created when a row is inserted\r\n\r\n\r\nAny idea ?","title":"Getting auto-generated key from row insertion in spring 3 / PostgreSQL 8.4.9","body":"<p>I would like to retrieve the auto-generated id from a row insertion, but I get a <code>NullPointerException</code></p>\n\n<p>Here is the code :</p>\n\n<pre><code>long result = 0;\n        final String SQL = \"INSERT INTO compte (prenom, nom, datenaissance, numtelephone) \"\n                            + \" VALUES(?,?,?,?)\";\n        KeyHolder keyHolder = new GeneratedKeyHolder();\n        int row= this.jdbcTemplate.update(new PreparedStatementCreator(){\n            public PreparedStatement createPreparedStatement(Connection connection)\n                throws SQLException {\n                PreparedStatement ps =connection.prepareStatement(SQL);\n                ps.setString(1, a.getSurname());\n                ps.setString(2, a.getName());\n                ps.setDate(3, a.getDob());\n                ps.setString(4, a.getPhone());\n                return ps;\n            }\n        },keyHolder);\n\n        if (row &gt; 0)\n            result = keyHolder.getKey().longValue(); //line 72\n</code></pre>\n\n<p>And this is the PostgreSQL table :</p>\n\n<pre><code>CREATE TABLE compte\n(\n  idcompte serial NOT NULL,\n  prenom character varying(25) NOT NULL,\n  nom character varying(25) NOT NULL,\n  datenaissance date NOT NULL,\n  numtelephone character varying(15) NOT NULL,\n  CONSTRAINT pk_compte PRIMARY KEY (idcompte )\n);\n</code></pre>\n\n<p>PostgreSQL supports auto-generated keys, but I get this exception :</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.tante.db.JDBCUserAccountDAO.insertAccount(JDBCUserAccountDAO.java:72)\n</code></pre>\n\n<p>EDIT :\nI tried this to get the auto generated key :</p>\n\n<pre><code>result = jdbcTemplate.queryForLong(\"select currval('compte_idcompte_seq')\");\n</code></pre>\n\n<p>but I get a <code>PSQLException</code> : </p>\n\n<p><code>the current value (currval) of the sequence compte_idcompte_seq is not defined in this session</code>, although I thought that <code>compte_idcompte_seq.NEXTVAL</code>\nshould have been called when inserting the row</p>\n\n<p>EDIT : </p>\n\n<p>The auto-increment value is properly created when a row is inserted</p>\n\n<p>Any idea ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1661243745,"post_id":73455391,"comment_id":129719026,"body_markdown":"No. You can instruct the compiler to generated bytecode for java 8, but then you can not use language features that were introduced after java 8.","body":"No. You can instruct the compiler to generated bytecode for java 8, but then you can not use language features that were introduced after java 8."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal pondr"},"score":0,"creation_date":1661255822,"post_id":73455391,"comment_id":129723559,"body_markdown":"@f1sh What if I use JDK 17 with &lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;. Will the compiled JAR file be executable on 32b JRE 1.8?","body":"@f1sh What if I use JDK 17 with &lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;. Will the compiled JAR file be executable on 32b JRE 1.8?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1661257149,"post_id":73455391,"comment_id":129724119,"body_markdown":"Setting the target java version in the `pom.xml` is they way to go, yes. [Here](https://www.baeldung.com/maven-java-version) are some more details on that. But the problem remains: If you use language features of java9 and beyond, you project won&#39;t compile.","body":"Setting the target java version in the <code>pom.xml</code> is they way to go, yes. <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">Here</a> are some more details on that. But the problem remains: If you use language features of java9 and beyond, you project won&#39;t compile."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal pondr"},"score":0,"creation_date":1661257681,"post_id":73455391,"comment_id":129724361,"body_markdown":"@f1sh I assume Idea gives me warning if I use Java 17 features while using java.version 1.8. Thanks for the hint. Can you write it as a standard answer so I can accept it?","body":"@f1sh I assume Idea gives me warning if I use Java 17 features while using java.version 1.8. Thanks for the hint. Can you write it as a standard answer so I can accept it?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661268556,"creation_date":1661268556,"answer_id":73461397,"question_id":73455391,"body_markdown":"Unfortunately, no.\r\n\r\nYou can instruct the compiler to generate bytecode for java 8, but then you can not use language features that were introduced after java 8. If you attempt to do so, your code will not compile.\r\n\r\n[Here][1] are some details how to specify the target java version maven&#39;s `pom.xml` file.\r\n\r\nYour only option is to re-write your code so that it compiles with java 8.\r\n\r\n  [1]: https://www.baeldung.com/maven-java-version","title":"Can the latest Java code run in 32b JRE 1.8?","body":"<p>Unfortunately, no.</p>\n<p>You can instruct the compiler to generate bytecode for java 8, but then you can not use language features that were introduced after java 8. If you attempt to do so, your code will not compile.</p>\n<p><a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">Here</a> are some details how to specify the target java version maven's <code>pom.xml</code> file.</p>\n<p>Your only option is to re-write your code so that it compiles with java 8.</p>\n"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal pondr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73461397,"answer_count":1,"score":1,"last_activity_date":1661268556,"creation_date":1661243150,"question_id":73455391,"body_markdown":"I have code that uses Java 17 features and I am using JDK 17. Is it possible to make a JAR file with bytecode from this Java code that will be executable in 32b JRE 1.8?","title":"Can the latest Java code run in 32b JRE 1.8?","body":"<p>I have code that uses Java 17 features and I am using JDK 17. Is it possible to make a JAR file with bytecode from this Java code that will be executable in 32b JRE 1.8?</p>\n"},{"tags":["java","jax-rs","resteasy","squid"],"answers":[{"tags":[],"owner":{"account_id":1256982,"reputation":1626,"user_id":1216246,"accept_rate":65,"display_name":"Oscar Castiblanco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1434026460,"creation_date":1434026460,"answer_id":30781092,"question_id":30776211,"body_markdown":"Wow, It really make me crazy this problem. I don&#39;t know how to solve it in an implementation independent way. Anyway, by now it worked like that:\r\n\r\n    ResteasyClient client = new ResteasyClientBuilder().defaultProxy(myProxy, myProxyPort).build(); \r\n    Credentials credentials = new UsernamePasswordCredentials(me, mypassword);\r\n\tApacheHttpClient4Engine engine = (ApacheHttpClient4Engine)client.httpEngine();\r\n\tHttpContext context =  new BasicHttpContext();\r\n\tengine.setHttpContext(context);\r\n\t\t\r\n\tCredentialsProvider provider = new BasicCredentialsProvider(); \r\n\tcontext.setAttribute(ClientContext.CREDS_PROVIDER, provider);\r\n\tAuthScope authScope = new AuthScope(\r\n\t\t\t\tmyProxy,\r\n                myProxyPort,\r\n                null,\r\n                null);\r\n    System.out.println(client.target(&quot;https://www.google.com&quot;).request().get().readEntity(String.class));","title":"Jax-RS unable to authenticate to proxy","body":"<p>Wow, It really make me crazy this problem. I don't know how to solve it in an implementation independent way. Anyway, by now it worked like that:</p>\n\n<pre><code>ResteasyClient client = new ResteasyClientBuilder().defaultProxy(myProxy, myProxyPort).build(); \nCredentials credentials = new UsernamePasswordCredentials(me, mypassword);\nApacheHttpClient4Engine engine = (ApacheHttpClient4Engine)client.httpEngine();\nHttpContext context =  new BasicHttpContext();\nengine.setHttpContext(context);\n\nCredentialsProvider provider = new BasicCredentialsProvider(); \ncontext.setAttribute(ClientContext.CREDS_PROVIDER, provider);\nAuthScope authScope = new AuthScope(\n            myProxy,\n            myProxyPort,\n            null,\n            null);\nSystem.out.println(client.target(\"https://www.google.com\").request().get().readEntity(String.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12013241,"reputation":11,"user_id":8789192,"display_name":"Thierry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508233969,"creation_date":1508233969,"answer_id":46787334,"question_id":30776211,"body_markdown":"The simplest approach is not to use the default underlying Apache engine but to set the standard Java URLConnection instead:\r\n\r\n    resteasyClientBuilder.httpEngine(new URLConnectionEngine());\r\n    client = resteasyClientBuilder.build();\r\n\r\n\r\nIf so, all the http.proxyXXX system properties will work avoiding coding any credentials provider.\r\n","title":"Jax-RS unable to authenticate to proxy","body":"<p>The simplest approach is not to use the default underlying Apache engine but to set the standard Java URLConnection instead:</p>\n\n<pre><code>resteasyClientBuilder.httpEngine(new URLConnectionEngine());\nclient = resteasyClientBuilder.build();\n</code></pre>\n\n<p>If so, all the http.proxyXXX system properties will work avoiding coding any credentials provider.</p>\n"},{"tags":[],"owner":{"account_id":1254855,"reputation":3837,"user_id":1214542,"accept_rate":57,"display_name":"Jason Huntley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661268368,"creation_date":1661268368,"answer_id":73461353,"question_id":30776211,"body_markdown":"I encountered this same issue while extending Keycloak(17) for our services. The Quarkus reactive rest library, released with this version of keycloak, didn&#39;t quite provide what we needed to authenticate through a proxy. We had to work around the issue using Apache&#39;s HTTP Client library, httpclient:4.5.13, directly. For those interested, here&#39;s another work around:\r\n\r\n    Credentials credentials = new UsernamePasswordCredentials(proxyUser, proxyPassword);\r\n    CredentialsProvider credProvider = new BasicCredentialsProvider();\r\n    credProvider.setCredentials(new AuthScope(proxyHost, Integer.parseInt(proxyPort)), credentials);\r\n\r\n    //\r\n    // Important notes to be aware of when using RestEasy api in keycloak/quarkus\r\n    // https://github.com/quarkusio/quarkus/issues/22466\r\n    //\r\n\r\n    HttpClientBuilder clientbuilder = HttpClients.custom();\r\n\r\n    clientbuilder = clientbuilder.setDefaultCredentialsProvider(credProvider);\r\n    this.httpclient = clientbuilder.build();\r\n\r\n    HttpHost proxy = new HttpHost(proxyHost, Integer.parseInt(proxyPort));\r\n\r\n    RequestConfig.Builder reqconfigconbuilder= RequestConfig.custom();\r\n    reqconfigconbuilder = reqconfigconbuilder.setProxy(proxy);\r\n    RequestConfig config = reqconfigconbuilder.build();\r\n\r\n    String encoding = Base64.getEncoder().encodeToString((emailUser + &quot;:&quot; + emailPassword).getBytes());\r\n\r\n    this.target = new HttpHost(emailServer, Integer.parseInt(emailPort), &quot;https&quot;);\r\n    this.postRequest = new HttpPost(&quot;/resource/example&quot;);\r\n    this.postRequest.setConfig(config);\r\n    this.postRequest.addHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + encoding);\r\n    this.postRequest.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);","title":"Jax-RS unable to authenticate to proxy","body":"<p>I encountered this same issue while extending Keycloak(17) for our services. The Quarkus reactive rest library, released with this version of keycloak, didn't quite provide what we needed to authenticate through a proxy. We had to work around the issue using Apache's HTTP Client library, httpclient:4.5.13, directly. For those interested, here's another work around:</p>\n<pre><code>Credentials credentials = new UsernamePasswordCredentials(proxyUser, proxyPassword);\nCredentialsProvider credProvider = new BasicCredentialsProvider();\ncredProvider.setCredentials(new AuthScope(proxyHost, Integer.parseInt(proxyPort)), credentials);\n\n//\n// Important notes to be aware of when using RestEasy api in keycloak/quarkus\n// https://github.com/quarkusio/quarkus/issues/22466\n//\n\nHttpClientBuilder clientbuilder = HttpClients.custom();\n\nclientbuilder = clientbuilder.setDefaultCredentialsProvider(credProvider);\nthis.httpclient = clientbuilder.build();\n\nHttpHost proxy = new HttpHost(proxyHost, Integer.parseInt(proxyPort));\n\nRequestConfig.Builder reqconfigconbuilder= RequestConfig.custom();\nreqconfigconbuilder = reqconfigconbuilder.setProxy(proxy);\nRequestConfig config = reqconfigconbuilder.build();\n\nString encoding = Base64.getEncoder().encodeToString((emailUser + &quot;:&quot; + emailPassword).getBytes());\n\nthis.target = new HttpHost(emailServer, Integer.parseInt(emailPort), &quot;https&quot;);\nthis.postRequest = new HttpPost(&quot;/resource/example&quot;);\nthis.postRequest.setConfig(config);\nthis.postRequest.addHeader(HttpHeaders.AUTHORIZATION, &quot;Basic &quot; + encoding);\nthis.postRequest.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\n</code></pre>\n"}],"owner":{"account_id":1256982,"reputation":1626,"user_id":1216246,"accept_rate":65,"display_name":"Oscar Castiblanco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2245,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30781092,"answer_count":3,"score":5,"last_activity_date":1661268368,"creation_date":1434013316,"question_id":30776211,"body_markdown":"My company has a proxy\r\n\r\n    proxy=myProxy\r\n    port=myProxyPort\r\n    username=me\r\n    password=myPassword\r\n\r\nI try to access the outside world by using simple java.net functions and it worked!\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;, myProxy);\r\n\tSystem.setProperty(&quot;http.proxyPort&quot;, myProxyPort);\r\n\t\r\n\tAuthenticator.setDefault(new Authenticator() {\r\n\t      protected PasswordAuthentication getPasswordAuthentication() {\r\n\t        return new\r\n\t           PasswordAuthentication(me,myPasssword.toCharArray());\r\n\t    }});\r\n\t\r\n\tURL u = new URL(&quot;http://www.google.com&quot;);\r\n    HttpURLConnection con = (HttpURLConnection) u.openConnection();\r\n    DataInputStream di = new DataInputStream(con.getInputStream());\r\n    byte[] b = new byte[1024*512];\r\n\twhile(-1 != di.read(b,0,1024*512)) {\r\n       System.out.print(new String(b));\r\n\r\nNot I try to do it by using Jax-RS Resteasy Implementation like that:\r\n\r\n    Client client = new ResteasyClientBuilder().defaultProxy(myProxy, myProxyPort).build();\t\r\n    System.out.println(client.target(&quot;https://www.google.com&quot;).request().get().readEntity(String.class));\r\n\r\nI got the following error\r\n\r\n    Cache Access Denied\r\n    ERR_CACHE_ACCESS_DENIED\r\n    (squid/3.1.6)\r\n    Sorry, you are not currently allowed to request https://www.google.com/* from this cache until you have authenticated yourself\r\n\r\nCan somebody tell me how to authenticate to the proxy with username-password using Jax-RS","title":"Jax-RS unable to authenticate to proxy","body":"<p>My company has a proxy</p>\n\n<pre><code>proxy=myProxy\nport=myProxyPort\nusername=me\npassword=myPassword\n</code></pre>\n\n<p>I try to access the outside world by using simple java.net functions and it worked!</p>\n\n<pre><code>System.setProperty(\"http.proxyHost\", myProxy);\nSystem.setProperty(\"http.proxyPort\", myProxyPort);\n\nAuthenticator.setDefault(new Authenticator() {\n      protected PasswordAuthentication getPasswordAuthentication() {\n        return new\n           PasswordAuthentication(me,myPasssword.toCharArray());\n    }});\n\nURL u = new URL(\"http://www.google.com\");\nHttpURLConnection con = (HttpURLConnection) u.openConnection();\nDataInputStream di = new DataInputStream(con.getInputStream());\nbyte[] b = new byte[1024*512];\nwhile(-1 != di.read(b,0,1024*512)) {\n   System.out.print(new String(b));\n</code></pre>\n\n<p>Not I try to do it by using Jax-RS Resteasy Implementation like that:</p>\n\n<pre><code>Client client = new ResteasyClientBuilder().defaultProxy(myProxy, myProxyPort).build(); \nSystem.out.println(client.target(\"https://www.google.com\").request().get().readEntity(String.class));\n</code></pre>\n\n<p>I got the following error</p>\n\n<pre><code>Cache Access Denied\nERR_CACHE_ACCESS_DENIED\n(squid/3.1.6)\nSorry, you are not currently allowed to request https://www.google.com/* from this cache until you have authenticated yourself\n</code></pre>\n\n<p>Can somebody tell me how to authenticate to the proxy with username-password using Jax-RS</p>\n"},{"tags":["java","sha","hl7-fhir","hapi-fhir"],"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":1,"creation_date":1661344190,"post_id":73460783,"comment_id":129749042,"body_markdown":"One of the smallest sentences in HL7-FHIR, but one of the most under-&quot;estimated&quot; for overall impact.    https://www.hl7.org/fhir/resource-definitions.html#Resource.id. &quot;Once assigned, this value never changes.&quot;   and 99.9% of the time it is mandatory.  Full sentences &quot;The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes.&quot; and &quot;\t\nThe only time that a resource does not have an id is when it is being submitted to the server using a create operation.&quot;","body":"One of the smallest sentences in HL7-FHIR, but one of the most under-&quot;estimated&quot; for overall impact.    <a href=\"https://www.hl7.org/fhir/resource-definitions.html#Resource.id\" rel=\"nofollow noreferrer\">hl7.org/fhir/resource-definitions.html#Resource.id</a>. &quot;Once assigned, this value never changes.&quot;   and 99.9% of the time it is mandatory.  Full sentences &quot;The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes.&quot; and &quot;\t The only time that a resource does not have an id is when it is being submitted to the server using a create operation.&quot;"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1661344602,"post_id":73460783,"comment_id":129749242,"body_markdown":"if you&#39;re gonna try to &quot;piggy back&quot; on passing in a single &quot;input&quot;, then that input-string needs to have enough information to make the output unique.   so you can&#39;t pass in &quot;johnsmith&quot; because you might have 500 johnsmith&#39;s out there.  do you have an &quot;internal&quot; value (or values) that guarantee the unique-ness of your &quot;items&quot;.","body":"if you&#39;re gonna try to &quot;piggy back&quot; on passing in a single &quot;input&quot;, then that input-string needs to have enough information to make the output unique.   so you can&#39;t pass in &quot;johnsmith&quot; because you might have 500 johnsmith&#39;s out there.  do you have an &quot;internal&quot; value (or values) that guarantee the unique-ness of your &quot;items&quot;."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1661344761,"post_id":73460783,"comment_id":129749315,"body_markdown":"another way (a METAPHOR) I explain this to internal teams is &quot;we have a csv (comma sep value) file with thousands of things....which columns of the csv file make the thing UNIQUE.  (what is the unique constraint?).","body":"another way (a METAPHOR) I explain this to internal teams is &quot;we have a csv (comma sep value) file with thousands of things....which columns of the csv file make the thing UNIQUE.  (what is the unique constraint?)."}],"answers":[{"tags":[],"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661268135,"creation_date":1661268135,"answer_id":73461299,"question_id":73460783,"body_markdown":"1. A given string will always generate the same id.  A different string *should* generate a different id, though there&#39;s a very slim chance of two strings generating the same hash.\r\n\r\n2. There are rules for the format of the id (only certain characters permitted, maximum length allowed), but other than that, no obvious benefit I can see.  It&#39;s fine to use your &#39;native&#39; identifier as the resource id.  (That said, resource ids generally shouldn&#39;t be real-world identifiers like social security numbers, license numbers, etc. as that can leak protected information.)\r\n\r\n3. The expectation in FHIR is that a unique resource id corresponds to a unique real-world object.  If you don&#39;t have a real identifier on the object, there&#39;s a possibility you could have multiple instances that correspond to distinct real-world objects.  E.g. multiple Practitioner instances where all you have is a name of &quot;A. Smith&quot; would not be appropriate to presume are always the same instance.  If you have no &#39;identity&#39;, you might be better off using the &#39;contained&#39; mechanism rather than generating an id just from the content.  ","title":"FHIR Resource logical id generation using SHA256","body":"<ol>\n<li><p>A given string will always generate the same id.  A different string <em>should</em> generate a different id, though there's a very slim chance of two strings generating the same hash.</p>\n</li>\n<li><p>There are rules for the format of the id (only certain characters permitted, maximum length allowed), but other than that, no obvious benefit I can see.  It's fine to use your 'native' identifier as the resource id.  (That said, resource ids generally shouldn't be real-world identifiers like social security numbers, license numbers, etc. as that can leak protected information.)</p>\n</li>\n<li><p>The expectation in FHIR is that a unique resource id corresponds to a unique real-world object.  If you don't have a real identifier on the object, there's a possibility you could have multiple instances that correspond to distinct real-world objects.  E.g. multiple Practitioner instances where all you have is a name of &quot;A. Smith&quot; would not be appropriate to presume are always the same instance.  If you have no 'identity', you might be better off using the 'contained' mechanism rather than generating an id just from the content.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73461299,"answer_count":1,"score":-1,"last_activity_date":1661268135,"creation_date":1661265950,"question_id":73460783,"body_markdown":"I am trying to implement code that generates FHIR message from some type of input message. When I create each FHIR resources, I would need to create resource logical id that are unique and repeatedly generated.\r\n\r\nFrom Microsoft&#39;s FHIR-Converter github repository, I found that they use SHA256 to hash the input string value to generate some type of 64 character id. I used the same approach to generate UUID in java. Here is code from Microsoft FHIR-Converter in .NET:\r\n```\r\n        public static string GenerateUUID(string input)\r\n        {\r\n            if (string.IsNullOrWhiteSpace(input))\r\n            {\r\n                return null;\r\n            }\r\n\r\n            var bytes = Encoding.UTF8.GetBytes(input);\r\n            var algorithm = SHA256.Create();\r\n            var hash = algorithm.ComputeHash(bytes);\r\n            var guid = new byte[16];\r\n            Array.Copy(hash, 0, guid, 0, 16);\r\n            return new Guid(guid).ToString();\r\n        }\r\n```\r\nIt generates uuid like this: `e40b96a6-e62e-a67e-3ac7-69a099830e1c`\r\n\r\nMy questions are:\r\n  1) In order to repeatedly generate the same id, does the string input MUST be same as well? Meaning, if I have an input of `123`, it will generate `e40b96a6-e62e-a67e-3ac7-69a099830e1c` all the time?\r\n\r\n  2) If I HAVE to use unique id in order to generate this uuid, what is the advantage of using this extra step? If my input always have unique id for each resources, can I just assign id to be (Resource name)-(id)?\r\n\r\n  3) Is there a way to generate id without having unique id? I have some resources that do not have something unique. Are there other techniques where I can generate a unique input that can be repeated in different platforms? I don&#39;t see how I can do this without providing unique id from input..","title":"FHIR Resource logical id generation using SHA256","body":"<p>I am trying to implement code that generates FHIR message from some type of input message. When I create each FHIR resources, I would need to create resource logical id that are unique and repeatedly generated.</p>\n<p>From Microsoft's FHIR-Converter github repository, I found that they use SHA256 to hash the input string value to generate some type of 64 character id. I used the same approach to generate UUID in java. Here is code from Microsoft FHIR-Converter in .NET:</p>\n<pre><code>        public static string GenerateUUID(string input)\n        {\n            if (string.IsNullOrWhiteSpace(input))\n            {\n                return null;\n            }\n\n            var bytes = Encoding.UTF8.GetBytes(input);\n            var algorithm = SHA256.Create();\n            var hash = algorithm.ComputeHash(bytes);\n            var guid = new byte[16];\n            Array.Copy(hash, 0, guid, 0, 16);\n            return new Guid(guid).ToString();\n        }\n</code></pre>\n<p>It generates uuid like this: <code>e40b96a6-e62e-a67e-3ac7-69a099830e1c</code></p>\n<p>My questions are:</p>\n<ol>\n<li><p>In order to repeatedly generate the same id, does the string input MUST be same as well? Meaning, if I have an input of <code>123</code>, it will generate <code>e40b96a6-e62e-a67e-3ac7-69a099830e1c</code> all the time?</p>\n</li>\n<li><p>If I HAVE to use unique id in order to generate this uuid, what is the advantage of using this extra step? If my input always have unique id for each resources, can I just assign id to be (Resource name)-(id)?</p>\n</li>\n<li><p>Is there a way to generate id without having unique id? I have some resources that do not have something unique. Are there other techniques where I can generate a unique input that can be repeated in different platforms? I don't see how I can do this without providing unique id from input..</p>\n</li>\n</ol>\n"},{"tags":["java","scala","intellij-idea","code-completion"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1661243175,"post_id":73455257,"comment_id":129718816,"body_markdown":"Why would you want to add semicolon at the end of the line? That&#39;s not a good practice in Scala, you almost never need those semicolons.","body":"Why would you want to add semicolon at the end of the line? That&#39;s not a good practice in Scala, you almost never need those semicolons."},{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":1,"creation_date":1661247792,"post_id":73455257,"comment_id":129720501,"body_markdown":"Is this a question or a bug report? Do you want to redirect this to jetbrains bug tracker?","body":"Is this a question or a bug report? Do you want to redirect this to jetbrains bug tracker?"},{"owner":{"account_id":6695693,"reputation":11,"user_id":5163763,"display_name":"Dominic MA"},"score":0,"creation_date":1662001500,"post_id":73455257,"comment_id":129906790,"body_markdown":"Thanks for the comments! My focusing point is to **move my cursor to next line** with this line auto-indented, which is not achievable with current behaivor in Scala code. Above is just an example, and of course, I don&#39;t expect this `Complete Current Statement` function to add a semicolon for Scala code.","body":"Thanks for the comments! My focusing point is to <b>move my cursor to next line</b> with this line auto-indented, which is not achievable with current behaivor in Scala code. Above is just an example, and of course, I don&#39;t expect this <code>Complete Current Statement</code> function to add a semicolon for Scala code."},{"owner":{"account_id":6695693,"reputation":11,"user_id":5163763,"display_name":"Dominic MA"},"score":0,"creation_date":1662013320,"post_id":73455257,"comment_id":129908724,"body_markdown":"Hi @SimY4, I don&#39;t know if this is a bug or not introduced by new version of intellij, just behavior discrepancy between languages. More like a question I guess?","body":"Hi @SimY4, I don&#39;t know if this is a bug or not introduced by new version of intellij, just behavior discrepancy between languages. More like a question I guess?"}],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661268076,"creation_date":1661266995,"answer_id":73461040,"question_id":73455257,"body_markdown":"You don&#39;t need to use that in Scala because semicolons are optional, and almost never used. Actually, your Scala code sample is already what you would call a &quot;complete statement&quot;. \r\n\r\nFor formatting what I do and recommend is having set `File` -&gt; `Settings` -&gt; `Tools` -&gt; `Actions on save` and check `Reformat code` and optionally `Optimize imports`, and it will do both whenever you save your source file using `Ctrl + S`. I believe it&#39;s `Cmd + S` on your Mac.\r\n\r\nThis uses the default Intellij Formatter for Scala. Scala also has it&#39;s own Formatter called [Scalafmt][1] with customizable setups more control of formatting different Scala features based on your preferences. This is located at `Settings` -&gt; `Editor` -&gt; `Code Style` -&gt; `Scala`.\r\n\r\nIf for some reason you would still like to use your shortcut key, then the only thing the `Complete current statement` can do to your Scala code is auto-indenting the current line, which for some reason it doesn&#39;t so it seems to be a bug on Intellij&#39;s side. But what you can do is replace the `Auto-Indent Lines` shortcut key to use your `Complete current statement` shortcut key instead and get the same behavior. \r\n\r\n  [1]: https://scalameta.org/scalafmt/","title":"Complete Current Statement behaves differently in Scala in IntelliJ","body":"<p>You don't need to use that in Scala because semicolons are optional, and almost never used. Actually, your Scala code sample is already what you would call a &quot;complete statement&quot;.</p>\n<p>For formatting what I do and recommend is having set <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Tools</code> -&gt; <code>Actions on save</code> and check <code>Reformat code</code> and optionally <code>Optimize imports</code>, and it will do both whenever you save your source file using <code>Ctrl + S</code>. I believe it's <code>Cmd + S</code> on your Mac.</p>\n<p>This uses the default Intellij Formatter for Scala. Scala also has it's own Formatter called <a href=\"https://scalameta.org/scalafmt/\" rel=\"nofollow noreferrer\">Scalafmt</a> with customizable setups more control of formatting different Scala features based on your preferences. This is located at <code>Settings</code> -&gt; <code>Editor</code> -&gt; <code>Code Style</code> -&gt; <code>Scala</code>.</p>\n<p>If for some reason you would still like to use your shortcut key, then the only thing the <code>Complete current statement</code> can do to your Scala code is auto-indenting the current line, which for some reason it doesn't so it seems to be a bug on Intellij's side. But what you can do is replace the <code>Auto-Indent Lines</code> shortcut key to use your <code>Complete current statement</code> shortcut key instead and get the same behavior.</p>\n"}],"owner":{"account_id":6695693,"reputation":11,"user_id":5163763,"display_name":"Dominic MA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661268076,"creation_date":1661242474,"question_id":73455257,"body_markdown":"I recently upgraded my IDEA and now using IntelliJ IDEA 2022.2 Ultimate Edition.\r\nI found the `Complete Current Statement` in Scala code behaves differently as in Java code, which is very annoying. [![inmenu][1]][1]\r\n\r\nFor example in Java code:\r\n```\r\npublic static void main(String[] args) {\r\nString foo = &quot;bar&quot;\r\n}\r\n```\r\nPress `Complete Current Statement` shortcut(shift+cmd+enter for me) anywhere in line #2, will add a `;` at the end of the line, and an auto-indent will be applied too:\r\n```\r\npublic static void main(String[] args) {\r\n    String foo = &quot;bar&quot;;\r\n}\r\n```\r\nThen press `Complete Current Statement` again will bring you to a new line when there is nothing more to adjust.\r\n```\r\npublic static void main(String[] args) {\r\n    String foo = &quot;bar&quot;;\r\n    \r\n}\r\n```\r\n\r\nIn previous version of IntelliJ, I roughly remember the behavior is same for Scala code.\r\nBut in this version of IntelliJ, when I try to do samething in Scala code, for example:\r\n```\r\n  def foo (): Unit = {\r\nthrow new RuntimeException\r\n  }\r\n```\r\nWhen I press `Complete Current Statement` in line #2, nothing happens.\r\n\r\nCould anyone please help me checkout why or how should I config to align with Java code&#39;s behavior? Thank you very much!\r\n\r\n  [1]: https://i.stack.imgur.com/7M5Lb.png","title":"Complete Current Statement behaves differently in Scala in IntelliJ","body":"<p>I recently upgraded my IDEA and now using IntelliJ IDEA 2022.2 Ultimate Edition.\nI found the <code>Complete Current Statement</code> in Scala code behaves differently as in Java code, which is very annoying. <a href=\"https://i.stack.imgur.com/7M5Lb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7M5Lb.png\" alt=\"inmenu\" /></a></p>\n<p>For example in Java code:</p>\n<pre><code>public static void main(String[] args) {\nString foo = &quot;bar&quot;\n}\n</code></pre>\n<p>Press <code>Complete Current Statement</code> shortcut(shift+cmd+enter for me) anywhere in line #2, will add a <code>;</code> at the end of the line, and an auto-indent will be applied too:</p>\n<pre><code>public static void main(String[] args) {\n    String foo = &quot;bar&quot;;\n}\n</code></pre>\n<p>Then press <code>Complete Current Statement</code> again will bring you to a new line when there is nothing more to adjust.</p>\n<pre><code>public static void main(String[] args) {\n    String foo = &quot;bar&quot;;\n    \n}\n</code></pre>\n<p>In previous version of IntelliJ, I roughly remember the behavior is same for Scala code.\nBut in this version of IntelliJ, when I try to do samething in Scala code, for example:</p>\n<pre><code>  def foo (): Unit = {\nthrow new RuntimeException\n  }\n</code></pre>\n<p>When I press <code>Complete Current Statement</code> in line #2, nothing happens.</p>\n<p>Could anyone please help me checkout why or how should I config to align with Java code's behavior? Thank you very much!</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":26134641,"reputation":21,"user_id":19824804,"display_name":"Arlettys Albear Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661223117,"creation_date":1661223117,"answer_id":73452644,"question_id":73452193,"body_markdown":"Did you try to run the app using the CLI? To discard is it only an eclipse issue\r\n\r\n    ./mvnw spring-boot:run","title":"Error: Could not find or load main class com.javacourse.springBootDemo.SpringBootDemoApplication","body":"<p>Did you try to run the app using the CLI? To discard is it only an eclipse issue</p>\n<pre><code>./mvnw spring-boot:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18609258,"reputation":85,"user_id":13562130,"display_name":"velihan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661268047,"creation_date":1661268047,"answer_id":73461284,"question_id":73452193,"body_markdown":"I have finally solved it. To anyone encountering the same issue and couldn&#39;t find a solution : Try to change the project folder destination and move it in C:\\ directory. I actually don&#39;t know the reason yet but I think that maybe it&#39;s related to Maven, JDK or Classpath visibility through C:\\. But that was the only solution for me.","title":"Error: Could not find or load main class com.javacourse.springBootDemo.SpringBootDemoApplication","body":"<p>I have finally solved it. To anyone encountering the same issue and couldn't find a solution : Try to change the project folder destination and move it in C:\\ directory. I actually don't know the reason yet but I think that maybe it's related to Maven, JDK or Classpath visibility through C:. But that was the only solution for me.</p>\n"}],"owner":{"account_id":18609258,"reputation":85,"user_id":13562130,"display_name":"velihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2249,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73461284,"answer_count":2,"score":3,"last_activity_date":1661268047,"creation_date":1661214365,"question_id":73452193,"body_markdown":"In Eclipse, when I try to run my SpringBootDemoApplication, it gives me this error: \r\n\r\n    Error: Could not find or load main class com.javacourse.springBootDemo.SpringBootDemoApplication \r\n    Caused by: java.lang.ClassNotFoundException: com.javacourse.springBootDemo.SpringBootDemoApplication\r\n\r\nI have also tried some solutions on [here][1], but non of them worked...\r\n\r\nHere are some of the things I&#39;ve tried: \r\n\r\n**1. Right Click the project -&gt; Maven -&gt; Update Project -&gt; Then Re-run the project.**\r\n\r\n*- I did it and nothing happened, same error continues.*\r\n\r\n**2. Adding `&lt;start-class&gt;` property in my pom.xml:**\r\n\r\n&gt;     &lt;properties&gt;\r\n&gt;         `&lt;start-class&gt;`com.javacourse.springBootDemo.SpringBootDemoApplication&lt;/start-class&gt;\r\n&gt;     &lt;/properties&gt;\r\n\r\n*- Also did nothing. Error still continues.*\r\n\r\n**3. I have checked Run -&gt; Run Configurations... and cleared all then tried recreating.**\r\n\r\n*- Did nothing as well.*\r\n\r\n**4. Checked Window -&gt; Show View -&gt; Problems**\r\n\r\n*- Found nothing.*\r\n\r\n**5. Tried someone&#39;s solution which says: &quot;start-class doesn&#39;t work for me, I fixed it by adding build plugins to pom.xml, and executions is necessary.&quot;**\r\n\r\n&gt;     &lt;build&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;                 &lt;executions&gt;\r\n&gt;                     &lt;execution&gt;\r\n&gt;                         &lt;goals&gt;\r\n&gt;                             &lt;goal&gt;repackage&lt;/goal&gt;\r\n&gt;                         &lt;/goals&gt;\r\n&gt;                     &lt;/execution&gt;\r\n&gt;                 &lt;/executions&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt; \r\n&gt;     &lt;/build&gt;\r\n\r\n*- Did nothing either...*\r\n\r\n**6. Did this one too, nothing happened :**\r\n\r\n&gt;      &lt;build&gt; &lt;pluginManagement&gt; &lt;plugins&gt;\r\n&gt;          &lt;plugin&gt;\r\n&gt;              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;          &lt;/plugin&gt; &lt;/plugins&gt;&lt;/pluginManagement&gt; \r\n&gt;      &lt;/build&gt;\r\n\r\n**7. Adding the following section in pom didn&#39;t help as well...**\r\n\r\n&gt;     &lt;plugins&gt;\r\n&gt;         &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;                 &lt;configuration&gt;\r\n&gt;                     &lt;executable&gt;true&lt;/executable&gt;\r\n&gt;                 &lt;/configuration&gt;\r\n&gt;         &lt;/plugin&gt;\r\n&gt;     &lt;/plugins&gt;\r\n\r\n***My POM.XML :***\r\n\r\n&gt;     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&gt;     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n&gt;     \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&gt;     \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;     \t&lt;parent&gt;\r\n&gt;     \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;     \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&gt;     \t\t&lt;version&gt;2.6.11&lt;/version&gt;\r\n&gt;     \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&gt;     \t&lt;/parent&gt;\r\n&gt;     \t&lt;groupId&gt;com.javacourse&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;springBootDemo&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&gt;     \t&lt;name&gt;springBootDemo&lt;/name&gt;\r\n&gt;     \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n&gt;     \t&lt;properties&gt;\r\n&gt;     \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n&gt;     \t&lt;/properties&gt;\r\n&gt;     \t&lt;dependencies&gt;\r\n&gt;     \t\t&lt;dependency&gt;\r\n&gt;     \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;     \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;     \t\t&lt;/dependency&gt;\r\n&gt;     \r\n&gt;     \t\t&lt;dependency&gt;\r\n&gt;     \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;     \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&gt;     \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     \t\t&lt;/dependency&gt;\r\n&gt;     \t&lt;/dependencies&gt;\r\n&gt;     \r\n&gt;     \t&lt;build&gt;\r\n&gt;     \t\t&lt;plugins&gt;\r\n&gt;     \t\t\t&lt;plugin&gt;\r\n&gt;     \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;     \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;     \t\t\t\t&lt;configuration&gt;\r\n&gt;                     \t&lt;executable&gt;true&lt;/executable&gt;\r\n&gt;                 \t&lt;/configuration&gt;\r\n&gt;     \t\t\t\t&lt;executions&gt;\r\n&gt;     \t\t\t\t\t&lt;execution&gt;\r\n&gt;     \t\t\t\t\t\t&lt;goals&gt;\r\n&gt;     \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n&gt;     \t\t\t\t\t\t&lt;/goals&gt;\r\n&gt;     \t\t\t\t\t&lt;/execution&gt;\r\n&gt;     \t\t\t\t&lt;/executions&gt;\r\n&gt;     \t\t\t&lt;/plugin&gt;\r\n&gt;     \t\t&lt;/plugins&gt;\r\n&gt;     \t&lt;/build&gt;\r\n&gt;     \r\n&gt;     &lt;/project&gt;\r\n\r\n***My SpringBootDemoApplication.class :***\r\n\r\n    package com.javacourse.springBootDemo;\r\n    \r\n    import org.springframework.boot.SpringApplication; \r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication \r\n    public class SpringBootDemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) { \t\t \r\n        SpringApplication.run(SpringBootDemoApplication.class, args); \t\r\n\r\n        }\r\n    \r\n    }\r\n\r\n***My Package Explorer ScreenShot :***\r\n\r\n[![Package Explorer][2]][2]\r\n\r\n***My Maven and Java Versions :***\r\n\r\n&gt;     Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\n&gt;     Maven home: C:\\apache-maven-3.8.5\r\n&gt;     Java version: 11.0.16, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.16\r\n\r\nThank you all in advance, hope we can solve this vexed issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28451120/spring-boot-program-cannot-find-main-class\r\n  [2]: https://i.stack.imgur.com/ed3WY.png","title":"Error: Could not find or load main class com.javacourse.springBootDemo.SpringBootDemoApplication","body":"<p>In Eclipse, when I try to run my SpringBootDemoApplication, it gives me this error:</p>\n<pre><code>Error: Could not find or load main class com.javacourse.springBootDemo.SpringBootDemoApplication \nCaused by: java.lang.ClassNotFoundException: com.javacourse.springBootDemo.SpringBootDemoApplication\n</code></pre>\n<p>I have also tried some solutions on <a href=\"https://stackoverflow.com/questions/28451120/spring-boot-program-cannot-find-main-class\">here</a>, but non of them worked...</p>\n<p>Here are some of the things I've tried:</p>\n<p><strong>1. Right Click the project -&gt; Maven -&gt; Update Project -&gt; Then Re-run the project.</strong></p>\n<p><em>- I did it and nothing happened, same error continues.</em></p>\n<p><strong>2. Adding <code>&lt;start-class&gt;</code> property in my pom.xml:</strong></p>\n<blockquote>\n<pre><code>&lt;properties&gt;\n    `&lt;start-class&gt;`com.javacourse.springBootDemo.SpringBootDemoApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n</blockquote>\n<p><em>- Also did nothing. Error still continues.</em></p>\n<p><strong>3. I have checked Run -&gt; Run Configurations... and cleared all then tried recreating.</strong></p>\n<p><em>- Did nothing as well.</em></p>\n<p><strong>4. Checked Window -&gt; Show View -&gt; Problems</strong></p>\n<p><em>- Found nothing.</em></p>\n<p><strong>5. Tried someone's solution which says: &quot;start-class doesn't work for me, I fixed it by adding build plugins to pom.xml, and executions is necessary.&quot;</strong></p>\n<blockquote>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt; \n&lt;/build&gt;\n</code></pre>\n</blockquote>\n<p><em>- Did nothing either...</em></p>\n<p><strong>6. Did this one too, nothing happened :</strong></p>\n<blockquote>\n<pre><code> &lt;build&gt; &lt;pluginManagement&gt; &lt;plugins&gt;\n     &lt;plugin&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n     &lt;/plugin&gt; &lt;/plugins&gt;&lt;/pluginManagement&gt; \n &lt;/build&gt;\n</code></pre>\n</blockquote>\n<p><strong>7. Adding the following section in pom didn't help as well...</strong></p>\n<blockquote>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n            &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n</blockquote>\n<p><em><strong>My POM.XML :</strong></em></p>\n<blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.6.11&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.javacourse&lt;/groupId&gt;\n  &lt;artifactId&gt;springBootDemo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;springBootDemo&lt;/name&gt;\n  &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n  &lt;properties&gt;\n      &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                  &lt;executable&gt;true&lt;/executable&gt;\n              &lt;/configuration&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;repackage&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n</blockquote>\n<p><em><strong>My SpringBootDemoApplication.class :</strong></em></p>\n<pre><code>package com.javacourse.springBootDemo;\n\nimport org.springframework.boot.SpringApplication; \nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication \npublic class SpringBootDemoApplication {\n\n    public static void main(String[] args) {         \n    SpringApplication.run(SpringBootDemoApplication.class, args);   \n\n    }\n\n}\n</code></pre>\n<p><em><strong>My Package Explorer ScreenShot :</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/ed3WY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ed3WY.png\" alt=\"Package Explorer\" /></a></p>\n<p><em><strong>My Maven and Java Versions :</strong></em></p>\n<blockquote>\n<pre><code>Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\nMaven home: C:\\apache-maven-3.8.5\nJava version: 11.0.16, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.16\n</code></pre>\n</blockquote>\n<p>Thank you all in advance, hope we can solve this vexed issue.</p>\n"},{"tags":["java","automation","cron","scheduled-tasks","integration-testing"],"owner":{"account_id":18189008,"reputation":76,"user_id":13235169,"display_name":"Samia Saleem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1661267772,"creation_date":1610283807,"question_id":65653582,"body_markdown":"I am building cron-jobs using **Quartz Framework** in my application. I am looking for any automation framework for the **integration tests** to test cron jobs.\r\n\r\nWhat I want to achieve is to write a test, giving cron expression as an input and expect my test to trigger the job and assert the action. \r\n\r\nI have looked for multiple options but couldn&#39;t find any solution.\r\n\r\nWhat exactly I want to verify through integration test is:\r\n- if the cronjob is configured correctly\r\n- Test for the execution of the cronjob by calling the execute method directly from the test.\r\n- Test to verify the cron format\r\n- Break the flow of cron job\r\n- Run multiple cron job in parallel in a test","title":"How to write integration tests to check if the cron job runs at the right time and does the right job?","body":"<p>I am building cron-jobs using <strong>Quartz Framework</strong> in my application. I am looking for any automation framework for the <strong>integration tests</strong> to test cron jobs.</p>\n<p>What I want to achieve is to write a test, giving cron expression as an input and expect my test to trigger the job and assert the action.</p>\n<p>I have looked for multiple options but couldn't find any solution.</p>\n<p>What exactly I want to verify through integration test is:</p>\n<ul>\n<li>if the cronjob is configured correctly</li>\n<li>Test for the execution of the cronjob by calling the execute method directly from the test.</li>\n<li>Test to verify the cron format</li>\n<li>Break the flow of cron job</li>\n<li>Run multiple cron job in parallel in a test</li>\n</ul>\n"},{"tags":["java","oop","design-patterns","optimization","refactoring"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1484295744,"post_id":41630115,"comment_id":70460308,"body_markdown":"*I don&#39;t think creating separate class for each small logic is good idea*: that contradicts your willingness to obey to the single responsibility principle. Your question, without code, is much too vague. What I can say is that 1600 lines of code, and only 20 methods, means that each method, on average, is 80 lines long. That&#39;s huge.","body":"<i>I don&#39;t think creating separate class for each small logic is good idea</i>: that contradicts your willingness to obey to the single responsibility principle. Your question, without code, is much too vague. What I can say is that 1600 lines of code, and only 20 methods, means that each method, on average, is 80 lines long. That&#39;s huge."},{"owner":{"account_id":6899523,"reputation":551,"user_id":5299584,"accept_rate":40,"display_name":"mustafa1993"},"score":0,"creation_date":1484300859,"post_id":41630115,"comment_id":70463127,"body_markdown":"actually 2-3 methods are very long because of many writer.append() and that&#39;s fine. But yeah may be I should re-consider what I consider as responsibility in my program. Thanks for the input.","body":"actually 2-3 methods are very long because of many writer.append() and that&#39;s fine. But yeah may be I should re-consider what I consider as responsibility in my program. Thanks for the input."}],"answers":[{"tags":[],"owner":{"account_id":977224,"reputation":7453,"user_id":997958,"display_name":"Kraylog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484296888,"creation_date":1484296888,"answer_id":41630462,"question_id":41630115,"body_markdown":"Perhaps you should consider whether your initial premise is correct. The single responsibility principle states that a class should only have one reason to change.\r\n\r\nIn the case of the class you&#39;re describing, there are multiple responsibilities: querying a data source, filtering, string manipulation (presentation?), text file generation.\r\n\r\nEach of these should be separated into its own class. This decouples the concerns and provides smaller more manageable code.","title":"How to refactor a large class with many methods that have single responsibility?","body":"<p>Perhaps you should consider whether your initial premise is correct. The single responsibility principle states that a class should only have one reason to change.</p>\n\n<p>In the case of the class you're describing, there are multiple responsibilities: querying a data source, filtering, string manipulation (presentation?), text file generation.</p>\n\n<p>Each of these should be separated into its own class. This decouples the concerns and provides smaller more manageable code.</p>\n"},{"tags":[],"owner":{"account_id":7602785,"reputation":7564,"user_id":5766732,"display_name":"Robert Br&#228;utigam"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1484313958,"creation_date":1484313958,"answer_id":41635684,"question_id":41630115,"body_markdown":"The best thing you can do is forget what the code *does*, and think about what it *is*.\r\n\r\nFrom the description you gave, you are &quot;still&quot; thinking about what your code is supposed to do. It queries a data source, checks dates, appends strings, filters, etc. This is not wrong for a functional or procedural approach, but not ideal for object-oriented code.\r\n\r\nTry a little bit to forget what it supposed to do, and think about what &quot;things&quot; it is about. Are those things Accounts, Users, Machines, VirtualServers, etc.  What is that huge text file? Is it a UsageReport, a BalanceSheet, etc.\r\n\r\nOnce you got the &quot;things&quot;, you can start thinking about what &quot;responsibilities&quot; you need to assign each of them. Again, &quot;querying the database&quot; is *not* a responsibility. You have to do something with the data you get, for example generating a UsageReport, *that* is a responsibility.\r\n\r\nThat is OO in a nutshell. A few more pointers: Try to avoid utilities, try to avoid getters, try to avoid setters even more. Try to avoid Services, Processor, Handler, Renderer and similar classes. Those are not &quot;things&quot;, but usually procedures in disguise.","title":"How to refactor a large class with many methods that have single responsibility?","body":"<p>The best thing you can do is forget what the code <em>does</em>, and think about what it <em>is</em>.</p>\n\n<p>From the description you gave, you are \"still\" thinking about what your code is supposed to do. It queries a data source, checks dates, appends strings, filters, etc. This is not wrong for a functional or procedural approach, but not ideal for object-oriented code.</p>\n\n<p>Try a little bit to forget what it supposed to do, and think about what \"things\" it is about. Are those things Accounts, Users, Machines, VirtualServers, etc.  What is that huge text file? Is it a UsageReport, a BalanceSheet, etc.</p>\n\n<p>Once you got the \"things\", you can start thinking about what \"responsibilities\" you need to assign each of them. Again, \"querying the database\" is <em>not</em> a responsibility. You have to do something with the data you get, for example generating a UsageReport, <em>that</em> is a responsibility.</p>\n\n<p>That is OO in a nutshell. A few more pointers: Try to avoid utilities, try to avoid getters, try to avoid setters even more. Try to avoid Services, Processor, Handler, Renderer and similar classes. Those are not \"things\", but usually procedures in disguise.</p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661267749,"creation_date":1484713092,"answer_id":41711272,"question_id":41630115,"body_markdown":"**[SRP (Single Responsibility Principle)][1]** suggests that we should have only one reason to change a class. i.e. a class should have only one single responsibility. So one class should do only one thing. So in an ideal object oriented environment, we would have classes for each of our work.\r\n\r\nEx:\r\n\r\nAssume you are building a Calculator app with basic math support. Assume you have to implement **Summing two numbers** feature. In ideal way, you would have to do something like this.\r\n\r\n    public interface NumberMath{\r\n        public float value();\r\n    }\r\n\r\n    public class Sum implements NumberMath{\r\n        private float num1;\r\n        private float num2;\r\n\r\n        public Sum(float num1, float num2){\r\n            this.num1 = num1;\r\n            this.num2 = num2;\r\n        }\r\n\r\n        @Overrride\r\n        public float value(){\r\n            return num1 + num2;\r\n        }\r\n    }\r\n\r\nI think you already found that it will make our code much verbose. So practically no one will follow object orientation (or ***SRP***) in ideal way. Instead most of us would prefer one class containing methods for sum, subtract, division, multiplication etc. It makes our code less verbose.\r\n\r\nBut in your case ***1600 lines of code with 20 methods for 1 class can&#39;t be good***. \r\n\r\nThe best ways you can decompose your huge single class into multiple simple classes\r\n\r\n- Identify independent methods.\r\n- Combine similar small methods(behaviors) into a single class with a proper scope for that class, and a name that would properly define that scope.\r\n- Try to completely avoid code duplication by adhering into method reuse instead.\r\n\r\nAgain it is somewhat difficult to provide a very specific answer for your problem since details are limited. Anyway hope this helps. :)\r\n\r\n\r\n  [1]: http://www.oodesign.com/single-responsibility-principle.html","title":"How to refactor a large class with many methods that have single responsibility?","body":"<p><strong><a href=\"http://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">SRP (Single Responsibility Principle)</a></strong> suggests that we should have only one reason to change a class. i.e. a class should have only one single responsibility. So one class should do only one thing. So in an ideal object oriented environment, we would have classes for each of our work.</p>\n<p>Ex:</p>\n<p>Assume you are building a Calculator app with basic math support. Assume you have to implement <strong>Summing two numbers</strong> feature. In ideal way, you would have to do something like this.</p>\n<pre><code>public interface NumberMath{\n    public float value();\n}\n\npublic class Sum implements NumberMath{\n    private float num1;\n    private float num2;\n\n    public Sum(float num1, float num2){\n        this.num1 = num1;\n        this.num2 = num2;\n    }\n\n    @Overrride\n    public float value(){\n        return num1 + num2;\n    }\n}\n</code></pre>\n<p>I think you already found that it will make our code much verbose. So practically no one will follow object orientation (or <em><strong>SRP</strong></em>) in ideal way. Instead most of us would prefer one class containing methods for sum, subtract, division, multiplication etc. It makes our code less verbose.</p>\n<p>But in your case <em><strong>1600 lines of code with 20 methods for 1 class can't be good</strong></em>.</p>\n<p>The best ways you can decompose your huge single class into multiple simple classes</p>\n<ul>\n<li>Identify independent methods.</li>\n<li>Combine similar small methods(behaviors) into a single class with a proper scope for that class, and a name that would properly define that scope.</li>\n<li>Try to completely avoid code duplication by adhering into method reuse instead.</li>\n</ul>\n<p>Again it is somewhat difficult to provide a very specific answer for your problem since details are limited. Anyway hope this helps. :)</p>\n"}],"owner":{"account_id":6899523,"reputation":551,"user_id":5299584,"accept_rate":40,"display_name":"mustafa1993"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6509,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1661267749,"creation_date":1484295515,"question_id":41630115,"body_markdown":"Searching for design patterns and better code optimization mostly pops up articles on inheritance and relationships between classes and tools on how to create class diagrams. I would like a little insight on how to, say split, a big class. Am working on a java program with a class that has crossed 1600 lines of code and about 20 methods. What it does is query for data from a data source and generate huge text file.   \r\n\r\nNow there are lots of data modification logic(for each logic I have created small methods) that goes on to queried data like:\r\n  \r\n-check data dates of users and perform changes  \r\n-append strings  \r\n-logic to check if a record needs to be ignored   \r\n\r\nand storing filtered data in Collection and generating text file. I don&#39;t think creating separate class for each small logic is good idea. Perhaps I can create separate *utility* class and stuff static methods into it? I can&#39;t post code for confidentiality issues. If someone can shed a little light to get me thinking in right direction that would be great. Thanks.\r\n","title":"How to refactor a large class with many methods that have single responsibility?","body":"<p>Searching for design patterns and better code optimization mostly pops up articles on inheritance and relationships between classes and tools on how to create class diagrams. I would like a little insight on how to, say split, a big class. Am working on a java program with a class that has crossed 1600 lines of code and about 20 methods. What it does is query for data from a data source and generate huge text file.   </p>\n\n<p>Now there are lots of data modification logic(for each logic I have created small methods) that goes on to queried data like:</p>\n\n<p>-check data dates of users and perform changes<br>\n-append strings<br>\n-logic to check if a record needs to be ignored   </p>\n\n<p>and storing filtered data in Collection and generating text file. I don't think creating separate class for each small logic is good idea. Perhaps I can create separate <em>utility</em> class and stuff static methods into it? I can't post code for confidentiality issues. If someone can shed a little light to get me thinking in right direction that would be great. Thanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25916347,"reputation":1,"user_id":19639690,"display_name":"Jeffin Pulsator"},"score":0,"creation_date":1661238203,"post_id":73454094,"comment_id":129722717,"body_markdown":"I think you should use recyclerview instead of listview .That is the best practice for the purpose like you mentioned","body":"I think you should use recyclerview instead of listview .That is the best practice for the purpose like you mentioned"},{"owner":{"account_id":22993187,"reputation":21,"user_id":17118373,"display_name":"zaid shaheen"},"score":0,"creation_date":1661241932,"post_id":73454094,"comment_id":129718414,"body_markdown":"I added two layouts above look","body":"I added two layouts above look"},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1661242458,"post_id":73454094,"comment_id":129718584,"body_markdown":"@zaidshaheen in your adapter class add onClickListener for button and, decrement the number on every click until the number is not 0 and update the adapter","body":"@zaidshaheen in your adapter class add onClickListener for button and, decrement the number on every click until the number is not 0 and update the adapter"},{"owner":{"account_id":22993187,"reputation":21,"user_id":17118373,"display_name":"zaid shaheen"},"score":0,"creation_date":1661243866,"post_id":73454094,"comment_id":129719069,"body_markdown":"@Dreamer, I want to add a button under the number TextView in listView.xml, and this button decreases the number TextView,  I know how to add a button but I don&#39;t know how to make it decrease the number, just.","body":"@Dreamer, I want to add a button under the number TextView in listView.xml, and this button decreases the number TextView,  I know how to add a button but I don&#39;t know how to make it decrease the number, just."}],"answers":[{"tags":[],"owner":{"account_id":25647583,"reputation":122,"user_id":19415431,"display_name":"Divyansh Gemini"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661267232,"creation_date":1661243427,"answer_id":73455455,"question_id":73454094,"body_markdown":"First of all, to change the value of `repetition` of the word, you have to create a setter for `repetition` in the `Word` class as below:\r\n\r\n```java\r\npublic class Word {\r\n    .....\r\n    ..... // your code including constructor &amp; getters\r\n    .....\r\n    \r\n    public void setRepetition(int repetition) \r\n    {\r\n        this.repetition = repetition;\r\n    }\r\n}\r\n```\r\n\r\nNow, to change the value of `repetition` on the button&#39;s click, apply `onClickListener` on the button in `WordAdapter.java` as below:\r\n\r\n```java\r\npublic class WordAdapter extends ArrayAdapter&lt;Word&gt; {\r\n    .....\r\n    ..... // your code\r\n    .....\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        .....\r\n        ..... // your code\r\n        .....\r\n\r\n        listItemView.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int current_repetition = currentWord.getRepetition();\r\n                if (current_repetition &gt; 0)\r\n                    currentWord.setRepetition(current_repetition - 1)\r\n                listItemView.textView.setText(currentWord.getRepetition())\r\n            }\r\n        });\r\n\r\n        return listItemView;\r\n    }\r\n}\r\n```\r\n\r\nTry this and tell whether it works or not.","title":"How i can add decrease button to my ListView to decrease numbers?","body":"<p>First of all, to change the value of <code>repetition</code> of the word, you have to create a setter for <code>repetition</code> in the <code>Word</code> class as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Word {\n    .....\n    ..... // your code including constructor &amp; getters\n    .....\n    \n    public void setRepetition(int repetition) \n    {\n        this.repetition = repetition;\n    }\n}\n</code></pre>\n<p>Now, to change the value of <code>repetition</code> on the button's click, apply <code>onClickListener</code> on the button in <code>WordAdapter.java</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WordAdapter extends ArrayAdapter&lt;Word&gt; {\n    .....\n    ..... // your code\n    .....\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        .....\n        ..... // your code\n        .....\n\n        listItemView.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int current_repetition = currentWord.getRepetition();\n                if (current_repetition &gt; 0)\n                    currentWord.setRepetition(current_repetition - 1)\n                listItemView.textView.setText(currentWord.getRepetition())\n            }\n        });\n\n        return listItemView;\n    }\n}\n</code></pre>\n<p>Try this and tell whether it works or not.</p>\n"},{"tags":[],"owner":{"account_id":26050471,"reputation":24,"user_id":19753785,"display_name":"Eng Fares"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661263085,"creation_date":1661263085,"answer_id":73460097,"question_id":73454094,"body_markdown":"I didn&#39;t clearly understand what you want, but as far as I understand you want when you press the `button` it will subtract the number in the repetitions by one. Well we will add a button variable in the `wordAdaptor` activity, we know it, and then we will do the `setOnclickListener` event, then we start the rest of the process, this code after modification and I added a `condition` that if the number reaches zero its stop\r\n\r\npublic class WordAdapter extends ArrayAdapter&lt;Word&gt; {\r\n\r\n    public WordAdapter(Activity context, ArrayList&lt;Word&gt; words) {\r\n        super(context, 0, words);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View listItemView = convertView;\r\n        if (listItemView == null) {\r\n            listItemView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\r\n        }\r\n\r\n        Word currentWord = getItem(position);\r\n\r\n        TextView nameTextView = listItemView.findViewById(R.id.name_text);\r\n        nameTextView.setText(currentWord.getName());\r\n\r\n        TextView extraTextView = listItemView.findViewById(R.id.extra_text);\r\n        extraTextView.setText(currentWord.getExtraText());\r\n\r\n        TextView repetitions = listItemView.findViewById(R.id.number_of_repetitions);\r\n        String formattedRepetition = formatRepetition(currentWord.getRepetition());\r\n        repetitions.setText(formattedRepetition);\r\n\r\n        Button bRepetitions = listItemView.findViewById(R.id.button_repetitions);\r\n\r\n        bRepetitions.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int nRepetitions;\r\n                String mRepetitions = repetitions.getText().toString();\r\n                nRepetitions = Integer.parseInt(mRepetitions);\r\n                nRepetitions -= 1;\r\n                if (nRepetitions &lt; 0) {\r\n                    nRepetitions = 0;\r\n                    Toast.makeText(getContext(), &quot;Can not be less than 0&quot;, Toast.LENGTH_SHORT).show();}\r\n                repetitions.setText(String.valueOf(nRepetitions));\r\n            }\r\n        });\r\n        return listItemView;\r\n    }\r\n\r\n    private String formatRepetition(int repetition) {\r\n        DecimalFormat repetitionFormat = new DecimalFormat(&quot;0&quot;);\r\n        return repetitionFormat.format(repetition);\r\n    }\r\n}","title":"How i can add decrease button to my ListView to decrease numbers?","body":"<p>I didn't clearly understand what you want, but as far as I understand you want when you press the <code>button</code> it will subtract the number in the repetitions by one. Well we will add a button variable in the <code>wordAdaptor</code> activity, we know it, and then we will do the <code>setOnclickListener</code> event, then we start the rest of the process, this code after modification and I added a <code>condition</code> that if the number reaches zero its stop</p>\n<p>public class WordAdapter extends ArrayAdapter {</p>\n<pre><code>public WordAdapter(Activity context, ArrayList&lt;Word&gt; words) {\n    super(context, 0, words);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View listItemView = convertView;\n    if (listItemView == null) {\n        listItemView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\n    }\n\n    Word currentWord = getItem(position);\n\n    TextView nameTextView = listItemView.findViewById(R.id.name_text);\n    nameTextView.setText(currentWord.getName());\n\n    TextView extraTextView = listItemView.findViewById(R.id.extra_text);\n    extraTextView.setText(currentWord.getExtraText());\n\n    TextView repetitions = listItemView.findViewById(R.id.number_of_repetitions);\n    String formattedRepetition = formatRepetition(currentWord.getRepetition());\n    repetitions.setText(formattedRepetition);\n\n    Button bRepetitions = listItemView.findViewById(R.id.button_repetitions);\n\n    bRepetitions.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int nRepetitions;\n            String mRepetitions = repetitions.getText().toString();\n            nRepetitions = Integer.parseInt(mRepetitions);\n            nRepetitions -= 1;\n            if (nRepetitions &lt; 0) {\n                nRepetitions = 0;\n                Toast.makeText(getContext(), &quot;Can not be less than 0&quot;, Toast.LENGTH_SHORT).show();}\n            repetitions.setText(String.valueOf(nRepetitions));\n        }\n    });\n    return listItemView;\n}\n\nprivate String formatRepetition(int repetition) {\n    DecimalFormat repetitionFormat = new DecimalFormat(&quot;0&quot;);\n    return repetitionFormat.format(repetition);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22993187,"reputation":21,"user_id":17118373,"display_name":"zaid shaheen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":73460097,"answer_count":2,"score":-1,"last_activity_date":1661267232,"creation_date":1661236297,"question_id":73454094,"body_markdown":"I want to add a button to decrease the numbers in the list view, and I don&#39;t want the number to go down from zero.\r\n\r\nNightActivity: \r\n```\r\npublic class NightActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_night);\r\n\r\n        final ArrayList&lt;Word&gt; words = new ArrayList&lt;&gt;();\r\n        words.add(new Word(&quot;Thing&quot;, &quot;another Thing&quot;, 1)); // &lt;--- This number I want to decrease it.\r\n        words.add(new Word(&quot;ThingOne&quot;,&quot;another ThingOne&quot;, 3)); // &lt;--- This number I want to decrease it.\r\n        words.add(new Word(&quot;ThingTwo&quot;, &quot;another ThingTwo&quot;, 3)); // &lt;--- This number I want to decrease it.\r\n        words.add(new Word(&quot;ThingThree&quot;, &quot;another ThingThree&quot;, 3)); // &lt;--- This number I want to decrease it.\r\n        words.add(new Word(&quot;ThingFour&quot;, &quot;another ThingFour&quot;, 1)); // &lt;--- This number I want to decrease it.\r\n\r\n        WordAdapter adapter = new WordAdapter(this, words);\r\n\r\n        ListView listView = findViewById(R.id.list);\r\n        listView.setAdapter(adapter);\r\n\r\n    }\r\n} \r\n```\r\n\r\nWord:\r\n```\r\npublic class Word {\r\n\r\n    private final String name;\r\n    private final String extraText;\r\n    private final int repetition;\r\n\r\n    public Word(String name, String extraText, int repetition) {\r\n        this.name = name;\r\n        this.extraText = extraText;\r\n        this.repetition = repetition;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getExtraText() {\r\n        return extraText;\r\n    }\r\n\r\n    public int getRepetition() {\r\n        return repetition;\r\n    }\r\n}\r\n```\r\n\r\nWordAdapter:\r\n```\r\npublic class WordAdapter extends ArrayAdapter&lt;Word&gt; {\r\n\r\n    public WordAdapter(Activity context, ArrayList&lt;Word&gt; words) {\r\n        super(context, 0, words);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View listItemView = convertView;\r\n        if (listItemView == null) {\r\n            listItemView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\r\n        }\r\n\r\n        Word currentWord = getItem(position);\r\n\r\n        TextView nameTextView = listItemView.findViewById(R.id.name_text);\r\n        nameTextView.setText(currentWord.getname());\r\n\r\n        TextView extraTextView = listItemView.findViewById(R.id.extra_text);\r\n        extraTextView.setText(currentWord.getExtraText());\r\n\r\n        TextView repetitions = listItemView.findViewById(R.id.number_of_repetitions);\r\n        String formattedRepetition = formatRepetition(currentWord.getRepetition());\r\n        repetitions.setText(formattedRepetition);\r\n\r\n        return listItemView;\r\n    }\r\n\r\n    private String formatRepetition(int repetition) {\r\n        DecimalFormat repetitionFormat = new DecimalFormat(&quot;0&quot;);\r\n        return repetitionFormat.format(repetition);\r\n    }\r\n}\r\n```\r\nlist_item.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/corner&quot;\r\n        android:padding=&quot;10dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/name_text&quot;\r\n            style=&quot;@style/nameText&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center_horizontal&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_below=&quot;@id/extra_text&quot;\r\n            android:gravity=&quot;center&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/number_of_repetitions&quot;\r\n                style=&quot;@style/repetition&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:text=&quot;2&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/button_repetitions&quot;\r\n                android:layout_width=&quot;90dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:text=&quot;button&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;13dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/morning&quot;\r\n            style=&quot;@style/night&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;2&quot;\r\n            android:background=&quot;@drawable/night_corner&quot;\r\n            android:text=&quot;@string/category_night&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/divider&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;13dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/evening&quot;\r\n            style=&quot;@style/day&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;2&quot;\r\n            android:background=&quot;@drawable/day_corner&quot;\r\n            android:text=&quot;@string/category_day&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nI added a button, but I don&#39;t know how to activate it, and I don&#39;t know where I will put `onClickListener`, I am a beginner so please help me and thank you for reading my code.\r\n\r\n\r\n","title":"How i can add decrease button to my ListView to decrease numbers?","body":"<p>I want to add a button to decrease the numbers in the list view, and I don't want the number to go down from zero.</p>\n<p>NightActivity:</p>\n<pre><code>public class NightActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_night);\n\n        final ArrayList&lt;Word&gt; words = new ArrayList&lt;&gt;();\n        words.add(new Word(&quot;Thing&quot;, &quot;another Thing&quot;, 1)); // &lt;--- This number I want to decrease it.\n        words.add(new Word(&quot;ThingOne&quot;,&quot;another ThingOne&quot;, 3)); // &lt;--- This number I want to decrease it.\n        words.add(new Word(&quot;ThingTwo&quot;, &quot;another ThingTwo&quot;, 3)); // &lt;--- This number I want to decrease it.\n        words.add(new Word(&quot;ThingThree&quot;, &quot;another ThingThree&quot;, 3)); // &lt;--- This number I want to decrease it.\n        words.add(new Word(&quot;ThingFour&quot;, &quot;another ThingFour&quot;, 1)); // &lt;--- This number I want to decrease it.\n\n        WordAdapter adapter = new WordAdapter(this, words);\n\n        ListView listView = findViewById(R.id.list);\n        listView.setAdapter(adapter);\n\n    }\n} \n</code></pre>\n<p>Word:</p>\n<pre><code>public class Word {\n\n    private final String name;\n    private final String extraText;\n    private final int repetition;\n\n    public Word(String name, String extraText, int repetition) {\n        this.name = name;\n        this.extraText = extraText;\n        this.repetition = repetition;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getExtraText() {\n        return extraText;\n    }\n\n    public int getRepetition() {\n        return repetition;\n    }\n}\n</code></pre>\n<p>WordAdapter:</p>\n<pre><code>public class WordAdapter extends ArrayAdapter&lt;Word&gt; {\n\n    public WordAdapter(Activity context, ArrayList&lt;Word&gt; words) {\n        super(context, 0, words);\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View listItemView = convertView;\n        if (listItemView == null) {\n            listItemView = LayoutInflater.from(getContext()).inflate(R.layout.list_item, parent, false);\n        }\n\n        Word currentWord = getItem(position);\n\n        TextView nameTextView = listItemView.findViewById(R.id.name_text);\n        nameTextView.setText(currentWord.getname());\n\n        TextView extraTextView = listItemView.findViewById(R.id.extra_text);\n        extraTextView.setText(currentWord.getExtraText());\n\n        TextView repetitions = listItemView.findViewById(R.id.number_of_repetitions);\n        String formattedRepetition = formatRepetition(currentWord.getRepetition());\n        repetitions.setText(formattedRepetition);\n\n        return listItemView;\n    }\n\n    private String formatRepetition(int repetition) {\n        DecimalFormat repetitionFormat = new DecimalFormat(&quot;0&quot;);\n        return repetitionFormat.format(repetition);\n    }\n}\n</code></pre>\n<p>list_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@drawable/corner&quot;\n        android:padding=&quot;10dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/name_text&quot;\n            style=&quot;@style/nameText&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center_horizontal&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:layout_below=&quot;@id/extra_text&quot;\n            android:gravity=&quot;center&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/number_of_repetitions&quot;\n                style=&quot;@style/repetition&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                tools:text=&quot;2&quot;\n                android:textStyle=&quot;bold&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/button_repetitions&quot;\n                android:layout_width=&quot;90dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:text=&quot;button&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:padding=&quot;13dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/morning&quot;\n            style=&quot;@style/night&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;2&quot;\n            android:background=&quot;@drawable/night_corner&quot;\n            android:text=&quot;@string/category_night&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/divider&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;13dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/evening&quot;\n            style=&quot;@style/day&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;2&quot;\n            android:background=&quot;@drawable/day_corner&quot;\n            android:text=&quot;@string/category_day&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>I added a button, but I don't know how to activate it, and I don't know where I will put <code>onClickListener</code>, I am a beginner so please help me and thank you for reading my code.</p>\n"},{"tags":["java","json","jackson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661255764,"post_id":73458174,"comment_id":129723529,"body_markdown":"Are you looking for the [`@JsonAlias`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html) annotation that allows you to define additional property names? Or if the structures are different you might use intermediate classes and do the mapping yourself, or use a custom deserializer.","body":"Are you looking for the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html\" rel=\"nofollow noreferrer\"><code>@JsonAlias</code></a> annotation that allows you to define additional property names? Or if the structures are different you might use intermediate classes and do the mapping yourself, or use a custom deserializer."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661255787,"post_id":73458174,"comment_id":129723540,"body_markdown":"Aren&#39;t these two different POJOs that maybe extend the same base class (that aggregates all the common fields and also that declares the abstract method which builds your UserReference out of that specific instance)?","body":"Aren&#39;t these two different POJOs that maybe extend the same base class (that aggregates all the common fields and also that declares the abstract method which builds your UserReference out of that specific instance)?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"score":0,"creation_date":1661263793,"post_id":73458174,"comment_id":129727248,"body_markdown":"I have updated the question - removed the simple case, not to confuse.","body":"I have updated the question - removed the simple case, not to confuse."}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661267150,"creation_date":1661255310,"question_id":73458174,"body_markdown":"I have documents in MongoDB which refer to other documents:\r\n\r\n    { &quot;_id&quot;: ..., &quot;clientId&quot;: &quot;foo123&quot;, &quot;clientKind&quot;: &quot;User&quot;, &quot;otherProps&quot;: ... }\r\n\r\nI need to turn these `client...` references into an object like (for your imagination):\r\n\r\n    new UserReference(id = &quot;foo123&quot;)\r\n\r\nor maybe\r\n\r\n    new Reference&lt;User&gt;(id = &quot;foo123&quot;)\r\n\r\nI.e. the `...Kind` is translated into a type (`User`), and the `...Id` simply into `id`.\r\n\r\nHow can I handle the 2 properties blended into the others?  \r\n\r\nI need to turn the 2 of the JSON fields into 1 reference property in Java (Kotlin).  \r\nThey could be private and there could be a custom getter, but I would prefer Jackson to handle this for me.","title":"Jackson: How to deserialize 2 JSON fields into one combined property?","body":"<p>I have documents in MongoDB which refer to other documents:</p>\n<pre><code>{ &quot;_id&quot;: ..., &quot;clientId&quot;: &quot;foo123&quot;, &quot;clientKind&quot;: &quot;User&quot;, &quot;otherProps&quot;: ... }\n</code></pre>\n<p>I need to turn these <code>client...</code> references into an object like (for your imagination):</p>\n<pre><code>new UserReference(id = &quot;foo123&quot;)\n</code></pre>\n<p>or maybe</p>\n<pre><code>new Reference&lt;User&gt;(id = &quot;foo123&quot;)\n</code></pre>\n<p>I.e. the <code>...Kind</code> is translated into a type (<code>User</code>), and the <code>...Id</code> simply into <code>id</code>.</p>\n<p>How can I handle the 2 properties blended into the others?</p>\n<p>I need to turn the 2 of the JSON fields into 1 reference property in Java (Kotlin).<br />\nThey could be private and there could be a custom getter, but I would prefer Jackson to handle this for me.</p>\n"},{"tags":["java","url","exception","view-source","malformedurlexception"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1661253056,"post_id":73457112,"comment_id":129722461,"body_markdown":"If the `MalformedUrlException` contained an error message please add it as it is to your question. Have you tried using `new java.net.URI(_urlString)`? This could circumvent your problem with the malformed url.","body":"If the <code>MalformedUrlException</code> contained an error message please add it as it is to your question. Have you tried using <code>new java.net.URI(_urlString)</code>? This could circumvent your problem with the malformed url."},{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":0,"creation_date":1661259361,"post_id":73457112,"comment_id":129725093,"body_markdown":"Similar to https://stackoverflow.com/q/51733916/407651","body":"Similar to <a href=\"https://stackoverflow.com/q/51733916/407651\">stackoverflow.com/q/51733916/407651</a>"},{"owner":{"account_id":26138072,"reputation":21,"user_id":19827833,"display_name":"TheStudent"},"score":0,"creation_date":1661267031,"post_id":73457112,"comment_id":129728733,"body_markdown":"The exact error is &quot;java.net.MalformedURLException: unknown protocol: view-source&quot;","body":"The exact error is &quot;java.net.MalformedURLException: unknown protocol: view-source&quot;"},{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":0,"creation_date":1661267118,"post_id":73457112,"comment_id":129728772,"body_markdown":"Yes, and that is the same error as in the linked question.","body":"Yes, and that is the same error as in the linked question."}],"owner":{"account_id":26138072,"reputation":21,"user_id":19827833,"display_name":"TheStudent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661267102,"creation_date":1661250665,"question_id":73457112,"body_markdown":"I programmed a simple button that allows the user to open a desired website. \r\n\r\n    Desktop.getDesktop().browse(new URL(_urlString).toURI());\r\n\r\nI want another button that allows the user to open the websites sourcecode directly. I tried the following:\r\n\r\n    Desktop.getDesktop().browse(new URL(&quot;view-source:&quot; + _urlString).toURI());\r\n\r\nBut I received an &quot;java.net.MalformedURLException: unknown protocol: view-source&quot; exception (I suppose because it doesn&#39;t start with `http` or `https`). \r\nDoes anyone know, how to do this in Java?","title":"How to open the ViewSource of an URL directly in Java?","body":"<p>I programmed a simple button that allows the user to open a desired website.</p>\n<pre><code>Desktop.getDesktop().browse(new URL(_urlString).toURI());\n</code></pre>\n<p>I want another button that allows the user to open the websites sourcecode directly. I tried the following:</p>\n<pre><code>Desktop.getDesktop().browse(new URL(&quot;view-source:&quot; + _urlString).toURI());\n</code></pre>\n<p>But I received an &quot;java.net.MalformedURLException: unknown protocol: view-source&quot; exception (I suppose because it doesn't start with <code>http</code> or <code>https</code>).\nDoes anyone know, how to do this in Java?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3440637,"reputation":5641,"user_id":2882688,"accept_rate":29,"display_name":"firegloves"},"score":0,"creation_date":1485281268,"post_id":41835909,"comment_id":70857330,"body_markdown":"maybe your friend have more than one class with main method so he must select which one to run?","body":"maybe your friend have more than one class with main method so he must select which one to run?"},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1485281335,"post_id":41835909,"comment_id":70857366,"body_markdown":"Can you highlight the differences between your settings and your friend settings?","body":"Can you highlight the differences between your settings and your friend settings?"},{"owner":{"account_id":5579797,"reputation":1747,"user_id":4422065,"accept_rate":61,"display_name":"Script Kitty"},"score":0,"creation_date":1485281538,"post_id":41835909,"comment_id":70857469,"body_markdown":"@firegloves Well we both have 1 module and multiple classes all with the main method. For mine, if I run from my class two.java then it runs two&#39;s main, but if I run three.java it runs three&#39;s main. If friend Nihar runs two.java after making the configuration and decides to run three.java, he has to go to edit configurations and change the main class method.","body":"@firegloves Well we both have 1 module and multiple classes all with the main method. For mine, if I run from my class two.java then it runs two&#39;s main, but if I run three.java it runs three&#39;s main. If friend Nihar runs two.java after making the configuration and decides to run three.java, he has to go to edit configurations and change the main class method."},{"owner":{"account_id":5579797,"reputation":1747,"user_id":4422065,"accept_rate":61,"display_name":"Script Kitty"},"score":0,"creation_date":1485281687,"post_id":41835909,"comment_id":70857538,"body_markdown":"We are running identical JDK versions. Both added a custom run configuration for an Application. Our project structure looks identical (project created Empty). I can&#39;t think of any differences. If someone would like me to post more info I can. Somehow a default setting of mine must have changed","body":"We are running identical JDK versions. Both added a custom run configuration for an Application. Our project structure looks identical (project created Empty). I can&#39;t think of any differences. If someone would like me to post more info I can. Somehow a default setting of mine must have changed"},{"owner":{"account_id":425880,"reputation":2819,"user_id":806762,"accept_rate":87,"display_name":"coletrain"},"score":1,"creation_date":1485282328,"post_id":41835909,"comment_id":70857909,"body_markdown":"Make sure your friend directory that contains the java code is marked as source. To do that right click on directory &gt; `Mark Directory As` &gt; `Sources Root`","body":"Make sure your friend directory that contains the java code is marked as source. To do that right click on directory &gt; <code>Mark Directory As</code> &gt; <code>Sources Root</code>"},{"owner":{"account_id":5852906,"reputation":651,"user_id":4611077,"display_name":"DonatasD"},"score":0,"creation_date":1485292949,"post_id":41835909,"comment_id":70863686,"body_markdown":"I think you posted the same image twice. You could try exporting your settings and sharing it with your friend https://www.jetbrains.com/help/idea/2016.3/exporting-and-importing-settings.html that might solve the problem for him. If that is not the case try going to File -&gt; project structure and check for differences in there.","body":"I think you posted the same image twice. You could try exporting your settings and sharing it with your friend <a href=\"https://www.jetbrains.com/help/idea/2016.3/exporting-and-importing-settings.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2016.3/&hellip;</a> that might solve the problem for him. If that is not the case try going to File -&gt; project structure and check for differences in there."},{"owner":{"account_id":5579797,"reputation":1747,"user_id":4422065,"accept_rate":61,"display_name":"Script Kitty"},"score":0,"creation_date":1485352372,"post_id":41835909,"comment_id":70890325,"body_markdown":"@Dontas You&#39;re totally right, I posted mine twice. I didn&#39;t realize because the firewall blocks images from imgur. I fixed it. As for exporting settings, I&#39;m going to try that today when I see him. Also we tried coletrain&#39;s situation and nothing noticeable happened.","body":"@Dontas You&#39;re totally right, I posted mine twice. I didn&#39;t realize because the firewall blocks images from imgur. I fixed it. As for exporting settings, I&#39;m going to try that today when I see him. Also we tried coletrain&#39;s situation and nothing noticeable happened."}],"answers":[{"tags":[],"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485283217,"creation_date":1485283217,"answer_id":41836520,"question_id":41835909,"body_markdown":"When you&#39;re in a java file that contains a `public static final void main(String[] arg)` method you can press `Ctrl+Shift+F10` to make and run a temporary run configuration for the current class. This can save a bit of time when setting up the configurations.\r\n\r\nAlternatively you can try to share the `.idea` directory with him, as it contains all of the project&#39;s settings. I&#39;m not sure what other options will be shared though.\r\n","title":"IntelliJ IDEA Java How to make Run configurations automatically select Main Class","body":"<p>When you're in a java file that contains a <code>public static final void main(String[] arg)</code> method you can press <code>Ctrl+Shift+F10</code> to make and run a temporary run configuration for the current class. This can save a bit of time when setting up the configurations.</p>\n\n<p>Alternatively you can try to share the <code>.idea</code> directory with him, as it contains all of the project's settings. I'm not sure what other options will be shared though.</p>\n"},{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485353723,"creation_date":1485352902,"answer_id":41853574,"question_id":41835909,"body_markdown":"it&#39;s easy, Your friend must do this and this setting is changed in the &quot;Default Project Structure...&quot; dialog. Navigate to &quot;File&quot; -&gt; &quot;Other Settings&quot; -&gt; &quot;Default Project Structure...&quot;.\r\n\r\n[![Select Default Project Structure][1]][1]\r\n\r\nNext, modify the &quot;Project language level&quot; setting to your desired language level.\r\n\r\n[![Setting the project language level][2]][2]\r\n\r\nIntelliJ IDEA 12 had this setting in &quot;Template Project Structure...&quot; instead of &quot;Default Project Structure...&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mc1AD.jpg\r\n  [2]: https://i.stack.imgur.com/jPjwm.jpg","title":"IntelliJ IDEA Java How to make Run configurations automatically select Main Class","body":"<p>it's easy, Your friend must do this and this setting is changed in the \"Default Project Structure...\" dialog. Navigate to \"File\" -> \"Other Settings\" -> \"Default Project Structure...\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/mc1AD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mc1AD.jpg\" alt=\"Select Default Project Structure\"></a></p>\n\n<p>Next, modify the \"Project language level\" setting to your desired language level.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jPjwm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jPjwm.jpg\" alt=\"Setting the project language level\"></a></p>\n\n<p>IntelliJ IDEA 12 had this setting in \"Template Project Structure...\" instead of \"Default Project Structure...\"</p>\n"},{"tags":[],"owner":{"account_id":24178942,"reputation":1,"user_id":18139900,"display_name":"ALVACODEZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661267052,"creation_date":1660638290,"answer_id":73370946,"question_id":41835909,"body_markdown":"Creating files in the src(source folder) where the jvm expects to find the java classes instead of creating them in the project root folder helped solve the problem for me.","title":"IntelliJ IDEA Java How to make Run configurations automatically select Main Class","body":"<p>Creating files in the src(source folder) where the jvm expects to find the java classes instead of creating them in the project root folder helped solve the problem for me.</p>\n"}],"owner":{"account_id":5579797,"reputation":1747,"user_id":4422065,"accept_rate":61,"display_name":"Script Kitty"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14027,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1661267052,"creation_date":1485281108,"question_id":41835909,"body_markdown":"My friend and I both have IntelliJ and just want to run plain old java. Every time I make a new java class, I can automatically run it. The configurations just work.\r\n\r\nWhen my friend wants to run it, he has to go to edit configurations and type in the class name. We went through the exact same setup. How do we make it automatically the main function in the class?\r\n\r\nFriend&#39;s\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMINE Macbook Pro\r\n\r\n[![Thing][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OCYa.png\r\n  [2]: https://i.stack.imgur.com/hPyO9.png\r\n  [3]: https://i.stack.imgur.com/iKbS6.png","title":"IntelliJ IDEA Java How to make Run configurations automatically select Main Class","body":"<p>My friend and I both have IntelliJ and just want to run plain old java. Every time I make a new java class, I can automatically run it. The configurations just work.</p>\n\n<p>When my friend wants to run it, he has to go to edit configurations and type in the class name. We went through the exact same setup. How do we make it automatically the main function in the class?</p>\n\n<p>Friend's</p>\n\n<p><a href=\"https://i.stack.imgur.com/1OCYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OCYa.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/hPyO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hPyO9.png\" alt=\"enter image description here\"></a></p>\n\n<p>MINE Macbook Pro</p>\n\n<p><a href=\"https://i.stack.imgur.com/iKbS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKbS6.png\" alt=\"Thing\"></a></p>\n"},{"tags":["java","spring-boot","azure-active-directory","spring-boot-starter-security","spring-boot-starter-oauth2-client"],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661267024,"creation_date":1661267024,"answer_id":73461048,"question_id":73427928,"body_markdown":"Please check:\r\n\r\nAfter getting the current user try storing in some variable User.\r\n\r\n - Please check if `getActive()` function can be used to check if user is\r\n   enabled or disabled when user is loggedin .\r\n\r\n \r\n\r\n    public int getActive() {\r\n            return active;\r\n        }\r\n\r\nSnippet from [java - Spring user account enabled/disabled - Stack Overflow][1]\r\n\r\n      boolean enabled = User.getActive(); // checking here if enabled\r\n    boolean accountNonExpired = true;  \r\n     ...\r\n\r\n    return new User(\r\n     User.getLogin(),\r\n        User.getPassword(),\r\n        enabled,\r\n        accountNonExpired, \r\n      ...\r\n    );\r\n\r\n\tTo check if user is enabled or disabled when not authenticated, please see if you can try to save the login details to the database to confirm the account and checking the above way to see the user status.\r\n\r\n&gt; But please make sure to have admin role or privilege for accessing\r\n&gt; user info.\r\n\r\nOr by using Microsoft graph api  :  [DelegateGraphApiProperties.graph-api-spring-boot-starter &#183; GitHub][2]\r\n\r\n    public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\nAnd by using `saveUser()` method to save details for later checking.\r\n\r\n\r\nReferences:\r\n1.\t[java - Spring Azure AD - Get user&#39;s ADDRESS after authentication - Stack Overflow][3]\r\n2.\t[java - Issue about spring boot rest api and javascript ajax call communication - Stack Overflow][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38955655/spring-user-account-enabled-disabled\r\n  [2]: https://github.com/morphlne/graph-api-spring-boot-starter/blob/master/src/main/java/io/pan/graphapi/starter/delegate/DelegateGraphApiProperties.java\r\n  [3]: https://stackoverflow.com/questions/52894154/spring-azure-ad-get-users-address-after-authentication\r\n  [4]: https://stackoverflow.com/questions/57410855/issue-about-spring-boot-rest-api-and-javascript-ajax-call-communication","title":"Spring Boot AzureAD see if User is enabled/disabled without the user beeing currently authenticated","body":"<p>Please check:</p>\n<p>After getting the current user try storing in some variable User.</p>\n<ul>\n<li><p>Please check if <code>getActive()</code> function can be used to check if user is\nenabled or disabled when user is loggedin .</p>\n<p>public int getActive() {\nreturn active;\n}</p>\n</li>\n</ul>\n<p>Snippet from <a href=\"https://stackoverflow.com/questions/38955655/spring-user-account-enabled-disabled\">java - Spring user account enabled/disabled - Stack Overflow</a></p>\n<pre><code>  boolean enabled = User.getActive(); // checking here if enabled\nboolean accountNonExpired = true;  \n ...\n\nreturn new User(\n User.getLogin(),\n    User.getPassword(),\n    enabled,\n    accountNonExpired, \n  ...\n);\n</code></pre>\n<p>   To check if user is enabled or disabled when not authenticated, please see if you can try to save the login details to the database to confirm the account and checking the above way to see the user status.</p>\n<blockquote>\n<p>But please make sure to have admin role or privilege for accessing\nuser info.</p>\n</blockquote>\n<p>Or by using Microsoft graph api  :  <a href=\"https://github.com/morphlne/graph-api-spring-boot-starter/blob/master/src/main/java/io/pan/graphapi/starter/delegate/DelegateGraphApiProperties.java\" rel=\"nofollow noreferrer\">DelegateGraphApiProperties.graph-api-spring-boot-starter  GitHub</a></p>\n<pre><code>public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getPassword() {\n        return password;\n    }\n</code></pre>\n<p>And by using <code>saveUser()</code> method to save details for later checking.</p>\n<p>References:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/52894154/spring-azure-ad-get-users-address-after-authentication\">java - Spring Azure AD - Get user's ADDRESS after authentication - Stack Overflow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57410855/issue-about-spring-boot-rest-api-and-javascript-ajax-call-communication\">java - Issue about spring boot rest api and javascript ajax call communication - Stack Overflow</a></li>\n</ol>\n"}],"owner":{"account_id":17258002,"reputation":3,"user_id":12496661,"display_name":"p0w3rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73461048,"answer_count":1,"score":0,"last_activity_date":1661267024,"creation_date":1661009381,"question_id":73427928,"body_markdown":"I have a Spring Boot App with AzureAD Authentication. This App generates a Username and Password for another page which can&#39;t have SSO (only htaccess). \r\nWhen I generate the Credentials for an authenticated user I want to recheck every 24 hours if the user is still enabled in the Active Directory. If the User is disabled, I will delete the generated Credentials, so they can&#39;t be used anymore by the user. \r\n\r\nMy question is: How can I check if a user by its unique Email is enabled/disabled in AAD from the backend site without the user beeing currently authenticated?\r\n\r\nWhen the user is authenticated I use this to access the information for the current user:\r\n```\r\npublic String getLdapUserEmail() {\r\n    Map&lt;String , Object&gt; userDetails = ((DefaultOidcUser)SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getAttributes();\r\n    return userDetails.get(&quot;preferred_username&quot;).toString();\r\n}\r\n```\r\nBut in this case I want to check all users I have given credentials to every 24 hours if they are still enabled in AAD, so I have to use something else than the SecurityContext Holder - but I don&#39;t know what.\r\n\r\nIn my pom I have following dependencies for the AAD and in the application.properties the tenant-id/client-id/client-secret are set up.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\r\n    &lt;version&gt;3.14.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring Boot AzureAD see if User is enabled/disabled without the user beeing currently authenticated","body":"<p>I have a Spring Boot App with AzureAD Authentication. This App generates a Username and Password for another page which can't have SSO (only htaccess).\nWhen I generate the Credentials for an authenticated user I want to recheck every 24 hours if the user is still enabled in the Active Directory. If the User is disabled, I will delete the generated Credentials, so they can't be used anymore by the user.</p>\n<p>My question is: How can I check if a user by its unique Email is enabled/disabled in AAD from the backend site without the user beeing currently authenticated?</p>\n<p>When the user is authenticated I use this to access the information for the current user:</p>\n<pre><code>public String getLdapUserEmail() {\n    Map&lt;String , Object&gt; userDetails = ((DefaultOidcUser)SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getAttributes();\n    return userDetails.get(&quot;preferred_username&quot;).toString();\n}\n</code></pre>\n<p>But in this case I want to check all users I have given credentials to every 24 hours if they are still enabled in AAD, so I have to use something else than the SecurityContext Holder - but I don't know what.</p>\n<p>In my pom I have following dependencies for the AAD and in the application.properties the tenant-id/client-id/client-secret are set up.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\n    &lt;version&gt;3.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":0,"creation_date":1336246302,"post_id":10465253,"comment_id":13517081,"body_markdown":"Do you need .equals with getClass?  Get class returns a non-String object I believe. +1 interesting question.","body":"Do you need .equals with getClass?  Get class returns a non-String object I believe. +1 interesting question."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1587137087,"post_id":10465253,"comment_id":108399248,"body_markdown":"If you use a good OOP structure, you should be able to deal with this through inheritance and composition. Unless you&#39;re writing meta-code (code that deals with Java itself) I&#39;ve not found a reason to even use &quot;instanceof&quot; in my career.","body":"If you use a good OOP structure, you should be able to deal with this through inheritance and composition. Unless you&#39;re writing meta-code (code that deals with Java itself) I&#39;ve not found a reason to even use &quot;instanceof&quot; in my career."}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1459431628,"creation_date":1336246423,"answer_id":10465294,"question_id":10465253,"body_markdown":"&gt; Is there any difference between this approaches to compare two Objects class types (names)?\r\n\r\nYes.  Two classes may have the same name if they are loaded by different `ClassLoader`s.\r\n\r\n[&quot;The basics of Java class loaders&quot;](http://www.javaworld.com/javaworld/jw-10-1996/jw-10-indepth.html) says\r\n\r\n&gt; At its simplest, a class loader creates a flat name space of class bodies that are referenced by a string name.\r\n\r\n[&quot;Eclipse - a tale of two VMs (and many classloaders)&quot;](http://www.eclipsezone.com/articles/eclipse-vms/) says\r\n\r\n&gt; That means it&#39;s possible to have two classes with the same name loaded into a VM at once, provided that they have two separate ClassLoaders \r\n\r\n\r\n----\r\n\r\n&gt; When to compare using `getClass()` and when `getClass().getName()`?\r\n\r\nIf you want to know whether two objects are of the same type you should use the `equals` method to compare the two classes -- the first option.\r\n\r\nI can&#39;t imagine why you&#39;d want to do this, but if you want to know whether two objects with different concrete types have types with the same fully qualified name, then you could use the second.  If you don&#39;t understand &quot;concrete types&quot; and &quot;fully qualified names&quot; in the context of Java then you&#39;re not writing type analysis code for java so you don&#39;t want to.\r\n","title":"Comparing two classes by its types or class names","body":"<blockquote>\n  <p>Is there any difference between this approaches to compare two Objects class types (names)?</p>\n</blockquote>\n\n<p>Yes.  Two classes may have the same name if they are loaded by different <code>ClassLoader</code>s.</p>\n\n<p><a href=\"http://www.javaworld.com/javaworld/jw-10-1996/jw-10-indepth.html\" rel=\"noreferrer\">\"The basics of Java class loaders\"</a> says</p>\n\n<blockquote>\n  <p>At its simplest, a class loader creates a flat name space of class bodies that are referenced by a string name.</p>\n</blockquote>\n\n<p><a href=\"http://www.eclipsezone.com/articles/eclipse-vms/\" rel=\"noreferrer\">\"Eclipse - a tale of two VMs (and many classloaders)\"</a> says</p>\n\n<blockquote>\n  <p>That means it's possible to have two classes with the same name loaded into a VM at once, provided that they have two separate ClassLoaders </p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>When to compare using <code>getClass()</code> and when <code>getClass().getName()</code>?</p>\n</blockquote>\n\n<p>If you want to know whether two objects are of the same type you should use the <code>equals</code> method to compare the two classes -- the first option.</p>\n\n<p>I can't imagine why you'd want to do this, but if you want to know whether two objects with different concrete types have types with the same fully qualified name, then you could use the second.  If you don't understand \"concrete types\" and \"fully qualified names\" in the context of Java then you're not writing type analysis code for java so you don't want to.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1542261891,"creation_date":1336246434,"answer_id":10465299,"question_id":10465253,"body_markdown":"Use `class.equals()`:\r\n\r\n    if (nextMonster.getClass().equals(monster.getClass()))\r\n\r\nor, because each class is like a singleton - there&#39;s only one instance of each Class per class loader, and most JVMs only have the one class loader - you can even use an identity comparison:\r\n\r\n    if (nextMonster.getClass() == monster.getClass())\r\n\r\n","title":"Comparing two classes by its types or class names","body":"<p>Use <code>class.equals()</code>:</p>\n\n<pre><code>if (nextMonster.getClass().equals(monster.getClass()))\n</code></pre>\n\n<p>or, because each class is like a singleton - there's only one instance of each Class per class loader, and most JVMs only have the one class loader - you can even use an identity comparison:</p>\n\n<pre><code>if (nextMonster.getClass() == monster.getClass())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6076633,"reputation":91,"user_id":4743787,"display_name":"Timothy Heider"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444240260,"creation_date":1444240260,"answer_id":32999145,"question_id":10465253,"body_markdown":"I ran into a problem comparing two classes using .equals.  The above provided solution is not entirely accurate.  Class does not implement Comparable.\r\n\r\nClass references are not necessarily true singletons within a JVM because you can have multiple ClassLoaders.\r\n\r\nI was writing a Maven plugin that was digging annotations out of beans after compile.  The plugin had one classloader and I had my own  classloader.  When comparing two classes of the same name from different loaders the comparison would fail. \r\n\r\nThe implementation of Object.equals looks like this:\r\n\r\n    public boolean More ...equals(Object obj) {\r\n           return (this == obj);\r\n    }\r\n\r\nSo you will be comparing references.  \r\n\r\nIf you are comparing classes and you know for sure there will only be one classloader involved you can safely use .equals or c1 == c2 but if you are not sure you should compare by name:\r\n\r\n    if(c1.getName().equals(c2.getName()) {\r\n       ...\r\n    }\r\n\r\n\r\n","title":"Comparing two classes by its types or class names","body":"<p>I ran into a problem comparing two classes using .equals.  The above provided solution is not entirely accurate.  Class does not implement Comparable.</p>\n\n<p>Class references are not necessarily true singletons within a JVM because you can have multiple ClassLoaders.</p>\n\n<p>I was writing a Maven plugin that was digging annotations out of beans after compile.  The plugin had one classloader and I had my own  classloader.  When comparing two classes of the same name from different loaders the comparison would fail. </p>\n\n<p>The implementation of Object.equals looks like this:</p>\n\n<pre><code>public boolean More ...equals(Object obj) {\n       return (this == obj);\n}\n</code></pre>\n\n<p>So you will be comparing references.  </p>\n\n<p>If you are comparing classes and you know for sure there will only be one classloader involved you can safely use .equals or c1 == c2 but if you are not sure you should compare by name:</p>\n\n<pre><code>if(c1.getName().equals(c2.getName()) {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5647391,"reputation":157,"user_id":4469021,"display_name":"vasa.v03"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450013611,"creation_date":1450013611,"answer_id":34251645,"question_id":10465253,"body_markdown":"As a matter of fact comparing trusted class by name is a weakness.\r\nRefer https://cwe.mitre.org/data/definitions/486.html\r\n\r\n    if (nextMonster.getClass() == monster.getClass())\r\n\r\nis the correct way to compare classes\r\n\r\n    if (nextMonster.getClass().equals(monster.getClass()))\r\nshould still work for the same reason @Bohemian mentioned","title":"Comparing two classes by its types or class names","body":"<p>As a matter of fact comparing trusted class by name is a weakness.\nRefer <a href=\"https://cwe.mitre.org/data/definitions/486.html\" rel=\"nofollow\">https://cwe.mitre.org/data/definitions/486.html</a></p>\n\n<pre><code>if (nextMonster.getClass() == monster.getClass())\n</code></pre>\n\n<p>is the correct way to compare classes</p>\n\n<pre><code>if (nextMonster.getClass().equals(monster.getClass()))\n</code></pre>\n\n<p>should still work for the same reason @Bohemian mentioned</p>\n"},{"tags":[],"owner":{"account_id":6360895,"reputation":44,"user_id":4936428,"display_name":"Ameya Joshi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1467371756,"creation_date":1467371756,"answer_id":38144034,"question_id":10465253,"body_markdown":"Another way to achieve the same will be by overriding hashcode in subclass.\r\n\r\n    public interface Parent {\r\n    }\r\n\r\n    public static class Child1 implements Parent{\r\n\t\tprivate String anyfield=&quot;child1&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic int hashCode() {\r\n\t\t\t//Code based on &quot;anyfield&quot;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object obj) {\r\n\t\t\t//equals based on &quot;anyfield&quot;\r\n\t\t}\r\n\t}\r\n\r\n    public static class Child2 implements Parent{\r\n\t\tprivate String anyfield=&quot;child2&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic int hashCode() {\r\n\t\t\t//Code based on &quot;anyfield&quot;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object obj) {\r\n\t\t\t//equals based on &quot;anyfield&quot;\r\n\t\t}\r\n\t}\r\n\r\nNow the equals will return if implementations/subclasses are of same concrete type.\r\n\r\n\tpublic static void main(String args[]){\r\n\t\tParent p1=new Child1();\r\n\t\tParent p2=new Child1();\r\n\t\tParent p3=new Child2();\r\n\t\tSystem.out.println(&quot;p1 and p2 are same : &quot;+p1.equals(p2));\r\n\t\tSystem.out.println(&quot;p2 and p3 are same : &quot;+p2.equals(p3));\r\n\t}\r\n\r\nOutput- \r\n\r\n    p1 and p2 are same : true\r\n    p2 and p3 are same : false\r\n","title":"Comparing two classes by its types or class names","body":"<p>Another way to achieve the same will be by overriding hashcode in subclass.</p>\n\n<pre><code>public interface Parent {\n}\n\npublic static class Child1 implements Parent{\n    private String anyfield=\"child1\";\n\n    @Override\n    public int hashCode() {\n        //Code based on \"anyfield\"\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        //equals based on \"anyfield\"\n    }\n}\n\npublic static class Child2 implements Parent{\n    private String anyfield=\"child2\";\n\n    @Override\n    public int hashCode() {\n        //Code based on \"anyfield\"\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        //equals based on \"anyfield\"\n    }\n}\n</code></pre>\n\n<p>Now the equals will return if implementations/subclasses are of same concrete type.</p>\n\n<pre><code>public static void main(String args[]){\n    Parent p1=new Child1();\n    Parent p2=new Child1();\n    Parent p3=new Child2();\n    System.out.println(\"p1 and p2 are same : \"+p1.equals(p2));\n    System.out.println(\"p2 and p3 are same : \"+p2.equals(p3));\n}\n</code></pre>\n\n<p>Output- </p>\n\n<pre><code>p1 and p2 are same : true\np2 and p3 are same : false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328431,"reputation":1836,"user_id":651377,"accept_rate":56,"display_name":"Alok Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1587122552,"creation_date":1587122552,"answer_id":61270429,"question_id":10465253,"body_markdown":"You can use the inbuilt method of Class : \r\n\r\n    if(nextMonster.getClass().isAssignableFrom(monster.getClass()))","title":"Comparing two classes by its types or class names","body":"<p>You can use the inbuilt method of Class : </p>\n\n<pre><code>if(nextMonster.getClass().isAssignableFrom(monster.getClass()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624101917,"creation_date":1604560796,"answer_id":64692701,"question_id":10465253,"body_markdown":"if you have an array use `getClass().getComponentType()` to compare its content type \r\n\r\n    jshell&gt; var array1 = new int[15]\r\n    array1 ==&gt; int[15] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\r\n    \r\n    jshell&gt; var array2 = new int[10]\r\n    array2 ==&gt; int[10] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\r\n    \r\n    jshell&gt; array1.getClass() == array2.getClass()\r\n    $7 ==&gt; true\r\n\r\n    jshell&gt; array1.getClass().getComponentType()\r\n    $8 ==&gt; int\r\n    \r\n    jshell&gt; array1.getClass().getComponentType() == int.class\r\n    $12 ==&gt; true\r\n\r\n","title":"Comparing two classes by its types or class names","body":"<p>if you have an array use <code>getClass().getComponentType()</code> to compare its content type</p>\n<pre><code>jshell&gt; var array1 = new int[15]\narray1 ==&gt; int[15] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n\njshell&gt; var array2 = new int[10]\narray2 ==&gt; int[10] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n\njshell&gt; array1.getClass() == array2.getClass()\n$7 ==&gt; true\n\njshell&gt; array1.getClass().getComponentType()\n$8 ==&gt; int\n\njshell&gt; array1.getClass().getComponentType() == int.class\n$12 ==&gt; true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661266877,"creation_date":1661266877,"answer_id":73461019,"question_id":10465253,"body_markdown":"The answer by @Mike Samuel worked for me in Android Studio setting. A slight variation is that when passing the class-name, which in my case was an Activity, that name must have the extension __.class__. If this approach is used, then __equals()__ works well.\r\n\r\n    if (passedActivityName.equals(KnownActivity.class)){\r\n    \t//matches\r\n    \t//note: passedActivityName was given fully as passedActivityName.class \r\n    }\r\n\r\nI hope this helps somehow although not strictly related.\r\n","title":"Comparing two classes by its types or class names","body":"<p>The answer by @Mike Samuel worked for me in Android Studio setting. A slight variation is that when passing the class-name, which in my case was an Activity, that name must have the extension <strong>.class</strong>. If this approach is used, then <strong>equals()</strong> works well.</p>\n<pre><code>if (passedActivityName.equals(KnownActivity.class)){\n    //matches\n    //note: passedActivityName was given fully as passedActivityName.class \n}\n</code></pre>\n<p>I hope this helps somehow although not strictly related.</p>\n"}],"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86179,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10465294,"answer_count":8,"score":36,"last_activity_date":1661266877,"creation_date":1336246158,"question_id":10465253,"body_markdown":"There is need to compare two objects based on class they implement? When to compare using `getClass()` and when `getClass().getName()`?\r\nIs there any difference between this approaches to compare two Objects class types (names)?\r\n\r\n    public abstract class Monster { ... }\r\n    public class MonsterTypeOne extends Monster { ... }\r\n    public class MonsterTypeTwo extends  Monster { ... }\r\n    \r\n        Monster monster = MonsterTypeOne();\r\n        Monster nextMonster = MonsterTypeTwo();\r\n        \r\n        \r\n    if(nextMonster.getClass().getName().equals(monster.getClass().getName()) )// #1\r\n        \r\n    if(nextMonster.getClass().equals(monster.getClass()) )// #2\r\n\r\nEDIT 1\r\n___\r\n\r\nWhat about: ?\r\n\r\n    nextMonster.getClass().equals(MonsterTypeOne.class)","title":"Comparing two classes by its types or class names","body":"<p>There is need to compare two objects based on class they implement? When to compare using <code>getClass()</code> and when <code>getClass().getName()</code>?\nIs there any difference between this approaches to compare two Objects class types (names)?</p>\n\n<pre><code>public abstract class Monster { ... }\npublic class MonsterTypeOne extends Monster { ... }\npublic class MonsterTypeTwo extends  Monster { ... }\n\n    Monster monster = MonsterTypeOne();\n    Monster nextMonster = MonsterTypeTwo();\n\n\nif(nextMonster.getClass().getName().equals(monster.getClass().getName()) )// #1\n\nif(nextMonster.getClass().equals(monster.getClass()) )// #2\n</code></pre>\n\n<p>EDIT 1</p>\n\n<hr>\n\n<p>What about: ?</p>\n\n<pre><code>nextMonster.getClass().equals(MonsterTypeOne.class)\n</code></pre>\n"},{"tags":["java","spring","log4j2"],"answers":[{"tags":[],"owner":{"account_id":25109039,"reputation":1,"user_id":18958916,"display_name":"Olexyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661266787,"creation_date":1659090437,"answer_id":73165253,"question_id":73153072,"body_markdown":"After some searching I found a solution.\r\nLooks more like workaround, but it still works:\r\n\r\n```\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer properties(@Autowired ConfigurableEnvironment conf) throws MalformedURLException {\r\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\r\n        String configPath = &quot;file:&quot; + System.getenv(ENV_HOME_VARIABLE) + &quot;/&quot; + MAIN_CONFIG_FILE_NAME;\r\n\r\n        yaml.setResources(new UrlResource(configPath));\r\n        propertySourcesPlaceholderConfigurer.setProperties(yaml.getObject());\r\n        Map map = conf.getSystemProperties();\r\n        yaml.getObject().forEach((key, value) -&gt; {\r\n            map.put(key, value);\r\n        });\r\n\r\n   // solution\r\n        LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n        File file = new File(System.getenv(ENV_HOME_VARIABLE) + &quot;/app-log4j2.xml&quot;);\r\n\r\n        // this will force a reconfiguration\r\n        context.setConfigLocation(file.toURI());\r\n   // solution\r\n\r\n        return propertySourcesPlaceholderConfigurer;\r\n    }\r\n```","title":"Logs are not recorded when using external log configuration","body":"<p>After some searching I found a solution.\nLooks more like workaround, but it still works:</p>\n<pre><code>    @Bean\n    public static PropertySourcesPlaceholderConfigurer properties(@Autowired ConfigurableEnvironment conf) throws MalformedURLException {\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\n        String configPath = &quot;file:&quot; + System.getenv(ENV_HOME_VARIABLE) + &quot;/&quot; + MAIN_CONFIG_FILE_NAME;\n\n        yaml.setResources(new UrlResource(configPath));\n        propertySourcesPlaceholderConfigurer.setProperties(yaml.getObject());\n        Map map = conf.getSystemProperties();\n        yaml.getObject().forEach((key, value) -&gt; {\n            map.put(key, value);\n        });\n\n   // solution\n        LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n        File file = new File(System.getenv(ENV_HOME_VARIABLE) + &quot;/app-log4j2.xml&quot;);\n\n        // this will force a reconfiguration\n        context.setConfigLocation(file.toURI());\n   // solution\n\n        return propertySourcesPlaceholderConfigurer;\n    }\n</code></pre>\n"}],"owner":{"account_id":25109039,"reputation":1,"user_id":18958916,"display_name":"Olexyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73165253,"answer_count":1,"score":0,"last_activity_date":1661266787,"creation_date":1659011949,"question_id":73153072,"body_markdown":"I have Spring MVC web application deployed on tomcat. (Not Spring Boot)  \r\nI want to use external log file to have access to it during runtime. Log4j2 library.  \r\n```log4j.configurationFile``` parameter is used to enable external configuration.  \r\nAlso I have external ```.yaml``` file that stored on file system of server.  \r\n\r\nThe behaviour now:  \r\nIf i put the same log4j2.xml to my resources, everything works fine.  \r\nWith external log4j2 config, the ```.log``` file is created after application is started, and it has some logs about application initialization. But nothing is recorded further.  \r\nAlso if I create additional appender on runtime - file is not created. So automatic reconfiguration does not work as well.\r\n\r\nAfter some searches I came to this configuration for applying external ```.yaml```:\r\n```\r\n@Configuration\r\npublic class PropertyConfig {\r\n\r\n    public static final String ENV_HOME_VARIABLE = &quot;APP_HOME&quot;;\r\n    public static final String MAIN_CONFIG_FILE_NAME = &quot;app-config.yaml&quot;;\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer properties(@Autowired ConfigurableEnvironment conf) throws MalformedURLException {\r\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\r\n        String configPath = &quot;file:&quot; + System.getenv(ENV_HOME_VARIABLE) + &quot;/&quot; + MAIN_CONFIG_FILE_NAME;\r\n\r\n        yaml.setResources(new UrlResource(configPath));\r\n        propertySourcesPlaceholderConfigurer.setProperties(yaml.getObject());\r\n        Map map = conf.getSystemProperties();\r\n        yaml.getObject().forEach((key, value) -&gt; {\r\n            map.put(key, value);\r\n        });\r\n        return propertySourcesPlaceholderConfigurer;\r\n    }\r\n}\r\n```\r\n\r\nAlso here is ```log4j.configurationFile``` initialization in ```app-config.yaml```:\r\n\r\n```\r\nlog4j:\r\n configurationFile: file:/home/user/appHome/app-log4j2.xml\r\n```\r\n\r\nAnd app-log4j2.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration monitorinterval=&quot;30&quot; status=&quot;WARN&quot; &gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;!-- Rolling File Appender --&gt;\r\n        &lt;RollingFile name=&quot;rollingFileApplication&quot; bufferSize=&quot;0&quot; bufferedIO=&quot;false&quot; append=&quot;true&quot;&gt;\r\n           &lt;FileName&gt;/home/user/appHome/log/app.log&lt;/FileName&gt;\r\n           &lt;FilePattern&gt;/home/user/appHome/log/archive/app%d{yyyy-MM-dd}.log.gz&lt;/FilePattern&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss a} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n\r\n            &lt;DefaultRolloverStrategy&gt;\r\n                &lt;Delete basePath=&quot;/home/user/appHome/log/archive/&quot; maxDepth=&quot;1&quot;&gt;\r\n                    &lt;IfAll&gt;\r\n                        &lt;IfFileName glob=&quot;app_*.log*&quot; /&gt;\r\n                        &lt;IfLastModified age=&quot;7d&quot; /&gt;\r\n                    &lt;/IfAll&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;TRACE&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;rollingFileApplication&quot; level=&quot;TRACE&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n        &lt;Logger name=&quot;ua&quot; additivity=&quot;true&quot; level=&quot;TRACE&quot;&gt;\r\n            &lt;appender-ref ref=&quot;rollingFileApplication&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nRecords in ```app.log``` after start:\r\n```\r\n2022-07-28 12:53:39 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\r\n2022-07-28 12:53:40 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\r\n2022-07-28 12:54:10 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\r\n2022-07-28 12:54:10 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\r\n2022-07-28 12:54:25 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\r\n2022-07-28 12:54:25 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\r\n```\r\n\r\nSo the question is, why do you think it`s not working and how to make it work).  \r\nReady to provide any additional information.  \r\nWill appreciate any suggestions or remarks.","title":"Logs are not recorded when using external log configuration","body":"<p>I have Spring MVC web application deployed on tomcat. (Not Spring Boot)<br />\nI want to use external log file to have access to it during runtime. Log4j2 library.<br />\n<code>log4j.configurationFile</code> parameter is used to enable external configuration.<br />\nAlso I have external <code>.yaml</code> file that stored on file system of server.</p>\n<p>The behaviour now:<br />\nIf i put the same log4j2.xml to my resources, everything works fine.<br />\nWith external log4j2 config, the <code>.log</code> file is created after application is started, and it has some logs about application initialization. But nothing is recorded further.<br />\nAlso if I create additional appender on runtime - file is not created. So automatic reconfiguration does not work as well.</p>\n<p>After some searches I came to this configuration for applying external <code>.yaml</code>:</p>\n<pre><code>@Configuration\npublic class PropertyConfig {\n\n    public static final String ENV_HOME_VARIABLE = &quot;APP_HOME&quot;;\n    public static final String MAIN_CONFIG_FILE_NAME = &quot;app-config.yaml&quot;;\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer properties(@Autowired ConfigurableEnvironment conf) throws MalformedURLException {\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\n        String configPath = &quot;file:&quot; + System.getenv(ENV_HOME_VARIABLE) + &quot;/&quot; + MAIN_CONFIG_FILE_NAME;\n\n        yaml.setResources(new UrlResource(configPath));\n        propertySourcesPlaceholderConfigurer.setProperties(yaml.getObject());\n        Map map = conf.getSystemProperties();\n        yaml.getObject().forEach((key, value) -&gt; {\n            map.put(key, value);\n        });\n        return propertySourcesPlaceholderConfigurer;\n    }\n}\n</code></pre>\n<p>Also here is <code>log4j.configurationFile</code> initialization in <code>app-config.yaml</code>:</p>\n<pre><code>log4j:\n configurationFile: file:/home/user/appHome/app-log4j2.xml\n</code></pre>\n<p>And app-log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration monitorinterval=&quot;30&quot; status=&quot;WARN&quot; &gt;\n\n    &lt;Appenders&gt;\n        &lt;!-- Rolling File Appender --&gt;\n        &lt;RollingFile name=&quot;rollingFileApplication&quot; bufferSize=&quot;0&quot; bufferedIO=&quot;false&quot; append=&quot;true&quot;&gt;\n           &lt;FileName&gt;/home/user/appHome/log/app.log&lt;/FileName&gt;\n           &lt;FilePattern&gt;/home/user/appHome/log/archive/app%d{yyyy-MM-dd}.log.gz&lt;/FilePattern&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss a} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\n            &lt;/Policies&gt;\n\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=&quot;/home/user/appHome/log/archive/&quot; maxDepth=&quot;1&quot;&gt;\n                    &lt;IfAll&gt;\n                        &lt;IfFileName glob=&quot;app_*.log*&quot; /&gt;\n                        &lt;IfLastModified age=&quot;7d&quot; /&gt;\n                    &lt;/IfAll&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;TRACE&quot;&gt;\n            &lt;AppenderRef ref=&quot;rollingFileApplication&quot; level=&quot;TRACE&quot;/&gt;\n        &lt;/Root&gt;\n\n        &lt;Logger name=&quot;ua&quot; additivity=&quot;true&quot; level=&quot;TRACE&quot;&gt;\n            &lt;appender-ref ref=&quot;rollingFileApplication&quot;/&gt;\n        &lt;/Logger&gt;\n\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Records in <code>app.log</code> after start:</p>\n<pre><code>2022-07-28 12:53:39 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\n2022-07-28 12:53:40 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\n2022-07-28 12:54:10 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\n2022-07-28 12:54:10 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\n2022-07-28 12:54:25 PM [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\n2022-07-28 12:54:25 PM [localhost-startStop-1] TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Found Equinox FileLocator for OSGi bundle URL resolution\n</code></pre>\n<p>So the question is, why do you think it`s not working and how to make it work).<br />\nReady to provide any additional information.<br />\nWill appreciate any suggestions or remarks.</p>\n"},{"tags":["java","class","reflection"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1659120098,"post_id":73169736,"comment_id":129225764,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1659120167,"post_id":73169736,"comment_id":129225788,"body_markdown":"I&#39;m a bit confused.  `private static final` fields _aren&#39;t_ associated with `instanceOfSomeClass`, so why do you want them?","body":"I&#39;m a bit confused.  <code>private static final</code> fields <i>aren&#39;t</i> associated with <code>instanceOfSomeClass</code>, so why do you want them?"},{"owner":{"account_id":24739495,"reputation":29,"user_id":18626423,"display_name":"user18626423"},"score":0,"creation_date":1659121842,"post_id":73169736,"comment_id":129226314,"body_markdown":"I don&#39;t, I suppose\nIs it possible to check if a field is private static final field is private static final before attempting to retrieve it?","body":"I don&#39;t, I suppose Is it possible to check if a field is private static final field is private static final before attempting to retrieve it?"}],"answers":[{"tags":[],"owner":{"account_id":19163916,"reputation":1,"user_id":13999095,"display_name":"iAngkur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659123281,"creation_date":1659122983,"answer_id":73170201,"question_id":73169736,"body_markdown":"**I guess this is your expected solution:** \r\n\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.*;\r\n    \r\n    class SomeClass {\r\n        public static int a = 10;\r\n        public static int b = 20;\r\n        public static int c = 40;\r\n    }\r\n    \r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n            try{\r\n                SomeClass sc = new SomeClass();\r\n                \r\n                Field[] fields = SomeClass.class.getDeclaredFields();\r\n            \r\n                for(int i = 0; i &lt; fields.length; i++) {\r\n\r\n                    // Getting the field&#39;s name and its value\r\n                    Object value = fields[i].get(sc);\r\n                    Object fieldName = fields[i].getName();\r\n\r\n                    // System.out.println(&quot;Field = &quot; + fields[i].getName() + &quot; Value = &quot; + value + &quot;\\n&quot;);\r\n\r\n                    // Adding value into the HashMap\r\n                    map.put(fieldName.toString(), value.toString());\r\n                }\r\n                \r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n            // Iterating through the HashMap\r\n            for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\r\n                System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n***Output**:* \r\n\r\n    Key: a Value: 10\r\n    Key: b Value: 20\r\n    Key: c Value: 40","title":"Create a hashmap with the names of the fields in the class as the key, and the values of those fields as the values of the map","body":"<p><strong>I guess this is your expected solution:</strong></p>\n<pre><code>import java.lang.reflect.*;\nimport java.util.*;\n\nclass SomeClass {\n    public static int a = 10;\n    public static int b = 20;\n    public static int c = 40;\n}\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        try{\n            SomeClass sc = new SomeClass();\n            \n            Field[] fields = SomeClass.class.getDeclaredFields();\n        \n            for(int i = 0; i &lt; fields.length; i++) {\n\n                // Getting the field's name and its value\n                Object value = fields[i].get(sc);\n                Object fieldName = fields[i].getName();\n\n                // System.out.println(&quot;Field = &quot; + fields[i].getName() + &quot; Value = &quot; + value + &quot;\\n&quot;);\n\n                // Adding value into the HashMap\n                map.put(fieldName.toString(), value.toString());\n            }\n            \n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n        // Iterating through the HashMap\n        for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\n            System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue());\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Output</strong>:</em></p>\n<pre><code>Key: a Value: 10\nKey: b Value: 20\nKey: c Value: 40\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661266732,"creation_date":1659123517,"answer_id":73170271,"question_id":73169736,"body_markdown":"When you&#39;re looping through the `Field` objects, use `Field.getModifiers()` to determine each field&#39;s accessibility (public, private, static, etc). \r\n\r\nAs mentioned in the JavaDoc for `Field.getModifiers()`, use the class `Modifier` (which has static methods such as `isFinal()`, `isPrivate()`, etc) to &quot;decode&quot; the int value you get from `getModifiers()`.\r\n\r\nFor example (untested pseudo-code): \r\n```java\r\nfor (Field f : fields) {\r\n    int modifiers = f.getModifiers();\r\n    if (Modifier.isStatic(modifiers)) {  // Skip static fields, for example\r\n        continue;\r\n    }\r\n\r\n    map.put(f.toString(), f.get(instanceOfSomeClass).toString());\r\n}\r\n```","title":"Create a hashmap with the names of the fields in the class as the key, and the values of those fields as the values of the map","body":"<p>When you're looping through the <code>Field</code> objects, use <code>Field.getModifiers()</code> to determine each field's accessibility (public, private, static, etc).</p>\n<p>As mentioned in the JavaDoc for <code>Field.getModifiers()</code>, use the class <code>Modifier</code> (which has static methods such as <code>isFinal()</code>, <code>isPrivate()</code>, etc) to &quot;decode&quot; the int value you get from <code>getModifiers()</code>.</p>\n<p>For example (untested pseudo-code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Field f : fields) {\n    int modifiers = f.getModifiers();\n    if (Modifier.isStatic(modifiers)) {  // Skip static fields, for example\n        continue;\n    }\n\n    map.put(f.toString(), f.get(instanceOfSomeClass).toString());\n}\n</code></pre>\n"}],"owner":{"account_id":24739495,"reputation":29,"user_id":18626423,"display_name":"user18626423"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661266732,"creation_date":1659119960,"question_id":73169736,"body_markdown":"Let&#39;s say you have a class: SomeClass with fields a=10, b=20, and c=30, where instanceOfSomeClass.getA()==10. I want a map like this \r\n```\r\n{\r\n    a:10\r\n    b:20\r\n    c:30\r\n}\r\n```\r\nI tried this, but got Class can not access a member of class with modifiers &quot;private static final&quot;, but I also can&#39;t modify this class to not have private static final:\r\n```\r\n      Field[] fields = SomeClass.class.getDeclaredFields();\r\n      for (Field f : fields) {\r\n        map.put(f.toString(), f.get(instanceOfSomeClass).toString());\r\n      }\r\n```\r\nAny ideas on how to make this hashmap?","title":"Create a hashmap with the names of the fields in the class as the key, and the values of those fields as the values of the map","body":"<p>Let's say you have a class: SomeClass with fields a=10, b=20, and c=30, where instanceOfSomeClass.getA()==10. I want a map like this</p>\n<pre><code>{\n    a:10\n    b:20\n    c:30\n}\n</code></pre>\n<p>I tried this, but got Class can not access a member of class with modifiers &quot;private static final&quot;, but I also can't modify this class to not have private static final:</p>\n<pre><code>      Field[] fields = SomeClass.class.getDeclaredFields();\n      for (Field f : fields) {\n        map.put(f.toString(), f.get(instanceOfSomeClass).toString());\n      }\n</code></pre>\n<p>Any ideas on how to make this hashmap?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661097000,"post_id":73435807,"comment_id":129685365,"body_markdown":"Are these bulk operations performed on the database, or in Java? If on the database, you have no need to drag the rows through a `ResultSet`.","body":"Are these bulk operations performed on the database, or in Java? If on the database, you have no need to drag the rows through a <code>ResultSet</code>."},{"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"score":0,"creation_date":1661097349,"post_id":73435807,"comment_id":129685423,"body_markdown":"There are in performed in java. It&#39;s equivalent to paginating a result set. An example of an operation of an bulk operation 1 would be using a core to convert certain data to Parquet while another task fetching data from the DB is blocked by network I/O","body":"There are in performed in java. It&#39;s equivalent to paginating a result set. An example of an operation of an bulk operation 1 would be using a core to convert certain data to Parquet while another task fetching data from the DB is blocked by network I/O"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661123689,"post_id":73435807,"comment_id":129690490,"body_markdown":"`ResultSet` already comes in chunks. That&#39;s what `Statement.setFetchSize()` is for.","body":"<code>ResultSet</code> already comes in chunks. That&#39;s what <code>Statement.setFetchSize()</code> is for."},{"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"score":0,"creation_date":1661153440,"post_id":73435807,"comment_id":129694945,"body_markdown":"@user207421 it seems that this depends on the DB implementation of the driver. My understanding is that in DBs like Mysql this is not true. If in the above process I provided ResultSet as it is to the downstream consumer, I would make it network bound.","body":"@user207421 it seems that this depends on the DB implementation of the driver. My understanding is that in DBs like Mysql this is not true. If in the above process I provided ResultSet as it is to the downstream consumer, I would make it network bound."}],"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661266622,"creation_date":1661095775,"question_id":73435807,"body_markdown":"I have a database that I am accessing via JDBC.\r\nAs I retrieve data, I perform multiple CPU bounded operations on the data.\r\n\r\nThe DB data is several TB large, so it will surely not completely fit into memory.\r\n\r\nThe stages look like the follow:\r\n\r\n```\r\n(Fetch from JDBC) -&gt; (Perform bulk operation 1) -&gt; (Perform bulk operation 2) -&gt; (Perform bulk operation 3)\r\n```\r\n\r\nThe arrows depict a high-performance in-memory eventbus that we can abstract from the problem.\r\n\r\nThe interface between (Fetch from JDBC) and (Perform bulk operation 1) steps expects a  ResultSet - but this is not set in stone.\r\n\r\n**My question is**:\r\n\r\nIn the scenario I want to provide chunks of 1000 rows to &quot;Perform bulk operation 1&quot; - with means writing those rows to the event bus and then continuing fetching the next 1k rows:\r\n\r\nHow could I provide these 1k rows the downstream consumer **without having to modify the query to the database** (e.g. modifying the SQL statements to perform some pagination via Dialect)?\r\n\r\nI see that there&#39;s two possibilities solutions that the accepted answer could be based on:\r\n\r\nOption (1): keeping the ResultSet contract, but using an implementation where the ResultSet that enables to extract a certain number of rows from the original ResultSet.\r\n\r\nOption (2): With another similar data structure not following the ResultSet API, but fast mapping from ResultSet to it whilst keeping similar informations (e.g. schema). The solution in this case would need to be efficient to avoid heap pollution.\r\n","title":"Chunk processing of JDBC ResultSet","body":"<p>I have a database that I am accessing via JDBC.\nAs I retrieve data, I perform multiple CPU bounded operations on the data.</p>\n<p>The DB data is several TB large, so it will surely not completely fit into memory.</p>\n<p>The stages look like the follow:</p>\n<pre><code>(Fetch from JDBC) -&gt; (Perform bulk operation 1) -&gt; (Perform bulk operation 2) -&gt; (Perform bulk operation 3)\n</code></pre>\n<p>The arrows depict a high-performance in-memory eventbus that we can abstract from the problem.</p>\n<p>The interface between (Fetch from JDBC) and (Perform bulk operation 1) steps expects a  ResultSet - but this is not set in stone.</p>\n<p><strong>My question is</strong>:</p>\n<p>In the scenario I want to provide chunks of 1000 rows to &quot;Perform bulk operation 1&quot; - with means writing those rows to the event bus and then continuing fetching the next 1k rows:</p>\n<p>How could I provide these 1k rows the downstream consumer <strong>without having to modify the query to the database</strong> (e.g. modifying the SQL statements to perform some pagination via Dialect)?</p>\n<p>I see that there's two possibilities solutions that the accepted answer could be based on:</p>\n<p>Option (1): keeping the ResultSet contract, but using an implementation where the ResultSet that enables to extract a certain number of rows from the original ResultSet.</p>\n<p>Option (2): With another similar data structure not following the ResultSet API, but fast mapping from ResultSet to it whilst keeping similar informations (e.g. schema). The solution in this case would need to be efficient to avoid heap pollution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"score":0,"creation_date":1661268307,"post_id":73460689,"comment_id":129729326,"body_markdown":"What should be the output for input 3 2 1 ?","body":"What should be the output for input 3 2 1 ?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661266588,"creation_date":1661266588,"answer_id":73460944,"question_id":73460689,"body_markdown":"The easiest way, imo, is to convert each inner list to a string and sort them in lexical order.\r\n- stream the list of lists\r\n- for each list, convert each digit to a string and join using a collector.\r\n- them sort in natural order, converting to a list.\r\n```\r\nList&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1, 2, 3),\r\n\t\tList.of(1, 2), List.of(1, 3), List.of(1),\r\n\t\tList.of(2, 3), List.of(2), List.of(3));\r\n\r\nList&lt;String&gt; result = list.stream()\r\n\t\t.map(lst -&gt; lst.stream().map(i-&gt;Integer.toString(i))\r\n\t\t\t\t.collect(Collectors.joining(&quot; &quot;)))\r\n\t\t.sorted(Comparator.naturalOrder()).toList();\r\n\r\nresult.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n1\r\n1 2\r\n1 2 3\r\n1 3\r\n2\r\n2 3\r\n3","title":"Sort Arraylist of Arraylist in java(finding subsets in java)","body":"<p>The easiest way, imo, is to convert each inner list to a string and sort them in lexical order.</p>\n<ul>\n<li>stream the list of lists</li>\n<li>for each list, convert each digit to a string and join using a collector.</li>\n<li>them sort in natural order, converting to a list.</li>\n</ul>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1, 2, 3),\n        List.of(1, 2), List.of(1, 3), List.of(1),\n        List.of(2, 3), List.of(2), List.of(3));\n\nList&lt;String&gt; result = list.stream()\n        .map(lst -&gt; lst.stream().map(i-&gt;Integer.toString(i))\n                .collect(Collectors.joining(&quot; &quot;)))\n        .sorted(Comparator.naturalOrder()).toList();\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>1\n1 2\n1 2 3\n1 3\n2\n2 3\n3\n</code></pre>\n"}],"owner":{"account_id":17515040,"reputation":19,"user_id":12702181,"display_name":"Faiza Hafiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661266588,"creation_date":1661265564,"question_id":73460689,"body_markdown":"I wanted to find the subsets of a given integer arraylist and return it as arraylist of arraylist in sorted order in java. \r\n\r\nfor eg: for the i/p : 1 2 3\r\n\r\no/p:\r\n \r\n//blank space\r\n\r\n1\r\n \r\n1 2 \r\n\r\n1 2 3 \r\n\r\n1 3 \r\n\r\n2 \r\n\r\n2 3 \r\n\r\n3 \r\n\r\n**and not as**\r\n\r\n1 2 3 \r\n\r\n1 2 \r\n\r\n1 3 \r\n\r\n1 \r\n\r\n2 3 \r\n\r\n2 \r\n\r\n3 \r\n\r\nThankyou for the help.\r\n```\r\nclass Solution\r\n{\r\n    public static void subsetsRec(ArrayList&lt;Integer&gt; A, ArrayList&lt;Integer&gt; curr, int ind, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res) {\r\n        if (ind == A.size()) {\r\n            // System.out.println(curr);\r\n            // res.add(curr);\r\n            res.add(new ArrayList&lt;&gt;(curr));\r\n            return;\r\n        }\r\n    \r\n        curr.add(A.get(ind));\r\n        subsetsRec(A, curr, ind + 1, res);\r\n        curr.remove(curr.size() - 1);\r\n        subsetsRec(A, curr, ind + 1, res);\r\n    }\r\n\r\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A) {\r\n        ArrayList&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;();\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        subsetsRec(A, curr, 0, res);\r\n        return res;\r\n    }\r\n}\r\n```","title":"Sort Arraylist of Arraylist in java(finding subsets in java)","body":"<p>I wanted to find the subsets of a given integer arraylist and return it as arraylist of arraylist in sorted order in java.</p>\n<p>for eg: for the i/p : 1 2 3</p>\n<p>o/p:</p>\n<p>//blank space</p>\n<p>1</p>\n<p>1 2</p>\n<p>1 2 3</p>\n<p>1 3</p>\n<p>2</p>\n<p>2 3</p>\n<p>3</p>\n<p><strong>and not as</strong></p>\n<p>1 2 3</p>\n<p>1 2</p>\n<p>1 3</p>\n<p>1</p>\n<p>2 3</p>\n<p>2</p>\n<p>3</p>\n<p>Thankyou for the help.</p>\n<pre><code>class Solution\n{\n    public static void subsetsRec(ArrayList&lt;Integer&gt; A, ArrayList&lt;Integer&gt; curr, int ind, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res) {\n        if (ind == A.size()) {\n            // System.out.println(curr);\n            // res.add(curr);\n            res.add(new ArrayList&lt;&gt;(curr));\n            return;\n        }\n    \n        curr.add(A.get(ind));\n        subsetsRec(A, curr, ind + 1, res);\n        curr.remove(curr.size() - 1);\n        subsetsRec(A, curr, ind + 1, res);\n    }\n\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A) {\n        ArrayList&lt;Integer&gt; curr = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        subsetsRec(A, curr, 0, res);\n        return res;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":3310081,"reputation":341,"user_id":2783816,"display_name":"james25"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661266395,"creation_date":1661266395,"answer_id":73460888,"question_id":72082038,"body_markdown":"There are some missing configurations under maven-surfire-plugin. Please, have a look at the working configuration:\r\n\r\n                         &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;**/TestRunner.java&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                                &lt;argLine&gt;\r\n                                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${org.aspectj.version}/aspectjweaver-${org.aspectj.version}.jar&quot;\r\n                                &lt;/argLine&gt;\r\n                                &lt;rerunFailingTestsCount&gt;${rerunCount}&lt;/rerunFailingTestsCount&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;dependencies&gt;\r\n                                &lt;dependency&gt;\r\n                                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${org.aspectj.version}&lt;/version&gt;\r\n                                &lt;/dependency&gt;\r\n                                &lt;dependency&gt;\r\n                                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                                &lt;/dependency&gt;\r\n                            &lt;/dependencies&gt;\r\n                        &lt;/plugin&gt;","title":"Maven Surefire Test Rerun Parameter Does Not Re-Run Failing Tests","body":"<p>There are some missing configurations under maven-surfire-plugin. Please, have a look at the working configuration:</p>\n<pre><code>                     &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/TestRunner.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${org.aspectj.version}/aspectjweaver-${org.aspectj.version}.jar&quot;\n                            &lt;/argLine&gt;\n                            &lt;rerunFailingTestsCount&gt;${rerunCount}&lt;/rerunFailingTestsCount&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${org.aspectj.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                                &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":22572758,"reputation":21,"user_id":16758716,"display_name":"alperenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661266395,"creation_date":1651461524,"question_id":72082038,"body_markdown":"Maven surefire does not rerun failing tests. I tried to change the surefire version to 3.0.0-M4, 3.0.0-M5. Use commandline option -Dsurefire.rerunFailingTestsCount=3, added &lt;surefire.rerunFailingTestsCount&gt;2&lt;/surefire.rerunFailingTestsCount&gt; to the pom file, and added &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt; to the configurations of surefire plugin; ran mvn install multiple times. However, nothing seems to work and Surefire runs failing tests just once. The pom file of the project I am working with is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.authy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;authy-java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;Authy Java&lt;/name&gt;\r\n    &lt;description&gt;Java library to access the Authy API.&lt;/description&gt;\r\n    &lt;url&gt;https://github.com/authy/authy-java&lt;/url&gt;\r\n\r\n    &lt;licenses&gt;\r\n        &lt;license&gt;\r\n            &lt;name&gt;The MIT License (MIT)&lt;/name&gt;\r\n            &lt;url&gt;https://github.com/authy/authy-java/blob/master/LICENSE.txt&lt;/url&gt;\r\n        &lt;/license&gt;\r\n    &lt;/licenses&gt;\r\n\r\n    &lt;developers&gt;\r\n        &lt;developer&gt;\r\n            &lt;name&gt;Sergio Aristizabal&lt;/name&gt;\r\n            &lt;email&gt;saristizabal@twilio.com&lt;/email&gt;\r\n            &lt;organization&gt;Twilio&lt;/organization&gt;\r\n            &lt;organizationUrl&gt;http://www.twilio.com&lt;/organizationUrl&gt;\r\n        &lt;/developer&gt;\r\n    &lt;/developers&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;scm&gt;\r\n        &lt;connection&gt;scm:git:git@github.com:authy/authy-java.git&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:git:git@github.com:authy/authy-java.git&lt;/developerConnection&gt;\r\n        &lt;url&gt;git@github.com:authy/authy-java.git&lt;/url&gt;\r\n    &lt;/scm&gt;\r\n\r\n\r\n                &lt;dependencies&gt;\r\n                    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.2&lt;/version&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n\r\n                    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.10.19&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20150729&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;ossrh&lt;/id&gt;\r\n            &lt;name&gt;Authy Maven Snapshot Repository&lt;/name&gt;\r\n            &lt;url&gt;\r\n                https://oss.sonatype.org/content/repositories/snapshots/\r\n            &lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;ossrh&lt;/id&gt;\r\n            &lt;name&gt;Authy Maven Repository&lt;/name&gt;\r\n            &lt;url&gt;\r\n                https://oss.sonatype.org/service/local/staging/deploy/maven2/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;performRelease&lt;/name&gt;\r\n                    &lt;value&gt;true&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n    &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\r\n&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n                    &lt;plugin&gt;\r\n                                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                                &lt;executions&gt;\r\n                                    &lt;execution&gt;\r\n                                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                                        &lt;goals&gt;\r\n                                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                                        &lt;/goals&gt;\r\n                                        &lt;configuration combine.self=&quot;override&quot;&gt;\r\n                                            &lt;skip&gt;true&lt;/skip&gt;\r\n                                        &lt;/configuration&gt;\r\n                                    &lt;/execution&gt;\r\n                                &lt;/executions&gt;\r\n                            &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;edu.illinois.cs&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;testrunner-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.2&lt;/version&gt;\r\n                            &lt;dependencies&gt;\r\n                                &lt;dependency&gt;\r\n                                    &lt;groupId&gt;edu.illinois.cs&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;idflakies&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\r\n                                &lt;/dependency&gt;\r\n                            &lt;/dependencies&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;className&gt;edu.illinois.cs.dt.tools.detection.DetectorPlugin&lt;/className&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        \r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;edu.illinois&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;nondex-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.1.2&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.5&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;sign-artifacts&lt;/id&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;sign&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                    &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\r\n                    &lt;!-- references the profile defined just below --&gt;\r\n                    &lt;releaseProfiles&gt;release&lt;/releaseProfiles&gt;\r\n                    &lt;goals&gt;deploy&lt;/goals&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.3&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;serverId&gt;ossrh&lt;/serverId&gt;\r\n                    &lt;nexusUrl&gt;https://oss.sonatype.org/&lt;/nexusUrl&gt;\r\n                    &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;formats&gt;\r\n                        &lt;format&gt;html&lt;/format&gt;\r\n                        &lt;format&gt;xml&lt;/format&gt;\r\n                    &lt;/formats&gt;\r\n                    &lt;check /&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nI am a little bit lost what might be causing the failing tests to be executed multiple times as I tried a lot of different suggestions on stackoverflow.\r\n\r\nThanks in advance!","title":"Maven Surefire Test Rerun Parameter Does Not Re-Run Failing Tests","body":"<p>Maven surefire does not rerun failing tests. I tried to change the surefire version to 3.0.0-M4, 3.0.0-M5. Use commandline option -Dsurefire.rerunFailingTestsCount=3, added &lt;surefire.rerunFailingTestsCount&gt;2&lt;/surefire.rerunFailingTestsCount&gt; to the pom file, and added 2 to the configurations of surefire plugin; ran mvn install multiple times. However, nothing seems to work and Surefire runs failing tests just once. The pom file of the project I am working with is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.authy&lt;/groupId&gt;\n    &lt;artifactId&gt;authy-java&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Authy Java&lt;/name&gt;\n    &lt;description&gt;Java library to access the Authy API.&lt;/description&gt;\n    &lt;url&gt;https://github.com/authy/authy-java&lt;/url&gt;\n\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;The MIT License (MIT)&lt;/name&gt;\n            &lt;url&gt;https://github.com/authy/authy-java/blob/master/LICENSE.txt&lt;/url&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n\n    &lt;developers&gt;\n        &lt;developer&gt;\n            &lt;name&gt;Sergio Aristizabal&lt;/name&gt;\n            &lt;email&gt;saristizabal@twilio.com&lt;/email&gt;\n            &lt;organization&gt;Twilio&lt;/organization&gt;\n            &lt;organizationUrl&gt;http://www.twilio.com&lt;/organizationUrl&gt;\n        &lt;/developer&gt;\n    &lt;/developers&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;scm&gt;\n        &lt;connection&gt;scm:git:git@github.com:authy/authy-java.git&lt;/connection&gt;\n        &lt;developerConnection&gt;scm:git:git@github.com:authy/authy-java.git&lt;/developerConnection&gt;\n        &lt;url&gt;git@github.com:authy/authy-java.git&lt;/url&gt;\n    &lt;/scm&gt;\n\n\n                &lt;dependencies&gt;\n                    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core --&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                        &lt;version&gt;2.2&lt;/version&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                    &lt;/dependency&gt;\n\n\n                    &lt;dependency&gt;\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                    &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n                    &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n                    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.5&lt;/version&gt;\n                &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n                    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.5&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n                    &lt;version&gt;1.10.19&lt;/version&gt;\n                &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20150729&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;ossrh&lt;/id&gt;\n            &lt;name&gt;Authy Maven Snapshot Repository&lt;/name&gt;\n            &lt;url&gt;\n                https://oss.sonatype.org/content/repositories/snapshots/\n            &lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;ossrh&lt;/id&gt;\n            &lt;name&gt;Authy Maven Repository&lt;/name&gt;\n            &lt;url&gt;\n                https://oss.sonatype.org/service/local/staging/deploy/maven2/\n            &lt;/url&gt;\n        &lt;/repository&gt;\n\n    &lt;/distributionManagement&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;performRelease&lt;/name&gt;\n                    &lt;value&gt;true&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.19.1&lt;/version&gt;\n      &lt;configuration&gt;\n    &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\n&lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n                    &lt;plugin&gt;\n                                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                                &lt;version&gt;2.3.2&lt;/version&gt;\n                                &lt;executions&gt;\n                                    &lt;execution&gt;\n                                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                        &lt;configuration combine.self=&quot;override&quot;&gt;\n                                            &lt;skip&gt;true&lt;/skip&gt;\n                                        &lt;/configuration&gt;\n                                    &lt;/execution&gt;\n                                &lt;/executions&gt;\n                            &lt;/plugin&gt;\n                        &lt;plugin&gt;\n                            &lt;groupId&gt;edu.illinois.cs&lt;/groupId&gt;\n                            &lt;artifactId&gt;testrunner-maven-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;1.2&lt;/version&gt;\n                            &lt;dependencies&gt;\n                                &lt;dependency&gt;\n                                    &lt;groupId&gt;edu.illinois.cs&lt;/groupId&gt;\n                                    &lt;artifactId&gt;idflakies&lt;/artifactId&gt;\n                                    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\n                                &lt;/dependency&gt;\n                            &lt;/dependencies&gt;\n                            &lt;configuration&gt;\n                                &lt;className&gt;edu.illinois.cs.dt.tools.detection.DetectorPlugin&lt;/className&gt;\n                            &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n                        \n                        &lt;plugin&gt;\n                            &lt;groupId&gt;edu.illinois&lt;/groupId&gt;\n                            &lt;artifactId&gt;nondex-maven-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;1.1.2&lt;/version&gt;\n                        &lt;/plugin&gt;\n                        \n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.5&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;sign-artifacts&lt;/id&gt;\n                                &lt;phase&gt;verify&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;sign&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                    &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\n                    &lt;!-- references the profile defined just below --&gt;\n                    &lt;releaseProfiles&gt;release&lt;/releaseProfiles&gt;\n                    &lt;goals&gt;deploy&lt;/goals&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.3&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;serverId&gt;ossrh&lt;/serverId&gt;\n                    &lt;nexusUrl&gt;https://oss.sonatype.org/&lt;/nexusUrl&gt;\n                    &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;format&gt;html&lt;/format&gt;\n                        &lt;format&gt;xml&lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;check /&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I am a little bit lost what might be causing the failing tests to be executed multiple times as I tried a lot of different suggestions on stackoverflow.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","git","rest","bitbucket","bitbucket-api"],"answers":[{"tags":[],"owner":{"account_id":2717252,"reputation":5189,"user_id":2344348,"accept_rate":100,"display_name":"Peter Reid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496153403,"creation_date":1496152297,"answer_id":44264185,"question_id":44252975,"body_markdown":"Strangely there is no way to do this using the latest version (2.0) of the bitbucket.org (cloud) API.\r\n\r\nThe available data from the [`/repositories/{username}/{repo}`][1] endpoint may lead you to somewhere.\r\n\r\nYou can access files in the &#39;downloads&#39; of your repo using the [`/repositories/{username}/{repo}/downloads/{filename}`][2] endpoint.\r\n\r\n----------\r\n\r\nHowever [There is an endpoint for what you need in version 1.0 of the API][3]. Based on testing this still works.\r\n\r\n  [1]: https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D\r\n  [2]: https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/downloads/%7Bfilename%7D\r\n  [3]: https://confluence.atlassian.com/bitbucket/src-resources-296095214.html","title":"How to access source code in bitbucket using REST API?","body":"<p>Strangely there is no way to do this using the latest version (2.0) of the bitbucket.org (cloud) API.</p>\n\n<p>The available data from the <a href=\"https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D\" rel=\"nofollow noreferrer\"><code>/repositories/{username}/{repo}</code></a> endpoint may lead you to somewhere.</p>\n\n<p>You can access files in the 'downloads' of your repo using the <a href=\"https://developer.atlassian.com/bitbucket/api/2/reference/resource/repositories/%7Busername%7D/%7Brepo_slug%7D/downloads/%7Bfilename%7D\" rel=\"nofollow noreferrer\"><code>/repositories/{username}/{repo}/downloads/{filename}</code></a> endpoint.</p>\n\n<hr>\n\n<p>However <a href=\"https://confluence.atlassian.com/bitbucket/src-resources-296095214.html\" rel=\"nofollow noreferrer\">There is an endpoint for what you need in version 1.0 of the API</a>. Based on testing this still works.</p>\n"},{"tags":[],"owner":{"account_id":2871578,"reputation":1037,"user_id":2464815,"display_name":"Sasha Bond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661266344,"creation_date":1661266344,"answer_id":73460873,"question_id":44252975,"body_markdown":"It is available (aug 2022) - see [Get file or directory contents][1]\r\n\r\nImplementation as follows - `# GET /2.0/repositories/{workspace}/{repo_slug}/src/{commit}/{path} `\r\ncreate app password for the user, if you have pipeline `bitbucket-pipelines.yml` in the source, then you can save it using:\r\n```\r\n$pairCloud         = &quot;{... your user ...}:{... your app password ...}&quot; \r\n$credentialsCloud  = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($pairCloud))\r\n$headersBasicCloud = @{&quot;accept&quot; = &quot;application/json&quot;; &quot;authorization&quot; = &quot;Basic $credentialsCloud&quot;} \r\n$bbCloudApi2Url    = &quot;https://api.bitbucket.org/2.0&quot;\r\n\r\n$workspace = &quot;... put your workspace ...&quot;\r\n$repo      = &quot;... put your repo_slug ...&quot;\r\n$commit    = &quot;... put your commit ...&quot;\r\n\r\n$pplUrl    = &quot;$bbCloudApi2Url/repositories/$workspace/$repo/src/$commit/bitbucket-pipelines.yml&quot;\r\n\r\n$ymlppl  = Invoke-WebRequest -Uri $pplUrl -Headers $headersBasicCloud\r\n$ymlppl.Content | Out-File &quot;bitbucket-pipelines.yml&quot;\r\n```\r\n\r\n\r\n  [1]: https://developer.atlassian.com/cloud/bitbucket/rest/api-group-source/#api-repositories-workspace-repo-slug-src-commit-path-get","title":"How to access source code in bitbucket using REST API?","body":"<p>It is available (aug 2022) - see <a href=\"https://developer.atlassian.com/cloud/bitbucket/rest/api-group-source/#api-repositories-workspace-repo-slug-src-commit-path-get\" rel=\"nofollow noreferrer\">Get file or directory contents</a></p>\n<p>Implementation as follows - <code># GET /2.0/repositories/{workspace}/{repo_slug}/src/{commit}/{path} </code>\ncreate app password for the user, if you have pipeline <code>bitbucket-pipelines.yml</code> in the source, then you can save it using:</p>\n<pre><code>$pairCloud         = &quot;{... your user ...}:{... your app password ...}&quot; \n$credentialsCloud  = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($pairCloud))\n$headersBasicCloud = @{&quot;accept&quot; = &quot;application/json&quot;; &quot;authorization&quot; = &quot;Basic $credentialsCloud&quot;} \n$bbCloudApi2Url    = &quot;https://api.bitbucket.org/2.0&quot;\n\n$workspace = &quot;... put your workspace ...&quot;\n$repo      = &quot;... put your repo_slug ...&quot;\n$commit    = &quot;... put your commit ...&quot;\n\n$pplUrl    = &quot;$bbCloudApi2Url/repositories/$workspace/$repo/src/$commit/bitbucket-pipelines.yml&quot;\n\n$ymlppl  = Invoke-WebRequest -Uri $pplUrl -Headers $headersBasicCloud\n$ymlppl.Content | Out-File &quot;bitbucket-pipelines.yml&quot;\n</code></pre>\n"}],"owner":{"account_id":4094678,"reputation":239,"user_id":3361802,"accept_rate":54,"display_name":"user12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44264185,"answer_count":2,"score":0,"last_activity_date":1661266344,"creation_date":1496115181,"question_id":44252975,"body_markdown":"How to access a java file which is sitting in repo in a specific package.\r\nBit bucket has meta data info like pullrequest api,last commit REST APIs.\r\ncan you suggest/help me with sample rest call and also how to pass username and password? given that I know fully qualified class name including project.\r\n\r\nnote: we are using bitbucket which hosted with our organization.\r\n\r\nEx: https://bitbucket.org/repo/my-project\r\nbranch: tempBranch\r\nfile:src/main/java/temp/Main.java\r\n\r\n\r\nI would like to access/view full content on Main.java with in the Rest call.\r\nis there  any REST api exist for this ?","title":"How to access source code in bitbucket using REST API?","body":"<p>How to access a java file which is sitting in repo in a specific package.\nBit bucket has meta data info like pullrequest api,last commit REST APIs.\ncan you suggest/help me with sample rest call and also how to pass username and password? given that I know fully qualified class name including project.</p>\n\n<p>note: we are using bitbucket which hosted with our organization.</p>\n\n<p>Ex: <a href=\"https://bitbucket.org/repo/my-project\" rel=\"nofollow noreferrer\">https://bitbucket.org/repo/my-project</a>\nbranch: tempBranch\nfile:src/main/java/temp/Main.java</p>\n\n<p>I would like to access/view full content on Main.java with in the Rest call.\nis there  any REST api exist for this ?</p>\n"},{"tags":["java","microservices","backend","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661266225,"creation_date":1661266225,"answer_id":73460850,"question_id":73451987,"body_markdown":"Let&#39;s start at the beginning, when you run your [Dropwizard application as a server](https://www.dropwizard.io/en/latest/getting-started.html#running-your-application) you&#39;re giving the `server` command on the command line interface (CLI).\r\nThe example the documentation gives is:\r\n&gt; java -jar target/hello-world-0.0.1-SNAPSHOT.jar server hello-world.yml\r\n\r\nIn `io.dropwizard.Application` (which you normally extend) we can see that the following commands are added to the `bootstrap`:\r\n```lang-java\r\nprotected void addDefaultCommands(Bootstrap&lt;T&gt; bootstrap) {\r\n\tbootstrap.addCommand(new ServerCommand&lt;&gt;(this));\r\n\tbootstrap.addCommand(new CheckCommand&lt;&gt;(this));\r\n}\r\n```\r\nIn this case `this` is the instance of your class extending `Application`, which is given to the `ServerCommand`.\r\n\r\nThen the `run` method in the same class will parse the CLI:\r\n```lang-java\r\npublic void run(String... arguments) throws Exception {\r\n\tfinal Bootstrap&lt;T&gt; bootstrap = new Bootstrap&lt;&gt;(this);\r\n\taddDefaultCommands(bootstrap);\r\n\tinitialize(bootstrap);\r\n\t// Should be called after initialize to give an opportunity to set a custom metric registry\r\n\tbootstrap.registerMetrics();\r\n\r\n\tfinal Cli cli = new Cli(new JarLocation(getClass()), bootstrap, System.out, System.err);\r\n\t// only exit if there&#39;s an error running the command\r\n\tcli.run(arguments).ifPresent(this::onFatalError);\r\n}\r\n```\r\n\r\nWhen we follow ` cli.run(arguments).ifPresent(this::onFatalError);` we end up in `io.dropwizard.cli.Cli#run`. In this method the command is parsed, and since we specified `server` it will find that command by name and execute it:\r\n```lang-java\r\npublic Optional&lt;Throwable&gt; run(String... arguments) {\r\n...\r\nfinal Namespace namespace = parser.parseArgs(arguments);\r\nfinal Command command = requireNonNull(commands.get(namespace.getString(COMMAND_NAME_ATTR)),\r\n\t&quot;Command is not found&quot;);\r\ntry {\r\n\tcommand.run(bootstrap, namespace);\r\n...\r\n```\r\n\r\nThe server command will be an instance of `io.dropwizard.cli.ServerCommand`, which extends `io.dropwizard.cli.EnvironmentCommand`.\r\n\r\nAnd it is in the `EnvironmentCommand` that we can see that your requested `Application.run(...)` method is executed:\r\n```lang-java\r\nprotected void run(Bootstrap&lt;T&gt; bootstrap, Namespace namespace, T configuration) throws Exception {\r\n\t...\r\n\r\n\tbootstrap.run(configuration, environment);\r\n\tapplication.run(configuration, environment);\r\n\trun(environment, namespace, configuration);\r\n}\r\n```\r\nThis line specifically:\r\n&gt; application.run(configuration, environment);\r\n\r\nThe `T configuration` is added via the base class of `EnvironmentCommand`, which is `io.dropwizard.cli.ConfiguredCommand`.\r\n\r\nAll code is taken from Dropwizard version `2.1.0`","title":"How is the method run(T var1, Environment var2) in Application class called in Dropwizard?","body":"<p>Let's start at the beginning, when you run your <a href=\"https://www.dropwizard.io/en/latest/getting-started.html#running-your-application\" rel=\"noreferrer\">Dropwizard application as a server</a> you're giving the <code>server</code> command on the command line interface (CLI).\nThe example the documentation gives is:</p>\n<blockquote>\n<p>java -jar target/hello-world-0.0.1-SNAPSHOT.jar server hello-world.yml</p>\n</blockquote>\n<p>In <code>io.dropwizard.Application</code> (which you normally extend) we can see that the following commands are added to the <code>bootstrap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void addDefaultCommands(Bootstrap&lt;T&gt; bootstrap) {\n    bootstrap.addCommand(new ServerCommand&lt;&gt;(this));\n    bootstrap.addCommand(new CheckCommand&lt;&gt;(this));\n}\n</code></pre>\n<p>In this case <code>this</code> is the instance of your class extending <code>Application</code>, which is given to the <code>ServerCommand</code>.</p>\n<p>Then the <code>run</code> method in the same class will parse the CLI:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void run(String... arguments) throws Exception {\n    final Bootstrap&lt;T&gt; bootstrap = new Bootstrap&lt;&gt;(this);\n    addDefaultCommands(bootstrap);\n    initialize(bootstrap);\n    // Should be called after initialize to give an opportunity to set a custom metric registry\n    bootstrap.registerMetrics();\n\n    final Cli cli = new Cli(new JarLocation(getClass()), bootstrap, System.out, System.err);\n    // only exit if there's an error running the command\n    cli.run(arguments).ifPresent(this::onFatalError);\n}\n</code></pre>\n<p>When we follow <code> cli.run(arguments).ifPresent(this::onFatalError);</code> we end up in <code>io.dropwizard.cli.Cli#run</code>. In this method the command is parsed, and since we specified <code>server</code> it will find that command by name and execute it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Throwable&gt; run(String... arguments) {\n...\nfinal Namespace namespace = parser.parseArgs(arguments);\nfinal Command command = requireNonNull(commands.get(namespace.getString(COMMAND_NAME_ATTR)),\n    &quot;Command is not found&quot;);\ntry {\n    command.run(bootstrap, namespace);\n...\n</code></pre>\n<p>The server command will be an instance of <code>io.dropwizard.cli.ServerCommand</code>, which extends <code>io.dropwizard.cli.EnvironmentCommand</code>.</p>\n<p>And it is in the <code>EnvironmentCommand</code> that we can see that your requested <code>Application.run(...)</code> method is executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void run(Bootstrap&lt;T&gt; bootstrap, Namespace namespace, T configuration) throws Exception {\n    ...\n\n    bootstrap.run(configuration, environment);\n    application.run(configuration, environment);\n    run(environment, namespace, configuration);\n}\n</code></pre>\n<p>This line specifically:</p>\n<blockquote>\n<p>application.run(configuration, environment);</p>\n</blockquote>\n<p>The <code>T configuration</code> is added via the base class of <code>EnvironmentCommand</code>, which is <code>io.dropwizard.cli.ConfiguredCommand</code>.</p>\n<p>All code is taken from Dropwizard version <code>2.1.0</code></p>\n"}],"owner":{"account_id":16069386,"reputation":348,"user_id":11598180,"display_name":"JordanKobeWade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73460850,"answer_count":1,"score":5,"last_activity_date":1661266225,"creation_date":1661211780,"question_id":73451987,"body_markdown":"Within a Dropwizard application, \r\nthe abstract run method in the Application class is usually overriden in the main service with something like this:\r\n\r\n    @Override\r\n    public void run(MyServiceConfiguration configuration, Environment environment) throws Exception {\r\n        // application logic\r\n    }\r\n\r\nI tried tracing the execution logic and couldn&#39;t figure out where/how that method is being called. Can someone point me in the right direction? ","title":"How is the method run(T var1, Environment var2) in Application class called in Dropwizard?","body":"<p>Within a Dropwizard application,\nthe abstract run method in the Application class is usually overriden in the main service with something like this:</p>\n<pre><code>@Override\npublic void run(MyServiceConfiguration configuration, Environment environment) throws Exception {\n    // application logic\n}\n</code></pre>\n<p>I tried tracing the execution logic and couldn't figure out where/how that method is being called. Can someone point me in the right direction?</p>\n"},{"tags":["java","spring","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661263522,"post_id":73459816,"comment_id":129727125,"body_markdown":"Why are you trying to use Mockito.when() on MyClass in the first place? You can only use &quot;when&quot; on mocks.","body":"Why are you trying to use Mockito.when() on MyClass in the first place? You can only use &quot;when&quot; on mocks."},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1661263623,"post_id":73459816,"comment_id":129727174,"body_markdown":"I&#39;m new with java, mocks so I may be doing it wrong. I was trying to mock &quot;otherMethod&quot; inside of myClass.","body":"I&#39;m new with java, mocks so I may be doing it wrong. I was trying to mock &quot;otherMethod&quot; inside of myClass."},{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661263781,"post_id":73459816,"comment_id":129727241,"body_markdown":"You should only mock responses on dependencies of the class you want to test. So in your case you&#39;ll want to do when(myClient.newMyMethodRevisionCall()).thenReturn(something).","body":"You should only mock responses on dependencies of the class you want to test. So in your case you&#39;ll want to do when(myClient.newMyMethodRevisionCall()).thenReturn(somethin&zwnj;&#8203;g)."},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1661264027,"post_id":73459816,"comment_id":129727361,"body_markdown":"But I&#39;m still trying to test the method &quot;myMethod&quot; which calls the method &quot;otherMethod&quot; so shouldn&#39;t I mock &quot;otherMethod&quot;?","body":"But I&#39;m still trying to test the method &quot;myMethod&quot; which calls the method &quot;otherMethod&quot; so shouldn&#39;t I mock &quot;otherMethod&quot;?"},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1661264163,"post_id":73459816,"comment_id":129727427,"body_markdown":"ie when(otherMethod(&quot;hostname&quot;)).thenReturn(something)","body":"ie when(otherMethod(&quot;hostname&quot;)).thenReturn(something)"},{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":0,"creation_date":1661264249,"post_id":73459816,"comment_id":129727475,"body_markdown":"No, &quot;otherMethod&quot; is part of MyClass, so you can&#39;t mock it. From the point of the test it could as well just be all one method. If you don&#39;t want to test the part of &quot;otherMethod&quot; in your test class you&#39;ll need to move it into its own class, so it is a dependency of MyClass which can then be mocked.","body":"No, &quot;otherMethod&quot; is part of MyClass, so you can&#39;t mock it. From the point of the test it could as well just be all one method. If you don&#39;t want to test the part of &quot;otherMethod&quot; in your test class you&#39;ll need to move it into its own class, so it is a dependency of MyClass which can then be mocked."},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1661264937,"post_id":73459816,"comment_id":129727763,"body_markdown":"I&#39;ve tried `when(myClient.newMyMethodRevisionCall()).thenReturn(myMethodRevisionCall);` but that still fails with NullPointerException since then `otherMethod(hostname)` evaluates to null and can&#39;t do .getOSRevision().","body":"I&#39;ve tried <code>when(myClient.newMyMethodRevisionCall()).thenReturn(myMethod&zwnj;&#8203;RevisionCall);</code> but that still fails with NullPointerException since then <code>otherMethod(hostname)</code> evaluates to null and can&#39;t do .getOSRevision()."}],"answers":[{"tags":[],"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661266216,"creation_date":1661266216,"answer_id":73460848,"question_id":73459816,"body_markdown":"You cannot use Mockito.when() on classes that are not mocked by Mockito. MyClass is not a mock. Instead you create an actual instance of it. Therefore, you need to actually run the code and not mock it. However, all dependencies of your class under test (MyClient in your case) you can mock. \r\n\r\nThis is a working example:\r\n\r\n```\r\npublic class MyClass {\r\n    private MyClient myClient;\r\n\r\n    public MyClass(MyClient myClient) {\r\n        this.myClient = myClient;\r\n    }\r\n\r\n    public String myMethod(final String hostname) {\r\n        return otherMethod(hostname).getOSRevision();\r\n    }\r\n\r\n    public OtherMethod otherMethod(final String hostname) {\r\n        return myClient.newMyMethodRevisionCall().call(new SomeObject(hostname));\r\n    }\r\n}\r\n```\r\n```\r\nclass MyClassTest {\r\n    private MyClient myClient;\r\n    private MyClass myClass;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        myClient = mock(MyClient.class);\r\n        myClass = new MyClass(myClient);\r\n    }\r\n\r\n    @Test\r\n    public void test_myMethod() {\r\n        MyMethodRevisionCall myMethodRevisionCall = mock(MyMethodRevisionCall.class);\r\n        OtherMethod otherMethod = mock(OtherMethod.class);\r\n        when(myClient.newMyMethodRevisionCall()).thenReturn(myMethodRevisionCall);\r\n        when(myMethodRevisionCall.call(any())).thenReturn(otherMethod);\r\n        when(otherMethod.getOSRevision()).thenReturn(&quot;revision&quot;);\r\n\r\n        final String result = myClass.myMethod(&quot;TestString&quot;);\r\n\r\n        assertEquals(&quot;revision&quot;, result);\r\n        verify(myMethodRevisionCall, times(1));\r\n    }\r\n}\r\n```","title":"Java Unittest with Mockito NullPointer Exception Error","body":"<p>You cannot use Mockito.when() on classes that are not mocked by Mockito. MyClass is not a mock. Instead you create an actual instance of it. Therefore, you need to actually run the code and not mock it. However, all dependencies of your class under test (MyClient in your case) you can mock.</p>\n<p>This is a working example:</p>\n<pre><code>public class MyClass {\n    private MyClient myClient;\n\n    public MyClass(MyClient myClient) {\n        this.myClient = myClient;\n    }\n\n    public String myMethod(final String hostname) {\n        return otherMethod(hostname).getOSRevision();\n    }\n\n    public OtherMethod otherMethod(final String hostname) {\n        return myClient.newMyMethodRevisionCall().call(new SomeObject(hostname));\n    }\n}\n</code></pre>\n<pre><code>class MyClassTest {\n    private MyClient myClient;\n    private MyClass myClass;\n\n    @BeforeEach\n    void setUp() {\n        myClient = mock(MyClient.class);\n        myClass = new MyClass(myClient);\n    }\n\n    @Test\n    public void test_myMethod() {\n        MyMethodRevisionCall myMethodRevisionCall = mock(MyMethodRevisionCall.class);\n        OtherMethod otherMethod = mock(OtherMethod.class);\n        when(myClient.newMyMethodRevisionCall()).thenReturn(myMethodRevisionCall);\n        when(myMethodRevisionCall.call(any())).thenReturn(otherMethod);\n        when(otherMethod.getOSRevision()).thenReturn(&quot;revision&quot;);\n\n        final String result = myClass.myMethod(&quot;TestString&quot;);\n\n        assertEquals(&quot;revision&quot;, result);\n        verify(myMethodRevisionCall, times(1));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73460848,"answer_count":1,"score":0,"last_activity_date":1661266216,"creation_date":1661261954,"question_id":73459816,"body_markdown":"I&#39;m trying to write a unittest (`test_myMethod`) for one of my methods (`myMethod`) but I can&#39;t seem to get it to work. I get a **NullPointer exception error** with the code below. In my test it seems that the line `myClass.otherMethod(&quot;hostName&quot;)` in the unittest evaluates to Null so it can&#39;t do `.getOSRevision()`. Anyone know how I can get my unittest to pass?\r\n\r\n**MyClass.java**\r\n\r\n    public class MyClass {\r\n        public String myMethod(final String hostname) {\r\n            return otherMethod(hostname).getOSRevision();\r\n        }\r\n\r\n        public OtherMethod otherMethod(final String hostname) {\r\n            OtherMethod response = myClient.newMyMethodRevisionCall().call(\r\n                someObject.builder()\r\n                    .withHostName(hostname)\r\n                    .build()\r\n            );\r\n            return response; \r\n        }\r\n       \r\n    }\r\n\r\n\r\n**MyClassTest.java**\r\n\r\n    public class MyClassTest {\r\n        @Mock\r\n        private MyClient myClient;\r\n\r\n        @Mock\r\n        private MyMethodRevisionCall myMethodRevisionCall;\r\n\r\n        @Mock\r\n        private OtherMethod otherMethod;\r\n        \r\n        private MyClass myClass;\r\n\r\n        @BeforeEach\r\n            void setUp() {\r\n                MockitoAnnotations.initMocks(this);\r\n                when(myClient.newMyMethodRevisionCall()).thenReturn(myMethodRevisionCall);\r\n                myClass = new MyClass(myClient);\r\n        }\r\n \r\n        // My failing unittest attempt\r\n        @Test\r\n        public void test_myMethod() {\r\n            when(myClass.otherMethod(&quot;hostName&quot;)\r\n            .getOSRevision())    //java.lang.NullPointerException happens on this line.\r\n            .thenReturn(&quot;TestString&quot;);\r\n\r\n            final String result = myClass.myMethod(&quot;TestString&quot;);\r\n            verify(myMethodRevisionCall, times(1)\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java Unittest with Mockito NullPointer Exception Error","body":"<p>I'm trying to write a unittest (<code>test_myMethod</code>) for one of my methods (<code>myMethod</code>) but I can't seem to get it to work. I get a <strong>NullPointer exception error</strong> with the code below. In my test it seems that the line <code>myClass.otherMethod(&quot;hostName&quot;)</code> in the unittest evaluates to Null so it can't do <code>.getOSRevision()</code>. Anyone know how I can get my unittest to pass?</p>\n<p><strong>MyClass.java</strong></p>\n<pre><code>public class MyClass {\n    public String myMethod(final String hostname) {\n        return otherMethod(hostname).getOSRevision();\n    }\n\n    public OtherMethod otherMethod(final String hostname) {\n        OtherMethod response = myClient.newMyMethodRevisionCall().call(\n            someObject.builder()\n                .withHostName(hostname)\n                .build()\n        );\n        return response; \n    }\n   \n}\n</code></pre>\n<p><strong>MyClassTest.java</strong></p>\n<pre><code>public class MyClassTest {\n    @Mock\n    private MyClient myClient;\n\n    @Mock\n    private MyMethodRevisionCall myMethodRevisionCall;\n\n    @Mock\n    private OtherMethod otherMethod;\n    \n    private MyClass myClass;\n\n    @BeforeEach\n        void setUp() {\n            MockitoAnnotations.initMocks(this);\n            when(myClient.newMyMethodRevisionCall()).thenReturn(myMethodRevisionCall);\n            myClass = new MyClass(myClient);\n    }\n\n    // My failing unittest attempt\n    @Test\n    public void test_myMethod() {\n        when(myClass.otherMethod(&quot;hostName&quot;)\n        .getOSRevision())    //java.lang.NullPointerException happens on this line.\n        .thenReturn(&quot;TestString&quot;);\n\n        final String result = myClass.myMethod(&quot;TestString&quot;);\n        verify(myMethodRevisionCall, times(1)\n    }\n}\n</code></pre>\n"},{"tags":["java","file","smb"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":2,"creation_date":1661266744,"post_id":73460813,"comment_id":129728595,"body_markdown":"It would be nice if you mention the origin for the class SmbFile somewhere, so that we can lookup how that class is to be used.","body":"It would be nice if you mention the origin for the class SmbFile somewhere, so that we can lookup how that class is to be used."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1661266813,"post_id":73460813,"comment_id":129728625,"body_markdown":"What purpose does the `List` `smb` have? The `for` loop will work on an array in the same way as on a `List`.","body":"What purpose does the <code>List</code> <code>smb</code> have? The <code>for</code> loop will work on an array in the same way as on a <code>List</code>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1661266861,"post_id":73460813,"comment_id":129728653,"body_markdown":"What about the `auth` parameter? It is never used somewhere.","body":"What about the <code>auth</code> parameter? It is never used somewhere."},{"owner":{"display_name":"user19528693"},"score":0,"creation_date":1661267446,"post_id":73460813,"comment_id":129728932,"body_markdown":"so this is the correct way or not??","body":"so this is the correct way or not??"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661268209,"post_id":73460813,"comment_id":129729287,"body_markdown":"Looks to be correct for JCifs","body":"Looks to be correct for JCifs"}],"owner":{"display_name":"user19528693"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661266065,"creation_date":1661266065,"question_id":73460813,"body_markdown":"I am writing code for rename smb file , \r\nis this a correct way to rename smb file in java?\r\nif not suggest me code to rename smb file.\r\n\r\n\r\n\tprivate static void renameSmbFile(String url, String folder, NtlmPasswordAuthentication auth) {\r\n\t\ttry\r\n\t\t{\r\n\t\t\t\r\n\t\t\r\n\t\tdirectoryPath= new SmbFile(url+folder+&quot;/&quot;);\r\n\t\tdirectoryPath.connect();\r\n\t\tList&lt;SmbFile&gt; smb = Arrays.asList(directoryPath.listFiles());\r\n\t\r\n\t\tfor (SmbFile smbfile :smb)\r\n\t\t{\r\n\t\t\tString fileName = smbfile.getName();\r\n\t\t\t//String fileName = smbfile.getCanonicalPath();\r\n\t\t\tint index = fileName.lastIndexOf(&quot;.&quot;);\r\n\t\t\tfileName = fileName.substring(0,index)+&quot;.pdf&quot;;\r\n\t\t\t//new File(fileName).renameTo(new File(nameWithoutProtocol));\r\n\t\t\tSmbFile smbR =new SmbFile(fileName);\r\n\t\t\tsmbfile.renameTo(smbR);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}","title":"this is the correct way to rename SMB file in java?","body":"<p>I am writing code for rename smb file ,\nis this a correct way to rename smb file in java?\nif not suggest me code to rename smb file.</p>\n<pre><code>private static void renameSmbFile(String url, String folder, NtlmPasswordAuthentication auth) {\n    try\n    {\n        \n    \n    directoryPath= new SmbFile(url+folder+&quot;/&quot;);\n    directoryPath.connect();\n    List&lt;SmbFile&gt; smb = Arrays.asList(directoryPath.listFiles());\n\n    for (SmbFile smbfile :smb)\n    {\n        String fileName = smbfile.getName();\n        //String fileName = smbfile.getCanonicalPath();\n        int index = fileName.lastIndexOf(&quot;.&quot;);\n        fileName = fileName.substring(0,index)+&quot;.pdf&quot;;\n        //new File(fileName).renameTo(new File(nameWithoutProtocol));\n        SmbFile smbR =new SmbFile(fileName);\n        smbfile.renameTo(smbR);\n    }\n    \n    \n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","jsf","primefaces"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1661257885,"post_id":73458722,"comment_id":129724457,"body_markdown":"You are just re-setting the series color as *42EFF5*.  Set all the color at once . EG: `bcmMarine.setSeriesColors(&quot;FF0066,42EFF5&quot;);`.  If there are more series than the no of colors then colors will repeat.","body":"You are just re-setting the series color as <i>42EFF5</i>.  Set all the color at once . EG: <code>bcmMarine.setSeriesColors(&quot;FF0066,42EFF5&quot;);</code>.  If there are more series than the no of colors then colors will repeat."},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1661258713,"post_id":73458722,"comment_id":129724839,"body_markdown":"how can I extend those. one&#39;s length is more another&#39;s is less how to extend graph.","body":"how can I extend those. one&#39;s length is more another&#39;s is less how to extend graph."},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1661259515,"post_id":73458722,"comment_id":129725157,"body_markdown":"I don&#39;t understand what you mean by extending . Your first series will take the first color , the second series takes the second color and so on.","body":"I don&#39;t understand what you mean by extending . Your first series will take the first color , the second series takes the second color and so on."},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1661331506,"post_id":73458722,"comment_id":129744181,"body_markdown":"extending means support year 2013&#39;s total is 5000 and 6000 I want it stacked but problem is both bar starts with x axis (horizontally ), I want let 5000 complete then 6000 will be stacked above 5000 not from bottom line (x axis). I hope you get the point.","body":"extending means support year 2013&#39;s total is 5000 and 6000 I want it stacked but problem is both bar starts with x axis (horizontally ), I want let 5000 complete then 6000 will be stacked above 5000 not from bottom line (x axis). I hope you get the point."},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1661332157,"post_id":73458722,"comment_id":129744444,"body_markdown":"For that use `StackbarChart`. I think you should be able to find some documentation regarding that on the in PrimeFaces site itself.","body":"For that use <code>StackbarChart</code>. I think you should be able to find some documentation regarding that on the in PrimeFaces site itself."}],"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661265623,"creation_date":1661257525,"question_id":73458722,"body_markdown":"I want to show bar chart with different colour but only one colour showing. should I use a function which will return two arraylist or only one return is enough.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    public BarChartModel getBcmMarineSH() {\r\n    \t\r\n    \tBarChartSeries FY = new BarChartSeries();\r\n    \tBarChartSeries F2 = new BarChartSeries();\r\n       \r\n    \tString txtFy = &quot;&quot;;\r\n    \tbcmMarine = new BarChartModel();\r\n    \tstacked = new BarChartModel();\r\n    \ttry {\r\n    \t\tArrayList vec = new ArrayList();\r\n    \t\tvec.add(getTrade_Type());\r\n    \t\tArrayList parm = new ArrayList();\r\n    \t\tparm.add(vec);\r\n    \t\tDaoReq[] req = new DaoReq[1];\r\n    \t\treq[0] = new DaoReq();\r\n    \t\treq[0].setMethodSignature(&quot;225&quot;); // getChaPdb()   //getMarinePdbBarChartSM\r\n    \t\treq[0].setParamCount(1);\r\n    \t\treq[0].setParamList(parm);\r\n    \t\tDaoRes res[] = (DaoRes[]) aPosCdbReg.PerformTask(req);\r\n    \t\tif (res[0].isStatus()) {\r\n    \t\t\tArrayList aRes = (ArrayList) res[0].getResult();\r\n    \t\t\t//FY.setLabel((String) aRes.get(0));                             ///  problem starts here\r\n    \t\t//\tFY.setLabel(&quot;Foreign Bill&quot;); \r\n    \t\t\tFY.setData((Map&lt;Object, Number&gt;) aRes.get(0));  //Map\r\n    \t\t\t//ArrayList aReq =(ArrayList) res[1].getResult();\r\n    \t\t\tF2.setData((Map&lt;Object,Number&gt;) aRes.get(1));\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(res[0].getMessage());\r\n    \t\t\tSystem.out.println(res[1].getMessage());\r\n    \t\t\t\r\n    \t\t}\t\t\t\r\n    \t\t//\r\n    \t\tbcmMarine.addSeries(FY);\r\n    \t\tbcmMarine.setSeriesColors(&quot;FF0066&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tbcmMarine.setTitle(&quot;Marine Bills (In Lakhs)&quot;);\r\n    \t\tbcmMarine.setStacked(true);\r\n    \t\tbcmMarine.setAnimate(true);\r\n    \t\tbcmMarine.setShowPointLabels(true);\r\n    \t\tbcmMarine.setShowDatatip(false);\r\n    \t\tbcmMarine.setLegendPosition(&quot;e&quot;);\r\n    \t\tbcmMarine.setLegendCols(1);\r\n    \t\tbcmMarine.getAxis(AxisType.X).setLabel(&quot;Financial Year&quot;);\r\n    \t\tbcmMarine.addSeries(F2);\r\n    \t\tbcmMarine.setSeriesColors(&quot;42EFF5&quot;);\r\n    \t\t//Axis yAxis = bcmCheImport.getAxis(AxisType.Y);\r\n            //yAxis.setMin(0);\r\n            //yAxis.setMax(1000);\r\n    \t} catch (Exception ex) {\r\n    \t\tSystem.out.println(ex.getMessage());\r\n    \t} catch (Throwable th) {\r\n    \t\tSystem.out.println(th.getMessage());\r\n    \t}\r\n    \t\r\n    \treturn bcmMarine;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n5KYL.png\r\n\r\n","title":"I want two stacked barchart with different color Java(JSF) code is given but only one colour is showing","body":"<p>I want to show bar chart with different colour but only one colour showing. should I use a function which will return two arraylist or only one return is enough.</p>\n<p><a href=\"https://i.stack.imgur.com/n5KYL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n5KYL.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public BarChartModel getBcmMarineSH() {\n    \n    BarChartSeries FY = new BarChartSeries();\n    BarChartSeries F2 = new BarChartSeries();\n   \n    String txtFy = &quot;&quot;;\n    bcmMarine = new BarChartModel();\n    stacked = new BarChartModel();\n    try {\n        ArrayList vec = new ArrayList();\n        vec.add(getTrade_Type());\n        ArrayList parm = new ArrayList();\n        parm.add(vec);\n        DaoReq[] req = new DaoReq[1];\n        req[0] = new DaoReq();\n        req[0].setMethodSignature(&quot;225&quot;); // getChaPdb()   //getMarinePdbBarChartSM\n        req[0].setParamCount(1);\n        req[0].setParamList(parm);\n        DaoRes res[] = (DaoRes[]) aPosCdbReg.PerformTask(req);\n        if (res[0].isStatus()) {\n            ArrayList aRes = (ArrayList) res[0].getResult();\n            //FY.setLabel((String) aRes.get(0));                             ///  problem starts here\n        //  FY.setLabel(&quot;Foreign Bill&quot;); \n            FY.setData((Map&lt;Object, Number&gt;) aRes.get(0));  //Map\n            //ArrayList aReq =(ArrayList) res[1].getResult();\n            F2.setData((Map&lt;Object,Number&gt;) aRes.get(1));\n            \n            \n        } else {\n            System.out.println(res[0].getMessage());\n            System.out.println(res[1].getMessage());\n            \n        }           \n        //\n        bcmMarine.addSeries(FY);\n        bcmMarine.setSeriesColors(&quot;FF0066&quot;);\n        \n        \n        bcmMarine.setTitle(&quot;Marine Bills (In Lakhs)&quot;);\n        bcmMarine.setStacked(true);\n        bcmMarine.setAnimate(true);\n        bcmMarine.setShowPointLabels(true);\n        bcmMarine.setShowDatatip(false);\n        bcmMarine.setLegendPosition(&quot;e&quot;);\n        bcmMarine.setLegendCols(1);\n        bcmMarine.getAxis(AxisType.X).setLabel(&quot;Financial Year&quot;);\n        bcmMarine.addSeries(F2);\n        bcmMarine.setSeriesColors(&quot;42EFF5&quot;);\n        //Axis yAxis = bcmCheImport.getAxis(AxisType.Y);\n        //yAxis.setMin(0);\n        //yAxis.setMax(1000);\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n    } catch (Throwable th) {\n        System.out.println(th.getMessage());\n    }\n    \n    return bcmMarine;\n}\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"score":0,"creation_date":1621910493,"post_id":67680400,"comment_id":119629560,"body_markdown":"Please clarify: Do you want a specific key to make a jump and move forward at the same time?","body":"Please clarify: Do you want a specific key to make a jump and move forward at the same time?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1621910648,"post_id":67680400,"comment_id":119629594,"body_markdown":"If you move both left and right at the same time then they cancel each other out because they move the exact same distance. What is the problem exactly?","body":"If you move both left and right at the same time then they cancel each other out because they move the exact same distance. What is the problem exactly?"}],"answers":[{"tags":[],"owner":{"account_id":21152048,"reputation":1269,"user_id":15552152,"display_name":"Mady Daby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621929622,"creation_date":1621929622,"answer_id":67683946,"question_id":67680400,"body_markdown":"So you can make your ball go both up and right or up and left by checking that both keys are pressed and then you can add to the velocity instead of the position to affect the trajectory of the ball. However, then you must slow down the x component of the velocity when it hits the ground, so I added a `friction` variable.\r\n\r\n```java\r\nfloat px, py, vx, vy, ax, ay;\r\nboolean canJump = false;\r\n\r\nfloat bounce = 0.2;\r\nfloat friction = 0.2;\r\n\r\nvoid setup() {\r\n  size(600, 400);\r\n  ax = 0;\r\n  ay = .32;\r\n  vx = 0;\r\n  vy = 0;\r\n  px = 300;\r\n  py = 200;\r\n}\r\n\r\nint x = 50;\r\nint y = 520;\r\n\r\nvoid draw() {\r\n  background(0);\r\n  ellipse(px-15, py-30, 60, 60);\r\n  vx+=ax;\r\n  vy+=ay;\r\n  px+=vx;\r\n  py+=vy;\r\n  if ( py &gt; height ) {\r\n    py = height;\r\n    vy = -bounce*vy;\r\n    vx = friction*vx;\r\n    canJump = true;\r\n  }\r\n}\r\n\r\nvoid keyPressed() {  \r\n  if (keyCode == RIGHT &amp;&amp; keyCode == UP) {\r\n    if (canJump) {\r\n      vy = -10;\r\n      vx += 5;\r\n      canJump = false;\r\n    }\r\n  } else if (keyCode == LEFT &amp;&amp; keyCode == UP) {\r\n    if (canJump) {\r\n      vy = -10;\r\n      vx += -5;\r\n      canJump = false;\r\n    }\r\n  } else {\r\n    if (keyCode == RIGHT || key == &#39;d&#39;) {\r\n      vx += 5;\r\n    }\r\n\r\n    if (keyCode == LEFT || key == &#39;a&#39;) {\r\n      vx -= 5;\r\n    }\r\n    if (keyCode == UP) {\r\n      if (canJump) {\r\n        vy = -10;\r\n        canJump = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nYou can improve the implementation of your program by taking a look at processing&#39;s [`PVector`](https://processing.org/reference/PVector.html) class.\r\n\r\n```java\r\nPVector pos;\r\nPVector vel;\r\nPVector acc;\r\n\r\nfloat friction = 0.3;\r\nfloat bounce = 0.5;\r\n\r\nfloat diameter = 60;\r\n\r\nboolean canJump = false;\r\n\r\nvoid setup() {\r\n  size(600, 400);\r\n\r\n  pos = new PVector(300, 200);\r\n  vel = new PVector(0, 1);\r\n  acc = new PVector(0, 0.32);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  circle(pos.x, pos.y, diameter);\r\n\r\n  vel.add(acc);\r\n  pos.add(vel);\r\n\r\n  if (pos.y + diameter/2 &gt; height) {\r\n    pos.set(pos.x, height-diameter/2);\r\n    vel.set(vel.x*friction, -vel.y*bounce);\r\n    canJump = true;\r\n  }\r\n}\r\n\r\nvoid keyPressed() {\r\n  boolean right = keyCode == RIGHT || key == &#39;d&#39;;\r\n  boolean left = keyCode == LEFT || key == &#39;a&#39;;\r\n  boolean up = keyCode == UP || key == &#39;w&#39;;\r\n\r\n\r\n  if (up &amp;&amp; right &amp;&amp; canJump) {\r\n    vel.add(5, -10);\r\n    canJump = false;\r\n  } else if (up &amp;&amp; left &amp;&amp; canJump) {\r\n    vel.add(-5, -10);\r\n    canJump = false;\r\n  } else {\r\n    if (up &amp;&amp; canJump) {\r\n      vel.add(0, -10);\r\n      canJump = false;\r\n    }\r\n\r\n    if (right) {\r\n      vel.add(5, 0);\r\n    }\r\n\r\n    if (left) {\r\n      vel.add(-5, 0);\r\n    }\r\n  }\r\n}\r\n```","title":"jumping and moving in processing","body":"<p>So you can make your ball go both up and right or up and left by checking that both keys are pressed and then you can add to the velocity instead of the position to affect the trajectory of the ball. However, then you must slow down the x component of the velocity when it hits the ground, so I added a <code>friction</code> variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float px, py, vx, vy, ax, ay;\nboolean canJump = false;\n\nfloat bounce = 0.2;\nfloat friction = 0.2;\n\nvoid setup() {\n  size(600, 400);\n  ax = 0;\n  ay = .32;\n  vx = 0;\n  vy = 0;\n  px = 300;\n  py = 200;\n}\n\nint x = 50;\nint y = 520;\n\nvoid draw() {\n  background(0);\n  ellipse(px-15, py-30, 60, 60);\n  vx+=ax;\n  vy+=ay;\n  px+=vx;\n  py+=vy;\n  if ( py &gt; height ) {\n    py = height;\n    vy = -bounce*vy;\n    vx = friction*vx;\n    canJump = true;\n  }\n}\n\nvoid keyPressed() {  \n  if (keyCode == RIGHT &amp;&amp; keyCode == UP) {\n    if (canJump) {\n      vy = -10;\n      vx += 5;\n      canJump = false;\n    }\n  } else if (keyCode == LEFT &amp;&amp; keyCode == UP) {\n    if (canJump) {\n      vy = -10;\n      vx += -5;\n      canJump = false;\n    }\n  } else {\n    if (keyCode == RIGHT || key == 'd') {\n      vx += 5;\n    }\n\n    if (keyCode == LEFT || key == 'a') {\n      vx -= 5;\n    }\n    if (keyCode == UP) {\n      if (canJump) {\n        vy = -10;\n        canJump = false;\n      }\n    }\n  }\n}\n</code></pre>\n<p>You can improve the implementation of your program by taking a look at processing's <a href=\"https://processing.org/reference/PVector.html\" rel=\"nofollow noreferrer\"><code>PVector</code></a> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PVector pos;\nPVector vel;\nPVector acc;\n\nfloat friction = 0.3;\nfloat bounce = 0.5;\n\nfloat diameter = 60;\n\nboolean canJump = false;\n\nvoid setup() {\n  size(600, 400);\n\n  pos = new PVector(300, 200);\n  vel = new PVector(0, 1);\n  acc = new PVector(0, 0.32);\n}\n\nvoid draw() {\n  background(0);\n  circle(pos.x, pos.y, diameter);\n\n  vel.add(acc);\n  pos.add(vel);\n\n  if (pos.y + diameter/2 &gt; height) {\n    pos.set(pos.x, height-diameter/2);\n    vel.set(vel.x*friction, -vel.y*bounce);\n    canJump = true;\n  }\n}\n\nvoid keyPressed() {\n  boolean right = keyCode == RIGHT || key == 'd';\n  boolean left = keyCode == LEFT || key == 'a';\n  boolean up = keyCode == UP || key == 'w';\n\n\n  if (up &amp;&amp; right &amp;&amp; canJump) {\n    vel.add(5, -10);\n    canJump = false;\n  } else if (up &amp;&amp; left &amp;&amp; canJump) {\n    vel.add(-5, -10);\n    canJump = false;\n  } else {\n    if (up &amp;&amp; canJump) {\n      vel.add(0, -10);\n      canJump = false;\n    }\n\n    if (right) {\n      vel.add(5, 0);\n    }\n\n    if (left) {\n      vel.add(-5, 0);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14744851,"reputation":47,"user_id":10648527,"display_name":"Anan Mao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67683946,"answer_count":1,"score":1,"last_activity_date":1661265579,"creation_date":1621903693,"question_id":67680400,"body_markdown":"I am trying to get a circle to be able to jump and move left and right at the same time, but right now its either only jumping or moving forward at a time. Anyone know how to change my code to solve this? Thanks\r\n\r\n```\r\nfloat px,py,vx,vy,ax,ay;\r\nboolean canJump = false;\r\n\r\nvoid setup(){\r\n  size(600, 400);\r\n  ax = 0;\r\n  ay = .32;\r\n  vx = 0;\r\n  vy = 0;\r\n  px = 300;\r\n  py = 200;\r\n}\r\n\r\nint x = 50;\r\nint y = 520;\r\n\r\nvoid draw(){\r\n  background(0);\r\n  ellipse(px-15, py-30, 60, 60);\r\n  vx+=ax;\r\n  vy+=ay;\r\n  px+=vx;\r\n  py+=vy;\r\n  if( py &gt; height ){\r\n    py = height;\r\n    vy = 0;\r\n    canJump = true;\r\n  }\r\n  player();\r\n}\r\n\r\nvoid player(){\r\n  fill(255);\r\n  rect(0, 550, 1000, 50);\r\n}\r\n\r\nvoid keyPressed(){\r\n  if(keyCode == RIGHT || key == &#39;d&#39;){\r\n    px += 10;\r\n  }\r\n  \r\n  if(keyCode == LEFT || key == &#39;a&#39;){\r\n    px -= 10;\r\n  }\r\n  if(keyCode == UP){\r\n    if(canJump) {\r\n      vy = -10;\r\n      canJump = false;\r\n    }\r\n  }\r\n  \r\n}","title":"jumping and moving in processing","body":"<p>I am trying to get a circle to be able to jump and move left and right at the same time, but right now its either only jumping or moving forward at a time. Anyone know how to change my code to solve this? Thanks</p>\n<pre><code>float px,py,vx,vy,ax,ay;\nboolean canJump = false;\n\nvoid setup(){\n  size(600, 400);\n  ax = 0;\n  ay = .32;\n  vx = 0;\n  vy = 0;\n  px = 300;\n  py = 200;\n}\n\nint x = 50;\nint y = 520;\n\nvoid draw(){\n  background(0);\n  ellipse(px-15, py-30, 60, 60);\n  vx+=ax;\n  vy+=ay;\n  px+=vx;\n  py+=vy;\n  if( py &gt; height ){\n    py = height;\n    vy = 0;\n    canJump = true;\n  }\n  player();\n}\n\nvoid player(){\n  fill(255);\n  rect(0, 550, 1000, 50);\n}\n\nvoid keyPressed(){\n  if(keyCode == RIGHT || key == 'd'){\n    px += 10;\n  }\n  \n  if(keyCode == LEFT || key == 'a'){\n    px -= 10;\n  }\n  if(keyCode == UP){\n    if(canJump) {\n      vy = -10;\n      canJump = false;\n    }\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","bigdata"],"answers":[{"tags":[],"owner":{"account_id":9578961,"reputation":38,"user_id":7114092,"display_name":"Arjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661265551,"creation_date":1661265551,"answer_id":73460684,"question_id":73460596,"body_markdown":"Yes, this is possible, please have a look at link https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/\r\n\r\nAlso, if you can setup spark history server on your local machine, you can trace transformations, DAG etc.","title":"Simulate Workers in SPARK -Java-","body":"<p>Yes, this is possible, please have a look at link <a href=\"https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/</a></p>\n<p>Also, if you can setup spark history server on your local machine, you can trace transformations, DAG etc.</p>\n"}],"owner":{"account_id":20157036,"reputation":33,"user_id":14782973,"display_name":"James Webster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73460684,"answer_count":1,"score":1,"last_activity_date":1661265551,"creation_date":1661265218,"question_id":73460596,"body_markdown":"I was wondering if there is any way to simulate some workers in my local machine, I do know all spark can be set up locally and all can be fully tested. However, I was wondering if it is possible to actually simulate workers, with the idea to see how the repartition of work, loads and the DAG dynamics work. \r\n\r\nI also can think about ways that can help me out, for example debugging and tracing data transformations. What I want to do is to develop an optimal way do my program in a testing fashion, I do not wanna rely in the big theory behind shuffling and expensive operations. Or are we dommed to try to test this up in a trial and error in real clusterS? thanks!","title":"Simulate Workers in SPARK -Java-","body":"<p>I was wondering if there is any way to simulate some workers in my local machine, I do know all spark can be set up locally and all can be fully tested. However, I was wondering if it is possible to actually simulate workers, with the idea to see how the repartition of work, loads and the DAG dynamics work.</p>\n<p>I also can think about ways that can help me out, for example debugging and tracing data transformations. What I want to do is to develop an optimal way do my program in a testing fashion, I do not wanna rely in the big theory behind shuffling and expensive operations. Or are we dommed to try to test this up in a trial and error in real clusterS? thanks!</p>\n"},{"tags":["java","gradle","jar","noclassdeffounderror"],"comments":[{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1661248900,"post_id":73455321,"comment_id":129720948,"body_markdown":"You are only packaging the dependencies, but not the actual code/resources itself. Where did you get the code for the `uberJar` from? Why not use this plugin for creating a fat-jar https://github.com/johnrengelman/shadow ?","body":"You are only packaging the dependencies, but not the actual code/resources itself. Where did you get the code for the <code>uberJar</code> from? Why not use this plugin for creating a fat-jar <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">github.com/johnrengelman/shadow</a> ?"},{"owner":{"account_id":19235238,"reputation":140,"user_id":14056324,"display_name":"Nephty"},"score":0,"creation_date":1661265511,"post_id":73455321,"comment_id":129727991,"body_markdown":"I don&#39;t quite remember, it&#39;s something I tried out but forgot to remove. What do you mean by using this plugin ? The build.gradle jar task or something more ?","body":"I don&#39;t quite remember, it&#39;s something I tried out but forgot to remove. What do you mean by using this plugin ? The build.gradle jar task or something more ?"},{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1661265749,"post_id":73455321,"comment_id":129728107,"body_markdown":"The shadow plugin deals with all the intricacies of creating a fat/uber jar, I&#39;m suggesting to use it, instead of trying to create your own task for it.","body":"The shadow plugin deals with all the intricacies of creating a fat/uber jar, I&#39;m suggesting to use it, instead of trying to create your own task for it."}],"owner":{"account_id":19235238,"reputation":140,"user_id":14056324,"display_name":"Nephty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661265538,"creation_date":1661242799,"question_id":73455321,"body_markdown":"After countless days of trying to find an answer to my question, I&#39;ve decided to post it here. I&#39;ve been developping a monitoring application for my company, and as I&#39;m about to distribute it, the jar file seems not runnable. The exact error is :\r\n```\r\nError: Could not find or load main class net.nephty.connectwisemonitoring.app.Main\r\nCaused by: java.lang.ClassNotFoundException: net.nephty.connectwisemonitoring.app.Main\r\n```\r\nThe Main class contains the main method that runs the application. It works fine when being run, meaning there is no compile time error.\r\n\r\nI am building this project using Gradle. Here is my build.gradle file :\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.24.1&#39;\r\n}\r\n\r\ngroup &#39;net.nephty&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.0&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;net.nephty.connectwisemonitoring&#39;\r\n    mainClass = &#39;net.nephty.connectwisemonitoring.app.Main&#39;\r\n}\r\n\r\njavafx {\r\n    version = &quot;18.0.2&quot;\r\n    modules = [&#39;javafx.base&#39;, &#39;javafx.controls&#39;, &#39;javafx.fxml&#39;, &#39;javafx.graphics&#39;, &#39;javafx.media&#39;, &#39;javafx.swing&#39;, &#39;javafx.web&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;org.controlsfx:controlsfx:11.1.1&#39;)\r\n    implementation(&#39;com.dlsc.formsfx:formsfx-core:11.5.0&#39;) {\r\n        exclude(group: &#39;org.openjfx&#39;)\r\n    }\r\n\r\n    implementation(&#39;org.kordamp.ikonli:ikonli-javafx:12.3.1&#39;)\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.4.0&#39;\r\n\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n\r\ntask fatJar(type: Jar) {\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    manifest {\r\n        attributes &#39;Start-Class&#39;: &#39;net.nephty.connectwisemonitoring.app.Main&#39;\r\n        attributes &#39;Main-Class&#39;: &#39;net.nephty.connectwisemonitoring.app.Main&#39;\r\n    }\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;net.nephty.connectwisemonitoring.app.Main&#39;\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nBecause of the error I&#39;ve had, I&#39;ve tried unpacking the jar to see if my code was in the right location. When unpacking the jar, I see that there is no net/nephty/... directory and cannot find my code anywhere.\r\n\r\nThe manifest is being build properly, as all the specified attributes end up in the file.\r\n\r\nI&#39;ve looked up [this][1], [this][2], [this][3] and [this][4] post, as well as many many more but none seemed to solve my issue.\r\n\r\nI&#39;ve tried making a new project and re-writing my build.gradle file but to no avail.\r\n\r\nWhen I use `gradle jar`, the code ends up in the jar, which is what I want. Unfortunately, `gradle jar` doesn&#39;t include dependencies AFAIK.\r\n\r\nIf you&#39;d like a minimal reproducible example, you can try creating a new project using gradle and use my build.gradle file as well as a basic main class located in the correct path. If you&#39;d like to have the code sample, I&#39;ve uploaded it [here][5].\r\n\r\nI feel like I&#39;m really really close to solving this, but I can&#39;t find the source of the issue. My best guess would be that it stems from this part of the build.gradle file :\r\n\r\n```\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n```\r\nwhere the runtimeClasspath would be wrong but I can&#39;t find anything about this.\r\n\r\nSpecs :\r\n```\r\n------------------------------------------------------------         \r\nGradle 7.5                                                           \r\n------------------------------------------------------------         \r\n                                                                     \r\nBuild time:   2022-07-14 12:48:15 UTC                                \r\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103               \r\n                                                                     \r\nKotlin:       1.6.21                                                 \r\nGroovy:       3.0.10                                                 \r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.4 (Oracle Corporation 17.0.4+11-LTS-179)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\nThanks in advance for your time. Let me know if I missed some information I should share.\r\n\r\nEDIT : I&#39;ve tried changing the duplicate strategy but that didn&#39;t do anything.\r\n\r\n  [1]: https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica\r\n  [2]: https://stackoverflow.com/questions/70489776/im-encounter-a-java-lang-noclassdeffounderror-and-i-dont-know-why-its-occurin\r\n  [3]: https://stackoverflow.com/questions/49278063/how-do-i-create-an-executable-fat-jar-with-gradle-with-implementation-dependenci\r\n  [4]: https://stackoverflow.com/questions/51455197/gradle-fatjar-could-not-find-or-load-main-class\r\n  [5]: https://transfer.sh/O18qVk/ConnectwiseMonitoring.zip","title":"NoClassDefFoundError : cannot find main class in jar file","body":"<p>After countless days of trying to find an answer to my question, I've decided to post it here. I've been developping a monitoring application for my company, and as I'm about to distribute it, the jar file seems not runnable. The exact error is :</p>\n<pre><code>Error: Could not find or load main class net.nephty.connectwisemonitoring.app.Main\nCaused by: java.lang.ClassNotFoundException: net.nephty.connectwisemonitoring.app.Main\n</code></pre>\n<p>The Main class contains the main method that runs the application. It works fine when being run, meaning there is no compile time error.</p>\n<p>I am building this project using Gradle. Here is my build.gradle file :</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.1'\n}\n\ngroup 'net.nephty'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.0'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'net.nephty.connectwisemonitoring'\n    mainClass = 'net.nephty.connectwisemonitoring.app.Main'\n}\n\njavafx {\n    version = &quot;18.0.2&quot;\n    modules = ['javafx.base', 'javafx.controls', 'javafx.fxml', 'javafx.graphics', 'javafx.media', 'javafx.swing', 'javafx.web']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.1')\n    implementation('com.dlsc.formsfx:formsfx-core:11.5.0') {\n        exclude(group: 'org.openjfx')\n    }\n\n    implementation('org.kordamp.ikonli:ikonli-javafx:12.3.1')\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.4.0'\n\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n\ntask fatJar(type: Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes 'Start-Class': 'net.nephty.connectwisemonitoring.app.Main'\n        attributes 'Main-Class': 'net.nephty.connectwisemonitoring.app.Main'\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    exclude 'META-INF/*.RSA'\n    exclude 'META-INF/*.SF'\n    exclude 'META-INF/*.DSA'\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'net.nephty.connectwisemonitoring.app.Main'\n        )\n    }\n}\n</code></pre>\n<p>Because of the error I've had, I've tried unpacking the jar to see if my code was in the right location. When unpacking the jar, I see that there is no net/nephty/... directory and cannot find my code anywhere.</p>\n<p>The manifest is being build properly, as all the specified attributes end up in the file.</p>\n<p>I've looked up <a href=\"https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica\">this</a>, <a href=\"https://stackoverflow.com/questions/70489776/im-encounter-a-java-lang-noclassdeffounderror-and-i-dont-know-why-its-occurin\">this</a>, <a href=\"https://stackoverflow.com/questions/49278063/how-do-i-create-an-executable-fat-jar-with-gradle-with-implementation-dependenci\">this</a> and <a href=\"https://stackoverflow.com/questions/51455197/gradle-fatjar-could-not-find-or-load-main-class\">this</a> post, as well as many many more but none seemed to solve my issue.</p>\n<p>I've tried making a new project and re-writing my build.gradle file but to no avail.</p>\n<p>When I use <code>gradle jar</code>, the code ends up in the jar, which is what I want. Unfortunately, <code>gradle jar</code> doesn't include dependencies AFAIK.</p>\n<p>If you'd like a minimal reproducible example, you can try creating a new project using gradle and use my build.gradle file as well as a basic main class located in the correct path. If you'd like to have the code sample, I've uploaded it <a href=\"https://transfer.sh/O18qVk/ConnectwiseMonitoring.zip\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I feel like I'm really really close to solving this, but I can't find the source of the issue. My best guess would be that it stems from this part of the build.gradle file :</p>\n<pre><code>    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n</code></pre>\n<p>where the runtimeClasspath would be wrong but I can't find anything about this.</p>\n<p>Specs :</p>\n<pre><code>------------------------------------------------------------         \nGradle 7.5                                                           \n------------------------------------------------------------         \n                                                                     \nBuild time:   2022-07-14 12:48:15 UTC                                \nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103               \n                                                                     \nKotlin:       1.6.21                                                 \nGroovy:       3.0.10                                                 \nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.4 (Oracle Corporation 17.0.4+11-LTS-179)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>Thanks in advance for your time. Let me know if I missed some information I should share.</p>\n<p>EDIT : I've tried changing the duplicate strategy but that didn't do anything.</p>\n"},{"tags":["javascript","java","spring-boot","spring-websocket"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1661277662,"post_id":73460456,"comment_id":129732482,"body_markdown":"Not quite, the JS code will _listen_ on `/topic/greetings` (it sends to `/hello`, according to your backend code); which is where your Java code is sending to. There&#39;s nothing to &quot;create&quot; really, but depending on the implementation, a topic will either start existing when clients start to listen on it or when servers publish on the topic. Note that there is an annotation `@SendTo` and Spring might very well run some setup during bootstrapping the application.","body":"Not quite, the JS code will <i>listen</i> on <code>&#47;topic&#47;greetings</code> (it sends to <code>&#47;hello</code>, according to your backend code); which is where your Java code is sending to. There&#39;s nothing to &quot;create&quot; really, but depending on the implementation, a topic will either start existing when clients start to listen on it or when servers publish on the topic. Note that there is an annotation <code>@SendTo</code> and Spring might very well run some setup during bootstrapping the application."},{"owner":{"account_id":21606474,"reputation":15,"user_id":16909643,"display_name":"shaxa 2000"},"score":0,"creation_date":1661354343,"post_id":73460456,"comment_id":129753713,"body_markdown":"Thank you for the answer, I think I understood how it works thanks to you","body":"Thank you for the answer, I think I understood how it works thanks to you"}],"owner":{"account_id":21606474,"reputation":15,"user_id":16909643,"display_name":"shaxa 2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661264620,"creation_date":1661264620,"question_id":73460456,"body_markdown":"I can&#39;t figure out when and where exactly the &quot;greetings&quot; room is created in the code.\r\n\r\nThis is my js code\r\n\r\n    function connect() {\r\n        var socket = new SockJS(&#39;/gs-guide-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            setConnected(true);\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/topic/greetings&#39;, function (greeting) {//here it subsribe to this chat channel\r\n                showGreeting(JSON.parse(greeting.body).content);\r\n            });\r\n        });\r\n    }\r\n\r\n    \r\nand this is java\r\n\r\n    @Controller\r\n    public class GreetingController {\r\n\r\n\r\n\t@MessageMapping(&quot;/hello&quot;)\r\n\t@SendTo(&quot;/topic/greetings&quot;)\r\n\tpublic Greeting greeting(HelloMessage message) throws Exception {\r\n\t\treturn new Greeting(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getName()) + &quot;!&quot;);\r\n\t}\r\n\r\n}\r\n\r\nIn js I see that message will be send to &quot;/topic/greetings&quot;, and in java code I see where will be server send answer(/topic/greetings), but where in code this topic have been created ? ","title":"When websocket topic is created?","body":"<p>I can't figure out when and where exactly the &quot;greetings&quot; room is created in the code.</p>\n<p>This is my js code</p>\n<pre><code>function connect() {\n    var socket = new SockJS('/gs-guide-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        setConnected(true);\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/topic/greetings', function (greeting) {//here it subsribe to this chat channel\n            showGreeting(JSON.parse(greeting.body).content);\n        });\n    });\n}\n</code></pre>\n<p>and this is java</p>\n<pre><code>@Controller\npublic class GreetingController {\n\n\n@MessageMapping(&quot;/hello&quot;)\n@SendTo(&quot;/topic/greetings&quot;)\npublic Greeting greeting(HelloMessage message) throws Exception {\n    return new Greeting(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getName()) + &quot;!&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>In js I see that message will be send to &quot;/topic/greetings&quot;, and in java code I see where will be server send answer(/topic/greetings), but where in code this topic have been created ?</p>\n"},{"tags":["java","spring","spring-mvc","annotations"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661264400,"creation_date":1661258192,"answer_id":73458873,"question_id":73458560,"body_markdown":"You can use [Expression-Based Access Control][1]\r\n\r\n    @GetMapping(&quot;/{s}&quot;)\r\n    @PreAuthorize(&quot;@myMethod(#s, Constant.WRITE&quot;)\r\n    public ResponseEntity&lt;MyDto&gt; getDto(\r\n        @PathVariable(&quot;s&quot;) String s\r\n    ) {}\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html","title":"Path variable usage as annotation param","body":"<p>You can use <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html\" rel=\"nofollow noreferrer\">Expression-Based Access Control</a></p>\n<pre><code>@GetMapping(&quot;/{s}&quot;)\n@PreAuthorize(&quot;@myMethod(#s, Constant.WRITE&quot;)\npublic ResponseEntity&lt;MyDto&gt; getDto(\n    @PathVariable(&quot;s&quot;) String s\n) {}\n</code></pre>\n"}],"owner":{"account_id":15554610,"reputation":81,"user_id":11221407,"display_name":"Ytug Ilya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73458873,"answer_count":1,"score":0,"last_activity_date":1661264400,"creation_date":1661256881,"question_id":73458560,"body_markdown":"I&#39;ve got simple spring mvc controller\r\n\r\n    @GetMapping(&quot;/{s}&quot;)\r\n    @PreAuthorize(&quot;@myMethod(s, Constant.WRITE&quot;)\r\n    public ResponseEntity&lt;MyDto&gt; getDto(\r\n        @PathVariable(&quot;s&quot;) String s\r\n    ) {}\r\n\r\nSo the problem is to pass the path variable to PreAuthorize annotation. \r\nCan SPeL help me in this situation?","title":"Path variable usage as annotation param","body":"<p>I've got simple spring mvc controller</p>\n<pre><code>@GetMapping(&quot;/{s}&quot;)\n@PreAuthorize(&quot;@myMethod(s, Constant.WRITE&quot;)\npublic ResponseEntity&lt;MyDto&gt; getDto(\n    @PathVariable(&quot;s&quot;) String s\n) {}\n</code></pre>\n<p>So the problem is to pass the path variable to PreAuthorize annotation.\nCan SPeL help me in this situation?</p>\n"},{"tags":["java","string","formatter"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1661248494,"post_id":73456582,"comment_id":129720802,"body_markdown":"`Integer.toString` to convert your number into a String, then a couple of `subString` calls interlaced with `+ &quot;-&quot; +`","body":"<code>Integer.toString</code> to convert your number into a String, then a couple of <code>subString</code> calls interlaced with <code>+ &quot;-&quot; +</code>"},{"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"score":1,"creation_date":1661248496,"post_id":73456582,"comment_id":129720803,"body_markdown":"How does it look from your DB?","body":"How does it look from your DB?"},{"owner":{"account_id":21161675,"reputation":43,"user_id":15559796,"display_name":"EvgenyMalkov"},"score":0,"creation_date":1661248667,"post_id":73456582,"comment_id":129720864,"body_markdown":"@AmohPrince i get from DB: 12345678910","body":"@AmohPrince i get from DB: 12345678910"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661248960,"creation_date":1661248960,"answer_id":73456738,"question_id":73456582,"body_markdown":"You could use regex after converting your number to string:\r\n\r\n    long number = 12345678910L;\r\n\r\n    String str = String.join(&quot;-&quot;, String.valueOf(number).split(&quot;(?&lt;=\\\\G...)&quot;));\r\n    System.out.println(str);\r\n\r\n ","title":"Format eleven digit number to string","body":"<p>You could use regex after converting your number to string:</p>\n<pre><code>long number = 12345678910L;\n\nString str = String.join(&quot;-&quot;, String.valueOf(number).split(&quot;(?&lt;=\\\\G...)&quot;));\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661250454,"creation_date":1661248985,"answer_id":73456740,"question_id":73456582,"body_markdown":"11 digits might overflow an `int` so use a `long`.\r\n\r\n    long n = resultSet.getLong(...);\r\n\r\n    String formatN(long n) {\r\n        if (n &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Illegal &quot; + n);\r\n        }\r\n        String d = String.format(&quot;%011d&quot;, n);\r\n        if (d.length() &gt; 11) {\r\n            throw new IllegalArgumentException(&quot;Illegal &quot; + n);\r\n        }\r\n        return d.substring(0, 3) + &quot;-&quot; + d.substring(3, 6)\r\n            + &quot;-&quot; + d.substring(6, 9) + &quot;-&quot; + d.substring(9);\r\n    }\r\n\r\n","title":"Format eleven digit number to string","body":"<p>11 digits might overflow an <code>int</code> so use a <code>long</code>.</p>\n<pre><code>long n = resultSet.getLong(...);\n\nString formatN(long n) {\n    if (n &lt; 0) {\n        throw new IllegalArgumentException(&quot;Illegal &quot; + n);\n    }\n    String d = String.format(&quot;%011d&quot;, n);\n    if (d.length() &gt; 11) {\n        throw new IllegalArgumentException(&quot;Illegal &quot; + n);\n    }\n    return d.substring(0, 3) + &quot;-&quot; + d.substring(3, 6)\n        + &quot;-&quot; + d.substring(6, 9) + &quot;-&quot; + d.substring(9);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661249627,"creation_date":1661249627,"answer_id":73456888,"question_id":73456582,"body_markdown":"You can use a `StringBuilder`:\r\n\r\n        long number = 12345678910L;\r\n        String stringNumber = new StringBuilder(number + &quot;&quot;)\r\n                .insert(3, &#39;-&#39;)\r\n                .insert(7, &#39;-&#39;)\r\n                .insert(11, &#39;-&#39;)\r\n                .toString();","title":"Format eleven digit number to string","body":"<p>You can use a <code>StringBuilder</code>:</p>\n<pre><code>    long number = 12345678910L;\n    String stringNumber = new StringBuilder(number + &quot;&quot;)\n            .insert(3, '-')\n            .insert(7, '-')\n            .insert(11, '-')\n            .toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661250186,"creation_date":1661249834,"answer_id":73456930,"question_id":73456582,"body_markdown":"That number is way too long to be an Integer. It depends on the data type you pull from the database. Use a long instead.\r\n\r\n\r\n        long yourInteger = 12345678910L;\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        String s = Long.toString(yourInteger);\r\n\r\n        for (int i = 0; i &lt; s.length(); i = i + 3) {\r\n            if (s.length() - i &gt; 3) {\r\n                String subString = s.substring(i, i + 3);\r\n                stringBuilder.append(subString);\r\n                stringBuilder.append(&quot;-&quot;);\r\n            }\r\n        }\r\n\r\n        stringBuilder.append(s.substring(s.length() - 2));\r\n\r\n        System.out.println(stringBuilder.toString());\r\n\r\n","title":"Format eleven digit number to string","body":"<p>That number is way too long to be an Integer. It depends on the data type you pull from the database. Use a long instead.</p>\n<pre><code>    long yourInteger = 12345678910L;\n    StringBuilder stringBuilder = new StringBuilder();\n    String s = Long.toString(yourInteger);\n\n    for (int i = 0; i &lt; s.length(); i = i + 3) {\n        if (s.length() - i &gt; 3) {\n            String subString = s.substring(i, i + 3);\n            stringBuilder.append(subString);\n            stringBuilder.append(&quot;-&quot;);\n        }\n    }\n\n    stringBuilder.append(s.substring(s.length() - 2));\n\n    System.out.println(stringBuilder.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661264359,"creation_date":1661264048,"answer_id":73460326,"question_id":73456582,"body_markdown":"How about like this.  Use [String.replaceAll](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)).\r\n- Convert the `long` to a String\r\n- Replace every `3 digits` with those digits followed by a `-`\r\n- `$0`- is the back reference to the string matched by the regex.\r\n```\r\nlong value = 12345678910L;\r\nString val = Long.toString(value).replaceAll(&quot;\\\\d\\\\d\\\\d&quot;,&quot;$0-&quot;);\r\nSystem.out.println(val);\r\n```\r\nprints\r\n```\r\n123-456-789-10\r\n```\r\nThis easily lends itself to a lambda\r\n```\r\n\r\nFunction&lt;Long, String&gt; format = v-&gt;Long.toString(v).replaceAll(&quot;\\\\d\\\\d\\\\d&quot;,&quot;$0-&quot;);\r\nString result = format.apply(value);\r\n```\r\n**Note:** If the number is a already a String or can be retrieved as one, you can forgo the `Long.toString()` conversion.","title":"Format eleven digit number to string","body":"<p>How about like this.  Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String.replaceAll</a>.</p>\n<ul>\n<li>Convert the <code>long</code> to a String</li>\n<li>Replace every <code>3 digits</code> with those digits followed by a <code>-</code></li>\n<li><code>$0</code>- is the back reference to the string matched by the regex.</li>\n</ul>\n<pre><code>long value = 12345678910L;\nString val = Long.toString(value).replaceAll(&quot;\\\\d\\\\d\\\\d&quot;,&quot;$0-&quot;);\nSystem.out.println(val);\n</code></pre>\n<p>prints</p>\n<pre><code>123-456-789-10\n</code></pre>\n<p>This easily lends itself to a lambda</p>\n<pre><code>\nFunction&lt;Long, String&gt; format = v-&gt;Long.toString(v).replaceAll(&quot;\\\\d\\\\d\\\\d&quot;,&quot;$0-&quot;);\nString result = format.apply(value);\n</code></pre>\n<p><strong>Note:</strong> If the number is a already a String or can be retrieved as one, you can forgo the <code>Long.toString()</code> conversion.</p>\n"}],"owner":{"account_id":21161675,"reputation":43,"user_id":15559796,"display_name":"EvgenyMalkov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":73456888,"answer_count":5,"score":-3,"last_activity_date":1661264359,"creation_date":1661248254,"question_id":73456582,"body_markdown":"I have number eleven digit number from my DB: 12345678910 \r\nI need to get this number in the following format:\r\n123-456-789-10\r\nHow i can get it with standart Java?","title":"Format eleven digit number to string","body":"<p>I have number eleven digit number from my DB: 12345678910\nI need to get this number in the following format:\n123-456-789-10\nHow i can get it with standart Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1661262109,"post_id":73459681,"comment_id":129726364,"body_markdown":"FileWriter and FileReader are old utility classes that use the default platform encoding for writing text. That is non-portable. If you know what encoding the file is in, use alternative I/O classes, `Files.newBufferedWriter` or such. In Notepad++ you can convert encodings of the loaded file. That might help to find out what encoding/charset `file` contains.","body":"FileWriter and FileReader are old utility classes that use the default platform encoding for writing text. That is non-portable. If you know what encoding the file is in, use alternative I/O classes, <code>Files.newBufferedWriter</code> or such. In Notepad++ you can convert encodings of the loaded file. That might help to find out what encoding/charset <code>file</code> contains."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661262770,"post_id":73459681,"comment_id":129726741,"body_markdown":"Joop is correct.  You are making assumptions about the charset of both the input and the output.  The issue youre observing illustrates why charsets should not be ignored.  If `is` comes from a request body, look for a `charset` parameter in the Content-Type header and use that parameters value when constructing your Scanner.  And use Files.newBufferedWriter to guarantee your output is consistent regardless of where it runs.","body":"Joop is correct.  You are making assumptions about the charset of both the input and the output.  The issue youre observing illustrates why charsets should not be ignored.  If <code>is</code> comes from a request body, look for a <code>charset</code> parameter in the Content-Type header and use that parameters value when constructing your Scanner.  And use Files.newBufferedWriter to guarantee your output is consistent regardless of where it runs."},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1661262866,"post_id":73459681,"comment_id":129726800,"body_markdown":"With `Files.newBufferedWriter` it&#39;s work","body":"With <code>Files.newBufferedWriter</code> it&#39;s work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661263284,"post_id":73459681,"comment_id":129727023,"body_markdown":"That doesn&#39;t make much sense as the replacement has nothing to do with the ```Writer```","body":"That doesn&#39;t make much sense as the replacement has nothing to do with the <code>Writer</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661263823,"creation_date":1661263823,"answer_id":73460274,"question_id":73459681,"body_markdown":"The bytes C2 80 is the UTF-8 encoding for the non-breaking space. So probably your server uses Unicode in the multi-byte form of UTF-8.\r\n\r\nFileWriter and FileReader are old utility classes that use the default platform encoding for writing text. That is non-portable.\r\n\r\n    Path path = file.toPath();\r\n    Charset charset = Charset.forName(&quot;Windows-1251&quot;); // Russian for instance.\r\n    try (BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(is), StandardCharsets.UTF_8));\r\n            BufferedWriter writer = Files.newBufferedWriter(path, charset)) {\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            writer.append(line.replace(&quot;&lt;br&gt;&quot;,&quot;&quot;)\r\n                            .replace(&#39;\\u00A0&#39;,&#39; &#39;)\r\n                            .replace(&quot;&gt; &quot;,&quot;&gt;&quot;)\r\n            );\r\n            writer.newLine();\r\n        }\r\n    }\r\n\r\nBest would be to have the InputStream in full Unicode, i.e. UTF-8.\r\nThe output file is best given some explicit encoding (Charset).\r\n\r\nOn Windows you might let it recognize UTF-8 by an invisible zero-width space, the BOM (&quot;byte order marker&quot;):\r\n\r\n    Charset charset = StandardCharsets.UTF_8;\r\n    ...\r\n        writer.write(&quot;\\uFEFF&quot;); // Unicode BOM marker\r\n        String line;\r\n","title":"Java Spring Boot replace(&#39;\\u00A0&#39;,&#39; &#39;) Don&#39;t work on my tomcat server but work in jar","body":"<p>The bytes C2 80 is the UTF-8 encoding for the non-breaking space. So probably your server uses Unicode in the multi-byte form of UTF-8.</p>\n<p>FileWriter and FileReader are old utility classes that use the default platform encoding for writing text. That is non-portable.</p>\n<pre><code>Path path = file.toPath();\nCharset charset = Charset.forName(&quot;Windows-1251&quot;); // Russian for instance.\ntry (BufferedReader reader = new BufferedReader(\n            new InputStreamReader(is), StandardCharsets.UTF_8));\n        BufferedWriter writer = Files.newBufferedWriter(path, charset)) {\n    String line;\n    while ((line = reader.readLine()) != null) {\n        writer.append(line.replace(&quot;&lt;br&gt;&quot;,&quot;&quot;)\n                        .replace('\\u00A0',' ')\n                        .replace(&quot;&gt; &quot;,&quot;&gt;&quot;)\n        );\n        writer.newLine();\n    }\n}\n</code></pre>\n<p>Best would be to have the InputStream in full Unicode, i.e. UTF-8.\nThe output file is best given some explicit encoding (Charset).</p>\n<p>On Windows you might let it recognize UTF-8 by an invisible zero-width space, the BOM (&quot;byte order marker&quot;):</p>\n<pre><code>Charset charset = StandardCharsets.UTF_8;\n...\n    writer.write(&quot;\\uFEFF&quot;); // Unicode BOM marker\n    String line;\n</code></pre>\n"}],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661263823,"creation_date":1661261417,"question_id":73459681,"body_markdown":"I have one application Java spring-bot 2.7.2 who working fine on localHost (jar file) , which opens the file in removes the character special , but in my tomcat9 (war) with the same JDK11 I don&#39;t remove all my character.\r\n\r\n``````java\r\ntry(Scanner scanner = new Scanner(is);\r\n                BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\r\n                String line;\r\n                while(scanner.hasNextLine()){\r\n                    line = scanner.nextLine();\r\n                    writer.append(line.replace(&quot;&lt;br&gt;&quot;,&quot;&quot;)\r\n                            .replace(&#39;\\u00A0&#39;,&#39; &#39;)\r\n                            .replace(&quot;&gt; &quot;,&quot;&gt;&quot;)\r\n                    );\r\n                    writer.newLine();\r\n                }\r\n            }\r\n``````\r\n\r\nIn Notepad++ have `xC2` char identify (U+00A0 : NO-BREAK SPACE [NBSP])\r\n\r\nwhy do i have such a difference ?","title":"Java Spring Boot replace(&#39;\\u00A0&#39;,&#39; &#39;) Don&#39;t work on my tomcat server but work in jar","body":"<p>I have one application Java spring-bot 2.7.2 who working fine on localHost (jar file) , which opens the file in removes the character special , but in my tomcat9 (war) with the same JDK11 I don't remove all my character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(Scanner scanner = new Scanner(is);\n                BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\n                String line;\n                while(scanner.hasNextLine()){\n                    line = scanner.nextLine();\n                    writer.append(line.replace(&quot;&lt;br&gt;&quot;,&quot;&quot;)\n                            .replace('\\u00A0',' ')\n                            .replace(&quot;&gt; &quot;,&quot;&gt;&quot;)\n                    );\n                    writer.newLine();\n                }\n            }\n</code></pre>\n<p>In Notepad++ have <code>xC2</code> char identify (U+00A0 : NO-BREAK SPACE [NBSP])</p>\n<p>why do i have such a difference ?</p>\n"},{"tags":["java","arrays","multidimensional-array","contains"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":5,"creation_date":1397507462,"post_id":23069740,"comment_id":35255372,"body_markdown":"What&#39;s wrong with using a loop? Even `contains()` uses a loop internally.","body":"What&#39;s wrong with using a loop? Even <code>contains()</code> uses a loop internally."},{"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"score":2,"creation_date":1397507537,"post_id":23069740,"comment_id":35255426,"body_markdown":"Recursion would work :)","body":"Recursion would work :)"},{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":1,"creation_date":1397507604,"post_id":23069740,"comment_id":35255476,"body_markdown":"@zgc7009 better yet, serialize the array as XML and then search for the text. Everything is better with XML :-)","body":"@zgc7009 better yet, serialize the array as XML and then search for the text. Everything is better with XML :-)"},{"owner":{"account_id":3539452,"reputation":239,"user_id":2956947,"accept_rate":54,"display_name":"user2956947"},"score":0,"creation_date":1397570665,"post_id":23069740,"comment_id":35284008,"body_markdown":"@Ted, I&#39;m just trying to save myself time if possible","body":"@Ted, I&#39;m just trying to save myself time if possible"},{"owner":{"account_id":3539452,"reputation":239,"user_id":2956947,"accept_rate":54,"display_name":"user2956947"},"score":0,"creation_date":1397570724,"post_id":23069740,"comment_id":35284051,"body_markdown":"@zgc, how would I use recursion? I&#39;d have to know if the row contained the value before I knew which row to check, wouldn&#39;t I?","body":"@zgc, how would I use recursion? I&#39;d have to know if the row contained the value before I knew which row to check, wouldn&#39;t I?"},{"owner":{"account_id":3539452,"reputation":239,"user_id":2956947,"accept_rate":54,"display_name":"user2956947"},"score":0,"creation_date":1397570999,"post_id":23069740,"comment_id":35284265,"body_markdown":"@sJuan, I haven&#39;t worked with XML before","body":"@sJuan, I haven&#39;t worked with XML before"}],"answers":[{"tags":[],"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397508079,"creation_date":1397508079,"answer_id":23070002,"question_id":23069740,"body_markdown":"Yes.\r\n\r\nYou can use Bloom filters (http://en.wikipedia.org/wiki/Bloom_filter) or create a tree-based index for the keys of your Array, such as a Trie (http://en.wikipedia.org/wiki/Trie)\r\n\r\nBasically you&#39;d need a data structure to look for the values, and not for the keys. It would not cost much space or speed since you could re-use the references of the value objects on both data structures (yours and the one you elect)\r\n\r\n","title":"Check if value exists in a multidimensional array java","body":"<p>Yes.</p>\n\n<p>You can use Bloom filters (<a href=\"http://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Bloom_filter</a>) or create a tree-based index for the keys of your Array, such as a Trie (<a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Trie</a>)</p>\n\n<p>Basically you'd need a data structure to look for the values, and not for the keys. It would not cost much space or speed since you could re-use the references of the value objects on both data structures (yours and the one you elect)</p>\n"},{"tags":[],"owner":{"account_id":4050026,"reputation":621,"user_id":3329961,"display_name":"deanosaur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615540864,"creation_date":1397509312,"answer_id":23070341,"question_id":23069740,"body_markdown":"I&#39;ve created a two-dimensional array that contains **5 rows** and **5 columns**. The array is an **int** type and have initialized with a value **i*j**. \r\nAlready exists a method that takes a row number and value to search for. \r\n\r\n     \r\n    private static Integer[][] myarray = new Integer[5][5];\r\n\r\n    public static boolean exists(int row, int value) {\r\n        if(row &gt;= myarray.length) return false;\r\n        List&lt;Integer&gt; rowvalues = Arrays.asList(Arrays.asList(myarray).get(row));\r\n        if(rowvalues.contains(value)) return true;\r\n        return exists(row+1, value);\r\n    }","title":"Check if value exists in a multidimensional array java","body":"<p>I've created a two-dimensional array that contains <strong>5 rows</strong> and <strong>5 columns</strong>. The array is an <strong>int</strong> type and have initialized with a value <strong>i*j</strong>.\nAlready exists a method that takes a row number and value to search for.</p>\n<pre><code>private static Integer[][] myarray = new Integer[5][5];\n\npublic static boolean exists(int row, int value) {\n    if(row &gt;= myarray.length) return false;\n    List&lt;Integer&gt; rowvalues = Arrays.asList(Arrays.asList(myarray).get(row));\n    if(rowvalues.contains(value)) return true;\n    return exists(row+1, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661263697,"creation_date":1397571104,"answer_id":23086251,"question_id":23069740,"body_markdown":"You can do almost anything with recursion if you care to headache your way through the logic of it. In this case it shouldn&#39;t be too hard\r\n\r\n    private boolean checkForValue(int val, int row, int col){\r\n        if(row == numRows &amp;&amp; col == numCols) \r\n            return false;\r\n        else{\r\n            if(values[row][col] == val)\r\n                return true\r\n            else if(col &lt; (numCols - 1))\r\n                checkForValue(val, row, col + 1);\r\n            else\r\n                checkForValue(val, row + 1, 1);\r\n        }\r\n    }\r\n\r\nHowever, if you are just wanting to save time I think the for loop really is pretty efficient to start\r\n\r\n    private boolean checkForValue(int val){\r\n        for(int i = 0; i &lt; numRows; i++){\r\n            for(int j = 0; j &lt; numCols; j++){\r\n                if(values[i][j] == val) return true;\r\n            }\r\n        }\r\n        return false; //it will reach here if return true was not called.\r\n    }\r\n    \r\n\r\nNeither is too rough. ","title":"Check if value exists in a multidimensional array java","body":"<p>You can do almost anything with recursion if you care to headache your way through the logic of it. In this case it shouldn't be too hard</p>\n<pre><code>private boolean checkForValue(int val, int row, int col){\n    if(row == numRows &amp;&amp; col == numCols) \n        return false;\n    else{\n        if(values[row][col] == val)\n            return true\n        else if(col &lt; (numCols - 1))\n            checkForValue(val, row, col + 1);\n        else\n            checkForValue(val, row + 1, 1);\n    }\n}\n</code></pre>\n<p>However, if you are just wanting to save time I think the for loop really is pretty efficient to start</p>\n<pre><code>private boolean checkForValue(int val){\n    for(int i = 0; i &lt; numRows; i++){\n        for(int j = 0; j &lt; numCols; j++){\n            if(values[i][j] == val) return true;\n        }\n    }\n    return false; //it will reach here if return true was not called.\n}\n</code></pre>\n<p>Neither is too rough.</p>\n"}],"owner":{"account_id":3539452,"reputation":239,"user_id":2956947,"accept_rate":54,"display_name":"user2956947"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30396,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23070341,"answer_count":3,"score":4,"last_activity_date":1661263697,"creation_date":1397507294,"question_id":23069740,"body_markdown":"Without a `for loop`, is there any way to see if a value exists in a `multidimensional array`? I found\r\n    \r\n     Arrays.asList(*ArrayName*).contains(*itemToFind*)\r\n\r\nbut that will only search the first dimension of the array, and I need to search 2 dimensions.\r\n                ","title":"Check if value exists in a multidimensional array java","body":"<p>Without a <code>for loop</code>, is there any way to see if a value exists in a <code>multidimensional array</code>? I found</p>\n\n<pre><code> Arrays.asList(*ArrayName*).contains(*itemToFind*)\n</code></pre>\n\n<p>but that will only search the first dimension of the array, and I need to search 2 dimensions.</p>\n"},{"tags":["java","recursion","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661214163,"creation_date":1661214163,"answer_id":73452176,"question_id":73452159,"body_markdown":"Another option would be not to have the recursive method return the list, but have the recursive method add to a list field.\r\n\r\n    private List&lt;Integer&gt; output;\r\n\r\n    public static void preOrderRecursive(Node root) {\r\n    if (null == root) {\r\n        return;\r\n    }\r\n    //System.out.printf(&quot;%d &quot;, root.data);\r\n    list.add(root.data);\r\n    preOrderRecursive(root.left);\r\n    preOrderRecursive(root.right);\r\n}","title":"Java : binary tree + preorder traversal + recursion + return a result list","body":"<p>Another option would be not to have the recursive method return the list, but have the recursive method add to a list field.</p>\n<pre><code>private List&lt;Integer&gt; output;\n\npublic static void preOrderRecursive(Node root) {\nif (null == root) {\n    return;\n}\n//System.out.printf(&quot;%d &quot;, root.data);\nlist.add(root.data);\npreOrderRecursive(root.left);\npreOrderRecursive(root.right);\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661250312,"creation_date":1661250312,"answer_id":73457026,"question_id":73452159,"body_markdown":"Create a helper function that takes the output list as extra argument:\r\n\r\n```\r\n    // Helper\r\n    private static void preOrderRecursive(Node root, LinkedList&lt;Integer&gt; output) {\r\n        if (null == root) {\r\n            return;\r\n        }\r\n        output.add(root.data);\r\n        preOrderRecursive(root.left, output);\r\n        preOrderRecursive(root.right, output);\r\n    }\r\n\r\n    // Actual function that returns the list\r\n    public static LinkedList&lt;Integer&gt; preOrder(Node root) {\r\n        LinkedList&lt;Integer&gt; output = new LinkedList&lt;Integer&gt;();\r\n        preOrderRecursive(root, output);\r\n        return output;\r\n    }\r\n```","title":"Java : binary tree + preorder traversal + recursion + return a result list","body":"<p>Create a helper function that takes the output list as extra argument:</p>\n<pre><code>    // Helper\n    private static void preOrderRecursive(Node root, LinkedList&lt;Integer&gt; output) {\n        if (null == root) {\n            return;\n        }\n        output.add(root.data);\n        preOrderRecursive(root.left, output);\n        preOrderRecursive(root.right, output);\n    }\n\n    // Actual function that returns the list\n    public static LinkedList&lt;Integer&gt; preOrder(Node root) {\n        LinkedList&lt;Integer&gt; output = new LinkedList&lt;Integer&gt;();\n        preOrderRecursive(root, output);\n        return output;\n    }\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73457026,"answer_count":2,"score":0,"last_activity_date":1661263598,"creation_date":1661213894,"question_id":73452159,"body_markdown":"Small Java question on a preorder traversal of a binary tree, using recursion, with a result list of all the elements returned please.\r\n\r\nLooking at the web we can see many result on the use of recursion to traverse a tree. However, they all &quot;just print&quot; the nodes, returning nothing:\r\n\r\nhttps://makeinjava.com/recursive-binary-tree-traversal-algorithm-java-preorder-postorderinorder/\r\n\r\n```\r\npublic static void preOrderRecursive(Node root) {\r\n    if (null == root) {\r\n        return;\r\n    }\r\n    System.out.printf(&quot;%d &quot;, root.data);\r\n    preOrderRecursive(root.left);\r\n    preOrderRecursive(root.right);\r\n}\r\n```\r\n\r\nThis is a recursive function &#128077; but does not return anything &#128078;\r\n\r\nOn the other hand, there are many examples where it returns the binary tree as list, but using an iterative way:\r\n\r\n```\r\npublic List&lt;Integer&gt; preorderIterative(TreeNode root) {\r\n    LinkedList&lt;TreeNode&gt; stack = new LinkedList&lt;&gt;();\r\n    LinkedList&lt;Integer&gt; output = new LinkedList&lt;&gt;();\r\n    if (root == null) {\r\n      return output;\r\n    }\r\n\r\n    stack.add(root);\r\n    while (!stack.isEmpty()) {\r\n      TreeNode node = stack.pollLast();\r\n      output.add(node.val);\r\n      if (node.right != null) {\r\n        stack.add(node.right);\r\n      }\r\n      if (node.left != null) {\r\n        stack.add(node.left);\r\n      }\r\n    }\r\n    return output;\r\n  }\r\n```\r\n\r\nThis is an iterative function &#128078;, it does return the result as list &#128077;\r\n\r\nMy question is, I am having hard time building a recursive function &#128077; which returns the result as list &#128077;.\r\n\r\nWhat I tried (and not working):\r\n\r\n```\r\n public static List&lt;Integer&gt; preOrderRecursiveWithReturn(TreeNode root) {\r\n        if (null == root) {\r\n            return ???;\r\n        } else {\r\n            return preOrderRecursiveWithReturn(root.left) preOrderRecursiveWithReturn(root.right) ???\r\n        }\r\n    }\r\n```\r\n\r\nBut unfortunately, it is not working.\r\nAny help please?\r\n\r\n","title":"Java : binary tree + preorder traversal + recursion + return a result list","body":"<p>Small Java question on a preorder traversal of a binary tree, using recursion, with a result list of all the elements returned please.</p>\n<p>Looking at the web we can see many result on the use of recursion to traverse a tree. However, they all &quot;just print&quot; the nodes, returning nothing:</p>\n<p><a href=\"https://makeinjava.com/recursive-binary-tree-traversal-algorithm-java-preorder-postorderinorder/\" rel=\"nofollow noreferrer\">https://makeinjava.com/recursive-binary-tree-traversal-algorithm-java-preorder-postorderinorder/</a></p>\n<pre><code>public static void preOrderRecursive(Node root) {\n    if (null == root) {\n        return;\n    }\n    System.out.printf(&quot;%d &quot;, root.data);\n    preOrderRecursive(root.left);\n    preOrderRecursive(root.right);\n}\n</code></pre>\n<p>This is a recursive function  but does not return anything </p>\n<p>On the other hand, there are many examples where it returns the binary tree as list, but using an iterative way:</p>\n<pre><code>public List&lt;Integer&gt; preorderIterative(TreeNode root) {\n    LinkedList&lt;TreeNode&gt; stack = new LinkedList&lt;&gt;();\n    LinkedList&lt;Integer&gt; output = new LinkedList&lt;&gt;();\n    if (root == null) {\n      return output;\n    }\n\n    stack.add(root);\n    while (!stack.isEmpty()) {\n      TreeNode node = stack.pollLast();\n      output.add(node.val);\n      if (node.right != null) {\n        stack.add(node.right);\n      }\n      if (node.left != null) {\n        stack.add(node.left);\n      }\n    }\n    return output;\n  }\n</code></pre>\n<p>This is an iterative function , it does return the result as list </p>\n<p>My question is, I am having hard time building a recursive function  which returns the result as list .</p>\n<p>What I tried (and not working):</p>\n<pre><code> public static List&lt;Integer&gt; preOrderRecursiveWithReturn(TreeNode root) {\n        if (null == root) {\n            return ???;\n        } else {\n            return preOrderRecursiveWithReturn(root.left) preOrderRecursiveWithReturn(root.right) ???\n        }\n    }\n</code></pre>\n<p>But unfortunately, it is not working.\nAny help please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1357298375,"post_id":14156155,"comment_id":19608217,"body_markdown":"Which part, specifically, don&#39;t you understand?","body":"Which part, specifically, don&#39;t you understand?"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1357298405,"post_id":14156155,"comment_id":19608234,"body_markdown":"Please format your code prior to posting.","body":"Please format your code prior to posting."},{"owner":{"account_id":2062738,"reputation":1694,"user_id":1838936,"accept_rate":77,"display_name":"Indhi"},"score":1,"creation_date":1357298510,"post_id":14156155,"comment_id":19608294,"body_markdown":"@OliCharlesworth : why hello is printed four times &amp; atlast a 10 ?","body":"@OliCharlesworth : why hello is printed four times &amp; atlast a 10 ?"},{"owner":{"account_id":456582,"reputation":10927,"user_id":855421,"accept_rate":78,"display_name":"Lews Therin"},"score":13,"creation_date":1357298563,"post_id":14156155,"comment_id":19608321,"body_markdown":"Is that even compiling? Two variables with the same.. Specifically `e2`","body":"Is that even compiling? Two variables with the same.. Specifically <code>e2</code>"},{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":2,"creation_date":1357298707,"post_id":14156155,"comment_id":19608398,"body_markdown":"@Buba1947 - have a look at the innre if(x&gt;0) where e2 is incremented by e1. You can &quot;play&quot; the code and the variable values on paper and should see why 10 is printed.","body":"@Buba1947 - have a look at the innre if(x&gt;0) where e2 is incremented by e1. You can &quot;play&quot; the code and the variable values on paper and should see why 10 is printed."},{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":0,"creation_date":1357298750,"post_id":14156155,"comment_id":19608419,"body_markdown":"@LewsTherin I think the OP wants to formulate two questions in one code statement, that&#39;s what I read within the comments.","body":"@LewsTherin I think the OP wants to formulate two questions in one code statement, that&#39;s what I read within the comments."},{"owner":{"account_id":2062738,"reputation":1694,"user_id":1838936,"accept_rate":77,"display_name":"Indhi"},"score":2,"creation_date":1357298814,"post_id":14156155,"comment_id":19608462,"body_markdown":"@LewsTherin : I took this code from a book called Head First java","body":"@LewsTherin : I took this code from a book called Head First java"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1357298856,"post_id":14156155,"comment_id":19608482,"body_markdown":"In its current form, this is not a very clear question.","body":"In its current form, this is not a very clear question."},{"owner":{"account_id":2062738,"reputation":1694,"user_id":1838936,"accept_rate":77,"display_name":"Indhi"},"score":1,"creation_date":1357298953,"post_id":14156155,"comment_id":19608527,"body_markdown":"@NPE which part is not clear here ?","body":"@NPE which part is not clear here ?"},{"owner":{"account_id":2062738,"reputation":1694,"user_id":1838936,"accept_rate":77,"display_name":"Indhi"},"score":0,"creation_date":1357299061,"post_id":14156155,"comment_id":19608577,"body_markdown":"@all : my question was to understand this code, i pasted this code as it is from the book which I couldn&#39;t understand..","body":"@all : my question was to understand this code, i pasted this code as it is from the book which I couldn&#39;t understand.."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357299083,"creation_date":1357299083,"answer_id":14156338,"question_id":14156155,"body_markdown":"I don&#39;t see what this question could be about except aliasing. If you have this line:\r\n\r\n    Echo e2 = new Echo();\r\n\r\nthen `e2` is an object separate from `e1` and has its own `count` variable. If you use this:\r\n\r\n    Echo e2 = e1;\r\n\r\nthen you have a total of one `Echo` instance, pointed to by both `e1` and `e2`.\r\n\r\nThe rest is just fiddly details on how and when the `count` variable is updated in the loop.","title":"what is the logic behind this code","body":"<p>I don't see what this question could be about except aliasing. If you have this line:</p>\n\n<pre><code>Echo e2 = new Echo();\n</code></pre>\n\n<p>then <code>e2</code> is an object separate from <code>e1</code> and has its own <code>count</code> variable. If you use this:</p>\n\n<pre><code>Echo e2 = e1;\n</code></pre>\n\n<p>then you have a total of one <code>Echo</code> instance, pointed to by both <code>e1</code> and <code>e2</code>.</p>\n\n<p>The rest is just fiddly details on how and when the <code>count</code> variable is updated in the loop.</p>\n"},{"tags":[],"owner":{"account_id":240196,"reputation":2434,"user_id":510294,"accept_rate":75,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1357299645,"creation_date":1357299114,"answer_id":14156351,"question_id":14156155,"body_markdown":"Well....\r\n\r\n`helloooo...` being output 4 times is from...\r\n\r\n\t\twhile (x &lt; 4) {\r\n\t\t\te1.hello();\r\n\t\t\tx = x + 1;\r\n\t\t}\r\n\r\n\r\nAs for the count to 10, (assuming   `Echo e2 = e1;` is meant to be  `Echo e3 = e1;`...\r\n\r\nAfter iteration `x = 0`: e1.count == 1, e2.count == 0;\r\n\r\nAfter iteration `x = 1`: e1.count == 2, e2.count == 2;\r\n\r\nAfter iteration `x = 2`: e1.count == 3, e2.count == 5;\r\n\r\nAfter iteration `x = 3`: e1.count == 4, e2.count == 10;\r\n\r\nThough that interpretation leaves e3 completely unused.","title":"what is the logic behind this code","body":"<p>Well....</p>\n\n<p><code>helloooo...</code> being output 4 times is from...</p>\n\n<pre><code>    while (x &lt; 4) {\n        e1.hello();\n        x = x + 1;\n    }\n</code></pre>\n\n<p>As for the count to 10, (assuming   <code>Echo e2 = e1;</code> is meant to be  <code>Echo e3 = e1;</code>...</p>\n\n<p>After iteration <code>x = 0</code>: e1.count == 1, e2.count == 0;</p>\n\n<p>After iteration <code>x = 1</code>: e1.count == 2, e2.count == 2;</p>\n\n<p>After iteration <code>x = 2</code>: e1.count == 3, e2.count == 5;</p>\n\n<p>After iteration <code>x = 3</code>: e1.count == 4, e2.count == 10;</p>\n\n<p>Though that interpretation leaves e3 completely unused.</p>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357299518,"creation_date":1357299518,"answer_id":14156461,"question_id":14156155,"body_markdown":"The example is like fill in the blanks from source code pool.\r\n\r\nYou have completed it fine and you might be wondering why the difference occurs for below \r\n\r\n    Bonus Answer! \r\n    24\r\n    correct Answer!\r\n    10\r\n\r\nIn correct case which is \r\n\r\n    Echo e2 = new Echo(); // the correct answer \r\n\r\nYou are creating separate instance of `Echo` so it will has its own `count` and every time you say `e2.count` you are accessing this count.\r\n\r\nIn Bonus Answer case \r\n\r\n    Echo e2 = e1;\r\n\r\nYou have two references point to same object so when you do `e2.count` you are accessing `count` for `e1` and `e2` ","title":"what is the logic behind this code","body":"<p>The example is like fill in the blanks from source code pool.</p>\n\n<p>You have completed it fine and you might be wondering why the difference occurs for below </p>\n\n<pre><code>Bonus Answer! \n24\ncorrect Answer!\n10\n</code></pre>\n\n<p>In correct case which is </p>\n\n<pre><code>Echo e2 = new Echo(); // the correct answer \n</code></pre>\n\n<p>You are creating separate instance of <code>Echo</code> so it will has its own <code>count</code> and every time you say <code>e2.count</code> you are accessing this count.</p>\n\n<p>In Bonus Answer case </p>\n\n<pre><code>Echo e2 = e1;\n</code></pre>\n\n<p>You have two references point to same object so when you do <code>e2.count</code> you are accessing <code>count</code> for <code>e1</code> and <code>e2</code> </p>\n"}],"owner":{"account_id":2062738,"reputation":1694,"user_id":1838936,"accept_rate":77,"display_name":"Indhi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":8,"up_vote_count":6,"accepted_answer_id":14156351,"answer_count":3,"score":-2,"last_activity_date":1661263150,"creation_date":1357298342,"question_id":14156155,"body_markdown":"I would like to to understand how the output works here from this java code.. \r\nkindly help !\r\nI took this code from a book called Head First Java\r\nhere is the code:\r\n\r\n    public class EchoTestDrive {\r\n\r\n        public static void main(String[] args) {\r\n            Echo e1 = new Echo();\r\n            Echo e2 = new Echo(); // the correct answer\r\n            //or\r\n            Echo e2 = e1; // is the bonus answer!\r\n            int x = 0;\r\n            while (x &lt; 4) {\r\n                e1.hello();\r\n                e1.count = e1.count + 1;\r\n                if (x == 3) {\r\n                    e2.count = e2.count + 1;\r\n                }\r\n                if (x &gt; 0) {\r\n                    e2.count = e2.count + e1.count;\r\n                }\r\n                x = x + 1;\r\n            }\r\n            System.out.println(e2.count);\r\n        }\r\n    }\r\n\r\n    class Echo {\r\n\r\n        int count = 0;\r\n\r\n        void hello() {\r\n            System.out.println(&quot;helloooo... &quot;);\r\n        }\r\n    }\r\n\r\nand this is the output:\r\n       \r\n      %java EchoTestDrive\r\n       helloooo...\r\n       helloooo...\r\n       helloooo...\r\n       helloooo...\r\n       10","title":"what is the logic behind this code","body":"<p>I would like to to understand how the output works here from this java code.. \nkindly help !\nI took this code from a book called Head First Java\nhere is the code:</p>\n\n<pre><code>public class EchoTestDrive {\n\n    public static void main(String[] args) {\n        Echo e1 = new Echo();\n        Echo e2 = new Echo(); // the correct answer\n        //or\n        Echo e2 = e1; // is the bonus answer!\n        int x = 0;\n        while (x &lt; 4) {\n            e1.hello();\n            e1.count = e1.count + 1;\n            if (x == 3) {\n                e2.count = e2.count + 1;\n            }\n            if (x &gt; 0) {\n                e2.count = e2.count + e1.count;\n            }\n            x = x + 1;\n        }\n        System.out.println(e2.count);\n    }\n}\n\nclass Echo {\n\n    int count = 0;\n\n    void hello() {\n        System.out.println(\"helloooo... \");\n    }\n}\n</code></pre>\n\n<p>and this is the output:</p>\n\n<pre><code>  %java EchoTestDrive\n   helloooo...\n   helloooo...\n   helloooo...\n   helloooo...\n   10\n</code></pre>\n"},{"tags":["java","spring","sharepoint"],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654079418,"creation_date":1654079418,"answer_id":72460310,"question_id":72459108,"body_markdown":"You need to issue a WebDAV MKCOL command, and HttpURLConnection won&#39;t do it. You can do it with the Apache HTTP client if your web server supports WebDAV. Normally PUT is used to create content at given location and not a folder. \r\n\r\nYou need to check what commands your server supports for creating folder (i.e. in the past WebDAV servers would use MKCOL - [Creating Folders (WebDAV)](https://msdn.microsoft.com/en-us/library/ms878641%28v=exchg.65%29.aspx) ). Just changing client side code alone will not enable such functionality. \r\n\r\n","title":"I am trying to create a folder from Java rest API on sharepoint","body":"<p>You need to issue a WebDAV MKCOL command, and HttpURLConnection won't do it. You can do it with the Apache HTTP client if your web server supports WebDAV. Normally PUT is used to create content at given location and not a folder.</p>\n<p>You need to check what commands your server supports for creating folder (i.e. in the past WebDAV servers would use MKCOL - <a href=\"https://msdn.microsoft.com/en-us/library/ms878641%28v=exchg.65%29.aspx\" rel=\"nofollow noreferrer\">Creating Folders (WebDAV)</a> ). Just changing client side code alone will not enable such functionality.</p>\n"},{"tags":[],"owner":{"account_id":25444485,"reputation":19,"user_id":19246860,"display_name":"Shivansh Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656420509,"creation_date":1656393250,"answer_id":72781033,"question_id":72459108,"body_markdown":"the only thing I was doing wrong is not adding /sites in the JSON \r\n\r\njust changed \r\n\r\n    String jsonInputString = &quot;{&#39;__metadata&#39;: { &#39;type&#39;: &#39;SP.Folder&#39; }, &#39;ServerRelativeUrl&#39;: &#39;/sites&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\r\n                    + folder + &quot;&#39;}&quot;;\r\n\r\nto \r\n\r\n    String jsonInputString = &quot;{&#39;__metadata&#39;: { &#39;type&#39;: &#39;SP.Folder&#39; }, &#39;ServerRelativeUrl&#39;: &#39;&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\r\n    \t\t+ folder + &quot;&#39;}&quot;;\r\n\r\nand it worked \r\n","title":"I am trying to create a folder from Java rest API on sharepoint","body":"<p>the only thing I was doing wrong is not adding /sites in the JSON</p>\n<p>just changed</p>\n<pre><code>String jsonInputString = &quot;{'__metadata': { 'type': 'SP.Folder' }, 'ServerRelativeUrl': '/sites&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\n                + folder + &quot;'}&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>String jsonInputString = &quot;{'__metadata': { 'type': 'SP.Folder' }, 'ServerRelativeUrl': '&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\n        + folder + &quot;'}&quot;;\n</code></pre>\n<p>and it worked</p>\n"},{"tags":[],"owner":{"account_id":18913955,"reputation":127,"user_id":13799409,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661263112,"creation_date":1661263112,"answer_id":73460107,"question_id":72459108,"body_markdown":"I&#39;m interested by your method accessTokenScr = getSharepointTokenScripting(); to get the FormDigestValue of the X-RequestDigest if could can share it!","title":"I am trying to create a folder from Java rest API on sharepoint","body":"<p>I'm interested by your method accessTokenScr = getSharepointTokenScripting(); to get the FormDigestValue of the X-RequestDigest if could can share it!</p>\n"}],"owner":{"account_id":25444485,"reputation":19,"user_id":19246860,"display_name":"Shivansh Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661263112,"creation_date":1654074094,"question_id":72459108,"body_markdown":"I am trying to create a folder using the access token \r\nI am getting the access but in the end, getting the response code 404. \r\nI have tried to develop a JsonInputString and then state the connection \r\nI have set values in httpconn and then tried to call the connection\r\nwhat am I doing wrong, \r\nIt is working if I am hardcoding the values but not when I am dynamically getting it.\r\n\r\nhere is my code \r\n\r\n```java\r\n\tString siteURL, String folder) throws IOException {\r\n\t\tString wsURL = siteURL + &quot;/_api/web/folders&quot;;\r\n\t\tURL url = new URL(wsURL);\r\n\t\tURLConnection connection = url.openConnection();\r\n\t\tString[] arr = siteURL.split(&quot;com&quot;);\r\n\t\tString siteNameURL = arr[arr.length-1];\r\n\t\tString jsonInputString = &quot;{&#39;__metadata&#39;: { &#39;type&#39;: &#39;SP.Folder&#39; }, &#39;ServerRelativeUrl&#39;: &#39;/sites&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\r\n\t\t\t\t+ folder + &quot;&#39;}&quot;;\r\n\t\tHttpURLConnection httpConn = (HttpURLConnection) connection;\r\n\t\ttry {\r\n\t\t\tclientID = sharePointclientID;\r\n\t\t\tclientSecret = secretKey;\r\n\r\n\t\t\t// AccessToken url : app.properties\r\n\r\n\t\t\taccessTokenScr = getSharepointTokenScripting();\r\n\t\t\t// Set header\r\n\t\t\thttpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\r\n\t\t\thttpConn.setRequestProperty(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\r\n\t\t\thttpConn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + accessTokenScr);\r\n\t\t\thttpConn.setDoOutput(true);\r\n\t\t\thttpConn.setDoInput(true);\r\n\t\t\thttpConn.setRequestMethod(&quot;POST&quot;);\r\n\t\t\thttpConn.setRequestProperty(&quot;X-RequestDigest&quot;, &quot;SHAREPOINT_FORM_DIGEST&quot;);\r\n\t\t\thttpConn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(jsonInputString.getBytes(&quot;utf-8&quot;).length));\r\n\t\t\tDataOutputStream wr = new DataOutputStream(httpConn.getOutputStream());\r\n\r\n\t\t\tbyte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\r\n\t\t\twr.write(input, 0, input.length);\r\n\r\n\t\t\tString responseStr = &quot;&quot;;\r\n\t\t\tif (httpConn.getResponseCode() == 201) {\r\n\t\t\t\tresponseStr = &quot;Folder has been created successfully. ResponseCode: &quot; + httpConn.getResponseCode();\r\n\t\t\t} else {\r\n\t\t\t\tresponseStr += &quot;Error while creating folder, ResponseCode: &quot; + httpConn.getResponseCode() + &quot; &quot;\r\n\t\t\t\t\t\t+ httpConn.getResponseMessage();\r\n\t\t\t}\r\n\t\t\tLOG.info(responseStr);\r\n```\r\n\t\t","title":"I am trying to create a folder from Java rest API on sharepoint","body":"<p>I am trying to create a folder using the access token\nI am getting the access but in the end, getting the response code 404.\nI have tried to develop a JsonInputString and then state the connection\nI have set values in httpconn and then tried to call the connection\nwhat am I doing wrong,\nIt is working if I am hardcoding the values but not when I am dynamically getting it.</p>\n<p>here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String siteURL, String folder) throws IOException {\n        String wsURL = siteURL + &quot;/_api/web/folders&quot;;\n        URL url = new URL(wsURL);\n        URLConnection connection = url.openConnection();\n        String[] arr = siteURL.split(&quot;com&quot;);\n        String siteNameURL = arr[arr.length-1];\n        String jsonInputString = &quot;{'__metadata': { 'type': 'SP.Folder' }, 'ServerRelativeUrl': '/sites&quot;+ siteNameURL +&quot;/Shared%20Documents/&quot;\n                + folder + &quot;'}&quot;;\n        HttpURLConnection httpConn = (HttpURLConnection) connection;\n        try {\n            clientID = sharePointclientID;\n            clientSecret = secretKey;\n\n            // AccessToken url : app.properties\n\n            accessTokenScr = getSharepointTokenScripting();\n            // Set header\n            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\n            httpConn.setRequestProperty(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\n            httpConn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + accessTokenScr);\n            httpConn.setDoOutput(true);\n            httpConn.setDoInput(true);\n            httpConn.setRequestMethod(&quot;POST&quot;);\n            httpConn.setRequestProperty(&quot;X-RequestDigest&quot;, &quot;SHAREPOINT_FORM_DIGEST&quot;);\n            httpConn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(jsonInputString.getBytes(&quot;utf-8&quot;).length));\n            DataOutputStream wr = new DataOutputStream(httpConn.getOutputStream());\n\n            byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\n            wr.write(input, 0, input.length);\n\n            String responseStr = &quot;&quot;;\n            if (httpConn.getResponseCode() == 201) {\n                responseStr = &quot;Folder has been created successfully. ResponseCode: &quot; + httpConn.getResponseCode();\n            } else {\n                responseStr += &quot;Error while creating folder, ResponseCode: &quot; + httpConn.getResponseCode() + &quot; &quot;\n                        + httpConn.getResponseMessage();\n            }\n            LOG.info(responseStr);\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1335334900,"post_id":10310321,"comment_id":13270733,"body_markdown":"This question is similar to http://stackoverflow.com/questions/4886091/insert-space-after-capital-letter","body":"This question is similar to <a href=\"http://stackoverflow.com/questions/4886091/insert-space-after-capital-letter\" title=\"insert space after capital letter\">stackoverflow.com/questions/4886091/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335411121,"creation_date":1335334863,"answer_id":10310357,"question_id":10310321,"body_markdown":"Add a zero-width lookahead assertion.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n\r\nRead the documentation for `(?=X)` etc.\r\n\r\nPersonally, I would actually *split* the string, then recombine it. This may even be faster when done right, and it makes the code much easier to understand than regular expression magic. Don&#39;t get me wrong: I love regular expressions. But this isn&#39;t really a neat regular expression, nor is this *transformation* a classic regexp task. After all it seems you also want to do lowercase?\r\n\r\nAn ugly but quick hack would be to replace `(.)([A-Z]+)` with `$1_$2` and then lowercase the whole string afterwards (unless you can do perl-style extrended regexps, where you can lowercase the replacement directly!). Still I consider splitting at lower-to-upper transition, then transforming, then joining as the proper and most readable way of doing this.","title":"Regex for converting CamelCase to camel_case in java","body":"<p>Add a zero-width lookahead assertion.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html</a></p>\n\n<p>Read the documentation for <code>(?=X)</code> etc.</p>\n\n<p>Personally, I would actually <em>split</em> the string, then recombine it. This may even be faster when done right, and it makes the code much easier to understand than regular expression magic. Don't get me wrong: I love regular expressions. But this isn't really a neat regular expression, nor is this <em>transformation</em> a classic regexp task. After all it seems you also want to do lowercase?</p>\n\n<p>An ugly but quick hack would be to replace <code>(.)([A-Z]+)</code> with <code>$1_$2</code> and then lowercase the whole string afterwards (unless you can do perl-style extrended regexps, where you can lowercase the replacement directly!). Still I consider splitting at lower-to-upper transition, then transforming, then joining as the proper and most readable way of doing this.</p>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":6,"up_vote_count":209,"is_accepted":true,"score":203,"last_activity_date":1555021332,"creation_date":1335335038,"answer_id":10310393,"question_id":10310321,"body_markdown":"See this [question][1] and [`CaseFormat` from guava][2]\r\n\r\nin your case, something like:\r\n\r\n    CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, &quot;SomeInput&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1143951/what-is-the-simplest-way-to-convert-a-java-string-from-all-caps-words-separated\r\n  [2]: https://google.github.io/guava/releases/27.1-jre/api/docs/com/google/common/base/CaseFormat.html","title":"Regex for converting CamelCase to camel_case in java","body":"<p>See this <a href=\"https://stackoverflow.com/questions/1143951/what-is-the-simplest-way-to-convert-a-java-string-from-all-caps-words-separated\">question</a> and <a href=\"https://google.github.io/guava/releases/27.1-jre/api/docs/com/google/common/base/CaseFormat.html\" rel=\"noreferrer\"><code>CaseFormat</code> from guava</a></p>\n\n<p>in your case, something like:</p>\n\n<pre><code>CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, \"SomeInput\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435696,"reputation":5700,"user_id":822426,"accept_rate":75,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335335380,"creation_date":1335335380,"answer_id":10310439,"question_id":10310321,"body_markdown":"    ([A-Z][a-z\\d]+)(?=([A-Z][a-z\\d]+))\r\n\r\nShould search for a capital letter followed by lowercase letters.  The positive lookahead will look for another word starting with a capital letter followed by lowercase letters but will NOT include it in the match.\r\n\r\nLook here: http://regexr.com?30ooo","title":"Regex for converting CamelCase to camel_case in java","body":"<pre><code>([A-Z][a-z\\d]+)(?=([A-Z][a-z\\d]+))\n</code></pre>\n\n<p>Should search for a capital letter followed by lowercase letters.  The positive lookahead will look for another word starting with a capital letter followed by lowercase letters but will NOT include it in the match.</p>\n\n<p>Look here: <a href=\"http://regexr.com?30ooo\" rel=\"nofollow\">http://regexr.com?30ooo</a></p>\n"},{"tags":[],"owner":{"account_id":369175,"reputation":6949,"user_id":3612327,"accept_rate":41,"display_name":"clevertension"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1453380274,"creation_date":1335336258,"answer_id":10310607,"question_id":10310321,"body_markdown":"bind the lower case and upper case as two group,it will be ok  \r\n\r\n    public  class Main\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            String regex = &quot;([a-z])([A-Z]+)&quot;;\r\n            String replacement = &quot;$1_$2&quot;;\r\n            System.out.println(&quot;CamelCaseToSomethingElse&quot;\r\n                               .replaceAll(regex, replacement)\r\n                               .toLowerCase());\r\n        }\r\n    }","title":"Regex for converting CamelCase to camel_case in java","body":"<p>bind the lower case and upper case as two group,it will be ok  </p>\n\n<pre><code>public  class Main\n{\n    public static void main(String args[])\n    {\n        String regex = \"([a-z])([A-Z]+)\";\n        String replacement = \"$1_$2\";\n        System.out.println(\"CamelCaseToSomethingElse\"\n                           .replaceAll(regex, replacement)\n                           .toLowerCase());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2580551,"reputation":1429,"user_id":3332582,"display_name":"Sandeep Vaid"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1425066861,"creation_date":1376333666,"answer_id":18194525,"question_id":10310321,"body_markdown":"You can use below code snippet:\r\n\r\n    String replaceAll = key.replaceAll(&quot;(.)(\\\\p{Upper})&quot;, &quot;$1_$2&quot;).toLowerCase();","title":"Regex for converting CamelCase to camel_case in java","body":"<p>You can use below code snippet:</p>\n\n<pre><code>String replaceAll = key.replaceAll(\"(.)(\\\\p{Upper})\", \"$1_$2\").toLowerCase();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1413302679,"creation_date":1413283010,"answer_id":26358691,"question_id":10310321,"body_markdown":"Why not simply match prior character as a not start of line `$`?\r\n\r\n    String text = &quot;CamelCaseToSomethingElse&quot;;\r\n    System.out.println(text.replaceAll(&quot;([^_A-Z])([A-Z])&quot;, &quot;$1_$2&quot;));\r\n\r\nNote that this version is safe to be performed on something that is already camel cased.","title":"Regex for converting CamelCase to camel_case in java","body":"<p>Why not simply match prior character as a not start of line <code>$</code>?</p>\n\n<pre><code>String text = \"CamelCaseToSomethingElse\";\nSystem.out.println(text.replaceAll(\"([^_A-Z])([A-Z])\", \"$1_$2\"));\n</code></pre>\n\n<p>Note that this version is safe to be performed on something that is already camel cased.</p>\n"},{"tags":[],"owner":{"account_id":9050634,"reputation":21,"user_id":6740960,"display_name":"abinash sahu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471801549,"creation_date":1471799238,"answer_id":39066738,"question_id":10310321,"body_markdown":"    public class ReplaceFromCameltoSnake {\r\n\t    public static void main(String args[]){\r\n\t\t    String s1=&quot; totalAmountWithoutDiscount&quot;;  \r\n\t\t    String replaceString=s1.replaceAll(&quot;([A-Z]+)&quot;,&quot;\\\\_$1&quot;).toLowerCase(); \r\n\t\t    System.out.println(replaceString);  \r\n\t\t}\r\n    }\r\n\r\n","title":"Regex for converting CamelCase to camel_case in java","body":"<pre><code>public class ReplaceFromCameltoSnake {\n    public static void main(String args[]){\n        String s1=\" totalAmountWithoutDiscount\";  \n        String replaceString=s1.replaceAll(\"([A-Z]+)\",\"\\\\_$1\").toLowerCase(); \n        System.out.println(replaceString);  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316252,"reputation":1218,"user_id":632331,"display_name":"radzimir"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528894611,"creation_date":1528894611,"answer_id":50837880,"question_id":10310321,"body_markdown":"I can&#39;t provide RegEx, it would be insanely complex anyway.\r\n\r\nTry this function with automatic recognition of acronyms.\r\n\r\n*Unfortunately Guava lib doesn&#39;t auto detect upper case acronyms, so &quot;bigCAT&quot; would be converted to &quot;BIG_C_A_T&quot;*\r\n\r\n\r\n\t/**\r\n\t * Convert to UPPER_UNDERSCORE format detecting upper case acronyms\r\n\t */\r\n\tprivate String upperUnderscoreWithAcronyms(String name) {\r\n\t\tStringBuffer result = new StringBuffer();\r\n\t\tboolean begin = true;\r\n\t\tboolean lastUppercase = false;\r\n\t\tfor( int i=0; i &lt; name.length(); i++ ) {\r\n\t\t\tchar ch = name.charAt(i);\r\n\t\t\tif( Character.isUpperCase(ch) ) {\r\n\t\t\t\t// is start?\r\n\t\t\t\tif( begin ) {\r\n\t\t\t\t\tresult.append(ch);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif( lastUppercase ) {\r\n\t\t\t\t\t\t// test if end of acronym\r\n\t\t\t\t\t\tif( i+1&lt;name.length() ) {\r\n\t\t\t\t\t\t\tchar next = name.charAt(i+1);\r\n\t\t\t\t\t\t\tif( Character.isUpperCase(next) ) {\r\n\t\t\t\t\t\t\t\t// acronym continues\r\n\t\t\t\t\t\t\t\tresult.append(ch);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// end of acronym\r\n\t\t\t\t\t\t\t\tresult.append(&#39;_&#39;).append(ch);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// acronym continues\r\n\t\t\t\t\t\t\tresult.append(ch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// last was lowercase, insert _\r\n\t\t\t\t\t\tresult.append(&#39;_&#39;).append(ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlastUppercase=true;\r\n\t\t\t} else {\r\n\t\t\t\tresult.append(Character.toUpperCase(ch));\r\n\t\t\t\tlastUppercase=false;\r\n\t\t\t}\r\n\t\t\tbegin=false;\r\n\t\t}\r\n\t\treturn result.toString();\r\n\t}\r\n","title":"Regex for converting CamelCase to camel_case in java","body":"<p>I can't provide RegEx, it would be insanely complex anyway.</p>\n\n<p>Try this function with automatic recognition of acronyms.</p>\n\n<p><em>Unfortunately Guava lib doesn't auto detect upper case acronyms, so \"bigCAT\" would be converted to \"BIG_C_A_T\"</em></p>\n\n<pre><code>/**\n * Convert to UPPER_UNDERSCORE format detecting upper case acronyms\n */\nprivate String upperUnderscoreWithAcronyms(String name) {\n    StringBuffer result = new StringBuffer();\n    boolean begin = true;\n    boolean lastUppercase = false;\n    for( int i=0; i &lt; name.length(); i++ ) {\n        char ch = name.charAt(i);\n        if( Character.isUpperCase(ch) ) {\n            // is start?\n            if( begin ) {\n                result.append(ch);\n            } else {\n                if( lastUppercase ) {\n                    // test if end of acronym\n                    if( i+1&lt;name.length() ) {\n                        char next = name.charAt(i+1);\n                        if( Character.isUpperCase(next) ) {\n                            // acronym continues\n                            result.append(ch);\n                        } else {\n                            // end of acronym\n                            result.append('_').append(ch);\n                        }\n                    } else {\n                        // acronym continues\n                        result.append(ch);\n                    }\n                } else {\n                    // last was lowercase, insert _\n                    result.append('_').append(ch);\n                }\n            }\n            lastUppercase=true;\n        } else {\n            result.append(Character.toUpperCase(ch));\n            lastUppercase=false;\n        }\n        begin=false;\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231436,"reputation":2174,"user_id":495673,"accept_rate":60,"display_name":"argenkiwi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536201518,"creation_date":1536201518,"answer_id":52195724,"question_id":10310321,"body_markdown":"I&#39;ve had to implement this to convert some keys in camel case format to lower case with underscores. The regular expression I came up with is:\r\n\r\n`(?&lt;!^|_|[A-Z])([A-Z])`\r\n\r\nIn english it stands for _capital letter which is not preceded by the start of the string, an underscore or another capital letter_. \r\n\r\nIn the samples below, the character in bold are the ones that should produce a match using the aforementioned regular expression:\r\n\r\n - Camel**C**ase**T**o**S**omething**E**lse\r\n - camel**C**ase**T**o**S**omething**E**lse\r\n - camel_case_to_something_else\r\n - Camel_Case_To_Something_Else\r\n - CAMEL_CASE_TO_SOMETHING_ELSE\r\n\r\nNotice the expression does not affect string that are already in lower case + underscore format.\r\n\r\nThe replacement pattern would be:\r\n\r\n`_l$1`\r\n\r\nWhich means _lower case of first capturing group_, first capturing group being the capital letter. You could lower case the whole string afterwards as well to normalize the last two samples from the list above.","title":"Regex for converting CamelCase to camel_case in java","body":"<p>I've had to implement this to convert some keys in camel case format to lower case with underscores. The regular expression I came up with is:</p>\n\n<p><code>(?&lt;!^|_|[A-Z])([A-Z])</code></p>\n\n<p>In english it stands for <em>capital letter which is not preceded by the start of the string, an underscore or another capital letter</em>. </p>\n\n<p>In the samples below, the character in bold are the ones that should produce a match using the aforementioned regular expression:</p>\n\n<ul>\n<li>Camel<strong>C</strong>ase<strong>T</strong>o<strong>S</strong>omething<strong>E</strong>lse</li>\n<li>camel<strong>C</strong>ase<strong>T</strong>o<strong>S</strong>omething<strong>E</strong>lse</li>\n<li>camel_case_to_something_else</li>\n<li>Camel_Case_To_Something_Else</li>\n<li>CAMEL_CASE_TO_SOMETHING_ELSE</li>\n</ul>\n\n<p>Notice the expression does not affect string that are already in lower case + underscore format.</p>\n\n<p>The replacement pattern would be:</p>\n\n<p><code>_l$1</code></p>\n\n<p>Which means <em>lower case of first capturing group</em>, first capturing group being the capital letter. You could lower case the whole string afterwards as well to normalize the last two samples from the list above.</p>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566588601,"creation_date":1566588601,"answer_id":57632022,"question_id":10310321,"body_markdown":"Not sure it&#39;s possible to have something really solide with pure regex. Especially to support acronyms.\r\n\r\nI have made a small function, inspired by @radzimir answer, that supports acronyms and no alphabetic character:\r\n\r\nFrom https://gist.github.com/ebuildy/cf46a09b1ac43eea17c7621b7617ebcd:\r\n\r\n    private static String snakeCaseFormat(String name) {\r\n        final StringBuilder result = new StringBuilder();\r\n\r\n        boolean lastUppercase = false;\r\n\r\n        for (int i = 0; i &lt; name.length(); i++) {\r\n            char ch = name.charAt(i);\r\n            char lastEntry = i == 0 ? &#39;X&#39; : result.charAt(result.length() - 1);\r\n            if (ch == &#39; &#39; || ch == &#39;_&#39; || ch == &#39;-&#39; || ch == &#39;.&#39;) {\r\n                lastUppercase = false;\r\n\r\n                if (lastEntry == &#39;_&#39;) {\r\n                    continue;\r\n                } else {\r\n                    ch = &#39;_&#39;;\r\n                }\r\n            } else if (Character.isUpperCase(ch)) {\r\n                ch = Character.toLowerCase(ch);\r\n                // is start?\r\n                if (i &gt; 0) {\r\n                    if (lastUppercase) {\r\n                        // test if end of acronym\r\n                        if (i + 1 &lt; name.length()) {\r\n                            char next = name.charAt(i + 1);\r\n                            if (!Character.isUpperCase(next) &amp;&amp; Character.isAlphabetic(next)) {\r\n                                // end of acronym\r\n                                if (lastEntry != &#39;_&#39;) {\r\n                                    result.append(&#39;_&#39;);\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // last was lowercase, insert _\r\n                        if (lastEntry != &#39;_&#39;) {\r\n                            result.append(&#39;_&#39;);\r\n                        }\r\n                    }\r\n                }\r\n                lastUppercase = true;\r\n            } else {\r\n                lastUppercase = false;\r\n            }\r\n\r\n            result.append(ch);\r\n        }\r\n        return result.toString();\r\n    }","title":"Regex for converting CamelCase to camel_case in java","body":"<p>Not sure it's possible to have something really solide with pure regex. Especially to support acronyms.</p>\n\n<p>I have made a small function, inspired by @radzimir answer, that supports acronyms and no alphabetic character:</p>\n\n<p>From <a href=\"https://gist.github.com/ebuildy/cf46a09b1ac43eea17c7621b7617ebcd\" rel=\"nofollow noreferrer\">https://gist.github.com/ebuildy/cf46a09b1ac43eea17c7621b7617ebcd</a>:</p>\n\n<pre><code>private static String snakeCaseFormat(String name) {\n    final StringBuilder result = new StringBuilder();\n\n    boolean lastUppercase = false;\n\n    for (int i = 0; i &lt; name.length(); i++) {\n        char ch = name.charAt(i);\n        char lastEntry = i == 0 ? 'X' : result.charAt(result.length() - 1);\n        if (ch == ' ' || ch == '_' || ch == '-' || ch == '.') {\n            lastUppercase = false;\n\n            if (lastEntry == '_') {\n                continue;\n            } else {\n                ch = '_';\n            }\n        } else if (Character.isUpperCase(ch)) {\n            ch = Character.toLowerCase(ch);\n            // is start?\n            if (i &gt; 0) {\n                if (lastUppercase) {\n                    // test if end of acronym\n                    if (i + 1 &lt; name.length()) {\n                        char next = name.charAt(i + 1);\n                        if (!Character.isUpperCase(next) &amp;&amp; Character.isAlphabetic(next)) {\n                            // end of acronym\n                            if (lastEntry != '_') {\n                                result.append('_');\n                            }\n                        }\n                    }\n                } else {\n                    // last was lowercase, insert _\n                    if (lastEntry != '_') {\n                        result.append('_');\n                    }\n                }\n            }\n            lastUppercase = true;\n        } else {\n            lastUppercase = false;\n        }\n\n        result.append(ch);\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171227,"reputation":2079,"user_id":398502,"accept_rate":69,"display_name":"Govan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612395536,"creation_date":1612395536,"answer_id":66037349,"question_id":10310321,"body_markdown":"\r\nI am writing this answer if somebody doesn&#39;t want to use Guava as below for any reason. \r\n\r\n    CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, &quot;SomeInput&quot;);\r\n\r\nIn our case we had problem with storage. There is another special case with Guava: if we have &quot;Ph_D&quot; as input, then we are going to get &quot;ph__d&quot; with two underscores.\r\n\r\nThe code below worked as long as I tested it. \r\n\r\n    public static String camelCaseToLowerCaseWithUnderscore(String string) {\r\n        if (string.matches(&quot;.*[a-z].*&quot;)) {\r\n            final Matcher matcher = Pattern.compile(&quot;(_?[A-Z][a-z]?)&quot;).matcher(string);\r\n\r\n            StringBuffer stringBuffer = new StringBuffer();\r\n            matcher.find(); // This is just to escape the first group (beginning of string)\r\n            while (matcher.find()) {\r\n                final String group = matcher.group();\r\n                if (!group.startsWith(&quot;_&quot;)) {\r\n                    matcher.appendReplacement(stringBuffer, &quot;_&quot; + group);\r\n                }\r\n            }\r\n            matcher.appendTail(stringBuffer);\r\n            return stringBuffer.toString().toLowerCase();\r\n        }\r\n        else {\r\n            return string;\r\n        }\r\n    }\r\n\r\n","title":"Regex for converting CamelCase to camel_case in java","body":"<p>I am writing this answer if somebody doesn't want to use Guava as below for any reason.</p>\n<pre><code>CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, &quot;SomeInput&quot;);\n</code></pre>\n<p>In our case we had problem with storage. There is another special case with Guava: if we have &quot;Ph_D&quot; as input, then we are going to get &quot;ph__d&quot; with two underscores.</p>\n<p>The code below worked as long as I tested it.</p>\n<pre><code>public static String camelCaseToLowerCaseWithUnderscore(String string) {\n    if (string.matches(&quot;.*[a-z].*&quot;)) {\n        final Matcher matcher = Pattern.compile(&quot;(_?[A-Z][a-z]?)&quot;).matcher(string);\n\n        StringBuffer stringBuffer = new StringBuffer();\n        matcher.find(); // This is just to escape the first group (beginning of string)\n        while (matcher.find()) {\n            final String group = matcher.group();\n            if (!group.startsWith(&quot;_&quot;)) {\n                matcher.appendReplacement(stringBuffer, &quot;_&quot; + group);\n            }\n        }\n        matcher.appendTail(stringBuffer);\n        return stringBuffer.toString().toLowerCase();\n    }\n    else {\n        return string;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1419773,"reputation":559,"user_id":1344647,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661118552,"creation_date":1618635800,"answer_id":67134839,"question_id":10310321,"body_markdown":"Here my solution with 3 regular expression:\r\n\r\n```java\r\nstr.replaceAll(&quot;([^A-Z])([A-Z0-9])&quot;, &quot;$1_$2&quot;) // standard replace\r\n                   .replaceAll(&quot;([A-Z]+)([A-Z0-9][^A-Z]+)&quot;, &quot;$1_$2&quot;) // last letter after full uppercase.\r\n                    .replaceAll(&quot;([0-9]+)([a-zA-Z]+)&quot;, &quot;$1_$2&quot;).toLowerCase(); // letters after numbers\r\n```\r\n\r\nThe result:\r\n\r\n```\r\nthisIsATest: this_is_a_test\r\nEndWithNumber3: end_with_number_3\r\n3ThisStartWithNumber: 3_this_start_with_number\r\nNumber3InMiddle: number_3_in_middle\r\nNumber3inMiddleAgain: number_3_in_middle_again\r\nMyUUIDNot: my_uuid_not\r\nHOLAMundo: hola_mundo\r\nholaMUNDO: hola_mundo\r\nwith_underscore: with_underscore\r\nwithAUniqueLetter: with_a_unique_letter\r\n```\r\n\r\n\r\n---\r\n---\r\n\r\n**Edited**:\r\n\r\nTo support numbers and another symbols, you can use this:\r\n\r\n```java\r\nstr.replaceAll(&quot;([^A-Z])([A-Z])&quot;, &quot;$1_$2&quot;) // standard replace\r\n                    .replaceAll(&quot;([A-Z]+)([^a-z][^A-Z]+)&quot;, &quot;$1_$2&quot;) // last letter after full uppercase.\r\n                    .toLowerCase()\r\n                    .replaceAll(&quot;([^a-z]+)([a-z]+)&quot;, &quot;$1_$2&quot;) // letters after non-letters.\r\n                    .replaceAll(&quot;([a-z]+)([^a-z]+)&quot;, &quot;$1_$2&quot;); // letters before non-letters.\r\n```\r\n\r\nThe result:\r\n```\r\nthisIsATest: &quot;this_is_a_test&quot;\r\nEndWithNumber3: &quot;end_with_number_3&quot;\r\n3ThisStartWithNumber: &quot;3_this_start_with_number&quot;\r\nNumber3InMiddle: &quot;number_3_in_middle&quot;\r\nNumber3inMiddleAgain: &quot;number_3_in_middle_again&quot;\r\nMyUUIDNot: &quot;my_uuid_not&quot;\r\nHOLAMundo: &quot;hola_mundo&quot;\r\nholaMUNDO: &quot;hola_mundo&quot;\r\nwith_underscore: &quot;with_underscore&quot;\r\nwithAUniqueLetter: &quot;with_a_unique_letter&quot;\r\nwith%SYMBOLAndNumber90: &quot;with_%_symbol_and_number_90&quot;\r\nhttp%: &quot;http_%&quot;\r\n123456789: &quot;123456789&quot;\r\n     : &quot;     &quot;\r\n_: &quot;_&quot;\r\n__abc__: &quot;__abc__&quot;\r\n```\r\n","title":"Regex for converting CamelCase to camel_case in java","body":"<p>Here my solution with 3 regular expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.replaceAll(&quot;([^A-Z])([A-Z0-9])&quot;, &quot;$1_$2&quot;) // standard replace\n                   .replaceAll(&quot;([A-Z]+)([A-Z0-9][^A-Z]+)&quot;, &quot;$1_$2&quot;) // last letter after full uppercase.\n                    .replaceAll(&quot;([0-9]+)([a-zA-Z]+)&quot;, &quot;$1_$2&quot;).toLowerCase(); // letters after numbers\n</code></pre>\n<p>The result:</p>\n<pre><code>thisIsATest: this_is_a_test\nEndWithNumber3: end_with_number_3\n3ThisStartWithNumber: 3_this_start_with_number\nNumber3InMiddle: number_3_in_middle\nNumber3inMiddleAgain: number_3_in_middle_again\nMyUUIDNot: my_uuid_not\nHOLAMundo: hola_mundo\nholaMUNDO: hola_mundo\nwith_underscore: with_underscore\nwithAUniqueLetter: with_a_unique_letter\n</code></pre>\n<hr />\n<hr />\n<p><strong>Edited</strong>:</p>\n<p>To support numbers and another symbols, you can use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str.replaceAll(&quot;([^A-Z])([A-Z])&quot;, &quot;$1_$2&quot;) // standard replace\n                    .replaceAll(&quot;([A-Z]+)([^a-z][^A-Z]+)&quot;, &quot;$1_$2&quot;) // last letter after full uppercase.\n                    .toLowerCase()\n                    .replaceAll(&quot;([^a-z]+)([a-z]+)&quot;, &quot;$1_$2&quot;) // letters after non-letters.\n                    .replaceAll(&quot;([a-z]+)([^a-z]+)&quot;, &quot;$1_$2&quot;); // letters before non-letters.\n</code></pre>\n<p>The result:</p>\n<pre><code>thisIsATest: &quot;this_is_a_test&quot;\nEndWithNumber3: &quot;end_with_number_3&quot;\n3ThisStartWithNumber: &quot;3_this_start_with_number&quot;\nNumber3InMiddle: &quot;number_3_in_middle&quot;\nNumber3inMiddleAgain: &quot;number_3_in_middle_again&quot;\nMyUUIDNot: &quot;my_uuid_not&quot;\nHOLAMundo: &quot;hola_mundo&quot;\nholaMUNDO: &quot;hola_mundo&quot;\nwith_underscore: &quot;with_underscore&quot;\nwithAUniqueLetter: &quot;with_a_unique_letter&quot;\nwith%SYMBOLAndNumber90: &quot;with_%_symbol_and_number_90&quot;\nhttp%: &quot;http_%&quot;\n123456789: &quot;123456789&quot;\n     : &quot;     &quot;\n_: &quot;_&quot;\n__abc__: &quot;__abc__&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301716,"reputation":1342,"user_id":609627,"accept_rate":50,"display_name":"Volodymyr Dvornyk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642767129,"creation_date":1642767129,"answer_id":70801087,"question_id":10310321,"body_markdown":"You can easily convert String to camel case using Stream API from Java 8 and method [StringUtils.capitalize(..)][1] from [commons-lang][2]\r\n\r\n     public String toCamelCase(String str) {\r\n        return Arrays.stream(str.split(&quot;_&quot;))\r\n            .map(StringUtils::capitalize)\r\n            .collect(Collectors.joining());\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/StringUtils.html#capitalize%28java.lang.String%29\r\n  [2]: http://commons.apache.org/lang/","title":"Regex for converting CamelCase to camel_case in java","body":"<p>You can easily convert String to camel case using Stream API from Java 8 and method <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/StringUtils.html#capitalize%28java.lang.String%29\" rel=\"nofollow noreferrer\">StringUtils.capitalize(..)</a> from <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">commons-lang</a></p>\n<pre><code> public String toCamelCase(String str) {\n    return Arrays.stream(str.split(&quot;_&quot;))\n        .map(StringUtils::capitalize)\n        .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661263112,"creation_date":1661089964,"answer_id":73435104,"question_id":10310321,"body_markdown":"Yet another solution with Apache Commons.\r\n\r\n```\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\npublic static String toLowerUnderscore(String str) {\r\n    if (str == null) {\r\n        return null;\r\n    }\r\n    String[] tokens = StringUtils.splitByCharacterTypeCamelCase(str);\r\n    String joined = StringUtils.join(tokens, &#39;\\t&#39;);\r\n    String replaced =  joined\r\n            .replace(&quot;_\\t&quot;, &quot;_&quot;) // save beginning underscore\r\n            .replace(&quot;\\t_&quot;, &quot;_&quot;) // save ending underscore\r\n            .replace(&quot;\\t&quot;, &quot;_&quot;); // replace other underscores\r\n    return replaced.toLowerCase();\r\n}\r\n```\r\nTest cases (thanks @Ali):\r\n```\r\nthisIsATest:          this_is_a_test\r\nEndWithNumber3:       end_with_number_3\r\n3ThisStartWithNumber: 3_this_start_with_number\r\nNumber3InMiddle:      number_3_in_middle\r\nNumber3inMiddleAgain: number_3_in_middle_again\r\nMyUUIDNot:            my_uuid_not\r\nHOLAMundo:            hola_mundo\r\nholaMUNDO:            hola_mundo\r\nwith_underscore:      with_underscore\r\nwithAUniqueLetter:    with_a_unique_letter\r\n123456789:            123456789\r\n&quot;   &quot;:                &quot;   &quot;\r\n_:                    _\r\n__abc__:              __abc__\r\nnull:                 null\r\n```\r\n","title":"Regex for converting CamelCase to camel_case in java","body":"<p>Yet another solution with Apache Commons.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\npublic static String toLowerUnderscore(String str) {\n    if (str == null) {\n        return null;\n    }\n    String[] tokens = StringUtils.splitByCharacterTypeCamelCase(str);\n    String joined = StringUtils.join(tokens, '\\t');\n    String replaced =  joined\n            .replace(&quot;_\\t&quot;, &quot;_&quot;) // save beginning underscore\n            .replace(&quot;\\t_&quot;, &quot;_&quot;) // save ending underscore\n            .replace(&quot;\\t&quot;, &quot;_&quot;); // replace other underscores\n    return replaced.toLowerCase();\n}\n</code></pre>\n<p>Test cases (thanks @Ali):</p>\n<pre><code>thisIsATest:          this_is_a_test\nEndWithNumber3:       end_with_number_3\n3ThisStartWithNumber: 3_this_start_with_number\nNumber3InMiddle:      number_3_in_middle\nNumber3inMiddleAgain: number_3_in_middle_again\nMyUUIDNot:            my_uuid_not\nHOLAMundo:            hola_mundo\nholaMUNDO:            hola_mundo\nwith_underscore:      with_underscore\nwithAUniqueLetter:    with_a_unique_letter\n123456789:            123456789\n&quot;   &quot;:                &quot;   &quot;\n_:                    _\n__abc__:              __abc__\nnull:                 null\n</code></pre>\n"}],"owner":{"account_id":220229,"reputation":2389,"user_id":477522,"accept_rate":94,"display_name":"ajmartin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94722,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":10310393,"answer_count":14,"score":105,"last_activity_date":1661263112,"creation_date":1335334679,"question_id":10310321,"body_markdown":"I understand why the desired output is not given for converting using regex a string like `FooBar` to `Foo_Bar` which instead gives `Foo_Bar_`. I could have done something with String.substring `substring(0, string.length() - 2)` or just replaced the last character, but I think there is a better solution to such a scenario.\r\n\r\nHere is the code:\r\n\r\n    String regex = &quot;([A-Z][a-z]+)&quot;;\r\n    String replacement = &quot;$1_&quot;;\r\n    \r\n    &quot;CamelCaseToSomethingElse&quot;.replaceAll(regex, replacement); \r\n    \r\n    /*\r\n    outputs: Camel_Case_To_Something_Else_\r\n    desired output: Camel_Case_To_Something_Else\r\n    */\r\n\r\nQuestion: Looking for a neater way to get the desired output?","title":"Regex for converting CamelCase to camel_case in java","body":"<p>I understand why the desired output is not given for converting using regex a string like <code>FooBar</code> to <code>Foo_Bar</code> which instead gives <code>Foo_Bar_</code>. I could have done something with String.substring <code>substring(0, string.length() - 2)</code> or just replaced the last character, but I think there is a better solution to such a scenario.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>String regex = \"([A-Z][a-z]+)\";\nString replacement = \"$1_\";\n\n\"CamelCaseToSomethingElse\".replaceAll(regex, replacement); \n\n/*\noutputs: Camel_Case_To_Something_Else_\ndesired output: Camel_Case_To_Something_Else\n*/\n</code></pre>\n\n<p>Question: Looking for a neater way to get the desired output?</p>\n"},{"tags":["java","sql","mariadb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661267275,"post_id":73458343,"comment_id":129728850,"body_markdown":"The two sql statements seem entirely unrelated so I&#39;m wondering why they are even happening together?","body":"The two sql statements seem entirely unrelated so I&#39;m wondering why they are even happening together?"},{"owner":{"account_id":3277571,"reputation":11,"user_id":8188409,"display_name":"coder_hasib"},"score":0,"creation_date":1661337761,"post_id":73458343,"comment_id":129746627,"body_markdown":"I need to save data into two tables at a time, I saved into one table successfully but I need more than one. Here is the update code: ps.addBatch(); and ps.executeBatch(); But not work.","body":"I need to save data into two tables at a time, I saved into one table successfully but I need more than one. Here is the update code: ps.addBatch(); and ps.executeBatch(); But not work."}],"owner":{"account_id":3277571,"reputation":11,"user_id":8188409,"display_name":"coder_hasib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661263103,"creation_date":1661255974,"question_id":73458343,"body_markdown":"I want to insert two different rows on two other tables. How can I do that? I have read about batch execution but do not understand it clearly. If it is possible to use batch execution, how? \r\n\r\nI have tried this way and got this message &quot;You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;?, ?, ?, ?, ?, ?)&#39; at line 1\r\n&quot;. Thanks in advance.\r\n\r\n    /**\r\n    \t * save data from multiple tables\r\n    \t */\r\n    \tprivate void customSave() {\r\n    \t\t// create connection\r\n    \t\tconn = new DB_Connection().makeConn();\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t// for invoice table\r\n    \t\t\tString product_name = comboProductName.getSelectedItem().toString();\r\n    \t\t\tString date_of_sale = textDateOfSale.getText();\r\n    \t\t\tString paid_on = textPaidOn.getText();\r\n    \t\t\tint quantity = Integer.valueOf(spinnerQuantity.getValue().toString());\r\n    \t\t\tint discount = Integer.valueOf(textDiscount.getText());\r\n    \t\t\tdouble total_price = Double.valueOf(lblTotal.getText());\r\n    \r\n    \t\t\t// for customer details table\r\n    \t\t\tString name = textFullName.getText();\r\n    \t\t\tString email = textEmail.getText();\r\n    \t\t\tString mobile = textMobile.getText();\r\n    \t\t\tString address = textAddress.getText();\r\n    \r\n    \t\t\tstmnt = conn.createStatement();\r\n    \r\n    \t\t\t// save to invoice\r\n    \t\t\tString sql_invoice = &quot;INSERT INTO `invoice`(`product_name`, `date_of_sale`, `paid_on`, `discount`, `total_price`, `quantity`) &quot;\r\n    \t\t\t\t\t+ &quot;VALUES (?, ?, ?, ?, ?, ?)&quot;;\r\n    \t\t\tps = conn.prepareStatement(sql_invoice);\r\n    \t\t\tps.setString(1, product_name);\r\n    \t\t\tps.setString(2, date_of_sale);\r\n    \t\t\tps.setString(3, paid_on);\r\n    \t\t\tps.setInt(4, discount);\r\n    \t\t\tps.setDouble(5, total_price);\r\n    \t\t\tps.setInt(6, quantity);\r\n    \r\n    \t\t\t// save to customer_details\r\n    \t\t\tString sql_customer = &quot;insert into customer_details(customer_name, email, mobile, address )&quot;\r\n    \t\t\t\t\t+ &quot;values (?, ?, ?, ?)&quot;;\r\n    \t\t\tps = conn.prepareStatement(sql_customer);\r\n    \t\t\tps.setString(1, name);\r\n    \t\t\tps.setString(2, email);\r\n    \t\t\tps.setString(3, mobile);\r\n    \t\t\tps.setString(4, address);\r\n    \r\n    \t\t\tif ((!textDateOfSale.getText().equals(&quot;&quot;)) &amp;&amp; (!textPaidOn.getText().equals(&quot;&quot;))\r\n    \t\t\t\t\t&amp;&amp; (!textFullName.getText().equals(&quot;&quot;))) {\r\n    \r\n    \t\t\t\tint count = ps.executeUpdate(sql_invoice);\r\n    \t\t\t\tint count1 = ps.executeUpdate(sql_customer);\r\n    \r\n    \t\t\t\tif (count &gt; 0 &amp;&amp; count1 &gt; 0) {\r\n    \r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Data saved successfully.&quot;, &quot;Success!!!&quot;,\r\n    \t\t\t\t\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n    \t\t\t\t\ttextDateOfSale.setText(&quot;&quot;);\r\n    \t\t\t\t\ttextPaidOn.setText(&quot;&quot;);\r\n    \t\t\t\t\ttextFullName.setText(&quot;&quot;);\r\n    \t\t\t\t\ttextEmail.setText(&quot;&quot;);\r\n    \t\t\t\t\ttextMobile.setText(&quot;&quot;);\r\n    \t\t\t\t\ttextAddress.setText(&quot;&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Unable to save data.&quot;, &quot;Warning!!!&quot;,\r\n    \t\t\t\t\t\t\tJOptionPane.WARNING_MESSAGE);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;Please fillup the required fields.&quot;, &quot;Warning!&quot;,\r\n    \t\t\t\t\t\tJOptionPane.WARNING_MESSAGE);\r\n    \t\t\t}\r\n    \r\n    \t\t\tstmnt.close();\r\n    \t\t\tconn.close();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\t// JOptionPane.showMessageDialog(null, ex, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\r\n    \t\t\tSystem.out.println(ex.getMessage());\r\n    \t\t\tex.getStackTrace();\r\n    \t\t}\r\n    \t}","title":"How to insert multiple records in multiple table using PreparedStatement object in java?","body":"<p>I want to insert two different rows on two other tables. How can I do that? I have read about batch execution but do not understand it clearly. If it is possible to use batch execution, how?</p>\n<p>I have tried this way and got this message &quot;You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '?, ?, ?, ?, ?, ?)' at line 1\n&quot;. Thanks in advance.</p>\n<pre><code>/**\n     * save data from multiple tables\n     */\n    private void customSave() {\n        // create connection\n        conn = new DB_Connection().makeConn();\n\n        try {\n\n            // for invoice table\n            String product_name = comboProductName.getSelectedItem().toString();\n            String date_of_sale = textDateOfSale.getText();\n            String paid_on = textPaidOn.getText();\n            int quantity = Integer.valueOf(spinnerQuantity.getValue().toString());\n            int discount = Integer.valueOf(textDiscount.getText());\n            double total_price = Double.valueOf(lblTotal.getText());\n\n            // for customer details table\n            String name = textFullName.getText();\n            String email = textEmail.getText();\n            String mobile = textMobile.getText();\n            String address = textAddress.getText();\n\n            stmnt = conn.createStatement();\n\n            // save to invoice\n            String sql_invoice = &quot;INSERT INTO `invoice`(`product_name`, `date_of_sale`, `paid_on`, `discount`, `total_price`, `quantity`) &quot;\n                    + &quot;VALUES (?, ?, ?, ?, ?, ?)&quot;;\n            ps = conn.prepareStatement(sql_invoice);\n            ps.setString(1, product_name);\n            ps.setString(2, date_of_sale);\n            ps.setString(3, paid_on);\n            ps.setInt(4, discount);\n            ps.setDouble(5, total_price);\n            ps.setInt(6, quantity);\n\n            // save to customer_details\n            String sql_customer = &quot;insert into customer_details(customer_name, email, mobile, address )&quot;\n                    + &quot;values (?, ?, ?, ?)&quot;;\n            ps = conn.prepareStatement(sql_customer);\n            ps.setString(1, name);\n            ps.setString(2, email);\n            ps.setString(3, mobile);\n            ps.setString(4, address);\n\n            if ((!textDateOfSale.getText().equals(&quot;&quot;)) &amp;&amp; (!textPaidOn.getText().equals(&quot;&quot;))\n                    &amp;&amp; (!textFullName.getText().equals(&quot;&quot;))) {\n\n                int count = ps.executeUpdate(sql_invoice);\n                int count1 = ps.executeUpdate(sql_customer);\n\n                if (count &gt; 0 &amp;&amp; count1 &gt; 0) {\n\n                    JOptionPane.showMessageDialog(null, &quot;Data saved successfully.&quot;, &quot;Success!!!&quot;,\n                            JOptionPane.INFORMATION_MESSAGE);\n                    textDateOfSale.setText(&quot;&quot;);\n                    textPaidOn.setText(&quot;&quot;);\n                    textFullName.setText(&quot;&quot;);\n                    textEmail.setText(&quot;&quot;);\n                    textMobile.setText(&quot;&quot;);\n                    textAddress.setText(&quot;&quot;);\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Unable to save data.&quot;, &quot;Warning!!!&quot;,\n                            JOptionPane.WARNING_MESSAGE);\n                }\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;Please fillup the required fields.&quot;, &quot;Warning!&quot;,\n                        JOptionPane.WARNING_MESSAGE);\n            }\n\n            stmnt.close();\n            conn.close();\n        } catch (Exception ex) {\n            // JOptionPane.showMessageDialog(null, ex, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\n            System.out.println(ex.getMessage());\n            ex.getStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","database","spring-boot","deployment"],"answers":[{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661263087,"creation_date":1661263087,"answer_id":73460098,"question_id":73459729,"body_markdown":"\r\nThe way I handle this is to use spring-bean &quot;profiles&quot;\r\n\r\n    default\r\n\r\nor \r\n\r\n    !default\r\n\r\n\r\nI use H2 all the time for local-development mode (using &#39;default&#39; spring bean profile to achieve this).\r\n\r\nNow, we do not over-use spring-profiles.  We have default and !default.  And that is is.\r\n\r\nAll my JPA stuff works with H2.\r\n\r\n\r\n\r\n","title":"Where to deploy Spring boot application with H2 database","body":"<p>The way I handle this is to use spring-bean &quot;profiles&quot;</p>\n<pre><code>default\n</code></pre>\n<p>or</p>\n<pre><code>!default\n</code></pre>\n<p>I use H2 all the time for local-development mode (using 'default' spring bean profile to achieve this).</p>\n<p>Now, we do not over-use spring-profiles.  We have default and !default.  And that is is.</p>\n<p>All my JPA stuff works with H2.</p>\n"}],"owner":{"account_id":23489314,"reputation":63,"user_id":17540546,"display_name":"Roland Gonczel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661263087,"creation_date":1661261642,"question_id":73459729,"body_markdown":" I am working on a web application which will serve as an SQL injection learning platform with multiple levels in spring boot and react. I am using PostreSQL as my main database, but I also wanted a lightweight solution for a vulnerable database on which the injections will occure. I was going to choose H2, but it isn&#39;t supported on Heroku where I wanted to deploy my application, as I worked with it in the past and it&#39;s already familiar.\r\n\r\nSo the question is: What other platform could I use to work with H2 or should I choose something else instead of H2, and if yes, what?","title":"Where to deploy Spring boot application with H2 database","body":"<p>I am working on a web application which will serve as an SQL injection learning platform with multiple levels in spring boot and react. I am using PostreSQL as my main database, but I also wanted a lightweight solution for a vulnerable database on which the injections will occure. I was going to choose H2, but it isn't supported on Heroku where I wanted to deploy my application, as I worked with it in the past and it's already familiar.</p>\n<p>So the question is: What other platform could I use to work with H2 or should I choose something else instead of H2, and if yes, what?</p>\n"},{"tags":["java","xml","maven","xsd","jaxb"],"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1491924111,"post_id":43324092,"comment_id":73763225,"body_markdown":"This link could be useful http://stackoverflow.com/a/24953369/3364187","body":"This link could be useful <a href=\"http://stackoverflow.com/a/24953369/3364187\">stackoverflow.com/a/24953369/3364187</a>"}],"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1661262911,"creation_date":1491829804,"question_id":43324092,"body_markdown":"I am creating Java classes from XSD file using JAXB plugin.\r\nMy POM file looks like\r\n\r\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.8.1&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;debug&gt;false&lt;/debug&gt;\r\n\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;src/main/resources/xsd&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;schemaIncludes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;*.xsd&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;*.XSD&lt;/include&gt;\r\n\t\t\t\t\t&lt;/schemaIncludes&gt;\r\n\t\t\t\t\t&lt;generateDirectory&gt;${project.build.directory}/generated-sources/main/java&lt;/generateDirectory&gt;\r\n\t\t\t\t\t&lt;generatePackage&gt;com.kaushik.export.bo&lt;/generatePackage&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\r\n\r\nFor one of the XML element I want the values to be wrapped by &lt;![CDATA[  ]]&gt;\r\n\r\nI saw few solutions suggesting to use annotation @XmlJavaTypeAdapter\r\n\r\nBut in my case I have not written classes they are auto generated when project is build.\r\n\r\nIs there any was to specify in xsd so that generated classes will have this tag OR get the ability to surround the value by CDATA  ?\r\n\r\n","title":"Specify CDATA generation in JAXB XSD","body":"<p>I am creating Java classes from XSD file using JAXB plugin.\nMy POM file looks like</p>\n\n<pre><code>&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;configuration&gt;\n                &lt;debug&gt;false&lt;/debug&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;schemaDirectory&gt;src/main/resources/xsd&lt;/schemaDirectory&gt;\n                &lt;schemaIncludes&gt;\n                    &lt;include&gt;*.xsd&lt;/include&gt;\n                    &lt;include&gt;*.XSD&lt;/include&gt;\n                &lt;/schemaIncludes&gt;\n                &lt;generateDirectory&gt;${project.build.directory}/generated-sources/main/java&lt;/generateDirectory&gt;\n                &lt;generatePackage&gt;com.kaushik.export.bo&lt;/generatePackage&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n</code></pre>\n\n<p>For one of the XML element I want the values to be wrapped by </p>\n\n<p>I saw few solutions suggesting to use annotation @XmlJavaTypeAdapter</p>\n\n<p>But in my case I have not written classes they are auto generated when project is build.</p>\n\n<p>Is there any was to specify in xsd so that generated classes will have this tag OR get the ability to surround the value by CDATA  ?</p>\n"},{"tags":["java","xml","spring","jar","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661267367,"post_id":73453394,"comment_id":129728889,"body_markdown":"Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page. You should be seeing some logging error messages--those are almost always the best place to start, and should be included in the question.","body":"Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page. You should be seeing some logging error messages--those are almost always the best place to start, and should be included in the question."},{"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"score":0,"creation_date":1669165314,"post_id":73453394,"comment_id":131581238,"body_markdown":"Finally, I recompiled all the files that use the &#39;action&#39;, and it can work.","body":"Finally, I recompiled all the files that use the &#39;action&#39;, and it can work."}],"answers":[{"tags":[],"owner":{"account_id":31567,"reputation":4953,"user_id":86809,"display_name":"David Gorsline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661262867,"creation_date":1661262867,"answer_id":73460039,"question_id":73453394,"body_markdown":"Namespaces for filter-related classes have changed at 2.5.  Specifically, `org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter` is now `org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter`. See https://cwiki.apache.org/confluence/display/WW/Struts+2.3+to+2.5+migration and https://cwiki.apache.org/confluence/display/WW/Version+Notes+2.5.","title":"404 action after Struts upgrade to 2.5.30 from 2.2.1","body":"<p>Namespaces for filter-related classes have changed at 2.5.  Specifically, <code>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</code> is now <code>org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter</code>. See <a href=\"https://cwiki.apache.org/confluence/display/WW/Struts+2.3+to+2.5+migration\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/WW/Struts+2.3+to+2.5+migration</a> and <a href=\"https://cwiki.apache.org/confluence/display/WW/Version+Notes+2.5\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/WW/Version+Notes+2.5</a>.</p>\n"}],"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1661270280,"answer_count":1,"score":2,"last_activity_date":1661262867,"creation_date":1661231130,"question_id":73453394,"body_markdown":"I upgraded from Struts 2.2.1 to 2.5.30 and made the following changes in lib\r\n\r\nUpgrade the following jar files:\r\n - freemarker-2.3.31.jar\r\n - ognl-3.1.29.jar\r\n - slf4j-api-1.7.30.jar\r\n - slf4j-jdk14-1.7.30.jar\r\n - struts2-convention-plugin-2.5.30.jar\r\n - struts2-core-2.5.30.jar\r\n - struts2-json-plugin-2.5.30.jar\r\n - struts2-spring-plugin-2.5.30.jar\r\n----------\r\nDelete the following jar files\r\n - org.apache.struts.xwork-xwork-core-2.2.1.jar\r\n - org.apache.xwork-xwork-core-2.2.1.jar\r\n----------\r\nAdd the following jar files:\r\n - commons-lang3-3.8.1.jar\r\n----------\r\nAnd made the following changes in web.xml and Struts.xml\r\nweb.xml (before)\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n\r\n\t&lt;display-name&gt;XXX&lt;/display-name&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:/applicationContext.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Filter --&gt;\r\n\t&lt;!-- Character Encoding filter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;!-- Struts2 filter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.ActionContextCleanUp&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;!-- Filter --&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;!--Spring ApplicationContext --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;com.imps.spring.listenner.ContextAwareListenner&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;!-- Spring  Introspector --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.util.IntrospectorCleanupListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;!-- session --&gt;\r\n\t&lt;session-config&gt;\r\n\t\t&lt;session-timeout&gt;20&lt;/session-timeout&gt;\r\n\t&lt;/session-config&gt;\r\n\t\r\n \t &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ScheduleJob&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.imps.util.schedulework.ScheduleJob&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;   \r\n\t\r\n    &lt;servlet&gt;                           \r\n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.imps.util.CheckToken&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n                         \r\n    &lt;servlet-mapping&gt;                   \r\n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/CheckToken.do&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;```\r\n\r\nweb.xml (after)\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n\r\n\t&lt;display-name&gt;XXX&lt;/display-name&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:/applicationContext.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Filter --&gt;\r\n\t&lt;!-- Character Encoding filter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;!-- Struts2 filter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;!-- Filter  --&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;!--Spring ApplicationContext --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;com.imps.spring.listenner.ContextAwareListenner&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;!-- Spring  Introspector --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.util.IntrospectorCleanupListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;!-- session --&gt;\r\n\t&lt;session-config&gt;\r\n\t\t&lt;session-timeout&gt;20&lt;/session-timeout&gt;\r\n\t&lt;/session-config&gt;\r\n\t\r\n \t &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ScheduleJob&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.imps.util.schedulework.ScheduleJob&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;   \r\n\t\r\n    &lt;servlet&gt;                           \r\n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.imps.util.CheckToken&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n                         \r\n    &lt;servlet-mapping&gt;                   \r\n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/CheckToken.do&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;```\r\n\r\n\r\nstruts.xml (before)\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration 2.1//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.1.dtd&quot;&gt;\r\n&lt;struts&gt;\r\n\t&lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;crud-default&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;servlet&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.convention.package.locators.basePackage&quot; value=&quot;com.imps&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.multipart.maxSize&quot; value=&quot;10241024000&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.multipart.saveDir&quot; value=&quot;C:\\test&quot; /&gt;\r\n\r\n\r\n\t&lt;!-- CRUD Action parent package --&gt;\r\n\t&lt;package name=&quot;crud-default&quot; extends=&quot;convention-default&quot;&gt;\r\n\t\t&lt;interceptors&gt;\r\n\t\t\t&lt;interceptor-stack name=&quot;crudStack&quot;&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;store&quot;&gt;\r\n\t\t\t\t\t&lt;param name=&quot;operationMode&quot;&gt;AUTOMATIC&lt;/param&gt;\r\n\t\t\t\t&lt;/interceptor-ref&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;paramsPrepareParamsStack&quot; /&gt;\r\n\t\t\t&lt;/interceptor-stack&gt;\r\n\t\t&lt;/interceptors&gt;\r\n\r\n\t\t&lt;default-interceptor-ref name=&quot;crudStack&quot; /&gt;\r\n\t&lt;/package&gt;\r\n\t\r\n\t&lt;package name=&quot;cbi-default&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;result-types&gt;\r\n\t\t\t&lt;result-type name=&quot;json&quot; class=&quot;com.imps.servlet.LoggingableJSONResult&quot; default=&quot;true&quot; /&gt;\r\n\t\t\t&lt;result-type name=&quot;json-hierarchy&quot; class=&quot;com.imps.servlet.HierarchySupportJSONResult&quot; /&gt;\r\n\t\t&lt;/result-types&gt;\r\n\t\r\n\t\t&lt;interceptors&gt;\r\n            &lt;interceptor name=&quot;errorHandler&quot; class=&quot;com.imps.servlet.ErrorHandlerInterceptor&quot;/&gt;\r\n            &lt;interceptor name=&quot;authHandler&quot; class=&quot;com.imps.servlet.AuthInterceptor&quot;/&gt;\r\n            &lt;interceptor-stack name=&quot;cbiStack&quot;&gt;\r\n            \t&lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;errorHandler&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;authHandler&quot;/&gt;\r\n            &lt;/interceptor-stack&gt;\r\n        &lt;/interceptors&gt;\r\n\r\n        &lt;default-interceptor-ref name=&quot;cbiStack&quot;/&gt;\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;```\r\n\r\nstruts.xml (after)\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n&lt;struts&gt;\r\n\t&lt;constant name=&quot;struts.convention.action.mapAllMatches&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;crud-default&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;servlet&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.convention.package.locators.basePackage&quot; value=&quot;com.imps&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.multipart.maxSize&quot; value=&quot;10241024000&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.multipart.saveDir&quot; value=&quot;C:\\test&quot; /&gt;\r\n\r\n\r\n\t&lt;package name=&quot;projectstruts&quot; extends=&quot;struts-default&quot; strict-method-invocation=&quot;false&quot;&gt;\r\n\t\t&lt;global-allowed-methods&gt;regex:.*&lt;/global-allowed-methods&gt;\r\n\t&lt;/package&gt;\r\n\t\r\n\t&lt;!-- CRUD Action parent package --&gt;\r\n\t&lt;package name=&quot;crud-default&quot; extends=&quot;convention-default&quot; strict-method-invocation=&quot;false&quot;&gt;\r\n\t\t&lt;interceptors&gt;\r\n\t\t\t&lt;interceptor-stack name=&quot;crudStack&quot;&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;store&quot;&gt;\r\n\t\t\t\t\t&lt;param name=&quot;operationMode&quot;&gt;AUTOMATIC&lt;/param&gt;\r\n\t\t\t\t&lt;/interceptor-ref&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;paramsPrepareParamsStack&quot; /&gt;\r\n\t\t\t&lt;/interceptor-stack&gt;\r\n\t\t&lt;/interceptors&gt;\r\n\r\n\t\t&lt;default-interceptor-ref name=&quot;crudStack&quot; /&gt;\r\n\t&lt;/package&gt;\r\n\t\r\n\t&lt;package name=&quot;cbi-default&quot; extends=&quot;json-default&quot; strict-method-invocation=&quot;false&quot;&gt;\r\n\t\t&lt;result-types&gt;\r\n\t\t\t&lt;result-type name=&quot;json&quot; class=&quot;com.imps.servlet.LoggingableJSONResult&quot; default=&quot;true&quot; /&gt;\r\n\t\t\t&lt;result-type name=&quot;json-hierarchy&quot; class=&quot;com.imps.servlet.HierarchySupportJSONResult&quot; /&gt;\r\n\t\t&lt;/result-types&gt;\r\n\t\r\n\t\t&lt;interceptors&gt;\r\n            &lt;interceptor name=&quot;errorHandler&quot; class=&quot;com.imps.servlet.ErrorHandlerInterceptor&quot;/&gt;\r\n            &lt;interceptor name=&quot;authHandler&quot; class=&quot;com.imps.servlet.AuthInterceptor&quot;/&gt;\r\n            &lt;interceptor-stack name=&quot;cbiStack&quot;&gt;\r\n            \t&lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;errorHandler&quot;/&gt;\r\n                &lt;interceptor-ref name=&quot;authHandler&quot;/&gt;\r\n            &lt;/interceptor-stack&gt;\r\n        &lt;/interceptors&gt;\r\n\r\n        &lt;default-interceptor-ref name=&quot;cbiStack&quot;/&gt;\r\n\t&lt;/package&gt;\r\n\r\n&lt;/struts&gt;\r\n```\r\n\r\nBut 404 occurred in the action after the modification, where did I modify the error, please provide me with suggestions.\r\n\r\nReference:\r\n\r\n - [https://blog.csdn.net/vifaceeeeee/article/details/124713625][1]\r\n - [https://www.twblogs.net/a/5b8ab7f42b71775d1ce8d4f1][2]\r\n - [https://blog.csdn.net/leoluoxu/article/details/80448277][3]\r\n\r\n  [1]: https://blog.csdn.net/vifaceeeeee/article/details/124713625\r\n  [2]: https://www.twblogs.net/a/5b8ab7f42b71775d1ce8d4f1\r\n  [3]: https://blog.csdn.net/leoluoxu/article/details/80448277","title":"404 action after Struts upgrade to 2.5.30 from 2.2.1","body":"<p>I upgraded from Struts 2.2.1 to 2.5.30 and made the following changes in lib</p>\n<p>Upgrade the following jar files:</p>\n<ul>\n<li>freemarker-2.3.31.jar</li>\n<li>ognl-3.1.29.jar</li>\n<li>slf4j-api-1.7.30.jar</li>\n<li>slf4j-jdk14-1.7.30.jar</li>\n<li>struts2-convention-plugin-2.5.30.jar</li>\n<li>struts2-core-2.5.30.jar</li>\n<li>struts2-json-plugin-2.5.30.jar</li>\n<li>struts2-spring-plugin-2.5.30.jar</li>\n</ul>\n<hr />\n<p>Delete the following jar files</p>\n<ul>\n<li>org.apache.struts.xwork-xwork-core-2.2.1.jar</li>\n<li>org.apache.xwork-xwork-core-2.2.1.jar</li>\n</ul>\n<hr />\n<p>Add the following jar files:</p>\n<ul>\n<li>commons-lang3-3.8.1.jar</li>\n</ul>\n<hr />\n<p>And made the following changes in web.xml and Struts.xml\nweb.xml (before)</p>\n<pre><code>&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n\n    &lt;display-name&gt;XXX&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath*:/applicationContext.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Filter --&gt;\n    &lt;!-- Character Encoding filter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- Struts2 filter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ActionContextCleanUp&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- Filter --&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;!--Spring ApplicationContext --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.imps.spring.listenner.ContextAwareListenner&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Spring  Introspector --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.util.IntrospectorCleanupListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- session --&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;20&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    \n     &lt;servlet&gt;\n        &lt;servlet-name&gt;ScheduleJob&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.imps.util.schedulework.ScheduleJob&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;   \n    \n    &lt;servlet&gt;                           \n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.imps.util.CheckToken&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n                         \n    &lt;servlet-mapping&gt;                   \n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/CheckToken.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;```\n\nweb.xml (after)\n\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n\n    &lt;display-name&gt;XXX&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath*:/applicationContext.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Filter --&gt;\n    &lt;!-- Character Encoding filter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- Struts2 filter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- Filter  --&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2CleanupFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2Filter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;!--Spring ApplicationContext --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.imps.spring.listenner.ContextAwareListenner&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Spring  Introspector --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.util.IntrospectorCleanupListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- session --&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;20&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    \n     &lt;servlet&gt;\n        &lt;servlet-name&gt;ScheduleJob&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.imps.util.schedulework.ScheduleJob&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;   \n    \n    &lt;servlet&gt;                           \n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.imps.util.CheckToken&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n                         \n    &lt;servlet-mapping&gt;                   \n        &lt;servlet-name&gt;CheckToken&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/CheckToken.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;```\n\n\nstruts.xml (before)\n\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration 2.1//EN&quot;\n        &quot;http://struts.apache.org/dtds/struts-2.1.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;crud-default&quot; /&gt;\n    &lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;servlet&quot; /&gt;\n    &lt;constant name=&quot;struts.convention.package.locators.basePackage&quot; value=&quot;com.imps&quot; /&gt;\n    &lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot; /&gt;\n    &lt;constant name=&quot;struts.multipart.maxSize&quot; value=&quot;10241024000&quot; /&gt;\n    &lt;constant name=&quot;struts.multipart.saveDir&quot; value=&quot;C:\\test&quot; /&gt;\n\n\n    &lt;!-- CRUD Action parent package --&gt;\n    &lt;package name=&quot;crud-default&quot; extends=&quot;convention-default&quot;&gt;\n        &lt;interceptors&gt;\n            &lt;interceptor-stack name=&quot;crudStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;store&quot;&gt;\n                    &lt;param name=&quot;operationMode&quot;&gt;AUTOMATIC&lt;/param&gt;\n                &lt;/interceptor-ref&gt;\n                &lt;interceptor-ref name=&quot;paramsPrepareParamsStack&quot; /&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;default-interceptor-ref name=&quot;crudStack&quot; /&gt;\n    &lt;/package&gt;\n    \n    &lt;package name=&quot;cbi-default&quot; extends=&quot;json-default&quot;&gt;\n        &lt;result-types&gt;\n            &lt;result-type name=&quot;json&quot; class=&quot;com.imps.servlet.LoggingableJSONResult&quot; default=&quot;true&quot; /&gt;\n            &lt;result-type name=&quot;json-hierarchy&quot; class=&quot;com.imps.servlet.HierarchySupportJSONResult&quot; /&gt;\n        &lt;/result-types&gt;\n    \n        &lt;interceptors&gt;\n            &lt;interceptor name=&quot;errorHandler&quot; class=&quot;com.imps.servlet.ErrorHandlerInterceptor&quot;/&gt;\n            &lt;interceptor name=&quot;authHandler&quot; class=&quot;com.imps.servlet.AuthInterceptor&quot;/&gt;\n            &lt;interceptor-stack name=&quot;cbiStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n                &lt;interceptor-ref name=&quot;errorHandler&quot;/&gt;\n                &lt;interceptor-ref name=&quot;authHandler&quot;/&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;default-interceptor-ref name=&quot;cbiStack&quot;/&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;```\n\nstruts.xml (after)\n\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.convention.action.mapAllMatches&quot; value=&quot;true&quot;/&gt;\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;crud-default&quot; /&gt;\n    &lt;constant name=&quot;struts.convention.package.locators&quot; value=&quot;servlet&quot; /&gt;\n    &lt;constant name=&quot;struts.convention.package.locators.basePackage&quot; value=&quot;com.imps&quot; /&gt;\n    &lt;constant name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot; /&gt;\n    &lt;constant name=&quot;struts.multipart.maxSize&quot; value=&quot;10241024000&quot; /&gt;\n    &lt;constant name=&quot;struts.multipart.saveDir&quot; value=&quot;C:\\test&quot; /&gt;\n\n\n    &lt;package name=&quot;projectstruts&quot; extends=&quot;struts-default&quot; strict-method-invocation=&quot;false&quot;&gt;\n        &lt;global-allowed-methods&gt;regex:.*&lt;/global-allowed-methods&gt;\n    &lt;/package&gt;\n    \n    &lt;!-- CRUD Action parent package --&gt;\n    &lt;package name=&quot;crud-default&quot; extends=&quot;convention-default&quot; strict-method-invocation=&quot;false&quot;&gt;\n        &lt;interceptors&gt;\n            &lt;interceptor-stack name=&quot;crudStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;store&quot;&gt;\n                    &lt;param name=&quot;operationMode&quot;&gt;AUTOMATIC&lt;/param&gt;\n                &lt;/interceptor-ref&gt;\n                &lt;interceptor-ref name=&quot;paramsPrepareParamsStack&quot; /&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;default-interceptor-ref name=&quot;crudStack&quot; /&gt;\n    &lt;/package&gt;\n    \n    &lt;package name=&quot;cbi-default&quot; extends=&quot;json-default&quot; strict-method-invocation=&quot;false&quot;&gt;\n        &lt;result-types&gt;\n            &lt;result-type name=&quot;json&quot; class=&quot;com.imps.servlet.LoggingableJSONResult&quot; default=&quot;true&quot; /&gt;\n            &lt;result-type name=&quot;json-hierarchy&quot; class=&quot;com.imps.servlet.HierarchySupportJSONResult&quot; /&gt;\n        &lt;/result-types&gt;\n    \n        &lt;interceptors&gt;\n            &lt;interceptor name=&quot;errorHandler&quot; class=&quot;com.imps.servlet.ErrorHandlerInterceptor&quot;/&gt;\n            &lt;interceptor name=&quot;authHandler&quot; class=&quot;com.imps.servlet.AuthInterceptor&quot;/&gt;\n            &lt;interceptor-stack name=&quot;cbiStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n                &lt;interceptor-ref name=&quot;errorHandler&quot;/&gt;\n                &lt;interceptor-ref name=&quot;authHandler&quot;/&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;default-interceptor-ref name=&quot;cbiStack&quot;/&gt;\n    &lt;/package&gt;\n\n&lt;/struts&gt;\n</code></pre>\n<p>But 404 occurred in the action after the modification, where did I modify the error, please provide me with suggestions.</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://blog.csdn.net/vifaceeeeee/article/details/124713625\" rel=\"nofollow noreferrer\">https://blog.csdn.net/vifaceeeeee/article/details/124713625</a></li>\n<li><a href=\"https://www.twblogs.net/a/5b8ab7f42b71775d1ce8d4f1\" rel=\"nofollow noreferrer\">https://www.twblogs.net/a/5b8ab7f42b71775d1ce8d4f1</a></li>\n<li><a href=\"https://blog.csdn.net/leoluoxu/article/details/80448277\" rel=\"nofollow noreferrer\">https://blog.csdn.net/leoluoxu/article/details/80448277</a></li>\n</ul>\n"},{"tags":["java","asynchronous","java-8","nullpointerexception","completable-future"],"comments":[{"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"score":6,"creation_date":1661245998,"post_id":73445880,"comment_id":129719877,"body_markdown":"Turns out the NPE is not really in the uniApply but in the function I applied.\nThe reason the JVM is not showing the applied function in the stack trace is because the applied function is a method reference.\nOnce I changed the method reference into a lambda, the stack trace for this error showed the real NPE location.","body":"Turns out the NPE is not really in the uniApply but in the function I applied. The reason the JVM is not showing the applied function in the stack trace is because the applied function is a method reference. Once I changed the method reference into a lambda, the stack trace for this error showed the real NPE location."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":1,"creation_date":1661246084,"post_id":73445880,"comment_id":129719906,"body_markdown":"@user207421 I don&#39;t think the linked question is relevant. The linked question is generally about `NPE`s, what they are and how to fix them. While this about one specific instance occurring within the JDK. The OP showed an effort on figuring out the root cause and got stuck at one point.","body":"@user207421 I don&#39;t think the linked question is relevant. The linked question is generally about <code>NPE</code>s, what they are and how to fix them. While this about one specific instance occurring within the JDK. The OP showed an effort on figuring out the root cause and got stuck at one point."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1661249240,"post_id":73445880,"comment_id":129721067,"body_markdown":"@michid Ultimately all `NullPointerExceptions` come down to a single cause: a null reference was either dereferenced, or about to be derefenced by a piece of code that threw it in self-defence. It is about 9 orders of magnitude more likely that this is due to a `null` value supplied by the caller than a `null` value arising out of the JRE&#39;s internal operations. The OP&#39;s comment above, posted *before* your posted your comment, confirms this assertion.","body":"@michid Ultimately all <code>NullPointerExceptions</code> come down to a single cause: a null reference was either dereferenced, or about to be derefenced by a piece of code that threw it in self-defence. It is about 9 orders of magnitude more likely that this is due to a <code>null</code> value supplied by the caller than a <code>null</code> value arising out of the JRE&#39;s internal operations. The OP&#39;s comment above, posted <i>before</i> your posted your comment, confirms this assertion."},{"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"score":2,"creation_date":1661254484,"post_id":73445880,"comment_id":129723011,"body_markdown":"But I think this is still important to keep this post since the stack trace does not point you directly to the problem, and is very misleading.\nSurely it&#39;s not the same question as &quot;What is a NullPointerException?&quot;.","body":"But I think this is still important to keep this post since the stack trace does not point you directly to the problem, and is very misleading. Surely it&#39;s not the same question as &quot;What is a NullPointerException?&quot;."},{"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"score":2,"creation_date":1661256958,"post_id":73445880,"comment_id":129724030,"body_markdown":"BTW, https://stackoverflow.com/questions/46898164/java-8-method-reference-to-class-instance-method-npe is a bit more relevant than the current linked post &quot;What is a NullPointerException&quot;","body":"BTW, <a href=\"https://stackoverflow.com/questions/46898164/java-8-method-reference-to-class-instance-method-npe\" title=\"java 8 method reference to class instance method npe\">stackoverflow.com/questions/46898164/&hellip;</a> is a bit more relevant than the current linked post &quot;What is a NullPointerException&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661336634,"post_id":73445880,"comment_id":129746200,"body_markdown":"@LiorHalfon I disagree. Ultimately the user supplied a null reference. He said so. It&#39;s all the same thing, and it is barking up the wrong tree to blame the framework or the JDK, as both you and the OP originally did.","body":"@LiorHalfon I disagree. Ultimately the user supplied a null reference. He said so. It&#39;s all the same thing, and it is barking up the wrong tree to blame the framework or the JDK, as both you and the OP originally did."},{"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"score":0,"creation_date":1661446582,"post_id":73445880,"comment_id":129780640,"body_markdown":"I never blamed the JRE for having a bug.\nI simply didn&#39;t understand why the stack trace looked like it did, and it didn&#39;t make sense.\nI spent a lot of time on it, asked many people and searched the web before I posted this question.\nAll I&#39;m saying is this post can help others and maybe save them some time. (Just don&#39;t want it to be deleted)","body":"I never blamed the JRE for having a bug. I simply didn&#39;t understand why the stack trace looked like it did, and it didn&#39;t make sense. I spent a lot of time on it, asked many people and searched the web before I posted this question. All I&#39;m saying is this post can help others and maybe save them some time. (Just don&#39;t want it to be deleted)"}],"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2578,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1661238544,"answer_count":0,"score":8,"last_activity_date":1661262248,"creation_date":1661174667,"question_id":73445880,"body_markdown":"I&#39;m getting this exception:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616) ~[?:1.8.0_302]\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591) ~[?:1.8.0_302]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_302]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975) ~[?:1.8.0_302]\r\n\tat com.tcom.concurrent.ConcurrentUtils$3.onSuccess(ConcurrentUtils.java:140) ~[framework-20220815.38-RELEASE.jar:?]\r\n\r\nThis exception is rare and not reproducible in my system.\r\n\r\nLooking at CompletableFuture.java it seems the `f` Function variable is null.\r\n\r\nBut there is a null check for it in the second line of `uniApply()`, so `f` cannot be null.\r\n\r\n\r\nSo why the JVM claims I have a NPE on the function invocation line?\r\nIf the NPE is coming from within the invoked function, shouldn&#39;t I see it in the stack trace?\r\n\r\n\r\n----------\r\n\r\n\r\n#### The relevant part from ConcurrentUtils.java: ####\r\n\r\n    public static &lt;I, O&gt; CompletableFuture&lt;O&gt; buildCompletableFuture(final ListenableFuture&lt;I&gt; listenableFuture,\r\n                                                                     final Function&lt;I, O&gt; responseApplier,\r\n                                                                     final Consumer&lt;I&gt; onSuccessConsumer,\r\n                                                                     final Consumer&lt;Throwable&gt; onFailureConsumer,\r\n                                                                     final Supplier&lt;O&gt; defaultValueOnExceptionSupplier,\r\n                                                                     final Executor callBackExecutor) {\r\n        //create an instance of CompletableFuture\r\n        final CompletableFuture&lt;I&gt; innerComplete = new CompletableFuture&lt;I&gt;() {\r\n            @Override\r\n            public boolean cancel(boolean mayInterruptIfRunning) {\r\n                // propagate cancel to the listenable future\r\n                boolean result = listenableFuture.cancel(mayInterruptIfRunning);\r\n                super.cancel(mayInterruptIfRunning);\r\n                return result;\r\n            }\r\n        };\r\n\r\n        // add callback\r\n        Futures.addCallback(listenableFuture, new FutureCallback&lt;I&gt;() {\r\n            @Override\r\n            public void onSuccess(I result) {\r\n                innerComplete.complete(result);\r\n                if (onSuccessConsumer != null) {\r\n                    onSuccessConsumer.accept(result);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                innerComplete.completeExceptionally(t);\r\n                if (onFailureConsumer != null) {\r\n                    onFailureConsumer.accept(t);\r\n                }\r\n            }\r\n        }, callBackExecutor);\r\n\r\n        CompletableFuture&lt;O&gt; returnedFuture = innerComplete.thenApply(responseApplier);\r\n        if (defaultValueOnExceptionSupplier != null) { //when we have default value the exception will not thrown\r\n            returnedFuture = returnedFuture.exceptionally((ex) -&gt; defaultValueOnExceptionSupplier.get());\r\n        }\r\n\r\n        return returnedFuture;\r\n    }\r\n\r\n#### Relevant code from CompletableFuture: ####\r\n\r\n    final &lt;S&gt; boolean uniApply(CompletableFuture&lt;S&gt; a,\r\n                               Function&lt;? super S,? extends T&gt; f,\r\n                               UniApply&lt;S,T&gt; c) {\r\n        Object r; Throwable x;\r\n        if (a == null || (r = a.result) == null || f == null)\r\n            return false;\r\n        tryComplete: if (result == null) {\r\n            if (r instanceof AltResult) {\r\n                if ((x = ((AltResult)r).ex) != null) {\r\n                    completeThrowable(x, r);\r\n                    break tryComplete;\r\n                }\r\n                r = null;\r\n            }\r\n            try {\r\n                if (c != null &amp;&amp; !c.claim())\r\n                    return false;\r\n                @SuppressWarnings(&quot;unchecked&quot;) S s = (S) r;\r\n                completeValue(f.apply(s)); // This is CompletableFuture.java:616\r\n            } catch (Throwable ex) {\r\n                completeThrowable(ex);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n#### Here is how I invoke ConcurrentUtils.buildCompletableFuture: ####\r\n\r\n    ConcurrentUtils.buildCompletableFuture(asyncTask,\r\n                ObjectWithTimestamp::getObject, s -&gt; {},\r\n                e -&gt; logger.error(&quot;error message&quot;), null, MoreExecutors.directExecutor())\r\n\r\nThe `f` in `uniApply()` is actually `ObjectWithTimestamp::getObject`\r\n\r\n ","title":"NullPointerException when CompletableFuture is invoking uniApply","body":"<p>I'm getting this exception:</p>\n<pre><code>Caused by: java.lang.NullPointerException\nat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616) ~[?:1.8.0_302]\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591) ~[?:1.8.0_302]\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_302]\nat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975) ~[?:1.8.0_302]\nat com.tcom.concurrent.ConcurrentUtils$3.onSuccess(ConcurrentUtils.java:140) ~[framework-20220815.38-RELEASE.jar:?]\n</code></pre>\n<p>This exception is rare and not reproducible in my system.</p>\n<p>Looking at CompletableFuture.java it seems the <code>f</code> Function variable is null.</p>\n<p>But there is a null check for it in the second line of <code>uniApply()</code>, so <code>f</code> cannot be null.</p>\n<p>So why the JVM claims I have a NPE on the function invocation line?\nIf the NPE is coming from within the invoked function, shouldn't I see it in the stack trace?</p>\n<hr />\n<h4>The relevant part from ConcurrentUtils.java:</h4>\n<pre><code>public static &lt;I, O&gt; CompletableFuture&lt;O&gt; buildCompletableFuture(final ListenableFuture&lt;I&gt; listenableFuture,\n                                                                 final Function&lt;I, O&gt; responseApplier,\n                                                                 final Consumer&lt;I&gt; onSuccessConsumer,\n                                                                 final Consumer&lt;Throwable&gt; onFailureConsumer,\n                                                                 final Supplier&lt;O&gt; defaultValueOnExceptionSupplier,\n                                                                 final Executor callBackExecutor) {\n    //create an instance of CompletableFuture\n    final CompletableFuture&lt;I&gt; innerComplete = new CompletableFuture&lt;I&gt;() {\n        @Override\n        public boolean cancel(boolean mayInterruptIfRunning) {\n            // propagate cancel to the listenable future\n            boolean result = listenableFuture.cancel(mayInterruptIfRunning);\n            super.cancel(mayInterruptIfRunning);\n            return result;\n        }\n    };\n\n    // add callback\n    Futures.addCallback(listenableFuture, new FutureCallback&lt;I&gt;() {\n        @Override\n        public void onSuccess(I result) {\n            innerComplete.complete(result);\n            if (onSuccessConsumer != null) {\n                onSuccessConsumer.accept(result);\n            }\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n            innerComplete.completeExceptionally(t);\n            if (onFailureConsumer != null) {\n                onFailureConsumer.accept(t);\n            }\n        }\n    }, callBackExecutor);\n\n    CompletableFuture&lt;O&gt; returnedFuture = innerComplete.thenApply(responseApplier);\n    if (defaultValueOnExceptionSupplier != null) { //when we have default value the exception will not thrown\n        returnedFuture = returnedFuture.exceptionally((ex) -&gt; defaultValueOnExceptionSupplier.get());\n    }\n\n    return returnedFuture;\n}\n</code></pre>\n<h4>Relevant code from CompletableFuture:</h4>\n<pre><code>final &lt;S&gt; boolean uniApply(CompletableFuture&lt;S&gt; a,\n                           Function&lt;? super S,? extends T&gt; f,\n                           UniApply&lt;S,T&gt; c) {\n    Object r; Throwable x;\n    if (a == null || (r = a.result) == null || f == null)\n        return false;\n    tryComplete: if (result == null) {\n        if (r instanceof AltResult) {\n            if ((x = ((AltResult)r).ex) != null) {\n                completeThrowable(x, r);\n                break tryComplete;\n            }\n            r = null;\n        }\n        try {\n            if (c != null &amp;&amp; !c.claim())\n                return false;\n            @SuppressWarnings(&quot;unchecked&quot;) S s = (S) r;\n            completeValue(f.apply(s)); // This is CompletableFuture.java:616\n        } catch (Throwable ex) {\n            completeThrowable(ex);\n        }\n    }\n    return true;\n}\n</code></pre>\n<h4>Here is how I invoke ConcurrentUtils.buildCompletableFuture:</h4>\n<pre><code>ConcurrentUtils.buildCompletableFuture(asyncTask,\n            ObjectWithTimestamp::getObject, s -&gt; {},\n            e -&gt; logger.error(&quot;error message&quot;), null, MoreExecutors.directExecutor())\n</code></pre>\n<p>The <code>f</code> in <code>uniApply()</code> is actually <code>ObjectWithTimestamp::getObject</code></p>\n"},{"tags":["java","soap","get","jax-ws"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1661263039,"post_id":73459859,"comment_id":129726897,"body_markdown":"So you are the client. And you want to add a GET parameter to the SOAP service URL which is in essence a POST request. Did I understand you right?","body":"So you are the client. And you want to add a GET parameter to the SOAP service URL which is in essence a POST request. Did I understand you right?"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1661263163,"post_id":73459859,"comment_id":129726954,"body_markdown":"Unfortunately you&#39;re right. I need to add a queryParam (GET) to the POST request of a SOAP call","body":"Unfortunately you&#39;re right. I need to add a queryParam (GET) to the POST request of a SOAP call"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661262172,"creation_date":1661262172,"question_id":73459859,"body_markdown":"I know it is a bit strange, but I have this request:\r\nHow can I add a GET param to a SOAP call handled by JAX-WS Java client.\r\n\r\nI don&#39;t know why this param was not included in the WSDL. Is there any way to control the HTTP request and add this GET param?\r\n\r\nThe implementation was made by wsimport, so I have a standard `javax.xml.ws.Service` object.","title":"How to add GET param to SOAP call with JAX-WS","body":"<p>I know it is a bit strange, but I have this request:\nHow can I add a GET param to a SOAP call handled by JAX-WS Java client.</p>\n<p>I don't know why this param was not included in the WSDL. Is there any way to control the HTTP request and add this GET param?</p>\n<p>The implementation was made by wsimport, so I have a standard <code>javax.xml.ws.Service</code> object.</p>\n"},{"tags":["java","multithreading","callback"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661255314,"post_id":73458076,"comment_id":129723342,"body_markdown":"Sounds like an XY problem. What are you trying to achieve?","body":"Sounds like an XY problem. What are you trying to achieve?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1661255638,"post_id":73458076,"comment_id":129723473,"body_markdown":"SImple: just don&#39;t execute it from the spawned thread but from the main thread. To be more precise: you can&#39;t _tell_ the main thread to &quot;now do this&quot; but you could write your code so that it waits for some flag/status and run the &quot;callback&quot; then. This could be done via joining the spawned thread, blocking on futures that might be returned (not from Runnable though) or actively waiting for some variable to be set. But as Mark stated this seems to be a XY problem and thus we need to know what you&#39;re really after in order to provide specific help.","body":"SImple: just don&#39;t execute it from the spawned thread but from the main thread. To be more precise: you can&#39;t <i>tell</i> the main thread to &quot;now do this&quot; but you could write your code so that it waits for some flag/status and run the &quot;callback&quot; then. This could be done via joining the spawned thread, blocking on futures that might be returned (not from Runnable though) or actively waiting for some variable to be set. But as Mark stated this seems to be a XY problem and thus we need to know what you&#39;re really after in order to provide specific help."},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":0,"creation_date":1661256922,"post_id":73458076,"comment_id":129724011,"body_markdown":"The actual case is a library that provides reactive pipelines, reading form a broker. It wraps messages into a class that has an acknowledgement method. The pipeline allows the user to register asynchronous handlers that are executed in an arbitrary thread and call the acknowledgment where they want to. The Message wrappers acknowledge method is a callback that must be executed on that same thread that subscribes to the broker, since the underlying client is not thread safe.","body":"The actual case is a library that provides reactive pipelines, reading form a broker. It wraps messages into a class that has an acknowledgement method. The pipeline allows the user to register asynchronous handlers that are executed in an arbitrary thread and call the acknowledgment where they want to. The Message wrappers acknowledge method is a callback that must be executed on that same thread that subscribes to the broker, since the underlying client is not thread safe."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1661261946,"post_id":73458076,"comment_id":129726282,"body_markdown":"Re, &quot;...a callback that must be executed on that same thread...&quot; Like @Thomas said, you can&#39;t _make_ the main thread change what it&#39;s doing and execute some arbitrary function. The only way your code can do anything &quot;on&quot; a client thread is if the client thread _calls_ your code. The best you can do is provide a method that your client periodically calls _from_ their &quot;main&quot; thread, and have that method execute any callbacks that are due.","body":"Re, &quot;...a callback that must be executed on that same thread...&quot; Like @Thomas said, you can&#39;t <i>make</i> the main thread change what it&#39;s doing and execute some arbitrary function. The only way your code can do anything &quot;on&quot; a client thread is if the client thread <i>calls</i> your code. The best you can do is provide a method that your client periodically calls <i>from</i> their &quot;main&quot; thread, and have that method execute any callbacks that are due."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661264090,"post_id":73458076,"comment_id":129727393,"body_markdown":"When using reactive processing you also need to think &quot;non-blocking&quot;. This means you shouldn&#39;t &quot;call&quot; any thread but basically just provide tasks for threads which they can execute when they have capacity. That way the user provided handler might just be a task that puts the acknowledgement task to the main thread&#39;s pool and which can carry another task to be put into another pool to be executed after acknowledgement - if this is required.","body":"When using reactive processing you also need to think &quot;non-blocking&quot;. This means you shouldn&#39;t &quot;call&quot; any thread but basically just provide tasks for threads which they can execute when they have capacity. That way the user provided handler might just be a task that puts the acknowledgement task to the main thread&#39;s pool and which can carry another task to be put into another pool to be executed after acknowledgement - if this is required."},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":0,"creation_date":1661264557,"post_id":73458076,"comment_id":129727608,"body_markdown":"@Thomas Yeah, that&#39;s what I usually do. The problem is that the acknowledgment method of the client is not thread safe.","body":"@Thomas Yeah, that&#39;s what I usually do. The problem is that the acknowledgment method of the client is not thread safe."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661266552,"post_id":73458076,"comment_id":129728486,"body_markdown":"As I said, just use separate pools and put the acknowledgement task into the task pool for the right thread (the one that is associated with the client) so it can be picked up when that thread is looking for work.","body":"As I said, just use separate pools and put the acknowledgement task into the task pool for the right thread (the one that is associated with the client) so it can be picked up when that thread is looking for work."},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":0,"creation_date":1661337555,"post_id":73458076,"comment_id":129746565,"body_markdown":"Yes, that probably is that way to go. I just wrote a proxy class around the message interface, that keeps a reference to the subscribing `ExecutorService`. That&#39;s bypassing the threading behaviour of the reactive pipeline, but should work. \nThanks for the comments.","body":"Yes, that probably is that way to go. I just wrote a proxy class around the message interface, that keeps a reference to the subscribing <code>ExecutorService</code>. That&#39;s bypassing the threading behaviour of the reactive pipeline, but should work.  Thanks for the comments."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661262012,"creation_date":1661262012,"answer_id":73459831,"question_id":73458076,"body_markdown":"You could try to force execution of `callback()` in particular `ExecutorService`:\r\n```java\r\nclass ConcTest {\r\n    ExecutorService mainExecutor  = Executors.newFixedThreadPool(1);\r\n\r\n    @Test\r\n    void threadTest() throws Exception {\r\n        mainExecutor.submit(() -&gt; {\r\n            System.out.println(&quot;main thread:&quot; + Thread.currentThread());\r\n            new Thread(new AsyncTask(mainExecutor, this::callback)).start();\r\n            sleep(1100);\r\n        }).get();\r\n    }\r\n\r\n    private void callback() {\r\n        System.out.println(&quot;callback executed in: &quot; + Thread.currentThread());\r\n    }\r\n\r\n    private static void sleep(int millis) {\r\n        try {\r\n            Thread.sleep(millis);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    static class AsyncTask implements Runnable{\r\n        private final ExecutorService mainExecutor;\r\n        private final Runnable runnable;\r\n\r\n        public AsyncTask(ExecutorService mainExecutor, Runnable runnable) {\r\n            this.mainExecutor = mainExecutor;\r\n            this.runnable = runnable;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;other thread: &quot; + Thread.currentThread());\r\n            try {\r\n                Thread.sleep(1000);\r\n                mainExecutor.submit(runnable).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThis prints\r\n```\r\nmain thread:Thread[pool-1-thread-1,5,main]\r\nother thread: Thread[Thread-0,5,main]\r\ncallback executed in: Thread[pool-1-thread-1,5,main]\r\n```","title":"Java: Callback to main Thread","body":"<p>You could try to force execution of <code>callback()</code> in particular <code>ExecutorService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ConcTest {\n    ExecutorService mainExecutor  = Executors.newFixedThreadPool(1);\n\n    @Test\n    void threadTest() throws Exception {\n        mainExecutor.submit(() -&gt; {\n            System.out.println(&quot;main thread:&quot; + Thread.currentThread());\n            new Thread(new AsyncTask(mainExecutor, this::callback)).start();\n            sleep(1100);\n        }).get();\n    }\n\n    private void callback() {\n        System.out.println(&quot;callback executed in: &quot; + Thread.currentThread());\n    }\n\n    private static void sleep(int millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    static class AsyncTask implements Runnable{\n        private final ExecutorService mainExecutor;\n        private final Runnable runnable;\n\n        public AsyncTask(ExecutorService mainExecutor, Runnable runnable) {\n            this.mainExecutor = mainExecutor;\n            this.runnable = runnable;\n        }\n\n        @Override\n        public void run() {\n            System.out.println(&quot;other thread: &quot; + Thread.currentThread());\n            try {\n                Thread.sleep(1000);\n                mainExecutor.submit(runnable).get();\n            } catch (InterruptedException | ExecutionException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This prints</p>\n<pre><code>main thread:Thread[pool-1-thread-1,5,main]\nother thread: Thread[Thread-0,5,main]\ncallback executed in: Thread[pool-1-thread-1,5,main]\n</code></pre>\n"}],"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661262012,"creation_date":1661254916,"question_id":73458076,"body_markdown":"How can I make the callback execute in the &quot;main thread&quot;?\r\n\r\n    @Test\r\n    void threadTest() throws InterruptedException {\r\n\r\n        System.out.println(&quot;main thread:&quot; + Thread.currentThread());\r\n\r\n        new Thread(new AsyncTask(this::callback)).start();\r\n\r\n        Thread.sleep(1100);\r\n    }\r\n\r\n    private void callback() {\r\n        System.out.println(&quot;callback executed in: &quot; + Thread.currentThread());\r\n    }\r\n\r\n    static class AsyncTask implements Runnable{\r\n      private final  Runnable runnable;\r\n\r\n        public AsyncTask(Runnable runnable) {\r\n            this.runnable = runnable;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;other thread: &quot; + Thread.currentThread());\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            this.runnable.run();\r\n        }\r\n    }","title":"Java: Callback to main Thread","body":"<p>How can I make the callback execute in the &quot;main thread&quot;?</p>\n<pre><code>@Test\nvoid threadTest() throws InterruptedException {\n\n    System.out.println(&quot;main thread:&quot; + Thread.currentThread());\n\n    new Thread(new AsyncTask(this::callback)).start();\n\n    Thread.sleep(1100);\n}\n\nprivate void callback() {\n    System.out.println(&quot;callback executed in: &quot; + Thread.currentThread());\n}\n\nstatic class AsyncTask implements Runnable{\n  private final  Runnable runnable;\n\n    public AsyncTask(Runnable runnable) {\n        this.runnable = runnable;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;other thread: &quot; + Thread.currentThread());\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n\n        this.runnable.run();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","microservices"],"answers":[{"tags":[],"owner":{"account_id":15635978,"reputation":9794,"user_id":11280830,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661260559,"creation_date":1661260559,"answer_id":73459434,"question_id":73459136,"body_markdown":"Building an image and running a container are 2 very different things. \r\n\r\nAt build time (when you build an image based on a Dockerfile for example) there is no network setup to be done because there is nothing running. Only Docker building an image. So when you build your java image, only create the jar and that&#39;s it.\r\n\r\nFor running the containers I suggest using docker-compose. It makes your life a lot easier. Your java container should use something like a `wait-for.sh` script to wait for the database to become available. There are tons of examples on internet for such scripts. If you can&#39;t find such a script then for now just manually start the database container and wait for it to finish starting and then start the other container.\r\n\r\nThe main point is: the java application creates the data model at runtime (when the container starts) and not at build time (when the image is created).","title":"Elegent way to get dockerized API to connect with dockerized Mysql Database and create schema automatically","body":"<p>Building an image and running a container are 2 very different things.</p>\n<p>At build time (when you build an image based on a Dockerfile for example) there is no network setup to be done because there is nothing running. Only Docker building an image. So when you build your java image, only create the jar and that's it.</p>\n<p>For running the containers I suggest using docker-compose. It makes your life a lot easier. Your java container should use something like a <code>wait-for.sh</code> script to wait for the database to become available. There are tons of examples on internet for such scripts. If you can't find such a script then for now just manually start the database container and wait for it to finish starting and then start the other container.</p>\n<p>The main point is: the java application creates the data model at runtime (when the container starts) and not at build time (when the image is created).</p>\n"},{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661261905,"creation_date":1661261905,"answer_id":73459798,"question_id":73459136,"body_markdown":"My guess is that you have a test failing at build time because of the property. If that is correct, you can just add a properties with `spring.jpa.hibernate.ddl-auto=none` in src/test/resources.\r\n\r\nAlternative is to add a properties file in the container beside the jar with `spring.jpa.hibernate.ddl-auto=update` after building it with none. It should be read at runtime and override the one in the jar.","title":"Elegent way to get dockerized API to connect with dockerized Mysql Database and create schema automatically","body":"<p>My guess is that you have a test failing at build time because of the property. If that is correct, you can just add a properties with <code>spring.jpa.hibernate.ddl-auto=none</code> in src/test/resources.</p>\n<p>Alternative is to add a properties file in the container beside the jar with <code>spring.jpa.hibernate.ddl-auto=update</code> after building it with none. It should be read at runtime and override the one in the jar.</p>\n"}],"owner":{"account_id":21584530,"reputation":89,"user_id":15915226,"display_name":"KnownUnknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459434,"answer_count":2,"score":0,"last_activity_date":1661261905,"creation_date":1661259400,"question_id":73459136,"body_markdown":"**Problem:**\r\n2 services, both running in separate docker containers\r\n\r\n - Mysql DB (container name: mysqldb, network: my-custom-network)\r\n - Api service that supports retrieving and writing data to Mysql service\r\n\r\nNow I create a custom docker network `my-custom-network` with `driver: bridge` and connect both services to it.\r\n\r\n**Intention:**\r\nAlso I set `spring.jpa.hibernate.ddl-auto=update` so that when the api service is started and it connects with the DB first time it automatically creates the table. **But this doesn&#39;t happen.** \r\n \r\n**What happens is this:**\r\n\r\n - Using the mysql image I start the DB container, setting all required passwords and users as environment variables. So this is container is up successfully.\r\n - Now when I try to build the image for my API server using the docker file, then while building it tries to connect with the database and it says `HostNotFoundException: mysqldb not known`. This is probably because mysql container is running on my custom network but while building the image docker doesn&#39;t know which network to use (**I am not sure of this.**  So it fails.\r\n\r\n**Workaround that I did**\r\n\r\n - set `spring.jpa.hibernate.ddl-auto` to `none` so that while building the api image, docker does not try to contact the mysql service.\r\n - Then image is successfully build. I run the api container on same `my-custom-network` and the container is up successfully.\r\n - Now when I try to write data to DB, **an exception occurs saying dbname.tablename doesn&#39;t exists**. Which means tables are not automatically creating when making first connection to the database as `spring.jpa.hibernate.ddl-auto` is set to `none`.  \r\n\r\n**What I want**\r\n\r\nI want some way that tables etc are created automatically and the docker image also builds successfully. But I don&#39;t know how to do it and hence this question.\r\n","title":"Elegent way to get dockerized API to connect with dockerized Mysql Database and create schema automatically","body":"<p><strong>Problem:</strong>\n2 services, both running in separate docker containers</p>\n<ul>\n<li>Mysql DB (container name: mysqldb, network: my-custom-network)</li>\n<li>Api service that supports retrieving and writing data to Mysql service</li>\n</ul>\n<p>Now I create a custom docker network <code>my-custom-network</code> with <code>driver: bridge</code> and connect both services to it.</p>\n<p><strong>Intention:</strong>\nAlso I set <code>spring.jpa.hibernate.ddl-auto=update</code> so that when the api service is started and it connects with the DB first time it automatically creates the table. <strong>But this doesn't happen.</strong></p>\n<p><strong>What happens is this:</strong></p>\n<ul>\n<li>Using the mysql image I start the DB container, setting all required passwords and users as environment variables. So this is container is up successfully.</li>\n<li>Now when I try to build the image for my API server using the docker file, then while building it tries to connect with the database and it says <code>HostNotFoundException: mysqldb not known</code>. This is probably because mysql container is running on my custom network but while building the image docker doesn't know which network to use (<strong>I am not sure of this.</strong>  So it fails.</li>\n</ul>\n<p><strong>Workaround that I did</strong></p>\n<ul>\n<li>set <code>spring.jpa.hibernate.ddl-auto</code> to <code>none</code> so that while building the api image, docker does not try to contact the mysql service.</li>\n<li>Then image is successfully build. I run the api container on same <code>my-custom-network</code> and the container is up successfully.</li>\n<li>Now when I try to write data to DB, <strong>an exception occurs saying dbname.tablename doesn't exists</strong>. Which means tables are not automatically creating when making first connection to the database as <code>spring.jpa.hibernate.ddl-auto</code> is set to <code>none</code>.</li>\n</ul>\n<p><strong>What I want</strong></p>\n<p>I want some way that tables etc are created automatically and the docker image also builds successfully. But I don't know how to do it and hence this question.</p>\n"},{"tags":["java","android","kotlin","android-alertdialog","android-custom-view"],"answers":[{"tags":[],"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661261894,"creation_date":1661261894,"answer_id":73459791,"question_id":73459146,"body_markdown":"I suspect it has to do with the labeled returns.\r\n\r\nWhen you call ***run*** here:\r\n```\r\nfun MaterialDialog.Builder.alertChangedIcon (action: () -&gt; Unit) {\r\n    this.apply {\r\n        ...\r\n        build().run {          &lt;----- when you call here\r\n            ...\r\n            btnPosition.setOnClickListener {\r\n                this.dismiss() &lt;----- &quot;this&quot; may be the builder of the dialog,\r\n                                      and not the dialog itself\r\n                ...\r\n```\r\n\r\nTry replacing ***this.dismiss()*** with the labeled return ***this@apply.dismiss()*** so you tell Kotlin exactly what to dismiss.\r\n\r\nI hope this helps!","title":"Alert Android opens several times and does not close with dismiss","body":"<p>I suspect it has to do with the labeled returns.</p>\n<p>When you call <em><strong>run</strong></em> here:</p>\n<pre><code>fun MaterialDialog.Builder.alertChangedIcon (action: () -&gt; Unit) {\n    this.apply {\n        ...\n        build().run {          &lt;----- when you call here\n            ...\n            btnPosition.setOnClickListener {\n                this.dismiss() &lt;----- &quot;this&quot; may be the builder of the dialog,\n                                      and not the dialog itself\n                ...\n</code></pre>\n<p>Try replacing <em><strong>this.dismiss()</strong></em> with the labeled return <em><strong>this@apply.dismiss()</strong></em> so you tell Kotlin exactly what to dismiss.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":23355609,"reputation":11,"user_id":18783865,"display_name":"Gabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661261894,"creation_date":1661259433,"question_id":73459146,"body_markdown":"I have 2 alerts in sequence, where the last one does not close with dismiss, could you help me please? Below my code snippet. I have a custom view\r\n\r\n    fun MaterialDialog.Builder.alertChangedIcon (action: () -&gt; Unit) {\r\n        this.apply {\r\n            customView(R.layout.change_icon_dialog, false)\r\n            canceledOnTouchOutside(false)\r\n            build().run {\r\n                val btnPosition = this.findViewById(R.id.yesBtnView) as Button\r\n                btnPosition.setOnClickListener {\r\n                    this.dismiss()\r\n                    action.invoke()\r\n                }\r\n            }\r\n            show()\r\n        }\r\n    }\r\n    \r\n    fun MaterialDialog.Builder.alertIconInfoChanged(action: () -&gt; Unit) {\r\n        this.apply {\r\n            customView(R.layout.title_subtitle_two_buttons_dialog_prime,false)\r\n            canceledOnTouchOutside(false)\r\n            build().run {\r\n                val title = this.findViewById(R.id.alertTitleView) as TextView\r\n                val subtitle = this.findViewById(R.id.alertSubtitleView) as TextView\r\n                val positiveButton = this.findViewById(R.id.yesBtnView) as Button\r\n                val negativeButton = this.findViewById(R.id.noBtnView) as Button\r\n    \r\n                title.text = context.getString(R.string.happy_birthday)\r\n                subtitle.text = context.getString(R.string.message_change_icon)\r\n                negativeButton.let {\r\n                    it.text = context.getString(R.string.ok)\r\n                    it.setOnClickListener {\r\n                        this.dismiss()\r\n                        action.invoke()\r\n                    }\r\n                }\r\n                positiveButton.gone(false)\r\n            }\r\n            show()\r\n        }\r\n    }\r\n\r\nAnd use as follows in my view:\r\n\r\n     override fun showAlertChangedIcon(action: () -&gt; Unit) {\r\n        MaterialDialog.Builder(rootView.context).alertIconInfoChanged {\r\n            MaterialDialog.Builder(rootView.context).alertChangedIcon {\r\n                action.invoke()\r\n            }\r\n        }\r\n    }\r\n\r\nAnd in my controller I have the functions that direct screens\r\n\r\n    .subscribe({ response -&gt;\r\n                        when (response) {\r\n                            is Result.Success -&gt; {\r\n                                viewContract.showAlertChangedIcon {\r\n                                    when {\r\n                                        ...\r\n                                        }\r\n                                        else -&gt; {\r\n                                            ...\r\n                                        }\r\n                                    }\r\n                                }","title":"Alert Android opens several times and does not close with dismiss","body":"<p>I have 2 alerts in sequence, where the last one does not close with dismiss, could you help me please? Below my code snippet. I have a custom view</p>\n<pre><code>fun MaterialDialog.Builder.alertChangedIcon (action: () -&gt; Unit) {\n    this.apply {\n        customView(R.layout.change_icon_dialog, false)\n        canceledOnTouchOutside(false)\n        build().run {\n            val btnPosition = this.findViewById(R.id.yesBtnView) as Button\n            btnPosition.setOnClickListener {\n                this.dismiss()\n                action.invoke()\n            }\n        }\n        show()\n    }\n}\n\nfun MaterialDialog.Builder.alertIconInfoChanged(action: () -&gt; Unit) {\n    this.apply {\n        customView(R.layout.title_subtitle_two_buttons_dialog_prime,false)\n        canceledOnTouchOutside(false)\n        build().run {\n            val title = this.findViewById(R.id.alertTitleView) as TextView\n            val subtitle = this.findViewById(R.id.alertSubtitleView) as TextView\n            val positiveButton = this.findViewById(R.id.yesBtnView) as Button\n            val negativeButton = this.findViewById(R.id.noBtnView) as Button\n\n            title.text = context.getString(R.string.happy_birthday)\n            subtitle.text = context.getString(R.string.message_change_icon)\n            negativeButton.let {\n                it.text = context.getString(R.string.ok)\n                it.setOnClickListener {\n                    this.dismiss()\n                    action.invoke()\n                }\n            }\n            positiveButton.gone(false)\n        }\n        show()\n    }\n}\n</code></pre>\n<p>And use as follows in my view:</p>\n<pre><code> override fun showAlertChangedIcon(action: () -&gt; Unit) {\n    MaterialDialog.Builder(rootView.context).alertIconInfoChanged {\n        MaterialDialog.Builder(rootView.context).alertChangedIcon {\n            action.invoke()\n        }\n    }\n}\n</code></pre>\n<p>And in my controller I have the functions that direct screens</p>\n<pre><code>.subscribe({ response -&gt;\n                    when (response) {\n                        is Result.Success -&gt; {\n                            viewContract.showAlertChangedIcon {\n                                when {\n                                    ...\n                                    }\n                                    else -&gt; {\n                                        ...\n                                    }\n                                }\n                            }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1655458125,"post_id":72657125,"comment_id":128342285,"body_markdown":"Your question is unclear. Android is an operating system. What do you want to do? Write an app that displays HTML text?","body":"Your question is unclear. Android is an operating system. What do you want to do? Write an app that displays HTML text?"},{"owner":{"account_id":25560718,"reputation":830,"user_id":19343390,"display_name":"Anonymous"},"score":0,"creation_date":1655458285,"post_id":72657125,"comment_id":128342331,"body_markdown":"@GhostCat No, I want to create an Android app which has text, some words in it which are written in short form, when you click on those words a small box appears beside them showing the full form of that word, like it gets shown in the snippet above","body":"@GhostCat No, I want to create an Android app which has text, some words in it which are written in short form, when you click on those words a small box appears beside them showing the full form of that word, like it gets shown in the snippet above"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1655458298,"post_id":72657125,"comment_id":128342337,"body_markdown":"https://modernweb.com/enhancing-the-html-abbr-element-on-mobile/","body":"<a href=\"https://modernweb.com/enhancing-the-html-abbr-element-on-mobile/\" rel=\"nofollow noreferrer\">modernweb.com/enhancing-the-html-abbr-element-on-mobile</a>"},{"owner":{"account_id":25560718,"reputation":830,"user_id":19343390,"display_name":"Anonymous"},"score":0,"creation_date":1655459053,"post_id":72657125,"comment_id":128342597,"body_markdown":"@JoopEggen Thanks for your response, but that solution would work only if I was using something like a WebView to display HTML/CSS content, right? It would be very inconvenient to add a WebView in a paragraph each time I want abbreviated text, is there any other way or I am misunderstanding your response?","body":"@JoopEggen Thanks for your response, but that solution would work only if I was using something like a WebView to display HTML/CSS content, right? It would be very inconvenient to add a WebView in a paragraph each time I want abbreviated text, is there any other way or I am misunderstanding your response?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655459343,"post_id":72657125,"comment_id":128342692,"body_markdown":"The solution is old (2013), and I cannot remember it anymore, but it seems to be pure CSS. I hope I did not burden you with additional garbage.","body":"The solution is old (2013), and I cannot remember it anymore, but it seems to be pure CSS. I hope I did not burden you with additional garbage."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661171855,"post_id":72657125,"comment_id":129701034,"body_markdown":"Any screen element can be made clickable, and the click actions are arbitrary. Without knowing anything about your app, how text us being displayed, etc its impossible to guess what might work for you.","body":"Any screen element can be made clickable, and the click actions are arbitrary. Without knowing anything about your app, how text us being displayed, etc its impossible to guess what might work for you."}],"owner":{"account_id":25560718,"reputation":830,"user_id":19343390,"display_name":"Anonymous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661261708,"creation_date":1655457752,"question_id":72657125,"body_markdown":"If I put the `&lt;abbr&gt;` tag in an HTML webpage like so in the snippet below, there will be a text `WHO`, which upon hovering will show its full form `World Health Organization` in a small box beside it.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;abbr title=&quot;World Health Organization&quot;&gt;WHO&lt;/abbr&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow to replicate the same thing in Android? (I am using Java btw) You may not be able to hover on a mobile device, but can this functionality be replicated on click? If so, how?\r\n\r\nFor example, I have a paragraph in a `TextView` like so\r\n```\r\nHTML is not a programming lang...\r\n```\r\nI want it so that when the user clicks on the specific word &quot;HTML&quot; its full form should show beside it (In some sort of &quot;floating&quot; box)\r\n\r\nMaybe make a small box, position it accordingly and then toggle its visibility on click? I don&#39;t know where to start.","title":"Equivalent/Alternative of HTML &lt;abbr&gt; tag in Android (Java)","body":"<p>If I put the <code>&lt;abbr&gt;</code> tag in an HTML webpage like so in the snippet below, there will be a text <code>WHO</code>, which upon hovering will show its full form <code>World Health Organization</code> in a small box beside it.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;abbr title=\"World Health Organization\"&gt;WHO&lt;/abbr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How to replicate the same thing in Android? (I am using Java btw) You may not be able to hover on a mobile device, but can this functionality be replicated on click? If so, how?</p>\n<p>For example, I have a paragraph in a <code>TextView</code> like so</p>\n<pre><code>HTML is not a programming lang...\n</code></pre>\n<p>I want it so that when the user clicks on the specific word &quot;HTML&quot; its full form should show beside it (In some sort of &quot;floating&quot; box)</p>\n<p>Maybe make a small box, position it accordingly and then toggle its visibility on click? I don't know where to start.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1661261906,"post_id":73459707,"comment_id":129726261,"body_markdown":"Possibly related: [com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure](https://stackoverflow.com/q/2983248)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/2983248\">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661262601,"post_id":73459707,"comment_id":129726641,"body_markdown":"Maybe try ```private static String url = &quot;jdbc:mysql://localhost:3306/hosapi?useSSL=false&quot;;```","body":"Maybe try <code>private static String url = &quot;jdbc:mysql:&#47;&#47;localhost:3306&#47;hosapi?useSSL=false&quot;;</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661268862,"post_id":73459707,"comment_id":129729552,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"owner":{"account_id":25552984,"reputation":1,"user_id":19337068,"display_name":"jegannathanpc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661261618,"creation_date":1661261538,"question_id":73459707,"body_markdown":"My code:\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class sqlConnection {\r\n\t\r\n\tprivate static String url = &quot;jdbc:mysql://localhost:3306/hosapi&quot;;\r\n\tprivate static String uname = &quot;root&quot;;\r\n\tprivate static String pword = &quot;1016&quot;;\r\n\t\r\n\t\r\n\tpublic static void main(String[] arg) {\r\n\t\t\r\n\t\tConnection con = null;\r\n\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tcon = DriverManager.getConnection(url, uname, pword);\r\n\t\t\tSystem.out.println(&quot;connection created&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;error&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nerror\r\n\r\n```\r\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\nThe last packet successfully received from the server was 322 milliseconds ago.  The last packet sent successfully to the server was 297 milliseconds ago.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:981)\r\n\tat com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:164)\r\n\tat com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:4801)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1643)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1215)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2255)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2286)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2085)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:795)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:400)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:327)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat com.project.Hospital.sqlConnection.main(sqlConnection.java:19)\r\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\tat java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\r\n\tat java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:103)\r\n\tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:240)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:448)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n\tat com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:149)\r\n\t... 19 more\r\n```","title":"I have error an mysql connection with tomcat server","body":"<p>My code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class sqlConnection {\n    \n    private static String url = &quot;jdbc:mysql://localhost:3306/hosapi&quot;;\n    private static String uname = &quot;root&quot;;\n    private static String pword = &quot;1016&quot;;\n    \n    \n    public static void main(String[] arg) {\n        \n        Connection con = null;\n    \n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(url, uname, pword);\n            System.out.println(&quot;connection created&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;error&quot;);\n            e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n<p>error</p>\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 322 milliseconds ago.  The last packet sent successfully to the server was 297 milliseconds ago.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:981)\n    at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:164)\n    at com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:4801)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1643)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1215)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2255)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2286)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2085)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:795)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:400)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:327)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at com.project.Hospital.sqlConnection.main(sqlConnection.java:19)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:172)\n    at java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:103)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:240)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:448)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n    at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:149)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","jpa","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":3558841,"reputation":2777,"user_id":2971820,"display_name":"jpmottin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1615300435,"creation_date":1615300435,"answer_id":66548900,"question_id":65609405,"body_markdown":"Use the **compile** phase of maven\r\n\r\n    mvn clean compile\r\n\r\ninstead of using the plugin directly\r\n\r\n    mvn openapi-generator:generate\r\n\r\nExplanation : \r\n\r\n&gt; The trick is, not to call the plugin directly, but instead call &quot;mvn\r\n&gt; clean compile&quot;. It&#180;s a little but confusing about maven, but okay for\r\n&gt; me. Sorry guys.\r\n\r\nfrom here: [OpenAPI Generator | Issue tracker][1]\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/issues/2207","title":"How do I fix OpenAPI error in seemingly correct &#39;inputSpec&#39; for code generation?","body":"<p>Use the <strong>compile</strong> phase of maven</p>\n<pre><code>mvn clean compile\n</code></pre>\n<p>instead of using the plugin directly</p>\n<pre><code>mvn openapi-generator:generate\n</code></pre>\n<p>Explanation :</p>\n<blockquote>\n<p>The trick is, not to call the plugin directly, but instead call &quot;mvn\nclean compile&quot;. Its a little but confusing about maven, but okay for\nme. Sorry guys.</p>\n</blockquote>\n<p>from here: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/2207\" rel=\"noreferrer\">OpenAPI Generator | Issue tracker</a></p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661261531,"creation_date":1661261531,"answer_id":73459705,"question_id":65609405,"body_markdown":"- You must rename the rules for OpenApi.\r\n\r\nFor example:\r\n\r\n```txt\r\napi.yaml\r\n```\r\n- than, you must pass the file into **/resources/**\r\n\r\n- So, Your file will be into \r\n\r\n**/src/main/resources/api.yaml**\r\n\r\n- After, you must change pom.xml into   **&lt;inputSpec&gt;** :\r\n\r\n```xml\r\n...\r\n &lt;inputSpec&gt;${project.basedir}/src/main/resources/api.yaml&lt;/inputSpec&gt;\r\n...\r\n\r\n```\r\n- Now, perform a command:\r\n\r\n```bash\r\nmvn clean compile\r\n\r\n```","title":"How do I fix OpenAPI error in seemingly correct &#39;inputSpec&#39; for code generation?","body":"<ul>\n<li>You must rename the rules for OpenApi.</li>\n</ul>\n<p>For example:</p>\n<pre><code>api.yaml\n</code></pre>\n<ul>\n<li><p>than, you must pass the file into <strong>/resources/</strong></p>\n</li>\n<li><p>So, Your file will be into</p>\n</li>\n</ul>\n<p><strong>/src/main/resources/api.yaml</strong></p>\n<ul>\n<li>After, you must change pom.xml into   <strong></strong> :</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n &lt;inputSpec&gt;${project.basedir}/src/main/resources/api.yaml&lt;/inputSpec&gt;\n...\n\n</code></pre>\n<ul>\n<li>Now, perform a command:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean compile\n\n</code></pre>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18970,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1661261531,"creation_date":1610010266,"question_id":65609405,"body_markdown":"I&#39;m trying to run the OpenAPI generator, but I keep getting an error message that doesn&#39;t make sense. \r\n\r\n`Failed to execute goal org.openapitools:openapi-generator-maven-plugin:5.0.0-SNAPSHOT:generate (default-cli) on project miguelmunoz.challenge: The parameters &#39;inputSpec&#39; for goal org.openapitools:openapi-generator-maven-plugin:5.0.0-SNAPSHOT:generate are missing or invalid`\r\n\r\nThe trouble is that my `inputSpec` value points to a valid .yaml file. The file is at `src/main/resources/yaml/pizzeria.yaml` and I&#39;ve used copy and paste to ensure there are no spelling errors in that path. You can download a minimum reproducible test case at https://github.com/SwingGuy1024/OpenAPI_inputSpec_Bug. \r\n\r\nHere&#39;s my plugin spec:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;!-- General Configuration properties taken from --&gt;\r\n\t\t\t\t\t\t\t&lt;!-- https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md --&gt;\r\n\t\t\t\t\t\t\t&lt;!--Changed to https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin--&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Modifications from https://stackoverflow.com/questions/64304049/how-to-create-a-spring-boot-rest-server-using-openapitools/64363872#64363872 --&gt;\r\n\t\t\t\t\t\t\t&lt;ignoreFileOverride&gt;${project.basedir}/my-springboot.ignores&lt;/ignoreFileOverride&gt;  &lt;!--Added--&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/yaml/pizzeria.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;!--the language tag was replaced by the generatorName tag:--&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;templateDirectory&gt;${project.basedir}/src/gen/templates/&lt;/templateDirectory&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;templateResourcePath&gt;${project.basedir}/src/gen/templates/&lt;/templateResourcePath&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;!-- &lt;output&gt;${project.basedir}&lt;/output&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Defaults to ${project.build.directory}/generated-sources/openapi --&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;com.dummy.pizzeria.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;com.dummy.pizzeria.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;invokerPackage&gt;com.dummy.pizzeria&lt;/invokerPackage&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.dummy.pizzeria.objects&lt;/packageName&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;neptunedreams&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;pizzeria&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n\t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;output&gt;${project.basedir}/my-springboot&lt;/output&gt; &amp;lt;!&amp;ndash; Added &amp;ndash;&amp;gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- configOptions are specific to the spring generator. These are taken from --&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md --&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceFolder&gt;gen&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t\t\t&lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n\t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt; &lt;!-- Default--&gt;\r\n\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n\t\t\t\t\t\t\t\t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n\t\t\t\t\t\t\t\t&lt;skipDefaultInterface&gt;false&lt;/skipDefaultInterface&gt;\r\n\t\t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n\t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"How do I fix OpenAPI error in seemingly correct &#39;inputSpec&#39; for code generation?","body":"<p>I'm trying to run the OpenAPI generator, but I keep getting an error message that doesn't make sense.</p>\n<p><code>Failed to execute goal org.openapitools:openapi-generator-maven-plugin:5.0.0-SNAPSHOT:generate (default-cli) on project miguelmunoz.challenge: The parameters 'inputSpec' for goal org.openapitools:openapi-generator-maven-plugin:5.0.0-SNAPSHOT:generate are missing or invalid</code></p>\n<p>The trouble is that my <code>inputSpec</code> value points to a valid .yaml file. The file is at <code>src/main/resources/yaml/pizzeria.yaml</code> and I've used copy and paste to ensure there are no spelling errors in that path. You can download a minimum reproducible test case at <a href=\"https://github.com/SwingGuy1024/OpenAPI_inputSpec_Bug\" rel=\"noreferrer\">https://github.com/SwingGuy1024/OpenAPI_inputSpec_Bug</a>.</p>\n<p>Here's my plugin spec:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;!-- RELEASE_VERSION --&gt;\n            &lt;version&gt;5.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;!-- /RELEASE_VERSION --&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- General Configuration properties taken from --&gt;\n                        &lt;!-- https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md --&gt;\n                        &lt;!--Changed to https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin--&gt;\n                        &lt;!-- Modifications from https://stackoverflow.com/questions/64304049/how-to-create-a-spring-boot-rest-server-using-openapitools/64363872#64363872 --&gt;\n                        &lt;ignoreFileOverride&gt;${project.basedir}/my-springboot.ignores&lt;/ignoreFileOverride&gt;  &lt;!--Added--&gt;\n                        &lt;inputSpec&gt;${project.basedir}/src/main/resources/yaml/pizzeria.yaml&lt;/inputSpec&gt;\n                        &lt;!--the language tag was replaced by the generatorName tag:--&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;!--&lt;templateDirectory&gt;${project.basedir}/src/gen/templates/&lt;/templateDirectory&gt;--&gt;\n                        &lt;!--&lt;templateResourcePath&gt;${project.basedir}/src/gen/templates/&lt;/templateResourcePath&gt;--&gt;\n                        &lt;!-- &lt;output&gt;${project.basedir}&lt;/output&gt;--&gt;\n                        &lt;!-- Defaults to ${project.build.directory}/generated-sources/openapi --&gt;\n                        &lt;apiPackage&gt;com.dummy.pizzeria.api&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;com.dummy.pizzeria.model&lt;/modelPackage&gt;\n                        &lt;invokerPackage&gt;com.dummy.pizzeria&lt;/invokerPackage&gt;\n                        &lt;packageName&gt;com.dummy.pizzeria.objects&lt;/packageName&gt;\n                        &lt;groupId&gt;neptunedreams&lt;/groupId&gt;\n                        &lt;artifactId&gt;pizzeria&lt;/artifactId&gt;\n                        &lt;library&gt;spring-boot&lt;/library&gt;\n                        &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                        &lt;!--&lt;output&gt;${project.basedir}/my-springboot&lt;/output&gt; &amp;lt;!&amp;ndash; Added &amp;ndash;&amp;gt;--&gt;\n                        &lt;!--&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;--&gt;\n                        &lt;configOptions&gt;\n                            &lt;!-- configOptions are specific to the spring generator. These are taken from --&gt;\n                            &lt;!-- https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md --&gt;\n                            &lt;sourceFolder&gt;gen&lt;/sourceFolder&gt;\n                            &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt; &lt;!-- Default--&gt;\n                            &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\n                            &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                            &lt;skipDefaultInterface&gt;false&lt;/skipDefaultInterface&gt;\n                            &lt;library&gt;spring-boot&lt;/library&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","activemq","activemq-artemis"],"comments":[{"owner":{"account_id":455505,"reputation":1708,"user_id":853694,"accept_rate":78,"display_name":"JSantos"},"score":0,"creation_date":1661163011,"post_id":73416726,"comment_id":129698007,"body_markdown":"I&#39;m using activemq artemis 2.19.1 (the last version for java 8)","body":"I&#39;m using activemq artemis 2.19.1 (the last version for java 8)"},{"owner":{"account_id":455505,"reputation":1708,"user_id":853694,"accept_rate":78,"display_name":"JSantos"},"score":0,"creation_date":1661247912,"post_id":73416726,"comment_id":129720555,"body_markdown":"I changed the way the producers are created and now it seems fine, looks like something like that was the problem","body":"I changed the way the producers are created and now it seems fine, looks like something like that was the problem"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661261057,"creation_date":1661261057,"answer_id":73459577,"question_id":73416726,"body_markdown":"Based on your description it sounds like your producer is creating a new connection every time it sends a message. If that is the case then that is almost certainly the problem here, and it is also a very well-known anti-pattern that you should avoid whenever possible.","title":"ActiveMQ failover stays on second URL","body":"<p>Based on your description it sounds like your producer is creating a new connection every time it sends a message. If that is the case then that is almost certainly the problem here, and it is also a very well-known anti-pattern that you should avoid whenever possible.</p>\n"}],"owner":{"account_id":455505,"reputation":1708,"user_id":853694,"accept_rate":78,"display_name":"JSantos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459577,"answer_count":1,"score":0,"last_activity_date":1661261057,"creation_date":1660911592,"question_id":73416726,"body_markdown":"So I have this connection to a ActiveMQ Artemis 2.19.1 cluster using java code\r\n```java\r\nString brokerUrl = &quot;failover:(tcp://10.5.1.1:61616,tcp://10.6.1.2:61617)?nested.connectionTimeout=1000&amp;randomize=false&amp;maxReconnectAttempts=0&amp;maxReconnectDelay=1000&quot;;\r\nActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n```\r\nI observe that when the first node is down it connects successfully to the second node, but every time my producer sends a message it has a 1 second delay because it tries to connect to the first node every time. Is there a way to configure the connection to keep using the last successful node instead of always trying the first one. I don&#39;t see any reference in the [documentation][1] for this behavior that I&#39;m looking for.\r\n\r\nI don&#39;t want to lower the timeout values from fear of it failing to connect to a working node, and I don&#39;t think that that should be the right approach.\r\n\r\nAlso when the first node comes online it will automatically connect to the first node instead of keeping the connection to the second node \r\n\r\n\r\n  [1]: https://activemq.apache.org/failover-transport-reference.html","title":"ActiveMQ failover stays on second URL","body":"<p>So I have this connection to a ActiveMQ Artemis 2.19.1 cluster using java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>String brokerUrl = &quot;failover:(tcp://10.5.1.1:61616,tcp://10.6.1.2:61617)?nested.connectionTimeout=1000&amp;randomize=false&amp;maxReconnectAttempts=0&amp;maxReconnectDelay=1000&quot;;\nActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n</code></pre>\n<p>I observe that when the first node is down it connects successfully to the second node, but every time my producer sends a message it has a 1 second delay because it tries to connect to the first node every time. Is there a way to configure the connection to keep using the last successful node instead of always trying the first one. I don't see any reference in the <a href=\"https://activemq.apache.org/failover-transport-reference.html\" rel=\"nofollow noreferrer\">documentation</a> for this behavior that I'm looking for.</p>\n<p>I don't want to lower the timeout values from fear of it failing to connect to a working node, and I don't think that that should be the right approach.</p>\n<p>Also when the first node comes online it will automatically connect to the first node instead of keeping the connection to the second node</p>\n"},{"tags":["java","locale","date-format"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1256716497,"post_id":1635681,"comment_id":1504838,"body_markdown":"How did you manage to get the small `o` in `oct` without any extra effort on your part, BTW?","body":"How did you manage to get the small <code>o</code> in <code>oct</code> without any extra effort on your part, BTW?"},{"owner":{"account_id":33617,"reputation":1850,"user_id":94225,"display_name":"St.Shadow"},"score":1,"creation_date":1256717050,"post_id":1635681,"comment_id":1504857,"body_markdown":"-) Just some offtopic comment. It`s interesting, how Enlish-spoken people forgot about such pretty and funny problems like locale-specific conversions, encoding grabage symbols, and so on.\nGuys, just for fun - try to output this message to windows console - System.out.println(&quot;&quot;). I promise - you will have a lot of funny troubles :)","body":"-) Just some offtopic comment. It`s interesting, how Enlish-spoken people forgot about such pretty and funny problems like locale-specific conversions, encoding grabage symbols, and so on. Guys, just for fun - try to output this message to windows console - System.out.println(&quot;&quot;). I promise - you will have a lot of funny troubles :)"},{"owner":{"account_id":54164,"reputation":3160,"user_id":162038,"accept_rate":93,"display_name":"Jalil"},"score":0,"creation_date":1256717688,"post_id":1635681,"comment_id":1504918,"body_markdown":"Vinegar, I think it&#39;s simply the locale working here.   \nThe French locale displays and expects &#39;oct.&#39; where the English locale displays and expects &#39;Oct&#39;   \nThis is part of my problem as I use French locale but don&#39;t want to use the dot.","body":"Vinegar, I think it&#39;s simply the locale working here.    The French locale displays and expects &#39;oct.&#39; where the English locale displays and expects &#39;Oct&#39;    This is part of my problem as I use French locale but don&#39;t want to use the dot."},{"owner":{"account_id":54164,"reputation":3160,"user_id":162038,"accept_rate":93,"display_name":"Jalil"},"score":0,"creation_date":1256719304,"post_id":1635681,"comment_id":1505030,"body_markdown":"Sorry for the tag, Esko. Understood for the next time.","body":"Sorry for the tag, Esko. Understood for the next time."}],"answers":[{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1256718616,"creation_date":1256716050,"answer_id":1635717,"question_id":1635681,"body_markdown":"You can simply remove the &quot;.&quot;:\r\n\r\n    df2.format(new Date()).replaceAll(&quot;\\\\.&quot;, &quot;&quot;));\r\n\r\n&lt;hr/&gt;\r\n\r\nEdit, regarding the *lemon* answer:\r\n\r\nIt seems to be a problem with the formatting when using the Locale French. Thus, I suggest that you simply use the `.` removal as I explained.\r\n\r\nIndeed, the following code:\r\n\r\n        String format2 = &quot;dd-MMM-yy&quot;;\r\n        Date date = Calendar.getInstance().getTime();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(format2, Locale.FRENCH);\r\n        System.out.println(sdf.format(date));\r\n        sdf = new SimpleDateFormat(format2, Locale.ENGLISH);\r\n        System.out.println(sdf.format(date));\r\n\r\ndisplays the following output:\r\n\r\n    28-oct.-09\r\n    28-Oct-09\r\n\r\n&lt;hr/&gt;\r\n\r\n*Edit again*\r\n\r\nOk, I got your problem right now.\r\n\r\nI don&#39;t really know how you can solve this problem without processing your String first. The idea is to replace the month in the original String by a comprehensive month:\r\n\r\n            String[] givenMonths = { &quot;jan&quot;, &quot;f&#233;v&quot;, &quot;mars&quot;, &quot;avr.&quot;, &quot;mai&quot;, &quot;juin&quot;, &quot;juil&quot;, &quot;ao&#251;t&quot;, &quot;sept&quot;, &quot;oct&quot;, &quot;nov&quot;, &quot;d&#233;c&quot; };\r\n            String[] realMonths = { &quot;janv.&quot;, &quot;f&#233;vr.&quot;, &quot;mars&quot;, &quot;avr.&quot;, &quot;mai&quot;, &quot;juin&quot;, &quot;juil.&quot;, &quot;ao&#251;t&quot;, &quot;sept.&quot;, &quot;oct.&quot;, &quot;nov.&quot;, &quot;d&#233;c.&quot; };\r\n            String original = &quot;09-oct-08&quot;;\r\n            for (int i = 0; i &lt; givenMonths.length; i++) {\r\n                original = original.replaceAll(givenMonths[i], realMonths[i]);\r\n            }\r\n            String format2 = &quot;dd-MMM-yy&quot;;\r\n            DateFormat df2 = new SimpleDateFormat(format2, Locale.FRENCH);\r\n            Date date = df2.parse(original);\r\n            System.out.println(&quot;--&gt; &quot; + date);\r\n\r\nI agree, this is awful, but I don&#39;t see any other solution if you use to `SimpleDateFormat` and `Date` classes.\r\n\r\nAnother solution is to use a **real** date and time library instead of the original JDK ones, such as [Joda Time][1].\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"Parsing a date with short month without dot","body":"<p>You can simply remove the \".\":</p>\n\n<pre><code>df2.format(new Date()).replaceAll(\"\\\\.\", \"\"));\n</code></pre>\n\n<hr/>\n\n<p>Edit, regarding the <em>lemon</em> answer:</p>\n\n<p>It seems to be a problem with the formatting when using the Locale French. Thus, I suggest that you simply use the <code>.</code> removal as I explained.</p>\n\n<p>Indeed, the following code:</p>\n\n<pre><code>    String format2 = \"dd-MMM-yy\";\n    Date date = Calendar.getInstance().getTime();\n    SimpleDateFormat sdf = new SimpleDateFormat(format2, Locale.FRENCH);\n    System.out.println(sdf.format(date));\n    sdf = new SimpleDateFormat(format2, Locale.ENGLISH);\n    System.out.println(sdf.format(date));\n</code></pre>\n\n<p>displays the following output:</p>\n\n<pre><code>28-oct.-09\n28-Oct-09\n</code></pre>\n\n<hr/>\n\n<p><em>Edit again</em></p>\n\n<p>Ok, I got your problem right now.</p>\n\n<p>I don't really know how you can solve this problem without processing your String first. The idea is to replace the month in the original String by a comprehensive month:</p>\n\n<pre><code>        String[] givenMonths = { \"jan\", \"fv\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil\", \"aot\", \"sept\", \"oct\", \"nov\", \"dc\" };\n        String[] realMonths = { \"janv.\", \"fvr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"aot\", \"sept.\", \"oct.\", \"nov.\", \"dc.\" };\n        String original = \"09-oct-08\";\n        for (int i = 0; i &lt; givenMonths.length; i++) {\n            original = original.replaceAll(givenMonths[i], realMonths[i]);\n        }\n        String format2 = \"dd-MMM-yy\";\n        DateFormat df2 = new SimpleDateFormat(format2, Locale.FRENCH);\n        Date date = df2.parse(original);\n        System.out.println(\"--&gt; \" + date);\n</code></pre>\n\n<p>I agree, this is awful, but I don't see any other solution if you use to <code>SimpleDateFormat</code> and <code>Date</code> classes.</p>\n\n<p>Another solution is to use a <strong>real</strong> date and time library instead of the original JDK ones, such as <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda Time</a>.</p>\n"},{"tags":[],"owner":{"account_id":53475,"reputation":9175,"user_id":159856,"accept_rate":76,"display_name":"lemon"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1256717784,"creation_date":1256716052,"answer_id":1635718,"question_id":1635681,"body_markdown":"    String format2 = &quot;dd-MMM-yy&quot;;\r\n    Date date = Calendar.getInstance().getTime();\r\n    SimpleDateFormat sdf = new SimpleDateFormat(format2);\r\n    System.out.println(sdf.format(date));\r\n\r\nOutputs `28-Oct-09`\r\n\r\nI don&#39;t see any dots sir. Have you tried re-checking your prints? Maybe you accidentally placed a `.` beside your `MMM`?\r\n\r\n&lt;hr&gt;\r\n\r\nYou&#39;re getting `java.text.ParseException: Unparseable date: &quot;09-oct-08&quot;` since `&quot;09-oct-08&quot;` does not match the formatting of `Locale.FRENCH` either use the default locale(US I think) or add a `.` beside your `oct`","title":"Parsing a date with short month without dot","body":"<pre><code>String format2 = \"dd-MMM-yy\";\nDate date = Calendar.getInstance().getTime();\nSimpleDateFormat sdf = new SimpleDateFormat(format2);\nSystem.out.println(sdf.format(date));\n</code></pre>\n\n<p>Outputs <code>28-Oct-09</code></p>\n\n<p>I don't see any dots sir. Have you tried re-checking your prints? Maybe you accidentally placed a <code>.</code> beside your <code>MMM</code>?</p>\n\n<hr>\n\n<p>You're getting <code>java.text.ParseException: Unparseable date: \"09-oct-08\"</code> since <code>\"09-oct-08\"</code> does not match the formatting of <code>Locale.FRENCH</code> either use the default locale(US I think) or add a <code>.</code> beside your <code>oct</code></p>\n"},{"tags":[],"owner":{"account_id":33617,"reputation":1850,"user_id":94225,"display_name":"St.Shadow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1256719326,"creation_date":1256717800,"answer_id":1635807,"question_id":1635681,"body_markdown":"Ok, then try &#171;brute force&#187; :)\r\n\r\n    DateFormatSymbols dfs = new DateFormatSymbols(Locale.FRENCH);\r\n    String[] months = new String[13]\r\n    &lt;fill with correct month names or just replace these month, that are not fully correct&gt;\r\n    dfs.setMonths(months);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MMM-yy&quot;, dfs);\r\n    Date nweDate = sdf.parse(&quot;09-f&#233;v-08&quot;);","title":"Parsing a date with short month without dot","body":"<p>Ok, then try brute force :)</p>\n\n<pre><code>DateFormatSymbols dfs = new DateFormatSymbols(Locale.FRENCH);\nString[] months = new String[13]\n&lt;fill with correct month names or just replace these month, that are not fully correct&gt;\ndfs.setMonths(months);\nSimpleDateFormat sdf = new SimpleDateFormat(\"dd-MMM-yy\", dfs);\nDate nweDate = sdf.parse(\"09-fv-08\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1256728631,"creation_date":1256720518,"answer_id":1635975,"question_id":1635681,"body_markdown":"This seems to work:\r\n\r\n        DateFormatSymbols dfsFr = new DateFormatSymbols(Locale.FRENCH);\r\n        String[] oldMonths = dfsFr.getShortMonths();\r\n        String[] newMonths = new String[oldMonths.length];\r\n        for (int i = 0, len = oldMonths.length; i &lt; len; ++ i) {\r\n            String oldMonth = oldMonths[i];\r\n\r\n            if (oldMonth.endsWith(&quot;.&quot;)) {\r\n                newMonths[i] = oldMonth.substring(0, oldMonths[i].length() - 1);\r\n            } else {\r\n                newMonths[i] = oldMonth;\r\n            }\r\n        }\r\n        dfsFr.setShortMonths(newMonths);\r\n        DateFormat dfFr = new SimpleDateFormat(\r\n            &quot;dd-MMM-yy&quot;, dfsFr);\r\n\r\n        // English date parser for creating some test data.\r\n        DateFormat dfEn = new SimpleDateFormat(\r\n            &quot;dd-MMM-yy&quot;, Locale.ENGLISH);\r\n        System.out.println(dfFr.format(dfEn.parse(&quot;10-Oct-09&quot;)));\r\n        System.out.println(dfFr.format(dfEn.parse(&quot;10-May-09&quot;)));\r\n        System.out.println(dfFr.format(dfEn.parse(&quot;10-Feb-09&quot;)));\r\n\r\n\r\nEdit: Looks like St. Shadow beat me to it.","title":"Parsing a date with short month without dot","body":"<p>This seems to work:</p>\n\n<pre><code>    DateFormatSymbols dfsFr = new DateFormatSymbols(Locale.FRENCH);\n    String[] oldMonths = dfsFr.getShortMonths();\n    String[] newMonths = new String[oldMonths.length];\n    for (int i = 0, len = oldMonths.length; i &lt; len; ++ i) {\n        String oldMonth = oldMonths[i];\n\n        if (oldMonth.endsWith(\".\")) {\n            newMonths[i] = oldMonth.substring(0, oldMonths[i].length() - 1);\n        } else {\n            newMonths[i] = oldMonth;\n        }\n    }\n    dfsFr.setShortMonths(newMonths);\n    DateFormat dfFr = new SimpleDateFormat(\n        \"dd-MMM-yy\", dfsFr);\n\n    // English date parser for creating some test data.\n    DateFormat dfEn = new SimpleDateFormat(\n        \"dd-MMM-yy\", Locale.ENGLISH);\n    System.out.println(dfFr.format(dfEn.parse(\"10-Oct-09\")));\n    System.out.println(dfFr.format(dfEn.parse(\"10-May-09\")));\n    System.out.println(dfFr.format(dfEn.parse(\"10-Feb-09\")));\n</code></pre>\n\n<p>Edit: Looks like St. Shadow beat me to it.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1447367857,"creation_date":1447367436,"answer_id":33682668,"question_id":1635681,"body_markdown":"# java.time\r\n\r\nLets see if the *java.time* framework can help.\r\n\r\n## About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework built into Java 8 and later supplants the troublesome old java.util.Date/.Calendar classes. The new classes are inspired by the highly successful [Joda-Time](http://www.joda.org/joda-time/) framework, intended as its successor, similar in concept but re-architected. Defined by [JSR 310](http://jcp.org/en/jsr/detail?id=310). Extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project. See the [Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\n## `LocalDate`\r\n\r\nUnlike the old classes, java.time offers the [`LocalDate`][1] class to represent a date-only value, with no time-of-day nor time zone.\r\n\r\n## French Abbreviations\r\n\r\nTake a look at what the formatters in java.time expect for abbreviated month names in *en Fran&#231;ais*. \r\n\r\nWe can loop the [`Month`][2] enum to get a list of months. This enum offers the [`getDisplayName`][3] method for generating a localized name of the month. This code demonstrates that the method produces the same output as the java.time formatter.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern ( &quot;dd-MMM-yyyy&quot; ).withLocale ( Locale.FRENCH );\r\n    for ( Month month : Month.values () ) {\r\n        LocalDate localDate = LocalDate.of ( 2015 , month.getValue () , 1 );\r\n        String output = formatter.format ( localDate );\r\n        String displayName = month.getDisplayName ( TextStyle.SHORT , Locale.FRENCH );\r\n        System.out.println ( &quot;output: &quot; + output + &quot; | displayName: &quot; + displayName );// System.out.println ( &quot;input: &quot; + input + &quot;  &quot; + localDate + &quot;  &quot; + output );\r\n    }\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    output: 01-janv.-2015 | displayName: janv.\r\n    output: 01-f&#233;vr.-2015 | displayName: f&#233;vr.\r\n    output: 01-mars-2015 | displayName: mars\r\n    output: 01-avr.-2015 | displayName: avr.\r\n    output: 01-mai-2015 | displayName: mai\r\n    output: 01-juin-2015 | displayName: juin\r\n    output: 01-juil.-2015 | displayName: juil.\r\n    output: 01-ao&#251;t-2015 | displayName: ao&#251;t\r\n    output: 01-sept.-2015 | displayName: sept.\r\n    output: 01-oct.-2015 | displayName: oct.\r\n    output: 01-nov.-2015 | displayName: nov.\r\n    output: 01-d&#233;c.-2015 | displayName: d&#233;c.\r\n\r\nWe find a mix of 3 and 4 letter spellings. Longer names are abbreviated to four characters plus a period ([FULL STOP][4]). Four months have names short enough to be used without abbreviation: &lt;span lang=&#39;fr&#39;&gt;`mars`, `mai`, `juin`, `ao&#251;t`.&lt;/span&gt;\r\n\r\nSo, as discussed in the other Answers, no simple solution. \r\n\r\n### Fix the Data Source\r\n\r\nMy first suggestion is to fix your data source. That source apparently fails to follow proper French rules for abbreviation. [Yale][5] agrees with Java 8s understanding of French. By the way, if fixing your data source I strongly suggest using four-digit years as two lead to no end of confusion and ambiguity.\r\n\r\n### Fix the Input\r\n\r\nOf course the source may be out of your control/influence. In that case, as with the other Answers, you may need to do a brute-force replace rather that attempt any cleverness. On the other hand, if the only problem with your input is simply missing the period (FULL STOP), then you could soft-code using the `Month` enum rather than hard-code the improper values.\r\n\r\nI would make an initial parse attempt. Trap for the [`DateTimeParseException`][6], before attempting a fix. If the exception is thrown, then fix the input.\r\n\r\nTo fix the input, try each month of the year by looping the possible set of enum instances. For each month, get its abbreviated name. Strip the period (FULL STOP) from that abbreviation, to match what we suspect is our improper incoming value. Test to see if that indeed is a match for the input. If not, go to next month. \r\n\r\nWhen we do get a match, fix the input to be properly abbreviated for the Locales rules (French rules in our case). Then parse the fixed input. This would be our second parse attempt, as we made an initial attempt up top. If this second attempt fails, something is very wrong as noted in the `FIXME:` seen here. But normally this second parse attempt will succeed, and we can bail out of the `for` loop of the `Month` enum.\r\n\r\nFinally, you could verify success by testing if the result is still the bogus flag value set initially ([`LocalDate.MIN`][7]).\r\n\r\n    String input = &quot;09-oct-08&quot;; // Last two digits are Year.\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern ( &quot;dd-MMM-yy&quot; ).withLocale ( Locale.FRENCH );\r\n    LocalDate localDate = LocalDate.MIN; // Some folks prefer a bogus default value as a success/failure flag rather than using a NULL.\r\n    try {\r\n        localDate = LocalDate.parse ( input , formatter );\r\n    } catch ( DateTimeParseException e ) {\r\n        // Look for any month name abbreviation improperly missing the period (FULL STOP).\r\n        for ( Month month : Month.values () ) {\r\n            String abbreviation = month.getDisplayName ( TextStyle.SHORT , Locale.FRENCH );\r\n            String abbreviationWithoutFullStop = abbreviation.replace ( &quot;.&quot; , &quot;&quot; ); // Get short abbreviation, but drop any period (FULL STOP).\r\n            String proper = &quot;-&quot; + abbreviation + &quot;-&quot;;\r\n            String improper = &quot;-&quot; + abbreviationWithoutFullStop + &quot;-&quot;;\r\n            if ( input.contains ( improper ) ) {\r\n                String inputFixed = input.replace ( improper , proper );\r\n                try {\r\n                    localDate = LocalDate.parse ( inputFixed , formatter );\r\n                } catch ( DateTimeParseException e2 ) {\r\n                    // FIXME: Handle this error. We expected this second parse attempt to succeed.\r\n                }\r\n                break; // Bail-out of the loop as we got a hit, matching input with a particular improper value.\r\n            }\r\n        }\r\n    }\r\n    Boolean success =  ! ( localDate.equals ( LocalDate.MIN ) );\r\n    String formatted = formatter.format ( localDate );;\r\n    String outputImproper = formatted.replace ( &quot;.&quot; , &quot;&quot; );  // Drop any period (FULL STOP).\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;success: &quot; + success + &quot;. input: &quot; + input + &quot;  localDate: &quot; + localDate + &quot;  formatted: &quot; + formatted + &quot;  outputImproper: &quot; + outputImproper );\r\n\r\n&gt;success: true. input: 09-oct-08  localDate: 2008-10-09  formatted: 09-oct.-08  outputImproper: 09-oct-08\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Month.html#getValue--\r\n  [4]: http://www.fileformat.info/info/unicode/char/2e/index.htm\r\n  [5]: http://web.library.yale.edu/cataloging/months.htm\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#MIN","title":"Parsing a date with short month without dot","body":"<h1>java.time</h1>\n\n<p>Lets see if the <em>java.time</em> framework can help.</p>\n\n<h2>About java.time</h2>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework built into Java 8 and later supplants the troublesome old java.util.Date/.Calendar classes. The new classes are inspired by the highly successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> framework, intended as its successor, similar in concept but re-architected. Defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>. Extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project. See the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n\n<h2><code>LocalDate</code></h2>\n\n<p>Unlike the old classes, java.time offers the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class to represent a date-only value, with no time-of-day nor time zone.</p>\n\n<h2>French Abbreviations</h2>\n\n<p>Take a look at what the formatters in java.time expect for abbreviated month names in <em>en Franais</em>. </p>\n\n<p>We can loop the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> enum to get a list of months. This enum offers the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html#getValue--\" rel=\"noreferrer\"><code>getDisplayName</code></a> method for generating a localized name of the month. This code demonstrates that the method produces the same output as the java.time formatter.</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern ( \"dd-MMM-yyyy\" ).withLocale ( Locale.FRENCH );\nfor ( Month month : Month.values () ) {\n    LocalDate localDate = LocalDate.of ( 2015 , month.getValue () , 1 );\n    String output = formatter.format ( localDate );\n    String displayName = month.getDisplayName ( TextStyle.SHORT , Locale.FRENCH );\n    System.out.println ( \"output: \" + output + \" | displayName: \" + displayName );// System.out.println ( \"input: \" + input + \"  \" + localDate + \"  \" + output );\n}\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>output: 01-janv.-2015 | displayName: janv.\noutput: 01-fvr.-2015 | displayName: fvr.\noutput: 01-mars-2015 | displayName: mars\noutput: 01-avr.-2015 | displayName: avr.\noutput: 01-mai-2015 | displayName: mai\noutput: 01-juin-2015 | displayName: juin\noutput: 01-juil.-2015 | displayName: juil.\noutput: 01-aot-2015 | displayName: aot\noutput: 01-sept.-2015 | displayName: sept.\noutput: 01-oct.-2015 | displayName: oct.\noutput: 01-nov.-2015 | displayName: nov.\noutput: 01-dc.-2015 | displayName: dc.\n</code></pre>\n\n<p>We find a mix of 3 and 4 letter spellings. Longer names are abbreviated to four characters plus a period (<a href=\"http://www.fileformat.info/info/unicode/char/2e/index.htm\" rel=\"noreferrer\">FULL STOP</a>). Four months have names short enough to be used without abbreviation: <code>mars</code>, <code>mai</code>, <code>juin</code>, <code>aot</code>.</p>\n\n<p>So, as discussed in the other Answers, no simple solution. </p>\n\n<h3>Fix the Data Source</h3>\n\n<p>My first suggestion is to fix your data source. That source apparently fails to follow proper French rules for abbreviation. <a href=\"http://web.library.yale.edu/cataloging/months.htm\" rel=\"noreferrer\">Yale</a> agrees with Java 8s understanding of French. By the way, if fixing your data source I strongly suggest using four-digit years as two lead to no end of confusion and ambiguity.</p>\n\n<h3>Fix the Input</h3>\n\n<p>Of course the source may be out of your control/influence. In that case, as with the other Answers, you may need to do a brute-force replace rather that attempt any cleverness. On the other hand, if the only problem with your input is simply missing the period (FULL STOP), then you could soft-code using the <code>Month</code> enum rather than hard-code the improper values.</p>\n\n<p>I would make an initial parse attempt. Trap for the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"noreferrer\"><code>DateTimeParseException</code></a>, before attempting a fix. If the exception is thrown, then fix the input.</p>\n\n<p>To fix the input, try each month of the year by looping the possible set of enum instances. For each month, get its abbreviated name. Strip the period (FULL STOP) from that abbreviation, to match what we suspect is our improper incoming value. Test to see if that indeed is a match for the input. If not, go to next month. </p>\n\n<p>When we do get a match, fix the input to be properly abbreviated for the Locales rules (French rules in our case). Then parse the fixed input. This would be our second parse attempt, as we made an initial attempt up top. If this second attempt fails, something is very wrong as noted in the <code>FIXME:</code> seen here. But normally this second parse attempt will succeed, and we can bail out of the <code>for</code> loop of the <code>Month</code> enum.</p>\n\n<p>Finally, you could verify success by testing if the result is still the bogus flag value set initially (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#MIN\" rel=\"noreferrer\"><code>LocalDate.MIN</code></a>).</p>\n\n<pre><code>String input = \"09-oct-08\"; // Last two digits are Year.\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern ( \"dd-MMM-yy\" ).withLocale ( Locale.FRENCH );\nLocalDate localDate = LocalDate.MIN; // Some folks prefer a bogus default value as a success/failure flag rather than using a NULL.\ntry {\n    localDate = LocalDate.parse ( input , formatter );\n} catch ( DateTimeParseException e ) {\n    // Look for any month name abbreviation improperly missing the period (FULL STOP).\n    for ( Month month : Month.values () ) {\n        String abbreviation = month.getDisplayName ( TextStyle.SHORT , Locale.FRENCH );\n        String abbreviationWithoutFullStop = abbreviation.replace ( \".\" , \"\" ); // Get short abbreviation, but drop any period (FULL STOP).\n        String proper = \"-\" + abbreviation + \"-\";\n        String improper = \"-\" + abbreviationWithoutFullStop + \"-\";\n        if ( input.contains ( improper ) ) {\n            String inputFixed = input.replace ( improper , proper );\n            try {\n                localDate = LocalDate.parse ( inputFixed , formatter );\n            } catch ( DateTimeParseException e2 ) {\n                // FIXME: Handle this error. We expected this second parse attempt to succeed.\n            }\n            break; // Bail-out of the loop as we got a hit, matching input with a particular improper value.\n        }\n    }\n}\nBoolean success =  ! ( localDate.equals ( LocalDate.MIN ) );\nString formatted = formatter.format ( localDate );;\nString outputImproper = formatted.replace ( \".\" , \"\" );  // Drop any period (FULL STOP).\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println ( \"success: \" + success + \". input: \" + input + \"  localDate: \" + localDate + \"  formatted: \" + formatted + \"  outputImproper: \" + outputImproper );\n</code></pre>\n\n<blockquote>\n  <p>success: true. input: 09-oct-08  localDate: 2008-10-09  formatted: 09-oct.-08  outputImproper: 09-oct-08</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16242951,"reputation":1,"user_id":11728822,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661260582,"creation_date":1661260582,"answer_id":73459440,"question_id":1635681,"body_markdown":"try this : \r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    //from w  w  w  .j  av  a 2  s . com\r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n        String timeStamp = new SimpleDateFormat(&quot;EEE MMM dd hh:mm:ss yyyy&quot;,\r\n            Locale.FRANCE).format(new Date());\r\n        System.out.println(timeStamp);\r\n    \r\n      }\r\n    }\r\n\r\nlink : http://www.java2s.com/Tutorials/Java/Data_Type_How_to/Legacy_Date_Format/Show_a_date_in_french_format.htm","title":"Parsing a date with short month without dot","body":"<p>try this :</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n//from w  w  w  .j  av  a 2  s . com\npublic class Main {\n\n  public static void main(String[] args) {\n    String timeStamp = new SimpleDateFormat(&quot;EEE MMM dd hh:mm:ss yyyy&quot;,\n        Locale.FRANCE).format(new Date());\n    System.out.println(timeStamp);\n\n  }\n}\n</code></pre>\n<p>link : <a href=\"http://www.java2s.com/Tutorials/Java/Data_Type_How_to/Legacy_Date_Format/Show_a_date_in_french_format.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorials/Java/Data_Type_How_to/Legacy_Date_Format/Show_a_date_in_french_format.htm</a></p>\n"}],"owner":{"account_id":54164,"reputation":3160,"user_id":162038,"accept_rate":93,"display_name":"Jalil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46690,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":1635975,"answer_count":6,"score":27,"last_activity_date":1661260582,"creation_date":1256715461,"question_id":1635681,"body_markdown":"I have a String that represents a date in **French** locale :  09-oct-08 : \r\n\r\nI need to **parse** that String so I came up with this SimpleDateFormat : \r\n\r\n    String format2 = &quot;dd-MMM-yy&quot;;\r\n\r\nBut I have a problem with the month part, that seems to be expected with a ending dot : \r\n\r\n    df2.format(new Date());\r\n\r\ngives me : \r\n\r\n     28-oct.-09\r\n\r\nWhat is now the best way for me to make SimpleDateFormat understand (&quot;09-oct-08&quot;) ?\r\n\r\n\r\nFull Code :   \r\n\r\n    String format2 = &quot;dd-MMM-yy&quot;; \r\n    DateFormat df2 = new SimpleDateFormat(format2,Locale.FRENCH); \r\n    date = df2.parse(&quot;09-oct-08&quot;); \r\n\r\nThis gives me : java.text.ParseException: Unparseable date: &quot;09-oct-08&quot; \r\n\r\nAnd if I then try to log : \r\n\r\n    df2.format(new Date()); \r\n\r\nI get : 28-oct.-09","title":"Parsing a date with short month without dot","body":"<p>I have a String that represents a date in <strong>French</strong> locale :  09-oct-08 : </p>\n\n<p>I need to <strong>parse</strong> that String so I came up with this SimpleDateFormat : </p>\n\n<pre><code>String format2 = \"dd-MMM-yy\";\n</code></pre>\n\n<p>But I have a problem with the month part, that seems to be expected with a ending dot : </p>\n\n<pre><code>df2.format(new Date());\n</code></pre>\n\n<p>gives me : </p>\n\n<pre><code> 28-oct.-09\n</code></pre>\n\n<p>What is now the best way for me to make SimpleDateFormat understand (\"09-oct-08\") ?</p>\n\n<p>Full Code :   </p>\n\n<pre><code>String format2 = \"dd-MMM-yy\"; \nDateFormat df2 = new SimpleDateFormat(format2,Locale.FRENCH); \ndate = df2.parse(\"09-oct-08\"); \n</code></pre>\n\n<p>This gives me : java.text.ParseException: Unparseable date: \"09-oct-08\" </p>\n\n<p>And if I then try to log : </p>\n\n<pre><code>df2.format(new Date()); \n</code></pre>\n\n<p>I get : 28-oct.-09</p>\n"},{"tags":["java","apache-poi","xssf"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1660912323,"post_id":73416680,"comment_id":129651872,"body_markdown":"What error? Please [edit] your question to include a [mre] that reproduces the problem you describe.","body":"What error? Please <a href=\"https://stackoverflow.com/posts/73416680/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the problem you describe."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1661148119,"post_id":73416680,"comment_id":129693592,"body_markdown":"You seems not have read [https://stackoverflow.com/help/minimal-reproducible-example](How to create a Minimal, Reproducible Example). The code you show now is not the code which throws the exception. I guess it is the code in method `locationDetails`. Please show that code. And to show the exception please show the full stack-trace. The stack-trace contains the exact code line which throws the exception.","body":"You seems not have read [<a href=\"https://stackoverflow.com/help/minimal-reproducible-example](How\">stackoverflow.com/help/minimal-reproducible-example](How</a> to create a Minimal, Reproducible Example). The code you show now is not the code which throws the exception. I guess it is the code in method <code>locationDetails</code>. Please show that code. And to show the exception please show the full stack-trace. The stack-trace contains the exact code line which throws the exception."}],"answers":[{"tags":[],"owner":{"account_id":14332400,"reputation":369,"user_id":10352835,"display_name":"Nisha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661260409,"creation_date":1661260409,"answer_id":73459390,"question_id":73416680,"body_markdown":"I found this solution ;)\r\n\r\n```\r\n\t\r\n\r\n        List&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\r\n        \r\n        StringBuilder columnBuffer = new StringBuilder();\r\n        String comma = &quot;&quot;;\r\n        List&lt;NewLocationFile&gt; updatedLocationList = new ArrayList&lt;&gt;();\r\n        \r\n        try (Workbook workbook = new XSSFWorkbook(inputStream);) {\r\n\r\n            Sheet worksheet = workbook.getSheetAt(0);\r\n            int totalRows = worksheet.getPhysicalNumberOfRows();\r\n            worksheet.removeRow(worksheet.getRow(0));// remove header\r\n\r\n\t\tremoveEmptyRows(worksheet);\r\n            \r\n            LOGGER.info(&quot;readNewLocationFileRequest:traceId={}|totalRows={}&quot;,traceId,totalRows);\r\n\r\n\r\n            if (totalRows &lt;= 1) {\r\n                throw new PSException(ErrorCode.INVALID_INPUT_PROVIDED, &quot;Empty excel sheet &quot;);\r\n            } \r\n            else {\r\n                newLocationList.addAll(locationDetails(worksheet, traceId));\r\n            }\r\n            \r\n\r\n\r\n\r\n\r\nprivate Sheet removeEmptyRows(Sheet worksheet) {\r\n\t\t\r\n\t\t boolean stop = false;\r\n         boolean nonBlankRowFound;\r\n         short c;\r\n         XSSFRow lastRow = null;\r\n         XSSFCell cell = null;\r\n         \r\n         while (!stop) {\r\n             nonBlankRowFound = false;\r\n             lastRow = (XSSFRow) worksheet.getRow(worksheet.getLastRowNum());\r\n             for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\r\n                 cell = lastRow.getCell(c);\r\n                 if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != CellType.BLANK) {\r\n                     nonBlankRowFound = true;\r\n                 }\r\n             }\r\n             if (nonBlankRowFound == true) {\r\n                 stop = true;\r\n             } else {\r\n            \t worksheet.removeRow(lastRow);\r\n             }\r\n         }\r\n         \r\n         return worksheet;\r\n\t\t\r\n\t}\r\n```","title":"Apache Poi excel remove blank Rows Within range","body":"<p>I found this solution ;)</p>\n<pre><code>    \n\n        List&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\n        \n        StringBuilder columnBuffer = new StringBuilder();\n        String comma = &quot;&quot;;\n        List&lt;NewLocationFile&gt; updatedLocationList = new ArrayList&lt;&gt;();\n        \n        try (Workbook workbook = new XSSFWorkbook(inputStream);) {\n\n            Sheet worksheet = workbook.getSheetAt(0);\n            int totalRows = worksheet.getPhysicalNumberOfRows();\n            worksheet.removeRow(worksheet.getRow(0));// remove header\n\n        removeEmptyRows(worksheet);\n            \n            LOGGER.info(&quot;readNewLocationFileRequest:traceId={}|totalRows={}&quot;,traceId,totalRows);\n\n\n            if (totalRows &lt;= 1) {\n                throw new PSException(ErrorCode.INVALID_INPUT_PROVIDED, &quot;Empty excel sheet &quot;);\n            } \n            else {\n                newLocationList.addAll(locationDetails(worksheet, traceId));\n            }\n            \n\n\n\n\nprivate Sheet removeEmptyRows(Sheet worksheet) {\n        \n         boolean stop = false;\n         boolean nonBlankRowFound;\n         short c;\n         XSSFRow lastRow = null;\n         XSSFCell cell = null;\n         \n         while (!stop) {\n             nonBlankRowFound = false;\n             lastRow = (XSSFRow) worksheet.getRow(worksheet.getLastRowNum());\n             for (c = lastRow.getFirstCellNum(); c &lt;= lastRow.getLastCellNum(); c++) {\n                 cell = lastRow.getCell(c);\n                 if (cell != null &amp;&amp; lastRow.getCell(c).getCellType() != CellType.BLANK) {\n                     nonBlankRowFound = true;\n                 }\n             }\n             if (nonBlankRowFound == true) {\n                 stop = true;\n             } else {\n                 worksheet.removeRow(lastRow);\n             }\n         }\n         \n         return worksheet;\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":14332400,"reputation":369,"user_id":10352835,"display_name":"Nisha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459390,"answer_count":1,"score":0,"last_activity_date":1661260409,"creation_date":1660911372,"question_id":73416680,"body_markdown":"When I try to upload this file to my application, It shows an error in row 4.  When I try \r\n```int totalRows = worksheet.getPhysicalNumberOfRows();``` This shows incorrect number of rows(like 26,306). But this error only occurs in some excel files. I want to add  records to my application which contain in excel file. How to delete this empty records? [![enter image description here][1]][1]\r\n\r\nThis is my code\r\n```\r\n\t\tList&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tStringBuilder columnBuffer = new StringBuilder();\r\n\t\tString comma = &quot;&quot;;\r\n\t\tList&lt;NewLocationFile&gt; updatedLocationList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttry (Workbook workbook = new XSSFWorkbook(inputStream);) {\r\n\r\n\t\t\tSheet worksheet = workbook.getSheetAt(0);\r\n\t\t\tint totalRows = worksheet.getPhysicalNumberOfRows();\r\n\t\t\tworksheet.removeRow(worksheet.getRow(0));// remove header\r\n\t\t\t\r\n\t\t\tLOGGER.info(&quot;readNewLocationFileRequest:traceId={}|totalRows={}&quot;,traceId,totalRows);\r\n\r\n\r\n\t\t\tif (totalRows &lt;= 1) {\r\n\t\t\t\tthrow new PSException(ErrorCode.INVALID_INPUT_PROVIDED, &quot;Empty excel sheet &quot;);\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\tnewLocationList.addAll(locationDetails(worksheet, traceId));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n```\r\n\r\n```\r\nprivate List&lt;NewLocationFile&gt; locationDetails(Sheet worksheet String traceId) {\r\n\t\t\r\n\t\t\r\n\t\tList&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\r\n\t\tint j = 0;\r\n\t\tfor (Row row : worksheet) {\r\n\t\t\tj++;\r\n\t\t\tint excelSheetRow = j + 1;\r\n\r\n\t\t\tnewLocationList.add(returnLocations(row, excelSheetRow, userBrn,traceId));\r\n\t\t}\r\n\t\t\r\n\t\tString converToString = CommonUtil.convertToString(newLocationList);\r\n\t\treturn newLocationList;\r\n\t}\r\nprivate NewLocationFile returnLocations(Row row,int excelSheetRow,String traceId)\r\n{\r\n\r\n\tString productCategory = null;\r\n\t//initiate all values to null here\r\n\r\n\r\nif (dataFormatter.formatCellValue(row.getCell(13)).trim().length() &gt; 0) {\r\n\t\t\tproductCategory = CommonUtil.getWorkSheetCellStringValue(row.getCell(13)).toUpperCase();\r\n\t\t} else {\r\n\t\t\tthrow new PostSaleModificationException(ErrorCode.INVALID_PRODUCT_TYPE,\r\n\t\t\t\t\t&quot;Invalid product category in row :&quot; + excelSheetRow);\r\n\t\t}\r\n\r\n//All validations listed here \r\n\r\nnewLocation.setComplexProduct(complexProduct);\r\n//set all values here\r\n\r\n}\r\n```\r\n\r\nBut Error message pop-up is displayed &quot;Invalid product category in row 4&quot; But this sheet has only 3 rows. \r\n\r\n[![This is the excel sheet, which I get data . This can have any number of records. In this case this sheet has only 2 records][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OteFM.png","title":"Apache Poi excel remove blank Rows Within range","body":"<p>When I try to upload this file to my application, It shows an error in row 4.  When I try\n<code>int totalRows = worksheet.getPhysicalNumberOfRows();</code> This shows incorrect number of rows(like 26,306). But this error only occurs in some excel files. I want to add  records to my application which contain in excel file. How to delete this empty records? <a href=\"https://i.stack.imgur.com/OteFM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OteFM.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code</p>\n<pre><code>        List&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\n        \n        StringBuilder columnBuffer = new StringBuilder();\n        String comma = &quot;&quot;;\n        List&lt;NewLocationFile&gt; updatedLocationList = new ArrayList&lt;&gt;();\n        \n        try (Workbook workbook = new XSSFWorkbook(inputStream);) {\n\n            Sheet worksheet = workbook.getSheetAt(0);\n            int totalRows = worksheet.getPhysicalNumberOfRows();\n            worksheet.removeRow(worksheet.getRow(0));// remove header\n            \n            LOGGER.info(&quot;readNewLocationFileRequest:traceId={}|totalRows={}&quot;,traceId,totalRows);\n\n\n            if (totalRows &lt;= 1) {\n                throw new PSException(ErrorCode.INVALID_INPUT_PROVIDED, &quot;Empty excel sheet &quot;);\n            } \n            else {\n                newLocationList.addAll(locationDetails(worksheet, traceId));\n            }\n            \n                \n</code></pre>\n<pre><code>private List&lt;NewLocationFile&gt; locationDetails(Sheet worksheet String traceId) {\n        \n        \n        List&lt;NewLocationFile&gt; newLocationList = new ArrayList&lt;&gt;();\n        int j = 0;\n        for (Row row : worksheet) {\n            j++;\n            int excelSheetRow = j + 1;\n\n            newLocationList.add(returnLocations(row, excelSheetRow, userBrn,traceId));\n        }\n        \n        String converToString = CommonUtil.convertToString(newLocationList);\n        return newLocationList;\n    }\nprivate NewLocationFile returnLocations(Row row,int excelSheetRow,String traceId)\n{\n\n    String productCategory = null;\n    //initiate all values to null here\n\n\nif (dataFormatter.formatCellValue(row.getCell(13)).trim().length() &gt; 0) {\n            productCategory = CommonUtil.getWorkSheetCellStringValue(row.getCell(13)).toUpperCase();\n        } else {\n            throw new PostSaleModificationException(ErrorCode.INVALID_PRODUCT_TYPE,\n                    &quot;Invalid product category in row :&quot; + excelSheetRow);\n        }\n\n//All validations listed here \n\nnewLocation.setComplexProduct(complexProduct);\n//set all values here\n\n}\n</code></pre>\n<p>But Error message pop-up is displayed &quot;Invalid product category in row 4&quot; But this sheet has only 3 rows.</p>\n<p><a href=\"https://i.stack.imgur.com/OteFM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OteFM.png\" alt=\"This is the excel sheet, which I get data . This can have any number of records. In this case this sheet has only 2 records\" /></a></p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":1068389,"reputation":9810,"user_id":1068283,"accept_rate":100,"display_name":"Michael Hampton"},"score":0,"creation_date":1342241198,"post_id":11480700,"comment_id":15161628,"body_markdown":"The back button is [supposed to work this way](http://ux.stackexchange.com/questions/15939/android-back-button-global-history-back-or-menu-back). You probably want to implement the Up button (Honeycomb and later, unless you use something like ActionBarSherlock) instead.","body":"The back button is <a href=\"http://ux.stackexchange.com/questions/15939/android-back-button-global-history-back-or-menu-back\">supposed to work this way</a>. You probably want to implement the Up button (Honeycomb and later, unless you use something like ActionBarSherlock) instead."}],"answers":[{"tags":[],"owner":{"account_id":474638,"reputation":9270,"user_id":1592398,"accept_rate":90,"display_name":"code-jaff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342239748,"creation_date":1342239748,"answer_id":11481009,"question_id":11480700,"body_markdown":"You can override the following method to return to homepage\r\n\r\n        @Override\r\n    \tpublic void onBackPressed() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tsuper.onBackPressed();\r\n    \t}\r\n\r\nWithin that method create the intent for home activity with the following tag\r\n\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\nThe document says\r\n\r\n&gt; If set, and the activity being launched is already running in the\r\n&gt; current task, then instead of launching a new instance of that\r\n&gt; activity, all of the other activities on top of it will be closed and\r\n&gt; this Intent will be delivered to the (now on top) old activity as a\r\n&gt; new Intent.\r\n\r\n But what i am wondering is, then why you are starting the activity for result, since you are not going to return to previous activity.","title":"Pressing Back button to finish a series of Activities","body":"<p>You can override the following method to return to homepage</p>\n\n<pre><code>    @Override\n    public void onBackPressed() {\n        // TODO Auto-generated method stub\n        super.onBackPressed();\n    }\n</code></pre>\n\n<p>Within that method create the intent for home activity with the following tag</p>\n\n<pre><code>intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n</code></pre>\n\n<p>The document says</p>\n\n<blockquote>\n  <p>If set, and the activity being launched is already running in the\n  current task, then instead of launching a new instance of that\n  activity, all of the other activities on top of it will be closed and\n  this Intent will be delivered to the (now on top) old activity as a\n  new Intent.</p>\n</blockquote>\n\n<p>But what i am wondering is, then why you are starting the activity for result, since you are not going to return to previous activity.</p>\n"},{"tags":[],"owner":{"account_id":1574683,"reputation":41,"user_id":1461473,"accept_rate":0,"display_name":"user1461473"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342240536,"creation_date":1342240065,"answer_id":11481036,"question_id":11480700,"body_markdown":"    finishActivity(requestCode)\r\nuse above code in last activity so that after pressing back button it will close all the activity that are started\r\n\r\nrequestcode is a code which you used in first activity to start activity B\r\n","title":"Pressing Back button to finish a series of Activities","body":"<pre><code>finishActivity(requestCode)\n</code></pre>\n\n<p>use above code in last activity so that after pressing back button it will close all the activity that are started</p>\n\n<p>requestcode is a code which you used in first activity to start activity B</p>\n"},{"tags":[],"owner":{"account_id":1313447,"reputation":3475,"user_id":1260926,"accept_rate":62,"display_name":"Ankitkumar Makwana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661260198,"creation_date":1342240279,"answer_id":11481056,"question_id":11480700,"body_markdown":"you may try this\r\n\r\n        Intent intent = new Intent(currentActivity.this, otherActivity.class); // instead of otherActivity use your  activity\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        intent.putExtra(&quot;EXIT&quot;, true);\r\n        startActivity(intent);\r\n    \r\nAnd, in your other onCreate() use below code -\r\n    \r\n    if (getIntent().getBooleanExtra(&quot;EXIT&quot;, false)) {\r\n        finish();\r\n    }","title":"Pressing Back button to finish a series of Activities","body":"<p>you may try this</p>\n<pre><code>    Intent intent = new Intent(currentActivity.this, otherActivity.class); // instead of otherActivity use your  activity\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    intent.putExtra(&quot;EXIT&quot;, true);\n    startActivity(intent);\n</code></pre>\n<p>And, in your other onCreate() use below code -</p>\n<pre><code>if (getIntent().getBooleanExtra(&quot;EXIT&quot;, false)) {\n    finish();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453502,"reputation":10289,"user_id":1369752,"accept_rate":72,"display_name":"RajeshVijayakumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342251375,"creation_date":1342251375,"answer_id":11481937,"question_id":11480700,"body_markdown":"Don&#39;t Use/override onBackPressed() anywhere in your program\r\n\r\njust add the following method in the parent activity such as Activity A and B\r\n\r\n        @Override\r\n\tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n\t}\r\n\r\nStart Activity on your onClick method using  \r\n\r\n        startActivityForResult(intentName, 0);\r\n\r\n\r\nIn Child Activity you use/override onStop() method\r\n\r\n        @Override\r\n\tprotected void onStop()\r\n\t{\r\n\t\tsuper.onStop();\r\n\t\r\n\t}\r\n","title":"Pressing Back button to finish a series of Activities","body":"<p>Don't Use/override onBackPressed() anywhere in your program</p>\n\n<p>just add the following method in the parent activity such as Activity A and B</p>\n\n<pre><code>    @Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n\n<p>Start Activity on your onClick method using  </p>\n\n<pre><code>    startActivityForResult(intentName, 0);\n</code></pre>\n\n<p>In Child Activity you use/override onStop() method</p>\n\n<pre><code>    @Override\nprotected void onStop()\n{\n    super.onStop();\n\n}\n</code></pre>\n"}],"owner":{"account_id":348658,"reputation":2994,"user_id":683482,"accept_rate":77,"display_name":"Jeff Bootsholz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11481937,"answer_count":4,"score":3,"last_activity_date":1661260198,"creation_date":1342235267,"question_id":11480700,"body_markdown":"Suppose there is a button on the homepage of my Activity.\r\n\r\nWhen I press this button, it goes to Activity A\r\n\r\nin Activity A , it automatically goes to Activity B using Intents and startActivityForResult();\r\n\r\nin Activity B , it automatically goes to Activity C using Intents and startActivityForResul();\r\n\r\nin Activity B, it automatically starts the intent to go BarCode scanner activity and get results.\r\n\r\n\r\n\r\nMy problem is when I press a button to return to my home page, it requires pressing 4 times go back to my homepage\r\n\r\nIf I want to press back to my homepage at one time, how to finish such series of activities?\r\n\r\n","title":"Pressing Back button to finish a series of Activities","body":"<p>Suppose there is a button on the homepage of my Activity.</p>\n\n<p>When I press this button, it goes to Activity A</p>\n\n<p>in Activity A , it automatically goes to Activity B using Intents and startActivityForResult();</p>\n\n<p>in Activity B , it automatically goes to Activity C using Intents and startActivityForResul();</p>\n\n<p>in Activity B, it automatically starts the intent to go BarCode scanner activity and get results.</p>\n\n<p>My problem is when I press a button to return to my home page, it requires pressing 4 times go back to my homepage</p>\n\n<p>If I want to press back to my homepage at one time, how to finish such series of activities?</p>\n"},{"tags":["java","json","xml","jackson"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661258457,"post_id":73458853,"comment_id":129724728,"body_markdown":"_&quot;I am expecting the attributes in the order specified&quot;_ Why are you expecting that? You haven&#39;t specified an order, so you&#39;re relying on the order the fields are returned by reflection, which - AFAIK - is not specified and may vary by Java version.","body":"<i>&quot;I am expecting the attributes in the order specified&quot;</i> Why are you expecting that? You haven&#39;t specified an order, so you&#39;re relying on the order the fields are returned by reflection, which - AFAIK - is not specified and may vary by Java version."},{"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"score":0,"creation_date":1661258744,"post_id":73458853,"comment_id":129724853,"body_markdown":"@MarkRotteveel Sorry for the confusion, i want to specify an order. Unable to do that using the JsonPropertyOrder","body":"@MarkRotteveel Sorry for the confusion, i want to specify an order. Unable to do that using the JsonPropertyOrder"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661258844,"post_id":73458853,"comment_id":129724891,"body_markdown":"So, show what you tried and how you are serializing the object. Create a [mre] to show what you do, show the actual and expected result. Because basically your question right now is &quot;if I do nothing it has an undefined ordere&quot;, with a sidenote of &quot;if I do something else it works for some, but not all&quot;.","body":"So, show what you tried and how you are serializing the object. Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to show what you do, show the actual and expected result. Because basically your question right now is &quot;if I do nothing it has an undefined ordere&quot;, with a sidenote of &quot;if I do something else it works for some, but not all&quot;."},{"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"score":0,"creation_date":1661259388,"post_id":73458853,"comment_id":129725101,"body_markdown":"@MarkRotteveel Made the edits, I want to custom order the properties. Also what is AFAIK?","body":"@MarkRotteveel Made the edits, I want to custom order the properties. Also what is AFAIK?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661259475,"post_id":73458853,"comment_id":129725143,"body_markdown":"AFAIK - As Far As I Know. Your edit still is not a [mre] and does not provide actual and expected results. As an aside, in XML, attributes are unordered (see [In XML, is the attribute order important?](https://stackoverflow.com/questions/33746224/in-xml-is-the-attribute-order-important)), so I&#39;m not actually sure you can achieve an ordering of attributes, nor should you have any technical reason to need such an order.","body":"AFAIK - As Far As I Know. Your edit still is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and does not provide actual and expected results. As an aside, in XML, attributes are unordered (see <a href=\"https://stackoverflow.com/questions/33746224/in-xml-is-the-attribute-order-important\">In XML, is the attribute order important?</a>), so I&#39;m not actually sure you can achieve an ordering of attributes, nor should you have any technical reason to need such an order."},{"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"score":0,"creation_date":1661259757,"post_id":73458853,"comment_id":129725253,"body_markdown":"@MarkRotteveel I am facing an XML structure error, needed to verify it was due to the attribute order hence","body":"@MarkRotteveel I am facing an XML structure error, needed to verify it was due to the attribute order hence"}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661259690,"creation_date":1661258099,"question_id":73458853,"body_markdown":"In the below code, I am expecting the attributes in the order of properties defined, but not able to get it. The order is always mixed up.\r\n\r\nParent Tag\r\n```\r\n@JacksonXmlRootElement\r\npublic class ParentSpec{\r\n\r\n    @JacksonXmlProperty(localName = &quot;parentSpec&quot;)\r\n    @JacksonXmlElementWrapper\r\n    public MySpec mySpec;\r\n}\r\n```\r\n\r\nChildTag\r\n\r\n```\r\npublic class MySpec {\r\n\r\n    @JacksonXmlProperty(localName = &quot;mySpec&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    public List&lt;MyData&gt; myDataList;\r\n\r\n}\r\n```\r\nError Child\r\n\r\n```\r\n@JsonPropertyOrder({&quot;id&quot;, &quot;type&quot;, &quot;name&quot;, &quot;data&quot;})\r\npublic class MyData{\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String id;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String type;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String name;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String data;\r\n    \r\n    //Other Pojo\r\n\r\n}\r\n```\r\nI tried using the @JsonPropertyOrder, but it works only for elements it seems.\r\n\r\n","title":"Order Attribute in JacksonXmlProperty","body":"<p>In the below code, I am expecting the attributes in the order of properties defined, but not able to get it. The order is always mixed up.</p>\n<p>Parent Tag</p>\n<pre><code>@JacksonXmlRootElement\npublic class ParentSpec{\n\n    @JacksonXmlProperty(localName = &quot;parentSpec&quot;)\n    @JacksonXmlElementWrapper\n    public MySpec mySpec;\n}\n</code></pre>\n<p>ChildTag</p>\n<pre><code>public class MySpec {\n\n    @JacksonXmlProperty(localName = &quot;mySpec&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    public List&lt;MyData&gt; myDataList;\n\n}\n</code></pre>\n<p>Error Child</p>\n<pre><code>@JsonPropertyOrder({&quot;id&quot;, &quot;type&quot;, &quot;name&quot;, &quot;data&quot;})\npublic class MyData{\n\n    @JacksonXmlProperty(isAttribute = true)\n    public String id;\n    @JacksonXmlProperty(isAttribute = true)\n    public String type;\n    @JacksonXmlProperty(isAttribute = true)\n    public String name;\n    @JacksonXmlProperty(isAttribute = true)\n    public String data;\n    \n    //Other Pojo\n\n}\n</code></pre>\n<p>I tried using the @JsonPropertyOrder, but it works only for elements it seems.</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1606410032,"post_id":65026334,"comment_id":114961237,"body_markdown":"What is the reason of having those methods abstract since they _can have_ defined behavior?","body":"What is the reason of having those methods abstract since they <i>can have</i> defined behavior?"},{"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"score":0,"creation_date":1606410573,"post_id":65026334,"comment_id":114961445,"body_markdown":"I guess my question would be, should non abstract getters and setters be defined there? as I have them in the sub classes?","body":"I guess my question would be, should non abstract getters and setters be defined there? as I have them in the sub classes?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1606410893,"post_id":65026334,"comment_id":114961576,"body_markdown":"Yes, they should. Your base class is simply a data bag and it declares two fields: `type` and `color`. It is _totally_ fine to declare those fields setters and getters in the base class only. Moreover, it&#39;s even a preferred way for simple data bags + you can make those fields `private` as they usually should be (therefore, the `Truck` would only add 1 set/get method pair, and the `Car` class would be empty (empty classes are not that bad in many cases)).","body":"Yes, they should. Your base class is simply a data bag and it declares two fields: <code>type</code> and <code>color</code>. It is <i>totally</i> fine to declare those fields setters and getters in the base class only. Moreover, it&#39;s even a preferred way for simple data bags + you can make those fields <code>private</code> as they usually should be (therefore, the <code>Truck</code> would only add 1 set/get method pair, and the <code>Car</code> class would be empty (empty classes are not that bad in many cases))."},{"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"score":0,"creation_date":1606411245,"post_id":65026334,"comment_id":114961727,"body_markdown":"@fluffy makes absolute sense. I was basically stuck on whether I should fully define the getter + setters in the base class or just define them like how I have them now, and then write them out fully in the sub classes. Thanks a lot! if you dont mind revising what I have and posting it as an answer so I can accept it. I am sure others in the future might have this confusion. Regards","body":"@fluffy makes absolute sense. I was basically stuck on whether I should fully define the getter + setters in the base class or just define them like how I have them now, and then write them out fully in the sub classes. Thanks a lot! if you dont mind revising what I have and posting it as an answer so I can accept it. I am sure others in the future might have this confusion. Regards"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1606411905,"post_id":65026334,"comment_id":114961976,"body_markdown":"This is what inheritance is basically about. If you&#39;d add another class that extends `Vehicle`, you&#39;d be in trouble: you&#39;d have to implement the whole set of the abstract methods for no real reason, including: 1) adding 4th, 5th and so forth classes would demonstrate that such design has flaws more and more; 2) implementing those methods like that in any subclass may be error-prone (or simply contain typos); 3) making the fields private encapsulates the _fact_ that the base class has those fields (methods can delegate the work to fields of _other type_);","body":"This is what inheritance is basically about. If you&#39;d add another class that extends <code>Vehicle</code>, you&#39;d be in trouble: you&#39;d have to implement the whole set of the abstract methods for no real reason, including: 1) adding 4th, 5th and so forth classes would demonstrate that such design has flaws more and more; 2) implementing those methods like that in any subclass may be error-prone (or simply contain typos); 3) making the fields private encapsulates the <i>fact</i> that the base class has those fields (methods can delegate the work to fields of <i>other type</i>);"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1606411918,"post_id":65026334,"comment_id":114961979,"body_markdown":"4) non-abstract methods can have additional code that might do something more than just referencing fields (logging, validating, whatever you&#39;d like them to do). These four points just come to my mind now, but there are more downsides. In general, abstract methods should only exist when it is not possible to define the behavior for that type (abstract class or interface), but subclasses can do that.","body":"4) non-abstract methods can have additional code that might do something more than just referencing fields (logging, validating, whatever you&#39;d like them to do). These four points just come to my mind now, but there are more downsides. In general, abstract methods should only exist when it is not possible to define the behavior for that type (abstract class or interface), but subclasses can do that."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1606411970,"post_id":65026334,"comment_id":114961999,"body_markdown":"I&#39;d prefer to leave it as comments, not an answer, please. ^^","body":"I&#39;d prefer to leave it as comments, not an answer, please. ^^"},{"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"score":0,"creation_date":1606412116,"post_id":65026334,"comment_id":114962063,"body_markdown":"Thank you @fluffy you&#39;ve been great!","body":"Thank you @fluffy you&#39;ve been great!"}],"answers":[{"tags":[],"owner":{"account_id":20035271,"reputation":1,"user_id":14687148,"display_name":"fatosgorur"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1606671981,"creation_date":1606431543,"answer_id":65030188,"question_id":65026334,"body_markdown":"Your super class(Vehicle)&#39;s getter and setter shouldn&#39;t be abstract. Variables in the super class must be private or public.","title":"Abstract Class getter and setter usage","body":"<p>Your super class(Vehicle)'s getter and setter shouldn't be abstract. Variables in the super class must be private or public.</p>\n"},{"tags":[],"owner":{"account_id":18029131,"reputation":39,"user_id":13104274,"display_name":"delvh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606474789,"creation_date":1606474789,"answer_id":65036208,"question_id":65026334,"body_markdown":"You can do everything in an abstract class that you can do in a normal class **except** creating a new object only by using a constructor.\r\n\r\nThis means that you can simply copy and paste the getters and setters from your subclass into your parent class.\r\n\r\nDepending on your implementation goals and style ideas, you can even make these getters/ setters *final*, meaning that subclasses simply cannot override them. This would look something like that: `public final String getType(){...}`.","title":"Abstract Class getter and setter usage","body":"<p>You can do everything in an abstract class that you can do in a normal class <strong>except</strong> creating a new object only by using a constructor.</p>\n<p>This means that you can simply copy and paste the getters and setters from your subclass into your parent class.</p>\n<p>Depending on your implementation goals and style ideas, you can even make these getters/ setters <em>final</em>, meaning that subclasses simply cannot override them. This would look something like that: <code>public final String getType(){...}</code>.</p>\n"},{"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661259504,"creation_date":1606658938,"answer_id":65061003,"question_id":65026334,"body_markdown":"You need to create abstract getter and setter only if you need change behaviour of getiin and setting for your variables. If all child classes use the same getter and setter realization - you need to create getters and setters in the abstract class:\r\n\r\n      public abstract class Vehicle {\r\n    \r\n        protected String type;\r\n        protected String color;\r\n    \r\n        public String getType(){\r\n            return type;\r\n        };\r\n    \r\n        public String setType(String type){\r\n            this.type = type;\r\n        }\r\n    \r\n        ........\r\n    \r\n      }\r\n\r\nIn any case, if you need to include any logic for setter/getter in the future - you may override existing getter/setter:\r\n\r\n    public class Car extends Vehicle{\r\n    \r\n      public setType(String type){\r\n       if (type.equals(&quot;type1&quot;)){\r\n           this.type = type + &quot;_1&quot;;\r\n       } else {\r\n           this.type = type + &quot;_2&quot;;\r\n       }\r\n      }\r\n    \r\n      public String getType(String type){\r\n       return &quot;{&quot; + this.type + &quot;}&quot;;\r\n      }\r\n      \r\n     }\r\n\r\n\r\nYou need to add abstract methods only if you want to force class-child implement some logic, f.e:\r\n\r\n       public abstract class Vehicle {\r\n    \r\n        protected String type;\r\n        protected String color;\r\n        \r\n        public String getType(){\r\n            return type;\r\n        };\r\n    \r\n        public String setType(String type){\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getTypeDescription(){\r\n            return &quot;Type description: &quot; + generateDescription();\r\n        }\r\n    \r\n        protected abstract String generateTypeDescription();\r\n    \r\n        ........\r\n    \r\n       }\r\n    \r\n      \r\n    \r\n       public class Car extends Vehicle{\r\n          String generateTypeDescription(){\r\n              return &quot;foobar&quot;;\r\n          }\r\n       }\r\n","title":"Abstract Class getter and setter usage","body":"<p>You need to create abstract getter and setter only if you need change behaviour of getiin and setting for your variables. If all child classes use the same getter and setter realization - you need to create getters and setters in the abstract class:</p>\n<pre><code>  public abstract class Vehicle {\n\n    protected String type;\n    protected String color;\n\n    public String getType(){\n        return type;\n    };\n\n    public String setType(String type){\n        this.type = type;\n    }\n\n    ........\n\n  }\n</code></pre>\n<p>In any case, if you need to include any logic for setter/getter in the future - you may override existing getter/setter:</p>\n<pre><code>public class Car extends Vehicle{\n\n  public setType(String type){\n   if (type.equals(&quot;type1&quot;)){\n       this.type = type + &quot;_1&quot;;\n   } else {\n       this.type = type + &quot;_2&quot;;\n   }\n  }\n\n  public String getType(String type){\n   return &quot;{&quot; + this.type + &quot;}&quot;;\n  }\n  \n }\n</code></pre>\n<p>You need to add abstract methods only if you want to force class-child implement some logic, f.e:</p>\n<pre><code>   public abstract class Vehicle {\n\n    protected String type;\n    protected String color;\n    \n    public String getType(){\n        return type;\n    };\n\n    public String setType(String type){\n        this.type = type;\n    }\n\n    public String getTypeDescription(){\n        return &quot;Type description: &quot; + generateDescription();\n    }\n\n    protected abstract String generateTypeDescription();\n\n    ........\n\n   }\n\n  \n\n   public class Car extends Vehicle{\n      String generateTypeDescription(){\n          return &quot;foobar&quot;;\n      }\n   }\n</code></pre>\n"}],"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18529,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65061003,"answer_count":3,"score":4,"last_activity_date":1661259504,"creation_date":1606409892,"question_id":65026334,"body_markdown":"I have a question in regards to how I am planning to create my abstract models, I am using an abstract class as the base class and then subclasses, is it fine to use it like this?\r\n\r\nI did google and found some samples but none was exactly like how I am doing it. \r\n\r\n```\r\npublic abstract class Vehicle {\r\n\r\n    String type;\r\n    String color;\r\n\r\n    public  abstract getType();\r\n\r\n    public abstract setType(String type);\r\n\r\n    public abstract String getColor();\r\n\r\n    public abstract setColor(String color);\r\n}\r\n```\r\nAnd then in my subclasses, I could do something like this:\r\n```\r\npublic class Truck extends Vehicle {\r\n\r\n    String pickupBed;\r\n\r\n    public setPickupBed(String pickupBed) {\r\n        this.pickupBed = pickupBed;\r\n    }\r\n\r\n    public getPickupBed(String pickupBed) {\r\n        return pickupBed;\r\n    }\r\n\r\n    public setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public getType(String type) {\r\n        return type;\r\n    }\r\n\r\n    public setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public getColor() {\r\n        return color;\r\n    }\r\n}\r\n```\r\nAnd another class, except cars, does not have a pickup bed.\r\n\r\n```\r\npublic class Car extends Vehicle {\r\n\r\n    public setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public getType(String type) {\r\n        return type;\r\n    }\r\n\r\n    public setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public getColor() {\r\n        return color;\r\n    }\r\n}\r\n```","title":"Abstract Class getter and setter usage","body":"<p>I have a question in regards to how I am planning to create my abstract models, I am using an abstract class as the base class and then subclasses, is it fine to use it like this?</p>\n<p>I did google and found some samples but none was exactly like how I am doing it.</p>\n<pre><code>public abstract class Vehicle {\n\n    String type;\n    String color;\n\n    public  abstract getType();\n\n    public abstract setType(String type);\n\n    public abstract String getColor();\n\n    public abstract setColor(String color);\n}\n</code></pre>\n<p>And then in my subclasses, I could do something like this:</p>\n<pre><code>public class Truck extends Vehicle {\n\n    String pickupBed;\n\n    public setPickupBed(String pickupBed) {\n        this.pickupBed = pickupBed;\n    }\n\n    public getPickupBed(String pickupBed) {\n        return pickupBed;\n    }\n\n    public setType(String type) {\n        this.type = type;\n    }\n\n    public getType(String type) {\n        return type;\n    }\n\n    public setColor(String color) {\n        this.color = color;\n    }\n\n    public getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>And another class, except cars, does not have a pickup bed.</p>\n<pre><code>public class Car extends Vehicle {\n\n    public setType(String type) {\n        this.type = type;\n    }\n\n    public getType(String type) {\n        return type;\n    }\n\n    public setColor(String color) {\n        this.color = color;\n    }\n\n    public getColor() {\n        return color;\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","plsql","ojdbc"],"comments":[{"owner":{"account_id":5727605,"reputation":435,"user_id":4524236,"display_name":"Ychdziu"},"score":0,"creation_date":1525432407,"post_id":50173411,"comment_id":87364068,"body_markdown":"The error code says, what is the problem. dbms_output.get_lines has two parameters &quot;lines&quot; as table of varchar2, and &quot;numlines&quot; as in/out number parameter. You are sending the wrong parameters. I suggest to wrap this anonymous block into stored-procedure and call it. Easy to maintain and read.","body":"The error code says, what is the problem. dbms_output.get_lines has two parameters &quot;lines&quot; as table of varchar2, and &quot;numlines&quot; as in/out number parameter. You are sending the wrong parameters. I suggest to wrap this anonymous block into stored-procedure and call it. Easy to maintain and read."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":2,"creation_date":1525433607,"post_id":50173411,"comment_id":87364729,"body_markdown":"possible duplicate to https://stackoverflow.com/questions/47830370/getting-output-from-dbms-output-get-lines-using-jdbc","body":"possible duplicate to <a href=\"https://stackoverflow.com/questions/47830370/getting-output-from-dbms-output-get-lines-using-jdbc\" title=\"getting output from dbms output get lines using jdbc\">stackoverflow.com/questions/47830370/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661259484,"creation_date":1525437225,"answer_id":50175072,"question_id":50173411,"body_markdown":"The second argument of [`GET_LINES`][1] is a number, not an `XMLTYPE`. Change your call to something like:\r\n\r\n    dbms_output.get_lines(?, 50);\r\n\r\nI&#39;ve also shown a more complete example on how to do this [in a similar question][2]. Note that you also have to add the following call first, to enable `dbms_output` collection:\r\n\r\n    dbms_output.enable();\r\n\r\n[Note that in case you&#39;re using jOOQ, you can automatically fetch server output on any statement][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/database/121/ARPLS/d_output.htm#ARPLS67321\r\n  [2]: https://stackoverflow.com/a/47831073/521799\r\n  [3]: https://blog.jooq.org/how-to-fetch-oracle-dbms_output-from-jdbc/","title":"Reading DBMS_Ouptut after Executing PLSQL from jdbc","body":"<p>The second argument of <a href=\"https://docs.oracle.com/database/121/ARPLS/d_output.htm#ARPLS67321\" rel=\"nofollow noreferrer\"><code>GET_LINES</code></a> is a number, not an <code>XMLTYPE</code>. Change your call to something like:</p>\n<pre><code>dbms_output.get_lines(?, 50);\n</code></pre>\n<p>I've also shown a more complete example on how to do this <a href=\"https://stackoverflow.com/a/47831073/521799\">in a similar question</a>. Note that you also have to add the following call first, to enable <code>dbms_output</code> collection:</p>\n<pre><code>dbms_output.enable();\n</code></pre>\n<p><a href=\"https://blog.jooq.org/how-to-fetch-oracle-dbms_output-from-jdbc/\" rel=\"nofollow noreferrer\">Note that in case you're using jOOQ, you can automatically fetch server output on any statement</a>.</p>\n"}],"owner":{"account_id":451853,"reputation":8980,"user_id":847962,"accept_rate":77,"display_name":"jason.kaisersmith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50175072,"answer_count":1,"score":2,"last_activity_date":1661259484,"creation_date":1525431679,"question_id":50173411,"body_markdown":"I need to execute an Oralce PL/SQL statement using jdbc, but I&#39;m struggling on how to extract the data.\r\n\r\nHere is my statement\r\n\r\n    DECLARE \r\n       l_xmltype XMLTYPE; \r\n       l_ctx dbms_xmlgen.ctxhandle; \r\n    BEGIN \r\n       l_ctx := dbms_xmlgen.newcontext(&#39;select * from myTable where rownun &lt; 10;); \r\n       dbms_xmlgen.setrowsettag(l_ctx, &#39;My_DATA&#39;); \r\n       dbms_xmlgen.setrowtag(l_ctx, &#39;My_Element&#39;); \r\n       l_xmltype := dbms_xmlgen.getXmlType(l_ctx) ; \r\n       dbms_xmlgen.closeContext(l_ctx);  \r\n      dbms_output.put_line(l_xmltype.getClobVal); \r\n      dbms_output.get_lines(?, l_xmltype);\r\n    End;\r\n\r\n\r\nAnd my code\r\n\r\n    CallableStatement cs = connection.prepareCall(plsql);\r\n    cs.registerOutParameter(1, Types.ARRAY,&quot;DBMSOUTPUT_LINESARRAY&quot;);\r\n    cs.execute();\r\n    \r\n    Array array = null;\r\n    array = cs.getArray(1);\r\n    Stream.of((Object[]) array.getArray())\r\n    \t.forEach(System.out::println);\r\n\r\n\r\nAnd I&#39;m getting the error \r\n\r\n&gt; java.sql.SQLException: ORA-06550: line 1, column 380: PLS-00306: wrong\r\n&gt; number or types of arguments in call to &#39;GET_LINES&#39;\r\n\r\nI&#39;m not an expert in PL/SQL nor jdbc so I&#39;m struggling to find a solution.","title":"Reading DBMS_Ouptut after Executing PLSQL from jdbc","body":"<p>I need to execute an Oralce PL/SQL statement using jdbc, but I'm struggling on how to extract the data.</p>\n\n<p>Here is my statement</p>\n\n<pre><code>DECLARE \n   l_xmltype XMLTYPE; \n   l_ctx dbms_xmlgen.ctxhandle; \nBEGIN \n   l_ctx := dbms_xmlgen.newcontext('select * from myTable where rownun &lt; 10;); \n   dbms_xmlgen.setrowsettag(l_ctx, 'My_DATA'); \n   dbms_xmlgen.setrowtag(l_ctx, 'My_Element'); \n   l_xmltype := dbms_xmlgen.getXmlType(l_ctx) ; \n   dbms_xmlgen.closeContext(l_ctx);  \n  dbms_output.put_line(l_xmltype.getClobVal); \n  dbms_output.get_lines(?, l_xmltype);\nEnd;\n</code></pre>\n\n<p>And my code</p>\n\n<pre><code>CallableStatement cs = connection.prepareCall(plsql);\ncs.registerOutParameter(1, Types.ARRAY,\"DBMSOUTPUT_LINESARRAY\");\ncs.execute();\n\nArray array = null;\narray = cs.getArray(1);\nStream.of((Object[]) array.getArray())\n    .forEach(System.out::println);\n</code></pre>\n\n<p>And I'm getting the error </p>\n\n<blockquote>\n  <p>java.sql.SQLException: ORA-06550: line 1, column 380: PLS-00306: wrong\n  number or types of arguments in call to 'GET_LINES'</p>\n</blockquote>\n\n<p>I'm not an expert in PL/SQL nor jdbc so I'm struggling to find a solution.</p>\n"},{"tags":["java","spring","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661259335,"creation_date":1661258966,"answer_id":73459043,"question_id":73458666,"body_markdown":"Ok, I&#39;ve figured this out. You need to build your own parser and builder, so  it looks like this in Kotlin:\r\n```\r\nval reader = BufferedReader(InputStreamReader(content))\r\nval icsvParser = CSVParserBuilder().withSeparator(&#39;|&#39;).build()\r\nval readerRfc = CSVReaderBuilder(reader).withCSVParser(icsvParser).build()\r\n\r\nlist = CsvToBeanBuilder&lt;CsvProductDto&gt;(readerRfc)\r\n\t\t\t.withType(CsvProductDto::class.java)\r\n\t\t\t.withIgnoreLeadingWhiteSpace(true)\r\n\t\t\t.build()\r\n\t\t\t.parse()\r\n```","title":"How to change separator in openCSV?","body":"<p>Ok, I've figured this out. You need to build your own parser and builder, so  it looks like this in Kotlin:</p>\n<pre><code>val reader = BufferedReader(InputStreamReader(content))\nval icsvParser = CSVParserBuilder().withSeparator('|').build()\nval readerRfc = CSVReaderBuilder(reader).withCSVParser(icsvParser).build()\n\nlist = CsvToBeanBuilder&lt;CsvProductDto&gt;(readerRfc)\n            .withType(CsvProductDto::class.java)\n            .withIgnoreLeadingWhiteSpace(true)\n            .build()\n            .parse()\n</code></pre>\n"}],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661259335,"creation_date":1661257318,"question_id":73458666,"body_markdown":"I have the following code that works perfectly except for the thing that separator is still a coma:\r\n```\r\nCsvToBeanBuilder&lt;CsvProductDto&gt;(new BufferedReader(new InputStreamReader(content)))\r\n\t\t\t.withSeparator(&#39;|&#39;)\r\n\t\t\t.withType(CsvProductDto.class)\r\n\t\t\t.withIgnoreLeadingWhiteSpace(true)\r\n\t\t\t.build()\r\n\t\t\t.parse()\r\n```\r\nHow to change the separator?","title":"How to change separator in openCSV?","body":"<p>I have the following code that works perfectly except for the thing that separator is still a coma:</p>\n<pre><code>CsvToBeanBuilder&lt;CsvProductDto&gt;(new BufferedReader(new InputStreamReader(content)))\n            .withSeparator('|')\n            .withType(CsvProductDto.class)\n            .withIgnoreLeadingWhiteSpace(true)\n            .build()\n            .parse()\n</code></pre>\n<p>How to change the separator?</p>\n"},{"tags":["java","sql","oracle","jdbc","plsql"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1513333989,"post_id":47830370,"comment_id":82623534,"body_markdown":"this may help https://community.oracle.com/thread/104787","body":"this may help <a href=\"https://community.oracle.com/thread/104787\" rel=\"nofollow noreferrer\">community.oracle.com/thread/104787</a>"},{"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":0,"creation_date":1513334412,"post_id":47830370,"comment_id":82623830,"body_markdown":"@RavinderReddy No it doesn&#39;t. That post is ancient and no solution is provided there.","body":"@RavinderReddy No it doesn&#39;t. That post is ancient and no solution is provided there."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1513334608,"post_id":47830370,"comment_id":82623942,"body_markdown":"You could do [this](https://stackoverflow.com/a/19143017/266304) (which requires a new type) or [this](https://stackoverflow.com/a/30406896/266304) (which uses built-in types); and then call one of those over JDBC? Or there&#39;s [this post from Tom Kyte](https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:45027262935845)? A logging table might be more appropriate. Depends exactly what you need to achieve.","body":"You could do <a href=\"https://stackoverflow.com/a/19143017/266304\">this</a> (which requires a new type) or <a href=\"https://stackoverflow.com/a/30406896/266304\">this</a> (which uses built-in types); and then call one of those over JDBC? Or there&#39;s <a href=\"https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:45027262935845\" rel=\"nofollow noreferrer\">this post from Tom Kyte</a>? A logging table might be more appropriate. Depends exactly what you need to achieve."},{"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":0,"creation_date":1513334757,"post_id":47830370,"comment_id":82624027,"body_markdown":"@AlexPoole Thanks. I just clarified the question by adding &quot;without creating additional objects in the database&quot; as those rights will most likely not have been granted.","body":"@AlexPoole Thanks. I just clarified the question by adding &quot;without creating additional objects in the database&quot; as those rights will most likely not have been granted."},{"owner":{"account_id":81802,"reputation":15377,"user_id":230471,"display_name":"William Robertson"},"score":2,"creation_date":1513334792,"post_id":47830370,"comment_id":82624051,"body_markdown":"Note that in recent Oracle versions, `dbms_output.get_lines` is overloaded and can return a `dbmsoutput_linesarray`, which should be more JDBC-friendly than the old `dbms_output.chararray`.","body":"Note that in recent Oracle versions, <code>dbms_output.get_lines</code> is overloaded and can return a <code>dbmsoutput_linesarray</code>, which should be more JDBC-friendly than the old <code>dbms_output.chararray</code>."},{"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":0,"creation_date":1513334852,"post_id":47830370,"comment_id":82624099,"body_markdown":"@WilliamRobertson I&#39;ll happily accept an answer with code that demonstrates that.","body":"@WilliamRobertson I&#39;ll happily accept an answer with code that demonstrates that."},{"owner":{"account_id":81802,"reputation":15377,"user_id":230471,"display_name":"William Robertson"},"score":0,"creation_date":1513335179,"post_id":47830370,"comment_id":82624312,"body_markdown":"I don&#39;t know Java I&#39;m afraid, but it should just be a case of calling `dbms_output.get_lines` like any other procedure and getting the results back in a `dbmsoutput_linesarray`, which is a predefined public collection type.","body":"I don&#39;t know Java I&#39;m afraid, but it should just be a case of calling <code>dbms_output.get_lines</code> like any other procedure and getting the results back in a <code>dbmsoutput_linesarray</code>, which is a predefined public collection type."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1661259088,"creation_date":1513336025,"answer_id":47831073,"question_id":47830370,"body_markdown":"[I&#39;ve also blogged about this issue here][1]. Here&#39;s a snippet that illustrates how this can be done:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (CallableStatement call = c.prepareCall(\r\n        &quot;declare &quot;\r\n      + &quot;  num integer := 1000;&quot; // Adapt this as needed\r\n      + &quot;begin &quot;\r\n\r\n      // You have to enable buffering any server output that you may want to fetch\r\n      + &quot;  dbms_output.enable();&quot;\r\n\r\n      // This might as well be a call to third-party stored procedures, etc., whose\r\n      // output you want to capture\r\n      + &quot;  dbms_output.put_line(&#39;abc&#39;);&quot;\r\n      + &quot;  dbms_output.put_line(&#39;hello&#39;);&quot;\r\n      + &quot;  dbms_output.put_line(&#39;so cool&#39;);&quot;\r\n\r\n      // This is again your call here to capture the output up until now.\r\n      // The below fetching the PL/SQL TABLE type into a SQL cursor works with Oracle 12c.\r\n      // In an 11g version, you&#39;d need an auxiliary SQL TABLE type\r\n      + &quot;  dbms_output.get_lines(?, num);&quot;\r\n\r\n      // Don&#39;t forget this or the buffer will overflow eventually\r\n      + &quot;  dbms_output.disable();&quot;\r\n      + &quot;end;&quot;\r\n    )) {\r\n        call.registerOutParameter(1, Types.ARRAY, &quot;DBMSOUTPUT_LINESARRAY&quot;);\r\n        call.execute();\r\n\r\n        Array array = null;\r\n        try {\r\n            array = call.getArray(1);\r\n            System.out.println(Arrays.asList((Object[]) array.getArray()));\r\n        }\r\n        finally {\r\n            if (array != null)\r\n                array.free();\r\n        }\r\n    }\r\n\r\nThe above will print:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [abc, hello, so cool, null]\r\n\r\nNote that the `ENABLE` / `DISABLE` setting is a connection wide setting, so you can also do this over several JDBC statements:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (Connection c = DriverManager.getConnection(url, properties);\r\n         Statement s = c.createStatement()) {\r\n\r\n        try {\r\n            s.executeUpdate(&quot;begin dbms_output.enable(); end;&quot;);\r\n            s.executeUpdate(&quot;begin dbms_output.put_line(&#39;abc&#39;); end;&quot;);\r\n            s.executeUpdate(&quot;begin dbms_output.put_line(&#39;hello&#39;); end;&quot;);\r\n            s.executeUpdate(&quot;begin dbms_output.put_line(&#39;so cool&#39;); end;&quot;);\r\n\r\n            try (CallableStatement call = c.prepareCall(\r\n                &quot;declare &quot;\r\n              + &quot;  num integer := 1000;&quot;\r\n              + &quot;begin &quot;\r\n              + &quot;  dbms_output.get_lines(?, num);&quot;\r\n              + &quot;end;&quot;\r\n            )) {\r\n                call.registerOutParameter(1, Types.ARRAY, &quot;DBMSOUTPUT_LINESARRAY&quot;);\r\n                call.execute();\r\n        \r\n                Array array = null;\r\n                try {\r\n                    array = call.getArray(1);\r\n                    System.out.println(Arrays.asList((Object[]) array.getArray()));\r\n                }\r\n                finally {\r\n                    if (array != null)\r\n                        array.free();\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            s.executeUpdate(&quot;begin dbms_output.disable(); end;&quot;);\r\n        }\r\n    }\r\n\r\nNote also that this will fetch a fixed size of 1000 lines at most. You may need to loop in PL/SQL or poll the database if you want more lines.\r\n\r\n### Using jOOQ to do this\r\n\r\nNote that if you&#39;re a [jOOQ][2] user, you can auto-fetch server output on your queries:\r\n\r\n```java\r\nDSLContext ctx = DSL.using(c, \r\n    new Settings().withFetchServerOutputSize(10));\r\n```\r\n\r\nAnd then you should see some `DEBUG` log output for `FetchServerOutputListener`, e.g.\r\n\r\n```none\r\nDEBUG [LoggerListener           ] Executing query : begin my_procedure(1, 2); end;\r\nDEBUG [FetchServerOutputListener] &lt;output here&gt;       \r\n```\r\n\r\nIn addition to the above `DEBUG` log, you&#39;ll get the information in [`ExecuteContext::serverOutput`][3]\r\n\r\n[This is also mentioned in the linked blog post][2]\r\n\r\n### A note on calling `DBMS_OUTPUT.GET_LINE` instead\r\n\r\nPreviously, there was a now-deleted answer that suggested individual calls to `DBMS_OUTPUT.GET_LINE` instead, which returns one line at a time. I&#39;ve benchmarked the approach comparing it with `DBMS_OUTPUT.GET_LINES`, and the differences are drastic - up to a factor 30x slower when called from JDBC (even if there&#39;s not really a big difference when calling the procedures from PL/SQL).\r\n\r\nSo, the bulk data transferring approach using `DBMS_OUTPUT.GET_LINES` is definitely worth it. Here&#39;s a link to the benchmark:\r\n\r\nhttps://blog.jooq.org/the-cost-of-jdbc-server-roundtrips/\r\n\r\n\r\n  [1]: https://blog.jooq.org/how-to-fetch-oracle-dbms_output-from-jdbc/\r\n  [2]: https://www.jooq.org\r\n  [3]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ExecuteContext.html#serverOutput()","title":"Getting output from dbms_output.get_lines using JDBC","body":"<p><a href=\"https://blog.jooq.org/how-to-fetch-oracle-dbms_output-from-jdbc/\" rel=\"nofollow noreferrer\">I've also blogged about this issue here</a>. Here's a snippet that illustrates how this can be done:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement call = c.prepareCall(\n    &quot;declare &quot;\n  + &quot;  num integer := 1000;&quot; // Adapt this as needed\n  + &quot;begin &quot;\n\n  // You have to enable buffering any server output that you may want to fetch\n  + &quot;  dbms_output.enable();&quot;\n\n  // This might as well be a call to third-party stored procedures, etc., whose\n  // output you want to capture\n  + &quot;  dbms_output.put_line('abc');&quot;\n  + &quot;  dbms_output.put_line('hello');&quot;\n  + &quot;  dbms_output.put_line('so cool');&quot;\n\n  // This is again your call here to capture the output up until now.\n  // The below fetching the PL/SQL TABLE type into a SQL cursor works with Oracle 12c.\n  // In an 11g version, you'd need an auxiliary SQL TABLE type\n  + &quot;  dbms_output.get_lines(?, num);&quot;\n\n  // Don't forget this or the buffer will overflow eventually\n  + &quot;  dbms_output.disable();&quot;\n  + &quot;end;&quot;\n)) {\n    call.registerOutParameter(1, Types.ARRAY, &quot;DBMSOUTPUT_LINESARRAY&quot;);\n    call.execute();\n\n    Array array = null;\n    try {\n        array = call.getArray(1);\n        System.out.println(Arrays.asList((Object[]) array.getArray()));\n    }\n    finally {\n        if (array != null)\n            array.free();\n    }\n}\n</code></pre>\n<p>The above will print:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[abc, hello, so cool, null]\n</code></pre>\n<p>Note that the <code>ENABLE</code> / <code>DISABLE</code> setting is a connection wide setting, so you can also do this over several JDBC statements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection c = DriverManager.getConnection(url, properties);\n     Statement s = c.createStatement()) {\n\n    try {\n        s.executeUpdate(&quot;begin dbms_output.enable(); end;&quot;);\n        s.executeUpdate(&quot;begin dbms_output.put_line('abc'); end;&quot;);\n        s.executeUpdate(&quot;begin dbms_output.put_line('hello'); end;&quot;);\n        s.executeUpdate(&quot;begin dbms_output.put_line('so cool'); end;&quot;);\n\n        try (CallableStatement call = c.prepareCall(\n            &quot;declare &quot;\n          + &quot;  num integer := 1000;&quot;\n          + &quot;begin &quot;\n          + &quot;  dbms_output.get_lines(?, num);&quot;\n          + &quot;end;&quot;\n        )) {\n            call.registerOutParameter(1, Types.ARRAY, &quot;DBMSOUTPUT_LINESARRAY&quot;);\n            call.execute();\n    \n            Array array = null;\n            try {\n                array = call.getArray(1);\n                System.out.println(Arrays.asList((Object[]) array.getArray()));\n            }\n            finally {\n                if (array != null)\n                    array.free();\n            }\n        }\n    }\n    finally {\n        s.executeUpdate(&quot;begin dbms_output.disable(); end;&quot;);\n    }\n}\n</code></pre>\n<p>Note also that this will fetch a fixed size of 1000 lines at most. You may need to loop in PL/SQL or poll the database if you want more lines.</p>\n<h3>Using jOOQ to do this</h3>\n<p>Note that if you're a <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> user, you can auto-fetch server output on your queries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSLContext ctx = DSL.using(c, \n    new Settings().withFetchServerOutputSize(10));\n</code></pre>\n<p>And then you should see some <code>DEBUG</code> log output for <code>FetchServerOutputListener</code>, e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG [LoggerListener           ] Executing query : begin my_procedure(1, 2); end;\nDEBUG [FetchServerOutputListener] &lt;output here&gt;       \n</code></pre>\n<p>In addition to the above <code>DEBUG</code> log, you'll get the information in <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ExecuteContext.html#serverOutput()\" rel=\"nofollow noreferrer\"><code>ExecuteContext::serverOutput</code></a></p>\n<p><a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">This is also mentioned in the linked blog post</a></p>\n<h3>A note on calling <code>DBMS_OUTPUT.GET_LINE</code> instead</h3>\n<p>Previously, there was a now-deleted answer that suggested individual calls to <code>DBMS_OUTPUT.GET_LINE</code> instead, which returns one line at a time. I've benchmarked the approach comparing it with <code>DBMS_OUTPUT.GET_LINES</code>, and the differences are drastic - up to a factor 30x slower when called from JDBC (even if there's not really a big difference when calling the procedures from PL/SQL).</p>\n<p>So, the bulk data transferring approach using <code>DBMS_OUTPUT.GET_LINES</code> is definitely worth it. Here's a link to the benchmark:</p>\n<p><a href=\"https://blog.jooq.org/the-cost-of-jdbc-server-roundtrips/\" rel=\"nofollow noreferrer\">https://blog.jooq.org/the-cost-of-jdbc-server-roundtrips/</a></p>\n"}],"owner":{"account_id":142616,"reputation":34832,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11587,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":47831073,"answer_count":1,"score":17,"last_activity_date":1661259088,"creation_date":1513333726,"question_id":47830370,"body_markdown":"How can one get the output from Oracle&#39;s `dbms_output.get_lines` in a Java app using JDBC **without creating additional objects in the database**?","title":"Getting output from dbms_output.get_lines using JDBC","body":"<p>How can one get the output from Oracle's <code>dbms_output.get_lines</code> in a Java app using JDBC <strong>without creating additional objects in the database</strong>?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1661259179,"post_id":73459044,"comment_id":129725015,"body_markdown":"Use a `HandlerInterceptor` to add the items.","body":"Use a <code>HandlerInterceptor</code> to add the items."}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661258984,"creation_date":1661258984,"question_id":73459044,"body_markdown":"I have the following issue... I need to add some data to the model when the error has happened. For instance, I need to add the menu items to the error page and I tried to do it like this:\r\n```\r\npublic CustomErrorController extends BasicErrorController {\r\n    @Override\r\n    public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) {\r\n        final ModelAndView modelAndView = super.errorHtml(request, response);\r\n        modelAndView.getModel().put(&quot;menuItems&quot;, List.of(&quot;item1&quot;, item2));\r\n        return modelAndView;\r\n    }\r\n}\r\n```\r\nand this code doesn&#39;t work. I need the logic of BasicErrorController, and I just want to add some data to the model.&lt;br/&gt;\r\nHow can I do it? ","title":"How to override BasicErrorController","body":"<p>I have the following issue... I need to add some data to the model when the error has happened. For instance, I need to add the menu items to the error page and I tried to do it like this:</p>\n<pre><code>public CustomErrorController extends BasicErrorController {\n    @Override\n    public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) {\n        final ModelAndView modelAndView = super.errorHtml(request, response);\n        modelAndView.getModel().put(&quot;menuItems&quot;, List.of(&quot;item1&quot;, item2));\n        return modelAndView;\n    }\n}\n</code></pre>\n<p>and this code doesn't work. I need the logic of BasicErrorController, and I just want to add some data to the model.<br/>\nHow can I do it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":89116,"reputation":4427,"user_id":246051,"accept_rate":100,"display_name":"fdomig"},"score":1,"creation_date":1344796323,"post_id":11924689,"comment_id":15880001,"body_markdown":"See http://stackoverflow.com/questions/11164675/mutable-strings-in-java","body":"See <a href=\"http://stackoverflow.com/questions/11164675/mutable-strings-in-java\" title=\"mutable strings in java\">stackoverflow.com/questions/11164675/mutable-strings-in-java</a>"},{"owner":{"account_id":1391316,"reputation":579,"user_id":1322085,"display_name":"zip"},"score":0,"creation_date":1344796808,"post_id":11924689,"comment_id":15880119,"body_markdown":"If you really need to do it in a method returning void there is a dirty hack to do so. -&gt; http://blogs.atlassian.com/2008/07/magic_trick_in_java But that is usually not the way to go!","body":"If you really need to do it in a method returning void there is a dirty hack to do so. -&gt; <a href=\"http://blogs.atlassian.com/2008/07/magic_trick_in_java\" rel=\"nofollow noreferrer\">blogs.atlassian.com/2008/07/magic_trick_in_java</a> But that is usually not the way to go!"},{"owner":{"account_id":1742325,"reputation":36,"user_id":1593371,"display_name":"Cyber"},"score":0,"creation_date":1344797405,"post_id":11924689,"comment_id":15880245,"body_markdown":"seems to be a duplicate of [enter link description here][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/9183703/passing-a-string-to-a-function","body":"seems to be a duplicate of [enter link description here][1]        [1]: <a href=\"http://stackoverflow.com/questions/9183703/passing-a-string-to-a-function\" title=\"passing a string to a function\">stackoverflow.com/questions/9183703/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1344806034,"creation_date":1344796291,"answer_id":11924699,"question_id":11924689,"body_markdown":"Your method cannot work with the current interface because of two reasons:\r\n\r\n * Strings are immutable. Once you have created a string you cannot later change that string object.\r\n * Java uses pass-by-value, not pass-by-reference. When you assign a new value to `s` in your method it only modifies the local `s`, not the original `s` in the calling code.\r\n\r\nTo make your method work you need to change the interface. The simplest change is to return a new string:\r\n\r\n    private String changeString(String s){\r\n        return s + &quot;World&quot;;\r\n    }\r\n\r\nThen call it like this:\r\n\r\n    String s = &quot;Hello&quot;;\r\n    String res = changeString(s);\r\n\r\nSee it working online: [ideone][1]\r\n\r\n\r\n\r\n[1]: http://ideone.com/JWgIb","title":"Change string in Java","body":"<p>Your method cannot work with the current interface because of two reasons:</p>\n\n<ul>\n<li>Strings are immutable. Once you have created a string you cannot later change that string object.</li>\n<li>Java uses pass-by-value, not pass-by-reference. When you assign a new value to <code>s</code> in your method it only modifies the local <code>s</code>, not the original <code>s</code> in the calling code.</li>\n</ul>\n\n<p>To make your method work you need to change the interface. The simplest change is to return a new string:</p>\n\n<pre><code>private String changeString(String s){\n    return s + \"World\";\n}\n</code></pre>\n\n<p>Then call it like this:</p>\n\n<pre><code>String s = \"Hello\";\nString res = changeString(s);\n</code></pre>\n\n<p>See it working online: <a href=\"http://ideone.com/JWgIb\" rel=\"noreferrer\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":400977,"reputation":6762,"user_id":767272,"display_name":"klaustopher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344796314,"creation_date":1344796314,"answer_id":11924703,"question_id":11924689,"body_markdown":"No, a Java String is immutable and cannot be changed. You can just return a new String and assign it to the same variable.\r\n\r\nEven further: String is declared as final, so you can&#39;t extend String to add new behaviour","title":"Change string in Java","body":"<p>No, a Java String is immutable and cannot be changed. You can just return a new String and assign it to the same variable.</p>\n\n<p>Even further: String is declared as final, so you can't extend String to add new behaviour</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344796344,"creation_date":1344796344,"answer_id":11924709,"question_id":11924689,"body_markdown":"Nope, can&#39;t be done while returning `void`.  \r\n\r\nJava passes parameters by value.  Strings are immutable, so you can&#39;t change its value.  You&#39;re out of luck.\r\n\r\nYou can do this: \r\n\r\n    private String changeString(String original) {\r\n        return original + &quot; World&quot;;\r\n    }","title":"Change string in Java","body":"<p>Nope, can't be done while returning <code>void</code>.  </p>\n\n<p>Java passes parameters by value.  Strings are immutable, so you can't change its value.  You're out of luck.</p>\n\n<p>You can do this: </p>\n\n<pre><code>private String changeString(String original) {\n    return original + \" World\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344796448,"creation_date":1344796448,"answer_id":11924726,"question_id":11924689,"body_markdown":"Use the StringBuffer/StringBuilder to change the string. Strings in java are immutable, this means that once they are assigned a value, they cannot be changed, the code that seems to be changing the string actually makes a new object. [Here&#39;s][1] something on string buffer, hope it helps. :)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html","title":"Change string in Java","body":"<p>Use the StringBuffer/StringBuilder to change the string. Strings in java are immutable, this means that once they are assigned a value, they cannot be changed, the code that seems to be changing the string actually makes a new object. <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html\" rel=\"nofollow\">Here's</a> something on string buffer, hope it helps. :)</p>\n"},{"tags":[],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344797089,"creation_date":1344797089,"answer_id":11924825,"question_id":11924689,"body_markdown":"You could wrap up your string in an object:\r\n\r\n    public class StringWrapper {\r\n        String _str;\r\n        public StringWrapper(String str) { set(str); }\r\n        public void set(String str) { _str = str; }\r\n        public String toString() { return _str; }\r\n    }\r\n\r\nAllowing you to do:\r\n\r\n    StringWrapper s = new StringWrapper(&quot;Hello&quot;);\r\n    ChangeString(s);\r\n    \r\n    String res = s + &quot;&quot;;\r\n    //res = &quot;HelloWorld&quot;\r\n\r\n&lt;!-- --&gt;\r\n\r\n    private void ChageString(StringWrapper s) {\r\n        s.set(s + &quot;World&quot;);\r\n    }","title":"Change string in Java","body":"<p>You could wrap up your string in an object:</p>\n\n<pre><code>public class StringWrapper {\n    String _str;\n    public StringWrapper(String str) { set(str); }\n    public void set(String str) { _str = str; }\n    public String toString() { return _str; }\n}\n</code></pre>\n\n<p>Allowing you to do:</p>\n\n<pre><code>StringWrapper s = new StringWrapper(\"Hello\");\nChangeString(s);\n\nString res = s + \"\";\n//res = \"HelloWorld\"\n</code></pre>\n\n\n\n<pre><code>private void ChageString(StringWrapper s) {\n    s.set(s + \"World\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653915,"reputation":51,"user_id":3045428,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395338838,"creation_date":1395334434,"answer_id":22539941,"question_id":11924689,"body_markdown":"Use StringBuffer instead of String it will solve your problem.\r\n\r\n    public static void main(String[] args) {\r\n\t\tStringBuffer s = new StringBuffer(&quot;Hello&quot;);\r\n\t\tchangeString(s);\r\n\t\tString res = s.toString();\r\n\t\t//res = &quot;HelloWorld&quot;\r\n\t}\r\n\t\r\n\tprivate static void changeString(StringBuffer s){\r\n\t\ts.append(&quot;World&quot;);\r\n\t}\r\nOr if you really need to use only String so here is the solution using reflection:\r\n\r\n    public static void main(String[] args) {\r\n\t\tString s = &quot;Hello&quot;;\r\n\t\tchangeString(s);\r\n\t\tString res = s;\r\n\t    //res = &quot;HelloWorld&quot;\r\n\t}\r\n    \r\n    private static void changeString(String s){\r\n    \tchar[] result = (s+&quot;World&quot;).toCharArray();\r\n    \ttry {\r\n\t\t\tField field = s.getClass().getDeclaredField(&quot;value&quot;);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tfield.set(s, result);\r\n\t\t\t\r\n\t\t} catch (NoSuchFieldException | SecurityException | IllegalArgumentException |\r\n\t\t\t\tIllegalAccessException  e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n    }","title":"Change string in Java","body":"<p>Use StringBuffer instead of String it will solve your problem.</p>\n\n<pre><code>public static void main(String[] args) {\n    StringBuffer s = new StringBuffer(\"Hello\");\n    changeString(s);\n    String res = s.toString();\n    //res = \"HelloWorld\"\n}\n\nprivate static void changeString(StringBuffer s){\n    s.append(\"World\");\n}\n</code></pre>\n\n<p>Or if you really need to use only String so here is the solution using reflection:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"Hello\";\n    changeString(s);\n    String res = s;\n    //res = \"HelloWorld\"\n}\n\nprivate static void changeString(String s){\n    char[] result = (s+\"World\").toCharArray();\n    try {\n        Field field = s.getClass().getDeclaredField(\"value\");\n        field.setAccessible(true);\n        field.set(s, result);\n\n    } catch (NoSuchFieldException | SecurityException | IllegalArgumentException |\n            IllegalAccessException  e1) {\n        e1.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661258890,"creation_date":1661258236,"answer_id":73458887,"question_id":11924689,"body_markdown":"is it acceptable?\r\n\r\n    //solution1:\r\n    private static void ChangeString(String[] s){\r\n        s[0] = s[0] + &quot;World&quot;;\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        String[] s = new String[]{&quot;Hello&quot;};\r\n        ChangeString(s);\r\n\r\n        String res = s[0];\r\n        System.out.println(res);\r\n    }\r\n\r\n    //solution2:\r\n    class Container {\r\n        public Container(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public String value;\r\n    }\r\n    \r\n    public class Main{\r\n        private static void ChangeString(Container s) {\r\n            s.value = s.value + &quot;World&quot;;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Container s = new Container(&quot;hello&quot;);\r\n            ChangeString(s);\r\n    \r\n            String res = s.value;\r\n            System.out.println(res);\r\n        }\r\n    }","title":"Change string in Java","body":"<p>is it acceptable?</p>\n<pre><code>//solution1:\nprivate static void ChangeString(String[] s){\n    s[0] = s[0] + &quot;World&quot;;\n}\npublic static void main(String[] args)\n{\n    String[] s = new String[]{&quot;Hello&quot;};\n    ChangeString(s);\n\n    String res = s[0];\n    System.out.println(res);\n}\n\n//solution2:\nclass Container {\n    public Container(String value) {\n        this.value = value;\n    }\n\n    public String value;\n}\n\npublic class Main{\n    private static void ChangeString(Container s) {\n        s.value = s.value + &quot;World&quot;;\n    }\n\n    public static void main(String[] args) {\n        Container s = new Container(&quot;hello&quot;);\n        ChangeString(s);\n\n        String res = s.value;\n        System.out.println(res);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":386887,"reputation":441,"user_id":744899,"accept_rate":67,"display_name":"bahar_p"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95535,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11924699,"answer_count":7,"score":10,"last_activity_date":1661258890,"creation_date":1344796153,"question_id":11924689,"body_markdown":"I want to send a string to a method and change the string there.\r\nThe method should return void.\r\nExample:\r\n\r\n    String s = &quot;Hello&quot;;\r\n    ChangeString(s);\r\n\r\n    String res = s;\r\n    //res = &quot;HelloWorld&quot;\r\n    -------------------------------------------\r\n\r\n    private void ChageString(String s){\r\n\ts = s + &quot;World&quot;;\r\n    }\r\n\r\nHow can I do it in Java?\r\nCan it be done without adding another class?\r\n\r\nThanks!\r\nPB","title":"Change string in Java","body":"<p>I want to send a string to a method and change the string there.\nThe method should return void.\nExample:</p>\n\n<pre><code>String s = \"Hello\";\nChangeString(s);\n\nString res = s;\n//res = \"HelloWorld\"\n-------------------------------------------\n\nprivate void ChageString(String s){\ns = s + \"World\";\n}\n</code></pre>\n\n<p>How can I do it in Java?\nCan it be done without adding another class?</p>\n\n<p>Thanks!\nPB</p>\n"},{"tags":["java","desktop"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1539959660,"post_id":550329,"comment_id":92701683,"body_markdown":"If you are using `JavaFX` go [here](https://stackoverflow.com/questions/50774910/gethostservices-showdocument-in-a-fxml-file/50775157#50775157) or [here](https://stackoverflow.com/questions/33094981/javafx-8-open-a-link-in-a-browser-without-reference-to-application).","body":"If you are using <code>JavaFX</code> go <a href=\"https://stackoverflow.com/questions/50774910/gethostservices-showdocument-in-a-fxml-file/50775157#50775157\">here</a> or <a href=\"https://stackoverflow.com/questions/33094981/javafx-8-open-a-link-in-a-browser-without-reference-to-application\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":0,"up_vote_count":162,"is_accepted":true,"score":162,"last_activity_date":1234673041,"creation_date":1234673041,"answer_id":550336,"question_id":550329,"body_markdown":"You can use [`Desktop.getDesktop().open(File file)`][1]. See the following question for other options: &quot;[[Java] How to open user system preffered editor for given file?][2]&quot;\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Desktop.html#open(java.io.File)\r\n  [2]: https://stackoverflow.com/questions/526037/java-how-to-open-user-system-preffered-editor-for-given-file","title":"How to open a file with the default associated program","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Desktop.html#open(java.io.File)\" rel=\"noreferrer\"><code>Desktop.getDesktop().open(File file)</code></a>. See the following question for other options: \"<a href=\"https://stackoverflow.com/questions/526037/java-how-to-open-user-system-preffered-editor-for-given-file\">[Java] How to open user system preffered editor for given file?</a>\"</p>\n"},{"tags":[],"owner":{"account_id":7787,"reputation":2090,"user_id":13633,"display_name":"l_39217_l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243001116,"creation_date":1243001116,"answer_id":898020,"question_id":550329,"body_markdown":"[SwingHacks][1] has a solution for older versions of Java.\r\n\r\nI think they used the Runtime object to execute the &#39;start&#39; command on windows and there is a similar command on the mac.\r\n\r\n\r\n  [1]: http://oreilly.com/catalog/9780596009076/","title":"How to open a file with the default associated program","body":"<p><a href=\"http://oreilly.com/catalog/9780596009076/\" rel=\"nofollow noreferrer\">SwingHacks</a> has a solution for older versions of Java.</p>\n\n<p>I think they used the Runtime object to execute the 'start' command on windows and there is a similar command on the mac.</p>\n"},{"tags":[],"owner":{"account_id":9336096,"reputation":153,"user_id":6930234,"display_name":"Vaibhav Joshi"},"down_vote_count":10,"up_vote_count":0,"is_accepted":false,"score":-10,"last_activity_date":1478218746,"creation_date":1478166990,"answer_id":40398502,"question_id":550329,"body_markdown":"Here you go:\r\n\r\n    File myFile = new File(&quot;your any type of file url&quot;);\r\n    FileOpen.openFile(mContext, myFile);\r\n    \r\n    \r\n \r\nCreate a different class within the package:\r\n    \r\n    // code to open default application present in the handset\r\n    \r\n    \r\n    public class FileOpen {\r\n    \r\n        public static void openFile(Context context, File url) throws IOException {\r\n            // Create URI\r\n            File file=url;\r\n            Uri uri = Uri.fromFile(file);\r\n            \r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            // Check what kind of file you are trying to open, by comparing the url with extensions.\r\n            // When the if condition is matched, plugin sets the correct intent (mime) type, \r\n            // so Android knew what application to use to open the file\r\n            if (url.toString().contains(&quot;.doc&quot;) || url.toString().contains(&quot;.docx&quot;)) {\r\n                // Word document\r\n                intent.setDataAndType(uri, &quot;application/msword&quot;);\r\n            } else if(url.toString().contains(&quot;.pdf&quot;)) {\r\n                // PDF file\r\n                intent.setDataAndType(uri, &quot;application/pdf&quot;);\r\n            } else if(url.toString().contains(&quot;.ppt&quot;) || url.toString().contains(&quot;.pptx&quot;)) {\r\n                // Powerpoint file\r\n                intent.setDataAndType(uri, &quot;application/vnd.ms-powerpoint&quot;);\r\n            } else if(url.toString().contains(&quot;.xls&quot;) || url.toString().contains(&quot;.xlsx&quot;)) {\r\n                // Excel file\r\n                intent.setDataAndType(uri, &quot;application/vnd.ms-excel&quot;);\r\n            } else if(url.toString().contains(&quot;.zip&quot;) || url.toString().contains(&quot;.rar&quot;)) {\r\n                // WAV audio file\r\n                intent.setDataAndType(uri, &quot;application/x-wav&quot;);\r\n            } else if(url.toString().contains(&quot;.rtf&quot;)) {\r\n                // RTF file\r\n                intent.setDataAndType(uri, &quot;application/rtf&quot;);\r\n            } else if(url.toString().contains(&quot;.wav&quot;) || url.toString().contains(&quot;.mp3&quot;)) {\r\n                // WAV audio file\r\n                intent.setDataAndType(uri, &quot;audio/x-wav&quot;);\r\n            } else if(url.toString().contains(&quot;.gif&quot;)) {\r\n                // GIF file\r\n                intent.setDataAndType(uri, &quot;image/gif&quot;);\r\n            } else if(url.toString().contains(&quot;.jpg&quot;) || url.toString().contains(&quot;.jpeg&quot;) || url.toString().contains(&quot;.png&quot;)) {\r\n                // JPG file\r\n                intent.setDataAndType(uri, &quot;image/jpeg&quot;);\r\n            } else if(url.toString().contains(&quot;.txt&quot;)) {\r\n                // Text file\r\n                intent.setDataAndType(uri, &quot;text/plain&quot;);\r\n            } else if(url.toString().contains(&quot;.3gp&quot;) || url.toString().contains(&quot;.mpg&quot;) || url.toString().contains(&quot;.mpeg&quot;) || url.toString().contains(&quot;.mpe&quot;) || url.toString().contains(&quot;.mp4&quot;) || url.toString().contains(&quot;.avi&quot;)) {\r\n                // Video files\r\n                intent.setDataAndType(uri, &quot;video/*&quot;);\r\n            } else {\r\n                //if you want you can also define the intent type for any other file\r\n                \r\n                //additionally use else clause below, to manage other unknown extensions\r\n                //in this case, Android will show all applications installed on the device\r\n                //so you can choose which application to use\r\n                intent.setDataAndType(uri, &quot;*/*&quot;);\r\n            }\r\n            \r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); \r\n            context.startActivity(intent);\r\n        }\r\n    }","title":"How to open a file with the default associated program","body":"<p>Here you go:</p>\n\n<pre><code>File myFile = new File(\"your any type of file url\");\nFileOpen.openFile(mContext, myFile);\n</code></pre>\n\n<p>Create a different class within the package:</p>\n\n<pre><code>// code to open default application present in the handset\n\n\npublic class FileOpen {\n\n    public static void openFile(Context context, File url) throws IOException {\n        // Create URI\n        File file=url;\n        Uri uri = Uri.fromFile(file);\n\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n        // Check what kind of file you are trying to open, by comparing the url with extensions.\n        // When the if condition is matched, plugin sets the correct intent (mime) type, \n        // so Android knew what application to use to open the file\n        if (url.toString().contains(\".doc\") || url.toString().contains(\".docx\")) {\n            // Word document\n            intent.setDataAndType(uri, \"application/msword\");\n        } else if(url.toString().contains(\".pdf\")) {\n            // PDF file\n            intent.setDataAndType(uri, \"application/pdf\");\n        } else if(url.toString().contains(\".ppt\") || url.toString().contains(\".pptx\")) {\n            // Powerpoint file\n            intent.setDataAndType(uri, \"application/vnd.ms-powerpoint\");\n        } else if(url.toString().contains(\".xls\") || url.toString().contains(\".xlsx\")) {\n            // Excel file\n            intent.setDataAndType(uri, \"application/vnd.ms-excel\");\n        } else if(url.toString().contains(\".zip\") || url.toString().contains(\".rar\")) {\n            // WAV audio file\n            intent.setDataAndType(uri, \"application/x-wav\");\n        } else if(url.toString().contains(\".rtf\")) {\n            // RTF file\n            intent.setDataAndType(uri, \"application/rtf\");\n        } else if(url.toString().contains(\".wav\") || url.toString().contains(\".mp3\")) {\n            // WAV audio file\n            intent.setDataAndType(uri, \"audio/x-wav\");\n        } else if(url.toString().contains(\".gif\")) {\n            // GIF file\n            intent.setDataAndType(uri, \"image/gif\");\n        } else if(url.toString().contains(\".jpg\") || url.toString().contains(\".jpeg\") || url.toString().contains(\".png\")) {\n            // JPG file\n            intent.setDataAndType(uri, \"image/jpeg\");\n        } else if(url.toString().contains(\".txt\")) {\n            // Text file\n            intent.setDataAndType(uri, \"text/plain\");\n        } else if(url.toString().contains(\".3gp\") || url.toString().contains(\".mpg\") || url.toString().contains(\".mpeg\") || url.toString().contains(\".mpe\") || url.toString().contains(\".mp4\") || url.toString().contains(\".avi\")) {\n            // Video files\n            intent.setDataAndType(uri, \"video/*\");\n        } else {\n            //if you want you can also define the intent type for any other file\n\n            //additionally use else clause below, to manage other unknown extensions\n            //in this case, Android will show all applications installed on the device\n            //so you can choose which application to use\n            intent.setDataAndType(uri, \"*/*\");\n        }\n\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); \n        context.startActivity(intent);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15723168,"reputation":41,"user_id":11345553,"display_name":"Hakan &#199;ELK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661258673,"creation_date":1661206865,"answer_id":73451542,"question_id":550329,"body_markdown":"few examples to open files with default program\r\n\r\n\r\n    Example 1 : Runtime.getRuntime().exec(&quot;rundll32.exe shell32.dll ShellExec_RunDLL &quot; + fileName);\r\n    Example 2 : Runtime.getRuntime().exec(&quot;rundll32.exe url.dll FileProtocolHandler &quot; + fileName);\r\n    Example 3 : Desktop.getDesktop().open(fileName);\r\n    \r\n    \r\n    alternative...\r\n    \r\n    Runtime.getRuntime().exec(fileName.toString());\r\n    Runtime.getRuntime().exec(&quot;cmd.exe /c Start &quot; + fileName);\r\n    Runtime.getRuntime().exec(&quot;powershell.exe /c Start &quot; + fileName);\r\n    Runtime.getRuntime().exec(&quot;explorer.exe &quot; + fileName);\r\n    Runtime.getRuntime().exec(&quot;rundll32.exe SHELL32.DLL,OpenAs_RunDLL &quot; + fileName);\r\n\r\n\r\n\r\n\r\nOr....\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static void openFile(int selecType, File fileName) throws Exception {\r\n\r\n        String[] commandText = null;\r\n\r\n        if (!fileName.exists()) {\r\n            JOptionPane.showMessageDialog(null, &quot;File not found&quot;, &quot;Error&quot;, 1);\r\n        } else {\r\n\r\n            switch (selecType) {\r\n                case 0:\r\n                    //Default function\r\n                    break;\r\n                case 1:\r\n                    commandText = new String[]{&quot;rundll32.exe&quot;, &quot;shell32.dll&quot;, &quot;ShellExec_RunDLL&quot;, fileName.getAbsolutePath()};\r\n                    break;\r\n                case 2:\r\n                    commandText = new String[]{&quot;rundll32.exe&quot;, &quot;url.dll&quot;, &quot;FileProtocolHandler&quot;, fileName.getAbsolutePath()};\r\n                    break;\r\n                case 3:\r\n                    commandText = new String[]{fileName.toString()};\r\n                    break;\r\n                case 4:\r\n                    commandText = new String[]{&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;Start&quot;, fileName.getAbsolutePath()};\r\n                    break;\r\n                case 5:\r\n                    commandText = new String[]{&quot;powershell.exe&quot;, &quot;/c&quot;, &quot;Start&quot;, fileName.getAbsolutePath()};\r\n                    break;\r\n                case 6:\r\n                    commandText = new String[]{&quot;explorer.exe&quot;, fileName.getAbsolutePath()};\r\n                    break;\r\n                case 7:\r\n                    commandText = new String[]{&quot;rundll32.exe&quot;, &quot;shell32.dll&quot;, &quot;OpenAs_RunDLL&quot;, fileName.getAbsolutePath()}; //File open With\r\n                    break;\r\n            }\r\n\r\n            if (selecType == 0) {\r\n                Desktop.getDesktop().open(fileName);\r\n            } else if (selecType &lt; 8) {\r\n                Process runFile = new ProcessBuilder(commandText).start();\r\n                runFile.waitFor();\r\n            } else {\r\n                String errorText = &quot;\\nChoose a number from 1 to 7\\n\\nExample : openFile(1,\\&quot;&quot; + fileName + &quot;\\&quot;)\\n\\n&quot;;\r\n                System.err.println(errorText);\r\n                JOptionPane.showMessageDialog(null, errorText, &quot;Error&quot;, 1);\r\n            }\r\n\r\n        }\r\n\r\n    }","title":"How to open a file with the default associated program","body":"<p>few examples to open files with default program</p>\n<pre><code>Example 1 : Runtime.getRuntime().exec(&quot;rundll32.exe shell32.dll ShellExec_RunDLL &quot; + fileName);\nExample 2 : Runtime.getRuntime().exec(&quot;rundll32.exe url.dll FileProtocolHandler &quot; + fileName);\nExample 3 : Desktop.getDesktop().open(fileName);\n\n\nalternative...\n\nRuntime.getRuntime().exec(fileName.toString());\nRuntime.getRuntime().exec(&quot;cmd.exe /c Start &quot; + fileName);\nRuntime.getRuntime().exec(&quot;powershell.exe /c Start &quot; + fileName);\nRuntime.getRuntime().exec(&quot;explorer.exe &quot; + fileName);\nRuntime.getRuntime().exec(&quot;rundll32.exe SHELL32.DLL,OpenAs_RunDLL &quot; + fileName);\n</code></pre>\n<p>Or....</p>\n<pre><code>public static void openFile(int selecType, File fileName) throws Exception {\n\n    String[] commandText = null;\n\n    if (!fileName.exists()) {\n        JOptionPane.showMessageDialog(null, &quot;File not found&quot;, &quot;Error&quot;, 1);\n    } else {\n\n        switch (selecType) {\n            case 0:\n                //Default function\n                break;\n            case 1:\n                commandText = new String[]{&quot;rundll32.exe&quot;, &quot;shell32.dll&quot;, &quot;ShellExec_RunDLL&quot;, fileName.getAbsolutePath()};\n                break;\n            case 2:\n                commandText = new String[]{&quot;rundll32.exe&quot;, &quot;url.dll&quot;, &quot;FileProtocolHandler&quot;, fileName.getAbsolutePath()};\n                break;\n            case 3:\n                commandText = new String[]{fileName.toString()};\n                break;\n            case 4:\n                commandText = new String[]{&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;Start&quot;, fileName.getAbsolutePath()};\n                break;\n            case 5:\n                commandText = new String[]{&quot;powershell.exe&quot;, &quot;/c&quot;, &quot;Start&quot;, fileName.getAbsolutePath()};\n                break;\n            case 6:\n                commandText = new String[]{&quot;explorer.exe&quot;, fileName.getAbsolutePath()};\n                break;\n            case 7:\n                commandText = new String[]{&quot;rundll32.exe&quot;, &quot;shell32.dll&quot;, &quot;OpenAs_RunDLL&quot;, fileName.getAbsolutePath()}; //File open With\n                break;\n        }\n\n        if (selecType == 0) {\n            Desktop.getDesktop().open(fileName);\n        } else if (selecType &lt; 8) {\n            Process runFile = new ProcessBuilder(commandText).start();\n            runFile.waitFor();\n        } else {\n            String errorText = &quot;\\nChoose a number from 1 to 7\\n\\nExample : openFile(1,\\&quot;&quot; + fileName + &quot;\\&quot;)\\n\\n&quot;;\n            System.err.println(errorText);\n            JOptionPane.showMessageDialog(null, errorText, &quot;Error&quot;, 1);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2867,"reputation":8783,"user_id":4064,"accept_rate":100,"display_name":"Frederic Morin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72359,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":550336,"answer_count":4,"score":99,"last_activity_date":1661258673,"creation_date":1234672617,"question_id":550329,"body_markdown":"How do I open a file with the default associated program in Java? (for example a movie file) ","title":"How to open a file with the default associated program","body":"<p>How do I open a file with the default associated program in Java? (for example a movie file) </p>\n"},{"tags":["java","arrays","json","spring"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1661244214,"post_id":73455492,"comment_id":129719194,"body_markdown":"And from where this `data1,data2..` will come ?","body":"And from where this <code>data1,data2..</code> will come ?"},{"owner":{"account_id":16104267,"reputation":13,"user_id":11624151,"display_name":"wait_tomorrow"},"score":0,"creation_date":1661248163,"post_id":73455492,"comment_id":129720667,"body_markdown":"Sorry, I forgot to mention this. I have now updated the question","body":"Sorry, I forgot to mention this. I have now updated the question"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661248192,"creation_date":1661248192,"answer_id":73456567,"question_id":73455492,"body_markdown":"    ObjectNode objectNode = new ObjectMapper().createObjectNode();\r\n    List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n    fields.add(&quot;data1&quot;);\r\n    fields.add(&quot;data2&quot;);\r\n    fields.add(&quot;data3&quot;);\r\n    for (int i = 0; i &lt; fields.size(); i++) {\r\n        objectNode.put(&quot;field&quot; + (i+1), fields.get(i));\r\n    }\r\n    System.out.println(objectNode.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;field1&quot; : &quot;data1&quot;,\r\n      &quot;field2&quot; : &quot;data2&quot;,\r\n      &quot;field3&quot; : &quot;data3&quot;\r\n    }","title":"How to create a JSON with unknown number of fields?","body":"<pre><code>ObjectNode objectNode = new ObjectMapper().createObjectNode();\nList&lt;String&gt; fields = new ArrayList&lt;&gt;();\nfields.add(&quot;data1&quot;);\nfields.add(&quot;data2&quot;);\nfields.add(&quot;data3&quot;);\nfor (int i = 0; i &lt; fields.size(); i++) {\n    objectNode.put(&quot;field&quot; + (i+1), fields.get(i));\n}\nSystem.out.println(objectNode.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;field1&quot; : &quot;data1&quot;,\n  &quot;field2&quot; : &quot;data2&quot;,\n  &quot;field3&quot; : &quot;data3&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661258599,"creation_date":1661256497,"answer_id":73458475,"question_id":73455492,"body_markdown":"you can use map collection **Map&lt;String,Object&gt;** :\r\n\r\n    Map&lt;String,Object&gt; mapp = new HashMap&lt;&gt;();\r\n    mapp.put(&quot;field1&quot;, &quot;data1&quot;);\r\n    mapp.put(&quot;field2&quot;, &quot;data2&quot;);\r\n    mapp.put(&quot;field3&quot;, &quot;data3&quot;);\r\n    mapp.put(&quot;field4&quot;, &quot;data4&quot;);\r\n    JSONObject json = new JSONObject(mapp);\r\n    System.out.println(json);\r\n\r\noutput:\r\n\r\n    {\r\n      &quot;field1&quot;:&quot;data1&quot;,\r\n      &quot;field3&quot;:&quot;data3&quot;,\r\n      &quot;field2&quot;:&quot;data2&quot;,\r\n      &quot;field4&quot;:&quot;data4&quot;\r\n    }","title":"How to create a JSON with unknown number of fields?","body":"<p>you can use map collection <strong>Map&lt;String,Object&gt;</strong> :</p>\n<pre><code>Map&lt;String,Object&gt; mapp = new HashMap&lt;&gt;();\nmapp.put(&quot;field1&quot;, &quot;data1&quot;);\nmapp.put(&quot;field2&quot;, &quot;data2&quot;);\nmapp.put(&quot;field3&quot;, &quot;data3&quot;);\nmapp.put(&quot;field4&quot;, &quot;data4&quot;);\nJSONObject json = new JSONObject(mapp);\nSystem.out.println(json);\n</code></pre>\n<p>output:</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;data1&quot;,\n  &quot;field3&quot;:&quot;data3&quot;,\n  &quot;field2&quot;:&quot;data2&quot;,\n  &quot;field4&quot;:&quot;data4&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":16104267,"reputation":13,"user_id":11624151,"display_name":"wait_tomorrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73456567,"answer_count":2,"score":0,"last_activity_date":1661258599,"creation_date":1661243569,"question_id":73455492,"body_markdown":"I need to convert a structure like this:\r\n```\r\nList&lt;String&gt; fields;\r\n```\r\nto JSON like this:\r\n```\r\n{\r\n   &quot;field1&quot;: &quot;data1&quot;,\r\n   &quot;field2&quot;: &quot;data2&quot;,\r\n   &quot;field3&quot;: &quot;data3&quot;,\r\n   ...\r\n}\r\n```\r\n\r\nHow can I do this?\r\n\r\nUPD: List contains values, like this:\r\n```\r\nList&lt;String&gt; fields = List.of(&quot;data1&quot;, &quot;data2&quot;, &quot;data3&quot;);\r\n```","title":"How to create a JSON with unknown number of fields?","body":"<p>I need to convert a structure like this:</p>\n<pre><code>List&lt;String&gt; fields;\n</code></pre>\n<p>to JSON like this:</p>\n<pre><code>{\n   &quot;field1&quot;: &quot;data1&quot;,\n   &quot;field2&quot;: &quot;data2&quot;,\n   &quot;field3&quot;: &quot;data3&quot;,\n   ...\n}\n</code></pre>\n<p>How can I do this?</p>\n<p>UPD: List contains values, like this:</p>\n<pre><code>List&lt;String&gt; fields = List.of(&quot;data1&quot;, &quot;data2&quot;, &quot;data3&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","lombok","swagger-2.0"],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661258387,"creation_date":1660942405,"question_id":73422156,"body_markdown":"how to  include only certain class from the package to apply the ignore unknown properties value with false.\r\n\r\nthe below class are generated from swagger2.0, in the below i want to include only farm.java and gym.java\r\n    \r\n    com.person.test.model \r\n              house.java\r\n              farm.java\r\n              gym.java\r\n              school.java \r\n    \r\n    my package:\r\n    build\r\n     -- generated\r\n         src\r\n           main \r\n            com.person.test\r\n            api\r\n              testapi.java\r\n            model \r\n              house.java\r\n              farm.java\r\n              gym.java\r\n              school.java\r\n\r\n\r\ni want to know the right property to set up in application yml or through the way to handle in Objectmapper config class to include only certain class?\r\n\r\n    jackson:\r\n        default-property-inclusion: non_null\r\n        deserialization:\r\n          fail_on_unknown_properties: false\r\n\r\n \r\n\r\n   \r\n\r\n     @Primary\r\n          @Bean\r\n          public Jackson2ObjectMapperBuilder globalObjectMapperBuilder(Module... modules) {\r\n            return Jackson2ObjectMapperBuilder.json()\r\n                .indentOutput(true)\r\n                .featuresToDisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n                .featuresToDisable(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES)\r\n                .modulesToInstall(modules)\r\n                .serializationInclusion(Include.NON_NULL);\r\n          }","title":"how to include only certain class to apply jackson fail_on_unknown_properties with false","body":"<p>how to  include only certain class from the package to apply the ignore unknown properties value with false.</p>\n<p>the below class are generated from swagger2.0, in the below i want to include only farm.java and gym.java</p>\n<pre><code>com.person.test.model \n          house.java\n          farm.java\n          gym.java\n          school.java \n\nmy package:\nbuild\n -- generated\n     src\n       main \n        com.person.test\n        api\n          testapi.java\n        model \n          house.java\n          farm.java\n          gym.java\n          school.java\n</code></pre>\n<p>i want to know the right property to set up in application yml or through the way to handle in Objectmapper config class to include only certain class?</p>\n<pre><code>jackson:\n    default-property-inclusion: non_null\n    deserialization:\n      fail_on_unknown_properties: false\n\n\n\n\n\n @Primary\n      @Bean\n      public Jackson2ObjectMapperBuilder globalObjectMapperBuilder(Module... modules) {\n        return Jackson2ObjectMapperBuilder.json()\n            .indentOutput(true)\n            .featuresToDisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n            .featuresToDisable(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES)\n            .modulesToInstall(modules)\n            .serializationInclusion(Include.NON_NULL);\n      }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"score":0,"creation_date":1661122946,"post_id":73438732,"comment_id":129690399,"body_markdown":"I&#39;m not seeing the stack trace because you cut it off the image, but my guess is that you are actually breaking at the lambda code, not at the code that is defining it. So you are actually stepping into lambda execution.","body":"I&#39;m not seeing the stack trace because you cut it off the image, but my guess is that you are actually breaking at the lambda code, not at the code that is defining it. So you are actually stepping into lambda execution."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1661133505,"post_id":73438732,"comment_id":129691649,"body_markdown":"@Jack oops!, I did not realize that. I have now replaced the last screenshot which now shows the stack trace. thanks","body":"@Jack oops!, I did not realize that. I have now replaced the last screenshot which now shows the stack trace. thanks"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1661134683,"post_id":73438732,"comment_id":129691801,"body_markdown":"@Jack The highlight is on the second line.","body":"@Jack The highlight is on the second line."}],"answers":[{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661258352,"creation_date":1661124617,"answer_id":73438926,"question_id":73438732,"body_markdown":"You can set 2 breakpoint on code where you create the function object. \r\n```\r\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1;\r\n```\r\nwhen I try to put breakpoint on this line, it tells me where I want to put, it give me 3 options\r\n\r\n1. Line\r\n2. x -&gt; x+1\r\n3. All\r\n\r\nI select &quot;All&quot;, and I put another breakpoint on line \r\n\r\n```\r\nSystem.out.println(combinedf.apply(3));\r\n```\r\n\r\nAnd the debugging process goes from \r\n\r\n```\r\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1;   // create a function object\r\nSystem.out.println(combinedf.apply(3));  // calling the apply method of the object\r\nx -&gt; x + 1        // actual execution body of the function, this is where you put your break point, so the value of x is 3\r\n```\r\n\r\nIn another word\r\n\r\n```\r\n\r\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1; \r\n// is equals\r\nFunction&lt;Integer, Integer&gt; before = new Function&lt;Integer, Integer&gt;() {\r\n    @Override\r\n    public Integer apply(Integer integer) {\r\n        return integer + 1;  // this is where somehow you put breakpoint, probably find out how this happened, \r\n    }\r\n};\r\n```\r\n\r\nI am using IDEA2021 Community, it give me 3 option when I click left area of the line to put breakpoint\r\n\r\n### UPDATE \r\n\r\nWhy must I select &quot;All&quot; for breakpoint? \r\n\r\nI guess you are asking why there are two places, and what are the differences? \r\n\r\nProbably because laziness-init concept in functional programming. At first, the body won\\`t be executed, and when you finally call apply method(**terminal operation**), the body will be execute. Thus you can chain these functions or do other cool stuff with lambda expressions. There are at least two steps so you get two places to set breakpoint.\r\n\r\nI found another answer here which is very good, be sure to check it out\r\n\r\nhttps://stackoverflow.com/a/24542150/16702058","title":"Why is my lambda evaluated before the implementation is called?","body":"<p>You can set 2 breakpoint on code where you create the function object.</p>\n<pre><code>Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;\n</code></pre>\n<p>when I try to put breakpoint on this line, it tells me where I want to put, it give me 3 options</p>\n<ol>\n<li>Line</li>\n<li>x -&gt; x+1</li>\n<li>All</li>\n</ol>\n<p>I select &quot;All&quot;, and I put another breakpoint on line</p>\n<pre><code>System.out.println(combinedf.apply(3));\n</code></pre>\n<p>And the debugging process goes from</p>\n<pre><code>Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;   // create a function object\nSystem.out.println(combinedf.apply(3));  // calling the apply method of the object\nx -&gt; x + 1        // actual execution body of the function, this is where you put your break point, so the value of x is 3\n</code></pre>\n<p>In another word</p>\n<pre><code>\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1; \n// is equals\nFunction&lt;Integer, Integer&gt; before = new Function&lt;Integer, Integer&gt;() {\n    @Override\n    public Integer apply(Integer integer) {\n        return integer + 1;  // this is where somehow you put breakpoint, probably find out how this happened, \n    }\n};\n</code></pre>\n<p>I am using IDEA2021 Community, it give me 3 option when I click left area of the line to put breakpoint</p>\n<h3>UPDATE</h3>\n<p>Why must I select &quot;All&quot; for breakpoint?</p>\n<p>I guess you are asking why there are two places, and what are the differences?</p>\n<p>Probably because laziness-init concept in functional programming. At first, the body won`t be executed, and when you finally call apply method(<strong>terminal operation</strong>), the body will be execute. Thus you can chain these functions or do other cool stuff with lambda expressions. There are at least two steps so you get two places to set breakpoint.</p>\n<p>I found another answer here which is very good, be sure to check it out</p>\n<p><a href=\"https://stackoverflow.com/a/24542150/16702058\">https://stackoverflow.com/a/24542150/16702058</a></p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73438926,"answer_count":1,"score":1,"last_activity_date":1661258352,"creation_date":1661122092,"question_id":73438732,"body_markdown":"(credits: example from OCP Java 17 certification guide by Boyarsky and Selikoff)\r\n\r\nTo learn lambdas better, I put a breakpoint in the code (IntelliJ IDE) and started stepping through it.\r\n\r\n\r\n    Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;\r\n    Function&lt;Integer, Integer&gt; after = x -&gt; x * 2;\r\n    Function&lt;Integer, Integer&gt; combinedf = after.compose(before);\r\n    System.out.println(combinedf.apply(3));\r\n    \r\n\r\nI was surprised to find that the value for `x` has already been assigned.\r\n\r\n[![1][1]][1]\r\n\r\nWhen I step to the next line, it is again evaluated **before** the call to `combinedf.apply()`\r\n\r\nI don&#39;t understand why.\r\n\r\n\r\n[![2][2]][2]\r\n\r\nI thought it might be due to compiler optimization and tried to fool it by not hardcoding the &#39;3&#39;.\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;\r\n    Function&lt;Integer, Integer&gt; after = x -&gt; x * 2;\r\n    Function&lt;Integer, Integer&gt; combinedf = after.compose(before);\r\n    System.out.println(combinedf.apply(scanner.nextInt()));\r\n\r\nBut I get the same result.\r\n\r\n[![3][3]][3]\r\n\r\nI followed @wuhoyt&#39;s suggestion and set breakpoint to All.\r\nI also split out the code. Now it shows as expected.\r\nI do not understand why the breakpoint must be set to All for it to work as expected.\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;\r\n    Function&lt;Integer, Integer&gt; after = x -&gt; x * 2;\r\n    Function&lt;Integer, Integer&gt; combinedf = after.compose(before);\r\n    Integer intput = scanner.nextInt();\r\n    Integer result = combinedf.apply(intput);\r\n    System.out.println(result);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bZHNV.png\r\n  [2]: https://i.stack.imgur.com/cQxxF.png\r\n  [3]: https://i.stack.imgur.com/rgYyC.png","title":"Why is my lambda evaluated before the implementation is called?","body":"<p>(credits: example from OCP Java 17 certification guide by Boyarsky and Selikoff)</p>\n<p>To learn lambdas better, I put a breakpoint in the code (IntelliJ IDE) and started stepping through it.</p>\n<pre><code>Function&lt;Integer, Integer&gt; before = x -&gt; x + 1;\nFunction&lt;Integer, Integer&gt; after = x -&gt; x * 2;\nFunction&lt;Integer, Integer&gt; combinedf = after.compose(before);\nSystem.out.println(combinedf.apply(3));\n</code></pre>\n<p>I was surprised to find that the value for <code>x</code> has already been assigned.</p>\n<p><a href=\"https://i.stack.imgur.com/bZHNV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZHNV.png\" alt=\"1\" /></a></p>\n<p>When I step to the next line, it is again evaluated <strong>before</strong> the call to <code>combinedf.apply()</code></p>\n<p>I don't understand why.</p>\n<p><a href=\"https://i.stack.imgur.com/cQxxF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQxxF.png\" alt=\"2\" /></a></p>\n<p>I thought it might be due to compiler optimization and tried to fool it by not hardcoding the '3'.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1;\nFunction&lt;Integer, Integer&gt; after = x -&gt; x * 2;\nFunction&lt;Integer, Integer&gt; combinedf = after.compose(before);\nSystem.out.println(combinedf.apply(scanner.nextInt()));\n</code></pre>\n<p>But I get the same result.</p>\n<p><a href=\"https://i.stack.imgur.com/rgYyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgYyC.png\" alt=\"3\" /></a></p>\n<p>I followed @wuhoyt's suggestion and set breakpoint to All.\nI also split out the code. Now it shows as expected.\nI do not understand why the breakpoint must be set to All for it to work as expected.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nFunction&lt;Integer, Integer&gt; before = x -&gt; x + 1;\nFunction&lt;Integer, Integer&gt; after = x -&gt; x * 2;\nFunction&lt;Integer, Integer&gt; combinedf = after.compose(before);\nInteger intput = scanner.nextInt();\nInteger result = combinedf.apply(intput);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","priority-queue"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":1,"creation_date":1661209716,"post_id":73451813,"comment_id":129713151,"body_markdown":"Can you show what code you&#39;ve written so far? Have you looked into the knapsack porblem? Seems similar","body":"Can you show what code you&#39;ve written so far? Have you looked into the knapsack porblem? Seems similar"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1661212844,"post_id":73451813,"comment_id":129713576,"body_markdown":"Use one priority queue on a `Comparator.comparing(t -&gt; -t.rewards).thenComparing(t -&gt; t.hours)`","body":"Use one priority queue on a <code>Comparator.comparing(t -&gt; -t.rewards).thenComparing(t -&gt; t.hours)</code>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1661215384,"post_id":73451813,"comment_id":129713948,"body_markdown":"You&#39;re just sorting on two fields: first reward, then, if rewards are equal, on hours. Data structures are for a particular use. You only talk about &quot;holding&quot; so you should use a list and sort it once.","body":"You&#39;re just sorting on two fields: first reward, then, if rewards are equal, on hours. Data structures are for a particular use. You only talk about &quot;holding&quot; so you should use a list and sort it once."},{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":1,"creation_date":1661224417,"post_id":73451813,"comment_id":129714681,"body_markdown":"What you&#39;re asking (sorting by most benefit for least effort) and the example you&#39;ve given (sort by reward, descending, then by effort, ascending) are incongruous. Either way, it sounds like you want a list of objects whose comparator works one of those two ways. Nothing about your problem indicates that a specialized data structure is required.","body":"What you&#39;re asking (sorting by most benefit for least effort) and the example you&#39;ve given (sort by reward, descending, then by effort, ascending) are incongruous. Either way, it sounds like you want a list of objects whose comparator works one of those two ways. Nothing about your problem indicates that a specialized data structure is required."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1661254562,"post_id":73451813,"comment_id":129723050,"body_markdown":"&quot;The maximum reward with the minimum of effort&quot; is ambiguous, because you can maximize only one of these at a time. Made most clear by this sentence: &quot;because if I could take only one job out of the two, I will chose to earn 1200 instead of 1000.&quot; If the only constraint is the number of jobs you can take, you want the ones that earns the most, regardless of how long they take.","body":"&quot;The maximum reward with the minimum of effort&quot; is ambiguous, because you can maximize only one of these at a time. Made most clear by this sentence: &quot;because if I could take only one job out of the two, I will chose to earn 1200 instead of 1000.&quot; If the only constraint is the number of jobs you can take, you want the ones that earns the most, regardless of how long they take."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661258013,"creation_date":1661254086,"answer_id":73457888,"question_id":73451813,"body_markdown":"&lt;h1&gt;Use the Power of Objects&lt;/h1&gt;\r\n\r\nFirstly, you need an object `Task`, attempts to maintain values of *rewards* and *hours* separately are error-prone and not viable.\r\n\r\nIrregardless of this particular problem, it&#39;s not justifiable to store separately values which make sense only as a whole. They should constitute an object.\r\n\r\nHence, you need to create a `class`, or a Java 16 [`record`](https://docs.oracle.com/en/java/javase/18/language/records.html). I&#39;ll go with the latter, because this option far is more concise.\r\n\r\n```\r\npublic record Task(String createdBy, int reward, int hours) {}\r\n```\r\n\r\n&lt;h1&gt;Choosing a Data structure&lt;/h1&gt;\r\n\r\nNow, let&#39;s get back to the actual problem.\r\n\r\nWe need a data structure which would allow to consume these *tasks* in sorted order. For that purpose, we can use either a [*Red-black tree*](https://en.wikipedia.org/wiki/Red%E2%80%93black_tree) (represented with a `TreeSet` class in the JDK), or a [*Heap*](https://en.wikipedia.org/wiki/Heap_(data_structure)) (represented with a `PriorityQueue` class in the JDK).\r\n\r\nFrom the performance perspective, maintaining a *Heap* is less constful than maintaining a *Red-black tree*.\r\n\r\nAnd using a *Heap* also fits very well in the nature of *tasks*. Once a *task* is consumed it can&#39;t be useful anymore, hence there&#39;s no need to store it. And with a *Max-Heap* (a *Heap* where all elements are lower or equal to the *root-element*) to access the maximum element we need to have a look at its *root*. And in order to find the next maximum element we need to remove the current *root*.\r\n\r\nHence, [`PriorityQueue`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html#method-summary) would be an optimal choice.\r\n\r\n&lt;h1&gt;Implementation&lt;/h1&gt;\r\n\r\nWhile instantiating `PriorityQueue` to make it capable to dial with our objects, they either need to implement `Comparable` interface, or we need to provide a `Comparator`.\r\n\r\nI&#39;ll go with the second option because I don&#39;t feel `Task` has a *natural order* (the only sorted order which make sense for the object), because we might want to sort them differently.\r\n\r\nSince Java 8 the recommended way to implement a `Comparator` is by using [static methods](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#method-summary) of this interface. Each of these methods like `comparing()` and `comparingInt()` returns a `Comparator` and we can chain them in a fluent way in order to create a *comparator* based on the multiple conditions.\r\n\r\nHere&#39;s how it can be implemented using `PriorityQueue`:\r\n```\r\nQueue&lt;Task&gt; tasks = new PriorityQueue&lt;&gt;(\r\n    Comparator.comparingInt(Task::reward)                      // the first sorting criterion - Reward\r\n        .thenComparing(Task::hours, Comparator.reverseOrder()) // the second sorting criterion - Hours in Reversed Order\r\n        .reversed()                                            // we need the whole thing in Descending order - from Max to Min\r\n);\r\n        \r\nCollections.addAll(tasks,\r\n    new Task(&quot;Alice&quot;, 500, 10),\r\n    new Task(&quot;Bob&quot;, 2000, 3),\r\n    new Task(&quot;Charlie&quot;, 100, 1),\r\n    new Task(&quot;David&quot;, 1000, 20),\r\n    new Task(&quot;Elsa&quot;, 1200, 60),\r\n    new Task(&quot;Franck&quot;, 400, 5),\r\n    new Task(&quot;Grace&quot;, 400, 6)\r\n);\r\n        \r\nwhile (!tasks.isEmpty()) {\r\n    // your Logic for consuming a Task goes here:\r\n    Task next = tasks.remove();\r\n    System.out.println(next);\r\n}\r\n```\r\n*Output:*\r\n```\r\nTask[createdBy=Bob, reward=2000, hours=3]\r\nTask[createdBy=Elsa, reward=1200, hours=60]\r\nTask[createdBy=David, reward=1000, hours=20]\r\nTask[createdBy=Alice, reward=500, hours=10]\r\nTask[createdBy=Franck, reward=400, hours=5]\r\nTask[createdBy=Grace, reward=400, hours=6]\r\nTask[createdBy=Charlie, reward=100, hours=1]\r\n```","title":"Data Structure for choosing a Task having Max Reward and requiring Min amount of Time","body":"<h1>Use the Power of Objects</h1>\n<p>Firstly, you need an object <code>Task</code>, attempts to maintain values of <em>rewards</em> and <em>hours</em> separately are error-prone and not viable.</p>\n<p>Irregardless of this particular problem, it's not justifiable to store separately values which make sense only as a whole. They should constitute an object.</p>\n<p>Hence, you need to create a <code>class</code>, or a Java 16 <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a>. I'll go with the latter, because this option far is more concise.</p>\n<pre><code>public record Task(String createdBy, int reward, int hours) {}\n</code></pre>\n<h1>Choosing a Data structure</h1>\n<p>Now, let's get back to the actual problem.</p>\n<p>We need a data structure which would allow to consume these <em>tasks</em> in sorted order. For that purpose, we can use either a <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow noreferrer\"><em>Red-black tree</em></a> (represented with a <code>TreeSet</code> class in the JDK), or a <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\"><em>Heap</em></a> (represented with a <code>PriorityQueue</code> class in the JDK).</p>\n<p>From the performance perspective, maintaining a <em>Heap</em> is less constful than maintaining a <em>Red-black tree</em>.</p>\n<p>And using a <em>Heap</em> also fits very well in the nature of <em>tasks</em>. Once a <em>task</em> is consumed it can't be useful anymore, hence there's no need to store it. And with a <em>Max-Heap</em> (a <em>Heap</em> where all elements are lower or equal to the <em>root-element</em>) to access the maximum element we need to have a look at its <em>root</em>. And in order to find the next maximum element we need to remove the current <em>root</em>.</p>\n<p>Hence, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html#method-summary\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> would be an optimal choice.</p>\n<h1>Implementation</h1>\n<p>While instantiating <code>PriorityQueue</code> to make it capable to dial with our objects, they either need to implement <code>Comparable</code> interface, or we need to provide a <code>Comparator</code>.</p>\n<p>I'll go with the second option because I don't feel <code>Task</code> has a <em>natural order</em> (the only sorted order which make sense for the object), because we might want to sort them differently.</p>\n<p>Since Java 8 the recommended way to implement a <code>Comparator</code> is by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#method-summary\" rel=\"nofollow noreferrer\">static methods</a> of this interface. Each of these methods like <code>comparing()</code> and <code>comparingInt()</code> returns a <code>Comparator</code> and we can chain them in a fluent way in order to create a <em>comparator</em> based on the multiple conditions.</p>\n<p>Here's how it can be implemented using <code>PriorityQueue</code>:</p>\n<pre><code>Queue&lt;Task&gt; tasks = new PriorityQueue&lt;&gt;(\n    Comparator.comparingInt(Task::reward)                      // the first sorting criterion - Reward\n        .thenComparing(Task::hours, Comparator.reverseOrder()) // the second sorting criterion - Hours in Reversed Order\n        .reversed()                                            // we need the whole thing in Descending order - from Max to Min\n);\n        \nCollections.addAll(tasks,\n    new Task(&quot;Alice&quot;, 500, 10),\n    new Task(&quot;Bob&quot;, 2000, 3),\n    new Task(&quot;Charlie&quot;, 100, 1),\n    new Task(&quot;David&quot;, 1000, 20),\n    new Task(&quot;Elsa&quot;, 1200, 60),\n    new Task(&quot;Franck&quot;, 400, 5),\n    new Task(&quot;Grace&quot;, 400, 6)\n);\n        \nwhile (!tasks.isEmpty()) {\n    // your Logic for consuming a Task goes here:\n    Task next = tasks.remove();\n    System.out.println(next);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Task[createdBy=Bob, reward=2000, hours=3]\nTask[createdBy=Elsa, reward=1200, hours=60]\nTask[createdBy=David, reward=1000, hours=20]\nTask[createdBy=Alice, reward=500, hours=10]\nTask[createdBy=Franck, reward=400, hours=5]\nTask[createdBy=Grace, reward=400, hours=6]\nTask[createdBy=Charlie, reward=100, hours=1]\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73457888,"answer_count":1,"score":1,"last_activity_date":1661258013,"creation_date":1661209591,"question_id":73451813,"body_markdown":"Small question regarding a *Data structure* which would allow to choose a *Task* having the *maximum rewards* and with the *minimum amount of time* (when *rewards* of several *tasks* are equal).\r\n\r\nConsidering a case when I have the following Tasks:\r\n\r\n- Task Alice, will earn me `500`, I need to spend `10` hours.\r\n- Task Bob, will earn me `2000`, I need to spend `3` hours.\r\n- Task Charlie, will earn me `100`, I need to spend `1` hour.\r\n- Task David, will earn me `1000`, I need to spend `20` hours.\r\n- Task Elsa, will earn me `1200`, I need to spend `60` hours.\r\n- Task Franck, will earn me `400`, I need to spend `5` hours.\r\n- Task Grace, will earn me `400`, I need to spend `6` hours.\r\n\r\nIs it possible to get a data structure which will have this result:\r\n\r\n```\r\n2000 | 3\r\n1200 | 60\r\n1000 | 20\r\n 500 | 10\r\n 400 | 5\r\n 400 | 6\r\n 100 | 1 \r\n```\r\n\r\nExplanation: \r\n\r\n***Note:*** I can&#39;t retake a task once it is done.\r\n\r\nAs you can see with tasks Franck and Grace, which both earn 400, for respectively 5 hours of work and 6 hours of work. 400 | 5 comes first, because if I could only do one job out of the two (earn 400) I would chose task F, since it will take me less to earn the same.\r\n\r\nNow between task David 1000 | 20 and Elsa, 1200 | 60, even if task D earn technically 50 per hour, and task E only earn 20 per hour, I would still chose task E 1200 | 60, because if I could take only one job out of the two, I will chose to earn 1200 instead of 1000.\r\n\r\nMy question: what is the best data structure in Java to represent this please?\r\n\r\n*I&#39;ve tried:*\r\n\r\n* `HashMap`:\r\n\r\nUnfortunately, `HashMap` isn&#39;t sorted, and in order to decide which jobs to take, I need to build one for loop to find the maximum, and if I find multiple, to loop again on the values to get the minimum.\r\n\r\n* Two `PriorityQueue`s.\r\n\r\nWhile one queue will order properly the earning, and one will order properly the hours, I will end up with\r\n```\r\nQ1 = [2000, 1200, 1000, 500, 400, 400, 100]\r\nQ2 = `[1, 3, 5, 6, 10, 20, 60]\r\n```\r\nI lose all relationship and &quot;mapping&quot; between the two, making searches ineffective.\r\n\r\nWhat would be the best way to find a Task with the *max reward* and the *min of amount of time* (for *tasks* with equal *rewards*)?\r\n\r\nP.S. From the comments, it seems this looks like a leetcode question or homework, but it is not, I am just trying to find what is the best data structure to tackle this problem.","title":"Data Structure for choosing a Task having Max Reward and requiring Min amount of Time","body":"<p>Small question regarding a <em>Data structure</em> which would allow to choose a <em>Task</em> having the <em>maximum rewards</em> and with the <em>minimum amount of time</em> (when <em>rewards</em> of several <em>tasks</em> are equal).</p>\n<p>Considering a case when I have the following Tasks:</p>\n<ul>\n<li>Task Alice, will earn me <code>500</code>, I need to spend <code>10</code> hours.</li>\n<li>Task Bob, will earn me <code>2000</code>, I need to spend <code>3</code> hours.</li>\n<li>Task Charlie, will earn me <code>100</code>, I need to spend <code>1</code> hour.</li>\n<li>Task David, will earn me <code>1000</code>, I need to spend <code>20</code> hours.</li>\n<li>Task Elsa, will earn me <code>1200</code>, I need to spend <code>60</code> hours.</li>\n<li>Task Franck, will earn me <code>400</code>, I need to spend <code>5</code> hours.</li>\n<li>Task Grace, will earn me <code>400</code>, I need to spend <code>6</code> hours.</li>\n</ul>\n<p>Is it possible to get a data structure which will have this result:</p>\n<pre><code>2000 | 3\n1200 | 60\n1000 | 20\n 500 | 10\n 400 | 5\n 400 | 6\n 100 | 1 \n</code></pre>\n<p>Explanation:</p>\n<p><em><strong>Note:</strong></em> I can't retake a task once it is done.</p>\n<p>As you can see with tasks Franck and Grace, which both earn 400, for respectively 5 hours of work and 6 hours of work. 400 | 5 comes first, because if I could only do one job out of the two (earn 400) I would chose task F, since it will take me less to earn the same.</p>\n<p>Now between task David 1000 | 20 and Elsa, 1200 | 60, even if task D earn technically 50 per hour, and task E only earn 20 per hour, I would still chose task E 1200 | 60, because if I could take only one job out of the two, I will chose to earn 1200 instead of 1000.</p>\n<p>My question: what is the best data structure in Java to represent this please?</p>\n<p><em>I've tried:</em></p>\n<ul>\n<li><code>HashMap</code>:</li>\n</ul>\n<p>Unfortunately, <code>HashMap</code> isn't sorted, and in order to decide which jobs to take, I need to build one for loop to find the maximum, and if I find multiple, to loop again on the values to get the minimum.</p>\n<ul>\n<li>Two <code>PriorityQueue</code>s.</li>\n</ul>\n<p>While one queue will order properly the earning, and one will order properly the hours, I will end up with</p>\n<pre><code>Q1 = [2000, 1200, 1000, 500, 400, 400, 100]\nQ2 = `[1, 3, 5, 6, 10, 20, 60]\n</code></pre>\n<p>I lose all relationship and &quot;mapping&quot; between the two, making searches ineffective.</p>\n<p>What would be the best way to find a Task with the <em>max reward</em> and the <em>min of amount of time</em> (for <em>tasks</em> with equal <em>rewards</em>)?</p>\n<p>P.S. From the comments, it seems this looks like a leetcode question or homework, but it is not, I am just trying to find what is the best data structure to tackle this problem.</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":0,"creation_date":1501168043,"post_id":45354502,"comment_id":77670651,"body_markdown":"add a space after like and start with :?","body":"add a space after like and start with :?"}],"answers":[{"tags":[],"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501169761,"creation_date":1501168017,"answer_id":45354630,"question_id":45354502,"body_markdown":"I think the problem is coming from your binding. As in the examples here: http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\r\n\r\nYou probably want to do something like: `pStmt.setString(short_name);`","title":"prepared statement missing bind variable within a LIKE clause","body":"<p>I think the problem is coming from your binding. As in the examples here: <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a></p>\n\n<p>You probably want to do something like: <code>pStmt.setString(short_name);</code></p>\n"},{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501171075,"creation_date":1501171075,"answer_id":45355707,"question_id":45354502,"body_markdown":"The doesn&#39;t work because `?` used in `&#39;%?%&#39;` is part of a string, it&#39;s not its own bind variable, instead you would need to do the following:\r\n\r\n&lt;!-- syntax: java --&gt;\r\n\r\n    selectLikeShortnameStmt = cassandraDatasource.getSession().prepare(&quot;select id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team from counterparty where short_name like ?&quot;);\r\n    PreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\r\n    BoundStatement bStmt = pStmt.bind(&quot;%&quot; + short_name + &quot;%&quot;);\r\n","title":"prepared statement missing bind variable within a LIKE clause","body":"<p>The doesn't work because <code>?</code> used in <code>'%?%'</code> is part of a string, it's not its own bind variable, instead you would need to do the following:</p>\n\n\n\n<pre><code>selectLikeShortnameStmt = cassandraDatasource.getSession().prepare(\"select id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team from counterparty where short_name like ?\");\nPreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\nBoundStatement bStmt = pStmt.bind(\"%\" + short_name + \"%\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1501398421,"creation_date":1501398421,"answer_id":45397284,"question_id":45354502,"body_markdown":"The above post worked fine for straightforward PreparedStatement with bind variable but I had another similar issue. I am using the Apache Lucerne index builder for more complex queries ie. ranges with an index definition like:\r\n    \r\n    CREATE CUSTOM INDEX counterparty_column_index ON counterparty (filter_column)\r\n    USING &#39;com.stratio.cassandra.lucene.Index&#39;\r\n    WITH OPTIONS = {\r\n        &#39;schema&#39; : &#39;{\r\n            fields : {\r\n            controlling_team     : {type : &quot;text&quot;, analyzer : &quot;english&quot;},\r\n            relationship_manager : {type : &quot;text&quot;, analyzer : &quot;english&quot;},\r\n            review_date          : {type : &quot;date&quot;, pattern : &quot;dd-MM-yyyy&quot;}\r\n            }\r\n        }&#39;\r\n    };\r\n\r\nand the statement defined as :\r\n\r\n     \tlog.info(&quot;CounterpartyStatement [selectByReviewDateAndTeamStmt]&quot;);\r\n    \tselectByReviewDateAndTeamStmt\t\t=  cassandraDatasource.getSession().prepare(&quot; select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, &quot; +\r\n\t\t\t\t\t\t\t\t                &quot; country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity &quot; +\r\n\t\t\t\t\t\t\t\t                &quot; from counterparty where filter_column = &#39;{ &quot; \r\n                                                             + &quot; filter : {type:\\&quot;range\\&quot;, field:\\&quot;review_date\\&quot;, lower:\\&quot;01-01-2000\\&quot;, upper:\\&quot;%s\\&quot;},&quot;\r\n                                                             + &quot; query : {type:\\&quot;contains\\&quot;, field:\\&quot;controlling_team\\&quot;, values:[\\&quot;%s\\&quot;]},&quot;\r\n                                                             + &quot; refresh:true&quot;\r\n                                                             + &quot; }&#39;&quot;);   \r\n\r\nThis formatting was necessary because the standard PreparedStatement bind was not picking up the usual ? placeholders.\r\n\r\nThe code then became:\r\n\r\n    log.info(&quot;CounterpartyDAO.getRmCounterpartiesForReview [&quot; + rm + &quot;]&quot;);\r\n\t\tPreparedStatement pStmt = statementFactory.getSelectByReviewDateAndRmStmt();\r\n\t\t\r\n\t\tString query = pStmt.getQueryString();\r\n\t\tDate maxDate = dateUtils.addDays( dateUtils.getToday(), 3);\r\n\t\tString maxDateString = dateUtils.getAnyDate(maxDate, &quot;dd-MM-yyyy&quot;);\r\n\t\tquery = String.format( query, maxDateString, rm );\r\n\r\n\t\tResultSet rs = cassandraDatasource.getSession().execute( query );\r\n\r\nwhich also worked fine, the dateUtils is just a package I wrote for manipulating dates etc.","title":"prepared statement missing bind variable within a LIKE clause","body":"<p>The above post worked fine for straightforward PreparedStatement with bind variable but I had another similar issue. I am using the Apache Lucerne index builder for more complex queries ie. ranges with an index definition like:</p>\n\n<pre><code>CREATE CUSTOM INDEX counterparty_column_index ON counterparty (filter_column)\nUSING 'com.stratio.cassandra.lucene.Index'\nWITH OPTIONS = {\n    'schema' : '{\n        fields : {\n        controlling_team     : {type : \"text\", analyzer : \"english\"},\n        relationship_manager : {type : \"text\", analyzer : \"english\"},\n        review_date          : {type : \"date\", pattern : \"dd-MM-yyyy\"}\n        }\n    }'\n};\n</code></pre>\n\n<p>and the statement defined as :</p>\n\n<pre><code>    log.info(\"CounterpartyStatement [selectByReviewDateAndTeamStmt]\");\n    selectByReviewDateAndTeamStmt       =  cassandraDatasource.getSession().prepare(\" select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, \" +\n                                            \" country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity \" +\n                                            \" from counterparty where filter_column = '{ \" \n                                                         + \" filter : {type:\\\"range\\\", field:\\\"review_date\\\", lower:\\\"01-01-2000\\\", upper:\\\"%s\\\"},\"\n                                                         + \" query : {type:\\\"contains\\\", field:\\\"controlling_team\\\", values:[\\\"%s\\\"]},\"\n                                                         + \" refresh:true\"\n                                                         + \" }'\");   \n</code></pre>\n\n<p>This formatting was necessary because the standard PreparedStatement bind was not picking up the usual ? placeholders.</p>\n\n<p>The code then became:</p>\n\n<pre><code>log.info(\"CounterpartyDAO.getRmCounterpartiesForReview [\" + rm + \"]\");\n    PreparedStatement pStmt = statementFactory.getSelectByReviewDateAndRmStmt();\n\n    String query = pStmt.getQueryString();\n    Date maxDate = dateUtils.addDays( dateUtils.getToday(), 3);\n    String maxDateString = dateUtils.getAnyDate(maxDate, \"dd-MM-yyyy\");\n    query = String.format( query, maxDateString, rm );\n\n    ResultSet rs = cassandraDatasource.getSession().execute( query );\n</code></pre>\n\n<p>which also worked fine, the dateUtils is just a package I wrote for manipulating dates etc.</p>\n"}],"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45397284,"answer_count":3,"score":0,"last_activity_date":1661257938,"creation_date":1501167662,"question_id":45354502,"body_markdown":"I have a prepared statement defined as:\r\n\r\n\r\n    selectLikeShortnameStmt\t= cassandraDatasource.getSession().prepare(&quot; select  id,\r\n         parent_id, ultimate_parent_id, internal_ref, short_name,\r\n         long_name, controlling_team from counterparty where short_name like&#39;%?%&#39;&quot;);\r\n\r\nbut when I try to use this in the DAO like:\r\n\r\n    PreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\r\n    BoundStatement bStmt = pStmt.bind( short_name );\r\n\r\nI get an error saying the Prepared statement has no bind variables.\r\nTo implement the like clause I am using the SASI index functionality ie:\r\n\r\n    CREATE CUSTOM INDEX short_name_like_index ON counterparty (short_name)\r\n    USING &#39;org.apache.cassandra.index.sasi.SASIIndex&#39;\r\n    WITH OPTIONS = { &#39;mode&#39;: &#39;CONTAINS&#39; };\r\n","title":"prepared statement missing bind variable within a LIKE clause","body":"<p>I have a prepared statement defined as:</p>\n\n<pre><code>selectLikeShortnameStmt = cassandraDatasource.getSession().prepare(\" select  id,\n     parent_id, ultimate_parent_id, internal_ref, short_name,\n     long_name, controlling_team from counterparty where short_name like'%?%'\");\n</code></pre>\n\n<p>but when I try to use this in the DAO like:</p>\n\n<pre><code>PreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\nBoundStatement bStmt = pStmt.bind( short_name );\n</code></pre>\n\n<p>I get an error saying the Prepared statement has no bind variables.\nTo implement the like clause I am using the SASI index functionality ie:</p>\n\n<pre><code>CREATE CUSTOM INDEX short_name_like_index ON counterparty (short_name)\nUSING 'org.apache.cassandra.index.sasi.SASIIndex'\nWITH OPTIONS = { 'mode': 'CONTAINS' };\n</code></pre>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1501398748,"post_id":45397300,"comment_id":77755291,"body_markdown":"Please add the complete class you are trying to serialize and the complete error stack trace.","body":"Please add the complete class you are trying to serialize and the complete error stack trace."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1501402274,"post_id":45397300,"comment_id":77756066,"body_markdown":"Why is it a data member at all? It should be a local variable.","body":"Why is it a data member at all? It should be a local variable."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501399154,"creation_date":1501399154,"answer_id":45397359,"question_id":45397300,"body_markdown":"If you use plain Cassandra (without Spring Data), you should use the [`com.datastax.driver.mapping.annotations.@Transient` annotation][1] :\r\n\r\n&gt; Whenever this annotation is added on a field, the field will not be\r\n&gt; mapped to any column (neither during reads nor writes).\r\n\r\n    import com.datastax.driver.mapping.annotations.Transient;\r\n    ...\r\n    @Transient\r\n    private PreparedStatement selectAssetClassStmt;\r\n\r\nNot directly the matter but why do you declare a `PreparedStatement` field ?&lt;br&gt;\r\nIt should not be required, it is error prone and it could result to unexpected behavior as you don&#39;t know its state when you will use it later.&lt;br&gt;\r\n\r\nThe `PreparedStatement` variable  should just be a local variable which the lifespan is a method that does an access to the database.\r\n\r\n\r\n  [1]: http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/mapping/annotations/Transient.html","title":"DefaultPreparedStatement not serializable","body":"<p>If you use plain Cassandra (without Spring Data), you should use the <a href=\"http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/mapping/annotations/Transient.html\" rel=\"nofollow noreferrer\"><code>com.datastax.driver.mapping.annotations.@Transient</code> annotation</a> :</p>\n\n<blockquote>\n  <p>Whenever this annotation is added on a field, the field will not be\n  mapped to any column (neither during reads nor writes).</p>\n</blockquote>\n\n<pre><code>import com.datastax.driver.mapping.annotations.Transient;\n...\n@Transient\nprivate PreparedStatement selectAssetClassStmt;\n</code></pre>\n\n<p>Not directly the matter but why do you declare a <code>PreparedStatement</code> field ?<br>\nIt should not be required, it is error prone and it could result to unexpected behavior as you don't know its state when you will use it later.<br></p>\n\n<p>The <code>PreparedStatement</code> variable  should just be a local variable which the lifespan is a method that does an access to the database.</p>\n"}],"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1501418300,"accepted_answer_id":45397359,"answer_count":1,"score":0,"last_activity_date":1661257813,"creation_date":1501398655,"question_id":45397300,"body_markdown":"I am building a webapp using Datastax driver and Cassandra 3.10, when I deploy to Tomcat and start it up I get an error stating that:\r\n\r\n    Caused by: java.io.NotSerializableException: com.datastax.driver.core.DefaultPreparedStatement\r\n\r\neven though I do not use that anywhere in the code, all of my Prepared Statements are of the form:\r\n\r\n    private transient PreparedStatement \tselectAssetClassStmt;\r\n    selectAllAssetClassesStmt = cassandraDatasource.getSession().prepare(&quot;select code,description from  asset_class where code = ?&quot;);","title":"DefaultPreparedStatement not serializable","body":"<p>I am building a webapp using Datastax driver and Cassandra 3.10, when I deploy to Tomcat and start it up I get an error stating that:</p>\n\n<pre><code>Caused by: java.io.NotSerializableException: com.datastax.driver.core.DefaultPreparedStatement\n</code></pre>\n\n<p>even though I do not use that anywhere in the code, all of my Prepared Statements are of the form:</p>\n\n<pre><code>private transient PreparedStatement     selectAssetClassStmt;\nselectAllAssetClassesStmt = cassandraDatasource.getSession().prepare(\"select code,description from  asset_class where code = ?\");\n</code></pre>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"score":0,"creation_date":1502888745,"post_id":45501785,"comment_id":78386845,"body_markdown":"In an attempt to narrow the field I have reworked the code so all DAO objects use the PreparedStatement structure as in the first example rather than using  a query string as in the second example but it makes no difference. Looking at the javadoc, DefaultPreparedStatement is the only class that implements the PreparedStatement interface  but no mention of it being Serializable is made.","body":"In an attempt to narrow the field I have reworked the code so all DAO objects use the PreparedStatement structure as in the first example rather than using  a query string as in the second example but it makes no difference. Looking at the javadoc, DefaultPreparedStatement is the only class that implements the PreparedStatement interface  but no mention of it being Serializable is made."}],"answers":[{"tags":[],"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503056879,"creation_date":1503056879,"answer_id":45755940,"question_id":45501785,"body_markdown":"As DefaultPreparedStatement is the only class implementing the interface PreparedStatement and it does NOT implement the Serializable interface there appears to be no option other than to disable session persistance in Tomcat, this can be achieved by editing the context.xml in the tomcat conf directory","title":"DefaultPreparedStatement not serializable when starting Tomcat","body":"<p>As DefaultPreparedStatement is the only class implementing the interface PreparedStatement and it does NOT implement the Serializable interface there appears to be no option other than to disable session persistance in Tomcat, this can be achieved by editing the context.xml in the tomcat conf directory</p>\n"}],"owner":{"account_id":11132054,"reputation":35,"user_id":8171756,"accept_rate":60,"display_name":"simteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661257667,"creation_date":1501835148,"question_id":45501785,"body_markdown":"I am using Cassandra 3.10, Datastax driver 3.1.4 and Apache Lucerne index builder and Spring 4.3.2 to build a webapp to run in Tomcat 7.0.57.\r\nI prepare all of my PreparedStatements into a Spring Singleton StatementFactory like:\r\n\r\n    selectLikeShortnameStmt\t= cassandraDatasource.getSession().prepare(&quot; select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, &quot; +\r\n\t\t\t\t\t\t\t\t\t                &quot; country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity &quot; +\r\n\t\t\t\t\t\t\t\t\t                &quot; from counterparty where short_name like ?&quot;);\r\n\r\nand\r\n\r\n    selectByReviewDateAndRmQuery\t\t= &quot; select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, &quot; +\r\n\t\t\t\t\t\t\t\t                &quot; country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity &quot; +\r\n\t\t\t\t\t\t\t\t                &quot; from counterparty where filter_column = &#39;{ &quot; \r\n\t\t\t\t\t\t\t\t                             + &quot; filter : {type:\\&quot;range\\&quot;, field:\\&quot;review_date\\&quot;, lower:\\&quot;01-01-2000\\&quot;, upper: \\&quot;%s\\&quot; },&quot;\r\n\t\t\t\t\t\t\t\t                             + &quot; query : {type:\\&quot;contains\\&quot;, field:\\&quot;relationship_manager\\&quot;, values:[ \\&quot;%s\\&quot; ]},&quot;\r\n\t\t\t\t\t\t\t\t                             + &quot; refresh:true&quot;\r\n\t\t\t\t\t\t\t\t                             + &quot; }&#39;&quot;;\r\n\r\nIn the first example the simple BIND method can be used but for the second example, the bind method states that there are no bind variables defined so I use the String.format method however when I start Tomcat I get an error stating DefaultPreparedStatement is not serializable:\r\n\r\n    Caused by: java.io.NotSerializableException: com.datastax.driver.core.DefaultPreparedStatement\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat java.util.HashMap.internalWriteEntries(HashMap.java:1785)\r\n\tat java.util.HashMap.writeObject(HashMap.java:1362)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat java.util.HashMap.internalWriteEntries(HashMap.java:1785)\r\n\tat java.util.HashMap.writeObject(HashMap.java:1362)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat java.util.LinkedHashMap.internalWriteEntries(LinkedHashMap.java:333)\r\n\tat java.util.HashMap.writeObject(HashMap.java:1362)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:441)\r\n\tat java.util.Collections$SynchronizedMap.writeObject(Collections.java:2691)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat org.apache.catalina.session.StandardSession.writeObject(StandardSession.java:1695)\r\n\tat org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1101)\r\n\tat org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:430)\r\n\tat org.apache.catalina.session.StandardManager.unload(StandardManager.java:351)\r\n\tat org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:516)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5683)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)\r\n\tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)\r\n\t... 4 more\r\n\r\n**Although the code does not use DefaultPreparedStatement at all.**\r\n\r\nIn the DAO objects these are examples:\r\n\r\n    PreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\r\n\t\tBoundStatement bStmt = pStmt.bind( &quot;%&quot; + name + &quot;%&quot; );\r\n\t\tResultSet rs = cassandraDatasource.getSession().execute( bStmt );\r\n\r\nand\r\n\r\n    String query = statementFactory.getSelectByReviewDateAndTeamQuery();\r\n\r\n\t\tquery = String.format( query, upperDate, controllingTeamCode );\r\n\r\n\t\tResultSet rs = cassandraDatasource.getSession().execute( query );","title":"DefaultPreparedStatement not serializable when starting Tomcat","body":"<p>I am using Cassandra 3.10, Datastax driver 3.1.4 and Apache Lucerne index builder and Spring 4.3.2 to build a webapp to run in Tomcat 7.0.57.\nI prepare all of my PreparedStatements into a Spring Singleton StatementFactory like:</p>\n\n<pre><code>selectLikeShortnameStmt = cassandraDatasource.getSession().prepare(\" select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, \" +\n                                                \" country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity \" +\n                                                \" from counterparty where short_name like ?\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>selectByReviewDateAndRmQuery        = \" select  id, parent_id, ultimate_parent_id, internal_ref, short_name, long_name, controlling_team, \" +\n                                            \" country_incorp, country_operate, company_reg, relationship_manager, credit_rating, rating_source, pd, lgd, review_date, sector, defaulted, own_bank_entity \" +\n                                            \" from counterparty where filter_column = '{ \" \n                                                         + \" filter : {type:\\\"range\\\", field:\\\"review_date\\\", lower:\\\"01-01-2000\\\", upper: \\\"%s\\\" },\"\n                                                         + \" query : {type:\\\"contains\\\", field:\\\"relationship_manager\\\", values:[ \\\"%s\\\" ]},\"\n                                                         + \" refresh:true\"\n                                                         + \" }'\";\n</code></pre>\n\n<p>In the first example the simple BIND method can be used but for the second example, the bind method states that there are no bind variables defined so I use the String.format method however when I start Tomcat I get an error stating DefaultPreparedStatement is not serializable:</p>\n\n<pre><code>Caused by: java.io.NotSerializableException: com.datastax.driver.core.DefaultPreparedStatement\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\nat java.util.HashMap.internalWriteEntries(HashMap.java:1785)\nat java.util.HashMap.writeObject(HashMap.java:1362)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\nat java.util.HashMap.internalWriteEntries(HashMap.java:1785)\nat java.util.HashMap.writeObject(HashMap.java:1362)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\nat java.util.LinkedHashMap.internalWriteEntries(LinkedHashMap.java:333)\nat java.util.HashMap.writeObject(HashMap.java:1362)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\nat java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:441)\nat java.util.Collections$SynchronizedMap.writeObject(Collections.java:2691)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\nat org.apache.catalina.session.StandardSession.writeObject(StandardSession.java:1695)\nat org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1101)\nat org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:430)\nat org.apache.catalina.session.StandardManager.unload(StandardManager.java:351)\nat org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:516)\nat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\nat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5683)\nat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\nat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)\nat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)\n... 4 more\n</code></pre>\n\n<p><strong>Although the code does not use DefaultPreparedStatement at all.</strong></p>\n\n<p>In the DAO objects these are examples:</p>\n\n<pre><code>PreparedStatement pStmt = statementFactory.getSelectLikeShortnameStmt();\n    BoundStatement bStmt = pStmt.bind( \"%\" + name + \"%\" );\n    ResultSet rs = cassandraDatasource.getSession().execute( bStmt );\n</code></pre>\n\n<p>and</p>\n\n<pre><code>String query = statementFactory.getSelectByReviewDateAndTeamQuery();\n\n    query = String.format( query, upperDate, controllingTeamCode );\n\n    ResultSet rs = cassandraDatasource.getSession().execute( query );\n</code></pre>\n"},{"tags":["java","process","console","wait","processbuilder"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1429528560,"post_id":29746304,"comment_id":47624855,"body_markdown":"I&#39;m quoting the docs: &quot;*Causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated.*&quot;.","body":"I&#39;m quoting the docs: &quot;<i>Causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated.</i>&quot;."},{"owner":{"account_id":162312,"reputation":2475,"user_id":383688,"accept_rate":100,"display_name":"MockerTim"},"score":0,"creation_date":1514467583,"post_id":29746304,"comment_id":82984845,"body_markdown":"Have a look at [when-runtime-exec---won-t](https://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html). There is a good description of the `Process.waitFor()` use cases.","body":"Have a look at <a href=\"https://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">when-runtime-exec---won-t</a>. There is a good description of the <code>Process.waitFor()</code> use cases."}],"answers":[{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1429529394,"creation_date":1429528947,"answer_id":29746496,"question_id":29746304,"body_markdown":"Your current execution thread will be blocked on `process.waitFor()` until process is terminated (i.e. execution finished). \r\nSource [here][1]\r\n\r\nAlso note that if process is already terminated : waitFor() will not be blocked. I don&#39;t know if the code you put in your question is exactly what you run... but you must be careful and re-create a new instance of Process for every execution of your script (i.e. not just calling start multiple times on the same Process: it won&#39;t work after first execution)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor--","title":"ProcessBuilder and Process.waitFor(), how long does it wait?","body":"<p>Your current execution thread will be blocked on <code>process.waitFor()</code> until process is terminated (i.e. execution finished). \nSource <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#waitFor--\" rel=\"noreferrer\">here</a></p>\n\n<p>Also note that if process is already terminated : waitFor() will not be blocked. I don't know if the code you put in your question is exactly what you run... but you must be careful and re-create a new instance of Process for every execution of your script (i.e. not just calling start multiple times on the same Process: it won't work after first execution)</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1661257488,"creation_date":1429529673,"answer_id":29746740,"question_id":29746304,"body_markdown":"It will wait till the process is finished. Workaround:\r\n\r\n1 Use ```isAlive()```\r\n\r\n2 Use ```waitFor(long timeout, TimeUnit unit)``` (Only 1.8)","title":"ProcessBuilder and Process.waitFor(), how long does it wait?","body":"<p>It will wait till the process is finished. Workaround:</p>\n<p>1 Use <code>isAlive()</code></p>\n<p>2 Use <code>waitFor(long timeout, TimeUnit unit)</code> (Only 1.8)</p>\n"},{"tags":[],"owner":{"account_id":8051307,"reputation":93,"user_id":6069741,"display_name":"Dorleeze"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461241010,"creation_date":1461234809,"answer_id":36766930,"question_id":29746304,"body_markdown":"Additionally, If there are outputs in the &quot;commands&quot;. you should read the standard output and standard error output by `stream(process.getErrorStream())` and `process.getInputStream())`.If not and output or error output be full, the `waitfor()` would be hanged.","title":"ProcessBuilder and Process.waitFor(), how long does it wait?","body":"<p>Additionally, If there are outputs in the \"commands\". you should read the standard output and standard error output by <code>stream(process.getErrorStream())</code> and <code>process.getInputStream())</code>.If not and output or error output be full, the <code>waitfor()</code> would be hanged.</p>\n"}],"owner":{"account_id":4906648,"reputation":698,"user_id":3953199,"accept_rate":89,"display_name":"KJaeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37977,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":29746496,"answer_count":3,"score":20,"last_activity_date":1661257488,"creation_date":1429528436,"question_id":29746304,"body_markdown":"I am executing an .exe-file from java, using the [ProcessBuilder][1] class and the [Process][2] class. To explain what I am doing:\r\n\r\n \r\n\r\n\t builder = new ProcessBuilder(commands);\r\n\t builder.redirectErrorStream(true);\r\n\t Process process = builder.start();\r\n\t process.waitFor();\r\n\r\nI just wanted to know, for how long is &quot;waitFor()&quot; waiting? Is it waiting until my .exe is executed, or is it waiting till its execution is finished?\r\n\r\nMy .exe is a compiled AutoIt-script. That means, that there could be interactions like mouse movements, which take some time. \r\nSo I need to know if my Java-code execution goes on after calling the .exe or if it is really waiting for it. \r\n\r\nWhat I want to achieve is the rotational execution of two scripts, but I&#39;m afraid, that my Java code is executing the second script while the first one is still running.\r\nHas anyone a workaround for this? I am glad for any ideas.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html","title":"ProcessBuilder and Process.waitFor(), how long does it wait?","body":"<p>I am executing an .exe-file from java, using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">ProcessBuilder</a> class and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"noreferrer\">Process</a> class. To explain what I am doing:</p>\n\n<pre><code> builder = new ProcessBuilder(commands);\n builder.redirectErrorStream(true);\n Process process = builder.start();\n process.waitFor();\n</code></pre>\n\n<p>I just wanted to know, for how long is \"waitFor()\" waiting? Is it waiting until my .exe is executed, or is it waiting till its execution is finished?</p>\n\n<p>My .exe is a compiled AutoIt-script. That means, that there could be interactions like mouse movements, which take some time. \nSo I need to know if my Java-code execution goes on after calling the .exe or if it is really waiting for it. </p>\n\n<p>What I want to achieve is the rotational execution of two scripts, but I'm afraid, that my Java code is executing the second script while the first one is still running.\nHas anyone a workaround for this? I am glad for any ideas.</p>\n"},{"tags":["java","eclipse","opencv"],"comments":[{"owner":{"account_id":14520228,"reputation":347,"user_id":10488096,"display_name":"Deepak Jain"},"score":0,"creation_date":1582072715,"post_id":60291070,"comment_id":106648586,"body_markdown":"Can you refer this one\nhttps://stackoverflow.com/questions/33198101/build-java-application-that-uses-opencv-portable","body":"Can you refer this one <a href=\"https://stackoverflow.com/questions/33198101/build-java-application-that-uses-opencv-portable\" title=\"build java application that uses opencv portable\">stackoverflow.com/questions/33198101/&hellip;</a>"},{"owner":{"account_id":14749380,"reputation":11,"user_id":10651897,"display_name":"Ramon"},"score":0,"creation_date":1582098017,"post_id":60291070,"comment_id":106655045,"body_markdown":"I have tried a lot of the &quot;solutions&quot; in there Deepak Jain, unfortunately none worked.","body":"I have tried a lot of the &quot;solutions&quot; in there Deepak Jain, unfortunately none worked."}],"answers":[{"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582089988,"creation_date":1582089988,"answer_id":60293591,"question_id":60291070,"body_markdown":"It could be .classpath issue. Try following steps\r\n\r\n - Delete Project from Eclipse **don&#39;t delete content from disk**. \r\n - remove .classpath and .project files\r\n - re-import project in Eclipse","title":"java.lang.ClassNotFoundException - Eclipse with OpenCV","body":"<p>It could be .classpath issue. Try following steps</p>\n\n<ul>\n<li>Delete Project from Eclipse <strong>don't delete content from disk</strong>. </li>\n<li>remove .classpath and .project files</li>\n<li>re-import project in Eclipse</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26139026,"reputation":1,"user_id":19828673,"display_name":"nel23 FX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661257173,"creation_date":1661257173,"answer_id":73458621,"question_id":60291070,"body_markdown":"I have the same problem, maybe you have already found your answer but as it is the first result of my web research I want to offer a solution to the others : \r\n\r\n\r\nJust add the opencv_xxx.jar to the project classpath as external class. and it will work fine. (in Menu project -&gt; properties -&gt; java build path -&gt; libraries tab -&gt; classpath-&gt; add  external class folder button)\r\n\r\nHope it help many of you","title":"java.lang.ClassNotFoundException - Eclipse with OpenCV","body":"<p>I have the same problem, maybe you have already found your answer but as it is the first result of my web research I want to offer a solution to the others :</p>\n<p>Just add the opencv_xxx.jar to the project classpath as external class. and it will work fine. (in Menu project -&gt; properties -&gt; java build path -&gt; libraries tab -&gt; classpath-&gt; add  external class folder button)</p>\n<p>Hope it help many of you</p>\n"}],"owner":{"account_id":14749380,"reputation":11,"user_id":10651897,"display_name":"Ramon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661257173,"creation_date":1582069861,"question_id":60291070,"body_markdown":"When I run my below code I get the below error, but it worked before and I am not sure what Eclipse got and is not good anymore\r\n\r\n**Error: Unable to initialize main class src.convolution\r\nCaused by: java.lang.NoClassDefFoundError: org/opencv/core/Mat**\r\n\r\n\r\n    package src;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    public class convolution {\r\n       public static void main( String[] args ) {\r\n       \r\n          try {\r\n             int kernelSize = 9;\r\n             System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\r\n             \r\n             Mat source = Imgcodecs.imread(&quot;C:/Users/B &amp; B/Desktop/ProcIMG/grayscale.jpg&quot;, Imgcodecs.IMREAD_GRAYSCALE);\r\n             Mat destination = new Mat(source.rows(),source.cols(),source.type());\r\n             \r\n             Mat kernel = new Mat(kernelSize,kernelSize, CvType.CV_32F){\r\n                {\r\n                   put(0,0,-3);\r\n                   put(0,1,-3);\r\n                   put(0,2,-3);\r\n          \r\n                   put(1,0-3);\r\n                   put(1,1,0);\r\n                   put(1,2,-3);\r\n    \r\n                   put(2,0,5);\r\n                   put(2,1,5);\r\n                   put(2,2,5);\r\n                }\r\n             };\t      \r\n             \r\n             Imgproc.filter2D(source, destination, -1, kernel);\r\n             Imgcodecs.imwrite(&quot;C:/Users/B &amp; B/Desktop/ProcIMG/output.jpg&quot;, destination);\r\n             \r\n          } catch (Exception e) {\r\n             System.out.println(&quot;Error: &quot; + e.getMessage());\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"java.lang.ClassNotFoundException - Eclipse with OpenCV","body":"<p>When I run my below code I get the below error, but it worked before and I am not sure what Eclipse got and is not good anymore</p>\n\n<p><strong>Error: Unable to initialize main class src.convolution\nCaused by: java.lang.NoClassDefFoundError: org/opencv/core/Mat</strong></p>\n\n<pre><code>package src;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\n\npublic class convolution {\n   public static void main( String[] args ) {\n\n      try {\n         int kernelSize = 9;\n         System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\n\n         Mat source = Imgcodecs.imread(\"C:/Users/B &amp; B/Desktop/ProcIMG/grayscale.jpg\", Imgcodecs.IMREAD_GRAYSCALE);\n         Mat destination = new Mat(source.rows(),source.cols(),source.type());\n\n         Mat kernel = new Mat(kernelSize,kernelSize, CvType.CV_32F){\n            {\n               put(0,0,-3);\n               put(0,1,-3);\n               put(0,2,-3);\n\n               put(1,0-3);\n               put(1,1,0);\n               put(1,2,-3);\n\n               put(2,0,5);\n               put(2,1,5);\n               put(2,2,5);\n            }\n         };       \n\n         Imgproc.filter2D(source, destination, -1, kernel);\n         Imgcodecs.imwrite(\"C:/Users/B &amp; B/Desktop/ProcIMG/output.jpg\", destination);\n\n      } catch (Exception e) {\n         System.out.println(\"Error: \" + e.getMessage());\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","grpc","wiremock","spring-cloud-contract"],"comments":[{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1661249541,"post_id":73454640,"comment_id":129721178,"body_markdown":"Can you update the question with an example of a contract?","body":"Can you update the question with an example of a contract?"},{"owner":{"account_id":12657877,"reputation":86,"user_id":9199819,"display_name":"Felix"},"score":0,"creation_date":1661256883,"post_id":73454640,"comment_id":129723997,"body_markdown":"I&#39;ve updated the post by providing the contract. Strangely, this error does not appear anymore after I restarted my machine. However, I now get an error from gRPC saying that it &quot;Received unexpected EOS on empty DATA frame from server&quot;. This might be caused by the fact that the method from the gRPC service returns a stream (therefore, the response is an iterator of the response protobuf message). Is there a way to define such stream-responses in a contract? @MarcinGrzejszczak","body":"I&#39;ve updated the post by providing the contract. Strangely, this error does not appear anymore after I restarted my machine. However, I now get an error from gRPC saying that it &quot;Received unexpected EOS on empty DATA frame from server&quot;. This might be caused by the fact that the method from the gRPC service returns a stream (therefore, the response is an iterator of the response protobuf message). Is there a way to define such stream-responses in a contract? @MarcinGrzejszczak"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1661263139,"post_id":73454640,"comment_id":129726940,"body_markdown":"Nope, AFAIR we don&#39;t support streaming","body":"Nope, AFAIR we don&#39;t support streaming"},{"owner":{"account_id":12657877,"reputation":86,"user_id":9199819,"display_name":"Felix"},"score":0,"creation_date":1661324020,"post_id":73454640,"comment_id":129741362,"body_markdown":"Thanks for the fast response! Do you think that there is a workaround for that? Because I would want to retrieve multiple responses from the generated stub when sending a request. @MarcinGrzejszczak","body":"Thanks for the fast response! Do you think that there is a workaround for that? Because I would want to retrieve multiple responses from the generated stub when sending a request. @MarcinGrzejszczak"},{"owner":{"account_id":1662914,"reputation":332,"user_id":1530849,"display_name":"talipkorkmaz"},"score":0,"creation_date":1671636175,"post_id":73454640,"comment_id":132141948,"body_markdown":"Im getting &quot;Received unexpected EOS on empty DATA frame from server &quot; exception after wiremock returns the response. Felix could you find a solution for this problem ?","body":"Im getting &quot;Received unexpected EOS on empty DATA frame from server &quot; exception after wiremock returns the response. Felix could you find a solution for this problem ?"}],"owner":{"account_id":12657877,"reputation":86,"user_id":9199819,"display_name":"Felix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661256422,"creation_date":1661239359,"question_id":73454640,"body_markdown":"I am currently trying to build a contract testing test suite using Spring Cloud Contract. I need to test the integration between two services which communicate via gRPC and Protocol Buffers. Therefore, I am using the gRPC feature provided by Spring Cloud Contract (see [here][1]). I followed along the code provided in the [example repository][2] (see *producer_grpc* and *consumer_grpc*). The producer side should work fine since the stub is generated and can be used via the *stub-runner*. However, if I try to implement a test on the consumer side which should send a request to the stub, the stub throws a Wiremock error:\r\n```\r\n2022-08-23 08:40:23.211 ERROR [WireMock] \r\n                                               Request was not matched\r\n                                               =======================\r\n\r\n---------------------------------------------------------------------------------------------\r\n| Closest stub                                             | Request                        |\r\n---------------------------------------------------------------------------------------------\r\n                                                           |\r\nPOST                                                       | POST\r\n/service/method                                            | /service/method\r\n                                                           |\r\nContent-Type [matches] : application/grpc.*                | Content-Type: application/grpc\r\nte: trailers                                               | te: trailers\r\n                                                           |\r\nAAAAGz0AAAAbOAAAABszEqYhWwogIHsKICAgICJAdHlwZSI6ICJRRUZpb  | [B@1a1a8bcc                                         \r\nHRlclBpcGUiLAogICAgImZpbHRlckV4cHIiOiB7CiAgICAgICJAdHlwZS  | &lt;&lt;&lt;&lt;&lt; Body does not match\r\nI6ICJFeHByRnVuY3Rpb24iLAogICAgICAiZnVuY3Rpb24iOiB7CiAgICA  |\r\n...more base64 code...                                     |\r\n```\r\n\r\nNote: I use the exact same protobuf message for this request as the one which was defined in the contract. Therefore, it should also return the response defined in the contract. Unfortunately, it is hard figure out what the difference between these two payloads is, since the left side is represented in base64 format while on the right side I just get the default toString method from a byte array.\r\n\r\nThe code on the consumer side looks like that (most parts were taken from [here][3]):\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, \r\nclasses = ConsumerTest.TestConfiguration.class,\r\n    properties = {\r\n        &quot;grpc.client.myGrpcService.address=static://localhost:5433&quot;,\r\n        &quot;grpc.client.myGrpcService.negotiationType=TLS&quot;\r\n    })\r\npublic class ConsumerTest {\r\n\r\n  @GrpcClient(value = &quot;myGrpcService&quot;, interceptorNames = &quot;fixedStatusSendingClientInterceptor&quot;)\r\n  MyGrpcServiceGrpc.MyGrpcServiceBlockingStub blockingStub;\r\n\r\n  int port;\r\n\r\n  @RegisterExtension\r\n  static StubRunnerExtension rule = new StubRunnerExtension()\r\n      .downloadStub(&quot;mygroupid&quot;, &quot;myartifactid&quot;, &quot;0.0.0&quot;, &quot;stubs&quot;)\r\n      .stubsMode(StubRunnerProperties.StubsMode.LOCAL)\r\n      .withHttpServerStubConfigurer(MyWireMockConfigurer.class);\r\n\r\n  @BeforeEach\r\n  public void setupPort() {\r\n    this.port = rule.findStubUrl(&quot;mygroupid&quot;, &quot;myartifactid&quot;).getPort();\r\n  }\r\n\r\n  @Test\r\n  void initialTest() {\r\n    MyProtoMessage request = MyProtoMessage.newBuilder()\r\n        [...]\r\n        .build();\r\n\r\n    Iterator&lt;MyResponse&gt; iterator = blockingStub.myMethod(request);\r\n    // no element found, since the request does not match\r\n    MyResponse current = iterator.next();\r\n  }\r\n\r\n  static class MyWireMockConfigurer extends WireMockHttpServerStubConfigurer {\r\n    @Override\r\n    public WireMockConfiguration configure(WireMockConfiguration httpStubConfiguration,\r\n        HttpServerStubConfiguration httpServerStubConfiguration) {\r\n      return httpStubConfiguration.dynamicHttpsPort()\r\n          .httpsPort(5433);\r\n    }\r\n  }\r\n\r\n\r\n  @Configuration\r\n  @ImportAutoConfiguration(GrpcClientAutoConfiguration.class)\r\n  static class TestConfiguration {\r\n\r\n    @Bean\r\n    public GrpcChannelConfigurer keepAliveClientConfigurer() {\r\n      return (channelBuilder, name) -&gt; {\r\n        if (channelBuilder instanceof NettyChannelBuilder) {\r\n          try {\r\n            ((NettyChannelBuilder) channelBuilder)\r\n                .useTransportSecurity()\r\n                .negotiationType(NegotiationType.TLS)\r\n                .sslContext(GrpcSslContexts.forClient()\r\n                    .trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n                    .build());\r\n          } catch (SSLException e) {\r\n            throw new IllegalStateException(e);\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n    @Bean\r\n    ClientInterceptor fixedStatusSendingClientInterceptor() {\r\n      return new ClientInterceptor() {\r\n        @Override\r\n        public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method,\r\n            CallOptions callOptions, Channel next) {\r\n          ClientCall&lt;ReqT, RespT&gt; call = next.newCall(method, callOptions);\r\n          return new ClientCall&lt;ReqT, RespT&gt;() {\r\n            @Override\r\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\r\n              Listener&lt;RespT&gt; listener = new Listener&lt;RespT&gt;() {\r\n                @Override\r\n                public void onHeaders(Metadata headers) {\r\n                  responseListener.onHeaders(headers);\r\n                }\r\n\r\n                @Override\r\n                public void onMessage(RespT message) {\r\n                  responseListener.onMessage(message);\r\n                }\r\n\r\n                @Override\r\n                public void onClose(Status status, Metadata trailers) {\r\n                  responseListener.onClose(Status.OK, trailers);\r\n                }\r\n\r\n                @Override\r\n                public void onReady() {\r\n                  responseListener.onReady();\r\n                }\r\n              };\r\n              call.start(listener, headers);\r\n            }\r\n\r\n            @Override\r\n            public void request(int numMessages) {\r\n              call.request(numMessages);\r\n            }\r\n\r\n            @Override\r\n            public void cancel(@Nullable String message, @Nullable Throwable cause) {\r\n              call.cancel(message, cause);\r\n            }\r\n\r\n            @Override\r\n            public void halfClose() {\r\n              call.halfClose();\r\n            }\r\n\r\n            @Override\r\n            public void sendMessage(ReqT message) {\r\n              call.sendMessage(message);\r\n            }\r\n          };\r\n        }\r\n      };\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe contract looks like this:\r\n```\r\npackage contracts\r\n\r\nimport org.springframework.cloud.contract.spec.Contract\r\nimport org.springframework.cloud.contract.verifier.http.ContractVerifierHttpMetaData\r\n\r\nContract.make {\r\n  description(&quot;Contract Test&quot;)\r\n  request {\r\n    method &#39;POST&#39;\r\n    url &#39;/service/method&#39;\r\n    body(fileAsBytes(&quot;request.bin&quot;))\r\n    headers {\r\n      contentType(&quot;application/grpc&quot;)\r\n      header(&quot;te&quot;, &quot;trailers&quot;)\r\n    }\r\n  }\r\n  response {\r\n    status 200\r\n    body(value(producer($(anyNonEmptyString())), consumer(fileAsBytes(&quot;response.bin&quot;))))\r\n    headers {\r\n      contentType(&quot;application/grpc&quot;)\r\n      header(&quot;grpc-encoding&quot;, &quot;identity&quot;)\r\n      header(&quot;grpc-accept-encoding&quot;, &quot;gzip&quot;)\r\n    }\r\n  }\r\n  metadata([\r\n    &quot;verifierHttp&quot;: [\r\n      &quot;protocol&quot;: ContractVerifierHttpMetaData.Protocol.H2_PRIOR_KNOWLEDGE.toString()\r\n    ]\r\n  ])\r\n}\r\n```\r\n\r\n\r\nSo the question would be: What do I need to do in order to match the request of the stub (which is defined in the contract)? Am I missing something when using the stub?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#features-grpc\r\n  [2]: https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/\r\n  [3]: https://github.com/spring-cloud-samples/spring-cloud-contract-samples/blob/main/consumer_grpc/src/test/java/com/example/GrpcTests.java","title":"Request was not matched by Wiremock stub which was generated by Spring Cloud Contract","body":"<p>I am currently trying to build a contract testing test suite using Spring Cloud Contract. I need to test the integration between two services which communicate via gRPC and Protocol Buffers. Therefore, I am using the gRPC feature provided by Spring Cloud Contract (see <a href=\"https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#features-grpc\" rel=\"nofollow noreferrer\">here</a>). I followed along the code provided in the <a href=\"https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/\" rel=\"nofollow noreferrer\">example repository</a> (see <em>producer_grpc</em> and <em>consumer_grpc</em>). The producer side should work fine since the stub is generated and can be used via the <em>stub-runner</em>. However, if I try to implement a test on the consumer side which should send a request to the stub, the stub throws a Wiremock error:</p>\n<pre><code>2022-08-23 08:40:23.211 ERROR [WireMock] \n                                               Request was not matched\n                                               =======================\n\n---------------------------------------------------------------------------------------------\n| Closest stub                                             | Request                        |\n---------------------------------------------------------------------------------------------\n                                                           |\nPOST                                                       | POST\n/service/method                                            | /service/method\n                                                           |\nContent-Type [matches] : application/grpc.*                | Content-Type: application/grpc\nte: trailers                                               | te: trailers\n                                                           |\nAAAAGz0AAAAbOAAAABszEqYhWwogIHsKICAgICJAdHlwZSI6ICJRRUZpb  | [B@1a1a8bcc                                         \nHRlclBpcGUiLAogICAgImZpbHRlckV4cHIiOiB7CiAgICAgICJAdHlwZS  | &lt;&lt;&lt;&lt;&lt; Body does not match\nI6ICJFeHByRnVuY3Rpb24iLAogICAgICAiZnVuY3Rpb24iOiB7CiAgICA  |\n...more base64 code...                                     |\n</code></pre>\n<p>Note: I use the exact same protobuf message for this request as the one which was defined in the contract. Therefore, it should also return the response defined in the contract. Unfortunately, it is hard figure out what the difference between these two payloads is, since the left side is represented in base64 format while on the right side I just get the default toString method from a byte array.</p>\n<p>The code on the consumer side looks like that (most parts were taken from <a href=\"https://github.com/spring-cloud-samples/spring-cloud-contract-samples/blob/main/consumer_grpc/src/test/java/com/example/GrpcTests.java\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, \nclasses = ConsumerTest.TestConfiguration.class,\n    properties = {\n        &quot;grpc.client.myGrpcService.address=static://localhost:5433&quot;,\n        &quot;grpc.client.myGrpcService.negotiationType=TLS&quot;\n    })\npublic class ConsumerTest {\n\n  @GrpcClient(value = &quot;myGrpcService&quot;, interceptorNames = &quot;fixedStatusSendingClientInterceptor&quot;)\n  MyGrpcServiceGrpc.MyGrpcServiceBlockingStub blockingStub;\n\n  int port;\n\n  @RegisterExtension\n  static StubRunnerExtension rule = new StubRunnerExtension()\n      .downloadStub(&quot;mygroupid&quot;, &quot;myartifactid&quot;, &quot;0.0.0&quot;, &quot;stubs&quot;)\n      .stubsMode(StubRunnerProperties.StubsMode.LOCAL)\n      .withHttpServerStubConfigurer(MyWireMockConfigurer.class);\n\n  @BeforeEach\n  public void setupPort() {\n    this.port = rule.findStubUrl(&quot;mygroupid&quot;, &quot;myartifactid&quot;).getPort();\n  }\n\n  @Test\n  void initialTest() {\n    MyProtoMessage request = MyProtoMessage.newBuilder()\n        [...]\n        .build();\n\n    Iterator&lt;MyResponse&gt; iterator = blockingStub.myMethod(request);\n    // no element found, since the request does not match\n    MyResponse current = iterator.next();\n  }\n\n  static class MyWireMockConfigurer extends WireMockHttpServerStubConfigurer {\n    @Override\n    public WireMockConfiguration configure(WireMockConfiguration httpStubConfiguration,\n        HttpServerStubConfiguration httpServerStubConfiguration) {\n      return httpStubConfiguration.dynamicHttpsPort()\n          .httpsPort(5433);\n    }\n  }\n\n\n  @Configuration\n  @ImportAutoConfiguration(GrpcClientAutoConfiguration.class)\n  static class TestConfiguration {\n\n    @Bean\n    public GrpcChannelConfigurer keepAliveClientConfigurer() {\n      return (channelBuilder, name) -&gt; {\n        if (channelBuilder instanceof NettyChannelBuilder) {\n          try {\n            ((NettyChannelBuilder) channelBuilder)\n                .useTransportSecurity()\n                .negotiationType(NegotiationType.TLS)\n                .sslContext(GrpcSslContexts.forClient()\n                    .trustManager(InsecureTrustManagerFactory.INSTANCE)\n                    .build());\n          } catch (SSLException e) {\n            throw new IllegalStateException(e);\n          }\n        }\n      };\n    }\n\n    @Bean\n    ClientInterceptor fixedStatusSendingClientInterceptor() {\n      return new ClientInterceptor() {\n        @Override\n        public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method,\n            CallOptions callOptions, Channel next) {\n          ClientCall&lt;ReqT, RespT&gt; call = next.newCall(method, callOptions);\n          return new ClientCall&lt;ReqT, RespT&gt;() {\n            @Override\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\n              Listener&lt;RespT&gt; listener = new Listener&lt;RespT&gt;() {\n                @Override\n                public void onHeaders(Metadata headers) {\n                  responseListener.onHeaders(headers);\n                }\n\n                @Override\n                public void onMessage(RespT message) {\n                  responseListener.onMessage(message);\n                }\n\n                @Override\n                public void onClose(Status status, Metadata trailers) {\n                  responseListener.onClose(Status.OK, trailers);\n                }\n\n                @Override\n                public void onReady() {\n                  responseListener.onReady();\n                }\n              };\n              call.start(listener, headers);\n            }\n\n            @Override\n            public void request(int numMessages) {\n              call.request(numMessages);\n            }\n\n            @Override\n            public void cancel(@Nullable String message, @Nullable Throwable cause) {\n              call.cancel(message, cause);\n            }\n\n            @Override\n            public void halfClose() {\n              call.halfClose();\n            }\n\n            @Override\n            public void sendMessage(ReqT message) {\n              call.sendMessage(message);\n            }\n          };\n        }\n      };\n    }\n  }\n}\n</code></pre>\n<p>The contract looks like this:</p>\n<pre><code>package contracts\n\nimport org.springframework.cloud.contract.spec.Contract\nimport org.springframework.cloud.contract.verifier.http.ContractVerifierHttpMetaData\n\nContract.make {\n  description(&quot;Contract Test&quot;)\n  request {\n    method 'POST'\n    url '/service/method'\n    body(fileAsBytes(&quot;request.bin&quot;))\n    headers {\n      contentType(&quot;application/grpc&quot;)\n      header(&quot;te&quot;, &quot;trailers&quot;)\n    }\n  }\n  response {\n    status 200\n    body(value(producer($(anyNonEmptyString())), consumer(fileAsBytes(&quot;response.bin&quot;))))\n    headers {\n      contentType(&quot;application/grpc&quot;)\n      header(&quot;grpc-encoding&quot;, &quot;identity&quot;)\n      header(&quot;grpc-accept-encoding&quot;, &quot;gzip&quot;)\n    }\n  }\n  metadata([\n    &quot;verifierHttp&quot;: [\n      &quot;protocol&quot;: ContractVerifierHttpMetaData.Protocol.H2_PRIOR_KNOWLEDGE.toString()\n    ]\n  ])\n}\n</code></pre>\n<p>So the question would be: What do I need to do in order to match the request of the stub (which is defined in the contract)? Am I missing something when using the stub?</p>\n"},{"tags":["java","spring-boot","testing","junit4"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661252478,"creation_date":1661252478,"answer_id":73457538,"question_id":73457336,"body_markdown":"Have you tried to put `@RunWith(MockitoJUnitRunner.class)`/`@ExtendsWith(MockitoExtension.class)` over your test class?","title":"Test fails on a null pointer exception when I use @InjectMocks","body":"<p>Have you tried to put <code>@RunWith(MockitoJUnitRunner.class)</code>/<code>@ExtendsWith(MockitoExtension.class)</code> over your test class?</p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661256231,"creation_date":1661256231,"answer_id":73458405,"question_id":73457336,"body_markdown":"The problem is that you created mock object for the mapper, but you didn&#39;t say what should happen when the method `vendorToVendorDTO` is called.\r\nTherefore, when that method is called in the next line of code:\r\n\r\n    VendorDTO vendorDTO = vendorMapper.vendorToVendorDTO(vendor);\r\n\r\n\r\nIt will return null, and then in this line of code:\r\n\r\n    vendorDTO.setVendorUrl(&quot;/api/v1/vendors/&quot; + vendor.getId());\r\n\r\nYou will get `NullPointerException`.\r\n\r\nTo make this work, change your `getAllVendors()` method as follows:\r\n\r\n      @Test\r\n        public void getAllVendors() {\r\n            //given\r\n            List&lt;Vendor&gt; vendors = Arrays.asList(new Vendor(), new Vendor(), new Vendor());\r\n            VendorDTO mockDto = mock(VendorDTO.class);\r\n            when(vendorRepository.findAll()).thenReturn(vendors);\r\n            when(vendorMapper.vendorToVendorDTO(any(Vendor.class))).thenReturn(mockDto);\r\n            //when\r\n            List&lt;VendorDTO&gt; vendorDTOList = vendorService.getAllVendors();\r\n    \r\n            //then\r\n            assertEquals(3, vendorDTOList.size());\r\n        }\r\n\r\nAnd the test should pass.","title":"Test fails on a null pointer exception when I use @InjectMocks","body":"<p>The problem is that you created mock object for the mapper, but you didn't say what should happen when the method <code>vendorToVendorDTO</code> is called.\nTherefore, when that method is called in the next line of code:</p>\n<pre><code>VendorDTO vendorDTO = vendorMapper.vendorToVendorDTO(vendor);\n</code></pre>\n<p>It will return null, and then in this line of code:</p>\n<pre><code>vendorDTO.setVendorUrl(&quot;/api/v1/vendors/&quot; + vendor.getId());\n</code></pre>\n<p>You will get <code>NullPointerException</code>.</p>\n<p>To make this work, change your <code>getAllVendors()</code> method as follows:</p>\n<pre><code>  @Test\n    public void getAllVendors() {\n        //given\n        List&lt;Vendor&gt; vendors = Arrays.asList(new Vendor(), new Vendor(), new Vendor());\n        VendorDTO mockDto = mock(VendorDTO.class);\n        when(vendorRepository.findAll()).thenReturn(vendors);\n        when(vendorMapper.vendorToVendorDTO(any(Vendor.class))).thenReturn(mockDto);\n        //when\n        List&lt;VendorDTO&gt; vendorDTOList = vendorService.getAllVendors();\n\n        //then\n        assertEquals(3, vendorDTOList.size());\n    }\n</code></pre>\n<p>And the test should pass.</p>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661256231,"creation_date":1661251587,"question_id":73457336,"body_markdown":"I am practising restful api endpoints using https://api.predic8.de/shop/docs\r\n\r\nHere is my [repo][1]\r\n\r\nI am getting a NPE failure when I try to use @InjectMocks during my TDD approach\r\n\r\nHowever, I can make my test pass when I make a direct call in the `setup()`\r\n\r\n    vendorService = new VendorServiceImpl(VendorMapper.INSTANCE, vendorRepository);\r\n\r\nI wanted to extend my learning by trying to create an endpoint for getting all vendors.\r\n\r\nWhen I employ TDD along the way, but, my test `getAllVendors()` fails on a NPE when I try to use `@InjectMocks` but passes when I substitute it for a direct call in the `setup()` method.\r\n\r\nThe NPE is linked to the mapper class I think.\r\n\r\nHere are the classes that I believe are useful. VendorServiceTest, VendorServiceImpl, VendorMapper.\r\n\r\nI have commented out the direct call in the setup as I want to get the test passing using `@InjectMocks`\r\n\r\n&gt; package guru.springfamework.services;\r\n&gt; \r\n&gt; import guru.springfamework.api.v1.mapper.VendorMapper; import\r\n&gt; guru.springfamework.api.v1.model.VendorDTO; import\r\n&gt; guru.springfamework.domain.Vendor; import\r\n&gt; guru.springfamework.repositories.VendorRepository; import\r\n&gt; org.junit.Before; import org.junit.Test; import\r\n&gt; org.mockito.InjectMocks; import org.mockito.Mock; import\r\n&gt; org.mockito.MockitoAnnotations; import\r\n&gt; org.springframework.test.web.servlet.MockMvc;\r\n&gt; \r\n&gt; import java.util.Arrays; import java.util.List;\r\n&gt; \r\n&gt; import static org.junit.Assert.*; import static\r\n&gt; org.mockito.Mockito.when;\r\n&gt; \r\n&gt; public class VendorServiceTest {\r\n\r\n    public static final String NAME = &quot;Tasty&quot;;\r\n    public static final Long ID = 1L;\r\n\r\n    @Mock\r\n    VendorMapper vendorMapper;\r\n\r\n    @Mock\r\n    VendorRepository vendorRepository;\r\n\r\n    @InjectMocks\r\n    VendorServiceImpl vendorService;\r\n\r\n    //VendorService vendorService;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n        //vendorService = new VendorServiceImpl(VendorMapper.INSTANCE, vendorRepository);\r\n    }\r\n\r\n    @Test\r\n    public void getAllVendors() {\r\n        //given\r\n        List&lt;Vendor&gt; vendors = Arrays.asList(new Vendor(), new Vendor(), new Vendor());\r\n\r\n        when(vendorRepository.findAll()).thenReturn(vendors);\r\n\r\n        //when\r\n        List&lt;VendorDTO&gt; vendorDTOList = vendorService.getAllVendors();\r\n\r\n        //then\r\n        assertEquals(3, vendorDTOList.size());\r\n    }\r\n\r\n    @Test\r\n    public void findByName() {\r\n    }\r\n\r\n\r\n}\r\n\r\n&gt; package guru.springfamework.services;\r\n&gt; \r\n&gt; import guru.springfamework.api.v1.mapper.VendorMapper; import\r\n&gt; guru.springfamework.api.v1.model.VendorDTO; import\r\n&gt; guru.springfamework.repositories.VendorRepository; import\r\n&gt; org.springframework.stereotype.Service;\r\n&gt; \r\n&gt; import java.util.List; import java.util.stream.Collectors;\r\n&gt; \r\n&gt; @Service public class VendorServiceImpl implements VendorService {\r\n\r\n    private final VendorMapper vendorMapper;\r\n    private final VendorRepository vendorRepository;\r\n\r\n    public VendorServiceImpl(VendorMapper vendorMapper, VendorRepository vendorRepository) {\r\n        this.vendorMapper = vendorMapper;\r\n        this.vendorRepository = vendorRepository;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;VendorDTO&gt; getAllVendors() {\r\n        return vendorRepository\r\n                .findAll()\r\n                .stream()\r\n                .map(vendor -&gt; {\r\n                    VendorDTO vendorDTO = vendorMapper.vendorToVendorDTO(vendor);\r\n                    vendorDTO.setVendorUrl(&quot;/api/v1/vendors/&quot; + vendor.getId());\r\n                    return vendorDTO;\r\n                })\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public VendorDTO findByName(String name) {\r\n        return vendorMapper.vendorToVendorDTO(vendorRepository.findByName(name));\r\n    }\r\n\r\n    @Override\r\n    public VendorDTO getVendorById(Long id) {\r\n        return vendorMapper.vendorToVendorDTO(vendorRepository.findById(id).orElseThrow(RuntimeException::new));\r\n    }\r\n}\r\n\r\n&gt; package guru.springfamework.api.v1.mapper;\r\n&gt; \r\n&gt; import guru.springfamework.api.v1.model.VendorDTO; import\r\n&gt; guru.springfamework.domain.Vendor; import org.mapstruct.Mapper; import\r\n&gt; org.mapstruct.factory.Mappers;\r\n&gt; \r\n&gt; @Mapper public interface VendorMapper {\r\n\r\n    VendorMapper INSTANCE = Mappers.getMapper(VendorMapper.class);\r\n\r\n    VendorDTO vendorToVendorDTO(Vendor vendor);\r\n}\r\n\r\n\r\nDoes anyone know where and why I am going wrong?\r\n\r\n\r\n  [1]: https://github.com/ciaranmckenna/spring5-mvc-rest/blob/master/src/test/java/guru/springfamework/services/VendorServiceTest.java","title":"Test fails on a null pointer exception when I use @InjectMocks","body":"<p>I am practising restful api endpoints using <a href=\"https://api.predic8.de/shop/docs\" rel=\"nofollow noreferrer\">https://api.predic8.de/shop/docs</a></p>\n<p>Here is my <a href=\"https://github.com/ciaranmckenna/spring5-mvc-rest/blob/master/src/test/java/guru/springfamework/services/VendorServiceTest.java\" rel=\"nofollow noreferrer\">repo</a></p>\n<p>I am getting a NPE failure when I try to use @InjectMocks during my TDD approach</p>\n<p>However, I can make my test pass when I make a direct call in the <code>setup()</code></p>\n<pre><code>vendorService = new VendorServiceImpl(VendorMapper.INSTANCE, vendorRepository);\n</code></pre>\n<p>I wanted to extend my learning by trying to create an endpoint for getting all vendors.</p>\n<p>When I employ TDD along the way, but, my test <code>getAllVendors()</code> fails on a NPE when I try to use <code>@InjectMocks</code> but passes when I substitute it for a direct call in the <code>setup()</code> method.</p>\n<p>The NPE is linked to the mapper class I think.</p>\n<p>Here are the classes that I believe are useful. VendorServiceTest, VendorServiceImpl, VendorMapper.</p>\n<p>I have commented out the direct call in the setup as I want to get the test passing using <code>@InjectMocks</code></p>\n<blockquote>\n<p>package guru.springfamework.services;</p>\n<p>import guru.springfamework.api.v1.mapper.VendorMapper; import\nguru.springfamework.api.v1.model.VendorDTO; import\nguru.springfamework.domain.Vendor; import\nguru.springfamework.repositories.VendorRepository; import\norg.junit.Before; import org.junit.Test; import\norg.mockito.InjectMocks; import org.mockito.Mock; import\norg.mockito.MockitoAnnotations; import\norg.springframework.test.web.servlet.MockMvc;</p>\n<p>import java.util.Arrays; import java.util.List;</p>\n<p>import static org.junit.Assert.*; import static\norg.mockito.Mockito.when;</p>\n<p>public class VendorServiceTest {</p>\n</blockquote>\n<pre><code>public static final String NAME = &quot;Tasty&quot;;\npublic static final Long ID = 1L;\n\n@Mock\nVendorMapper vendorMapper;\n\n@Mock\nVendorRepository vendorRepository;\n\n@InjectMocks\nVendorServiceImpl vendorService;\n\n//VendorService vendorService;\n\n@Before\npublic void setUp() throws Exception {\n    MockitoAnnotations.initMocks(this);\n    //vendorService = new VendorServiceImpl(VendorMapper.INSTANCE, vendorRepository);\n}\n\n@Test\npublic void getAllVendors() {\n    //given\n    List&lt;Vendor&gt; vendors = Arrays.asList(new Vendor(), new Vendor(), new Vendor());\n\n    when(vendorRepository.findAll()).thenReturn(vendors);\n\n    //when\n    List&lt;VendorDTO&gt; vendorDTOList = vendorService.getAllVendors();\n\n    //then\n    assertEquals(3, vendorDTOList.size());\n}\n\n@Test\npublic void findByName() {\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>package guru.springfamework.services;</p>\n<p>import guru.springfamework.api.v1.mapper.VendorMapper; import\nguru.springfamework.api.v1.model.VendorDTO; import\nguru.springfamework.repositories.VendorRepository; import\norg.springframework.stereotype.Service;</p>\n<p>import java.util.List; import java.util.stream.Collectors;</p>\n<p>@Service public class VendorServiceImpl implements VendorService {</p>\n</blockquote>\n<pre><code>private final VendorMapper vendorMapper;\nprivate final VendorRepository vendorRepository;\n\npublic VendorServiceImpl(VendorMapper vendorMapper, VendorRepository vendorRepository) {\n    this.vendorMapper = vendorMapper;\n    this.vendorRepository = vendorRepository;\n}\n\n@Override\npublic List&lt;VendorDTO&gt; getAllVendors() {\n    return vendorRepository\n            .findAll()\n            .stream()\n            .map(vendor -&gt; {\n                VendorDTO vendorDTO = vendorMapper.vendorToVendorDTO(vendor);\n                vendorDTO.setVendorUrl(&quot;/api/v1/vendors/&quot; + vendor.getId());\n                return vendorDTO;\n            })\n            .collect(Collectors.toList());\n}\n\n@Override\npublic VendorDTO findByName(String name) {\n    return vendorMapper.vendorToVendorDTO(vendorRepository.findByName(name));\n}\n\n@Override\npublic VendorDTO getVendorById(Long id) {\n    return vendorMapper.vendorToVendorDTO(vendorRepository.findById(id).orElseThrow(RuntimeException::new));\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>package guru.springfamework.api.v1.mapper;</p>\n<p>import guru.springfamework.api.v1.model.VendorDTO; import\nguru.springfamework.domain.Vendor; import org.mapstruct.Mapper; import\norg.mapstruct.factory.Mappers;</p>\n<p>@Mapper public interface VendorMapper {</p>\n</blockquote>\n<pre><code>VendorMapper INSTANCE = Mappers.getMapper(VendorMapper.class);\n\nVendorDTO vendorToVendorDTO(Vendor vendor);\n</code></pre>\n<p>}</p>\n<p>Does anyone know where and why I am going wrong?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7934148,"reputation":2972,"user_id":5990846,"display_name":"Jay"},"score":0,"creation_date":1627334909,"post_id":68536166,"comment_id":121124298,"body_markdown":"You should `Invalidate caches and restart` Android Studio from Menu bar. Once restarted, try syncing Project with gradle files - the elephant icon.","body":"You should <code>Invalidate caches and restart</code> Android Studio from Menu bar. Once restarted, try syncing Project with gradle files - the elephant icon."}],"answers":[{"tags":[],"owner":{"account_id":1753316,"reputation":3854,"user_id":1601909,"display_name":"DuncanSungWKim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661255009,"creation_date":1661255009,"answer_id":73458097,"question_id":68536166,"body_markdown":"Your Android Gradle Plugin might need to be upgraded to 7.\r\n\r\nWhen you start Android Studio, check the notification in the bottom-right corner that says &quot;Project Update recommended, Android Gradle Plugin can be updated.&quot; like the picture below.\r\n![][1]\r\n\r\nHit that blue &#39;updated&#39; text to start upgrading it.\r\n\r\n[1]: https://i.stack.imgur.com/vy4ek.png","title":"Android error: package android.* does not exist &gt; import android.os.Bundle;","body":"<p>Your Android Gradle Plugin might need to be upgraded to 7.</p>\n<p>When you start Android Studio, check the notification in the bottom-right corner that says &quot;Project Update recommended, Android Gradle Plugin can be updated.&quot; like the picture below.\n<img src=\"https://i.stack.imgur.com/vy4ek.png\" alt=\"\" /></p>\n<p>Hit that blue 'updated' text to start upgrading it.</p>\n"},{"tags":[],"owner":{"account_id":24741187,"reputation":83,"user_id":18627917,"display_name":"mjcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661256204,"creation_date":1661256204,"answer_id":73458400,"question_id":68536166,"body_markdown":"You probably have to download the new update if you don&#39;t have it.\r\n\r\nIf you can&#39;t find the notification like @DuncanSungWKim says, you can go to Settings &gt; Plugins &gt; Gradle Plugin and you would find the update button.\r\n\r\nIf after the update it still doesn&#39;t work, try changing the Java version from 11 to 1.11 since that happened to me. \r\n\r\nI hope this will work for you\r\n\r\n","title":"Android error: package android.* does not exist &gt; import android.os.Bundle;","body":"<p>You probably have to download the new update if you don't have it.</p>\n<p>If you can't find the notification like @DuncanSungWKim says, you can go to Settings &gt; Plugins &gt; Gradle Plugin and you would find the update button.</p>\n<p>If after the update it still doesn't work, try changing the Java version from 11 to 1.11 since that happened to me.</p>\n<p>I hope this will work for you</p>\n"}],"owner":{"account_id":22263566,"reputation":51,"user_id":16494696,"display_name":"Igorson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661256204,"creation_date":1627332479,"question_id":68536166,"body_markdown":"since I changed my project java version in build.gradle from 1_8 to 11 this error appears, do you know how can I repair it, and I really need this java version, so thanks in advance for your answear.","title":"Android error: package android.* does not exist &gt; import android.os.Bundle;","body":"<p>since I changed my project java version in build.gradle from 1_8 to 11 this error appears, do you know how can I repair it, and I really need this java version, so thanks in advance for your answear.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8902,"page":1090,"page_size":100}
